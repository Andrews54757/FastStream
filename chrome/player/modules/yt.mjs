/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var v0=Object.defineProperty;var o=(t,e)=>v0(t,"name",{value:e,configurable:!0});var Ee=(t,e)=>{for(var i in e)v0(t,i,{get:e[i],enumerable:!0})};function b0(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]]);return i}o(b0,"__rest");function y0(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}o(y0,"__setFunctionName");function I(t,e,i,r){function n(a){return a instanceof i?a:new i(function(c){c(a)})}return o(n,"adopt"),new(i||(i=Promise))(function(a,c){function p(x){try{_(r.next(x))}catch(g){c(g)}}o(p,"fulfilled");function f(x){try{_(r.throw(x))}catch(g){c(g)}}o(f,"rejected");function _(x){x.done?a(x.value):n(x.value).then(p,f)}o(_,"step"),_((r=r.apply(t,e||[])).next())})}o(I,"__awaiter");function g0(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],r=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}o(g0,"__values");function xi(t){return this instanceof xi?(this.v=t,this):new xi(t)}o(xi,"__await");function w0(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=i.apply(t,e||[]),n,a=[];return n={},c("next"),c("throw"),c("return"),n[Symbol.asyncIterator]=function(){return this},n;function c(y){r[y]&&(n[y]=function(b){return new Promise(function(N,V){a.push([y,b,N,V])>1||p(y,b)})})}function p(y,b){try{f(r[y](b))}catch(N){g(a[0][3],N)}}function f(y){y.value instanceof xi?Promise.resolve(y.value.v).then(_,x):g(a[0][2],y)}function _(y){p("next",y)}function x(y){p("throw",y)}function g(y,b){y(b),a.shift(),a.length&&p(a[0][0],a[0][1])}}o(w0,"__asyncGenerator");function T0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof g0=="function"?g0(t):t[Symbol.iterator](),i={},r("next"),r("throw"),r("return"),i[Symbol.asyncIterator]=function(){return this},i);function r(a){i[a]=t[a]&&function(c){return new Promise(function(p,f){c=t[a](c),n(p,f,c.done,c.value)})}}function n(a,c,p,f){Promise.resolve(f).then(function(_){a({value:_,done:p})},c)}}o(T0,"__asyncValues");function d(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)}o(d,"__classPrivateFieldGet");function k(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i}o(k,"__classPrivateFieldSet");var Lv={};Ee(Lv,{ChannelError:()=>to,InnertubeError:()=>w,MissingParamError:()=>Tf,OAuthError:()=>Bx,ParsingError:()=>Xe,Platform:()=>F,PlayerError:()=>Ke,SessionError:()=>mo,base64ToU8:()=>_v,concatMemos:()=>Av,debugFetch:()=>LI,deepCompare:()=>Df,escapeStringRegexp:()=>Jv,generateRandomString:()=>$i,generateSidAuth:()=>DI,getRandomUserAgent:()=>Ki,getStringBetweenStrings:()=>Oe,hasKeys:()=>OI,isTextRun:()=>De,streamToIterable:()=>jv,throwIfMissing:()=>Dx,timeToSeconds:()=>ye,u8ToBase64:()=>Ge});var nv={};Ee(nv,{Maybe:()=>gi,Memo:()=>jt,SuperParsedResult:()=>yt,YTNode:()=>s,observe:()=>re});var ov,I0,_e,ne,bt,Et,vi,k0=Symbol("ObservedArray.isObserved"),s=class{constructor(){ov.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>d(this,ov,"m",I0).call(this,i))}as(...e){if(!this.is(...e))throw new Xe(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new Xe(`Missing key ${e}`);return new gi(this[e])}};o(s,"YTNode");ov=new WeakSet,I0=o(function(e){return this.type===e.type},"_YTNode_is");s.type="YTNode";var gi=class{constructor(e){_e.add(this),ne.set(this,void 0),k(this,ne,e,"f")}get typeof(){return typeof d(this,ne,"f")}string(){return d(this,_e,"m",Et).call(this,"string")}isString(){return d(this,_e,"m",bt).call(this,"string")}number(){return d(this,_e,"m",Et).call(this,"number")}isNumber(){return d(this,_e,"m",bt).call(this,"number")}bigint(){return d(this,_e,"m",Et).call(this,"bigint")}isBigint(){return d(this,_e,"m",bt).call(this,"bigint")}boolean(){return d(this,_e,"m",Et).call(this,"boolean")}isBoolean(){return d(this,_e,"m",bt).call(this,"boolean")}symbol(){return d(this,_e,"m",Et).call(this,"symbol")}isSymbol(){return d(this,_e,"m",bt).call(this,"symbol")}undefined(){return d(this,_e,"m",Et).call(this,"undefined")}isUndefined(){return d(this,_e,"m",bt).call(this,"undefined")}null(){if(d(this,ne,"f")!==null)throw new TypeError(`Expected null, got ${typeof d(this,ne,"f")}`);return d(this,ne,"f")}isNull(){return d(this,ne,"f")===null}object(){return d(this,_e,"m",Et).call(this,"object")}isObject(){return d(this,_e,"m",bt).call(this,"object")}function(){return d(this,_e,"m",Et).call(this,"function")}isFunction(){return d(this,_e,"m",bt).call(this,"function")}array(){if(!Array.isArray(d(this,ne,"f")))throw new TypeError(`Expected array, got ${typeof d(this,ne,"f")}`);return d(this,ne,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,r){return Reflect.has(e,r)?Reflect.get(i,r):new gi(Reflect.get(i,r))}})}isArray(){return Array.isArray(d(this,ne,"f"))}node(){if(!(d(this,ne,"f")instanceof s))throw new TypeError(`Expected YTNode, got ${d(this,ne,"f").constructor.name}`);return d(this,ne,"f")}isNode(){return d(this,ne,"f")instanceof s}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof d(this,ne,"f")}`);return d(this,ne,"f")}isObserved(){var e;return(e=d(this,ne,"f"))===null||e===void 0?void 0:e[k0]}parsed(){if(!(d(this,ne,"f")instanceof yt))throw new TypeError(`Expected SuperParsedResult, got ${typeof d(this,ne,"f")}`);return d(this,ne,"f")}isParsed(){return d(this,ne,"f")instanceof yt}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),d(this,ne,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${d(this,ne,"f").constructor.name}`);return d(this,ne,"f")}isInstanceof(e){return d(this,ne,"f")instanceof e}};o(gi,"Maybe");ne=new WeakMap,_e=new WeakSet,bt=o(function(e){return typeof d(this,ne,"f")===e},"_Maybe_checkPrimative"),Et=o(function(e){if(!d(this,_e,"m",bt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return d(this,ne,"f")},"_Maybe_assertPrimative");var yt=class{constructor(e){vi.set(this,void 0),k(this,vi,e,"f")}get is_null(){return d(this,vi,"f")===null}get is_array(){return!this.is_null&&Array.isArray(d(this,vi,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return d(this,vi,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return d(this,vi,"f")}};o(yt,"SuperParsedResult");vi=new WeakMap;function re(t){return new Proxy(t,{get(e,i){return i=="get"?(r,n)=>e.find((a,c)=>{let p=Df(r,a);return p&&n&&e.splice(c,1),p}):i==k0?!0:i=="getAll"?(r,n)=>e.filter((a,c)=>{let p=Df(r,a);return p&&n&&e.splice(c,1),p}):i=="matchCondition"?r=>e.find(n=>r(n)):i=="filterType"?(...r)=>re(e.filter(n=>!!n.is(...r))):i=="firstOfType"?(...r)=>e.find(n=>!!n.is(...r)):i=="first"?()=>e[0]:i=="as"?(...r)=>re(e.map(n=>{if(n.is(...r))return n;throw new Xe(`Expected node of any type ${r.map(a=>a.type).join(", ")}, got ${n.type}`)})):i=="remove"?r=>e.splice(r,1):Reflect.get(e,i)}})}o(re,"observe");var jt=class extends Map{getType(...e){return e=e.flat(),re(e.flatMap(i=>this.get(i.type)||[]))}};o(jt,"Memo");var Wv={};Ee(Wv,{Author:()=>R,ChildElement:()=>vh,EmojiRun:()=>Yt,Format:()=>gm,Text:()=>u,TextRun:()=>Ut,Thumbnail:()=>v,VideoDetails:()=>Ht});var ze={};Ee(ze,{CLIENTS:()=>G,INNERTUBE_HEADERS_BASE:()=>b1,OAUTH:()=>g1,STREAM_HEADERS:()=>Of,URLS:()=>Pe});var Pe=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),g1=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),G=Object.freeze({iOS:{NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME:"WEB",VERSION:"2.20230622.06.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),Of=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),b1=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var l={};Ee(l,{addRuntimeParser:()=>Cv,applyMutations:()=>Xw,getDynamicParsers:()=>lI,getParserByName:()=>tf,hasParser:()=>ix,parse:()=>Ve,parseActions:()=>qw,parseArray:()=>Ae,parseC:()=>$w,parseFormats:()=>Ev,parseItem:()=>ee,parseLC:()=>Nv,parseRR:()=>rx,parseResponse:()=>cI,sanitizeClassName:()=>of,setParserErrorHandler:()=>aI,shouldIgnore:()=>Kw});var on=class extends s{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};o(on,"AudioOnlyPlayability");on.type="AudioOnlyPlayability";var Lf=on;var nn=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint||e.command)}};o(nn,"Button");nn.type="Button";var T=nn;var sn=class extends s{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new h(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};o(sn,"DropdownItem");sn.type="DropdownItem";var Ff=sn;var an=class extends s{constructor(e){super(),this.label=e.label||"",this.entries=l.parseArray(e.entries,Ff)}};o(an,"Dropdown");an.type="Dropdown";var cr=an;var un=class extends s{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=l.parseItem(e.privacyOption,cr),this.create_button=l.parseItem(e.cancelButton,T),this.cancel_button=l.parseItem(e.cancelButton,T)}};o(un,"CreatePlaylistDialog");un.type="CreatePlaylistDialog";var jf=un;var ln=class extends s{constructor(e){super(),this.popup=l.parseItem(e.popup),this.popup_type=e.popupType}};o(ln,"OpenPopupAction");ln.type="OpenPopupAction";var Yf=ln;var cn=class extends s{constructor(e){var i,r,n,a,c,p,f,_;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new Yf(e.openPopupAction));let x=Object.keys(e||{}).find(g=>g.endsWith("Endpoint")||g.endsWith("Command"));this.payload=x?Reflect.get(e,x):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=l.parseItem(this.payload.dialog||this.payload.content)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((r=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||r===void 0)&&r.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((a=(n=e==null?void 0:e.commandMetadata)===null||n===void 0?void 0:n.webCommandMetadata)===null||a===void 0)&&a.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(c=e==null?void 0:e.commandMetadata)===null||c===void 0?void 0:c.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):x&&(this.metadata.api_url=this.getEndpoint(x)),!((_=(f=e==null?void 0:e.commandMetadata)===null||f===void 0?void 0:f.webCommandMetadata)===null||_===void 0)&&_.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=l.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,jf))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};o(cn,"NavigationEndpoint");cn.type="NavigationEndpoint";var h=cn;var v=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){return!e||!e.thumbnails?[]:e.thumbnails.map(i=>new v(i)).sort((i,r)=>r.width-i.width)}};o(v,"Thumbnail");var Yt=class{constructor(e){var i,r,n,a,c,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((n=(r=e.emoji)===null||r===void 0?void 0:r.shortcuts)===null||n===void 0?void 0:n[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((a=e.emoji)===null||a===void 0?void 0:a.shortcuts)||[],search_terms:((c=e.emoji)===null||c===void 0?void 0:c.searchTerms)||[],image:v.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=Uf(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};o(Yt,"EmojiRun");var Ut=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=Uf(this.text),n=`<span style="white-space: pre-wrap;">${e.map(a=>`<${a}>`).join("")+i+e.map(a=>`</${a}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:a}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let c=this.endpoint.toURL();if(c)return`<a href="${c}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${a}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${n}</a>`}}if(this.endpoint){let a=this.endpoint.toURL();if(a)return`<a href="${a}">${n}</a>`}return n}};o(Ut,"TextRun");function Uf(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}o(Uf,"escape");var u=class{constructor(e){var i,r,n,a;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(c=>c.emoji?new Yt(c):new Ut(c)),this.text=this.runs.map(c=>c.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new h(e.titleNavigationEndpoint)),this.endpoint||!((r=(i=this.runs)===null||i===void 0?void 0:i[0])===null||r===void 0)&&r.endpoint&&(this.endpoint=(a=(n=this.runs)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.endpoint)}static fromAttributed(e){let i=[],r=e.content,n=e.commandRuns,a=0;if(n){for(let c of n){let p=c.length,f=c.startIndex;if(f>a&&i.push({text:r.slice(a,f)}),Reflect.has(c,"onTap")){let _=null;if(Reflect.has(e,"attachmentRuns")){let x=e.attachmentRuns;for(let g of x)if(g.startIndex-2==f){_=g;break}}_?i.push({text:r.slice(f,f+p),navigationEndpoint:c.onTap,attachment:_}):i.push({text:r.slice(f,f+p),navigationEndpoint:c.onTap})}a=f+p}a<r.length&&i.push({text:r.slice(a)})}else i.push({text:r});return new u({runs:i})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};o(u,"Text");var pn=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};o(pn,"CardCollection");pn.type="CardCollection";var Wf=pn;var dn=class extends s{constructor(e){super(),this.elements=l.parseArray(e.elements),this.start_ms=e.startMs}};o(dn,"Endscreen");dn.type="Endscreen";var Jf=dn;var fn=class extends s{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:v.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new h(e.featuredChannel.navigationEndpoint),subscribe_button:l.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};o(fn,"PlayerAnnotationsExpanded");fn.type="PlayerAnnotationsExpanded";var Hf=fn;var mn=class extends s{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};o(mn,"PlayerCaptionsTracklist");mn.type="PlayerCaptionsTracklist";var zf=mn;var hn=class extends s{constructor(){super()}};o(hn,"PlayerLiveStoryboardSpec");hn.type="PlayerLiveStoryboardSpec";var Gf=hn;var _n=class extends s{constructor(e){super();let i=e.spec.split("|"),r=new URL(i.shift());this.boards=i.map((n,a)=>{let[c,p,f,_,x,g,y,b]=n.split("#");r.searchParams.set("sigh",b);let N=Math.ceil(parseInt(f,10)/(parseInt(_,10)*parseInt(x,10)));return{template_url:r.toString().replace("$L",a).replace("$N",y),thumbnail_width:parseInt(c,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(f,10),interval:parseInt(g,10),columns:parseInt(_,10),rows:parseInt(x,10),storyboard_count:N}})}};o(_n,"PlayerStoryboardSpec");_n.type="PlayerStoryboardSpec";var bi=_n;var xn=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};o(xn,"Alert");xn.type="Alert";var pr=xn;var vn=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=l.parseItem(e.dismissButton,T)}};o(vn,"AlertWithButton");vn.type="AlertWithButton";var Kf=vn;var gn=class extends s{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};o(gn,"ClipCreationTextInput");gn.type="ClipCreationTextInput";var $f=gn;var bn=class extends s{constructor(e){var i,r,n,a,c,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(r=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||r===void 0?void 0:r.label,this.end_label=(a=(n=e.endAccessibility)===null||n===void 0?void 0:n.accessibilityData)===null||a===void 0?void 0:a.label,this.duration_label=(p=(c=e.durationAccessibility)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label}};o(bn,"ClipCreationScrubber");bn.type="ClipCreationScrubber";var qf=bn;var yn=class extends s{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};o(yn,"ClipAdState");yn.type="ClipAdState";var Xf=yn;var wn=class extends s{constructor(e){super(),this.user_avatar=v.fromResponse(e.userAvatar),this.title_input=l.parseItem(e.titleInput,[$f]),this.scrubber=l.parseItem(e.scrubber,[qf]),this.save_button=l.parseItem(e.saveButton,[T]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=l.parseItem(e.cancelButton,[T]),this.ad_state_overlay=l.parseItem(e.adStateOverlay,[Xf]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};o(wn,"ClipCreation");wn.type="ClipCreation";var Qf=wn;var Tn=class extends s{constructor(e){super(),this.contents=l.parse(e.contents,!0,[Qf])}};o(Tn,"ClipSection");Tn.type="ClipSection";var Zf=Tn;var In=class extends s{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,T)),this.endpoint=new h(e.continuationEndpoint)}};o(In,"ContinuationItem");In.type="ContinuationItem";var ue=In;var kn=class extends s{constructor(e){super(),this.title=new u(e.title),this.visibility_button=l.parseItem(e.visibilityButton,T)}};o(kn,"EngagementPanelTitleHeader");kn.type="EngagementPanelTitleHeader";var em=kn;var Sn=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.top_level_buttons=l.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};o(Sn,"Menu");Sn.type="Menu";var O=Sn;var Cn=class extends s{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=l.parseItem(e.menu,O)}};o(Cn,"MacroMarkersInfoItem");Cn.type="MacroMarkersInfoItem";var tm=Cn;var Nn=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=v.fromResponse(e.thumbnail),this.on_tap_endpoint=new h(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};o(Nn,"MacroMarkersListItem");Nn.type="MacroMarkersListItem";var dr=Nn;var En=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,[tm,dr]),this.sync_button_label=new u(e.syncButtonLabel)}};o(En,"MacroMarkersList");En.type="MacroMarkersList";var im=En;var Pn=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Pn,"ProductList");Pn.type="ProductList";var rm=Pn;var Rn=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=l.parseItem(e.subMenu))}};o(Rn,"SectionList");Rn.type="SectionList";var Ce=Rn;var An=class extends s{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};o(An,"ExpandableVideoDescriptionBody");An.type="ExpandableVideoDescriptionBody";var om=An;var Vn=class extends s{constructor(e){super(),this.thumbnails=v.fromResponse(e.thumbnail),this.endpoint=new h(e.searchEndpoint),this.query=new u(e.query).toString()}};o(Vn,"SearchRefinementCard");Vn.type="SearchRefinementCard";var yi=Vn;var Mn=class extends s{constructor(e){super(),this.game=l.parseItem(e.game)}};o(Mn,"GameCard");Mn.type="GameCard";var nm=Mn;var Bn=class extends s{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=l.parseArray(e.items)}get contents(){return this.items}};o(Bn,"HorizontalList");Bn.type="HorizontalList";var sm=Bn;var Dn=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:v.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=l.parseItem(e.expandedContent,[Wt,sm]),this.expand_button=l.parseItem(e.expandButton,T),this.collapse_button=l.parseItem(e.collapseButton,T)}};o(Dn,"ExpandableMetadata");Dn.type="ExpandableMetadata";var am=Dn;var On=class extends s{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};o(On,"MetadataBadge");On.type="MetadataBadge";var je=On;var Ln=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};o(Ln,"ThumbnailOverlayTimeStatus");Ln.type="ThumbnailOverlayTimeStatus";var wi=Ln;var Fn=class extends s{constructor(e){var i,r,n;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(c=>({text:new u(c.snippetText),hover_text:new u(c.snippetHoverText)}))),this.expandable_metadata=l.parseItem(e.expandableMetadata,am),this.thumbnails=v.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.author=new R(e.ownerText,e.ownerBadges,(n=(r=e.channelThumbnailSupportedRenderers)===null||r===void 0?void 0:r.channelThumbnailWithLinkRenderer)===null||n===void 0?void 0:n.thumbnail),this.badges=l.parseArray(e.badges,je),this.endpoint=new h(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:ye(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=l.parseItem(e.menu,O),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(wi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};o(Fn,"Video");Fn.type="Video";var fr=Fn;var jn=class extends fr{constructor(e){super(e)}};o(jn,"VideoCard");jn.type="VideoCard";var um=jn;var Yn=class extends s{constructor(e){super(),this.image=e.image.sources.map(i=>new v(i)).sort((i,r)=>r.width-i.width),this.style=e.style}};o(Yn,"ContentPreviewImageView");Yn.type="ContentPreviewImageView";var mr=Yn;var Un=class extends s{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image={sources:e.image.sources.map(r=>new v(r)).sort((r,n)=>n.width-r.width)}:this.image=l.parseItem(e.image,mr),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new h(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};o(Un,"VideoAttributeView");Un.type="VideoAttributeView";var hr=Un;var Wn=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards,[hr,yi,dr,nm,um]),this.header=l.parseItem(e.header),this.previous_button=l.parseItem(e.previousButton,T),this.next_button=l.parseItem(e.nextButton,T)}};o(Wn,"HorizontalCardList");Wn.type="HorizontalCardList";var Wt=Wn;var Jn=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};o(Jn,"Factoid");Jn.type="Factoid";var Jt=Jn;var Hn=class extends s{constructor(e){super(),this.factoid=l.parseItem(e.factoid,Jt)}};o(Hn,"UploadTimeFactoid");Hn.type="UploadTimeFactoid";var lm=Hn;var zn=class extends s{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=l.parseItem(e.factoid,[Jt]),this.view_count_type=e.viewCountType}};o(zn,"ViewCountFactoid");zn.type="ViewCountFactoid";var cm=zn;var Gn=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new h(e.channelNavigationEndpoint),this.channel_thumbnail=v.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=l.parseArray(e.factoid,[Jt,cm,lm])}};o(Gn,"VideoDescriptionHeader");Gn.type="VideoDescriptionHeader";var pm=Gn;var Kn=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=l.parseItem(e.creatorVideosButton,T),this.creator_about_button=l.parseItem(e.creatorAboutButton,T),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=v.fromResponse(e.channelAvatar),this.channel_endpoint=new h(e.channelEndpoint)}};o(Kn,"VideoDescriptionInfocardsSection");Kn.type="VideoDescriptionInfocardsSection";var dm=Kn;var $n=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};o($n,"InfoRow");$n.type="InfoRow";var fm=$n;var qn=class extends s{constructor(e){super(),this.id=e.videoId,this.thumbnails=v.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parse(e.richThumbnail)),this.title=new u(e.title),this.author=new R(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=l.parseArray(e.badges,je),this.duration={text:new u(e.lengthText).toString(),seconds:ye(new u(e.lengthText).toString())},this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.endpoint=new h(e.navigationEndpoint),this.menu=l.parseItem(e.menu,O)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};o(qn,"CompactVideo");qn.type="CompactVideo";var _r=qn;var Xn=class extends s{constructor(e){super(),this.info_rows=l.parseArray(e.infoRows,fm),this.video_lockup=l.parseItem(e.videoLockup,_r)}};o(Xn,"CarouselLockup");Xn.type="CarouselLockup";var mm=Xn;var Qn=class extends s{constructor(e){super(),this.carousel_lockups=l.parseArray(e.carouselLockups,mm),this.section_title=new u(e.sectionTitle)}};o(Qn,"VideoDescriptionMusicSection");Qn.type="VideoDescriptionMusicSection";var xr=Qn;var Zn=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=l.parseItem(e.primaryButton,T)}};o(Zn,"VideoDescriptionTranscriptSection");Zn.type="VideoDescriptionTranscriptSection";var es=Zn;var ts=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new h(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};o(ts,"StructuredDescriptionPlaylistLockup");ts.type="StructuredDescriptionPlaylistLockup";var hm=ts;var is=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=l.parseArray(e.mediaLockups,[hm])}};o(is,"VideoDescriptionCourseSection");is.type="VideoDescriptionCourseSection";var _m=is;var rs=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new h(e.endpoint))}get contents(){return this.items}};o(rs,"ReelShelf");rs.type="ReelShelf";var vr=rs;var os=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[pm,om,xr,dm,_m,es,es,Wt,vr])}};o(os,"StructuredDescriptionContent");os.type="StructuredDescriptionContent";var Ti=os;var ns=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,em),this.content=l.parseItem(e.content,[hr,Ce,ue,Zf,Ti,im,rm]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};o(ns,"EngagementPanelSectionList");ns.type="EngagementPanelSectionList";var gr=ns;var ss=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new h(e.selectedCommand)),this.selected=!!this.endpoint}};o(ss,"MusicMultiSelectMenuItem");ss.type="MusicMultiSelectMenuItem";var br=ss;var xm,vm=class{constructor(e,i){var r,n,a,c,p,f;if(xm.set(this,void 0),i&&k(this,xm,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.color_info=e.colorInfo?{primaries:(r=e.colorInfo.primaries)===null||r===void 0?void 0:r.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(n=e.colorInfo.transferCharacteristics)===null||n===void 0?void 0:n.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(a=e.colorInfo.matrixCoefficients)===null||a===void 0?void 0:a.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,this.has_audio){let _=new URLSearchParams(this.cipher||this.signature_cipher),g=(c=new URLSearchParams(_.get("url")||this.url).get("xtags"))===null||c===void 0?void 0:c.split(":"),y=(p=g==null?void 0:g.find(b=>b.startsWith("acont=")))===null||p===void 0?void 0:p.split("=")[1];this.language=((f=g==null?void 0:g.find(b=>b.startsWith("lang=")))===null||f===void 0?void 0:f.split("=")[1])||null,this.is_dubbed=y==="dubbed",this.is_descriptive=y==="descriptive",this.is_original=y==="original"||!this.is_dubbed&&!this.is_descriptive,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new w("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,d(this,xm,"f"))}};o(vm,"Format");xm=new WeakMap;var gm=vm;var Ht=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=v.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable}};o(Ht,"VideoDetails");var ef={};Ee(ef,{AboutChannel:()=>wm,AboutChannelView:()=>ym,AccountChannel:()=>Tm,AccountItemSection:()=>km,AccountItemSectionHeader:()=>Im,AccountSectionList:()=>Sm,AddBannerToLiveChatCommand:()=>gb,AddChatItemAction:()=>Uh,AddLiveChatTickerItemAction:()=>bb,Alert:()=>pr,AlertWithButton:()=>Kf,AnalyticsMainAppKeyMetrics:()=>C0,AnalyticsRoot:()=>N0,AnalyticsShortsCarouselCard:()=>E0,AnalyticsVideo:()=>Mm,AnalyticsVodCarouselCard:()=>P0,AnchoredSection:()=>Q_,AppendContinuationItemsAction:()=>Ii,AudioOnlyPlayability:()=>Lf,AuthorCommentBadge:()=>qm,AutomixPreviewVideo:()=>Bm,BackstageImage:()=>Dm,BackstagePost:()=>zt,BackstagePostThread:()=>V0,BrowseFeedActions:()=>Lm,BrowserMediaSession:()=>M0,Button:()=>T,ButtonView:()=>Fm,C4TabbedHeader:()=>Ir,CallToActionButton:()=>B0,Card:()=>D0,CardCollection:()=>Wf,CarouselHeader:()=>Jm,CarouselItem:()=>O0,CarouselLockup:()=>mm,Channel:()=>Hm,ChannelAboutFullMetadata:()=>ta,ChannelAgeGate:()=>L0,ChannelExternalLinkView:()=>bm,ChannelFeaturedContent:()=>F0,ChannelHeaderLinks:()=>jm,ChannelHeaderLinksView:()=>Ym,ChannelMetadata:()=>zm,ChannelMobileHeader:()=>j0,ChannelOptions:()=>Gm,ChannelOwnerEmptyState:()=>Y0,ChannelSubMenu:()=>la,ChannelTagline:()=>Um,ChannelThumbnailWithLink:()=>U0,ChannelVideoPlayer:()=>W0,Chapter:()=>Km,ChildVideo:()=>J0,ChipCloud:()=>kr,ChipCloudChip:()=>Be,ClipAdState:()=>Xf,ClipCreation:()=>Qf,ClipCreationScrubber:()=>qf,ClipCreationTextInput:()=>$f,ClipSection:()=>Zf,CollaboratorInfoCardContent:()=>H0,CollageHeroImage:()=>z0,Command:()=>G0,Comment:()=>Pr,CommentActionButtons:()=>wr,CommentDialog:()=>Fg,CommentReplies:()=>nh,CommentReplyDialog:()=>Xm,CommentSimplebox:()=>lh,CommentThread:()=>ch,CommentsEntryPointHeader:()=>uh,CommentsEntryPointTeaser:()=>ah,CommentsHeader:()=>Rr,CommentsSimplebox:()=>sh,CompactChannel:()=>jg,CompactLink:()=>Ar,CompactMix:()=>Yg,CompactMovie:()=>Ug,CompactPlaylist:()=>Wg,CompactStation:()=>Jg,CompactVideo:()=>_r,ConfirmDialog:()=>Hg,ContentMetadataView:()=>ph,ContentPreviewImageView:()=>mr,ContinuationItem:()=>ue,ConversationBar:()=>zg,CopyLink:()=>dh,CreatePlaylistDialog:()=>jf,CreatorHeart:()=>Om,CtaGoToCreatorStudio:()=>R0,DataModelSection:()=>Vm,DecoratedPlayerBar:()=>_h,DefaultPromoPanel:()=>Gg,DidYouMean:()=>Kg,DimChatItemAction:()=>yb,DownloadButton:()=>$g,Dropdown:()=>cr,DropdownItem:()=>Ff,DynamicTextView:()=>xh,Element:()=>Br,EmergencyOnebox:()=>qg,EmojiPicker:()=>oh,EmojiPickerCategory:()=>Xg,EmojiPickerCategoryButton:()=>Qg,EmojiPickerUpsellCategory:()=>Zg,EndScreenPlaylist:()=>gh,EndScreenVideo:()=>bh,Endscreen:()=>Jf,EndscreenElement:()=>eb,EngagementPanelSectionList:()=>gr,EngagementPanelTitleHeader:()=>em,ExpandableMetadata:()=>am,ExpandableTab:()=>Dr,ExpandableVideoDescriptionBody:()=>om,ExpandedShelfContents:()=>tb,Factoid:()=>Jt,FancyDismissibleDialog:()=>ib,FeedFilterChipBar:()=>Rt,FeedNudge:()=>rb,FeedTabbedHeader:()=>yh,FlexibleActionsView:()=>wh,GameCard:()=>nm,GameDetails:()=>ob,Grid:()=>nb,GridChannel:()=>Th,GridHeader:()=>sb,GridMix:()=>ab,GridMovie:()=>ub,GridPlaylist:()=>Ih,GridShow:()=>lb,GridVideo:()=>Ch,GuideCollapsibleEntry:()=>cb,GuideCollapsibleSectionEntry:()=>pb,GuideDownloadsEntry:()=>db,GuideEntry:()=>Ni,GuideSection:()=>Or,GuideSubscriptionsSection:()=>Nh,HashtagHeader:()=>Eh,HashtagTile:()=>fb,HeatMarker:()=>fh,Heatmap:()=>mh,HeroPlaylistThumbnail:()=>mb,HighlightsCarousel:()=>hb,HistorySuggestion:()=>_b,HorizontalCardList:()=>Wt,HorizontalList:()=>sm,HorizontalMovieList:()=>xb,IconLink:()=>Rh,IncludingResultsFor:()=>vb,InfoPanelContainer:()=>Vh,InfoPanelContent:()=>Ah,InfoRow:()=>fm,InteractiveTabbedHeader:()=>Mh,ItemSection:()=>Ye,ItemSectionHeader:()=>Bh,ItemSectionTab:()=>Dh,ItemSectionTabbedHeader:()=>Oh,KidsBlocklistPicker:()=>Fw,KidsBlocklistPickerItem:()=>Z_,KidsCategoriesHeader:()=>jw,KidsCategoryTab:()=>ex,KidsHomeScreen:()=>Yw,LikeButton:()=>Lh,LiveChat:()=>Fh,LiveChatActionPanel:()=>Jh,LiveChatAuthorBadge:()=>zb,LiveChatAutoModMessage:()=>wb,LiveChatBanner:()=>Yh,LiveChatBannerHeader:()=>jh,LiveChatBannerPoll:()=>Tb,LiveChatDialog:()=>Gb,LiveChatHeader:()=>qh,LiveChatItemList:()=>Xh,LiveChatMembershipItem:()=>Ib,LiveChatMessageInput:()=>Kb,LiveChatPaidMessage:()=>kb,LiveChatPaidSticker:()=>Sb,LiveChatParticipant:()=>Qh,LiveChatParticipantsList:()=>Zh,LiveChatPlaceholderItem:()=>Cb,LiveChatProductItem:()=>Nb,LiveChatRestrictedParticipation:()=>Eb,LiveChatTextMessage:()=>Pb,LiveChatTickerPaidMessageItem:()=>Wh,LiveChatTickerPaidStickerItem:()=>Rb,LiveChatTickerSponsorItem:()=>Ab,LiveChatViewerEngagementMessage:()=>Vb,MacroMarkersInfoItem:()=>tm,MacroMarkersList:()=>im,MacroMarkersListItem:()=>dr,MarkChatItemAsDeletedAction:()=>Bb,MarkChatItemsByAuthorAsDeletedAction:()=>Db,Menu:()=>O,MenuNavigationItem:()=>e_,MenuPopup:()=>$b,MenuServiceItem:()=>Kt,MenuServiceItemDownload:()=>qb,MerchandiseItem:()=>Zb,MerchandiseShelf:()=>o_,Message:()=>Gt,MetadataBadge:()=>je,MetadataRow:()=>ey,MetadataRowContainer:()=>n_,MetadataRowHeader:()=>ty,MetadataScreen:()=>iy,MicroformatData:()=>Lr,Mix:()=>ry,Movie:()=>oy,MovingThumbnail:()=>ny,MultiMarkersPlayerBar:()=>hh,MultiPageMenu:()=>Xb,MultiPageMenuNotificationSection:()=>Qb,MusicCardShelf:()=>sy,MusicCardShelfHeaderBasic:()=>s_,MusicCarouselShelf:()=>_y,MusicCarouselShelfBasicHeader:()=>l_,MusicDescriptionShelf:()=>xy,MusicDetailHeader:()=>vy,MusicDownloadStateBadge:()=>gy,MusicEditablePlaylistDetailHeader:()=>by,MusicElementHeader:()=>yy,MusicHeader:()=>wy,MusicImmersiveHeader:()=>Ty,MusicInlineBadge:()=>a_,MusicItemThumbnailOverlay:()=>Tt,MusicLargeCardItemCarousel:()=>Iy,MusicMenuItemDivider:()=>t_,MusicMultiRowListItem:()=>c_,MusicMultiSelectMenu:()=>i_,MusicMultiSelectMenuItem:()=>br,MusicNavigationButton:()=>p_,MusicPlayButton:()=>u_,MusicPlaylistShelf:()=>ky,MusicQueue:()=>x_,MusicResponsiveListItem:()=>$t,MusicResponsiveListItemFixedColumn:()=>d_,MusicResponsiveListItemFlexColumn:()=>f_,MusicShelf:()=>Sy,MusicSideAlignedItem:()=>Cy,MusicSortFilterButton:()=>Ny,MusicTastebuilderShelf:()=>Ey,MusicTastebuilderShelfThumbnail:()=>v_,MusicThumbnail:()=>Qe,MusicTwoRowItem:()=>m_,MusicVisualHeader:()=>Py,NavigationEndpoint:()=>h,Notification:()=>g_,OpenPopupAction:()=>Yf,PageHeader:()=>qt,PageHeaderView:()=>b_,PageIntroduction:()=>y_,PdgCommentChip:()=>Qm,PivotButton:()=>w_,PlayerAnnotationsExpanded:()=>Hf,PlayerCaptionsTracklist:()=>zf,PlayerControlsOverlay:()=>Ry,PlayerErrorMessage:()=>Ay,PlayerLegacyDesktopYpcOffer:()=>Vy,PlayerLegacyDesktopYpcTrailer:()=>Zc,PlayerLiveStoryboardSpec:()=>Gf,PlayerMicroformat:()=>ct,PlayerOverflow:()=>T_,PlayerOverlay:()=>C_,PlayerOverlayAutoplay:()=>k_,PlayerStoryboardSpec:()=>bi,Playlist:()=>wt,PlaylistCustomThumbnail:()=>Vr,PlaylistHeader:()=>N_,PlaylistInfoCardContent:()=>My,PlaylistMetadata:()=>E_,PlaylistPanel:()=>__,PlaylistPanelVideo:()=>At,PlaylistPanelVideoWrapper:()=>h_,PlaylistSidebar:()=>By,PlaylistSidebarPrimaryInfo:()=>P_,PlaylistSidebarSecondaryInfo:()=>R_,PlaylistVideo:()=>A_,PlaylistVideoList:()=>Dy,PlaylistVideoThumbnail:()=>Mr,Poll:()=>Oy,PollHeader:()=>Mb,Post:()=>V_,PostMultiImage:()=>Ly,ProductList:()=>rm,ProductListHeader:()=>Fy,ProductListItem:()=>jy,ProfileColumn:()=>Yy,ProfileColumnStats:()=>Uy,ProfileColumnStatsEntry:()=>Wy,ProfileColumnUserInfo:()=>Jy,Quiz:()=>Hy,RecognitionShelf:()=>zy,ReelItem:()=>M_,ReelPlayerHeader:()=>B_,ReelPlayerOverlay:()=>Gy,ReelShelf:()=>vr,RelatedChipCloud:()=>D_,RemoveBannerForLiveChatCommand:()=>Ob,RemoveChatItemAction:()=>Lb,RemoveChatItemByAuthorAction:()=>Fb,ReplaceChatItemAction:()=>jb,ReplayChatItemAction:()=>Yb,RichGrid:()=>Xt,RichItem:()=>Ky,RichListHeader:()=>$y,RichMetadata:()=>Rp,RichMetadataRow:()=>Vp,RichSection:()=>qy,RichShelf:()=>O_,SearchBox:()=>Xy,SearchFilter:()=>L_,SearchFilterGroup:()=>jr,SearchFilterOptionsDialog:()=>Qy,SearchHeader:()=>F_,SearchRefinementCard:()=>yi,SearchSubMenu:()=>j_,SearchSuggestion:()=>Ph,SearchSuggestionsSection:()=>Zy,SecondarySearchContainer:()=>ew,SectionList:()=>Ce,SegmentedLikeDislikeButton:()=>Pi,SettingBoolean:()=>tw,SettingsCheckbox:()=>Y_,SettingsOptions:()=>Ur,SettingsSidebar:()=>U_,SettingsSwitch:()=>Yr,SharedPost:()=>W_,Shelf:()=>Wr,ShowCustomThumbnail:()=>kh,ShowLiveChatActionPanelAction:()=>Ub,ShowLiveChatDialogAction:()=>Wb,ShowLiveChatTooltipCommand:()=>Jb,ShowingResultsFor:()=>iw,SimpleCardContent:()=>rw,SimpleCardTeaser:()=>ow,SimpleMenuHeader:()=>r_,SimpleTextSection:()=>nw,SingleActionEmergencySupport:()=>sw,SingleColumnBrowseResults:()=>J_,SingleColumnMusicWatchNextResults:()=>aw,SingleHeroImage:()=>uw,SlimOwner:()=>lw,SlimVideoMetadata:()=>cw,SortFilterSubMenu:()=>at,SponsorCommentBadge:()=>Zm,StatRow:()=>A0,StructuredDescriptionContent:()=>Ti,StructuredDescriptionPlaylistLockup:()=>hm,SubFeedOption:()=>H_,SubFeedSelector:()=>pw,SubscribeButton:()=>Re,SubscriptionNotificationToggleButton:()=>Wm,Tab:()=>Ne,Tabbed:()=>dw,TabbedSearchResults:()=>fw,TextHeader:()=>mw,ThumbnailLandscapePortrait:()=>hw,ThumbnailOverlayBottomPanel:()=>Sh,ThumbnailOverlayEndorsement:()=>_w,ThumbnailOverlayHoverText:()=>xw,ThumbnailOverlayInlineUnplayable:()=>vw,ThumbnailOverlayLoadingPreview:()=>gw,ThumbnailOverlayNowPlaying:()=>bw,ThumbnailOverlayPinking:()=>yw,ThumbnailOverlayPlaybackStatus:()=>ww,ThumbnailOverlayResumePlayback:()=>Tw,ThumbnailOverlaySidePanel:()=>Iw,ThumbnailOverlayTimeStatus:()=>wi,ThumbnailOverlayToggleButton:()=>kw,TimedMarkerDecoration:()=>Sw,TitleAndButtonListHeader:()=>Cw,ToggleButton:()=>xe,ToggleMenuServiceItem:()=>Nw,Tooltip:()=>Ew,TopicChannelDetails:()=>Pw,Transcript:()=>yr,TranscriptFooter:()=>Cm,TranscriptSearchBox:()=>Nm,TranscriptSearchPanel:()=>Am,TranscriptSectionHeader:()=>Em,TranscriptSegment:()=>Pm,TranscriptSegmentList:()=>Rm,TwoColumnBrowseResults:()=>It,TwoColumnSearchResults:()=>z_,TwoColumnWatchNextResults:()=>K_,UniversalWatchCard:()=>$_,UpdateDateTextAction:()=>Hh,UpdateDescriptionAction:()=>zh,UpdateEngagementPanelAction:()=>S0,UpdateLiveChatPollAction:()=>Hb,UpdateTitleAction:()=>Gh,UpdateToggleButtonTextAction:()=>Kh,UpdateViewershipAction:()=>$h,UploadTimeFactoid:()=>lm,UpsellDialog:()=>Rw,VerticalList:()=>Aw,VerticalWatchCardList:()=>Vw,Video:()=>fr,VideoAttributeView:()=>hr,VideoCard:()=>um,VideoDescriptionCourseSection:()=>_m,VideoDescriptionHeader:()=>pm,VideoDescriptionInfocardsSection:()=>dm,VideoDescriptionMusicSection:()=>xr,VideoDescriptionTranscriptSection:()=>es,VideoInfoCardContent:()=>Mw,VideoOwner:()=>Jr,VideoPrimaryInfo:()=>q_,VideoSecondaryInfo:()=>Yd,ViewCountFactoid:()=>cm,WatchCardCompactVideo:()=>X_,WatchCardHeroVideo:()=>Bw,WatchCardRichHeader:()=>Dw,WatchCardSectionSequence:()=>Ow,WatchNextEndScreen:()=>S_,WatchNextTabbedResults:()=>Lw,YpcTrailer:()=>I_});var as=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=e.favicon.sources.map(i=>new v(i)).sort((i,r)=>r.width-i.width)}};o(as,"ChannelExternalLinkView");as.type="ChannelExternalLinkView";var bm=as;var us=class extends s{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new h(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=l.parseArray(e.links,bm):this.links=[]}};o(us,"AboutChannelView");us.type="AboutChannelView";var ym=us;var ls=class extends s{constructor(e){super(),this.metadata=l.parseItem(e.metadata,ym),this.share_channel=l.parseItem(e.shareChannel,T)}};o(ls,"AboutChannel");ls.type="AboutChannel";var wm=ls;var cs=class extends s{constructor(e){super(),this.title=new u(e.title),this.endpoint=new h(e.navigationEndpoint)}};o(cs,"AccountChannel");cs.type="AccountChannel";var Tm=cs;var ps=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(ps,"AccountItemSectionHeader");ps.type="AccountItemSectionHeader";var Im=ps;var ds=class extends s{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=v.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new h(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};o(ds,"AccountItem");ds.type="AccountItem";var fs=class extends s{constructor(e){super(),this.contents=re(e.contents.map(i=>new ds(i.accountItem))),this.header=l.parseItem(e.header,Im)}};o(fs,"AccountItemSection");fs.type="AccountItemSection";var km=fs;var ms=class extends s{constructor(e){super(),this.contents=l.parseItem(e.contents[0],km),this.footers=l.parseItem(e.footers[0],Tm)}};o(ms,"AccountSectionList");ms.type="AccountSectionList";var Sm=ms;var hs=class extends s{constructor(e){super(),this.contents=l.parseArray(e.continuationItems),this.target=e.target}};o(hs,"AppendContinuationItemsAction");hs.type="AppendContinuationItemsAction";var Ii=hs;var _s=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var r,n;return{title:i.title,selected:i.selected,continuation:(n=(r=i.continuation)===null||r===void 0?void 0:r.reloadContinuationData)===null||n===void 0?void 0:n.continuation,endpoint:new h(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};o(_s,"SortFilterSubMenu");_s.type="SortFilterSubMenu";var at=_s;var xs=class extends s{constructor(e){super(),this.language_menu=l.parseItem(e.languageMenu,at)}};o(xs,"TranscriptFooter");xs.type="TranscriptFooter";var Cm=xs;var vs=class extends s{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=l.parseItem(e.clearButton,T),this.endpoint=new h(e.onTextChangeCommand),this.search_button=l.parseItem(e.searchButton,T)}};o(vs,"TranscriptSearchBox");vs.type="TranscriptSearchBox";var Nm=vs;var gs=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};o(gs,"TranscriptSectionHeader");gs.type="TranscriptSectionHeader";var Em=gs;var bs=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};o(bs,"TranscriptSegment");bs.type="TranscriptSegment";var Pm=bs;var ys=class extends s{constructor(e){super(),this.initial_segments=l.parseArray(e.initialSegments,[Pm,Em]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};o(ys,"TranscriptSegmentList");ys.type="TranscriptSegmentList";var Rm=ys;var ws=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,Nm),this.body=l.parseItem(e.body,Rm),this.footer=l.parseItem(e.footer,Cm),this.target_id=e.targetId}};o(ws,"TranscriptSearchPanel");ws.type="TranscriptSearchPanel";var Am=ws;var Ts=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,Am)}};o(Ts,"Transcript");Ts.type="Transcript";var yr=Ts;var Is=class extends s{constructor(e){super(),this.target_id=e.targetId,this.content=l.parseItem(e.content,yr)}};o(Is,"UpdateEngagementPanelAction");Is.type="UpdateEngagementPanelAction";var S0=Is;var ks=class extends s{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};o(ks,"DataModelSection");ks.type="DataModelSection";var Vm=ks;var Ss=class extends s{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(r=>new Vm(r))}};o(Ss,"AnalyticsMainAppKeyMetrics");Ss.type="AnalyticsMainAppKeyMetrics";var C0=Ss;var Cs=class extends s{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(r=>({title:r.cardData.title,rows:r.cardData.rows.map(n=>({label:n.label,display_value:n.displayValue,display_value_a11y:n.displayValueA11y,bar_ratio:n.barRatio,bar_color:n.barColor,bar_opacity:n.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};o(Cs,"AnalyticsRoot");Cs.type="AnalyticsRoot";var N0=Cs;var Ns=class extends s{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new h(i.videoEndpoint)}))}};o(Ns,"AnalyticsShortsCarouselCard");Ns.type="AnalyticsShortsCarouselCard";var E0=Ns;var Es=class extends s{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:v.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};o(Es,"AnalyticsVideo");Es.type="AnalyticsVideo";var Mm=Es;var Ps=class extends s{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new Mm(i)))}};o(Ps,"AnalyticsVodCarouselCard");Ps.type="AnalyticsVodCarouselCard";var P0=Ps;var Rs=class extends s{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};o(Rs,"CtaGoToCreatorStudio");Rs.type="CtaGoToCreatorStudio";var R0=Rs;var As=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};o(As,"StatRow");As.type="StatRow";var A0=As;var Vs=class extends s{constructor(e){var i,r;super(),!((r=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||r===void 0)&&r.navigationEndpoint&&(this.playlist_video={endpoint:new h(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};o(Vs,"AutomixPreviewVideo");Vs.type="AutomixPreviewVideo";var Bm=Vs;var Ms=class extends s{constructor(e){super(),this.image=v.fromResponse(e.image),this.endpoint=new h(e.command)}};o(Ms,"BackstageImage");Ms.type="BackstageImage";var Dm=Ms;var Bs=class extends s{constructor(e){var i,r,n,a,c,p,f,_,x;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let g=((a=(n=(r=e==null?void 0:e.defaultText)===null||r===void 0?void 0:r.accessibility)===null||n===void 0?void 0:n.accessibilityData)===null||a===void 0?void 0:a.label)||((p=(c=e==null?void 0:e.accessibilityData)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label)||((f=e==null?void 0:e.accessibility)===null||f===void 0?void 0:f.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(g.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((x=(_=e.defaultServiceEndpoint)===null||_===void 0?void 0:_.commandExecutorCommand)===null||x===void 0)&&x.commands?new h(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new h(e.defaultServiceEndpoint),this.toggled_endpoint=new h(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};o(Bs,"ToggleButton");Bs.type="ToggleButton";var xe=Bs;var Ds=class extends s{constructor(e){var i,r;super(),this.creator_thumbnail=v.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(r=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||r===void 0?void 0:r.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};o(Ds,"CreatorHeart");Ds.type="CreatorHeart";var Om=Ds;var Os=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,xe),this.dislike_button=l.parseItem(e.dislikeButton,xe),this.reply_button=l.parseItem(e.replyButton,T),this.creator_heart=l.parseItem(e.creatorHeart,Om)}};o(Os,"CommentActionButtons");Os.type="CommentActionButtons";var wr=Os;var Ls=class extends s{constructor(e){super(),this.id=e.postId,this.author=new R(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=l.parseItem(e.actionMenu,O)),Reflect.has(e,"actionButtons")&&(this.action_buttons=l.parseItem(e.actionButtons,wr)),Reflect.has(e,"voteButton")&&(this.vote_button=l.parseItem(e.voteButton,T)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=l.parseItem(e.backstageAttachment)),this.surface=e.surface}};o(Ls,"BackstagePost");Ls.type="BackstagePost";var zt=Ls;var Fs=class extends s{constructor(e){super(),this.post=l.parseItem(e.post)}};o(Fs,"BackstagePostThread");Fs.type="BackstagePostThread";var V0=Fs;var js=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(js,"BrowseFeedActions");js.type="BrowseFeedActions";var Lm=js;var Ys=class extends s{constructor(e){super(),this.album=new u(e.album),this.thumbnails=v.fromResponse(e.thumbnailDetails)}};o(Ys,"BrowserMediaSession");Ys.type="BrowserMediaSession";var M0=Ys;var Us=class extends s{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.type=e.type,this.button_size=e.buttonSize,this.on_tap=new h(e.onTap)}};o(Us,"ButtonView");Us.type="ButtonView";var Fm=Us;var Tr=class extends s{constructor(e){super(),this.endpoint=new h(e.navigationEndpoint),this.icon=v.fromResponse(e.icon),this.title=new u(e.title)}};o(Tr,"HeaderLink");Tr.type="HeaderLink";var Ws=class extends s{constructor(e){var i,r;super(),this.primary=re(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(n=>new Tr(n)))||[]),this.secondary=re(((r=e.secondaryLinks)===null||r===void 0?void 0:r.map(n=>new Tr(n)))||[])}};o(Ws,"ChannelHeaderLinks");Ws.type="ChannelHeaderLinks";var jm=Ws;var Js=class extends s{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};o(Js,"ChannelHeaderLinksView");Js.type="ChannelHeaderLinksView";var Ym=Js;var Hs=class extends s{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:l.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,gr),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new h(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};o(Hs,"ChannelTagline");Hs.type="ChannelTagline";var Um=Hs;var zs=class extends s{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:l.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};o(zs,"SubscriptionNotificationToggleButton");zs.type="SubscriptionNotificationToggleButton";var Wm=zs;var Gs=class extends s{constructor(e){var i,r;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=l.parseItem(e.notificationPreferenceButton,Wm),this.endpoint=new h(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((r=e.onSubscribeEndpoints)===null||r===void 0?void 0:r[0]))}};o(Gs,"SubscribeButton");Gs.type="SubscribeButton";var Re=Gs;var Ks=class extends s{constructor(e){super(),this.author=new R({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=v.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=v.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=v.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=l.parseItem(e.sponsorButton,T)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=l.parseItem(e.subscribeButton,[Re,T])),Reflect.has(e,"headerLinks")&&(this.header_links=l.parseItem(e.headerLinks,[jm,Ym])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=l.parseItem(e.tagline,Um))}};o(Ks,"C4TabbedHeader");Ks.type="C4TabbedHeader";var Ir=Ks;var $s=class extends s{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};o($s,"CallToActionButton");$s.type="CallToActionButton";var B0=$s;var qs=class extends s{constructor(e){super(),this.teaser=l.parseItem(e.teaser),this.content=l.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};o(qs,"Card");qs.type="Card";var D0=qs;var Xs=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Xs,"CarouselHeader");Xs.type="CarouselHeader";var Jm=Xs;var Qs=class extends s{constructor(e){super(),this.items=l.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=v.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};o(Qs,"CarouselItem");Qs.type="CarouselItem";var O0=Qs;var Zs=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new R(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,[Re,T]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return this.subscriber_count}get videos(){return this.video_count}};o(Zs,"Channel");Zs.type="Channel";var Hm=Zs;var ea=class extends s{constructor(e){var i,r;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=v.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(r=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(n=>({endpoint:new h(n.navigationEndpoint),icon:v.fromResponse(n.icon),title:new u(n.title)})))!==null&&r!==void 0?r:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new h(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=l.parseArray(e.actionButtons,T)}get views(){return this.view_count}get joined(){return this.joined_date}};o(ea,"ChannelAboutFullMetadata");ea.type="ChannelAboutFullMetadata";var ta=ea;var ia=class extends s{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=v.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=l.parseItem(e.signInButton,T),this.secondary_text=new u(e.secondaryText)}};o(ia,"ChannelAgeGate");ia.type="ChannelAgeGate";var L0=ia;var ra=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items)}};o(ra,"ChannelFeaturedContent");ra.type="ChannelFeaturedContent";var F0=ra;var oa=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=v.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};o(oa,"ChannelMetadata");oa.type="ChannelMetadata";var zm=oa;var na=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(na,"ChannelMobileHeader");na.type="ChannelMobileHeader";var j0=na;var sa=class extends s{constructor(e){super(),this.avatar=v.fromResponse(e.avatar),this.endpoint=new h(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};o(sa,"ChannelOptions");sa.type="ChannelOptions";var Gm=sa;var aa=class extends s{constructor(e){super(),this.illustration=v.fromResponse(e.illustration),this.description=new u(e.description)}};o(aa,"ChannelOwnerEmptyState");aa.type="ChannelOwnerEmptyState";var Y0=aa;var ua=class extends s{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new h(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=l.parseItem(e.sortSetting)}};o(ua,"ChannelSubMenu");ua.type="ChannelSubMenu";var la=ua;var ca=class extends s{constructor(e){var i,r;super(),this.thumbnails=v.fromResponse(e.thumbnail),this.endpoint=new h(e.navigationEndpoint),this.label=(r=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||r===void 0?void 0:r.label}};o(ca,"ChannelThumbnailWithLink");ca.type="ChannelThumbnailWithLink";var U0=ca;var pa=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return this.view_count}get published(){return this.published_time}};o(pa,"ChannelVideoPlayer");pa.type="ChannelVideoPlayer";var W0=pa;var da=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=v.fromResponse(e.thumbnail)}};o(da,"Chapter");da.type="Chapter";var Km=da;var fa=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:ye(e.lengthText.simpleText)},this.endpoint=new h(e.navigationEndpoint)}};o(fa,"ChildVideo");fa.type="ChildVideo";var J0=fa;var ma=class extends s{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),this.text=new u(e.text).toString()}};o(ma,"ChipCloudChip");ma.type="ChipCloudChip";var Be=ma;var ha=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Be),this.next_button=l.parseItem(e.nextButton,T),this.previous_button=l.parseItem(e.previousButton,T),this.horizontal_scrollable=e.horizontalScrollable}};o(ha,"ChipCloud");ha.type="ChipCloud";var kr=ha;var _a=class extends s{constructor(e){super(),this.channel_avatar=v.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new h(e.endpoint)}};o(_a,"CollaboratorInfoCardContent");_a.type="CollaboratorInfoCardContent";var H0=_a;var xa=class extends s{constructor(e){super(),this.left=v.fromResponse(e.leftThumbnail),this.top_right=v.fromResponse(e.topRightThumbnail),this.bottom_right=v.fromResponse(e.bottomRightThumbnail),this.endpoint=new h(e.navigationEndpoint)}};o(xa,"CollageHeroImage");xa.type="CollageHeroImage";var z0=xa;var va=class extends s{constructor(e){super(),this.endpoint=new h(e)}};o(va,"Command");va.type="Command";var G0=va;var $m,ga=class extends s{constructor(e){super(),$m.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),k(this,$m,e,"f")}get orig_badge(){return d(this,$m,"f")}};o(ga,"AuthorCommentBadge");$m=new WeakMap;ga.type="AuthorCommentBadge";var qm=ga;var ba=class extends s{constructor(e){super(),this.reply_button=l.parseItem(e.replyButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.author_thumbnail=v.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};o(ba,"CommentReplyDialog");ba.type="CommentReplyDialog";var Xm=ba;var ya=class extends s{constructor(e){var i,r;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(r=e.chipColorPalette)===null||r===void 0?void 0:r.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};o(ya,"PdgCommentChip");ya.type="PdgCommentChip";var Qm=ya;var wa=class extends s{constructor(e){super(),this.custom_badge=v.fromResponse(e.customBadge),this.tooltip=e.tooltip}};o(wa,"SponsorCommentBadge");wa.type="SponsorCommentBadge";var Zm=wa;var Er={};Ee(Er,{decodeVisitorData:()=>rh,encodeChannelAnalyticsParams:()=>z1,encodeCommentActionParams:()=>hv,encodeCommentParams:()=>q1,encodeCommentsSectionParams:()=>$1,encodeCustomThumbnailPayload:()=>Z1,encodeHashtag:()=>eI,encodeMessageParams:()=>mv,encodeMusicSearchFilters:()=>K1,encodeNotificationPref:()=>X1,encodeReelSequence:()=>tI,encodeSearchFilters:()=>G1,encodeVideoMetadataPayload:()=>Q1,encodeVisitorData:()=>fv});var C;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(C||(C={}));var L=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,r]=this;if(i===0&&r===0)return"0";if(e&&r>2147483647)return"-"+th(sv(this),eh).toString(!1);let n=[],a=new L(i,r);for(;T1(a,y1);){let[c,p]=w1(a);n.push(p),a=c}return n.reverse().join("")}static parse(e){let i=parseInt(e,10),r=i<0;if(Number.isNaN(i))return new L(0);if(e.length<10)return i<0?th(sv(new L(-i)),eh):new L(i);let n=new L,a=eh;for(let c of e.split("").reverse())parseInt(c)&&(n=th(n,K0(new L(parseInt(c)),a))),a=K0(a,new L(10));return r?th(sv(n),eh):n}};o(L,"Long");var y1=new L(0),eh=new L(1);function ih(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}o(ih,"makeChunk");function th(t,e){let[i,r,n,a]=ih(t),[c,p,f,_]=ih(e),x=0,g=0,y=0,b=0;return b+=i+c,y+=b>>>16,b&=65535,y+=r+p,g+=y>>>16,y&=65535,g+=n+f,x+=g>>>16,g&=65535,x+=a+_,x&=65535,new L(y<<16|b,x<<16|g)}o(th,"add");function K0(t,e){let[i,r,n,a]=ih(t),[c,p,f,_]=ih(e),x=0,g=0,y=0,b=0;return b+=i*c,y+=b>>>16,b&=65535,y+=i*p+r*c,g+=y>>>16,y&=65535,g+=i*f+n*c+r*p,x+=g>>>16,g&=65535,x+=i*_+r*f+n*p+a*c,x&=65535,new L(y<<16|b,x<<16|g)}o(K0,"mul");function w1(t){let[e,i]=t;return[new L((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}o(w1,"divByTen");function T1(t,e){let[i,r]=t,[n,a]=e;return r!==a?r-a:i-n}o(T1,"compare");function sv(t){let[e,i]=t;return new L(~e,~i)}o(sv,"negate");function Sr(t){let e=[],n=typeof t=="number"?new L(t):t;for(;n[0]||n[1];){let[a,c]=n,p=a&127,f=c>>>7,_=a>>>7|(c&127)<<32-7;n=new L(_,f);let x=n[0]||n[1]?p|128:p;e.push(x)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}o(Sr,"encode");function Cr(t){let e=new L(0),i=0;for(;;){let r=t.getUint8(i);if(e=I1(e,k1(new L(r&127),i*7)),++i,!(r>>>7))return[i,e]}}o(Cr,"decode");function I1(t,e){return new L(t[0]|e[0],t[1]|e[1])}o(I1,"or");function k1(t,e){return e===0?t:e>=32?new L(0,t[0]<<e-32):new L(t[0]<<e,t[1]<<e|t[0]>>>32-e)}o(k1,"leftshift");function E(t){let e=[];return t.forEach(([i,r])=>{switch(e.push(Sr(i<<3|r.type)),r.type){case C.Varint:e.push(Sr(r.value));break;case C.Fixed64:{let n=new Uint8Array(8),a=new DataView(n.buffer);a.setUint32(0,r.value[0],!0),a.setUint32(4,r.value[1],!0),e.push(n);break}case C.LengthDelimited:e.push(Sr(r.value.byteLength)),e.push(r.value);break;case C.Fixed32:{let n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,r.value,!0),e.push(n);break}}}),av(e)}o(E,"serialize");function av(t){let e=t.reduce((r,n)=>r+n.byteLength,0),i=new Uint8Array(e);return t.reduce((r,n)=>(i.set(n,r),r+n.byteLength),0),i}o(av,"concat");function uv(t){if(t instanceof L){let e=new L(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new L(4294967295,4294967295):new L;return new L(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}o(uv,"encode");function lv(t){if(t instanceof L){let e=new L(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new L(4294967295,4294967295):new L;return new L(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}o(lv,"decode");var cv={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>lv(t[0]),sint64:t=>lv(t).toString(!0),bool:t=>t[0]!==0},pv={int32:t=>new L(t),int64:t=>L.parse(t),uint32:t=>new L(t),uint64:t=>L.parse(t),sint32:t=>uv(new L(t)),sint64:t=>uv(L.parse(t)),bool:t=>new L(+t)},S1=Object.fromEntries(Object.entries(cv).map(([t,e])=>[t,i=>{if(i.type===C.Varint)return e(i.value)}])),C1=Object.fromEntries(Object.entries(pv).map(([t,e])=>[t,i=>({type:C.Varint,value:e(i)})])),Y=Object.assign(Object.assign({},S1),{double:t=>t.type!==C.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==C.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===C.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===C.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===C.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===C.Fixed64)return t.value.toString(!0)},string:t=>t.type!==C.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===C.LengthDelimited)return t.value}}),S=Object.assign(Object.assign({},C1),{double:t=>{let e=new L;return new DataView(e.buffer).setFloat64(0,t,!0),{type:C.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:C.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:C.Fixed32,value:t>>>0}),fixed64:t=>({type:C.Fixed64,value:L.parse(t)}),sfixed32:t=>({type:C.Fixed32,value:t|0}),sfixed64:t=>({type:C.Fixed64,value:L.parse(t)}),string:t=>{let e=new TextEncoder;return{type:C.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:C.LengthDelimited,value:t})}),N1=Object.fromEntries(Object.keys(cv).map(t=>[t,function*(e){for(let i of e){let r=Y[t](i);if(r!=null)yield r;else for(let n of A1(i))yield cv[t](n)}}])),g3=Object.assign(Object.assign({},N1),{*double(t){for(let e of t){let i=Y.double(e);i!=null?yield i:yield*P1(e)}},*float(t){for(let e of t){let i=Y.float(e);i!=null?yield i:yield*R1(e)}},*fixed32(t){for(let e of t){let i=Y.fixed32(e);if(i!=null)yield i;else for(let r of $0(e))yield r>>>0}},*fixed64(t){for(let e of t){let i=Y.fixed64(e);if(i!=null)yield i;else for(let r of q0(e))yield r.toString(!1)}},*sfixed32(t){for(let e of t){let i=Y.sfixed32(e);if(i!=null)yield i;else for(let r of $0(e))yield r|0}},*sfixed64(t){for(let e of t){let i=Y.sfixed64(e);if(i!=null)yield i;else for(let r of q0(e))yield r.toString(!0)}}}),E1=Object.fromEntries(Object.keys(pv).map(t=>[t,function(e){return{type:C.LengthDelimited,value:av(e.map(i=>{let r=pv[t](i);return Sr(r)}))}}]));function Nr(t,e){return o(function(r){let n=new Uint8Array(r.length*t),a=new DataView(n.buffer);for(let c=0;c<r.length;++c)e(a,c*t,r[c]);return{type:C.LengthDelimited,value:n}},"pack")}o(Nr,"getFixedPackFn");var b3=Object.assign(Object.assign({},E1),{double:Nr(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:Nr(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:Nr(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:Nr(8,(t,e,i)=>{let r=L.parse(i);t.setUint32(e,r[0],!0),t.setUint32(e+4,r[1],!0)}),sfixed32:Nr(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:Nr(8,(t,e,i)=>{let r=L.parse(i);t.setUint32(e,r[0],!0),t.setUint32(e+4,r[1],!0)})});function*P1(t){if(t.type!==C.LengthDelimited)return;let{value:e}=t,i=0,r=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=r.getFloat64(i,!0);i+=4,yield n}}o(P1,"unpackDouble");function*R1(t){if(t.type!==C.LengthDelimited)return;let{value:e}=t,i=0,r=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=r.getFloat32(i,!0);i+=4,yield n}}o(R1,"unpackFloat");function*A1(t){if(t.type!==C.LengthDelimited)return;let{value:e}=t,i=0,r=e.byteOffset;for(;i<e.length;){let n=Cr(new DataView(e.buffer,r+i));i+=n[0],yield n[1]}}o(A1,"unpackVarint");function*$0(t){if(t.type!==C.LengthDelimited)return;let{value:e}=t,i=0,r=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=r.getUint32(i,!0);i+=4,yield n}}o($0,"unpackFixed32");function*q0(t){if(t.type!==C.LengthDelimited)return;let{value:e}=t,i=0,r=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=r.getUint32(i,!0);i+=4;let a=r.getUint32(i,!0);i+=4,yield new L(n,a)}}o(q0,"unpackFixed64");function U(t){let e=0,i=t.byteOffset,r=[],n=new DataView(t.buffer,i);for(;e<t.length;){let a=Cr(new DataView(t.buffer,i+e)),c=a[1][0];e+=a[0];let p=c&7,f=c>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case C.Varint:{let[g,y]=Cr(new DataView(t.buffer,i+e));r.push([f,{type:p,value:y}]),e+=g;break}case C.Fixed64:let _=n.getUint32(e,!0),x=n.getUint32(e+=4,!0);e+=4,r.push([f,{type:p,value:new L(_,x)}]);break;case C.LengthDelimited:{let[g,y]=Cr(new DataView(t.buffer,i+e));r.push([f,{type:p,value:t.subarray(e+=g,e+=y[0])}]);break}case C.StartGroup:case C.EndGroup:r.push([f,{type:p}]);break;case C.Fixed32:r.push([f,{type:p,value:n.getUint32(e,!0)}]),e+=4;break}}return r}o(U,"deserialize");function V1(){return{id:"",timestamp:0}}o(V1,"getDefaultValue");function X0(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,S.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,S.int32(i)])}return E(e)}o(X0,"encodeBinary");function Q0(t){let e=V1(),i=U(t),r=new Map(i);e:{let n=r.get(1);if(n===void 0)break e;let a=Y.string(n);if(a===void 0)break e;e.id=a}e:{let n=r.get(5);if(n===void 0)break e;let a=Y.int32(n);if(a===void 0)break e;e.timestamp=a}return e}o(Q0,"decodeBinary");function Z0(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,S.string(i)])}return E(e)}o(Z0,"encodeBinary");function eg(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:C.LengthDelimited,value:Z0(i)}])}return E(e)}o(eg,"encodeBinary");function tg(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,S.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,S.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,S.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,S.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,S.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,S.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,S.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,S.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,S.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,S.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,S.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,S.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,S.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,S.int32(i)])}return E(e)}o(tg,"encodeBinary");function ig(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,S.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:C.LengthDelimited,value:tg(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,S.int32(i)])}return E(e)}o(ig,"encodeBinary");function rg(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,S.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,S.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,S.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,S.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,S.int32(i)])}return E(e)}o(rg,"encodeBinary");function og(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:C.LengthDelimited,value:rg(i)}])}return E(e)}o(og,"encodeBinary");function ng(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:C.LengthDelimited,value:og(i)}])}return E(e)}o(ng,"encodeBinary");function sg(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,S.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,S.string(i)])}return E(e)}o(sg,"encodeBinary");function ag(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:C.LengthDelimited,value:sg(i)}])}return E(e)}o(ag,"encodeBinary");function ug(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:C.LengthDelimited,value:ag(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,S.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,S.int32(i)])}return E(e)}o(ug,"encodeBinary");function lg(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,S.string(i)])}return E(e)}o(lg,"encodeBinary");function cg(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,S.int32(i)])}return E(e)}o(cg,"encodeBinary");function pg(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,S.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:C.LengthDelimited,value:cg(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,S.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,S.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,S.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,S.int32(i)])}return E(e)}o(pg,"encodeBinary");function dg(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,S.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,S.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,S.int32(i)])}return E(e)}o(dg,"encodeBinary");function fg(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,S.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:C.LengthDelimited,value:pg(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:C.LengthDelimited,value:dg(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,S.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,S.string(i)])}return E(e)}o(fg,"encodeBinary");function mg(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:C.LengthDelimited,value:lg(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,S.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:C.LengthDelimited,value:fg(i)}])}return E(e)}o(mg,"encodeBinary");function hg(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,S.int32(i)])}return E(e)}o(hg,"encodeBinary");function _g(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,S.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:C.LengthDelimited,value:hg(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,S.int32(i)])}return E(e)}o(_g,"encodeBinary");function xg(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,S.string(i)])}return E(e)}o(xg,"encodeBinary");function vg(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:C.LengthDelimited,value:xg(i)}])}return E(e)}o(vg,"encodeBinary");function gg(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,S.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:C.LengthDelimited,value:vg(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,S.string(i)])}return E(e)}o(gg,"encodeBinary");function bg(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,S.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,S.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,S.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,S.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,S.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:C.LengthDelimited,value:gg(i)}])}return E(e)}o(bg,"encodeBinary");function yg(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,S.int32(i)])}return E(e)}o(yg,"encodeBinary");function wg(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,S.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:C.LengthDelimited,value:yg(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,S.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,S.int32(i)])}return E(e)}o(wg,"encodeBinary");function Tg(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,S.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,S.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,S.string(i)])}return E(e)}o(Tg,"encodeBinary");function Ig(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:C.LengthDelimited,value:Tg(i)}])}return E(e)}o(Ig,"encodeBinary");function kg(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,S.string(i)])}return E(e)}o(kg,"encodeBinary");function Sg(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,S.string(i)])}return E(e)}o(Sg,"encodeBinary");function Cg(t){let e=[];for(let i of t.list)e.push([1,S.string(i)]);return E(e)}o(Cg,"encodeBinary");function Ng(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,S.int32(i)])}return E(e)}o(Ng,"encodeBinary");function Eg(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,S.string(i)])}return E(e)}o(Eg,"encodeBinary");function Pg(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,S.bytes(i)])}return E(e)}o(Pg,"encodeBinary");function Rg(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,S.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:C.LengthDelimited,value:Pg(i)}])}return E(e)}o(Rg,"encodeBinary");function Ag(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,S.int32(i)])}return E(e)}o(Ag,"encodeBinary");function Vg(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,S.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,S.int32(i)])}return E(e)}o(Vg,"encodeBinary");function Mg(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,S.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,S.int32(i)])}return E(e)}o(Mg,"encodeBinary");function dv(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:C.LengthDelimited,value:Ig(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,S.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:C.LengthDelimited,value:kg(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:C.LengthDelimited,value:Sg(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:C.LengthDelimited,value:Cg(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:C.LengthDelimited,value:Ng(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:C.LengthDelimited,value:Eg(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:C.LengthDelimited,value:Rg(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:C.LengthDelimited,value:Ag(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:C.LengthDelimited,value:Vg(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:C.LengthDelimited,value:Mg(i)}])}return E(e)}o(dv,"encodeBinary");function Bg(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,S.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,S.int32(i)])}return E(e)}o(Bg,"encodeBinary");function Dg(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:C.LengthDelimited,value:Bg(i)}])}return E(e)}o(Dg,"encodeBinary");function Og(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,S.int32(i)])}return E(e)}o(Og,"encodeBinary");function Lg(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,S.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:C.LengthDelimited,value:Og(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,S.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,S.int32(i)])}return E(e)}o(Lg,"encodeBinary");function fv(t,e){let i=X0({id:t,timestamp:e});return encodeURIComponent(Ge(i).replace(/\+/g,"-").replace(/\//g,"_"))}o(fv,"encodeVisitorData");function rh(t){return Q0(_v(decodeURIComponent(t)))}o(rh,"decodeVisitorData");function z1(t){let e=eg({params:{channelId:t}});return encodeURIComponent(Ge(e))}o(z1,"encodeChannelAnalyticsParams");function G1(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},r={all:void 0,short:1,long:2,medium:3},n={relevance:void 0,rating:1,upload_date:2,view_count:3},a={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},c={};if(t?c.filters={}:c.noFilter=0,c.filters&&(t.upload_date&&(c.filters.uploadDate=e[t.upload_date]),t.type&&(c.filters.type=i[t.type]),t.duration&&(c.filters.duration=r[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(c.sortBy=n[t.sort_by]),t.features))for(let f of t.features)c.filters[a[f]]=1;let p=ig(c);return encodeURIComponent(Ge(p))}o(G1,"encodeSearchFilters");function K1(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let r=ng(i);return encodeURIComponent(Ge(r))}o(K1,"encodeMusicSearchFilters");function mv(t,e){let i=ug({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(Ge(i)))}o(mv,"encodeMessageParams");function $1(t,e={}){let r=mg({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(Ge(r))}o($1,"encodeCommentsSectionParams");function q1(t){let e=_g({videoId:t,params:{index:0},number:7});return encodeURIComponent(Ge(e))}o(q1,"encodeCommentParams");function hv(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let r=bg(i);return encodeURIComponent(Ge(r))}o(hv,"encodeCommentActionParams");function X1(t,e){let i=wg({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(Ge(i))}o(X1,"encodeNotificationPref");function Q1(t,e){let i={context:{client:{unkparam:14,clientName:G.ANDROID.NAME,clientVersion:G.YTSTUDIO_ANDROID.VERSION}},target:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),dv(i)}o(Q1,"encodeVideoMetadataPayload");function Z1(t,e){let i={context:{client:{unkparam:14,clientName:G.ANDROID.NAME,clientVersion:G.YTSTUDIO_ANDROID.VERSION}},target:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return dv(i)}o(Z1,"encodeCustomThumbnailPayload");function eI(t){let e=Dg({params:{hashtag:t,type:1}});return encodeURIComponent(Ge(e))}o(eI,"encodeHashtag");function tI(t){let e=Lg({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent(Ge(e))}o(tI,"encodeReelSequence");var ut,Ta=class extends s{constructor(e){var i,r,n,a,c,p,f;super(),ut.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=v.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=l.parseItem(e.sponsorCommentBadge,Zm),this.paid_comment_chip=l.parseItem(e.paidCommentChipRenderer,Qm),this.author_badge=l.parseItem(e.authorCommentBadge,qm),this.author=new R(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=l.parseItem(e.actionMenu,O),this.action_buttons=l.parseItem(e.actionButtons,wr),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((n=(r=this.action_buttons)===null||r===void 0?void 0:r.like_button)===null||n===void 0)&&n.is_toggled),this.is_disliked=!!(!((c=(a=this.action_buttons)===null||a===void 0?void 0:a.dislike_button)===null||c===void 0)&&c.is_toggled),this.is_hearted=!!(!((f=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||f===void 0)&&f.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return I(this,void 0,void 0,function*(){if(!d(this,ut,"f"))throw new w("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new w("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new w("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,ut,"f"),{parse:!1})})}dislike(){var e;return I(this,void 0,void 0,function*(){if(!d(this,ut,"f"))throw new w("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new w("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new w("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,ut,"f"),{parse:!1})})}reply(e){var i,r,n;return I(this,void 0,void 0,function*(){if(!d(this,ut,"f"))throw new w("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new w("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let a=(r=this.action_buttons)===null||r===void 0?void 0:r.reply_button;if(!(!((n=a.endpoint)===null||n===void 0)&&n.dialog))throw new w("Reply button endpoint did not have a dialog.");let p=a.endpoint.dialog.as(Xm).reply_button;if(!p)throw new w("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new w("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(d(this,ut,"f"),{commentText:e})})}translate(e){var i,r,n,a,c,p;return I(this,void 0,void 0,function*(){if(!d(this,ut,"f"))throw new w("An active caller must be provide to perform this operation.");let _={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},x=hv(22,_),g=yield d(this,ut,"f").execute("comment/perform_comment_action",{action:x,client:"ANDROID"}),y=(r=(i=g.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||r===void 0?void 0:r.mutations,b=(p=(c=(a=(n=y==null?void 0:y[0])===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},g),{content:b})})}setActions(e){k(this,ut,e,"f")}};o(Ta,"Comment");ut=new WeakMap;Ta.type="Comment";var Pr=Ta;var Ia=class extends s{constructor(e){super(),this.id=e.id,this.categories=l.parseArray(e.categories),this.category_buttons=l.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};o(Ia,"EmojiPicker");Ia.type="EmojiPicker";var oh=Ia;var ka=class extends s{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=v.fromResponse(e.authorThumbnail),this.submit_button=l.parseItem(e.submitButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.placeholder=new u(e.placeholderText),this.emoji_button=l.parseItem(e.emojiButton,T),this.emoji_picker=l.parseItem(e.emojiPicker,oh)}};o(ka,"CommentDialog");ka.type="CommentDialog";var Fg=ka;var Sa=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),this.view_replies=l.parseItem(e.viewReplies,T),this.hide_replies=l.parseItem(e.hideReplies,T),this.view_replies_creator_thumbnail=v.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};o(Sa,"CommentReplies");Sa.type="CommentReplies";var nh=Sa;var Ca=class extends s{constructor(e){super(),this.simplebox_avatar=v.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};o(Ca,"CommentsSimplebox");Ca.type="CommentsSimplebox";var sh=Ca;var Na=class extends s{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=v.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};o(Na,"CommentsEntryPointTeaser");Na.type="CommentsEntryPointTeaser";var ah=Na;var Ea=class extends s{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=v.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=l.parseItem(e.contentRenderer,[ah,sh])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};o(Ea,"CommentsEntryPointHeader");Ea.type="CommentsEntryPointHeader";var uh=Ea;var Pa=class extends s{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=l.parseItem(e.createRenderer),this.sort_menu=l.parseItem(e.sortMenu,at),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:v.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};o(Pa,"CommentsHeader");Pa.type="CommentsHeader";var Rr=Pa;var Ra=class extends s{constructor(e){super(),this.submit_button=l.parseItem(e.submitButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.author_thumbnail=v.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};o(Ra,"CommentSimplebox");Ra.type="CommentSimplebox";var lh=Ra;var Pt,ki,Aa=class extends s{constructor(e){super(),Pt.set(this,void 0),ki.set(this,void 0),this.comment=l.parseItem(e.comment,Pr),this.comment_replies_data=l.parseItem(e.replies,nh),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return I(this,void 0,void 0,function*(){if(!d(this,Pt,"f"))throw new w("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new w("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(ue);if(!i)throw new w("Replies continuation not found.");let r=yield i.endpoint.call(d(this,Pt,"f"),{parse:!0});if(!r.on_response_received_endpoints_memo)throw new w("Unexpected response.",r);return this.replies=re(r.on_response_received_endpoints_memo.getType(Pr).map(n=>(n.setActions(d(this,Pt,"f")),n))),k(this,ki,r==null?void 0:r.on_response_received_endpoints_memo.getType(ue).first(),"f"),this})}getContinuation(){var e;return I(this,void 0,void 0,function*(){if(!this.replies)throw new w("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!d(this,ki,"f"))throw new w("Continuation not found.");if(!d(this,Pt,"f"))throw new w("Actions instance not set for this thread.");let i=(e=d(this,ki,"f").button)===null||e===void 0?void 0:e.as(T);if(!i)throw new w('"Load more" button not found.');let r=yield i.endpoint.call(d(this,Pt,"f"),{parse:!0});if(!r.on_response_received_endpoints_memo)throw new w("Unexpected response.",r);return this.replies=re(r.on_response_received_endpoints_memo.getType(Pr).map(n=>(n.setActions(d(this,Pt,"f")),n))),k(this,ki,r.on_response_received_endpoints_memo.getType(ue).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new w("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!d(this,ki,"f")}setActions(e){k(this,Pt,e,"f")}};o(Aa,"CommentThread");Pt=new WeakMap,ki=new WeakMap;Aa.type="CommentThread";var ch=Aa;var Va=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=v.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new h(e.navigationEndpoint),this.tv_banner=v.fromResponse(e.tvBanner),this.menu=l.parseItem(e.menu,O)}};o(Va,"CompactChannel");Va.type="CompactChannel";var jg=Va;var Ma=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new h(e.navigationEndpoint),this.style=e.style}};o(Ma,"CompactLink");Ma.type="CompactLink";var Ar=Ma;var Ba=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail)}};o(Ba,"PlaylistCustomThumbnail");Ba.type="PlaylistCustomThumbnail";var Vr=Ba;var Da=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail)}};o(Da,"PlaylistVideoThumbnail");Da.type="PlaylistVideoThumbnail";var Mr=Da;var Oa=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new R(e.longBylineText,e.ownerBadges,null),this.thumbnails=v.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(r=>r.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=l.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=l.parseItem(e.menu),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer,[Mr,Vr])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};o(Oa,"Playlist");Oa.type="Playlist";var wt=Oa;var La=class extends wt{constructor(e){super(e)}};o(La,"CompactMix");La.type="CompactMix";var Yg=La;var Fa=class extends s{constructor(e){var i;super();let r=((i=e.thumbnailOverlays.find(a=>a.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=v.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new R(e.shortBylineText);let n=e.lengthText?new u(e.lengthText).toString():new u(r).toString();this.duration={text:n,seconds:ye(n)},this.endpoint=new h(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=l.parseItem(e.menu,O)}};o(Fa,"CompactMovie");Fa.type="CompactMovie";var Ug=Fa;var ja=class extends wt{constructor(e){super(e)}};o(ja,"CompactPlaylist");ja.type="CompactPlaylist";var Wg=ja;var Ya=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new h(e.navigationEndpoint),this.thumbnail=v.fromResponse(e.thumbnail)}};o(Ya,"CompactStation");Ya.type="CompactStation";var Jg=Ya;var Ua=class extends s{constructor(e){super(),this.title=new u(e.title),this.confirm_button=l.parseItem(e.confirmButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};o(Ua,"ConfirmDialog");Ua.type="ConfirmDialog";var Hg=Ua;var Wa=class extends s{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>({metadata_parts:i.metadataParts.map(r=>({text:u.fromAttributed(r.text)}))})),this.delimiter=e.delimiter}};o(Wa,"ContentMetadataView");Wa.type="ContentMetadataView";var ph=Wa;var Ja=class extends s{constructor(e){super(),this.text=new u(e.text)}};o(Ja,"Message");Ja.type="Message";var Gt=Ja;var Ha=class extends s{constructor(e){super(),this.availability_message=l.parseItem(e.availabilityMessage,Gt)}};o(Ha,"ConversationBar");Ha.type="ConversationBar";var zg=Ha;var za=class extends s{constructor(e){super(),this.copy_button=l.parseItem(e.copyButton,T),this.short_url=e.shortUrl,this.style=e.style}};o(za,"CopyLink");za.type="CopyLink";var dh=za;var Ga=class extends s{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};o(Ga,"HeatMarker");Ga.type="HeatMarker";var fh=Ga;var Ka=class extends s{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=l.parseArray(e.heatMarkers,fh),this.heat_markers_decorations=l.parseArray(e.heatMarkersDecorations)}};o(Ka,"Heatmap");Ka.type="Heatmap";var mh=Ka;var $a=class extends s{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=l.parseItem(e.value.heatmap,mh)),Reflect.has(e.value,"chapters")&&(this.value.chapters=l.parseArray(e.value.chapters,Km)))}};o($a,"Marker");$a.type="Marker";var qa=class extends s{constructor(e){var i;super(),this.markers_map=re(((i=e.markersMap)===null||i===void 0?void 0:i.map(r=>new $a(r)))||[])}};o(qa,"MultiMarkersPlayerBar");qa.type="MultiMarkersPlayerBar";var hh=qa;var Xa=class extends s{constructor(e){super(),this.player_bar=l.parseItem(e.playerBar,hh),this.player_bar_action_button=l.parseItem(e.playerBarActionButton,T)}};o(Xa,"DecoratedPlayerBar");Xa.type="DecoratedPlayerBar";var _h=Xa;var Qa=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new h(e.navigationEndpoint),this.large_form_factor_background_thumbnail=l.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=l.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};o(Qa,"DefaultPromoPanel");Qa.type="DefaultPromoPanel";var Gg=Qa;var Za=class extends s{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new h(e.navigationEndpoint||e.correctedQueryEndpoint)}};o(Za,"DidYouMean");Za.type="DidYouMean";var Kg=Za;var eu=class extends s{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new h(e.command),this.target_id=e.targetId}};o(eu,"DownloadButton");eu.type="DownloadButton";var $g=eu;var tu=class extends s{constructor(e){super(),this.text=e.text.content}};o(tu,"DynamicTextView");tu.type="DynamicTextView";var xh=tu;var Si=class extends s{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(r=>new Si(r)))}};o(Si,"ChildElement");Si.type="ChildElement";var vh=Si;var Ci=class extends s{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return l.parseItem(e,Ci);let r=e.newElement.type.componentType;this.model=l.parseItem(r==null?void 0:r.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=re(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(n=>new vh(n)))||[]))}};o(Ci,"Element");Ci.type="Element";var Br=Ci;var iu=class extends s{constructor(e){super(),this.title=new u(e.title),this.first_option=l.parseItem(e.firstOption),this.menu=l.parseItem(e.menu,O)}};o(iu,"EmergencyOnebox");iu.type="EmergencyOnebox";var qg=iu;var ru=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};o(ru,"EmojiPickerCategory");ru.type="EmojiPickerCategory";var Xg=ru;var ou=class extends s{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};o(ou,"EmojiPickerCategoryButton");ou.type="EmojiPickerCategoryButton";var Qg=ou;var nu=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new h(e.command),this.emoji_ids=e.emojiIds}};o(nu,"EmojiPickerUpsellCategory");nu.type="EmojiPickerUpsellCategory";var Zg=nu;var su=class extends s{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new h(e.endpoint),Reflect.has(e,"image")&&(this.image=v.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=v.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=l.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};o(su,"EndscreenElement");su.type="EndscreenElement";var eb=su;var au=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new h(e.navigationEndpoint),this.thumbnails=v.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};o(au,"EndScreenPlaylist");au.type="EndScreenPlaylist";var gh=au;var uu=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=v.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new R(e.shortBylineText,e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=l.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};o(uu,"EndScreenVideo");uu.type="EndScreenVideo";var bh=uu;var lu=class extends s{constructor(e){super(),this.title=e.title,this.endpoint=new h(e.endpoint),this.selected=e.selected,this.content=l.parseItem(e.content)}};o(lu,"ExpandableTab");lu.type="ExpandableTab";var Dr=lu;var cu=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(cu,"ExpandedShelfContents");cu.type="ExpandedShelfContents";var tb=cu;var pu=class extends s{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};o(pu,"FancyDismissibleDialog");pu.type="FancyDismissibleDialog";var ib=pu;var du=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,Be)}};o(du,"FeedFilterChipBar");du.type="FeedFilterChipBar";var Rt=du;var fu=class extends s{constructor(e){super(),this.title=new Text(e.title),this.subtitle=new Text(e.subtitle),this.endpoint=new h(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};o(fu,"FeedNudge");fu.type="FeedNudge";var rb=fu;var mu=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(mu,"FeedTabbedHeader");mu.type="FeedTabbedHeader";var yh=mu;var hu=class extends s{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:l.parseArray(i.actions,Fm)})),this.style=e.style}};o(hu,"FlexibleActionsView");hu.type="FlexibleActionsView";var wh=hu;var _u=class extends s{constructor(e){super(),this.title=new u(e.title),this.box_art=v.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new h(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};o(_u,"GameDetails");_u.type="GameDetails";var ob=_u;var xu=class extends s{constructor(e){var i,r,n;super(),this.items=l.parseArray(e.items),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((n=(r=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.nextContinuationData)===null||n===void 0?void 0:n.continuation)||null}get contents(){return this.items}};o(xu,"Grid");xu.type="Grid";var nb=xu;var vu=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new R(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton)}};o(vu,"GridChannel");vu.type="GridChannel";var Th=vu;var gu=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(gu,"GridHeader");gu.type="GridHeader";var sb=gu;var bu=class extends s{constructor(e){var i,r;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((r=e.longBylineText)===null||r===void 0)&&r.simpleText?new u(e.longBylineText):null,this.thumbnails=v.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new h(e.navigationEndpoint),this.secondary_endpoint=new h(e.secondaryNavigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};o(bu,"GridMix");bu.type="GridMix";var ab=bu;var yu=class extends s{constructor(e){var i;super();let r=(i=e.thumbnailOverlays.find(n=>n.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=v.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):r!=null&&r.text?new u(r.text):null,this.endpoint=new h(e.navigationEndpoint),this.badges=l.parseArray(e.badges,je),this.metadata=new u(e.metadata),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};o(yu,"GridMovie");yu.type="GridMovie";var ub=yu;var wu=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new R(e.shortBylineText,e.ownerBadges)),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=v.fromResponse(e.thumbnail),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(r=>v.fromResponse(r)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};o(wu,"GridPlaylist");wu.type="GridPlaylist";var Ih=wu;var Tu=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail)}};o(Tu,"ShowCustomThumbnail");Tu.type="ShowCustomThumbnail";var kh=Tu;var Iu=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};o(Iu,"ThumbnailOverlayBottomPanel");Iu.type="ThumbnailOverlayBottomPanel";var Sh=Iu;var ku=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=ee(e.thumbnailRenderer,kh),this.endpoint=new h(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=Ae(e.thumbnailOverlays,Sh),this.author=new R(e.shortBylineText,void 0)}};o(ku,"GridShow");ku.type="GridShow";var lb=ku;var Su=class extends s{constructor(e){var i,r;super();let n=(i=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=v.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.rich_thumbnail=l.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):n!=null&&n.text?new u(n.text):null,this.author=e.shortBylineText&&new R(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new h(e.navigationEndpoint),this.menu=l.parseItem(e.menu,O),Reflect.has(e,"buttons")&&(this.buttons=l.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((r=e.upcomingEventData)===null||r===void 0)&&r.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};o(Su,"GridVideo");Su.type="GridVideo";var Ch=Su;var Cu=class extends s{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=v.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};o(Cu,"GuideEntry");Cu.type="GuideEntry";var Ni=Cu;var Nu=class extends s{constructor(e){super(),this.expander_item=ee(e.expanderItem,Ni),this.collapser_item=ee(e.collapserItem,Ni),this.expandable_items=Ae(e.expandableItems)}};o(Nu,"GuideCollapsibleEntry");Nu.type="GuideCollapsibleEntry";var cb=Nu;var Eu=class extends s{constructor(e){super(),this.header_entry=ee(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Ae(e.sectionItems)}};o(Eu,"GuideCollapsibleSectionEntry");Eu.type="GuideCollapsibleSectionEntry";var pb=Eu;var Pu=class extends Ni{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};o(Pu,"GuideDownloadsEntry");Pu.type="GuideDownloadsEntry";var db=Pu;var Ru=class extends s{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=Ae(e.items)}};o(Ru,"GuideSection");Ru.type="GuideSection";var Or=Ru;var Au=class extends Or{};o(Au,"GuideSubscriptionsSection");Au.type="GuideSubscriptionsSection";var Nh=Au;var Vu=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};o(Vu,"HashtagHeader");Vu.type="HashtagHeader";var Eh=Vu;var Mu=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=v.fromResponse(e.hashtagThumbnail),this.endpoint=new h(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};o(Mu,"HashtagTile");Mu.type="HashtagTile";var fb=Mu;var Bu=class extends s{constructor(e){super(),this.thumbnails=v.fromResponse(e.thumbnail),this.on_tap_endpoint=new h(e.onTap)}};o(Bu,"HeroPlaylistThumbnail");Bu.type="HeroPlaylistThumbnail";var mb=Bu;var Du=class extends s{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:e.thumbnail.image.sources,endpoint:new h(e.thumbnail.onTap),on_long_press_endpoint:new h(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:e.backgroundImage.image.sources,gradient_image:e.backgroundImage.gradientImage.sources},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new h(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new h(e.textOnTap)}};o(Du,"Panel");Du.type="Panel";var Ou=class extends s{constructor(e){super(),this.panels=re(e.highlightsCarousel.panels.map(i=>new Du(i)))}};o(Ou,"HighlightsCarousel");Ou.type="HighlightsCarousel";var hb=Ou;var Lu=class extends s{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new h(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new h(e.serviceEndpoint))}};o(Lu,"SearchSuggestion");Lu.type="SearchSuggestion";var Ph=Lu;var Fu=class extends Ph{constructor(e){super(e)}};o(Fu,"HistorySuggestion");Fu.type="HistorySuggestion";var _b=Fu;var ju=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.previous_button=l.parseItem(e.previousButton,T),this.next_button=l.parseItem(e.nextButton,T)}get contents(){return this.items}};o(ju,"HorizontalMovieList");ju.type="HorizontalMovieList";var xb=ju;var Yu=class extends s{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new h(e.navigationEndpoint)}};o(Yu,"IconLink");Yu.type="IconLink";var Rh=Yu;var Uu=class extends s{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new h(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new h(e.originalQueryEndpoint):void 0}};o(Uu,"IncludingResultsFor");Uu.type="IncludingResultsFor";var vb=Uu;var Wu=class extends s{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),this.paragraphs=e.paragraphs.map(i=>new u(i)),this.thumbnail=v.fromResponse(e.thumbnail),this.source_endpoint=new h(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};o(Wu,"InfoPanelContent");Wu.type="InfoPanelContent";var Ah=Wu;var Ju=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.menu=l.parseItem(e.menu,O),this.content=l.parseItem(e.content,Ah),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};o(Ju,"InfoPanelContainer");Ju.type="InfoPanelContainer";var Vh=Ju;var Hu=class extends s{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=l.parseArray(e.badges,je),this.box_art=v.fromResponse(e.boxArt),this.banner=v.fromResponse(e.banner),this.buttons=l.parseArray(e.buttons,[Re,T]),this.auto_generated=new u(e.autoGenerated)}};o(Hu,"InteractiveTabbedHeader");Hu.type="InteractiveTabbedHeader";var Mh=Hu;var zu=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(zu,"ItemSectionHeader");zu.type="ItemSectionHeader";var Bh=zu;var Gu=class extends s{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new h(e.endpoint)}};o(Gu,"ItemSectionTab");Gu.type="Tab";var Dh=Gu;var Ku=class extends s{constructor(e){super(),this.title=new u(e.title),this.tabs=l.parseArray(e.tabs,Dh),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};o(Ku,"ItemSectionTabbedHeader");Ku.type="ItemSectionTabbedHeader";var Oh=Ku;var $u=class extends s{constructor(e){var i,r,n;super(),this.header=l.parseItem(e.header,[Rr,Bh,Oh]),this.contents=l.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=(n=(r=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||r===void 0?void 0:r.nextContinuationData)===null||n===void 0?void 0:n.continuation)}};o($u,"ItemSection");$u.type="ItemSection";var Ye=$u;var qu=class extends s{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new h(i)))}};o(qu,"LikeButton");qu.type="LikeButton";var Lh=qu;var Xu=class extends s{constructor(e){var i,r;super(),this.header=l.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(r=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||r===void 0?void 0:r.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};o(Xu,"LiveChat");Xu.type="LiveChat";var Fh=Xu;var Qu=class extends s{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};o(Qu,"LiveChatBannerHeader");Qu.type="LiveChatBannerHeader";var jh=Qu;var Zu=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,jh),this.contents=l.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};o(Zu,"LiveChatBanner");Zu.type="LiveChatBanner";var Yh=Zu;var el=class extends s{constructor(e){super(),this.banner=l.parseItem(e.bannerRenderer,Yh)}};o(el,"AddBannerToLiveChatCommand");el.type="AddBannerToLiveChatCommand";var gb=el;var tl=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};o(tl,"AddChatItemAction");tl.type="AddChatItemAction";var Uh=tl;var il=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),this.duration_sec=e.durationSec}};o(il,"AddLiveChatTickerItemAction");il.type="AddLiveChatTickerItemAction";var bb=il;var rl=class extends s{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};o(rl,"DimChatItemAction");rl.type="DimChatItemAction";var yb=rl;var ol=class extends s{constructor(e){super(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.moderation_buttons=l.parseArray(e.moderationButtons,T),this.auto_moderated_item=l.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};o(ol,"LiveChatAutoModMessage");ol.type="LiveChatAutoModMessage";var wb=ol;var nl=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=v.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};o(nl,"LiveChatBannerPoll");nl.type="LiveChatBannerPoll";var Tb=nl;var sl=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new R(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new h(e.contextMenuEndpoint)}};o(sl,"LiveChatMembershipItem");sl.type="LiveChatMembershipItem";var Ib=sl;var al=class extends s{constructor(e){super(),this.message=new u(e.message),this.author=new R(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};o(al,"LiveChatPaidMessage");al.type="LiveChatPaidMessage";var kb=al;var ul=class extends s{constructor(e){super(),this.id=e.id,this.author=new R(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=v.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};o(ul,"LiveChatPaidSticker");ul.type="LiveChatPaidSticker";var Sb=ul;var ll=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};o(ll,"LiveChatPlaceholderItem");ll.type="LiveChatPlaceholderItem";var Cb=ll;var cl=class extends s{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=v.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=l.parseItem(e.informationButton),this.endpoint=new h(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=v.fromResponse(e.authorPhoto),this.information_dialog=l.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};o(cl,"LiveChatProductItem");cl.type="LiveChatProductItem";var Nb=cl;var pl=class extends s{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};o(pl,"LiveChatRestrictedParticipation");pl.type="LiveChatRestrictedParticipation";var Eb=pl;var Ei=class extends s{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=l.parseArray(e.inlineActionButtons,T),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};o(Ei,"LiveChatMessageBase");Ei.type="LiveChatMessageBase";var dl=class extends Ei{constructor(e){super(e),this.author=new R(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new h(e.contextMenuEndpoint)}};o(dl,"LiveChatTextMessage");dl.type="LiveChatTextMessage";var Pb=dl;var fl=class extends s{constructor(e){var i,r;super(),this.author=new R(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=l.parseItem((r=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||r===void 0?void 0:r.renderer),this.show_item_endpoint=new h(e.showItemEndpoint),this.id=e.id}};o(fl,"LiveChatTickerPaidMessageItem");fl.type="LiveChatTickerPaidMessageItem";var Wh=fl;var ml=class extends Wh{};o(ml,"LiveChatTickerPaidStickerItem");ml.type="LiveChatTickerPaidStickerItem";var Rb=ml;var hl=class extends s{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new R(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};o(hl,"LiveChatTickerSponsorItem");hl.type="LiveChatTickerSponsorItem";var Ab=hl;var _l=class extends Ei{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=l.parseItem(e.actionButton)}};o(_l,"LiveChatViewerEngagementMessage");_l.type="LiveChatViewerEngagementMessage";var Vb=_l;var xl=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=v.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};o(xl,"PollHeader");xl.type="PollHeader";var Mb=xl;var vl=class extends s{constructor(e){super(),this.id=e.id,this.contents=l.parse(e.contents),this.target_id=e.targetId}};o(vl,"LiveChatActionPanel");vl.type="LiveChatActionPanel";var Jh=vl;var gl=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};o(gl,"MarkChatItemAsDeletedAction");gl.type="MarkChatItemAsDeletedAction";var Bb=gl;var bl=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};o(bl,"MarkChatItemsByAuthorAsDeletedAction");bl.type="MarkChatItemsByAuthorAsDeletedAction";var Db=bl;var yl=class extends s{constructor(e){super(),this.target_action_id=e.targetActionId}};o(yl,"RemoveBannerForLiveChatCommand");yl.type="RemoveBannerForLiveChatCommand";var Ob=yl;var wl=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId}};o(wl,"RemoveChatItemAction");wl.type="RemoveChatItemAction";var Lb=wl;var Tl=class extends s{constructor(e){super(),this.external_channel_id=e.externalChannelId}};o(Tl,"RemoveChatItemByAuthorAction");Tl.type="RemoveChatItemByAuthorAction";var Fb=Tl;var Il=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=l.parseItem(e.replacementItem)}};o(Il,"ReplaceChatItemAction");Il.type="ReplaceChatItemAction";var jb=Il;var kl=class extends s{constructor(e){var i;super(),this.actions=l.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(r=>(delete r.clickTrackingParams,r))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};o(kl,"ReplayChatItemAction");kl.type="ReplayChatItemAction";var Yb=kl;var Sl=class extends s{constructor(e){super(),this.panel_to_show=l.parseItem(e.panelToShow,Jh)}};o(Sl,"ShowLiveChatActionPanelAction");Sl.type="ShowLiveChatActionPanelAction";var Ub=Sl;var Cl=class extends s{constructor(e){super(),this.dialog=l.parseItem(e.dialog)}};o(Cl,"ShowLiveChatDialogAction");Cl.type="ShowLiveChatDialogAction";var Wb=Cl;var Nl=class extends s{constructor(e){super(),this.tooltip=l.parseItem(e.tooltip)}};o(Nl,"ShowLiveChatTooltipCommand");Nl.type="ShowLiveChatTooltipCommand";var Jb=Nl;var El=class extends s{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};o(El,"UpdateDateTextAction");El.type="UpdateDateTextAction";var Hh=El;var Pl=class extends s{constructor(e){super(),this.description=new u(e.description)}};o(Pl,"UpdateDescriptionAction");Pl.type="UpdateDescriptionAction";var zh=Pl;var Rl=class extends s{constructor(e){super(),this.poll_to_update=l.parseItem(e.pollToUpdate)}};o(Rl,"UpdateLiveChatPollAction");Rl.type="UpdateLiveChatPollAction";var Hb=Rl;var Al=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(Al,"UpdateTitleAction");Al.type="UpdateTitleAction";var Gh=Al;var Vl=class extends s{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};o(Vl,"UpdateToggleButtonTextAction");Vl.type="UpdateToggleButtonTextAction";var Kh=Vl;var Ml=class extends s{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};o(Ml,"UpdateViewershipAction");Ml.type="UpdateViewershipAction";var $h=Ml;var Bl=class extends je{constructor(e){super(e),this.custom_thumbnail=v.fromResponse(e.customThumbnail)}};o(Bl,"LiveChatAuthorBadge");Bl.type="LiveChatAuthorBadge";var zb=Bl;var Dl=class extends s{constructor(e){super(),this.confirm_button=l.parseItem(e.confirmButton,T),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};o(Dl,"LiveChatDialog");Dl.type="LiveChatDialog";var Gb=Dl;var Ol=class extends s{constructor(e){super(),this.overflow_menu=l.parseItem(e.overflowMenu,O),this.collapse_button=l.parseItem(e.collapseButton,T),this.view_selector=l.parseItem(e.viewSelector,at)}};o(Ol,"LiveChatHeader");Ol.type="LiveChatHeader";var qh=Ol;var Ll=class extends s{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=l.parseItem(e.moreCommentsBelowButton,T)}};o(Ll,"LiveChatItemList");Ll.type="LiveChatItemList";var Xh=Ll;var Fl=class extends s{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=v.fromResponse(e.authorPhoto),this.send_button=l.parseItem(e.sendButton,T),this.target_id=e.targetId}};o(Fl,"LiveChatMessageInput");Fl.type="LiveChatMessageInput";var Kb=Fl;var jl=class extends s{constructor(e){super(),this.name=new u(e.authorName),this.photo=v.fromResponse(e.authorPhoto),this.badges=l.parseArray(e.authorBadges)}};o(jl,"LiveChatParticipant");jl.type="LiveChatParticipant";var Qh=jl;var Yl=class extends s{constructor(e){super(),this.title=new u(e.title),this.participants=l.parseArray(e.participants,Qh)}};o(Yl,"LiveChatParticipantsList");Yl.type="LiveChatParticipantsList";var Zh=Yl;var Ul=class extends T{constructor(e){super(e)}};o(Ul,"MenuNavigationItem");Ul.type="MenuNavigationItem";var e_=Ul;var Wl=class extends T{constructor(e){super(e)}};o(Wl,"MenuServiceItem");Wl.type="MenuServiceItem";var Kt=Wl;var Jl=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[e_,Kt])}};o(Jl,"MenuPopup");Jl.type="MenuPopup";var $b=Jl;var Hl=class extends s{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint)}};o(Hl,"MenuServiceItemDownload");Hl.type="MenuServiceItemDownload";var qb=Hl;var zl=class extends s{constructor(e){super(),this.header=l.parse(e.header),this.sections=l.parse(e.sections),this.style=e.style}};o(zl,"MultiPageMenu");zl.type="MultiPageMenu";var Xb=zl;var Gl=class extends s{constructor(e){super(),this.items=l.parse(e.items)}get contents(){return this.items}};o(Gl,"MultiPageMenuNotificationSection");Gl.type="MultiPageMenuNotificationSection";var Qb=Gl;var Kl=class extends s{constructor(e){super()}};o(Kl,"MusicMenuItemDivider");Kl.type="MusicMenuItemDivider";var t_=Kl;var $l=class extends s{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=l.parseArray(e.options,[br,t_])}};o($l,"MusicMultiSelectMenu");$l.type="MusicMultiSelectMenu";var i_=$l;var ql=class extends s{constructor(e){super(),this.title=new u(e.title),this.buttons=l.parse(e.buttons)}};o(ql,"SimpleMenuHeader");ql.type="SimpleMenuHeader";var r_=ql;var Xl=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=v.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new h(e.buttonCommand)}};o(Xl,"MerchandiseItem");Xl.type="MerchandiseItem";var Zb=Xl;var Ql=class extends s{constructor(e){super(),this.title=e.title,this.menu=l.parseItem(e.actionButton),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(Ql,"MerchandiseShelf");Ql.type="MerchandiseShelf";var o_=Ql;var Zl=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};o(Zl,"MetadataRow");Zl.type="MetadataRow";var ey=Zl;var ec=class extends s{constructor(e){super(),this.rows=l.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};o(ec,"MetadataRowContainer");ec.type="MetadataRowContainer";var n_=ec;var tc=class extends s{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};o(tc,"MetadataRowHeader");tc.type="MetadataRowHeader";var ty=tc;var ic=class extends s{constructor(e){super(),this.section_list=l.parseItem(e)}};o(ic,"MetadataScreen");ic.type="MetadataScreen";var iy=ic;var rc=class extends s{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=v.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};o(rc,"MicroformatData");rc.type="MicroformatData";var Lr=rc;var oc=class extends wt{constructor(e){super(e)}};o(oc,"Mix");oc.type="Mix";var ry=oc;var nc=class extends s{constructor(e){var i,r,n;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=v.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new R(e.longBylineText,e.ownerBadges,(n=(r=e.channelThumbnailSupportedRenderers)===null||r===void 0?void 0:r.channelThumbnailWithLinkRenderer)===null||n===void 0?void 0:n.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:ye(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.endpoint=new h(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=l.parseItem(e.menu,O)}};o(nc,"Movie");nc.type="Movie";var oy=nc;var sc=class extends s{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(r=>new v(r)).sort((r,n)=>n.width-r.width)}};o(sc,"MovingThumbnail");sc.type="MovingThumbnail";var ny=sc;var ac=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(ac,"MusicCardShelfHeaderBasic");ac.type="MusicCardShelfHeaderBasic";var s_=ac;var uc=class extends s{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};o(uc,"MusicInlineBadge");uc.type="MusicInlineBadge";var a_=uc;var lc=class extends s{constructor(e){var i,r;super(),this.endpoint=new h(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(r=e.accessibilityPauseData.accessibilityData)===null||r===void 0?void 0:r.label),this.icon_color=e.iconColor}};o(lc,"MusicPlayButton");lc.type="MusicPlayButton";var u_=lc;var cc=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,u_),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};o(cc,"MusicItemThumbnailOverlay");cc.type="MusicItemThumbnailOverlay";var Tt=cc;var pc=class extends s{constructor(e){super(),this.contents=v.fromResponse(e.thumbnail)}};o(pc,"MusicThumbnail");pc.type="MusicThumbnail";var Qe=pc;var dc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Qe),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=l.parseArray(e.buttons,T),this.menu=l.parseItem(e.menu,O),this.on_tap=new h(e.onTap),this.header=l.parseItem(e.header,s_),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=l.parseArray(e.subtitleBadges,a_),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Tt),Reflect.has(e,"contents")&&(this.contents=l.parseArray(e.contents))}};o(dc,"MusicCardShelf");dc.type="MusicCardShelf";var sy=dc;var fc=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Qe)),Reflect.has(e,"moreContentButton")&&(this.more_content=l.parseItem(e.moreContentButton,T)),Reflect.has(e,"endIcons")&&(this.end_icons=l.parseArray(e.endIcons,Rh))}};o(fc,"MusicCarouselShelfBasicHeader");fc.type="MusicCarouselShelfBasicHeader";var l_=fc;var mc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Qe),this.overlay=l.parseItem(e.overlay,Tt),this.on_tap=new h(e.onTap),this.menu=l.parseItem(e.menu,O),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};o(mc,"MusicMultiRowListItem");mc.type="MusicMultiRowListItem";var c_=mc;var hc=class extends s{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new h(e.clickCommand)}};o(hc,"MusicNavigationButton");hc.type="MusicNavigationButton";var p_=hc;var _c=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};o(_c,"MusicResponsiveListItemFixedColumn");_c.type="musicResponsiveListItemFlexColumnRenderer";var d_=_c;var xc=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};o(xc,"MusicResponsiveListItemFlexColumn");xc.type="MusicResponsiveListItemFlexColumn";var f_=xc;var lt,Fr,ly,cy,ay,uy,py,dy,fy,my,hy,vc=class extends s{constructor(e){var i,r,n,a,c,p;super(),lt.add(this),Fr.set(this,void 0),this.flex_columns=l.parseArray(e.flexColumns,f_),this.fixed_columns=l.parseArray(e.fixedColumns,d_),k(this,Fr,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((r=e==null?void 0:e.playlistItemData)===null||r===void 0?void 0:r.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint));let f=(p=(c=(a=(n=this.endpoint)===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.browseEndpointContextSupportedConfigs)===null||c===void 0?void 0:c.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(f||this.flex_columns.find(x=>{var g,y,b,N;return((N=(b=(y=(g=x.title.endpoint)===null||g===void 0?void 0:g.payload)===null||y===void 0?void 0:y.browseEndpointContextSupportedConfigs)===null||b===void 0?void 0:b.browseEndpointContextMusicConfig)===null||N===void 0?void 0:N.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(f="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),f){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",d(this,lt,"m",my).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",d(this,lt,"m",hy).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",d(this,lt,"m",py).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",d(this,lt,"m",dy).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",d(this,lt,"m",fy).call(this);break;default:this.flex_columns[1]?d(this,lt,"m",cy).call(this):d(this,lt,"m",ly).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Qe)),Reflect.has(e,"badges")&&(this.badges=l.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu,O)),Reflect.has(e,"overlay")&&(this.overlay=l.parseItem(e.overlay,Tt))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};o(vc,"MusicResponsiveListItem");Fr=new WeakMap,lt=new WeakSet,ly=o(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),cy=o(function(){var e,i;((i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.some(n=>n.text.match(/(.*?) views/)))?(this.item_type="video",d(this,lt,"m",uy).call(this)):(this.item_type="song",d(this,lt,"m",ay).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),ay=o(function(){var e,i,r,n,a,c,p,f,_,x,g,y,b,N,V;this.id=d(this,Fr,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let D=((a=(n=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||n===void 0?void 0:n.find(J=>/^\d+$/.test(J.text.replace(/:/g,""))))===null||a===void 0?void 0:a.text)||((p=(c=this.fixed_columns.first())===null||c===void 0?void 0:c.title)===null||p===void 0?void 0:p.toString());D&&(this.duration={text:D,seconds:ye(D)});let B=((_=(f=this.flex_columns.at(1))===null||f===void 0?void 0:f.title.runs)===null||_===void 0?void 0:_.find(J=>De(J)&&J.endpoint&&J.endpoint.payload.browseId.startsWith("MPR")))||((g=(x=this.flex_columns.at(2))===null||x===void 0?void 0:x.title.runs)===null||g===void 0?void 0:g.find(J=>De(J)&&J.endpoint&&J.endpoint.payload.browseId.startsWith("MPR")));B&&De(B)&&(this.album={id:(b=(y=B.endpoint)===null||y===void 0?void 0:y.payload)===null||b===void 0?void 0:b.browseId,name:B.text,endpoint:B.endpoint});let te=(V=(N=this.flex_columns.at(1))===null||N===void 0?void 0:N.title.runs)===null||V===void 0?void 0:V.filter(J=>De(J)&&J.endpoint&&J.endpoint.payload.browseId.startsWith("UC"));te&&(this.artists=te.map(J=>{var ae,le;return{name:J.text,channel_id:De(J)?(le=(ae=J.endpoint)===null||ae===void 0?void 0:ae.payload)===null||le===void 0?void 0:le.browseId:void 0,endpoint:De(J)?J.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),uy=o(function(){var e,i,r,n,a,c,p,f,_,x;this.id=d(this,Fr,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(r=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(b=>b.text.match(/(.*?) views/)))===null||r===void 0?void 0:r.toString();let g=(a=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title.runs)===null||a===void 0?void 0:a.filter(b=>De(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));g&&(this.authors=g.map(b=>{var N,V;return{name:b.text,channel_id:De(b)?(V=(N=b.endpoint)===null||N===void 0?void 0:N.payload)===null||V===void 0?void 0:V.browseId:void 0,endpoint:De(b)?b.endpoint:void 0}}));let y=((p=(c=this.flex_columns[1].title.runs)===null||c===void 0?void 0:c.find(b=>/^\d+$/.test(b.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((x=(_=(f=this.fixed_columns.first())===null||f===void 0?void 0:f.title.runs)===null||_===void 0?void 0:_.find(b=>/^\d+$/.test(b.text.replace(/:/g,""))))===null||x===void 0?void 0:x.text);y&&(this.duration={text:y,seconds:ye(y)})},"_MusicResponsiveListItem_parseVideo"),py=o(function(){var e,i,r,n,a,c;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title,this.subscribers=((c=(a=(n=this.subtitle)===null||n===void 0?void 0:n.runs)===null||a===void 0?void 0:a.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||c===void 0?void 0:c.text)||""},"_MusicResponsiveListItem_parseArtist"),dy=o(function(){var e,i,r,n;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((n=(r=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||r===void 0?void 0:r.find(a=>/^\d+(,\d+)? songs?$/i.test(a.text)))===null||n===void 0?void 0:n.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),fy=o(function(){var e,i;this.id=d(this,Fr,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),my=o(function(){var e,i,r,n,a,c,p,f,_;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let x=(n=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||n===void 0?void 0:n.find(g=>De(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));x&&De(x)&&(this.author={name:x.text,channel_id:(c=(a=x.endpoint)===null||a===void 0?void 0:a.payload)===null||c===void 0?void 0:c.browseId,endpoint:x.endpoint}),this.year=(_=(f=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||f===void 0?void 0:f.find(g=>/^[12][0-9]{3}$/.test(g.text)))===null||_===void 0?void 0:_.text},"_MusicResponsiveListItem_parseAlbum"),hy=o(function(){var e,i,r,n,a,c,p,f;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let _=(n=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||n===void 0?void 0:n.find(g=>g.text.match(/\d+ (song|songs)/));this.item_count=_?_.text:void 0;let x=(c=(a=this.flex_columns.at(1))===null||a===void 0?void 0:a.title.runs)===null||c===void 0?void 0:c.find(g=>De(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));x&&De(x)&&(this.author={name:x.text,channel_id:(f=(p=x.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId,endpoint:x.endpoint})},"_MusicResponsiveListItem_parsePlaylist");vc.type="MusicResponsiveListItem";var $t=vc;var gc=class extends s{constructor(e){var i,r,n,a,c,p,f,_,x,g,y,b,N,V,D,B,te,J,ae,le,pe,fe;switch(super(),this.title=new u(e.title),this.endpoint=new h(e.navigationEndpoint),this.id=((r=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||r===void 0?void 0:r.browseId)||((a=(n=this.endpoint)===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.videoId),this.subtitle=new u(e.subtitle),this.badges=l.parse(e.subtitleBadges),(_=(f=(p=(c=this.endpoint)===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||f===void 0?void 0:f.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((g=(x=this.endpoint)===null||x===void 0?void 0:x.metadata)===null||g===void 0?void 0:g.api_url)==="/next"?this.item_type="endpoint":!((y=this.subtitle.runs)===null||y===void 0)&&y[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((N=(b=this.subtitle.runs)===null||b===void 0?void 0:b.find(H=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(H.text)))===null||N===void 0?void 0:N.text)||"";else if(this.item_type=="playlist"){let H=(V=this.subtitle.runs)===null||V===void 0?void 0:V.find(W=>W.text.match(/\d+ songs|song/));this.item_count=H?H.text:null}else if(this.item_type=="album"){let H=(D=this.subtitle.runs)===null||D===void 0?void 0:D.filter(W=>{var K,X;return(X=(K=W.endpoint)===null||K===void 0?void 0:K.payload)===null||X===void 0?void 0:X.browseId.startsWith("UC")});H&&(this.artists=H.map(W=>{var K,X;return{name:W.text,channel_id:(X=(K=W.endpoint)===null||K===void 0?void 0:K.payload)===null||X===void 0?void 0:X.browseId,endpoint:W.endpoint}})),this.year=(B=this.subtitle.runs)===null||B===void 0?void 0:B.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((J=(te=this===null||this===void 0?void 0:this.subtitle.runs)===null||te===void 0?void 0:te.find(W=>W==null?void 0:W.text.match(/(.*?) views/)))===null||J===void 0?void 0:J.text)||"N/A";let H=(ae=this.subtitle.runs)===null||ae===void 0?void 0:ae.find(W=>{var K,X,ge;return(ge=(X=(K=W.endpoint)===null||K===void 0?void 0:K.payload)===null||X===void 0?void 0:X.browseId)===null||ge===void 0?void 0:ge.startsWith("UC")});H&&(this.author={name:H==null?void 0:H.text,channel_id:(pe=(le=H==null?void 0:H.endpoint)===null||le===void 0?void 0:le.payload)===null||pe===void 0?void 0:pe.browseId,endpoint:H==null?void 0:H.endpoint})}else if(this.item_type=="song"){let H=(fe=this.subtitle.runs)===null||fe===void 0?void 0:fe.filter(W=>{var K,X;return(X=(K=W.endpoint)===null||K===void 0?void 0:K.payload)===null||X===void 0?void 0:X.browseId.startsWith("UC")});H&&(this.artists=H.map(W=>{var K,X;return{name:W==null?void 0:W.text,channel_id:(X=(K=W==null?void 0:W.endpoint)===null||K===void 0?void 0:K.payload)===null||X===void 0?void 0:X.browseId,endpoint:W==null?void 0:W.endpoint}}))}this.thumbnail=v.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Tt),this.menu=l.parseItem(e.menu,O)}};o(gc,"MusicTwoRowItem");gc.type="MusicTwoRowItem";var m_=gc;var bc=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,l_),this.contents=l.parseArray(e.contents,[m_,$t,c_,p_]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};o(bc,"MusicCarouselShelf");bc.type="MusicCarouselShelf";var _y=bc;var yc=class extends s{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};o(yc,"MusicDescriptionShelf");yc.type="MusicDescriptionShelf";var xy=yc;var wc=class extends s{constructor(e){var i,r,n,a,c,p,f,_,x;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((r=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(y=>/^[12][0-9]{3}$/.test(y.text)))===null||r===void 0?void 0:r.text)||"",this.song_count=((a=(n=this.second_subtitle.runs)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.text)||"",this.total_duration=((p=(c=this.second_subtitle.runs)===null||c===void 0?void 0:c[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=v.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=l.parseArray(e.subtitleBadges);let g=(f=this.subtitle.runs)===null||f===void 0?void 0:f.find(y=>{var b,N;return(N=(b=y==null?void 0:y.endpoint)===null||b===void 0?void 0:b.payload)===null||N===void 0?void 0:N.browseId.startsWith("UC")});g&&(this.author={name:g.text,channel_id:(x=(_=g.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId,endpoint:g.endpoint}),this.menu=l.parseItem(e.menu)}};o(wc,"MusicDetailHeader");wc.type="MusicDetailHeader";var vy=wc;var Tc=class extends s{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};o(Tc,"MusicDownloadStateBadge");Tc.type="MusicDownloadStateBadge";var gy=Tc;var Ic=class extends s{constructor(e){super(),this.header=l.parseItem(e.header)}};o(Ic,"MusicEditablePlaylistDetailHeader");Ic.type="MusicEditablePlaylistDetailHeader";var by=Ic;var kc=class extends s{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?l.parseItem(e,Br):null}};o(kc,"MusicElementHeader");kc.type="MusicElementHeader";var yy=kc;var Sc=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};o(Sc,"MusicHeader");Sc.type="MusicHeader";var wy=Sc;var Cc=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=l.parseItem(e.thumbnail,Qe)}};o(Cc,"MusicImmersiveHeader");Cc.type="MusicImmersiveHeader";var Ty=Cc;var Nc=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new h(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};o(Nc,"ActionButton");Nc.type="ActionButton";var Ec=class{constructor(e){this.image=e.image.image.sources,this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new Nc(i))}};o(Ec,"Panel");Ec.type="Panel";var Pc=class extends s{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new Ec(i))}};o(Pc,"MusicLargeCardItemCarousel");Pc.type="MusicLargeCardItemCarousel";var Iy=Pc;var Rc=class extends s{constructor(e){var i,r,n;super(),this.playlist_id=e.playlistId,this.contents=l.parseArray(e.contents,$t),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((n=(r=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.nextContinuationData)===null||n===void 0?void 0:n.continuation)||null}};o(Rc,"MusicPlaylistShelf");Rc.type="MusicPlaylistShelf";var ky=Rc;var Ac=class extends s{constructor(e){var i,r,n,a,c;super(),this.title=new u(e.title),this.thumbnail=v.fromResponse(e.thumbnail),this.endpoint=new h(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:ye(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(_=>{var x,g,y;return(y=(g=(x=_.endpoint)===null||x===void 0?void 0:x.payload)===null||g===void 0?void 0:g.browseId)===null||y===void 0?void 0:y.startsWith("MPR")}),f=(r=new u(e.longBylineText).runs)===null||r===void 0?void 0:r.filter(_=>{var x,g,y;return(y=(g=(x=_.endpoint)===null||x===void 0?void 0:x.payload)===null||g===void 0?void 0:g.browseId)===null||y===void 0?void 0:y.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(a=(n=p.endpoint)===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.browseId,name:p.text,year:(c=new u(e.longBylineText).runs)===null||c===void 0?void 0:c.slice(-1)[0].text,endpoint:p.endpoint}),f&&(this.artists=f.map(_=>{var x,g;return{name:_.text,channel_id:(g=(x=_.endpoint)===null||x===void 0?void 0:x.payload)===null||g===void 0?void 0:g.browseId,endpoint:_.endpoint}})),this.badges=l.parseArray(e.badges),this.menu=l.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};o(Ac,"PlaylistPanelVideo");Ac.type="PlaylistPanelVideo";var At=Ac;var Vc=class extends s{constructor(e){super(),this.primary=l.parseItem(e.primaryRenderer,At),Reflect.has(e,"counterpart")&&(this.counterpart=re(e.counterpart.map(i=>l.parseItem(i.counterpartRenderer,At))||[]))}};o(Vc,"PlaylistPanelVideoWrapper");Vc.type="PlaylistPanelVideoWrapper";var h_=Vc;var Mc=class extends s{constructor(e){var i,r,n,a,c,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=l.parseArray(e.contents,[h_,At,Bm]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((n=(r=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.nextRadioContinuationData)===null||n===void 0?void 0:n.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};o(Mc,"PlaylistPanel");Mc.type="PlaylistPanel";var __=Mc;var Bc=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,__)}};o(Bc,"MusicQueue");Bc.type="MusicQueue";var x_=Bc;var Dc=class extends s{constructor(e){var i,r,n,a;super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents,$t),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new h(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((r=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||r===void 0?void 0:r.continuation)||((a=(n=e.continuations)===null||n===void 0?void 0:n[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=l.parseItem(e.bottomButton,T)),Reflect.has(e,"subheaders")&&(this.subheaders=l.parseArray(e.subheaders))}};o(Dc,"MusicShelf");Dc.type="MusicShelf";var Sy=Dc;var Oc=class extends s{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=l.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};o(Oc,"MusicSideAlignedItem");Oc.type="MusicSideAlignedItem";var Cy=Oc;var Lc=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=l.parseItem(e.menu,i_)}};o(Lc,"MusicSortFilterButton");Lc.type="MusicSortFilterButton";var Ny=Lc;var Fc=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail)}};o(Fc,"MusicTastebuilderShelfThumbnail");Fc.type="MusicTastebuilderShelfThumbnail";var v_=Fc;var jc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,v_),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=l.parseItem(e.actionButton,T),this.is_visible=e.isVisible}};o(jc,"MusicTasteBuilderShelf");jc.type="MusicTasteBuilderShelf";var Ey=jc;var Yc=class extends s{constructor(e){var i,r;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?v.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=l.parseItem(e.menu,O),this.foreground_thumbnail=e.foregroundThumbnail?v.fromResponse((r=e.foregroundThumbnail.musicThumbnailRenderer)===null||r===void 0?void 0:r.thumbnail):[]}};o(Yc,"MusicVisualHeader");Yc.type="MusicVisualHeader";var Py=Yc;var Uc=class extends s{constructor(e){super(),this.thumbnails=v.fromResponse(e.thumbnail),this.video_thumbnails=v.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new h(e.navigationEndpoint),this.record_click_endpoint=new h(e.recordClickEndpoint),this.menu=l.parseItem(e.contextualMenu),this.read=e.read}};o(Uc,"Notification");Uc.type="Notification";var g_=Uc;var Wc=class extends s{constructor(e){super(),this.title=l.parseItem(e.title,xh),this.image=l.parseItem(e.image,mr),this.metadata=l.parseItem(e.metadata,ph),this.actions=l.parseItem(e.actions,wh)}};o(Wc,"PageHeaderView");Wc.type="PageHeaderView";var b_=Wc;var Jc=class extends s{constructor(e){super(),this.page_title=e.pageTitle,this.content=l.parseItem(e.content,b_)}};o(Jc,"PageHeader");Jc.type="PageHeader";var qt=Jc;var Hc=class extends s{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};o(Hc,"PageIntroduction");Hc.type="PageIntroduction";var y_=Hc;var zc=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail),this.endpoint=new h(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};o(zc,"PivotButton");zc.type="PivotButton";var w_=zc;var Gc=class extends s{constructor(e){super(),this.endpoint=new h(e.endpoint),this.enable_listen_first=e.enableListenFirst}};o(Gc,"PlayerOverflow");Gc.type="PlayerOverflow";var T_=Gc;var Kc=class extends s{constructor(e){super(),this.overflow=l.parseItem(e.overflow,T_)}};o(Kc,"PlayerControlsOverlay");Kc.type="PlayerControlsOverlay";var Ry=Kc;var $c=class extends s{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=l.parseItem(e.proceedButton,T),this.thumbnails=v.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};o($c,"PlayerErrorMessage");$c.type="PlayerErrorMessage";var Ay=$c;var qc=class extends s{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};o(qc,"PlayerLegacyDesktopYpcOffer");qc.type="PlayerLegacyDesktopYpcOffer";var Vy=qc;var Xc=class extends s{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};o(Xc,"YpcTrailer");Xc.type="YpcTrailer";var I_=Xc;var Qc=class extends s{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=l.parseItem(e.ypcTrailer,I_)}};o(Qc,"PlayerLegacyDesktopYpcTrailer");Qc.type="PlayerLegacyDesktopYpcTrailer";var Zc=Qc;var ep=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=v.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null}};o(ep,"PlayerMicroformat");ep.type="PlayerMicroformat";var ct=ep;var tp=class extends s{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=v.fromResponse(e.background),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new R(e.byline),this.cancel_button=l.parseItem(e.cancelButton,T),this.next_button=l.parseItem(e.nextButton,T),this.close_button=l.parseItem(e.closeButton,T)}};o(tp,"PlayerOverlayAutoplay");tp.type="PlayerOverlayAutoplay";var k_=tp;var ip=class extends s{constructor(e){super(),this.results=l.parseArray(e.results,[bh,gh]),this.title=new u(e.title).toString()}};o(ip,"WatchNextEndScreen");ip.type="WatchNextEndScreen";var S_=ip;var rp=class extends s{constructor(e){super(),this.end_screen=l.parseItem(e.endScreen,S_),this.autoplay=l.parseItem(e.autoplay,k_),this.share_button=l.parseItem(e.shareButton,T),this.add_to_menu=l.parseItem(e.addToMenu,O),this.fullscreen_engagement=l.parseItem(e.fullscreenEngagement),this.actions=l.parseArray(e.actions),this.browser_media_session=l.parseItem(e.browserMediaSession),this.decorated_player_bar=l.parseItem(e.decoratedPlayerBarRenderer,_h)}};o(rp,"PlayerOverlay");rp.type="PlayerOverlay";var C_=rp;var op=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new R(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=l.parseItem(e.saveButton),this.shuffle_play_button=l.parseItem(e.shufflePlayButton),this.menu=l.parseItem(e.moreActionsMenu),this.banner=l.parseItem(e.playlistHeaderBanner)}};o(op,"PlaylistHeader");op.type="PlaylistHeader";var N_=op;var np=class extends s{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=v.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new h(e.action)}};o(np,"PlaylistInfoCardContent");np.type="PlaylistInfoCardContent";var My=np;var sp=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description||null}};o(sp,"PlaylistMetadata");sp.type="PlaylistMetadata";var E_=sp;var ap=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(ap,"PlaylistSidebar");ap.type="PlaylistSidebar";var By=ap;var up=class extends s{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=l.parseItem(e.menu),this.endpoint=new h(e.navigationEndpoint),this.description=new u(e.description)}};o(up,"PlaylistSidebarPrimaryInfo");up.type="PlaylistSidebarPrimaryInfo";var P_=up;var lp=class extends s{constructor(e){super(),this.owner=l.parseItem(e.videoOwner),this.button=l.parseItem(e.button)}};o(lp,"PlaylistSidebarSecondaryInfo");lp.type="PlaylistSidebarSecondaryInfo";var R_=lp;var cp=class extends s{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new R(e.shortBylineText),this.thumbnails=v.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new h(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=l.parseItem(e.menu,O),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label;let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(wi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(wi))===null||e===void 0?void 0:e.style)==="UPCOMING"}};o(cp,"PlaylistVideo");cp.type="PlaylistVideo";var A_=cp;var pp=class extends s{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=l.parseArray(e.contents)}};o(pp,"PlaylistVideoList");pp.type="PlaylistVideoList";var Dy=pp;var dp=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new h(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new h(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?v.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};o(dp,"Poll");dp.type="Poll";var Oy=dp;var fp=class extends zt{constructor(e){super(e)}};o(fp,"Post");fp.type="Post";var V_=fp;var mp=class extends s{constructor(e){super(),this.images=l.parseArray(e.images,Dm)}};o(mp,"PostMultiImage");mp.type="PostMultiImage";var Ly=mp;var hp=class extends s{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};o(hp,"ProductListHeader");hp.type="ProductListHeader";var Fy=hp;var _p=class extends s{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=v.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new h(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=l.parseItem(e.viewButton,T)}};o(_p,"ProductListItem");_p.type="ProductListItem";var jy=_p;var xp=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(xp,"ProfileColumn");xp.type="ProfileColumn";var Yy=xp;var vp=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(vp,"ProfileColumnStats");vp.type="ProfileColumnStats";var Uy=vp;var gp=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};o(gp,"ProfileColumnStatsEntry");gp.type="ProfileColumnStatsEntry";var Wy=gp;var bp=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnails=v.fromResponse(e.thumbnail)}};o(bp,"ProfileColumnUserInfo");bp.type="ProfileColumnUserInfo";var Jy=bp;var yp=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};o(yp,"Quiz");yp.type="Quiz";var Hy=yp;var wp=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new v(i)),this.button=l.parseItem(e.button,T),this.surface=e.surface}};o(wp,"RecognitionShelf");wp.type="RecognitionShelf";var zy=wp;var Tp=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=v.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new h(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};o(Tp,"ReelItem");Tp.type="ReelItem";var M_=Tp;var Ip=class extends s{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=v.fromResponse(e.channelThumbnail),this.author=new R(e.channelNavigationEndpoint,void 0)}};o(Ip,"ReelPlayerHeader");Ip.type="ReelPlayerHeader";var B_=Ip;var kp=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,Lh),this.reel_player_header_supported_renderers=l.parseItem(e.reelPlayerHeaderSupportedRenderers,B_),this.menu=l.parseItem(e.menu,O),this.next_item_button=l.parseItem(e.nextItemButton,T),this.prev_item_button=l.parseItem(e.prevItemButton,T),this.subscribe_button_renderer=l.parseItem(e.subscribeButtonRenderer,T),this.style=e.style,this.view_comments_button=l.parseItem(e.viewCommentsButton,T),this.share_button=l.parseItem(e.shareButton,T),this.pivot_button=l.parseItem(e.pivotButton,w_),this.info_panel=l.parseItem(e.infoPanel,Vh)}};o(kp,"ReelPlayerOverlay");kp.type="ReelPlayerOverlay";var Gy=kp;var Sp=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};o(Sp,"RelatedChipCloud");Sp.type="RelatedChipCloud";var D_=Sp;var Cp=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.contents=l.parseArray(e.contents)}};o(Cp,"RichGrid");Cp.type="RichGrid";var Xt=Cp;var Np=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};o(Np,"RichItem");Np.type="RichItem";var Ky=Np;var Ep=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};o(Ep,"RichListHeader");Ep.type="RichListHeader";var $y=Ep;var Pp=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new h(e.endpoint)}};o(Pp,"RichMetadata");Pp.type="RichMetadata";var Rp=Pp;var Ap=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Ap,"RichMetadataRow");Ap.type="RichMetadataRow";var Vp=Ap;var Mp=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};o(Mp,"RichSection");Mp.type="RichSection";var qy=Mp;var Bp=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new h(e.endpoint))}};o(Bp,"RichShelf");Bp.type="RichShelf";var O_=Bp;var Dp=class extends s{constructor(e){super(),this.endpoint=new h(e.endpoint),this.search_button=l.parseItem(e.searchButton,T),this.clear_button=l.parseItem(e.clearButton,T),this.placeholder_text=new u(e.placeholderText)}};o(Dp,"SearchBox");Dp.type="SearchBox";var Xy=Dp;var Op=class extends s{constructor(e){super(),this.label=new u(e.label),this.endpoint=new h(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};o(Op,"SearchFilter");Op.type="SearchFilter";var L_=Op;var Lp=class extends s{constructor(e){super(),this.title=new u(e.title),this.filters=l.parseArray(e.filters,L_)}};o(Lp,"SearchFilterGroup");Lp.type="SearchFilterGroup";var jr=Lp;var Fp=class extends s{constructor(e){super(),this.title=new u(e.title),this.groups=l.parseArray(e.groups,jr)}};o(Fp,"SearchFilterOptionsDialog");Fp.type="SearchFilterOptionsDialog";var Qy=Fp;var jp=class extends s{constructor(e){super(),this.chip_bar=l.parseItem(e.chipBar,kr),this.search_filter_button=l.parseItem(e.searchFilterButton,T)}};o(jp,"SearchHeader");jp.type="SearchHeader";var F_=jp;var Yp=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=l.parseArray(e.groups,jr)),Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,xe))}};o(Yp,"SearchSubMenu");Yp.type="SearchSubMenu";var j_=Yp;var Up=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Up,"SearchSuggestionsSection");Up.type="SearchSuggestionsSection";var Zy=Up;var Wp=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Wp,"SecondarySearchContainer");Wp.type="SecondarySearchContainer";var ew=Wp;var Jp=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,[xe,T]),this.dislike_button=l.parseItem(e.dislikeButton,[xe,T])}};o(Jp,"SegmentedLikeDislikeButton");Jp.type="SegmentedLikeDislikeButton";var Pi=Jp;var Hp=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new h(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new h(e.disableServiceEndpoint)),this.item_id=e.itemId}};o(Hp,"SettingBoolean");Hp.type="SettingBoolean";var tw=Hp;var zp=class extends s{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};o(zp,"SettingsCheckbox");zp.type="SettingsCheckbox";var Y_=zp;var Gp=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new h(e.enableServiceEndpoint),this.disable_endpoint=new h(e.disableServiceEndpoint)}};o(Gp,"SettingsSwitch");Gp.type="SettingsSwitch";var Yr=Gp;var Kp=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=l.parseArray(e.options,[Yr,cr,dh,Y_,Gm]))}};o(Kp,"SettingsOptions");Kp.type="SettingsOptions";var Ur=Kp;var $p=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items,Ar)}get contents(){return this.items}};o($p,"SettingsSidebar");$p.type="SettingsSidebar";var U_=$p;var qp=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=ee(e.actionMenu,O),this.original_post=ee(e.originalPost,zt),this.id=e.postId,this.endpoint=new h(e.navigationEndpoint),this.expand_button=ee(e.expandButton,T),this.author=new R(e.displayName,void 0)}};o(qp,"SharedPost");qp.type="SharedPost";var W_=qp;var Xp=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new h(e.endpoint)),this.content=l.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=l.parseItem(e.playAllButton,T))}};o(Xp,"Shelf");Xp.type="Shelf";var Wr=Xp;var Qp=class extends s{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new h(e.correctedQueryEndpoint),this.original_query_endpoint=new h(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};o(Qp,"ShowingResultsFor");Qp.type="ShowingResultsFor";var iw=Qp;var Zp=class extends s{constructor(e){super(),this.image=v.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new h(e.command)}};o(Zp,"SimpleCardContent");Zp.type="SimpleCardContent";var rw=Zp;var ed=class extends s{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};o(ed,"SimpleCardTeaser");ed.type="SimpleCardTeaser";var ow=ed;var td=class extends s{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};o(td,"SimpleTextSection");td.type="SimpleTextSection";var nw=td;var id=class extends s{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new h(e.navigationEndpoint)}};o(id,"SingleActionEmergencySupport");id.type="SingleActionEmergencySupport";var sw=id;var rd=class extends s{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new h(e.endpoint),this.content=l.parseItem(e.content,[Ce,x_,Xt])}};o(rd,"Tab");rd.type="Tab";var Ne=rd;var od=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ne)}};o(od,"SingleColumnBrowseResults");od.type="SingleColumnBrowseResults";var J_=od;var nd=class extends s{constructor(e){super(),this.contents=l.parse(e)}};o(nd,"SingleColumnMusicWatchNextResults");nd.type="SingleColumnMusicWatchNextResults";var aw=nd;var sd=class extends s{constructor(e){super(),this.thumbnails=v.fromResponse(e.thumbnail),this.style=e.style}};o(sd,"SingleHeroImage");sd.type="SingleHeroImage";var uw=sd;var ad=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,Re)}};o(ad,"SlimOwner");ad.type="SlimOwner";var lw=ad;var ud=class extends s{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=l.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};o(ud,"SlimVideoMetadata");ud.type="SlimVideoMetadata";var cw=ud;var ld=class extends s{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new h(e.navigationEndpoint)}};o(ld,"SubFeedOption");ld.type="SubFeedOption";var H_=ld;var cd=class extends s{constructor(e){super(),this.title=new u(e.title),this.options=l.parseArray(e.options,H_)}};o(cd,"SubFeedSelector");cd.type="SubFeedSelector";var pw=cd;var pd=class extends s{constructor(e){super(),this.contents=l.parse(e)}};o(pd,"Tabbed");pd.type="Tabbed";var dw=pd;var dd=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ne)}};o(dd,"TabbedSearchResults");dd.type="TabbedSearchResults";var fw=dd;var fd=class extends s{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};o(fd,"TextHeader");fd.type="TextHeader";var mw=fd;var md=class extends s{constructor(e){super(),this.landscape=v.fromResponse(e.landscape),this.portrait=v.fromResponse(e.portrait)}};o(md,"ThumbnailLandscapePortrait");md.type="ThumbnailLandscapePortrait";var hw=md;var hd=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};o(hd,"ThumbnailOverlayEndorsement");hd.type="ThumbnailOverlayEndorsement";var _w=hd;var _d=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};o(_d,"ThumbnailOverlayHoverText");_d.type="ThumbnailOverlayHoverText";var xw=_d;var xd=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};o(xd,"ThumbnailOverlayInlineUnplayable");xd.type="ThumbnailOverlayInlineUnplayable";var vw=xd;var vd=class extends s{constructor(e){super(),this.text=new u(e.text)}};o(vd,"ThumbnailOverlayLoadingPreview");vd.type="ThumbnailOverlayLoadingPreview";var gw=vd;var gd=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};o(gd,"ThumbnailOverlayNowPlaying");gd.type="ThumbnailOverlayNowPlaying";var bw=gd;var bd=class extends s{constructor(e){super(),this.hack=e.hack}};o(bd,"ThumbnailOverlayPinking");bd.type="ThumbnailOverlayPinking";var yw=bd;var yd=class extends s{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};o(yd,"ThumbnailOverlayPlaybackStatus");yd.type="ThumbnailOverlayPlaybackStatus";var ww=yd;var wd=class extends s{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};o(wd,"ThumbnailOverlayResumePlayback");wd.type="ThumbnailOverlayResumePlayback";var Tw=wd;var Td=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};o(Td,"ThumbnailOverlaySidePanel");Td.type="ThumbnailOverlaySidePanel";var Iw=Td;var Id=class extends s{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new h(e.toggledServiceEndpoint),this.untoggled_endpoint=new h(e.untoggledServiceEndpoint)}};o(Id,"ThumbnailOverlayToggleButton");Id.type="ThumbnailOverlayToggleButton";var kw=Id;var kd=class extends s{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};o(kd,"TimedMarkerDecoration");kd.type="TimedMarkerDecoration";var Sw=kd;var Sd=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(Sd,"TitleAndButtonListHeader");Sd.type="TitleAndButtonListHeader";var Cw=Sd;var Cd=class extends s{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new h(e.defaultServiceEndpoint),this.toggled_endpoint=new h(e.toggledServiceEndpoint)}};o(Cd,"ToggleMenuServiceItem");Cd.type="ToggleMenuServiceItem";var Nw=Cd;var Nd=class extends s{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new h(i)),accept:new h(e.promoConfig.acceptCommand),dismiss:new h(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};o(Nd,"Tooltip");Nd.type="Tooltip";var Ew=Nd;var Ed=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=v.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=l.parseItem(e.subscribeButton,Re),this.endpoint=new h(e.navigationEndpoint)}};o(Ed,"TopicChannelDetails");Ed.type="TopicChannelDetails";var Pw=Ed;var Pd=class extends s{constructor(e){super(),this.tabs=l.parse(e.tabs),this.secondary_contents=l.parse(e.secondaryContents)}};o(Pd,"TwoColumnBrowseResults");Pd.type="TwoColumnBrowseResults";var It=Pd;var Rd=class extends s{constructor(e){super(),this.primary_contents=l.parse(e.primaryContents),this.secondary_contents=l.parse(e.secondaryContents)}};o(Rd,"TwoColumnSearchResults");Rd.type="TwoColumnSearchResults";var z_=Rd;var G_,xv,Ad=class extends s{constructor(e){var i,r,n,a,c;super(),G_.add(this),this.results=l.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=l.parseArray((r=e.secondaryResults)===null||r===void 0?void 0:r.secondaryResults.results),this.conversation_bar=l.parseItem(e==null?void 0:e.conversationBar);let p=(n=e.playlist)===null||n===void 0?void 0:n.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((a=p.shortBylineText)===null||a===void 0)&&a.simpleText?new u(p.shortBylineText):new R(p.longBylineText),contents:l.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:l.parseItem(p.menu,O)});let f=(c=e.autoplay)===null||c===void 0?void 0:c.autoplay;f&&(this.autoplay={sets:f.sets.map(_=>d(this,G_,"m",xv).call(this,_))},f.modifiedSets&&(this.autoplay.modified_sets=f.modifiedSets.map(_=>d(this,G_,"m",xv).call(this,_))),f.countDownSecs&&(this.autoplay.count_down_secs=f.countDownSecs))}};o(Ad,"TwoColumnWatchNextResults");G_=new WeakSet,xv=o(function(e){let i={autoplay_video:new h(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new h(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Ad.type="TwoColumnWatchNextResults";var K_=Ad;var Vd=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.call_to_action=l.parseItem(e.callToAction),this.sections=l.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};o(Vd,"UniversalWatchCard");Vd.type="UniversalWatchCard";var $_=Vd;var Md=class extends s{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=l.parseItem(e.actionButton,T),this.dismiss_button=l.parseItem(e.dismissButton,T),this.is_visible=e.isVisible}};o(Md,"UpsellDialog");Md.type="UpsellDialog";var Rw=Md;var Bd=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};o(Bd,"VerticalList");Bd.type="VerticalList";var Aw=Bd;var Dd=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new h(e.viewAllEndpoint)}get contents(){return this.items}};o(Dd,"VerticalWatchCardList");Dd.type="VerticalWatchCardList";var Vw=Dd;var Od=class extends s{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=v.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new h(e.action)}};o(Od,"VideoInfoCardContent");Od.type="VideoInfoCardContent";var Mw=Od;var Ld=class extends s{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new R(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};o(Ld,"VideoOwner");Ld.type="VideoOwner";var Jr=Ld;var Fd=class extends s{constructor(e){var i,r,n,a;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((r=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||r===void 0?void 0:r.viewCount),this.short_view_count=new u((a=(n=e.viewCount)===null||n===void 0?void 0:n.videoViewCountRenderer)===null||a===void 0?void 0:a.shortViewCount),this.badges=l.parseArray(e.badges,je),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=l.parseItem(e.videoActions,O)}};o(Fd,"VideoPrimaryInfo");Fd.type="VideoPrimaryInfo";var q_=Fd;var jd=class extends s{constructor(e){super(),this.owner=l.parseItem(e.owner,Jr),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=l.parseItem(e.subscribeButton,[Re,T]),this.metadata=l.parseItem(e.metadataRowContainer,n_),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};o(jd,"VideoSecondaryInfo");jd.type="VideoSecondaryInfo";var Yd=jd;var Ud=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:ye(e.lengthText.simpleText)},this.style=e.style}};o(Ud,"WatchCardCompactVideo");Ud.type="WatchCardCompactVideo";var X_=Ud;var Wd=class extends s{constructor(e){var i;super(),this.endpoint=new h(e.navigationEndpoint),this.call_to_action_button=l.parseItem(e.callToActionButton),this.hero_image=l.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};o(Wd,"WatchCardHeroVideo");Wd.type="WatchCardHeroVideo";var Bw=Wd;var Jd=class extends s{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new h(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new R(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};o(Jd,"WatchCardRichHeader");Jd.type="WatchCardRichHeader";var Dw=Jd;var Hd=class extends s{constructor(e){super(),this.lists=l.parseArray(e.lists)}};o(Hd,"WatchCardSectionSequence");Hd.type="WatchCardSectionSequence";var Ow=Hd;var zd=class extends It{constructor(e){super(e)}};o(zd,"WatchNextTabbedResults");zd.type="WatchNextTabbedResults";var Lw=zd;var Gd=class extends s{constructor(e){var i,r;super(),this.title=e.title,this.content=l.parseItem(e.content,Ce),this.endpoint=new h(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(r=e.categoryAssets)===null||r===void 0?void 0:r.backgroundColor},this.category_type=e.categoryType}};o(Gd,"AnchoredSection");Gd.type="AnchoredSection";var Q_=Gd;var Kd,$d=class extends s{constructor(e){super(),Kd.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=v.fromResponse(e.avatar),this.block_button=l.parseItem(e.blockButton,[xe]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return I(this,void 0,void 0,function*(){if(!d(this,Kd,"f"))throw new w("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new w("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new w("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(d(this,Kd,"f"),{parse:!1})})}setActions(e){k(this,Kd,e,"f")}};o($d,"KidsBlocklistPickerItem");Kd=new WeakMap;$d.type="KidsBlocklistPickerItem";var Z_=$d;var qd=class extends s{constructor(e){super(),this.title=new u(e.title),this.child_rows=l.parse(e.childRows,!0,[Z_]),this.done_button=l.parseItem(e.doneButton,[T]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};o(qd,"KidsBlocklistPicker");qd.type="KidsBlocklistPicker";var Fw=qd;var Xd=class extends s{constructor(e){var i,r;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(r=e.categoryAssets)===null||r===void 0?void 0:r.backgroundColor},this.category_type=e.categoryType,this.endpoint=new h(e.endpoint)}};o(Xd,"KidsCategoryTab");Xd.type="KidsCategoryTab";var ex=Xd;var Qd=class extends s{constructor(e){super(),this.category_tabs=l.parseArray(e.categoryTabs,ex),this.privacy_button=l.parseItem(e.privacyButtonRenderer,T)}};o(Qd,"KidsCategoriesHeader");Qd.type="kidsCategoriesHeader";var jw=Qd;var Zd=class extends s{constructor(e){super(),this.anchors=l.parseArray(e.anchors,Q_)}};o(Zd,"KidsHomeScreen");Zd.type="kidsHomeScreen";var Yw=Zd;var Sv={};Ee(Sv,{camelToSnake:()=>Ri,createRuntimeClass:()=>zw,generateRuntimeClass:()=>rf,generateTypescriptClass:()=>tx,inferType:()=>gv,introspect:()=>yv,isIgnoredKey:()=>Hw,isMiscType:()=>Jw,isRenderer:()=>bv,isRendererList:()=>Ww,mergeKeyInfo:()=>kv,parse:()=>Iv,toParser:()=>Tv,toTypeDeclaration:()=>wv});var iI=new Set(["trackingParams","accessibility","accessibilityData"]),vv={};function Ri(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}o(Ri,"camelToSnake");function gv(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=bv(e))return vv[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=Ww(e)){for(let[n,a]of Object.entries(i))vv[n]=a;return{type:"renderer_list",renderers:Object.keys(i),optional:!1}}if(i=Jw(t,e))return i}let r=typeof e;return r==="object"?{type:"object",keys:Object.entries(e).map(([n,a])=>[n,gv(n,a)]),optional:!1}:{type:"primative",typeof:[r],optional:!1}}o(gv,"inferType");function Ww(t){return Array.isArray(t)&&t.every(r=>bv(r))?Object.fromEntries(t.map(r=>{let n=Reflect.ownKeys(r)[0].toString();return[of(n),r[n]]})):!1}o(Ww,"isRendererList");function Jw(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new h(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}o(Jw,"isMiscType");function bv(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);return i.length===1&&i[0].toString().includes("Renderer")?of(i[0].toString()):!1}o(bv,"isRenderer");function rI(t){if(typeof t!="object"||t===null)throw new w("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!Hw(i)).filter(i=>typeof i=="string").map(i=>{let r=Reflect.get(t,i),n=gv(i,r);return[i,n]})}o(rI,"introspectKeysFirstPass");function oI(t){var e;let r=t.filter(([,p])=>{var f;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((f=p.endpoint)===null||f===void 0?void 0:f.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,f])=>p.type!=="misc"||f.type!=="misc"||p.misc_type!=="Text"||f.misc_type!=="Text"?0:f.text.length-p.text.length),n=new Set,a=r[0],c;if(a){n.add(a[0]);let f=t.map(([b])=>b).filter(b=>b.endsWith("Badges")||b==="badges"),x=(e=f.filter(b=>b.startsWith("owner")||b.startsWith("author"))[0])!==null&&e!==void 0?e:f[0],g=t.find(([b])=>b===x),y=g?g[1].type==="renderer_list"&&Reflect.has(g[1].renderers,"MetadataBadge"):!1;y&&x&&n.add(x),c={type:"misc",misc_type:"Author",optional:!1,params:[a[0],y?x:void 0]}}return c&&t.push(["author",c]),t.filter(([p])=>!n.has(p))}o(oI,"introspectKeysSecondPass");function nI(t){let e=rI(t);return oI(e)}o(nI,"introspect2");function yv(t){let e=nI(t),i=new Map;for(let[,n]of e)if(n.type==="renderer"||n.type==="renderer_list")for(let a of n.renderers){let c=vv[a];c&&i.set(a,c)}let r=Array.from(i).filter(([n])=>!ix(n));return{key_info:e,unimplemented_dependencies:r}}o(yv,"introspect");function Hw(t){return typeof t=="string"&&iI.has(t)}o(Hw,"isIgnoredKey");function zw(t,e,i){var r,n;i({error_type:"class_not_found",classname:t,key_info:e});let a=(r=o(class extends s{static set key_info(c){k(this,r,new Map(c),"f",n)}static get key_info(){return[...d(this,r,"f",n).entries()]}constructor(c){super();let{key_info:p,unimplemented_dependencies:f}=yv(c),{resolved_key_info:_,changed_keys:x}=kv(a.key_info,p);x.length>0&&(a.key_info=_,i({error_type:"class_changed",classname:t,key_info:a.key_info,changed_keys:x}));for(let[y,b]of f)rf(y,b,i);for(let[y,b]of p){let N=Ri(y);b.type==="misc"&&b.misc_type==="NavigationEndpoint"&&(N="endpoint"),Reflect.set(this,N,Iv(y,b,c))}}},"_a"),y0(r,"node"),r.type=t,n={value:new Map},r);return a.key_info=e,Object.defineProperty(a,"name",{value:t,writable:!1}),a}o(zw,"createRuntimeClass");function rf(t,e,i){let{key_info:r,unimplemented_dependencies:n}=yv(e),a=zw(t,r,i);Cv(t,a);for(let[c,p]of n)rf(c,p,i);return a}o(rf,"generateRuntimeClass");function tx(t,e){let i=[],r=["super();"];for(let[n,a]of e){let c=Ri(n);a.type==="misc"&&a.misc_type==="NavigationEndpoint"&&(c="endpoint"),i.push(`${c}${a.optional?"?":""}: ${wv(a)};`),r.push(`this.${c} = ${Tv(n,a)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${r.join(`
    `)}
  }
}
`}o(tx,"generateTypescriptClass");function wv(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"renderer_list":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"object":return`{
${t.keys.map(([i,r])=>`${" ".repeat((e+2)*2)}${Ri(i)}${r.optional?"?":""}: ${wv(r,e+1)}`).join(`,
`)}
${" ".repeat((e+1)*2)}}`;case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ");case"unknown":return"/* TODO: determine correct type */ unknown"}}o(wv,"toTypeDeclaration");function Tv(t,e,i=["data"],r=1){let n="undefined";switch(e.type){case"renderer":n=`Parser.parseItem(${i.join(".")}.${t}, [ ${e.renderers.map(a=>`YTNodes.${a}`).join(", ")} ])`;break;case"renderer_list":n=`Parser.parse(${i.join(".")}.${t}, true, [ ${e.renderers.map(a=>`YTNodes.${a}`).join(", ")} ])`;break;case"object":{let a=[...i,t];n=`{
${e.keys.map(([c,p])=>`${" ".repeat((r+2)*2)}${Ri(c)}: ${Tv(c,p,a,r+1)}`).join(`,
`)}
${" ".repeat((r+1)*2)}}`}break;case"misc":switch(e.misc_type){case"Thumbnail":n=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let a=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${a} : undefined`:a}default:n=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(n==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":case"unknown":n=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${n} : undefined`:n}o(Tv,"toParser");function Qt(t,e){let i=t;for(let r of e)i=i[r];return i}o(Qt,"accessDataFromKeyPath");function Uw(t,e){let i=t;for(let r of e)if(Reflect.has(i,r))i=i[r];else return!1;return!0}o(Uw,"hasDataFromKeyPath");function Iv(t,e,i,r=["data"]){let n=!e.optional||Uw({data:i},[...r,t]);switch(e.type){case"renderer":return n?ee(Qt({data:i},[...r,t]),e.renderers.map(a=>tf(a))):void 0;case"renderer_list":return n?Ve(Qt({data:i},[...r,t]),!0,e.renderers.map(a=>tf(a))):void 0;case"object":{let a={},c=[...r,t];for(let[p,f]of e.keys)a[p]=n?Iv(p,f,i,c):void 0;return a}case"misc":switch(e.misc_type){case"NavigationEndpoint":return n?new h(Qt({data:i},[...r,t])):void 0;case"Text":return n?new u(Qt({data:i},[...r,t])):void 0;case"Thumbnail":return n?v.fromResponse(Qt({data:i},[...r,t])):void 0;case"Author":return!e.optional||Uw({data:i},[...r,e.params[0]])?new R(Qt({data:i},[...r,e.params[0]]),e.params[1]?Qt({data:i},[...r,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":case"unknown":return Qt({data:i},[...r,t])}}o(Iv,"parse");function kv(t,e){let i=new Map,r=new Set(t.map(([y])=>y)),n=new Set(e.map(([y])=>y)),a=e.filter(([y])=>!r.has(y)),c=t.filter(([y])=>!n.has(y)),p=t.filter(([y])=>n.has(y)),f=new Map(e);for(let[y,b]of p){let N=f.get(y);if(!!N){if(b.type!==N.type){i.set(y,{type:"unknown",optional:!0});continue}switch(b.type){case"object":{if(N.type!=="object")continue;let{resolved_key_info:V}=kv(b.keys,N.keys),D={type:"object",keys:V,optional:b.optional||N.optional};JSON.stringify(D)!==JSON.stringify(b)&&i.set(y,D)}break;case"renderer":{if(N.type!=="renderer")continue;let V=Object.assign(Object.assign({},b.renderers),N.renderers),D=b.optional||N.optional,B={type:"renderer",renderers:V,optional:D};JSON.stringify(Object.assign(Object.assign({},B),{renderers:Object.keys(B.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},b),{renderers:Object.keys(b.renderers)}))&&i.set(y,B)}break;case"renderer_list":{if(N.type!=="renderer_list")continue;let V=Object.assign(Object.assign({},b.renderers),N.renderers),D=b.optional||N.optional,B={type:"renderer_list",renderers:V,optional:D};JSON.stringify(Object.assign(Object.assign({},B),{renderers:Object.keys(B.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},b),{renderers:Object.keys(b.renderers)}))&&i.set(y,B)}break;case"misc":{if(N.type!=="misc")continue;switch(b.misc_type!==N.misc_type&&i.set(y,{type:"unknown",optional:!0}),b.misc_type){case"Author":{if(N.misc_type!=="Author")break;let V=b.params[1]||N.params[1],D=b.optional||N.optional,B={type:"misc",misc_type:"Author",optional:D,params:[N.params[0],V]};JSON.stringify(B)!==JSON.stringify(b)&&i.set(y,B)}break}}break;case"primative":{if(N.type!=="primative")continue;let V={type:"primative",typeof:Array.from(new Set([...N.typeof,...b.typeof])),optional:b.optional||N.optional};JSON.stringify(V)!==JSON.stringify(b)&&i.set(y,V)}break}}}for(let[y,b]of a)i.set(y,Object.assign(Object.assign({},b),{optional:!0}));for(let[y,b]of c)i.set(y,Object.assign(Object.assign({},b),{optional:!0}));let _=t.filter(([y])=>!i.has(y));return{resolved_key_info:[...new Map([..._,...i]).entries()],changed_keys:[...i.entries()]}}o(kv,"mergeKeyInfo");var Hr=class extends s{constructor(e){var i,r,n;super(),this.contents=Ae(e.contents),Array.isArray(e.continuations)&&(this.continuation=(n=(r=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||r===void 0?void 0:r.nextContinuationData)===null||n===void 0?void 0:n.continuation)}};o(Hr,"ItemSectionContinuation");Hr.type="itemSectionContinuation";var Zt=class extends s{constructor(e){super(),this.endpoint=new h(e.endpoint)}};o(Zt,"NavigateAction");Zt.type="navigateAction";var zr=class extends s{constructor(e){super(),this.miniplayer_command=new h(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};o(zr,"ShowMiniplayerCommand");zr.type="showMiniplayerCommand";var ei=class extends s{constructor(e){super(),this.target_id=e.targetId,this.contents=Ve(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};o(ei,"ReloadContinuationItemsCommand");ei.type="reloadContinuationItemsCommand";var Gr=class extends s{constructor(e){var i,r,n,a,c,p;super(),this.contents=Ve(e.contents,!0),this.continuation=((n=(r=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.nextContinuationData)===null||n===void 0?void 0:n.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};o(Gr,"SectionListContinuation");Gr.type="sectionListContinuation";var Kr=class extends s{constructor(e){var i;super(),this.contents=Ve(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};o(Kr,"MusicPlaylistShelfContinuation");Kr.type="musicPlaylistShelfContinuation";var $r=class extends s{constructor(e){var i,r,n,a;super(),this.contents=Ae(e.contents),this.continuation=((r=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||r===void 0?void 0:r.continuation)||((a=(n=e.continuations)===null||n===void 0?void 0:n[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)||null}};o($r,"MusicShelfContinuation");$r.type="musicShelfContinuation";var qr=class extends s{constructor(e){var i;super(),this.items=Ve(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};o(qr,"GridContinuation");qr.type="gridContinuation";var Xr=class extends s{constructor(e){var i,r,n,a,c,p;super(),this.contents=Ae(e.contents),this.continuation=((n=(r=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.nextContinuationData)===null||n===void 0?void 0:n.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};o(Xr,"PlaylistPanelContinuation");Xr.type="playlistPanelContinuation";var Ai=class extends s{constructor(e){var i,r,n;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(r=e.continuation)===null||r===void 0?void 0:r.timeUntilLastMessageMsec,this.token=(n=e.continuation)===null||n===void 0?void 0:n.continuation}};o(Ai,"Continuation");Ai.type="continuation";var ti=class extends s{constructor(e){var i,r,n,a,c,p,f,_;super(),this.actions=Ve((i=e.actions)===null||i===void 0?void 0:i.map(y=>(delete y.clickTrackingParams,y)),!0)||re([]),this.action_panel=ee(e.actionPanel),this.item_list=ee(e.itemList,Xh),this.header=ee(e.header,qh),this.participants_list=ee(e.participantsList,Zh),this.popout_message=ee(e.popoutMessage,Gt),this.emojis=((r=e.emojis)===null||r===void 0?void 0:r.map(y=>({emoji_id:y.emojiId,shortcuts:y.shortcuts,search_terms:y.searchTerms,image:v.fromResponse(y.image),is_custom_emoji:y.isCustomEmoji})))||[];let x,g;!((n=e.continuations)===null||n===void 0)&&n[0].timedContinuationData?(g="timed",x=(a=e.continuations)===null||a===void 0?void 0:a[0].timedContinuationData):!((c=e.continuations)===null||c===void 0)&&c[0].invalidationContinuationData?(g="invalidation",x=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((f=e.continuations)===null||f===void 0)&&f[0].liveChatReplayContinuationData&&(g="replay",x=(_=e.continuations)===null||_===void 0?void 0:_[0].liveChatReplayContinuationData),this.continuation=new Ai({continuation:x,type:g}),this.viewer_name=e.viewerName}};o(ti,"LiveChatContinuation");ti.type="liveChatContinuation";var Qr=class extends s{constructor(e){super(),this.request=e.request,this.token=e.token}};o(Qr,"ContinuationCommand");Qr.type="ContinuationCommand";var sI=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),Pv=new Map(Object.entries(ef)),Gw=new Map,Mi=null,Vi=o(t=>{var{classname:e}=t,i=b0(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&console.warn(new w(`Something went wrong at ${e}!
This is a bug, please report it at ${F.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":console.warn(new Xe(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":console.warn(new w(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${F.shim.info.bugs_url}`));break;case"mutation_data_invalid":console.warn(new w(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${F.shim.info.bugs_url}`));break;case"class_not_found":console.warn(new w(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${F.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${F.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${tx(e,i.key_info)}`));break;case"class_changed":console.warn(`${e} changed!
The following keys where altered: ${i.changed_keys.map(([r])=>Ri(r)).join(", ")}
The class has changed to:
${tx(e,i.key_info)}`);break;default:console.warn("Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function aI(t){Vi=t}o(aI,"setParserErrorHandler");function pt(){Mi=null}o(pt,"_clearMemo");function dt(){Mi=new jt}o(dt,"_createMemo");function uI(t,e){if(!Mi)return;let i=Mi.get(t);if(!i)return Mi.set(t,[e]);i.push(e)}o(uI,"_addToMemo");function ft(){if(!Mi)throw new Error("Parser#getMemo() called before Parser#createMemo()");return Mi}o(ft,"_getMemo");function Kw(t){return sI.has(t)}o(Kw,"shouldIgnore");function of(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}o(of,"sanitizeClassName");function tf(t){let e=Pv.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}o(tf,"getParserByName");function ix(t){return Pv.has(t)}o(ix,"hasParser");function Cv(t,e){Pv.set(t,e),Gw.set(t,e)}o(Cv,"addRuntimeParser");function lI(){return Object.fromEntries(Gw)}o(lI,"getDynamicParsers");function cI(t){var e,i,r,n,a,c,p,f,_,x,g,y;let b={};dt();let N=Ve(t.contents),V=ft();N&&(b.contents=N,b.contents_memo=V),pt(),dt();let D=t.onResponseReceivedActions?rx(t.onResponseReceivedActions):null,B=ft();D&&(b.on_response_received_actions=D,b.on_response_received_actions_memo=B),pt(),dt();let te=t.onResponseReceivedEndpoints?rx(t.onResponseReceivedEndpoints):null,J=ft();te&&(b.on_response_received_endpoints=te,b.on_response_received_endpoints_memo=J),pt(),dt();let ae=t.onResponseReceivedCommands?rx(t.onResponseReceivedCommands):null,le=ft();ae&&(b.on_response_received_commands=ae,b.on_response_received_commands_memo=le),pt(),dt();let pe=t.continuationContents?Nv(t.continuationContents):null,fe=ft();pe&&(b.continuation_contents=pe,b.continuation_contents_memo=fe),pt(),dt();let he=t.actions?qw(t.actions):null,H=ft();he&&(b.actions=he,b.actions_memo=H),pt(),dt();let W=t.liveChatItemContextMenuSupportedRenderers?ee(t.liveChatItemContextMenuSupportedRenderers):null,K=ft();W&&(b.live_chat_item_context_menu_supported_renderers=W,b.live_chat_item_context_menu_supported_renderers_memo=K),pt(),dt();let X=t.header?Ve(t.header):null,ge=ft();X&&(b.header=X,b.header_memo=ge),pt(),dt();let He=t.sidebar?ee(t.sidebar):null,$e=ft();He&&(b.sidebar=He,b.sidebar_memo=$e),pt(),dt();let z=Ve(t.items);z&&(b.items=z,b.items_memo=ft()),pt(),dt();let ke=Ve(t.entries);ke&&(b.entries=ke,b.entries_memo=ft()),pt(),Xw(V,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations);let vt=t.continuation?$w(t.continuation):null;vt&&(b.continuation=vt);let gt=t.continuationEndpoint?Nv(t.continuationEndpoint):null;gt&&(b.continuationEndpoint=gt);let de=Ve(t.metadata);de&&(b.metadata=de);let Fe=ee(t.microformat);Fe&&(b.microformat=Fe);let tr=ee(t.overlay);tr&&(b.overlay=tr);let ir=Ae(t.alerts,[pr,Kf]);ir.length&&(b.alerts=ir);let rr=t.refinements;rr&&(b.refinements=rr);let or=t.estimatedResults?parseInt(t.estimatedResults):null;or&&(b.estimated_results=or);let nr=Ve(t.playerOverlays);nr&&(b.player_overlays=nr);let sr=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;sr&&(b.playback_tracking=sr);let ar=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:ee(t.playabilityStatus.audioOnlyPlayability,Lf),error_screen:ee(t.playabilityStatus.errorScreen)}:null;if(ar&&(b.playability_status=ar),t.streamingData){let _i=new Map,lr={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:Ev(t.streamingData.formats,_i),adaptive_formats:Ev(t.streamingData.adaptiveFormats,_i),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};b.streaming_data=lr}if(t.playerConfig){let _i={audio_config:{loudness_db:(r=t.playerConfig.audioConfig)===null||r===void 0?void 0:r.loudnessDb,perceptual_loudness_db:(n=t.playerConfig.audioConfig)===null||n===void 0?void 0:n.perceptualLoudnessDb,enable_per_format_loudness:(a=t.playerConfig.audioConfig)===null||a===void 0?void 0:a.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((c=t.playerConfig.streamSelectionConfig)===null||c===void 0?void 0:c.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((f=(p=t.playerConfig.mediaCommonConfig)===null||p===void 0?void 0:p.dynamicReadaheadConfig)===null||f===void 0?void 0:f.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((x=(_=t.playerConfig.mediaCommonConfig)===null||_===void 0?void 0:_.dynamicReadaheadConfig)===null||x===void 0?void 0:x.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((y=(g=t.playerConfig.mediaCommonConfig)===null||g===void 0?void 0:g.dynamicReadaheadConfig)===null||y===void 0?void 0:y.readAheadGrowthRateMs)||0}}};b.player_config=_i}let ur=t.currentVideoEndpoint?new h(t.currentVideoEndpoint):null;ur&&(b.current_video_endpoint=ur);let oe=t.endpoint?new h(t.endpoint):null;oe&&(b.endpoint=oe);let qe=ee(t.captions,zf);qe&&(b.captions=qe);let Se=t.videoDetails?new Ht(t.videoDetails):null;Se&&(b.video_details=Se);let Nt=Ae(t.annotations,Hf);Nt.length&&(b.annotations=Nt);let hi=ee(t.storyboards,[bi,Gf]);hi&&(b.storyboards=hi);let me=ee(t.endscreen,Jf);me&&(b.endscreen=me);let st=ee(t.cards,Wf);st&&(b.cards=st);let be=Ae(t.engagementPanels,gr);return be.length&&(b.engagement_panels=be),b}o(cI,"parseResponse");function ee(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let r=of(i[0]);if(!Kw(r))try{let a=ix(r)?tf(r):rf(r,t[i[0]],Vi);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===a.type))return Vi({classdata:t[i[0]],classname:r,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(a.type!==e.type)return Vi({classdata:t[i[0]],classname:r,error_type:"typecheck",expected:e.type}),null}let c=new a(t[i[0]]);return uI(r,c),c}catch(n){return Vi({classname:r,classdata:t[i[0]],error:n,error_type:"parse"}),null}return null}o(ee,"parseItem");function Ae(t,e){if(Array.isArray(t)){let i=[];for(let r of t){let n=ee(r,e);n&&i.push(n)}return re(i)}else if(!t)return re([]);throw new Xe("Expected array but got a single item")}o(Ae,"parseArray");function Ve(t,e,i){if(!t)return null;if(Array.isArray(t)){let r=[];for(let a of t){let c=ee(a,i);c&&r.push(c)}let n=re(r);return e?n:new yt(n)}else if(e)throw new Xe("Expected array but got a single item");return new yt(ee(t,i))}o(Ve,"parse");function $w(t){return t.timedContinuationData?new Ai({continuation:t.timedContinuationData,type:"timed"}):null}o($w,"parseC");function Nv(t){return t.itemSectionContinuation?new Hr(t.itemSectionContinuation):t.sectionListContinuation?new Gr(t.sectionListContinuation):t.liveChatContinuation?new ti(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new Kr(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new $r(t.musicShelfContinuation):t.gridContinuation?new qr(t.gridContinuation):t.playlistPanelContinuation?new Xr(t.playlistPanelContinuation):t.continuationCommand?new Qr(t.continuationCommand):null}o(Nv,"parseLC");function rx(t){return re(t.map(e=>{if(e.navigateAction)return new Zt(e.navigateAction);if(e.showMiniplayerCommand)return new zr(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new ei(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Ii(e.appendContinuationItemsAction)}).filter(e=>e))}o(rx,"parseRR");function qw(t){return Array.isArray(t)?Ve(t.map(e=>(delete e.clickTrackingParams,e))):new yt(ee(t))}o(qw,"parseActions");function Ev(t,e){return(t==null?void 0:t.map(i=>new gm(i,e)))||[]}o(Ev,"parseFormats");function Xw(t,e){let i=t.getType(br);if(i.length>0&&!e)Vi({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let r=[];for(let n of i){let a=e.find(p=>{var f,_;return((_=(f=p.payload)===null||f===void 0?void 0:f.musicFormBooleanChoice)===null||_===void 0?void 0:_.id)===n.form_item_entity_key}),c=a==null?void 0:a.payload.musicFormBooleanChoice;(c==null?void 0:c.selected)!==void 0&&(c==null?void 0:c.opaqueToken)?n.selected=c.selected:r.push(`'${n.title}'`)}r.length>0&&Vi({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:r.length,titles:r})}}o(Xw,"applyMutations");var Uv={};Ee(Uv,{AccountInfo:()=>Qw,Analytics:()=>Zw,Channel:()=>Te,ChannelListContinuation:()=>Fi,Comments:()=>tT,FilteredChannelList:()=>oi,Guide:()=>iT,HashtagFeed:()=>ni,History:()=>ux,HomeFeed:()=>Vt,ItemMenu:()=>dx,Library:()=>oT,LiveChat:()=>Tx,NotificationsMenu:()=>sT,Playlist:()=>mx,Search:()=>aT,Settings:()=>uT,SmoothedQueue:()=>gx,TimeWatched:()=>lT,VideoInfo:()=>wf});var Zr,ox=class{constructor(e){if(Zr.set(this,void 0),k(this,Zr,l.parseResponse(e.data),"f"),!d(this,Zr,"f").contents)throw new w("Page contents not found");let i=d(this,Zr,"f").contents.array().as(Sm).first();if(!i)throw new w("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return d(this,Zr,"f")}};o(ox,"AccountInfo");Zr=new WeakMap;var Qw=ox;var nf,nx=class{constructor(e){var i;nf.set(this,void 0),k(this,nf,l.parseResponse(e.data),"f"),this.sections=(i=d(this,nf,"f").contents_memo)===null||i===void 0?void 0:i.getType(Br).map(r=>r.model).flatMap(r=>r||[])}get page(){return d(this,nf,"f")}};o(nx,"Analytics");nf=new WeakMap;var Zw=nx;var sf,Me,Bi,af,Ue,eT,Rv,ii=class{constructor(e,i,r=!1){sf.add(this),Me.set(this,void 0),Bi.set(this,void 0),af.set(this,void 0),Ue.set(this,void 0),d(this,sf,"m",eT).call(this,i)||r?k(this,Me,i,"f"):k(this,Me,l.parseResponse(i.data),"f");let n=Av(d(this,Me,"f").contents_memo,d(this,Me,"f").continuation_contents_memo,d(this,Me,"f").on_response_received_commands_memo,d(this,Me,"f").on_response_received_endpoints_memo,d(this,Me,"f").on_response_received_actions_memo,d(this,Me,"f").sidebar_memo,d(this,Me,"f").header_memo);if(!n)throw new w("No memo found in feed");k(this,Ue,n,"f"),k(this,af,e,"f")}static getVideosFromMemo(e){return e.getType(fr,Ch,M_,_r,A_,At,X_)}static getPlaylistsFromMemo(e){return e.getType(wt,Ih)}get videos(){return ii.getVideosFromMemo(d(this,Ue,"f"))}get posts(){return d(this,Ue,"f").getType(zt,V_,W_)}get channels(){return d(this,Ue,"f").getType(Hm,Th)}get playlists(){return ii.getPlaylistsFromMemo(d(this,Ue,"f"))}get memo(){return d(this,Ue,"f")}get page_contents(){var e;let i=(e=d(this,Ue,"f").getType(Ne))===null||e===void 0?void 0:e.first().content,r=d(this,Ue,"f").getType(ei).first(),n=d(this,Ue,"f").getType(Ii).first();return i||r||n}get shelves(){return d(this,Ue,"f").getType(Wr,O_,vr)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=d(this,Me,"f").contents)===null||e===void 0)&&e.is_node))return;let r=(i=d(this,Me,"f").contents)===null||i===void 0?void 0:i.item();if(!!r.is(It,z_))return r.secondary_contents}get actions(){return d(this,af,"f")}get page(){return d(this,Me,"f")}get has_continuation(){return d(this,sf,"m",Rv).call(this).length>0}getContinuationData(){return I(this,void 0,void 0,function*(){if(d(this,Bi,"f")){if(d(this,Bi,"f").length===0)throw new w("There are no continuations.");return yield d(this,Bi,"f")[0].endpoint.call(d(this,af,"f"),{parse:!0})}if(k(this,Bi,d(this,sf,"m",Rv).call(this),"f"),d(this,Bi,"f"))return this.getContinuationData()})}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new w("Could not get continuation data");return new ii(this.actions,e,!0)})}};o(ii,"Feed");Me=new WeakMap,Bi=new WeakMap,af=new WeakMap,Ue=new WeakMap,sf=new WeakSet,eT=o(function(e){return!("data"in e)},"_Feed_isParsed"),Rv=o(function(){if(d(this,Me,"f").header_memo){let e=d(this,Me,"f").header_memo.getType(ue);return d(this,Ue,"f").getType(ue).filter(i=>!e.includes(i))}return d(this,Ue,"f").getType(ue)},"_Feed_getBodyContinuations");var we=ii;var Di,Oi,Li=class extends we{constructor(e,i,r=!1){var n;super(e,i,r),Di.set(this,void 0),Oi.set(this,void 0),k(this,Oi,e,"f"),k(this,Di,(n=this.page.contents_memo)===null||n===void 0?void 0:n.getType(Ne),"f")}get tabs(){var e,i;return(i=(e=d(this,Di,"f"))===null||e===void 0?void 0:e.map(r=>r.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return I(this,void 0,void 0,function*(){let r=(i=d(this,Di,"f"))===null||i===void 0?void 0:i.find(a=>a.title.toLowerCase()===e.toLowerCase());if(!r)throw new w(`Tab "${e}" not found`);if(r.selected)return this;let n=yield r.endpoint.call(d(this,Oi,"f"));return new Li(d(this,Oi,"f"),n,!1)})}getTabByURL(e){var i;return I(this,void 0,void 0,function*(){let r=(i=d(this,Di,"f"))===null||i===void 0?void 0:i.find(a=>{var c;return((c=a.endpoint.metadata.url)===null||c===void 0?void 0:c.split("/").pop())===e});if(!r)throw new w(`Tab "${e}" not found`);if(r.selected)return this;let n=yield r.endpoint.call(d(this,Oi,"f"));return new Li(d(this,Oi,"f"),n,!1)})}hasTabWithURL(e){var i,r;return(r=(i=d(this,Di,"f"))===null||i===void 0?void 0:i.some(n=>{var a;return((a=n.endpoint.metadata.url)===null||a===void 0?void 0:a.split("/").pop())===e}))!==null&&r!==void 0?r:!1}get title(){var e,i,r;return(r=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(Ne))===null||i===void 0?void 0:i.find(n=>n.selected))===null||r===void 0?void 0:r.title.toString()}};o(Li,"TabbedFeed");Di=new WeakMap,Oi=new WeakMap;var uf=Li;var eo,sx=class extends we{constructor(e,i,r=!1){super(e,i,r),eo.set(this,void 0)}get filter_chips(){var e,i;if(d(this,eo,"f"))return d(this,eo,"f")||[];if(((e=this.memo.getType(Rt))===null||e===void 0?void 0:e.length)>1)throw new w("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(Rt))===null||i===void 0?void 0:i.length)===0)throw new w("There are no feed filter chipbars");return k(this,eo,this.memo.getType(Be),"f"),d(this,eo,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return I(this,void 0,void 0,function*(){let r;if(typeof e=="string"){if(!this.filters.includes(e))throw new w("Filter not found",{available_filters:this.filters});r=this.filter_chips.find(a=>a.text.toString()===e)}else if(e.type==="ChipCloudChip")r=e;else throw new w("Invalid filter");if(!r)throw new w("Filter not found");if(r.is_selected)return this;let n=yield(i=r.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!n)throw new w("Failed to get filtered feed");return new we(this.actions,n,!0)})}};o(sx,"FilterableFeed");eo=new WeakMap;var ri=sx;var Te=class extends uf{constructor(e,i,r=!1){var n,a,c,p,f,_;super(e,i,r),this.header=(a=(n=this.page.header)===null||n===void 0?void 0:n.item())===null||a===void 0?void 0:a.as(Ir,Jm,Mh,qt);let x=(c=this.page.metadata)===null||c===void 0?void 0:c.item().as(zm),g=(p=this.page.microformat)===null||p===void 0?void 0:p.as(Lr);if(this.page.alerts){let y=this.page.alerts.first();if((y==null?void 0:y.alert_type)==="ERROR")throw new to(y.text.toString())}if(!x&&!this.page.contents)throw new w("Invalid channel",this);this.metadata=Object.assign(Object.assign({},x),g||{}),this.subscribe_button=(f=this.page.header_memo)===null||f===void 0?void 0:f.getType(Re).first(),this.current_tab=(_=this.page.contents)===null||_===void 0?void 0:_.item().as(It).tabs.array().filterType(Ne,Dr).get({selected:!0})}applyFilter(e){var i;return I(this,void 0,void 0,function*(){let r,n=this.memo.getType(Rt).first();if(typeof e=="string"){if(r=n==null?void 0:n.contents.get({text:e}),!r)throw new w(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof Be&&(r=e);if(!r)throw new w("Invalid filter",e);let a=yield(i=r.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!a)throw new w("No page returned",{filter:r});return new oi(this.actions,a,!0)})}applySort(e){var i,r;return I(this,void 0,void 0,function*(){let n=this.memo.getType(at).first();if(!n)throw new w("No sort filter sub menu found");let a=(i=n==null?void 0:n.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!a)throw new w(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(a.selected)return this;let c=yield(r=a.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0});return new Te(this.actions,c,!0)})}applyContentTypeFilter(e){var i,r,n,a;return I(this,void 0,void 0,function*(){let c=(n=(r=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||r===void 0?void 0:r.as(Ce).sub_menu)===null||n===void 0?void 0:n.as(la);if(!c)throw new w("Sub menu not found");let p=c.content_type_sub_menu_items.find(_=>_.title===e);if(!p)throw new w(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let f=yield(a=p.endpoint)===null||a===void 0?void 0:a.call(this.actions,{parse:!0});return new Te(this.actions,f,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(Rt))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(Be).map(r=>r.text))||[]}get sort_filters(){var e;let i=this.memo.getType(at).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(r=>r.title))||[]}get content_type_filters(){var e,i,r;let n=(r=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(Ce).sub_menu)===null||r===void 0?void 0:r.as(la);return(n==null?void 0:n.content_type_sub_menu_items.map(a=>a.title))||[]}getHome(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Te(this.actions,e.page,!0)})}getVideos(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Te(this.actions,e.page,!0)})}getShorts(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Te(this.actions,e.page,!0)})}getLiveStreams(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Te(this.actions,e.page,!0)})}getReleases(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Te(this.actions,e.page,!0)})}getPodcasts(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Te(this.actions,e.page,!0)})}getPlaylists(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Te(this.actions,e.page,!0)})}getCommunity(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Te(this.actions,e.page,!0)})}getAbout(){var e,i,r;return I(this,void 0,void 0,function*(){if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(ta)[0];if(((e=this.header)===null||e===void 0?void 0:e.is(Ir))&&this.header.tagline){if(this.header.tagline.more_endpoint instanceof h){let c=yield this.header.tagline.more_endpoint.call(this.actions);return new uf(this.actions,c,!1).memo.getType(ta)[0]}let n=(r=(i=this.page.header_memo)===null||i===void 0?void 0:i.getType(ue)[0])===null||r===void 0?void 0:r.endpoint;if(!n)throw new w("Failed to extract continuation to get channel about");let a=yield n.call(this.actions,{parse:!0});if(!a.on_response_received_endpoints_memo)throw new w("Unexpected response while fetching channel about",{response:a});return a.on_response_received_endpoints_memo.getType(wm)[0]}throw new w("About not found")})}search(e){var i,r;return I(this,void 0,void 0,function*(){let n=(i=this.memo.getType(Dr))===null||i===void 0?void 0:i[0];if(!n)throw new w("Search tab not found",this);let a=yield(r=n.endpoint)===null||r===void 0?void 0:r.call(this.actions,{query:e,parse:!0});return new Te(this.actions,a,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(Ir))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(Dr))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new w("Could not get continuation data");return new Fi(this.actions,i,!0)})}};o(Te,"Channel");var Fi=class extends we{constructor(e,i,r=!1){var n,a;super(e,i,r),this.contents=((n=this.page.on_response_received_actions)===null||n===void 0?void 0:n.first())||((a=this.page.on_response_received_endpoints)===null||a===void 0?void 0:a.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new w("Could not get continuation data");return new Fi(this.actions,i,!0)})}};o(Fi,"ChannelListContinuation");var oi=class extends ri{constructor(e,i,r=!1){super(e,i,r),this.applied_filter=this.memo.getType(Be).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return I(this,void 0,void 0,function*(){let r=yield i.getFilteredFeed.call(this,e);return new oi(this.actions,r.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new w("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(Rt)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(Be)),new oi(this.actions,i,!0)})}};o(oi,"FilteredChannelList");var io,kt,ro,ji=class{constructor(e,i,r=!1){var n,a,c;io.set(this,void 0),kt.set(this,void 0),ro.set(this,void 0),k(this,io,r?i:l.parseResponse(i),"f"),k(this,kt,e,"f");let p=d(this,io,"f").on_response_received_endpoints;if(!p)throw new w("Comments page did not have any content.");let f=p.at(0),_=p.at(1);this.header=(n=f==null?void 0:f.contents)===null||n===void 0?void 0:n.firstOfType(Rr);let x=((a=_==null?void 0:_.contents)===null||a===void 0?void 0:a.filterType(ch))||[];this.contents=re(x.map(g=>{var y;return(y=g.comment)===null||y===void 0||y.setActions(d(this,kt,"f")),g.setActions(d(this,kt,"f")),g})),k(this,ro,(c=_==null?void 0:_.contents)===null||c===void 0?void 0:c.firstOfType(ue),"f")}applySort(e){var i,r,n,a;return I(this,void 0,void 0,function*(){if(!this.header)throw new w("Page header is missing. Cannot apply sort option.");let c;if(e==="TOP_COMMENTS"?c=(r=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||r===void 0?void 0:r.at(0):e==="NEWEST_FIRST"&&(c=(a=(n=this.header.sort_menu)===null||n===void 0?void 0:n.sub_menu_items)===null||a===void 0?void 0:a.at(1)),!c)throw new w("Could not find target button.");if(c.selected)return this;let p=yield c.endpoint.call(d(this,kt,"f"),{parse:!0});return new ji(d(this,kt,"f"),p,!0)})}createComment(e){var i;return I(this,void 0,void 0,function*(){if(!this.header)throw new w("Page header is missing. Cannot create comment.");let r=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(lh).submit_button;if(!r)throw new w("Could not find target button. You are probably not logged in.");if(!r.endpoint)throw new w("Button does not have an endpoint.");return yield r.endpoint.call(d(this,kt,"f"),{commentText:e})})}getContinuation(){return I(this,void 0,void 0,function*(){if(!d(this,ro,"f"))throw new w("Continuation not found");let e=yield d(this,ro,"f").endpoint.call(d(this,kt,"f"),{parse:!0}),i=Object.assign({},d(this,io,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new w("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new ji(d(this,kt,"f"),i,!0)})}get has_continuation(){return!!d(this,ro,"f")}get page(){return d(this,io,"f")}};o(ji,"Comments");io=new WeakMap,kt=new WeakMap,ro=new WeakMap;var tT=ji;var lf,ax=class{constructor(e){lf.set(this,void 0),k(this,lf,l.parseResponse(e),"f"),this.contents=d(this,lf,"f").items.array().as(Or,Nh)}get page(){return d(this,lf,"f")}};o(ax,"Guide");lf=new WeakMap;var iT=ax;var oo=class extends we{constructor(e,i,r=!1){super(e,i,r),this.sections=this.memo.getType(Ye),this.feed_actions=this.memo.getType(Lm).first()}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new oo(this.actions,e,!0)})}};o(oo,"History");var ux=oo;var Vt=class extends ri{constructor(e,i,r=!1){super(e,i,r),this.header=this.memo.getType(yh).first(),this.contents=this.memo.getType(Xt).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return I(this,void 0,void 0,function*(){let r=yield i.getFilteredFeed.call(this,e);return new Vt(this.actions,r.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return I(this,void 0,void 0,function*(){let r=yield e.getContinuation.call(this);return r.page.header=this.page.header,(i=r.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Vt(this.actions,r.page,!0)})}};o(Vt,"HomeFeed");var ni=class extends ri{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new w("Unexpected response",this.page);let r=this.page.contents_memo.getType(Ne).first();if(!r.content)throw new w("Content tab has no content",r);this.page.header&&(this.header=this.page.header.item().as(Eh,qt)),this.contents=r.content.as(Xt)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return I(this,void 0,void 0,function*(){let r=yield i.getFilteredFeed.call(this,e);return new ni(this.actions,r.page)})}};o(ni,"HashtagFeed");var lx,cx,cf,px=class{constructor(e,i){lx.set(this,void 0),cx.set(this,void 0),cf.set(this,void 0),k(this,lx,e,"f"),k(this,cx,i,"f");let r=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!r||!r.is(O))throw new w('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');k(this,cf,r.as(O).items,"f")}selectItem(e){return I(this,void 0,void 0,function*(){let i;if(e instanceof T){if(!e.endpoint)throw new w("Item does not have an endpoint.");i=e.endpoint}else{let n=d(this,cf,"f").find(a=>a.is(Kt)?a.as(Kt).icon_type===e:!1);if(!n||!n.is(Kt))throw new w(`Button "${e}" not found.`);i=n.endpoint}if(!i)throw new w("Target button does not have an endpoint.");return yield i.call(d(this,cx,"f"),{parse:!0})})}items(){return d(this,cf,"f")}page(){return d(this,lx,"f")}};o(px,"ItemMenu");lx=new WeakMap,cx=new WeakMap,cf=new WeakMap;var dx=px;var pf,fx,no=class extends we{constructor(e,i,r=!1){var n,a,c,p,f;super(e,i,r),pf.add(this);let _=this.memo.getType(N_).first(),x=this.memo.getType(P_).first(),g=this.memo.getType(R_).first(),y=(n=this.page.alerts)===null||n===void 0?void 0:n.firstOfType(pr);if(y&&y.alert_type==="ERROR")throw new w(y.text.toString(),y);if(!x&&!g&&Object.keys(this.page).length===0)throw new w("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(a=this.page.metadata)===null||a===void 0?void 0:a.item().as(E_)),{subtitle:_?_.subtitle:null,author:(p=(c=g==null?void 0:g.owner)===null||c===void 0?void 0:c.as(Jr).author)!==null&&p!==void 0?p:_==null?void 0:_.author,thumbnails:(f=x==null?void 0:x.thumbnail_renderer)===null||f===void 0?void 0:f.as(Mr,Vr).thumbnail,total_items:d(this,pf,"m",fx).call(this,0,x),views:d(this,pf,"m",fx).call(this,1,x),last_updated:d(this,pf,"m",fx).call(this,2,x),can_share:_==null?void 0:_.can_share,can_delete:_==null?void 0:_.can_delete,is_editable:_==null?void 0:_.is_editable,privacy:_==null?void 0:_.privacy}),this.menu=x==null?void 0:x.menu,this.endpoint=x==null?void 0:x.endpoint,this.messages=this.memo.getType(Gt)}get items(){return this.videos}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new w("Could not get continuation data");return new no(this.actions,e,!0)})}};o(no,"Playlist");pf=new WeakSet,fx=o(function(e,i){var r;return!i||!i.stats?"N/A":((r=i.stats[e])===null||r===void 0?void 0:r.toString())||"N/A"},"_Playlist_getStat");var mx=no;var Vv,rT,hx=class extends we{constructor(e,i){if(super(e,i),Vv.add(this),!this.page.contents_memo)throw new w("Page contents not found");this.header=this.memo.getType(qt).first();let r=this.page.contents_memo.getType(Wr);this.sections=r.map(n=>{var a;return{type:n.icon_type,title:n.title,contents:((a=n.content)===null||a===void 0?void 0:a.key("items").array())||[],getAll:()=>d(this,Vv,"m",rT).call(this,n)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};o(hx,"Library");Vv=new WeakSet,rT=o(function(e){var i;return I(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(O).hasKey("top_level_buttons")))throw new w(`The ${e.title.text} shelf doesn't have more items`);let r=e.menu.as(O).top_level_buttons.firstOfType(T);if(!r)throw new w("Did not find target button.");let n=yield r.as(T).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new mx(this.actions,n,!0);case"WATCH_HISTORY":return new ux(this.actions,n,!0);case"CONTENT_CUT":return new we(this.actions,n,!0);default:throw new w("Target shelf not implemented.")}})},"_Library_getAll");var oT=hx;var so,_x=class extends EventTarget{constructor(){super(),so.set(this,new Map)}emit(e,...i){let r=new F.shim.CustomEvent(e,{detail:i});this.dispatchEvent(r)}on(e,i){let r=o(n=>{n instanceof F.shim.CustomEvent?i(...n.detail):i(n)},"wrapper");d(this,so,"f").set(i,r),this.addEventListener(e,r)}once(e,i){let r=o(n=>{n instanceof F.shim.CustomEvent?i(...n.detail):i(n),this.off(e,i)},"wrapper");d(this,so,"f").set(i,r),this.addEventListener(e,r)}off(e,i){let r=d(this,so,"f").get(i);r&&(this.removeEventListener(e,r),d(this,so,"f").delete(i))}};o(_x,"EventEmitterLike");so=new WeakMap;var df=_x;var Mt,si,Yi,Ze,mt,We;function pI(t){let e=[];for(let i of t)if(Array.isArray(i))for(let r of i)e.push(r);else e.push(i);return e}o(pI,"flattenQueue");var xx=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};o(xx,"DelayQueue");var vx=class{constructor(){Mt.set(this,void 0),si.set(this,void 0),Yi.set(this,void 0),Ze.set(this,void 0),mt.set(this,void 0),We.set(this,void 0),k(this,Mt,null,"f"),k(this,si,null,"f"),k(this,Yi,null,"f"),k(this,Ze,[],"f"),k(this,mt,null,"f"),k(this,We,new xx,"f")}enqueueActionGroup(e){if(d(this,Mt,"f")!==null){let i=Date.now()-d(this,Mt,"f");d(this,We,"f").back.push(i),5<d(this,We,"f").front.length+d(this,We,"f").back.length&&(d(this,We,"f").front.length||(d(this,We,"f").front=d(this,We,"f").back,d(this,We,"f").front.reverse(),d(this,We,"f").back=[]),d(this,We,"f").front.pop()),k(this,si,Math.max(...d(this,We,"f").getValues()),"f")}k(this,Mt,Date.now(),"f"),d(this,Ze,"f").push(e),d(this,mt,"f")===null&&k(this,mt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(k(this,mt,null,"f"),d(this,Ze,"f").length){let e=1e4;d(this,si,"f")!==null&&d(this,Mt,"f")!==null&&(e=d(this,si,"f")-Date.now()+d(this,Mt,"f")),e=d(this,Ze,"f").length<e/80?1:Math.ceil(d(this,Ze,"f").length/(e/80));let i=pI(d(this,Ze,"f").splice(0,e));d(this,Yi,"f")&&d(this,Yi,"f").call(this,i),d(this,Ze,"f")!==null&&(e==1?(e=d(this,si,"f")/d(this,Ze,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,k(this,mt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){d(this,mt,"f")!==null&&(clearTimeout(d(this,mt,"f")),k(this,mt,null,"f")),k(this,Ze,[],"f")}set callback(e){k(this,Yi,e,"f")}get callback(){return d(this,Yi,"f")}get action_queue(){return d(this,Ze,"f")}get estimated_update_interval(){return d(this,si,"f")}get last_update_time(){return d(this,Mt,"f")}get next_update_id(){return d(this,mt,"f")}get poll_response_delay_queue(){return d(this,We,"f")}};o(vx,"SmoothedQueue");Mt=new WeakMap,si=new WeakMap,Yi=new WeakMap,Ze=new WeakMap,mt=new WeakMap,We=new WeakMap;var gx=vx;var Ie,Bt,hf,bx,Wi,ff,mf,Mv,yx,nT,Ui,wx=class extends df{constructor(e){var i,r;super(),Ie.add(this),Bt.set(this,void 0),hf.set(this,void 0),bx.set(this,void 0),Wi.set(this,void 0),ff.set(this,void 0),mf.set(this,0),this.running=!1,this.is_replay=!1,k(this,hf,e.basic_info.id,"f"),k(this,bx,e.basic_info.channel_id,"f"),k(this,Bt,e.actions,"f"),k(this,Wi,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((r=e.livechat)===null||r===void 0?void 0:r.is_replay)||!1,this.smoothed_queue=new gx,this.smoothed_queue.callback=n=>I(this,void 0,void 0,function*(){n.length?n.length<10?yield d(this,Ie,"m",yx).call(this,n):this.is_replay?(d(this,Ie,"m",yx).call(this,n),yield d(this,Ie,"m",Ui).call(this,2e3)):d(this,Ie,"m",yx).call(this,n):yield d(this,Ie,"m",Ui).call(this,2e3),this.running&&d(this,Ie,"m",Mv).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,d(this,Ie,"m",Mv).call(this),d(this,Ie,"m",nT).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return I(this,void 0,void 0,function*(){let i=yield d(this,Bt,"f").execute("/live_chat/send_message",{params:mv(d(this,bx,"f"),d(this,hf,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:F.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new w("Unexpected response from send_message",i);return i.actions.array().as(Uh)})}applyFilter(e){var i,r,n,a,c,p,f;if(!this.initial_info)throw new w("Cannot apply filter before initial info is retrieved.");let _=(n=(r=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||r===void 0?void 0:r.view_selector)===null||n===void 0?void 0:n.sub_menu_items;if(e==="TOP_CHAT"){if(!((a=_==null?void 0:_.at(0))===null||a===void 0)&&a.selected)return;k(this,Wi,(c=_==null?void 0:_.at(0))===null||c===void 0?void 0:c.continuation,"f")}else{if(!((p=_==null?void 0:_.at(1))===null||p===void 0)&&p.selected)return;k(this,Wi,(f=_==null?void 0:_.at(1))===null||f===void 0?void 0:f.continuation,"f")}}getItemMenu(e){return I(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(h))throw new w("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(h).call(d(this,Bt,"f"),{parse:!0});if(!i)throw new w("Could not retrieve item menu.",e);return new dx(i,d(this,Bt,"f"))})}selectButton(e){return I(this,void 0,void 0,function*(){return yield e.endpoint.call(d(this,Bt,"f"),{parse:!0})})}};o(wx,"LiveChat");Bt=new WeakMap,hf=new WeakMap,bx=new WeakMap,Wi=new WeakMap,ff=new WeakMap,mf=new WeakMap,Ie=new WeakSet,Mv=o(function t(){I(this,void 0,void 0,function*(){var e,i;try{let r=yield d(this,Bt,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:d(this,Wi,"f"),parse:!0}),n=r.continuation_contents;if(n||(this.emit("error",new w("Unexpected live chat incremental continuation response",r)),this.emit("end"),this.stop()),!(n instanceof ti)){this.stop(),this.emit("end");return}k(this,Wi,n.continuation.token,"f"),n.header?(this.initial_info=n,this.emit("start",n),this.running&&d(this,Ie,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(n.actions),k(this,mf,0,"f")}catch(r){this.emit("error",r),k(this,mf,(i=d(this,mf,"f"),e=i++,i),"f"),e<10?(yield d(this,Ie,"m",Ui).call(this,2e3),d(this,Ie,"m",t).call(this)):(this.emit("error",new w("Reached retry limit for incremental continuation requests",r)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),yx=o(function(e){return I(this,void 0,void 0,function*(){let r=e.length<125?1:Math.ceil(e.length/125),n=r==1?(r=1e4/e.length,r*=Math.random()+.5,r=Math.min(1e3,r),r=Math.max(80,r)):r=80;for(let a of e)yield d(this,Ie,"m",Ui).call(this,n),this.emit("chat-update",a)})},"_LiveChat_emitSmoothedActions"),nT=o(function t(){I(this,void 0,void 0,function*(){var e,i,r,n,a,c,p,f,_,x,g;try{let y={videoId:d(this,hf,"f")};d(this,ff,"f")&&(y.continuation=d(this,ff,"f"));let b=yield d(this,Bt,"f").execute("/updated_metadata",y),N=l.parseResponse(b.data);k(this,ff,(e=N.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=N.actions)===null||i===void 0?void 0:i.array().firstOfType(Gh))||((r=this.metadata)===null||r===void 0?void 0:r.title),description:((n=N.actions)===null||n===void 0?void 0:n.array().firstOfType(zh))||((a=this.metadata)===null||a===void 0?void 0:a.description),views:((c=N.actions)===null||c===void 0?void 0:c.array().firstOfType($h))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((f=N.actions)===null||f===void 0?void 0:f.array().firstOfType(Kh))||((_=this.metadata)===null||_===void 0?void 0:_.likes),date:((x=N.actions)===null||x===void 0?void 0:x.array().firstOfType(Hh))||((g=this.metadata)===null||g===void 0?void 0:g.date)},this.emit("metadata-update",this.metadata),yield d(this,Ie,"m",Ui).call(this,5e3),this.running&&d(this,Ie,"m",t).call(this)}catch(y){yield d(this,Ie,"m",Ui).call(this,2e3),this.running&&d(this,Ie,"m",t).call(this)}})},"_LiveChat_pollMetadata"),Ui=o(function(e){return I(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var Tx=wx;var Ji,_f,ao=class{constructor(e,i){Ji.set(this,void 0),_f.set(this,void 0),k(this,_f,e,"f"),k(this,Ji,l.parseResponse(i.data),"f"),this.header=d(this,Ji,"f").actions_memo.getType(r_).first(),this.contents=d(this,Ji,"f").actions_memo.getType(g_)}getContinuation(){return I(this,void 0,void 0,function*(){let e=d(this,Ji,"f").actions_memo.getType(ue).first();if(!e)throw new w("Continuation not found");let i=yield e.endpoint.call(d(this,_f,"f"),{parse:!1});return new ao(d(this,_f,"f"),i)})}get page(){return d(this,Ji,"f")}};o(ao,"NotificationsMenu");Ji=new WeakMap,_f=new WeakMap;var sT=ao;var Hi=class extends we{constructor(e,i,r=!1){var n,a,c,p,f,_;super(e,i,r);let x=((n=this.page.contents_memo)===null||n===void 0?void 0:n.getType(Ce).first().contents)||((a=this.page.on_response_received_commands)===null||a===void 0?void 0:a.first().contents);if(!x)throw new w("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(F_)),this.results=(c=x.find(g=>g.is(Ye)&&g.contents&&g.contents.length>0))===null||c===void 0?void 0:c.as(Ye).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(j_).first(),this.watch_card=(f=this.page.contents_memo)===null||f===void 0?void 0:f.getType($_).first(),this.refinement_cards=(_=this.results)===null||_===void 0?void 0:_.firstOfType(Wt)}selectRefinementCard(e){var i,r;return I(this,void 0,void 0,function*(){let n;if(typeof e=="string"){if(!this.refinement_cards)throw new w("No refinement cards found.");if(n=(r=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||r===void 0?void 0:r.as(yi),!n)throw new w(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")n=e;else throw new w("Invalid refinement card!");let a=yield n.endpoint.call(this.actions,{parse:!0});return new Hi(this.actions,a,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(yi).map(i=>i.query))||[]}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new w("Could not get continuation data");return new Hi(this.actions,e,!0)})}};o(Hi,"Search");var aT=Hi;var zi,xf,uo=class{constructor(e,i){var r,n,a,c;if(zi.set(this,void 0),xf.set(this,void 0),k(this,xf,e,"f"),k(this,zi,l.parseResponse(i.data),"f"),this.sidebar=(r=d(this,zi,"f").sidebar)===null||r===void 0?void 0:r.as(U_),!d(this,zi,"f").contents)throw new w("Page contents not found");let p=d(this,zi,"f").contents.item().as(It).tabs.array().as(Ne).get({selected:!0});if(!p)throw new w("Target tab not found");let f=(n=p.content)===null||n===void 0?void 0:n.as(Ce).contents.as(Ye);this.introduction=(c=(a=f==null?void 0:f.shift())===null||a===void 0?void 0:a.contents)===null||c===void 0?void 0:c.firstOfType(y_),this.sections=f==null?void 0:f.map(_=>{var x;return{title:((x=_.header)===null||x===void 0?void 0:x.title.toString())||null,contents:_.contents}})}selectSidebarItem(e){return I(this,void 0,void 0,function*(){if(!this.sidebar)throw new w("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new w(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(Ar))i=e;else throw new w("Invalid item",{target_item:e});let r=yield i.endpoint.call(d(this,xf,"f"),{parse:!1});return new uo(d(this,xf,"f"),r)})}getSettingOption(e){var i;if(!this.sections)throw new w("Sections not available");for(let r of this.sections)if(!!r.contents)for(let n of r.contents){let a=n.as(Ur).options;if(a){for(let c of a)if(c.is(Yr)&&((i=c.title)===null||i===void 0?void 0:i.toString())===e)return c}}throw new w(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new w("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let r of i.contents)r.as(Ur).options&&(e=e.concat(r.as(Ur).options));return e.map(i=>{var r;return(r=i.title)===null||r===void 0?void 0:r.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new w("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return d(this,zi,"f")}};o(uo,"Settings");zi=new WeakMap,xf=new WeakMap;var uT=uo;var lo,Ix=class{constructor(e){var i;if(lo.set(this,void 0),k(this,lo,l.parseResponse(e.data),"f"),!d(this,lo,"f").contents)throw new w("Page contents not found");let r=d(this,lo,"f").contents.item().as(J_).tabs.get({selected:!0});if(!r)throw new w("Could not find target tab.");this.contents=(i=r.content)===null||i===void 0?void 0:i.as(Ce).contents.as(Ye)}get page(){return d(this,lo,"f")}};o(Ix,"TimeWatched");lo=new WeakMap;var lT=Ix;var Yv={};Ee(Yv,{Feed:()=>we,FilterableFeed:()=>ri,MediaInfo:()=>Ax,TabbedFeed:()=>uf});var Cx={};Ee(Cx,{chooseFormat:()=>Px,download:()=>Fv,toDash:()=>Ex});var dI={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function cT(t){return t.replace(/([&"<>'])/g,(e,i)=>dI[i])}o(cT,"escapeXMLString");function fI(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}o(fI,"normalizeTag");function se(t,e,...i){let r=i.flat().map(n=>typeof n=="string"?mI(n):n);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:r})):{type:fI(t),props:Object.assign(Object.assign({},e),{children:r})}}o(se,"createElement");function mI(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}o(mI,"createTextElement");function pT(t){return I(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return cT(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(r=>!["children","nodeValue"].includes(r)&&t.props[r]!==void 0).map(r=>`${r}="${cT(`${t.props[r]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(r=>!!r).map(r=>pT(r)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}o(pT,"renderElementToString");function dT(t){return I(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield pT(yield t)}`})}o(dT,"renderToString");function fT(t){return t.children}o(fT,"Fragment");var Gi,kx=class{constructor(e,i){Gi.set(this,void 0),k(this,Gi,new F.shim.Cache(e,i),"f")}get cache_dir(){return d(this,Gi,"f").cache_dir}get(e){return d(this,Gi,"f").get(e)}set(e,i){return d(this,Gi,"f").set(e,i)}remove(e){return d(this,Gi,"f").remove(e)}};o(kx,"UniversalCache");Gi=new WeakMap;var _I=kx;var Bv,ai,Dv,vf,mT,Sx=class{constructor(e,i,r){Bv.add(this),ai.set(this,void 0),Dv.set(this,void 0),vf.set(this,void 0),k(this,ai,e,"f"),k(this,Dv,i,"f"),k(this,vf,r||F.shim.fetch,"f")}get fetch_function(){return d(this,vf,"f")}fetch(e,i){return I(this,void 0,void 0,function*(){let r=Pe.API.PRODUCTION_1+d(this,ai,"f").api_version,n=(i==null?void 0:i.baseURL)||r,a=typeof e=="string"?!n.endsWith("/")&&!e.startsWith("/")?new URL(`${n}/${e}`):new URL(n+e):e instanceof URL?e:new URL(e.url,n),c=(i==null?void 0:i.headers)||(e instanceof F.shim.Request?e.headers:new F.shim.Headers)||new F.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof F.shim.Request?e.body:void 0),f=new F.shim.Headers(c);f.set("Accept","*/*"),f.set("Accept-Language","*"),f.set("X-Goog-Visitor-Id",d(this,ai,"f").context.client.visitorData||""),f.set("X-Origin",a.origin),f.set("X-Youtube-Client-Version",d(this,ai,"f").context.client.clientVersion||""),F.shim.server&&(f.set("User-Agent",Ki("desktop")),f.set("origin",a.origin)),a.searchParams.set("key",d(this,ai,"f").key),a.searchParams.set("prettyPrint","false"),a.searchParams.set("alt","json");let _=f.get("Content-Type"),x=p,g=!1,y=n===r||n===Pe.YT_UPLOAD;if(_==="application/json"&&y&&typeof p=="string"){let V=JSON.parse(p),D=Object.assign(Object.assign({},V),{context:JSON.parse(JSON.stringify(d(this,ai,"f").context))});d(this,Bv,"m",mT).call(this,D.context,D.client),f.set("x-youtube-client-version",D.context.client.clientVersion),delete D.client,F.shim.server&&(D.context.client.clientName==="ANDROID"||D.context.client.clientName==="ANDROID_MUSIC"?f.set("User-Agent",G.ANDROID.USER_AGENT):D.context.client.clientName==="iOS"&&f.set("User-Agent",G.iOS.USER_AGENT)),x=JSON.stringify(D)}let b=new F.shim.Request(a,e instanceof F.shim.Request?e:i),N=yield d(this,vf,"f").call(this,b,{body:x,headers:f,credentials:"include",redirect:e instanceof F.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"});if(N.ok)return N;throw new w(`Request to ${N.url} failed with status ${N.status}`,yield N.text())})}};o(Sx,"HTTPClient");ai=new WeakMap,Dv=new WeakMap,vf=new WeakMap,Bv=new WeakSet,mT=o(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=G.ANDROID.SDK_VERSION,e.client.userAgent=G.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="10",e.client.platform="MOBILE"),i){case"iOS":e.client.deviceModel=G.iOS.DEVICE_MODEL,e.client.clientVersion=G.iOS.VERSION,e.client.clientName=G.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=G.YTMUSIC.VERSION,e.client.clientName=G.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=G.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=G.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=G.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=G.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=G.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=G.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=G.TV_EMBEDDED.NAME,e.client.clientVersion=G.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:Pe.YT_BASE};break;case"YTKIDS":e.client.clientVersion=G.WEB_KIDS.VERSION,e.client.clientName=G.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var Ov=Sx;function xI(t){var e,i,r;let n=new Map,a=t.some(c=>!!c.audio_track);for(let c of t){if((!c.index_range||!c.init_range)&&!c.is_type_otf)continue;let p=c.mime_type.split(";")[0],f=(e=Oe(c.mime_type,'codecs="','"'))===null||e===void 0?void 0:e.split(".")[0],_=c.color_info?Object.values(c.color_info).join("-"):"",x=((i=c.audio_track)===null||i===void 0?void 0:i.id)||"",g=`${p}-${f}-${_}-${x}`;n.has(g)||n.set(g,[]),(r=n.get(g))===null||r===void 0||r.push(c)}return{groups:Array.from(n.values()),has_multiple_audio_tracks:a}}o(xI,"getFormatGroupings");function hT(t,e){if(t.length>1&&new Set(t.map(i=>Oe(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),Oe(t[0].mime_type,'codecs="','"')}o(hT,"hoistCodecsIfPossible");function _T(t,e,i){if(t.length>1&&new Set(t.map(r=>r.fps)).size===1)return i.push(e),Number(t[0][e])}o(_T,"hoistNumberAttributeIfPossible");function vI(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}o(vI,"hoistAudioChannelsIfPossible");function gI(t,e){var i;return I(this,void 0,void 0,function*(){let r=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:ze.STREAM_HEADERS,redirect:"follow"}),n=r.url.replace("&rn=0","").replace("&sq=0",""),a=yield r.text(),c=(i=Oe(a,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!c)throw new w("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let f of c){let _=f.trim();if(_.length===0)continue;let x,g=Oe(_,"(r=",")");g&&(x=parseInt(g)),p.push({duration:parseInt(_),repeat_count:x})}return{init_url:`${n}&sq=0`,media_url:`${n}&sq=$Number$`,timeline:p}})}o(gI,"getOTFSegmentTemplate");function xT(t,e,i,r,n){let a=new URL(t.decipher(r));a.searchParams.set("cpn",n||"");let c=e(a).toString();if(t.is_type_otf){if(!i)throw new w("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,getSegmentTemplate(){return gI(c,i)}}}if(!t.index_range||!t.init_range)throw new w("Index and init ranges not available",{format:t});return{is_oft:!1,base_url:c,index_range:t.index_range,init_range:t.init_range}}o(xT,"getSegmentInfo");function bI(t,e,i,r,n,a){return new URL(t.decipher(n)).searchParams.set("cpn",a||""),{uid:t.audio_track?`${t.itag}-${t.audio_track.id}`:t.itag.toString(),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Oe(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:xT(t,i,r,n,a)}}o(bI,"getAudioRepresentation");function yI(t){let{audio_track:e}=t;if(!!e)return e.audio_is_default?"main":t.is_dubbed?"dub":t.is_descriptive?"description":"alternate"}o(yI,"getTrackRole");function wI(t,e,i,r,n){var a;let c=t[0],{audio_track:p}=c,f=[];return{mime_type:c.mime_type.split(";")[0],language:(a=c.language)!==null&&a!==void 0?a:void 0,codecs:hT(t,f),audio_sample_rate:_T(t,"audio_sample_rate",f),track_name:p==null?void 0:p.display_name,track_role:yI(c),channels:vI(t,f),representations:t.map(x=>bI(x,f,e,i,r,n))}}o(wI,"getAudioSet");var TI={BT709:"1",BT2020:"9"},II={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},kI={BT709:"1",BT2020_NCL:"14"};function SI(t){let e=t.color_info,i=e!=null&&e.primaries?TI[e.primaries]:void 0,r=e!=null&&e.transfer_characteristics?II[e.transfer_characteristics]:void 0,n=e!=null&&e.matrix_coefficients?kI[e.matrix_coefficients]:void 0;if((e==null?void 0:e.matrix_coefficients)&&!n){let c=new URL(t.url),p=JSON.parse(JSON.stringify(t));p.url="REDACTED",p.signature_cipher="REDACTED",p.cipher="REDACTED",console.warn(`YouTube.js toDash(): Unknown matrix coefficients "${e.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${F.shim.info.bugs_url} so we can add support for it.
Innertube client: ${c.searchParams.get("c")}
format:`,p)}return{primaries:i,transfer_characteristics:r,matrix_coefficients:n}}o(SI,"getColorInfo");function CI(t,e,i,r,n,a){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Oe(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:xT(t,e,n,r,a)}}o(CI,"getVideoRepresentation");function NI(t,e,i,r,n){let a=t[0],c=SI(a),p=[];return{mime_type:a.mime_type.split(";")[0],color_info:c,codecs:hT(t,p),fps:_T(t,"fps",p),representations:t.map(_=>CI(_,e,p,i,r,n))}}o(NI,"getVideoSet");function EI(t){var e;let i=new Map;for(let r of t.boards){let n=new URL(r.template_url).pathname.split(".").pop(),a=`image/${n==="jpg"?"jpeg":n}`;i.has(a)||i.set(a,[]),(e=i.get(a))===null||e===void 0||e.push(r)}return i}o(EI,"getStoryboardInfo");function PI(t,e,i,r,n){return I(this,void 0,void 0,function*(){let a=e.template_url,c=i(new URL(a.replace("$M","0"))),p=n.response?n.response:t.session.http.fetch_function(c,{method:"HEAD",headers:ze.STREAM_HEADERS});return n.response=p,(yield p).headers.get("Content-Type")||r})}o(PI,"getStoryboardMimeType");function RI(t,e,i){return I(this,void 0,void 0,function*(){let r=e.template_url,n=[],a=Math.min(e.storyboard_count,10);for(let _=0;_<a;_++){let x=new URL(r.replace("$M",_.toString())),g=_===0&&i.response?i.response:t.session.http.fetch_function(x,{method:"HEAD",headers:ze.STREAM_HEADERS});_===0&&(i.response=g),n.push(g)}let c=yield Promise.all(n),p=[];for(let _ of c)p.push(parseInt(_.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}o(RI,"getStoryboardBitrate");function AI(t,e,i,r,n){let a=i.template_url,c=new URL(a.replace("$M","$Number$"));return{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return RI(e,i,n)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:t/i.storyboard_count,template_url:r(c).toString(),getURL(f){return c.toString().replace("$Number$",f.toString())}}}o(AI,"getImageRepresentation");function VI(t,e,i,r){let n=EI(i),a={};return Array.from(n.entries()).map(([c,p])=>({probable_mime_type:c,getMimeType(){return PI(e,p[0],r,c,a)},representations:p.map(f=>AI(t,e,f,r,a))}))}o(VI,"getImageSets");function Nx(t,e=p=>p,i,r,n,a,c){if(!t)throw new w("Streaming data not available");let p=i?t.adaptive_formats.filter(B=>!i(B)):t.adaptive_formats,f=p[0].approx_duration_ms/1e3,{groups:_,has_multiple_audio_tracks:x}=xI(p),{video_groups:g,audio_groups:y}=_.reduce((B,te)=>te[0].has_audio?(x&&!te[0].audio_track||B.audio_groups.push(te),B):(B.video_groups.push(te),B),{video_groups:[],audio_groups:[]}),b=y.map(B=>wI(B,e,a,n,r)),N=g.map(B=>NI(B,e,n,a,r)),V=c&&a?VI(f,a,c,e):[];return{duration:f,audio_sets:b,video_sets:N,image_sets:V}}o(Nx,"getStreamingInfo");function MI({info:t}){return I(this,void 0,void 0,function*(){if(!t.is_oft)return null;let e=yield t.getSegmentTemplate();return se("segment-template",{startNumber:"1",timescale:"1000",initialization:e.init_url,media:e.media_url},se("segment-timeline",null,e.timeline.map(i=>se("s",{d:i.duration,r:i.repeat_count}))))})}o(MI,"OTFSegmentInfo");function vT({info:t}){return t.is_oft?se(MI,{info:t}):se(fT,null,se("base-url",null,t.base_url),se("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},se("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}o(vT,"SegmentInfo");function BI({streamingData:t,transformURL:e,rejectFormat:i,cpn:r,player:n,actions:a,storyboards:c}){let{duration:p,audio_sets:f,video_sets:_,image_sets:x}=Nx(t,e,i,r,n,a,c);return se("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${p}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},se("period",null,f.map((g,y)=>se("adaptation-set",{id:y,mimeType:g.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:g.language,codecs:g.codecs,audioSamplingRate:g.audio_sample_rate,contentType:"audio"},g.track_role&&se("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:g.track_role}),g.track_name&&se("label",{id:y},g.track_name),g.channels&&se("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:g.channels}),g.representations.map(b=>se("representation",{id:b.uid,bandwidth:b.bitrate,codecs:b.codecs,audioSamplingRate:b.audio_sample_rate},b.channels&&se("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:b.channels}),se(vT,{info:b.segment_info}))))),_.map((g,y)=>se("adaptation-set",{id:y+f.length,mimeType:g.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:g.codecs,maxPlayoutRate:"1",frameRate:g.fps,contentType:"video"},g.color_info.primaries&&se("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:g.color_info.primaries}),g.color_info.transfer_characteristics&&se("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:g.color_info.transfer_characteristics}),g.color_info.matrix_coefficients&&se("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:g.color_info.matrix_coefficients}),g.representations.map(b=>se("representation",{id:b.uid,bandwidth:b.bitrate,width:b.width,height:b.height,codecs:b.codecs,frameRate:b.fps},se(vT,{info:b.segment_info}))))),x.map((g,y)=>I(this,void 0,void 0,function*(){return se("adaptation-set",{id:y+f.length+_.length,mimeType:yield g.getMimeType(),contentType:"image"},g.representations.map(b=>I(this,void 0,void 0,function*(){return se("representation",{id:`thumbnails_${b.thumbnail_width}x${b.thumbnail_height}`,bandwidth:yield b.getBitrate(),width:b.sheet_width,height:b.sheet_height},se("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${b.columns}x${b.rows}`}),se("segment-template",{media:b.template_url,duration:b.template_duration,startNumber:"0"}))})))}))))}o(BI,"DashManifest");function Ex(t,e=p=>p,i,r,n,a,c){if(!t)throw new w("Streaming data not available");return dT(se(BI,{streamingData:t,transformURL:e,rejectFormat:i,cpn:r,player:n,actions:a,storyboards:c}))}o(Ex,"toDash");function Fv(t,e,i,r,n,a){return I(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new w("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new w("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!r)throw new w("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let c=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=Px(c,r),f=p.decipher(n);if(c.type==="video+audio"&&!t.range){let V=yield e.session.http.fetch_function(`${f}&cpn=${a}`,{method:"GET",headers:Of,redirect:"follow"});if(!V.ok)throw new w("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:V});let D=V.body;if(!D)throw new w("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:V});return D}let _=1048576*10,x=t.range?t.range.start:0,g=t.range?t.range.end:_,y=!1,b;return new F.shim.ReadableStream({start(){},pull:V=>I(this,void 0,void 0,function*(){if(y){V.close();return}return(g>=(p.content_length?p.content_length:0)||t.range)&&(y=!0),new Promise((D,B)=>I(this,void 0,void 0,function*(){var te,J,ae,le;try{b=new AbortController;let H=yield e.session.http.fetch_function(`${f}&cpn=${a}&range=${x}-${g||""}`,{method:"GET",headers:Object.assign({},Of),signal:b.signal}),W=H.body;if(!W)throw new w("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:H});try{for(var pe=!0,fe=T0(jv(W)),he;he=yield fe.next(),te=he.done,!te;pe=!0){le=he.value,pe=!1;let K=le;V.enqueue(K)}}catch(K){J={error:K}}finally{try{!pe&&!te&&(ae=fe.return)&&(yield ae.call(fe))}finally{if(J)throw J.error}}x=g+1,g+=_,D()}catch(H){B(H)}}))}),cancel(V){return I(this,void 0,void 0,function*(){b.abort(V)})}},{highWaterMark:1,size(V){return V.byteLength}})})}o(Fv,"download");function Px(t,e){if(!e)throw new w("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],r=t.type?t.type.includes("audio"):!0,n=t.type?t.type.includes("video"):!0,a=t.language||"original",c=t.quality||"best",p=-1,f=["best","bestefficiency"].includes(c),_=c!=="best",x=i.filter(g=>r&&!g.has_audio||n&&!g.has_video||t.format!=="any"&&!g.mime_type.includes(t.format||"mp4")||!f&&g.quality_label!==c?!1:(p<g.width&&(p=g.width),!0));if(!x.length)throw new w("No matching formats found",{options:t});if(f&&n&&(x=x.filter(g=>g.width===p)),r&&!n){let g=x.filter(y=>a!=="original"?!y.has_video&&y.language===a:!y.has_video&&y.is_original);g.length>0&&(x=g)}return _?x.sort((g,y)=>g.bitrate-y.bitrate):x.sort((g,y)=>y.bitrate-g.bitrate),x[0]}o(Px,"chooseFormat");var gf,bf,co=class{constructor(e,i){gf.set(this,void 0),bf.set(this,void 0),k(this,gf,l.parseResponse(i.data),"f"),k(this,bf,e,"f"),this.transcript=d(this,gf,"f").actions_memo.getType(yr).first()}selectLanguage(e){var i,r,n,a;return I(this,void 0,void 0,function*(){let c=(a=(n=(r=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||r===void 0?void 0:r.language_menu)===null||n===void 0?void 0:n.sub_menu_items)===null||a===void 0?void 0:a.find(f=>f.title.toString()===e);if(!c)throw new Error(`Language not found: ${e}`);if(c.selected)return this;let p=yield d(this,bf,"f").execute("/get_transcript",{params:c.continuation});return new co(d(this,bf,"f"),p)})}get languages(){var e,i,r,n;return((n=(r=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||n===void 0?void 0:n.map(a=>a.title.toString()))||[]}get selectedLanguage(){var e,i,r,n,a;return((a=(n=(r=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||n===void 0?void 0:n.find(c=>c.selected))===null||a===void 0?void 0:a.title.toString())||""}get page(){return d(this,gf,"f")}};o(co,"TranscriptInfo");gf=new WeakMap,bf=new WeakMap;var gT=co;var ui,ht,po,yf,Rx=class{constructor(e,i,r){var n,a;ui.set(this,void 0),ht.set(this,void 0),po.set(this,void 0),yf.set(this,void 0),k(this,ht,i,"f");let c=l.parseResponse(e[0].data),p=!((n=e==null?void 0:e[1])===null||n===void 0)&&n.data?l.parseResponse(e[1].data):void 0;if(k(this,ui,[c,p],"f"),k(this,po,r,"f"),((a=c.playability_status)===null||a===void 0?void 0:a.status)==="ERROR")throw new w("This video is unavailable",c.playability_status);this.streaming_data=c.streaming_data,this.playability_status=c.playability_status,this.player_config=c.player_config,k(this,yf,c.playback_tracking,"f")}toDash(e,i,r={include_thumbnails:!1}){var n;return I(this,void 0,void 0,function*(){let a=d(this,ui,"f")[0];if(a.video_details&&(a.video_details.is_live||a.video_details.is_post_live_dvr))throw new w("Generating DASH manifests for live and Post-Live-DVR videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let c;return r.include_thumbnails&&((n=a.storyboards)===null||n===void 0?void 0:n.is(bi))&&(c=a.storyboards),Ex(this.streaming_data,e,i,d(this,po,"f"),d(this,ht,"f").session.player,d(this,ht,"f"),c)})}getStreamingInfo(e,i){var r;return Nx(this.streaming_data,e,i,this.cpn,d(this,ht,"f").session.player,d(this,ht,"f"),!((r=d(this,ui,"f")[0].storyboards)===null||r===void 0)&&r.is(bi)?d(this,ui,"f")[0].storyboards:void 0)}chooseFormat(e){return Px(e,this.streaming_data)}download(e={}){return I(this,void 0,void 0,function*(){let i=d(this,ui,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new w("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Fv(e,d(this,ht,"f"),this.playability_status,this.streaming_data,d(this,ht,"f").session.player,this.cpn)})}getTranscript(){var e;return I(this,void 0,void 0,function*(){let i=this.page[1];if(!i)throw new w("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new w("Engagement panels not found. Video likely has no transcript.");let r=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!r)throw new w("Transcript panel not found. Video likely has no transcript.");let n=(e=r.content)===null||e===void 0?void 0:e.as(ue);if(!n)throw new w("Transcript continuation not found.");let a=yield n.endpoint.call(this.actions);return new gT(this.actions,a)})}addToWatchHistory(e=G.WEB.NAME,i=G.WEB.VERSION,r="https://www."){return I(this,void 0,void 0,function*(){if(!d(this,yf,"f"))throw new w("Playback tracking not available");let n={cpn:d(this,po,"f"),fmt:251,rtn:0,rt:0},a=d(this,yf,"f").videostats_playback_url.replace("https://s.",r);return yield d(this,ht,"f").stats(a,{client_name:e,client_version:i},n)})}get actions(){return d(this,ht,"f")}get cpn(){return d(this,po,"f")}get page(){return d(this,ui,"f")}};o(Rx,"MediaInfo");ui=new WeakMap,ht=new WeakMap,po=new WeakMap,yf=new WeakMap;var Ax=Rx;var li,fo=class extends Ax{constructor(e,i,r){var n,a,c,p,f,_,x,g,y,b,N,V,D,B,te,J,ae,le,pe,fe,he,H,W,K,X,ge,He,$e,z,ke,vt,gt,de,Fe,tr,ir,rr,or,nr,sr,ar,ur;super(e,i,r),li.set(this,void 0);let[oe,qe]=this.page;if(oe.microformat&&!(!((n=oe.microformat)===null||n===void 0)&&n.is(ct,Lr)))throw new w("Invalid microformat",oe.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},oe.video_details),{embed:!((a=oe.microformat)===null||a===void 0)&&a.is(ct)?(c=oe.microformat)===null||c===void 0?void 0:c.embed:null,channel:!((p=oe.microformat)===null||p===void 0)&&p.is(ct)?(f=oe.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(_=oe.microformat)===null||_===void 0?void 0:_.is_unlisted,is_family_safe:(x=oe.microformat)===null||x===void 0?void 0:x.is_family_safe,category:!((g=oe.microformat)===null||g===void 0)&&g.is(ct)?(y=oe.microformat)===null||y===void 0?void 0:y.category:null,has_ypc_metadata:!((b=oe.microformat)===null||b===void 0)&&b.is(ct)?(N=oe.microformat)===null||N===void 0?void 0:N.has_ypc_metadata:null,start_timestamp:!((V=oe.microformat)===null||V===void 0)&&V.is(ct)?oe.microformat.start_timestamp:null,view_count:((D=oe.microformat)===null||D===void 0?void 0:D.is(ct))&&isNaN((B=oe.video_details)===null||B===void 0?void 0:B.view_count)?oe.microformat.view_count:(te=oe.video_details)===null||te===void 0?void 0:te.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=oe.annotations,this.storyboards=oe.storyboards,this.endscreen=oe.endscreen,this.captions=oe.captions,this.cards=oe.cards,this.streaming_data){let me=this.streaming_data.adaptive_formats.find(st=>{var be;return(be=st.audio_track)===null||be===void 0?void 0:be.audio_is_default});if(me)this.streaming_data.formats.forEach(st=>st.language=me.language);else if(typeof((J=this.captions)===null||J===void 0?void 0:J.default_audio_track_index)<"u"&&((ae=this.captions)===null||ae===void 0?void 0:ae.audio_tracks)&&this.captions.caption_tracks){let be=this.captions.audio_tracks[this.captions.default_audio_track_index].default_caption_track_index||0,_i=this.captions.caption_tracks[be].language_code;this.streaming_data.adaptive_formats.forEach(lr=>{lr.has_audio&&(lr.language=_i)}),this.streaming_data.formats.forEach(lr=>lr.language=_i)}}let Se=(le=qe==null?void 0:qe.contents)===null||le===void 0?void 0:le.item().as(K_),Nt=Se==null?void 0:Se.results,hi=Se==null?void 0:Se.secondary_results;if(Nt&&hi){if(((pe=oe.microformat)===null||pe===void 0?void 0:pe.is(ct))&&((fe=oe.microformat)===null||fe===void 0?void 0:fe.category)==="Gaming"){let be=(W=(H=(he=Nt.firstOfType(Yd))===null||he===void 0?void 0:he.metadata)===null||H===void 0?void 0:H.rows)===null||W===void 0?void 0:W.firstOfType(Vp);be!=null&&be.is(Vp)&&(this.game_info={title:(X=(K=be==null?void 0:be.contents)===null||K===void 0?void 0:K.firstOfType(Rp))===null||X===void 0?void 0:X.title,release_year:(He=(ge=be==null?void 0:be.contents)===null||ge===void 0?void 0:ge.firstOfType(Rp))===null||He===void 0?void 0:He.subtitle})}this.primary_info=Nt.firstOfType(q_),this.secondary_info=Nt.firstOfType(Yd),this.merchandise=Nt.firstOfType(o_),this.related_chip_cloud=($e=hi.firstOfType(D_))===null||$e===void 0?void 0:$e.content.as(kr),Se!=null&&Se.playlist&&(this.playlist=Se.playlist),this.watch_next_feed=((z=hi.firstOfType(Ye))===null||z===void 0?void 0:z.contents)||hi,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((ke=this.watch_next_feed.at(-1))===null||ke===void 0?void 0:ke.is(ue))&&k(this,li,(vt=this.watch_next_feed.pop())===null||vt===void 0?void 0:vt.as(ue),"f"),this.player_overlays=(gt=qe==null?void 0:qe.player_overlays)===null||gt===void 0?void 0:gt.item().as(C_),Se!=null&&Se.autoplay&&(this.autoplay=Se.autoplay);let me=(Fe=(de=this.primary_info)===null||de===void 0?void 0:de.menu)===null||Fe===void 0?void 0:Fe.top_level_buttons.firstOfType(Pi);((tr=me==null?void 0:me.like_button)===null||tr===void 0?void 0:tr.is(xe))&&((ir=me==null?void 0:me.dislike_button)===null||ir===void 0?void 0:ir.is(xe))&&(this.basic_info.like_count=(rr=me==null?void 0:me.like_button)===null||rr===void 0?void 0:rr.like_count,this.basic_info.is_liked=(or=me==null?void 0:me.like_button)===null||or===void 0?void 0:or.is_toggled,this.basic_info.is_disliked=(nr=me==null?void 0:me.dislike_button)===null||nr===void 0?void 0:nr.is_toggled);let st=(sr=Nt.get({target_id:"comments-entry-point"}))===null||sr===void 0?void 0:sr.as(Ye);this.comments_entry_point_header=(ar=st==null?void 0:st.contents)===null||ar===void 0?void 0:ar.firstOfType(uh),this.livechat=(ur=qe==null?void 0:qe.contents_memo)===null||ur===void 0?void 0:ur.getType(Fh).first()}}selectFilter(e){var i,r,n,a;return I(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new w("Chip cloud not found, cannot apply filter");let c;if(typeof e=="string"){let _=(r=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||r===void 0?void 0:r.get({text:e});if(!_)throw new w("Invalid filter",{available_filters:this.filters});c=_}else if(e!=null&&e.is(Be))c=e;else throw new w("Invalid cloud chip",e);if(c.is_selected)return this;let p=yield(n=c.endpoint)===null||n===void 0?void 0:n.call(this.actions,{parse:!0}),f=(a=p==null?void 0:p.on_response_received_endpoints)===null||a===void 0?void 0:a.get({target_id:"watch-next-feed"});return this.watch_next_feed=f==null?void 0:f.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return I(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,r,n,a;return I(this,void 0,void 0,function*(){if(!d(this,li,"f"))throw new w("Watch next feed continuation not found");let c=yield(e=d(this,li,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=c==null?void 0:c.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"appendContinuationItemsAction"});if(!p)throw new w("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((n=(r=this.watch_next_feed)===null||r===void 0?void 0:r.at(-1))===null||n===void 0)&&n.is(ue)?k(this,li,(a=this.watch_next_feed.pop())===null||a===void 0?void 0:a.as(ue),"f"):k(this,li,void 0,"f"),this})}like(){var e,i;return I(this,void 0,void 0,function*(){let r=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Pi),n=r==null?void 0:r.like_button;if(!n)throw new w("Like button not found",{video_id:this.basic_info.id});if(!n.is(xe))throw new w("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new w("This video is already liked",{video_id:this.basic_info.id});return yield n.endpoint.call(this.actions)})}dislike(){var e,i;return I(this,void 0,void 0,function*(){let r=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Pi),n=r==null?void 0:r.dislike_button;if(!n)throw new w("Dislike button not found",{video_id:this.basic_info.id});if(!n.is(xe))throw new w("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new w("This video is already disliked",{video_id:this.basic_info.id});return yield n.endpoint.call(this.actions)})}removeRating(){var e,i;return I(this,void 0,void 0,function*(){let r,n=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Pi),a=n==null?void 0:n.like_button,c=n==null?void 0:n.dislike_button;if(!(a!=null&&a.is(xe))||!(c!=null&&c.is(xe)))throw new w("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(a!=null&&a.is_toggled?r=a:c!=null&&c.is_toggled&&(r=c),!r)throw new w("This video is not liked/disliked",{video_id:this.basic_info.id});return yield r.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new w("Live Chat is not available",{video_id:this.basic_info.id});return new Tx(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let r=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(Zc).trailer)===null||i===void 0?void 0:i.player_response;if(r)return new fo([{data:r}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(r=>{var n;return(n=r.text)===null||n===void 0?void 0:n.toString()}))||[]}get wn_has_continuation(){return!!d(this,li,"f")}get autoplay_video_endpoint(){var e,i,r;return((r=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(Zc))}get music_tracks(){var e,i,r,n,a,c;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(f=>{var _;return(_=f.content)===null||_===void 0?void 0:_.is(Ti)});if(p!==void 0&&p.length>0){let f=(a=(n=(r=p[0].content)===null||r===void 0?void 0:r.as(Ti))===null||n===void 0?void 0:n.items)===null||a===void 0?void 0:a.filterType(xr);if(f!==void 0&&f.length>0)return(c=f[0].carousel_lockups)===null||c===void 0?void 0:c.map(_=>{var x,g,y,b,N,V,D,B,te,J,ae,le,pe,fe,he,H,W,K,X;let ge,He,$e,z,ke,vt;ge=(g=(x=_.video_lockup)===null||x===void 0?void 0:x.title)===null||g===void 0?void 0:g.toString(),ke=(y=_.video_lockup)===null||y===void 0?void 0:y.endpoint.payload.videoId;for(let gt=0;gt<_.info_rows.length;gt++){let de=_.info_rows[gt];if(de.info_row_expand_status_key===void 0)if(ge===void 0){if(ge=((b=de.default_metadata)===null||b===void 0?void 0:b.toString())||((N=de.expanded_metadata)===null||N===void 0?void 0:N.toString()),ke===void 0){let Fe=((V=de.default_metadata)===null||V===void 0?void 0:V.endpoint)||((D=de.expanded_metadata)===null||D===void 0?void 0:D.endpoint);ke=(B=Fe==null?void 0:Fe.payload)===null||B===void 0?void 0:B.videoId}}else $e=((te=de.default_metadata)===null||te===void 0?void 0:te.toString())||((J=de.expanded_metadata)===null||J===void 0?void 0:J.toString());else{if(((ae=de.info_row_expand_status_key)===null||ae===void 0?void 0:ae.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(He=((le=de.default_metadata)===null||le===void 0?void 0:le.toString())||((pe=de.expanded_metadata)===null||pe===void 0?void 0:pe.toString()),vt===void 0)){let Fe=((fe=de.default_metadata)===null||fe===void 0?void 0:fe.endpoint)||((he=de.expanded_metadata)===null||he===void 0?void 0:he.endpoint);vt=(H=Fe==null?void 0:Fe.payload)===null||H===void 0?void 0:H.browseId}((W=de.info_row_expand_status_key)===null||W===void 0?void 0:W.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(z=((K=de.default_metadata)===null||K===void 0?void 0:K.toString())||((X=de.expanded_metadata)===null||X===void 0?void 0:X.toString()))}}return{song:ge,artist:He,album:$e,license:z,videoId:ke,channelId:vt}})}return[]}};o(fo,"VideoInfo");li=new WeakMap;var wf=fo;var R=class{constructor(e,i,r,n){var a,c,p,f,_,x,g,y,b,N,V,D,B,te,J,ae,le,pe,fe,he,H,W,K,X,ge,He,$e;let z=new u(e);this.id=n||((f=(p=(c=(a=z==null?void 0:z.runs)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId)||((x=(_=z==null?void 0:z.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId)||"N/A",this.name=(z==null?void 0:z.text)||"N/A",this.thumbnails=r?v.fromResponse(r):[],this.endpoint=((y=(g=z==null?void 0:z.runs)===null||g===void 0?void 0:g[0])===null||y===void 0?void 0:y.endpoint)||(z==null?void 0:z.endpoint),this.badges=Array.isArray(i)?l.parseArray(i):re([]),this.is_moderator=(b=this.badges)===null||b===void 0?void 0:b.some(ke=>ke.icon_type=="MODERATOR"),this.is_verified=(N=this.badges)===null||N===void 0?void 0:N.some(ke=>ke.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(V=this.badges)===null||V===void 0?void 0:V.some(ke=>ke.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"),this.url=((J=(te=(B=(D=z==null?void 0:z.runs)===null||D===void 0?void 0:D[0])===null||B===void 0?void 0:B.endpoint)===null||te===void 0?void 0:te.metadata)===null||J===void 0?void 0:J.api_url)==="/browse"&&`${Pe.YT_BASE}${((fe=(pe=(le=(ae=z==null?void 0:z.runs)===null||ae===void 0?void 0:ae[0])===null||le===void 0?void 0:le.endpoint)===null||pe===void 0?void 0:pe.payload)===null||fe===void 0?void 0:fe.canonicalBaseUrl)||`/u/${(K=(W=(H=(he=z==null?void 0:z.runs)===null||he===void 0?void 0:he[0])===null||H===void 0?void 0:H.endpoint)===null||W===void 0?void 0:W.payload)===null||K===void 0?void 0:K.browseId}`}`||`${Pe.YT_BASE}${((ge=(X=z==null?void 0:z.endpoint)===null||X===void 0?void 0:X.payload)===null||ge===void 0?void 0:ge.canonicalBaseUrl)||`/u/${($e=(He=z==null?void 0:z.endpoint)===null||He===void 0?void 0:He.payload)===null||$e===void 0?void 0:$e.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};o(R,"Author");var bT={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var Vx,Mx,F=class{static load(e){k(F,Vx,e,"f",Mx)}static get shim(){if(!d(F,Vx,"f",Mx))throw new Error("Platform is not loaded");return d(F,Vx,"f",Mx)}};o(F,"Platform");Vx=F;Mx={value:void 0};var w=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=F.shim.info.version}};o(w,"InnertubeError");var Xe=class extends w{};o(Xe,"ParsingError");var Tf=class extends w{};o(Tf,"MissingParamError");var Bx=class extends w{};o(Bx,"OAuthError");var Ke=class extends Error{};o(Ke,"PlayerError");var mo=class extends Error{};o(mo,"SessionError");var to=class extends Error{};o(to,"ChannelError");function Df(t,e){return Reflect.ownKeys(t).some(r=>{let n=e[r]instanceof u;return!n&&typeof e[r]=="object"?JSON.stringify(t[r])===JSON.stringify(e[r]):t[r]===(n?e[r].toString():e[r])})}o(Df,"deepCompare");function Oe(t,e,i){let r=new RegExp(`${Jv(e)}(.*?)${Jv(i)}`,"s"),n=t.match(r);return n?n[1]:void 0}o(Oe,"getStringBetweenStrings");function Jv(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}o(Jv,"escapeStringRegexp");function Ki(t){let e=bT[t],i=Math.floor(Math.random()*e.length);return e[i]}o(Ki,"getRandomUserAgent");function DI(t){return I(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),r=[i,t,e].join(" "),n=yield F.shim.sha1Hash(r);return["SAPISIDHASH",[i,n].join("_")].join(" ")})}o(DI,"generateSidAuth");function $i(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let r=0;r<t;r++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}o($i,"generateRandomString");function ye(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}o(ye,"timeToSeconds");function Av(...t){let e=new jt;for(let i of t)if(!!i)for(let r of i){let n=e.get(r[0]);if(n){e.set(r[0],[...n,...r[1]]);continue}e.set(...r)}return e}o(Av,"concatMemos");function Dx(t){for(let[e,i]of Object.entries(t))if(!i)throw new Tf(`${e} is missing`)}o(Dx,"throwIfMissing");function OI(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}o(OI,"hasKeys");function jv(t){return w0(this,arguments,o(function*(){let i=t.getReader();try{for(;;){let{done:r,value:n}=yield xi(i.read());if(r)return yield xi(void 0);yield yield xi(n)}}finally{i.releaseLock()}},"streamToIterable_1"))}o(jv,"streamToIterable");var LI=o((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),r=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,n=[...r],a=e!=null&&e.body?typeof e.body=="string"?r.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",c=n.length>0?`${n.map(([p,f])=>`    ${p}: ${f}`).join(`
`)}`:"    (none)";return console.log(`YouTube.js Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${c}
' + 
    '  body:
${a}`),F.shim.fetch(t,e)},"debugFetch");function Ge(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}o(Ge,"u8ToBase64");function _v(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}o(_v,"base64ToU8");function De(t){return!("emoji"in t)}o(De,"isTextRun");function Hv(t){return I(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(r){let n=new Uint8Array(r),a=[];for(let c=0;c<n.length;++c)a.push(e[n[c]]);return a.join("")}return o(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}o(Hv,"sha1Hash");var Ox={name:"youtubei.js",version:"8.0.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod","build:parser-map":"node ./scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^1.1.0",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var kf={};Ee(kf,{ArrayExpression:()=>ho,ArrowFunctionExpression:()=>_o,AssignmentExpression:()=>xo,BinaryExpression:()=>vo,BlockStatement:()=>go,BreakStatement:()=>bo,CallExpression:()=>yo,ConditionalExpression:()=>To,ContinueStatement:()=>Io,ExpressionStatement:()=>ko,ForOfStatement:()=>So,ForStatement:()=>Co,FunctionDeclaration:()=>No,FunctionExpression:()=>Eo,Identifier:()=>Po,IfStatement:()=>Ro,Literal:()=>Ao,LogicalExpression:()=>Vo,MemberExpression:()=>Mo,NewExpression:()=>Bo,ObjectExpression:()=>Do,Property:()=>Oo,ReturnStatement:()=>Lo,SequenceExpression:()=>Fo,SwitchCase:()=>jo,SwitchStatement:()=>Yo,ThisExpression:()=>Uo,ThrowStatement:()=>Wo,TryStatement:()=>Jo,UnaryExpression:()=>Ho,UpdateExpression:()=>zo,VariableDeclaration:()=>Go,WhileStatement:()=>Ko});var P=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};o(P,"BaseJSNode");var ho=class extends P{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};o(ho,"ArrayExpression");var zv={};Ee(zv,{namedFunction:()=>qi});var qi=o((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction");var _o=class extends P{run(){let{params:e,body:i}=this.node;return qi("anonymous function",n=>{let a=0;for(let c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,n[a]):console.warn("Unhandled param type",c.type),a++;return this.visitor.visitNode(i)})}};o(_o,"ArrowFunctionExpression");var xo=class extends P{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]+=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]-=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]*=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]/=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]%=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]**=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]<<=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]>>=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]>>>=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let r=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return r[n]&=i}else if(this.node.left.type==="Identifier"){let r=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,r),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};o(xo,"AssignmentExpression");var vo=class extends P{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),r=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=r;case"!==":return i!==r;case"%":return i%r;case"&":return i&r;case"*":return i*r;case"**":return i**r;case"+":return i+r;case"-":return i-r;case"/":return i/r;case"<":return i<r;case"<<":return i<<r;case"<=":return i<=r;case"==":return i==r;case"===":return i===r;case">":return i>r;case">=":return i>=r;case">>":return i>>r;case">>>":return i>>>r;case"^":return i^r;case"|":return i|r;case"in":return i in r;case"instanceof":return i instanceof r}}};o(vo,"BinaryExpression");var go=class extends P{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};o(go,"BlockStatement");var bo=class extends P{run(){return"break"}};o(bo,"BreakStatement");var yT=function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},Lx,Gv,yo=class extends P{constructor(){super(...arguments),Lx.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let a=this.visitor.listeners[e](this.node,this.visitor);if(a!=="proceed")return a}if(i&&i!=="toString"&&this.visitor.listeners[i]){let a=this.visitor.listeners[i](this.node,this.visitor);if(a!=="proceed")return a}if(this.node.callee.type==="MemberExpression"){if(wo.has(this.node,this.visitor))return wo.execute(this.node,this.visitor);let a=this.visitor.visitNode(this.node.callee.object),c=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(f=>this.visitor.visitNode(f));return typeof a[c]!="function"&&yT(this,Lx,"m",Gv).call(this),a[c].toString().includes("[native code]")?a[c](...p):a[c](p)}let r=this.visitor.visitNode(this.node.callee),n=this.node.arguments.map(a=>this.visitor.visitNode(a));return typeof r!="function"&&yT(this,Lx,"m",Gv).call(this),r(n)}};o(yo,"CallExpression");Lx=new WeakSet,Gv=o(function(){if(this.node.callee.type==="MemberExpression")throw new Error(`${this.node.callee.object.type==="Identifier"?this.node.callee.object.name:"<object>"}.${this.node.callee.property.type==="Identifier"?this.node.callee.property.name:"?"} is not a function`);if(this.node.callee.type==="Identifier")throw new Error(`${this.node.callee.name} is not a function`);if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(r=>{r.type==="Literal"?i.push(r.raw||""):r.type==="Identifier"?i.push(r.name):r.type==="MemberExpression"&&(r.computed?i.push(`${this.visitor.getName(r.object)}[${this.visitor.getName(r.property)||"..."}]`):i.push(`${this.visitor.getName(r.object)}.${this.visitor.getName(r.property)}`))}),e.push(i.join(", ")),e.push(")"),new Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var wo=class{static has(e,i){var r;return e.callee.type==="MemberExpression"?!!(!((r=this.builtins)===null||r===void 0)&&r[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};o(wo,"Builtins");wo.builtins={forEach:(t,e)=>{let i=t.arguments.map(r=>e.visitNode(r));if(t.callee.type==="MemberExpression"){let r=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let n=0;for(let a of r)i[0]([a,n++,r])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var To=class extends P{run(){let{test:e,consequent:i,alternate:r}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(r)}};o(To,"ConditionalExpression");var Io=class extends P{run(){return"continue"}};o(Io,"ContinueStatement");var ko=class extends P{run(){return this.visitor.visitNode(this.node.expression)}};o(ko,"ExpressionStatement");var So=class extends P{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let n of this.node.left.declarations[0].id.properties)n.type==="Property"&&n.value.type==="Identifier"&&n.key.type==="Identifier"&&this.visitor.scope.set(n.value.name,i[n.key.name]);let r=this.visitor.visitNode(this.node.body);if(r==="break")break;if(r!=="continue"&&r&&this.node.body.type!=="ExpressionStatement")return r}}};o(So,"ForOfStatement");var Co=class extends P{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=o(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let r=this.visitor.visitNode(this.node.body);if(r!=="continue"){if(r==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),r&&this.node.body.type!=="ExpressionStatement")return r}}}};o(Co,"ForStatement");var No=class extends P{run(){let{params:e,body:i}=this.node,r=this.visitor.visitNode(this.node.id),n=qi(r,a=>{let c=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,a[c]):console.warn("Unhandled param type",p.type),c++;return this.visitor.visitNode(i)});this.visitor.scope.set(r,n)}};o(No,"FunctionDeclaration");var Eo=class extends P{run(){let{params:e,body:i}=this.node;return qi("anonymous function",n=>{let a=0;for(let c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,n[a]):console.warn("Unhandled param type",c.type),a++;return this.visitor.visitNode(i)})}};o(Eo,"FunctionExpression");var Po=class extends P{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="proceed")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};o(Po,"Identifier");var Ro=class extends P{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};o(Ro,"IfStatement");var Ao=class extends P{run(){return this.node.value}};o(Ao,"Literal");var Vo=class extends P{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};o(Vo,"LogicalExpression");var Mo=class extends P{run(){let{object:e,property:i,computed:r}=this.node,n=this.visitor.visitNode(e),a=r?this.visitor.visitNode(i):this.visitor.getName(i);if(a!==void 0||a!==null){if(this.visitor.listeners[a]){let c=this.visitor.listeners[a](this.node,this.visitor);if(c!=="proceed")return c}return n==null?void 0:n[a]}}};o(Mo,"MemberExpression");var Bo=class extends P{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(r=>this.visitor.visitNode(r));return new e(i)}};o(Bo,"NewExpression");var Do=class extends P{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};o(Do,"ObjectExpression");var Kv=function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},If,wT,TT,IT,Oo=class extends P{constructor(){super(...arguments),If.add(this)}run(){switch(this.node.kind){case"init":return Kv(this,If,"m",wT).call(this);case"get":return Kv(this,If,"m",TT).call(this);case"set":return Kv(this,If,"m",IT).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};o(Oo,"Property");If=new WeakSet,wT=o(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),TT=o(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),IT=o(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var Lo=class extends P{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};o(Lo,"ReturnStatement");var Fo=class extends P{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};o(Fo,"SequenceExpression");var jo=class extends P{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};o(jo,"SwitchCase");var Yo=class extends P{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,r=-1,n=0;for(;;){let a=this.node.cases[n];if(i){let c=this.visitor.visitNode(a);if(c==="break")break;if(c==="continue")return c;if(++n,n>=this.node.cases.length){n=0;break}else continue}if(i=a&&e===this.visitor.visitNode(a.test),i===void 0&&n>this.node.cases.length)break;if(a&&!i&&!a.test){r=n,n+=1;continue}if(!a&&!i&&r!==-1){i=!0,n=r;continue}i||++n}}};o(Yo,"SwitchStatement");var Uo=class extends P{run(){return this.visitor.scope.get("_this")}};o(Uo,"ThisExpression");var Wo=class extends P{run(){throw this.visitor.visitNode(this.node.argument)}};o(Wo,"ThrowStatement");var Jo=class extends P{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};o(Jo,"TryStatement");var Ho=class extends P{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),r=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[r]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};o(Ho,"UnaryExpression");var zo=class extends P{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};o(zo,"UpdateExpression");var Go=class extends P{run(){this.node.declarations.forEach(e=>{let{id:i,init:r}=e,n=this.visitor.getName(i),a=r?this.visitor.visitNode(r):void 0;n&&this.visitor.scope.set(n,a),typeof a=="object"&&a!==null&&this.visitor.scope.set("_this",a)})}};o(Go,"VariableDeclaration");var Ko=class extends P{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};o(Ko,"WhileStatement");var jI=function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},$v,kT,$o=class{constructor(e){$v.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=jI(this,$v,"m",kT).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};o($o,"Visitor");$v=new WeakSet,kT=o(function(e){let i=kf[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var YI=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],PT=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],UI="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",RT="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",qv={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Xv="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",WI={5:Xv,"5module":Xv+" export import",6:Xv+" const class extends export import super"},JI=/^in(stanceof)?$/,HI=new RegExp("["+RT+"]"),zI=new RegExp("["+RT+UI+"]");function Zv(t,e){for(var i=65536,r=0;r<e.length;r+=2){if(i+=e[r],i>t)return!1;if(i+=e[r+1],i>=t)return!0}return!1}o(Zv,"isInAstralSet");function Dt(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&HI.test(String.fromCharCode(t)):e===!1?!1:Zv(t,PT)}o(Dt,"isIdentifierStart");function qo(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&zI.test(String.fromCharCode(t)):e===!1?!1:Zv(t,PT)||Zv(t,YI)}o(qo,"isIdentifierChar");var ie=o(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function et(t,e){return new ie(t,{beforeExpr:!0,binop:e})}o(et,"binop");var tt={beforeExpr:!0},Je={startsExpr:!0},i0={};function q(t,e){return e===void 0&&(e={}),e.keyword=t,i0[t]=new ie(t,e)}o(q,"kw");var m={num:new ie("num",Je),regexp:new ie("regexp",Je),string:new ie("string",Je),name:new ie("name",Je),privateId:new ie("privateId",Je),eof:new ie("eof"),bracketL:new ie("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ie("]"),braceL:new ie("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ie("}"),parenL:new ie("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ie(")"),comma:new ie(",",tt),semi:new ie(";",tt),colon:new ie(":",tt),dot:new ie("."),question:new ie("?",tt),questionDot:new ie("?."),arrow:new ie("=>",tt),template:new ie("template"),invalidTemplate:new ie("invalidTemplate"),ellipsis:new ie("...",tt),backQuote:new ie("`",Je),dollarBraceL:new ie("${",{beforeExpr:!0,startsExpr:!0}),eq:new ie("=",{beforeExpr:!0,isAssign:!0}),assign:new ie("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ie("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ie("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:et("||",1),logicalAND:et("&&",2),bitwiseOR:et("|",3),bitwiseXOR:et("^",4),bitwiseAND:et("&",5),equality:et("==/!=/===/!==",6),relational:et("</>/<=/>=",7),bitShift:et("<</>>/>>>",8),plusMin:new ie("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:et("%",10),star:et("*",10),slash:et("/",10),starstar:new ie("**",{beforeExpr:!0}),coalesce:et("??",1),_break:q("break"),_case:q("case",tt),_catch:q("catch"),_continue:q("continue"),_debugger:q("debugger"),_default:q("default",tt),_do:q("do",{isLoop:!0,beforeExpr:!0}),_else:q("else",tt),_finally:q("finally"),_for:q("for",{isLoop:!0}),_function:q("function",Je),_if:q("if"),_return:q("return",tt),_switch:q("switch"),_throw:q("throw",tt),_try:q("try"),_var:q("var"),_const:q("const"),_while:q("while",{isLoop:!0}),_with:q("with"),_new:q("new",{beforeExpr:!0,startsExpr:!0}),_this:q("this",Je),_super:q("super",Je),_class:q("class",Je),_extends:q("extends",tt),_export:q("export"),_import:q("import",Je),_null:q("null",Je),_true:q("true",Je),_false:q("false",Je),_in:q("in",{beforeExpr:!0,binop:7}),_instanceof:q("instanceof",{beforeExpr:!0,binop:7}),_typeof:q("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:q("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:q("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ot=/\r\n?|\n|\u2028|\u2029/,GI=new RegExp(ot.source,"g");function Xo(t){return t===10||t===13||t===8232||t===8233}o(Xo,"isNewLine");function AT(t,e,i){i===void 0&&(i=t.length);for(var r=e;r<i;r++){var n=t.charCodeAt(r);if(Xo(n))return r<i-1&&n===13&&t.charCodeAt(r+1)===10?r+2:r+1}return-1}o(AT,"nextLineBreak");var VT=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,it=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,MT=Object.prototype,KI=MT.hasOwnProperty,$I=MT.toString,Ef=Object.hasOwn||function(t,e){return KI.call(t,e)},ST=Array.isArray||function(t){return $I.call(t)==="[object Array]"};function ci(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}o(ci,"wordsRegexp");function pi(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}o(pi,"codePointToString");var qI=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Cf=o(function(e,i){this.line=e,this.column=i},"Position");Cf.prototype.offset=o(function(e){return new Cf(this.line,this.column+e)},"offset");var Wx=o(function(e,i,r){this.start=i,this.end=r,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function BT(t,e){for(var i=1,r=0;;){var n=AT(t,r,e);if(n<0)return new Cf(i,e-r);++i,r=n}}o(BT,"getLineInfo");var e0={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},CT=!1;function XI(t){var e={};for(var i in e0)e[i]=t&&Ef(t,i)?t[i]:e0[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!CT&&typeof console=="object"&&console.warn&&(CT=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),ST(e.onToken)){var r=e.onToken;e.onToken=function(n){return r.push(n)}}return ST(e.onComment)&&(e.onComment=QI(e,e.onComment)),e}o(XI,"getOptions");function QI(t,e){return function(i,r,n,a,c,p){var f={type:i?"Block":"Line",value:r,start:n,end:a};t.locations&&(f.loc=new Wx(this,c,p)),t.ranges&&(f.range=[n,a]),e.push(f)}}o(QI,"pushComment");var Nf=1,Qo=2,r0=4,DT=8,OT=16,LT=32,o0=64,FT=128,Pf=256,n0=Nf|Qo|Pf;function s0(t,e){return Qo|(t?r0:0)|(e?DT:0)}o(s0,"functionFlags");var jx=0,a0=1,Lt=2,jT=3,YT=4,UT=5,ve=o(function(e,i,r){this.options=e=XI(e),this.sourceFile=e.sourceFile,this.keywords=ci(WI[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var n="";e.allowReserved!==!0&&(n=qv[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(n+=" await")),this.reservedWords=ci(n);var a=(n?n+" ":"")+qv.strict;this.reservedWordsStrict=ci(a),this.reservedWordsStrictBind=ci(a+" "+qv.strictBind),this.input=String(i),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ot).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Nf),this.regexpState=null,this.privateNameStack=[]},"Parser"),St={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ve.prototype.parse=o(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");St.inFunction.get=function(){return(this.currentVarScope().flags&Qo)>0};St.inGenerator.get=function(){return(this.currentVarScope().flags&DT)>0&&!this.currentVarScope().inClassFieldInit};St.inAsync.get=function(){return(this.currentVarScope().flags&r0)>0&&!this.currentVarScope().inClassFieldInit};St.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Pf)return!1;if(e.flags&Qo)return(e.flags&r0)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};St.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&o0)>0||i||this.options.allowSuperOutsideMethod};St.allowDirectSuper.get=function(){return(this.currentThisScope().flags&FT)>0};St.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};St.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Qo|Pf))>0||i};St.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Pf)>0};ve.extend=o(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var r=this,n=0;n<e.length;n++)r=e[n](r);return r},"extend");ve.parse=o(function(e,i){return new this(i,e).parse()},"parse");ve.parseExpressionAt=o(function(e,i,r){var n=new this(r,e,i);return n.nextToken(),n.parseExpression()},"parseExpressionAt");ve.tokenizer=o(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(ve.prototype,St);var Le=ve.prototype,ZI=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Le.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){it.lastIndex=t,t+=it.exec(this.input)[0].length;var e=ZI.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){it.lastIndex=t+e[0].length;var i=it.exec(this.input),r=i.index+i[0].length,n=this.input.charAt(r);return n===";"||n==="}"||ot.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||n==="!"&&this.input.charAt(r+1)==="=")}t+=e[0].length,it.lastIndex=t,t+=it.exec(this.input)[0].length,this.input[t]===";"&&t++}};Le.eat=function(t){return this.type===t?(this.next(),!0):!1};Le.isContextual=function(t){return this.type===m.name&&this.value===t&&!this.containsEsc};Le.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Le.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Le.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||ot.test(this.input.slice(this.lastTokEnd,this.start))};Le.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Le.semicolon=function(){!this.eat(m.semi)&&!this.insertSemicolon()&&this.unexpected()};Le.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Le.expect=function(t){this.eat(t)||this.unexpected()};Le.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Jx=o(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Le.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};Le.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,r=t.doubleProto;if(!e)return i>=0||r>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};Le.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Le.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var M=ve.prototype;M.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==m.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var r=0,n=Object.keys(this.undefinedExports);r<n.length;r+=1){var a=n[r];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var u0={kind:"loop"},ek={kind:"switch"};M.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;it.lastIndex=this.pos;var e=it.exec(this.input),i=this.pos+e[0].length,r=this.input.charCodeAt(i);if(r===91||r===92)return!0;if(t)return!1;if(r===123||r>55295&&r<56320)return!0;if(Dt(r,!0)){for(var n=i+1;qo(r=this.input.charCodeAt(n),!0);)++n;if(r===92||r>55295&&r<56320)return!0;var a=this.input.slice(i,n);if(!JI.test(a))return!0}return!1};M.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;it.lastIndex=this.pos;var t=it.exec(this.input),e=this.pos+t[0].length,i;return!ot.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(qo(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};M.parseStatement=function(t,e,i){var r=this.type,n=this.startNode(),a;switch(this.isLet(t)&&(r=m._var,a="let"),r){case m._break:case m._continue:return this.parseBreakContinueStatement(n,r.keyword);case m._debugger:return this.parseDebuggerStatement(n);case m._do:return this.parseDoStatement(n);case m._for:return this.parseForStatement(n);case m._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(n,!1,!t);case m._class:return t&&this.unexpected(),this.parseClass(n,!0);case m._if:return this.parseIfStatement(n);case m._return:return this.parseReturnStatement(n);case m._switch:return this.parseSwitchStatement(n);case m._throw:return this.parseThrowStatement(n);case m._try:return this.parseTryStatement(n);case m._const:case m._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(n,a);case m._while:return this.parseWhileStatement(n);case m._with:return this.parseWithStatement(n);case m.braceL:return this.parseBlock(!0,n);case m.semi:return this.parseEmptyStatement(n);case m._export:case m._import:if(this.options.ecmaVersion>10&&r===m._import){it.lastIndex=this.pos;var c=it.exec(this.input),p=this.pos+c[0].length,f=this.input.charCodeAt(p);if(f===40||f===46)return this.parseExpressionStatement(n,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===m._import?this.parseImport(n):this.parseExport(n,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(n,!0,!t);var _=this.value,x=this.parseExpression();return r===m.name&&x.type==="Identifier"&&this.eat(m.colon)?this.parseLabeledStatement(n,_,x,t):this.parseExpressionStatement(n,x)}};M.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(m.semi)||this.insertSemicolon()?t.label=null:this.type!==m.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var n=this.labels[r];if((t.label==null||n.name===t.label.name)&&(n.kind!=null&&(i||n.kind==="loop")||t.label&&i))break}return r===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};M.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};M.parseDoStatement=function(t){return this.next(),this.labels.push(u0),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(m.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};M.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(u0),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===m._var||this.type===m._const||i){var r=this.startNode(),n=i?"let":this.value;return this.next(),this.parseVar(r,!0,n),this.finishNode(r,"VariableDeclaration"),(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,r)):(e>-1&&this.unexpected(e),this.parseFor(t,r))}var a=this.isContextual("let"),c=!1,p=new Jx,f=this.parseExpression(e>-1?"await":!0,p);return this.type===m._in||(c=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),a&&c&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};M.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,Sf|(i?0:t0),!1,e)};M.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};M.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};M.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(m.braceL),this.labels.push(ek),this.enterScope(0);for(var e,i=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var r=this.type===m._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),r?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(m.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};M.parseThrowStatement=function(t){return this.next(),ot.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var tk=[];M.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?LT:0),this.checkLValPattern(t,e?YT:Lt),this.expect(m.parenR),t};M.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===m._catch){var e=this.startNode();this.next(),this.eat(m.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(m._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};M.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};M.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(u0),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};M.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};M.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};M.parseLabeledStatement=function(t,e,i,r){for(var n=0,a=this.labels;n<a.length;n+=1){var c=a[n];c.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===m._switch?"switch":null,f=this.labels.length-1;f>=0;f--){var _=this.labels[f];if(_.statementStart===t.start)_.statementStart=this.start,_.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};M.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};M.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(m.braceL),t&&this.enterScope(0);this.type!==m.braceR;){var r=this.parseStatement(null);e.body.push(r)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};M.parseFor=function(t,e){return t.init=e,this.expect(m.semi),t.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),t.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};M.parseForIn=function(t,e){var i=this.type===m._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};M.parseVar=function(t,e,i,r){for(t.declarations=[],t.kind=i;;){var n=this.startNode();if(this.parseVarId(n,i),this.eat(m.eq)?n.init=this.parseMaybeAssign(e):!r&&i==="const"&&!(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&n.id.type!=="Identifier"&&!(e&&(this.type===m._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):n.init=null,t.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(m.comma))break}return t};M.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?a0:Lt,!1)};var Sf=1,t0=2,WT=4;M.parseFunction=function(t,e,i,r,n){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===m.star&&e&t0&&this.unexpected(),t.generator=this.eat(m.star)),this.options.ecmaVersion>=8&&(t.async=!!r),e&Sf&&(t.id=e&WT&&this.type!==m.name?null:this.parseIdent(),t.id&&!(e&t0)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?a0:Lt:jT));var a=this.yieldPos,c=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(s0(t.async,t.generator)),e&Sf||(t.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,n),this.yieldPos=a,this.awaitPos=c,this.awaitIdentPos=p,this.finishNode(t,e&Sf?"FunctionDeclaration":"FunctionExpression")};M.parseFunctionParams=function(t){this.expect(m.parenL),t.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};M.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var r=this.enterClassBody(),n=this.startNode(),a=!1;for(n.body=[],this.expect(m.braceL);this.type!==m.braceR;){var c=this.parseClassElement(t.superClass!==null);c&&(n.body.push(c),c.type==="MethodDefinition"&&c.kind==="constructor"?(a&&this.raiseRecoverable(c.start,"Duplicate constructor in the same class"),a=!0):c.key&&c.key.type==="PrivateIdentifier"&&ik(r,c)&&this.raiseRecoverable(c.key.start,"Identifier '#"+c.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(n,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};M.parseClassElement=function(t){if(this.eat(m.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),r="",n=!1,a=!1,c="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(m.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===m.star?p=!0:r="static"}if(i.static=p,!r&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===m.star)&&!this.canInsertSemicolon()?a=!0:r="async"),!r&&(e>=9||!a)&&this.eat(m.star)&&(n=!0),!r&&!a&&!n){var f=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=f:r=f)}if(r?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=r,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===m.parenL||c!=="method"||n||a){var _=!i.static&&Yx(i,"constructor"),x=_&&t;_&&c!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=_?"constructor":c,this.parseClassMethod(i,n,a,x)}else this.parseClassField(i);return i};M.isClassElementNameStart=function(){return this.type===m.name||this.type===m.privateId||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword};M.parseClassElementName=function(t){this.type===m.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};M.parseClassMethod=function(t,e,i,r){var n=t.key;t.kind==="constructor"?(e&&this.raise(n.start,"Constructor can't be a generator"),i&&this.raise(n.start,"Constructor can't be an async method")):t.static&&Yx(t,"prototype")&&this.raise(n.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,i,r);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};M.parseClassField=function(t){if(Yx(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Yx(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(m.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};M.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Pf|o0);this.type!==m.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};M.parseClassId=function(t,e){this.type===m.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Lt,!1)):(e===!0&&this.unexpected(),t.id=null)};M.parseClassSuper=function(t){t.superClass=this.eat(m._extends)?this.parseExprSubscripts(null,!1):null};M.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};M.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var r=this.privateNameStack.length,n=r===0?null:this.privateNameStack[r-1],a=0;a<i.length;++a){var c=i[a];Ef(e,c.name)||(n?n.used.push(c):this.raiseRecoverable(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"))}};function ik(t,e){var i=e.key.name,r=t[i],n="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(n=(e.static?"s":"i")+e.kind),r==="iget"&&n==="iset"||r==="iset"&&n==="iget"||r==="sget"&&n==="sset"||r==="sset"&&n==="sget"?(t[i]="true",!1):r?!0:(t[i]=n,!1)}o(ik,"isPrivateNameConflicted");function Yx(t,e){var i=t.computed,r=t.key;return!i&&(r.type==="Identifier"&&r.name===e||r.type==="Literal"&&r.value===e)}o(Yx,"checkKeyName");M.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};M.parseExport=function(t,e){if(this.next(),this.eat(m.star))return this.parseExportAllDeclaration(t,e);if(this.eat(m._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,r=t.specifiers;i<r.length;i+=1){var n=r[i];this.checkUnreserved(n.local),this.checkLocalExport(n.local),n.local.type==="Literal"&&this.raise(n.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};M.parseExportDeclaration=function(t){return this.parseStatement(null)};M.parseExportDefaultDeclaration=function(){var t;if(this.type===m._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,Sf|WT,!1,t)}else if(this.type===m._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};M.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Ef(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};M.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var r=0,n=e.properties;r<n.length;r+=1){var a=n[r];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var c=0,p=e.elements;c<p.length;c+=1){var f=p[c];f&&this.checkPatternExport(t,f)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};M.checkVariableExport=function(t,e){if(!!t)for(var i=0,r=e;i<r.length;i+=1){var n=r[i];this.checkPatternExport(t,n.id)}};M.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};M.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};M.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(i)i=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;e.push(this.parseExportSpecifier(t))}return e};M.parseImport=function(t){return this.next(),this.type===m.string?(t.specifiers=tk,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};M.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Lt),this.finishNode(t,"ImportSpecifier")};M.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Lt),this.finishNode(t,"ImportDefaultSpecifier")};M.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Lt),this.finishNode(t,"ImportNamespaceSpecifier")};M.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===m.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(m.comma)))return t;if(this.type===m.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(m.braceL);!this.eat(m.braceR);){if(e)e=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;t.push(this.parseImportSpecifier())}return t};M.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===m.string){var t=this.parseLiteral(this.value);return qI.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};M.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};M.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var nt=ve.prototype;nt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var r=0,n=t.properties;r<n.length;r+=1){var a=n[r];this.toAssignable(a,e),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};nt.toAssignableList=function(t,e){for(var i=t.length,r=0;r<i;r++){var n=t[r];n&&this.toAssignable(n,e)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&e&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};nt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};nt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==m.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};nt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case m.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()};nt.parseBindingList=function(t,e,i,r){for(var n=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(m.comma),e&&this.type===m.comma)n.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===m.ellipsis){var c=this.parseRestBinding();this.parseBindingListItem(c),n.push(c),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else n.push(this.parseAssignableListItem(r))}return n};nt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};nt.parseBindingListItem=function(t){return t};nt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return i;var r=this.startNodeAt(t,e);return r.left=i,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};nt.checkLValSimple=function(t,e,i){e===void 0&&(e=jx);var r=e!==jx;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(r?"Binding ":"Assigning to ")+t.name+" in strict mode"),r&&(e===Lt&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Ef(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==UT&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(r?"Binding":"Assigning to")+" rvalue")}};nt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=jx),t.type){case"ObjectPattern":for(var r=0,n=t.properties;r<n.length;r+=1){var a=n[r];this.checkLValInnerPattern(a,e,i)}break;case"ArrayPattern":for(var c=0,p=t.elements;c<p.length;c+=1){var f=p[c];f&&this.checkLValInnerPattern(f,e,i)}break;default:this.checkLValSimple(t,e,i)}};nt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=jx),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var _t=o(function(e,i,r,n,a){this.token=e,this.isExpr=!!i,this.preserveSpace=!!r,this.override=n,this.generator=!!a},"TokContext"),ce={b_stat:new _t("{",!1),b_expr:new _t("{",!0),b_tmpl:new _t("${",!1),p_stat:new _t("(",!1),p_expr:new _t("(",!0),q_tmpl:new _t("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new _t("function",!1),f_expr:new _t("function",!0),f_expr_gen:new _t("function",!0,!1,null,!0),f_gen:new _t("function",!1,!1,null,!0)},Zo=ve.prototype;Zo.initialContext=function(){return[ce.b_stat]};Zo.curContext=function(){return this.context[this.context.length-1]};Zo.braceIsBlock=function(t){var e=this.curContext();return e===ce.f_expr||e===ce.f_stat?!0:t===m.colon&&(e===ce.b_stat||e===ce.b_expr)?!e.isExpr:t===m._return||t===m.name&&this.exprAllowed?ot.test(this.input.slice(this.lastTokEnd,this.start)):t===m._else||t===m.semi||t===m.eof||t===m.parenR||t===m.arrow?!0:t===m.braceL?e===ce.b_stat:t===m._var||t===m._const||t===m.name?!1:!this.exprAllowed};Zo.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Zo.updateContext=function(t){var e,i=this.type;i.keyword&&t===m.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Zo.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};m.parenR.updateContext=m.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===ce.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};m.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?ce.b_stat:ce.b_expr),this.exprAllowed=!0};m.dollarBraceL.updateContext=function(){this.context.push(ce.b_tmpl),this.exprAllowed=!0};m.parenL.updateContext=function(t){var e=t===m._if||t===m._for||t===m._with||t===m._while;this.context.push(e?ce.p_stat:ce.p_expr),this.exprAllowed=!0};m.incDec.updateContext=function(){};m._function.updateContext=m._class.updateContext=function(t){t.beforeExpr&&t!==m._else&&!(t===m.semi&&this.curContext()!==ce.p_stat)&&!(t===m._return&&ot.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===m.colon||t===m.braceL)&&this.curContext()===ce.b_stat)?this.context.push(ce.f_expr):this.context.push(ce.f_stat),this.exprAllowed=!1};m.backQuote.updateContext=function(){this.curContext()===ce.q_tmpl?this.context.pop():this.context.push(ce.q_tmpl),this.exprAllowed=!1};m.star.updateContext=function(t){if(t===m._function){var e=this.context.length-1;this.context[e]===ce.f_expr?this.context[e]=ce.f_expr_gen:this.context[e]=ce.f_gen}this.exprAllowed=!0};m.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==m.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var j=ve.prototype;j.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var r=t.key,n;switch(r.type){case"Identifier":n=r.name;break;case"Literal":n=String(r.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){n==="__proto__"&&a==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),e.proto=!0);return}n="$"+n;var c=e[n];if(c){var p;a==="init"?p=this.strict&&c.init||c.get||c.set:p=c.init||c[a],p&&this.raiseRecoverable(r.start,"Redefinition of property")}else c=e[n]={init:!1,get:!1,set:!1};c[a]=!0}};j.parseExpression=function(t,e){var i=this.start,r=this.startLoc,n=this.parseMaybeAssign(t,e);if(this.type===m.comma){var a=this.startNodeAt(i,r);for(a.expressions=[n];this.eat(m.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return n};j.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var r=!1,n=-1,a=-1,c=-1;e?(n=e.parenthesizedAssign,a=e.trailingComma,c=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Jx,r=!0);var p=this.start,f=this.startLoc;(this.type===m.parenL||this.type===m.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var _=this.parseMaybeConditional(t,e);if(i&&(_=i.call(this,_,p,f)),this.type.isAssign){var x=this.startNodeAt(p,f);return x.operator=this.value,this.type===m.eq&&(_=this.toAssignable(_,!1,e)),r||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=_.start&&(e.shorthandAssign=-1),this.type===m.eq?this.checkLValPattern(_):this.checkLValSimple(_),x.left=_,this.next(),x.right=this.parseMaybeAssign(t),c>-1&&(e.doubleProto=c),this.finishNode(x,"AssignmentExpression")}else r&&this.checkExpressionErrors(e,!0);return n>-1&&(e.parenthesizedAssign=n),a>-1&&(e.trailingComma=a),_};j.parseMaybeConditional=function(t,e){var i=this.start,r=this.startLoc,n=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return n;if(this.eat(m.question)){var a=this.startNodeAt(i,r);return a.test=n,a.consequent=this.parseMaybeAssign(),this.expect(m.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return n};j.parseExprOps=function(t,e){var i=this.start,r=this.startLoc,n=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||n.start===i&&n.type==="ArrowFunctionExpression"?n:this.parseExprOp(n,i,r,-1,t)};j.parseExprOp=function(t,e,i,r,n){var a=this.type.binop;if(a!=null&&(!n||this.type!==m._in)&&a>r){var c=this.type===m.logicalOR||this.type===m.logicalAND,p=this.type===m.coalesce;p&&(a=m.logicalAND.binop);var f=this.value;this.next();var _=this.start,x=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,n),_,x,a,n),y=this.buildBinary(e,i,t,g,f,c||p);return(c&&this.type===m.coalesce||p&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(y,e,i,r,n)}return t};j.buildBinary=function(t,e,i,r,n,a){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var c=this.startNodeAt(t,e);return c.left=i,c.operator=n,c.right=r,this.finishNode(c,a?"LogicalExpression":"BinaryExpression")};j.parseMaybeUnary=function(t,e,i,r){var n=this.start,a=this.startLoc,c;if(this.isContextual("await")&&this.canAwait)c=this.parseAwait(r),e=!0;else if(this.type.prefix){var p=this.startNode(),f=this.type===m.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,f,r),this.checkExpressionErrors(t,!0),f?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&JT(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,c=this.finishNode(p,f?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===m.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),c=this.parsePrivateIdent(),this.type!==m._in&&this.unexpected();else{if(c=this.parseExprSubscripts(t,r),this.checkExpressionErrors(t))return c;for(;this.type.postfix&&!this.canInsertSemicolon();){var _=this.startNodeAt(n,a);_.operator=this.value,_.prefix=!1,_.argument=c,this.checkLValSimple(c),this.next(),c=this.finishNode(_,"UpdateExpression")}}if(!i&&this.eat(m.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(n,a,c,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return c};function JT(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&JT(t.expression)}o(JT,"isPrivateFieldAccess");j.parseExprSubscripts=function(t,e){var i=this.start,r=this.startLoc,n=this.parseExprAtom(t,e);if(n.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return n;var a=this.parseSubscripts(n,i,r,!1,e);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};j.parseSubscripts=function(t,e,i,r,n){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,c=!1;;){var p=this.parseSubscript(t,e,i,r,a,c,n);if(p.optional&&(c=!0),p===t||p.type==="ArrowFunctionExpression"){if(c){var f=this.startNodeAt(e,i);f.expression=p,p=this.finishNode(f,"ChainExpression")}return p}t=p}};j.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(m.arrow)};j.parseSubscriptAsyncArrow=function(t,e,i,r){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,r)};j.parseSubscript=function(t,e,i,r,n,a,c){var p=this.options.ecmaVersion>=11,f=p&&this.eat(m.questionDot);r&&f&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var _=this.eat(m.bracketL);if(_||f&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var x=this.startNodeAt(e,i);x.object=t,_?(x.property=this.parseExpression(),this.expect(m.bracketR)):this.type===m.privateId&&t.type!=="Super"?x.property=this.parsePrivateIdent():x.property=this.parseIdent(this.options.allowReserved!=="never"),x.computed=!!_,p&&(x.optional=f),t=this.finishNode(x,"MemberExpression")}else if(!r&&this.eat(m.parenL)){var g=new Jx,y=this.yieldPos,b=this.awaitPos,N=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var V=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1,g);if(n&&!f&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=y,this.awaitPos=b,this.awaitIdentPos=N,this.parseSubscriptAsyncArrow(e,i,V,c);this.checkExpressionErrors(g,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=b||this.awaitPos,this.awaitIdentPos=N||this.awaitIdentPos;var D=this.startNodeAt(e,i);D.callee=t,D.arguments=V,p&&(D.optional=f),t=this.finishNode(D,"CallExpression")}else if(this.type===m.backQuote){(f||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var B=this.startNodeAt(e,i);B.tag=t,B.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(B,"TaggedTemplateExpression")}return t};j.parseExprAtom=function(t,e,i){this.type===m.slash&&this.readRegexp();var r,n=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===m.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(r,"Super");case m._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case m.name:var a=this.start,c=this.startLoc,p=this.containsEsc,f=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&f.name==="async"&&!this.canInsertSemicolon()&&this.eat(m._function))return this.overrideContext(ce.f_expr),this.parseFunction(this.startNodeAt(a,c),0,!1,!0,e);if(n&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(a,c),[f],!1,e);if(this.options.ecmaVersion>=8&&f.name==="async"&&this.type===m.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return f=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(m.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,c),[f],!0,e)}return f;case m.regexp:var _=this.value;return r=this.parseLiteral(_.value),r.regex={pattern:_.pattern,flags:_.flags},r;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return r=this.startNode(),r.value=this.type===m._null?null:this.type===m._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case m.parenL:var x=this.start,g=this.parseParenAndDistinguishExpression(n,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(t.parenthesizedAssign=x),t.parenthesizedBind<0&&(t.parenthesizedBind=x)),g;case m.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(m.bracketR,!0,!0,t),this.finishNode(r,"ArrayExpression");case m.braceL:return this.overrideContext(ce.b_expr),this.parseObj(!1,t);case m._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};j.parseExprAtomDefault=function(){this.unexpected()};j.parseExprImport=function(t){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);if(this.type===m.parenL&&!t)return this.parseDynamicImport(e);if(this.type===m.dot)return e.meta=i,this.parseImportMeta(e);this.unexpected()};j.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var e=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};j.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};j.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};j.parseParenExpression=function(){this.expect(m.parenL);var t=this.parseExpression();return this.expect(m.parenR),t};j.shouldParseArrow=function(t){return!this.canInsertSemicolon()};j.parseParenAndDistinguishExpression=function(t,e){var i=this.start,r=this.startLoc,n,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var c=this.start,p=this.startLoc,f=[],_=!0,x=!1,g=new Jx,y=this.yieldPos,b=this.awaitPos,N;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;)if(_?_=!1:this.expect(m.comma),a&&this.afterTrailingComma(m.parenR,!0)){x=!0;break}else if(this.type===m.ellipsis){N=this.start,f.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else f.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var V=this.lastTokEnd,D=this.lastTokEndLoc;if(this.expect(m.parenR),t&&this.shouldParseArrow(f)&&this.eat(m.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=y,this.awaitPos=b,this.parseParenArrowList(i,r,f,e);(!f.length||x)&&this.unexpected(this.lastTokStart),N&&this.unexpected(N),this.checkExpressionErrors(g,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=b||this.awaitPos,f.length>1?(n=this.startNodeAt(c,p),n.expressions=f,this.finishNodeAt(n,"SequenceExpression",V,D)):n=f[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var B=this.startNodeAt(i,r);return B.expression=n,this.finishNode(B,"ParenthesizedExpression")}else return n};j.parseParenItem=function(t){return t};j.parseParenArrowList=function(t,e,i,r){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,r)};var rk=[];j.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(m.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var r=this.start,n=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,n,!0,!1),this.eat(m.parenL)?t.arguments=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1):t.arguments=rk,this.finishNode(t,"NewExpression")};j.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===m.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===m.backQuote,this.finishNode(i,"TemplateElement")};j.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var r=this.parseTemplateElement({isTagged:e});for(i.quasis=[r];!r.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(m.braceR),i.quasis.push(r=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};j.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===m.star)&&!ot.test(this.input.slice(this.lastTokEnd,this.start))};j.parseObj=function(t,e){var i=this.startNode(),r=!0,n={};for(i.properties=[],this.next();!this.eat(m.braceR);){if(r)r=!1;else if(this.expect(m.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(m.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,n,e),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};j.parseProperty=function(t,e){var i=this.startNode(),r,n,a,c;if(this.options.ecmaVersion>=9&&this.eat(m.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===m.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(a=this.start,c=this.startLoc),t||(r=this.eat(m.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(i)?(n=!0,r=this.options.ecmaVersion>=9&&this.eat(m.star),this.parsePropertyName(i)):n=!1,this.parsePropertyValue(i,t,r,n,a,c,e,p),this.finishNode(i,"Property")};j.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};j.parsePropertyValue=function(t,e,i,r,n,a,c,p){(i||r)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,c),t.kind="init"):this.options.ecmaVersion>=6&&this.type===m.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,r)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==m.comma&&this.type!==m.braceR&&this.type!==m.eq?((i||r)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||r)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=n),t.kind="init",e?t.value=this.parseMaybeDefault(n,a,this.copyNode(t.key)):this.type===m.eq&&c?(c.shorthandAssign<0&&(c.shorthandAssign=this.start),t.value=this.parseMaybeDefault(n,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};j.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(m.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(m.bracketR),t.key;t.computed=!1}return t.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};j.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};j.parseMethod=function(t,e,i){var r=this.startNode(),n=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=t),this.options.ecmaVersion>=8&&(r.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(s0(e,r.generator)|o0|(i?FT:0)),this.expect(m.parenL),r.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=n,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(r,"FunctionExpression")};j.parseArrowExpression=function(t,e,i,r){var n=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.enterScope(s0(i,!1)|OT),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,r),this.yieldPos=n,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(t,"ArrowFunctionExpression")};j.parseFunctionBody=function(t,e,i,r){var n=e&&this.type!==m.braceL,a=this.strict,c=!1;if(n)t.body=this.parseMaybeAssign(r),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||p)&&(c=this.strictDirective(this.end),c&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],c&&(this.strict=!0),this.checkParams(t,!a&&!c&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,UT),t.body=this.parseBlock(!1,void 0,c&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=f}this.exitScope()};j.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var r=i[e];if(r.type!=="Identifier")return!1}return!0};j.checkParams=function(t,e){for(var i=Object.create(null),r=0,n=t.params;r<n.length;r+=1){var a=n[r];this.checkLValInnerPattern(a,a0,e?null:i)}};j.parseExprList=function(t,e,i,r){for(var n=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(m.comma),e&&this.afterTrailingComma(t))break;var c=void 0;i&&this.type===m.comma?c=null:this.type===m.ellipsis?(c=this.parseSpread(r),r&&this.type===m.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):c=this.parseMaybeAssign(!1,r),n.push(c)}return n};j.checkUnreserved=function(t){var e=t.start,i=t.end,r=t.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(e,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(e,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var n=this.strict?this.reservedWordsStrict:this.reservedWords;n.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+r+"' is reserved"))}};j.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};j.parseIdentNode=function(){var t=this.startNode();return this.type===m.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),t};j.parsePrivateIdent=function(){var t=this.startNode();return this.type===m.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};j.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(m.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};j.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Ux=ve.prototype;Ux.raise=function(t,e){var i=BT(this.input,t);e+=" ("+i.line+":"+i.column+")";var r=new SyntaxError(e);throw r.pos=t,r.loc=i,r.raisedAt=this.pos,r};Ux.raiseRecoverable=Ux.raise;Ux.curPosition=function(){if(this.options.locations)return new Cf(this.curLine,this.pos-this.lineStart)};var di=ve.prototype,ok=o(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");di.enterScope=function(t){this.scopeStack.push(new ok(t))};di.exitScope=function(){this.scopeStack.pop()};di.treatFunctionsAsVarInScope=function(t){return t.flags&Qo||!this.inModule&&t.flags&Nf};di.declareName=function(t,e,i){var r=!1;if(e===Lt){var n=this.currentScope();r=n.lexical.indexOf(t)>-1||n.functions.indexOf(t)>-1||n.var.indexOf(t)>-1,n.lexical.push(t),this.inModule&&n.flags&Nf&&delete this.undefinedExports[t]}else if(e===YT){var a=this.currentScope();a.lexical.push(t)}else if(e===jT){var c=this.currentScope();this.treatFunctionsAsVar?r=c.lexical.indexOf(t)>-1:r=c.lexical.indexOf(t)>-1||c.var.indexOf(t)>-1,c.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var f=this.scopeStack[p];if(f.lexical.indexOf(t)>-1&&!(f.flags&LT&&f.lexical[0]===t)||!this.treatFunctionsAsVarInScope(f)&&f.functions.indexOf(t)>-1){r=!0;break}if(f.var.push(t),this.inModule&&f.flags&Nf&&delete this.undefinedExports[t],f.flags&n0)break}r&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};di.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};di.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};di.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&n0)return e}};di.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&n0&&!(e.flags&OT))return e}};var Hx=o(function(e,i,r){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Wx(e,r)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Rf=ve.prototype;Rf.startNode=function(){return new Hx(this,this.start,this.startLoc)};Rf.startNodeAt=function(t,e){return new Hx(this,t,e)};function HT(t,e,i,r){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=r),this.options.ranges&&(t.range[1]=i),t}o(HT,"finishNodeAt");Rf.finishNode=function(t,e){return HT.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Rf.finishNodeAt=function(t,e,i,r){return HT.call(this,t,e,i,r)};Rf.copyNode=function(t){var e=new Hx(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var zT="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",GT=zT+" Extended_Pictographic",KT=GT,$T=KT+" EBase EComp EMod EPres ExtPict",qT=$T,nk=qT,sk={9:zT,10:GT,11:KT,12:$T,13:qT,14:nk},ak="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",uk={9:"",10:"",11:"",12:"",13:"",14:ak},NT="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",XT="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",QT=XT+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ZT=QT+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",e1=ZT+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",t1=e1+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",lk=t1+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",ck={9:XT,10:QT,11:ZT,12:e1,13:t1,14:lk},i1={};function pk(t){var e=i1[t]={binary:ci(sk[t]+" "+NT),binaryOfStrings:ci(uk[t]),nonBinary:{General_Category:ci(NT),Script:ci(ck[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}o(pk,"buildUnicodeData");for(Fx=0,Qv=[9,10,11,12,13,14];Fx<Qv.length;Fx+=1)ET=Qv[Fx],pk(ET);var ET,Fx,Qv,A=ve.prototype,Ct=o(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=i1[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");Ct.prototype.reset=o(function(e,i,r){var n=r.indexOf("v")!==-1,a=r.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=r,n&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)},"reset");Ct.prototype.raise=o(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Ct.prototype.at=o(function(e,i){i===void 0&&(i=!1);var r=this.source,n=r.length;if(e>=n)return-1;var a=r.charCodeAt(e);if(!(i||this.switchU)||a<=55295||a>=57344||e+1>=n)return a;var c=r.charCodeAt(e+1);return c>=56320&&c<=57343?(a<<10)+c-56613888:a},"at");Ct.prototype.nextIndex=o(function(e,i){i===void 0&&(i=!1);var r=this.source,n=r.length;if(e>=n)return n;var a=r.charCodeAt(e),c;return!(i||this.switchU)||a<=55295||a>=57344||e+1>=n||(c=r.charCodeAt(e+1))<56320||c>57343?e+1:e+2},"nextIndex");Ct.prototype.current=o(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Ct.prototype.lookahead=o(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Ct.prototype.advance=o(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Ct.prototype.eat=o(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");Ct.prototype.eatChars=o(function(e,i){i===void 0&&(i=!1);for(var r=this.pos,n=0,a=e;n<a.length;n+=1){var c=a[n],p=this.at(r,i);if(p===-1||p!==c)return!1;r=this.nextIndex(r,i)}return this.pos=r,!0},"eatChars");A.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,r=!1,n=!1,a=0;a<i.length;a++){var c=i.charAt(a);e.indexOf(c)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(c,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),c==="u"&&(r=!0),c==="v"&&(n=!0)}this.options.ecmaVersion>=15&&r&&n&&this.raise(t.start,"Invalid regular expression flag")};A.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};A.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var r=i[e];t.groupNames.indexOf(r)===-1&&t.raise("Invalid named capture referenced")}};A.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};A.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};A.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};A.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};A.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};A.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};A.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var r=0,n=-1;if(this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue),t.eat(125)))return n!==-1&&n<r&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};A.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};A.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};A.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};A.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};A.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};A.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};A.regexp_eatSyntaxCharacter=function(t){var e=t.current();return r1(e)?(t.lastIntValue=e,t.advance(),!0):!1};function r1(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}o(r1,"isSyntaxCharacter");A.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!r1(i);)t.advance();return t.pos!==e};A.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};A.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};A.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};A.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=pi(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=pi(t.lastIntValue);return!0}return!1};A.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,r=t.current(i);return t.advance(i),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(r=t.lastIntValue),dk(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};function dk(t){return Dt(t,!0)||t===36||t===95}o(dk,"isRegExpIdentifierStart");A.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,r=t.current(i);return t.advance(i),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(r=t.lastIntValue),fk(r)?(t.lastIntValue=r,!0):(t.pos=e,!1)};function fk(t){return qo(t,!0)||t===36||t===95||t===8204||t===8205}o(fk,"isRegExpIdentifierPart");A.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};A.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};A.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};A.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};A.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};A.regexp_eatZero=function(t){return t.current()===48&&!zx(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};A.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};A.regexp_eatControlLetter=function(t){var e=t.current();return o1(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function o1(t){return t>=65&&t<=90||t>=97&&t<=122}o(o1,"isControlLetter");A.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,r=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var n=t.lastIntValue;if(r&&n>=55296&&n<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var c=t.lastIntValue;if(c>=56320&&c<=57343)return t.lastIntValue=(n-55296)*1024+(c-56320)+65536,!0}t.pos=a,t.lastIntValue=n}return!0}if(r&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&mk(t.lastIntValue))return!0;r&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function mk(t){return t>=0&&t<=1114111}o(mk,"isValidUnicode");A.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};A.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var n1=0,Ot=1,rt=2;A.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(hk(e))return t.lastIntValue=-1,t.advance(),Ot;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var r;if(t.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&r===rt&&t.raise("Invalid property name"),r;t.raise("Invalid property name")}return n1};function hk(t){return t===100||t===68||t===115||t===83||t===119||t===87}o(hk,"isCharacterClassEscape");A.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,r),Ot}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,n)}return n1};A.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Ef(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};A.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Ot;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return rt;t.raise("Invalid property name")};A.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";s1(e=t.current());)t.lastStringValue+=pi(e),t.advance();return t.lastStringValue!==""};function s1(t){return o1(t)||t===95}o(s1,"isUnicodePropertyNameCharacter");A.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";_k(e=t.current());)t.lastStringValue+=pi(e),t.advance();return t.lastStringValue!==""};function _k(t){return s1(t)||zx(t)}o(_k,"isUnicodePropertyValueCharacter");A.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};A.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===rt&&t.raise("Negated character class may contain strings"),!0}return!1};A.regexp_classContents=function(t){return t.current()===93?Ot:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Ot)};A.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};A.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||l1(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var r=t.current();return r!==93?(t.lastIntValue=r,t.advance(),!0):!1};A.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};A.regexp_classSetExpression=function(t){var e=Ot,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===rt&&(e=rt);for(var r=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==rt&&(e=Ot);continue}t.raise("Invalid character in character class")}if(r!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(r!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===rt&&(e=rt)}};A.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var r=t.lastIntValue;return i!==-1&&r!==-1&&i>r&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};A.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Ot:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};A.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),r=this.regexp_classContents(t);if(t.eat(93))return i&&r===rt&&t.raise("Negated character class may contain strings"),r;t.pos=e}if(t.eat(92)){var n=this.regexp_eatCharacterClassEscape(t);if(n)return n;t.pos=e}return null};A.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};A.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===rt&&(e=rt);return e};A.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Ot:rt};A.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&xk(i)||vk(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function xk(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}o(xk,"isClassSetReservedDoublePunctuatorCharacter");function vk(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}o(vk,"isClassSetSyntaxCharacter");A.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return gk(e)?(t.lastIntValue=e,t.advance(),!0):!1};function gk(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}o(gk,"isClassSetReservedPunctuator");A.regexp_eatClassControlLetter=function(t){var e=t.current();return zx(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};A.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};A.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;zx(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function zx(t){return t>=48&&t<=57}o(zx,"isDecimalDigit");A.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;a1(i=t.current());)t.lastIntValue=16*t.lastIntValue+u1(i),t.advance();return t.pos!==e};function a1(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}o(a1,"isHexDigit");function u1(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}o(u1,"hexToInt");A.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};A.regexp_eatOctalDigit=function(t){var e=t.current();return l1(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function l1(t){return t>=48&&t<=55}o(l1,"isOctalDigit");A.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var r=0;r<e;++r){var n=t.current();if(!a1(n))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+u1(n),t.advance()}return!0};var l0=o(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Wx(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),$=ve.prototype;$.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new l0(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};$.getToken=function(){return this.next(),new l0(this)};typeof Symbol<"u"&&($[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===m.eof,value:e}}}});$.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(m.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};$.readToken=function(t){return Dt(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};$.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};$.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var r=void 0,n=e;(r=AT(this.input,n,this.pos))>-1;)++this.curLine,n=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};$.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Xo(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};$.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&VT.test(String.fromCharCode(t)))++this.pos;else break e}}};$.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};$.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))};$.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(m.assign,2):this.finishOp(m.slash,1)};$.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,r=t===42?m.star:m.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,r=m.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(m.assign,i+1):this.finishOp(r,i)};$.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(m.assign,3)}return this.finishOp(t===124?m.logicalOR:m.logicalAND,2)}return e===61?this.finishOp(m.assign,2):this.finishOp(t===124?m.bitwiseOR:m.bitwiseAND,1)};$.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)};$.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ot.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(m.incDec,2):e===61?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)};$.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(m.assign,i+1):this.finishOp(m.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(m.relational,i))};$.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(m.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(t===61?m.eq:m.prefix,1)};$.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(m.questionDot,2)}if(e===63){if(t>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(m.assign,3)}return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)};$.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Dt(e,!0)||e===92))return this.finishToken(m.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+pi(e)+"'")};$.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+pi(t)+"'")};$.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};$.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(ot.test(r)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(r==="[")e=!0;else if(r==="]"&&e)e=!1;else if(r==="/"&&!e)break;t=r==="\\"}++this.pos}var n=this.input.slice(i,this.pos);++this.pos;var a=this.pos,c=this.readWord1();this.containsEsc&&this.unexpected(a);var p=this.regexpState||(this.regexpState=new Ct(this));p.reset(i,n,c),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var f=null;try{f=new RegExp(n,c)}catch(_){}return this.finishToken(m.regexp,{pattern:n,flags:c,value:f})};$.readInt=function(t,e,i){for(var r=this.options.ecmaVersion>=12&&e===void 0,n=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,c=0,p=0,f=0,_=e==null?1/0:e;f<_;++f,++this.pos){var x=this.input.charCodeAt(this.pos),g=void 0;if(r&&x===95){n&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),f===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=x;continue}if(x>=97?g=x-97+10:x>=65?g=x-65+10:x>=48&&x<=57?g=x-48:g=1/0,g>=t)break;p=x,c=c*t+g}return r&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||e!=null&&this.pos-a!==e?null:c};function bk(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}o(bk,"stringToNumber");function c1(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}o(c1,"stringToBigInt");$.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=c1(this.input.slice(e,this.pos)),++this.pos):Dt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,i)};$.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&r===110){var n=c1(this.input.slice(e,this.pos));return++this.pos,Dt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,n)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),r===46&&!i&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!i&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Dt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=bk(this.input.slice(e,this.pos),i);return this.finishToken(m.num,a)};$.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};$.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===t)break;r===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Xo(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(m.string,e)};var p1={};$.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===p1)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};$.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw p1;this.raise(t,e)};$.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===m.template||this.type===m.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(m.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Xo(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};$.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};$.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return pi(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(r,8);return n>255&&(r=r.slice(0,-1),n=parseInt(r,8)),this.pos+=r.length-1,e=this.input.charCodeAt(this.pos),(r!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-r.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return Xo(e)?"":String.fromCharCode(e)}};$.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};$.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if(qo(n,r))this.pos+=n<=65535?1:2;else if(n===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var c=this.readCodePoint();(e?Dt:qo)(c,r)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=pi(c),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};$.readWord=function(){var t=this.readWord1(),e=m.name;return this.keywords.test(t)&&(e=i0[t]),this.finishToken(e,t)};var yk="8.10.0";ve.acorn={Parser:ve,version:yk,defaultOptions:e0,Position:Cf,SourceLocation:Wx,getLineInfo:BT,Node:Hx,TokenType:ie,tokTypes:m,keywordTypes:i0,TokContext:_t,tokContexts:ce,isIdentifierChar:qo,isIdentifierStart:Dt,Token:l0,isNewLine:Xo,lineBreak:ot,lineBreakG:GI,nonASCIIwhitespace:VT};function d1(t,e){return ve.parse(t,e)}o(d1,"parse");var wk=function(t,e,i,r,n){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},Tk=function(t,e,i,r){if(i==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?r:i==="a"?r.call(t):r?r.value:e.get(t)},Gx,Xi=class{constructor(e){Gx.set(this,void 0);let i=d1(e,{ecmaVersion:2020});wk(this,Gx,i.body,"f"),this.visitor=new $o(Tk(this,Gx,"f")),this.scope=this.visitor.scope,this.scope.set("print",r=>console.log(...r)),this.visitor.on("console",(r,n)=>{if(r.type==="Identifier")return console;if(r.type==="CallExpression"&&r.callee.type==="MemberExpression"){let a=n.visitNode(r.callee.property),c=r.arguments.map(f=>n.visitNode(f)),p=console[a];return p?p(...c):"proceed"}return"proceed"}),this.visitor.on("Math",(r,n)=>{if(r.type==="Identifier")return Math;if(r.type==="CallExpression"&&r.callee.type==="MemberExpression"){let a=n.visitNode(r.callee.property),c=r.arguments.map(f=>n.visitNode(f)),p=Math[a];return p?p(...c):"proceed"}return"proceed"}),this.visitor.on("String",(r,n)=>{if(r.type==="Identifier")return String;if(r.type==="CallExpression"&&r.callee.type==="MemberExpression"){let a=n.visitNode(r.callee.property),c=r.arguments.map(f=>n.visitNode(f)),p=String[a];return p?p(c):"proceed"}return"proceed"}),this.visitor.on("Date",r=>{if(r.type==="Identifier")return Date})}interpret(){return this.visitor.run()}};o(Xi,"Jinter");Gx=new WeakMap;function c0(t,e){let i=new Xi(t);for(let[r,n]of Object.entries(e))i.scope.set(r,n);return i.interpret()}o(c0,"evaluate");var Af,Qi,f1,m1,h1,Kx=class{constructor(e){Af.add(this),Qi.set(this,void 0),k(this,Qi,e,"f")}get session(){return d(this,Qi,"f")}stats(e,i,r){return I(this,void 0,void 0,function*(){let n=new URL(e);n.searchParams.set("ver","2"),n.searchParams.set("c",i.client_name.toLowerCase()),n.searchParams.set("cbrver",i.client_version),n.searchParams.set("cver",i.client_version);for(let c of Object.keys(r))n.searchParams.set(c,r[c]);return yield d(this,Qi,"f").http.fetch(n)})}execute(e,i){var r,n;return I(this,void 0,void 0,function*(){let a;if(i&&!i.protobuf){if(a=Object.assign({},i),Reflect.has(a,"browseId")&&d(this,Af,"m",h1).call(this,a.browseId)&&!d(this,Qi,"f").logged_in)throw new w("You must be signed in to perform this operation.");Reflect.has(a,"override_endpoint")&&delete a.override_endpoint,Reflect.has(a,"parse")&&delete a.parse,Reflect.has(a,"request")&&delete a.request,Reflect.has(a,"clientActions")&&delete a.clientActions,Reflect.has(a,"settingItemIdForClient")&&delete a.settingItemIdForClient,Reflect.has(a,"action")&&(a.actions=[a.action],delete a.action),Reflect.has(a,"boolValue")&&(a.newValue={boolValue:a.boolValue},delete a.boolValue),Reflect.has(a,"token")&&(a.continuation=a.token,delete a.token),(a==null?void 0:a.client)==="YTMUSIC"&&(a.isAudioOnly=!0)}else i&&(a=i.serialized_data);let c=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield d(this,Qi,"f").http.fetch(c,{method:"POST",body:i!=null&&i.protobuf?a:JSON.stringify(a||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let f=l.parseResponse(yield p.json());if(d(this,Af,"m",m1).call(this,f)&&((n=(r=f.on_response_received_actions)===null||r===void 0?void 0:r.first())===null||n===void 0?void 0:n.type)==="navigateAction"){let _=f.on_response_received_actions.firstOfType(Zt);_&&(f=yield _.endpoint.call(this,{parse:!0}))}return f}return d(this,Af,"m",f1).call(this,p)})}};o(Kx,"Actions");Qi=new WeakMap,Af=new WeakSet,f1=o(function(e){return I(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),m1=o(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),h1=o(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var p0=Kx;var en,tn,Vf,Mf,xt=class{constructor(e,i,r,n){en.set(this,void 0),tn.set(this,void 0),Vf.set(this,void 0),Mf.set(this,void 0),k(this,en,r,"f"),k(this,tn,i,"f"),k(this,Vf,e,"f"),k(this,Mf,n,"f")}static create(e,i=F.shim.fetch){return I(this,void 0,void 0,function*(){let r=new URL("/iframe_api",Pe.YT_BASE),n=yield i(r);if(n.status!==200)throw new Ke("Failed to request player id");let a=yield n.text(),c=Oe(a,"player\\/","\\/");if(!c)throw new Ke("Failed to get player id");if(e){let b=yield xt.fromCache(e,c);if(b)return b}let p=new URL(`/s/player/${c}/player_ias.vflset/en_US/base.js`,Pe.YT_BASE),f=yield i(p,{headers:{"user-agent":Ki("desktop")}});if(!f.ok)throw new Ke(`Failed to get player data: ${f.status}`);let _=yield f.text(),x=this.extractSigTimestamp(_),g=this.extractSigSourceCode(_),y=this.extractNSigSourceCode(_);return yield xt.fromSource(e,x,g,y,c)})}decipher(e,i,r,n){if(e=e||i||r,!e)throw new Ke("No valid URL to decipher");let a=new URLSearchParams(e),c=new URL(a.get("url")||e);if(i||r){let _=F.shim.calculate(d(this,tn,"f"),{sig:a.get("s")});if(typeof _!="string")throw new Ke("Failed to decipher signature");let x=a.get("sp");x?c.searchParams.set(x,_):c.searchParams.set("signature",_)}let p=c.searchParams.get("n");if(p){let _;if(n&&n.has(p))_=n.get(p);else{if(_=F.shim.calculate(d(this,en,"f"),{nsig:p}),typeof _!="string")throw new Ke("Failed to decipher nsig");_.startsWith("enhanced_except_")?console.warn(`Warning:
Could not transform nsig, download may be throttled.
Changing the InnerTube client to "ANDROID" might help!`):n&&n.set(p,_)}c.searchParams.set("n",_)}switch(c.searchParams.get("c")){case"WEB":c.searchParams.set("cver",G.WEB.VERSION);break;case"WEB_REMIX":c.searchParams.set("cver",G.YTMUSIC.VERSION);break;case"WEB_KIDS":c.searchParams.set("cver",G.WEB_KIDS.VERSION);break;case"ANDROID":c.searchParams.set("cver",G.ANDROID.VERSION);break;case"ANDROID_MUSIC":c.searchParams.set("cver",G.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":c.searchParams.set("cver",G.TV_EMBEDDED.VERSION);break}return c.toString()}static fromCache(e,i){return I(this,void 0,void 0,function*(){let r=yield e.get(i);if(!r)return null;let n=new DataView(r);if(n.getUint32(0,!0)!==xt.LIBRARY_VERSION)return null;let c=n.getUint32(4,!0),p=n.getUint32(8,!0),f=r.slice(12,12+p),_=r.slice(12+p),x=new TextDecoder,g=x.decode(f),y=x.decode(_);return new xt(c,g,y,i)})}static fromSource(e,i,r,n,a){return I(this,void 0,void 0,function*(){let c=new xt(i,r,n,a);return yield c.cache(e),c})}cache(e){return I(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,r=i.encode(d(this,tn,"f")),n=i.encode(d(this,en,"f")),a=new ArrayBuffer(12+r.byteLength+n.byteLength),c=new DataView(a);c.setUint32(0,xt.LIBRARY_VERSION,!0),c.setUint32(4,d(this,Vf,"f"),!0),c.setUint32(8,r.byteLength,!0),new Uint8Array(a).set(r,12),new Uint8Array(a).set(n,12+r.byteLength),yield e.set(d(this,Mf,"f"),new Uint8Array(a))})}static extractSigTimestamp(e){return parseInt(Oe(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,r,n;let a=Oe(e,'function(a){a=a.split("")','return a.join("")}'),c=(n=(r=(i=a==null?void 0:a.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||r===void 0?void 0:r.replace(";",""))===null||n===void 0?void 0:n.trim(),p=Oe(e,`var ${c}={`,"};");return(!p||!a)&&console.warn(new Ke("Failed to extract signature decipher algorithm")),`function descramble_sig(a) { a = a.split(""); let ${c}={${p}}${a} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=`function descramble_nsig(a) { let b=a.split("")${Oe(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return i||console.warn(new Ke("Failed to extract n-token decipher algorithm")),i}get url(){return new URL(`/s/player/${d(this,Mf,"f")}/player_ias.vflset/en_US/base.js`,Pe.YT_BASE).toString()}get sts(){return d(this,Vf,"f")}get nsig_sc(){return d(this,en,"f")}get sig_sc(){return d(this,tn,"f")}static get LIBRARY_VERSION(){return 2}};o(xt,"Player");en=new WeakMap,tn=new WeakMap,Vf=new WeakMap,Mf=new WeakMap;var d0=xt;var $x,qx,Xx,Zi,Qx,Zx,_1,f0,m0;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(m0||(m0={}));var fi=class extends df{constructor(e,i,r,n,a,c,p,f){super(),qx.set(this,void 0),Xx.set(this,void 0),Zi.set(this,void 0),Qx.set(this,void 0),Zx.set(this,void 0),k(this,Zi,e,"f"),k(this,Qx,n,"f"),k(this,Xx,i,"f"),k(this,qx,r,"f"),k(this,Zx,a,"f"),this.http=new Ov(this,c,p),this.actions=new p0(this),this.logged_in=!!c,this.cache=f}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return I(this,void 0,void 0,function*(){let{context:i,api_key:r,api_version:n,account_index:a}=yield fi.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user);return new fi(i,r,n,a,e.retrieve_player===!1?void 0:yield d0.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",i="",r=0,n="",a=!1,c=!1,p="desktop",f=m0.WEB,_=Intl.DateTimeFormat().resolvedOptions().timeZone,x=F.shim.fetch,g){return I(this,void 0,void 0,function*(){let y,b={lang:e,location:i,time_zone:_,device_category:p,client_name:f,enable_safety_mode:a,visitor_data:n,on_behalf_of_user:g};if(c)y=d(this,$x,"m",f0).call(this,b);else try{y=yield d(this,$x,"m",_1).call(this,b,x)}catch(N){y=d(this,$x,"m",f0).call(this,b)}return Object.assign(Object.assign({},y),{account_index:r})})}get key(){return d(this,Xx,"f")}get api_version(){return d(this,qx,"f")}get client_version(){return d(this,Zi,"f").client.clientVersion}get client_name(){return d(this,Zi,"f").client.clientName}get account_index(){return d(this,Qx,"f")}get context(){return d(this,Zi,"f")}get player(){return d(this,Zx,"f")}get lang(){return d(this,Zi,"f").client.hl}};o(fi,"Session");$x=fi,qx=new WeakMap,Xx=new WeakMap,Zi=new WeakMap,Qx=new WeakMap,Zx=new WeakMap,_1=o(function(e,i=F.shim.fetch){return I(this,void 0,void 0,function*(){let r=new URL("/sw.js_data",Pe.YT_BASE),n=$i(11);e.visitor_data&&(n=rh(e.visitor_data).id);let a=yield i(r,{headers:{"accept-language":e.lang||"en-US","user-agent":Ki("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${n};`}});if(!a.ok)throw new mo(`Failed to retrieve session data: ${a.status}`);let c=yield a.text(),f=JSON.parse(c.replace(/^\)\]\}'/,""))[0][2],_=`v${f[0][0][6]}`,[[x],g]=f;return{context:{client:{hl:x[0],gl:e.location||x[2],remoteHost:x[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:x[13],clientName:e.client_name,clientVersion:x[16],osName:x[17],osVersion:x[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:x[79]||e.time_zone,browserName:x[86],browserVersion:x[87],originalUrl:Pe.YT_BASE,deviceMake:x[11],deviceModel:x[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:g,api_version:_}})},"_Session_retrieveSessionData"),f0=o(function(e){let i=$i(11);return e.visitor_data&&(i=rh(e.visitor_data).id),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:fv(i,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:G.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:Pe.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:G.WEB.API_KEY,api_version:G.WEB.API_VERSION}},"_Session_generateSessionData");var h0=fi;var _0={};Ee(_0,{NextEndpoint:()=>mi,PlayerEndpoint:()=>Ft});var mi={};Ee(mi,{PATH:()=>Ik,build:()=>kk});var Ik="/next";function kk(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}o(kk,"build");var Ft={};Ee(Ft,{PATH:()=>Sk,build:()=>Ck});var Sk="/player";function Ck(t){let e=t.client==="ANDROID"||t.client==="YTMUSIC_ANDROID"||t.client==="YTSTUDIO_ANDROID";return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:e?"2AMBCgIQBg":t.params})}o(Ck,"build");var er,rn=class{constructor(e){er.set(this,void 0),k(this,er,e,"f")}static create(e={}){return I(this,void 0,void 0,function*(){return new rn(yield h0.create(e))})}getInfo(e,i){var r,n,a,c,p;return I(this,void 0,void 0,function*(){Dx({target:e});let f;if(e instanceof h)f=mi.build({video_id:(r=e.payload)===null||r===void 0?void 0:r.videoId,playlist_id:(n=e.payload)===null||n===void 0?void 0:n.playlistId,params:(a=e.payload)===null||a===void 0?void 0:a.params,playlist_index:(c=e.payload)===null||c===void 0?void 0:c.index});else if(typeof e=="string")f=mi.build({video_id:e});else throw new w("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!f.videoId)throw new w("Video id cannot be empty",f);let _=Ft.build({video_id:f.videoId,playlist_id:f==null?void 0:f.playlistId,client:i,sts:(p=d(this,er,"f").player)===null||p===void 0?void 0:p.sts}),x=this.actions.execute(Ft.PATH,_),g=this.actions.execute(mi.PATH,f),y=yield Promise.all([x,g]),b=$i(16);return new wf(y,this.actions,b)})}getBasicInfo(e,i){var r;return I(this,void 0,void 0,function*(){Dx({video_id:e});let n=yield this.actions.execute(Ft.PATH,Ft.build({video_id:e,client:i,sts:(r=d(this,er,"f").player)===null||r===void 0?void 0:r.sts})),a=$i(16);return new wf([n],this.actions,a)})}getStreamingData(e,i={}){return I(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return I(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}call(e,i){return e.call(this.actions,i)}get actions(){return d(this,er,"f").actions}get session(){return d(this,er,"f")}};o(rn,"Innertube");er=new WeakMap;var x0=rn;var x1={};var v1=x0;var Bf,ev,tv,iv,rv=class{constructor(e=!1,i){Bf.add(this),ev.set(this,void 0),tv.set(this,void 0),k(this,ev,i||"","f"),k(this,tv,e,"f")}get cache_dir(){return d(this,tv,"f")?d(this,ev,"f"):""}get(e){return I(this,void 0,void 0,function*(){let i=yield d(this,Bf,"m",iv).call(this);if(!!i)return new Promise((r,n)=>{let a=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);a.onerror=n,a.onsuccess=function(){var c;let p=(c=this.result)===null||c===void 0?void 0:c.v;r(p?p.buffer:void 0)}})})}set(e,i){return I(this,void 0,void 0,function*(){let r=yield d(this,Bf,"m",iv).call(this);if(!!r)return new Promise((n,a)=>{let c=r.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});c.onerror=a,c.onsuccess=()=>n()})})}remove(e){return I(this,void 0,void 0,function*(){let i=yield d(this,Bf,"m",iv).call(this);if(!!i)return new Promise((r,n)=>{let a=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);a.onerror=n,a.onsuccess=()=>r()})})}};o(rv,"Cache");ev=new WeakMap,tv=new WeakMap,Bf=new WeakSet,iv=o(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,r)=>{let n=e.open("youtubei.js",1);n.onsuccess=function(){i(this.result)},n.onerror=function(a){r("indexedDB request error"),console.error(a)},n.onupgradeneeded=function(){let a=this.result.createObjectStore("kv-store",{keyPath:"k"});a.transaction.oncomplete=function(){i(this.db)}}}):console.log("IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");F.load({runtime:"browser",server:!1,info:{version:Ox.version,bugs_url:Ox.bugs.url,repo_url:Ox.homepage.split("#")[0]},Cache:rv,sha1Hash:Hv,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},calculate:c0,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var Gge=v1;export{p0 as Actions,Ii as AppendContinuationItemsAction,m0 as ClientType,ze as Constants,Ai as Continuation,Qr as ContinuationCommand,_0 as Endpoints,df as EventEmitter,Cx as FormatUtils,Sv as Generator,qr as GridContinuation,Ov as HTTPClient,nv as Helpers,x0 as Innertube,Hr as ItemSectionContinuation,ti as LiveChatContinuation,Wv as Misc,Yv as Mixins,Kr as MusicPlaylistShelfContinuation,$r as MusicShelfContinuation,Zt as NavigateAction,l as Parser,F as Platform,d0 as Player,Xr as PlaylistPanelContinuation,Er as Proto,ei as ReloadContinuationItemsCommand,Gr as SectionListContinuation,h0 as Session,zr as ShowMiniplayerCommand,x1 as Types,_I as UniversalCache,Lv as Utils,Uv as YT,ef as YTNodes,Gge as default};
