/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var Qw=Object.defineProperty;var r=(t,e)=>Qw(t,"name",{value:e,configurable:!0});var Je=(t,e)=>{for(var i in e)Qw(t,i,{get:e[i],enumerable:!0})};function Jw(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}r(Jw,"__setFunctionName");function u(t,e,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(t):s?s.value:e.get(t)}r(u,"__classPrivateFieldGet");function S(t,e,i,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,i):o?o.value=i:e.set(t,i),i}r(S,"__classPrivateFieldSet");var ao={};Je(ao,{ChannelError:()=>Vs,InnertubeError:()=>g,MissingParamError:()=>Dd,OAuth2Error:()=>wg,ParsingError:()=>Ze,Platform:()=>M,PlayerError:()=>Et,SessionError:()=>Rr,base64ToU8:()=>no,concatMemos:()=>aw,debugFetch:()=>rP,deepCompare:()=>Vd,escapeStringRegexp:()=>Pw,findFunction:()=>Ji,findVariable:()=>Mr,generateRandomString:()=>Qi,generateSidAuth:()=>tP,getCookie:()=>sP,getRandomUserAgent:()=>Bd,getStringBetweenStrings:()=>He,hasKeys:()=>iP,isTextRun:()=>Ve,parseScript:()=>Ld,streamToIterable:()=>Ng,throwIfMissing:()=>eo,timeToSeconds:()=>Te,u8ToBase64:()=>ti});var Pg={};Je(Pg,{Maybe:()=>er,Memo:()=>yi,SuperParsedResult:()=>At,YTNode:()=>n,observe:()=>G});var D={};Je(D,{Level:()=>ht,debug:()=>DE,error:()=>RE,info:()=>ME,setLevel:()=>BE,warn:()=>Qt,warnOnce:()=>AE});var NE="YOUTUBEJS",ht={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},Zw={[ht.ERROR]:(...t)=>console.error(...t),[ht.WARNING]:(...t)=>console.warn(...t),[ht.INFO]:(...t)=>console.info(...t),[ht.DEBUG]:(...t)=>console.debug(...t)},tT=[ht.WARNING],eT=new Set;function io(t,e,i){if(!Zw[t]||!tT.includes(t))return;let s=[`[${NE}]`];e&&s.push(`[${e}]`),Zw[t](`${s.join("")}:`,...i||[])}r(io,"doLog");var AE=r((t,...e)=>{eT.has(t)||(io(ht.WARNING,t,e),eT.add(t))},"warnOnce"),Qt=r((t,...e)=>io(ht.WARNING,t,e),"warn"),RE=r((t,...e)=>io(ht.ERROR,t,e),"error"),ME=r((t,...e)=>io(ht.INFO,t,e),"info"),DE=r((t,...e)=>io(ht.DEBUG,t,e),"debug");function BE(...t){tT=t}r(BE,"setLevel");var xe,te,Nt,Jt,Zi,iT=Symbol("ObservedArray.isObserved"),n=class{constructor(){this.type=this.constructor.type}is(...e){return e.some(i=>this.type===i.type)}as(...e){if(!this.is(...e))throw new Ze(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new Ze(`Missing key ${e}`);return new er(this[e])}};r(n,"YTNode");n.type="YTNode";var LE="Maybe",er=class{constructor(e){xe.add(this),te.set(this,void 0),S(this,te,e,"f")}get typeof(){return typeof u(this,te,"f")}string(){return u(this,xe,"m",Jt).call(this,"string")}isString(){return u(this,xe,"m",Nt).call(this,"string")}number(){return u(this,xe,"m",Jt).call(this,"number")}isNumber(){return u(this,xe,"m",Nt).call(this,"number")}bigint(){return u(this,xe,"m",Jt).call(this,"bigint")}isBigint(){return u(this,xe,"m",Nt).call(this,"bigint")}boolean(){return u(this,xe,"m",Jt).call(this,"boolean")}isBoolean(){return u(this,xe,"m",Nt).call(this,"boolean")}symbol(){return u(this,xe,"m",Jt).call(this,"symbol")}isSymbol(){return u(this,xe,"m",Nt).call(this,"symbol")}undefined(){return u(this,xe,"m",Jt).call(this,"undefined")}isUndefined(){return u(this,xe,"m",Nt).call(this,"undefined")}null(){if(u(this,te,"f")!==null)throw new TypeError(`Expected null, got ${typeof u(this,te,"f")}`);return u(this,te,"f")}isNull(){return u(this,te,"f")===null}object(){return u(this,xe,"m",Jt).call(this,"object")}isObject(){return u(this,xe,"m",Nt).call(this,"object")}function(){return u(this,xe,"m",Jt).call(this,"function")}isFunction(){return u(this,xe,"m",Nt).call(this,"function")}array(){if(!Array.isArray(u(this,te,"f")))throw new TypeError(`Expected array, got ${typeof u(this,te,"f")}`);return u(this,te,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,s){return Reflect.has(e,s)?Reflect.get(i,s):new er(Reflect.get(i,s))}})}isArray(){return Array.isArray(u(this,te,"f"))}node(){if(!(u(this,te,"f")instanceof n))throw new TypeError(`Expected YTNode, got ${u(this,te,"f").constructor.name}`);return u(this,te,"f")}isNode(){return u(this,te,"f")instanceof n}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof u(this,te,"f")}`);return u(this,te,"f")}isObserved(){var e;return(e=u(this,te,"f"))==null?void 0:e[iT]}parsed(){if(!(u(this,te,"f")instanceof At))throw new TypeError(`Expected SuperParsedResult, got ${typeof u(this,te,"f")}`);return u(this,te,"f")}isParsed(){return u(this,te,"f")instanceof At}any(){return Qt(LE,"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),u(this,te,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${u(this,te,"f").constructor.name}`);return u(this,te,"f")}isInstanceof(e){return u(this,te,"f")instanceof e}};r(er,"Maybe");te=new WeakMap,xe=new WeakSet,Nt=r(function(e){return typeof u(this,te,"f")===e},"_Maybe_checkPrimitive"),Jt=r(function(e){if(!u(this,xe,"m",Nt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return u(this,te,"f")},"_Maybe_assertPrimitive");var At=class{constructor(e){Zi.set(this,void 0),S(this,Zi,e,"f")}get is_null(){return u(this,Zi,"f")===null}get is_array(){return!this.is_null&&Array.isArray(u(this,Zi,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return u(this,Zi,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return u(this,Zi,"f")}};r(At,"SuperParsedResult");Zi=new WeakMap;function G(t){return new Proxy(t,{get(e,i){return i=="get"?(s,o)=>e.find((c,p)=>{let f=Vd(s,c);return f&&o&&e.splice(p,1),f}):i==iT?!0:i=="getAll"?(s,o)=>e.filter((c,p)=>{let f=Vd(s,c);return f&&o&&e.splice(p,1),f}):i=="matchCondition"?s=>e.find(o=>s(o)):i=="filterType"?(...s)=>G(e.filter(o=>!!o.is(...s))):i=="firstOfType"?(...s)=>e.find(o=>!!o.is(...s)):i=="first"?()=>e[0]:i=="as"?(...s)=>G(e.map(o=>{if(o.is(...s))return o;throw new Ze(`Expected node of any type ${s.map(c=>c.type).join(", ")}, got ${o.type}`)})):i=="remove"?s=>e.splice(s,1):Reflect.get(e,i)}})}r(G,"observe");var yi=class extends Map{getType(...e){return e=e.flat(),G(e.flatMap(i=>this.get(i.type)||[]))}};r(yi,"Memo");var fw={};Je(fw,{AccessibilityContext:()=>bi,AccessibilityData:()=>ae,Author:()=>P,ChildElement:()=>$x,CommandContext:()=>Si,EmojiRun:()=>vi,Format:()=>$b,RendererContext:()=>Ne,SubscriptionButton:()=>Bb,Text:()=>a,TextRun:()=>Ii,Thumbnail:()=>y,VideoDetails:()=>Vi});var bi=class{constructor(e){this.label=e.label}};r(bi,"AccessibilityContext");var ae=class{constructor(e){"accessibilityIdentifier"in e&&(this.accessibility_identifier=e.accessibilityIdentifier),"identifier"in e&&(this.identifier={accessibility_id_type:e.identifier.accessibilityIdType}),"label"in e&&(this.label=e.label)}};r(ae,"AccessibilityData");var ie={};Je(ie,{CLIENTS:()=>U,CLIENT_NAME_IDS:()=>Fd,INNERTUBE_HEADERS_BASE:()=>YE,OAUTH:()=>OE,STREAM_HEADERS:()=>Zt,SUPPORTED_CLIENTS:()=>Ud,URLS:()=>ge});var ge={YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries-clients6.youtube.com",YT_UPLOAD:"https://upload.youtube.com/",YT_IT_BASE:"https://jnn-pa.googleapis.com",YT_IT_GEN:"/$rpc/google.internal.waa.v1.Waa/GenerateIT",YT_IT_CREATE:"/$rpc/google.internal.waa.v1.Waa/Create",API:{KEY:"wnAoJLKFLDp7fdfytqqP03F94hJ0W5TyDySazIA".split("").reverse().join(""),KEY2:"oAK4xCS02Xghjpd0z34O".split("").reverse().join(""),BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"},GOOGLE_SEARCH_BASE:"https://www.google.com/"},OE={REGEX:{TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')}},U={IOS:{NAME:"iOS",VERSION:"20.11.6",USER_AGENT:"com.google.ios.youtube/20.11.6 (iPhone10,4; U; CPU iOS 16_7_7 like Mac OS X)",DEVICE_MODEL:"iPhone10,4",OS_NAME:"iOS",OS_VERSION:"16.7.7.20H330"},WEB:{NAME:"WEB",VERSION:"2.20250222.10.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco",SUGG_EXP_ID:"ytzpb5_e2,ytpo.bo.lqp.elu=1,ytpo.bo.lqp.ecsc=1,ytpo.bo.lqp.mcsc=3,ytpo.bo.lqp.mec=1,ytpo.bo.lqp.rw=0.8,ytpo.bo.lqp.fw=0.2,ytpo.bo.lqp.szp=1,ytpo.bo.lqp.mz=3,ytpo.bo.lqp.al=en_us,ytpo.bo.lqp.zrm=1,ytpo.bo.lqp.er=1,ytpo.bo.ro.erl=1,ytpo.bo.ro.mlus=3,ytpo.bo.ro.erls=3,ytpo.bo.qfo.mlus=3,ytzprp.ppp.e=1,ytzprp.ppp.st=772,ytzprp.ppp.p=5"},MWEB:{NAME:"MWEB",VERSION:"2.20250224.01.00",API_VERSION:"v1"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20250221.11.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20250219.01.00"},ANDROID:{NAME:"ANDROID",VERSION:"19.35.36",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/19.35.36(Linux; U; Android 13; en_US; SM-S908E Build/TP1A.220624.014) gzip"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV:{NAME:"TVHTML5",VERSION:"7.20250219.14.00",USER_AGENT:"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"},WEB_EMBEDDED:{NAME:"WEB_EMBEDDED_PLAYER",VERSION:"1.20250219.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_CREATOR:{NAME:"WEB_CREATOR",VERSION:"1.20241203.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"}},Fd={iOS:"5",WEB:"1",MWEB:"2",WEB_KIDS:"76",WEB_REMIX:"67",ANDROID:"3",ANDROID_CREATOR:"14",ANDROID_MUSIC:"21",TVHTML5:"7",TVHTML5_SIMPLY_EMBEDDED_PLAYER:"85",WEB_EMBEDDED_PLAYER:"56",WEB_CREATOR:"62"},Zt={accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"},YE={accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"},Ud=["IOS","WEB","MWEB","YTKIDS","YTMUSIC","ANDROID","YTSTUDIO_ANDROID","YTMUSIC_ANDROID","TV","TV_EMBEDDED","WEB_EMBEDDED","WEB_CREATOR"];var l={};Je(l,{addRuntimeParser:()=>ew,applyCommentsMutations:()=>gk,applyMutations:()=>bk,getDynamicParsers:()=>f1,getParserByName:()=>ks,hasParser:()=>hd,parse:()=>Ue,parseActions:()=>yk,parseArray:()=>Re,parseC:()=>xk,parseCommand:()=>_k,parseCommands:()=>_1,parseFormats:()=>rw,parseItem:()=>Q,parseLC:()=>iw,parseRR:()=>qb,parseResponse:()=>tw,sanitizeClassName:()=>Es,setParserErrorHandler:()=>p1,shouldIgnore:()=>ow});var dr={};Je(dr,{AboutChannel:()=>t_,AboutChannelView:()=>e_,AccountChannel:()=>i_,AccountItem:()=>r_,AccountItemSection:()=>o_,AccountItemSectionHeader:()=>s_,AccountSectionList:()=>n_,ActiveAccountHeader:()=>UT,AddBannerToLiveChatCommand:()=>gv,AddChatItemAction:()=>yy,AddLiveChatTickerItemAction:()=>wv,AddToPlaylist:()=>WT,AddToPlaylistCommand:()=>c0,AddToPlaylistEndpoint:()=>R0,AddToPlaylistServiceEndpoint:()=>Kx,Alert:()=>Fr,AlertWithButton:()=>x_,AnchoredSection:()=>Vb,AnimatedThumbnailOverlayView:()=>y_,AppendContinuationItemsAction:()=>Le,AttributionView:()=>b_,AudioOnlyPlayability:()=>g_,AuthorCommentBadge:()=>h0,AutomixPreviewVideo:()=>w_,AvatarStackView:()=>T_,AvatarView:()=>Ur,BackgroundPromo:()=>GT,BackstageImage:()=>v_,BackstagePost:()=>ki,BackstagePostThread:()=>HT,BadgeView:()=>Ei,BrowseEndpoint:()=>M0,BrowseFeedActions:()=>jr,BrowserMediaSession:()=>jT,BumperUserEduContentView:()=>by,Button:()=>T,ButtonCardView:()=>$T,ButtonView:()=>J,C4TabbedHeader:()=>Jr,CallToActionButton:()=>qT,Card:()=>KT,CardCollection:()=>cx,CarouselHeader:()=>lx,CarouselItem:()=>zT,CarouselItemView:()=>ux,CarouselLockup:()=>tx,CarouselTitleView:()=>fx,ChangeEngagementPanelVisibilityAction:()=>DT,Channel:()=>mx,ChannelAboutFullMetadata:()=>Aa,ChannelAgeGate:()=>XT,ChannelExternalLinkView:()=>Zd,ChannelFeaturedContent:()=>QT,ChannelHeaderLinks:()=>D_,ChannelHeaderLinksView:()=>B_,ChannelMetadata:()=>hx,ChannelMobileHeader:()=>JT,ChannelOptions:()=>dx,ChannelOwnerEmptyState:()=>ZT,ChannelSubMenu:()=>Va,ChannelSwitcherHeader:()=>e0,ChannelSwitcherPage:()=>c_,ChannelTagline:()=>nx,ChannelThumbnailWithLink:()=>t0,ChannelVideoPlayer:()=>i0,Chapter:()=>_x,ChildVideo:()=>r0,ChipBarView:()=>s0,ChipCloud:()=>Zr,ChipCloudChip:()=>$e,ChipView:()=>xx,ClientSideToggleMenuItem:()=>o0,ClipAdState:()=>Y_,ClipCreation:()=>V_,ClipCreationScrubber:()=>O_,ClipCreationTextInput:()=>L_,ClipSection:()=>F_,CollaboratorInfoCardContent:()=>n0,CollageHeroImage:()=>a0,CollectionThumbnailView:()=>vx,CommandExecutorCommand:()=>l0,CommentActionButtons:()=>S_,CommentDialog:()=>d0,CommentReplies:()=>Ex,CommentReplyDialog:()=>Cx,CommentSimplebox:()=>Rx,CommentThread:()=>Dx,CommentView:()=>nr,CommentsEntryPointHeader:()=>Ax,CommentsEntryPointTeaser:()=>Nx,CommentsHeader:()=>Mi,CommentsSimplebox:()=>Px,CompactChannel:()=>y0,CompactLink:()=>Rt,CompactMix:()=>b0,CompactMovie:()=>g0,CompactPlaylist:()=>w0,CompactStation:()=>T0,CompactVideo:()=>zr,ConfirmDialog:()=>v0,ContentMetadataView:()=>ss,ContentPreviewImageView:()=>Pi,ContinuationCommand:()=>p0,ContinuationItem:()=>z,ConversationBar:()=>I0,CopyLink:()=>os,CreateCommentEndpoint:()=>D0,CreatePlaylistDialog:()=>Xd,CreatePlaylistDialogFormView:()=>Ox,CreatePlaylistServiceEndpoint:()=>B0,CreatorHeart:()=>I_,CreatorHeartView:()=>gy,DecoratedAvatarView:()=>ns,DecoratedPlayerBar:()=>Ux,DefaultPromoPanel:()=>S0,DeletePlaylistEndpoint:()=>L0,DescriptionPreviewView:()=>Wx,DialogHeaderView:()=>Gx,DialogView:()=>k0,DidYouMean:()=>E0,DimChatItemAction:()=>Tv,DislikeButtonView:()=>E_,DownloadButton:()=>Wr,Dropdown:()=>wi,DropdownItem:()=>zd,DropdownView:()=>Bx,DynamicTextView:()=>jx,Element:()=>qx,EmergencyOnebox:()=>C0,EmojiPicker:()=>kx,EmojiPickerCategory:()=>P0,EmojiPickerCategoryButton:()=>N0,EmojiPickerUpsellCategory:()=>A0,EndScreenPlaylist:()=>Qx,EndScreenVideo:()=>Jx,Endscreen:()=>Xx,EndscreenElement:()=>tv,EngagementPanelSectionList:()=>Ri,EngagementPanelTitleHeader:()=>U_,EomSettingsDisclaimer:()=>R_,ExpandableMetadata:()=>K_,ExpandableTab:()=>mr,ExpandableVideoDescriptionBody:()=>j_,ExpandedShelfContents:()=>iv,Factoid:()=>Ai,FancyDismissibleDialog:()=>rv,FeedFilterChipBar:()=>Tt,FeedNudge:()=>sv,FeedTabbedHeader:()=>Zx,FeedbackEndpoint:()=>O0,FlexibleActionsView:()=>Hr,FormFooterView:()=>Hx,GameCard:()=>$_,GameDetails:()=>ov,GetAccountsListInnertubeEndpoint:()=>Y0,GetKidsBlocklistPickerCommand:()=>u0,GetMultiPageMenuAction:()=>BT,Grid:()=>nv,GridChannel:()=>ey,GridHeader:()=>av,GridMix:()=>cv,GridMovie:()=>lv,GridPlaylist:()=>ty,GridShow:()=>pv,GridVideo:()=>sy,GuideCollapsibleEntry:()=>uv,GuideCollapsibleSectionEntry:()=>fv,GuideDownloadsEntry:()=>mv,GuideEntry:()=>hr,GuideSection:()=>ls,GuideSubscriptionsSection:()=>oy,HashtagHeader:()=>ny,HashtagTile:()=>hv,HeatMarker:()=>Yx,Heatmap:()=>Vx,HeroPlaylistThumbnail:()=>dv,HideEngagementPanelEndpoint:()=>V0,HighlightsCarousel:()=>_v,HistorySuggestion:()=>xv,HorizontalCardList:()=>Ci,HorizontalList:()=>q_,HorizontalMovieList:()=>yv,HowThisWasMadeSectionView:()=>ox,IconLink:()=>cy,ImageBannerView:()=>ly,IncludingResultsFor:()=>bv,InfoPanelContainer:()=>uy,InfoPanelContent:()=>py,InfoRow:()=>ex,InteractiveTabbedHeader:()=>fy,ItemSection:()=>vt,ItemSectionHeader:()=>ps,ItemSectionTab:()=>my,ItemSectionTabbedHeader:()=>us,KidsBlocklistPicker:()=>ek,KidsBlocklistPickerItem:()=>Fb,KidsCategoriesHeader:()=>tk,KidsCategoryTab:()=>Ub,KidsHomeScreen:()=>ik,LikeButton:()=>Gr,LikeButtonView:()=>k_,LikeEndpoint:()=>F0,LiveChat:()=>dy,LiveChatActionPanel:()=>Sy,LiveChatAuthorBadge:()=>vy,LiveChatAutoModMessage:()=>vv,LiveChatBanner:()=>xy,LiveChatBannerChatSummary:()=>Iv,LiveChatBannerHeader:()=>_y,LiveChatBannerPoll:()=>Sv,LiveChatBannerRedirect:()=>kv,LiveChatDialog:()=>eI,LiveChatHeader:()=>Ay,LiveChatItemBumperView:()=>wy,LiveChatItemContextMenuEndpoint:()=>U0,LiveChatItemList:()=>Ry,LiveChatMembershipItem:()=>Ev,LiveChatMessageInput:()=>tI,LiveChatModeChangeMessage:()=>Cv,LiveChatPaidMessage:()=>Pv,LiveChatPaidSticker:()=>Nv,LiveChatParticipant:()=>My,LiveChatParticipantsList:()=>Dy,LiveChatPlaceholderItem:()=>Av,LiveChatProductItem:()=>Rv,LiveChatRestrictedParticipation:()=>Mv,LiveChatSponsorshipsGiftPurchaseAnnouncement:()=>Dv,LiveChatSponsorshipsGiftRedemptionAnnouncement:()=>Bv,LiveChatSponsorshipsHeader:()=>Iy,LiveChatTextMessage:()=>Lv,LiveChatTickerPaidMessageItem:()=>Ov,LiveChatTickerPaidStickerItem:()=>Yv,LiveChatTickerSponsorItem:()=>Vv,LiveChatViewerEngagementMessage:()=>Fv,LockupMetadataView:()=>By,LockupView:()=>Ly,MacroMarkersInfoItem:()=>W_,MacroMarkersList:()=>G_,MacroMarkersListItem:()=>qr,MarkChatItemAsDeletedAction:()=>Wv,MarkChatItemsByAuthorAsDeletedAction:()=>Gv,Menu:()=>R,MenuFlexibleItem:()=>P_,MenuNavigationItem:()=>Oy,MenuPopup:()=>iI,MenuServiceItem:()=>Mt,MenuServiceItemDownload:()=>C_,MenuTitle:()=>d_,MerchandiseItem:()=>sI,MerchandiseShelf:()=>Uy,Message:()=>Lt,MetadataBadge:()=>je,MetadataRow:()=>oI,MetadataRowContainer:()=>Wy,MetadataRowHeader:()=>nI,MetadataScreen:()=>aI,MicroformatData:()=>Bi,Mix:()=>cI,MobileTopbar:()=>YI,ModalWithTitleAndButton:()=>lI,ModifyChannelNotificationPreferenceEndpoint:()=>W0,Movie:()=>pI,MovingThumbnail:()=>uI,MultiMarkersPlayerBar:()=>Fx,MultiPageMenu:()=>a_,MultiPageMenuNotificationSection:()=>rI,MultiPageMenuSection:()=>VI,MusicCardShelf:()=>fI,MusicCardShelfHeaderBasic:()=>Gy,MusicCarouselShelf:()=>TI,MusicCarouselShelfBasicHeader:()=>Hy,MusicDescriptionShelf:()=>Xy,MusicDetailHeader:()=>vI,MusicDownloadStateBadge:()=>II,MusicEditablePlaylistDetailHeader:()=>SI,MusicElementHeader:()=>kI,MusicHeader:()=>EI,MusicImmersiveHeader:()=>CI,MusicInlineBadge:()=>hs,MusicItemThumbnailOverlay:()=>Ot,MusicLargeCardItemCarousel:()=>PI,MusicMenuItemDivider:()=>Yy,MusicMultiRowListItem:()=>jy,MusicMultiSelectMenu:()=>Vy,MusicMultiSelectMenuItem:()=>ms,MusicNavigationButton:()=>$y,MusicPlayButton:()=>ds,MusicPlaylistEditHeader:()=>NI,MusicPlaylistShelf:()=>AI,MusicQueue:()=>Zy,MusicResponsiveHeader:()=>RI,MusicResponsiveListItem:()=>Li,MusicResponsiveListItemFixedColumn:()=>qy,MusicResponsiveListItemFlexColumn:()=>Ky,MusicShelf:()=>MI,MusicSideAlignedItem:()=>DI,MusicSortFilterButton:()=>BI,MusicTastebuilderShelf:()=>LI,MusicTastebuilderShelfThumbnail:()=>eb,MusicThumbnail:()=>Ee,MusicTwoRowItem:()=>zy,MusicVisualHeader:()=>OI,NavigationEndpoint:()=>h,Notification:()=>fs,NotificationAction:()=>GI,OpenOnePickAddVideoModalCommand:()=>HI,OpenPopupAction:()=>Yr,PageHeader:()=>Yt,PageHeaderView:()=>tb,PageIntroduction:()=>ib,PanelFooterView:()=>as,PdgCommentChip:()=>_0,PdgReplyButtonView:()=>Ty,PerformCommentActionEndpoint:()=>G0,PivotBar:()=>FI,PivotBarItem:()=>UI,PivotButton:()=>rb,PlayerAnnotationsExpanded:()=>sb,PlayerCaptionsTracklist:()=>ob,PlayerControlsOverlay:()=>jI,PlayerErrorMessage:()=>$I,PlayerLegacyDesktopYpcOffer:()=>qI,PlayerLegacyDesktopYpcTrailer:()=>em,PlayerLiveStoryboardSpec:()=>ab,PlayerMicroformat:()=>rt,PlayerOverflow:()=>nb,PlayerOverlay:()=>ub,PlayerOverlayAutoplay:()=>cb,PlayerOverlayVideoDetails:()=>lb,PlayerStoryboardSpec:()=>ir,Playlist:()=>Bt,PlaylistAddToOption:()=>__,PlaylistCustomThumbnail:()=>is,PlaylistEditEndpoint:()=>H0,PlaylistHeader:()=>fb,PlaylistInfoCardContent:()=>KI,PlaylistMetadata:()=>mb,PlaylistPanel:()=>Jy,PlaylistPanelVideo:()=>ni,PlaylistPanelVideoWrapper:()=>Qy,PlaylistSidebar:()=>zI,PlaylistSidebarPrimaryInfo:()=>hb,PlaylistSidebarSecondaryInfo:()=>db,PlaylistThumbnailOverlay:()=>XI,PlaylistVideo:()=>_s,PlaylistVideoList:()=>_b,PlaylistVideoThumbnail:()=>rs,Poll:()=>QI,PollHeader:()=>Uv,Post:()=>xs,PostMultiImage:()=>JI,PrefetchWatchCommand:()=>j0,PremiereTrailerBadge:()=>ZI,ProductList:()=>H_,ProductListHeader:()=>eS,ProductListItem:()=>tS,ProfileColumn:()=>xb,ProfileColumnStats:()=>iS,ProfileColumnStatsEntry:()=>rS,ProfileColumnUserInfo:()=>sS,Quiz:()=>oS,RecognitionShelf:()=>nS,ReelItem:()=>ys,ReelPlayerHeader:()=>yb,ReelPlayerOverlay:()=>aS,ReelShelf:()=>Qr,ReelWatchEndpoint:()=>$0,RelatedChipCloud:()=>bb,RemoveBannerForLiveChatCommand:()=>Hv,RemoveChatItemAction:()=>jv,RemoveChatItemByAuthorAction:()=>$v,ReplaceChatItemAction:()=>qv,ReplaceLiveChatAction:()=>Kv,ReplayChatItemAction:()=>zv,RichGrid:()=>Vt,RichItem:()=>cS,RichListHeader:()=>lS,RichMetadata:()=>Lm,RichMetadataRow:()=>Ym,RichSection:()=>pS,RichShelf:()=>gb,RunAttestationCommand:()=>Ix,SearchBox:()=>M_,SearchEndpoint:()=>q0,SearchFilter:()=>wb,SearchFilterGroup:()=>bs,SearchFilterOptionsDialog:()=>uS,SearchHeader:()=>Tb,SearchRefinementCard:()=>sr,SearchSubMenu:()=>vb,SearchSuggestion:()=>ay,SearchSuggestionsSection:()=>fS,SecondarySearchContainer:()=>Ib,SectionList:()=>ue,SegmentedLikeDislikeButton:()=>xr,SegmentedLikeDislikeButtonView:()=>ii,SendFeedbackAction:()=>LT,SettingBoolean:()=>mS,SettingsCheckbox:()=>Sb,SettingsOptions:()=>Ts,SettingsSidebar:()=>kb,SettingsSwitch:()=>ws,ShareEndpoint:()=>K0,ShareEntityEndpoint:()=>z0,ShareEntityServiceEndpoint:()=>cs,SharePanelHeader:()=>Cb,SharePanelTitleV15:()=>hS,ShareTarget:()=>Pb,SharedPost:()=>Eb,Shelf:()=>vs,ShortsLockupView:()=>Is,ShowCustomThumbnail:()=>iy,ShowDialogCommand:()=>f0,ShowEngagementPanelEndpoint:()=>X0,ShowLiveChatActionPanelAction:()=>Xv,ShowLiveChatDialogAction:()=>Qv,ShowLiveChatTooltipCommand:()=>Jv,ShowingResultsFor:()=>dS,SignalAction:()=>OT,SignalServiceEndpoint:()=>Q0,SimpleCardContent:()=>_S,SimpleCardTeaser:()=>xS,SimpleMenuHeader:()=>Fy,SimpleTextSection:()=>yS,SingleActionEmergencySupport:()=>bS,SingleColumnBrowseResults:()=>gS,SingleColumnMusicWatchNextResults:()=>wS,SingleHeroImage:()=>TS,SlimOwner:()=>vS,SlimVideoMetadata:()=>IS,SortFilterHeader:()=>hy,SortFilterSubMenu:()=>xt,SponsorCommentBadge:()=>x0,StartAt:()=>Nb,StructuredDescriptionContent:()=>or,StructuredDescriptionPlaylistLockup:()=>ix,SubFeedOption:()=>N_,SubFeedSelector:()=>A_,SubscribeButton:()=>de,SubscribeEndpoint:()=>J0,SubscriptionNotificationToggleButton:()=>ax,Tab:()=>Fe,Tabbed:()=>SS,TabbedSearchResults:()=>kS,TextCarouselItemView:()=>px,TextFieldView:()=>Lx,TextHeader:()=>ES,ThirdPartyShareTargetSection:()=>Ab,ThumbnailBadgeView:()=>es,ThumbnailBottomOverlayView:()=>Tx,ThumbnailHoverOverlayToggleActionsView:()=>gx,ThumbnailHoverOverlayView:()=>yx,ThumbnailLandscapePortrait:()=>CS,ThumbnailOverlayBadgeView:()=>bx,ThumbnailOverlayBottomPanel:()=>ry,ThumbnailOverlayEndorsement:()=>PS,ThumbnailOverlayHoverText:()=>NS,ThumbnailOverlayInlineUnplayable:()=>AS,ThumbnailOverlayLoadingPreview:()=>RS,ThumbnailOverlayNowPlaying:()=>MS,ThumbnailOverlayPinking:()=>DS,ThumbnailOverlayPlaybackStatus:()=>BS,ThumbnailOverlayProgressBarView:()=>wx,ThumbnailOverlayResumePlayback:()=>LS,ThumbnailOverlaySidePanel:()=>OS,ThumbnailOverlayTimeStatus:()=>Dt,ThumbnailOverlayToggleButton:()=>YS,ThumbnailView:()=>ts,TimedMarkerDecoration:()=>VS,TitleAndButtonListHeader:()=>FS,ToggleButton:()=>se,ToggleButtonView:()=>et,ToggleMenuServiceItem:()=>US,Tooltip:()=>WS,TopbarMenuButton:()=>WI,TopicChannelDetails:()=>GS,Transcript:()=>Vr,TranscriptFooter:()=>l_,TranscriptSearchBox:()=>p_,TranscriptSearchPanel:()=>h_,TranscriptSectionHeader:()=>u_,TranscriptSegment:()=>f_,TranscriptSegmentList:()=>m_,TwoColumnBrowseResults:()=>Ft,TwoColumnSearchResults:()=>Rb,TwoColumnWatchNextResults:()=>Db,UnifiedSharePanel:()=>HS,UniversalWatchCard:()=>gs,UnsubscribeEndpoint:()=>Z0,UpdateChannelSwitcherPageAction:()=>YT,UpdateDateTextAction:()=>ky,UpdateDescriptionAction:()=>Ey,UpdateEngagementPanelAction:()=>VT,UpdateEngagementPanelContentCommand:()=>m0,UpdateLiveChatPollAction:()=>Zv,UpdateSubscribeButtonAction:()=>FT,UpdateTitleAction:()=>Cy,UpdateToggleButtonTextAction:()=>Py,UpdateViewershipAction:()=>Ny,UploadTimeFactoid:()=>X_,UpsellDialog:()=>jS,VerticalList:()=>$S,VerticalWatchCardList:()=>qS,Video:()=>Kr,VideoAttributeView:()=>Ni,VideoAttributesSectionView:()=>sx,VideoCard:()=>z_,VideoDescriptionCourseSection:()=>rx,VideoDescriptionHeader:()=>J_,VideoDescriptionInfocardsSection:()=>Z_,VideoDescriptionMusicSection:()=>Xr,VideoDescriptionTranscriptSection:()=>la,VideoInfoCardContent:()=>KS,VideoMetadataCarouselView:()=>zS,VideoOwner:()=>Ss,VideoPrimaryInfo:()=>Ob,VideoSecondaryInfo:()=>Zh,VideoViewCount:()=>Lb,ViewCountFactoid:()=>Q_,WatchCardCompactVideo:()=>Yb,WatchCardHeroVideo:()=>XS,WatchCardRichHeader:()=>QS,WatchCardSectionSequence:()=>JS,WatchEndpoint:()=>zx,WatchNextEndScreen:()=>pb,WatchNextEndpoint:()=>ev,WatchNextTabbedResults:()=>ZS,YpcTrailer:()=>_r});var tr,Wd=class{constructor(e,i){tr.set(this,void 0),S(this,tr,new M.shim.Cache(e,i),"f")}get cache_dir(){return u(this,tr,"f").cache_dir}get(e){return u(this,tr,"f").get(e)}set(e,i){return u(this,tr,"f").set(e,i)}remove(e){return u(this,tr,"f").remove(e)}};r(Wd,"UniversalCache");tr=new WeakMap;var VE=Wd;var Or,Gd=class extends EventTarget{constructor(){super(),Or.set(this,new Map)}emit(e,...i){let s=new M.shim.CustomEvent(e,{detail:i});this.dispatchEvent(s)}on(e,i){let s=r(o=>{o instanceof M.shim.CustomEvent?i(...o.detail):i(o)},"wrapper");u(this,Or,"f").set(i,s),this.addEventListener(e,s)}once(e,i){let s=r(o=>{o instanceof M.shim.CustomEvent?i(...o.detail):i(o),this.off(e,i)},"wrapper");u(this,Or,"f").set(i,s),this.addEventListener(e,s)}off(e,i){let s=u(this,Or,"f").get(i);s&&(this.removeEventListener(e,s),u(this,Or,"f").delete(i))}};r(Gd,"EventEmitterLike");Or=new WeakMap;var ro=Gd;var rr={};Je(rr,{chooseFormat:()=>hT,download:()=>pC,toDash:()=>mT});var FE={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function rT(t){return t.replace(/([&"<>'])/g,(e,i)=>FE[i])}r(rT,"escapeXMLString");function UE(t){return t.charAt(0).toUpperCase()+t.slice(1)}r(UE,"normalizeTag");function j(t,e,...i){let s=i.flat();return typeof t=="function"?t({...e,children:s}):{type:UE(t),props:{...e,children:s}}}r(j,"createElement");async function sT(t){if(typeof t=="string")return rT(t);let e=`<${t.type}`;if(t.props)for(let i of Object.keys(t.props))i!=="children"&&t.props[i]!==void 0&&(e+=` ${i}="${rT(`${t.props[i]}`)}"`);if(t.props.children){let i=await Promise.all((await Promise.all(t.props.children.flat())).flat().filter(s=>!!s).map(s=>sT(s)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`}r(sT,"renderElementToString");async function oT(t){return`<?xml version="1.0" encoding="utf-8"?>${await sT(await t)}`}r(oT,"renderToString");function nT(t){return t.children}r(nT,"Fragment");var so=class extends n{constructor(e){super();let i=e.spec.split("|"),s=new URL(i.shift());this.boards=i.map((o,c)=>{let[p,f,m,_,x,b,w,v]=o.split("#");s.searchParams.set("sigh",v);let I=Math.ceil(parseInt(m,10)/(parseInt(_,10)*parseInt(x,10)));return{type:"vod",template_url:s.toString().replace("$L",c).replace("$N",w),thumbnail_width:parseInt(p,10),thumbnail_height:parseInt(f,10),thumbnail_count:parseInt(m,10),interval:parseInt(b,10),columns:parseInt(_,10),rows:parseInt(x,10),storyboard_count:I}})}};r(so,"PlayerStoryboardSpec");so.type="PlayerStoryboardSpec";var ir=so;var GE="StreamingInfo";function HE(t,e){var o,c,p;let i=new Map,s=t.some(f=>!!f.audio_track);for(let f of t){if((!f.index_range||!f.init_range)&&!f.is_type_otf&&!e)continue;let m=f.mime_type.split(";")[0],_=(o=He(f.mime_type,'codecs="','"'))==null?void 0:o.split(".")[0],x=f.color_info?Object.values(f.color_info).join("-"):"",b=((c=f.audio_track)==null?void 0:c.id)||"",w=f.is_drc?"drc":"",v=`${m}-${_}-${x}-${b}-${w}`;i.has(v)||i.set(v,[]),(p=i.get(v))==null||p.push(f)}return{groups:Array.from(i.values()),has_multiple_audio_tracks:s}}r(HE,"getFormatGroupings");function cT(t,e){if(t.length>1&&new Set(t.map(i=>He(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),He(t[0].mime_type,'codecs="','"')}r(cT,"hoistCodecsIfPossible");function lT(t,e,i){if(t.length>1&&new Set(t.map(s=>s.fps)).size===1)return i.push(e),Number(t[0][e])}r(lT,"hoistNumberAttributeIfPossible");function jE(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}r(jE,"hoistAudioChannelsIfPossible");async function $E(t,e){var f;let i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Zt,redirect:"follow"}),s=i.url.replace("&rn=0","").replace("&sq=0",""),o=await i.text(),c=(f=He(o,"Segment-Durations-Ms:",`\r
`))==null?void 0:f.split(",");if(!c)throw new g("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let m of c){let _=m.trim();if(_.length===0)continue;let x,b=He(_,"(r=",")");b&&(x=parseInt(b)),p.push({duration:parseInt(_),repeat_count:x})}return{init_url:`${s}&sq=0`,media_url:`${s}&sq=$Number$`,timeline:p}}r($E,"getOTFSegmentTemplate");async function pT(t,e){let i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:Zt,redirect:"follow"}),s=parseInt(i.headers.get("X-Head-Time-Millis")||""),o=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(s)||isNaN(o))throw new g("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:s/1e3,segment_count:o}}r(pT,"getPostLiveDvrInfo");async function qE(t,e,i,s,o,c){if(!t.item){let p=new URL(await e.decipher(o));p.searchParams.set("cpn",c||"");let f=i(p).toString();t.item=await pT(f,s)}return t.item.duration}r(qE,"getPostLiveDvrDuration");async function uT(t,e,i,s,o,c){let p=new URL(await t.decipher(s));p.searchParams.set("cpn",o||"");let f=e(p).toString();if(t.is_type_otf){if(!i)throw new g("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return $E(f,i)}}}if(c){if(!i)throw new g("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let _=t.target_duration_dec;if(typeof _!="number")throw new g("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,async getSegmentTemplate(){return c.item||(c.item=await pT(f,i)),{media_url:`${f}&sq=$Number$`,timeline:[{duration:_*1e3,repeat_count:c.item.segment_count}]}}}}if(!t.index_range||!t.init_range)throw new g("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:f,index_range:t.index_range,init_range:t.init_range}}r(uT,"getSegmentInfo");async function KE(t,e,i,s,o,c,p){new URL(await t.decipher(o)).searchParams.set("cpn",c||"");let m=[t.itag.toString()];return t.audio_track&&m.push(t.audio_track.id),t.is_drc&&m.push("drc"),{uid:m.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:He(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:await uT(t,i,s,o,c,p)}}r(KE,"getAudioRepresentation");function zE(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return(t.is_dubbed||t.is_auto_dubbed)&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}r(zE,"getTrackRoles");async function XE(t,e,i,s,o,c,p){var v;let f=t[0],{audio_track:m}=f,_=[],x=!!p,b;return m?x&&f.is_drc?b=p.label_drc_multiple(m.display_name):b=m.display_name:x&&(b=f.is_drc?p.label_drc:p.label_original),{mime_type:f.mime_type.split(";")[0],language:(v=f.language)!=null?v:void 0,codecs:cT(t,_),audio_sample_rate:lT(t,"audio_sample_rate",_),track_name:b,track_roles:zE(f,x),channels:jE(t,_),representations:await Promise.all(t.map(I=>KE(I,_,e,i,s,o,c)))}}r(XE,"getAudioSet");var QE={BT709:"1",BT2020:"9"},aT={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},JE={BT709:"1",BT2020_NCL:"14"};function ZE(t){var p;let e=t.color_info,i,s,o;if(e){if(e.primaries&&(i=QE[e.primaries]),e.transfer_characteristics&&(s=aT[e.transfer_characteristics]),e.matrix_coefficients&&(o=JE[e.matrix_coefficients],!o)){let f=new URL(t.url),m=JSON.parse(JSON.stringify(t));m.url="REDACTED",m.signature_cipher="REDACTED",m.cipher="REDACTED",Qt(GE,`Unknown matrix coefficients "${e.matrix_coefficients}". The DASH manifest is still usable without this.
Please report it at ${M.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${f.searchParams.get("c")}
format:`,m)}}else(p=He(t.mime_type,'codecs="','"'))!=null&&p.startsWith("avc1")&&(s=aT.BT709);return{primaries:i,transfer_characteristics:s,matrix_coefficients:o}}r(ZE,"getColorInfo");async function eC(t,e,i,s,o,c,p){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:He(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:await uT(t,e,o,s,c,p)}}r(eC,"getVideoRepresentation");async function tC(t,e,i,s,o,c){let p=t[0],f=ZE(p),m=[];return{mime_type:p.mime_type.split(";")[0],color_info:f,codecs:cT(t,m),fps:lT(t,"fps",m),representations:await Promise.all(t.map(x=>eC(x,e,m,i,s,o,c)))}}r(tC,"getVideoSet");function iC(t){var s;let e=new Map,i=t.is(ir)?t.boards:[t.board];for(let o of i){let c=new URL(o.template_url).pathname.split(".").pop(),p=`image/${c==="jpg"?"jpeg":c}`;e.has(p)||e.set(p,[]),(s=e.get(p))==null||s.push(o)}return e}r(iC,"getStoryboardInfo");async function rC(t,e,i,s,o){let c=e.template_url,p=i(new URL(c.replace("$M","0"))),f=o.response?o.response:t.session.http.fetch_function(p,{method:"HEAD",headers:Zt});return o.response=f,(await f).headers.get("Content-Type")||s}r(rC,"getStoryboardMimeType");async function sC(t,e,i){let s=e.template_url,o=[],c=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let m=0;m<c;m++){let _=new URL(s.replace("$M",m.toString())),x=m===0&&i.response?i.response:t.session.http.fetch_function(_,{method:"HEAD",headers:Zt});m===0&&(i.response=x),o.push(x)}let p=await Promise.all(o),f=[];for(let m of p)f.push(parseInt(m.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...f)/(e.rows*e.columns)*8)}r(sC,"getStoryboardBitrate");function oC(t,e,i,s,o){let c=i.template_url,p=new URL(c.replace("$M","$Number$")),f;return i.type==="vod"?f=t/i.storyboard_count:f=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return sC(e,i,o)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(f),template_url:s(p).toString(),getURL(_){return p.toString().replace("$Number$",_.toString())}}}r(oC,"getImageRepresentation");function nC(t,e,i,s){let o=iC(i),c={};return Array.from(o.entries()).map(([p,f])=>({probable_mime_type:p,getMimeType(){return rC(e,f[0],s,p,c)},representations:f.map(m=>oC(t,e,m,s,c))}))}r(nC,"getImageSets");function aC(t,e,i){let s=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(o=>{let c=new URL(o.base_url);c.searchParams.set("fmt",e);let p=["caption"];return c.searchParams.has("tlang")&&p.push("dub"),{mime_type:s,language:o.language_code,track_name:o.name.toString(),track_roles:p,representation:{uid:`text-${o.vss_id}`,base_url:i(c).toString()}}})}r(aC,"getTextSets");async function Hd(t,e=!1,i=x=>x,s,o,c,p,f,m,_){if(!t)throw new g("Streaming data not available");let x=s?t.adaptive_formats.filter(V=>!s(V)):t.adaptive_formats,b,w;if(e){if(w={},!p)throw new g("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");b=r(()=>w?qE(w,x[0],i,p,c,o):Promise.resolve(0),"getDuration")}else{let V=x[0].approx_duration_ms/1e3;b=r(()=>Promise.resolve(V),"getDuration")}let{groups:v,has_multiple_audio_tracks:I}=HE(x,e),{video_groups:k,audio_groups:C}=v.reduce((V,re)=>re[0].has_audio?(I&&!re[0].audio_track||V.audio_groups.push(re),V):(V.video_groups.push(re),V),{video_groups:[],audio_groups:[]}),E;C.flat().some(V=>V.is_drc)&&(E={label_original:(_==null?void 0:_.label_original)||"Original",label_drc:(_==null?void 0:_.label_drc)||"Stable Volume",label_drc_multiple:(_==null?void 0:_.label_drc_multiple)||(V=>`${V} (Stable Volume)`)});let Y=await Promise.all(C.map(V=>XE(V,i,p,c,o,w,E))),Z=await Promise.all(k.map(V=>tC(V,i,c,p,o,w))),O=[];if(f&&p){let V;if(f.is(ir))V=x[0].approx_duration_ms/1e3;else{let re=x[0].target_duration_dec;if(re===void 0)throw new g("Format is missing target_duration_dec",{format:x[0]});V=re}O=nC(V,p,f,i)}let oe=[];if(m&&(_==null?void 0:_.captions_format)){if(_.captions_format!=="vtt"&&_.captions_format!=="ttml")throw new g("Invalid captions format",_.captions_format);oe=aC(m,_.captions_format,i)}return{getDuration:b,audio_sets:Y,video_sets:Z,image_sets:O,text_sets:oe}}r(Hd,"getStreamingInfo");async function cC({info:t}){if(!t.is_oft&&!t.is_post_live_dvr)return null;let e=await t.getSegmentTemplate();return j("segmentTemplate",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},j("segmentTimeline",null,e.timeline.map(i=>j("s",{d:i.duration,r:i.repeat_count}))))}r(cC,"OTFPostLiveDvrSegmentInfo");function fT({info:t}){return t.is_oft||t.is_post_live_dvr?j(cC,{info:t}):j(nT,null,j("baseURL",null,t.base_url),j("segmentBase",{indexRange:`${t.index_range.start}-${t.index_range.end}`},j("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}r(fT,"SegmentInfo");async function lC({streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:s,cpn:o,player:c,actions:p,storyboards:f,captionTracks:m,options:_}){let{getDuration:x,audio_sets:b,video_sets:w,image_sets:v,text_sets:I}=await Hd(t,e,i,s,o,c,p,f,m,_);return j("mPD",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${await x()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},j("period",null,b.map((k,C)=>j("adaptationSet",{id:C,mimeType:k.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:k.language,codecs:k.codecs,audioSamplingRate:k.audio_sample_rate,contentType:"audio"},k.track_roles&&k.track_roles.map(E=>j("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:E})),k.track_name&&j("label",{id:C},k.track_name),k.channels&&j("audioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:k.channels}),k.representations.map(E=>j("representation",{id:E.uid,bandwidth:E.bitrate,codecs:E.codecs,audioSamplingRate:E.audio_sample_rate},E.channels&&j("audioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:E.channels}),j(fT,{info:E.segment_info}))))),w.map((k,C)=>j("adaptationSet",{id:C+b.length,mimeType:k.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:k.codecs,maxPlayoutRate:"1",frameRate:k.fps,contentType:"video"},k.color_info.primaries&&j("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:k.color_info.primaries}),k.color_info.transfer_characteristics&&j("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:k.color_info.transfer_characteristics}),k.color_info.matrix_coefficients&&j("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:k.color_info.matrix_coefficients}),k.representations.map(E=>j("representation",{id:E.uid,bandwidth:E.bitrate,width:E.width,height:E.height,codecs:E.codecs,frameRate:E.fps},j(fT,{info:E.segment_info}))))),v.map(async(k,C)=>j("adaptationSet",{id:C+b.length+w.length,mimeType:await k.getMimeType(),contentType:"image"},k.representations.map(async E=>j("representation",{id:`thumbnails_${E.thumbnail_width}x${E.thumbnail_height}`,bandwidth:await E.getBitrate(),width:E.sheet_width,height:E.sheet_height},j("essentialProperty",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${E.columns}x${E.rows}`}),j("segmentTemplate",{media:E.template_url,duration:E.template_duration,startNumber:"0"}))))),I.map((k,C)=>j("adaptationSet",{id:C+b.length+w.length+v.length,mimeType:k.mime_type,lang:k.language,contentType:"text"},k.track_roles.map(E=>j("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:E})),j("label",{id:C+b.length},k.track_name),j("representation",{id:k.representation.uid,bandwidth:"0"},j("baseURL",null,k.representation.base_url))))))}r(lC,"DashManifest");function mT(t,e=!1,i=x=>x,s,o,c,p,f,m,_){if(!t)throw new g("Streaming data not available");return oT(j(lC,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:_,rejectFormat:s,cpn:o,player:c,actions:p,storyboards:f,captionTracks:m}))}r(mT,"toDash");async function pC(t,e,i,s,o,c){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new g("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new g("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!s)throw new g("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let p={quality:"360p",type:"video+audio",format:"mp4",range:void 0,...t},f=hT(p,s),m=await f.decipher(o);if(p.type==="video+audio"&&!t.range){let I=await e.session.http.fetch_function(`${m}&cpn=${c}`,{method:"GET",headers:Zt,redirect:"follow"});if(!I.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:I});let k=I.body;if(!k)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:I});return k}let _=1048576*10,x=t.range?t.range.start:0,b=t.range?t.range.end:_,w=!1,v;return new M.shim.ReadableStream({start(){},pull:async I=>{if(w){I.close();return}return(b>=(f.content_length?f.content_length:0)||t.range)&&(w=!0),new Promise(async(k,C)=>{try{v=new AbortController;let E=await e.session.http.fetch_function(`${m}&cpn=${c}&range=${x}-${b||""}`,{method:"GET",headers:{...Zt},signal:v.signal});if(!E.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:E});let Y=E.body;if(!Y)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:E});for await(let Z of Ng(Y))I.enqueue(Z);x=b+1,b+=_,k()}catch(E){C(E)}})},async cancel(I){v.abort(I)}},{highWaterMark:1,size(I){return I.byteLength}})}r(pC,"download");function hT(t,e){if(!e)throw new g("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]];if(t.itag){let b=i.filter(w=>w.itag===t.itag);if(!b.length)throw new g("No matching formats found",{options:t});return b[0]}let s=t.type?t.type.includes("audio"):!0,o=t.type?t.type.includes("video"):!0,c=t.language||"original",p=t.quality||"best",f=-1,m=["best","bestefficiency"].includes(p),_=p!=="best",x=i.filter(b=>s&&!b.has_audio||o&&!b.has_video||t.codec&&!b.mime_type.includes(t.codec)||t.format!=="any"&&!b.mime_type.includes(t.format||"mp4")||!m&&b.quality_label!==p?!1:(b.width&&f<b.width&&(f=b.width),!0));if(!x.length)throw new g("No matching formats found",{options:t});if(m&&o&&(x=x.filter(b=>b.width===f)),s&&!o){let b=x.filter(w=>c!=="original"?!w.has_video&&!w.has_text&&w.language===c:!w.has_video&&!w.has_text&&w.is_original);b.length>0&&(x=b)}return _?x.sort((b,w)=>b.bitrate-w.bitrate):x.sort((b,w)=>w.bitrate-b.bitrate),x[0]}r(hT,"chooseFormat");var Ag,jd,Rg,oo,dT,$d=class{constructor(e,i,s){Ag.add(this),jd.set(this,void 0),Rg.set(this,void 0),oo.set(this,void 0),S(this,jd,e,"f"),S(this,Rg,i,"f"),S(this,oo,s||M.shim.fetch,"f")}get fetch_function(){return u(this,oo,"f")}async fetch(e,i){let s=u(this,jd,"f"),o=ge.API.PRODUCTION_1+s.api_version,c=(i==null?void 0:i.baseURL)||o,p=typeof e=="string"?!c.endsWith("/")&&!e.startsWith("/")?new URL(`${c}/${e}`):new URL(c+e):e instanceof URL?e:new URL(e.url,c),f=(i==null?void 0:i.headers)||(e instanceof M.shim.Request?e.headers:new M.shim.Headers)||new M.shim.Headers,m=(i==null?void 0:i.body)||(e instanceof M.shim.Request?e.body:void 0),_=new M.shim.Headers(f);_.set("Accept","*/*"),_.set("Accept-Language","*"),_.set("X-Goog-Visitor-Id",s.context.client.visitorData||""),_.set("X-Youtube-Client-Version",s.context.client.clientVersion||"");let x=Fd[s.context.client.clientName];x&&_.set("X-Youtube-Client-Name",x),M.shim.server&&(_.set("User-Agent",s.user_agent||""),_.set("Origin",p.origin)),p.searchParams.set("prettyPrint","false"),p.searchParams.set("alt","json");let b=_.get("Content-Type"),w=m,v=c===o||c===ge.YT_UPLOAD;if(b==="application/json"&&v&&typeof m=="string"){let E={...JSON.parse(m),context:JSON.parse(JSON.stringify(s.context))};u(this,Ag,"m",dT).call(this,E.context,E.client),_.set("X-Youtube-Client-Version",E.context.client.clientVersion);let Y=Fd[E.context.client.clientName];Y&&_.set("X-Youtube-Client-Name",Y),delete E.client,E.context.client.clientName==="ANDROID"||E.context.client.clientName==="ANDROID_MUSIC"?(_.set("User-Agent",U.ANDROID.USER_AGENT),_.set("X-GOOG-API-FORMAT-VERSION","2")):E.context.client.clientName==="iOS"&&_.set("User-Agent",U.IOS.USER_AGENT),w=JSON.stringify(E)}else b==="application/x-protobuf"&&M.shim.server&&(_.set("User-Agent",U.ANDROID.USER_AGENT),_.set("X-GOOG-API-FORMAT-VERSION","2"),_.delete("X-Youtube-Client-Version"));let I=new M.shim.Request(p,e instanceof M.shim.Request?e:i),k=await u(this,oo,"f").call(this,I,{body:w,headers:_,redirect:e instanceof M.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow",...M.shim.runtime!=="cf-worker"?{credentials:"include"}:{}});if(k.ok)return k;throw new g(`Request to ${k.url} failed with status ${k.status}`,await k.text())}};r($d,"HTTPClient");jd=new WeakMap,Rg=new WeakMap,oo=new WeakMap,Ag=new WeakSet,dT=r(function(e,i){if(!!i){if(!Ud.includes(i.toUpperCase()))throw new g(`Invalid client: ${i}`,{available_innertube_clients:Ud});switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=U.ANDROID.SDK_VERSION,e.client.userAgent=U.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i.toUpperCase()){case"MWEB":e.client.clientVersion=U.MWEB.VERSION,e.client.clientName=U.MWEB.NAME,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.platform="MOBILE";break;case"IOS":e.client.deviceMake="Apple",e.client.deviceModel=U.IOS.DEVICE_MODEL,e.client.clientVersion=U.IOS.VERSION,e.client.clientName=U.IOS.NAME,e.client.platform="MOBILE",e.client.osName=U.IOS.OS_NAME,e.client.osVersion=U.IOS.OS_VERSION,delete e.client.browserName,delete e.client.browserVersion;break;case"YTMUSIC":e.client.clientVersion=U.YTMUSIC.VERSION,e.client.clientName=U.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=U.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=U.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=U.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=U.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=U.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=U.YTSTUDIO_ANDROID.NAME;break;case"TV":{e.client.clientVersion=U.TV.VERSION,e.client.clientName=U.TV.NAME,e.client.userAgent=U.TV.USER_AGENT;break}case"TV_EMBEDDED":e.client.clientName=U.TV_EMBEDDED.NAME,e.client.clientVersion=U.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:ge.YT_BASE};break;case"YTKIDS":e.client.clientVersion=U.WEB_KIDS.VERSION,e.client.clientName=U.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;case"WEB_EMBEDDED":e.client.clientName=U.WEB_EMBEDDED.NAME,e.client.clientVersion=U.WEB_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:ge.GOOGLE_SEARCH_BASE};break;case"WEB_CREATOR":e.client.clientName=U.WEB_CREATOR.NAME,e.client.clientVersion=U.WEB_CREATOR.VERSION;break;default:break}}},"_HTTPClient_adjustContext");var Mg=$d;var dt={};Je(dt,{compress:()=>uC,decompress:()=>fC});function uC(t){let e=[],i={};for(let c=0;c<256;c++)i[String.fromCharCode(c)]=c;let s="",o=256;for(let c=0;c<t.length;c++){let p=t[c],f=s+p;i.hasOwnProperty(f)?s=f:(e.push(i[s]),i[f]=o++,s=p)}return s!==""&&e.push(i[s]),e.map(c=>String.fromCharCode(c)).join("")}r(uC,"compress");function fC(t){let e={},i=t.split(""),s=[i.shift()],o=i.length>>>0,c=256,p=s[0],f=p;for(let m=0;m<o;++m){let _=i[m].charCodeAt(0),x=_<256?i[m]:e[_]?e[_]:f+p;s.push(x),p=x.charAt(0),e[c++]=f+p,f=x}return s.join("")}r(fC,"decompress");var ei={};Je(ei,{decodeVisitorData:()=>MC,encodeCommentActionParams:()=>Wg,encodeNextParams:()=>DC,encodeVisitorData:()=>RC});function xT(){let t=0,e=0;for(let s=0;s<28;s+=7){let o=this.buf[this.pos++];if(t|=(o&127)<<s,(o&128)==0)return this.assertBounds(),[t,e]}let i=this.buf[this.pos++];if(t|=(i&15)<<28,e=(i&112)>>4,(i&128)==0)return this.assertBounds(),[t,e];for(let s=3;s<=31;s+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<s,(o&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}r(xT,"varint64read");function Kd(t,e,i){for(let c=0;c<28;c=c+7){let p=t>>>c,f=!(p>>>7==0&&e==0),m=(f?p|128:p)&255;if(i.push(m),!f)return}let s=t>>>28&15|(e&7)<<4,o=e>>3!=0;if(i.push((o?s|128:s)&255),!!o){for(let c=3;c<31;c=c+7){let p=e>>>c,f=p>>>7!=0,m=(f?p|128:p)&255;if(i.push(m),!f)return}i.push(e>>>31&1)}}r(Kd,"varint64write");var qd=4294967296;function Dg(t){let e=t[0]==="-";e&&(t=t.slice(1));let i=1e6,s=0,o=0;function c(p,f){let m=Number(t.slice(p,f));o*=i,s=s*i+m,s>=qd&&(o=o+(s/qd|0),s=s%qd)}return r(c,"add1e6digit"),c(-24,-18),c(-18,-12),c(-12,-6),c(-6),e?bT(s,o):Lg(s,o)}r(Dg,"int64FromString");function yT(t,e){let i=Lg(t,e),s=i.hi&2147483648;s&&(i=bT(i.lo,i.hi));let o=Bg(i.lo,i.hi);return s?"-"+o:o}r(yT,"int64ToString");function Bg(t,e){if({lo:t,hi:e}=mC(t,e),e<=2097151)return String(qd*e+t);let i=t&16777215,s=(t>>>24|e<<8)&16777215,o=e>>16&65535,c=i+s*6777216+o*6710656,p=s+o*8147497,f=o*2,m=1e7;return c>=m&&(p+=Math.floor(c/m),c%=m),p>=m&&(f+=Math.floor(p/m),p%=m),f.toString()+_T(p)+_T(c)}r(Bg,"uInt64ToString");function mC(t,e){return{lo:t>>>0,hi:e>>>0}}r(mC,"toUnsigned");function Lg(t,e){return{lo:t|0,hi:e|0}}r(Lg,"newBits");function bT(t,e){return e=~e,t?t=~t+1:e+=1,Lg(t,e)}r(bT,"negate");var _T=r(t=>{let e=String(t);return"0000000".slice(e.length)+e},"decimalFrom1e7WithLeadingZeros");function Og(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let i=0;i<9;i++)e.push(t&127|128),t=t>>7;e.push(1)}}r(Og,"varint32write");function gT(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let i=5;(t&128)!==0&&i<10;i++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}r(gT,"varint32read");var _t=hC();function hC(){let t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let i=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),o=BigInt("0"),c=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(p){let f=typeof p=="bigint"?p:BigInt(p);if(f>s||f<i)throw new Error(`invalid int64: ${p}`);return f},uParse(p){let f=typeof p=="bigint"?p:BigInt(p);if(f>c||f<o)throw new Error(`invalid uint64: ${p}`);return f},enc(p){return t.setBigInt64(0,this.parse(p),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(p){return t.setBigInt64(0,this.uParse(p),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(p,f){return t.setInt32(0,p,!0),t.setInt32(4,f,!0),t.getBigInt64(0,!0)},uDec(p,f){return t.setInt32(0,p,!0),t.setInt32(4,f,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),wT(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),TT(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),wT(i),Dg(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),TT(i),Dg(i)},dec(i,s){return yT(i,s)},uDec(i,s){return Bg(i,s)}}}r(hC,"makeInt64Support");function wT(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}r(wT,"assertInt64String");function TT(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}r(TT,"assertUInt64String");var Yg=Symbol.for("@bufbuild/protobuf/text-encoding");function Vg(){if(globalThis[Yg]==null){let t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[Yg]={encodeUtf8(i){return t.encode(i)},decodeUtf8(i){return e.decode(i)},checkUtf8(i){try{return encodeURIComponent(i),!0}catch{return!1}}}}return globalThis[Yg]}r(Vg,"getTextEncoding");var gi;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(gi||(gi={}));var dC=34028234663852886e22,_C=-34028234663852886e22,xC=4294967295,yC=2147483647,bC=-2147483648,we=class{constructor(e=Vg().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let i=new Uint8Array(e),s=0;for(let o=0;o<this.chunks.length;o++)i.set(this.chunks[o],s),s+=this.chunks[o].length;return this.chunks=[],i}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),i=this.stack.pop();if(!i)throw new Error("invalid state, fork stack empty");return this.chunks=i.chunks,this.buf=i.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,i){return this.uint32((e<<3|i)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(vT(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Fg(e),Og(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let i=this.encodeUtf8(e);return this.uint32(i.byteLength),this.raw(i)}float(e){gC(e);let i=new Uint8Array(4);return new DataView(i.buffer).setFloat32(0,e,!0),this.raw(i)}double(e){let i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),this.raw(i)}fixed32(e){vT(e);let i=new Uint8Array(4);return new DataView(i.buffer).setUint32(0,e,!0),this.raw(i)}sfixed32(e){Fg(e);let i=new Uint8Array(4);return new DataView(i.buffer).setInt32(0,e,!0),this.raw(i)}sint32(e){return Fg(e),e=(e<<1^e>>31)>>>0,Og(e,this.buf),this}sfixed64(e){let i=new Uint8Array(8),s=new DataView(i.buffer),o=_t.enc(e);return s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),this.raw(i)}fixed64(e){let i=new Uint8Array(8),s=new DataView(i.buffer),o=_t.uEnc(e);return s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),this.raw(i)}int64(e){let i=_t.enc(e);return Kd(i.lo,i.hi,this.buf),this}sint64(e){let i=_t.enc(e),s=i.hi>>31,o=i.lo<<1^s,c=(i.hi<<1|i.lo>>>31)^s;return Kd(o,c,this.buf),this}uint64(e){let i=_t.uEnc(e);return Kd(i.lo,i.hi,this.buf),this}};r(we,"BinaryWriter");var X=class{constructor(e,i=Vg().decodeUtf8){this.decodeUtf8=i,this.varint64=xT,this.uint32=gT,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),i=e>>>3,s=e&7;if(i<=0||s<0||s>5)throw new Error("illegal tag: field no "+i+" wire type "+s);return[i,s]}skip(e,i){let s=this.pos;switch(e){case gi.Varint:for(;this.buf[this.pos++]&128;);break;case gi.Bit64:this.pos+=4;case gi.Bit32:this.pos+=4;break;case gi.LengthDelimited:let o=this.uint32();this.pos+=o;break;case gi.StartGroup:for(;;){let[c,p]=this.tag();if(p===gi.EndGroup){if(i!==void 0&&c!==i)throw new Error("invalid end group tag");break}this.skip(p,c)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(s,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return _t.dec(...this.varint64())}uint64(){return _t.uDec(...this.varint64())}sint64(){let[e,i]=this.varint64(),s=-(e&1);return e=(e>>>1|(i&1)<<31)^s,i=i>>>1^s,_t.dec(e,i)}bool(){let[e,i]=this.varint64();return e!==0||i!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return _t.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return _t.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),i=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(i,i+e)}string(){return this.decodeUtf8(this.bytes())}};r(X,"BinaryReader");function Fg(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>yC||t<bC)throw new Error("invalid int32: "+t)}r(Fg,"assertInt32");function vT(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>xC||t<0)throw new Error("invalid uint32: "+t)}r(vT,"assertUInt32");function gC(t){if(typeof t=="string"){let e=t;if(t=Number(t),isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>dC||t<_C))throw new Error("invalid float32: "+t)}r(gC,"assertFloat32");function wC(){return{id:"",timestamp:0}}r(wC,"createBaseVisitorData");var Ug={encode(t,e=new we){return t.id!==""&&e.uint32(10).string(t.id),t.timestamp!==0&&e.uint32(40).int32(t.timestamp),e},decode(t,e){let i=t instanceof X?t:new X(t),s=e===void 0?i.len:i.pos+e,o=wC();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.id=i.string();continue;case 5:if(c!==40)break;o.timestamp=i.int32();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function TC(){return{params:void 0,number0:void 0,number1:void 0}}r(TC,"createBaseLiveMessageParams");var NT={encode(t,e=new we){return t.params!==void 0&&IT.encode(t.params,e.uint32(10).fork()).join(),t.number0!==void 0&&e.uint32(16).int32(t.number0),t.number1!==void 0&&e.uint32(24).int32(t.number1),e},decode(t,e){let i=t instanceof X?t:new X(t),s=e===void 0?i.len:i.pos+e,o=TC();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.params=IT.decode(i,i.uint32());continue;case 2:if(c!==16)break;o.number0=i.int32();continue;case 3:if(c!==24)break;o.number1=i.int32();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function vC(){return{ids:void 0}}r(vC,"createBaseLiveMessageParams_Params");var IT={encode(t,e=new we){return t.ids!==void 0&&ST.encode(t.ids,e.uint32(42).fork()).join(),e},decode(t,e){let i=t instanceof X?t:new X(t),s=e===void 0?i.len:i.pos+e,o=vC();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 5:if(c!==42)break;o.ids=ST.decode(i,i.uint32());continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function IC(){return{channelId:"",videoId:""}}r(IC,"createBaseLiveMessageParams_Params_Ids");var ST={encode(t,e=new we){return t.channelId!==""&&e.uint32(10).string(t.channelId),t.videoId!==""&&e.uint32(18).string(t.videoId),e},decode(t,e){let i=t instanceof X?t:new X(t),s=e===void 0?i.len:i.pos+e,o=IC();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.channelId=i.string();continue;case 2:if(c!==18)break;o.videoId=i.string();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function SC(){return{type:0,commentId:"",videoId:"",unkNum:void 0,channelId:void 0,translateCommentParams:void 0}}r(SC,"createBasePeformCommentActionParams");var AT={encode(t,e=new we){return t.type!==0&&e.uint32(8).int32(t.type),t.commentId!==""&&e.uint32(26).string(t.commentId),t.videoId!==""&&e.uint32(42).string(t.videoId),t.unkNum!==void 0&&e.uint32(16).int32(t.unkNum),t.channelId!==void 0&&e.uint32(186).string(t.channelId),t.translateCommentParams!==void 0&&kT.encode(t.translateCommentParams,e.uint32(250).fork()).join(),e},decode(t,e){let i=t instanceof X?t:new X(t),s=e===void 0?i.len:i.pos+e,o=SC();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==8)break;o.type=i.int32();continue;case 3:if(c!==26)break;o.commentId=i.string();continue;case 5:if(c!==42)break;o.videoId=i.string();continue;case 2:if(c!==16)break;o.unkNum=i.int32();continue;case 23:if(c!==186)break;o.channelId=i.string();continue;case 31:if(c!==250)break;o.translateCommentParams=kT.decode(i,i.uint32());continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function kC(){return{params:void 0,commentId:"",targetLanguage:""}}r(kC,"createBasePeformCommentActionParams_TranslateCommentParams");var kT={encode(t,e=new we){return t.params!==void 0&&ET.encode(t.params,e.uint32(26).fork()).join(),t.commentId!==""&&e.uint32(18).string(t.commentId),t.targetLanguage!==""&&e.uint32(34).string(t.targetLanguage),e},decode(t,e){let i=t instanceof X?t:new X(t),s=e===void 0?i.len:i.pos+e,o=kC();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 3:if(c!==26)break;o.params=ET.decode(i,i.uint32());continue;case 2:if(c!==18)break;o.commentId=i.string();continue;case 4:if(c!==34)break;o.targetLanguage=i.string();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function EC(){return{comment:void 0}}r(EC,"createBasePeformCommentActionParams_TranslateCommentParams_Params");var ET={encode(t,e=new we){return t.comment!==void 0&&CT.encode(t.comment,e.uint32(10).fork()).join(),e},decode(t,e){let i=t instanceof X?t:new X(t),s=e===void 0?i.len:i.pos+e,o=EC();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.comment=CT.decode(i,i.uint32());continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function CC(){return{text:""}}r(CC,"createBasePeformCommentActionParams_TranslateCommentParams_Params_Comment");var CT={encode(t,e=new we){return t.text!==""&&e.uint32(10).string(t.text),e},decode(t,e){let i=t instanceof X?t:new X(t),s=e===void 0?i.len:i.pos+e,o=CC();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.text=i.string();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function PC(){return{shortId:"",params:void 0,feature2:0,feature3:0}}r(PC,"createBaseReelSequence");var RT={encode(t,e=new we){return t.shortId!==""&&e.uint32(10).string(t.shortId),t.params!==void 0&&PT.encode(t.params,e.uint32(42).fork()).join(),t.feature2!==0&&e.uint32(80).int32(t.feature2),t.feature3!==0&&e.uint32(104).int32(t.feature3),e},decode(t,e){let i=t instanceof X?t:new X(t),s=e===void 0?i.len:i.pos+e,o=PC();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.shortId=i.string();continue;case 5:if(c!==42)break;o.params=PT.decode(i,i.uint32());continue;case 10:if(c!==80)break;o.feature2=i.int32();continue;case 13:if(c!==104)break;o.feature3=i.int32();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function NC(){return{number:0}}r(NC,"createBaseReelSequence_Params");var PT={encode(t,e=new we){return t.number!==0&&e.uint32(24).int32(t.number),e},decode(t,e){let i=t instanceof X?t:new X(t),s=e===void 0?i.len:i.pos+e,o=NC();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 3:if(c!==24)break;o.number=i.int32();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function AC(){return{videoId:[]}}r(AC,"createBaseNextParams");var MT={encode(t,e=new we){for(let i of t.videoId)e.uint32(42).string(i);return e},decode(t,e){let i=t instanceof X?t:new X(t),s=e===void 0?i.len:i.pos+e,o=AC();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 5:if(c!==42)break;o.videoId.push(i.string());continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function RC(t,e){let i=Ug.encode({id:t,timestamp:e});return encodeURIComponent(ti(i.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}r(RC,"encodeVisitorData");function MC(t){return Ug.decode(no(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}r(MC,"decodeVisitorData");function Wg(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let s=AT.encode(i);return encodeURIComponent(ti(s.finish()))}r(Wg,"encodeCommentActionParams");function DC(t){let e=MT.encode({videoId:t});return encodeURIComponent(ti(e.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}r(DC,"encodeNextParams");var co=class extends n{constructor(e){super(),this.popup=l.parseItem(e.popup),this.popup_type=e.popupType}};r(co,"OpenPopupAction");co.type="OpenPopupAction";var Yr=co;var lo=class extends n{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new a(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),"accessibilityData"in e&&"accessibilityData"in e.accessibilityData&&(this.accessibility={accessibility_data:new ae(e.accessibilityData.accessibilityData)}),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"size")&&(this.size=e.size),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint||e.command)}};r(lo,"Button");lo.type="Button";var T=lo;var po=class extends n{constructor(e){var i;super(),this.label=new a(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new h(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new a(e.descriptionText))}};r(po,"DropdownItem");po.type="DropdownItem";var zd=po;var uo=class extends n{constructor(e){super(),this.label=e.label||"",this.entries=l.parseArray(e.entries,zd)}};r(uo,"Dropdown");uo.type="Dropdown";var wi=uo;var fo=class extends n{constructor(e){super(),this.title=new a(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=l.parseItem(e.privacyOption,wi),this.create_button=l.parseItem(e.cancelButton,T),this.cancel_button=l.parseItem(e.cancelButton,T)}};r(fo,"CreatePlaylistDialog");fo.type="CreatePlaylistDialog";var Xd=fo;var Ti=class extends n{constructor(e){var i,s,o,c,p,f,m,_;if(super(),e){if(e.serialCommand||e.parallelCommand){let x=e.serialCommand||e.parallelCommand;this.commands=x.commands.map(b=>new Ti(b))}(e.innertubeCommand||e.command||e.performOnceCommand)&&(e=e.innertubeCommand||e.command||e.performOnceCommand)}this.command=l.parseCommand(e),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new Yr(e.openPopupAction)),this.name=Object.keys(e||{}).find(x=>x.endsWith("Endpoint")||x.endsWith("Command")),this.payload=this.name?Reflect.get(e,this.name):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=l.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=l.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Ti(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},(s=(i=e==null?void 0:e.commandMetadata)==null?void 0:i.webCommandMetadata)!=null&&s.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),(c=(o=e==null?void 0:e.commandMetadata)==null?void 0:o.webCommandMetadata)!=null&&c.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),(f=(p=e==null?void 0:e.commandMetadata)==null?void 0:p.webCommandMetadata)!=null&&f.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):this.name&&(this.metadata.api_url=this.getPath(this.name)),(_=(m=e==null?void 0:e.commandMetadata)==null?void 0:m.webCommandMetadata)!=null&&_.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=l.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Xd))}getPath(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An API caller must be provided");if(this.command){let s=this.command;return e.execute(s.getApiPath(),{...s.buildRequest(),...i})}if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found.");return e.execute(this.metadata.api_url,{...this.payload,...i})}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};r(Ti,"NavigationEndpoint");Ti.type="NavigationEndpoint";var h=Ti;var y=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(s=>new y(s)).sort((s,o)=>o.width-s.width):[]}};r(y,"Thumbnail");var vi=class{constructor(e){var i,s,o,c,p,f;this.text=((i=e.emoji)==null?void 0:i.emojiId)||((o=(s=e.emoji)==null?void 0:s.shortcuts)==null?void 0:o[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((c=e.emoji)==null?void 0:c.shortcuts)||[],search_terms:((p=e.emoji)==null?void 0:p.searchTerms)||[],image:y.fromResponse(e.emoji.image),is_custom:!!((f=e.emoji)!=null&&f.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=Qd(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};r(vi,"EmojiRun");var Ii=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.bracket=Boolean(e.bracket),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),this.error_underline=Boolean(e.error_underline),this.underline=Boolean(e.underline),this.deemphasize=Boolean(e.deemphasize),"textColor"in e&&(this.text_color=e.textColor),"navigationEndpoint"in e&&(this.endpoint=new h(e.navigationEndpoint)),"darkModeTextColor"in e&&(this.dark_mode_text_color=e.darkModeTextColor),"fontFace"in e&&(this.font_face=e.fontFace),this.attachment=e.attachment}toString(){return this.text}toHTML(){var c;let e=[];if(this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s"),this.deemphasize&&e.push("small"),this.underline&&e.push("u"),this.error_underline&&e.push("u"),!((c=this.text)!=null&&c.length))return"";let i=Qd(this.text),o=`<span style="white-space: pre-wrap;">${e.map(p=>`<${p}>`).join("")+i+e.map(p=>`</${p}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length&&this.endpoint){let{url:p}=this.attachment.element.type.imageType.image.sources[0],f="";p&&(f=`<img src="${p}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;" alt="">`);let m=this.endpoint.toURL();if(m)return`<a href="${m}" class="yt-ch-link">${f}${o}</a>`}if(this.endpoint){let p=this.endpoint.toURL();if(p)return`<a href="${p}">${o}</a>`}return o}};r(Ii,"TextRun");function Qd(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}r(Qd,"escape");var mo="Text",a=class{constructor(e){this.isRunsData(e)?(this.runs=e.runs.map(i=>i.emoji?new vi(i):new Ii(i)),this.text=this.runs.map(i=>i.text).join("")):this.text=e==null?void 0:e.simpleText,this.isObject(e)&&"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new ae(e.accessibility.accessibilityData)}),this.rtl=!!(e!=null&&e.rtl),this.parseEndpoint(e)}isRunsData(e){return this.isObject(e)&&Reflect.has(e,"runs")&&Array.isArray(e.runs)}parseEndpoint(e){var i,s,o;!this.isObject(e)||("navigationEndpoint"in e?this.endpoint=new h(e.navigationEndpoint):"titleNavigationEndpoint"in e?this.endpoint=new h(e.titleNavigationEndpoint):(s=(i=this.runs)==null?void 0:i[0])!=null&&s.endpoint&&(this.endpoint=((o=this.runs)==null?void 0:o[0]).endpoint))}isObject(e){return typeof e=="object"&&e!==null}static fromAttributed(e){var f;let{content:i,commandRuns:s,attachmentRuns:o}=e,c=[{text:i,startIndex:0}],p=(f=e.styleRuns)==null?void 0:f.map(m=>{var _,x;return{...m,startIndex:(_=m.startIndex)!=null?_:0,length:(x=m.length)!=null?x:i.length}});return p!=null&&p.length&&this.processStyleRuns(c,p,e),s!=null&&s.length&&this.processCommandRuns(c,s,e),o!=null&&o.length&&this.processAttachmentRuns(c,o,e),new a({runs:c})}static processStyleRuns(e,i,s){for(let o of i)if(o.italic||o.strikethrough==="LINE_STYLE_SINGLE"||o.weightLabel==="FONT_WEIGHT_MEDIUM"||o.weightLabel==="FONT_WEIGHT_BOLD"){let c=Gg(e,o);if(!c){D.warn(mo,"Unable to find matching run for style run. Skipping...",{style_run:o,input_data:s,parsed_runs:JSON.parse(JSON.stringify(e))});continue}Jd(e,c,o,{bold:o.weightLabel==="FONT_WEIGHT_MEDIUM"||o.weightLabel==="FONT_WEIGHT_BOLD",italics:o.italic,strikethrough:o.strikethrough==="LINE_STYLE_SINGLE"})}else D.debug(mo,"Skipping style run as it is doesn't have any information that we parse.",{style_run:o,input_data:s})}static processCommandRuns(e,i,s){for(let o of i)if(o.onTap){let c=Gg(e,o);if(!c){D.warn(mo,"Unable to find matching run for command run. Skipping...",{command_run:o,input_data:s,parsed_runs:JSON.parse(JSON.stringify(e))});continue}Jd(e,c,o,{navigationEndpoint:o.onTap})}else D.debug(mo,'Skipping command run as it is missing the "doTap" property.',{command_run:o,input_data:s})}static processAttachmentRuns(e,i,s){var o,c,p;for(let f of i){let m=Gg(e,f);if(!m){D.warn(mo,"Unable to find matching run for attachment run. Skipping...",{attachment_run:f,input_data:s,parsed_runs:JSON.parse(JSON.stringify(e))});continue}if(f.length===0)m.attachment=f;else{let _=f.startIndex-m.startIndex,x=m.text.substring(_,_+f.length),b=/^:[^:]+:$/.test(x);if(((p=(c=(o=f.element)==null?void 0:o.type)==null?void 0:c.imageType)==null?void 0:p.image)&&(b||/^(?:\p{Emoji}|\u200d)+$/u.test(x))){let w={image:f.element.type.imageType.image,isCustomEmoji:b,shortcuts:b?[x]:void 0};Jd(e,m,f,{emoji:w})}else Jd(e,m,f,{attachment:f})}}}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};r(a,"Text");function Gg(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}r(Gg,"findMatchingRun");function Jd(t,e,i,s){let o=t.indexOf(e),c=[],p=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&c.push({...e,text:e.text.substring(0,p)}),c.push({...e,text:e.text.substring(p,p+i.length),startIndex:i.startIndex,...s}),i.startIndex+i.length<e.startIndex+e.text.length&&c.push({...e,text:e.text.substring(p+i.length),startIndex:i.startIndex+i.length}),t.splice(o,1,...c)}r(Jd,"insertSubRun");var ho=class extends n{constructor(e){super(),this.title=a.fromAttributed(e.title),this.link=a.fromAttributed(e.link),this.favicon=y.fromResponse(e.favicon)}};r(ho,"ChannelExternalLinkView");ho.type="ChannelExternalLinkView";var Zd=ho;var _o=class extends n{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=a.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=a.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=a.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=a.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new h(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=a.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=l.parseArray(e.links,Zd):this.links=[]}};r(_o,"AboutChannelView");_o.type="AboutChannelView";var e_=_o;var xo=class extends n{constructor(e){super(),this.metadata=l.parseItem(e.metadata,e_),this.share_channel=l.parseItem(e.shareChannel,T)}};r(xo,"AboutChannel");xo.type="AboutChannel";var t_=xo;var yo=class extends n{constructor(e){super(),this.title=new a(e.title),this.endpoint=new h(e.navigationEndpoint)}};r(yo,"AccountChannel");yo.type="AccountChannel";var i_=yo;var bo=class extends n{constructor(e){super(),this.account_name=new a(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new h(e.serviceEndpoint),this.account_byline=new a(e.accountByline),this.channel_handle=new a(e.channelHandle)}};r(bo,"AccountItem");bo.type="AccountItem";var r_=bo;var go=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(go,"AccountItemSectionHeader");go.type="AccountItemSectionHeader";var s_=go;var wo=class extends n{constructor(e){super(),this.title=new a(e.title).toString(),"subtitle"in e&&(this.subtitle=new a(e.subtitle)),"icon"in e&&"iconType"in e.icon&&(this.icon_type=e.icon.iconType),"secondaryIcon"in e&&"iconType"in e.secondaryIcon&&(this.secondary_icon_type=e.secondaryIcon.iconType),this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint),this.style=e.style}};r(wo,"CompactLink");wo.type="CompactLink";var Rt=wo;var To=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents,[r_,Rt]),this.header=l.parseItem(e.header,s_)}};r(To,"AccountItemSection");To.type="AccountItemSection";var o_=To;var vo=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents,o_),this.footers=l.parseArray(e.footers,i_)}};r(vo,"AccountSectionList");vo.type="AccountSectionList";var n_=vo;var Io=class extends n{constructor(e){super(),this.contents=l.parseArray(e.continuationItems),this.target=e.target}};r(Io,"AppendContinuationItemsAction");Io.type="AppendContinuationItemsAction";var Le=Io;var So=class extends n{constructor(e){super(),this.target_id=e.targetId,this.visibility=e.visibility}};r(So,"ChangeEngagementPanelVisibilityAction");So.type="ChangeEngagementPanelVisibilityAction";var DT=So;var ko=class extends n{constructor(e){super(),this.header=l.parseItem(e.header),this.sections=l.parseArray(e.sections),this.style=e.style}};r(ko,"MultiPageMenu");ko.type="MultiPageMenu";var a_=ko;var Eo=class extends n{constructor(e){super(),this.menu=l.parseItem(e.menu,a_)}};r(Eo,"GetMultiPageMenuAction");Eo.type="GetMultiPageMenuAction";var BT=Eo;var Co=class extends n{constructor(e){super(),this.bucket=e.bucket}};r(Co,"SendFeedbackAction");Co.type="SendFeedbackAction";var LT=Co;var Po=class extends n{constructor(e){super(),this.signal=e.signal}};r(Po,"SignalAction");Po.type="SignalAction";var OT=Po;var No=class extends n{constructor(e){super(),this.header=l.parseItem(e.header),this.contents=l.parse(e.contents,!0)}};r(No,"ChannelSwitcherPage");No.type="ChannelSwitcherPage";var c_=No;var Ao=class extends n{constructor(e){super();let i=l.parseItem(e.page,c_);i&&(this.header=i.header,this.contents=i.contents)}};r(Ao,"UpdateChannelSwitcherPageAction");Ao.type="UpdateChannelSwitcherPageAction";var YT=Ao;var Ro=class extends n{constructor(e){super(),"title"in e&&(this.title=e.title),"icon"in e&&(this.icon_type=e.icon.iconType),"tooltip"in e&&(this.tooltip=e.tooltip),"subMenuItems"in e&&(this.sub_menu_items=e.subMenuItems.map(i=>{var s,o;return{title:i.title,selected:i.selected,continuation:(o=(s=i.continuation)==null?void 0:s.reloadContinuationData)==null?void 0:o.continuation,endpoint:new h(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}})),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new ae(e.accessibility.accessibilityData)})}get label(){var e,i;return(i=(e=this.accessibility)==null?void 0:e.accessibility_data)==null?void 0:i.label}};r(Ro,"SortFilterSubMenu");Ro.type="SortFilterSubMenu";var xt=Ro;var Mo=class extends n{constructor(e){super(),this.language_menu=l.parseItem(e.languageMenu,xt)}};r(Mo,"TranscriptFooter");Mo.type="TranscriptFooter";var l_=Mo;var Do=class extends n{constructor(e){super(),this.formatted_placeholder=new a(e.formattedPlaceholder),this.clear_button=l.parseItem(e.clearButton,T),this.endpoint=new h(e.onTextChangeCommand),this.search_button=l.parseItem(e.searchButton,T)}};r(Do,"TranscriptSearchBox");Do.type="TranscriptSearchBox";var p_=Do;var Bo=class extends n{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new a(e.snippet)}};r(Bo,"TranscriptSectionHeader");Bo.type="TranscriptSectionHeader";var u_=Bo;var Lo=class extends n{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new a(e.snippet),this.start_time_text=new a(e.startTimeText),this.target_id=e.targetId}};r(Lo,"TranscriptSegment");Lo.type="TranscriptSegment";var f_=Lo;var Oo=class extends n{constructor(e){super(),this.initial_segments=l.parseArray(e.initialSegments,[f_,u_]),this.no_result_label=new a(e.noResultLabel),this.retry_label=new a(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};r(Oo,"TranscriptSegmentList");Oo.type="TranscriptSegmentList";var m_=Oo;var Yo=class extends n{constructor(e){super(),this.header=l.parseItem(e.header,p_),this.body=l.parseItem(e.body,m_),this.footer=l.parseItem(e.footer,l_),this.target_id=e.targetId}};r(Yo,"TranscriptSearchPanel");Yo.type="TranscriptSearchPanel";var h_=Yo;var Vo=class extends n{constructor(e){super(),this.content=l.parseItem(e.content,h_)}};r(Vo,"Transcript");Vo.type="Transcript";var Vr=Vo;var Fo=class extends n{constructor(e){super(),this.target_id=e.targetId,this.content=l.parseItem(e.content,Vr)}};r(Fo,"UpdateEngagementPanelAction");Fo.type="UpdateEngagementPanelAction";var VT=Fo;var Uo=class extends n{constructor(e){super(),this.channel_id=e.channelId,this.subscribed=e.subscribed}};r(Uo,"UpdateSubscribeButtonAction");Uo.type="UpdateSubscribeButtonAction";var FT=Uo;var Wo=class extends n{constructor(e){super(),this.account_name=new a(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.endpoint=new h(e.serviceEndpoint),this.manage_account_title=new a(e.manageAccountTitle),this.channel_handle=new a(e.channelHandle)}};r(Wo,"ActiveAccountHeader");Wo.type="ActiveAccountHeader";var UT=Wo;var Go=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(Go,"MenuTitle");Go.type="MenuTitle";var d_=Go;var Ho=class extends n{constructor(e){var i;super(),this.add_to_playlist_service_endpoint=new h(e.addToPlaylistServiceEndpoint),this.contains_selected_videos=e.containsSelectedVideos,this.playlist_id=e.playlistId,this.privacy=e.privacy,this.privacy_icon={icon_type:((i=e.privacyIcon)==null?void 0:i.iconType)||null},this.remove_from_playlist_service_endpoint=new h(e.removeFromPlaylistServiceEndpoint),this.title=new a(e.title)}};r(Ho,"PlaylistAddToOption");Ho.type="PlaylistAddToOption";var __=Ho;var jo=class extends n{constructor(e){super(),this.actions=l.parseArray(e.actions,[d_,T]),this.playlists=l.parseArray(e.playlists,__)}};r(jo,"AddToPlaylist");jo.type="AddToPlaylist";var WT=jo;var $o=class extends n{constructor(e){super(),this.text=new a(e.text),this.alert_type=e.type}};r($o,"Alert");$o.type="Alert";var Fr=$o;var qo=class extends n{constructor(e){super(),this.text=new a(e.text),this.alert_type=e.type,this.dismiss_button=l.parseItem(e.dismissButton,T)}};r(qo,"AlertWithButton");qo.type="AlertWithButton";var x_=qo;var Ko=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Ko,"AnimatedThumbnailOverlayView");Ko.type="AnimatedThumbnailOverlayView";var y_=Ko;var zo=class extends n{constructor(e){super(),this.text=a.fromAttributed(e.text),this.suffix=a.fromAttributed(e.suffix)}};r(zo,"AttributionView");zo.type="AttributionView";var b_=zo;var Xo=class extends n{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};r(Xo,"AudioOnlyPlayability");Xo.type="AudioOnlyPlayability";var g_=Xo;var Qo=class extends n{constructor(e){var i,s;super(),(s=(i=e==null?void 0:e.content)==null?void 0:i.automixPlaylistVideoRenderer)!=null&&s.navigationEndpoint&&(this.playlist_video={endpoint:new h(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};r(Qo,"AutomixPreviewVideo");Qo.type="AutomixPreviewVideo";var w_=Qo;var Jo=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.avatar_image_size=e.avatarImageSize,e.image.processor&&(this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}})}};r(Jo,"AvatarView");Jo.type="AvatarView";var Ur=Jo;var Si=class{constructor(e){"onFocus"in e&&(this.on_focus=new h(e.onFocus)),"onHidden"in e&&(this.on_hidden=new h(e.onHidden)),"onTouchEnd"in e&&(this.on_touch_end=new h(e.onTouchEnd)),"onTouchMove"in e&&(this.on_touch_move=new h(e.onTouchMove)),"onLongPress"in e&&(this.on_long_press=new h(e.onLongPress)),"onTap"in e&&(this.on_tap=new h(e.onTap)),"onTouchStart"in e&&(this.on_touch_start=new h(e.onTouchStart)),"onVisible"in e&&(this.on_visible=new h(e.onVisible)),"onFirstVisible"in e&&(this.on_first_visible=new h(e.onFirstVisible)),"onHover"in e&&(this.on_hover=new h(e.onHover))}};r(Si,"CommandContext");var Ne=class{constructor(e){!e||("commandContext"in e&&(this.command_context=new Si(e.commandContext)),"accessibilityContext"in e&&(this.accessibility_context=new bi(e.accessibilityContext)))}};r(Ne,"RendererContext");var Zo=class extends n{constructor(e){super(),this.avatars=l.parseArray(e.avatars,Ur),Reflect.has(e,"text")&&(this.text=a.fromAttributed(e.text)),this.renderer_context=new Ne(e.rendererContext)}};r(Zo,"AvatarStackView");Zo.type="AvatarStackView";var T_=Zo;var en=class extends n{constructor(e){super(),"secondaryIconImage"in e&&(this.secondary_icon_image=y.fromResponse(e.secondaryIconImage)),"iconName"in e&&(this.icon_name=e.iconName),"enableIconButton"in e&&(this.enable_icon_button=e.enableIconButton),"tooltip"in e&&(this.tooltip=e.tooltip),"iconImageFlipForRtl"in e&&(this.icon_image_flip_for_rtl=e.iconImageFlipForRtl),"buttonSize"in e&&(this.button_size=e.buttonSize),"iconPosition"in e&&(this.icon_position=e.iconPosition),"isFullWidth"in e&&(this.is_full_width=e.isFullWidth),"state"in e&&(this.state=e.state),"onDisabledTap"in e&&(this.on_disabled_tap=new h(e.onDisabledTap)),"customBorderColor"in e&&(this.custom_border_color=e.customBorderColor),"onTap"in e&&(this.on_tap=new h(e.onTap)),"style"in e&&(this.style=e.style),"iconImage"in e&&(this.icon_image=e.iconImage),"customDarkThemeBorderColor"in e&&(this.custom_dark_theme_border_color=e.customDarkThemeBorderColor),"title"in e&&(this.title=e.title),"targetId"in e&&(this.target_id=e.targetId),"enableFullWidthMargins"in e&&(this.enable_full_width_margins=e.enableFullWidthMargins),"customFontColor"in e&&(this.custom_font_color=e.customFontColor),"type"in e&&(this.button_type=e.type),"enabled"in e&&(this.enabled=e.enabled),"accessibilityId"in e&&(this.accessibility_id=e.accessibilityId),"customBackgroundColor"in e&&(this.custom_background_color=e.customBackgroundColor),"onLongPress"in e&&(this.on_long_press=new h(e.onLongPress)),"titleFormatted"in e&&(this.title_formatted=e.titleFormatted),"onVisible"in e&&(this.on_visible=e.onVisible),"iconTrailing"in e&&(this.icon_trailing=e.iconTrailing),"accessibilityText"in e&&(this.accessibility_text=e.accessibilityText)}};r(en,"ButtonView");en.type="ButtonView";var J=en;var tn=class extends n{constructor(e){super(),this.body_text=new a(e.bodyText),this.cta_button=l.parseItem(e.ctaButton,[T,J]),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.title=new a(e.title)}};r(tn,"BackgroundPromo");tn.type="BackgroundPromo";var GT=tn;var rn=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.endpoint=new h(e.command)}};r(rn,"BackstageImage");rn.type="BackstageImage";var v_=rn;var sn=class extends n{constructor(e){var s,o,c,p,f,m,_,x,b;super(),this.text=new a(e.defaultText),this.toggled_text=new a(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(s=e.defaultIcon)==null?void 0:s.iconType;let i=((p=(c=(o=e==null?void 0:e.defaultText)==null?void 0:o.accessibility)==null?void 0:c.accessibilityData)==null?void 0:p.label)||((m=(f=e==null?void 0:e.accessibilityData)==null?void 0:f.accessibilityData)==null?void 0:m.label)||((_=e==null?void 0:e.accessibility)==null?void 0:_.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(i.replace(/\D/g,"")),this.short_like_count=new a(e.defaultText).toString()),this.endpoint=(b=(x=e.defaultServiceEndpoint)==null?void 0:x.commandExecutorCommand)!=null&&b.commands?new h(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new h(e.defaultServiceEndpoint),this.toggled_endpoint=new h(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};r(sn,"ToggleButton");sn.type="ToggleButton";var se=sn;var on=class extends n{constructor(e){var i,s;super(),this.creator_thumbnail=y.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(s=(i=e.heartColor)==null?void 0:i.basicColorPaletteData)==null?void 0:s.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};r(on,"CreatorHeart");on.type="CreatorHeart";var I_=on;var nn=class extends n{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,se),this.dislike_button=l.parseItem(e.dislikeButton,se),this.reply_button=l.parseItem(e.replyButton,T),this.creator_heart=l.parseItem(e.creatorHeart,I_)}};r(nn,"CommentActionButtons");nn.type="CommentActionButtons";var S_=nn;var an=class extends n{constructor(e){super(),this.default_button=l.parseItem(e.defaultButtonViewModel,J),this.toggled_button=l.parseItem(e.toggledButtonViewModel,J),this.is_toggling_disabled=e.isTogglingDisabled,this.identifier=e.identifier,Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled)}};r(an,"ToggleButtonView");an.type="ToggleButtonView";var et=an;var cn=class extends n{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,et),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};r(cn,"LikeButtonView");cn.type="LikeButtonView";var k_=cn;var ln=class extends n{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,et),this.dislike_entity_key=e.dislikeEntityKey}};r(ln,"DislikeButtonView");ln.type="DislikeButtonView";var E_=ln;var pn=class extends n{constructor(e){if(super(),this.like_button=l.parseItem(e.likeButtonViewModel,k_),this.dislike_button=l.parseItem(e.dislikeButtonViewModel,E_),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,i.default_button.accessibility_text&&(this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,"")))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,i.toggled_button.accessibility_text&&(this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,""))))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};r(pn,"SegmentedLikeDislikeButtonView");pn.type="SegmentedLikeDislikeButtonView";var ii=pn;var un=class extends T{constructor(e){super(e)}};r(un,"MenuServiceItem");un.type="MenuServiceItem";var Mt=un;var fn=class extends n{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new h(e.command),this.target_id=e.targetId}};r(fn,"DownloadButton");fn.type="DownloadButton";var Wr=fn;var mn=class extends n{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint)}};r(mn,"MenuServiceItemDownload");mn.type="MenuServiceItemDownload";var C_=mn;var hn=class extends n{constructor(e){super(),this.menu_item=l.parseItem(e.menuItem,[Mt,C_]),this.top_level_button=l.parseItem(e.topLevelButton,[Wr,J,T])}};r(hn,"MenuFlexibleItem");hn.type="MenuFlexibleItem";var P_=hn;var dn=class extends n{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new h(i)))}};r(dn,"LikeButton");dn.type="LikeButton";var Gr=dn;var _n=class extends n{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:l.parseArray(i.actions,[J,et])})),this.style=e.style}};r(_n,"FlexibleActionsView");_n.type="FlexibleActionsView";var Hr=_n;var xn=class extends n{constructor(e){super(),this.items=l.parseArray(e.items),this.flexible_items=l.parseArray(e.flexibleItems,P_),this.top_level_buttons=l.parseArray(e.topLevelButtons,[se,Gr,T,J,ii,Hr]),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new ae(e.accessibility.accessibilityData)})}get label(){var e,i;return(i=(e=this.accessibility)==null?void 0:e.accessibility_data)==null?void 0:i.label}get contents(){return this.items}};r(xn,"Menu");xn.type="Menu";var R=xn;var yn=class extends n{constructor(e){super(),this.id=e.postId,this.author=new P({...e.authorText,navigationEndpoint:e.authorEndpoint},null,e.authorThumbnail),this.content=new a(e.contentText),this.published=new a(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new a(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=l.parseItem(e.actionMenu,R)),Reflect.has(e,"actionButtons")&&(this.action_buttons=l.parseItem(e.actionButtons,S_)),Reflect.has(e,"voteButton")&&(this.vote_button=l.parseItem(e.voteButton,T)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=l.parseItem(e.backstageAttachment)),this.surface=e.surface}};r(yn,"BackstagePost");yn.type="BackstagePost";var ki=yn;var bn=class extends n{constructor(e){super(),this.post=l.parseItem(e.post)}};r(bn,"BackstagePostThread");bn.type="BackstagePostThread";var HT=bn;var Ei=class extends n{constructor(e){super(),this.text=e.badgeText,this.style=e.badgeStyle,this.accessibility_label=e.accessibilityLabel}};r(Ei,"BadgeView");var gn=class extends n{constructor(e){super(),this.name=new a(e.name),this.is_selected=e.isSelected,this.endpoint=new h(e.navigationEndpoint)}};r(gn,"SubFeedOption");gn.type="SubFeedOption";var N_=gn;var wn=class extends n{constructor(e){super(),this.title=new a(e.title),this.options=l.parseArray(e.options,N_)}};r(wn,"SubFeedSelector");wn.type="SubFeedSelector";var A_=wn;var Tn=class extends n{constructor(e){super(),this.disclaimer=new a(e.disclaimer),this.info_icon={icon_type:e.infoIcon.iconType},this.usage_scenario=e.usageScenario}};r(Tn,"EomSettingsDisclaimer");Tn.type="EomSettingsDisclaimer";var R_=Tn;var vn=class extends n{constructor(e){super(),this.endpoint=new h(e.endpoint),this.search_button=l.parseItem(e.searchButton,T),this.clear_button=l.parseItem(e.clearButton,T),this.placeholder_text=new a(e.placeholderText)}};r(vn,"SearchBox");vn.type="SearchBox";var M_=vn;var In=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents,[A_,R_,se,Rt,M_,T])}};r(In,"BrowseFeedActions");In.type="BrowseFeedActions";var jr=In;var Sn=class extends n{constructor(e){super(),this.album=new a(e.album),this.thumbnails=y.fromResponse(e.thumbnailDetails)}};r(Sn,"BrowserMediaSession");Sn.type="BrowserMediaSession";var jT=Sn;var kn=class extends n{constructor(e){super(),this.title=e.title,this.icon_name=e.image.sources[0].clientResource.imageName,this.renderer_context=new Ne(e.rendererContext)}};r(kn,"ButtonCardView");kn.type="ButtonCardView";var $T=kn;var $r=class extends n{constructor(e){super(),this.endpoint=new h(e.navigationEndpoint),this.icon=y.fromResponse(e.icon),this.title=new a(e.title)}};r($r,"HeaderLink");$r.type="HeaderLink";var En=class extends n{constructor(e){var i,s;super(),this.primary=G(((i=e.primaryLinks)==null?void 0:i.map(o=>new $r(o)))||[]),this.secondary=G(((s=e.secondaryLinks)==null?void 0:s.map(o=>new $r(o)))||[])}};r(En,"ChannelHeaderLinks");En.type="ChannelHeaderLinks";var D_=En;var Cn=class extends n{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=a.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=a.fromAttributed(e.more))}};r(Cn,"ChannelHeaderLinksView");Cn.type="ChannelHeaderLinksView";var B_=Cn;var Pn=class extends n{constructor(e){super(),this.placeholder_text=new a(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};r(Pn,"ClipCreationTextInput");Pn.type="ClipCreationTextInput";var L_=Pn;var Nn=class extends n{constructor(e){var i,s,o,c,p,f;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(s=(i=e.startAccessibility)==null?void 0:i.accessibilityData)==null?void 0:s.label,this.end_label=(c=(o=e.endAccessibility)==null?void 0:o.accessibilityData)==null?void 0:c.label,this.duration_label=(f=(p=e.durationAccessibility)==null?void 0:p.accessibilityData)==null?void 0:f.label}};r(Nn,"ClipCreationScrubber");Nn.type="ClipCreationScrubber";var O_=Nn;var An=class extends n{constructor(e){super(),this.title=new a(e.title),this.body=new a(e.body)}};r(An,"ClipAdState");An.type="ClipAdState";var Y_=An;var Rn=class extends n{constructor(e){super(),this.user_avatar=y.fromResponse(e.userAvatar),this.title_input=l.parseItem(e.titleInput,[L_]),this.scrubber=l.parseItem(e.scrubber,[O_]),this.save_button=l.parseItem(e.saveButton,[T]),this.display_name=new a(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=l.parseItem(e.cancelButton,[T]),this.ad_state_overlay=l.parseItem(e.adStateOverlay,[Y_]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};r(Rn,"ClipCreation");Rn.type="ClipCreation";var V_=Rn;var Mn=class extends n{constructor(e){super(),this.contents=l.parse(e.contents,!0,[V_])}};r(Mn,"ClipSection");Mn.type="ClipSection";var F_=Mn;var Dn=class extends n{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,T)),this.endpoint=new h(e.continuationEndpoint)}};r(Dn,"ContinuationItem");Dn.type="ContinuationItem";var z=Dn;var Bn=class extends n{constructor(e){super(),this.title=new a(e.title),this.contextual_info=e.contextualInfo?new a(e.contextualInfo):void 0,this.visibility_button=l.parseItem(e.visibilityButton,T),this.menu=l.parseItem(e.menu)}};r(Bn,"EngagementPanelTitleHeader");Bn.type="EngagementPanelTitleHeader";var U_=Bn;var Ln=class extends n{constructor(e){super(),this.info_text=new a(e.infoText),this.menu=l.parseItem(e.menu,R)}};r(Ln,"MacroMarkersInfoItem");Ln.type="MacroMarkersInfoItem";var W_=Ln;var On=class extends n{constructor(e){super(),this.title=new a(e.title),this.time_description=new a(e.timeDescription),this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new h(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};r(On,"MacroMarkersListItem");On.type="MacroMarkersListItem";var qr=On;var Yn=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents,[W_,qr]),this.sync_button_label=new a(e.syncButtonLabel)}};r(Yn,"MacroMarkersList");Yn.type="MacroMarkersList";var G_=Yn;var Vn=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(Vn,"ProductList");Vn.type="ProductList";var H_=Vn;var Fn=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=l.parseItem(e.subMenu))}};r(Fn,"SectionList");Fn.type="SectionList";var ue=Fn;var Un=class extends n{constructor(e){super(),this.show_more_text=new a(e.showMoreText),this.show_less_text=new a(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=a.fromAttributed(e.attributedDescriptionBodyText))}};r(Un,"ExpandableVideoDescriptionBody");Un.type="ExpandableVideoDescriptionBody";var j_=Un;var Wn=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new h(e.searchEndpoint),this.query=new a(e.query).toString()}};r(Wn,"SearchRefinementCard");Wn.type="SearchRefinementCard";var sr=Wn;var Gn=class extends n{constructor(e){super(),this.game=l.parseItem(e.game)}};r(Gn,"GameCard");Gn.type="GameCard";var $_=Gn;var Hn=class extends n{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Hn,"HorizontalList");Hn.type="HorizontalList";var q_=Hn;var jn=class extends n{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new a(e.header.collapsedTitle),collapsed_thumbnail:y.fromResponse(e.header.collapsedThumbnail),collapsed_label:new a(e.header.collapsedLabel),expanded_title:new a(e.header.expandedTitle)}),this.expanded_content=l.parseItem(e.expandedContent,[Ci,q_]),this.expand_button=l.parseItem(e.expandButton,T),this.collapse_button=l.parseItem(e.collapseButton,T)}};r(jn,"ExpandableMetadata");jn.type="ExpandableMetadata";var K_=jn;var $n=class extends n{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};r($n,"MetadataBadge");$n.type="MetadataBadge";var je=$n;var qn=class extends n{constructor(e){super(),this.text=new a(e.text).toString(),this.style=e.style}};r(qn,"ThumbnailOverlayTimeStatus");qn.type="ThumbnailOverlayTimeStatus";var Dt=qn;var Kn=class extends n{constructor(e){var i,s;super(),this.title=new a(e.title),this.video_id=e.videoId,this.expandable_metadata=l.parseItem(e.expandableMetadata,K_),"untranslatedTitle"in e&&(this.untranslated_title=new a(e.untranslatedTitle)),"descriptionSnippet"in e&&(this.description_snippet=new a(e.descriptionSnippet)),"detailedMetadataSnippets"in e&&(this.snippets=e.detailedMetadataSnippets.map(o=>({text:new a(o.snippetText),hover_text:new a(o.snippetHoverText)}))),"additionalMetadatas"in e&&(this.additional_metadatas=e.additionalMetadatas.map(o=>new a(o))),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),"richThumbnail"in e&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.author=new P(e.ownerText,e.ownerBadges,(s=(i=e.channelThumbnailSupportedRenderers)==null?void 0:i.channelThumbnailWithLinkRenderer)==null?void 0:s.thumbnail),this.badges=l.parseArray(e.badges,je),"navigationEndpoint"in e&&(this.endpoint=new h(e.navigationEndpoint)),"publishedTimeText"in e&&(this.published=new a(e.publishedTimeText)),"viewCountText"in e&&(this.view_count=new a(e.viewCountText)),"shortViewCountText"in e&&(this.short_view_count=new a(e.shortViewCountText)),"upcomingEventData"in e&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=l.parseItem(e.menu,R),"searchVideoResultEntityKey"in e&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey),"bylineText"in e&&(this.byline_text=new a(e.bylineText)),"lengthText"in e&&(this.length_text=new a(e.lengthText)),"serviceEndpoints"in e&&(this.service_endpoints=e.serviceEndpoints.map(o=>new h(o))),"serviceEndpoint"in e&&(this.service_endpoint=new h(e.serviceEndpoint)),"style"in e&&(this.style=e.style)}get id(){return this.video_id}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)==null?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Dt))==null?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}get duration(){var s;let e=this.thumbnail_overlays.firstOfType(Dt),i=((s=this.length_text)==null?void 0:s.toString())||(e==null?void 0:e.text.toString());return{text:i,seconds:i?Te(i):0}}};r(Kn,"Video");Kn.type="Video";var Kr=Kn;var zn=class extends Kr{constructor(e){var i,s,o,c;super(e),Reflect.has(e,"metadataText")&&(this.metadata_text=new a(e.metadataText),this.metadata_text.text&&(this.short_view_count=new a({simpleText:(i=this.metadata_text.text.split("\xB7")[0])==null?void 0:i.trim()}),this.published=new a({simpleText:(s=this.metadata_text.text.split("\xB7")[1])==null?void 0:s.trim()}))),Reflect.has(e,"bylineText")&&(this.author=new P(e.bylineText,e.ownerBadges,(c=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:c.thumbnail))}};r(zn,"VideoCard");zn.type="VideoCard";var z_=zn;var Xn=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};r(Xn,"ContentPreviewImageView");Xn.type="ContentPreviewImageView";var Pi=Xn;var Qn=class extends n{constructor(e){var i;super(),(i=e.image)!=null&&i.sources?this.image=y.fromResponse(e.image):this.image=l.parseItem(e.image,Pi),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,Reflect.has(e,"secondarySubtitle")&&(this.secondary_subtitle={content:e.secondarySubtitle.content}),this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new h(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};r(Qn,"VideoAttributeView");Qn.type="VideoAttributeView";var Ni=Qn;var Jn=class extends n{constructor(e){super(),this.cards=l.parseArray(e.cards,[Ni,sr,qr,$_,z_]),this.header=l.parseItem(e.header),this.previous_button=l.parseItem(e.previousButton,T),this.next_button=l.parseItem(e.nextButton,T)}};r(Jn,"HorizontalCardList");Jn.type="HorizontalCardList";var Ci=Jn;var Zn=class extends n{constructor(e){super(),this.label=new a(e.label),this.value=new a(e.value),this.accessibility_text=e.accessibilityText}};r(Zn,"Factoid");Zn.type="Factoid";var Ai=Zn;var ea=class extends n{constructor(e){super(),this.factoid=l.parseItem(e.factoid,Ai)}};r(ea,"UploadTimeFactoid");ea.type="UploadTimeFactoid";var X_=ea;var ta=class extends n{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=l.parseItem(e.factoid,[Ai]),this.view_count_type=e.viewCountType}};r(ta,"ViewCountFactoid");ta.type="ViewCountFactoid";var Q_=ta;var ia=class extends n{constructor(e){super(),this.title=new a(e.title),this.channel=new a(e.channel),this.channel_navigation_endpoint=new h(e.channelNavigationEndpoint),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.publish_date=new a(e.publishDate),this.views=new a(e.views),this.factoids=l.parseArray(e.factoid,[Ai,Q_,X_])}};r(ia,"VideoDescriptionHeader");ia.type="VideoDescriptionHeader";var J_=ia;var ra=class extends n{constructor(e){super(),this.section_title=new a(e.sectionTitle),this.creator_videos_button=l.parseItem(e.creatorVideosButton,T),this.creator_about_button=l.parseItem(e.creatorAboutButton,T),this.section_subtitle=new a(e.sectionSubtitle),this.channel_avatar=y.fromResponse(e.channelAvatar),this.channel_endpoint=new h(e.channelEndpoint)}};r(ra,"VideoDescriptionInfocardsSection");ra.type="VideoDescriptionInfocardsSection";var Z_=ra;var sa=class extends n{constructor(e){super(),this.title=new a(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new a(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new a(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};r(sa,"InfoRow");sa.type="InfoRow";var ex=sa;var oa=class extends n{constructor(e){super(),this.video_id=e.videoId,this.thumbnails=y.fromResponse(e.thumbnail),this.title=new a(e.title),this.author=new P(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.is_watched=!!e.isWatched,this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.menu=l.parseItem(e.menu,R),this.badges=l.parseArray(e.badges,je),"publishedTimeText"in e&&(this.published=new a(e.publishedTimeText)),"shortBylineText"in e&&(this.view_count=new a(e.viewCountText)),"shortViewCountText"in e&&(this.short_view_count=new a(e.shortViewCountText)),"richThumbnail"in e&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),"shortBylineText"in e&&(this.short_byline_text=new a(e.shortBylineText)),"longBylineText"in e&&(this.long_byline_text=new a(e.longBylineText)),"lengthText"in e&&(this.length_text=new a(e.lengthText)),"serviceEndpoints"in e&&(this.service_endpoints=e.serviceEndpoints.map(i=>new h(i))),"serviceEndpoint"in e&&(this.service_endpoint=new h(e.serviceEndpoint)),"navigationEndpoint"in e&&(this.endpoint=new h(e.navigationEndpoint)),"style"in e&&(this.style=e.style)}get id(){return this.video_id}get duration(){var s;let e=this.thumbnail_overlays.firstOfType(Dt),i=((s=this.length_text)==null?void 0:s.toString())||(e==null?void 0:e.text.toString());return{text:i,seconds:i?Te(i):0}}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};r(oa,"CompactVideo");oa.type="CompactVideo";var zr=oa;var na=class extends n{constructor(e){super(),this.info_rows=l.parseArray(e.infoRows,ex),this.video_lockup=l.parseItem(e.videoLockup,zr)}};r(na,"CarouselLockup");na.type="CarouselLockup";var tx=na;var aa=class extends n{constructor(e){super(),this.carousel_lockups=l.parseArray(e.carouselLockups,tx),this.section_title=new a(e.sectionTitle)}};r(aa,"VideoDescriptionMusicSection");aa.type="VideoDescriptionMusicSection";var Xr=aa;var ca=class extends n{constructor(e){super(),this.section_title=new a(e.sectionTitle),this.sub_header_text=new a(e.subHeaderText),this.primary_button=l.parseItem(e.primaryButton,T)}};r(ca,"VideoDescriptionTranscriptSection");ca.type="VideoDescriptionTranscriptSection";var la=ca;var pa=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new a(e.title),this.short_byline_text=new a(e.shortBylineText),this.video_count_short_text=new a(e.videoCountShortText),this.endpoint=new h(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};r(pa,"StructuredDescriptionPlaylistLockup");pa.type="StructuredDescriptionPlaylistLockup";var ix=pa;var ua=class extends n{constructor(e){super(),this.section_title=new a(e.sectionTitle),this.media_lockups=l.parseArray(e.mediaLockups,[ix])}};r(ua,"VideoDescriptionCourseSection");ua.type="VideoDescriptionCourseSection";var rx=ua;var fa=class extends n{constructor(e){super(),this.header_title=e.headerTitle,this.header_subtitle=e.headerSubtitle,this.video_attributes=l.parseArray(e.videoAttributeViewModels,Ni),this.previous_button=l.parseItem(e.previousButton,J),this.next_button=l.parseItem(e.nextButton,J)}};r(fa,"VideoAttributesSectionView");fa.type="VideoAttributesSectionView";var sx=fa;var ma=class extends n{constructor(e){super(),Reflect.has(e,"sectionText")&&(this.section_title=a.fromAttributed(e.sectionText)),Reflect.has(e,"bodyText")&&(this.body_text=a.fromAttributed(e.bodyText)),Reflect.has(e,"bodyHeader")&&(this.body_header=a.fromAttributed(e.bodyHeader))}};r(ma,"HowThisWasMadeSectionView");ma.type="HowThisWasMadeSectionView";var ox=ma;var ha=class extends n{constructor(e){super(),this.title=new a(e.title),this.items=l.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new h(e.endpoint))}get contents(){return this.items}};r(ha,"ReelShelf");ha.type="ReelShelf";var Qr=ha;var da=class extends n{constructor(e){super(),this.items=l.parseArray(e.items,[J_,j_,Xr,Z_,rx,la,la,Ci,Qr,sx,ox])}};r(da,"StructuredDescriptionContent");da.type="StructuredDescriptionContent";var or=da;var _a=class extends n{constructor(e){super(),this.header=l.parseItem(e.header,U_),this.content=l.parseItem(e.content,[Ni,ue,z,F_,or,G_,H_]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};r(_a,"EngagementPanelSectionList");_a.type="EngagementPanelSectionList";var Ri=_a;var xa=class extends n{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:l.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,Ri),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new h(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};r(xa,"ChannelTagline");xa.type="ChannelTagline";var nx=xa;var ya=class extends n{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:l.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};r(ya,"SubscriptionNotificationToggleButton");ya.type="SubscriptionNotificationToggleButton";var ax=ya;var ba=class extends n{constructor(e){var i,s;super(),this.button_text=new a(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,Reflect.has(e,"subscribedButtonText")&&(this.subscribed_text=new a(e.subscribedButtonText)),Reflect.has(e,"unsubscribedButtonText")&&(this.unsubscribed_text=new a(e.unsubscribedButtonText)),Reflect.has(e,"unsubscribeButtonText")&&(this.unsubscribe_text=new a(e.unsubscribeButtonText)),this.notification_preference_button=l.parseItem(e.notificationPreferenceButton,ax),Reflect.has(e,"serviceEndpoints")&&(this.service_endpoints=e.serviceEndpoints.map(o=>new h(o))),Reflect.has(e,"onSubscribeEndpoints")&&(this.on_subscribe_endpoints=e.onSubscribeEndpoints.map(o=>new h(o))),Reflect.has(e,"onUnsubscribeEndpoints")&&(this.on_unsubscribe_endpoints=e.onUnsubscribeEndpoints.map(o=>new h(o))),Reflect.has(e,"subscribedEntityKey")&&(this.subscribed_entity_key=e.subscribedEntityKey),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"subscribeAccessibility")&&(this.subscribe_accessibility_label=(i=e.subscribeAccessibility.accessibilityData)==null?void 0:i.label),Reflect.has(e,"unsubscribeAccessibility")&&(this.unsubscribe_accessibility_label=(s=e.unsubscribeAccessibility.accessibilityData)==null?void 0:s.label)}};r(ba,"SubscribeButton");ba.type="SubscribeButton";var de=ba;var ga=class extends n{constructor(e){super(),this.author=new P({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=y.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=y.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=y.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new a(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new a(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=l.parseItem(e.sponsorButton,T)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=l.parseItem(e.subscribeButton,[de,T])),Reflect.has(e,"headerLinks")&&(this.header_links=l.parseItem(e.headerLinks,[D_,B_])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new a(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=l.parseItem(e.tagline,nx))}};r(ga,"C4TabbedHeader");ga.type="C4TabbedHeader";var Jr=ga;var wa=class extends n{constructor(e){super(),this.label=new a(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};r(wa,"CallToActionButton");wa.type="CallToActionButton";var qT=wa;var Ta=class extends n{constructor(e){super(),this.teaser=l.parseItem(e.teaser),this.content=l.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};r(Ta,"Card");Ta.type="Card";var KT=Ta;var va=class extends n{constructor(e){super(),this.cards=l.parseArray(e.cards),this.header=new a(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};r(va,"CardCollection");va.type="CardCollection";var cx=va;var Ia=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(Ia,"CarouselHeader");Ia.type="CarouselHeader";var lx=Ia;var Sa=class extends n{constructor(e){super(),this.items=l.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=y.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};r(Sa,"CarouselItem");Sa.type="CarouselItem";var zT=Sa;var ka=class extends n{constructor(e){super(),this.icon_name=e.iconName,this.text=a.fromAttributed(e.text),this.on_tap_endpoint=new h(e.onTap),this.button=l.parseItem(e.button,J)}};r(ka,"TextCarouselItemView");ka.type="TextCarouselItemView";var px=ka;var Ea=class extends n{constructor(e){super(),this.item_type=e.itemType,this.carousel_item=l.parseItem(e.carouselItem,px)}};r(Ea,"CarouselItemView");Ea.type="CarouselItemView";var ux=Ea;var Ca=class extends n{constructor(e){super(),this.title=e.title,this.previous_button=l.parseItem(e.previousButton,J),this.next_button=l.parseItem(e.nextButton,J)}};r(Ca,"CarouselTitleView");Ca.type="CarouselTitleView";var fx=Ca;var Pa=class extends n{constructor(e){super(),this.id=e.channelId,this.author=new P({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscriber_count=new a(e.subscriberCountText),this.video_count=new a(e.videoCountText),this.long_byline=new a(e.longBylineText),this.short_byline=new a(e.shortBylineText),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,[de,T]),this.description_snippet=new a(e.descriptionSnippet)}};r(Pa,"Channel");Pa.type="Channel";var mx=Pa;var Na=class extends n{constructor(e){var i,s;super(),this.id=e.channelId,this.name=new a(e.title),this.avatar=y.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(s=(i=e.primaryLinks)==null?void 0:i.map(o=>({endpoint:new h(o.navigationEndpoint),icon:y.fromResponse(o.icon),title:new a(o.title)})))!=null?s:[],this.view_count=new a(e.viewCountText),this.joined_date=new a(e.joinedDateText),this.description=new a(e.description),this.email_reveal=new h(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new a(e.country),this.buttons=l.parseArray(e.actionButtons,T)}};r(Na,"ChannelAboutFullMetadata");Na.type="ChannelAboutFullMetadata";var Aa=Na;var Ra=class extends n{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=y.fromResponse(e.avatar),this.header=new a(e.header),this.main_text=new a(e.mainText),this.sign_in_button=l.parseItem(e.signInButton,T),this.secondary_text=new a(e.secondaryText)}};r(Ra,"ChannelAgeGate");Ra.type="ChannelAgeGate";var XT=Ra;var Ma=class extends n{constructor(e){super(),this.title=new a(e.title),this.items=l.parseArray(e.items)}};r(Ma,"ChannelFeaturedContent");Ma.type="ChannelFeaturedContent";var QT=Ma;var Da=class extends n{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=y.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};r(Da,"ChannelMetadata");Da.type="ChannelMetadata";var hx=Da;var Ba=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(Ba,"ChannelMobileHeader");Ba.type="ChannelMobileHeader";var JT=Ba;var La=class extends n{constructor(e){super(),this.avatar=y.fromResponse(e.avatar),this.endpoint=new h(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new a(i))}};r(La,"ChannelOptions");La.type="ChannelOptions";var dx=La;var Oa=class extends n{constructor(e){super(),this.illustration=y.fromResponse(e.illustration),this.description=new a(e.description)}};r(Oa,"ChannelOwnerEmptyState");Oa.type="ChannelOwnerEmptyState";var ZT=Oa;var Ya=class extends n{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new h(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=l.parseItem(e.sortSetting)}};r(Ya,"ChannelSubMenu");Ya.type="ChannelSubMenu";var Va=Ya;var Fa=class extends n{constructor(e){super(),this.title=new a(e.title).toString(),Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,T))}};r(Fa,"ChannelSwitcherHeader");Fa.type="ChannelSwitcherHeader";var e0=Fa;var Ua=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new h(e.navigationEndpoint),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new ae(e.accessibility.accessibilityData)})}get label(){var e,i;return(i=(e=this.accessibility)==null?void 0:e.accessibility_data)==null?void 0:i.label}};r(Ua,"ChannelThumbnailWithLink");Ua.type="ChannelThumbnailWithLink";var t0=Ua;var Wa=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new a(e.title),this.description=new a(e.description),this.view_count=new a(e.viewCountText),this.published_time=new a(e.publishedTimeText)}};r(Wa,"ChannelVideoPlayer");Wa.type="ChannelVideoPlayer";var i0=Wa;var Ga=class extends n{constructor(e){super(),this.title=new a(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=y.fromResponse(e.thumbnail)}};r(Ga,"Chapter");Ga.type="Chapter";var _x=Ga;var Ha=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new a(e.title),this.duration={text:e.lengthText.simpleText,seconds:Te(e.lengthText.simpleText)},this.endpoint=new h(e.navigationEndpoint)}};r(Ha,"ChildVideo");Ha.type="ChildVideo";var r0=Ha;var ja=class extends n{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new h(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};r(ja,"ChipView");ja.type="ChipView";var xx=ja;var $a=class extends n{constructor(e){super(),this.chips=l.parseArray(e.chips,xx)}};r($a,"ChipBarView");$a.type="ChipBarView";var s0=$a;var qa=class extends n{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),this.text=new a(e.text).toString()}};r(qa,"ChipCloudChip");qa.type="ChipCloudChip";var $e=qa;var Ka=class extends n{constructor(e){super(),this.chips=l.parseArray(e.chips,$e),this.next_button=l.parseItem(e.nextButton,T),this.previous_button=l.parseItem(e.previousButton,T),this.horizontal_scrollable=e.horizontalScrollable}};r(Ka,"ChipCloud");Ka.type="ChipCloud";var Zr=Ka;var za=class extends n{constructor(e){super(),this.text=new a(e.defaultText),this.icon_type=e.defaultIcon.iconType,this.toggled_text=new a(e.toggledText),this.toggled_icon_type=e.toggledIcon.iconType,Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.menu_item_identifier=e.menuItemIdentifier,this.endpoint=new h(e.command),Reflect.has(e,"loggingDirectives")&&(this.logging_directives={visibility:{types:e.loggingDirectives.visibility.types},enable_displaylogger_experiment:e.loggingDirectives.enableDisplayloggerExperiment})}};r(za,"ClientSideToggleMenuItem");za.type="ClientSideToggleMenuItem";var o0=za;var Xa=class extends n{constructor(e){super(),this.channel_avatar=y.fromResponse(e.channelAvatar),this.custom_text=new a(e.customText),this.channel_name=new a(e.channelName),this.subscriber_count=new a(e.subscriberCountText),this.endpoint=new h(e.endpoint)}};r(Xa,"CollaboratorInfoCardContent");Xa.type="CollaboratorInfoCardContent";var n0=Xa;var Qa=class extends n{constructor(e){super(),this.left=y.fromResponse(e.leftThumbnail),this.top_right=y.fromResponse(e.topRightThumbnail),this.bottom_right=y.fromResponse(e.bottomRightThumbnail),this.endpoint=new h(e.navigationEndpoint)}};r(Qa,"CollageHeroImage");Qa.type="CollageHeroImage";var a0=Qa;var Ja=class extends n{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=a.fromAttributed(e.text),this.style=e.style}};r(Ja,"ThumbnailHoverOverlayView");Ja.type="ThumbnailHoverOverlayView";var yx=Ja;var Za=class extends n{constructor(e){super(),this.text=e.text,this.badge_style=e.badgeStyle,e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}),e.iconName&&(this.icon_name=e.icon.sources[0].clientResource.imageName)}};r(Za,"ThumbnailBadgeView");Za.type="ThumbnailBadgeView";var es=Za;var ec=class extends n{constructor(e){super(),this.badges=l.parseArray(e.thumbnailBadges,es),this.position=e.position}};r(ec,"ThumbnailOverlayBadgeView");ec.type="ThumbnailOverlayBadgeView";var bx=ec;var tc=class extends n{constructor(e){super(),this.buttons=l.parseArray(e.buttons,et)}};r(tc,"ThumbnailHoverOverlayToggleActionsView");tc.type="ThumbnailHoverOverlayToggleActionsView";var gx=tc;var ic=class extends n{constructor(e){super(),this.start_percent=e.startPercent}};r(ic,"ThumbnailOverlayProgressBarView");ic.type="ThumbnailOverlayProgressBarView";var wx=ic;var rc=class extends n{constructor(e){super(),this.progress_bar=l.parseItem(e.progressBar,wx),this.badges=l.parseArray(e.badges,es)}};r(rc,"ThumbnailBottomOverlayView");rc.type="ThumbnailBottomOverlayView";var Tx=rc;var sc=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.overlays=l.parseArray(e.overlays,[gx,Tx,bx,yx,y_]),"backgroundColor"in e&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};r(sc,"ThumbnailView");sc.type="ThumbnailView";var ts=sc;var oc=class extends n{constructor(e){super(),this.primary_thumbnail=l.parseItem(e.primaryThumbnail,ts),e.stackColor&&(this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme})}};r(oc,"CollectionThumbnailView");oc.type="CollectionThumbnailView";var vx=oc;var nc=class extends n{constructor(e){super(),this.open_miniplayer=e.openMiniplayer,this.video_id=e.videoId,this.list_type=e.listType,this.endpoint=new h(e.onCreateListCommand),this.video_ids=e.videoIds}};r(nc,"AddToPlaylistCommand");nc.type="AddToPlaylistCommand";var c0=nc;var ac=class extends n{constructor(e){super(),this.commands=l.parseCommands(e.commands)}};r(ac,"CommandExecutorCommand");ac.type="CommandExecutorCommand";var l0=ac;var yt,cc=class extends n{constructor(e){super(),yt.set(this,void 0),S(this,yt,e,"f")}getApiPath(){switch(u(this,yt,"f").request){case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":return"next";case"CONTINUATION_REQUEST_TYPE_BROWSE":return"browse";case"CONTINUATION_REQUEST_TYPE_SEARCH":return"search";case"CONTINUATION_REQUEST_TYPE_ACCOUNTS_LIST":return"account/accounts_list";case"CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU":return"notification/get_notification_menu";case"CONTINUATION_REQUEST_TYPE_COMMENT_REPLIES":return"comment/get_comment_replies";case"CONTINUATION_REQUEST_TYPE_REEL_WATCH_SEQUENCE":return"reel/reel_watch_sequence";case"CONTINUATION_REQUEST_TYPE_GET_PANEL":return"get_panel";default:return""}}buildRequest(){let e={};return u(this,yt,"f").formData&&(e.formData=u(this,yt,"f").formData),u(this,yt,"f").token&&(e.continuation=u(this,yt,"f").token),u(this,yt,"f").request==="CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU"&&(e.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_COMMENTS",u(this,yt,"f").token&&(e.fetchCommentsParams={continuation:u(this,yt,"f").token},delete e.continuation)),e}};r(cc,"ContinuationCommand");yt=new WeakMap;cc.type="ContinuationCommand";var p0=cc;var lc,BC="kids/get_kids_blocklist_picker",pc=class extends n{constructor(e){super(),lc.set(this,void 0),S(this,lc,e,"f")}getApiPath(){return BC}buildRequest(){let e={};return u(this,lc,"f").blockedForKidsContent&&(e.blockedForKidsContent=u(this,lc,"f").blockedForKidsContent),e}};r(pc,"GetKidsBlocklistPickerCommand");lc=new WeakMap;pc.type="GetKidsBlocklistPickerCommand";var u0=pc;var uc=class extends n{constructor(e){super(),this.engagement_type=e.engagementType,Reflect.has(e,"ids")&&(this.ids=e.ids.map(i=>({encrypted_video_id:i.encryptedVideoId,external_channel_id:i.externalChannelId,comment_id:i.commentId,external_owner_id:i.externalOwnerId,artist_id:i.artistId,playlist_id:i.playlistId,external_post_id:i.externalPostId,share_id:i.shareId})))}};r(uc,"RunAttestationCommand");uc.type="RunAttestationCommand";var Ix=uc;var fc=class extends n{constructor(e){var i;super(),this.inline_content=l.parseItem((i=e.panelLoadingStrategy)==null?void 0:i.inlineContent),this.remove_default_padding=!!e.removeDefaultPadding}};r(fc,"ShowDialogCommand");fc.type="ShowDialogCommand";var f0=fc;var mc=class extends n{constructor(e){super(),this.content_source_panel_identifier=e.contentSourcePanelIdentifier,this.target_panel_identifier=e.targetPanelIdentifier}};r(mc,"UpdateEngagementPanelContentCommand");mc.type="UpdateEngagementPanelContentCommand";var m0=mc;var Sx,hc=class extends n{constructor(e){super(),Sx.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED",e.style="BADGE_STYLE_TYPE_VERIFIED"),S(this,Sx,e,"f")}get orig_badge(){return u(this,Sx,"f")}};r(hc,"AuthorCommentBadge");Sx=new WeakMap;hc.type="AuthorCommentBadge";var h0=hc;var dc=class extends n{constructor(e){super(),this.id=e.id,this.categories=l.parseArray(e.categories),this.category_buttons=l.parseArray(e.categoryButtons),this.search_placeholder=new a(e.searchPlaceholderText),this.search_no_results=new a(e.searchNoResultsText),this.pick_skin_tone=new a(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};r(dc,"EmojiPicker");dc.type="EmojiPicker";var kx=dc;var _c=class extends n{constructor(e){super(),this.editable_text=new a(e.editableText),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.submit_button=l.parseItem(e.submitButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.placeholder=new a(e.placeholderText),this.emoji_button=l.parseItem(e.emojiButton,T),this.emoji_picker=l.parseItem(e.emojiPicker,kx)}};r(_c,"CommentDialog");_c.type="CommentDialog";var d0=_c;var xc=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents),this.view_replies=l.parseItem(e.viewReplies,T),this.hide_replies=l.parseItem(e.hideReplies,T),this.view_replies_creator_thumbnail=y.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};r(xc,"CommentReplies");xc.type="CommentReplies";var Ex=xc;var yc=class extends n{constructor(e){super(),this.reply_button=l.parseItem(e.replyButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new a(e.placeholderText),this.error_message=new a(e.errorMessage)}};r(yc,"CommentReplyDialog");yc.type="CommentReplyDialog";var Cx=yc;var bc=class extends n{constructor(e){super(),this.simplebox_avatar=y.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new a(e.simpleboxPlaceholder)}};r(bc,"CommentsSimplebox");bc.type="CommentsSimplebox";var Px=bc;var gc=class extends n{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new a(e.teaserContent))}};r(gc,"CommentsEntryPointTeaser");gc.type="CommentsEntryPointTeaser";var Nx=gc;var wc=class extends n{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new a(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new a(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new a(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=l.parseItem(e.contentRenderer,[Nx,Px])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new a(e.simpleboxPlaceholder))}};r(wc,"CommentsEntryPointHeader");wc.type="CommentsEntryPointHeader";var Ax=wc;var Tc=class extends n{constructor(e){super(),this.title=new a(e.titleText),this.count=new a(e.countText),this.comments_count=new a(e.commentsCount),this.create_renderer=l.parseItem(e.createRenderer),this.sort_menu=l.parseItem(e.sortMenu,xt),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:y.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};r(Tc,"CommentsHeader");Tc.type="CommentsHeader";var Mi=Tc;var vc=class extends n{constructor(e){super(),this.submit_button=l.parseItem(e.submitButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new a(e.placeholderText),this.avatar_size=e.avatarSize}};r(vc,"CommentSimplebox");vc.type="CommentSimplebox";var Rx=vc;var Oe,Ic=class extends n{constructor(e){super(),Oe.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,s){e&&(this.content=a.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.creator_thumbnail_url=e.toolbar.creatorThumbnailUrl,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.like_count_liked=e.toolbar.likeCountLiked?e.toolbar.likeCountLiked:"0",this.like_count_a11y=e.toolbar.likeCountA11y,this.like_active_tooltip=e.toolbar.likeActiveTooltip,this.like_inactive_tooltip=e.toolbar.likeInactiveTooltip,this.dislike_active_tooltip=e.toolbar.dislikeActiveTooltip,this.dislike_inactive_tooltip=e.toolbar.dislikeInactiveTooltip,this.like_button_a11y=e.toolbar.likeButtonA11y,this.heart_active_tooltip=e.toolbar.heartActiveTooltip,this.reply_count_a11y=e.toolbar.replyCountA11y,this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new P({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),s&&("prepareAccountCommand"in s?this.prepare_account_command=new h(s.prepareAccountCommand):(this.like_command=new h(s.likeCommand),this.dislike_command=new h(s.dislikeCommand),this.unlike_command=new h(s.unlikeCommand),this.undislike_command=new h(s.undislikeCommand),this.reply_command=new h(s.replyCommand)))}async like(){if(!u(this,Oe,"f"))throw new g("Actions instance not set for this comment.");if(!this.like_command)throw new g("Like command not found.");if(this.is_liked)throw new g("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(u(this,Oe,"f"))}async dislike(){if(!u(this,Oe,"f"))throw new g("Actions instance not set for this comment.");if(!this.dislike_command)throw new g("Dislike command not found.");if(this.is_disliked)throw new g("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(u(this,Oe,"f"))}async unlike(){if(!u(this,Oe,"f"))throw new g("Actions instance not set for this comment.");if(!this.unlike_command)throw new g("Unlike command not found.");if(!this.is_liked)throw new g("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(u(this,Oe,"f"))}async undislike(){if(!u(this,Oe,"f"))throw new g("Actions instance not set for this comment.");if(!this.undislike_command)throw new g("Undislike command not found.");if(!this.is_disliked)throw new g("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(u(this,Oe,"f"))}async reply(e){var o;if(!u(this,Oe,"f"))throw new g("Actions instance not set for this comment.");if(!this.reply_command)throw new g("Reply command not found.");let i=(o=this.reply_command.dialog)==null?void 0:o.as(Cx);if(!i)throw new g("Reply dialog not found.");let s=i.reply_button;if(!s)throw new g("Reply button not found in the dialog.");if(!s.endpoint)throw new g("Reply button endpoint not found.");return s.endpoint.call(u(this,Oe,"f"),{commentText:e})}async translate(e){var m,_,x,b,w,v;if(!u(this,Oe,"f"))throw new g("Actions instance not set for this comment.");if(!this.content)throw new g("Comment content not found.",{comment_id:this.comment_id});let s={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},o=Wg(22,s),c=await u(this,Oe,"f").execute("comment/perform_comment_action",{action:o}),p=(_=(m=c.data.frameworkUpdates)==null?void 0:m.entityBatchUpdate)==null?void 0:_.mutations,f=(v=(w=(b=(x=p==null?void 0:p[0])==null?void 0:x.payload)==null?void 0:b.commentEntityPayload)==null?void 0:w.translatedContent)==null?void 0:v.content;return{...c,content:f}}setActions(e){S(this,Oe,e,"f")}};r(Ic,"CommentView");Oe=new WeakMap;Ic.type="CommentView";var nr=Ic;var Mx,Di,ar,Hg,Sc=class extends n{constructor(e){super(),Mx.add(this),Di.set(this,void 0),ar.set(this,void 0),this.comment=l.parseItem(e.commentViewModel,nr),this.comment_replies_data=l.parseItem(e.replies,Ex),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}get has_continuation(){if(!this.replies)throw new g("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!u(this,ar,"f")}async getReplies(){var s;if(!u(this,Di,"f"))throw new g("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new g("This comment has no replies.",this);let e=(s=this.comment_replies_data.contents)==null?void 0:s.firstOfType(z);if(!e)throw new g("Replies continuation not found.");let i=await e.endpoint.call(u(this,Di,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new g("Unexpected response.",i);return this.replies=u(this,Mx,"m",Hg).call(this,i.on_response_received_endpoints_memo),S(this,ar,i.on_response_received_endpoints_memo.getType(z)[0],"f"),this}async getContinuation(){var s;if(!this.replies)throw new g("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!u(this,ar,"f"))throw new g("Continuation not found.");if(!u(this,Di,"f"))throw new g("Actions instance not set for this thread.");let e=(s=u(this,ar,"f").button)==null?void 0:s.as(T);if(!e)throw new g('"Load more" button not found.');let i=await e.endpoint.call(u(this,Di,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new g("Unexpected response.",i);return this.replies=u(this,Mx,"m",Hg).call(this,i.on_response_received_endpoints_memo),S(this,ar,i.on_response_received_endpoints_memo.getType(z)[0],"f"),this}setActions(e){S(this,Di,e,"f")}};r(Sc,"CommentThread");Di=new WeakMap,ar=new WeakMap,Mx=new WeakSet,Hg=r(function(e){return G(e.getType(nr).map(i=>(i.setActions(u(this,Di,"f")),i)))},"_CommentThread_getPatchedReplies");Sc.type="CommentThread";var Dx=Sc;var kc=class extends n{constructor(e){var i,s;super(),this.text=new a(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)==null?void 0:i.backgroundColor,foreground_title_color:(s=e.chipColorPalette)==null?void 0:s.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};r(kc,"PdgCommentChip");kc.type="PdgCommentChip";var _0=kc;var Ec=class extends n{constructor(e){super(),this.custom_badge=y.fromResponse(e.customBadge),this.tooltip=e.tooltip}};r(Ec,"SponsorCommentBadge");Ec.type="SponsorCommentBadge";var x0=Ec;var Cc=class extends n{constructor(e){super(),this.title=new a(e.title),this.channel_id=e.channelId,this.thumbnail=y.fromResponse(e.thumbnail),this.display_name=new a(e.displayName),this.video_count=new a(e.videoCountText),this.subscriber_count=new a(e.subscriberCountText),this.endpoint=new h(e.navigationEndpoint),this.tv_banner=y.fromResponse(e.tvBanner),this.menu=l.parseItem(e.menu,R)}};r(Cc,"CompactChannel");Cc.type="CompactChannel";var y0=Cc;var Pc=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Pc,"PlaylistCustomThumbnail");Pc.type="PlaylistCustomThumbnail";var is=Pc;var Nc=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Nc,"PlaylistVideoThumbnail");Nc.type="PlaylistVideoThumbnail";var rs=Nc;var Ac=class extends n{constructor(e){var i;super(),this.id=e.playlistId,this.title=new a(e.title),this.author=(i=e.shortBylineText)!=null&&i.simpleText?new a(e.shortBylineText):new P(e.longBylineText,e.ownerBadges,null),this.thumbnails=y.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(s=>s.thumbnails).flat(1)}),this.video_count=new a(e.thumbnailText),this.video_count_short=new a(e.videoCountShortText),this.first_videos=l.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=l.parseItem(e.menu),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer,[rs,is])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new a(e.viewPlaylistText))}};r(Ac,"Playlist");Ac.type="Playlist";var Bt=Ac;var Rc=class extends Bt{constructor(e){super(e)}};r(Rc,"CompactMix");Rc.type="CompactMix";var b0=Rc;var Mc=class extends n{constructor(e){var o;super();let i=((o=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))==null?void 0:o.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new a(e.title),this.top_metadata_items=new a(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new P(e.shortBylineText);let s=e.lengthText?new a(e.lengthText).toString():new a(i).toString();this.duration={text:s,seconds:Te(s)},this.endpoint=new h(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=l.parseItem(e.menu,R)}};r(Mc,"CompactMovie");Mc.type="CompactMovie";var g0=Mc;var Dc=class extends Bt{constructor(e){super(e)}};r(Dc,"CompactPlaylist");Dc.type="CompactPlaylist";var w0=Dc;var Bc=class extends n{constructor(e){super(),this.title=new a(e.title),this.description=new a(e.description),this.video_count=new a(e.videoCountText),this.endpoint=new h(e.navigationEndpoint),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Bc,"CompactStation");Bc.type="CompactStation";var T0=Bc;var Lc=class extends n{constructor(e){super(),this.title=new a(e.title),this.confirm_button=l.parseItem(e.confirmButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.dialog_messages=e.dialogMessages.map(i=>new a(i))}};r(Lc,"ConfirmDialog");Lc.type="ConfirmDialog";var v0=Lc;var Oc=class extends n{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var s;return{metadata_parts:(s=i.metadataParts)==null?void 0:s.map(o=>({text:o.text?a.fromAttributed(o.text):null,avatar_stack:l.parseItem(o.avatarStack,T_),enable_truncation:e.enableTruncation}))}}),this.delimiter=e.delimiter}};r(Oc,"ContentMetadataView");Oc.type="ContentMetadataView";var ss=Oc;var Yc=class extends n{constructor(e){super(),this.text=new a(e.text)}};r(Yc,"Message");Yc.type="Message";var Lt=Yc;var Vc=class extends n{constructor(e){super(),this.availability_message=l.parseItem(e.availabilityMessage,Lt)}};r(Vc,"ConversationBar");Vc.type="ConversationBar";var I0=Vc;var Fc=class extends n{constructor(e){super(),this.copy_button=l.parseItem(e.copyButton,T),this.short_url=e.shortUrl,this.style=e.style}};r(Fc,"CopyLink");Fc.type="CopyLink";var os=Fc;var Uc=class extends n{constructor(e){super(),this.label=new a(e.label),this.placeholder_text=new a(e.placeholderText),this.disabled=!!e.disabled,this.dropdown_type=e.type,this.id=e.id,Reflect.has(e,"options")&&(this.options=e.options.map(i=>{var s;return{title:new a(i.title),subtitle:new a(i.subtitle),leading_image:y.fromResponse(i.leadingImage),value:{privacy_status_value:(s=i.value)==null?void 0:s.privacyStatusValue},on_tap:new h(i.onTap),is_selected:!!i.isSelected}}))}};r(Uc,"DropdownView");Uc.type="DropdownView";var Bx=Uc;var Wc=class extends n{constructor(e){super(),Reflect.has(e,"displayProperties")&&(this.display_properties={isMultiline:!!e.displayProperties.isMultiline,disableNewLines:!!e.displayProperties.disableNewLines}),Reflect.has(e,"contentProperties")&&(this.content_properties={labelText:e.contentProperties.labelText,placeholderText:e.contentProperties.placeholderText,maxCharacterCount:e.contentProperties.maxCharacterCount}),Reflect.has(e,"initialState")&&(this.initial_state={isFocused:!!e.initialState.isFocused}),Reflect.has(e,"formFieldMetadata")&&(this.form_field_metadata={formId:e.formFieldMetadata.formId,fieldId:e.formFieldMetadata.fieldId})}};r(Wc,"TextFieldView");Wc.type="TextFieldView";var Lx=Wc;var Gc=class extends n{constructor(e){super(),this.playlist_title=l.parseItem(e.playlistTitle,Lx),this.playlist_visibility=l.parseItem(e.playlistVisibility,Bx),this.disable_playlist_collaborate=!!e.disablePlaylistCollaborate,this.create_playlist_params_collaboration_enabled=e.createPlaylistParamsCollaborationEnabled,this.create_playlist_params_collaboration_disabled=e.createPlaylistParamsCollaborationDisabled,this.video_ids=e.videoIds}};r(Gc,"CreatePlaylistDialogFormView");Gc.type="CreatePlaylistDialogFormView";var Ox=Gc;var Hc=class extends n{constructor(e){super(),this.avatar=l.parseItem(e.avatar,Ur),this.a11y_label=e.a11yLabel,this.renderer_context=new Ne(e.rendererContext)}};r(Hc,"DecoratedAvatarView");Hc.type="DecoratedAvatarView";var ns=Hc;var jc=class extends n{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};r(jc,"HeatMarker");jc.type="HeatMarker";var Yx=jc;var $c=class extends n{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=l.parseArray(e.heatMarkers,Yx),this.heat_markers_decorations=l.parseArray(e.heatMarkersDecorations)}};r($c,"Heatmap");$c.type="Heatmap";var Vx=$c;var qc=class extends n{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=l.parseItem(e.value.heatmap,Vx)),Reflect.has(e.value,"chapters")&&(this.value.chapters=l.parseArray(e.value.chapters,_x)))}};r(qc,"Marker");qc.type="Marker";var Kc=class extends n{constructor(e){var i;super(),this.markers_map=G(((i=e.markersMap)==null?void 0:i.map(s=>new qc(s)))||[])}};r(Kc,"MultiMarkersPlayerBar");Kc.type="MultiMarkersPlayerBar";var Fx=Kc;var zc=class extends n{constructor(e){super(),this.player_bar=l.parseItem(e.playerBar,Fx),this.player_bar_action_button=l.parseItem(e.playerBarActionButton,T)}};r(zc,"DecoratedPlayerBar");zc.type="DecoratedPlayerBar";var Ux=zc;var Xc=class extends n{constructor(e){super(),this.title=new a(e.title),this.description=new a(e.description),this.endpoint=new h(e.navigationEndpoint),this.large_form_factor_background_thumbnail=l.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=l.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};r(Xc,"DefaultPromoPanel");Xc.type="DefaultPromoPanel";var S0=Xc;var Qc=class extends n{constructor(e){var i,s,o,c,p,f;if(super(),Reflect.has(e,"description")&&(this.description=a.fromAttributed(e.description)),Reflect.has(e,"maxLines")&&(this.max_lines=parseInt(e.maxLines)),Reflect.has(e,"truncationText")&&(this.truncation_text=a.fromAttributed(e.truncationText)),this.always_show_truncation_text=!!e.alwaysShowTruncationText,(o=(s=(i=e.rendererContext.commandContext)==null?void 0:i.onTap)==null?void 0:s.innertubeCommand)!=null&&o.showEngagementPanelEndpoint){let m=(f=(p=(c=e.rendererContext.commandContext)==null?void 0:c.onTap)==null?void 0:p.innertubeCommand)==null?void 0:f.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:l.parseItem(m.engagementPanel,Ri),engagement_panel_popup_type:m.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:m.identifier.surface,tag:m.identifier.tag}}}}this.renderer_context=new Ne(e.rendererContext)}};r(Qc,"DescriptionPreviewView");Qc.type="DescriptionPreviewView";var Wx=Qc;var Jc=class extends n{constructor(e){super(),this.headline=a.fromAttributed(e.headline)}};r(Jc,"DialogHeaderView");Jc.type="DialogHeaderView";var Gx=Jc;var Zc=class extends n{constructor(e){super(),this.primary_button=l.parseItem(e.primaryButton,J),this.secondary_button=l.parseItem(e.secondaryButton,J),this.should_hide_divider=!!e.shouldHideDivider}};r(Zc,"PanelFooterView");Zc.type="PanelFooterView";var as=Zc;var el=class extends n{constructor(e){super(),this.panel_footer=l.parseItem(e.panelFooter,as),this.form_id=e.formId,this.container_type=e.containerType}};r(el,"FormFooterView");el.type="FormFooterView";var Hx=el;var tl=class extends n{constructor(e){super(),this.header=l.parseItem(e.header,Gx),this.footer=l.parseItem(e.footer,[Hx,as]),this.custom_content=l.parseItem(e.customContent,Ox)}};r(tl,"DialogView");tl.type="DialogView";var k0=tl;var il=class extends n{constructor(e){super(),this.text=new a(e.didYouMean).toString(),this.corrected_query=new a(e.correctedQuery),this.endpoint=new h(e.navigationEndpoint||e.correctedQueryEndpoint)}};r(il,"DidYouMean");il.type="DidYouMean";var E0=il;var rl=class extends n{constructor(e){super(),this.text=a.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};r(rl,"DynamicTextView");rl.type="DynamicTextView";var jx=rl;var cr=class extends n{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)==null?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(s=>new cr(s)))}};r(cr,"ChildElement");cr.type="ChildElement";var $x=cr;var lr=class extends n{constructor(e){var s;if(super(),Reflect.has(e,"elementRenderer"))return l.parseItem(e,lr);let i=e.newElement.type.componentType;this.model=l.parseItem(i==null?void 0:i.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=G(((s=e.newElement.childElements)==null?void 0:s.map(o=>new $x(o)))||[]))}};r(lr,"Element");lr.type="Element";var qx=lr;var sl=class extends n{constructor(e){super(),this.title=new a(e.title),this.first_option=l.parseItem(e.firstOption),this.menu=l.parseItem(e.menu,R)}};r(sl,"EmergencyOnebox");sl.type="EmergencyOnebox";var C0=sl;var ol=class extends n{constructor(e){super(),this.category_id=e.categoryId,this.title=new a(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};r(ol,"EmojiPickerCategory");ol.type="EmojiPickerCategory";var P0=ol;var nl=class extends n{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),this.tooltip=e.tooltip}};r(nl,"EmojiPickerCategoryButton");nl.type="EmojiPickerCategoryButton";var N0=nl;var al=class extends n{constructor(e){super(),this.category_id=e.categoryId,this.title=new a(e.title),this.upsell=new a(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new h(e.command),this.emoji_ids=e.emojiIds}};r(al,"EmojiPickerUpsellCategory");al.type="EmojiPickerUpsellCategory";var A0=al;var bt,LC="playlist/get_add_to_playlist",cl=class extends n{constructor(e){super(),bt.set(this,void 0),S(this,bt,e,"f")}getApiPath(){return LC}buildRequest(){let e={};return e.videoIds=u(this,bt,"f").videoIds?u(this,bt,"f").videoIds:[u(this,bt,"f").videoId],u(this,bt,"f").playlistId&&(e.playlistId=u(this,bt,"f").playlistId),u(this,bt,"f").params&&(e.params=u(this,bt,"f").params),e.excludeWatchLater=!!u(this,bt,"f").excludeWatchLater,e}};r(cl,"AddToPlaylistServiceEndpoint");bt=new WeakMap;cl.type="AddToPlaylistServiceEndpoint";var Kx=cl;var ll=class extends Kx{constructor(e){super(e)}};r(ll,"AddToPlaylistEndpoint");ll.type="AddToPlaylistEndpoint";var R0=ll;var ve,OC="browse",pl=class extends n{constructor(e){super(),ve.set(this,void 0),S(this,ve,e,"f")}getApiPath(){return OC}buildRequest(){let e={};return u(this,ve,"f").browseId&&(e.browseId=u(this,ve,"f").browseId),u(this,ve,"f").params&&(e.params=u(this,ve,"f").params),u(this,ve,"f").query&&(e.query=u(this,ve,"f").query),u(this,ve,"f").browseId==="FEsubscriptions"&&(e.subscriptionSettingsState=u(this,ve,"f").subscriptionSettingsState||"MY_SUBS_SETTINGS_STATE_LAYOUT_FORMAT_LIST"),u(this,ve,"f").browseId==="SPaccount_playback"&&(e.formData=u(this,ve,"f").formData||{accountSettingsFormData:{flagCaptionsDefaultOff:!1,flagAutoCaptionsDefaultOn:!1,flagDisableInlinePreview:!1,flagAudioDescriptionDefaultOn:!1}}),u(this,ve,"f").browseId==="FEwhat_to_watch"&&(u(this,ve,"f").browseRequestSupportedMetadata&&(e.browseRequestSupportedMetadata=u(this,ve,"f").browseRequestSupportedMetadata),u(this,ve,"f").inlineSettingStatus&&(e.inlineSettingStatus=u(this,ve,"f").inlineSettingStatus)),e}};r(pl,"BrowseEndpoint");ve=new WeakMap;pl.type="BrowseEndpoint";var M0=pl;var _e,YC="comment/create_comment",ul=class extends n{constructor(e){super(),_e.set(this,void 0),S(this,_e,e,"f")}getApiPath(){return YC}buildRequest(){let e={};if(u(this,_e,"f").createCommentParams&&(e.createCommentParams=u(this,_e,"f").createCommentParams),u(this,_e,"f").commentText&&(e.commentText=u(this,_e,"f").commentText),u(this,_e,"f").attachedVideoId?e.videoAttachment={videoId:u(this,_e,"f").attachedVideoId}:u(this,_e,"f").pollOptions?e.pollAttachment={choices:u(this,_e,"f").pollOptions}:u(this,_e,"f").imageBlobId?e.imageAttachment={encryptedBlobId:u(this,_e,"f").imageBlobId}:u(this,_e,"f").sharedPostId&&(e.sharedPostAttachment={postId:u(this,_e,"f").sharedPostId}),u(this,_e,"f").accessRestrictions&&typeof u(this,_e,"f").accessRestrictions=="number"){let i=u(this,_e,"f").accessRestrictions===1?"RESTRICTION_TYPE_EVERYONE":"RESTRICTION_TYPE_SPONSORS_ONLY";e.accessRestrictions={restriction:i}}return u(this,_e,"f").botguardResponse&&(e.botguardResponse=u(this,_e,"f").botguardResponse),e}};r(ul,"CreateCommentEndpoint");_e=new WeakMap;ul.type="CreateCommentEndpoint";var D0=ul;var Ye,VC="playlist/create",fl=class extends n{constructor(e){super(),Ye.set(this,void 0),S(this,Ye,e,"f")}getApiPath(){return VC}buildRequest(){let e={};return u(this,Ye,"f").title&&(e.title=u(this,Ye,"f").title),u(this,Ye,"f").privacyStatus&&(e.privacyStatus=u(this,Ye,"f").privacyStatus),u(this,Ye,"f").description&&(e.description=u(this,Ye,"f").description),u(this,Ye,"f").videoIds&&(e.videoIds=u(this,Ye,"f").videoIds),u(this,Ye,"f").params&&(e.params=u(this,Ye,"f").params),u(this,Ye,"f").sourcePlaylistId&&(e.sourcePlaylistId=u(this,Ye,"f").sourcePlaylistId),e}};r(fl,"CreatePlaylistServiceEndpoint");Ye=new WeakMap;fl.type="CreatePlaylistServiceEndpoint";var B0=fl;var ml,FC="playlist/delete",hl=class extends n{constructor(e){super(),ml.set(this,void 0),S(this,ml,e,"f")}getApiPath(){return FC}buildRequest(){let e={};return u(this,ml,"f").playlistId&&(e.playlistId=u(this,ml,"f").sourcePlaylistId),e}};r(hl,"DeletePlaylistEndpoint");ml=new WeakMap;hl.type="DeletePlaylistEndpoint";var L0=hl;var ri,UC="feedback",dl=class extends n{constructor(e){super(),ri.set(this,void 0),S(this,ri,e,"f")}getApiPath(){return UC}buildRequest(){let e={};return u(this,ri,"f").feedbackToken&&(e.feedbackTokens=[u(this,ri,"f").feedbackToken]),u(this,ri,"f").cpn&&(e.feedbackContext={cpn:u(this,ri,"f").cpn}),e.isFeedbackTokenUnencrypted=!!u(this,ri,"f").isFeedbackTokenUnencrypted,e.shouldMerge=!!u(this,ri,"f").shouldMerge,e}};r(dl,"FeedbackEndpoint");ri=new WeakMap;dl.type="FeedbackEndpoint";var O0=dl;var fe,WC="account/accounts_list",_l=class extends n{constructor(e){super(),fe.set(this,void 0),S(this,fe,e,"f")}getApiPath(){return WC}buildRequest(){let e={};return u(this,fe,"f").requestType&&(e.requestType=u(this,fe,"f").requestType,(u(this,fe,"f").requestType==="ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER"||u(this,fe,"f").requestType==="ACCOUNTS_LIST_REQUEST_TYPE_IDENTITY_PROMPT")&&u(this,fe,"f").nextUrl&&(e.nextNavendpoint={urlEndpoint:{url:u(this,fe,"f").nextUrl}})),u(this,fe,"f").channelSwitcherQuery&&(e.channelSwitcherQuery=u(this,fe,"f").channelSwitcherQuery),u(this,fe,"f").triggerChannelCreation&&(e.triggerChannelCreation=u(this,fe,"f").triggerChannelCreation),u(this,fe,"f").contentOwnerConfig&&u(this,fe,"f").contentOwnerConfig.externalContentOwnerId&&(e.contentOwnerConfig=u(this,fe,"f").contentOwnerConfig),u(this,fe,"f").obfuscatedSelectedGaiaId&&(e.obfuscatedSelectedGaiaId=u(this,fe,"f").obfuscatedSelectedGaiaId),u(this,fe,"f").selectedSerializedDelegationContext&&(e.selectedSerializedDelegationContext=u(this,fe,"f").selectedSerializedDelegationContext),u(this,fe,"f").callCircumstance&&(e.callCircumstance=u(this,fe,"f").callCircumstance),e}};r(_l,"GetAccountsListInnertubeEndpoint");fe=new WeakMap;_l.type="GetAccountsListInnertubeEndpoint";var Y0=_l;var xl=class extends n{constructor(e){super(),this.panel_identifier=e.panelIdentifier}};r(xl,"HideEngagementPanelEndpoint");xl.type="HideEngagementPanelEndpoint";var V0=xl;var gt,GC="like/like",HC="like/dislike",jC="like/removelike",yl=class extends n{constructor(e){super(),gt.set(this,void 0),S(this,gt,e,"f")}getApiPath(){return u(this,gt,"f").status==="DISLIKE"?HC:u(this,gt,"f").status==="INDIFFERENT"?jC:GC}buildRequest(){let e={};u(this,gt,"f").target&&(e.target=u(this,gt,"f").target);let i=this.getParams();return i&&(e.params=i),e}getParams(){switch(u(this,gt,"f").status){case"LIKE":return u(this,gt,"f").likeParams;case"DISLIKE":return u(this,gt,"f").dislikeParams;case"INDIFFERENT":return u(this,gt,"f").removeLikeParams;default:return}}};r(yl,"LikeEndpoint");gt=new WeakMap;yl.type="LikeEndpoint";var F0=yl;var bl,$C="live_chat/get_item_context_menu",gl=class extends n{constructor(e){super(),bl.set(this,void 0),S(this,bl,e,"f")}getApiPath(){return $C}buildRequest(){let e={};return u(this,bl,"f").params&&(e.params=u(this,bl,"f").params),e}};r(gl,"LiveChatItemContextMenuEndpoint");bl=new WeakMap;gl.type="LiveChatItemContextMenuEndpoint";var U0=gl;var pr,qC="notification/modify_channel_preference",wl=class extends n{constructor(e){super(),pr.set(this,void 0),S(this,pr,e,"f")}getApiPath(){return qC}buildRequest(){let e={};return u(this,pr,"f").params&&(e.params=u(this,pr,"f").params),u(this,pr,"f").secondaryParams&&(e.secondaryParams=u(this,pr,"f").secondaryParams),e}};r(wl,"ModifyChannelNotificationPreferenceEndpoint");pr=new WeakMap;wl.type="ModifyChannelNotificationPreferenceEndpoint";var W0=wl;var ur,KC="comment/perform_comment_action",Tl=class extends n{constructor(e){super(),ur.set(this,void 0),S(this,ur,e,"f")}getApiPath(){return KC}buildRequest(){let e={};return u(this,ur,"f").actions&&(e.actions=u(this,ur,"f").actions),u(this,ur,"f").action&&(e.actions=[u(this,ur,"f").action]),e}};r(Tl,"PerformCommentActionEndpoint");ur=new WeakMap;Tl.type="PerformCommentActionEndpoint";var G0=Tl;var si,zC="browse/edit_playlist",vl=class extends n{constructor(e){super(),si.set(this,void 0),S(this,si,e,"f")}getApiPath(){return zC}buildRequest(){let e={};return u(this,si,"f").actions&&(e.actions=u(this,si,"f").actions),u(this,si,"f").playlistId&&(e.playlistId=u(this,si,"f").playlistId),u(this,si,"f").params&&(e.params=u(this,si,"f").params),e}};r(vl,"PlaylistEditEndpoint");si=new WeakMap;vl.type="PlaylistEditEndpoint";var H0=vl;var he,XC="player",Il=class extends n{constructor(e){super(),he.set(this,void 0),S(this,he,e,"f")}getApiPath(){return XC}buildRequest(){let e={};return u(this,he,"f").videoId&&(e.videoId=u(this,he,"f").videoId),u(this,he,"f").playlistId&&(e.playlistId=u(this,he,"f").playlistId),(u(this,he,"f").index!==void 0||u(this,he,"f").playlistIndex!==void 0)&&(e.playlistIndex=u(this,he,"f").index||u(this,he,"f").playlistIndex),(u(this,he,"f").playerParams||u(this,he,"f").params)&&(e.params=u(this,he,"f").playerParams||u(this,he,"f").params),u(this,he,"f").startTimeSeconds&&(e.startTimeSecs=u(this,he,"f").startTimeSeconds),u(this,he,"f").overrideMutedAtStart&&(e.overrideMutedAtStart=u(this,he,"f").overrideMutedAtStart),e.racyCheckOk=!!u(this,he,"f").racyCheckOk,e.contentCheckOk=!!u(this,he,"f").contentCheckOk,e}};r(Il,"WatchEndpoint");he=new WeakMap;Il.type="WatchEndpoint";var zx=Il;var Sl=class extends zx{constructor(e){super(e)}};r(Sl,"PrefetchWatchCommand");Sl.type="PrefetchWatchCommand";var j0=Sl;var Ae,QC="reel/reel_item_watch",kl=class extends n{constructor(e){super(),Ae.set(this,void 0),S(this,Ae,e,"f")}getApiPath(){return QC}buildRequest(){let e={};return u(this,Ae,"f").videoId&&(e.playerRequest={videoId:u(this,Ae,"f").videoId}),e.playerRequest&&(u(this,Ae,"f").playerParams&&(e.playerRequest.params=u(this,Ae,"f").playerParams),u(this,Ae,"f").racyCheckOk&&(e.playerRequest.racyCheckOk=!!u(this,Ae,"f").racyCheckOk),u(this,Ae,"f").contentCheckOk&&(e.playerRequest.contentCheckOk=!!u(this,Ae,"f").contentCheckOk)),u(this,Ae,"f").params&&(e.params=u(this,Ae,"f").params),u(this,Ae,"f").inputType&&(e.inputType=u(this,Ae,"f").inputType),e.disablePlayerResponse=!!u(this,Ae,"f").disablePlayerResponse,e}};r(kl,"ReelWatchEndpoint");Ae=new WeakMap;kl.type="ReelWatchEndpoint";var $0=kl;var wt,JC="search",El=class extends n{constructor(e){super(),wt.set(this,void 0),S(this,wt,e,"f")}getApiPath(){return JC}buildRequest(){let e={};return u(this,wt,"f").query&&(e.query=u(this,wt,"f").query),u(this,wt,"f").params&&(e.params=u(this,wt,"f").params),u(this,wt,"f").webSearchboxStatsUrl&&(e.webSearchboxStatsUrl=u(this,wt,"f").webSearchboxStatsUrl),u(this,wt,"f").suggestStats&&(e.suggestStats=u(this,wt,"f").suggestStats),e}};r(El,"SearchEndpoint");wt=new WeakMap;El.type="SearchEndpoint";var q0=El;var fr,ZC="share/get_share_panel",Cl=class extends n{constructor(e){super(),fr.set(this,void 0),S(this,fr,e,"f")}getApiPath(){return ZC}buildRequest(){let e={};return u(this,fr,"f").serializedShareEntity&&(e.serializedSharedEntity=u(this,fr,"f").serializedShareEntity),u(this,fr,"f").clientParams&&(e.clientParams=u(this,fr,"f").clientParams),e}};r(Cl,"ShareEntityServiceEndpoint");fr=new WeakMap;Cl.type="ShareEntityServiceEndpoint";var cs=Cl;var Pl=class extends cs{constructor(e){super(e)}};r(Pl,"ShareEndpoint");Pl.type="ShareEndpoint";var K0=Pl;var Nl=class extends cs{constructor(e){super(e)}};r(Nl,"ShareEntityEndpoint");Nl.type="ShareEntityEndpoint";var z0=Nl;var Al=class extends n{constructor(e){super(),this.panel_identifier=e.panelIdentifier,this.source_panel_identifier=e.sourcePanelIdentifier}};r(Al,"ShowEngagementPanelEndpoint");Al.type="ShowEngagementPanelEndpoint";var X0=Al;var Rl=class extends n{constructor(e){super(),Array.isArray(e.actions)&&(this.actions=l.parseArray(e.actions.map(i=>(delete i.clickTrackingParams,i)))),this.signal=e.signal}};r(Rl,"SignalServiceEndpoint");Rl.type="SignalServiceEndpoint";var Q0=Rl;var tt,e1="subscription/subscribe",Ml=class extends n{constructor(e){super(),tt.set(this,void 0),S(this,tt,e,"f")}getApiPath(){return e1}buildRequest(){let e={};return u(this,tt,"f").channelIds&&(e.channelIds=u(this,tt,"f").channelIds),u(this,tt,"f").siloName&&(e.siloName=u(this,tt,"f").siloName),u(this,tt,"f").params&&(e.params=u(this,tt,"f").params),u(this,tt,"f").botguardResponse&&(e.botguardResponse=u(this,tt,"f").botguardResponse),u(this,tt,"f").feature&&(e.clientFeature=u(this,tt,"f").feature),e}};r(Ml,"SubscribeEndpoint");tt=new WeakMap;Ml.type="SubscribeEndpoint";var J0=Ml;var oi,t1="subscription/unsubscribe",Dl=class extends n{constructor(e){super(),oi.set(this,void 0),S(this,oi,e,"f")}getApiPath(){return t1}buildRequest(){let e={};return u(this,oi,"f").channelIds&&(e.channelIds=u(this,oi,"f").channelIds),u(this,oi,"f").siloName&&(e.siloName=u(this,oi,"f").siloName),u(this,oi,"f").params&&(e.params=u(this,oi,"f").params),e}};r(Dl,"UnsubscribeEndpoint");oi=new WeakMap;Dl.type="UnsubscribeEndpoint";var Z0=Dl;var ke,i1="next",Bl=class extends n{constructor(e){super(),ke.set(this,void 0),S(this,ke,e,"f")}getApiPath(){return i1}buildRequest(){let e={};return u(this,ke,"f").videoId&&(e.videoId=u(this,ke,"f").videoId),u(this,ke,"f").playlistId&&(e.playlistId=u(this,ke,"f").playlistId),(u(this,ke,"f").index!==void 0||u(this,ke,"f").playlistIndex!==void 0)&&(e.playlistIndex=u(this,ke,"f").index||u(this,ke,"f").playlistIndex),(u(this,ke,"f").playerParams||u(this,ke,"f").params)&&(e.params=u(this,ke,"f").playerParams||u(this,ke,"f").params),e.racyCheckOk=!!u(this,ke,"f").racyCheckOk,e.contentCheckOk=!!u(this,ke,"f").contentCheckOk,e}};r(Bl,"WatchNextEndpoint");ke=new WeakMap;Bl.type="WatchNextEndpoint";var ev=Bl;var Ll=class extends n{constructor(e){super(),this.elements=l.parseArray(e.elements),this.start_ms=e.startMs}};r(Ll,"Endscreen");Ll.type="Endscreen";var Xx=Ll;var Ol=class extends n{constructor(e){super(),this.style=e.style,this.title=new a(e.title),this.endpoint=new h(e.endpoint),Reflect.has(e,"image")&&(this.image=y.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=y.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new a(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new a(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=l.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new a(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};r(Ol,"EndscreenElement");Ol.type="EndscreenElement";var tv=Ol;var Yl=class extends n{constructor(e){super(),this.id=e.playlistId,this.title=new a(e.title),this.author=new a(e.longBylineText),this.endpoint=new h(e.navigationEndpoint),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new a(e.videoCountText)}};r(Yl,"EndScreenPlaylist");Yl.type="EndScreenPlaylist";var Qx=Yl;var Vl=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new a(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new P(e.shortBylineText,e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.short_view_count=new a(e.shortViewCountText),this.badges=l.parseArray(e.badges),this.duration={text:new a(e.lengthText).toString(),seconds:e.lengthInSeconds}}};r(Vl,"EndScreenVideo");Vl.type="EndScreenVideo";var Jx=Vl;var Fl=class extends n{constructor(e){super(),this.title=e.title,this.endpoint=new h(e.endpoint),this.selected=e.selected,this.content=l.parseItem(e.content)}};r(Fl,"ExpandableTab");Fl.type="ExpandableTab";var mr=Fl;var Ul=class extends n{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Ul,"ExpandedShelfContents");Ul.type="ExpandedShelfContents";var iv=Ul;var Wl=class extends n{constructor(e){super(),this.dialog_message=new a(e.dialogMessage),this.confirm_label=new a(e.confirmLabel)}};r(Wl,"FancyDismissibleDialog");Wl.type="FancyDismissibleDialog";var rv=Wl;var Gl=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents,$e)}};r(Gl,"FeedFilterChipBar");Gl.type="FeedFilterChipBar";var Tt=Gl;var Hl=class extends n{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.endpoint=new h(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};r(Hl,"FeedNudge");Hl.type="FeedNudge";var sv=Hl;var jl=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(jl,"FeedTabbedHeader");jl.type="FeedTabbedHeader";var Zx=jl;var $l=class extends n{constructor(e){super(),this.title=new a(e.title),this.box_art=y.fromResponse(e.boxArt),this.box_art_overlay_text=new a(e.boxArtOverlayText),this.endpoint=new h(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};r($l,"GameDetails");$l.type="GameDetails";var ov=$l;var ql=class extends n{constructor(e){var i,s,o;super(),this.items=l.parseArray(e.items),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||null}get contents(){return this.items}};r(ql,"Grid");ql.type="Grid";var nv=ql;var Kl=class extends n{constructor(e){super(),this.id=e.channelId,this.author=new P({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new a(e.subscriberCountText),this.video_count=new a(e.videoCountText),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton)}};r(Kl,"GridChannel");Kl.type="GridChannel";var ey=Kl;var zl=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(zl,"GridHeader");zl.type="GridHeader";var av=zl;var Xl=class extends n{constructor(e){var i,s;super(),this.id=e.playlistId,this.title=new a(e.title),this.author=(i=e.shortBylineText)!=null&&i.simpleText?new a(e.shortBylineText):(s=e.longBylineText)!=null&&s.simpleText?new a(e.longBylineText):null,this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new a(e.videoCountText),this.video_count_short=new a(e.videoCountShortText),this.endpoint=new h(e.navigationEndpoint),this.secondary_endpoint=new h(e.secondaryNavigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};r(Xl,"GridMix");Xl.type="GridMix";var cv=Xl;var Ql=class extends n{constructor(e){var s;super();let i=(s=e.thumbnailOverlays.find(o=>o.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:s.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new a(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.duration=e.lengthText?new a(e.lengthText):i!=null&&i.text?new a(i.text):null,this.endpoint=new h(e.navigationEndpoint),this.badges=l.parseArray(e.badges,je),this.metadata=new a(e.metadata),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};r(Ql,"GridMovie");Ql.type="GridMovie";var lv=Ql;var Jl=class extends n{constructor(e){var i;super(),this.id=e.playlistId,this.title=new a(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new P(e.shortBylineText,e.ownerBadges)),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.view_playlist=new a(e.viewPlaylistText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)==null?void 0:i.map(s=>y.fromResponse(s)))||[])||null,this.video_count=new a(e.thumbnailText),this.video_count_short=new a(e.videoCountShortText)}};r(Jl,"GridPlaylist");Jl.type="GridPlaylist";var ty=Jl;var Zl=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Zl,"ShowCustomThumbnail");Zl.type="ShowCustomThumbnail";var iy=Zl;var ep=class extends n{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new a(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};r(ep,"ThumbnailOverlayBottomPanel");ep.type="ThumbnailOverlayBottomPanel";var ry=ep;var tp=class extends n{constructor(e){super(),this.title=new a(e.title),this.thumbnail_renderer=Q(e.thumbnailRenderer,iy),this.endpoint=new h(e.navigationEndpoint),this.long_byline_text=new a(e.longBylineText),this.thumbnail_overlays=Re(e.thumbnailOverlays,ry),this.author=new P(e.shortBylineText,void 0)}};r(tp,"GridShow");tp.type="GridShow";var pv=tp;var ip=class extends n{constructor(e){var s,o;super();let i=(s=e.thumbnailOverlays.find(c=>c.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:s.thumbnailOverlayTimeStatusRenderer;this.video_id=e.videoId,this.title=new a(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.rich_thumbnail=l.parseItem(e.richThumbnail),this.published=new a(e.publishedTimeText),this.duration=e.lengthText?new a(e.lengthText):i!=null&&i.text?new a(i.text):null,this.author=e.shortBylineText&&new P(e.shortBylineText,e.ownerBadges),this.views=new a(e.viewCountText),this.short_view_count=new a(e.shortViewCountText),this.endpoint=new h(e.navigationEndpoint),this.menu=l.parseItem(e.menu,R),Reflect.has(e,"buttons")&&(this.buttons=l.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new a(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!((o=e.upcomingEventData)!=null&&o.isReminderSet))}get id(){return this.video_id}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};r(ip,"GridVideo");ip.type="GridVideo";var sy=ip;var rp=class extends n{constructor(e){super(),this.title=new a(e.formattedTitle),this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=y.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};r(rp,"GuideEntry");rp.type="GuideEntry";var hr=rp;var sp=class extends n{constructor(e){super(),this.expander_item=Q(e.expanderItem,hr),this.collapser_item=Q(e.collapserItem,hr),this.expandable_items=Re(e.expandableItems)}};r(sp,"GuideCollapsibleEntry");sp.type="GuideCollapsibleEntry";var uv=sp;var op=class extends n{constructor(e){super(),this.header_entry=Q(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Re(e.sectionItems)}};r(op,"GuideCollapsibleSectionEntry");op.type="GuideCollapsibleSectionEntry";var fv=op;var np=class extends hr{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};r(np,"GuideDownloadsEntry");np.type="GuideDownloadsEntry";var mv=np;var ap=class extends n{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new a(e.formattedTitle)),this.items=Re(e.items)}};r(ap,"GuideSection");ap.type="GuideSection";var ls=ap;var cp=class extends ls{};r(cp,"GuideSubscriptionsSection");cp.type="GuideSubscriptionsSection";var oy=cp;var lp=class extends n{constructor(e){super(),this.hashtag=new a(e.hashtag),this.hashtag_info=new a(e.hashtagInfoText)}};r(lp,"HashtagHeader");lp.type="HashtagHeader";var ny=lp;var pp=class extends n{constructor(e){super(),this.hashtag=new a(e.hashtag),this.hashtag_info_text=new a(e.hashtagInfoText),this.hashtag_thumbnail=y.fromResponse(e.hashtagThumbnail),this.endpoint=new h(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new a(e.hashtagVideoCount),this.hashtag_channel_count=new a(e.hashtagChannelCount)}};r(pp,"HashtagTile");pp.type="HashtagTile";var hv=pp;var up=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new h(e.onTap)}};r(up,"HeroPlaylistThumbnail");up.type="HeroPlaylistThumbnail";var dv=up;var fp=class extends n{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:y.fromResponse(e.thumbnail.image),endpoint:new h(e.thumbnail.onTap),on_long_press_endpoint:new h(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:y.fromResponse(e.backgroundImage.image),gradient_image:y.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new h(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new h(e.textOnTap)}};r(fp,"Panel");fp.type="Panel";var mp=class extends n{constructor(e){super(),this.panels=G(e.highlightsCarousel.panels.map(i=>new fp(i)))}};r(mp,"HighlightsCarousel");mp.type="HighlightsCarousel";var _v=mp;var hp=class extends n{constructor(e){super(),this.suggestion=new a(e.suggestion),this.endpoint=new h(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new h(e.serviceEndpoint))}};r(hp,"SearchSuggestion");hp.type="SearchSuggestion";var ay=hp;var dp=class extends ay{constructor(e){super(e)}};r(dp,"HistorySuggestion");dp.type="HistorySuggestion";var xv=dp;var _p=class extends n{constructor(e){super(),this.items=l.parseArray(e.items),this.previous_button=l.parseItem(e.previousButton,T),this.next_button=l.parseItem(e.nextButton,T)}get contents(){return this.items}};r(_p,"HorizontalMovieList");_p.type="HorizontalMovieList";var yv=_p;var xp=class extends n{constructor(e){var i;super(),this.icon_type=(i=e.icon)==null?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new a(e.tooltip).toString()),this.endpoint=new h(e.navigationEndpoint)}};r(xp,"IconLink");xp.type="IconLink";var cy=xp;var yp=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};r(yp,"ImageBannerView");yp.type="ImageBannerView";var ly=yp;var bp=class extends n{constructor(e){super(),this.including_results_for=new a(e.includingResultsFor),this.corrected_query=new a(e.correctedQuery),this.corrected_query_endpoint=new h(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new a(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new a(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new h(e.originalQueryEndpoint):void 0}};r(bp,"IncludingResultsFor");bp.type="IncludingResultsFor";var bv=bp;var gp=class extends n{constructor(e){super(),this.title=new a(e.title),this.source=new a(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(i=>new a(i))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(i=>a.fromAttributed(i))),this.thumbnail=y.fromResponse(e.thumbnail),this.source_endpoint=new h(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};r(gp,"InfoPanelContent");gp.type="InfoPanelContent";var py=gp;var wp=class extends n{constructor(e){var i;super(),this.title=new a(e.title),this.menu=l.parseItem(e.menu,R),this.content=l.parseItem(e.content,py),e.headerEndpoint&&(this.header_endpoint=new h(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType)}};r(wp,"InfoPanelContainer");wp.type="InfoPanelContainer";var uy=wp;var Tp=class extends n{constructor(e){super(),this.header_type=e.type,this.title=new a(e.title),this.description=new a(e.description),this.metadata=new a(e.metadata),this.badges=l.parseArray(e.badges,je),this.box_art=y.fromResponse(e.boxArt),this.banner=y.fromResponse(e.banner),this.buttons=l.parseArray(e.buttons,[de,T]),this.auto_generated=new a(e.autoGenerated)}};r(Tp,"InteractiveTabbedHeader");Tp.type="InteractiveTabbedHeader";var fy=Tp;var vp=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(vp,"ItemSectionHeader");vp.type="ItemSectionHeader";var ps=vp;var Ip=class extends n{constructor(e){super(),this.title=new a(e.title),this.selected=!!e.selected,this.endpoint=new h(e.endpoint)}};r(Ip,"ItemSectionTab");Ip.type="Tab";var my=Ip;var Sp=class extends n{constructor(e){super(),this.title=new a(e.title),this.tabs=l.parseArray(e.tabs,my),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};r(Sp,"ItemSectionTabbedHeader");Sp.type="ItemSectionTabbedHeader";var us=Sp;var kp=class extends n{constructor(e){super(),this.filter_menu=l.parseItem(e.filterMenu,dr.SortFilterSubMenu)}};r(kp,"SortFilterHeader");kp.type="SortFilterHeader";var hy=kp;var Ep=class extends n{constructor(e){var i,s,o;super(),this.header=l.parseItem(e.header,[Mi,ps,us,hy,Tt]),this.contents=l.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(o=(s=(i=e.continuations)==null?void 0:i.at(0))==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)}};r(Ep,"ItemSection");Ep.type="ItemSection";var vt=Ep;var Cp=class extends n{constructor(e){var i,s;super(),this.header=l.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(s=(i=e.continuations[0])==null?void 0:i.reloadContinuationData)==null?void 0:s.continuation,this.client_messages={reconnect_message:new a(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new a(e.clientMessages.unableToReconnectMessage),fatal_error:new a(e.clientMessages.fatalError),reconnected_message:new a(e.clientMessages.reconnectedMessage),generic_error:new a(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};r(Cp,"LiveChat");Cp.type="LiveChat";var dy=Cp;var Pp=class extends n{constructor(e){super(),this.text=new a(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};r(Pp,"LiveChatBannerHeader");Pp.type="LiveChatBannerHeader";var _y=Pp;var Np=class extends n{constructor(e){super(),this.header=l.parseItem(e.header,_y),this.contents=l.parseItem(e.contents),this.action_id=e.actionId,Reflect.has(e,"viewerIsCreator")&&(this.viewer_is_creator=e.viewerIsCreator),this.target_id=e.targetId,this.is_stackable=e.isStackable,Reflect.has(e,"backgroundType")&&(this.background_type=e.backgroundType),this.banner_type=e.bannerType,Reflect.has(e,"bannerProperties")&&Reflect.has(e.bannerProperties,"isEphemeral")&&(this.banner_properties_is_ephemeral=Boolean(e.bannerProperties.isEphemeral)),Reflect.has(e,"bannerProperties")&&Reflect.has(e.bannerProperties,"autoCollapseDelay")&&Reflect.has(e.bannerProperties.autoCollapseDelay,"seconds")&&(this.banner_properties_auto_collapse_delay_seconds=e.bannerProperties.autoCollapseDelay.seconds)}};r(Np,"LiveChatBanner");Np.type="LiveChatBanner";var xy=Np;var Ap=class extends n{constructor(e){super(),this.banner=l.parseItem(e.bannerRenderer,xy)}};r(Ap,"AddBannerToLiveChatCommand");Ap.type="AddBannerToLiveChatCommand";var gv=Ap;var Rp=class extends n{constructor(e){super(),this.item=l.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};r(Rp,"AddChatItemAction");Rp.type="AddChatItemAction";var yy=Rp;var Mp=class extends n{constructor(e){super(),this.item=l.parseItem(e.item),this.duration_sec=e.durationSec}};r(Mp,"AddLiveChatTickerItemAction");Mp.type="AddLiveChatTickerItemAction";var wv=Mp;var Dp=class extends n{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};r(Dp,"DimChatItemAction");Dp.type="DimChatItemAction";var Tv=Dp;var Bp=class extends n{constructor(e){super(),this.text=a.fromAttributed(e.text),this.image_name=e.image.sources[0].clientResource.imageName,this.image_color=e.image.sources[0].clientResource.imageColor}};r(Bp,"BumperUserEduContentView");Bp.type="BumperUserEduContentView";var by=Bp;var Lp=class extends n{constructor(e){super(),this.creator_thumbnail=y.fromResponse(e.creatorThumbnail),this.hearted_icon_name=e.heartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_name=e.unheartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_processor={border_image_processor:{image_tint:{color:e.unheartedIcon.processor.borderImageProcessor.imageTint.color}}},this.hearted_hover_text=e.heartedHoverText,this.hearted_accessibility_label=e.heartedAccessibilityLabel,this.unhearted_accessibility_label=e.unheartedAccessibilityLabel,this.engagement_state_key=e.engagementStateKey}};r(Lp,"CreatorHeartView");Lp.type="CreatorHeartView";var gy=Lp;var Op=class extends n{constructor(e){super(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.moderation_buttons=l.parseArray(e.moderationButtons,T),this.auto_moderated_item=l.parseItem(e.autoModeratedItem),this.header_text=new a(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};r(Op,"LiveChatAutoModMessage");Op.type="LiveChatAutoModMessage";var vv=Op;var Yp=class extends n{constructor(e){super(),this.id=e.liveChatSummaryId,this.chat_summary=new a(e.chatSummary),this.icon_type=e.icon.iconType,this.like_feedback_button=l.parseItem(e.likeFeedbackButton,et),this.dislike_feedback_button=l.parseItem(e.dislikeFeedbackButton,et)}};r(Yp,"LiveChatBannerChatSummary");Yp.type="LiveChatBannerChatSummary";var Iv=Yp;var Vp=class extends n{constructor(e){super(),this.poll_question=new a(e.pollQuestion),this.author_photo=y.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new a(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};r(Vp,"LiveChatBannerPoll");Vp.type="LiveChatBannerPoll";var Sv=Vp;var Fp=class extends n{constructor(e){super(),this.banner_message=new a(e.bannerMessage),this.author_photo=y.fromResponse(e.authorPhoto),this.inline_action_button=l.parseItem(e.inlineActionButton,T),this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};r(Fp,"LiveChatBannerRedirect");Fp.type="LiveChatBannerRedirect";var kv=Fp;var Up=class extends n{constructor(e){super(),this.content=l.parseItem(e.content,by)}};r(Up,"LiveChatItemBumperView");Up.type="LiveChatItemBumperView";var wy=Up;var Wp=class extends n{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new a(e.timestampText)),Reflect.has(e,"headerPrimaryText")&&(this.header_primary_text=new a(e.headerPrimaryText)),this.header_subtext=new a(e.headerSubtext),Reflect.has(e,"message")&&(this.message=new a(e.message)),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}};r(Wp,"LiveChatMembershipItem");Wp.type="LiveChatMembershipItem";var Ev=Wp;var Gp=class extends n{constructor(e){super(),this.id=e.id,this.icon_type=e.icon.iconType,this.text=new a(e.text),this.subtext=new a(e.subtext),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,this.timestamp_text=new a(e.timestampText)}};r(Gp,"LiveChatModeChangeMessage");Gp.type="LiveChatModeChangeMessage";var Cv=Gp;var Hp=class extends n{constructor(e){super(),this.reply_button=l.parseItem(e.replyButton,J),this.reply_count_entity_key=e.replyCountEntityKey,this.reply_count_placeholder=a.fromAttributed(e.replyCountPlaceholder)}};r(Hp,"PdgReplyButtonView");Hp.type="PdgReplyButtonView";var Ty=Hp;var jp=class extends n{constructor(e){super(),this.id=e.id,this.message=new a(e.message),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.author_name_text_color=e.authorNameTextColor,this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new a(e.purchaseAmountText).toString(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new a(e.timestampText).toString()),this.timestamp_color=e.timestampColor,Reflect.has(e,"headerOverlayImage")&&(this.header_overlay_image=y.fromResponse(e.headerOverlayImage)),this.text_input_background_color=e.textInputBackgroundColor,this.lower_bumper=l.parseItem(e.lowerBumper,wy),this.creator_heart_button=l.parseItem(e.creatorHeartButton,gy),this.is_v2_style=e.isV2Style,this.reply_button=l.parseItem(e.replyButton,Ty)}};r(jp,"LiveChatPaidMessage");jp.type="LiveChatPaidMessage";var Pv=jp;var $p=class extends n{constructor(e){super(),this.id=e.id,this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=y.fromResponse(e.sticker),this.sticker_accessibility_label=e.sticker.accessibility.accessibilityData.label,this.sticker_display_width=e.stickerDisplayWidth,this.sticker_display_height=e.stickerDisplayHeight,this.purchase_amount=new a(e.purchaseAmountText).toString(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,this.is_v2_style=e.isV2Style}};r($p,"LiveChatPaidSticker");$p.type="LiveChatPaidSticker";var Nv=$p;var qp=class extends n{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};r(qp,"LiveChatPlaceholderItem");qp.type="LiveChatPlaceholderItem";var Av=qp;var Kp=class extends n{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=l.parseItem(e.informationButton),this.endpoint=new h(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=y.fromResponse(e.authorPhoto),this.information_dialog=l.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new a(e.creatorCustomMessage)}};r(Kp,"LiveChatProductItem");Kp.type="LiveChatProductItem";var Rv=Kp;var zp=class extends n{constructor(e){super(),this.message=new a(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};r(zp,"LiveChatRestrictedParticipation");zp.type="LiveChatRestrictedParticipation";var Mv=zp;var Xp=class extends je{constructor(e){super(e),this.custom_thumbnail=y.fromResponse(e.customThumbnail)}};r(Xp,"LiveChatAuthorBadge");Xp.type="LiveChatAuthorBadge";var vy=Xp;var Qp=class extends n{constructor(e){super(),this.author_name=new a(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.author_badges=l.parseArray(e.authorBadges,vy),this.primary_text=new a(e.primaryText),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.image=y.fromResponse(e.image)}};r(Qp,"LiveChatSponsorshipsHeader");Qp.type="LiveChatSponsorshipsHeader";var Iy=Qp;var Jp=class extends n{constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.author_external_channel_id=e.authorExternalChannelId,this.header=l.parseItem(e.header,Iy)}};r(Jp,"LiveChatSponsorshipsGiftPurchaseAnnouncement");Jp.type="LiveChatSponsorshipsGiftPurchaseAnnouncement";var Dv=Jp;var Zp=class extends n{constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.timestamp_text=new a(e.timestampText),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.message=new a(e.message),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}};r(Zp,"LiveChatSponsorshipsGiftRedemptionAnnouncement");Zp.type="LiveChatSponsorshipsGiftRedemptionAnnouncement";var Bv=Zp;var eu=class extends n{constructor(e){super(),this.id=e.id,this.message=new a(e.message),this.inline_action_buttons=l.parseArray(e.inlineActionButtons,T),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new a(e.timestampText).toString()),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),Reflect.has(e,"contextMenuEndpoint")&&(this.menu_endpoint=new h(e.contextMenuEndpoint)),Reflect.has(e,"contextMenuAccessibility")&&Reflect.has(e.contextMenuAccessibility,"accessibilityData")&&Reflect.has(e.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label),this.before_content_buttons=l.parseArray(e.beforeContentButtons,J)}};r(eu,"LiveChatTextMessage");eu.type="LiveChatTextMessage";var Lv=eu;var tu=class extends n{constructor(e){var i,s;super(),this.id=e.id,this.author=new P(e.authorName||e.authorUsername,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),Reflect.has(e,"amount")&&(this.amount=new a(e.amount)),this.amount_text_color=e.amountTextColor,this.start_background_color=e.startBackgroundColor,this.end_background_color=e.endBackgroundColor,this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=l.parseItem((s=(i=e.showItemEndpoint)==null?void 0:i.showLiveChatItemEndpoint)==null?void 0:s.renderer),this.show_item_endpoint=new h(e.showItemEndpoint),this.animation_origin=e.animationOrigin,this.open_engagement_panel_command=new h(e.openEngagementPanelCommand)}};r(tu,"LiveChatTickerPaidMessageItem");tu.type="LiveChatTickerPaidMessageItem";var Ov=tu;var iu=class extends n{constructor(e){var i,s;super(),this.id=e.id,this.author_external_channel_id=e.authorExternalChannelId,this.author_photo=y.fromResponse(e.authorPhoto),this.start_background_color=e.startBackgroundColor,this.end_background_color=e.endBackgroundColor,this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=l.parseItem((s=(i=e.showItemEndpoint)==null?void 0:i.showLiveChatItemEndpoint)==null?void 0:s.renderer),this.show_item_endpoint=new h(e.showItemEndpoint),this.ticker_thumbnails=e.tickerThumbnails.map(o=>{var c,p;return{thumbnails:y.fromResponse(o),label:(p=(c=o==null?void 0:o.accessibility)==null?void 0:c.accessibilityData)==null?void 0:p.label}})}};r(iu,"LiveChatTickerPaidStickerItem");iu.type="LiveChatTickerPaidStickerItem";var Yv=iu;var ru=class extends n{constructor(e){super(),this.id=e.id,this.detail=new a(e.detailText),this.author=new P(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};r(ru,"LiveChatTickerSponsorItem");ru.type="LiveChatTickerSponsorItem";var Vv=ru;var su=class extends n{constructor(e){super(),this.id=e.id,Reflect.has(e,"timestampUsec")&&(this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.message=new a(e.message),this.action_button=l.parseItem(e.actionButton),Reflect.has(e,"contextMenuEndpoint")&&(this.menu_endpoint=new h(e.contextMenuEndpoint)),Reflect.has(e,"contextMenuAccessibility")&&Reflect.has(e.contextMenuAccessibility,"accessibilityData")&&Reflect.has(e.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label)}};r(su,"LiveChatViewerEngagementMessage");su.type="LiveChatViewerEngagementMessage";var Fv=su;var ou=class extends n{constructor(e){super(),this.poll_question=new a(e.pollQuestion),this.thumbnails=y.fromResponse(e.thumbnail),this.metadata=new a(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};r(ou,"PollHeader");ou.type="PollHeader";var Uv=ou;var nu=class extends n{constructor(e){super(),this.id=e.id,this.contents=l.parse(e.contents),this.target_id=e.targetId}};r(nu,"LiveChatActionPanel");nu.type="LiveChatActionPanel";var Sy=nu;var au=class extends n{constructor(e){super(),this.deleted_state_message=new a(e.deletedStateMessage),this.target_item_id=e.targetItemId}};r(au,"MarkChatItemAsDeletedAction");au.type="MarkChatItemAsDeletedAction";var Wv=au;var cu=class extends n{constructor(e){super(),this.deleted_state_message=new a(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};r(cu,"MarkChatItemsByAuthorAsDeletedAction");cu.type="MarkChatItemsByAuthorAsDeletedAction";var Gv=cu;var lu=class extends n{constructor(e){super(),this.target_action_id=e.targetActionId}};r(lu,"RemoveBannerForLiveChatCommand");lu.type="RemoveBannerForLiveChatCommand";var Hv=lu;var pu=class extends n{constructor(e){super(),this.target_item_id=e.targetItemId}};r(pu,"RemoveChatItemAction");pu.type="RemoveChatItemAction";var jv=pu;var uu=class extends n{constructor(e){super(),this.external_channel_id=e.externalChannelId}};r(uu,"RemoveChatItemByAuthorAction");uu.type="RemoveChatItemByAuthorAction";var $v=uu;var fu=class extends n{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=l.parseItem(e.replacementItem)}};r(fu,"ReplaceChatItemAction");fu.type="ReplaceChatItemAction";var qv=fu;var mu=class extends n{constructor(e){super(),this.to_replace=e.toReplace,this.replacement=l.parseItem(e.replacement)}};r(mu,"ReplaceLiveChatAction");mu.type="ReplaceLiveChatAction";var Kv=mu;var hu=class extends n{constructor(e){var i;super(),this.actions=l.parseArray((i=e.actions)==null?void 0:i.map(s=>(delete s.clickTrackingParams,s))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};r(hu,"ReplayChatItemAction");hu.type="ReplayChatItemAction";var zv=hu;var du=class extends n{constructor(e){super(),this.panel_to_show=l.parseItem(e.panelToShow,Sy)}};r(du,"ShowLiveChatActionPanelAction");du.type="ShowLiveChatActionPanelAction";var Xv=du;var _u=class extends n{constructor(e){super(),this.dialog=l.parseItem(e.dialog)}};r(_u,"ShowLiveChatDialogAction");_u.type="ShowLiveChatDialogAction";var Qv=_u;var xu=class extends n{constructor(e){super(),this.tooltip=l.parseItem(e.tooltip)}};r(xu,"ShowLiveChatTooltipCommand");xu.type="ShowLiveChatTooltipCommand";var Jv=xu;var yu=class extends n{constructor(e){super(),this.date_text=new a(e.dateText).toString()}};r(yu,"UpdateDateTextAction");yu.type="UpdateDateTextAction";var ky=yu;var bu=class extends n{constructor(e){super(),this.description=new a(e.description)}};r(bu,"UpdateDescriptionAction");bu.type="UpdateDescriptionAction";var Ey=bu;var gu=class extends n{constructor(e){super(),this.poll_to_update=l.parseItem(e.pollToUpdate)}};r(gu,"UpdateLiveChatPollAction");gu.type="UpdateLiveChatPollAction";var Zv=gu;var wu=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(wu,"UpdateTitleAction");wu.type="UpdateTitleAction";var Cy=wu;var Tu=class extends n{constructor(e){super(),this.default_text=new a(e.defaultText).toString(),this.toggled_text=new a(e.toggledText).toString(),this.button_id=e.buttonId}};r(Tu,"UpdateToggleButtonTextAction");Tu.type="UpdateToggleButtonTextAction";var Py=Tu;var vu=class extends n{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new a(i.viewCount),this.extra_short_view_count=new a(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new a(i.unlabeledViewCountValue),this.is_live=i.isLive}};r(vu,"UpdateViewershipAction");vu.type="UpdateViewershipAction";var Ny=vu;var Iu=class extends n{constructor(e){super(),this.confirm_button=l.parseItem(e.confirmButton,T),this.dialog_messages=e.dialogMessages.map(i=>new a(i))}};r(Iu,"LiveChatDialog");Iu.type="LiveChatDialog";var eI=Iu;var Su=class extends n{constructor(e){super(),this.overflow_menu=l.parseItem(e.overflowMenu,R),this.collapse_button=l.parseItem(e.collapseButton,T),this.view_selector=l.parseItem(e.viewSelector,xt)}};r(Su,"LiveChatHeader");Su.type="LiveChatHeader";var Ay=Su;var ku=class extends n{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=l.parseItem(e.moreCommentsBelowButton,T)}};r(ku,"LiveChatItemList");ku.type="LiveChatItemList";var Ry=ku;var Eu=class extends n{constructor(e){super(),this.author_name=new a(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.send_button=l.parseItem(e.sendButton,T),this.target_id=e.targetId}};r(Eu,"LiveChatMessageInput");Eu.type="LiveChatMessageInput";var tI=Eu;var Cu=class extends n{constructor(e){super(),this.name=new a(e.authorName),this.photo=y.fromResponse(e.authorPhoto),this.badges=l.parseArray(e.authorBadges)}};r(Cu,"LiveChatParticipant");Cu.type="LiveChatParticipant";var My=Cu;var Pu=class extends n{constructor(e){super(),this.title=new a(e.title),this.participants=l.parseArray(e.participants,My)}};r(Pu,"LiveChatParticipantsList");Pu.type="LiveChatParticipantsList";var Dy=Pu;var Nu=class extends n{constructor(e){super(),this.title=a.fromAttributed(e.title),this.metadata=l.parseItem(e.metadata,ss),this.image=l.parseItem(e.image,ns),this.menu_button=l.parseItem(e.menuButton,J)}};r(Nu,"LockupMetadataView");Nu.type="LockupMetadataView";var By=Nu;var Au=class extends n{constructor(e){super(),this.content_image=l.parseItem(e.contentImage,[vx,ts]),this.metadata=l.parseItem(e.metadata,By),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.renderer_context=new Ne(e.rendererContext)}};r(Au,"LockupView");Au.type="LockupView";var Ly=Au;var Ru=class extends T{constructor(e){super(e)}};r(Ru,"MenuNavigationItem");Ru.type="MenuNavigationItem";var Oy=Ru;var Mu=class extends n{constructor(e){super(),this.items=l.parseArray(e.items,[Oy,Mt])}};r(Mu,"MenuPopup");Mu.type="MenuPopup";var iI=Mu;var Du=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.short_message=new a(e.shortMessage),this.sent_time=new a(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new h(e.navigationEndpoint),this.record_click_endpoint=new h(e.recordClickEndpoint),this.menu=l.parseItem(e.contextualMenu),this.read=e.read}};r(Du,"Notification");Du.type="Notification";var fs=Du;var Bu=class extends n{constructor(e){super(),"notificationSectionTitle"in e&&(this.notification_section_title=new a(e.notificationSectionTitle)),this.items=l.parseArray(e.items,[fs,Lt,z])}get contents(){return this.items}};r(Bu,"MultiPageMenuNotificationSection");Bu.type="MultiPageMenuNotificationSection";var rI=Bu;var Lu=class extends n{constructor(e){super()}};r(Lu,"MusicMenuItemDivider");Lu.type="MusicMenuItemDivider";var Yy=Lu;var Ou=class extends n{constructor(e){super(),this.title=new a(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new h(e.selectedCommand)),this.selected=!!this.endpoint}};r(Ou,"MusicMultiSelectMenuItem");Ou.type="MusicMultiSelectMenuItem";var ms=Ou;var Yu=class extends n{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new a((i=e.title.musicMenuTitleRenderer)==null?void 0:i.primaryText)),this.options=l.parseArray(e.options,[ms,Yy])}};r(Yu,"MusicMultiSelectMenu");Yu.type="MusicMultiSelectMenu";var Vy=Yu;var Vu=class extends n{constructor(e){super(),this.title=new a(e.title),this.buttons=l.parseArray(e.buttons,T)}};r(Vu,"SimpleMenuHeader");Vu.type="SimpleMenuHeader";var Fy=Vu;var Fu=class extends n{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new h(e.buttonCommand)}};r(Fu,"MerchandiseItem");Fu.type="MerchandiseItem";var sI=Fu;var Uu=class extends n{constructor(e){super(),this.title=e.title,this.menu=l.parseItem(e.actionButton),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Uu,"MerchandiseShelf");Uu.type="MerchandiseShelf";var Uy=Uu;var Wu=class extends n{constructor(e){super(),this.title=new a(e.title),this.contents=e.contents.map(i=>new a(i))}};r(Wu,"MetadataRow");Wu.type="MetadataRow";var oI=Wu;var Gu=class extends n{constructor(e){super(),this.rows=l.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};r(Gu,"MetadataRowContainer");Gu.type="MetadataRowContainer";var Wy=Gu;var Hu=class extends n{constructor(e){super(),this.content=new a(e.content),this.has_divider_line=e.hasDividerLine}};r(Hu,"MetadataRowHeader");Hu.type="MetadataRowHeader";var nI=Hu;var ju=class extends n{constructor(e){super(),this.section_list=l.parseItem(e)}};r(ju,"MetadataScreen");ju.type="MetadataScreen";var aI=ju;var $u=class extends n{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=y.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};r($u,"MicroformatData");$u.type="MicroformatData";var Bi=$u;var qu=class extends Bt{constructor(e){super(e)}};r(qu,"Mix");qu.type="Mix";var cI=qu;var Ku=class extends n{constructor(e){super(),this.title=new a(e.title),this.content=new a(e.content),this.button=l.parseItem(e.button,T)}};r(Ku,"ModalWithTitleAndButton");Ku.type="ModalWithTitleAndButton";var lI=Ku;var zu=class extends n{constructor(e){var s,o,c;super();let i=((s=e.thumbnailOverlays.find(p=>p.thumbnailOverlayTimeStatusRenderer))==null?void 0:s.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new a(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new a(e.descriptionSnippet)),this.top_metadata_items=new a(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new P(e.longBylineText,e.ownerBadges,(c=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:c.thumbnail),this.duration={text:e.lengthText?new a(e.lengthText).toString():new a(i).toString(),seconds:Te(e.lengthText?new a(e.lengthText).toString():new a(i).toString())},this.endpoint=new h(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=l.parseItem(e.menu,R)}};r(zu,"Movie");zu.type="Movie";var pI=zu;var Xu=class extends n{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)==null?void 0:i.thumbnails.map(s=>new y(s)).sort((s,o)=>o.width-s.width)}};r(Xu,"MovingThumbnail");Xu.type="MovingThumbnail";var uI=Xu;var Qu=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(Qu,"MusicCardShelfHeaderBasic");Qu.type="MusicCardShelfHeaderBasic";var Gy=Qu;var Ju=class extends n{constructor(e){super(),this.icon_type=e.icon.iconType,"accessibilityData"in e&&"accessibilityData"in e.accessibilityData&&(this.accessibility={accessibility_data:new ae(e.accessibilityData.accessibilityData)})}get label(){var e,i;return(i=(e=this.accessibility)==null?void 0:e.accessibility_data)==null?void 0:i.label}};r(Ju,"MusicInlineBadge");Ju.type="MusicInlineBadge";var hs=Ju;var Zu=class extends n{constructor(e){super(),this.endpoint=new h(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,"accessibilityPlayData"in e&&"accessibilityData"in e.accessibilityPlayData&&(this.accessibility_play_data={accessibility_data:new ae(e.accessibilityPlayData.accessibilityData)}),"accessibilityPauseData"in e&&"accessibilityData"in e.accessibilityPauseData&&(this.accessibility_pause_data={accessibility_data:new ae(e.accessibilityPauseData.accessibilityData)}),this.icon_color=e.iconColor}get play_label(){var e,i;return(i=(e=this.accessibility_play_data)==null?void 0:e.accessibility_data)==null?void 0:i.label}get pause_label(){var e,i;return(i=(e=this.accessibility_pause_data)==null?void 0:e.accessibility_data)==null?void 0:i.label}};r(Zu,"MusicPlayButton");Zu.type="MusicPlayButton";var ds=Zu;var ef=class extends n{constructor(e){super(),this.content=l.parseItem(e.content,ds),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};r(ef,"MusicItemThumbnailOverlay");ef.type="MusicItemThumbnailOverlay";var Ot=ef;var tf=class extends n{constructor(e){super(),this.contents=y.fromResponse(e.thumbnail)}};r(tf,"MusicThumbnail");tf.type="MusicThumbnail";var Ee=tf;var rf=class extends n{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ee),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.buttons=l.parseArray(e.buttons,T),this.menu=l.parseItem(e.menu,R),this.on_tap=new h(e.onTap),this.header=l.parseItem(e.header,Gy),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=l.parseArray(e.subtitleBadges,hs),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Ot),Reflect.has(e,"contents")&&(this.contents=l.parseArray(e.contents))}};r(rf,"MusicCardShelf");rf.type="MusicCardShelf";var fI=rf;var sf=class extends n{constructor(e){super(),this.title=new a(e.title),Reflect.has(e,"strapline")&&(this.strapline=new a(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Ee)),Reflect.has(e,"moreContentButton")&&(this.more_content=l.parseItem(e.moreContentButton,T)),Reflect.has(e,"endIcons")&&(this.end_icons=l.parseArray(e.endIcons,cy))}};r(sf,"MusicCarouselShelfBasicHeader");sf.type="MusicCarouselShelfBasicHeader";var Hy=sf;var of=class extends n{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ee),this.overlay=l.parseItem(e.overlay,Ot),this.on_tap=new h(e.onTap),this.menu=l.parseItem(e.menu,R),this.subtitle=new a(e.subtitle),this.title=new a(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new a(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new a(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};r(of,"MusicMultiRowListItem");of.type="MusicMultiRowListItem";var jy=of;var nf=class extends n{constructor(e){super(),this.button_text=new a(e.buttonText).toString(),this.endpoint=new h(e.clickCommand)}};r(nf,"MusicNavigationButton");nf.type="MusicNavigationButton";var $y=nf;var af=class extends n{constructor(e){super(),this.title=new a(e.text),this.display_priority=e.displayPriority}};r(af,"MusicResponsiveListItemFixedColumn");af.type="musicResponsiveListItemFlexColumnRenderer";var qy=af;var cf=class extends n{constructor(e){super(),this.title=new a(e.text),this.display_priority=e.displayPriority}};r(cf,"MusicResponsiveListItemFlexColumn");cf.type="MusicResponsiveListItemFlexColumn";var Ky=cf;var it,jg,dI,mI,hI,_I,xI,yI,bI,gI,wI,lf=class extends n{constructor(e){var o,c,p,f,m,_;super(),it.add(this),this.flex_columns=l.parseArray(e.flexColumns,Ky),this.fixed_columns=l.parseArray(e.fixedColumns,qy);let i={video_id:((o=e==null?void 0:e.playlistItemData)==null?void 0:o.videoId)||null,playlist_set_video_id:((c=e==null?void 0:e.playlistItemData)==null?void 0:c.playlistSetVideoId)||null};Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint));let s=(_=(m=(f=(p=this.endpoint)==null?void 0:p.payload)==null?void 0:f.browseEndpointContextSupportedConfigs)==null?void 0:m.browseEndpointContextMusicConfig)==null?void 0:_.pageType;switch(s||this.flex_columns.find(b=>{var w,v,I,k;return((k=(I=(v=(w=b.title.endpoint)==null?void 0:w.payload)==null?void 0:v.browseEndpointContextSupportedConfigs)==null?void 0:I.browseEndpointContextMusicConfig)==null?void 0:k.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(s="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),s){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",u(this,it,"m",gI).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",u(this,it,"m",wI).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",u(this,it,"m",_I).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",u(this,it,"m",xI).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",u(this,it,"m",yI).call(this,i);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",u(this,it,"m",bI).call(this);break;default:this.flex_columns[1]?u(this,it,"m",dI).call(this,i):u(this,it,"m",jg).call(this)}Reflect.has(e,"index")&&(this.index=new a(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Ee)),Reflect.has(e,"badges")&&(this.badges=l.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu,R)),Reflect.has(e,"overlay")&&(this.overlay=l.parseItem(e.overlay,Ot))}get thumbnails(){var e;return((e=this.thumbnail)==null?void 0:e.contents)||[]}};r(lf,"MusicResponsiveListItem");it=new WeakSet,jg=r(function(){this.title=this.flex_columns[0].title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),dI=r(function(e){var s,o,c,p,f,m,_;switch((_=(m=(f=(p=(c=(o=(s=this.flex_columns.at(0))==null?void 0:s.title.runs)==null?void 0:o.at(0))==null?void 0:c.endpoint)==null?void 0:p.payload)==null?void 0:f.watchEndpointMusicSupportedConfigs)==null?void 0:m.watchEndpointMusicConfig)==null?void 0:_.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",u(this,it,"m",hI).call(this,e);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",u(this,it,"m",mI).call(this,e);break;default:u(this,it,"m",jg).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),mI=r(function(e){var c,p,f,m,_,x,b,w,v,I,k,C,E,Y,Z;this.id=e.video_id||((p=(c=this.endpoint)==null?void 0:c.payload)==null?void 0:p.videoId),this.title=this.flex_columns[0].title.toString();let i=((_=(m=(f=this.flex_columns.at(1))==null?void 0:f.title.runs)==null?void 0:m.find(O=>/^\d+$/.test(O.text.replace(/:/g,""))))==null?void 0:_.text)||((b=(x=this.fixed_columns[0])==null?void 0:x.title)==null?void 0:b.toString());i&&(this.duration={text:i,seconds:Te(i)});let s=((v=(w=this.flex_columns.at(1))==null?void 0:w.title.runs)==null?void 0:v.find(O=>Ve(O)&&O.endpoint&&O.endpoint.payload.browseId.startsWith("MPR")))||((k=(I=this.flex_columns.at(2))==null?void 0:I.title.runs)==null?void 0:k.find(O=>Ve(O)&&O.endpoint&&O.endpoint.payload.browseId.startsWith("MPR")));s&&Ve(s)&&(this.album={id:(E=(C=s.endpoint)==null?void 0:C.payload)==null?void 0:E.browseId,name:s.text,endpoint:s.endpoint});let o=(Z=(Y=this.flex_columns.at(1))==null?void 0:Y.title.runs)==null?void 0:Z.filter(O=>Ve(O)&&O.endpoint&&O.endpoint.payload.browseId.startsWith("UC"));o&&(this.artists=o.map(O=>{var oe,ce;return{name:O.text,channel_id:Ve(O)?(ce=(oe=O.endpoint)==null?void 0:oe.payload)==null?void 0:ce.browseId:void 0,endpoint:Ve(O)?O.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),hI=r(function(e){var o,c,p,f,m,_,x,b,w,v;this.id=e.video_id,this.title=this.flex_columns[0].title.toString(),this.views=(p=(c=(o=this.flex_columns.at(1))==null?void 0:o.title.runs)==null?void 0:c.find(I=>I.text.match(/(.*?) views/)))==null?void 0:p.toString();let i=(m=(f=this.flex_columns.at(1))==null?void 0:f.title.runs)==null?void 0:m.filter(I=>Ve(I)&&I.endpoint&&I.endpoint.payload.browseId.startsWith("UC"));i&&(this.authors=i.map(I=>{var k,C;return{name:I.text,channel_id:Ve(I)?(C=(k=I.endpoint)==null?void 0:k.payload)==null?void 0:C.browseId:void 0,endpoint:Ve(I)?I.endpoint:void 0}}));let s=((x=(_=this.flex_columns[1].title.runs)==null?void 0:_.find(I=>/^\d+$/.test(I.text.replace(/:/g,""))))==null?void 0:x.text)||((v=(w=(b=this.fixed_columns[0])==null?void 0:b.title.runs)==null?void 0:w.find(I=>/^\d+$/.test(I.text.replace(/:/g,""))))==null?void 0:v.text);s&&(this.duration={text:s,seconds:Te(s)})},"_MusicResponsiveListItem_parseVideo"),_I=r(function(){var e,i,s,o,c,p;this.id=(i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.browseId,this.name=this.flex_columns[0].title.toString(),this.subtitle=(s=this.flex_columns.at(1))==null?void 0:s.title,this.subscribers=((p=(c=(o=this.subtitle)==null?void 0:o.runs)==null?void 0:c.find(f=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(f.text)))==null?void 0:p.text)||""},"_MusicResponsiveListItem_parseArtist"),xI=r(function(){var e,i,s,o;this.name=this.flex_columns[0].title.toString(),this.subtitle=(e=this.flex_columns.at(1))==null?void 0:e.title,this.song_count=((o=(s=(i=this.subtitle)==null?void 0:i.runs)==null?void 0:s.find(c=>/^\d+(,\d+)? songs?$/i.test(c.text)))==null?void 0:o.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),yI=r(function(e){var i,s;this.id=e.video_id||((s=(i=this.endpoint)==null?void 0:i.payload)==null?void 0:s.videoId),this.title=this.flex_columns[0].title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),bI=r(function(){var e,i;this.id=(i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.browseId,this.title=this.flex_columns[0].title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),gI=r(function(){var i,s,o,c,p,f,m,_,x;this.id=(s=(i=this.endpoint)==null?void 0:i.payload)==null?void 0:s.browseId,this.title=this.flex_columns[0].title.toString();let e=(c=(o=this.flex_columns.at(1))==null?void 0:o.title.runs)==null?void 0:c.find(b=>Ve(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));e&&Ve(e)&&(this.author={name:e.text,channel_id:(f=(p=e.endpoint)==null?void 0:p.payload)==null?void 0:f.browseId,endpoint:e.endpoint}),this.year=(x=(_=(m=this.flex_columns.at(1))==null?void 0:m.title.runs)==null?void 0:_.find(b=>/^[12][0-9]{3}$/.test(b.text)))==null?void 0:x.text},"_MusicResponsiveListItem_parseAlbum"),wI=r(function(){var s,o,c,p,f,m,_,x;this.id=(o=(s=this.endpoint)==null?void 0:s.payload)==null?void 0:o.browseId,this.title=this.flex_columns[0].title.toString();let e=(p=(c=this.flex_columns.at(1))==null?void 0:c.title.runs)==null?void 0:p.find(b=>b.text.match(/\d+ (song|songs)/));this.item_count=e?e.text:void 0;let i=(m=(f=this.flex_columns.at(1))==null?void 0:f.title.runs)==null?void 0:m.find(b=>Ve(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));i&&Ve(i)&&(this.author={name:i.text,channel_id:(x=(_=i.endpoint)==null?void 0:_.payload)==null?void 0:x.browseId,endpoint:i.endpoint})},"_MusicResponsiveListItem_parsePlaylist");lf.type="MusicResponsiveListItem";var Li=lf;var pf=class extends n{constructor(e){var s,o,c,p,f,m,_,x,b,w,v,I,k,C,E,Y,Z,O,oe,ce,V,re;switch(super(),this.title=new a(e.title),this.endpoint=new h(e.navigationEndpoint),this.id=((o=(s=this.endpoint)==null?void 0:s.payload)==null?void 0:o.browseId)||((p=(c=this.endpoint)==null?void 0:c.payload)==null?void 0:p.videoId),this.subtitle=new a(e.subtitle),this.badges=l.parse(e.subtitleBadges),(x=(_=(m=(f=this.endpoint)==null?void 0:f.payload)==null?void 0:m.browseEndpointContextSupportedConfigs)==null?void 0:_.browseEndpointContextMusicConfig)==null?void 0:x.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((w=(b=this.endpoint)==null?void 0:b.metadata)==null?void 0:w.api_url)==="/next"?this.item_type="endpoint":(v=this.subtitle.runs)!=null&&v[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((k=(I=this.subtitle.runs)==null?void 0:I.find(F=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(F.text)))==null?void 0:k.text)||"";else if(this.item_type=="playlist"){let F=(C=this.subtitle.runs)==null?void 0:C.find(B=>B.text.match(/\d+ songs|song/));this.item_count=F?F.text:null}else if(this.item_type=="album"){let F=(E=this.subtitle.runs)==null?void 0:E.filter(B=>{var q,K;return(K=(q=B.endpoint)==null?void 0:q.payload)==null?void 0:K.browseId.startsWith("UC")});F&&(this.artists=F.map(B=>{var q,K;return{name:B.text,channel_id:(K=(q=B.endpoint)==null?void 0:q.payload)==null?void 0:K.browseId,endpoint:B.endpoint}})),this.year=(Y=this.subtitle.runs)==null?void 0:Y.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((O=(Z=this==null?void 0:this.subtitle.runs)==null?void 0:Z.find(B=>B==null?void 0:B.text.match(/(.*?) views/)))==null?void 0:O.text)||"N/A";let F=(oe=this.subtitle.runs)==null?void 0:oe.find(B=>{var q,K,ne;return(ne=(K=(q=B.endpoint)==null?void 0:q.payload)==null?void 0:K.browseId)==null?void 0:ne.startsWith("UC")});F&&(this.author={name:F==null?void 0:F.text,channel_id:(V=(ce=F==null?void 0:F.endpoint)==null?void 0:ce.payload)==null?void 0:V.browseId,endpoint:F==null?void 0:F.endpoint})}else if(this.item_type=="song"){let F=(re=this.subtitle.runs)==null?void 0:re.filter(B=>{var q,K;return(K=(q=B.endpoint)==null?void 0:q.payload)==null?void 0:K.browseId.startsWith("UC")});F&&(this.artists=F.map(B=>{var q,K;return{name:B==null?void 0:B.text,channel_id:(K=(q=B==null?void 0:B.endpoint)==null?void 0:q.payload)==null?void 0:K.browseId,endpoint:B==null?void 0:B.endpoint}}))}this.thumbnail=y.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Ot),this.menu=l.parseItem(e.menu,R)}};r(pf,"MusicTwoRowItem");pf.type="MusicTwoRowItem";var zy=pf;var uf=class extends n{constructor(e){super(),this.header=l.parseItem(e.header,Hy),this.contents=l.parseArray(e.contents,[zy,Li,jy,$y]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};r(uf,"MusicCarouselShelf");uf.type="MusicCarouselShelf";var TI=uf;var ff=class extends n{constructor(e){super(),this.description=new a(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new a(e.footer)}};r(ff,"MusicDescriptionShelf");ff.type="MusicDescriptionShelf";var Xy=ff;var mf=class extends n{constructor(e){var s,o,c,p,f,m,_,x,b;super(),this.title=new a(e.title),this.description=new a(e.description),this.subtitle=new a(e.subtitle),this.second_subtitle=new a(e.secondSubtitle),this.year=((o=(s=this.subtitle.runs)==null?void 0:s.find(w=>/^[12][0-9]{3}$/.test(w.text)))==null?void 0:o.text)||"",this.song_count=((p=(c=this.second_subtitle.runs)==null?void 0:c[0])==null?void 0:p.text)||"",this.total_duration=((m=(f=this.second_subtitle.runs)==null?void 0:f[2])==null?void 0:m.text)||"",this.thumbnails=y.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=l.parseArray(e.subtitleBadges);let i=(_=this.subtitle.runs)==null?void 0:_.find(w=>{var v,I;return(I=(v=w==null?void 0:w.endpoint)==null?void 0:v.payload)==null?void 0:I.browseId.startsWith("UC")});i&&(this.author={name:i.text,channel_id:(b=(x=i.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId,endpoint:i.endpoint}),this.menu=l.parseItem(e.menu)}};r(mf,"MusicDetailHeader");mf.type="MusicDetailHeader";var vI=mf;var hf=class extends n{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};r(hf,"MusicDownloadStateBadge");hf.type="MusicDownloadStateBadge";var II=hf;var df=class extends n{constructor(e){super(),this.header=l.parseItem(e.header),this.edit_header=l.parseItem(e.editHeader),this.playlist_id=e.playlistId}};r(df,"MusicEditablePlaylistDetailHeader");df.type="MusicEditablePlaylistDetailHeader";var SI=df;var _f=class extends n{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?l.parseItem(e,qx):null}};r(_f,"MusicElementHeader");_f.type="MusicElementHeader";var kI=_f;var xf=class extends n{constructor(e){super(),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new a(e.title))}};r(xf,"MusicHeader");xf.type="MusicHeader";var EI=xf;var yf=class extends n{constructor(e){super(),this.title=new a(e.title),this.menu=l.parseItem(e.menu,R),this.more_button=l.parseItem(e.moreButton,se),this.play_button=l.parseItem(e.playButton,T),"shareEndpoint"in e&&(this.share_endpoint=new h(e.shareEndpoint)),this.start_radio_button=l.parseItem(e.startRadioButton,T),this.subscription_button=l.parseItem(e.subscriptionButton,de),this.description=new a(e.description),this.thumbnail=l.parseItem(e.thumbnail,Ee)}};r(yf,"MusicImmersiveHeader");yf.type="MusicImmersiveHeader";var CI=yf;var bf=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new h(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};r(bf,"ActionButton");bf.type="ActionButton";var gf=class{constructor(e){this.image=y.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new bf(i))}};r(gf,"Panel");gf.type="Panel";var wf=class extends n{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new gf(i))}};r(wf,"MusicLargeCardItemCarousel");wf.type="MusicLargeCardItemCarousel";var PI=wf;var Tf=class extends n{constructor(e){super(),this.title=new a(e.title),this.edit_title=new a(e.editTitle),this.edit_description=new a(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new h(e.collaborationSettingsCommand),this.privacy_dropdown=l.parseItem(e.privacyDropdown,wi)}};r(Tf,"MusicPlaylistEditHeader");Tf.type="MusicPlaylistEditHeader";var NI=Tf;var vf=class extends n{constructor(e){var i,s,o;super(),this.playlist_id=e.playlistId,this.contents=l.parseArray(e.contents,[Li,z]),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||null}};r(vf,"MusicPlaylistShelf");vf.type="MusicPlaylistShelf";var AI=vf;var If=class extends n{constructor(e){var o,c,p,f,m;super(),this.title=new a(e.title),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new h(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new a(e.lengthText).toString(),seconds:Te(new a(e.lengthText).toString())};let i=(o=new a(e.longBylineText).runs)==null?void 0:o.find(_=>{var x,b,w;return(w=(b=(x=_.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId)==null?void 0:w.startsWith("MPR")}),s=(c=new a(e.longBylineText).runs)==null?void 0:c.filter(_=>{var x,b,w;return(w=(b=(x=_.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId)==null?void 0:w.startsWith("UC")});this.author=new a(e.shortBylineText).toString(),i&&(this.album={id:(f=(p=i.endpoint)==null?void 0:p.payload)==null?void 0:f.browseId,name:i.text,year:(m=new a(e.longBylineText).runs)==null?void 0:m.slice(-1)[0].text,endpoint:i.endpoint}),s&&(this.artists=s.map(_=>{var x,b;return{name:_.text,channel_id:(b=(x=_.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId,endpoint:_.endpoint}})),this.badges=l.parseArray(e.badges),this.menu=l.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};r(If,"PlaylistPanelVideo");If.type="PlaylistPanelVideo";var ni=If;var Sf=class extends n{constructor(e){super(),this.primary=l.parseItem(e.primaryRenderer,ni),Reflect.has(e,"counterpart")&&(this.counterpart=G(e.counterpart.map(i=>l.parseItem(i.counterpartRenderer,ni))||[]))}};r(Sf,"PlaylistPanelVideoWrapper");Sf.type="PlaylistPanelVideoWrapper";var Qy=Sf;var kf=class extends n{constructor(e){var i,s,o,c,p,f;super(),this.title=e.title,this.title_text=new a(e.titleText),this.contents=l.parseArray(e.contents,[Qy,ni,w_]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextRadioContinuationData)==null?void 0:o.continuation)||((f=(p=(c=e.continuations)==null?void 0:c[0])==null?void 0:p.nextContinuationData)==null?void 0:f.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};r(kf,"PlaylistPanel");kf.type="PlaylistPanel";var Jy=kf;var Ef=class extends n{constructor(e){super(),this.content=l.parseItem(e.content,Jy)}};r(Ef,"MusicQueue");Ef.type="MusicQueue";var Zy=Ef;var Cf=class extends n{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ee),this.buttons=l.parseArray(e.buttons,[Wr,se,ds,T,R]),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.strapline_text_one=new a(e.straplineTextOne),this.strapline_thumbnail=l.parseItem(e.straplineThumbnail,Ee),this.second_subtitle=new a(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=l.parseArray(e.subtitleBadge,hs)),Reflect.has(e,"description")&&(this.description=l.parseItem(e.description,Xy))}};r(Cf,"MusicResponsiveHeader");Cf.type="MusicResponsiveHeader";var RI=Cf;var Pf=class extends n{constructor(e){var i,s,o,c;super(),this.title=new a(e.title),this.contents=l.parseArray(e.contents,Li),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new h(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((s=(i=e.continuations)==null?void 0:i[0].nextContinuationData)==null?void 0:s.continuation)||((c=(o=e.continuations)==null?void 0:o[0].reloadContinuationData)==null?void 0:c.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new a(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=l.parseItem(e.bottomButton,T)),Reflect.has(e,"subheaders")&&(this.subheaders=l.parseArray(e.subheaders))}};r(Pf,"MusicShelf");Pf.type="MusicShelf";var MI=Pf;var Nf=class extends n{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=l.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};r(Nf,"MusicSideAlignedItem");Nf.type="MusicSideAlignedItem";var DI=Nf;var Af=class extends n{constructor(e){super(),this.title=new a(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=l.parseItem(e.menu,Vy)}};r(Af,"MusicSortFilterButton");Af.type="MusicSortFilterButton";var BI=Af;var Rf=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Rf,"MusicTastebuilderShelfThumbnail");Rf.type="MusicTastebuilderShelfThumbnail";var eb=Rf;var Mf=class extends n{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,eb),this.primary_text=new a(e.primaryText),this.secondary_text=new a(e.secondaryText),this.action_button=l.parseItem(e.actionButton,T),this.is_visible=e.isVisible}};r(Mf,"MusicTasteBuilderShelf");Mf.type="MusicTasteBuilderShelf";var LI=Mf;var Df=class extends n{constructor(e){var i,s;super(),this.title=new a(e.title),this.thumbnail=e.thumbnail?y.fromResponse((i=e.thumbnail.musicThumbnailRenderer)==null?void 0:i.thumbnail):[],this.menu=l.parseItem(e.menu,R),this.foreground_thumbnail=e.foregroundThumbnail?y.fromResponse((s=e.foregroundThumbnail.musicThumbnailRenderer)==null?void 0:s.thumbnail):[]}};r(Df,"MusicVisualHeader");Df.type="MusicVisualHeader";var OI=Df;var Bf=class extends n{constructor(e){super(),this.placeholder_text=new a(e.placeholderText),this.buttons=l.parseArray(e.buttons),Reflect.has(e,"logo")&&Reflect.has(e.logo,"iconType")&&(this.logo_type=e.logo.iconType)}};r(Bf,"MobileTopbar");Bf.type="MobileTopbar";var YI=Bf;var Lf=class extends n{constructor(e){super(),this.items=l.parseArray(e.items)}};r(Lf,"MultiPageMenuSection");Lf.type="MultiPageMenuSection";var VI=Lf;var Of=class extends n{constructor(e){super(),this.items=l.parseArray(e.items)}};r(Of,"PivotBar");Of.type="PivotBar";var FI=Of;var Yf=class extends n{constructor(e){super(),this.pivot_identifier=e.pivotIdentifier,this.endpoint=new h(e.navigationEndpoint),this.title=new Text(e.title),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new ae(e.accessibility.accessibilityData)}),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}get label(){var e,i;return(i=(e=this.accessibility)==null?void 0:e.accessibility_data)==null?void 0:i.label}};r(Yf,"PivotBarItem");Yf.type="PivotBarItem";var UI=Yf;var Vf=class extends n{constructor(e){super(),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.menu_renderer=l.parseItem(e.menuRenderer),this.target_id=e.targetId}};r(Vf,"TopbarMenuButton");Vf.type="TopbarMenuButton";var WI=Vf;var Ff=class extends n{constructor(e){super(),this.response_text=new a(e.responseText)}};r(Ff,"NotificationAction");Ff.type="NotificationAction";var GI=Ff;var Uf=class extends n{constructor(e){super(),this.list_id=e.listId,this.modal_title=e.modalTitle,this.select_button_label=e.selectButtonLabel}};r(Uf,"OpenOnePickAddVideoModalCommand");Uf.type="OpenOnePickAddVideoModalCommand";var HI=Uf;var Wf=class extends n{constructor(e){super(),this.title=l.parseItem(e.title,jx),this.image=l.parseItem(e.image,[Pi,ns]),this.animated_image=l.parseItem(e.animatedImage,Pi),this.hero_image=l.parseItem(e.heroImage,Pi),this.metadata=l.parseItem(e.metadata,ss),this.actions=l.parseItem(e.actions,Hr),this.description=l.parseItem(e.description,Wx),this.attributation=l.parseItem(e.attributation,b_),this.banner=l.parseItem(e.banner,ly)}};r(Wf,"PageHeaderView");Wf.type="PageHeaderView";var tb=Wf;var Gf=class extends n{constructor(e){super(),this.page_title=e.pageTitle,this.content=l.parseItem(e.content,tb)}};r(Gf,"PageHeader");Gf.type="PageHeader";var Yt=Gf;var Hf=class extends n{constructor(e){super(),this.header_text=new a(e.headerText).toString(),this.body_text=new a(e.bodyText).toString(),this.page_title=new a(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};r(Hf,"PageIntroduction");Hf.type="PageIntroduction";var ib=Hf;var jf=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new h(e.onClickCommand),this.content_description=new a(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new a(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};r(jf,"PivotButton");jf.type="PivotButton";var rb=jf;var $f=class extends n{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:y.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new h(e.featuredChannel.navigationEndpoint),subscribe_button:l.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};r($f,"PlayerAnnotationsExpanded");$f.type="PlayerAnnotationsExpanded";var sb=$f;var qf=class extends n{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new a(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new a(i.languageName)})))}};r(qf,"PlayerCaptionsTracklist");qf.type="PlayerCaptionsTracklist";var ob=qf;var Kf=class extends n{constructor(e){super(),this.endpoint=new h(e.endpoint),this.enable_listen_first=e.enableListenFirst}};r(Kf,"PlayerOverflow");Kf.type="PlayerOverflow";var nb=Kf;var zf=class extends n{constructor(e){super(),this.overflow=l.parseItem(e.overflow,nb)}};r(zf,"PlayerControlsOverlay");zf.type="PlayerControlsOverlay";var jI=zf;var Xf=class extends n{constructor(e){super(),this.subreason=new a(e.subreason),this.reason=new a(e.reason),this.proceed_button=l.parseItem(e.proceedButton,T),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};r(Xf,"PlayerErrorMessage");Xf.type="PlayerErrorMessage";var $I=Xf;var Qf=class extends n{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};r(Qf,"PlayerLegacyDesktopYpcOffer");Qf.type="PlayerLegacyDesktopYpcOffer";var qI=Qf;var Jf=class extends n{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};r(Jf,"YpcTrailer");Jf.type="YpcTrailer";var _r=Jf;var Zf=class extends n{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=l.parseItem(e.ypcTrailer,_r)}};r(Zf,"PlayerLegacyDesktopYpcTrailer");Zf.type="PlayerLegacyDesktopYpcTrailer";var em=Zf;var tm=class extends n{constructor(e){super();let[i,s,o,c,p]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(s,10),thumbnail_height:parseInt(o,10),columns:parseInt(c,10),rows:parseInt(p,10)}}};r(tm,"PlayerLiveStoryboardSpec");tm.type="PlayerLiveStoryboardSpec";var ab=tm;var im=class extends n{constructor(e){var i,s;super(),this.title=new a(e.title),this.description=new a(e.description),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=(i=e.liveBroadcastDetails)!=null&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=(s=e.liveBroadcastDetails)!=null&&s.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};r(im,"PlayerMicroformat");im.type="PlayerMicroformat";var rt=im;var rm=class extends n{constructor(e){super(),this.title=new a(e.title),this.video_id=e.videoId,this.video_title=new a(e.videoTitle),this.short_view_count=new a(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new a(e.publishedTimeText),this.background=y.fromResponse(e.background),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new P(e.byline),this.cancel_button=l.parseItem(e.cancelButton,T),this.next_button=l.parseItem(e.nextButton,T),this.close_button=l.parseItem(e.closeButton,T)}};r(rm,"PlayerOverlayAutoplay");rm.type="PlayerOverlayAutoplay";var cb=rm;var sm=class extends n{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle)}};r(sm,"PlayerOverlayVideoDetails");sm.type="PlayerOverlayVideoDetails";var lb=sm;var om=class extends n{constructor(e){super(),this.results=l.parseArray(e.results,[Jx,Qx]),this.title=new a(e.title).toString()}};r(om,"WatchNextEndScreen");om.type="WatchNextEndScreen";var pb=om;var nm=class extends n{constructor(e){super(),this.end_screen=l.parseItem(e.endScreen,pb),this.autoplay=l.parseItem(e.autoplay,cb),this.share_button=l.parseItem(e.shareButton,T),this.add_to_menu=l.parseItem(e.addToMenu,R),this.fullscreen_engagement=l.parseItem(e.fullscreenEngagement),this.actions=l.parseArray(e.actions),this.browser_media_session=l.parseItem(e.browserMediaSession),this.decorated_player_bar=l.parseItem(e.decoratedPlayerBarRenderer,Ux),this.video_details=l.parseItem(e.videoDetails,lb)}};r(nm,"PlayerOverlay");nm.type="PlayerOverlay";var ub=nm;var am=class extends n{constructor(e){super(),this.id=e.playlistId,this.title=new a(e.title),this.subtitle=e.subtitle?new a(e.subtitle):null,this.stats=e.stats.map(i=>new a(i)),this.brief_stats=e.briefStats.map(i=>new a(i)),this.author=e.ownerText||e.ownerEndpoint?new P({...e.ownerText,navigationEndpoint:e.ownerEndpoint},e.ownerBadges,null):null,this.description=new a(e.descriptionText),this.num_videos=new a(e.numVideosText),this.view_count=new a(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=l.parseItem(e.saveButton),this.shuffle_play_button=l.parseItem(e.shufflePlayButton),this.menu=l.parseItem(e.moreActionsMenu),this.banner=l.parseItem(e.playlistHeaderBanner)}};r(am,"PlaylistHeader");am.type="PlaylistHeader";var fb=am;var cm=class extends n{constructor(e){super(),this.title=new a(e.playlistTitle),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new a(e.playlistVideoCount),this.channel_name=new a(e.channelName),this.endpoint=new h(e.action)}};r(cm,"PlaylistInfoCardContent");cm.type="PlaylistInfoCardContent";var KI=cm;var lm=class extends n{constructor(e){super(),this.title=e.title,this.description=e.description||null}};r(lm,"PlaylistMetadata");lm.type="PlaylistMetadata";var mb=lm;var pm=class extends n{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(pm,"PlaylistSidebar");pm.type="PlaylistSidebar";var zI=pm;var um=class extends n{constructor(e){super(),this.stats=e.stats.map(i=>new a(i)),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.title=new a(e.title),this.menu=l.parseItem(e.menu),this.endpoint=new h(e.navigationEndpoint),this.description=new a(e.description)}};r(um,"PlaylistSidebarPrimaryInfo");um.type="PlaylistSidebarPrimaryInfo";var hb=um;var fm=class extends n{constructor(e){super(),this.owner=l.parseItem(e.videoOwner),this.button=l.parseItem(e.button)}};r(fm,"PlaylistSidebarSecondaryInfo");fm.type="PlaylistSidebarSecondaryInfo";var db=fm;var mm=class extends n{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.text=new a(e.text)}};r(mm,"PlaylistThumbnailOverlay");mm.type="PlaylistThumbnailOverlay";var XI=mm;var hm=class extends n{constructor(e){super(),this.id=e.videoId,this.index=new a(e.index),this.title=new a(e.title),this.author=new P(e.shortBylineText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new h(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=l.parseItem(e.menu,R),this.video_info=new a(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new a(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Dt))==null?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Dt))==null?void 0:e.style)==="UPCOMING"}};r(hm,"PlaylistVideo");hm.type="PlaylistVideo";var _s=hm;var dm=class extends n{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=l.parseArray(e.contents)}};r(dm,"PlaylistVideoList");dm.type="PlaylistVideoList";var _b=dm;var _m=class extends n{constructor(e){super(),this.choices=e.choices.map(i=>({text:new a(i.text),select_endpoint:i.selectServiceEndpoint?new h(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new h(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new a(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new a(i.votePercentageIfSelected),image:i.image?y.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new a(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};r(_m,"Poll");_m.type="Poll";var QI=_m;var xm=class extends ki{constructor(e){super(e)}};r(xm,"Post");xm.type="Post";var xs=xm;var ym=class extends n{constructor(e){super(),this.images=l.parseArray(e.images,v_)}};r(ym,"PostMultiImage");ym.type="PostMultiImage";var JI=ym;var bm=class extends n{constructor(e){super(),this.label=new a(e.label)}};r(bm,"PremiereTrailerBadge");bm.type="PremiereTrailerBadge";var ZI=bm;var gm=class extends n{constructor(e){super(),this.title=new a(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};r(gm,"ProductListHeader");gm.type="ProductListHeader";var eS=gm;var wm=class extends n{constructor(e){super(),this.title=new a(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new h(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=l.parseItem(e.viewButton,T)}};r(wm,"ProductListItem");wm.type="ProductListItem";var tS=wm;var Tm=class extends n{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Tm,"ProfileColumn");Tm.type="ProfileColumn";var xb=Tm;var vm=class extends n{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(vm,"ProfileColumnStats");vm.type="ProfileColumnStats";var iS=vm;var Im=class extends n{constructor(e){super(),this.label=new a(e.label),this.value=new a(e.value)}};r(Im,"ProfileColumnStatsEntry");Im.type="ProfileColumnStatsEntry";var rS=Im;var Sm=class extends n{constructor(e){super(),this.title=new a(e.title),this.thumbnails=y.fromResponse(e.thumbnail)}};r(Sm,"ProfileColumnUserInfo");Sm.type="ProfileColumnUserInfo";var sS=Sm;var km=class extends n{constructor(e){super(),this.choices=e.choices.map(i=>({text:new a(i.text),is_correct:i.isCorrect})),this.total_votes=new a(e.totalVotes)}};r(km,"Quiz");km.type="Quiz";var oS=km;var Em=class extends n{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.avatars=e.avatars.map(i=>new y(i)),this.button=l.parseItem(e.button,T),this.surface=e.surface}};r(Em,"RecognitionShelf");Em.type="RecognitionShelf";var nS=Em;var Cm=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new a(e.headline),this.thumbnails=y.fromResponse(e.thumbnail),this.views=new a(e.viewCountText),this.endpoint=new h(e.navigationEndpoint),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new ae(e.accessibility.accessibilityData)})}get label(){var e,i;return(i=(e=this.accessibility)==null?void 0:e.accessibility_data)==null?void 0:i.label}};r(Cm,"ReelItem");Cm.type="ReelItem";var ys=Cm;var Pm=class extends n{constructor(e){super(),this.reel_title_text=new a(e.reelTitleText),this.timestamp_text=new a(e.timestampText),this.channel_title_text=new a(e.channelTitleText),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.author=new P(e.channelNavigationEndpoint,void 0)}};r(Pm,"ReelPlayerHeader");Pm.type="ReelPlayerHeader";var yb=Pm;var Nm=class extends n{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,Gr),this.reel_player_header_supported_renderers=l.parseItem(e.reelPlayerHeaderSupportedRenderers,yb),this.menu=l.parseItem(e.menu,R),this.next_item_button=l.parseItem(e.nextItemButton,T),this.prev_item_button=l.parseItem(e.prevItemButton,T),this.subscribe_button_renderer=l.parseItem(e.subscribeButtonRenderer,[T,de]),this.style=e.style,this.view_comments_button=l.parseItem(e.viewCommentsButton,T),this.share_button=l.parseItem(e.shareButton,T),this.pivot_button=l.parseItem(e.pivotButton,rb),this.info_panel=l.parseItem(e.infoPanel,uy)}};r(Nm,"ReelPlayerOverlay");Nm.type="ReelPlayerOverlay";var aS=Nm;var Am=class extends n{constructor(e){super(),this.content=l.parseItem(e.content)}};r(Am,"RelatedChipCloud");Am.type="RelatedChipCloud";var bb=Am;var Rm=class extends n{constructor(e){super(),this.header=l.parseItem(e.header),this.contents=l.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};r(Rm,"RichGrid");Rm.type="RichGrid";var Vt=Rm;var Mm=class extends n{constructor(e){super(),this.content=l.parseItem(e.content)}};r(Mm,"RichItem");Mm.type="RichItem";var cS=Mm;var Dm=class extends n{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};r(Dm,"RichListHeader");Dm.type="RichListHeader";var lS=Dm;var Bm=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.call_to_action=new a(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new h(e.endpoint)}};r(Bm,"RichMetadata");Bm.type="RichMetadata";var Lm=Bm;var Om=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(Om,"RichMetadataRow");Om.type="RichMetadataRow";var Ym=Om;var Vm=class extends n{constructor(e){super(),this.content=l.parseItem(e.content),this.full_bleed=!!e.fullBleed,"targetId"in e&&(this.target_id=e.targetId)}};r(Vm,"RichSection");Vm.type="RichSection";var pS=Vm;var Fm=class extends n{constructor(e){super(),this.title=new a(e.title),this.contents=l.parseArray(e.contents),this.is_expanded=!!e.is_expanded,this.is_bottom_divider_hidden=!!e.isBottomDividerHidden,this.is_top_divider_hidden=!!e.isTopDividerHidden,"endpoint"in e&&(this.endpoint=new h(e.endpoint)),"subtitle"in e&&(this.subtitle=new a(e.subtitle)),"layoutSizing"in e&&(this.layout_sizing=e.layoutSizing),"icon"in e&&(this.icon_type=e.icon.iconType),this.menu=l.parseItem(e.menu),this.next_button=l.parseItem(e.nextButton),this.previous_button=l.parseItem(e.previousButton)}};r(Fm,"RichShelf");Fm.type="RichShelf";var gb=Fm;var Um=class extends n{constructor(e){super(),this.label=new a(e.label),this.endpoint=new h(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};r(Um,"SearchFilter");Um.type="SearchFilter";var wb=Um;var Wm=class extends n{constructor(e){super(),this.title=new a(e.title),this.filters=l.parseArray(e.filters,wb)}};r(Wm,"SearchFilterGroup");Wm.type="SearchFilterGroup";var bs=Wm;var Gm=class extends n{constructor(e){super(),this.title=new a(e.title),this.groups=l.parseArray(e.groups,bs)}};r(Gm,"SearchFilterOptionsDialog");Gm.type="SearchFilterOptionsDialog";var uS=Gm;var Hm=class extends n{constructor(e){super(),this.chip_bar=l.parseItem(e.chipBar,Zr),this.search_filter_button=l.parseItem(e.searchFilterButton,T)}};r(Hm,"SearchHeader");Hm.type="SearchHeader";var Tb=Hm;var jm=class extends n{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new a(e.title)),Reflect.has(e,"groups")&&(this.groups=l.parseArray(e.groups,bs)),Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,se))}};r(jm,"SearchSubMenu");jm.type="SearchSubMenu";var vb=jm;var $m=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r($m,"SearchSuggestionsSection");$m.type="SearchSuggestionsSection";var fS=$m;var qm=class extends n{constructor(e){super(),this.header=l.parseItem(e.header),this.call_to_action=l.parseItem(e.callToAction),this.sections=l.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new a(e.collapsedLabel))}};r(qm,"UniversalWatchCard");qm.type="UniversalWatchCard";var gs=qm;var Km=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents,[gs])}};r(Km,"SecondarySearchContainer");Km.type="SecondarySearchContainer";var Ib=Km;var zm=class extends n{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,[se,T]),this.dislike_button=l.parseItem(e.dislikeButton,[se,T])}};r(zm,"SegmentedLikeDislikeButton");zm.type="SegmentedLikeDislikeButton";var xr=zm;var Xm=class extends n{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new a(e.title)),Reflect.has(e,"summary")&&(this.summary=new a(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new h(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new h(e.disableServiceEndpoint)),this.item_id=e.itemId}};r(Xm,"SettingBoolean");Xm.type="SettingBoolean";var mS=Xm;var Qm=class extends n{constructor(e){super(),this.title=new a(e.title),this.help_text=new a(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};r(Qm,"SettingsCheckbox");Qm.type="SettingsCheckbox";var Sb=Qm;var Jm=class extends n{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new h(e.enableServiceEndpoint),this.disable_endpoint=new h(e.disableServiceEndpoint)}};r(Jm,"SettingsSwitch");Jm.type="SettingsSwitch";var ws=Jm;var Zm=class extends n{constructor(e){super(),this.title=new a(e.title),Reflect.has(e,"text")&&(this.text=new a(e.text).toString()),Reflect.has(e,"options")&&(this.options=l.parseArray(e.options,[ws,wi,os,Sb,dx]))}};r(Zm,"SettingsOptions");Zm.type="SettingsOptions";var Ts=Zm;var eh=class extends n{constructor(e){super(),this.title=new a(e.title),this.items=l.parseArray(e.items,Rt)}get contents(){return this.items}};r(eh,"SettingsSidebar");eh.type="SettingsSidebar";var kb=eh;var th=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.content=new a(e.content),this.published=new a(e.publishedTimeText),this.menu=l.parseItem(e.actionMenu,R),this.original_post=l.parseItem(e.originalPost,[ki,xs]),this.id=e.postId,this.endpoint=new h(e.navigationEndpoint),this.expand_button=l.parseItem(e.expandButton,T),this.author=new P(e.displayName,void 0)}};r(th,"SharedPost");th.type="SharedPost";var Eb=th;var ih=class extends n{constructor(e){super(),this.title=l.parseItem(e.title)}};r(ih,"SharePanelHeader");ih.type="SharePanelHeader";var Cb=ih;var rh=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(rh,"SharePanelTitleV15");rh.type="SharePanelTitleV15";var hS=rh;var sh=class extends n{constructor(e){super(),Reflect.has(e,"serviceEndpoint")?this.endpoint=new h(e.serviceEndpoint):Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),this.service_name=e.serviceName,this.target_id=e.targetId,this.title=new a(e.title)}};r(sh,"ShareTarget");sh.type="ShareTarget";var Pb=sh;var oh=class extends n{constructor(e){super(),this.title=new a(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new h(e.endpoint)),this.content=l.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=l.parseItem(e.playAllButton,T)),Reflect.has(e,"subtitle")&&(this.subtitle=new a(e.subtitle))}};r(oh,"Shelf");oh.type="Shelf";var vs=oh;var nh=class extends n{constructor(e){var i;super(),this.entity_id=e.entityId,this.accessibility_text=e.accessibilityText,this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new h(e.onTap),this.menu_on_tap=new h(e.menuOnTap),this.index_in_collection=e.indexInCollection,this.menu_on_tap_a11y_label=e.menuOnTapA11yLabel,this.overlay_metadata={primary_text:e.overlayMetadata.primaryText?a.fromAttributed(e.overlayMetadata.primaryText):void 0,secondary_text:e.overlayMetadata.secondaryText?a.fromAttributed(e.overlayMetadata.secondaryText):void 0},(i=e.inlinePlayerData)!=null&&i.onVisible&&(this.inline_player_data=new h(e.inlinePlayerData.onVisible)),e.badge&&(this.badge=l.parseItem(e.badge,Ei))}};r(nh,"ShortsLockupView");nh.type="ShortsLockupView";var Is=nh;var ah=class extends n{constructor(e){super(),this.corrected_query=new a(e.correctedQuery),this.original_query=new a(e.originalQuery),this.corrected_query_endpoint=new h(e.correctedQueryEndpoint),this.original_query_endpoint=new h(e.originalQueryEndpoint),this.search_instead_for=new a(e.searchInsteadFor),this.showing_results_for=new a(e.showingResultsFor)}};r(ah,"ShowingResultsFor");ah.type="ShowingResultsFor";var dS=ah;var ch=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.title=new a(e.title),this.display_domain=new a(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new a(e.callToAction),this.endpoint=new h(e.command)}};r(ch,"SimpleCardContent");ch.type="SimpleCardContent";var _S=ch;var lh=class extends n{constructor(e){super(),this.message=new a(e.message),this.prominent=e.prominent}};r(lh,"SimpleCardTeaser");lh.type="SimpleCardTeaser";var xS=lh;var ph=class extends n{constructor(e){super(),this.lines=e.lines.map(i=>new a(i)),this.style=e.layoutStyle}};r(ph,"SimpleTextSection");ph.type="SimpleTextSection";var yS=ph;var uh=class extends n{constructor(e){super(),this.action_text=new a(e.actionText),this.nav_text=new a(e.navigationText),this.details=new a(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new h(e.navigationEndpoint)}};r(uh,"SingleActionEmergencySupport");uh.type="SingleActionEmergencySupport";var bS=uh;var fh=class extends n{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new h(e.endpoint),this.content=l.parseItem(e.content,[ue,Zy,Vt])}};r(fh,"Tab");fh.type="Tab";var Fe=fh;var mh=class extends n{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Fe)}};r(mh,"SingleColumnBrowseResults");mh.type="SingleColumnBrowseResults";var gS=mh;var hh=class extends n{constructor(e){super(),this.contents=l.parse(e)}};r(hh,"SingleColumnMusicWatchNextResults");hh.type="SingleColumnMusicWatchNextResults";var wS=hh;var dh=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.style=e.style}};r(dh,"SingleHeroImage");dh.type="SingleHeroImage";var TS=dh;var _h=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new a(e.title),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,de)}};r(_h,"SlimOwner");_h.type="SlimOwner";var vS=_h;var xh=class extends n{constructor(e){super(),this.title=new a(e.title),this.collapsed_subtitle=new a(e.collapsedSubtitle),this.expanded_subtitle=new a(e.expandedSubtitle),this.owner=l.parseItem(e.owner),this.description=new a(e.description),this.video_id=e.videoId,this.date=new a(e.dateText)}};r(xh,"SlimVideoMetadata");xh.type="SlimVideoMetadata";var IS=xh;var yh=class extends n{constructor(e){super(),this.start_at_option_label=new a(e.startAtOptionLabel)}};r(yh,"StartAt");yh.type="StartAt";var Nb=yh;var bh=class extends n{constructor(e){super(),this.contents=l.parse(e)}};r(bh,"Tabbed");bh.type="Tabbed";var SS=bh;var gh=class extends n{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Fe)}};r(gh,"TabbedSearchResults");gh.type="TabbedSearchResults";var kS=gh;var wh=class extends n{constructor(e){super(),this.title=new a(e.title),this.style=e.style}};r(wh,"TextHeader");wh.type="TextHeader";var ES=wh;var Th=class extends n{constructor(e){super(),this.share_targets=l.parseArray(e.shareTargets,Pb)}};r(Th,"ThirdPartyShareTargetSection");Th.type="ThirdPartyShareTargetSection";var Ab=Th;var vh=class extends n{constructor(e){super(),this.landscape=y.fromResponse(e.landscape),this.portrait=y.fromResponse(e.portrait)}};r(vh,"ThumbnailLandscapePortrait");vh.type="ThumbnailLandscapePortrait";var CS=vh;var Ih=class extends n{constructor(e){super(),this.text=new a(e.text).toString()}};r(Ih,"ThumbnailOverlayEndorsement");Ih.type="ThumbnailOverlayEndorsement";var PS=Ih;var Sh=class extends n{constructor(e){super(),this.text=new a(e.text),this.icon_type=e.icon.iconType}};r(Sh,"ThumbnailOverlayHoverText");Sh.type="ThumbnailOverlayHoverText";var NS=Sh;var kh=class extends n{constructor(e){super(),this.text=new a(e.text).toString(),this.icon_type=e.icon.iconType}};r(kh,"ThumbnailOverlayInlineUnplayable");kh.type="ThumbnailOverlayInlineUnplayable";var AS=kh;var Eh=class extends n{constructor(e){super(),this.text=new a(e.text)}};r(Eh,"ThumbnailOverlayLoadingPreview");Eh.type="ThumbnailOverlayLoadingPreview";var RS=Eh;var Ch=class extends n{constructor(e){super(),this.text=new a(e.text).toString()}};r(Ch,"ThumbnailOverlayNowPlaying");Ch.type="ThumbnailOverlayNowPlaying";var MS=Ch;var Ph=class extends n{constructor(e){super(),this.hack=e.hack}};r(Ph,"ThumbnailOverlayPinking");Ph.type="ThumbnailOverlayPinking";var DS=Ph;var Nh=class extends n{constructor(e){super(),this.texts=e.texts.map(i=>new a(i))}};r(Nh,"ThumbnailOverlayPlaybackStatus");Nh.type="ThumbnailOverlayPlaybackStatus";var BS=Nh;var Ah=class extends n{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};r(Ah,"ThumbnailOverlayResumePlayback");Ah.type="ThumbnailOverlayResumePlayback";var LS=Ah;var Rh=class extends n{constructor(e){super(),this.text=new a(e.text),this.icon_type=e.icon.iconType}};r(Rh,"ThumbnailOverlaySidePanel");Rh.type="ThumbnailOverlaySidePanel";var OS=Rh;var Mh=class extends n{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},e.toggledServiceEndpoint&&(this.toggled_endpoint=new h(e.toggledServiceEndpoint)),e.untoggledServiceEndpoint&&(this.untoggled_endpoint=new h(e.untoggledServiceEndpoint))}};r(Mh,"ThumbnailOverlayToggleButton");Mh.type="ThumbnailOverlayToggleButton";var YS=Mh;var Dh=class extends n{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new a(e.label),this.icon=e.icon}};r(Dh,"TimedMarkerDecoration");Dh.type="TimedMarkerDecoration";var VS=Dh;var Bh=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(Bh,"TitleAndButtonListHeader");Bh.type="TitleAndButtonListHeader";var FS=Bh;var Lh=class extends n{constructor(e){super(),this.text=new a(e.defaultText),this.toggled_text=new a(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new h(e.defaultServiceEndpoint),this.toggled_endpoint=new h(e.toggledServiceEndpoint)}};r(Lh,"ToggleMenuServiceItem");Lh.type="ToggleMenuServiceItem";var US=Lh;var Oh=class extends n{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new h(i)),accept:new h(e.promoConfig.acceptCommand),dismiss:new h(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new a(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};r(Oh,"Tooltip");Oh.type="Tooltip";var WS=Oh;var Yh=class extends n{constructor(e){var i;super(),this.title=new a(e.title),this.avatar=y.fromResponse((i=e.thumbnail)!=null?i:e.avatar),this.subtitle=new a(e.subtitle),this.subscribe_button=l.parseItem(e.subscribeButton,de),this.endpoint=new h(e.navigationEndpoint)}};r(Yh,"TopicChannelDetails");Yh.type="TopicChannelDetails";var GS=Yh;var Vh=class extends n{constructor(e){super(),this.tabs=l.parseArray(e.tabs,[Fe,mr]),this.secondary_contents=l.parseItem(e.secondaryContents,[ue,jr,xb])}};r(Vh,"TwoColumnBrowseResults");Vh.type="TwoColumnBrowseResults";var Ft=Vh;var Fh=class extends n{constructor(e){super(),this.header=l.parseItem(e.header),this.primary_contents=l.parseItem(e.primaryContents,[Vt,ue]),this.secondary_contents=l.parseItem(e.secondaryContents,[Ib]),"targetId"in e&&(this.target_id=e.targetId)}};r(Fh,"TwoColumnSearchResults");Fh.type="TwoColumnSearchResults";var Rb=Fh;var Mb,$g,Uh=class extends n{constructor(e){var o,c,p,f,m;super(),Mb.add(this),this.results=l.parseArray((o=e.results)==null?void 0:o.results.contents),this.secondary_results=l.parseArray((c=e.secondaryResults)==null?void 0:c.secondaryResults.results),this.conversation_bar=l.parseItem(e==null?void 0:e.conversationBar);let i=(p=e.playlist)==null?void 0:p.playlist;i&&(this.playlist={id:i.playlistId,title:i.title,author:(f=i.shortBylineText)!=null&&f.simpleText?new a(i.shortBylineText):new P(i.longBylineText),contents:l.parseArray(i.contents),current_index:i.currentIndex,is_infinite:!!i.isInfinite,menu:l.parseItem(i.menu,R)});let s=(m=e.autoplay)==null?void 0:m.autoplay;s&&(this.autoplay={sets:s.sets.map(_=>u(this,Mb,"m",$g).call(this,_))},s.modifiedSets&&(this.autoplay.modified_sets=s.modifiedSets.map(_=>u(this,Mb,"m",$g).call(this,_))),s.countDownSecs&&(this.autoplay.count_down_secs=s.countDownSecs))}};r(Uh,"TwoColumnWatchNextResults");Mb=new WeakSet,$g=r(function(e){let i={autoplay_video:new h(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new h(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Uh.type="TwoColumnWatchNextResults";var Db=Uh;var Wh=class extends n{constructor(e){if(super(),e.contents){let i=e.contents.find(s=>s.thirdPartyNetworkSection);i&&(this.third_party_network_section={share_target_container:l.parseItem(i.thirdPartyNetworkSection.shareTargetContainer,Ab),copy_link_container:l.parseItem(i.thirdPartyNetworkSection.copyLinkContainer,os),start_at_container:l.parseItem(i.thirdPartyNetworkSection.startAtContainer,Nb)})}this.header=l.parseItem(e.header,Cb),this.share_panel_version=e.sharePanelVersion,Reflect.has(e,"showLoadingSpinner")&&(this.show_loading_spinner=e.showLoadingSpinner)}};r(Wh,"UnifiedSharePanel");Wh.type="UnifiedSharePanel";var HS=Wh;var Gh=class extends n{constructor(e){super(),this.message_title=new a(e.dialogMessageTitle),this.message_text=new a(e.dialogMessageText),this.action_button=l.parseItem(e.actionButton,T),this.dismiss_button=l.parseItem(e.dismissButton,T),this.is_visible=e.isVisible}};r(Gh,"UpsellDialog");Gh.type="UpsellDialog";var jS=Gh;var Hh=class extends n{constructor(e){super(),this.items=l.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new a(e.collapsedStateButtonText)}get contents(){return this.items}};r(Hh,"VerticalList");Hh.type="VerticalList";var $S=Hh;var jh=class extends n{constructor(e){super(),this.items=l.parseArray(e.items),this.view_all_text=new a(e.viewAllText),this.view_all_endpoint=new h(e.viewAllEndpoint)}get contents(){return this.items}};r(jh,"VerticalWatchCardList");jh.type="VerticalWatchCardList";var qS=jh;var $h=class extends n{constructor(e){super(),this.title=new a(e.videoTitle),this.channel_name=new a(e.channelName),this.view_count=new a(e.viewCountText),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.duration=new a(e.lengthString),this.endpoint=new h(e.action)}};r($h,"VideoInfoCardContent");$h.type="VideoInfoCardContent";var KS=$h;var qh=class extends n{constructor(e){super(),this.carousel_titles=l.parse(e.carouselTitles,!0,fx),this.carousel_items=l.parse(e.carouselItems,!0,ux)}};r(qh,"VideoMetadataCarouselView");qh.type="VideoMetadataCarouselView";var zS=qh;var Kh=class{constructor(e){this.text=new a(e.text),this.subscribed=e.isSubscribed,"subscriptionType"in e&&(this.subscription_type=e.subscriptionType)}};r(Kh,"SubscriptionButton");Kh.type="SubscriptionButton";var Bb=Kh;var zh=class extends n{constructor(e){super(),"subscriptionButton"in e&&(this.subscription_button=new Bb(e.subscriptionButton)),this.subscriber_count=new a(e.subscriberCountText),this.author=new P({...e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.thumbnail)}};r(zh,"VideoOwner");zh.type="VideoOwner";var Ss=zh;var Xh=class extends n{constructor(e){super(),this.original_view_count=e.originalViewCount,this.short_view_count=new a(e.shortViewCount),this.extra_short_view_count=new a(e.extraShortViewCount),this.view_count=new a(e.viewCount)}};r(Xh,"VideoViewCount");Xh.type="VideoViewCount";var Lb=Xh;var Qh=class extends n{constructor(e){super(),this.title=new a(e.title),"superTitleLink"in e&&(this.super_title_link=new a(e.superTitleLink)),"stationName"in e&&(this.station_name=new a(e.stationName)),this.view_count=l.parseItem(e.viewCount,Lb),this.badges=l.parseArray(e.badges,je),this.published=new a(e.dateText),this.relative_date=new a(e.relativeDateText),this.menu=l.parseItem(e.videoActions,R)}};r(Qh,"VideoPrimaryInfo");Qh.type="VideoPrimaryInfo";var Ob=Qh;var Jh=class extends n{constructor(e){super(),this.owner=l.parseItem(e.owner,Ss),this.description=new a(e.description),"attributedDescription"in e&&(this.description=a.fromAttributed(e.attributedDescription)),"descriptionPlaceholder"in e&&(this.description_placeholder=new a(e.descriptionPlaceholder)),this.subscribe_button=l.parseItem(e.subscribeButton,[de,T]),this.metadata=l.parseItem(e.metadataRowContainer,Wy),this.show_more_text=new a(e.showMoreText),this.show_less_text=new a(e.showLessText),this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};r(Jh,"VideoSecondaryInfo");Jh.type="VideoSecondaryInfo";var Zh=Jh;var ed=class extends n{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.duration={text:new a(e.lengthText).toString(),seconds:Te(e.lengthText.simpleText)},this.style=e.style}};r(ed,"WatchCardCompactVideo");ed.type="WatchCardCompactVideo";var Yb=ed;var td=class extends n{constructor(e){var i;super(),this.endpoint=new h(e.navigationEndpoint),this.call_to_action_button=l.parseItem(e.callToActionButton),this.hero_image=l.parseItem(e.heroImage),this.label=((i=e.lengthText)==null?void 0:i.accessibility.accessibilityData.label)||""}};r(td,"WatchCardHeroVideo");td.type="WatchCardHeroVideo";var XS=td;var id=class extends n{constructor(e){super(),this.title=new a(e.title),this.title_endpoint=new h(e.titleNavigationEndpoint),this.subtitle=new a(e.subtitle),this.author=new P(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};r(id,"WatchCardRichHeader");id.type="WatchCardRichHeader";var QS=id;var rd=class extends n{constructor(e){super(),this.lists=l.parseArray(e.lists)}};r(rd,"WatchCardSectionSequence");rd.type="WatchCardSectionSequence";var JS=rd;var sd=class extends Ft{constructor(e){super(e)}};r(sd,"WatchNextTabbedResults");sd.type="WatchNextTabbedResults";var ZS=sd;var od=class extends n{constructor(e){var i,s;super(),this.title=e.title,this.content=l.parseItem(e.content,ue),this.endpoint=new h(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)==null?void 0:i.assetKey,background_color:(s=e.categoryAssets)==null?void 0:s.backgroundColor},this.category_type=e.categoryType}};r(od,"AnchoredSection");od.type="AnchoredSection";var Vb=od;var nd,ad=class extends n{constructor(e){super(),nd.set(this,void 0),this.child_display_name=new a(e.childDisplayName),this.child_account_description=new a(e.childAccountDescription),this.avatar=y.fromResponse(e.avatar),this.block_button=l.parseItem(e.blockButton,[se]),this.blocked_entity_key=e.blockedEntityKey}async blockChannel(){if(!u(this,nd,"f"))throw new g("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new g("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new g("This channel is already blocked.",{child_display_name:this.child_display_name});return await e.endpoint.call(u(this,nd,"f"),{parse:!1})}setActions(e){S(this,nd,e,"f")}};r(ad,"KidsBlocklistPickerItem");nd=new WeakMap;ad.type="KidsBlocklistPickerItem";var Fb=ad;var cd=class extends n{constructor(e){super(),this.title=new a(e.title),this.child_rows=l.parse(e.childRows,!0,[Fb]),this.done_button=l.parseItem(e.doneButton,[T]),this.successful_toast_action_message=new a(e.successfulToastActionMessage)}};r(cd,"KidsBlocklistPicker");cd.type="KidsBlocklistPicker";var ek=cd;var ld=class extends n{constructor(e){var i,s;super(),this.title=new a(e.title),this.category_assets={asset_key:(i=e.categoryAssets)==null?void 0:i.assetKey,background_color:(s=e.categoryAssets)==null?void 0:s.backgroundColor},this.category_type=e.categoryType,this.endpoint=new h(e.endpoint)}};r(ld,"KidsCategoryTab");ld.type="KidsCategoryTab";var Ub=ld;var pd=class extends n{constructor(e){super(),this.category_tabs=l.parseArray(e.categoryTabs,Ub),this.privacy_button=l.parseItem(e.privacyButtonRenderer,T)}};r(pd,"KidsCategoriesHeader");pd.type="kidsCategoriesHeader";var tk=pd;var ud=class extends n{constructor(e){super(),this.anchors=l.parseArray(e.anchors,Vb)}};r(ud,"KidsHomeScreen");ud.type="kidsHomeScreen";var ik=ud;var Zg={};Je(Zg,{camelToSnake:()=>yr,createRuntimeClass:()=>fk,generateRuntimeClass:()=>md,generateTypescriptClass:()=>Gb,inferType:()=>Wb,introspect:()=>zg,isArrayType:()=>pk,isIgnoredKey:()=>uk,isMiscType:()=>lk,isRenderer:()=>Kg,isRendererList:()=>ck,mergeKeyInfo:()=>fd,parse:()=>Jg,toParser:()=>Qg,toTypeDeclaration:()=>Xg});var r1=new Set(["trackingParams","accessibility","accessibilityData"]),qg={};function yr(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}r(yr,"camelToSnake");function Wb(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=Kg(e))return qg[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=ck(e)){for(let[o,c]of Object.entries(i))qg[o]=c;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=lk(t,e))||(i=pk(e)))return i}let s=typeof e;return s==="object"?{type:"object",keys:Object.entries(e).map(([o,c])=>[o,Wb(o,c)]),optional:!1}:{type:"primitive",typeof:[s],optional:!1}}r(Wb,"inferType");function ck(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(s=>Kg(s))?Object.fromEntries(t.map(s=>{let o=Reflect.ownKeys(s)[0].toString();return[Es(o),s[o]]})):!1}r(ck,"isRendererList");function lk(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new h(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new a(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}r(lk,"isMiscType");function Kg(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let s=i[0].toString();if(s.endsWith("Renderer")||s.endsWith("Model"))return Es(s)}return!1}r(Kg,"isRenderer");function pk(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["never"],optional:!1},optional:!1};let e=t.map(c=>typeof c);if(!e.every(c=>c===e[0]))return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!1},optional:!1};let s=e[0];if(s!=="object")return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:[s],optional:!1},optional:!1};let o=[];for(let c=0;c<t.length;c++){let p=Object.entries(t[c]).map(([f,m])=>[f,Wb(f,m)]);if(c===0){o=p;continue}o=fd(o,p).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:o,optional:!1},optional:!1}}r(pk,"isArrayType");function s1(t){if(typeof t!="object"||t===null)throw new g("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!uk(i)).filter(i=>typeof i=="string").map(i=>{let s=Reflect.get(t,i),o=Wb(i,s);return[i,o]})}r(s1,"introspectKeysFirstPass");function o1(t){var p;let i=t.filter(([,f])=>{var m;return f.type!=="misc"||!(f.misc_type==="NavigationEndpoint"||f.misc_type==="Text")?!1:((m=f.endpoint)==null?void 0:m.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,f],[,m])=>f.type!=="misc"||m.type!=="misc"||f.misc_type!=="Text"||m.misc_type!=="Text"?0:m.text.length-f.text.length),s=new Set,o=i[0],c;if(o){s.add(o[0]);let m=t.map(([v])=>v).filter(v=>v.endsWith("Badges")||v==="badges"),x=(p=m.filter(v=>v.startsWith("owner")||v.startsWith("author"))[0])!=null?p:m[0],b=t.find(([v])=>v===x),w=b?b[1].type==="array"&&b[1].array_type==="renderer"&&Reflect.has(b[1].renderers,"MetadataBadge"):!1;w&&x&&s.add(x),c={type:"misc",misc_type:"Author",optional:!1,params:[o[0],w?x:void 0]}}return c&&t.push(["author",c]),t.filter(([f])=>!s.has(f))}r(o1,"introspectKeysSecondPass");function n1(t){let e=s1(t);return o1(e)}r(n1,"introspect2");function zg(t){let e=n1(t),i=new Map;for(let[,o]of e)if(o.type==="renderer"||o.type==="array"&&o.array_type==="renderer")for(let c of o.renderers){let p=qg[c];p&&i.set(c,p)}let s=Array.from(i).filter(([o])=>!hd(o));return{key_info:e,unimplemented_dependencies:s}}r(zg,"introspect");function uk(t){return typeof t=="string"&&r1.has(t)}r(uk,"isIgnoredKey");function fk(t,e,i){var s,o;i({error_type:"class_not_found",classname:t,key_info:e});let c=(s=r(class extends n{static set key_info(p){S(this,s,new Map(p),"f",o)}static get key_info(){return[...u(this,s,"f",o).entries()]}constructor(p){super();let{key_info:f,unimplemented_dependencies:m}=zg(p),{resolved_key_info:_,changed_keys:x}=fd(c.key_info,f);x.length>0&&(c.key_info=_,i({error_type:"class_changed",classname:t,key_info:c.key_info,changed_keys:x}));for(let[w,v]of m)md(w,v,i);for(let[w,v]of f){let I=yr(w);v.type==="misc"&&v.misc_type==="NavigationEndpoint"&&(I="endpoint"),Reflect.set(this,I,Jg(w,v,p))}}},"_a"),Jw(s,"node"),s.type=t,o={value:new Map},s);return c.key_info=e,Object.defineProperty(c,"name",{value:t,writable:!1}),c}r(fk,"createRuntimeClass");function md(t,e,i){let{key_info:s,unimplemented_dependencies:o}=zg(e),c=fk(t,s,i);ew(t,c);for(let[p,f]of o)md(p,f,i);return c}r(md,"generateRuntimeClass");function Gb(t,e){let i=[],s=["super();"];for(let[o,c]of e){let p=yr(o);c.type==="misc"&&c.misc_type==="NavigationEndpoint"&&(p="endpoint"),i.push(`${p}${c.optional?"?":""}: ${Xg(c)};`),s.push(`this.${p} = ${Qg(o,c)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${s.join(`
    `)}
  }
}
`}r(Gb,"generateTypescriptClass");function rk(t,e){return`{
${e.map(([i,s])=>`${" ".repeat((t+2)*2)}${yr(i)}${s.optional?"?":""}: ${Xg(s,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}r(rk,"toTypeDeclarationObject");function Xg(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${rk(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return rk(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primitive":return t.typeof.join(" | ")}}r(Xg,"toTypeDeclaration");function sk(t,e,i,s){let o=[...i,s];return`{
${e.map(([c,p])=>`${" ".repeat((t+2)*2)}${yr(c)}: ${Qg(c,p,o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}r(sk,"toParserObject");function Qg(t,e,i=["data"],s=1){let o="undefined";switch(e.type){case"renderer":o=`Parser.parseItem(${i.join(".")}.${t}, ${ok(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":o=`Parser.parse(${i.join(".")}.${t}, true, ${ok(e.renderers)})`;break;case"object":o=`${i.join(".")}.${t}.map((item: any) => (${sk(s,e.items.keys,[],"item")}))`;break;case"primitive":o=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":o=sk(s,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":o=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let c=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${c} : undefined`:c}default:o=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(o==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primitive":o=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${o} : undefined`:o}r(Qg,"toParser");function ok(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}r(ok,"toParserValidTypes");function Ut(t,e){let i=t;for(let s of e)i=i[s];return i}r(Ut,"accessDataFromKeyPath");function nk(t,e){let i=t;for(let s of e)if(Reflect.has(i,s))i=i[s];else return!1;return!0}r(nk,"hasDataFromKeyPath");function ak(t,e,i,s,o){let c={},p=[...i,t];for(let[f,m]of s)c[f]=o?Jg(f,m,e,p):void 0;return c}r(ak,"parseObject");function Jg(t,e,i,s=["data"]){let o=!e.optional||nk({data:i},[...s,t]);switch(e.type){case"renderer":return o?Q(Ut({data:i},[...s,t]),e.renderers.map(c=>ks(c))):void 0;case"array":switch(e.array_type){case"renderer":return o?Ue(Ut({data:i},[...s,t]),!0,e.renderers.map(c=>ks(c))):void 0;case"object":return o?Ut({data:i},[...s,t]).map((c,p)=>ak(`${p}`,i,[...s,t],e.items.keys,o)):void 0;case"primitive":return o?Ut({data:i},[...s,t]):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return ak(t,i,s,e.keys,o);case"misc":switch(e.misc_type){case"NavigationEndpoint":return o?new h(Ut({data:i},[...s,t])):void 0;case"Text":return o?new a(Ut({data:i},[...s,t])):void 0;case"Thumbnail":return o?y.fromResponse(Ut({data:i},[...s,t])):void 0;case"Author":return!e.optional||nk({data:i},[...s,e.params[0]])?new P(Ut({data:i},[...s,e.params[0]]),e.params[1]?Ut({data:i},[...s,e.params[1]]):void 0):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"primitive":return Ut({data:i},[...s,t])}}r(Jg,"parse");function fd(t,e){let i=new Map,s=new Set(t.map(([w])=>w)),o=new Set(e.map(([w])=>w)),c=e.filter(([w])=>!s.has(w)),p=t.filter(([w])=>!o.has(w)),f=t.filter(([w])=>o.has(w)),m=new Map(e);for(let[w,v]of f){let I=m.get(w);if(!!I){if(v.type!==I.type){i.set(w,{type:"primitive",typeof:["unknown"],optional:!0});continue}switch(v.type){case"object":{if(I.type!=="object")continue;let{resolved_key_info:k}=fd(v.keys,I.keys),C={type:"object",keys:k,optional:v.optional||I.optional};JSON.stringify(C)!==JSON.stringify(v)&&i.set(w,C)}break;case"renderer":{if(I.type!=="renderer")continue;let k={...v.renderers,...I.renderers},C=v.optional||I.optional,E={type:"renderer",renderers:k,optional:C};JSON.stringify({...E,renderers:Object.keys(E.renderers)})!==JSON.stringify({...v,renderers:Object.keys(v.renderers)})&&i.set(w,E)}break;case"array":{if(I.type!=="array")continue;switch(v.array_type){case"renderer":{if(I.array_type!=="renderer"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let k={...v.renderers,...I.renderers},C=v.optional||I.optional,E={type:"array",array_type:"renderer",renderers:k,optional:C};JSON.stringify({...E,renderers:Object.keys(E.renderers)})!==JSON.stringify({...v,renderers:Object.keys(v.renderers)})&&i.set(w,E)}break;case"object":{if(I.array_type==="primitive"&&I.items.typeof.length==1&&I.items.typeof[0]==="never")continue;if(I.array_type!=="object"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:k}=fd(v.items.keys,I.items.keys),C={type:"array",array_type:"object",items:{type:"object",keys:k,optional:v.items.optional||I.items.optional},optional:v.optional||I.optional};JSON.stringify(C)!==JSON.stringify(v)&&i.set(w,C)}break;case"primitive":{if(v.items.typeof.includes("never")&&I.array_type==="object"){i.set(w,I);continue}if(I.array_type!=="primitive"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let k=new Set([...I.items.typeof,...v.items.typeof]);k.size>1&&k.has("never")&&k.delete("never");let C={type:"array",array_type:"primitive",items:{type:"primitive",typeof:Array.from(k),optional:v.items.optional||I.items.optional},optional:v.optional||I.optional};JSON.stringify(C)!==JSON.stringify(v)&&i.set(w,C)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}break}case"misc":{if(I.type!=="misc")continue;switch(v.misc_type!==I.misc_type&&i.set(w,{type:"primitive",typeof:["unknown"],optional:!0}),v.misc_type){case"Author":{if(I.misc_type!=="Author")break;let k=v.params[1]||I.params[1],C=v.optional||I.optional,E={type:"misc",misc_type:"Author",optional:C,params:[I.params[0],k]};JSON.stringify(E)!==JSON.stringify(v)&&i.set(w,E)}break}}break;case"primitive":{if(I.type!=="primitive")continue;let k={type:"primitive",typeof:Array.from(new Set([...I.typeof,...v.typeof])),optional:v.optional||I.optional};JSON.stringify(k)!==JSON.stringify(v)&&i.set(w,k)}break}}}for(let[w,v]of c)i.set(w,{...v,optional:!0});for(let[w,v]of p)i.set(w,{...v,optional:!0});let _=t.filter(([w])=>!i.has(w));return{resolved_key_info:[...new Map([..._,...i]).entries()],changed_keys:[...i.entries()]}}r(fd,"mergeKeyInfo");var Cs=class extends n{constructor(e){var i,s,o;super(),this.contents=Re(e.contents),Array.isArray(e.continuations)&&(this.continuation=(o=(s=(i=e.continuations)==null?void 0:i.at(0))==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)}};r(Cs,"ItemSectionContinuation");Cs.type="itemSectionContinuation";var Oi=class extends n{constructor(e){super(),this.endpoint=new h(e.endpoint)}};r(Oi,"NavigateAction");Oi.type="navigateAction";var Ps=class extends n{constructor(e){super(),this.miniplayer_command=new h(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};r(Ps,"ShowMiniplayerCommand");Ps.type="showMiniplayerCommand";var Me=class extends n{constructor(e){super(),this.target_id=e.targetId,this.contents=Ue(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};r(Me,"ReloadContinuationItemsCommand");Me.type="reloadContinuationItemsCommand";var Ns=class extends n{constructor(e){var i,s,o,c,p,f;super(),this.contents=Ue(e.contents,!0),this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||((f=(p=(c=e.continuations)==null?void 0:c[0])==null?void 0:p.reloadContinuationData)==null?void 0:f.continuation)||null}};r(Ns,"SectionListContinuation");Ns.type="sectionListContinuation";var As=class extends n{constructor(e){var i;super(),this.contents=Ue(e.contents,!0),this.continuation=((i=e.continuations)==null?void 0:i[0].nextContinuationData.continuation)||null}};r(As,"MusicPlaylistShelfContinuation");As.type="musicPlaylistShelfContinuation";var Rs=class extends n{constructor(e){var i,s,o,c;super(),this.contents=Re(e.contents),this.continuation=((s=(i=e.continuations)==null?void 0:i[0].nextContinuationData)==null?void 0:s.continuation)||((c=(o=e.continuations)==null?void 0:o[0].reloadContinuationData)==null?void 0:c.continuation)||null}};r(Rs,"MusicShelfContinuation");Rs.type="musicShelfContinuation";var Ms=class extends n{constructor(e){var i;super(),this.items=Ue(e.items,!0),this.continuation=((i=e.continuations)==null?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};r(Ms,"GridContinuation");Ms.type="gridContinuation";var Ds=class extends n{constructor(e){var i,s,o,c,p,f;super(),this.contents=Re(e.contents),this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||((f=(p=(c=e.continuations)==null?void 0:c[0])==null?void 0:p.nextRadioContinuationData)==null?void 0:f.continuation)||null}};r(Ds,"PlaylistPanelContinuation");Ds.type="playlistPanelContinuation";var br=class extends n{constructor(e){var i,s,o;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)==null?void 0:i.timeoutMs,this.time_until_last_message_ms=(s=e.continuation)==null?void 0:s.timeUntilLastMessageMsec,this.token=(o=e.continuation)==null?void 0:o.continuation}};r(br,"Continuation");br.type="continuation";var Yi=class extends n{constructor(e){var o,c,p,f,m,_,x,b;super(),this.actions=Ue((o=e.actions)==null?void 0:o.map(w=>(delete w.clickTrackingParams,w)),!0)||G([]),this.action_panel=Q(e.actionPanel),this.item_list=Q(e.itemList,Ry),this.header=Q(e.header,Ay),this.participants_list=Q(e.participantsList,Dy),this.popout_message=Q(e.popoutMessage,Lt),this.emojis=((c=e.emojis)==null?void 0:c.map(w=>({emoji_id:w.emojiId,shortcuts:w.shortcuts,search_terms:w.searchTerms,image:y.fromResponse(w.image),is_custom_emoji:w.isCustomEmoji})))||[];let i,s;(p=e.continuations)!=null&&p[0].timedContinuationData?(s="timed",i=(f=e.continuations)==null?void 0:f[0].timedContinuationData):(m=e.continuations)!=null&&m[0].invalidationContinuationData?(s="invalidation",i=(_=e.continuations)==null?void 0:_[0].invalidationContinuationData):(x=e.continuations)!=null&&x[0].liveChatReplayContinuationData&&(s="replay",i=(b=e.continuations)==null?void 0:b[0].liveChatReplayContinuationData),this.continuation=new br({continuation:i,type:s}),this.viewer_name=e.viewerName}};r(Yi,"LiveChatContinuation");Yi.type="liveChatContinuation";var ai=class extends n{constructor(e){super(),this.request=e.request,this.token=e.token}};r(ai,"ContinuationCommand");ai.type="ContinuationCommand";function a1(){return{key:void 0,value:void 0}}r(a1,"createBaseKeyValuePair");var mk={encode(t,e=new we){return t.key!==void 0&&e.uint32(10).string(t.key),t.value!==void 0&&e.uint32(18).string(t.value),e},decode(t,e){let i=t instanceof X?t:new X(t),s=e===void 0?i.len:i.pos+e,o=a1();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.key=i.string();continue;case 2:if(c!==18)break;o.value=i.string();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function c1(){return{xtags:[]}}r(c1,"createBaseFormatXTags");var hk={encode(t,e=new we){for(let i of t.xtags)mk.encode(i,e.uint32(10).fork()).join();return e},decode(t,e){let i=t instanceof X?t:new X(t),s=e===void 0?i.len:i.pos+e,o=c1();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.xtags.push(mk.decode(i,i.uint32()));continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};var Hb,jb=class{constructor(e,i){var s,o,c,p,f,m,_;if(Hb.set(this,void 0),i&&S(this,Hb,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=(s=e.stereoLayout)==null?void 0:s.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.last_modified_ms=e.lastModified,Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=(o=e.spatialAudioType)==null?void 0:o.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:(c=e.colorInfo.primaries)==null?void 0:c.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(p=e.colorInfo.transferCharacteristics)==null?void 0:p.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(f=e.colorInfo.matrixCoefficients)==null?void 0:f.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let x=this.xtags?hk.decode(no(decodeURIComponent(this.xtags).replace(/-/g,"+").replace(/_/g,"/"))).xtags:[];if(this.language=((m=x.find(b=>b.key==="lang"))==null?void 0:m.value)||null,this.has_audio){this.is_drc=!!e.isDrc||x.some(w=>w.key==="drc"&&w.value==="1");let b=(_=x.find(w=>w.key==="acont"))==null?void 0:_.value;this.is_dubbed=b==="dubbed",this.is_descriptive=b==="descriptive",this.is_secondary=b==="secondary",this.is_auto_dubbed=b==="dubbed-auto",this.is_original=b==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_auto_dubbed&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}async decipher(e){return e?e.decipher(this.url,this.signature_cipher,this.cipher,u(this,Hb,"f")):this.url||""}};r(jb,"Format");Hb=new WeakMap;var $b=jb;var Vi=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=y.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};r(Vi,"VideoDetails");var gr="Parser",l1=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","PromotedSparklesWeb","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),sw=new Map(Object.entries(dr)),dk=new Map,wr=null,ci=r(({classname:t,...e})=>{switch(e.error_type){case"parse":e.error instanceof Error&&D.warn(gr,new g(`Something went wrong at ${t}!
This is a bug, please report it at ${M.shim.info.bugs_url}`,{stack:e.error.stack,classdata:JSON.stringify(e.classdata,null,2)}));break;case"typecheck":D.warn(gr,new Ze(`Type mismatch, got ${t} expected ${Array.isArray(e.expected)?e.expected.join(" | "):e.expected}.`,e.classdata));break;case"mutation_data_missing":D.warn(gr,new g(`Mutation data required for processing ${t}, but none found.
This is a bug, please report it at ${M.shim.info.bugs_url}`));break;case"mutation_data_invalid":D.warn(gr,new g(`Mutation data missing or invalid for ${e.failed} out of ${e.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${e.titles.join(", ")}.
This is a bug, please report it at ${M.shim.info.bugs_url}`));break;case"class_not_found":D.warn(gr,new g(`${t} not found!
This is a bug, want to help us fix it? Follow the instructions at ${M.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${M.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${Gb(t,e.key_info)}`));break;case"class_changed":D.warn(gr,`${t} changed!
The following keys where altered: ${e.changed_keys.map(([i])=>yr(i)).join(", ")}
The class has changed to:
${Gb(t,e.key_info)}`);break;default:D.warn(gr,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function p1(t){ci=t}r(p1,"setParserErrorHandler");function Wt(){wr=null}r(Wt,"_clearMemo");function Gt(){wr=new yi}r(Gt,"_createMemo");function u1(t,e){if(!wr)return;let i=wr.get(t);if(!i)return wr.set(t,[e]);i.push(e)}r(u1,"_addToMemo");function Ht(){if(!wr)throw new Error("Parser#getMemo() called before Parser#createMemo()");return wr}r(Ht,"_getMemo");function ow(t){return l1.has(t)}r(ow,"shouldIgnore");function Es(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}r(Es,"sanitizeClassName");function ks(t){let e=sw.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}r(ks,"getParserByName");function hd(t){return sw.has(t)}r(hd,"hasParser");function ew(t,e){sw.set(t,e),dk.set(t,e)}r(ew,"addRuntimeParser");function f1(){return Object.fromEntries(dk)}r(f1,"getDynamicParsers");function tw(t){var Bw,Lw,Ow,Yw,Vw,Fw,Uw,Ww,Gw,Hw,jw,$w,qw,Kw,zw,Xw;let e={};Gt();let i=Ue(t.contents),s=Ht();i&&(e.contents=i,e.contents_memo=s),Wt(),Gt();let o=t.onResponseReceivedActions?qb(t.onResponseReceivedActions):null,c=Ht();o&&(e.on_response_received_actions=o,e.on_response_received_actions_memo=c),Wt(),Gt();let p=t.onResponseReceivedEndpoints?qb(t.onResponseReceivedEndpoints):null,f=Ht();p&&(e.on_response_received_endpoints=p,e.on_response_received_endpoints_memo=f),Wt(),Gt();let m=t.onResponseReceivedCommands?qb(t.onResponseReceivedCommands):null,_=Ht();m&&(e.on_response_received_commands=m,e.on_response_received_commands_memo=_),Wt(),Gt();let x=t.continuationContents?iw(t.continuationContents):null,b=Ht();x&&(e.continuation_contents=x,e.continuation_contents_memo=b),Wt(),Gt();let w=t.actions?yk(t.actions):null,v=Ht();w&&(e.actions=w,e.actions_memo=v),Wt(),Gt();let I=t.liveChatItemContextMenuSupportedRenderers?Q(t.liveChatItemContextMenuSupportedRenderers):null,k=Ht();I&&(e.live_chat_item_context_menu_supported_renderers=I,e.live_chat_item_context_menu_supported_renderers_memo=k),Wt(),Gt();let C=t.header?Ue(t.header):null,E=Ht();C&&(e.header=C,e.header_memo=E),Wt(),Gt();let Y=t.sidebar?Q(t.sidebar):null,Z=Ht();Y&&(e.sidebar=Y,e.sidebar_memo=Z),Wt(),Gt();let O=Ue(t.items);O&&(e.items=O,e.items_memo=Ht()),Wt(),bk(s,(Lw=(Bw=t.frameworkUpdates)==null?void 0:Bw.entityBatchUpdate)==null?void 0:Lw.mutations),f&&gk(f,(Yw=(Ow=t.frameworkUpdates)==null?void 0:Ow.entityBatchUpdate)==null?void 0:Yw.mutations);let oe=t.continuation?xk(t.continuation):null;oe&&(e.continuation=oe);let ce=t.continuationEndpoint?iw(t.continuationEndpoint):null;ce&&(e.continuation_endpoint=ce);let V=Ue(t.metadata);V&&(e.metadata=V);let re=Q(t.microformat);re&&(e.microformat=re);let F=Q(t.overlay);F&&(e.overlay=F);let B=Re(t.alerts,[Fr,x_]);B.length&&(e.alerts=B);let q=t.refinements;q&&(e.refinements=q);let K=t.estimatedResults?parseInt(t.estimatedResults):null;K&&(e.estimated_results=K);let ne=Ue(t.playerOverlays);ne&&(e.player_overlays=ne);let st=Q(t.background,Ee);st&&(e.background=st);let Ce=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Ce&&(e.playback_tracking=Ce);let Qe=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playability:Q(t.playabilityStatus.audioOnlyPlayability,g_),error_screen:Q(t.playabilityStatus.errorScreen)}:null;if(Qe&&(e.playability_status=Qe),t.streamingData){let Lr=new Map;e.streaming_data={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:rw(t.streamingData.formats,Lr),adaptive_formats:rw(t.streamingData.adaptiveFormats,Lr),dash_manifest_url:t.streamingData.dashManifestUrl,hls_manifest_url:t.streamingData.hlsManifestUrl,server_abr_streaming_url:t.streamingData.serverAbrStreamingUrl}}t.playerConfig&&(e.player_config={audio_config:{loudness_db:(Vw=t.playerConfig.audioConfig)==null?void 0:Vw.loudnessDb,perceptual_loudness_db:(Fw=t.playerConfig.audioConfig)==null?void 0:Fw.perceptualLoudnessDb,enable_per_format_loudness:(Uw=t.playerConfig.audioConfig)==null?void 0:Uw.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((Ww=t.playerConfig.streamSelectionConfig)==null?void 0:Ww.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((Hw=(Gw=t.playerConfig.mediaCommonConfig)==null?void 0:Gw.dynamicReadaheadConfig)==null?void 0:Hw.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:(($w=(jw=t.playerConfig.mediaCommonConfig)==null?void 0:jw.dynamicReadaheadConfig)==null?void 0:$w.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((Kw=(qw=t.playerConfig.mediaCommonConfig)==null?void 0:qw.dynamicReadaheadConfig)==null?void 0:Kw.readAheadGrowthRateMs)||0},media_ustreamer_request_config:{video_playback_ustreamer_config:(Xw=(zw=t.playerConfig.mediaCommonConfig)==null?void 0:zw.mediaUstreamerRequestConfig)==null?void 0:Xw.videoPlaybackUstreamerConfig}}});let Pe=t.currentVideoEndpoint?new h(t.currentVideoEndpoint):null;Pe&&(e.current_video_endpoint=Pe);let Pt=t.endpoint?new h(t.endpoint):null;Pt&&(e.endpoint=Pt);let xi=Q(t.captions,ob);xi&&(e.captions=xi);let Xt=t.videoDetails?new Vi(t.videoDetails):null;Xt&&(e.video_details=Xt);let me=Re(t.annotations,sb);me.length&&(e.annotations=me);let ee=Q(t.storyboards,[ir,ab]);ee&&(e.storyboards=ee);let Be=Q(t.endscreen,Xx);Be&&(e.endscreen=Be);let ot=Q(t.cards,cx);ot&&(e.cards=ot);let pe=Re(t.engagementPanels,Ri);if(pe.length&&(e.engagement_panels=pe),t.bgChallenge){let Lr={private_do_not_access_or_else_trusted_resource_url_wrapped_value:t.bgChallenge.interpreterUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue,private_do_not_access_or_else_safe_script_wrapped_value:t.bgChallenge.interpreterUrl.privateDoNotAccessOrElseSafeScriptWrappedValue};e.bg_challenge={interpreter_url:Lr,interpreter_hash:t.bgChallenge.interpreterHash,program:t.bgChallenge.program,global_name:t.bgChallenge.globalName,client_experiments_state_blob:t.bgChallenge.clientExperimentsStateBlob}}return t.challenge&&(e.challenge=t.challenge),t.playerResponse&&(e.player_response=tw(t.playerResponse)),t.watchNextResponse&&(e.watch_next_response=tw(t.watchNextResponse)),t.cpnInfo&&(e.cpn_info={cpn:t.cpnInfo.cpn,cpn_source:t.cpnInfo.cpnSource}),t.entries&&(e.entries=t.entries.map(Lr=>new h(Lr))),t.targetId&&(e.target_id=t.targetId),e}r(tw,"parseResponse");function Q(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let s=Es(i[0]);if(!ow(s))try{let c=hd(s)?ks(s):md(s,t[i[0]],ci);if(e){if(Array.isArray(e)){if(!e.some(f=>f.type===c.type))return ci({classdata:t[i[0]],classname:s,error_type:"typecheck",expected:e.map(f=>f.type)}),null}else if(c.type!==e.type)return ci({classdata:t[i[0]],classname:s,error_type:"typecheck",expected:e.type}),null}let p=new c(t[i[0]]);return u1(s,p),p}catch(o){return ci({classname:s,classdata:t[i[0]],error:o,error_type:"parse"}),null}return null}r(Q,"parseItem");function Re(t,e){if(Array.isArray(t)){let i=[];for(let s of t){let o=Q(s,e);o&&i.push(o)}return G(i)}else if(!t)return G([]);throw new Ze("Expected array but got a single item")}r(Re,"parseArray");function Ue(t,e,i){if(!t)return null;if(Array.isArray(t)){let s=[];for(let c of t){let p=Q(c,i);p&&s.push(p)}let o=G(s);return e?o:new At(o)}else if(e)throw new Ze("Expected array but got a single item");return new At(Q(t,i))}r(Ue,"parse");var m1=/Command$/,h1=/Endpoint$/,d1=/Action$/;function _k(t){let e=[];try{e=Object.keys(t)}catch{}for(let i of e){let s=t[i];if(m1.test(i)||h1.test(i)||d1.test(i)){let o=Es(i);if(ow(o))return;try{if(hd(o))return new(ks(o))(s)}catch(c){ci({error:c,classname:o,classdata:s,error_type:"parse"})}}}}r(_k,"parseCommand");function _1(t){if(Array.isArray(t)){let e=[];for(let i of t){let s=_k(i);s&&e.push(s)}return G(e)}else if(!t)return G([]);throw new Ze("Expected array but got a single item")}r(_1,"parseCommands");function xk(t){return t.timedContinuationData?new br({continuation:t.timedContinuationData,type:"timed"}):null}r(xk,"parseC");function iw(t){return t.itemSectionContinuation?new Cs(t.itemSectionContinuation):t.sectionListContinuation?new Ns(t.sectionListContinuation):t.liveChatContinuation?new Yi(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new As(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new Rs(t.musicShelfContinuation):t.gridContinuation?new Ms(t.gridContinuation):t.playlistPanelContinuation?new Ds(t.playlistPanelContinuation):t.continuationCommand?new ai(t.continuationCommand):null}r(iw,"parseLC");function qb(t){return G(t.map(e=>{if(e.navigateAction)return new Oi(e.navigateAction);if(e.showMiniplayerCommand)return new Ps(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new Me(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Le(e.appendContinuationItemsAction);if(e.openPopupAction)return new Yr(e.openPopupAction)}).filter(e=>e))}r(qb,"parseRR");function yk(t){return Array.isArray(t)?Ue(t.map(e=>(delete e.clickTrackingParams,e))):new At(Q(t))}r(yk,"parseActions");function rw(t,e){return(t==null?void 0:t.map(i=>new $b(i,e)))||[]}r(rw,"parseFormats");function bk(t,e){let i=t.getType(ms);if(i.length>0&&!e)ci({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let s=[];for(let o of i){let c=e.find(f=>{var m,_;return((_=(m=f.payload)==null?void 0:m.musicFormBooleanChoice)==null?void 0:_.id)===o.form_item_entity_key}),p=c==null?void 0:c.payload.musicFormBooleanChoice;(p==null?void 0:p.selected)!==void 0&&(p==null?void 0:p.opaqueToken)?o.selected=p.selected:s.push(`'${o.title}'`)}s.length>0&&ci({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:s.length,titles:s})}}r(bk,"applyMutations");function gk(t,e){var s,o,c,p,f,m;let i=t.getType(nr);if(i.length>0){e||ci({error_type:"mutation_data_missing",classname:"CommentView"});for(let _ of i){let x=(o=(s=e.find(v=>{var I,k;return((k=(I=v.payload)==null?void 0:I.commentEntityPayload)==null?void 0:k.key)===_.keys.comment}))==null?void 0:s.payload)==null?void 0:o.commentEntityPayload,b=(p=(c=e.find(v=>{var I,k;return((k=(I=v.payload)==null?void 0:I.engagementToolbarStateEntityPayload)==null?void 0:k.key)===_.keys.toolbar_state}))==null?void 0:c.payload)==null?void 0:p.engagementToolbarStateEntityPayload,w=(m=(f=e.find(v=>v.entityKey===_.keys.toolbar_surface))==null?void 0:f.payload)==null?void 0:m.engagementToolbarSurfaceEntityPayload;_.applyMutations(x,b,w)}}}r(gk,"applyCommentsMutations");var uw={};Je(uw,{AccountInfo:()=>wk,Channel:()=>ye,ChannelListContinuation:()=>kr,Comments:()=>vk,FilteredChannelList:()=>Gi,Guide:()=>Ik,HashtagFeed:()=>Hi,History:()=>$t,HomeFeed:()=>li,ItemMenu:()=>ig,Library:()=>kk,LiveChat:()=>ug,NotificationsMenu:()=>Ck,Playlist:()=>Hs,Search:()=>fi,Settings:()=>Pk,SmoothedQueue:()=>ag,TranscriptInfo:()=>Qb,VideoInfo:()=>kd});var Bs,Kb=class{constructor(e){if(Bs.set(this,void 0),S(this,Bs,l.parseResponse(e.data),"f"),!u(this,Bs,"f").contents)throw new g("Page contents not found");let i=u(this,Bs,"f").contents.array().as(n_)[0];if(!i)throw new g("Account section list not found");this.contents=i.contents[0]}get page(){return u(this,Bs,"f")}};r(Kb,"AccountInfo");Bs=new WeakMap;var wk=Kb;var dd,De,_d,qe,Tr,Tk,nw,Fi=class{constructor(e,i,s=!1){dd.add(this),De.set(this,void 0),_d.set(this,void 0),qe.set(this,void 0),Tr.set(this,void 0),u(this,dd,"m",Tk).call(this,i)||s?S(this,De,i,"f"):S(this,De,l.parseResponse(i.data),"f");let o=aw(u(this,De,"f").contents_memo,u(this,De,"f").continuation_contents_memo,u(this,De,"f").on_response_received_commands_memo,u(this,De,"f").on_response_received_endpoints_memo,u(this,De,"f").on_response_received_actions_memo,u(this,De,"f").sidebar_memo,u(this,De,"f").header_memo);if(!o)throw new g("No memo found in feed");S(this,qe,o,"f"),S(this,_d,e,"f")}static getVideosFromMemo(e){return e.getType(Kr,sy,ys,Is,zr,_s,ni,Yb)}static getPlaylistsFromMemo(e){let i=e.getType(Bt,ty),s=e.getType(Ly).filter(o=>["PLAYLIST","ALBUM","PODCAST"].includes(o.content_type));return s.length>0&&i.push(...s),i}get videos(){return Fi.getVideosFromMemo(u(this,qe,"f"))}get posts(){return u(this,qe,"f").getType(ki,xs,Eb)}get channels(){return u(this,qe,"f").getType(mx,ey)}get playlists(){return Fi.getPlaylistsFromMemo(u(this,qe,"f"))}get memo(){return u(this,qe,"f")}get page_contents(){var o;let e=(o=u(this,qe,"f").getType(Fe))==null?void 0:o[0].content,i=u(this,qe,"f").getType(Me)[0],s=u(this,qe,"f").getType(Le)[0];return e||i||s}get shelves(){return u(this,qe,"f").getType(vs,gb,Qr)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var i,s;if(!((i=u(this,De,"f").contents)!=null&&i.is_node))return null;let e=(s=u(this,De,"f").contents)==null?void 0:s.item();return e.is(Ft,Rb)?e.secondary_contents:null}get actions(){return u(this,_d,"f")}get page(){return u(this,De,"f")}get has_continuation(){return u(this,dd,"m",nw).call(this).length>0}async getContinuationData(){if(u(this,Tr,"f")){if(u(this,Tr,"f").length===0)throw new g("There are no continuations.");return await u(this,Tr,"f")[0].endpoint.call(u(this,_d,"f"),{parse:!0})}if(S(this,Tr,u(this,dd,"m",nw).call(this),"f"),u(this,Tr,"f"))return this.getContinuationData()}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Fi(this.actions,e,!0)}};r(Fi,"Feed");De=new WeakMap,_d=new WeakMap,qe=new WeakMap,Tr=new WeakMap,dd=new WeakSet,Tk=r(function(e){return!("data"in e)},"_Feed_isParsed"),nw=r(function(){if(u(this,De,"f").header_memo){let e=u(this,De,"f").header_memo.getType(z);return u(this,qe,"f").getType(z).filter(i=>!e.includes(i))}return u(this,qe,"f").getType(z)},"_Feed_getBodyContinuations");var Ie=Fi;var Ls,zb=class extends Ie{constructor(e,i,s=!1){super(e,i,s),Ls.set(this,void 0)}get filter_chips(){var e,i;if(u(this,Ls,"f"))return u(this,Ls,"f")||[];if(((e=this.memo.getType(Tt))==null?void 0:e.length)>1)throw new g("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(Tt))==null?void 0:i.length)===0)throw new g("There are no feed filter chipbars");return S(this,Ls,this.memo.getType($e),"f"),u(this,Ls,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}async getFilteredFeed(e){var o;let i;if(typeof e=="string"){if(!this.filters.includes(e))throw new g("Filter not found",{available_filters:this.filters});i=this.filter_chips.find(c=>c.text.toString()===e)}else if(e.type==="ChipCloudChip")i=e;else throw new g("Invalid filter");if(!i)throw new g("Filter not found");if(i.is_selected)return this;let s=await((o=i.endpoint)==null?void 0:o.call(this.actions,{parse:!0}));if(!s)throw new g("Failed to get filtered feed");return new Ie(this.actions,s,!0)}};r(zb,"FilterableFeed");Ls=new WeakMap;var Ui=zb;var cw={};Je(cw,{Feed:()=>Ie,FilterableFeed:()=>Ui,MediaInfo:()=>Ys,TabbedFeed:()=>yd});var Wi,It,Os,xd,Xb=class{constructor(e,i,s){var p,f,m,_,x,b,w,v,I,k,C,E,Y,Z,O,oe,ce,V,re,F,B,q;Wi.set(this,void 0),It.set(this,void 0),Os.set(this,void 0),xd.set(this,void 0),S(this,It,i,"f");let o=l.parseResponse(e[0].data.playerResponse?e[0].data.playerResponse:e[0].data),c=(p=e[1])!=null&&p.data?l.parseResponse(e[1].data):void 0;if(S(this,Wi,[o,c],"f"),S(this,Os,s,"f"),((f=o.playability_status)==null?void 0:f.status)==="ERROR")throw new g("This video is unavailable",o.playability_status);if(o.microformat&&!((m=o.microformat)!=null&&m.is(rt,Bi)))throw new g("Unsupported microformat",o.microformat);this.basic_info={...o.video_details,embed:(_=o.microformat)!=null&&_.is(rt)?(x=o.microformat)==null?void 0:x.embed:null,channel:(b=o.microformat)!=null&&b.is(rt)?(w=o.microformat)==null?void 0:w.channel:null,is_unlisted:(v=o.microformat)==null?void 0:v.is_unlisted,is_family_safe:(I=o.microformat)==null?void 0:I.is_family_safe,category:(k=o.microformat)!=null&&k.is(rt)?(C=o.microformat)==null?void 0:C.category:null,has_ypc_metadata:(E=o.microformat)!=null&&E.is(rt)?(Y=o.microformat)==null?void 0:Y.has_ypc_metadata:null,start_timestamp:(Z=o.microformat)!=null&&Z.is(rt)?o.microformat.start_timestamp:null,end_timestamp:(O=o.microformat)!=null&&O.is(rt)?o.microformat.end_timestamp:null,view_count:((oe=o.microformat)==null?void 0:oe.is(rt))&&isNaN((ce=o.video_details)==null?void 0:ce.view_count)?o.microformat.view_count:(V=o.video_details)==null?void 0:V.view_count,url_canonical:(re=o.microformat)!=null&&re.is(Bi)?(F=o.microformat)==null?void 0:F.url_canonical:null,tags:(B=o.microformat)!=null&&B.is(Bi)?(q=o.microformat)==null?void 0:q.tags:null,like_count:void 0,is_liked:void 0,is_disliked:void 0},this.annotations=o.annotations,this.storyboards=o.storyboards,this.endscreen=o.endscreen,this.captions=o.captions,this.cards=o.cards,this.streaming_data=o.streaming_data,this.playability_status=o.playability_status,this.player_config=o.player_config,S(this,xd,o.playback_tracking,"f")}async toDash(e,i,s={include_thumbnails:!1}){var f,m;let o=u(this,Wi,"f")[0];if(o.video_details&&o.video_details.is_live)throw new g("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let c,p;return s.include_thumbnails&&o.storyboards&&(c=o.storyboards),typeof s.captions_format=="string"&&((f=o.captions)==null?void 0:f.caption_tracks)&&(p=o.captions.caption_tracks),rr.toDash(this.streaming_data,(m=this.page[0].video_details)==null?void 0:m.is_post_live_dvr,e,i,u(this,Os,"f"),u(this,It,"f").session.player,u(this,It,"f"),c,p,s)}getStreamingInfo(e,i){var s;return Hd(this.streaming_data,(s=this.page[0].video_details)==null?void 0:s.is_post_live_dvr,e,i,this.cpn,u(this,It,"f").session.player,u(this,It,"f"),u(this,Wi,"f")[0].storyboards?u(this,Wi,"f")[0].storyboards:void 0)}chooseFormat(e){return rr.chooseFormat(e,this.streaming_data)}async download(e={}){let i=u(this,Wi,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new g("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return rr.download(e,u(this,It,"f"),this.playability_status,this.streaming_data,u(this,It,"f").session.player,this.cpn)}async getTranscript(){var c;let e=this.page[1];if(!e)throw new g("Cannot get transcript from basic video info.");if(!e.engagement_panels)throw new g("Engagement panels not found. Video likely has no transcript.");let i=e.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!i)throw new g("Transcript panel not found. Video likely has no transcript.");let s=(c=i.content)==null?void 0:c.as(z);if(!s)throw new g("Transcript continuation not found.");let o=await s.endpoint.call(this.actions);return new Qb(this.actions,o)}async addToWatchHistory(e=ie.CLIENTS.WEB.NAME,i=ie.CLIENTS.WEB.VERSION,s="https://www."){if(!u(this,xd,"f"))throw new g("Playback tracking not available");let o={cpn:u(this,Os,"f"),fmt:251,rtn:0,rt:0},c=u(this,xd,"f").videostats_playback_url.replace("https://s.",s);return await u(this,It,"f").stats(c,{client_name:e,client_version:i},o)}get actions(){return u(this,It,"f")}get cpn(){return u(this,Os,"f")}get page(){return u(this,Wi,"f")}};r(Xb,"MediaInfo");Wi=new WeakMap,It=new WeakMap,Os=new WeakMap,xd=new WeakMap;var Ys=Xb;var vr,Ir,Sr=class extends Ie{constructor(e,i,s=!1){var o;super(e,i,s),vr.set(this,void 0),Ir.set(this,void 0),S(this,vr,e,"f"),S(this,Ir,(o=this.page.contents_memo)==null?void 0:o.getType(Fe),"f")}get tabs(){var e,i;return(i=(e=u(this,Ir,"f"))==null?void 0:e.map(s=>s.title.toString()))!=null?i:[]}async getTabByName(e){var o;let i=(o=u(this,Ir,"f"))==null?void 0:o.find(c=>c.title.toLowerCase()===e.toLowerCase());if(!i)throw new g(`Tab "${e}" not found`);if(i.selected)return this;let s=await i.endpoint.call(u(this,vr,"f"));return new Sr(u(this,vr,"f"),s,!1)}async getTabByURL(e){var o;let i=(o=u(this,Ir,"f"))==null?void 0:o.find(c=>{var p;return((p=c.endpoint.metadata.url)==null?void 0:p.split("/").pop())===e});if(!i)throw new g(`Tab "${e}" not found`);if(i.selected)return this;let s=await i.endpoint.call(u(this,vr,"f"));return new Sr(u(this,vr,"f"),s,!1)}hasTabWithURL(e){var i,s;return(s=(i=u(this,Ir,"f"))==null?void 0:i.some(o=>{var c;return((c=o.endpoint.metadata.url)==null?void 0:c.split("/").pop())===e}))!=null?s:!1}get title(){var e,i,s;return(s=(i=(e=this.page.contents_memo)==null?void 0:e.getType(Fe))==null?void 0:i.find(o=>o.selected))==null?void 0:s.title.toString()}};r(Sr,"TabbedFeed");vr=new WeakMap,Ir=new WeakMap;var yd=Sr;var ye=class extends yd{constructor(e,i,s=!1){var p,f,m,_,x;super(e,i,s),this.header=(f=(p=this.page.header)==null?void 0:p.item())==null?void 0:f.as(Jr,lx,fy,Yt);let o=(m=this.page.metadata)==null?void 0:m.item().as(hx),c=(_=this.page.microformat)==null?void 0:_.as(Bi);if(this.page.alerts){let b=this.page.alerts[0];if((b==null?void 0:b.alert_type)==="ERROR")throw new Vs(b.text.toString())}if(!o&&!this.page.contents)throw new g("Invalid channel",this);this.metadata={...o,...c||{}},this.subscribe_button=(x=this.page.header_memo)==null?void 0:x.getType(de)[0],this.page.contents&&(this.current_tab=this.page.contents.item().as(Ft).tabs.get({selected:!0}))}async applyFilter(e){let i,s=this.memo.getType(Tt)[0];if(typeof e=="string"){if(i=s==null?void 0:s.contents.get({text:e}),!i)throw new g(`Filter ${e} not found`,{available_filters:this.filters})}else i=e;if(!i.endpoint)throw new g("Invalid filter",e);let o=await i.endpoint.call(this.actions,{parse:!0});if(!o)throw new g("No page returned",{filter:i});return new Gi(this.actions,o,!0)}async applySort(e){let i=this.memo.getType(xt)[0];if(!i||!i.sub_menu_items)throw new g("No sort filter sub menu found");let s=i.sub_menu_items.find(c=>c.title===e);if(!s)throw new g(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(s.selected)return this;let o=await s.endpoint.call(this.actions,{parse:!0});return new ye(this.actions,o,!0)}async applyContentTypeFilter(e){var c,p,f;let i=(f=(p=(c=this.current_tab)==null?void 0:c.content)==null?void 0:p.as(ue).sub_menu)==null?void 0:f.as(Va);if(!i)throw new g("Sub menu not found");let s=i.content_type_sub_menu_items.find(m=>m.title===e);if(!s)throw new g(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(s.selected)return this;let o=await s.endpoint.call(this.actions,{parse:!0});return new ye(this.actions,o,!0)}get filters(){var e,i;return((i=(e=this.memo.getType(Tt))==null?void 0:e[0])==null?void 0:i.contents.filterType($e).map(s=>s.text))||[]}get sort_filters(){var i;let e=this.memo.getType(xt)[0];return((i=e==null?void 0:e.sub_menu_items)==null?void 0:i.map(s=>s.title))||[]}get content_type_filters(){var i,s,o;let e=(o=(s=(i=this.current_tab)==null?void 0:i.content)==null?void 0:s.as(ue).sub_menu)==null?void 0:o.as(Va);return(e==null?void 0:e.content_type_sub_menu_items.map(c=>c.title))||[]}async getHome(){let e=await this.getTabByURL("featured");return new ye(this.actions,e.page,!0)}async getVideos(){let e=await this.getTabByURL("videos");return new ye(this.actions,e.page,!0)}async getShorts(){let e=await this.getTabByURL("shorts");return new ye(this.actions,e.page,!0)}async getLiveStreams(){let e=await this.getTabByURL("streams");return new ye(this.actions,e.page,!0)}async getReleases(){let e=await this.getTabByURL("releases");return new ye(this.actions,e.page,!0)}async getPodcasts(){let e=await this.getTabByURL("podcasts");return new ye(this.actions,e.page,!0)}async getCourses(){let e=await this.getTabByURL("courses");return new ye(this.actions,e.page,!0)}async getPlaylists(){let e=await this.getTabByURL("playlists");return new ye(this.actions,e.page,!0)}async getCommunity(){let e=await this.getTabByURL("community");return new ye(this.actions,e.page,!0)}async getAbout(){var i,s,o,c,p;if(this.hasTabWithURL("about"))return(await this.getTabByURL("about")).memo.getType(Aa)[0];let e=((i=this.header)==null?void 0:i.is(Jr))&&this.header.tagline;if(e||((s=this.header)==null?void 0:s.is(Yt))&&((o=this.header.content)==null?void 0:o.description)){if(e&&e.more_endpoint instanceof h){let _=await e.more_endpoint.call(this.actions);return new yd(this.actions,_,!1).memo.getType(Aa)[0]}let f=(p=(c=this.page.header_memo)==null?void 0:c.getType(z)[0])==null?void 0:p.endpoint;if(!f)throw new g("Failed to extract continuation to get channel about");let m=await f.call(this.actions,{parse:!0});if(!m.on_response_received_endpoints_memo)throw new g("Unexpected response while fetching channel about",{response:m});return m.on_response_received_endpoints_memo.getType(t_)[0]}throw new g("About not found")}async search(e){var o;let i=(o=this.memo.getType(mr))==null?void 0:o[0];if(!i)throw new g("Search tab not found",this);let s=await i.endpoint.call(this.actions,{query:e,parse:!0});return new ye(this.actions,s,!0)}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_courses(){return this.hasTabWithURL("courses")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,s,o,c;return this.hasTabWithURL("about")||!!(((e=this.header)==null?void 0:e.is(Jr))&&((i=this.header.tagline)==null?void 0:i.more_endpoint))||!!(((s=this.header)==null?void 0:s.is(Yt))&&((c=(o=this.header.content)==null?void 0:o.description)==null?void 0:c.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(mr))==null?void 0:e.length)>0}async getContinuation(){let e=await super.getContinuationData();if(!e)throw new g("Could not get continuation data");return new kr(this.actions,e,!0)}};r(ye,"Channel");var kr=class extends Ie{constructor(e,i,s=!1){var o,c;super(e,i,s),this.contents=((o=this.page.on_response_received_actions)==null?void 0:o[0])||((c=this.page.on_response_received_endpoints)==null?void 0:c[0])}async getContinuation(){let e=await super.getContinuationData();if(!e)throw new g("Could not get continuation data");return new kr(this.actions,e,!0)}};r(kr,"ChannelListContinuation");var Gi=class extends Ui{constructor(e,i,s=!1){var o;super(e,i,s),this.applied_filter=this.memo.getType($e).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=(o=this.page.on_response_received_actions)==null?void 0:o[0]}async applyFilter(e){let i=await super.getFilteredFeed(e);return new Gi(this.actions,i.page,!0)}async getContinuation(){let e=await super.getContinuationData();if(!(e!=null&&e.on_response_received_actions_memo))throw new g("Unexpected continuation data",e);return e.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(Tt)),e.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType($e)),new Gi(this.actions,e,!0)}};r(Gi,"FilteredChannelList");var Fs,jt,Us,Er=class{constructor(e,i,s=!1){var m,_,x,b,w;Fs.set(this,void 0),jt.set(this,void 0),Us.set(this,void 0),S(this,Fs,s?i:l.parseResponse(i),"f"),S(this,jt,e,"f");let o=u(this,Fs,"f").on_response_received_endpoints;if(!o)throw new g("Comments page did not have any content.");let c=(m=o.at(0))==null?void 0:m.as(Le,Me),p=(_=o.at(1))==null?void 0:_.as(Le,Me);this.header=(x=c==null?void 0:c.contents)==null?void 0:x.firstOfType(Mi);let f=((b=p==null?void 0:p.contents)==null?void 0:b.filterType(Dx))||[];this.contents=G(f.map(v=>(v.comment&&v.comment.setActions(u(this,jt,"f")),v.setActions(u(this,jt,"f")),v))),S(this,Us,(w=p==null?void 0:p.contents)==null?void 0:w.firstOfType(z),"f")}async applySort(e){var o,c,p,f;if(!this.header)throw new g("Page header is missing. Cannot apply sort option.");let i;if(e==="TOP_COMMENTS"?i=(c=(o=this.header.sort_menu)==null?void 0:o.sub_menu_items)==null?void 0:c.at(0):e==="NEWEST_FIRST"&&(i=(f=(p=this.header.sort_menu)==null?void 0:p.sub_menu_items)==null?void 0:f.at(1)),!i)throw new g("Could not find target button.");if(i.selected)return this;let s=await i.endpoint.call(u(this,jt,"f"),{parse:!0});return new Er(u(this,jt,"f"),s,!0)}async createComment(e){var s;if(!this.header)throw new g("Page header is missing. Cannot create comment.");let i=(s=this.header.create_renderer)==null?void 0:s.as(Rx).submit_button;if(!i)throw new g("Could not find target button. You are probably not logged in.");if(!i.endpoint)throw new g("Button does not have an endpoint.");return await i.endpoint.call(u(this,jt,"f"),{commentText:e})}async getContinuation(){if(!u(this,Us,"f"))throw new g("Continuation not found");let e=await u(this,Us,"f").endpoint.call(u(this,jt,"f"),{parse:!0}),i=Object.assign({},u(this,Fs,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new g("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Er(u(this,jt,"f"),i,!0)}get has_continuation(){return!!u(this,Us,"f")}get page(){return u(this,Fs,"f")}};r(Er,"Comments");Fs=new WeakMap,jt=new WeakMap,Us=new WeakMap;var vk=Er;var Ws,Jb=class{constructor(e){Ws.set(this,void 0),S(this,Ws,l.parseResponse(e),"f"),u(this,Ws,"f").items&&(this.contents=u(this,Ws,"f").items.array().as(ls,oy))}get page(){return u(this,Ws,"f")}};r(Jb,"Guide");Ws=new WeakMap;var Ik=Jb;var $t=class extends Ie{constructor(e,i,s=!1){super(e,i,s),this.sections=this.memo.getType(vt),this.feed_actions=this.memo.getType(jr)[0]}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new Error("No continuation data found");return new $t(this.actions,e,!0)}async removeVideo(e){let i;for(let p of this.sections)for(let f of p.contents){let m=f;if(m.video_id===e&&m.menu){i=m.menu.top_level_buttons[0].as(T).endpoint.payload.feedbackToken;break}}if(!i)throw new Error("Failed to get feedback token");let s={feedbackTokens:[i]};if(!(await this.actions.execute("/feedback",s)).data.feedbackResponses[0].isProcessed)throw new Error("Failed to remove video from watch history");return!0}};r($t,"History");var li=class extends Ui{constructor(e,i,s=!1){var o;super(e,i,s),this.header=this.memo.getType(Zx)[0],this.contents=this.memo.getType(Vt)[0]||((o=this.page.on_response_received_actions)==null?void 0:o[0])}async applyFilter(e){let i=await super.getFilteredFeed(e);return new li(this.actions,i.page,!0)}async getContinuation(){var i;let e=await super.getContinuation();return e.page.header=this.page.header,this.header&&((i=e.page.header_memo)==null||i.set(this.header.type,[this.header])),new li(this.actions,e.page,!0)}};r(li,"HomeFeed");var Hi=class extends Ui{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new g("Unexpected response",this.page);let s=this.page.contents_memo.getType(Fe)[0];if(!s.content)throw new g("Content tab has no content",s);this.page.header&&(this.header=this.page.header.item().as(ny,Yt)),this.contents=s.content.as(Vt)}async applyFilter(e){let i=await super.getFilteredFeed(e);return new Hi(this.actions,i.page)}};r(Hi,"HashtagFeed");var Zb,eg,bd,tg=class{constructor(e,i){Zb.set(this,void 0),eg.set(this,void 0),bd.set(this,void 0),S(this,Zb,e,"f"),S(this,eg,i,"f");let s=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!s||!s.is(R))throw new g('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');S(this,bd,s.as(R).items,"f")}async selectItem(e){let i;if(e instanceof T){if(!e.endpoint)throw new g("Item does not have an endpoint.");i=e.endpoint}else{let s=u(this,bd,"f").find(o=>o.is(Mt)?o.as(Mt).icon_type===e:!1);if(!s||!s.is(Mt))throw new g(`Button "${e}" not found.`);i=s.endpoint}if(!i)throw new g("Target button does not have an endpoint.");return await i.call(u(this,eg,"f"),{parse:!0})}items(){return u(this,bd,"f")}page(){return u(this,Zb,"f")}};r(tg,"ItemMenu");Zb=new WeakMap,eg=new WeakMap,bd=new WeakMap;var ig=tg;var gd,rg,Gs=class extends Ie{constructor(e,i,s=!1){var _,x,b,w,v;super(e,i,s),gd.add(this);let o=this.memo.getType(fb)[0],c=this.memo.getType(hb)[0],p=this.memo.getType(db)[0],f=this.memo.getType(_b)[0],m=(_=this.page.alerts)==null?void 0:_.firstOfType(Fr);if(m&&m.alert_type==="ERROR")throw new g(m.text.toString(),m);if(!c&&!p&&Object.keys(this.page).length===0)throw new g("Got empty continuation response. This is likely the end of the playlist.");this.info={...(x=this.page.metadata)==null?void 0:x.item().as(mb),subtitle:o?o.subtitle:null,author:(w=(b=p==null?void 0:p.owner)==null?void 0:b.as(Ss).author)!=null?w:o==null?void 0:o.author,thumbnails:(v=c==null?void 0:c.thumbnail_renderer)==null?void 0:v.as(rs,is).thumbnail,total_items:u(this,gd,"m",rg).call(this,0,c),views:u(this,gd,"m",rg).call(this,1,c),last_updated:u(this,gd,"m",rg).call(this,2,c),can_share:o==null?void 0:o.can_share,can_delete:o==null?void 0:o.can_delete,can_reorder:f==null?void 0:f.can_reorder,is_editable:f==null?void 0:f.is_editable,privacy:o==null?void 0:o.privacy},this.menu=c==null?void 0:c.menu,this.endpoint=c==null?void 0:c.endpoint,this.messages=this.memo.getType(Lt)}get items(){return G(this.videos.as(_s,ys,Is).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(ue)[0];return e?!!this.memo.getType(z).find(i=>!e.contents.includes(i)):super.has_continuation}async getContinuationData(){let e=this.memo.getType(ue)[0];if(!e)return await super.getContinuationData();let i=this.memo.getType(z).find(s=>!e.contents.includes(s));if(!i)throw new g("There are no continuations.");return await i.endpoint.call(this.actions,{parse:!0})}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Gs(this.actions,e,!0)}};r(Gs,"Playlist");gd=new WeakSet,rg=r(function(e,i){var s;return!i||!i.stats?"N/A":((s=i.stats[e])==null?void 0:s.toString())||"N/A"},"_Playlist_getStat");var Hs=Gs;var lw,Sk,sg=class extends Ie{constructor(e,i){if(super(e,i),lw.add(this),!this.page.contents_memo)throw new g("Page contents not found");this.header=this.memo.getType(Yt)[0];let s=this.page.contents_memo.getType(vs);this.sections=s.map(o=>{var c;return{type:o.icon_type,title:o.title,contents:((c=o.content)==null?void 0:c.key("items").array())||[],getAll:()=>u(this,lw,"m",Sk).call(this,o)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};r(sg,"Library");lw=new WeakSet,Sk=r(async function(e){var o;if(!((o=e.menu)!=null&&o.as(R).top_level_buttons))throw new g(`The ${e.title.text} shelf doesn't have more items`);let i=e.menu.as(R).top_level_buttons.firstOfType(T);if(!i)throw new g("Did not find target button.");let s=await i.as(T).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new Hs(this.actions,s,!0);case"WATCH_HISTORY":return new $t(this.actions,s,!0);case"CONTENT_CUT":return new Ie(this.actions,s,!0);default:throw new g("Target shelf not implemented.")}},"_Library_getAll");var kk=sg;var pi,ji,Cr,nt,St,Ke;function x1(t){let e=[];for(let i of t)if(Array.isArray(i))for(let s of i)e.push(s);else e.push(i);return e}r(x1,"flattenQueue");var og=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};r(og,"DelayQueue");var ng=class{constructor(){pi.set(this,void 0),ji.set(this,void 0),Cr.set(this,void 0),nt.set(this,void 0),St.set(this,void 0),Ke.set(this,void 0),S(this,pi,null,"f"),S(this,ji,null,"f"),S(this,Cr,null,"f"),S(this,nt,[],"f"),S(this,St,null,"f"),S(this,Ke,new og,"f")}enqueueActionGroup(e){if(u(this,pi,"f")!==null){let i=Date.now()-u(this,pi,"f");u(this,Ke,"f").back.push(i),5<u(this,Ke,"f").front.length+u(this,Ke,"f").back.length&&(u(this,Ke,"f").front.length||(u(this,Ke,"f").front=u(this,Ke,"f").back,u(this,Ke,"f").front.reverse(),u(this,Ke,"f").back=[]),u(this,Ke,"f").front.pop()),S(this,ji,Math.max(...u(this,Ke,"f").getValues()),"f")}S(this,pi,Date.now(),"f"),u(this,nt,"f").push(e),u(this,St,"f")===null&&S(this,St,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(S(this,St,null,"f"),u(this,nt,"f").length){let e=1e4;u(this,ji,"f")!==null&&u(this,pi,"f")!==null&&(e=u(this,ji,"f")-Date.now()+u(this,pi,"f")),e=u(this,nt,"f").length<e/80?1:Math.ceil(u(this,nt,"f").length/(e/80));let i=x1(u(this,nt,"f").splice(0,e));u(this,Cr,"f")&&u(this,Cr,"f").call(this,i),u(this,nt,"f")!==null&&(e==1?(e=u(this,ji,"f")/u(this,nt,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,S(this,St,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){u(this,St,"f")!==null&&(clearTimeout(u(this,St,"f")),S(this,St,null,"f")),S(this,nt,[],"f")}set callback(e){S(this,Cr,e,"f")}get callback(){return u(this,Cr,"f")}get action_queue(){return u(this,nt,"f")}get estimated_update_interval(){return u(this,ji,"f")}get last_update_time(){return u(this,pi,"f")}get next_update_id(){return u(this,St,"f")}get poll_response_delay_queue(){return u(this,Ke,"f")}};r(ng,"SmoothedQueue");pi=new WeakMap,ji=new WeakMap,Cr=new WeakMap,nt=new WeakMap,St=new WeakMap,Ke=new WeakMap;var ag=ng;var Se,ui,vd,cg,Nr,wd,Td,pw,lg,Ek,Pr,pg=class extends ro{constructor(e){var i,s;super(),Se.add(this),ui.set(this,void 0),vd.set(this,void 0),cg.set(this,void 0),Nr.set(this,void 0),wd.set(this,void 0),Td.set(this,0),this.running=!1,this.is_replay=!1,S(this,vd,e.basic_info.id,"f"),S(this,cg,e.basic_info.channel_id,"f"),S(this,ui,e.actions,"f"),S(this,Nr,(i=e.livechat)==null?void 0:i.continuation,"f"),this.is_replay=((s=e.livechat)==null?void 0:s.is_replay)||!1,this.smoothed_queue=new ag,this.smoothed_queue.callback=async o=>{o.length?o.length<10?await u(this,Se,"m",lg).call(this,o):this.is_replay?(u(this,Se,"m",lg).call(this,o),await u(this,Se,"m",Pr).call(this,2e3)):u(this,Se,"m",lg).call(this,o):await u(this,Se,"m",Pr).call(this,2e3),this.running&&u(this,Se,"m",pw).call(this)}}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,u(this,Se,"m",pw).call(this),u(this,Se,"m",Ek).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}async sendMessage(e){let i=NT.encode({params:{ids:{videoId:u(this,vd,"f"),channelId:u(this,cg,"f")}},number0:1,number1:4}),s=btoa(encodeURIComponent(ti(i.finish()))),o=await u(this,ui,"f").execute("/live_chat/send_message",{richMessage:{textSegments:[{text:e}]},clientMessageId:M.shim.uuidv4(),client:"WEB",parse:!0,params:s});if(!o.actions)throw new g("Unexpected response from send_message",o);return o.actions.array().as(yy,Ix)}applyFilter(e){var s,o,c,p,f,m,_;if(!this.initial_info)throw new g("Cannot apply filter before initial info is retrieved.");let i=(c=(o=(s=this.initial_info)==null?void 0:s.header)==null?void 0:o.view_selector)==null?void 0:c.sub_menu_items;if(e==="TOP_CHAT"){if((p=i==null?void 0:i.at(0))!=null&&p.selected)return;S(this,Nr,(f=i==null?void 0:i.at(0))==null?void 0:f.continuation,"f")}else{if((m=i==null?void 0:i.at(1))!=null&&m.selected)return;S(this,Nr,(_=i==null?void 0:i.at(1))==null?void 0:_.continuation,"f")}}async getItemMenu(e){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(h))throw new g("This item does not have a menu.",e);let i=await e.key("menu_endpoint").instanceof(h).call(u(this,ui,"f"),{parse:!0});if(!i)throw new g("Could not retrieve item menu.",e);return new ig(i,u(this,ui,"f"))}async selectButton(e){return await e.endpoint.call(u(this,ui,"f"),{parse:!0})}};r(pg,"LiveChat");ui=new WeakMap,vd=new WeakMap,cg=new WeakMap,Nr=new WeakMap,wd=new WeakMap,Td=new WeakMap,Se=new WeakSet,pw=r(function t(){(async()=>{var e,i;try{let s=await u(this,ui,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:u(this,Nr,"f"),parse:!0}),o=s.continuation_contents;if(o||(this.emit("error",new g("Unexpected live chat incremental continuation response",s)),this.emit("end"),this.stop()),!(o instanceof Yi)){this.stop(),this.emit("end");return}S(this,Nr,o.continuation.token,"f"),o.header?(this.initial_info=o,this.emit("start",o),this.running&&u(this,Se,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(o.actions),S(this,Td,0,"f")}catch(s){this.emit("error",s),S(this,Td,(i=u(this,Td,"f"),e=i++,i),"f"),e<10?(await u(this,Se,"m",Pr).call(this,2e3),u(this,Se,"m",t).call(this)):(this.emit("error",new g("Reached retry limit for incremental continuation requests",s)),this.emit("end"),this.stop())}})()},"_LiveChat_pollLivechat"),lg=r(async function(e){let s=e.length<125?1:Math.ceil(e.length/125),o=s==1?(s=1e4/e.length,s*=Math.random()+.5,s=Math.min(1e3,s),s=Math.max(80,s)):s=80;for(let c of e)await u(this,Se,"m",Pr).call(this,o),this.emit("chat-update",c)},"_LiveChat_emitSmoothedActions"),Ek=r(function t(){(async()=>{var e,i,s,o,c,p,f,m,_,x,b;try{let w={videoId:u(this,vd,"f")};u(this,wd,"f")&&(w.continuation=u(this,wd,"f"));let v=await u(this,ui,"f").execute("/updated_metadata",w),I=l.parseResponse(v.data);S(this,wd,(e=I.continuation)==null?void 0:e.token,"f"),this.metadata={title:((i=I.actions)==null?void 0:i.array().firstOfType(Cy))||((s=this.metadata)==null?void 0:s.title),description:((o=I.actions)==null?void 0:o.array().firstOfType(Ey))||((c=this.metadata)==null?void 0:c.description),views:((p=I.actions)==null?void 0:p.array().firstOfType(Ny))||((f=this.metadata)==null?void 0:f.views),likes:((m=I.actions)==null?void 0:m.array().firstOfType(Py))||((_=this.metadata)==null?void 0:_.likes),date:((x=I.actions)==null?void 0:x.array().firstOfType(ky))||((b=this.metadata)==null?void 0:b.date)},this.emit("metadata-update",this.metadata),await u(this,Se,"m",Pr).call(this,5e3),this.running&&u(this,Se,"m",t).call(this)}catch{await u(this,Se,"m",Pr).call(this,2e3),this.running&&u(this,Se,"m",t).call(this)}})()},"_LiveChat_pollMetadata"),Pr=r(async function(e){return new Promise(i=>setTimeout(()=>i(),e))},"_LiveChat_wait");var ug=pg;var $i,Id,js=class{constructor(e,i){if($i.set(this,void 0),Id.set(this,void 0),S(this,Id,e,"f"),S(this,$i,l.parseResponse(i.data),"f"),!u(this,$i,"f").actions_memo)throw new g("Page actions not found");this.header=u(this,$i,"f").actions_memo.getType(Fy)[0],this.contents=u(this,$i,"f").actions_memo.getType(fs)}async getContinuation(){var s;let e=(s=u(this,$i,"f").actions_memo)==null?void 0:s.getType(z)[0];if(!e)throw new g("Continuation not found");let i=await e.endpoint.call(u(this,Id,"f"),{parse:!1});return new js(u(this,Id,"f"),i)}get page(){return u(this,$i,"f")}};r(js,"NotificationsMenu");$i=new WeakMap,Id=new WeakMap;var Ck=js;var fi=class extends Ie{constructor(e,i,s=!1){var c,p,f;super(e,i,s);let o=((c=this.page.contents_memo)==null?void 0:c.getType(ue)[0].contents)||((p=this.page.on_response_received_commands)==null?void 0:p[0].as(Le,Me).contents);if(!o)throw new g("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(Tb)),this.results=G(o.filterType(vt).flatMap(m=>m.contents)),this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType(vb)[0],this.watch_card=this.page.contents_memo.getType(gs)[0]),this.refinement_cards=(f=this.results)==null?void 0:f.firstOfType(Ci)}async selectRefinementCard(e){var o,c;let i;if(typeof e=="string"){if(!this.refinement_cards)throw new g("No refinement cards found.");if(i=(c=(o=this.refinement_cards)==null?void 0:o.cards.get({query:e}))==null?void 0:c.as(sr),!i)throw new g(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")i=e;else throw new g("Invalid refinement card!");let s=await i.endpoint.call(this.actions,{parse:!0});return new fi(this.actions,s,!0)}get refinement_card_queries(){var e;return((e=this.refinement_cards)==null?void 0:e.cards.as(sr).map(i=>i.query))||[]}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new fi(this.actions,e,!0)}};r(fi,"Search");var Ar,Sd,$s=class{constructor(e,i){var c,p,f,m;if(Ar.set(this,void 0),Sd.set(this,void 0),S(this,Sd,e,"f"),S(this,Ar,l.parseResponse(i.data),"f"),this.sidebar=(c=u(this,Ar,"f").sidebar)==null?void 0:c.as(kb),!u(this,Ar,"f").contents)throw new g("Page contents not found");let s=u(this,Ar,"f").contents.item().as(Ft).tabs.get({selected:!0});if(!s)throw new g("Target tab not found");let o=(p=s.content)==null?void 0:p.as(ue).contents.as(vt);this.introduction=(m=(f=o==null?void 0:o.shift())==null?void 0:f.contents)==null?void 0:m.firstOfType(ib),this.sections=o==null?void 0:o.map(_=>{var x;return{title:(x=_.header)!=null&&x.is(Mi,ps,us)?_.header.title.toString():null,contents:_.contents}})}async selectSidebarItem(e){if(!this.sidebar)throw new g("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new g(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(Rt))i=e;else throw new g("Invalid item",{target_item:e});let s=await i.endpoint.call(u(this,Sd,"f"),{parse:!1});return new $s(u(this,Sd,"f"),s)}getSettingOption(e){var i;if(!this.sections)throw new g("Sections not available");for(let s of this.sections)if(!!s.contents)for(let o of s.contents){let c=o.as(Ts).options;if(c){for(let p of c)if(p.is(ws)&&((i=p.title)==null?void 0:i.toString())===e)return p}}throw new g(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new g("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let s of i.contents)s.as(Ts).options&&(e=e.concat(s.as(Ts).options));return e.map(i=>{var s;return(s=i.title)==null?void 0:s.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new g("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return u(this,Ar,"f")}};r($s,"Settings");Ar=new WeakMap,Sd=new WeakMap;var Pk=$s;var qi,qs=class extends Ys{constructor(e,i,s){var _,x,b,w,v,I,k,C,E,Y,Z,O,oe,ce,V,re,F,B,q,K,ne,st,Ce,Qe,Pe,Pt,xi,Xt,me;super(e,i,s),qi.set(this,void 0);let[o,c]=this.page;if(this.streaming_data){let ee=this.streaming_data.adaptive_formats.find(Be=>{var ot;return(ot=Be.audio_track)==null?void 0:ot.audio_is_default});if(ee)this.streaming_data.formats.forEach(Be=>Be.language=ee.language);else if(((_=this.captions)==null?void 0:_.caption_tracks)&&((x=this.captions)==null?void 0:x.caption_tracks.length)>0){let Be=this.captions.caption_tracks.find(pe=>pe.kind==="asr"),ot=Be==null?void 0:Be.language_code;this.streaming_data.adaptive_formats.forEach(pe=>{pe.has_audio&&(pe.language=ot)}),this.streaming_data.formats.forEach(pe=>pe.language=ot)}}let p=(b=c==null?void 0:c.contents)==null?void 0:b.item().as(Db),f=p==null?void 0:p.results,m=p==null?void 0:p.secondary_results;if(f&&m){if(((w=o.microformat)==null?void 0:w.is(rt))&&((v=o.microformat)==null?void 0:v.category)==="Gaming"){let pe=(C=(k=(I=f.firstOfType(Zh))==null?void 0:I.metadata)==null?void 0:k.rows)==null?void 0:C.firstOfType(Ym);pe!=null&&pe.is(Ym)&&(this.game_info={title:(Y=(E=pe==null?void 0:pe.contents)==null?void 0:E.firstOfType(Lm))==null?void 0:Y.title,release_year:(O=(Z=pe==null?void 0:pe.contents)==null?void 0:Z.firstOfType(Lm))==null?void 0:O.subtitle})}this.primary_info=f.firstOfType(Ob),this.secondary_info=f.firstOfType(Zh),this.merchandise=f.firstOfType(Uy),this.related_chip_cloud=(oe=m.firstOfType(bb))==null?void 0:oe.content.as(Zr),p!=null&&p.playlist&&(this.playlist=p.playlist),this.watch_next_feed=((ce=m.firstOfType(vt))==null?void 0:ce.contents)||m,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((V=this.watch_next_feed.at(-1))==null?void 0:V.is(z))&&S(this,qi,(re=this.watch_next_feed.pop())==null?void 0:re.as(z),"f"),this.player_overlays=(F=c==null?void 0:c.player_overlays)==null?void 0:F.item().as(ub),p!=null&&p.autoplay&&(this.autoplay=p.autoplay);let ee=(q=(B=this.primary_info)==null?void 0:B.menu)==null?void 0:q.top_level_buttons.firstOfType(xr);((K=ee==null?void 0:ee.like_button)==null?void 0:K.is(se))&&((ne=ee==null?void 0:ee.dislike_button)==null?void 0:ne.is(se))&&(this.basic_info.like_count=(st=ee==null?void 0:ee.like_button)==null?void 0:st.like_count,this.basic_info.is_liked=(Ce=ee==null?void 0:ee.like_button)==null?void 0:Ce.is_toggled,this.basic_info.is_disliked=(Qe=ee==null?void 0:ee.dislike_button)==null?void 0:Qe.is_toggled);let Be=(Pt=(Pe=this.primary_info)==null?void 0:Pe.menu)==null?void 0:Pt.top_level_buttons.firstOfType(ii);if(Be&&(this.basic_info.like_count=Be.like_count,Be.like_button)){let pe=Be.like_button.like_status_entity.like_status;this.basic_info.is_liked=pe==="LIKE",this.basic_info.is_disliked=pe==="DISLIKE"}let ot=(xi=f.get({target_id:"comments-entry-point"}))==null?void 0:xi.as(vt);this.comments_entry_point_header=(Xt=ot==null?void 0:ot.contents)==null?void 0:Xt.firstOfType(Ax),this.livechat=(me=c==null?void 0:c.contents_memo)==null?void 0:me.getType(dy)[0]}}async selectFilter(e){var c,p,f,m;if(!this.related_chip_cloud)throw new g("Chip cloud not found, cannot apply filter");let i;if(typeof e=="string"){let _=(p=(c=this.related_chip_cloud)==null?void 0:c.chips)==null?void 0:p.get({text:e});if(!_)throw new g("Invalid filter",{available_filters:this.filters});i=_}else if(e!=null&&e.is($e))i=e;else throw new g("Invalid cloud chip",e);if(i.is_selected)return this;let s=await((f=i.endpoint)==null?void 0:f.call(this.actions,{parse:!0})),o=(m=s==null?void 0:s.on_response_received_endpoints)==null?void 0:m.get({target_id:"watch-next-feed"});return this.watch_next_feed=o==null?void 0:o.as(Le,Me).contents,this}async addToWatchHistory(){return super.addToWatchHistory()}async getWatchNextContinuation(){var s,o,c,p,f;if(!u(this,qi,"f"))throw new g("Watch next feed continuation not found");let e=await((s=u(this,qi,"f"))==null?void 0:s.endpoint.call(this.actions,{parse:!0})),i=(o=e==null?void 0:e.on_response_received_endpoints)==null?void 0:o.get({type:"AppendContinuationItemsAction"});if(!i)throw new g("AppendContinuationItemsAction not found");return this.watch_next_feed=i==null?void 0:i.as(Le,Me).contents,(p=(c=this.watch_next_feed)==null?void 0:c.at(-1))!=null&&p.is(z)?S(this,qi,(f=this.watch_next_feed.pop())==null?void 0:f.as(z),"f"):S(this,qi,void 0,"f"),this}async like(){var o,c,p,f,m;let e=(c=(o=this.primary_info)==null?void 0:o.menu)==null?void 0:c.top_level_buttons.firstOfType(ii);if(e){let _=(p=e==null?void 0:e.like_button)==null?void 0:p.toggle_button;if(!_||!_.default_button||!e.like_button)throw new g("Like button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="LIKE")throw new g("This video is already liked",{video_id:this.basic_info.id});if(!_.default_button.on_tap)throw new g("onTap command not found",{video_id:this.basic_info.id});return await new h(_.default_button.on_tap.payload.commands.find(w=>w.innertubeCommand)).call(this.actions)}let i=(m=(f=this.primary_info)==null?void 0:f.menu)==null?void 0:m.top_level_buttons.firstOfType(xr),s=i==null?void 0:i.like_button;if(!s)throw new g("Like button not found",{video_id:this.basic_info.id});if(!s.is(se))throw new g("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new g("This video is already liked",{video_id:this.basic_info.id});return await s.endpoint.call(this.actions)}async dislike(){var o,c,p,f,m;let e=(c=(o=this.primary_info)==null?void 0:o.menu)==null?void 0:c.top_level_buttons.firstOfType(ii);if(e){let _=(p=e==null?void 0:e.dislike_button)==null?void 0:p.toggle_button;if(!_||!_.default_button||!e.dislike_button||!e.like_button)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="DISLIKE")throw new g("This video is already disliked",{video_id:this.basic_info.id});if(!_.default_button.on_tap)throw new g("onTap command not found",{video_id:this.basic_info.id});return await new h(_.default_button.on_tap.payload.commands.find(w=>w.innertubeCommand)).call(this.actions)}let i=(m=(f=this.primary_info)==null?void 0:f.menu)==null?void 0:m.top_level_buttons.firstOfType(xr),s=i==null?void 0:i.dislike_button;if(!s)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(!s.is(se))throw new g("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new g("This video is already disliked",{video_id:this.basic_info.id});return await s.endpoint.call(this.actions)}async removeRating(){var p,f,m,_,x,b,w;let e,i=(f=(p=this.primary_info)==null?void 0:p.menu)==null?void 0:f.top_level_buttons.firstOfType(ii);if(i){let v=(m=i==null?void 0:i.like_button)==null?void 0:m.toggle_button;if(!v||!v.default_button||!i.like_button)throw new g("Like button not found",{video_id:this.basic_info.id});let I=i.like_button.like_status_entity.like_status;if(I==="LIKE")e=(_=i==null?void 0:i.like_button)==null?void 0:_.toggle_button;else if(I==="DISLIKE")e=(x=i==null?void 0:i.dislike_button)==null?void 0:x.toggle_button;else throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});if(!e||!e.toggled_button)throw new g("Like/Dislike button not found",{video_id:this.basic_info.id});if(!e.toggled_button.on_tap)throw new g("onTap command not found",{video_id:this.basic_info.id});return await new h(e.toggled_button.on_tap.payload.commands.find(C=>C.innertubeCommand)).call(this.actions)}let s=(w=(b=this.primary_info)==null?void 0:b.menu)==null?void 0:w.top_level_buttons.firstOfType(xr),o=s==null?void 0:s.like_button,c=s==null?void 0:s.dislike_button;if(!(o!=null&&o.is(se))||!(c!=null&&c.is(se)))throw new g("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(o!=null&&o.is_toggled?e=o:c!=null&&c.is_toggled&&(e=c),!e)throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});return await e.toggled_endpoint.call(this.actions)}getLiveChat(){if(!this.livechat)throw new g("Live Chat is not available",{video_id:this.basic_info.id});return new ug(this)}getTrailerInfo(){var e,i;if(this.has_trailer&&((e=this.playability_status)==null?void 0:e.error_screen)){let s;if(this.playability_status.error_screen.is(em)?s=(i=this.playability_status.error_screen.trailer)==null?void 0:i.player_response:this.playability_status.error_screen.is(_r)&&(s=this.playability_status.error_screen.player_response),s)return new qs([{data:s}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)==null?void 0:e.chips)==null?void 0:i.map(s=>{var o;return(o=s.text)==null?void 0:o.toString()}))||[]}get wn_has_continuation(){return!!u(this,qi,"f")}get autoplay_video_endpoint(){var e,i,s;return((s=(i=(e=this.autoplay)==null?void 0:e.sets)==null?void 0:i[0])==null?void 0:s.autoplay_video)||null}get has_trailer(){var e,i;return!!((i=(e=this.playability_status)==null?void 0:e.error_screen)!=null&&i.is(em,_r))}get music_tracks(){var i,s,o,c,p,f;let e=(s=(i=this.page[1])==null?void 0:i.engagement_panels)==null?void 0:s.filter(m=>{var _;return(_=m.content)==null?void 0:_.is(or)});if(e!==void 0&&e.length>0){let m=(p=(c=(o=e[0].content)==null?void 0:o.as(or))==null?void 0:c.items)==null?void 0:p.filterType(Xr);if(m!==void 0&&m.length>0)return(f=m[0].carousel_lockups)==null?void 0:f.map(_=>{var C,E,Y,Z,O,oe,ce,V,re,F,B,q,K,ne,st,Ce,Qe,Pe,Pt,xi;let x,b,w,v,I,k;x=(E=(C=_.video_lockup)==null?void 0:C.title)==null?void 0:E.toString(),I=(Z=(Y=_.video_lockup)==null?void 0:Y.endpoint)==null?void 0:Z.payload.videoId;for(let Xt=0;Xt<_.info_rows.length;Xt++){let me=_.info_rows[Xt];if(me.info_row_expand_status_key===void 0)if(x===void 0){if(x=((O=me.default_metadata)==null?void 0:O.toString())||((oe=me.expanded_metadata)==null?void 0:oe.toString()),I===void 0){let ee=((ce=me.default_metadata)==null?void 0:ce.endpoint)||((V=me.expanded_metadata)==null?void 0:V.endpoint);I=(re=ee==null?void 0:ee.payload)==null?void 0:re.videoId}}else w=((F=me.default_metadata)==null?void 0:F.toString())||((B=me.expanded_metadata)==null?void 0:B.toString());else{if(((q=me.info_row_expand_status_key)==null?void 0:q.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(b=((K=me.default_metadata)==null?void 0:K.toString())||((ne=me.expanded_metadata)==null?void 0:ne.toString()),k===void 0)){let ee=((st=me.default_metadata)==null?void 0:st.endpoint)||((Ce=me.expanded_metadata)==null?void 0:Ce.endpoint);k=(Qe=ee==null?void 0:ee.payload)==null?void 0:Qe.browseId}((Pe=me.info_row_expand_status_key)==null?void 0:Pe.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(v=((Pt=me.default_metadata)==null?void 0:Pt.toString())||((xi=me.expanded_metadata)==null?void 0:xi.toString()))}}return{song:x,artist:b,album:w,license:v,videoId:I,channelId:k}})}return[]}};r(qs,"VideoInfo");qi=new WeakMap;var kd=qs;var Ks,Ed,zs=class{constructor(e,i){if(Ks.set(this,void 0),Ed.set(this,void 0),S(this,Ks,l.parseResponse(i.data),"f"),S(this,Ed,e,"f"),!u(this,Ks,"f").actions_memo)throw new Error("Page actions not found");this.transcript=u(this,Ks,"f").actions_memo.getType(Vr)[0]}async selectLanguage(e){var o,c,p,f;let i=(f=(p=(c=(o=this.transcript.content)==null?void 0:o.footer)==null?void 0:c.language_menu)==null?void 0:p.sub_menu_items)==null?void 0:f.find(m=>m.title.toString()===e);if(!i)throw new Error(`Language not found: ${e}`);if(i.selected)return this;let s=await u(this,Ed,"f").execute("/get_transcript",{params:i.continuation});return new zs(u(this,Ed,"f"),s)}get languages(){var e,i,s,o;return((o=(s=(i=(e=this.transcript.content)==null?void 0:e.footer)==null?void 0:i.language_menu)==null?void 0:s.sub_menu_items)==null?void 0:o.map(c=>c.title.toString()))||[]}get selectedLanguage(){var e,i,s,o,c;return((c=(o=(s=(i=(e=this.transcript.content)==null?void 0:e.footer)==null?void 0:i.language_menu)==null?void 0:s.sub_menu_items)==null?void 0:o.find(p=>p.selected))==null?void 0:c.title.toString())||""}get page(){return u(this,Ks,"f")}};r(zs,"TranscriptInfo");Ks=new WeakMap,Ed=new WeakMap;var Qb=zs;var Nk={};var P=class{constructor(e,i,s,o){var p,f,m,_,x,b,w,v,I,k,C,E,Y,Z,O,oe,ce,V,re,F,B,q,K,ne,st,Ce,Qe;let c=new a(e);this.id=o||((_=(m=(f=(p=c==null?void 0:c.runs)==null?void 0:p[0])==null?void 0:f.endpoint)==null?void 0:m.payload)==null?void 0:_.browseId)||((b=(x=c==null?void 0:c.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId)||"N/A",this.name=(c==null?void 0:c.text)||"N/A",this.thumbnails=s?y.fromResponse(s):[],this.endpoint=((v=(w=c==null?void 0:c.runs)==null?void 0:w[0])==null?void 0:v.endpoint)||(c==null?void 0:c.endpoint),i?Array.isArray(i)?(this.badges=l.parseArray(i),this.is_moderator=(I=this.badges)==null?void 0:I.some(Pe=>Pe.icon_type=="MODERATOR"),this.is_verified=(k=this.badges)==null?void 0:k.some(Pe=>Pe.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(C=this.badges)==null?void 0:C.some(Pe=>Pe.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=G([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=G([]),this.url=((O=(Z=(Y=(E=c==null?void 0:c.runs)==null?void 0:E[0])==null?void 0:Y.endpoint)==null?void 0:Z.metadata)==null?void 0:O.api_url)==="/browse"&&`${ge.YT_BASE}${((re=(V=(ce=(oe=c==null?void 0:c.runs)==null?void 0:oe[0])==null?void 0:ce.endpoint)==null?void 0:V.payload)==null?void 0:re.canonicalBaseUrl)||`/u/${(K=(q=(B=(F=c==null?void 0:c.runs)==null?void 0:F[0])==null?void 0:B.endpoint)==null?void 0:q.payload)==null?void 0:K.browseId}`}`||`${ge.YT_BASE}${((st=(ne=c==null?void 0:c.endpoint)==null?void 0:ne.payload)==null?void 0:st.canonicalBaseUrl)||`/u/${(Qe=(Ce=c==null?void 0:c.endpoint)==null?void 0:Ce.payload)==null?void 0:Qe.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};r(P,"Author");var y1=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Lk=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],b1="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",Ok="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",mw={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},hw="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",g1={5:hw,"5module":hw+" export import",6:hw+" const class extends export import super"},w1=/^in(stanceof)?$/,T1=new RegExp("["+Ok+"]"),v1=new RegExp("["+Ok+b1+"]");function _w(t,e){for(var i=65536,s=0;s<e.length;s+=2){if(i+=e[s],i>t)return!1;if(i+=e[s+1],i>=t)return!0}return!1}r(_w,"isInAstralSet");function mi(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&T1.test(String.fromCharCode(t)):e===!1?!1:_w(t,Lk)}r(mi,"isIdentifierStart");function Xs(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&v1.test(String.fromCharCode(t)):e===!1?!1:_w(t,Lk)||_w(t,y1)}r(Xs,"isIdentifierChar");var $=r(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function at(t,e){return new $(t,{beforeExpr:!0,binop:e})}r(at,"binop");var ct={beforeExpr:!0},ze={startsExpr:!0},gw={};function H(t,e){return e===void 0&&(e={}),e.keyword=t,gw[t]=new $(t,e)}r(H,"kw");var d={num:new $("num",ze),regexp:new $("regexp",ze),string:new $("string",ze),name:new $("name",ze),privateId:new $("privateId",ze),eof:new $("eof"),bracketL:new $("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new $("]"),braceL:new $("{",{beforeExpr:!0,startsExpr:!0}),braceR:new $("}"),parenL:new $("(",{beforeExpr:!0,startsExpr:!0}),parenR:new $(")"),comma:new $(",",ct),semi:new $(";",ct),colon:new $(":",ct),dot:new $("."),question:new $("?",ct),questionDot:new $("?."),arrow:new $("=>",ct),template:new $("template"),invalidTemplate:new $("invalidTemplate"),ellipsis:new $("...",ct),backQuote:new $("`",ze),dollarBraceL:new $("${",{beforeExpr:!0,startsExpr:!0}),eq:new $("=",{beforeExpr:!0,isAssign:!0}),assign:new $("_=",{beforeExpr:!0,isAssign:!0}),incDec:new $("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new $("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:at("||",1),logicalAND:at("&&",2),bitwiseOR:at("|",3),bitwiseXOR:at("^",4),bitwiseAND:at("&",5),equality:at("==/!=/===/!==",6),relational:at("</>/<=/>=",7),bitShift:at("<</>>/>>>",8),plusMin:new $("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:at("%",10),star:at("*",10),slash:at("/",10),starstar:new $("**",{beforeExpr:!0}),coalesce:at("??",1),_break:H("break"),_case:H("case",ct),_catch:H("catch"),_continue:H("continue"),_debugger:H("debugger"),_default:H("default",ct),_do:H("do",{isLoop:!0,beforeExpr:!0}),_else:H("else",ct),_finally:H("finally"),_for:H("for",{isLoop:!0}),_function:H("function",ze),_if:H("if"),_return:H("return",ct),_switch:H("switch"),_throw:H("throw",ct),_try:H("try"),_var:H("var"),_const:H("const"),_while:H("while",{isLoop:!0}),_with:H("with"),_new:H("new",{beforeExpr:!0,startsExpr:!0}),_this:H("this",ze),_super:H("super",ze),_class:H("class",ze),_extends:H("extends",ct),_export:H("export"),_import:H("import",ze),_null:H("null",ze),_true:H("true",ze),_false:H("false",ze),_in:H("in",{beforeExpr:!0,binop:7}),_instanceof:H("instanceof",{beforeExpr:!0,binop:7}),_typeof:H("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:H("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:H("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ut=/\r\n?|\n|\u2028|\u2029/,I1=new RegExp(ut.source,"g");function Qs(t){return t===10||t===13||t===8232||t===8233}r(Qs,"isNewLine");function Yk(t,e,i){i===void 0&&(i=t.length);for(var s=e;s<i;s++){var o=t.charCodeAt(s);if(Qs(o))return s<i-1&&o===13&&t.charCodeAt(s+1)===10?s+2:s+1}return-1}r(Yk,"nextLineBreak");var Vk=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,lt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Fk=Object.prototype,S1=Fk.hasOwnProperty,k1=Fk.toString,Ad=Object.hasOwn||function(t,e){return S1.call(t,e)},Ak=Array.isArray||function(t){return k1.call(t)==="[object Array]"},Rk=Object.create(null);function Ki(t){return Rk[t]||(Rk[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}r(Ki,"wordsRegexp");function zi(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}r(zi,"codePointToString");var E1=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Pd=r(function(e,i){this.line=e,this.column=i},"Position");Pd.prototype.offset=r(function(e){return new Pd(this.line,this.column+e)},"offset");var xg=r(function(e,i,s){this.start=i,this.end=s,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function Uk(t,e){for(var i=1,s=0;;){var o=Yk(t,s,e);if(o<0)return new Pd(i,e-s);++i,s=o}}r(Uk,"getLineInfo");var xw={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Mk=!1;function C1(t){var e={};for(var i in xw)e[i]=t&&Ad(t,i)?t[i]:xw[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!Mk&&typeof console=="object"&&console.warn&&(Mk=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),Ak(e.onToken)){var s=e.onToken;e.onToken=function(o){return s.push(o)}}return Ak(e.onComment)&&(e.onComment=P1(e,e.onComment)),e}r(C1,"getOptions");function P1(t,e){return function(i,s,o,c,p,f){var m={type:i?"Block":"Line",value:s,start:o,end:c};t.locations&&(m.loc=new xg(this,p,f)),t.ranges&&(m.range=[o,c]),e.push(m)}}r(P1,"pushComment");var Nd=1,Js=2,ww=4,Wk=8,Gk=16,Hk=32,Tw=64,jk=128,Rd=256,vw=Nd|Js|Rd;function Iw(t,e){return Js|(t?ww:0)|(e?Wk:0)}r(Iw,"functionFlags");var mg=0,Sw=1,di=2,$k=3,qk=4,Kk=5,be=r(function(e,i,s){this.options=e=C1(e),this.sourceFile=e.sourceFile,this.keywords=Ki(g1[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var o="";e.allowReserved!==!0&&(o=mw[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(o+=" await")),this.reservedWords=Ki(o);var c=(o?o+" ":"")+mw.strict;this.reservedWordsStrict=Ki(c),this.reservedWordsStrictBind=Ki(c+" "+mw.strictBind),this.input=String(i),this.containsEsc=!1,s?(this.pos=s,this.lineStart=this.input.lastIndexOf(`
`,s-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ut).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=d.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Nd),this.regexpState=null,this.privateNameStack=[]},"Parser"),qt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};be.prototype.parse=r(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");qt.inFunction.get=function(){return(this.currentVarScope().flags&Js)>0};qt.inGenerator.get=function(){return(this.currentVarScope().flags&Wk)>0&&!this.currentVarScope().inClassFieldInit};qt.inAsync.get=function(){return(this.currentVarScope().flags&ww)>0&&!this.currentVarScope().inClassFieldInit};qt.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Rd)return!1;if(e.flags&Js)return(e.flags&ww)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};qt.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&Tw)>0||i||this.options.allowSuperOutsideMethod};qt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&jk)>0};qt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};qt.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Js|Rd))>0||i};qt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Rd)>0};be.extend=r(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var s=this,o=0;o<e.length;o++)s=e[o](s);return s},"extend");be.parse=r(function(e,i){return new this(i,e).parse()},"parse");be.parseExpressionAt=r(function(e,i,s){var o=new this(s,e,i);return o.nextToken(),o.parseExpression()},"parseExpressionAt");be.tokenizer=r(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(be.prototype,qt);var We=be.prototype,N1=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;We.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){lt.lastIndex=t,t+=lt.exec(this.input)[0].length;var e=N1.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){lt.lastIndex=t+e[0].length;var i=lt.exec(this.input),s=i.index+i[0].length,o=this.input.charAt(s);return o===";"||o==="}"||ut.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(o)||o==="!"&&this.input.charAt(s+1)==="=")}t+=e[0].length,lt.lastIndex=t,t+=lt.exec(this.input)[0].length,this.input[t]===";"&&t++}};We.eat=function(t){return this.type===t?(this.next(),!0):!1};We.isContextual=function(t){return this.type===d.name&&this.value===t&&!this.containsEsc};We.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};We.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};We.canInsertSemicolon=function(){return this.type===d.eof||this.type===d.braceR||ut.test(this.input.slice(this.lastTokEnd,this.start))};We.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};We.semicolon=function(){!this.eat(d.semi)&&!this.insertSemicolon()&&this.unexpected()};We.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};We.expect=function(t){this.eat(t)||this.unexpected()};We.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var yg=r(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");We.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};We.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,s=t.doubleProto;if(!e)return i>=0||s>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),s>=0&&this.raiseRecoverable(s,"Redefinition of __proto__ property")};We.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};We.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var A=be.prototype;A.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==d.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var s=0,o=Object.keys(this.undefinedExports);s<o.length;s+=1){var c=o[s];this.raiseRecoverable(this.undefinedExports[c].start,"Export '"+c+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var kw={kind:"loop"},A1={kind:"switch"};A.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;lt.lastIndex=this.pos;var e=lt.exec(this.input),i=this.pos+e[0].length,s=this.input.charCodeAt(i);if(s===91||s===92)return!0;if(t)return!1;if(s===123||s>55295&&s<56320)return!0;if(mi(s,!0)){for(var o=i+1;Xs(s=this.input.charCodeAt(o),!0);)++o;if(s===92||s>55295&&s<56320)return!0;var c=this.input.slice(i,o);if(!w1.test(c))return!0}return!1};A.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;lt.lastIndex=this.pos;var t=lt.exec(this.input),e=this.pos+t[0].length,i;return!ut.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Xs(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};A.parseStatement=function(t,e,i){var s=this.type,o=this.startNode(),c;switch(this.isLet(t)&&(s=d._var,c="let"),s){case d._break:case d._continue:return this.parseBreakContinueStatement(o,s.keyword);case d._debugger:return this.parseDebuggerStatement(o);case d._do:return this.parseDoStatement(o);case d._for:return this.parseForStatement(o);case d._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!t);case d._class:return t&&this.unexpected(),this.parseClass(o,!0);case d._if:return this.parseIfStatement(o);case d._return:return this.parseReturnStatement(o);case d._switch:return this.parseSwitchStatement(o);case d._throw:return this.parseThrowStatement(o);case d._try:return this.parseTryStatement(o);case d._const:case d._var:return c=c||this.value,t&&c!=="var"&&this.unexpected(),this.parseVarStatement(o,c);case d._while:return this.parseWhileStatement(o);case d._with:return this.parseWithStatement(o);case d.braceL:return this.parseBlock(!0,o);case d.semi:return this.parseEmptyStatement(o);case d._export:case d._import:if(this.options.ecmaVersion>10&&s===d._import){lt.lastIndex=this.pos;var p=lt.exec(this.input),f=this.pos+p[0].length,m=this.input.charCodeAt(f);if(m===40||m===46)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),s===d._import?this.parseImport(o):this.parseExport(o,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!t);var _=this.value,x=this.parseExpression();return s===d.name&&x.type==="Identifier"&&this.eat(d.colon)?this.parseLabeledStatement(o,_,x,t):this.parseExpressionStatement(o,x)}};A.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(d.semi)||this.insertSemicolon()?t.label=null:this.type!==d.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var s=0;s<this.labels.length;++s){var o=this.labels[s];if((t.label==null||o.name===t.label.name)&&(o.kind!=null&&(i||o.kind==="loop")||t.label&&i))break}return s===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};A.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};A.parseDoStatement=function(t){return this.next(),this.labels.push(kw),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(d._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(d.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};A.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(kw),this.enterScope(0),this.expect(d.parenL),this.type===d.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===d._var||this.type===d._const||i){var s=this.startNode(),o=i?"let":this.value;return this.next(),this.parseVar(s,!0,o),this.finishNode(s,"VariableDeclaration"),(this.type===d._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&s.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===d._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,s)):(e>-1&&this.unexpected(e),this.parseFor(t,s))}var c=this.isContextual("let"),p=!1,f=this.containsEsc,m=new yg,_=this.start,x=e>-1?this.parseExprSubscripts(m,"await"):this.parseExpression(!0,m);return this.type===d._in||(p=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===d._in&&this.unexpected(e),t.await=!0):p&&this.options.ecmaVersion>=8&&(x.start===_&&!f&&x.type==="Identifier"&&x.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),c&&p&&this.raise(x.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(x,!1,m),this.checkLValPattern(x),this.parseForIn(t,x)):(this.checkExpressionErrors(m,!0),e>-1&&this.unexpected(e),this.parseFor(t,x))};A.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,Cd|(i?0:yw),!1,e)};A.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(d._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};A.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(d.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};A.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(d.braceL),this.labels.push(A1),this.enterScope(0);for(var e,i=!1;this.type!==d.braceR;)if(this.type===d._case||this.type===d._default){var s=this.type===d._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),s?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(d.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};A.parseThrowStatement=function(t){return this.next(),ut.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var R1=[];A.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?Hk:0),this.checkLValPattern(t,e?qk:di),this.expect(d.parenR),t};A.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===d._catch){var e=this.startNode();this.next(),this.eat(d.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(d._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};A.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};A.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(kw),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};A.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};A.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};A.parseLabeledStatement=function(t,e,i,s){for(var o=0,c=this.labels;o<c.length;o+=1){var p=c[o];p.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var f=this.type.isLoop?"loop":this.type===d._switch?"switch":null,m=this.labels.length-1;m>=0;m--){var _=this.labels[m];if(_.statementStart===t.start)_.statementStart=this.start,_.kind=f;else break}return this.labels.push({name:e,kind:f,statementStart:this.start}),t.body=this.parseStatement(s?s.indexOf("label")===-1?s+"label":s:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};A.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};A.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(d.braceL),t&&this.enterScope(0);this.type!==d.braceR;){var s=this.parseStatement(null);e.body.push(s)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};A.parseFor=function(t,e){return t.init=e,this.expect(d.semi),t.test=this.type===d.semi?null:this.parseExpression(),this.expect(d.semi),t.update=this.type===d.parenR?null:this.parseExpression(),this.expect(d.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};A.parseForIn=function(t,e){var i=this.type===d._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(d.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};A.parseVar=function(t,e,i,s){for(t.declarations=[],t.kind=i;;){var o=this.startNode();if(this.parseVarId(o,i),this.eat(d.eq)?o.init=this.parseMaybeAssign(e):!s&&i==="const"&&!(this.type===d._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!s&&o.id.type!=="Identifier"&&!(e&&(this.type===d._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,t.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(d.comma))break}return t};A.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?Sw:di,!1)};var Cd=1,yw=2,zk=4;A.parseFunction=function(t,e,i,s,o){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!s)&&(this.type===d.star&&e&yw&&this.unexpected(),t.generator=this.eat(d.star)),this.options.ecmaVersion>=8&&(t.async=!!s),e&Cd&&(t.id=e&zk&&this.type!==d.name?null:this.parseIdent(),t.id&&!(e&yw)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Sw:di:$k));var c=this.yieldPos,p=this.awaitPos,f=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Iw(t.async,t.generator)),e&Cd||(t.id=this.type===d.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,o),this.yieldPos=c,this.awaitPos=p,this.awaitIdentPos=f,this.finishNode(t,e&Cd?"FunctionDeclaration":"FunctionExpression")};A.parseFunctionParams=function(t){this.expect(d.parenL),t.params=this.parseBindingList(d.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};A.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var s=this.enterClassBody(),o=this.startNode(),c=!1;for(o.body=[],this.expect(d.braceL);this.type!==d.braceR;){var p=this.parseClassElement(t.superClass!==null);p&&(o.body.push(p),p.type==="MethodDefinition"&&p.kind==="constructor"?(c&&this.raiseRecoverable(p.start,"Duplicate constructor in the same class"),c=!0):p.key&&p.key.type==="PrivateIdentifier"&&M1(s,p)&&this.raiseRecoverable(p.key.start,"Identifier '#"+p.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(o,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};A.parseClassElement=function(t){if(this.eat(d.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),s="",o=!1,c=!1,p="method",f=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(d.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===d.star?f=!0:s="static"}if(i.static=f,!s&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===d.star)&&!this.canInsertSemicolon()?c=!0:s="async"),!s&&(e>=9||!c)&&this.eat(d.star)&&(o=!0),!s&&!c&&!o){var m=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?p=m:s=m)}if(s?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=s,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===d.parenL||p!=="method"||o||c){var _=!i.static&&hg(i,"constructor"),x=_&&t;_&&p!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=_?"constructor":p,this.parseClassMethod(i,o,c,x)}else this.parseClassField(i);return i};A.isClassElementNameStart=function(){return this.type===d.name||this.type===d.privateId||this.type===d.num||this.type===d.string||this.type===d.bracketL||this.type.keyword};A.parseClassElementName=function(t){this.type===d.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};A.parseClassMethod=function(t,e,i,s){var o=t.key;t.kind==="constructor"?(e&&this.raise(o.start,"Constructor can't be a generator"),i&&this.raise(o.start,"Constructor can't be an async method")):t.static&&hg(t,"prototype")&&this.raise(o.start,"Classes may not have a static property named prototype");var c=t.value=this.parseMethod(e,i,s);return t.kind==="get"&&c.params.length!==0&&this.raiseRecoverable(c.start,"getter should have no params"),t.kind==="set"&&c.params.length!==1&&this.raiseRecoverable(c.start,"setter should have exactly one param"),t.kind==="set"&&c.params[0].type==="RestElement"&&this.raiseRecoverable(c.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};A.parseClassField=function(t){if(hg(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&hg(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(d.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};A.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Rd|Tw);this.type!==d.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};A.parseClassId=function(t,e){this.type===d.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,di,!1)):(e===!0&&this.unexpected(),t.id=null)};A.parseClassSuper=function(t){t.superClass=this.eat(d._extends)?this.parseExprSubscripts(null,!1):null};A.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};A.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var s=this.privateNameStack.length,o=s===0?null:this.privateNameStack[s-1],c=0;c<i.length;++c){var p=i[c];Ad(e,p.name)||(o?o.used.push(p):this.raiseRecoverable(p.start,"Private field '#"+p.name+"' must be declared in an enclosing class"))}};function M1(t,e){var i=e.key.name,s=t[i],o="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(o=(e.static?"s":"i")+e.kind),s==="iget"&&o==="iset"||s==="iset"&&o==="iget"||s==="sget"&&o==="sset"||s==="sset"&&o==="sget"?(t[i]="true",!1):s?!0:(t[i]=o,!1)}r(M1,"isPrivateNameConflicted");function hg(t,e){var i=t.computed,s=t.key;return!i&&(s.type==="Identifier"&&s.name===e||s.type==="Literal"&&s.value===e)}r(hg,"checkKeyName");A.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==d.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};A.parseExport=function(t,e){if(this.next(),this.eat(d.star))return this.parseExportAllDeclaration(t,e);if(this.eat(d._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==d.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,s=t.specifiers;i<s.length;i+=1){var o=s[i];this.checkUnreserved(o.local),this.checkLocalExport(o.local),o.local.type==="Literal"&&this.raise(o.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};A.parseExportDeclaration=function(t){return this.parseStatement(null)};A.parseExportDefaultDeclaration=function(){var t;if(this.type===d._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,Cd|zk,!1,t)}else if(this.type===d._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var s=this.parseMaybeAssign();return this.semicolon(),s}};A.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Ad(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};A.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var s=0,o=e.properties;s<o.length;s+=1){var c=o[s];this.checkPatternExport(t,c)}else if(i==="ArrayPattern")for(var p=0,f=e.elements;p<f.length;p+=1){var m=f[p];m&&this.checkPatternExport(t,m)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};A.checkVariableExport=function(t,e){if(!!t)for(var i=0,s=e;i<s.length;i+=1){var o=s[i];this.checkPatternExport(t,o.id)}};A.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};A.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};A.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(d.braceL);!this.eat(d.braceR);){if(i)i=!1;else if(this.expect(d.comma),this.afterTrailingComma(d.braceR))break;e.push(this.parseExportSpecifier(t))}return e};A.parseImport=function(t){return this.next(),this.type===d.string?(t.specifiers=R1,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===d.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};A.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,di),this.finishNode(t,"ImportSpecifier")};A.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,di),this.finishNode(t,"ImportDefaultSpecifier")};A.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,di),this.finishNode(t,"ImportNamespaceSpecifier")};A.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===d.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(d.comma)))return t;if(this.type===d.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(d.braceL);!this.eat(d.braceR);){if(e)e=!1;else if(this.expect(d.comma),this.afterTrailingComma(d.braceR))break;t.push(this.parseImportSpecifier())}return t};A.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===d.string){var t=this.parseLiteral(this.value);return E1.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};A.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};A.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var ft=be.prototype;ft.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var s=0,o=t.properties;s<o.length;s+=1){var c=o[s];this.toAssignable(c,e),c.type==="RestElement"&&(c.argument.type==="ArrayPattern"||c.argument.type==="ObjectPattern")&&this.raise(c.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};ft.toAssignableList=function(t,e){for(var i=t.length,s=0;s<i;s++){var o=t[s];o&&this.toAssignable(o,e)}if(i){var c=t[i-1];this.options.ecmaVersion===6&&e&&c&&c.type==="RestElement"&&c.argument.type!=="Identifier"&&this.unexpected(c.argument.start)}return t};ft.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};ft.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==d.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};ft.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case d.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(d.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case d.braceL:return this.parseObj(!0)}return this.parseIdent()};ft.parseBindingList=function(t,e,i,s){for(var o=[],c=!0;!this.eat(t);)if(c?c=!1:this.expect(d.comma),e&&this.type===d.comma)o.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===d.ellipsis){var p=this.parseRestBinding();this.parseBindingListItem(p),o.push(p),this.type===d.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else o.push(this.parseAssignableListItem(s))}return o};ft.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};ft.parseBindingListItem=function(t){return t};ft.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(d.eq))return i;var s=this.startNodeAt(t,e);return s.left=i,s.right=this.parseMaybeAssign(),this.finishNode(s,"AssignmentPattern")};ft.checkLValSimple=function(t,e,i){e===void 0&&(e=mg);var s=e!==mg;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(s?"Binding ":"Assigning to ")+t.name+" in strict mode"),s&&(e===di&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Ad(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==Kk&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":s&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return s&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(s?"Binding":"Assigning to")+" rvalue")}};ft.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=mg),t.type){case"ObjectPattern":for(var s=0,o=t.properties;s<o.length;s+=1){var c=o[s];this.checkLValInnerPattern(c,e,i)}break;case"ArrayPattern":for(var p=0,f=t.elements;p<f.length;p+=1){var m=f[p];m&&this.checkLValInnerPattern(m,e,i)}break;default:this.checkLValSimple(t,e,i)}};ft.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=mg),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var kt=r(function(e,i,s,o,c){this.token=e,this.isExpr=!!i,this.preserveSpace=!!s,this.override=o,this.generator=!!c},"TokContext"),le={b_stat:new kt("{",!1),b_expr:new kt("{",!0),b_tmpl:new kt("${",!1),p_stat:new kt("(",!1),p_expr:new kt("(",!0),q_tmpl:new kt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new kt("function",!1),f_expr:new kt("function",!0),f_expr_gen:new kt("function",!0,!1,null,!0),f_gen:new kt("function",!1,!1,null,!0)},Zs=be.prototype;Zs.initialContext=function(){return[le.b_stat]};Zs.curContext=function(){return this.context[this.context.length-1]};Zs.braceIsBlock=function(t){var e=this.curContext();return e===le.f_expr||e===le.f_stat?!0:t===d.colon&&(e===le.b_stat||e===le.b_expr)?!e.isExpr:t===d._return||t===d.name&&this.exprAllowed?ut.test(this.input.slice(this.lastTokEnd,this.start)):t===d._else||t===d.semi||t===d.eof||t===d.parenR||t===d.arrow?!0:t===d.braceL?e===le.b_stat:t===d._var||t===d._const||t===d.name?!1:!this.exprAllowed};Zs.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Zs.updateContext=function(t){var e,i=this.type;i.keyword&&t===d.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Zs.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};d.parenR.updateContext=d.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===le.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};d.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?le.b_stat:le.b_expr),this.exprAllowed=!0};d.dollarBraceL.updateContext=function(){this.context.push(le.b_tmpl),this.exprAllowed=!0};d.parenL.updateContext=function(t){var e=t===d._if||t===d._for||t===d._with||t===d._while;this.context.push(e?le.p_stat:le.p_expr),this.exprAllowed=!0};d.incDec.updateContext=function(){};d._function.updateContext=d._class.updateContext=function(t){t.beforeExpr&&t!==d._else&&!(t===d.semi&&this.curContext()!==le.p_stat)&&!(t===d._return&&ut.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===d.colon||t===d.braceL)&&this.curContext()===le.b_stat)?this.context.push(le.f_expr):this.context.push(le.f_stat),this.exprAllowed=!1};d.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};d.backQuote.updateContext=function(){this.curContext()===le.q_tmpl?this.context.pop():this.context.push(le.q_tmpl),this.exprAllowed=!1};d.star.updateContext=function(t){if(t===d._function){var e=this.context.length-1;this.context[e]===le.f_expr?this.context[e]=le.f_expr_gen:this.context[e]=le.f_gen}this.exprAllowed=!0};d.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==d.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var L=be.prototype;L.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var s=t.key,o;switch(s.type){case"Identifier":o=s.name;break;case"Literal":o=String(s.value);break;default:return}var c=t.kind;if(this.options.ecmaVersion>=6){o==="__proto__"&&c==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=s.start):this.raiseRecoverable(s.start,"Redefinition of __proto__ property")),e.proto=!0);return}o="$"+o;var p=e[o];if(p){var f;c==="init"?f=this.strict&&p.init||p.get||p.set:f=p.init||p[c],f&&this.raiseRecoverable(s.start,"Redefinition of property")}else p=e[o]={init:!1,get:!1,set:!1};p[c]=!0}};L.parseExpression=function(t,e){var i=this.start,s=this.startLoc,o=this.parseMaybeAssign(t,e);if(this.type===d.comma){var c=this.startNodeAt(i,s);for(c.expressions=[o];this.eat(d.comma);)c.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(c,"SequenceExpression")}return o};L.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var s=!1,o=-1,c=-1,p=-1;e?(o=e.parenthesizedAssign,c=e.trailingComma,p=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new yg,s=!0);var f=this.start,m=this.startLoc;(this.type===d.parenL||this.type===d.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var _=this.parseMaybeConditional(t,e);if(i&&(_=i.call(this,_,f,m)),this.type.isAssign){var x=this.startNodeAt(f,m);return x.operator=this.value,this.type===d.eq&&(_=this.toAssignable(_,!1,e)),s||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=_.start&&(e.shorthandAssign=-1),this.type===d.eq?this.checkLValPattern(_):this.checkLValSimple(_),x.left=_,this.next(),x.right=this.parseMaybeAssign(t),p>-1&&(e.doubleProto=p),this.finishNode(x,"AssignmentExpression")}else s&&this.checkExpressionErrors(e,!0);return o>-1&&(e.parenthesizedAssign=o),c>-1&&(e.trailingComma=c),_};L.parseMaybeConditional=function(t,e){var i=this.start,s=this.startLoc,o=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return o;if(this.eat(d.question)){var c=this.startNodeAt(i,s);return c.test=o,c.consequent=this.parseMaybeAssign(),this.expect(d.colon),c.alternate=this.parseMaybeAssign(t),this.finishNode(c,"ConditionalExpression")}return o};L.parseExprOps=function(t,e){var i=this.start,s=this.startLoc,o=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||o.start===i&&o.type==="ArrowFunctionExpression"?o:this.parseExprOp(o,i,s,-1,t)};L.parseExprOp=function(t,e,i,s,o){var c=this.type.binop;if(c!=null&&(!o||this.type!==d._in)&&c>s){var p=this.type===d.logicalOR||this.type===d.logicalAND,f=this.type===d.coalesce;f&&(c=d.logicalAND.binop);var m=this.value;this.next();var _=this.start,x=this.startLoc,b=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,o),_,x,c,o),w=this.buildBinary(e,i,t,b,m,p||f);return(p&&this.type===d.coalesce||f&&(this.type===d.logicalOR||this.type===d.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(w,e,i,s,o)}return t};L.buildBinary=function(t,e,i,s,o,c){s.type==="PrivateIdentifier"&&this.raise(s.start,"Private identifier can only be left side of binary expression");var p=this.startNodeAt(t,e);return p.left=i,p.operator=o,p.right=s,this.finishNode(p,c?"LogicalExpression":"BinaryExpression")};L.parseMaybeUnary=function(t,e,i,s){var o=this.start,c=this.startLoc,p;if(this.isContextual("await")&&this.canAwait)p=this.parseAwait(s),e=!0;else if(this.type.prefix){var f=this.startNode(),m=this.type===d.incDec;f.operator=this.value,f.prefix=!0,this.next(),f.argument=this.parseMaybeUnary(null,!0,m,s),this.checkExpressionErrors(t,!0),m?this.checkLValSimple(f.argument):this.strict&&f.operator==="delete"&&Xk(f.argument)?this.raiseRecoverable(f.start,"Deleting local variable in strict mode"):f.operator==="delete"&&bw(f.argument)?this.raiseRecoverable(f.start,"Private fields can not be deleted"):e=!0,p=this.finishNode(f,m?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===d.privateId)(s||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),p=this.parsePrivateIdent(),this.type!==d._in&&this.unexpected();else{if(p=this.parseExprSubscripts(t,s),this.checkExpressionErrors(t))return p;for(;this.type.postfix&&!this.canInsertSemicolon();){var _=this.startNodeAt(o,c);_.operator=this.value,_.prefix=!1,_.argument=p,this.checkLValSimple(p),this.next(),p=this.finishNode(_,"UpdateExpression")}}if(!i&&this.eat(d.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(o,c,p,this.parseMaybeUnary(null,!1,!1,s),"**",!1);else return p};function Xk(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&Xk(t.expression)}r(Xk,"isLocalVariableAccess");function bw(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&bw(t.expression)||t.type==="ParenthesizedExpression"&&bw(t.expression)}r(bw,"isPrivateFieldAccess");L.parseExprSubscripts=function(t,e){var i=this.start,s=this.startLoc,o=this.parseExprAtom(t,e);if(o.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return o;var c=this.parseSubscripts(o,i,s,!1,e);return t&&c.type==="MemberExpression"&&(t.parenthesizedAssign>=c.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=c.start&&(t.parenthesizedBind=-1),t.trailingComma>=c.start&&(t.trailingComma=-1)),c};L.parseSubscripts=function(t,e,i,s,o){for(var c=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,p=!1;;){var f=this.parseSubscript(t,e,i,s,c,p,o);if(f.optional&&(p=!0),f===t||f.type==="ArrowFunctionExpression"){if(p){var m=this.startNodeAt(e,i);m.expression=f,f=this.finishNode(m,"ChainExpression")}return f}t=f}};L.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(d.arrow)};L.parseSubscriptAsyncArrow=function(t,e,i,s){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,s)};L.parseSubscript=function(t,e,i,s,o,c,p){var f=this.options.ecmaVersion>=11,m=f&&this.eat(d.questionDot);s&&m&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var _=this.eat(d.bracketL);if(_||m&&this.type!==d.parenL&&this.type!==d.backQuote||this.eat(d.dot)){var x=this.startNodeAt(e,i);x.object=t,_?(x.property=this.parseExpression(),this.expect(d.bracketR)):this.type===d.privateId&&t.type!=="Super"?x.property=this.parsePrivateIdent():x.property=this.parseIdent(this.options.allowReserved!=="never"),x.computed=!!_,f&&(x.optional=m),t=this.finishNode(x,"MemberExpression")}else if(!s&&this.eat(d.parenL)){var b=new yg,w=this.yieldPos,v=this.awaitPos,I=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var k=this.parseExprList(d.parenR,this.options.ecmaVersion>=8,!1,b);if(o&&!m&&this.shouldParseAsyncArrow())return this.checkPatternErrors(b,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=w,this.awaitPos=v,this.awaitIdentPos=I,this.parseSubscriptAsyncArrow(e,i,k,p);this.checkExpressionErrors(b,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=v||this.awaitPos,this.awaitIdentPos=I||this.awaitIdentPos;var C=this.startNodeAt(e,i);C.callee=t,C.arguments=k,f&&(C.optional=m),t=this.finishNode(C,"CallExpression")}else if(this.type===d.backQuote){(m||c)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var E=this.startNodeAt(e,i);E.tag=t,E.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(E,"TaggedTemplateExpression")}return t};L.parseExprAtom=function(t,e,i){this.type===d.slash&&this.readRegexp();var s,o=this.potentialArrowAt===this.start;switch(this.type){case d._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),s=this.startNode(),this.next(),this.type===d.parenL&&!this.allowDirectSuper&&this.raise(s.start,"super() call outside constructor of a subclass"),this.type!==d.dot&&this.type!==d.bracketL&&this.type!==d.parenL&&this.unexpected(),this.finishNode(s,"Super");case d._this:return s=this.startNode(),this.next(),this.finishNode(s,"ThisExpression");case d.name:var c=this.start,p=this.startLoc,f=this.containsEsc,m=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!f&&m.name==="async"&&!this.canInsertSemicolon()&&this.eat(d._function))return this.overrideContext(le.f_expr),this.parseFunction(this.startNodeAt(c,p),0,!1,!0,e);if(o&&!this.canInsertSemicolon()){if(this.eat(d.arrow))return this.parseArrowExpression(this.startNodeAt(c,p),[m],!1,e);if(this.options.ecmaVersion>=8&&m.name==="async"&&this.type===d.name&&!f&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return m=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(d.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(c,p),[m],!0,e)}return m;case d.regexp:var _=this.value;return s=this.parseLiteral(_.value),s.regex={pattern:_.pattern,flags:_.flags},s;case d.num:case d.string:return this.parseLiteral(this.value);case d._null:case d._true:case d._false:return s=this.startNode(),s.value=this.type===d._null?null:this.type===d._true,s.raw=this.type.keyword,this.next(),this.finishNode(s,"Literal");case d.parenL:var x=this.start,b=this.parseParenAndDistinguishExpression(o,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(b)&&(t.parenthesizedAssign=x),t.parenthesizedBind<0&&(t.parenthesizedBind=x)),b;case d.bracketL:return s=this.startNode(),this.next(),s.elements=this.parseExprList(d.bracketR,!0,!0,t),this.finishNode(s,"ArrayExpression");case d.braceL:return this.overrideContext(le.b_expr),this.parseObj(!1,t);case d._function:return s=this.startNode(),this.next(),this.parseFunction(s,0);case d._class:return this.parseClass(this.startNode(),!1);case d._new:return this.parseNew();case d.backQuote:return this.parseTemplate();case d._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};L.parseExprAtomDefault=function(){this.unexpected()};L.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===d.parenL&&!t)return this.parseDynamicImport(e);if(this.type===d.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};L.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(d.parenR)){var e=this.start;this.eat(d.comma)&&this.eat(d.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};L.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};L.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};L.parseParenExpression=function(){this.expect(d.parenL);var t=this.parseExpression();return this.expect(d.parenR),t};L.shouldParseArrow=function(t){return!this.canInsertSemicolon()};L.parseParenAndDistinguishExpression=function(t,e){var i=this.start,s=this.startLoc,o,c=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var p=this.start,f=this.startLoc,m=[],_=!0,x=!1,b=new yg,w=this.yieldPos,v=this.awaitPos,I;for(this.yieldPos=0,this.awaitPos=0;this.type!==d.parenR;)if(_?_=!1:this.expect(d.comma),c&&this.afterTrailingComma(d.parenR,!0)){x=!0;break}else if(this.type===d.ellipsis){I=this.start,m.push(this.parseParenItem(this.parseRestBinding())),this.type===d.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else m.push(this.parseMaybeAssign(!1,b,this.parseParenItem));var k=this.lastTokEnd,C=this.lastTokEndLoc;if(this.expect(d.parenR),t&&this.shouldParseArrow(m)&&this.eat(d.arrow))return this.checkPatternErrors(b,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=w,this.awaitPos=v,this.parseParenArrowList(i,s,m,e);(!m.length||x)&&this.unexpected(this.lastTokStart),I&&this.unexpected(I),this.checkExpressionErrors(b,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=v||this.awaitPos,m.length>1?(o=this.startNodeAt(p,f),o.expressions=m,this.finishNodeAt(o,"SequenceExpression",k,C)):o=m[0]}else o=this.parseParenExpression();if(this.options.preserveParens){var E=this.startNodeAt(i,s);return E.expression=o,this.finishNode(E,"ParenthesizedExpression")}else return o};L.parseParenItem=function(t){return t};L.parseParenArrowList=function(t,e,i,s){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,s)};var D1=[];L.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===d.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var s=this.start,o=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),s,o,!0,!1),this.eat(d.parenL)?t.arguments=this.parseExprList(d.parenR,this.options.ecmaVersion>=8,!1):t.arguments=D1,this.finishNode(t,"NewExpression")};L.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===d.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===d.backQuote,this.finishNode(i,"TemplateElement")};L.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var s=this.parseTemplateElement({isTagged:e});for(i.quasis=[s];!s.tail;)this.type===d.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(d.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(d.braceR),i.quasis.push(s=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};L.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===d.name||this.type===d.num||this.type===d.string||this.type===d.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===d.star)&&!ut.test(this.input.slice(this.lastTokEnd,this.start))};L.parseObj=function(t,e){var i=this.startNode(),s=!0,o={};for(i.properties=[],this.next();!this.eat(d.braceR);){if(s)s=!1;else if(this.expect(d.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(d.braceR))break;var c=this.parseProperty(t,e);t||this.checkPropClash(c,o,e),i.properties.push(c)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};L.parseProperty=function(t,e){var i=this.startNode(),s,o,c,p;if(this.options.ecmaVersion>=9&&this.eat(d.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===d.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===d.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(c=this.start,p=this.startLoc),t||(s=this.eat(d.star)));var f=this.containsEsc;return this.parsePropertyName(i),!t&&!f&&this.options.ecmaVersion>=8&&!s&&this.isAsyncProp(i)?(o=!0,s=this.options.ecmaVersion>=9&&this.eat(d.star),this.parsePropertyName(i)):o=!1,this.parsePropertyValue(i,t,s,o,c,p,e,f),this.finishNode(i,"Property")};L.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};L.parsePropertyValue=function(t,e,i,s,o,c,p,f){(i||s)&&this.type===d.colon&&this.unexpected(),this.eat(d.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,p),t.kind="init"):this.options.ecmaVersion>=6&&this.type===d.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,s)):!e&&!f&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==d.comma&&this.type!==d.braceR&&this.type!==d.eq?((i||s)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||s)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=o),t.kind="init",e?t.value=this.parseMaybeDefault(o,c,this.copyNode(t.key)):this.type===d.eq&&p?(p.shorthandAssign<0&&(p.shorthandAssign=this.start),t.value=this.parseMaybeDefault(o,c,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};L.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(d.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(d.bracketR),t.key;t.computed=!1}return t.key=this.type===d.num||this.type===d.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};L.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};L.parseMethod=function(t,e,i){var s=this.startNode(),o=this.yieldPos,c=this.awaitPos,p=this.awaitIdentPos;return this.initFunction(s),this.options.ecmaVersion>=6&&(s.generator=t),this.options.ecmaVersion>=8&&(s.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Iw(e,s.generator)|Tw|(i?jk:0)),this.expect(d.parenL),s.params=this.parseBindingList(d.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(s,!1,!0,!1),this.yieldPos=o,this.awaitPos=c,this.awaitIdentPos=p,this.finishNode(s,"FunctionExpression")};L.parseArrowExpression=function(t,e,i,s){var o=this.yieldPos,c=this.awaitPos,p=this.awaitIdentPos;return this.enterScope(Iw(i,!1)|Gk),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,s),this.yieldPos=o,this.awaitPos=c,this.awaitIdentPos=p,this.finishNode(t,"ArrowFunctionExpression")};L.parseFunctionBody=function(t,e,i,s){var o=e&&this.type!==d.braceL,c=this.strict,p=!1;if(o)t.body=this.parseMaybeAssign(s),t.expression=!0,this.checkParams(t,!1);else{var f=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!c||f)&&(p=this.strictDirective(this.end),p&&f&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var m=this.labels;this.labels=[],p&&(this.strict=!0),this.checkParams(t,!c&&!p&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,Kk),t.body=this.parseBlock(!1,void 0,p&&!c),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=m}this.exitScope()};L.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var s=i[e];if(s.type!=="Identifier")return!1}return!0};L.checkParams=function(t,e){for(var i=Object.create(null),s=0,o=t.params;s<o.length;s+=1){var c=o[s];this.checkLValInnerPattern(c,Sw,e?null:i)}};L.parseExprList=function(t,e,i,s){for(var o=[],c=!0;!this.eat(t);){if(c)c=!1;else if(this.expect(d.comma),e&&this.afterTrailingComma(t))break;var p=void 0;i&&this.type===d.comma?p=null:this.type===d.ellipsis?(p=this.parseSpread(s),s&&this.type===d.comma&&s.trailingComma<0&&(s.trailingComma=this.start)):p=this.parseMaybeAssign(!1,s),o.push(p)}return o};L.checkUnreserved=function(t){var e=t.start,i=t.end,s=t.name;if(this.inGenerator&&s==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&s==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&s==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(s==="arguments"||s==="await")&&this.raise(e,"Cannot use "+s+" in class static initialization block"),this.keywords.test(s)&&this.raise(e,"Unexpected keyword '"+s+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var o=this.strict?this.reservedWordsStrict:this.reservedWords;o.test(s)&&(!this.inAsync&&s==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+s+"' is reserved"))}};L.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};L.parseIdentNode=function(){var t=this.startNode();return this.type===d.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=d.name):this.unexpected(),t};L.parsePrivateIdent=function(){var t=this.startNode();return this.type===d.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};L.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===d.semi||this.canInsertSemicolon()||this.type!==d.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(d.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};L.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var dg=be.prototype;dg.raise=function(t,e){var i=Uk(this.input,t);e+=" ("+i.line+":"+i.column+")";var s=new SyntaxError(e);throw s.pos=t,s.loc=i,s.raisedAt=this.pos,s};dg.raiseRecoverable=dg.raise;dg.curPosition=function(){if(this.options.locations)return new Pd(this.curLine,this.pos-this.lineStart)};var Xi=be.prototype,B1=r(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Xi.enterScope=function(t){this.scopeStack.push(new B1(t))};Xi.exitScope=function(){this.scopeStack.pop()};Xi.treatFunctionsAsVarInScope=function(t){return t.flags&Js||!this.inModule&&t.flags&Nd};Xi.declareName=function(t,e,i){var s=!1;if(e===di){var o=this.currentScope();s=o.lexical.indexOf(t)>-1||o.functions.indexOf(t)>-1||o.var.indexOf(t)>-1,o.lexical.push(t),this.inModule&&o.flags&Nd&&delete this.undefinedExports[t]}else if(e===qk){var c=this.currentScope();c.lexical.push(t)}else if(e===$k){var p=this.currentScope();this.treatFunctionsAsVar?s=p.lexical.indexOf(t)>-1:s=p.lexical.indexOf(t)>-1||p.var.indexOf(t)>-1,p.functions.push(t)}else for(var f=this.scopeStack.length-1;f>=0;--f){var m=this.scopeStack[f];if(m.lexical.indexOf(t)>-1&&!(m.flags&Hk&&m.lexical[0]===t)||!this.treatFunctionsAsVarInScope(m)&&m.functions.indexOf(t)>-1){s=!0;break}if(m.var.push(t),this.inModule&&m.flags&Nd&&delete this.undefinedExports[t],m.flags&vw)break}s&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Xi.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Xi.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Xi.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&vw)return e}};Xi.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&vw&&!(e.flags&Gk))return e}};var bg=r(function(e,i,s){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new xg(e,s)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Md=be.prototype;Md.startNode=function(){return new bg(this,this.start,this.startLoc)};Md.startNodeAt=function(t,e){return new bg(this,t,e)};function Qk(t,e,i,s){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=s),this.options.ranges&&(t.range[1]=i),t}r(Qk,"finishNodeAt");Md.finishNode=function(t,e){return Qk.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Md.finishNodeAt=function(t,e,i,s){return Qk.call(this,t,e,i,s)};Md.copyNode=function(t){var e=new bg(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var Jk="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",Zk=Jk+" Extended_Pictographic",eE=Zk,tE=eE+" EBase EComp EMod EPres ExtPict",iE=tE,L1=iE,O1={9:Jk,10:Zk,11:eE,12:tE,13:iE,14:L1},Y1="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",V1={9:"",10:"",11:"",12:"",13:"",14:Y1},Dk="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",rE="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",sE=rE+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",oE=sE+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",nE=oE+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",aE=nE+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",F1=aE+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",U1={9:rE,10:sE,11:oE,12:nE,13:aE,14:F1},cE={};function W1(t){var e=cE[t]={binary:Ki(O1[t]+" "+Dk),binaryOfStrings:Ki(V1[t]),nonBinary:{General_Category:Ki(Dk),Script:Ki(U1[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}r(W1,"buildUnicodeData");for(fg=0,dw=[9,10,11,12,13,14];fg<dw.length;fg+=1)Bk=dw[fg],W1(Bk);var Bk,fg,dw,N=be.prototype,_g=r(function(e,i){this.parent=e,this.base=i||this},"BranchID");_g.prototype.separatedFrom=r(function(e){for(var i=this;i;i=i.parent)for(var s=e;s;s=s.parent)if(i.base===s.base&&i!==s)return!0;return!1},"separatedFrom");_g.prototype.sibling=r(function(){return new _g(this.parent,this.base)},"sibling");var Kt=r(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=cE[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null},"RegExpValidationState");Kt.prototype.reset=r(function(e,i,s){var o=s.indexOf("v")!==-1,c=s.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=s,o&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=c&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=c&&this.parser.options.ecmaVersion>=9)},"reset");Kt.prototype.raise=r(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Kt.prototype.at=r(function(e,i){i===void 0&&(i=!1);var s=this.source,o=s.length;if(e>=o)return-1;var c=s.charCodeAt(e);if(!(i||this.switchU)||c<=55295||c>=57344||e+1>=o)return c;var p=s.charCodeAt(e+1);return p>=56320&&p<=57343?(c<<10)+p-56613888:c},"at");Kt.prototype.nextIndex=r(function(e,i){i===void 0&&(i=!1);var s=this.source,o=s.length;if(e>=o)return o;var c=s.charCodeAt(e),p;return!(i||this.switchU)||c<=55295||c>=57344||e+1>=o||(p=s.charCodeAt(e+1))<56320||p>57343?e+1:e+2},"nextIndex");Kt.prototype.current=r(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Kt.prototype.lookahead=r(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Kt.prototype.advance=r(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Kt.prototype.eat=r(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");Kt.prototype.eatChars=r(function(e,i){i===void 0&&(i=!1);for(var s=this.pos,o=0,c=e;o<c.length;o+=1){var p=c[o],f=this.at(s,i);if(f===-1||f!==p)return!1;s=this.nextIndex(s,i)}return this.pos=s,!0},"eatChars");N.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,s=!1,o=!1,c=0;c<i.length;c++){var p=i.charAt(c);e.indexOf(p)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(p,c+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),p==="u"&&(s=!0),p==="v"&&(o=!0)}this.options.ecmaVersion>=15&&s&&o&&this.raise(t.start,"Invalid regular expression flag")};function G1(t){for(var e in t)return!0;return!1}r(G1,"hasProp");N.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&G1(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};N.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var s=i[e];t.groupNames[s]||t.raise("Invalid named capture referenced")}};N.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new _g(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};N.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};N.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};N.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};N.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};N.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};N.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var s=0,o=-1;if(this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue),t.eat(125)))return o!==-1&&o<s&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};N.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};N.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};N.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};N.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};N.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};N.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};N.regexp_eatSyntaxCharacter=function(t){var e=t.current();return lE(e)?(t.lastIntValue=e,t.advance(),!0):!1};function lE(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}r(lE,"isSyntaxCharacter");N.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!lE(i);)t.advance();return t.pos!==e};N.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};N.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(e)for(var s=0,o=i;s<o.length;s+=1){var c=o[s];c.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};N.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};N.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=zi(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=zi(t.lastIntValue);return!0}return!1};N.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),s===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),H1(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)};function H1(t){return mi(t,!0)||t===36||t===95}r(H1,"isRegExpIdentifierStart");N.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),s===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),j1(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)};function j1(t){return Xs(t,!0)||t===36||t===95||t===8204||t===8205}r(j1,"isRegExpIdentifierPart");N.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};N.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};N.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};N.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};N.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};N.regexp_eatZero=function(t){return t.current()===48&&!gg(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};N.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};N.regexp_eatControlLetter=function(t){var e=t.current();return pE(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function pE(t){return t>=65&&t<=90||t>=97&&t<=122}r(pE,"isControlLetter");N.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,s=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(s&&o>=55296&&o<=56319){var c=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var p=t.lastIntValue;if(p>=56320&&p<=57343)return t.lastIntValue=(o-55296)*1024+(p-56320)+65536,!0}t.pos=c,t.lastIntValue=o}return!0}if(s&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&$1(t.lastIntValue))return!0;s&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function $1(t){return t>=0&&t<=1114111}r($1,"isValidUnicode");N.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};N.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var uE=0,hi=1,pt=2;N.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(q1(e))return t.lastIntValue=-1,t.advance(),hi;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var s;if(t.eat(123)&&(s=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&s===pt&&t.raise("Invalid property name"),s;t.raise("Invalid property name")}return uE};function q1(t){return t===100||t===68||t===115||t===83||t===119||t===87}r(q1,"isCharacterClassEscape");N.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,s),hi}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,o)}return uE};N.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Ad(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};N.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return hi;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return pt;t.raise("Invalid property name")};N.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";fE(e=t.current());)t.lastStringValue+=zi(e),t.advance();return t.lastStringValue!==""};function fE(t){return pE(t)||t===95}r(fE,"isUnicodePropertyNameCharacter");N.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";K1(e=t.current());)t.lastStringValue+=zi(e),t.advance();return t.lastStringValue!==""};function K1(t){return fE(t)||gg(t)}r(K1,"isUnicodePropertyValueCharacter");N.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};N.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===pt&&t.raise("Negated character class may contain strings"),!0}return!1};N.regexp_classContents=function(t){return t.current()===93?hi:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),hi)};N.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};N.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||dE(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var s=t.current();return s!==93?(t.lastIntValue=s,t.advance(),!0):!1};N.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};N.regexp_classSetExpression=function(t){var e=hi,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===pt&&(e=pt);for(var s=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==pt&&(e=hi);continue}t.raise("Invalid character in character class")}if(s!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(s!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===pt&&(e=pt)}};N.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var s=t.lastIntValue;return i!==-1&&s!==-1&&i>s&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};N.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?hi:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};N.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),s=this.regexp_classContents(t);if(t.eat(93))return i&&s===pt&&t.raise("Negated character class may contain strings"),s;t.pos=e}if(t.eat(92)){var o=this.regexp_eatCharacterClassEscape(t);if(o)return o;t.pos=e}return null};N.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};N.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===pt&&(e=pt);return e};N.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?hi:pt};N.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&z1(i)||X1(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function z1(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}r(z1,"isClassSetReservedDoublePunctuatorCharacter");function X1(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}r(X1,"isClassSetSyntaxCharacter");N.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return Q1(e)?(t.lastIntValue=e,t.advance(),!0):!1};function Q1(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}r(Q1,"isClassSetReservedPunctuator");N.regexp_eatClassControlLetter=function(t){var e=t.current();return gg(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};N.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};N.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;gg(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function gg(t){return t>=48&&t<=57}r(gg,"isDecimalDigit");N.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;mE(i=t.current());)t.lastIntValue=16*t.lastIntValue+hE(i),t.advance();return t.pos!==e};function mE(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}r(mE,"isHexDigit");function hE(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}r(hE,"hexToInt");N.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};N.regexp_eatOctalDigit=function(t){var e=t.current();return dE(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function dE(t){return t>=48&&t<=55}r(dE,"isOctalDigit");N.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var s=0;s<e;++s){var o=t.current();if(!mE(o))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+hE(o),t.advance()}return!0};var Ew=r(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new xg(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),W=be.prototype;W.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ew(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};W.getToken=function(){return this.next(),new Ew(this)};typeof Symbol<"u"&&(W[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===d.eof,value:e}}}});W.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(d.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};W.readToken=function(t){return mi(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};W.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};W.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var s=void 0,o=e;(s=Yk(this.input,o,this.pos))>-1;)++this.curLine,o=this.lineStart=s;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};W.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),s=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Qs(s);)s=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};W.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&Vk.test(String.fromCharCode(t)))++this.pos;else break e}}};W.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};W.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(d.ellipsis)):(++this.pos,this.finishToken(d.dot))};W.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(d.assign,2):this.finishOp(d.slash,1)};W.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,s=t===42?d.star:d.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,s=d.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(d.assign,i+1):this.finishOp(s,i)};W.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(d.assign,3)}return this.finishOp(t===124?d.logicalOR:d.logicalAND,2)}return e===61?this.finishOp(d.assign,2):this.finishOp(t===124?d.bitwiseOR:d.bitwiseAND,1)};W.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(d.assign,2):this.finishOp(d.bitwiseXOR,1)};W.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ut.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(d.incDec,2):e===61?this.finishOp(d.assign,2):this.finishOp(d.plusMin,1)};W.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(d.assign,i+1):this.finishOp(d.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(d.relational,i))};W.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(d.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(d.arrow)):this.finishOp(t===61?d.eq:d.prefix,1)};W.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(d.questionDot,2)}if(e===63){if(t>=12){var s=this.input.charCodeAt(this.pos+2);if(s===61)return this.finishOp(d.assign,3)}return this.finishOp(d.coalesce,2)}}return this.finishOp(d.question,1)};W.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),mi(e,!0)||e===92))return this.finishToken(d.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+zi(e)+"'")};W.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(d.parenL);case 41:return++this.pos,this.finishToken(d.parenR);case 59:return++this.pos,this.finishToken(d.semi);case 44:return++this.pos,this.finishToken(d.comma);case 91:return++this.pos,this.finishToken(d.bracketL);case 93:return++this.pos,this.finishToken(d.bracketR);case 123:return++this.pos,this.finishToken(d.braceL);case 125:return++this.pos,this.finishToken(d.braceR);case 58:return++this.pos,this.finishToken(d.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(d.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(d.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+zi(t)+"'")};W.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};W.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var s=this.input.charAt(this.pos);if(ut.test(s)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(s==="[")e=!0;else if(s==="]"&&e)e=!1;else if(s==="/"&&!e)break;t=s==="\\"}++this.pos}var o=this.input.slice(i,this.pos);++this.pos;var c=this.pos,p=this.readWord1();this.containsEsc&&this.unexpected(c);var f=this.regexpState||(this.regexpState=new Kt(this));f.reset(i,o,p),this.validateRegExpFlags(f),this.validateRegExpPattern(f);var m=null;try{m=new RegExp(o,p)}catch{}return this.finishToken(d.regexp,{pattern:o,flags:p,value:m})};W.readInt=function(t,e,i){for(var s=this.options.ecmaVersion>=12&&e===void 0,o=i&&this.input.charCodeAt(this.pos)===48,c=this.pos,p=0,f=0,m=0,_=e==null?1/0:e;m<_;++m,++this.pos){var x=this.input.charCodeAt(this.pos),b=void 0;if(s&&x===95){o&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),f===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),m===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),f=x;continue}if(x>=97?b=x-97+10:x>=65?b=x-65+10:x>=48&&x<=57?b=x-48:b=1/0,b>=t)break;f=x,p=p*t+b}return s&&f===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===c||e!=null&&this.pos-c!==e?null:p};function J1(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}r(J1,"stringToNumber");function _E(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}r(_E,"stringToBigInt");W.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=_E(this.input.slice(e,this.pos)),++this.pos):mi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(d.num,i)};W.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var s=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&s===110){var o=_E(this.input.slice(e,this.pos));return++this.pos,mi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(d.num,o)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),s===46&&!i&&(++this.pos,this.readInt(10),s=this.input.charCodeAt(this.pos)),(s===69||s===101)&&!i&&(s=this.input.charCodeAt(++this.pos),(s===43||s===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),mi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var c=J1(this.input.slice(e,this.pos),i);return this.finishToken(d.num,c)};W.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};W.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var s=this.input.charCodeAt(this.pos);if(s===t)break;s===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):s===8232||s===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Qs(s)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(d.string,e)};var xE={};W.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===xE)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};W.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw xE;this.raise(t,e)};W.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===d.template||this.type===d.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(d.dollarBraceL)):(++this.pos,this.finishToken(d.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(d.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Qs(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};W.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(d.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};W.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return zi(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var s=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],o=parseInt(s,8);return o>255&&(s=s.slice(0,-1),o=parseInt(s,8)),this.pos+=s.length-1,e=this.input.charCodeAt(this.pos),(s!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-s.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(o)}return Qs(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};W.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};W.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,s=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=this.fullCharCodeAtPos();if(Xs(o,s))this.pos+=o<=65535?1:2;else if(o===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var c=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var p=this.readCodePoint();(e?mi:Xs)(p,s)||this.invalidStringToken(c,"Invalid Unicode escape"),t+=zi(p),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};W.readWord=function(){var t=this.readWord1(),e=d.name;return this.keywords.test(t)&&(e=gw[t]),this.finishToken(e,t)};var Z1="8.12.1";be.acorn={Parser:be,version:Z1,defaultOptions:xw,Position:Pd,SourceLocation:xg,getLineInfo:Uk,Node:bg,TokenType:$,tokTypes:d,keywordTypes:gw,TokContext:kt,tokContexts:le,isIdentifierChar:Xs,isIdentifierStart:mi,Token:Ew,isNewLine:Qs,lineBreak:ut,lineBreakG:I1,nonASCIIwhitespace:Vk};function yE(t,e){return be.parse(t,e)}r(yE,"parse");var bE={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var eP="Utils",Cw,M=class{static load(e){Cw=e}static get shim(){if(!Cw)throw new Error("Platform is not loaded");return Cw}};r(M,"Platform");var g=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=M.shim.info.version}};r(g,"InnertubeError");var Ze=class extends g{};r(Ze,"ParsingError");var Dd=class extends g{};r(Dd,"MissingParamError");var wg=class extends g{};r(wg,"OAuth2Error");var Et=class extends Error{};r(Et,"PlayerError");var Rr=class extends Error{};r(Rr,"SessionError");var Vs=class extends Error{};r(Vs,"ChannelError");function Vd(t,e){return Reflect.ownKeys(t).some(s=>{let o=e[s]instanceof a;return!o&&typeof e[s]=="object"?JSON.stringify(t[s])===JSON.stringify(e[s]):t[s]===(o?e[s].toString():e[s])})}r(Vd,"deepCompare");function He(t,e,i){let s=new RegExp(`${Pw(e)}(.*?)${Pw(i)}`,"s"),o=t.match(s);return o?o[1]:void 0}r(He,"getStringBetweenStrings");function Pw(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}r(Pw,"escapeStringRegexp");function Bd(t){let e=bE[t],i=Math.floor(Math.random()*e.length);return e[i]}r(Bd,"getRandomUserAgent");async function tP(t){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),s=[i,t,e].join(" "),o=await M.shim.sha1Hash(s);return["SAPISIDHASH",[i,o].join("_")].join(" ")}r(tP,"generateSidAuth");function Qi(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let s=0;s<t;s++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}r(Qi,"generateRandomString");function Te(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}r(Te,"timeToSeconds");function aw(...t){let e=new yi;for(let i of t)if(!!i)for(let s of i){let o=e.get(s[0]);if(o){e.set(s[0],[...o,...s[1]]);continue}e.set(...s)}return e}r(aw,"concatMemos");function eo(t){for(let[e,i]of Object.entries(t))if(!i)throw new Dd(`${e} is missing`)}r(eo,"throwIfMissing");function iP(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}r(iP,"hasKeys");async function*Ng(t){let e=t.getReader();try{for(;;){let{done:i,value:s}=await e.read();if(i)return;yield s}}finally{e.releaseLock()}}r(Ng,"streamToIterable");var rP=r((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),s=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,o=[...s],c=e!=null&&e.body?typeof e.body=="string"?s.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",p=o.length>0?`${o.map(([f,m])=>`    ${f}: ${m}`).join(`
`)}`:"    (none)";return Qt(eP,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${p}
' + 
    '  body:
${c}`),M.shim.fetch(t,e)},"debugFetch");function ti(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}r(ti,"u8ToBase64");function no(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),i=e.padEnd(e.length+(4-e.length%4)%4,"=");return new Uint8Array(atob(i).split("").map(s=>s.charCodeAt(0)))}r(no,"base64ToU8");function Ve(t){return!("emoji"in t)}r(Ve,"isTextRun");function sP(t,e,i=!1){let s=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,o=t.match(new RegExp(s));return o?o[2]:void 0}r(sP,"getCookie");function Ld(t,e){return yE(t,{ecmaVersion:2020,...e})}r(Ld,"parseScript");function Ji(t,e){let{name:i,includes:s,regexp:o,ast:c}=e,f=[c||Ld(t,{ecmaVersion:2020})];for(let m=0;m<f.length;m++){let _=f[m];if(_.type==="ExpressionStatement"&&_.expression.type==="AssignmentExpression"&&_.expression.left.type==="Identifier"&&_.expression.right.type==="FunctionExpression"){let x=t.substring(_.start,_.end);if(i&&_.expression.left.name===i||s&&x.includes(s)||o&&o.test(x))return{start:_.start,end:_.end,name:_.expression.left.name,node:_,result:x}}for(let x in _){let b=_[x];Array.isArray(b)?f.push(...b):typeof b=="object"&&b!==null&&f.push(b)}}}r(Ji,"findFunction");function Mr(t,e){let i=e.ast?e.ast:Ld(t,{ecmaVersion:"latest",ranges:!0}),s;function o(c){var p,f,m;if(!s){if(c.type==="VariableDeclaration"){let[_,x]=c.range,b=t.slice(_,x);for(let w of c.declarations)if(w.id.type==="Identifier"){let v=w.id.name;if(e.name&&v===e.name){s={start:_,end:x,name:v,node:c,result:b};return}}if(e.includes&&b.includes(e.includes)||e.regexp&&e.regexp.test(b)){s={start:_,end:x,name:(m=(f=(p=c.declarations)==null?void 0:p[0])==null?void 0:f.id)==null?void 0:m.name,node:c,result:b};return}}for(let _ in c)if(Object.prototype.hasOwnProperty.call(c,_)){let x=c[_];if(Array.isArray(x)){for(let b of x)if(b&&typeof b.type=="string"&&(o(b),s))return}else if(x&&typeof x.type=="string"&&(o(x),s))return}}}return r(o,"walk"),o(i),s}r(Mr,"findVariable");async function Nw(t){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(s){let o=new Uint8Array(s),c=[];for(let p=0;p<o.length;++p)c.push(e[o[p]]);return c.join("")}return r(i,"hex"),i(await crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))}r(Nw,"sha1Hash");var Tg,gE,wE,vg=class{constructor(e){Tg.add(this),this.session=e}async stats(e,i,s){let o=new URL(e);o.searchParams.set("ver","2"),o.searchParams.set("c",i.client_name.toLowerCase()),o.searchParams.set("cbrver",i.client_version),o.searchParams.set("cver",i.client_version);for(let c of Object.keys(s))o.searchParams.set(c,s[c]);return await this.session.http.fetch(o)}async execute(e,i){var p,f;let s;if(i&&!i.protobuf){if(s={...i},Reflect.has(s,"browseId")&&!i.skip_auth_check&&u(this,Tg,"m",wE).call(this,s.browseId)&&!this.session.logged_in)throw new g("You must be signed in to perform this operation.");Reflect.has(s,"skip_auth_check")&&delete s.skip_auth_check,Reflect.has(s,"override_endpoint")&&delete s.override_endpoint,Reflect.has(s,"parse")&&delete s.parse,Reflect.has(s,"request")&&delete s.request,Reflect.has(s,"clientActions")&&delete s.clientActions,Reflect.has(s,"settingItemIdForClient")&&delete s.settingItemIdForClient,Reflect.has(s,"action")&&(s.actions=[s.action],delete s.action),Reflect.has(s,"boolValue")&&(s.newValue={boolValue:s.boolValue},delete s.boolValue),Reflect.has(s,"token")&&(s.continuation=s.token,delete s.token),(s==null?void 0:s.client)==="YTMUSIC"&&(s.isAudioOnly=!0)}else i&&(s=i.serialized_data);let o=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,c=await this.session.http.fetch(o,{method:"POST",body:i!=null&&i.protobuf?s:JSON.stringify(s||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let m=l.parseResponse(await c.json());if(u(this,Tg,"m",gE).call(this,m)&&((f=(p=m.on_response_received_actions)==null?void 0:p[0])==null?void 0:f.type)==="navigateAction"){let _=m.on_response_received_actions.firstOfType(Oi);_&&(m=await _.endpoint.call(this,{parse:!0}))}return m}return{success:c.ok,status_code:c.status,data:JSON.parse(await c.text())}}};r(vg,"Actions");Tg=new WeakSet,gE=r(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),wE=r(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var Aw=vg;var Ge="Player",Xe=class{constructor(e,i,s,o,c){this.player_id=e,this.sts=i,this.nsig_sc=c,this.sig_sc=o,this.evaluator=s}static async create(e,i,s=M.shim.fetch,o,c){if(!c){let k=new URL("/iframe_api",ie.URLS.YT_BASE),C=await s(k);if(!C.ok)throw new Et(`Failed to get player id: ${C.status} (${C.statusText})`);let E=await C.text();c=He(E,"player\\/","\\/")}if(D.info(Ge,`Using player id (${c}). Checking for cached players..`),!c)throw new Et("Failed to get player id");if(e){let k=await Xe.fromCache(e,c,i);if(k)return D.info(Ge,"Found up-to-date player data in cache."),k.po_token=o,k}let p=new URL(`/s/player/${c}/player_ias.vflset/en_US/base.js`,ie.URLS.YT_BASE);D.info(Ge,`Could not find any cached player. Will download a new player from ${p}.`);let f=await s(p,{headers:{"user-agent":Bd("desktop")}});if(!f.ok)throw new Et(`Failed to get player data: ${f.status}`);let m=await f.text(),_=Ld(m,{ecmaVersion:"latest",ranges:!0}),x=this.extractSigTimestamp(m),b=this.extractGlobalVariable(m,_),w=this.extractSigSourceCode(m,b),v=this.extractNSigSourceCode(m,_,b);D.info(Ge,`Got signature timestamp (${x}) and algorithms needed to decipher signatures.`),D.info(Ge,w),D.info(Ge,v);let I=await Xe.fromSource(c,x,i,e,w,v);return I.po_token=o,D.info(Ge,`Got ptoken (${o})`),I}async decipher(e,i,s,o){if(e=e||i||s,!e)throw new Et("No valid URL to decipher");let c=new URLSearchParams(e),p=new URL(c.get("url")||e);if(this.sig_sc&&(i||s)){let x=await this.evaluator(this.sig_sc,{sig:c.get("s")});if(D.info(Ge,`Transformed signature from ${c.get("s")} to ${x}.`),typeof x!="string")throw new Et("Failed to decipher signature");let b=c.get("sp");b?p.searchParams.set(b,x):p.searchParams.set("signature",x)}let f=p.searchParams.get("n");if(this.nsig_sc&&f){let x;if(o&&o.has(f))x=o.get(f);else{if(x=await this.evaluator(this.nsig_sc,{nsig:f}),D.info(Ge,`Transformed n signature from ${f} to ${x}.`),f===x&&(D.info(Ge,this.nsig_sc),D.warn(Ge,"Nsig was not transformed. This is likely a sign that the player has been updated.")),typeof x!="string")throw new Et("Failed to decipher nsig");x.startsWith("enhanced_except_")?D.warn(Ge,"Something went wrong while deciphering nsig."):o&&o.set(f,x)}p.searchParams.set("n",x)}switch(p.searchParams.get("sabr")!=="1"&&this.po_token&&p.searchParams.set("pot",this.po_token),p.searchParams.get("c")){case"WEB":p.searchParams.set("cver",ie.CLIENTS.WEB.VERSION);break;case"MWEB":p.searchParams.set("cver",ie.CLIENTS.MWEB.VERSION);break;case"WEB_REMIX":p.searchParams.set("cver",ie.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":p.searchParams.set("cver",ie.CLIENTS.WEB_KIDS.VERSION);break;case"TVHTML5":p.searchParams.set("cver",ie.CLIENTS.TV.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":p.searchParams.set("cver",ie.CLIENTS.TV_EMBEDDED.VERSION);break;case"WEB_EMBEDDED_PLAYER":p.searchParams.set("cver",ie.CLIENTS.WEB_EMBEDDED.VERSION);break}let _=p.toString();return D.info(Ge,`Deciphered URL: ${_}`),p.toString()}static async fromCache(e,i,s){let o=await e.get(i);if(!o)return null;let c=new DataView(o);if(c.getUint32(0,!0)!==Xe.LIBRARY_VERSION)return null;let f=c.getUint32(4,!0),m=c.getUint32(8,!0),_=o.slice(12,12+m),x=o.slice(12+m),b=dt.decompress(new TextDecoder().decode(_)),w=dt.decompress(new TextDecoder().decode(x));return new Xe(i,f,s,b,w)}static async fromSource(e,i,s,o,c,p){let f=new Xe(e,i,s,c,p);return await f.cache(o),f}async cache(e){if(!e||!this.sig_sc||!this.nsig_sc)return;let i=new TextEncoder,s=i.encode(dt.compress(this.sig_sc)),o=i.encode(dt.compress(this.nsig_sc)),c=new ArrayBuffer(12+s.byteLength+o.byteLength),p=new DataView(c);p.setUint32(0,Xe.LIBRARY_VERSION,!0),p.setUint32(4,this.sts,!0),p.setUint32(8,s.byteLength,!0),new Uint8Array(c).set(s,12),new Uint8Array(c).set(o,12+s.byteLength),await e.set(this.player_id,c)}static extractSigTimestamp(e){return parseInt(He(e,"signatureTimestamp:",",")||"0")}static extractGlobalVariable(e,i){let s=Mr(e,{includes:"-_w8_",ast:i});return s||(s=Mr(e,{includes:"Untrusted URL{",ast:i})),s||(s=Mr(e,{includes:"1969",ast:i})),s||(s=Mr(e,{includes:"1970",ast:i})),s||(s=Mr(e,{includes:"playerfallback",ast:i})),s}static fixSource(e){return e=e.replace(/if\(typeof [a-zA-Z0-9_$]*===.*?\)return [a-zA-Z0-9_$]*;/g,""),e}static extractSigSourceCode(e,i){var x,b;let s=/function\(([A-Za-z_0-9]+)\)\{([A-Za-z_0-9]+=[A-Za-z_0-9]+\.split\((?:[^)]+)\)(.+?)\.join\((?:[^)]+)\))\}/,o=(x=i==null?void 0:i.name)==null?void 0:x.replace(/[$^\\.*+?()[\]{}|]/g,"\\$&"),c=o?new RegExp(`function\\(([A-Za-z_0-9]+)\\)\\{([A-Za-z_0-9]+=[A-Za-z_0-9]+\\[${o}\\[\\d+\\]\\]\\([^)]*\\)([\\s\\S]+?)\\[${o}\\[\\d+\\]\\]\\([^)]*\\))\\}`):null,p=e.match(s)||(c?e.match(c):null);if(!p){D.warn(Ge,"Failed to extract signature decipher algorithm.");return}let f=p[1],m=(b=p[3].split(/\.|\[/)[0])==null?void 0:b.replace(";","").trim(),_=He(e,`var ${m}={`,"};");return(!_||!f)&&D.warn(Ge,"Failed to extract signature decipher algorithm."),`function sig_fn(sig) {${(i==null?void 0:i.result)||""} function descramble_sig(${f}) { let ${m}={${_}}; ${p[2]} } return descramble_sig(sig);}`}static extractNSigSourceCode(e,i,s){let o;if(s&&(o=Ji(e,{includes:`new Date(${s.name}`,ast:i}),o||(o=Ji(e,{includes:".push(String.fromCharCode(",ast:i})),o||(o=Ji(e,{includes:".reverse().forEach(function",ast:i})),o))return`function nsig_fn(nsig) {${s.result} var ${this.fixSource(o.result)} return ${o.name}(nsig);}`;if(o=Ji(e,{includes:"-_w8_",ast:i}),o||(o=Ji(e,{includes:"1969",ast:i})),o||(o=Ji(e,{includes:"enhanced_except",ast:i})),o)return`function nsig_fn(nsig) {let ${this.fixSource(o.result)} return ${o.name}(nsig);}`}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,ie.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 14}};r(Xe,"Player");var mt=class{constructor(e){this.listenerBind=this.listener.bind(this),this.listeners=new Map;let i=window.location.origin,s=new URL(e).origin;if(i===s)throw new Error("Current frame must not share same origin as the runner frame");this.runnerFrame=document.createElement("iframe"),this.runnerFrame.credentialless=!0,this.runnerFrame.src=e,this.runnerFrame.style.display="none",document.body.appendChild(this.runnerFrame),window.addEventListener("message",this.listenerBind),this.readyPromise=new Promise(o=>{this.runnerFrame.addEventListener("load",()=>{o(),this.emit("ready")})}),this.timeout=null}async load(){return this.readyPromise}on(e,i){var s;this.listeners.has(e)||this.listeners.set(e,[]),(s=this.listeners.get(e))==null||s.push(i)}off(e,i){var c;if(!this.listeners.has(e))return;let s=this.listeners.get(e),o=(c=s==null?void 0:s.indexOf(i))!=null?c:-1;o!==-1&&(s==null||s.splice(o,1))}emit(e,...i){var o;if(!this.listeners.has(e))return;let s=(o=this.listeners.get(e))!=null?o:[];for(let c of s)c(...i)}setTimeout(e){this.timeout&&clearTimeout(this.timeout),e&&(this.timeout=window.setTimeout(()=>{this.close()},e))}listener(e){var i;e.source===((i=this.runnerFrame)==null?void 0:i.contentWindow)&&(e.data.type==="sandboxResult"?this.emit("result",e.data.result):e.data.type==="sandboxError"&&this.emit("error",e.data.error))}close(){!this.runnerFrame||(this.runnerFrame.remove(),window.removeEventListener("message",this.listenerBind),this.timeout&&clearTimeout(this.timeout),this.emit("close"))}async evaluate(e,i=[],s=[]){var o;return await this.readyPromise,(o=this.runnerFrame.contentWindow)==null||o.postMessage({type:"sandboxEvaluate",body:e,argNames:i,argValues:s},"*"),new Promise((c,p)=>{let f=null,m=null,_=null,x=r(()=>{f&&this.off("result",f),m&&this.off("error",m),_&&this.off("close",_)},"cleanup");f=r(b=>{x(),c(b)},"resultHandler"),m=r(b=>{x(),p(b)},"errorHandler"),_=r(()=>{x(),p(new Error("SandboxedEvaluator closed"))},"closeHandler"),this.on("result",f),this.on("error",m),this.on("close",_)})}static async evaluateOnce(e,i,s,o,c=5e3){let p=new mt(e);c&&p.setTimeout(c);try{let f=await p.evaluate(i,s,o);return p.close(),f}catch(f){throw p.close(),f}}static extractFnBodyAndArgs(e){let i=e.substring(e.indexOf("{")+1,e.lastIndexOf("}")),s=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(",").map(o=>o.trim());return{body:i,argNames:s}}static matchArgValues(e,i){return e.map(s=>{if(!!Object.hasOwn(i,s))return i[s]})}};r(mt,"SandboxedEvaluator");var TE="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36(KHTML, like Gecko)",Ct=class{static base64ToU8(e){let i={"-":"+",_:"/",".":"="},s;return/[-_.]/g.test(e)?s=e.replace(/[-_.]/g,c=>i[c]):s=e,s=atob(s),new Uint8Array([...s].map(c=>c.charCodeAt(0)))}static u8ToBase64(e,i=!1){let s=btoa(String.fromCharCode(...e));return i?s.replace(/\+/g,"-").replace(/\//g,"_"):s}static async createChallenge(e,i,s,o){let c=[i];s&&c.push(s);let p=await e(ie.URLS.YT_IT_BASE+ie.URLS.YT_IT_CREATE,{method:"POST",headers:{"Content-Type":"application/json+protobuf","User-Agent":TE,"x-goog-api-key":o,"x-user-agent":"grpc-web-javascript/0.1"},body:JSON.stringify(c)});if(!p.ok)throw new Error(`Failed to fetch: ${p.status}`);let f=await p.json();if(f.length>1&&f[1]){let m=Ct.parseChallenge(f[1]);if(m)return m}}static b64ToBuf(e){let i=Ct.base64ToU8(e);return i.length?new TextDecoder().decode(i.map(s=>s+97)):""}static stringToB64(e){let i=new TextEncoder().encode(e);return i=i.map(s=>s-97),Ct.u8ToBase64(i)}static parseChallenge(e){let i=Ct.b64ToBuf(e);if(i.length){let[s,o,,c,p,f]=JSON.parse(i);return{script:o,interpreterHash:c,globalName:f,challenge:p,messageId:s}}}static getFn1(){let e='(n){return(async()=>{const r=window[n.globalName];if(!r)throw new Error("V not found");const o={fn1:null,fn2:null,fn3:null,fn4:null};if(!r.a)throw new Error("Init failed");try{await r.a(n.challenge,(function(n,r,t,f){o.fn1=n,o.fn2=r,o.fn3=t,o.fn4=f}),!0,void 0,((...n)=>{}))}catch(n){throw new Error("Failed to load")}if(!o.fn1)throw new Error("fn1 unavailable.");let t=null;const f=[];if(await o.fn1((n=>{t=n}),[,,f]),!t)throw new Error("[BG]: No response");if(!f.length)throw new Error("No ppf");return window.ppf=f,t})()}';return mt.extractFnBodyAndArgs(e)}static getFn2(){let e='(r,e){const t=window.ppf[0];if(!t)throw new Error("PP:Undefined");return(async()=>{const n=await t((r=>{const e={"-":"+",_:"/",".":"="};let t;return t=/[-_.]/g.test(r)?r.replace(/[-_.]/g,(r=>e[r])):r,t=atob(t),new Uint8Array([...t].map((r=>r.charCodeAt(0))))})(r));if("function"!=typeof n)throw new Error("PP:failed");const o=((r,e=!1)=>{const t=btoa(String.fromCharCode(...r));return e?t.replace(/\\+/g,"-").replace(/\\//g,"_"):t})(await n((new TextEncoder).encode(e)),!0);if(o.length>80)return o;throw new Error("PT too small")})()}';return mt.extractFnBodyAndArgs(e.toString())}static async getPot(e=M.shim.fetch,i,s,o,c,p=!1){o||(o=ie.URLS.API.KEY2),c||(c=ie.URLS.API.KEY),s||(s=ei.encodeVisitorData(ao.generateRandomString(11),Math.floor(Date.now()/1e3)));let f=new mt(i),m=null,_=null,x=null;try{p||f.setTimeout(5e3),await f.load(),p||f.setTimeout(null);let b=await Ct.createChallenge(e,o,null,c);if(!b)throw new Error("C is incorrect");if(!b.script)throw new Error("CS is bad");let w=b.script.find(O=>O!==null);if(!w)throw new Error("CS is null");p||f.setTimeout(5e3),await f.evaluate(w,[],[]),p||f.setTimeout(5e3);let v=this.getFn1(),I=await f.evaluate(v.body,v.argNames,[b]);p||f.setTimeout(null);let k=[o,I],C=await e(ie.URLS.YT_IT_BASE+ie.URLS.YT_IT_GEN,{method:"POST",headers:{"Content-Type":"application/json+protobuf","x-goog-api-key":c,"x-user-agent":"grpc-web-javascript/0.1","User-Agent":TE,Accept:"*/*"},body:JSON.stringify(k)});if(!C.ok)throw new Error("It failed");let E=await C.json();if(!E.length||!E[0])throw new Error("It none");let Y=E[0];_=E[1],x=E[2],p||f.setTimeout(5e3);let Z=this.getFn2();m=await f.evaluate(Z.body,Z.argNames,[Y,s]),p||f.close()}catch(b){throw p||f.close(),b}return{pot:m,vd:s,requestToken:o,ttl:_,refresh:x}}};r(Ct,"BGUtils");var Dr,SE,kE,EE,vE,IE={WEB:"WEB",MWEB:"MWEB",KIDS:"WEB_KIDS",MUSIC:"WEB_REMIX",IOS:"iOS",ANDROID:"ANDROID",ANDROID_MUSIC:"ANDROID_MUSIC",ANDROID_CREATOR:"ANDROID_CREATOR",TV:"TVHTML5",TV_EMBEDDED:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",WEB_EMBEDDED:"WEB_EMBEDDED_PLAYER",WEB_CREATOR:"WEB_CREATOR"},_i="Session",Od=class extends ro{constructor(e,i,s,o,c,p,f,m,_,x){super(),this.context=e,this.api_key=i,this.api_version=s,this.account_index=o,this.config_data=c,this.player=p,this.cookie=f,this.cache=_,this.po_token=x,this.http=new Mg(this,f,m),this.actions=new Aw(this),this.logged_in=!!f,this.user_agent=e.client.userAgent}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static async create(e){let{context:i,api_key:s,api_version:o,account_index:c,config_data:p}=await Dr.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.user_agent,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache,e.po_token,e.retrieve_innertube_config),f=e.runner_location;if(e.client_type===IE.WEB){let _=localStorage.getItem("yt_tkn"),x,b,w=0,v=0;if(_){let I=JSON.parse(_);I.length>0&&(x=I[0],b=I[1],w=I[2],v=I[3])}if(!x||!b||b!==i.client.visitorData||!w||!v||v+w*1e3<Date.now())try{let I=await Ct.getPot(e.fetch,f,i.client.visitorData);x=I.pot,b=I.vd,w=I.ttl,v=Date.now(),localStorage.setItem("yt_tkn",JSON.stringify([x,b,w,v]))}catch(I){D.error(_i,"Failed to get PoT",I)}x&&(e.po_token=x)}let m=new Map;return e.evaluator=async(_,x)=>{let b=`${_}|${JSON.stringify(x)}`,w=m.get(b);if(w)return await w;let v=mt.extractFnBodyAndArgs(_),I=mt.evaluateOnce(f,v.body,v.argNames,Object.values(x));m.set(b,I);try{return await I}catch(k){console.error("Failed to fetch params"),console.error(k)}},new Dr(i,s,o,c,p,e.retrieve_player===!1?void 0:await Xe.create(e.cache,e.evaluator,e.fetch,e.po_token,e.player_id),e.cookie,e.fetch,e.cache,e.po_token)}static async fromCache(e,i){let s=await e.get("innertube_session_data");if(!s)return null;let o=new TextDecoder().decode(s.slice(4));try{let c=JSON.parse(dt.decompress(o));return i.visitor_data&&(c.context.client.visitorData=i.visitor_data),i.lang&&(c.context.client.hl=i.lang),i.location&&(c.context.client.gl=i.location),i.on_behalf_of_user&&(c.context.user.onBehalfOfUser=i.on_behalf_of_user),i.user_agent&&(c.context.client.userAgent=i.user_agent),c.context.client.timeZone=i.time_zone,c.context.client.platform=i.device_category.toUpperCase(),c.context.client.clientName=i.client_name,c.context.user.enableSafetyMode=i.enable_safety_mode,c}catch(c){return D.error(_i,"Failed to parse session data from cache.",c),null}}static async getSessionData(e="",i="",s=0,o="",c=Bd("desktop"),p=!1,f=!1,m="desktop",_=IE.WEB,x=Intl.DateTimeFormat().resolvedOptions().timeZone,b=M.shim.fetch,w,v,I=!0,k,C=!0){var Z,O,oe,ce,V,re,F;let E={lang:e,location:i,time_zone:x,user_agent:c,device_category:m,client_name:_,enable_safety_mode:p,visitor_data:o,on_behalf_of_user:w,po_token:k},Y;if(v&&I){let B=await this.fromCache(v,E);B&&(D.info(_i,"Found session data in cache."),Y=B)}if(!Y){D.info(_i,"Generating session data.");let B=U.WEB.API_KEY,q=U.WEB.API_VERSION,K={hl:e||"en",gl:i||"US",remote_host:"",user_agent:c,visitor_data:o||ei.encodeVisitorData(Qi(11),Math.floor(Date.now()/1e3)),client_name:_,client_version:U.WEB.VERSION,device_category:m.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:x,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:p};if(!f)try{let ne=await u(this,Dr,"m",kE).call(this,E,b);B=ne.api_key,q=ne.api_version,K=ne.context_data}catch(ne){D.error(_i,"Failed to retrieve session data from server. Session data generated locally will be used instead.",ne)}if(w&&(K.on_behalf_of_user=w),Y={api_key:B,api_version:q,context:u(this,Dr,"m",EE).call(this,K)},C)try{D.info(_i,"Retrieving InnerTube config data.");let ne={"Accept-Language":e,Accept:"*/*",Referer:ge.YT_BASE,"X-Goog-Visitor-Id":K.visitor_data,"X-Origin":ge.YT_BASE,"X-Youtube-Client-Version":K.client_version};M.shim.server&&(ne["User-Agent"]=c,ne.Origin=ge.YT_BASE);let Ce=await(await b(`${ge.API.PRODUCTION_1}v1/config?prettyPrint=false`,{headers:ne,method:"POST",body:JSON.stringify({context:Y.context})})).json(),Qe=(oe=(O=(Z=Ce.responseContext)==null?void 0:Z.globalConfigGroup)==null?void 0:O.rawColdConfigGroup)==null?void 0:oe.configData,Pe=(V=(ce=Ce.responseContext)==null?void 0:ce.globalConfigGroup)==null?void 0:V.coldHashData,Pt=(F=(re=Ce.responseContext)==null?void 0:re.globalConfigGroup)==null?void 0:F.hotHashData;Y.config_data=Ce.configData,Y.context.client.configInfo={...Y.context.client.configInfo,coldConfigData:Qe,coldHashData:Pe,hotHashData:Pt}}catch(ne){D.error(_i,"Failed to retrieve config data.",ne)}I&&await u(this,Dr,"m",SE).call(this,Y,v)}return D.debug(_i,"Session data:",Y),{...Y,account_index:s}}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};r(Od,"Session");Dr=Od,SE=r(async function(e,i){if(!i)return;D.info(_i,"Compressing and caching session data.");let s=new TextEncoder().encode(dt.compress(JSON.stringify(e))),o=new ArrayBuffer(4+s.byteLength);new DataView(o).setUint32(0,s.byteLength,!0),new Uint8Array(o).set(s,4),await i.set("innertube_session_data",o)},"_Session_storeSession"),kE=r(async function(e,i=M.shim.fetch){let s=Qi(11);e.visitor_data&&(s=u(this,Dr,"m",vE).call(this,e.visitor_data));let o=new URL("/sw.js_data",ge.YT_BASE),c=await i(o,{headers:{"Accept-Language":e.lang||"en-US","User-Agent":e.user_agent,Accept:"*/*",Referer:`${ge.YT_BASE}/sw.js`,Cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${s};`}});if(!c.ok)throw new Rr(`Failed to retrieve session data: ${c.status}`);let p=await c.text();if(!p.startsWith(")]}'"))throw new Rr("Invalid JSPB response");let m=JSON.parse(p.replace(/^\)\]\}'/,""))[0][2],_=U.WEB.API_VERSION,[[x],b]=m,w=x[61],v=w[w.length-1];return{context_data:{hl:e.lang||x[0],gl:e.location||x[1],remote_host:x[3],visitor_data:e.visitor_data||x[13],user_agent:e.user_agent,client_name:e.client_name,client_version:x[16],os_name:x[17],os_version:x[18],time_zone:x[79]||e.time_zone,device_category:e.device_category,browser_name:x[86],browser_version:x[87],device_make:x[11],device_model:x[12],app_install_data:v,device_experiment_id:x[103],rollout_token:x[107],enable_safety_mode:e.enable_safety_mode},api_key:b,api_version:_}},"_Session_getSessionData"),EE=r(function(e){let i={client:{hl:e.hl||"en",gl:e.gl||"US",remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,userAgent:e.user_agent,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:ge.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",rolloutToken:e.rollout_token,deviceExperimentId:e.device_experiment_id,mainAppWebInfo:{graftUrl:ge.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(i.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},"_Session_buildContext"),vE=r(function(e){return ei.decodeVisitorData(e).id},"_Session_getVisitorID");var Rw=Od;var Br,Ig=class extends Ys{constructor(e,i,s,o){var c;if(super(e,i,s),Br.set(this,void 0),o){let p=l.parseResponse(o.data);p.entries&&(this.watch_next_feed=p.entries),p.continuation_endpoint&&S(this,Br,(c=p.continuation_endpoint)==null?void 0:c.as(ai),"f")}}async getWatchNextContinuation(){var i;if(!u(this,Br,"f"))throw new g("Continuation not found");let e=await this.actions.execute("/reel/reel_watch_sequence",{sequenceParams:u(this,Br,"f").token,parse:!0});return e.entries&&(this.watch_next_feed=e.entries),S(this,Br,(i=e.continuation_endpoint)==null?void 0:i.as(ai),"f"),this}get wn_has_continuation(){return!!u(this,Br,"f")}};r(Ig,"ShortFormVideoInfo");Br=new WeakMap;var Mw=Ig;var zt,to=class{constructor(e){zt.set(this,void 0),S(this,zt,e,"f")}static async create(e){return new to(await Rw.create(e))}async getInfo(e,i){var w,v,I,k,C;eo({target:e});let s={videoId:e instanceof h?(w=e.payload)==null?void 0:w.videoId:e,playlistId:e instanceof h?(v=e.payload)==null?void 0:v.playlistId:void 0,playlistIndex:e instanceof h?(I=e.payload)==null?void 0:I.playlistIndex:void 0,params:e instanceof h?(k=e.payload)==null?void 0:k.params:void 0,racyCheckOk:!0,contentCheckOk:!0},o=new h({watchEndpoint:s}),c=new h({watchNextEndpoint:s}),p=u(this,zt,"f"),f={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(C=p.player)==null?void 0:C.sts}},client:i};p.po_token&&(f.serviceIntegrityDimensions={poToken:p.po_token});let m=o.call(p.actions,f),_=c.call(p.actions),x=await Promise.all([m,_]),b=Qi(16);return new kd(x,p.actions,b)}async getBasicInfo(e,i){var m;eo({video_id:e});let s=new h({watchEndpoint:{videoId:e}}),o=u(this,zt,"f"),c={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(m=o.player)==null?void 0:m.sts}},client:i};o.po_token&&(c.serviceIntegrityDimensions={poToken:o.po_token});let p=await s.call(o.actions,c),f=Qi(16);return new kd([p],o.actions,f)}async getShortsVideoInfo(e,i){eo({video_id:e});let s=new h({reelWatchEndpoint:{disablePlayerResponse:!1,params:"CAUwAg%3D%3D",videoId:e}}),o=u(this,zt,"f").actions,c=s.call(o,{client:i}),p=RT.encode({shortId:e,params:{number:5},feature2:25,feature3:0}),f=encodeURIComponent(ti(p.finish())),m=o.execute("/reel/reel_watch_sequence",{sequenceParams:f}),_=await Promise.all([c,m]),x=Qi(16);return new Mw([_[0]],o,x,_[1])}async getPlaylist(e){eo({id:e}),e.startsWith("VL")||(e=`VL${e}`);let s=await new h({browseEndpoint:{browseId:e}}).call(u(this,zt,"f").actions);return new Hs(this.actions,s)}async getStreamingData(e,i={}){let o=(await this.getBasicInfo(e,i==null?void 0:i.client)).chooseFormat(i);return o.url=await o.decipher(u(this,zt,"f").player),o}async download(e,i){return(await this.getBasicInfo(e,i==null?void 0:i.client)).download(i)}async resolveURL(e){let i=await this.actions.execute("/navigation/resolve_url",{url:e,parse:!0});if(!i.endpoint)throw new g("Failed to resolve URL. Expected a NavigationEndpoint but got undefined",i);return i.endpoint}async getAttestationChallenge(e,i){let s={engagementType:e};return i&&(s.ids=i),this.actions.execute("/att/get",{parse:!0,...s})}call(e,i){return e.call(this.actions,i)}get actions(){return u(this,zt,"f").actions}get session(){return u(this,zt,"f")}};r(to,"Innertube");zt=new WeakMap;var Dw=to;var CE={};var PE=Dw;var Yd,Sg,kg,Eg,oP="Cache",Cg=class{constructor(e=!1,i){Yd.add(this),Sg.set(this,void 0),kg.set(this,void 0),S(this,Sg,i||"","f"),S(this,kg,e,"f")}get cache_dir(){return u(this,kg,"f")?u(this,Sg,"f"):""}async get(e){let i=await u(this,Yd,"m",Eg).call(this);if(!!i)return new Promise((s,o)=>{let c=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);c.onerror=o,c.onsuccess=function(){var f;let p=(f=this.result)==null?void 0:f.v;p instanceof ArrayBuffer?s(p):ArrayBuffer.isView(p)?s(p.buffer):s(void 0)}})}async set(e,i){let s=await u(this,Yd,"m",Eg).call(this);if(!!s)return new Promise((o,c)=>{let p=s.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});p.onerror=c,p.onsuccess=()=>o()})}async remove(e){let i=await u(this,Yd,"m",Eg).call(this);if(!!i)return new Promise((s,o)=>{let c=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);c.onerror=o,c.onsuccess=()=>s()})}};r(Cg,"Cache");Sg=new WeakMap,kg=new WeakMap,Yd=new WeakSet,Eg=r(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,s)=>{let o=e.open("youtubei.js",1);o.onsuccess=function(){i(this.result)},o.onerror=function(c){s("indexedDB request error"),console.error(c)},o.onupgradeneeded=function(){let c=this.result.createObjectStore("kv-store",{keyPath:"k"});c.transaction.oncomplete=function(){i(this.db)}}}):Qt(oP,"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");M.load({runtime:"browser",server:!1,info:{version:"10.3.0",bugs_url:"https://github.com/LuanRT/YouTube.js/issues",repo_url:"https://github.com/LuanRT/YouTube.js"},Cache:Cg,sha1Hash:Nw,uuidv4(){var t;return(t=globalThis.crypto)!=null&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var fEe=PE;export{Nk as APIResponseTypes,Aw as Actions,Le as AppendContinuationItemsAction,IE as ClientType,ie as Constants,br as Continuation,ai as ContinuationCommand,ro as EventEmitter,rr as FormatUtils,Zg as Generator,Ms as GridContinuation,Mg as HTTPClient,Pg as Helpers,Dw as Innertube,Cs as ItemSectionContinuation,dt as LZW,Yi as LiveChatContinuation,D as Log,fw as Misc,cw as Mixins,As as MusicPlaylistShelfContinuation,Rs as MusicShelfContinuation,Oi as NavigateAction,l as Parser,M as Platform,Xe as Player,Ds as PlaylistPanelContinuation,ei as ProtoUtils,Me as ReloadContinuationItemsCommand,Ns as SectionListContinuation,Rw as Session,Ps as ShowMiniplayerCommand,CE as Types,VE as UniversalCache,ao as Utils,uw as YT,dr as YTNodes,fEe as default};