/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var x0=Object.defineProperty;var r=(t,e)=>x0(t,"name",{value:e,configurable:!0});var be=(t,e)=>{for(var i in e)x0(t,i,{get:e[i],enumerable:!0})};function y0(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(i[o[n]]=t[o[n]]);return i}r(y0,"__rest");function b0(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}r(b0,"__setFunctionName");function I(t,e,i,o){function n(a){return a instanceof i?a:new i(function(c){c(a)})}return r(n,"adopt"),new(i||(i=Promise))(function(a,c){function p(h){try{_(o.next(h))}catch(g){c(g)}}r(p,"fulfilled");function d(h){try{_(o.throw(h))}catch(g){c(g)}}r(d,"rejected");function _(h){h.done?a(h.value):n(h.value).then(p,d)}r(_,"step"),_((o=o.apply(t,e||[])).next())})}r(I,"__awaiter");function g0(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}r(g0,"__values");function Di(t){return this instanceof Di?(this.v=t,this):new Di(t)}r(Di,"__await");function w0(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),n,a=[];return n={},c("next"),c("throw"),c("return"),n[Symbol.asyncIterator]=function(){return this},n;function c(y){o[y]&&(n[y]=function(w){return new Promise(function(S,T){a.push([y,w,S,T])>1||p(y,w)})})}function p(y,w){try{d(o[y](w))}catch(S){g(a[0][3],S)}}function d(y){y.value instanceof Di?Promise.resolve(y.value.v).then(_,h):g(a[0][2],y)}function _(y){p("next",y)}function h(y){p("throw",y)}function g(y,w){y(w),a.shift(),a.length&&p(a[0][0],a[0][1])}}r(w0,"__asyncGenerator");function T0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof g0=="function"?g0(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(a){i[a]=t[a]&&function(c){return new Promise(function(p,d){c=t[a](c),n(p,d,c.done,c.value)})}}function n(a,c,p,d){Promise.resolve(d).then(function(_){a({value:_,done:p})},c)}}r(T0,"__asyncValues");function f(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}r(f,"__classPrivateFieldGet");function E(t,e,i,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i}r(E,"__classPrivateFieldSet");var cg={};be(cg,{ChannelError:()=>Ar,InnertubeError:()=>b,MissingParamError:()=>vm,OAuth2Error:()=>Dx,ParsingError:()=>rt,Platform:()=>F,PlayerError:()=>wt,SessionError:()=>yo,base64ToU8:()=>Tg,concatMemos:()=>Og,debugFetch:()=>lS,deepCompare:()=>Pm,escapeStringRegexp:()=>Jg,generateRandomString:()=>bo,generateSidAuth:()=>aS,getCookie:()=>cS,getRandomUserAgent:()=>Ui,getStringBetweenStrings:()=>Re,hasKeys:()=>uS,isTextRun:()=>Ue,streamToIterable:()=>sg,throwIfMissing:()=>xm,timeToSeconds:()=>Se,u8ToBase64:()=>He});var ng={};be(ng,{Maybe:()=>Oi,Memo:()=>Qt,SuperParsedResult:()=>Ct,YTNode:()=>s,observe:()=>oe});var Xt,fe=class{static doLog(e,i,o){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let n=[`[${this.YTJS_TAG}]`];i&&n.push(`[${i}]`),this.log_map_[e](`${n.join("")}:`,...o||[])}static setLevel(...e){this.log_level_=e}};r(fe,"Log");Xt=fe;fe.YTJS_TAG="YOUTUBEJS";fe.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};fe.log_map_={[fe.Level.ERROR]:(...t)=>console.error(...t),[fe.Level.WARNING]:(...t)=>console.warn(...t),[fe.Level.INFO]:(...t)=>console.info(...t),[fe.Level.DEBUG]:(...t)=>console.debug(...t)};fe.log_level_=[fe.Level.WARNING];fe.one_time_warnings_issued_=new Set;fe.warnOnce=(t,...e)=>{Xt.one_time_warnings_issued_.has(t)||(Xt.doLog(fe.Level.WARNING,t,e),Xt.one_time_warnings_issued_.add(t))};fe.warn=(t,...e)=>Xt.doLog(fe.Level.WARNING,t,e);fe.error=(t,...e)=>Xt.doLog(fe.Level.ERROR,t,e);fe.info=(t,...e)=>Xt.doLog(fe.Level.INFO,t,e);fe.debug=(t,...e)=>Xt.doLog(fe.Level.DEBUG,t,e);var O=fe;var og,k0,Te,rg,le,St,Ot,Li,I0=Symbol("ObservedArray.isObserved"),s=class{constructor(){og.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>f(this,og,"m",k0).call(this,i))}as(...e){if(!this.is(...e))throw new rt(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new rt(`Missing key ${e}`);return new Oi(this[e])}};r(s,"YTNode");og=new WeakSet,k0=r(function(e){return this.type===e.type},"_YTNode_is");s.type="YTNode";var Oi=class{constructor(e){Te.add(this),rg.set(this,"Maybe"),le.set(this,void 0),E(this,le,e,"f")}get typeof(){return typeof f(this,le,"f")}string(){return f(this,Te,"m",Ot).call(this,"string")}isString(){return f(this,Te,"m",St).call(this,"string")}number(){return f(this,Te,"m",Ot).call(this,"number")}isNumber(){return f(this,Te,"m",St).call(this,"number")}bigint(){return f(this,Te,"m",Ot).call(this,"bigint")}isBigint(){return f(this,Te,"m",St).call(this,"bigint")}boolean(){return f(this,Te,"m",Ot).call(this,"boolean")}isBoolean(){return f(this,Te,"m",St).call(this,"boolean")}symbol(){return f(this,Te,"m",Ot).call(this,"symbol")}isSymbol(){return f(this,Te,"m",St).call(this,"symbol")}undefined(){return f(this,Te,"m",Ot).call(this,"undefined")}isUndefined(){return f(this,Te,"m",St).call(this,"undefined")}null(){if(f(this,le,"f")!==null)throw new TypeError(`Expected null, got ${typeof f(this,le,"f")}`);return f(this,le,"f")}isNull(){return f(this,le,"f")===null}object(){return f(this,Te,"m",Ot).call(this,"object")}isObject(){return f(this,Te,"m",St).call(this,"object")}function(){return f(this,Te,"m",Ot).call(this,"function")}isFunction(){return f(this,Te,"m",St).call(this,"function")}array(){if(!Array.isArray(f(this,le,"f")))throw new TypeError(`Expected array, got ${typeof f(this,le,"f")}`);return f(this,le,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new Oi(Reflect.get(i,o))}})}isArray(){return Array.isArray(f(this,le,"f"))}node(){if(!(f(this,le,"f")instanceof s))throw new TypeError(`Expected YTNode, got ${f(this,le,"f").constructor.name}`);return f(this,le,"f")}isNode(){return f(this,le,"f")instanceof s}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof f(this,le,"f")}`);return f(this,le,"f")}isObserved(){var e;return(e=f(this,le,"f"))===null||e===void 0?void 0:e[I0]}parsed(){if(!(f(this,le,"f")instanceof Ct))throw new TypeError(`Expected SuperParsedResult, got ${typeof f(this,le,"f")}`);return f(this,le,"f")}isParsed(){return f(this,le,"f")instanceof Ct}any(){return O.warn(f(this,rg,"f"),"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),f(this,le,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${f(this,le,"f").constructor.name}`);return f(this,le,"f")}isInstanceof(e){return f(this,le,"f")instanceof e}};r(Oi,"Maybe");rg=new WeakMap,le=new WeakMap,Te=new WeakSet,St=r(function(e){return typeof f(this,le,"f")===e},"_Maybe_checkPrimative"),Ot=r(function(e){if(!f(this,Te,"m",St).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return f(this,le,"f")},"_Maybe_assertPrimative");var Ct=class{constructor(e){Li.set(this,void 0),E(this,Li,e,"f")}get is_null(){return f(this,Li,"f")===null}get is_array(){return!this.is_null&&Array.isArray(f(this,Li,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return f(this,Li,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return f(this,Li,"f")}};r(Ct,"SuperParsedResult");Li=new WeakMap;function oe(t){return new Proxy(t,{get(e,i){return i=="get"?(o,n)=>e.find((a,c)=>{let p=Pm(o,a);return p&&n&&e.splice(c,1),p}):i==I0?!0:i=="getAll"?(o,n)=>e.filter((a,c)=>{let p=Pm(o,a);return p&&n&&e.splice(c,1),p}):i=="matchCondition"?o=>e.find(n=>o(n)):i=="filterType"?(...o)=>oe(e.filter(n=>!!n.is(...o))):i=="firstOfType"?(...o)=>e.find(n=>!!n.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>oe(e.map(n=>{if(n.is(...o))return n;throw new rt(`Expected node of any type ${o.map(a=>a.type).join(", ")}, got ${n.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}r(oe,"observe");var Qt=class extends Map{getType(...e){return e=e.flat(),oe(e.flatMap(i=>this.get(i.type)||[]))}};r(Qt,"Memo");var Wg={};be(Wg,{Author:()=>M,ChildElement:()=>v_,EmojiRun:()=>ti,Format:()=>lx,Text:()=>u,TextRun:()=>ii,Thumbnail:()=>x,VideoDetails:()=>bi});var ge={};be(ge,{CLIENTS:()=>re,INNERTUBE_HEADERS_BASE:()=>Ok,OAUTH:()=>Lk,STREAM_HEADERS:()=>Ft,URLS:()=>et});var et=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),Lk=Object.freeze({REGEX:Object.freeze({TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')})}),re=Object.freeze({iOS:{NAME_ID:"5",NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME_ID:"1",NAME:"WEB",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME_ID:"76",NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME_ID:"67",NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME_ID:"3",NAME:"ANDROID",VERSION:"18.48.37",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/18.48.37(Linux; U; Android 13; en_US; sdk_gphone64_x86_64 Build/UPB4.230623.005) gzip"},YTSTUDIO_ANDROID:{NAME_ID:"14",NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME_ID:"21",NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME_ID:"85",NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),Ft=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),Ok=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var l={};be(l,{addRuntimeParser:()=>Vg,applyCommentsMutations:()=>y1,applyMutations:()=>g1,getDynamicParsers:()=>oS,getParserByName:()=>Qf,hasParser:()=>sx,parse:()=>Le,parseActions:()=>x1,parseArray:()=>De,parseC:()=>v1,parseFormats:()=>Bg,parseItem:()=>ee,parseLC:()=>Mg,parseRR:()=>cx,parseResponse:()=>rS,sanitizeClassName:()=>em,setParserErrorHandler:()=>tS,shouldIgnore:()=>_1});var Zi={};be(Zi,{AboutChannel:()=>Um,AboutChannelView:()=>Ym,AccountChannel:()=>Wm,AccountItemSection:()=>Gm,AccountItemSectionHeader:()=>Jm,AccountSectionList:()=>Hm,AddBannerToLiveChatCommand:()=>Mb,AddChatItemAction:()=>W_,AddLiveChatTickerItemAction:()=>Bb,Alert:()=>Oo,AlertWithButton:()=>Zm,AnalyticsMainAppKeyMetrics:()=>j0,AnalyticsRoot:()=>Y0,AnalyticsShortsCarouselCard:()=>U0,AnalyticsVideo:()=>th,AnalyticsVodCarouselCard:()=>W0,AnchoredSection:()=>tx,AppendContinuationItemsAction:()=>Ji,AttributionView:()=>ih,AudioOnlyPlayability:()=>oh,AuthorCommentBadge:()=>$h,AutomixPreviewVideo:()=>rh,AvatarView:()=>nh,BackstageImage:()=>sh,BackstagePost:()=>oi,BackstagePostThread:()=>H0,BrowseFeedActions:()=>uh,BrowserMediaSession:()=>z0,Button:()=>k,ButtonView:()=>Gi,C4TabbedHeader:()=>$o,CallToActionButton:()=>$0,Card:()=>K0,CardCollection:()=>Bh,CarouselHeader:()=>Dh,CarouselItem:()=>q0,CarouselLockup:()=>Ph,Channel:()=>Lh,ChannelAboutFullMetadata:()=>Ia,ChannelAgeGate:()=>X0,ChannelExternalLinkView:()=>jm,ChannelFeaturedContent:()=>Q0,ChannelHeaderLinks:()=>lh,ChannelHeaderLinksView:()=>ch,ChannelMetadata:()=>Oh,ChannelMobileHeader:()=>Z0,ChannelOptions:()=>Fh,ChannelOwnerEmptyState:()=>ey,ChannelSubMenu:()=>Va,ChannelTagline:()=>Vh,ChannelThumbnailWithLink:()=>ty,ChannelVideoPlayer:()=>iy,Chapter:()=>jh,ChildVideo:()=>oy,ChipBarView:()=>ry,ChipCloud:()=>Ko,ChipCloudChip:()=>je,ChipView:()=>Yh,ClipAdState:()=>fh,ClipCreation:()=>mh,ClipCreationScrubber:()=>dh,ClipCreationTextInput:()=>ph,ClipSection:()=>hh,CollaboratorInfoCardContent:()=>ny,CollageHeroImage:()=>sy,CollectionThumbnailView:()=>Hh,Command:()=>ay,Comment:()=>er,CommentActionButtons:()=>Fo,CommentDialog:()=>tb,CommentReplies:()=>t_,CommentReplyDialog:()=>qo,CommentSimplebox:()=>n_,CommentThread:()=>s_,CommentView:()=>di,CommentsEntryPointHeader:()=>r_,CommentsEntryPointTeaser:()=>o_,CommentsHeader:()=>pi,CommentsSimplebox:()=>i_,CompactChannel:()=>ib,CompactLink:()=>tr,CompactMix:()=>ob,CompactMovie:()=>rb,CompactPlaylist:()=>nb,CompactStation:()=>sb,CompactVideo:()=>Go,ConfirmDialog:()=>ab,ContentMetadataView:()=>rr,ContentPreviewImageView:()=>Wo,ContinuationItem:()=>pe,ConversationBar:()=>ub,CopyLink:()=>a_,CreatePlaylistDialog:()=>Dm,CreatorHeart:()=>ah,CtaGoToCreatorStudio:()=>J0,DataModelSection:()=>eh,DecoratedAvatarView:()=>u_,DecoratedPlayerBar:()=>d_,DefaultPromoPanel:()=>lb,DescriptionPreviewView:()=>f_,DidYouMean:()=>cb,DimChatItemAction:()=>Db,DislikeButtonView:()=>m_,DownloadButton:()=>h_,Dropdown:()=>ei,DropdownItem:()=>Bm,DynamicTextView:()=>__,Element:()=>nr,EmergencyOnebox:()=>pb,EmojiPicker:()=>e_,EmojiPickerCategory:()=>db,EmojiPickerCategoryButton:()=>fb,EmojiPickerUpsellCategory:()=>mb,EndScreenPlaylist:()=>g_,EndScreenVideo:()=>y_,Endscreen:()=>x_,EndscreenElement:()=>hb,EngagementPanelSectionList:()=>si,EngagementPanelTitleHeader:()=>_h,ExpandableMetadata:()=>Th,ExpandableTab:()=>sr,ExpandableVideoDescriptionBody:()=>yh,ExpandedShelfContents:()=>_b,Factoid:()=>ni,FancyDismissibleDialog:()=>vb,FeedFilterChipBar:()=>Yt,FeedNudge:()=>xb,FeedTabbedHeader:()=>b_,FlexibleActionsView:()=>w_,GameCard:()=>bh,GameDetails:()=>gb,Grid:()=>yb,GridChannel:()=>T_,GridHeader:()=>bb,GridMix:()=>wb,GridMovie:()=>Tb,GridPlaylist:()=>k_,GridShow:()=>kb,GridVideo:()=>C_,GuideCollapsibleEntry:()=>Ib,GuideCollapsibleSectionEntry:()=>Sb,GuideDownloadsEntry:()=>Cb,GuideEntry:()=>Qi,GuideSection:()=>ar,GuideSubscriptionsSection:()=>E_,HashtagHeader:()=>N_,HashtagTile:()=>Eb,HeatMarker:()=>l_,Heatmap:()=>c_,HeroPlaylistThumbnail:()=>Nb,HighlightsCarousel:()=>Pb,HistorySuggestion:()=>Rb,HorizontalCardList:()=>ri,HorizontalList:()=>wh,HorizontalMovieList:()=>Ab,IconLink:()=>R_,ImageBannerView:()=>A_,IncludingResultsFor:()=>Vb,InfoPanelContainer:()=>M_,InfoPanelContent:()=>V_,InfoRow:()=>Nh,InteractiveTabbedHeader:()=>B_,ItemSection:()=>ze,ItemSectionHeader:()=>ur,ItemSectionTab:()=>D_,ItemSectionTabbedHeader:()=>lr,KidsBlocklistPicker:()=>i1,KidsBlocklistPickerItem:()=>ix,KidsCategoriesHeader:()=>o1,KidsCategoryTab:()=>ox,KidsHomeScreen:()=>r1,LikeButton:()=>O_,LikeButtonView:()=>F_,LiveChat:()=>j_,LiveChatActionPanel:()=>G_,LiveChatAuthorBadge:()=>aw,LiveChatAutoModMessage:()=>Lb,LiveChatBanner:()=>U_,LiveChatBannerHeader:()=>Y_,LiveChatBannerPoll:()=>Ob,LiveChatDialog:()=>uw,LiveChatHeader:()=>X_,LiveChatItemList:()=>Q_,LiveChatMembershipItem:()=>Fb,LiveChatMessageInput:()=>lw,LiveChatPaidMessage:()=>jb,LiveChatPaidSticker:()=>Yb,LiveChatParticipant:()=>Z_,LiveChatParticipantsList:()=>ev,LiveChatPlaceholderItem:()=>Ub,LiveChatProductItem:()=>Wb,LiveChatRestrictedParticipation:()=>Jb,LiveChatTextMessage:()=>Gb,LiveChatTickerPaidMessageItem:()=>J_,LiveChatTickerPaidStickerItem:()=>Hb,LiveChatTickerSponsorItem:()=>zb,LiveChatViewerEngagementMessage:()=>$b,LockupMetadataView:()=>tv,LockupView:()=>iv,MacroMarkersInfoItem:()=>vh,MacroMarkersList:()=>xh,MacroMarkersListItem:()=>Yo,MarkChatItemAsDeletedAction:()=>qb,MarkChatItemsByAuthorAsDeletedAction:()=>Xb,Menu:()=>L,MenuNavigationItem:()=>ov,MenuPopup:()=>cw,MenuServiceItem:()=>hi,MenuServiceItemDownload:()=>pw,MerchandiseItem:()=>mw,MerchandiseShelf:()=>av,Message:()=>fi,MetadataBadge:()=>Ge,MetadataRow:()=>hw,MetadataRowContainer:()=>uv,MetadataRowHeader:()=>_w,MetadataScreen:()=>vw,MicroformatData:()=>pr,Mix:()=>xw,ModalWithTitleAndButton:()=>gw,Movie:()=>yw,MovingThumbnail:()=>bw,MultiMarkersPlayerBar:()=>p_,MultiPageMenu:()=>dw,MultiPageMenuNotificationSection:()=>fw,MusicCardShelf:()=>ww,MusicCardShelfHeaderBasic:()=>lv,MusicCarouselShelf:()=>Aw,MusicCarouselShelfBasicHeader:()=>cv,MusicDescriptionShelf:()=>_v,MusicDetailHeader:()=>Vw,MusicDownloadStateBadge:()=>Mw,MusicEditablePlaylistDetailHeader:()=>Bw,MusicElementHeader:()=>Dw,MusicHeader:()=>Lw,MusicImmersiveHeader:()=>Ow,MusicInlineBadge:()=>dr,MusicItemThumbnailOverlay:()=>Nt,MusicLargeCardItemCarousel:()=>Fw,MusicMenuItemDivider:()=>rv,MusicMultiRowListItem:()=>pv,MusicMultiSelectMenu:()=>nv,MusicMultiSelectMenuItem:()=>cr,MusicNavigationButton:()=>dv,MusicPlayButton:()=>fr,MusicPlaylistEditHeader:()=>jw,MusicPlaylistShelf:()=>Yw,MusicQueue:()=>gv,MusicResponsiveHeader:()=>Uw,MusicResponsiveListItem:()=>_i,MusicResponsiveListItemFixedColumn:()=>fv,MusicResponsiveListItemFlexColumn:()=>mv,MusicShelf:()=>Ww,MusicSideAlignedItem:()=>Jw,MusicSortFilterButton:()=>Gw,MusicTastebuilderShelf:()=>Hw,MusicTastebuilderShelfThumbnail:()=>yv,MusicThumbnail:()=>Ae,MusicTwoRowItem:()=>hv,MusicVisualHeader:()=>zw,NavigationEndpoint:()=>v,Notification:()=>bv,OpenPopupAction:()=>Lm,PageHeader:()=>Pt,PageHeaderView:()=>wv,PageIntroduction:()=>Tv,PdgCommentChip:()=>Kh,PivotButton:()=>kv,PlayerAnnotationsExpanded:()=>Iv,PlayerCaptionsTracklist:()=>Sv,PlayerControlsOverlay:()=>$w,PlayerErrorMessage:()=>Kw,PlayerLegacyDesktopYpcOffer:()=>qw,PlayerLegacyDesktopYpcTrailer:()=>zp,PlayerLiveStoryboardSpec:()=>Nv,PlayerMicroformat:()=>nt,PlayerOverflow:()=>Cv,PlayerOverlay:()=>Av,PlayerOverlayAutoplay:()=>Pv,PlayerStoryboardSpec:()=>ji,Playlist:()=>Et,PlaylistCustomThumbnail:()=>ir,PlaylistHeader:()=>Vv,PlaylistInfoCardContent:()=>Xw,PlaylistMetadata:()=>Mv,PlaylistPanel:()=>xv,PlaylistPanelVideo:()=>Ut,PlaylistPanelVideoWrapper:()=>vv,PlaylistSidebar:()=>Qw,PlaylistSidebarPrimaryInfo:()=>Bv,PlaylistSidebarSecondaryInfo:()=>Dv,PlaylistVideo:()=>hr,PlaylistVideoList:()=>Zw,PlaylistVideoThumbnail:()=>or,Poll:()=>eT,PollHeader:()=>Kb,Post:()=>Lv,PostMultiImage:()=>tT,ProductList:()=>gh,ProductListHeader:()=>iT,ProductListItem:()=>oT,ProfileColumn:()=>rT,ProfileColumnStats:()=>nT,ProfileColumnStatsEntry:()=>sT,ProfileColumnUserInfo:()=>aT,Quiz:()=>uT,RecognitionShelf:()=>lT,ReelItem:()=>_r,ReelPlayerHeader:()=>Ov,ReelPlayerOverlay:()=>cT,ReelShelf:()=>zo,RelatedChipCloud:()=>Fv,RemoveBannerForLiveChatCommand:()=>Qb,RemoveChatItemAction:()=>Zb,RemoveChatItemByAuthorAction:()=>ew,ReplaceChatItemAction:()=>tw,ReplayChatItemAction:()=>iw,RichGrid:()=>vi,RichItem:()=>pT,RichListHeader:()=>dT,RichMetadata:()=>Sd,RichMetadataRow:()=>Ed,RichSection:()=>fT,RichShelf:()=>jv,SearchBox:()=>mT,SearchFilter:()=>Yv,SearchFilterGroup:()=>vr,SearchFilterOptionsDialog:()=>hT,SearchHeader:()=>Uv,SearchRefinementCard:()=>Hi,SearchSubMenu:()=>Wv,SearchSuggestion:()=>P_,SearchSuggestionsSection:()=>_T,SecondarySearchContainer:()=>vT,SectionList:()=>we,SegmentedLikeDislikeButton:()=>to,SegmentedLikeDislikeButtonView:()=>io,SettingBoolean:()=>xT,SettingsCheckbox:()=>Jv,SettingsOptions:()=>gr,SettingsSidebar:()=>Gv,SettingsSwitch:()=>xr,SharedPost:()=>Hv,Shelf:()=>yr,ShowCustomThumbnail:()=>I_,ShowLiveChatActionPanelAction:()=>ow,ShowLiveChatDialogAction:()=>rw,ShowLiveChatTooltipCommand:()=>nw,ShowingResultsFor:()=>gT,SimpleCardContent:()=>yT,SimpleCardTeaser:()=>bT,SimpleMenuHeader:()=>sv,SimpleTextSection:()=>wT,SingleActionEmergencySupport:()=>TT,SingleColumnBrowseResults:()=>zv,SingleColumnMusicWatchNextResults:()=>kT,SingleHeroImage:()=>IT,SlimOwner:()=>ST,SlimVideoMetadata:()=>CT,SortFilterHeader:()=>L_,SortFilterSubMenu:()=>ht,SponsorCommentBadge:()=>qh,StatRow:()=>G0,StructuredDescriptionContent:()=>$i,StructuredDescriptionPlaylistLockup:()=>Rh,SubFeedOption:()=>$v,SubFeedSelector:()=>ET,SubscribeButton:()=>Be,SubscriptionNotificationToggleButton:()=>Mh,Tab:()=>Ve,Tabbed:()=>NT,TabbedSearchResults:()=>PT,TextHeader:()=>RT,ThumbnailBadgeView:()=>Wh,ThumbnailHoverOverlayView:()=>Uh,ThumbnailLandscapePortrait:()=>AT,ThumbnailOverlayBadgeView:()=>Jh,ThumbnailOverlayBottomPanel:()=>S_,ThumbnailOverlayEndorsement:()=>VT,ThumbnailOverlayHoverText:()=>MT,ThumbnailOverlayInlineUnplayable:()=>BT,ThumbnailOverlayLoadingPreview:()=>DT,ThumbnailOverlayNowPlaying:()=>LT,ThumbnailOverlayPinking:()=>OT,ThumbnailOverlayPlaybackStatus:()=>FT,ThumbnailOverlayResumePlayback:()=>jT,ThumbnailOverlaySidePanel:()=>YT,ThumbnailOverlayTimeStatus:()=>zi,ThumbnailOverlayToggleButton:()=>UT,ThumbnailView:()=>Gh,TimedMarkerDecoration:()=>WT,TitleAndButtonListHeader:()=>JT,ToggleButton:()=>ye,ToggleButtonView:()=>mi,ToggleMenuServiceItem:()=>GT,Tooltip:()=>HT,TopicChannelDetails:()=>zT,Transcript:()=>Lo,TranscriptFooter:()=>zm,TranscriptSearchBox:()=>$m,TranscriptSearchPanel:()=>Qm,TranscriptSectionHeader:()=>Km,TranscriptSegment:()=>qm,TranscriptSegmentList:()=>Xm,TwoColumnBrowseResults:()=>Rt,TwoColumnSearchResults:()=>Kv,TwoColumnWatchNextResults:()=>Xv,UniversalWatchCard:()=>Qv,UpdateDateTextAction:()=>H_,UpdateDescriptionAction:()=>z_,UpdateEngagementPanelAction:()=>F0,UpdateLiveChatPollAction:()=>sw,UpdateTitleAction:()=>$_,UpdateToggleButtonTextAction:()=>K_,UpdateViewershipAction:()=>q_,UploadTimeFactoid:()=>Ih,UpsellDialog:()=>$T,VerticalList:()=>KT,VerticalWatchCardList:()=>qT,Video:()=>Uo,VideoAttributeView:()=>Jo,VideoCard:()=>kh,VideoDescriptionCourseSection:()=>Ah,VideoDescriptionHeader:()=>Ch,VideoDescriptionInfocardsSection:()=>Eh,VideoDescriptionMusicSection:()=>Ho,VideoDescriptionTranscriptSection:()=>ca,VideoInfoCardContent:()=>XT,VideoOwner:()=>br,VideoPrimaryInfo:()=>Zv,VideoSecondaryInfo:()=>Of,ViewCountFactoid:()=>Sh,WatchCardCompactVideo:()=>ex,WatchCardHeroVideo:()=>QT,WatchCardRichHeader:()=>ZT,WatchCardSectionSequence:()=>e1,WatchNextEndScreen:()=>Rv,WatchNextTabbedResults:()=>t1,YpcTrailer:()=>Ev});var Fi,Rm=class{constructor(e,i){Fi.set(this,void 0),E(this,Fi,new F.shim.Cache(e,i),"f")}get cache_dir(){return f(this,Fi,"f").cache_dir}get(e){return f(this,Fi,"f").get(e)}set(e,i){return f(this,Fi,"f").set(e,i)}remove(e){return f(this,Fi,"f").remove(e)}};r(Rm,"UniversalCache");Fi=new WeakMap;var Fk=Rm;var Do,Am=class extends EventTarget{constructor(){super(),Do.set(this,new Map)}emit(e,...i){let o=new F.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=r(n=>{n instanceof F.shim.CustomEvent?i(...n.detail):i(n)},"wrapper");f(this,Do,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=r(n=>{n instanceof F.shim.CustomEvent?i(...n.detail):i(n),this.off(e,i)},"wrapper");f(this,Do,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=f(this,Do,"f").get(i);o&&(this.removeEventListener(e,o),f(this,Do,"f").delete(i))}};r(Am,"EventEmitterLike");Do=new WeakMap;var Rn=Am;var Yi={};be(Yi,{chooseFormat:()=>L0,download:()=>pI,toDash:()=>D0});var jk={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function S0(t){return t.replace(/([&"<>'])/g,(e,i)=>jk[i])}r(S0,"escapeXMLString");function Yk(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}r(Yk,"normalizeTag");function ne(t,e,...i){let o=i.flat().map(n=>typeof n=="string"?Uk(n):n);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:o})):{type:Yk(t),props:Object.assign(Object.assign({},e),{children:o})}}r(ne,"createElement");function Uk(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}r(Uk,"createTextElement");function C0(t){return I(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return S0(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(o=>!["children","nodeValue"].includes(o)&&t.props[o]!==void 0).map(o=>`${o}="${S0(`${t.props[o]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(o=>!!o).map(o=>C0(o)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}r(C0,"renderElementToString");function E0(t){return I(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield C0(yield t)}`})}r(E0,"renderToString");function N0(t){return t.children}r(N0,"Fragment");var An=class extends s{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((n,a)=>{let[c,p,d,_,h,g,y,w]=n.split("#");o.searchParams.set("sigh",w);let S=Math.ceil(parseInt(d,10)/(parseInt(_,10)*parseInt(h,10)));return{type:"vod",template_url:o.toString().replace("$L",a).replace("$N",y),thumbnail_width:parseInt(c,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(d,10),interval:parseInt(g,10),columns:parseInt(_,10),rows:parseInt(h,10),storyboard_count:S}})}};r(An,"PlayerStoryboardSpec");An.type="PlayerStoryboardSpec";var ji=An;var Jk="StreamingInfo";function Gk(t,e){var i,o,n;let a=new Map,c=t.some(p=>!!p.audio_track);for(let p of t){if((!p.index_range||!p.init_range)&&!p.is_type_otf&&!e)continue;let d=p.mime_type.split(";")[0],_=(i=Re(p.mime_type,'codecs="','"'))===null||i===void 0?void 0:i.split(".")[0],h=p.color_info?Object.values(p.color_info).join("-"):"",g=((o=p.audio_track)===null||o===void 0?void 0:o.id)||"",y=p.is_drc?"drc":"",w=`${d}-${_}-${h}-${g}-${y}`;a.has(w)||a.set(w,[]),(n=a.get(w))===null||n===void 0||n.push(p)}return{groups:Array.from(a.values()),has_multiple_audio_tracks:c}}r(Gk,"getFormatGroupings");function R0(t,e){if(t.length>1&&new Set(t.map(i=>Re(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),Re(t[0].mime_type,'codecs="','"')}r(R0,"hoistCodecsIfPossible");function A0(t,e,i){if(t.length>1&&new Set(t.map(o=>o.fps)).size===1)return i.push(e),Number(t[0][e])}r(A0,"hoistNumberAttributeIfPossible");function Hk(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}r(Hk,"hoistAudioChannelsIfPossible");function zk(t,e){var i;return I(this,void 0,void 0,function*(){let o=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Ft,redirect:"follow"}),n=o.url.replace("&rn=0","").replace("&sq=0",""),a=yield o.text(),c=(i=Re(a,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!c)throw new b("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let d of c){let _=d.trim();if(_.length===0)continue;let h,g=Re(_,"(r=",")");g&&(h=parseInt(g)),p.push({duration:parseInt(_),repeat_count:h})}return{init_url:`${n}&sq=0`,media_url:`${n}&sq=$Number$`,timeline:p}})}r(zk,"getOTFSegmentTemplate");function V0(t,e){return I(this,void 0,void 0,function*(){let i=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:Ft,redirect:"follow"}),o=parseInt(i.headers.get("X-Head-Time-Millis")||""),n=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(o)||isNaN(n))throw new b("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:o/1e3,segment_count:n}})}r(V0,"getPostLiveDvrInfo");function $k(t,e,i,o,n,a){return I(this,void 0,void 0,function*(){if(!t.item){let c=new URL(e.decipher(n));c.searchParams.set("cpn",a||"");let p=i(c).toString();t.item=yield V0(p,o)}return t.item.duration})}r($k,"getPostLiveDvrDuration");function M0(t,e,i,o,n,a){let c=new URL(t.decipher(o));c.searchParams.set("cpn",n||"");let p=e(c).toString();if(t.is_type_otf){if(!i)throw new b("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return zk(p,i)}}}if(a){if(!i)throw new b("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let _=t.target_duration_dec;if(typeof _!="number")throw new b("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,getSegmentTemplate(){return I(this,void 0,void 0,function*(){return a.item||(a.item=yield V0(p,i)),{media_url:`${p}&sq=$Number$`,timeline:[{duration:_*1e3,repeat_count:a.item.segment_count}]}})}}}if(!t.index_range||!t.init_range)throw new b("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:p,index_range:t.index_range,init_range:t.init_range}}r(M0,"getSegmentInfo");function Kk(t,e,i,o,n,a,c){new URL(t.decipher(n)).searchParams.set("cpn",a||"");let d=[t.itag.toString()];return t.audio_track&&d.push(t.audio_track.id),t.is_drc&&d.push("drc"),{uid:d.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Re(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:M0(t,i,o,n,a,c)}}r(Kk,"getAudioRepresentation");function qk(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return t.is_dubbed&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}r(qk,"getTrackRoles");function Xk(t,e,i,o,n,a,c){var p;let d=t[0],{audio_track:_}=d,h=[],g=!!c,y;return _?g&&d.is_drc?y=c.label_drc_mutiple(_.display_name):y=_.display_name:g&&(y=d.is_drc?c.label_drc:c.label_original),{mime_type:d.mime_type.split(";")[0],language:(p=d.language)!==null&&p!==void 0?p:void 0,codecs:R0(t,h),audio_sample_rate:A0(t,"audio_sample_rate",h),track_name:y,track_roles:qk(d,g),channels:Hk(t,h),representations:t.map(S=>Kk(S,h,e,i,o,n,a))}}r(Xk,"getAudioSet");var Qk={BT709:"1",BT2020:"9"},P0={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},Zk={BT709:"1",BT2020_NCL:"14"};function eI(t){var e;let i=t.color_info,o,n,a;if(i){if(i.primaries&&(o=Qk[i.primaries]),i.transfer_characteristics&&(n=P0[i.transfer_characteristics]),i.matrix_coefficients&&(a=Zk[i.matrix_coefficients],!a)){let p=new URL(t.url),d=JSON.parse(JSON.stringify(t));d.url="REDACTED",d.signature_cipher="REDACTED",d.cipher="REDACTED",O.warn(Jk,`Unknown matrix coefficients "${i.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${F.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${p.searchParams.get("c")}
format:`,d)}}else!((e=Re(t.mime_type,'codecs="','"'))===null||e===void 0)&&e.startsWith("avc1")&&(n=P0.BT709);return{primaries:o,transfer_characteristics:n,matrix_coefficients:a}}r(eI,"getColorInfo");function tI(t,e,i,o,n,a,c){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Re(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:M0(t,e,n,o,a,c)}}r(tI,"getVideoRepresentation");function iI(t,e,i,o,n,a){let c=t[0],p=eI(c),d=[];return{mime_type:c.mime_type.split(";")[0],color_info:p,codecs:R0(t,d),fps:A0(t,"fps",d),representations:t.map(h=>tI(h,e,d,i,o,n,a))}}r(iI,"getVideoSet");function oI(t){var e;let i=new Map,o=t.is(ji)?t.boards:[t.board];for(let n of o){let a=new URL(n.template_url).pathname.split(".").pop(),c=`image/${a==="jpg"?"jpeg":a}`;i.has(c)||i.set(c,[]),(e=i.get(c))===null||e===void 0||e.push(n)}return i}r(oI,"getStoryboardInfo");function rI(t,e,i,o,n){return I(this,void 0,void 0,function*(){let a=e.template_url,c=i(new URL(a.replace("$M","0"))),p=n.response?n.response:t.session.http.fetch_function(c,{method:"HEAD",headers:Ft});return n.response=p,(yield p).headers.get("Content-Type")||o})}r(rI,"getStoryboardMimeType");function nI(t,e,i){return I(this,void 0,void 0,function*(){let o=e.template_url,n=[],a=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let _=0;_<a;_++){let h=new URL(o.replace("$M",_.toString())),g=_===0&&i.response?i.response:t.session.http.fetch_function(h,{method:"HEAD",headers:Ft});_===0&&(i.response=g),n.push(g)}let c=yield Promise.all(n),p=[];for(let _ of c)p.push(parseInt(_.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}r(nI,"getStoryboardBitrate");function sI(t,e,i,o,n){let a=i.template_url,c=new URL(a.replace("$M","$Number$")),p;return i.type==="vod"?p=t/i.storyboard_count:p=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return nI(e,i,n)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(p),template_url:o(c).toString(),getURL(_){return c.toString().replace("$Number$",_.toString())}}}r(sI,"getImageRepresentation");function aI(t,e,i,o){let n=oI(i),a={};return Array.from(n.entries()).map(([c,p])=>({probable_mime_type:c,getMimeType(){return rI(e,p[0],o,c,a)},representations:p.map(d=>sI(t,e,d,o,a))}))}r(aI,"getImageSets");function uI(t,e,i){let o=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(n=>{let a=new URL(n.base_url);a.searchParams.set("fmt",e);let c=["caption"];return a.searchParams.has("tlang")&&c.push("dub"),{mime_type:o,language:n.language_code,track_name:n.name.toString(),track_roles:c,representation:{uid:`text-${n.vss_id}`,base_url:i(a).toString()}}})}r(uI,"getTextSets");function Vm(t,e=!1,i=h=>h,o,n,a,c,p,d,_){if(!t)throw new b("Streaming data not available");let h=o?t.adaptive_formats.filter(G=>!o(G)):t.adaptive_formats,g,y;if(e){if(y={},!c)throw new b("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");g=r(()=>y?$k(y,h[0],i,c,a,n):Promise.resolve(0),"getDuration")}else{let G=h[0].approx_duration_ms/1e3;g=r(()=>Promise.resolve(G),"getDuration")}let{groups:w,has_multiple_audio_tracks:S}=Gk(h,e),{video_groups:T,audio_groups:A}=w.reduce((G,de)=>de[0].has_audio?(S&&!de[0].audio_track||G.audio_groups.push(de),G):(G.video_groups.push(de),G),{video_groups:[],audio_groups:[]}),R;A.flat().some(G=>G.is_drc)&&(R={label_original:(_==null?void 0:_.label_original)||"Original",label_drc:(_==null?void 0:_.label_drc)||"Stable Volume",label_drc_mutiple:(_==null?void 0:_.label_drc_mutiple)||(G=>`${G} (Stable Volume)`)});let K=A.map(G=>Xk(G,i,c,a,n,y,R)),Y=T.map(G=>iI(G,i,a,c,n,y)),ce=[];if(p&&c){let G;if(p.is(ji))G=h[0].approx_duration_ms/1e3;else{let de=h[0].target_duration_dec;if(typeof de!="number")throw new b("Format is missing target_duration_dec",{format:h[0]});G=de}ce=aI(G,c,p,i)}let ue=[];if(d&&(_==null?void 0:_.captions_format)){if(_.captions_format!=="vtt"&&_.captions_format!=="ttml")throw new b("Invalid captions format",_.captions_format);ue=uI(d,_.captions_format,i)}return{getDuration:g,audio_sets:K,video_sets:Y,image_sets:ce,text_sets:ue}}r(Vm,"getStreamingInfo");function lI({info:t}){return I(this,void 0,void 0,function*(){if(!t.is_oft&&!t.is_post_live_dvr)return null;let e=yield t.getSegmentTemplate();return ne("segment-template",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},ne("segment-timeline",null,e.timeline.map(i=>ne("s",{d:i.duration,r:i.repeat_count}))))})}r(lI,"OTFPostLiveDvrSegmentInfo");function B0({info:t}){return t.is_oft||t.is_post_live_dvr?ne(lI,{info:t}):ne(N0,null,ne("base-url",null,t.base_url),ne("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},ne("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}r(B0,"SegmentInfo");function cI({streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:o,cpn:n,player:a,actions:c,storyboards:p,captionTracks:d,options:_}){return I(this,void 0,void 0,function*(){let{getDuration:h,audio_sets:g,video_sets:y,image_sets:w,text_sets:S}=Vm(t,e,i,o,n,a,c,p,d,_);return ne("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${yield h()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},ne("period",null,g.map((T,A)=>ne("adaptation-set",{id:A,mimeType:T.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:T.language,codecs:T.codecs,audioSamplingRate:T.audio_sample_rate,contentType:"audio"},T.track_roles&&T.track_roles.map(R=>ne("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:R})),T.track_name&&ne("label",{id:A},T.track_name),T.channels&&ne("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:T.channels}),T.representations.map(R=>ne("representation",{id:R.uid,bandwidth:R.bitrate,codecs:R.codecs,audioSamplingRate:R.audio_sample_rate},R.channels&&ne("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:R.channels}),ne(B0,{info:R.segment_info}))))),y.map((T,A)=>ne("adaptation-set",{id:A+g.length,mimeType:T.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:T.codecs,maxPlayoutRate:"1",frameRate:T.fps,contentType:"video"},T.color_info.primaries&&ne("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:T.color_info.primaries}),T.color_info.transfer_characteristics&&ne("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:T.color_info.transfer_characteristics}),T.color_info.matrix_coefficients&&ne("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:T.color_info.matrix_coefficients}),T.representations.map(R=>ne("representation",{id:R.uid,bandwidth:R.bitrate,width:R.width,height:R.height,codecs:R.codecs,frameRate:R.fps},ne(B0,{info:R.segment_info}))))),w.map((T,A)=>I(this,void 0,void 0,function*(){return ne("adaptation-set",{id:A+g.length+y.length,mimeType:yield T.getMimeType(),contentType:"image"},T.representations.map(R=>I(this,void 0,void 0,function*(){return ne("representation",{id:`thumbnails_${R.thumbnail_width}x${R.thumbnail_height}`,bandwidth:yield R.getBitrate(),width:R.sheet_width,height:R.sheet_height},ne("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${R.columns}x${R.rows}`}),ne("segment-template",{media:R.template_url,duration:R.template_duration,startNumber:"0"}))})))})),S.map((T,A)=>ne("adaptation-set",{id:A+g.length+y.length+w.length,mimeType:T.mime_type,lang:T.language,contentType:"text"},T.track_roles.map(R=>ne("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:R})),ne("label",{id:A+g.length},T.track_name),ne("representation",{id:T.representation.uid,bandwidth:"0"},ne("base-url",null,T.representation.base_url))))))})}r(cI,"DashManifest");function D0(t,e=!1,i=h=>h,o,n,a,c,p,d,_){if(!t)throw new b("Streaming data not available");return E0(ne(cI,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:_,rejectFormat:o,cpn:n,player:a,actions:c,storyboards:p,captionTracks:d}))}r(D0,"toDash");function pI(t,e,i,o,n,a){return I(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new b("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new b("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!o)throw new b("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let c=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=L0(c,o),d=p.decipher(n);if(c.type==="video+audio"&&!t.range){let T=yield e.session.http.fetch_function(`${d}&cpn=${a}`,{method:"GET",headers:Ft,redirect:"follow"});if(!T.ok)throw new b("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:T});let A=T.body;if(!A)throw new b("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:T});return A}let _=1048576*10,h=t.range?t.range.start:0,g=t.range?t.range.end:_,y=!1,w;return new F.shim.ReadableStream({start(){},pull:T=>I(this,void 0,void 0,function*(){if(y){T.close();return}return(g>=(p.content_length?p.content_length:0)||t.range)&&(y=!0),new Promise((A,R)=>I(this,void 0,void 0,function*(){var K,Y,ce,ue;try{w=new AbortController;let z=yield e.session.http.fetch_function(`${d}&cpn=${a}&range=${h}-${g||""}`,{method:"GET",headers:Object.assign({},Ft),signal:w.signal});if(!z.ok)throw new b("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:z});let H=z.body;if(!H)throw new b("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:z});try{for(var _e=!0,G=T0(sg(H)),de;de=yield G.next(),K=de.done,!K;_e=!0){ue=de.value,_e=!1;let q=ue;T.enqueue(q)}}catch(q){Y={error:q}}finally{try{!_e&&!K&&(ce=G.return)&&(yield ce.call(G))}finally{if(Y)throw Y.error}}h=g+1,g+=_,A()}catch(z){R(z)}}))}),cancel(T){return I(this,void 0,void 0,function*(){w.abort(T)})}},{highWaterMark:1,size(T){return T.byteLength}})})}r(pI,"download");function L0(t,e){if(!e)throw new b("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],o=t.type?t.type.includes("audio"):!0,n=t.type?t.type.includes("video"):!0,a=t.language||"original",c=t.quality||"best",p=-1,d=["best","bestefficiency"].includes(c),_=c!=="best",h=i.filter(g=>o&&!g.has_audio||n&&!g.has_video||t.format!=="any"&&!g.mime_type.includes(t.format||"mp4")||!d&&g.quality_label!==c?!1:(g.width&&p<g.width&&(p=g.width),!0));if(!h.length)throw new b("No matching formats found",{options:t});if(d&&n&&(h=h.filter(g=>g.width===p)),o&&!n){let g=h.filter(y=>a!=="original"?!y.has_video&&!y.has_text&&y.language===a:!y.has_video&&!y.has_text&&y.is_original);g.length>0&&(h=g)}return _?h.sort((g,y)=>g.bitrate-y.bitrate):h.sort((g,y)=>y.bitrate-g.bitrate),h[0]}r(L0,"chooseFormat");var ag,Zt,ug,Vn,O0,Mm=class{constructor(e,i,o){ag.add(this),Zt.set(this,void 0),ug.set(this,void 0),Vn.set(this,void 0),E(this,Zt,e,"f"),E(this,ug,i,"f"),E(this,Vn,o||F.shim.fetch,"f")}get fetch_function(){return f(this,Vn,"f")}fetch(e,i){return I(this,void 0,void 0,function*(){let o=et.API.PRODUCTION_1+f(this,Zt,"f").api_version,n=(i==null?void 0:i.baseURL)||o,a=typeof e=="string"?!n.endsWith("/")&&!e.startsWith("/")?new URL(`${n}/${e}`):new URL(n+e):e instanceof URL?e:new URL(e.url,n),c=(i==null?void 0:i.headers)||(e instanceof F.shim.Request?e.headers:new F.shim.Headers)||new F.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof F.shim.Request?e.body:void 0),d=new F.shim.Headers(c);d.set("Accept","*/*"),d.set("Accept-Language","*"),d.set("X-Goog-Visitor-Id",f(this,Zt,"f").context.client.visitorData||""),d.set("X-Youtube-Client-Version",f(this,Zt,"f").context.client.clientVersion||"");let _=Object.values(re).find(T=>T.NAME===f(this,Zt,"f").context.client.clientName);_&&d.set("X-Youtube-Client-Name",_.NAME_ID),F.shim.server&&(d.set("User-Agent",Ui("desktop")),d.set("Origin",a.origin)),a.searchParams.set("prettyPrint","false"),a.searchParams.set("alt","json");let h=d.get("Content-Type"),g=p,y=n===o||n===et.YT_UPLOAD;if(h==="application/json"&&y&&typeof p=="string"){let T=JSON.parse(p),A=Object.assign(Object.assign({},T),{context:JSON.parse(JSON.stringify(f(this,Zt,"f").context))});f(this,ag,"m",O0).call(this,A.context,A.client),d.set("X-Youtube-Client-Version",A.context.client.clientVersion);let R=Object.values(re).find(K=>K.NAME===A.context.client.clientName);R&&d.set("X-Youtube-Client-Name",R.NAME_ID),delete A.client,A.context.client.clientName==="ANDROID"||A.context.client.clientName==="ANDROID_MUSIC"?(d.set("User-Agent",re.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2")):A.context.client.clientName==="iOS"&&d.set("User-Agent",re.iOS.USER_AGENT),g=JSON.stringify(A)}else h==="application/x-protobuf"&&F.shim.server&&(d.set("User-Agent",re.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2"),d.delete("X-Youtube-Client-Version"));let w=new F.shim.Request(a,e instanceof F.shim.Request?e:i),S=yield f(this,Vn,"f").call(this,w,Object.assign({body:g,headers:d,redirect:e instanceof F.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"},F.shim.runtime!=="cf-worker"?{credentials:"include"}:{}));if(S.ok)return S;throw new b(`Request to ${S.url} failed with status ${S.status}`,yield S.text())})}};r(Mm,"HTTPClient");Zt=new WeakMap,ug=new WeakMap,Vn=new WeakMap,ag=new WeakSet,O0=r(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=re.ANDROID.SDK_VERSION,e.client.userAgent=re.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i){case"iOS":e.client.deviceModel=re.iOS.DEVICE_MODEL,e.client.clientVersion=re.iOS.VERSION,e.client.clientName=re.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=re.YTMUSIC.VERSION,e.client.clientName=re.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=re.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=re.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=re.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=re.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=re.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=re.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=re.TV_EMBEDDED.NAME,e.client.clientVersion=re.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:et.YT_BASE};break;case"YTKIDS":e.client.clientVersion=re.WEB_KIDS.VERSION,e.client.clientName=re.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var lg=Mm;var mt={};be(mt,{compress:()=>dI,decompress:()=>fI});function dI(t){let e=[],i={};for(let a=0;a<256;a++)i[String.fromCharCode(a)]=a;let o="",n=256;for(let a=0;a<t.length;a++){let c=t[a],p=o+c;i.hasOwnProperty(p)?o=p:(e.push(i[o]),i[p]=n++,o=c)}return o!==""&&e.push(i[o]),e.map(a=>String.fromCharCode(a)).join("")}r(dI,"compress");function fI(t){let e={},i=t.split(""),o=[i.shift()],n=i.length>>>0,a=256,c=o[0],p=c;for(let d=0;d<n;++d){let _=i[d].charCodeAt(0),h=_<256?i[d]:e[_]?e[_]:p+c;o.push(h),c=h.charAt(0),e[a++]=p+c,p=h}return o.join("")}r(fI,"decompress");var Mn=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint||e.command)}};r(Mn,"Button");Mn.type="Button";var k=Mn;var Bn=class extends s{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new v(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};r(Bn,"DropdownItem");Bn.type="DropdownItem";var Bm=Bn;var Dn=class extends s{constructor(e){super(),this.label=e.label||"",this.entries=l.parseArray(e.entries,Bm)}};r(Dn,"Dropdown");Dn.type="Dropdown";var ei=Dn;var Ln=class extends s{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=l.parseItem(e.privacyOption,ei),this.create_button=l.parseItem(e.cancelButton,k),this.cancel_button=l.parseItem(e.cancelButton,k)}};r(Ln,"CreatePlaylistDialog");Ln.type="CreatePlaylistDialog";var Dm=Ln;var On=class extends s{constructor(e){super(),this.popup=l.parseItem(e.popup),this.popup_type=e.popupType}};r(On,"OpenPopupAction");On.type="OpenPopupAction";var Lm=On;var Wi=class extends s{constructor(e){var i,o,n,a,c,p,d,_;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new Lm(e.openPopupAction));let h=Object.keys(e||{}).find(g=>g.endsWith("Endpoint")||g.endsWith("Command"));this.payload=h?Reflect.get(e,h):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=l.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=l.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Wi(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((a=(n=e==null?void 0:e.commandMetadata)===null||n===void 0?void 0:n.webCommandMetadata)===null||a===void 0)&&a.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(c=e==null?void 0:e.commandMetadata)===null||c===void 0?void 0:c.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):h&&(this.metadata.api_url=this.getEndpoint(h)),!((_=(d=e==null?void 0:e.commandMetadata)===null||d===void 0?void 0:d.webCommandMetadata)===null||_===void 0)&&_.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=l.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Dm))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};r(Wi,"NavigationEndpoint");Wi.type="NavigationEndpoint";var v=Wi;var x=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(o=>new x(o)).sort((o,n)=>n.width-o.width):[]}};r(x,"Thumbnail");var ti=class{constructor(e){var i,o,n,a,c,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((n=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||n===void 0?void 0:n[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((a=e.emoji)===null||a===void 0?void 0:a.shortcuts)||[],search_terms:((c=e.emoji)===null||c===void 0?void 0:c.searchTerms)||[],image:x.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=Om(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};r(ti,"EmojiRun");var ii=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=Om(this.text),n=`<span style="white-space: pre-wrap;">${e.map(a=>`<${a}>`).join("")+i+e.map(a=>`</${a}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:a}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let c=this.endpoint.toURL();if(c)return`<a href="${c}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${a}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${n}</a>`}}if(this.endpoint){let a=this.endpoint.toURL();if(a)return`<a href="${a}">${n}</a>`}return n}};r(ii,"TextRun");function Om(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}r(Om,"escape");var Fn="Text",u=class{constructor(e){var i,o,n,a;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(c=>c.emoji?new ti(c):new ii(c)),this.text=this.runs.map(c=>c.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new v(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(a=(n=this.runs)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.endpoint)}static fromAttributed(e){var i,o,n;let{content:a,styleRuns:c,commandRuns:p,attachmentRuns:d}=e,_=[{text:a,startIndex:0}];if(c||p||d){if(c)for(let h of c)if(h.italic||h.strikethrough==="LINE_STYLE_SINGLE"||h.weightLabel==="FONT_WEIGHT_MEDIUM"||h.weightLabel==="FONT_WEIGHT_BOLD"){let g=pg(_,h);if(!g){O.warn(Fn,"Unable to find matching run for style run. Skipping...",{style_run:h,input_data:e,parsed_runs:JSON.parse(JSON.stringify(_))});continue}Fm(_,g,h,{bold:h.weightLabel==="FONT_WEIGHT_MEDIUM"||h.weightLabel==="FONT_WEIGHT_BOLD",italics:h.italic,strikethrough:h.strikethrough==="LINE_STYLE_SINGLE"})}else O.debug(Fn,"Skipping style run as it is doesn't have any information that we parse.",{style_run:h,input_data:e});if(p)for(let h of p)if(h.onTap){let g=pg(_,h);if(!g){O.warn(Fn,"Unable to find matching run for command run. Skipping...",{command_run:h,input_data:e,parsed_runs:JSON.parse(JSON.stringify(_))});continue}Fm(_,g,h,{navigationEndpoint:h.onTap})}else O.debug(Fn,'Skipping command run as it is missing the "doTap" property.',{command_run:h,input_data:e});if(d)for(let h of d){let g=pg(_,h);if(!g){O.warn(Fn,"Unable to find matching run for attachment run. Skipping...",{attachment_run:h,input_data:e,parsed_runs:JSON.parse(JSON.stringify(_))});continue}if(h.length===0)g.attachment=h;else{let y=h.startIndex-g.startIndex,w=g.text.substring(y,y+h.length),S=/^:[^:]+:$/.test(w);if(((n=(o=(i=h.element)===null||i===void 0?void 0:i.type)===null||o===void 0?void 0:o.imageType)===null||n===void 0?void 0:n.image)&&(S||new RegExp("^(?:\\p{Emoji}|\\u200d)+$","u").test(w))){let T={image:h.element.type.imageType.image,isCustomEmoji:S,shortcuts:S?[w]:void 0};Fm(_,g,h,{emoji:T})}else Fm(_,g,h,{attachment:h})}}}return new u({runs:_})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};r(u,"Text");function pg(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}r(pg,"findMatchingRun");function Fm(t,e,i,o){let n=t.indexOf(e),a=[],c=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&a.push(Object.assign(Object.assign({},e),{text:e.text.substring(0,c)})),a.push(Object.assign(Object.assign(Object.assign({},e),{text:e.text.substring(c,c+i.length),startIndex:i.startIndex}),o)),i.startIndex+i.length<e.startIndex+e.text.length&&a.push(Object.assign(Object.assign({},e),{text:e.text.substring(c+i.length),startIndex:i.startIndex+i.length})),t.splice(n,1,...a)}r(Fm,"insertSubRun");var jn=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=x.fromResponse(e.favicon)}};r(jn,"ChannelExternalLinkView");jn.type="ChannelExternalLinkView";var jm=jn;var Yn=class extends s{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new v(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=l.parseArray(e.links,jm):this.links=[]}};r(Yn,"AboutChannelView");Yn.type="AboutChannelView";var Ym=Yn;var Un=class extends s{constructor(e){super(),this.metadata=l.parseItem(e.metadata,Ym),this.share_channel=l.parseItem(e.shareChannel,k)}};r(Un,"AboutChannel");Un.type="AboutChannel";var Um=Un;var Wn=class extends s{constructor(e){super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint)}};r(Wn,"AccountChannel");Wn.type="AccountChannel";var Wm=Wn;var Jn=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(Jn,"AccountItemSectionHeader");Jn.type="AccountItemSectionHeader";var Jm=Jn;var Gn=class extends s{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=x.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new v(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};r(Gn,"AccountItem");Gn.type="AccountItem";var Hn=class extends s{constructor(e){super(),this.contents=oe(e.contents.map(i=>new Gn(i.accountItem))),this.header=l.parseItem(e.header,Jm)}};r(Hn,"AccountItemSection");Hn.type="AccountItemSection";var Gm=Hn;var zn=class extends s{constructor(e){super(),this.contents=l.parseItem(e.contents[0],Gm),this.footers=l.parseItem(e.footers[0],Wm)}};r(zn,"AccountSectionList");zn.type="AccountSectionList";var Hm=zn;var $n=class extends s{constructor(e){super(),this.contents=l.parseArray(e.continuationItems),this.target=e.target}};r($n,"AppendContinuationItemsAction");$n.type="AppendContinuationItemsAction";var Ji=$n;var Kn=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,n;return{title:i.title,selected:i.selected,continuation:(n=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||n===void 0?void 0:n.continuation,endpoint:new v(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};r(Kn,"SortFilterSubMenu");Kn.type="SortFilterSubMenu";var ht=Kn;var qn=class extends s{constructor(e){super(),this.language_menu=l.parseItem(e.languageMenu,ht)}};r(qn,"TranscriptFooter");qn.type="TranscriptFooter";var zm=qn;var Xn=class extends s{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=l.parseItem(e.clearButton,k),this.endpoint=new v(e.onTextChangeCommand),this.search_button=l.parseItem(e.searchButton,k)}};r(Xn,"TranscriptSearchBox");Xn.type="TranscriptSearchBox";var $m=Xn;var Qn=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};r(Qn,"TranscriptSectionHeader");Qn.type="TranscriptSectionHeader";var Km=Qn;var Zn=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};r(Zn,"TranscriptSegment");Zn.type="TranscriptSegment";var qm=Zn;var es=class extends s{constructor(e){super(),this.initial_segments=l.parseArray(e.initialSegments,[qm,Km]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};r(es,"TranscriptSegmentList");es.type="TranscriptSegmentList";var Xm=es;var ts=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,$m),this.body=l.parseItem(e.body,Xm),this.footer=l.parseItem(e.footer,zm),this.target_id=e.targetId}};r(ts,"TranscriptSearchPanel");ts.type="TranscriptSearchPanel";var Qm=ts;var is=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,Qm)}};r(is,"Transcript");is.type="Transcript";var Lo=is;var os=class extends s{constructor(e){super(),this.target_id=e.targetId,this.content=l.parseItem(e.content,Lo)}};r(os,"UpdateEngagementPanelAction");os.type="UpdateEngagementPanelAction";var F0=os;var rs=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};r(rs,"Alert");rs.type="Alert";var Oo=rs;var ns=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=l.parseItem(e.dismissButton,k)}};r(ns,"AlertWithButton");ns.type="AlertWithButton";var Zm=ns;var ss=class extends s{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};r(ss,"DataModelSection");ss.type="DataModelSection";var eh=ss;var as=class extends s{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new eh(o))}};r(as,"AnalyticsMainAppKeyMetrics");as.type="AnalyticsMainAppKeyMetrics";var j0=as;var us=class extends s{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(n=>({label:n.label,display_value:n.displayValue,display_value_a11y:n.displayValueA11y,bar_ratio:n.barRatio,bar_color:n.barColor,bar_opacity:n.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};r(us,"AnalyticsRoot");us.type="AnalyticsRoot";var Y0=us;var ls=class extends s{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new v(i.videoEndpoint)}))}};r(ls,"AnalyticsShortsCarouselCard");ls.type="AnalyticsShortsCarouselCard";var U0=ls;var cs=class extends s{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:x.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};r(cs,"AnalyticsVideo");cs.type="AnalyticsVideo";var th=cs;var ps=class extends s{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new th(i)))}};r(ps,"AnalyticsVodCarouselCard");ps.type="AnalyticsVodCarouselCard";var W0=ps;var ds=class extends s{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};r(ds,"CtaGoToCreatorStudio");ds.type="CtaGoToCreatorStudio";var J0=ds;var fs=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};r(fs,"StatRow");fs.type="StatRow";var G0=fs;var ms=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.suffix=u.fromAttributed(e.suffix)}};r(ms,"AttributionView");ms.type="AttributionView";var ih=ms;var hs=class extends s{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};r(hs,"AudioOnlyPlayability");hs.type="AudioOnlyPlayability";var oh=hs;var _s=class extends s{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new v(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};r(_s,"AutomixPreviewVideo");_s.type="AutomixPreviewVideo";var rh=_s;var vs=class extends s{constructor(e){super(),this.image=x.fromResponse(e.image),this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}},this.avatar_image_size=e.avatarImageSize}};r(vs,"AvatarView");vs.type="AvatarView";var nh=vs;var xs=class extends s{constructor(e){super(),this.image=x.fromResponse(e.image),this.endpoint=new v(e.command)}};r(xs,"BackstageImage");xs.type="BackstageImage";var sh=xs;var gs=class extends s{constructor(e){var i,o,n,a,c,p,d,_,h;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let g=((a=(n=(o=e==null?void 0:e.defaultText)===null||o===void 0?void 0:o.accessibility)===null||n===void 0?void 0:n.accessibilityData)===null||a===void 0?void 0:a.label)||((p=(c=e==null?void 0:e.accessibilityData)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label)||((d=e==null?void 0:e.accessibility)===null||d===void 0?void 0:d.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(g.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((h=(_=e.defaultServiceEndpoint)===null||_===void 0?void 0:_.commandExecutorCommand)===null||h===void 0)&&h.commands?new v(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};r(gs,"ToggleButton");gs.type="ToggleButton";var ye=gs;var ys=class extends s{constructor(e){var i,o;super(),this.creator_thumbnail=x.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};r(ys,"CreatorHeart");ys.type="CreatorHeart";var ah=ys;var bs=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,ye),this.dislike_button=l.parseItem(e.dislikeButton,ye),this.reply_button=l.parseItem(e.replyButton,k),this.creator_heart=l.parseItem(e.creatorHeart,ah)}};r(bs,"CommentActionButtons");bs.type="CommentActionButtons";var Fo=bs;var ws=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.top_level_buttons=l.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};r(ws,"Menu");ws.type="Menu";var L=ws;var Ts=class extends s{constructor(e){super(),this.id=e.postId,this.author=new M(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=l.parseItem(e.actionMenu,L)),Reflect.has(e,"actionButtons")&&(this.action_buttons=l.parseItem(e.actionButtons,Fo)),Reflect.has(e,"voteButton")&&(this.vote_button=l.parseItem(e.voteButton,k)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=l.parseItem(e.backstageAttachment)),this.surface=e.surface}};r(Ts,"BackstagePost");Ts.type="BackstagePost";var oi=Ts;var ks=class extends s{constructor(e){super(),this.post=l.parseItem(e.post)}};r(ks,"BackstagePostThread");ks.type="BackstagePostThread";var H0=ks;var Is=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(Is,"BrowseFeedActions");Is.type="BrowseFeedActions";var uh=Is;var Ss=class extends s{constructor(e){super(),this.album=new u(e.album),this.thumbnails=x.fromResponse(e.thumbnailDetails)}};r(Ss,"BrowserMediaSession");Ss.type="BrowserMediaSession";var z0=Ss;var Cs=class extends s{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.button_type=e.type,this.button_size=e.buttonSize,this.on_tap=new v(e.onTap)}};r(Cs,"ButtonView");Cs.type="ButtonView";var Gi=Cs;var jo=class extends s{constructor(e){super(),this.endpoint=new v(e.navigationEndpoint),this.icon=x.fromResponse(e.icon),this.title=new u(e.title)}};r(jo,"HeaderLink");jo.type="HeaderLink";var Es=class extends s{constructor(e){var i,o;super(),this.primary=oe(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(n=>new jo(n)))||[]),this.secondary=oe(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(n=>new jo(n)))||[])}};r(Es,"ChannelHeaderLinks");Es.type="ChannelHeaderLinks";var lh=Es;var Ns=class extends s{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};r(Ns,"ChannelHeaderLinksView");Ns.type="ChannelHeaderLinksView";var ch=Ns;var Ps=class extends s{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};r(Ps,"ClipCreationTextInput");Ps.type="ClipCreationTextInput";var ph=Ps;var Rs=class extends s{constructor(e){var i,o,n,a,c,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(o=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label,this.end_label=(a=(n=e.endAccessibility)===null||n===void 0?void 0:n.accessibilityData)===null||a===void 0?void 0:a.label,this.duration_label=(p=(c=e.durationAccessibility)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label}};r(Rs,"ClipCreationScrubber");Rs.type="ClipCreationScrubber";var dh=Rs;var As=class extends s{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};r(As,"ClipAdState");As.type="ClipAdState";var fh=As;var Vs=class extends s{constructor(e){super(),this.user_avatar=x.fromResponse(e.userAvatar),this.title_input=l.parseItem(e.titleInput,[ph]),this.scrubber=l.parseItem(e.scrubber,[dh]),this.save_button=l.parseItem(e.saveButton,[k]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=l.parseItem(e.cancelButton,[k]),this.ad_state_overlay=l.parseItem(e.adStateOverlay,[fh]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};r(Vs,"ClipCreation");Vs.type="ClipCreation";var mh=Vs;var Ms=class extends s{constructor(e){super(),this.contents=l.parse(e.contents,!0,[mh])}};r(Ms,"ClipSection");Ms.type="ClipSection";var hh=Ms;var Bs=class extends s{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,k)),this.endpoint=new v(e.continuationEndpoint)}};r(Bs,"ContinuationItem");Bs.type="ContinuationItem";var pe=Bs;var Ds=class extends s{constructor(e){super(),this.title=new u(e.title),this.visibility_button=l.parseItem(e.visibilityButton,k)}};r(Ds,"EngagementPanelTitleHeader");Ds.type="EngagementPanelTitleHeader";var _h=Ds;var Ls=class extends s{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=l.parseItem(e.menu,L)}};r(Ls,"MacroMarkersInfoItem");Ls.type="MacroMarkersInfoItem";var vh=Ls;var Os=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=x.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};r(Os,"MacroMarkersListItem");Os.type="MacroMarkersListItem";var Yo=Os;var Fs=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,[vh,Yo]),this.sync_button_label=new u(e.syncButtonLabel)}};r(Fs,"MacroMarkersList");Fs.type="MacroMarkersList";var xh=Fs;var js=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(js,"ProductList");js.type="ProductList";var gh=js;var Ys=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=l.parseItem(e.subMenu))}};r(Ys,"SectionList");Ys.type="SectionList";var we=Ys;var Us=class extends s{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};r(Us,"ExpandableVideoDescriptionBody");Us.type="ExpandableVideoDescriptionBody";var yh=Us;var Ws=class extends s{constructor(e){super(),this.thumbnails=x.fromResponse(e.thumbnail),this.endpoint=new v(e.searchEndpoint),this.query=new u(e.query).toString()}};r(Ws,"SearchRefinementCard");Ws.type="SearchRefinementCard";var Hi=Ws;var Js=class extends s{constructor(e){super(),this.game=l.parseItem(e.game)}};r(Js,"GameCard");Js.type="GameCard";var bh=Js;var Gs=class extends s{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Gs,"HorizontalList");Gs.type="HorizontalList";var wh=Gs;var Hs=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:x.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=l.parseItem(e.expandedContent,[ri,wh]),this.expand_button=l.parseItem(e.expandButton,k),this.collapse_button=l.parseItem(e.collapseButton,k)}};r(Hs,"ExpandableMetadata");Hs.type="ExpandableMetadata";var Th=Hs;var zs=class extends s{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};r(zs,"MetadataBadge");zs.type="MetadataBadge";var Ge=zs;var $s=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};r($s,"ThumbnailOverlayTimeStatus");$s.type="ThumbnailOverlayTimeStatus";var zi=$s;var Ks=class extends s{constructor(e){var i,o,n;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(c=>({text:new u(c.snippetText),hover_text:new u(c.snippetHoverText)}))),this.expandable_metadata=l.parseItem(e.expandableMetadata,Th),this.thumbnails=x.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.author=new M(e.ownerText,e.ownerBadges,(n=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||n===void 0?void 0:n.thumbnail),this.badges=l.parseArray(e.badges,Ge),this.endpoint=new v(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:Se(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=l.parseItem(e.menu,L),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(zi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};r(Ks,"Video");Ks.type="Video";var Uo=Ks;var qs=class extends Uo{constructor(e){super(e)}};r(qs,"VideoCard");qs.type="VideoCard";var kh=qs;var Xs=class extends s{constructor(e){super(),this.image=x.fromResponse(e.image),this.style=e.style}};r(Xs,"ContentPreviewImageView");Xs.type="ContentPreviewImageView";var Wo=Xs;var Qs=class extends s{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image=x.fromResponse(e.image):this.image=l.parseItem(e.image,Wo),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new v(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};r(Qs,"VideoAttributeView");Qs.type="VideoAttributeView";var Jo=Qs;var Zs=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards,[Jo,Hi,Yo,bh,kh]),this.header=l.parseItem(e.header),this.previous_button=l.parseItem(e.previousButton,k),this.next_button=l.parseItem(e.nextButton,k)}};r(Zs,"HorizontalCardList");Zs.type="HorizontalCardList";var ri=Zs;var ea=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};r(ea,"Factoid");ea.type="Factoid";var ni=ea;var ta=class extends s{constructor(e){super(),this.factoid=l.parseItem(e.factoid,ni)}};r(ta,"UploadTimeFactoid");ta.type="UploadTimeFactoid";var Ih=ta;var ia=class extends s{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=l.parseItem(e.factoid,[ni]),this.view_count_type=e.viewCountType}};r(ia,"ViewCountFactoid");ia.type="ViewCountFactoid";var Sh=ia;var oa=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new v(e.channelNavigationEndpoint),this.channel_thumbnail=x.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=l.parseArray(e.factoid,[ni,Sh,Ih])}};r(oa,"VideoDescriptionHeader");oa.type="VideoDescriptionHeader";var Ch=oa;var ra=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=l.parseItem(e.creatorVideosButton,k),this.creator_about_button=l.parseItem(e.creatorAboutButton,k),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=x.fromResponse(e.channelAvatar),this.channel_endpoint=new v(e.channelEndpoint)}};r(ra,"VideoDescriptionInfocardsSection");ra.type="VideoDescriptionInfocardsSection";var Eh=ra;var na=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};r(na,"InfoRow");na.type="InfoRow";var Nh=na;var sa=class extends s{constructor(e){super(),this.id=e.videoId,this.thumbnails=x.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parse(e.richThumbnail)),this.title=new u(e.title),this.author=new M(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=l.parseArray(e.badges,Ge),this.duration={text:new u(e.lengthText).toString(),seconds:Se(new u(e.lengthText).toString())},this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.endpoint=new v(e.navigationEndpoint),this.menu=l.parseItem(e.menu,L)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};r(sa,"CompactVideo");sa.type="CompactVideo";var Go=sa;var aa=class extends s{constructor(e){super(),this.info_rows=l.parseArray(e.infoRows,Nh),this.video_lockup=l.parseItem(e.videoLockup,Go)}};r(aa,"CarouselLockup");aa.type="CarouselLockup";var Ph=aa;var ua=class extends s{constructor(e){super(),this.carousel_lockups=l.parseArray(e.carouselLockups,Ph),this.section_title=new u(e.sectionTitle)}};r(ua,"VideoDescriptionMusicSection");ua.type="VideoDescriptionMusicSection";var Ho=ua;var la=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=l.parseItem(e.primaryButton,k)}};r(la,"VideoDescriptionTranscriptSection");la.type="VideoDescriptionTranscriptSection";var ca=la;var pa=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};r(pa,"StructuredDescriptionPlaylistLockup");pa.type="StructuredDescriptionPlaylistLockup";var Rh=pa;var da=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=l.parseArray(e.mediaLockups,[Rh])}};r(da,"VideoDescriptionCourseSection");da.type="VideoDescriptionCourseSection";var Ah=da;var fa=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}get contents(){return this.items}};r(fa,"ReelShelf");fa.type="ReelShelf";var zo=fa;var ma=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[Ch,yh,Ho,Eh,Ah,ca,ca,ri,zo])}};r(ma,"StructuredDescriptionContent");ma.type="StructuredDescriptionContent";var $i=ma;var ha=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,_h),this.content=l.parseItem(e.content,[Jo,we,pe,hh,$i,xh,gh]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};r(ha,"EngagementPanelSectionList");ha.type="EngagementPanelSectionList";var si=ha;var _a=class extends s{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:l.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,si),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new v(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};r(_a,"ChannelTagline");_a.type="ChannelTagline";var Vh=_a;var va=class extends s{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:l.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};r(va,"SubscriptionNotificationToggleButton");va.type="SubscriptionNotificationToggleButton";var Mh=va;var xa=class extends s{constructor(e){var i,o;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=l.parseItem(e.notificationPreferenceButton,Mh),this.endpoint=new v(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};r(xa,"SubscribeButton");xa.type="SubscribeButton";var Be=xa;var ga=class extends s{constructor(e){super(),this.author=new M({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=x.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=x.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=x.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=l.parseItem(e.sponsorButton,k)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=l.parseItem(e.subscribeButton,[Be,k])),Reflect.has(e,"headerLinks")&&(this.header_links=l.parseItem(e.headerLinks,[lh,ch])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=l.parseItem(e.tagline,Vh))}};r(ga,"C4TabbedHeader");ga.type="C4TabbedHeader";var $o=ga;var ya=class extends s{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};r(ya,"CallToActionButton");ya.type="CallToActionButton";var $0=ya;var ba=class extends s{constructor(e){super(),this.teaser=l.parseItem(e.teaser),this.content=l.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};r(ba,"Card");ba.type="Card";var K0=ba;var wa=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};r(wa,"CardCollection");wa.type="CardCollection";var Bh=wa;var Ta=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(Ta,"CarouselHeader");Ta.type="CarouselHeader";var Dh=Ta;var ka=class extends s{constructor(e){super(),this.items=l.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=x.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};r(ka,"CarouselItem");ka.type="CarouselItem";var q0=ka;var ai=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,[Be,k]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return O.warnOnce(ai.type,"Channel#subscribers is deprecated. Please use Channel#subscriber_count instead."),this.subscriber_count}get videos(){return O.warnOnce(ai.type,"Channel#videos is deprecated. Please use Channel#video_count instead."),this.video_count}};r(ai,"Channel");ai.type="Channel";var Lh=ai;var ui=class extends s{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=x.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(n=>({endpoint:new v(n.navigationEndpoint),icon:x.fromResponse(n.icon),title:new u(n.title)})))!==null&&o!==void 0?o:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new v(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=l.parseArray(e.actionButtons,k)}get views(){return O.warnOnce(ui.type,"ChannelAboutFullMetadata#views is deprecated. Please use ChannelAboutFullMetadata#view_count instead."),this.view_count}get joined(){return O.warnOnce(ui.type,"ChannelAboutFullMetadata#joined is deprecated. Please use ChannelAboutFullMetadata#joined_date instead."),this.joined_date}};r(ui,"ChannelAboutFullMetadata");ui.type="ChannelAboutFullMetadata";var Ia=ui;var Sa=class extends s{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=x.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=l.parseItem(e.signInButton,k),this.secondary_text=new u(e.secondaryText)}};r(Sa,"ChannelAgeGate");Sa.type="ChannelAgeGate";var X0=Sa;var Ca=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items)}};r(Ca,"ChannelFeaturedContent");Ca.type="ChannelFeaturedContent";var Q0=Ca;var Ea=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=x.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};r(Ea,"ChannelMetadata");Ea.type="ChannelMetadata";var Oh=Ea;var Na=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(Na,"ChannelMobileHeader");Na.type="ChannelMobileHeader";var Z0=Na;var Pa=class extends s{constructor(e){super(),this.avatar=x.fromResponse(e.avatar),this.endpoint=new v(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};r(Pa,"ChannelOptions");Pa.type="ChannelOptions";var Fh=Pa;var Ra=class extends s{constructor(e){super(),this.illustration=x.fromResponse(e.illustration),this.description=new u(e.description)}};r(Ra,"ChannelOwnerEmptyState");Ra.type="ChannelOwnerEmptyState";var ey=Ra;var Aa=class extends s{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new v(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=l.parseItem(e.sortSetting)}};r(Aa,"ChannelSubMenu");Aa.type="ChannelSubMenu";var Va=Aa;var Ma=class extends s{constructor(e){var i,o;super(),this.thumbnails=x.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};r(Ma,"ChannelThumbnailWithLink");Ma.type="ChannelThumbnailWithLink";var ty=Ma;var li=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return O.warnOnce(li.type,"ChannelVideoPlayer#views is deprecated. Please use ChannelVideoPlayer#view_count instead."),this.view_count}get published(){return O.warnOnce(li.type,"ChannelVideoPlayer#published is deprecated. Please use ChannelVideoPlayer#published_time instead."),this.published_time}};r(li,"ChannelVideoPlayer");li.type="ChannelVideoPlayer";var iy=li;var Ba=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=x.fromResponse(e.thumbnail)}};r(Ba,"Chapter");Ba.type="Chapter";var jh=Ba;var Da=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:Se(e.lengthText.simpleText)},this.endpoint=new v(e.navigationEndpoint)}};r(Da,"ChildVideo");Da.type="ChildVideo";var oy=Da;var La=class extends s{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new v(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};r(La,"ChipView");La.type="ChipView";var Yh=La;var Oa=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Yh)}};r(Oa,"ChipBarView");Oa.type="ChipBarView";var ry=Oa;var Fa=class extends s{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.text=new u(e.text).toString()}};r(Fa,"ChipCloudChip");Fa.type="ChipCloudChip";var je=Fa;var ja=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,je),this.next_button=l.parseItem(e.nextButton,k),this.previous_button=l.parseItem(e.previousButton,k),this.horizontal_scrollable=e.horizontalScrollable}};r(ja,"ChipCloud");ja.type="ChipCloud";var Ko=ja;var Ya=class extends s{constructor(e){super(),this.channel_avatar=x.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.endpoint)}};r(Ya,"CollaboratorInfoCardContent");Ya.type="CollaboratorInfoCardContent";var ny=Ya;var Ua=class extends s{constructor(e){super(),this.left=x.fromResponse(e.leftThumbnail),this.top_right=x.fromResponse(e.topRightThumbnail),this.bottom_right=x.fromResponse(e.bottomRightThumbnail),this.endpoint=new v(e.navigationEndpoint)}};r(Ua,"CollageHeroImage");Ua.type="CollageHeroImage";var sy=Ua;var Wa=class extends s{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=u.fromAttributed(e.text),this.style=e.style}};r(Wa,"ThumbnailHoverOverlayView");Wa.type="ThumbnailHoverOverlayView";var Uh=Wa;var Ja=class extends s{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=e.text,this.badge_style=e.badgeStyle,this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}}};r(Ja,"ThumbnailBadgeView");Ja.type="ThumbnailBadgeView";var Wh=Ja;var Ga=class extends s{constructor(e){super(),this.badges=l.parseArray(e.thumbnailBadges,Wh),this.position=e.position}};r(Ga,"ThumbnailOverlayBadgeView");Ga.type="ThumbnailOverlayBadgeView";var Jh=Ga;var Ha=class extends s{constructor(e){super(),this.image=x.fromResponse(e.image),this.overlays=l.parseArray(e.overlays,[Jh,Uh]),this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}}};r(Ha,"ThumbnailView");Ha.type="ThumbnailView";var Gh=Ha;var za=class extends s{constructor(e){super(),this.primary_thumbnail=l.parseItem(e.primaryThumbnail,Gh),this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme}}};r(za,"CollectionThumbnailView");za.type="CollectionThumbnailView";var Hh=za;var $a=class extends s{constructor(e){super(),this.endpoint=new v(e)}};r($a,"Command");$a.type="Command";var ay=$a;var zh,Ka=class extends s{constructor(e){super(),zh.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),E(this,zh,e,"f")}get orig_badge(){return f(this,zh,"f")}};r(Ka,"AuthorCommentBadge");zh=new WeakMap;Ka.type="AuthorCommentBadge";var $h=Ka;var qa=class extends s{constructor(e){super(),this.reply_button=l.parseItem(e.replyButton,k),this.cancel_button=l.parseItem(e.cancelButton,k),this.author_thumbnail=x.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};r(qa,"CommentReplyDialog");qa.type="CommentReplyDialog";var qo=qa;var Xa=class extends s{constructor(e){var i,o;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};r(Xa,"PdgCommentChip");Xa.type="PdgCommentChip";var Kh=Xa;var Qa=class extends s{constructor(e){super(),this.custom_badge=x.fromResponse(e.customBadge),this.tooltip=e.tooltip}};r(Qa,"SponsorCommentBadge");Qa.type="SponsorCommentBadge";var qh=Qa;var ci={};be(ci,{decodeVisitorData:()=>yg,encodeChannelAnalyticsParams:()=>jI,encodeCommentActionParams:()=>Za,encodeCommentParams:()=>JI,encodeCommentsSectionParams:()=>WI,encodeCustomThumbnailPayload:()=>zI,encodeHashtag:()=>$I,encodeMessageParams:()=>bg,encodeMusicSearchFilters:()=>UI,encodeNotificationPref:()=>GI,encodeReelSequence:()=>wg,encodeSearchFilters:()=>YI,encodeShortsParam:()=>KI,encodeVideoMetadataPayload:()=>HI,encodeVisitorData:()=>gg});var N;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(N||(N={}));var j=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+Qh(dg(this),Xh).toString(!1);let n=[],a=new j(i,o);for(;_I(a,mI);){let[c,p]=hI(a);n.push(p),a=c}return n.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new j(0);if(e.length<10)return i<0?Qh(dg(new j(-i)),Xh):new j(i);let n=new j,a=Xh;for(let c of e.split("").reverse())parseInt(c)&&(n=Qh(n,uy(new j(parseInt(c)),a))),a=uy(a,new j(10));return o?Qh(dg(n),Xh):n}};r(j,"Long");var mI=new j(0),Xh=new j(1);function Zh(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}r(Zh,"makeChunk");function Qh(t,e){let[i,o,n,a]=Zh(t),[c,p,d,_]=Zh(e),h=0,g=0,y=0,w=0;return w+=i+c,y+=w>>>16,w&=65535,y+=o+p,g+=y>>>16,y&=65535,g+=n+d,h+=g>>>16,g&=65535,h+=a+_,h&=65535,new j(y<<16|w,h<<16|g)}r(Qh,"add");function uy(t,e){let[i,o,n,a]=Zh(t),[c,p,d,_]=Zh(e),h=0,g=0,y=0,w=0;return w+=i*c,y+=w>>>16,w&=65535,y+=i*p+o*c,g+=y>>>16,y&=65535,g+=i*d+n*c+o*p,h+=g>>>16,g&=65535,h+=i*_+o*d+n*p+a*c,h&=65535,new j(y<<16|w,h<<16|g)}r(uy,"mul");function hI(t){let[e,i]=t;return[new j((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}r(hI,"divByTen");function _I(t,e){let[i,o]=t,[n,a]=e;return o!==a?o-a:i-n}r(_I,"compare");function dg(t){let[e,i]=t;return new j(~e,~i)}r(dg,"negate");function Xo(t){let e=[],n=typeof t=="number"?new j(t):t;for(;n[0]||n[1];){let[a,c]=n,p=a&127,d=c>>>7,_=a>>>7|(c&127)<<32-7;n=new j(_,d);let h=n[0]||n[1]?p|128:p;e.push(h)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}r(Xo,"encode");function Qo(t){let e=new j(0),i=0;for(;;){let o=t.getUint8(i);if(e=vI(e,xI(new j(o&127),i*7)),++i,!(o>>>7))return[i,e]}}r(Qo,"decode");function vI(t,e){return new j(t[0]|e[0],t[1]|e[1])}r(vI,"or");function xI(t,e){return e===0?t:e>=32?new j(0,t[0]<<e-32):new j(t[0]<<e,t[1]<<e|t[0]>>>32-e)}r(xI,"leftshift");function P(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(Xo(i<<3|o.type)),o.type){case N.Varint:e.push(Xo(o.value));break;case N.Fixed64:{let n=new Uint8Array(8),a=new DataView(n.buffer);a.setUint32(0,o.value[0],!0),a.setUint32(4,o.value[1],!0),e.push(n);break}case N.LengthDelimited:e.push(Xo(o.value.byteLength)),e.push(o.value);break;case N.Fixed32:{let n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,o.value,!0),e.push(n);break}}}),fg(e)}r(P,"serialize");function fg(t){let e=t.reduce((o,n)=>o+n.byteLength,0),i=new Uint8Array(e);return t.reduce((o,n)=>(i.set(n,o),o+n.byteLength),0),i}r(fg,"concat");function mg(t){if(t instanceof j){let e=new j(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new j(4294967295,4294967295):new j;return new j(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}r(mg,"encode");function hg(t){if(t instanceof j){let e=new j(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new j(4294967295,4294967295):new j;return new j(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}r(hg,"decode");var _g={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>hg(t[0]),sint64:t=>hg(t).toString(!0),bool:t=>t[0]!==0},vg={int32:t=>new j(t),int64:t=>j.parse(t),uint32:t=>new j(t),uint64:t=>j.parse(t),sint32:t=>mg(new j(t)),sint64:t=>mg(j.parse(t)),bool:t=>new j(+t)},gI=Object.fromEntries(Object.entries(_g).map(([t,e])=>[t,i=>{if(i.type===N.Varint)return e(i.value)}])),yI=Object.fromEntries(Object.entries(vg).map(([t,e])=>[t,i=>({type:N.Varint,value:e(i)})])),U=Object.assign(Object.assign({},gI),{double:t=>t.type!==N.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==N.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===N.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===N.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!0)},string:t=>t.type!==N.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===N.LengthDelimited)return t.value}}),C=Object.assign(Object.assign({},yI),{double:t=>{let e=new j;return new DataView(e.buffer).setFloat64(0,t,!0),{type:N.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:N.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:N.Fixed32,value:t>>>0}),fixed64:t=>({type:N.Fixed64,value:j.parse(t)}),sfixed32:t=>({type:N.Fixed32,value:t|0}),sfixed64:t=>({type:N.Fixed64,value:j.parse(t)}),string:t=>{let e=new TextEncoder;return{type:N.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:N.LengthDelimited,value:t})}),bI=Object.fromEntries(Object.keys(_g).map(t=>[t,function*(e){for(let i of e){let o=U[t](i);if(o!=null)yield o;else for(let n of II(i))yield _g[t](n)}}])),jD=Object.assign(Object.assign({},bI),{*double(t){for(let e of t){let i=U.double(e);i!=null?yield i:yield*TI(e)}},*float(t){for(let e of t){let i=U.float(e);i!=null?yield i:yield*kI(e)}},*fixed32(t){for(let e of t){let i=U.fixed32(e);if(i!=null)yield i;else for(let o of ly(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=U.fixed64(e);if(i!=null)yield i;else for(let o of cy(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=U.sfixed32(e);if(i!=null)yield i;else for(let o of ly(e))yield o|0}},*sfixed64(t){for(let e of t){let i=U.sfixed64(e);if(i!=null)yield i;else for(let o of cy(e))yield o.toString(!0)}}}),wI=Object.fromEntries(Object.keys(vg).map(t=>[t,function(e){return{type:N.LengthDelimited,value:fg(e.map(i=>{let o=vg[t](i);return Xo(o)}))}}]));function Zo(t,e){return r(function(o){let n=new Uint8Array(o.length*t),a=new DataView(n.buffer);for(let c=0;c<o.length;++c)e(a,c*t,o[c]);return{type:N.LengthDelimited,value:n}},"pack")}r(Zo,"getFixedPackFn");var YD=Object.assign(Object.assign({},wI),{double:Zo(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:Zo(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:Zo(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:Zo(8,(t,e,i)=>{let o=j.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:Zo(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:Zo(8,(t,e,i)=>{let o=j.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*TI(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=o.getFloat64(i,!0);i+=4,yield n}}r(TI,"unpackDouble");function*kI(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=o.getFloat32(i,!0);i+=4,yield n}}r(kI,"unpackFloat");function*II(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let n=Qo(new DataView(e.buffer,o+i));i+=n[0],yield n[1]}}r(II,"unpackVarint");function*ly(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=o.getUint32(i,!0);i+=4,yield n}}r(ly,"unpackFixed32");function*cy(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=o.getUint32(i,!0);i+=4;let a=o.getUint32(i,!0);i+=4,yield new j(n,a)}}r(cy,"unpackFixed64");function W(t){let e=0,i=t.byteOffset,o=[],n=new DataView(t.buffer,i);for(;e<t.length;){let a=Qo(new DataView(t.buffer,i+e)),c=a[1][0];e+=a[0];let p=c&7,d=c>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case N.Varint:{let[g,y]=Qo(new DataView(t.buffer,i+e));o.push([d,{type:p,value:y}]),e+=g;break}case N.Fixed64:let _=n.getUint32(e,!0),h=n.getUint32(e+=4,!0);e+=4,o.push([d,{type:p,value:new j(_,h)}]);break;case N.LengthDelimited:{let[g,y]=Qo(new DataView(t.buffer,i+e));o.push([d,{type:p,value:t.subarray(e+=g,e+=y[0])}]);break}case N.StartGroup:case N.EndGroup:o.push([d,{type:p}]);break;case N.Fixed32:o.push([d,{type:p,value:n.getUint32(e,!0)}]),e+=4;break}}return o}r(W,"deserialize");function SI(){return{id:"",timestamp:0}}r(SI,"getDefaultValue");function py(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,C.int32(i)])}return P(e)}r(py,"encodeBinary");function dy(t){let e=SI(),i=W(t),o=new Map(i);e:{let n=o.get(1);if(n===void 0)break e;let a=U.string(n);if(a===void 0)break e;e.id=a}e:{let n=o.get(5);if(n===void 0)break e;let a=U.int32(n);if(a===void 0)break e;e.timestamp=a}return e}r(dy,"decodeBinary");function fy(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,C.string(i)])}return P(e)}r(fy,"encodeBinary");function my(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:N.LengthDelimited,value:fy(i)}])}return P(e)}r(my,"encodeBinary");function hy(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,C.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,C.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,C.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,C.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,C.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,C.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,C.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,C.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,C.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,C.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,C.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,C.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,C.int32(i)])}return P(e)}r(hy,"encodeBinary");function _y(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,C.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:hy(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,C.int32(i)])}return P(e)}r(_y,"encodeBinary");function vy(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,C.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,C.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,C.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,C.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,C.int32(i)])}return P(e)}r(vy,"encodeBinary");function xy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:N.LengthDelimited,value:vy(i)}])}return P(e)}r(xy,"encodeBinary");function gy(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:xy(i)}])}return P(e)}r(gy,"encodeBinary");function yy(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return P(e)}r(yy,"encodeBinary");function by(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:N.LengthDelimited,value:yy(i)}])}return P(e)}r(by,"encodeBinary");function wy(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:N.LengthDelimited,value:by(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,C.int32(i)])}return P(e)}r(wy,"encodeBinary");function Ty(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return P(e)}r(Ty,"encodeBinary");function ky(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,C.int32(i)])}return P(e)}r(ky,"encodeBinary");function Iy(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:N.LengthDelimited,value:ky(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,C.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,C.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,C.int32(i)])}return P(e)}r(Iy,"encodeBinary");function Sy(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,C.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,C.int32(i)])}return P(e)}r(Sy,"encodeBinary");function Cy(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,C.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:N.LengthDelimited,value:Iy(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:N.LengthDelimited,value:Sy(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,C.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,C.string(i)])}return P(e)}r(Cy,"encodeBinary");function Ey(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:N.LengthDelimited,value:Ty(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,C.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:N.LengthDelimited,value:Cy(i)}])}return P(e)}r(Ey,"encodeBinary");function Ny(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return P(e)}r(Ny,"encodeBinary");function Py(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:N.LengthDelimited,value:Ny(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,C.int32(i)])}return P(e)}r(Py,"encodeBinary");function Ry(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return P(e)}r(Ry,"encodeBinary");function Ay(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:N.LengthDelimited,value:Ry(i)}])}return P(e)}r(Ay,"encodeBinary");function Vy(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:N.LengthDelimited,value:Ay(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,C.string(i)])}return P(e)}r(Vy,"encodeBinary");function My(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,C.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,C.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:N.LengthDelimited,value:Vy(i)}])}return P(e)}r(My,"encodeBinary");function By(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return P(e)}r(By,"encodeBinary");function Dy(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:N.LengthDelimited,value:By(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,C.int32(i)])}return P(e)}r(Dy,"encodeBinary");function Ly(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,C.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,C.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,C.string(i)])}return P(e)}r(Ly,"encodeBinary");function Oy(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:N.LengthDelimited,value:Ly(i)}])}return P(e)}r(Oy,"encodeBinary");function Fy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return P(e)}r(Fy,"encodeBinary");function jy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return P(e)}r(jy,"encodeBinary");function Yy(t){let e=[];for(let i of t.list)e.push([1,C.string(i)]);return P(e)}r(Yy,"encodeBinary");function Uy(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.int32(i)])}return P(e)}r(Uy,"encodeBinary");function Wy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.string(i)])}return P(e)}r(Wy,"encodeBinary");function Jy(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,C.bytes(i)])}return P(e)}r(Jy,"encodeBinary");function Gy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:N.LengthDelimited,value:Jy(i)}])}return P(e)}r(Gy,"encodeBinary");function Hy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}return P(e)}r(Hy,"encodeBinary");function zy(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return P(e)}r(zy,"encodeBinary");function $y(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return P(e)}r($y,"encodeBinary");function xg(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:N.LengthDelimited,value:Oy(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,C.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:N.LengthDelimited,value:Fy(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:N.LengthDelimited,value:jy(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:N.LengthDelimited,value:Yy(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:N.LengthDelimited,value:Uy(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:N.LengthDelimited,value:Wy(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:N.LengthDelimited,value:Gy(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:N.LengthDelimited,value:Hy(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:N.LengthDelimited,value:zy(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:N.LengthDelimited,value:$y(i)}])}return P(e)}r(xg,"encodeBinary");function Ky(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,C.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,C.int32(i)])}return P(e)}r(Ky,"encodeBinary");function qy(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:N.LengthDelimited,value:Ky(i)}])}return P(e)}r(qy,"encodeBinary");function Xy(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,C.int32(i)])}return P(e)}r(Xy,"encodeBinary");function Qy(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:N.LengthDelimited,value:Xy(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,C.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,C.int32(i)])}return P(e)}r(Qy,"encodeBinary");function Zy(t){let e=[];if(t.p1!==void 0){let i=t.p1;e.push([1,C.int32(i)])}return P(e)}r(Zy,"encodeBinary");function eb(t){let e=[];if(t.f1!==void 0){let i=t.f1;e.push([1,{type:N.LengthDelimited,value:Zy(i)}])}if(t.p59!==void 0){let i=t.p59;e.push([59,C.int32(i)])}return P(e)}r(eb,"encodeBinary");function gg(t,e){let i=py({id:t,timestamp:e});return encodeURIComponent(He(i).replace(/\+/g,"-").replace(/\//g,"_"))}r(gg,"encodeVisitorData");function yg(t){return dy(Tg(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}r(yg,"decodeVisitorData");function jI(t){let e=my({params:{channelId:t}});return encodeURIComponent(He(e))}r(jI,"encodeChannelAnalyticsParams");function YI(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},o={all:void 0,short:1,long:2,medium:3},n={relevance:void 0,rating:1,upload_date:2,view_count:3},a={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},c={};if(t?c.filters={}:c.noFilter=0,c.filters&&(t.upload_date&&(c.filters.uploadDate=e[t.upload_date]),t.type&&(c.filters.type=i[t.type]),t.duration&&(c.filters.duration=o[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(c.sortBy=n[t.sort_by]),t.features))for(let d of t.features)c.filters[a[d]]=1;let p=_y(c);return encodeURIComponent(He(p))}r(YI,"encodeSearchFilters");function UI(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let o=gy(i);return encodeURIComponent(He(o))}r(UI,"encodeMusicSearchFilters");function bg(t,e){let i=wy({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(He(i)))}r(bg,"encodeMessageParams");function WI(t,e={}){let o=Ey({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(He(o))}r(WI,"encodeCommentsSectionParams");function JI(t){let e=Py({videoId:t,params:{index:0},number:7});return encodeURIComponent(He(e))}r(JI,"encodeCommentParams");function Za(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let o=My(i);return encodeURIComponent(He(o))}r(Za,"encodeCommentActionParams");function GI(t,e){let i=Dy({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(He(i))}r(GI,"encodeNotificationPref");function HI(t,e){let i={context:{client:{unkparam:14,clientName:re.ANDROID.NAME,clientVersion:re.YTSTUDIO_ANDROID.VERSION}},target:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),xg(i)}r(HI,"encodeVideoMetadataPayload");function zI(t,e){let i={context:{client:{unkparam:14,clientName:re.ANDROID.NAME,clientVersion:re.YTSTUDIO_ANDROID.VERSION}},target:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return xg(i)}r(zI,"encodeCustomThumbnailPayload");function $I(t){let e=qy({params:{hashtag:t,type:1}});return encodeURIComponent(He(e))}r($I,"encodeHashtag");function wg(t){let e=Qy({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent(He(e))}r(wg,"encodeReelSequence");function KI(){let t=eb({f1:{p1:1},p59:1});return encodeURIComponent(He(t))}r(KI,"encodeShortsParam");var _t,eu=class extends s{constructor(e){var i,o,n,a,c,p,d;super(),_t.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=x.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=l.parseItem(e.sponsorCommentBadge,qh),this.paid_comment_chip=l.parseItem(e.paidCommentChipRenderer,Kh),this.author_badge=l.parseItem(e.authorCommentBadge,$h),this.author=new M(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=l.parseItem(e.actionMenu,L),this.action_buttons=l.parseItem(e.actionButtons,Fo),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((n=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||n===void 0)&&n.is_toggled),this.is_disliked=!!(!((c=(a=this.action_buttons)===null||a===void 0?void 0:a.dislike_button)===null||c===void 0)&&c.is_toggled),this.is_hearted=!!(!((d=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||d===void 0)&&d.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return I(this,void 0,void 0,function*(){if(!f(this,_t,"f"))throw new b("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new b("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new b("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(f(this,_t,"f"),{parse:!1})})}dislike(){var e;return I(this,void 0,void 0,function*(){if(!f(this,_t,"f"))throw new b("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new b("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new b("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(f(this,_t,"f"),{parse:!1})})}reply(e){var i,o,n;return I(this,void 0,void 0,function*(){if(!f(this,_t,"f"))throw new b("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new b("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let a=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((n=a.endpoint)===null||n===void 0)&&n.dialog))throw new b("Reply button endpoint did not have a dialog.");let p=a.endpoint.dialog.as(qo).reply_button;if(!p)throw new b("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new b("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(f(this,_t,"f"),{commentText:e})})}translate(e){var i,o,n,a,c,p;return I(this,void 0,void 0,function*(){if(!f(this,_t,"f"))throw new b("An active caller must be provide to perform this operation.");let _={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},h=Za(22,_),g=yield f(this,_t,"f").execute("comment/perform_comment_action",{action:h,client:"ANDROID"}),y=(o=(i=g.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,w=(p=(c=(a=(n=y==null?void 0:y[0])===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},g),{content:w})})}setActions(e){E(this,_t,e,"f")}};r(eu,"Comment");_t=new WeakMap;eu.type="Comment";var er=eu;var tu=class extends s{constructor(e){super(),this.id=e.id,this.categories=l.parseArray(e.categories),this.category_buttons=l.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};r(tu,"EmojiPicker");tu.type="EmojiPicker";var e_=tu;var iu=class extends s{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=x.fromResponse(e.authorThumbnail),this.submit_button=l.parseItem(e.submitButton,k),this.cancel_button=l.parseItem(e.cancelButton,k),this.placeholder=new u(e.placeholderText),this.emoji_button=l.parseItem(e.emojiButton,k),this.emoji_picker=l.parseItem(e.emojiPicker,e_)}};r(iu,"CommentDialog");iu.type="CommentDialog";var tb=iu;var ou=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),this.view_replies=l.parseItem(e.viewReplies,k),this.hide_replies=l.parseItem(e.hideReplies,k),this.view_replies_creator_thumbnail=x.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};r(ou,"CommentReplies");ou.type="CommentReplies";var t_=ou;var ru=class extends s{constructor(e){super(),this.simplebox_avatar=x.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};r(ru,"CommentsSimplebox");ru.type="CommentsSimplebox";var i_=ru;var nu=class extends s{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=x.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};r(nu,"CommentsEntryPointTeaser");nu.type="CommentsEntryPointTeaser";var o_=nu;var su=class extends s{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=x.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=l.parseItem(e.contentRenderer,[o_,i_])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};r(su,"CommentsEntryPointHeader");su.type="CommentsEntryPointHeader";var r_=su;var au=class extends s{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=l.parseItem(e.createRenderer),this.sort_menu=l.parseItem(e.sortMenu,ht),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:x.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};r(au,"CommentsHeader");au.type="CommentsHeader";var pi=au;var uu=class extends s{constructor(e){super(),this.submit_button=l.parseItem(e.submitButton,k),this.cancel_button=l.parseItem(e.cancelButton,k),this.author_thumbnail=x.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};r(uu,"CommentSimplebox");uu.type="CommentSimplebox";var n_=uu;var Ye,lu=class extends s{constructor(e){super(),Ye.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,o){e&&(this.content=u.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new M({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),o&&!Reflect.has(o,"prepareAccountCommand")&&(this.like_command=new v(o.likeCommand),this.dislike_command=new v(o.dislikeCommand),this.unlike_command=new v(o.unlikeCommand),this.undislike_command=new v(o.undislikeCommand),this.reply_command=new v(o.replyCommand))}like(){return I(this,void 0,void 0,function*(){if(!f(this,Ye,"f"))throw new b("Actions instance not set for this comment.");if(!this.like_command)throw new b("Like command not found.");if(this.is_liked)throw new b("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(f(this,Ye,"f"))})}dislike(){return I(this,void 0,void 0,function*(){if(!f(this,Ye,"f"))throw new b("Actions instance not set for this comment.");if(!this.dislike_command)throw new b("Dislike command not found.");if(this.is_disliked)throw new b("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(f(this,Ye,"f"))})}unlike(){return I(this,void 0,void 0,function*(){if(!f(this,Ye,"f"))throw new b("Actions instance not set for this comment.");if(!this.unlike_command)throw new b("Unlike command not found.");if(!this.is_liked)throw new b("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(f(this,Ye,"f"))})}undislike(){return I(this,void 0,void 0,function*(){if(!f(this,Ye,"f"))throw new b("Actions instance not set for this comment.");if(!this.undislike_command)throw new b("Undislike command not found.");if(!this.is_disliked)throw new b("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(f(this,Ye,"f"))})}reply(e){var i;return I(this,void 0,void 0,function*(){if(!f(this,Ye,"f"))throw new b("Actions instance not set for this comment.");if(!this.reply_command)throw new b("Reply command not found.");let o=(i=this.reply_command.dialog)===null||i===void 0?void 0:i.as(qo);if(!o)throw new b("Reply dialog not found.");let n=o.reply_button;if(!n)throw new b("Reply button not found in the dialog.");if(!n.endpoint)throw new b("Reply button endpoint not found.");return n.endpoint.call(f(this,Ye,"f"),{commentText:e})})}translate(e){var i,o,n,a,c,p;return I(this,void 0,void 0,function*(){if(!f(this,Ye,"f"))throw new b("Actions instance not set for this comment.");if(!this.content)throw new b("Comment content not found.",{comment_id:this.comment_id});let _={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},h=Za(22,_),g=yield f(this,Ye,"f").execute("comment/perform_comment_action",{action:h,client:"ANDROID"}),y=(o=(i=g.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,w=(p=(c=(a=(n=y==null?void 0:y[0])===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},g),{content:w})})}setActions(e){E(this,Ye,e,"f")}};r(lu,"CommentView");Ye=new WeakMap;lu.type="CommentView";var di=lu;var jt,Ki,cu=class extends s{constructor(e){super(),jt.set(this,void 0),Ki.set(this,void 0),Reflect.has(e,"commentViewModel")?this.comment=l.parseItem(e.commentViewModel,di):this.comment=l.parseItem(e.comment,er),this.comment_replies_data=l.parseItem(e.replies,t_),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return I(this,void 0,void 0,function*(){if(!f(this,jt,"f"))throw new b("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new b("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(pe);if(!i)throw new b("Replies continuation not found.");let o=yield i.endpoint.call(f(this,jt,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new b("Unexpected response.",o);return this.replies=oe(o.on_response_received_endpoints_memo.getType(er,di).map(n=>(n.setActions(f(this,jt,"f")),n))),E(this,Ki,o==null?void 0:o.on_response_received_endpoints_memo.getType(pe).first(),"f"),this})}getContinuation(){var e;return I(this,void 0,void 0,function*(){if(!this.replies)throw new b("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!f(this,Ki,"f"))throw new b("Continuation not found.");if(!f(this,jt,"f"))throw new b("Actions instance not set for this thread.");let i=(e=f(this,Ki,"f").button)===null||e===void 0?void 0:e.as(k);if(!i)throw new b('"Load more" button not found.');let o=yield i.endpoint.call(f(this,jt,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new b("Unexpected response.",o);return this.replies=oe(o.on_response_received_endpoints_memo.getType(er,di).map(n=>(n.setActions(f(this,jt,"f")),n))),E(this,Ki,o.on_response_received_endpoints_memo.getType(pe).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new b("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!f(this,Ki,"f")}setActions(e){E(this,jt,e,"f")}};r(cu,"CommentThread");jt=new WeakMap,Ki=new WeakMap;cu.type="CommentThread";var s_=cu;var pu=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=x.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.navigationEndpoint),this.tv_banner=x.fromResponse(e.tvBanner),this.menu=l.parseItem(e.menu,L)}};r(pu,"CompactChannel");pu.type="CompactChannel";var ib=pu;var du=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new v(e.navigationEndpoint),this.style=e.style}};r(du,"CompactLink");du.type="CompactLink";var tr=du;var fu=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail)}};r(fu,"PlaylistCustomThumbnail");fu.type="PlaylistCustomThumbnail";var ir=fu;var mu=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail)}};r(mu,"PlaylistVideoThumbnail");mu.type="PlaylistVideoThumbnail";var or=mu;var hu=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new M(e.longBylineText,e.ownerBadges,null),this.thumbnails=x.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=l.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=l.parseItem(e.menu),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer,[or,ir])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};r(hu,"Playlist");hu.type="Playlist";var Et=hu;var _u=class extends Et{constructor(e){super(e)}};r(_u,"CompactMix");_u.type="CompactMix";var ob=_u;var vu=class extends s{constructor(e){var i;super();let o=((i=e.thumbnailOverlays.find(a=>a.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=x.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new M(e.shortBylineText);let n=e.lengthText?new u(e.lengthText).toString():new u(o).toString();this.duration={text:n,seconds:Se(n)},this.endpoint=new v(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=l.parseItem(e.menu,L)}};r(vu,"CompactMovie");vu.type="CompactMovie";var rb=vu;var xu=class extends Et{constructor(e){super(e)}};r(xu,"CompactPlaylist");xu.type="CompactPlaylist";var nb=xu;var gu=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail=x.fromResponse(e.thumbnail)}};r(gu,"CompactStation");gu.type="CompactStation";var sb=gu;var yu=class extends s{constructor(e){super(),this.title=new u(e.title),this.confirm_button=l.parseItem(e.confirmButton,k),this.cancel_button=l.parseItem(e.cancelButton,k),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};r(yu,"ConfirmDialog");yu.type="ConfirmDialog";var ab=yu;var bu=class extends s{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var o;return{metadata_parts:(o=i.metadataParts)===null||o===void 0?void 0:o.map(n=>({text:u.fromAttributed(n.text)}))}}),this.delimiter=e.delimiter}};r(bu,"ContentMetadataView");bu.type="ContentMetadataView";var rr=bu;var wu=class extends s{constructor(e){super(),this.text=new u(e.text)}};r(wu,"Message");wu.type="Message";var fi=wu;var Tu=class extends s{constructor(e){super(),this.availability_message=l.parseItem(e.availabilityMessage,fi)}};r(Tu,"ConversationBar");Tu.type="ConversationBar";var ub=Tu;var ku=class extends s{constructor(e){super(),this.copy_button=l.parseItem(e.copyButton,k),this.short_url=e.shortUrl,this.style=e.style}};r(ku,"CopyLink");ku.type="CopyLink";var a_=ku;var Iu=class extends s{constructor(e){var i,o;super(),this.avatar=l.parseItem(e.avatar,nh),this.a11y_label=e.a11yLabel,!((o=(i=e.rendererContext)===null||i===void 0?void 0:i.commandContext)===null||o===void 0)&&o.onTap&&(this.on_tap_endpoint=new v(e.rendererContext.commandContext.onTap))}};r(Iu,"DecoratedAvatarView");Iu.type="DecoratedAvatarView";var u_=Iu;var Su=class extends s{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};r(Su,"HeatMarker");Su.type="HeatMarker";var l_=Su;var Cu=class extends s{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=l.parseArray(e.heatMarkers,l_),this.heat_markers_decorations=l.parseArray(e.heatMarkersDecorations)}};r(Cu,"Heatmap");Cu.type="Heatmap";var c_=Cu;var Eu=class extends s{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=l.parseItem(e.value.heatmap,c_)),Reflect.has(e.value,"chapters")&&(this.value.chapters=l.parseArray(e.value.chapters,jh)))}};r(Eu,"Marker");Eu.type="Marker";var Nu=class extends s{constructor(e){var i;super(),this.markers_map=oe(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new Eu(o)))||[])}};r(Nu,"MultiMarkersPlayerBar");Nu.type="MultiMarkersPlayerBar";var p_=Nu;var Pu=class extends s{constructor(e){super(),this.player_bar=l.parseItem(e.playerBar,p_),this.player_bar_action_button=l.parseItem(e.playerBarActionButton,k)}};r(Pu,"DecoratedPlayerBar");Pu.type="DecoratedPlayerBar";var d_=Pu;var Ru=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new v(e.navigationEndpoint),this.large_form_factor_background_thumbnail=l.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=l.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};r(Ru,"DefaultPromoPanel");Ru.type="DefaultPromoPanel";var lb=Ru;var Au=class extends s{constructor(e){var i,o,n,a,c,p;if(super(),this.description=u.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=u.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,!((n=(o=(i=e.rendererContext.commandContext)===null||i===void 0?void 0:i.onTap)===null||o===void 0?void 0:o.innertubeCommand)===null||n===void 0)&&n.showEngagementPanelEndpoint){let d=(p=(c=(a=e.rendererContext.commandContext)===null||a===void 0?void 0:a.onTap)===null||c===void 0?void 0:c.innertubeCommand)===null||p===void 0?void 0:p.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:l.parseItem(d.engagementPanel,si),engagement_panel_popup_type:d.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:d.identifier.surface,tag:d.identifier.tag}}}}}};r(Au,"DescriptionPreviewView");Au.type="DescriptionPreviewView";var f_=Au;var Vu=class extends s{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new v(e.navigationEndpoint||e.correctedQueryEndpoint)}};r(Vu,"DidYouMean");Vu.type="DidYouMean";var cb=Vu;var Mu=class extends s{constructor(e){super(),this.default_button=l.parseItem(e.defaultButtonViewModel,Gi),this.toggled_button=l.parseItem(e.toggledButtonViewModel,Gi),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};r(Mu,"ToggleButtonView");Mu.type="ToggleButtonView";var mi=Mu;var Bu=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,mi),this.dislike_entity_key=e.dislikeEntityKey}};r(Bu,"DislikeButtonView");Bu.type="DislikeButtonView";var m_=Bu;var Du=class extends s{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new v(e.command),this.target_id=e.targetId}};r(Du,"DownloadButton");Du.type="DownloadButton";var h_=Du;var Lu=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};r(Lu,"DynamicTextView");Lu.type="DynamicTextView";var __=Lu;var qi=class extends s{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new qi(o)))}};r(qi,"ChildElement");qi.type="ChildElement";var v_=qi;var Xi=class extends s{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return l.parseItem(e,Xi);let o=e.newElement.type.componentType;this.model=l.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=oe(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(n=>new v_(n)))||[]))}};r(Xi,"Element");Xi.type="Element";var nr=Xi;var Ou=class extends s{constructor(e){super(),this.title=new u(e.title),this.first_option=l.parseItem(e.firstOption),this.menu=l.parseItem(e.menu,L)}};r(Ou,"EmergencyOnebox");Ou.type="EmergencyOnebox";var pb=Ou;var Fu=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};r(Fu,"EmojiPickerCategory");Fu.type="EmojiPickerCategory";var db=Fu;var ju=class extends s{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};r(ju,"EmojiPickerCategoryButton");ju.type="EmojiPickerCategoryButton";var fb=ju;var Yu=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new v(e.command),this.emoji_ids=e.emojiIds}};r(Yu,"EmojiPickerUpsellCategory");Yu.type="EmojiPickerUpsellCategory";var mb=Yu;var Uu=class extends s{constructor(e){super(),this.elements=l.parseArray(e.elements),this.start_ms=e.startMs}};r(Uu,"Endscreen");Uu.type="Endscreen";var x_=Uu;var Wu=class extends s{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new v(e.endpoint),Reflect.has(e,"image")&&(this.image=x.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=x.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=l.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};r(Wu,"EndscreenElement");Wu.type="EndscreenElement";var hb=Wu;var Ju=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new v(e.navigationEndpoint),this.thumbnails=x.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};r(Ju,"EndScreenPlaylist");Ju.type="EndScreenPlaylist";var g_=Ju;var Gu=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=x.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new M(e.shortBylineText,e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=l.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};r(Gu,"EndScreenVideo");Gu.type="EndScreenVideo";var y_=Gu;var Hu=class extends s{constructor(e){super(),this.title=e.title,this.endpoint=new v(e.endpoint),this.selected=e.selected,this.content=l.parseItem(e.content)}};r(Hu,"ExpandableTab");Hu.type="ExpandableTab";var sr=Hu;var zu=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(zu,"ExpandedShelfContents");zu.type="ExpandedShelfContents";var _b=zu;var $u=class extends s{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};r($u,"FancyDismissibleDialog");$u.type="FancyDismissibleDialog";var vb=$u;var Ku=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,je)}};r(Ku,"FeedFilterChipBar");Ku.type="FeedFilterChipBar";var Yt=Ku;var qu=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.endpoint=new v(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};r(qu,"FeedNudge");qu.type="FeedNudge";var xb=qu;var Xu=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(Xu,"FeedTabbedHeader");Xu.type="FeedTabbedHeader";var b_=Xu;var Qu=class extends s{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:l.parseArray(i.actions,[Gi,mi])})),this.style=e.style}};r(Qu,"FlexibleActionsView");Qu.type="FlexibleActionsView";var w_=Qu;var Zu=class extends s{constructor(e){super(),this.title=new u(e.title),this.box_art=x.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new v(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};r(Zu,"GameDetails");Zu.type="GameDetails";var gb=Zu;var el=class extends s{constructor(e){var i,o,n;super(),this.items=l.parseArray(e.items),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)||null}get contents(){return this.items}};r(el,"Grid");el.type="Grid";var yb=el;var tl=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton)}};r(tl,"GridChannel");tl.type="GridChannel";var T_=tl;var il=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(il,"GridHeader");il.type="GridHeader";var bb=il;var ol=class extends s{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new u(e.longBylineText):null,this.thumbnails=x.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.secondary_endpoint=new v(e.secondaryNavigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};r(ol,"GridMix");ol.type="GridMix";var wb=ol;var rl=class extends s{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(n=>n.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=x.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):o!=null&&o.text?new u(o.text):null,this.endpoint=new v(e.navigationEndpoint),this.badges=l.parseArray(e.badges,Ge),this.metadata=new u(e.metadata),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};r(rl,"GridMovie");rl.type="GridMovie";var Tb=rl;var nl=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new M(e.shortBylineText,e.ownerBadges)),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=x.fromResponse(e.thumbnail),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>x.fromResponse(o)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};r(nl,"GridPlaylist");nl.type="GridPlaylist";var k_=nl;var sl=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail)}};r(sl,"ShowCustomThumbnail");sl.type="ShowCustomThumbnail";var I_=sl;var al=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};r(al,"ThumbnailOverlayBottomPanel");al.type="ThumbnailOverlayBottomPanel";var S_=al;var ul=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=ee(e.thumbnailRenderer,I_),this.endpoint=new v(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=De(e.thumbnailOverlays,S_),this.author=new M(e.shortBylineText,void 0)}};r(ul,"GridShow");ul.type="GridShow";var kb=ul;var ll=class extends s{constructor(e){var i,o;super();let n=(i=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=x.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.rich_thumbnail=l.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):n!=null&&n.text?new u(n.text):null,this.author=e.shortBylineText&&new M(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new v(e.navigationEndpoint),this.menu=l.parseItem(e.menu,L),Reflect.has(e,"buttons")&&(this.buttons=l.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};r(ll,"GridVideo");ll.type="GridVideo";var C_=ll;var cl=class extends s{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=x.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};r(cl,"GuideEntry");cl.type="GuideEntry";var Qi=cl;var pl=class extends s{constructor(e){super(),this.expander_item=ee(e.expanderItem,Qi),this.collapser_item=ee(e.collapserItem,Qi),this.expandable_items=De(e.expandableItems)}};r(pl,"GuideCollapsibleEntry");pl.type="GuideCollapsibleEntry";var Ib=pl;var dl=class extends s{constructor(e){super(),this.header_entry=ee(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=De(e.sectionItems)}};r(dl,"GuideCollapsibleSectionEntry");dl.type="GuideCollapsibleSectionEntry";var Sb=dl;var fl=class extends Qi{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};r(fl,"GuideDownloadsEntry");fl.type="GuideDownloadsEntry";var Cb=fl;var ml=class extends s{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=De(e.items)}};r(ml,"GuideSection");ml.type="GuideSection";var ar=ml;var hl=class extends ar{};r(hl,"GuideSubscriptionsSection");hl.type="GuideSubscriptionsSection";var E_=hl;var _l=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};r(_l,"HashtagHeader");_l.type="HashtagHeader";var N_=_l;var vl=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=x.fromResponse(e.hashtagThumbnail),this.endpoint=new v(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};r(vl,"HashtagTile");vl.type="HashtagTile";var Eb=vl;var xl=class extends s{constructor(e){super(),this.thumbnails=x.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap)}};r(xl,"HeroPlaylistThumbnail");xl.type="HeroPlaylistThumbnail";var Nb=xl;var gl=class extends s{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:x.fromResponse(e.thumbnail.image),endpoint:new v(e.thumbnail.onTap),on_long_press_endpoint:new v(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:x.fromResponse(e.backgroundImage.image),gradient_image:x.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new v(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new v(e.textOnTap)}};r(gl,"Panel");gl.type="Panel";var yl=class extends s{constructor(e){super(),this.panels=oe(e.highlightsCarousel.panels.map(i=>new gl(i)))}};r(yl,"HighlightsCarousel");yl.type="HighlightsCarousel";var Pb=yl;var bl=class extends s{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new v(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new v(e.serviceEndpoint))}};r(bl,"SearchSuggestion");bl.type="SearchSuggestion";var P_=bl;var wl=class extends P_{constructor(e){super(e)}};r(wl,"HistorySuggestion");wl.type="HistorySuggestion";var Rb=wl;var Tl=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.previous_button=l.parseItem(e.previousButton,k),this.next_button=l.parseItem(e.nextButton,k)}get contents(){return this.items}};r(Tl,"HorizontalMovieList");Tl.type="HorizontalMovieList";var Ab=Tl;var kl=class extends s{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new v(e.navigationEndpoint)}};r(kl,"IconLink");kl.type="IconLink";var R_=kl;var Il=class extends s{constructor(e){super(),this.image=x.fromResponse(e.image),this.style=e.style}};r(Il,"ImageBannerView");Il.type="ImageBannerView";var A_=Il;var Sl=class extends s{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new v(e.originalQueryEndpoint):void 0}};r(Sl,"IncludingResultsFor");Sl.type="IncludingResultsFor";var Vb=Sl;var Cl=class extends s{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(i=>new u(i))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(i=>u.fromAttributed(i))),this.thumbnail=x.fromResponse(e.thumbnail),this.source_endpoint=new v(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};r(Cl,"InfoPanelContent");Cl.type="InfoPanelContent";var V_=Cl;var El=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.menu=l.parseItem(e.menu,L),this.content=l.parseItem(e.content,V_),e.headerEndpoint&&(this.header_endpoint=new v(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};r(El,"InfoPanelContainer");El.type="InfoPanelContainer";var M_=El;var Nl=class extends s{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=l.parseArray(e.badges,Ge),this.box_art=x.fromResponse(e.boxArt),this.banner=x.fromResponse(e.banner),this.buttons=l.parseArray(e.buttons,[Be,k]),this.auto_generated=new u(e.autoGenerated)}};r(Nl,"InteractiveTabbedHeader");Nl.type="InteractiveTabbedHeader";var B_=Nl;var Pl=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(Pl,"ItemSectionHeader");Pl.type="ItemSectionHeader";var ur=Pl;var Rl=class extends s{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new v(e.endpoint)}};r(Rl,"ItemSectionTab");Rl.type="Tab";var D_=Rl;var Al=class extends s{constructor(e){super(),this.title=new u(e.title),this.tabs=l.parseArray(e.tabs,D_),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};r(Al,"ItemSectionTabbedHeader");Al.type="ItemSectionTabbedHeader";var lr=Al;var Vl=class extends s{constructor(e){super(),this.filter_menu=l.parseItem(e.filterMenu,Zi.SortFilterSubMenu)}};r(Vl,"SortFilterHeader");Vl.type="SortFilterHeader";var L_=Vl;var Ml=class extends s{constructor(e){var i,o,n;super(),this.header=l.parseItem(e.header,[pi,ur,lr,L_]),this.contents=l.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(n=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)}};r(Ml,"ItemSection");Ml.type="ItemSection";var ze=Ml;var Bl=class extends s{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new v(i)))}};r(Bl,"LikeButton");Bl.type="LikeButton";var O_=Bl;var Dl=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,mi),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};r(Dl,"LikeButtonView");Dl.type="LikeButtonView";var F_=Dl;var Ll=class extends s{constructor(e){var i,o;super(),this.header=l.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};r(Ll,"LiveChat");Ll.type="LiveChat";var j_=Ll;var Ol=class extends s{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=l.parseItem(e.contextMenuButton,k)}};r(Ol,"LiveChatBannerHeader");Ol.type="LiveChatBannerHeader";var Y_=Ol;var Fl=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,Y_),this.contents=l.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};r(Fl,"LiveChatBanner");Fl.type="LiveChatBanner";var U_=Fl;var jl=class extends s{constructor(e){super(),this.banner=l.parseItem(e.bannerRenderer,U_)}};r(jl,"AddBannerToLiveChatCommand");jl.type="AddBannerToLiveChatCommand";var Mb=jl;var Yl=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};r(Yl,"AddChatItemAction");Yl.type="AddChatItemAction";var W_=Yl;var Ul=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),this.duration_sec=e.durationSec}};r(Ul,"AddLiveChatTickerItemAction");Ul.type="AddLiveChatTickerItemAction";var Bb=Ul;var Wl=class extends s{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};r(Wl,"DimChatItemAction");Wl.type="DimChatItemAction";var Db=Wl;var Jl=class extends s{constructor(e){super(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.moderation_buttons=l.parseArray(e.moderationButtons,k),this.auto_moderated_item=l.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};r(Jl,"LiveChatAutoModMessage");Jl.type="LiveChatAutoModMessage";var Lb=Jl;var Gl=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=x.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=l.parseItem(e.contextMenuButton,k)}};r(Gl,"LiveChatBannerPoll");Gl.type="LiveChatBannerPoll";var Ob=Gl;var Hl=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};r(Hl,"LiveChatMembershipItem");Hl.type="LiveChatMembershipItem";var Fb=Hl;var zl=class extends s{constructor(e){super(),this.message=new u(e.message),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};r(zl,"LiveChatPaidMessage");zl.type="LiveChatPaidMessage";var jb=zl;var $l=class extends s{constructor(e){super(),this.id=e.id,this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=x.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};r($l,"LiveChatPaidSticker");$l.type="LiveChatPaidSticker";var Yb=$l;var Kl=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};r(Kl,"LiveChatPlaceholderItem");Kl.type="LiveChatPlaceholderItem";var Ub=Kl;var ql=class extends s{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=x.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=l.parseItem(e.informationButton),this.endpoint=new v(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=x.fromResponse(e.authorPhoto),this.information_dialog=l.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};r(ql,"LiveChatProductItem");ql.type="LiveChatProductItem";var Wb=ql;var Xl=class extends s{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};r(Xl,"LiveChatRestrictedParticipation");Xl.type="LiveChatRestrictedParticipation";var Jb=Xl;var eo=class extends s{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=l.parseArray(e.inlineActionButtons,k),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};r(eo,"LiveChatMessageBase");eo.type="LiveChatMessageBase";var Ql=class extends eo{constructor(e){super(e),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};r(Ql,"LiveChatTextMessage");Ql.type="LiveChatTextMessage";var Gb=Ql;var Zl=class extends s{constructor(e){var i,o;super(),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=l.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new v(e.showItemEndpoint),this.id=e.id}};r(Zl,"LiveChatTickerPaidMessageItem");Zl.type="LiveChatTickerPaidMessageItem";var J_=Zl;var ec=class extends J_{};r(ec,"LiveChatTickerPaidStickerItem");ec.type="LiveChatTickerPaidStickerItem";var Hb=ec;var tc=class extends s{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new M(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};r(tc,"LiveChatTickerSponsorItem");tc.type="LiveChatTickerSponsorItem";var zb=tc;var ic=class extends eo{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=l.parseItem(e.actionButton)}};r(ic,"LiveChatViewerEngagementMessage");ic.type="LiveChatViewerEngagementMessage";var $b=ic;var oc=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=x.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=l.parseItem(e.contextMenuButton,k)}};r(oc,"PollHeader");oc.type="PollHeader";var Kb=oc;var rc=class extends s{constructor(e){super(),this.id=e.id,this.contents=l.parse(e.contents),this.target_id=e.targetId}};r(rc,"LiveChatActionPanel");rc.type="LiveChatActionPanel";var G_=rc;var nc=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};r(nc,"MarkChatItemAsDeletedAction");nc.type="MarkChatItemAsDeletedAction";var qb=nc;var sc=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};r(sc,"MarkChatItemsByAuthorAsDeletedAction");sc.type="MarkChatItemsByAuthorAsDeletedAction";var Xb=sc;var ac=class extends s{constructor(e){super(),this.target_action_id=e.targetActionId}};r(ac,"RemoveBannerForLiveChatCommand");ac.type="RemoveBannerForLiveChatCommand";var Qb=ac;var uc=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId}};r(uc,"RemoveChatItemAction");uc.type="RemoveChatItemAction";var Zb=uc;var lc=class extends s{constructor(e){super(),this.external_channel_id=e.externalChannelId}};r(lc,"RemoveChatItemByAuthorAction");lc.type="RemoveChatItemByAuthorAction";var ew=lc;var cc=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=l.parseItem(e.replacementItem)}};r(cc,"ReplaceChatItemAction");cc.type="ReplaceChatItemAction";var tw=cc;var pc=class extends s{constructor(e){var i;super(),this.actions=l.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};r(pc,"ReplayChatItemAction");pc.type="ReplayChatItemAction";var iw=pc;var dc=class extends s{constructor(e){super(),this.panel_to_show=l.parseItem(e.panelToShow,G_)}};r(dc,"ShowLiveChatActionPanelAction");dc.type="ShowLiveChatActionPanelAction";var ow=dc;var fc=class extends s{constructor(e){super(),this.dialog=l.parseItem(e.dialog)}};r(fc,"ShowLiveChatDialogAction");fc.type="ShowLiveChatDialogAction";var rw=fc;var mc=class extends s{constructor(e){super(),this.tooltip=l.parseItem(e.tooltip)}};r(mc,"ShowLiveChatTooltipCommand");mc.type="ShowLiveChatTooltipCommand";var nw=mc;var hc=class extends s{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};r(hc,"UpdateDateTextAction");hc.type="UpdateDateTextAction";var H_=hc;var _c=class extends s{constructor(e){super(),this.description=new u(e.description)}};r(_c,"UpdateDescriptionAction");_c.type="UpdateDescriptionAction";var z_=_c;var vc=class extends s{constructor(e){super(),this.poll_to_update=l.parseItem(e.pollToUpdate)}};r(vc,"UpdateLiveChatPollAction");vc.type="UpdateLiveChatPollAction";var sw=vc;var xc=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(xc,"UpdateTitleAction");xc.type="UpdateTitleAction";var $_=xc;var gc=class extends s{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};r(gc,"UpdateToggleButtonTextAction");gc.type="UpdateToggleButtonTextAction";var K_=gc;var yc=class extends s{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};r(yc,"UpdateViewershipAction");yc.type="UpdateViewershipAction";var q_=yc;var bc=class extends Ge{constructor(e){super(e),this.custom_thumbnail=x.fromResponse(e.customThumbnail)}};r(bc,"LiveChatAuthorBadge");bc.type="LiveChatAuthorBadge";var aw=bc;var wc=class extends s{constructor(e){super(),this.confirm_button=l.parseItem(e.confirmButton,k),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};r(wc,"LiveChatDialog");wc.type="LiveChatDialog";var uw=wc;var Tc=class extends s{constructor(e){super(),this.overflow_menu=l.parseItem(e.overflowMenu,L),this.collapse_button=l.parseItem(e.collapseButton,k),this.view_selector=l.parseItem(e.viewSelector,ht)}};r(Tc,"LiveChatHeader");Tc.type="LiveChatHeader";var X_=Tc;var kc=class extends s{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=l.parseItem(e.moreCommentsBelowButton,k)}};r(kc,"LiveChatItemList");kc.type="LiveChatItemList";var Q_=kc;var Ic=class extends s{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=x.fromResponse(e.authorPhoto),this.send_button=l.parseItem(e.sendButton,k),this.target_id=e.targetId}};r(Ic,"LiveChatMessageInput");Ic.type="LiveChatMessageInput";var lw=Ic;var Sc=class extends s{constructor(e){super(),this.name=new u(e.authorName),this.photo=x.fromResponse(e.authorPhoto),this.badges=l.parseArray(e.authorBadges)}};r(Sc,"LiveChatParticipant");Sc.type="LiveChatParticipant";var Z_=Sc;var Cc=class extends s{constructor(e){super(),this.title=new u(e.title),this.participants=l.parseArray(e.participants,Z_)}};r(Cc,"LiveChatParticipantsList");Cc.type="LiveChatParticipantsList";var ev=Cc;var Ec=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.metadata=l.parseItem(e.metadata,rr)}};r(Ec,"LockupMetadataView");Ec.type="LockupMetadataView";var tv=Ec;var Nc=class extends s{constructor(e){super(),this.content_image=l.parseItem(e.contentImage,Hh),this.metadata=l.parseItem(e.metadata,tv),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.on_tap_endpoint=new v(e.rendererContext.commandContext.onTap)}};r(Nc,"LockupView");Nc.type="LockupView";var iv=Nc;var Pc=class extends k{constructor(e){super(e)}};r(Pc,"MenuNavigationItem");Pc.type="MenuNavigationItem";var ov=Pc;var Rc=class extends k{constructor(e){super(e)}};r(Rc,"MenuServiceItem");Rc.type="MenuServiceItem";var hi=Rc;var Ac=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[ov,hi])}};r(Ac,"MenuPopup");Ac.type="MenuPopup";var cw=Ac;var Vc=class extends s{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint)}};r(Vc,"MenuServiceItemDownload");Vc.type="MenuServiceItemDownload";var pw=Vc;var Mc=class extends s{constructor(e){super(),this.header=l.parse(e.header),this.sections=l.parse(e.sections),this.style=e.style}};r(Mc,"MultiPageMenu");Mc.type="MultiPageMenu";var dw=Mc;var Bc=class extends s{constructor(e){super(),this.items=l.parse(e.items)}get contents(){return this.items}};r(Bc,"MultiPageMenuNotificationSection");Bc.type="MultiPageMenuNotificationSection";var fw=Bc;var Dc=class extends s{constructor(e){super()}};r(Dc,"MusicMenuItemDivider");Dc.type="MusicMenuItemDivider";var rv=Dc;var Lc=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new v(e.selectedCommand)),this.selected=!!this.endpoint}};r(Lc,"MusicMultiSelectMenuItem");Lc.type="MusicMultiSelectMenuItem";var cr=Lc;var Oc=class extends s{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=l.parseArray(e.options,[cr,rv])}};r(Oc,"MusicMultiSelectMenu");Oc.type="MusicMultiSelectMenu";var nv=Oc;var Fc=class extends s{constructor(e){super(),this.title=new u(e.title),this.buttons=l.parse(e.buttons)}};r(Fc,"SimpleMenuHeader");Fc.type="SimpleMenuHeader";var sv=Fc;var jc=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=x.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new v(e.buttonCommand)}};r(jc,"MerchandiseItem");jc.type="MerchandiseItem";var mw=jc;var Yc=class extends s{constructor(e){super(),this.title=e.title,this.menu=l.parseItem(e.actionButton),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Yc,"MerchandiseShelf");Yc.type="MerchandiseShelf";var av=Yc;var Uc=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};r(Uc,"MetadataRow");Uc.type="MetadataRow";var hw=Uc;var Wc=class extends s{constructor(e){super(),this.rows=l.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};r(Wc,"MetadataRowContainer");Wc.type="MetadataRowContainer";var uv=Wc;var Jc=class extends s{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};r(Jc,"MetadataRowHeader");Jc.type="MetadataRowHeader";var _w=Jc;var Gc=class extends s{constructor(e){super(),this.section_list=l.parseItem(e)}};r(Gc,"MetadataScreen");Gc.type="MetadataScreen";var vw=Gc;var Hc=class extends s{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=x.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};r(Hc,"MicroformatData");Hc.type="MicroformatData";var pr=Hc;var zc=class extends Et{constructor(e){super(e)}};r(zc,"Mix");zc.type="Mix";var xw=zc;var $c=class extends s{constructor(e){super(),this.title=new u(e.title),this.content=new u(e.content),this.button=l.parseItem(e.button,k)}};r($c,"ModalWithTitleAndButton");$c.type="ModalWithTitleAndButton";var gw=$c;var Kc=class extends s{constructor(e){var i,o,n;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=x.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new M(e.longBylineText,e.ownerBadges,(n=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||n===void 0?void 0:n.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:Se(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.endpoint=new v(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=l.parseItem(e.menu,L)}};r(Kc,"Movie");Kc.type="Movie";var yw=Kc;var qc=class extends s{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new x(o)).sort((o,n)=>n.width-o.width)}};r(qc,"MovingThumbnail");qc.type="MovingThumbnail";var bw=qc;var Xc=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(Xc,"MusicCardShelfHeaderBasic");Xc.type="MusicCardShelfHeaderBasic";var lv=Xc;var Qc=class extends s{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};r(Qc,"MusicInlineBadge");Qc.type="MusicInlineBadge";var dr=Qc;var Zc=class extends s{constructor(e){var i,o;super(),this.endpoint=new v(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};r(Zc,"MusicPlayButton");Zc.type="MusicPlayButton";var fr=Zc;var ep=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,fr),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};r(ep,"MusicItemThumbnailOverlay");ep.type="MusicItemThumbnailOverlay";var Nt=ep;var tp=class extends s{constructor(e){super(),this.contents=x.fromResponse(e.thumbnail)}};r(tp,"MusicThumbnail");tp.type="MusicThumbnail";var Ae=tp;var ip=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ae),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=l.parseArray(e.buttons,k),this.menu=l.parseItem(e.menu,L),this.on_tap=new v(e.onTap),this.header=l.parseItem(e.header,lv),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=l.parseArray(e.subtitleBadges,dr),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Nt),Reflect.has(e,"contents")&&(this.contents=l.parseArray(e.contents))}};r(ip,"MusicCardShelf");ip.type="MusicCardShelf";var ww=ip;var op=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Ae)),Reflect.has(e,"moreContentButton")&&(this.more_content=l.parseItem(e.moreContentButton,k)),Reflect.has(e,"endIcons")&&(this.end_icons=l.parseArray(e.endIcons,R_))}};r(op,"MusicCarouselShelfBasicHeader");op.type="MusicCarouselShelfBasicHeader";var cv=op;var rp=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ae),this.overlay=l.parseItem(e.overlay,Nt),this.on_tap=new v(e.onTap),this.menu=l.parseItem(e.menu,L),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};r(rp,"MusicMultiRowListItem");rp.type="MusicMultiRowListItem";var pv=rp;var np=class extends s{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new v(e.clickCommand)}};r(np,"MusicNavigationButton");np.type="MusicNavigationButton";var dv=np;var sp=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};r(sp,"MusicResponsiveListItemFixedColumn");sp.type="musicResponsiveListItemFlexColumnRenderer";var fv=sp;var ap=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};r(ap,"MusicResponsiveListItemFlexColumn");ap.type="MusicResponsiveListItemFlexColumn";var mv=ap;var tt,mr,kg,Iw,Tw,kw,Sw,Cw,Ew,Nw,Pw,Rw,up=class extends s{constructor(e){var i,o,n,a,c,p;super(),tt.add(this),mr.set(this,void 0),this.flex_columns=l.parseArray(e.flexColumns,mv),this.fixed_columns=l.parseArray(e.fixedColumns,fv),E(this,mr,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint));let d=(p=(c=(a=(n=this.endpoint)===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.browseEndpointContextSupportedConfigs)===null||c===void 0?void 0:c.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(d||this.flex_columns.find(h=>{var g,y,w,S;return((S=(w=(y=(g=h.title.endpoint)===null||g===void 0?void 0:g.payload)===null||y===void 0?void 0:y.browseEndpointContextSupportedConfigs)===null||w===void 0?void 0:w.browseEndpointContextMusicConfig)===null||S===void 0?void 0:S.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(d="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),d){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",f(this,tt,"m",Pw).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",f(this,tt,"m",Rw).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",f(this,tt,"m",Sw).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",f(this,tt,"m",Cw).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",f(this,tt,"m",Ew).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",f(this,tt,"m",Nw).call(this);break;default:this.flex_columns[1]?f(this,tt,"m",Iw).call(this):f(this,tt,"m",kg).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Ae)),Reflect.has(e,"badges")&&(this.badges=l.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu,L)),Reflect.has(e,"overlay")&&(this.overlay=l.parseItem(e.overlay,Nt))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};r(up,"MusicResponsiveListItem");mr=new WeakMap,tt=new WeakSet,kg=r(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),Iw=r(function(){var e,i,o,n,a,c,p;switch((p=(c=(a=(n=(o=(i=(e=this.flex_columns.at(0))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.endpoint)===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.watchEndpointMusicSupportedConfigs)===null||c===void 0?void 0:c.watchEndpointMusicConfig)===null||p===void 0?void 0:p.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",f(this,tt,"m",kw).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",f(this,tt,"m",Tw).call(this);break;default:f(this,tt,"m",kg).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),Tw=r(function(){var e,i,o,n,a,c,p,d,_,h,g,y,w,S,T;this.id=f(this,mr,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let A=((a=(n=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||n===void 0?void 0:n.find(Y=>/^\d+$/.test(Y.text.replace(/:/g,""))))===null||a===void 0?void 0:a.text)||((p=(c=this.fixed_columns.first())===null||c===void 0?void 0:c.title)===null||p===void 0?void 0:p.toString());A&&(this.duration={text:A,seconds:Se(A)});let R=((_=(d=this.flex_columns.at(1))===null||d===void 0?void 0:d.title.runs)===null||_===void 0?void 0:_.find(Y=>Ue(Y)&&Y.endpoint&&Y.endpoint.payload.browseId.startsWith("MPR")))||((g=(h=this.flex_columns.at(2))===null||h===void 0?void 0:h.title.runs)===null||g===void 0?void 0:g.find(Y=>Ue(Y)&&Y.endpoint&&Y.endpoint.payload.browseId.startsWith("MPR")));R&&Ue(R)&&(this.album={id:(w=(y=R.endpoint)===null||y===void 0?void 0:y.payload)===null||w===void 0?void 0:w.browseId,name:R.text,endpoint:R.endpoint});let K=(T=(S=this.flex_columns.at(1))===null||S===void 0?void 0:S.title.runs)===null||T===void 0?void 0:T.filter(Y=>Ue(Y)&&Y.endpoint&&Y.endpoint.payload.browseId.startsWith("UC"));K&&(this.artists=K.map(Y=>{var ce,ue;return{name:Y.text,channel_id:Ue(Y)?(ue=(ce=Y.endpoint)===null||ce===void 0?void 0:ce.payload)===null||ue===void 0?void 0:ue.browseId:void 0,endpoint:Ue(Y)?Y.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),kw=r(function(){var e,i,o,n,a,c,p,d,_,h;this.id=f(this,mr,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(w=>w.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let g=(a=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title.runs)===null||a===void 0?void 0:a.filter(w=>Ue(w)&&w.endpoint&&w.endpoint.payload.browseId.startsWith("UC"));g&&(this.authors=g.map(w=>{var S,T;return{name:w.text,channel_id:Ue(w)?(T=(S=w.endpoint)===null||S===void 0?void 0:S.payload)===null||T===void 0?void 0:T.browseId:void 0,endpoint:Ue(w)?w.endpoint:void 0}}));let y=((p=(c=this.flex_columns[1].title.runs)===null||c===void 0?void 0:c.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((h=(_=(d=this.fixed_columns.first())===null||d===void 0?void 0:d.title.runs)===null||_===void 0?void 0:_.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||h===void 0?void 0:h.text);y&&(this.duration={text:y,seconds:Se(y)})},"_MusicResponsiveListItem_parseVideo"),Sw=r(function(){var e,i,o,n,a,c;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title,this.subscribers=((c=(a=(n=this.subtitle)===null||n===void 0?void 0:n.runs)===null||a===void 0?void 0:a.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||c===void 0?void 0:c.text)||""},"_MusicResponsiveListItem_parseArtist"),Cw=r(function(){var e,i,o,n;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((n=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(a=>/^\d+(,\d+)? songs?$/i.test(a.text)))===null||n===void 0?void 0:n.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),Ew=r(function(){var e,i;this.id=f(this,mr,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),Nw=r(function(){var e,i;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),Pw=r(function(){var e,i,o,n,a,c,p,d,_;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let h=(n=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||n===void 0?void 0:n.find(g=>Ue(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));h&&Ue(h)&&(this.author={name:h.text,channel_id:(c=(a=h.endpoint)===null||a===void 0?void 0:a.payload)===null||c===void 0?void 0:c.browseId,endpoint:h.endpoint}),this.year=(_=(d=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||d===void 0?void 0:d.find(g=>/^[12][0-9]{3}$/.test(g.text)))===null||_===void 0?void 0:_.text},"_MusicResponsiveListItem_parseAlbum"),Rw=r(function(){var e,i,o,n,a,c,p,d;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let _=(n=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||n===void 0?void 0:n.find(g=>g.text.match(/\d+ (song|songs)/));this.item_count=_?_.text:void 0;let h=(c=(a=this.flex_columns.at(1))===null||a===void 0?void 0:a.title.runs)===null||c===void 0?void 0:c.find(g=>Ue(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));h&&Ue(h)&&(this.author={name:h.text,channel_id:(d=(p=h.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId,endpoint:h.endpoint})},"_MusicResponsiveListItem_parsePlaylist");up.type="MusicResponsiveListItem";var _i=up;var lp=class extends s{constructor(e){var i,o,n,a,c,p,d,_,h,g,y,w,S,T,A,R,K,Y,ce,ue,_e,G;switch(super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((a=(n=this.endpoint)===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.videoId),this.subtitle=new u(e.subtitle),this.badges=l.parse(e.subtitleBadges),(_=(d=(p=(c=this.endpoint)===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||d===void 0?void 0:d.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((g=(h=this.endpoint)===null||h===void 0?void 0:h.metadata)===null||g===void 0?void 0:g.api_url)==="/next"?this.item_type="endpoint":!((y=this.subtitle.runs)===null||y===void 0)&&y[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((S=(w=this.subtitle.runs)===null||w===void 0?void 0:w.find(z=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(z.text)))===null||S===void 0?void 0:S.text)||"";else if(this.item_type=="playlist"){let z=(T=this.subtitle.runs)===null||T===void 0?void 0:T.find(H=>H.text.match(/\d+ songs|song/));this.item_count=z?z.text:null}else if(this.item_type=="album"){let z=(A=this.subtitle.runs)===null||A===void 0?void 0:A.filter(H=>{var q,ie;return(ie=(q=H.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId.startsWith("UC")});z&&(this.artists=z.map(H=>{var q,ie;return{name:H.text,channel_id:(ie=(q=H.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId,endpoint:H.endpoint}})),this.year=(R=this.subtitle.runs)===null||R===void 0?void 0:R.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((Y=(K=this===null||this===void 0?void 0:this.subtitle.runs)===null||K===void 0?void 0:K.find(H=>H==null?void 0:H.text.match(/(.*?) views/)))===null||Y===void 0?void 0:Y.text)||"N/A";let z=(ce=this.subtitle.runs)===null||ce===void 0?void 0:ce.find(H=>{var q,ie,Ie;return(Ie=(ie=(q=H.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId)===null||Ie===void 0?void 0:Ie.startsWith("UC")});z&&(this.author={name:z==null?void 0:z.text,channel_id:(_e=(ue=z==null?void 0:z.endpoint)===null||ue===void 0?void 0:ue.payload)===null||_e===void 0?void 0:_e.browseId,endpoint:z==null?void 0:z.endpoint})}else if(this.item_type=="song"){let z=(G=this.subtitle.runs)===null||G===void 0?void 0:G.filter(H=>{var q,ie;return(ie=(q=H.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId.startsWith("UC")});z&&(this.artists=z.map(H=>{var q,ie;return{name:H==null?void 0:H.text,channel_id:(ie=(q=H==null?void 0:H.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId,endpoint:H==null?void 0:H.endpoint}}))}this.thumbnail=x.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Nt),this.menu=l.parseItem(e.menu,L)}};r(lp,"MusicTwoRowItem");lp.type="MusicTwoRowItem";var hv=lp;var cp=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,cv),this.contents=l.parseArray(e.contents,[hv,_i,pv,dv]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};r(cp,"MusicCarouselShelf");cp.type="MusicCarouselShelf";var Aw=cp;var pp=class extends s{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};r(pp,"MusicDescriptionShelf");pp.type="MusicDescriptionShelf";var _v=pp;var dp=class extends s{constructor(e){var i,o,n,a,c,p,d,_,h;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(y=>/^[12][0-9]{3}$/.test(y.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((a=(n=this.second_subtitle.runs)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.text)||"",this.total_duration=((p=(c=this.second_subtitle.runs)===null||c===void 0?void 0:c[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=x.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=l.parseArray(e.subtitleBadges);let g=(d=this.subtitle.runs)===null||d===void 0?void 0:d.find(y=>{var w,S;return(S=(w=y==null?void 0:y.endpoint)===null||w===void 0?void 0:w.payload)===null||S===void 0?void 0:S.browseId.startsWith("UC")});g&&(this.author={name:g.text,channel_id:(h=(_=g.endpoint)===null||_===void 0?void 0:_.payload)===null||h===void 0?void 0:h.browseId,endpoint:g.endpoint}),this.menu=l.parseItem(e.menu)}};r(dp,"MusicDetailHeader");dp.type="MusicDetailHeader";var Vw=dp;var fp=class extends s{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};r(fp,"MusicDownloadStateBadge");fp.type="MusicDownloadStateBadge";var Mw=fp;var mp=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.edit_header=l.parseItem(e.editHeader),this.playlist_id=e.playlistId}};r(mp,"MusicEditablePlaylistDetailHeader");mp.type="MusicEditablePlaylistDetailHeader";var Bw=mp;var hp=class extends s{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?l.parseItem(e,nr):null}};r(hp,"MusicElementHeader");hp.type="MusicElementHeader";var Dw=hp;var _p=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};r(_p,"MusicHeader");_p.type="MusicHeader";var Lw=_p;var vp=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=l.parseItem(e.thumbnail,Ae)}};r(vp,"MusicImmersiveHeader");vp.type="MusicImmersiveHeader";var Ow=vp;var xp=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new v(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};r(xp,"ActionButton");xp.type="ActionButton";var gp=class{constructor(e){this.image=x.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new xp(i))}};r(gp,"Panel");gp.type="Panel";var yp=class extends s{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new gp(i))}};r(yp,"MusicLargeCardItemCarousel");yp.type="MusicLargeCardItemCarousel";var Fw=yp;var bp=class extends s{constructor(e){super(),this.title=new u(e.title),this.edit_title=new u(e.editTitle),this.edit_description=new u(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new v(e.collaborationSettingsCommand),this.privacy_dropdown=l.parseItem(e.privacyDropdown,ei)}};r(bp,"MusicPlaylistEditHeader");bp.type="MusicPlaylistEditHeader";var jw=bp;var wp=class extends s{constructor(e){var i,o,n;super(),this.playlist_id=e.playlistId,this.contents=l.parseArray(e.contents,_i),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)||null}};r(wp,"MusicPlaylistShelf");wp.type="MusicPlaylistShelf";var Yw=wp;var Tp=class extends s{constructor(e){var i,o,n,a,c;super(),this.title=new u(e.title),this.thumbnail=x.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:Se(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(_=>{var h,g,y;return(y=(g=(h=_.endpoint)===null||h===void 0?void 0:h.payload)===null||g===void 0?void 0:g.browseId)===null||y===void 0?void 0:y.startsWith("MPR")}),d=(o=new u(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(_=>{var h,g,y;return(y=(g=(h=_.endpoint)===null||h===void 0?void 0:h.payload)===null||g===void 0?void 0:g.browseId)===null||y===void 0?void 0:y.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(a=(n=p.endpoint)===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.browseId,name:p.text,year:(c=new u(e.longBylineText).runs)===null||c===void 0?void 0:c.slice(-1)[0].text,endpoint:p.endpoint}),d&&(this.artists=d.map(_=>{var h,g;return{name:_.text,channel_id:(g=(h=_.endpoint)===null||h===void 0?void 0:h.payload)===null||g===void 0?void 0:g.browseId,endpoint:_.endpoint}})),this.badges=l.parseArray(e.badges),this.menu=l.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};r(Tp,"PlaylistPanelVideo");Tp.type="PlaylistPanelVideo";var Ut=Tp;var kp=class extends s{constructor(e){super(),this.primary=l.parseItem(e.primaryRenderer,Ut),Reflect.has(e,"counterpart")&&(this.counterpart=oe(e.counterpart.map(i=>l.parseItem(i.counterpartRenderer,Ut))||[]))}};r(kp,"PlaylistPanelVideoWrapper");kp.type="PlaylistPanelVideoWrapper";var vv=kp;var Ip=class extends s{constructor(e){var i,o,n,a,c,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=l.parseArray(e.contents,[vv,Ut,rh]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||n===void 0?void 0:n.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};r(Ip,"PlaylistPanel");Ip.type="PlaylistPanel";var xv=Ip;var Sp=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,xv)}};r(Sp,"MusicQueue");Sp.type="MusicQueue";var gv=Sp;var Cp=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ae),this.buttons=l.parseArray(e.buttons,[h_,ye,fr,k,L]),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.strapline_text_one=new u(e.straplineTextOne),this.strapline_thumbnail=l.parseItem(e.straplineThumbnail,Ae),this.second_subtitle=new u(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=l.parseArray(e.subtitleBadge,dr)),Reflect.has(e,"description")&&(this.description=l.parseItem(e.description,_v))}};r(Cp,"MusicResponsiveHeader");Cp.type="MusicResponsiveHeader";var Uw=Cp;var Ep=class extends s{constructor(e){var i,o,n,a;super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents,_i),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new v(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((a=(n=e.continuations)===null||n===void 0?void 0:n[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=l.parseItem(e.bottomButton,k)),Reflect.has(e,"subheaders")&&(this.subheaders=l.parseArray(e.subheaders))}};r(Ep,"MusicShelf");Ep.type="MusicShelf";var Ww=Ep;var Np=class extends s{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=l.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};r(Np,"MusicSideAlignedItem");Np.type="MusicSideAlignedItem";var Jw=Np;var Pp=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=l.parseItem(e.menu,nv)}};r(Pp,"MusicSortFilterButton");Pp.type="MusicSortFilterButton";var Gw=Pp;var Rp=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail)}};r(Rp,"MusicTastebuilderShelfThumbnail");Rp.type="MusicTastebuilderShelfThumbnail";var yv=Rp;var Ap=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,yv),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=l.parseItem(e.actionButton,k),this.is_visible=e.isVisible}};r(Ap,"MusicTasteBuilderShelf");Ap.type="MusicTasteBuilderShelf";var Hw=Ap;var Vp=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?x.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=l.parseItem(e.menu,L),this.foreground_thumbnail=e.foregroundThumbnail?x.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};r(Vp,"MusicVisualHeader");Vp.type="MusicVisualHeader";var zw=Vp;var Mp=class extends s{constructor(e){super(),this.thumbnails=x.fromResponse(e.thumbnail),this.video_thumbnails=x.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new v(e.navigationEndpoint),this.record_click_endpoint=new v(e.recordClickEndpoint),this.menu=l.parseItem(e.contextualMenu),this.read=e.read}};r(Mp,"Notification");Mp.type="Notification";var bv=Mp;var Bp=class extends s{constructor(e){super(),this.title=l.parseItem(e.title,__),this.image=l.parseItem(e.image,[Wo,u_]),this.metadata=l.parseItem(e.metadata,rr),this.actions=l.parseItem(e.actions,w_),this.description=l.parseItem(e.description,f_),this.attributation=l.parseItem(e.attributation,ih),this.banner=l.parseItem(e.banner,A_)}};r(Bp,"PageHeaderView");Bp.type="PageHeaderView";var wv=Bp;var Dp=class extends s{constructor(e){super(),this.page_title=e.pageTitle,this.content=l.parseItem(e.content,wv)}};r(Dp,"PageHeader");Dp.type="PageHeader";var Pt=Dp;var Lp=class extends s{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};r(Lp,"PageIntroduction");Lp.type="PageIntroduction";var Tv=Lp;var Op=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail),this.endpoint=new v(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};r(Op,"PivotButton");Op.type="PivotButton";var kv=Op;var Fp=class extends s{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:x.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new v(e.featuredChannel.navigationEndpoint),subscribe_button:l.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};r(Fp,"PlayerAnnotationsExpanded");Fp.type="PlayerAnnotationsExpanded";var Iv=Fp;var jp=class extends s{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};r(jp,"PlayerCaptionsTracklist");jp.type="PlayerCaptionsTracklist";var Sv=jp;var Yp=class extends s{constructor(e){super(),this.endpoint=new v(e.endpoint),this.enable_listen_first=e.enableListenFirst}};r(Yp,"PlayerOverflow");Yp.type="PlayerOverflow";var Cv=Yp;var Up=class extends s{constructor(e){super(),this.overflow=l.parseItem(e.overflow,Cv)}};r(Up,"PlayerControlsOverlay");Up.type="PlayerControlsOverlay";var $w=Up;var Wp=class extends s{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=l.parseItem(e.proceedButton,k),this.thumbnails=x.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};r(Wp,"PlayerErrorMessage");Wp.type="PlayerErrorMessage";var Kw=Wp;var Jp=class extends s{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};r(Jp,"PlayerLegacyDesktopYpcOffer");Jp.type="PlayerLegacyDesktopYpcOffer";var qw=Jp;var Gp=class extends s{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};r(Gp,"YpcTrailer");Gp.type="YpcTrailer";var Ev=Gp;var Hp=class extends s{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=l.parseItem(e.ypcTrailer,Ev)}};r(Hp,"PlayerLegacyDesktopYpcTrailer");Hp.type="PlayerLegacyDesktopYpcTrailer";var zp=Hp;var $p=class extends s{constructor(e){super();let[i,o,n,a,c]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(o,10),thumbnail_height:parseInt(n,10),columns:parseInt(a,10),rows:parseInt(c,10)}}};r($p,"PlayerLiveStoryboardSpec");$p.type="PlayerLiveStoryboardSpec";var Nv=$p;var Kp=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=x.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=!((o=e.liveBroadcastDetails)===null||o===void 0)&&o.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};r(Kp,"PlayerMicroformat");Kp.type="PlayerMicroformat";var nt=Kp;var qp=class extends s{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=x.fromResponse(e.background),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new M(e.byline),this.cancel_button=l.parseItem(e.cancelButton,k),this.next_button=l.parseItem(e.nextButton,k),this.close_button=l.parseItem(e.closeButton,k)}};r(qp,"PlayerOverlayAutoplay");qp.type="PlayerOverlayAutoplay";var Pv=qp;var Xp=class extends s{constructor(e){super(),this.results=l.parseArray(e.results,[y_,g_]),this.title=new u(e.title).toString()}};r(Xp,"WatchNextEndScreen");Xp.type="WatchNextEndScreen";var Rv=Xp;var Qp=class extends s{constructor(e){super(),this.end_screen=l.parseItem(e.endScreen,Rv),this.autoplay=l.parseItem(e.autoplay,Pv),this.share_button=l.parseItem(e.shareButton,k),this.add_to_menu=l.parseItem(e.addToMenu,L),this.fullscreen_engagement=l.parseItem(e.fullscreenEngagement),this.actions=l.parseArray(e.actions),this.browser_media_session=l.parseItem(e.browserMediaSession),this.decorated_player_bar=l.parseItem(e.decoratedPlayerBarRenderer,d_)}};r(Qp,"PlayerOverlay");Qp.type="PlayerOverlay";var Av=Qp;var Zp=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new M(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=l.parseItem(e.saveButton),this.shuffle_play_button=l.parseItem(e.shufflePlayButton),this.menu=l.parseItem(e.moreActionsMenu),this.banner=l.parseItem(e.playlistHeaderBanner)}};r(Zp,"PlaylistHeader");Zp.type="PlaylistHeader";var Vv=Zp;var ed=class extends s{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=x.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new v(e.action)}};r(ed,"PlaylistInfoCardContent");ed.type="PlaylistInfoCardContent";var Xw=ed;var td=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description||null}};r(td,"PlaylistMetadata");td.type="PlaylistMetadata";var Mv=td;var id=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(id,"PlaylistSidebar");id.type="PlaylistSidebar";var Qw=id;var od=class extends s{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=l.parseItem(e.menu),this.endpoint=new v(e.navigationEndpoint),this.description=new u(e.description)}};r(od,"PlaylistSidebarPrimaryInfo");od.type="PlaylistSidebarPrimaryInfo";var Bv=od;var rd=class extends s{constructor(e){super(),this.owner=l.parseItem(e.videoOwner),this.button=l.parseItem(e.button)}};r(rd,"PlaylistSidebarSecondaryInfo");rd.type="PlaylistSidebarSecondaryInfo";var Dv=rd;var nd=class extends s{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new M(e.shortBylineText),this.thumbnails=x.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new v(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=l.parseItem(e.menu,L),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(zi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(zi))===null||e===void 0?void 0:e.style)==="UPCOMING"}};r(nd,"PlaylistVideo");nd.type="PlaylistVideo";var hr=nd;var sd=class extends s{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=l.parseArray(e.contents)}};r(sd,"PlaylistVideoList");sd.type="PlaylistVideoList";var Zw=sd;var ad=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new v(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new v(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?x.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};r(ad,"Poll");ad.type="Poll";var eT=ad;var ud=class extends oi{constructor(e){super(e)}};r(ud,"Post");ud.type="Post";var Lv=ud;var ld=class extends s{constructor(e){super(),this.images=l.parseArray(e.images,sh)}};r(ld,"PostMultiImage");ld.type="PostMultiImage";var tT=ld;var cd=class extends s{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};r(cd,"ProductListHeader");cd.type="ProductListHeader";var iT=cd;var pd=class extends s{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=x.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new v(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=l.parseItem(e.viewButton,k)}};r(pd,"ProductListItem");pd.type="ProductListItem";var oT=pd;var dd=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(dd,"ProfileColumn");dd.type="ProfileColumn";var rT=dd;var fd=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(fd,"ProfileColumnStats");fd.type="ProfileColumnStats";var nT=fd;var md=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};r(md,"ProfileColumnStatsEntry");md.type="ProfileColumnStatsEntry";var sT=md;var hd=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnails=x.fromResponse(e.thumbnail)}};r(hd,"ProfileColumnUserInfo");hd.type="ProfileColumnUserInfo";var aT=hd;var _d=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};r(_d,"Quiz");_d.type="Quiz";var uT=_d;var vd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new x(i)),this.button=l.parseItem(e.button,k),this.surface=e.surface}};r(vd,"RecognitionShelf");vd.type="RecognitionShelf";var lT=vd;var xd=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=x.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new v(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};r(xd,"ReelItem");xd.type="ReelItem";var _r=xd;var gd=class extends s{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=x.fromResponse(e.channelThumbnail),this.author=new M(e.channelNavigationEndpoint,void 0)}};r(gd,"ReelPlayerHeader");gd.type="ReelPlayerHeader";var Ov=gd;var yd=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,O_),this.reel_player_header_supported_renderers=l.parseItem(e.reelPlayerHeaderSupportedRenderers,Ov),this.menu=l.parseItem(e.menu,L),this.next_item_button=l.parseItem(e.nextItemButton,k),this.prev_item_button=l.parseItem(e.prevItemButton,k),this.subscribe_button_renderer=l.parseItem(e.subscribeButtonRenderer,k),this.style=e.style,this.view_comments_button=l.parseItem(e.viewCommentsButton,k),this.share_button=l.parseItem(e.shareButton,k),this.pivot_button=l.parseItem(e.pivotButton,kv),this.info_panel=l.parseItem(e.infoPanel,M_)}};r(yd,"ReelPlayerOverlay");yd.type="ReelPlayerOverlay";var cT=yd;var bd=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};r(bd,"RelatedChipCloud");bd.type="RelatedChipCloud";var Fv=bd;var wd=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.contents=l.parseArray(e.contents)}};r(wd,"RichGrid");wd.type="RichGrid";var vi=wd;var Td=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};r(Td,"RichItem");Td.type="RichItem";var pT=Td;var kd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};r(kd,"RichListHeader");kd.type="RichListHeader";var dT=kd;var Id=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new v(e.endpoint)}};r(Id,"RichMetadata");Id.type="RichMetadata";var Sd=Id;var Cd=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(Cd,"RichMetadataRow");Cd.type="RichMetadataRow";var Ed=Cd;var Nd=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};r(Nd,"RichSection");Nd.type="RichSection";var fT=Nd;var Pd=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}};r(Pd,"RichShelf");Pd.type="RichShelf";var jv=Pd;var Rd=class extends s{constructor(e){super(),this.endpoint=new v(e.endpoint),this.search_button=l.parseItem(e.searchButton,k),this.clear_button=l.parseItem(e.clearButton,k),this.placeholder_text=new u(e.placeholderText)}};r(Rd,"SearchBox");Rd.type="SearchBox";var mT=Rd;var Ad=class extends s{constructor(e){super(),this.label=new u(e.label),this.endpoint=new v(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};r(Ad,"SearchFilter");Ad.type="SearchFilter";var Yv=Ad;var Vd=class extends s{constructor(e){super(),this.title=new u(e.title),this.filters=l.parseArray(e.filters,Yv)}};r(Vd,"SearchFilterGroup");Vd.type="SearchFilterGroup";var vr=Vd;var Md=class extends s{constructor(e){super(),this.title=new u(e.title),this.groups=l.parseArray(e.groups,vr)}};r(Md,"SearchFilterOptionsDialog");Md.type="SearchFilterOptionsDialog";var hT=Md;var Bd=class extends s{constructor(e){super(),this.chip_bar=l.parseItem(e.chipBar,Ko),this.search_filter_button=l.parseItem(e.searchFilterButton,k)}};r(Bd,"SearchHeader");Bd.type="SearchHeader";var Uv=Bd;var Dd=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=l.parseArray(e.groups,vr)),Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,ye))}};r(Dd,"SearchSubMenu");Dd.type="SearchSubMenu";var Wv=Dd;var Ld=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(Ld,"SearchSuggestionsSection");Ld.type="SearchSuggestionsSection";var _T=Ld;var Od=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(Od,"SecondarySearchContainer");Od.type="SecondarySearchContainer";var vT=Od;var Fd=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,[ye,k]),this.dislike_button=l.parseItem(e.dislikeButton,[ye,k])}};r(Fd,"SegmentedLikeDislikeButton");Fd.type="SegmentedLikeDislikeButton";var to=Fd;var jd=class extends s{constructor(e){if(super(),this.like_button=l.parseItem(e.likeButtonViewModel,F_),this.dislike_button=l.parseItem(e.dislikeButtonViewModel,m_),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};r(jd,"SegmentedLikeDislikeButtonView");jd.type="SegmentedLikeDislikeButtonView";var io=jd;var Yd=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new v(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new v(e.disableServiceEndpoint)),this.item_id=e.itemId}};r(Yd,"SettingBoolean");Yd.type="SettingBoolean";var xT=Yd;var Ud=class extends s{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};r(Ud,"SettingsCheckbox");Ud.type="SettingsCheckbox";var Jv=Ud;var Wd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new v(e.enableServiceEndpoint),this.disable_endpoint=new v(e.disableServiceEndpoint)}};r(Wd,"SettingsSwitch");Wd.type="SettingsSwitch";var xr=Wd;var Jd=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=l.parseArray(e.options,[xr,ei,a_,Jv,Fh]))}};r(Jd,"SettingsOptions");Jd.type="SettingsOptions";var gr=Jd;var Gd=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items,tr)}get contents(){return this.items}};r(Gd,"SettingsSidebar");Gd.type="SettingsSidebar";var Gv=Gd;var Hd=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=ee(e.actionMenu,L),this.original_post=ee(e.originalPost,oi),this.id=e.postId,this.endpoint=new v(e.navigationEndpoint),this.expand_button=ee(e.expandButton,k),this.author=new M(e.displayName,void 0)}};r(Hd,"SharedPost");Hd.type="SharedPost";var Hv=Hd;var zd=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint)),this.content=l.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=l.parseItem(e.playAllButton,k))}};r(zd,"Shelf");zd.type="Shelf";var yr=zd;var $d=class extends s{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.original_query_endpoint=new v(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};r($d,"ShowingResultsFor");$d.type="ShowingResultsFor";var gT=$d;var Kd=class extends s{constructor(e){super(),this.image=x.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new v(e.command)}};r(Kd,"SimpleCardContent");Kd.type="SimpleCardContent";var yT=Kd;var qd=class extends s{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};r(qd,"SimpleCardTeaser");qd.type="SimpleCardTeaser";var bT=qd;var Xd=class extends s{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};r(Xd,"SimpleTextSection");Xd.type="SimpleTextSection";var wT=Xd;var Qd=class extends s{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new v(e.navigationEndpoint)}};r(Qd,"SingleActionEmergencySupport");Qd.type="SingleActionEmergencySupport";var TT=Qd;var Zd=class extends s{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new v(e.endpoint),this.content=l.parseItem(e.content,[we,gv,vi])}};r(Zd,"Tab");Zd.type="Tab";var Ve=Zd;var ef=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ve)}};r(ef,"SingleColumnBrowseResults");ef.type="SingleColumnBrowseResults";var zv=ef;var tf=class extends s{constructor(e){super(),this.contents=l.parse(e)}};r(tf,"SingleColumnMusicWatchNextResults");tf.type="SingleColumnMusicWatchNextResults";var kT=tf;var of=class extends s{constructor(e){super(),this.thumbnails=x.fromResponse(e.thumbnail),this.style=e.style}};r(of,"SingleHeroImage");of.type="SingleHeroImage";var IT=of;var rf=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,Be)}};r(rf,"SlimOwner");rf.type="SlimOwner";var ST=rf;var nf=class extends s{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=l.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};r(nf,"SlimVideoMetadata");nf.type="SlimVideoMetadata";var CT=nf;var sf=class extends s{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new v(e.navigationEndpoint)}};r(sf,"SubFeedOption");sf.type="SubFeedOption";var $v=sf;var af=class extends s{constructor(e){super(),this.title=new u(e.title),this.options=l.parseArray(e.options,$v)}};r(af,"SubFeedSelector");af.type="SubFeedSelector";var ET=af;var uf=class extends s{constructor(e){super(),this.contents=l.parse(e)}};r(uf,"Tabbed");uf.type="Tabbed";var NT=uf;var lf=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ve)}};r(lf,"TabbedSearchResults");lf.type="TabbedSearchResults";var PT=lf;var cf=class extends s{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};r(cf,"TextHeader");cf.type="TextHeader";var RT=cf;var pf=class extends s{constructor(e){super(),this.landscape=x.fromResponse(e.landscape),this.portrait=x.fromResponse(e.portrait)}};r(pf,"ThumbnailLandscapePortrait");pf.type="ThumbnailLandscapePortrait";var AT=pf;var df=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};r(df,"ThumbnailOverlayEndorsement");df.type="ThumbnailOverlayEndorsement";var VT=df;var ff=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};r(ff,"ThumbnailOverlayHoverText");ff.type="ThumbnailOverlayHoverText";var MT=ff;var mf=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};r(mf,"ThumbnailOverlayInlineUnplayable");mf.type="ThumbnailOverlayInlineUnplayable";var BT=mf;var hf=class extends s{constructor(e){super(),this.text=new u(e.text)}};r(hf,"ThumbnailOverlayLoadingPreview");hf.type="ThumbnailOverlayLoadingPreview";var DT=hf;var _f=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};r(_f,"ThumbnailOverlayNowPlaying");_f.type="ThumbnailOverlayNowPlaying";var LT=_f;var vf=class extends s{constructor(e){super(),this.hack=e.hack}};r(vf,"ThumbnailOverlayPinking");vf.type="ThumbnailOverlayPinking";var OT=vf;var xf=class extends s{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};r(xf,"ThumbnailOverlayPlaybackStatus");xf.type="ThumbnailOverlayPlaybackStatus";var FT=xf;var gf=class extends s{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};r(gf,"ThumbnailOverlayResumePlayback");gf.type="ThumbnailOverlayResumePlayback";var jT=gf;var yf=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};r(yf,"ThumbnailOverlaySidePanel");yf.type="ThumbnailOverlaySidePanel";var YT=yf;var bf=class extends s{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new v(e.toggledServiceEndpoint),this.untoggled_endpoint=new v(e.untoggledServiceEndpoint)}};r(bf,"ThumbnailOverlayToggleButton");bf.type="ThumbnailOverlayToggleButton";var UT=bf;var wf=class extends s{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};r(wf,"TimedMarkerDecoration");wf.type="TimedMarkerDecoration";var WT=wf;var Tf=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(Tf,"TitleAndButtonListHeader");Tf.type="TitleAndButtonListHeader";var JT=Tf;var kf=class extends s{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint)}};r(kf,"ToggleMenuServiceItem");kf.type="ToggleMenuServiceItem";var GT=kf;var If=class extends s{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new v(i)),accept:new v(e.promoConfig.acceptCommand),dismiss:new v(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};r(If,"Tooltip");If.type="Tooltip";var HT=If;var Sf=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=x.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=l.parseItem(e.subscribeButton,Be),this.endpoint=new v(e.navigationEndpoint)}};r(Sf,"TopicChannelDetails");Sf.type="TopicChannelDetails";var zT=Sf;var Cf=class extends s{constructor(e){super(),this.tabs=l.parse(e.tabs),this.secondary_contents=l.parse(e.secondaryContents)}};r(Cf,"TwoColumnBrowseResults");Cf.type="TwoColumnBrowseResults";var Rt=Cf;var Ef=class extends s{constructor(e){super(),this.primary_contents=l.parse(e.primaryContents),this.secondary_contents=l.parse(e.secondaryContents)}};r(Ef,"TwoColumnSearchResults");Ef.type="TwoColumnSearchResults";var Kv=Ef;var qv,Ig,Nf=class extends s{constructor(e){var i,o,n,a,c;super(),qv.add(this),this.results=l.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=l.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=l.parseItem(e==null?void 0:e.conversationBar);let p=(n=e.playlist)===null||n===void 0?void 0:n.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((a=p.shortBylineText)===null||a===void 0)&&a.simpleText?new u(p.shortBylineText):new M(p.longBylineText),contents:l.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:l.parseItem(p.menu,L)});let d=(c=e.autoplay)===null||c===void 0?void 0:c.autoplay;d&&(this.autoplay={sets:d.sets.map(_=>f(this,qv,"m",Ig).call(this,_))},d.modifiedSets&&(this.autoplay.modified_sets=d.modifiedSets.map(_=>f(this,qv,"m",Ig).call(this,_))),d.countDownSecs&&(this.autoplay.count_down_secs=d.countDownSecs))}};r(Nf,"TwoColumnWatchNextResults");qv=new WeakSet,Ig=r(function(e){let i={autoplay_video:new v(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new v(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Nf.type="TwoColumnWatchNextResults";var Xv=Nf;var Pf=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.call_to_action=l.parseItem(e.callToAction),this.sections=l.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};r(Pf,"UniversalWatchCard");Pf.type="UniversalWatchCard";var Qv=Pf;var Rf=class extends s{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=l.parseItem(e.actionButton,k),this.dismiss_button=l.parseItem(e.dismissButton,k),this.is_visible=e.isVisible}};r(Rf,"UpsellDialog");Rf.type="UpsellDialog";var $T=Rf;var Af=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};r(Af,"VerticalList");Af.type="VerticalList";var KT=Af;var Vf=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new v(e.viewAllEndpoint)}get contents(){return this.items}};r(Vf,"VerticalWatchCardList");Vf.type="VerticalWatchCardList";var qT=Vf;var Mf=class extends s{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=x.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new v(e.action)}};r(Mf,"VideoInfoCardContent");Mf.type="VideoInfoCardContent";var XT=Mf;var Bf=class extends s{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};r(Bf,"VideoOwner");Bf.type="VideoOwner";var br=Bf;var Df=class extends s{constructor(e){var i,o,n,a;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new u((a=(n=e.viewCount)===null||n===void 0?void 0:n.videoViewCountRenderer)===null||a===void 0?void 0:a.shortViewCount),this.badges=l.parseArray(e.badges,Ge),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=l.parseItem(e.videoActions,L)}};r(Df,"VideoPrimaryInfo");Df.type="VideoPrimaryInfo";var Zv=Df;var Lf=class extends s{constructor(e){super(),this.owner=l.parseItem(e.owner,br),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=l.parseItem(e.subscribeButton,[Be,k]),this.metadata=l.parseItem(e.metadataRowContainer,uv),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};r(Lf,"VideoSecondaryInfo");Lf.type="VideoSecondaryInfo";var Of=Lf;var Ff=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:Se(e.lengthText.simpleText)},this.style=e.style}};r(Ff,"WatchCardCompactVideo");Ff.type="WatchCardCompactVideo";var ex=Ff;var jf=class extends s{constructor(e){var i;super(),this.endpoint=new v(e.navigationEndpoint),this.call_to_action_button=l.parseItem(e.callToActionButton),this.hero_image=l.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};r(jf,"WatchCardHeroVideo");jf.type="WatchCardHeroVideo";var QT=jf;var Yf=class extends s{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new v(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new M(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};r(Yf,"WatchCardRichHeader");Yf.type="WatchCardRichHeader";var ZT=Yf;var Uf=class extends s{constructor(e){super(),this.lists=l.parseArray(e.lists)}};r(Uf,"WatchCardSectionSequence");Uf.type="WatchCardSectionSequence";var e1=Uf;var Wf=class extends Rt{constructor(e){super(e)}};r(Wf,"WatchNextTabbedResults");Wf.type="WatchNextTabbedResults";var t1=Wf;var Jf=class extends s{constructor(e){var i,o;super(),this.title=e.title,this.content=l.parseItem(e.content,we),this.endpoint=new v(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};r(Jf,"AnchoredSection");Jf.type="AnchoredSection";var tx=Jf;var Gf,Hf=class extends s{constructor(e){super(),Gf.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=x.fromResponse(e.avatar),this.block_button=l.parseItem(e.blockButton,[ye]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return I(this,void 0,void 0,function*(){if(!f(this,Gf,"f"))throw new b("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new b("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new b("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(f(this,Gf,"f"),{parse:!1})})}setActions(e){E(this,Gf,e,"f")}};r(Hf,"KidsBlocklistPickerItem");Gf=new WeakMap;Hf.type="KidsBlocklistPickerItem";var ix=Hf;var zf=class extends s{constructor(e){super(),this.title=new u(e.title),this.child_rows=l.parse(e.childRows,!0,[ix]),this.done_button=l.parseItem(e.doneButton,[k]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};r(zf,"KidsBlocklistPicker");zf.type="KidsBlocklistPicker";var i1=zf;var $f=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new v(e.endpoint)}};r($f,"KidsCategoryTab");$f.type="KidsCategoryTab";var ox=$f;var Kf=class extends s{constructor(e){super(),this.category_tabs=l.parseArray(e.categoryTabs,ox),this.privacy_button=l.parseItem(e.privacyButtonRenderer,k)}};r(Kf,"KidsCategoriesHeader");Kf.type="kidsCategoriesHeader";var o1=Kf;var qf=class extends s{constructor(e){super(),this.anchors=l.parseArray(e.anchors,tx)}};r(qf,"KidsHomeScreen");qf.type="kidsHomeScreen";var r1=qf;var Ag={};be(Ag,{camelToSnake:()=>oo,createRuntimeClass:()=>m1,generateRuntimeClass:()=>Zf,generateTypescriptClass:()=>nx,inferType:()=>rx,introspect:()=>Eg,isArrayType:()=>d1,isIgnoredKey:()=>f1,isMiscType:()=>p1,isRenderer:()=>Cg,isRendererList:()=>c1,mergeKeyInfo:()=>Xf,parse:()=>Rg,toParser:()=>Pg,toTypeDeclaration:()=>Ng});var qI=new Set(["trackingParams","accessibility","accessibilityData"]),Sg={};function oo(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}r(oo,"camelToSnake");function rx(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=Cg(e))return Sg[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=c1(e)){for(let[n,a]of Object.entries(i))Sg[n]=a;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=p1(t,e))||(i=d1(e)))return i}let o=typeof e;return o==="object"?{type:"object",keys:Object.entries(e).map(([n,a])=>[n,rx(n,a)]),optional:!1}:{type:"primative",typeof:[o],optional:!1}}r(rx,"inferType");function c1(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(o=>Cg(o))?Object.fromEntries(t.map(o=>{let n=Reflect.ownKeys(o)[0].toString();return[em(n),o[n]]})):!1}r(c1,"isRendererList");function p1(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new v(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}r(p1,"isMiscType");function Cg(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let o=i[0].toString();if(o.endsWith("Renderer")||o.endsWith("Model"))return em(o)}return!1}r(Cg,"isRenderer");function d1(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["never"],optional:!1},optional:!1};let e=t.map(a=>typeof a);if(!e.every(a=>a===e[0]))return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!1},optional:!1};let o=e[0];if(o!=="object")return{type:"array",array_type:"primitive",items:{type:"primative",typeof:[o],optional:!1},optional:!1};let n=[];for(let a=0;a<t.length;a++){let c=Object.entries(t[a]).map(([p,d])=>[p,rx(p,d)]);if(a===0){n=c;continue}n=Xf(n,c).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:n,optional:!1},optional:!1}}r(d1,"isArrayType");function XI(t){if(typeof t!="object"||t===null)throw new b("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!f1(i)).filter(i=>typeof i=="string").map(i=>{let o=Reflect.get(t,i),n=rx(i,o);return[i,n]})}r(XI,"introspectKeysFirstPass");function QI(t){var e;let o=t.filter(([,p])=>{var d;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((d=p.endpoint)===null||d===void 0?void 0:d.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,d])=>p.type!=="misc"||d.type!=="misc"||p.misc_type!=="Text"||d.misc_type!=="Text"?0:d.text.length-p.text.length),n=new Set,a=o[0],c;if(a){n.add(a[0]);let d=t.map(([w])=>w).filter(w=>w.endsWith("Badges")||w==="badges"),h=(e=d.filter(w=>w.startsWith("owner")||w.startsWith("author"))[0])!==null&&e!==void 0?e:d[0],g=t.find(([w])=>w===h),y=g?g[1].type==="array"&&g[1].array_type==="renderer"&&Reflect.has(g[1].renderers,"MetadataBadge"):!1;y&&h&&n.add(h),c={type:"misc",misc_type:"Author",optional:!1,params:[a[0],y?h:void 0]}}return c&&t.push(["author",c]),t.filter(([p])=>!n.has(p))}r(QI,"introspectKeysSecondPass");function ZI(t){let e=XI(t);return QI(e)}r(ZI,"introspect2");function Eg(t){let e=ZI(t),i=new Map;for(let[,n]of e)if(n.type==="renderer"||n.type==="array"&&n.array_type==="renderer")for(let a of n.renderers){let c=Sg[a];c&&i.set(a,c)}let o=Array.from(i).filter(([n])=>!sx(n));return{key_info:e,unimplemented_dependencies:o}}r(Eg,"introspect");function f1(t){return typeof t=="string"&&qI.has(t)}r(f1,"isIgnoredKey");function m1(t,e,i){var o,n;i({error_type:"class_not_found",classname:t,key_info:e});let a=(o=r(class extends s{static set key_info(c){E(this,o,new Map(c),"f",n)}static get key_info(){return[...f(this,o,"f",n).entries()]}constructor(c){super();let{key_info:p,unimplemented_dependencies:d}=Eg(c),{resolved_key_info:_,changed_keys:h}=Xf(a.key_info,p);h.length>0&&(a.key_info=_,i({error_type:"class_changed",classname:t,key_info:a.key_info,changed_keys:h}));for(let[y,w]of d)Zf(y,w,i);for(let[y,w]of p){let S=oo(y);w.type==="misc"&&w.misc_type==="NavigationEndpoint"&&(S="endpoint"),Reflect.set(this,S,Rg(y,w,c))}}},"_a"),b0(o,"node"),o.type=t,n={value:new Map},o);return a.key_info=e,Object.defineProperty(a,"name",{value:t,writable:!1}),a}r(m1,"createRuntimeClass");function Zf(t,e,i){let{key_info:o,unimplemented_dependencies:n}=Eg(e),a=m1(t,o,i);Vg(t,a);for(let[c,p]of n)Zf(c,p,i);return a}r(Zf,"generateRuntimeClass");function nx(t,e){let i=[],o=["super();"];for(let[n,a]of e){let c=oo(n);a.type==="misc"&&a.misc_type==="NavigationEndpoint"&&(c="endpoint"),i.push(`${c}${a.optional?"?":""}: ${Ng(a)};`),o.push(`this.${c} = ${Pg(n,a)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${o.join(`
    `)}
  }
}
`}r(nx,"generateTypescriptClass");function n1(t,e){return`{
${e.map(([i,o])=>`${" ".repeat((t+2)*2)}${oo(i)}${o.optional?"?":""}: ${Ng(o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}r(n1,"toTypeDeclarationObject");function Ng(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${n1(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return n1(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ")}}r(Ng,"toTypeDeclaration");function s1(t,e,i,o){let n=[...i,o];return`{
${e.map(([a,c])=>`${" ".repeat((t+2)*2)}${oo(a)}: ${Pg(a,c,n,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}r(s1,"toParserObject");function Pg(t,e,i=["data"],o=1){let n="undefined";switch(e.type){case"renderer":n=`Parser.parseItem(${i.join(".")}.${t}, ${a1(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":n=`Parser.parse(${i.join(".")}.${t}, true, ${a1(e.renderers)})`;break;case"object":n=`${i.join(".")}.${t}.map((item: any) => (${s1(o,e.items.keys,[],"item")}))`;break;case"primitive":n=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":n=s1(o,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":n=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let a=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${a} : undefined`:a}default:n=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(n==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":n=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${n} : undefined`:n}r(Pg,"toParser");function a1(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}r(a1,"toParserValidTypes");function At(t,e){let i=t;for(let o of e)i=i[o];return i}r(At,"accessDataFromKeyPath");function u1(t,e){let i=t;for(let o of e)if(Reflect.has(i,o))i=i[o];else return!1;return!0}r(u1,"hasDataFromKeyPath");function l1(t,e,i,o,n){let a={},c=[...i,t];for(let[p,d]of o)a[p]=n?Rg(p,d,e,c):void 0;return a}r(l1,"parseObject");function Rg(t,e,i,o=["data"]){let n=!e.optional||u1({data:i},[...o,t]);switch(e.type){case"renderer":return n?ee(At({data:i},[...o,t]),e.renderers.map(a=>Qf(a))):void 0;case"array":{switch(e.array_type){case"renderer":return n?Le(At({data:i},[...o,t]),!0,e.renderers.map(a=>Qf(a))):void 0;case"object":return n?At({data:i},[...o,t]).map((a,c)=>l1(`${c}`,i,[...o,t],e.items.keys,n)):void 0;case"primitive":return n?At({data:i},[...o,t]):void 0}throw new Error("Unreachable code reached! Switch missing case!")}case"object":return l1(t,i,o,e.keys,n);case"misc":switch(e.misc_type){case"NavigationEndpoint":return n?new v(At({data:i},[...o,t])):void 0;case"Text":return n?new u(At({data:i},[...o,t])):void 0;case"Thumbnail":return n?x.fromResponse(At({data:i},[...o,t])):void 0;case"Author":return!e.optional||u1({data:i},[...o,e.params[0]])?new M(At({data:i},[...o,e.params[0]]),e.params[1]?At({data:i},[...o,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":return At({data:i},[...o,t])}}r(Rg,"parse");function Xf(t,e){let i=new Map,o=new Set(t.map(([y])=>y)),n=new Set(e.map(([y])=>y)),a=e.filter(([y])=>!o.has(y)),c=t.filter(([y])=>!n.has(y)),p=t.filter(([y])=>n.has(y)),d=new Map(e);for(let[y,w]of p){let S=d.get(y);if(!!S){if(w.type!==S.type){i.set(y,{type:"primative",typeof:["unknown"],optional:!0});continue}switch(w.type){case"object":{if(S.type!=="object")continue;let{resolved_key_info:T}=Xf(w.keys,S.keys),A={type:"object",keys:T,optional:w.optional||S.optional};JSON.stringify(A)!==JSON.stringify(w)&&i.set(y,A)}break;case"renderer":{if(S.type!=="renderer")continue;let T=Object.assign(Object.assign({},w.renderers),S.renderers),A=w.optional||S.optional,R={type:"renderer",renderers:T,optional:A};JSON.stringify(Object.assign(Object.assign({},R),{renderers:Object.keys(R.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(y,R)}break;case"array":{if(S.type!=="array")continue;switch(w.array_type){case"renderer":{if(S.array_type!=="renderer"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let T=Object.assign(Object.assign({},w.renderers),S.renderers),A=w.optional||S.optional,R={type:"array",array_type:"renderer",renderers:T,optional:A};JSON.stringify(Object.assign(Object.assign({},R),{renderers:Object.keys(R.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(y,R)}break;case"object":{if(S.array_type==="primitive"&&S.items.typeof.length==1&&S.items.typeof[0]==="never")continue;if(S.array_type!=="object"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:T}=Xf(w.items.keys,S.items.keys),A={type:"array",array_type:"object",items:{type:"object",keys:T,optional:w.items.optional||S.items.optional},optional:w.optional||S.optional};JSON.stringify(A)!==JSON.stringify(w)&&i.set(y,A)}break;case"primitive":{if(w.items.typeof.includes("never")&&S.array_type==="object"){i.set(y,S);continue}if(S.array_type!=="primitive"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let T=new Set([...S.items.typeof,...w.items.typeof]);T.size>1&&T.has("never")&&T.delete("never");let A={type:"array",array_type:"primitive",items:{type:"primative",typeof:Array.from(T),optional:w.items.optional||S.items.optional},optional:w.optional||S.optional};JSON.stringify(A)!==JSON.stringify(w)&&i.set(y,A)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}}break;case"misc":{if(S.type!=="misc")continue;switch(w.misc_type!==S.misc_type&&i.set(y,{type:"primative",typeof:["unknown"],optional:!0}),w.misc_type){case"Author":{if(S.misc_type!=="Author")break;let T=w.params[1]||S.params[1],A=w.optional||S.optional,R={type:"misc",misc_type:"Author",optional:A,params:[S.params[0],T]};JSON.stringify(R)!==JSON.stringify(w)&&i.set(y,R)}break}}break;case"primative":{if(S.type!=="primative")continue;let T={type:"primative",typeof:Array.from(new Set([...S.typeof,...w.typeof])),optional:w.optional||S.optional};JSON.stringify(T)!==JSON.stringify(w)&&i.set(y,T)}break}}}for(let[y,w]of a)i.set(y,Object.assign(Object.assign({},w),{optional:!0}));for(let[y,w]of c)i.set(y,Object.assign(Object.assign({},w),{optional:!0}));let _=t.filter(([y])=>!i.has(y));return{resolved_key_info:[...new Map([..._,...i]).entries()],changed_keys:[...i.entries()]}}r(Xf,"mergeKeyInfo");var wr=class extends s{constructor(e){var i,o,n;super(),this.contents=De(e.contents),Array.isArray(e.continuations)&&(this.continuation=(n=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)}};r(wr,"ItemSectionContinuation");wr.type="itemSectionContinuation";var xi=class extends s{constructor(e){super(),this.endpoint=new v(e.endpoint)}};r(xi,"NavigateAction");xi.type="navigateAction";var Tr=class extends s{constructor(e){super(),this.miniplayer_command=new v(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};r(Tr,"ShowMiniplayerCommand");Tr.type="showMiniplayerCommand";var gi=class extends s{constructor(e){super(),this.target_id=e.targetId,this.contents=Le(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};r(gi,"ReloadContinuationItemsCommand");gi.type="reloadContinuationItemsCommand";var kr=class extends s{constructor(e){var i,o,n,a,c,p;super(),this.contents=Le(e.contents,!0),this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};r(kr,"SectionListContinuation");kr.type="sectionListContinuation";var Ir=class extends s{constructor(e){var i;super(),this.contents=Le(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};r(Ir,"MusicPlaylistShelfContinuation");Ir.type="musicPlaylistShelfContinuation";var Sr=class extends s{constructor(e){var i,o,n,a;super(),this.contents=De(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((a=(n=e.continuations)===null||n===void 0?void 0:n[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)||null}};r(Sr,"MusicShelfContinuation");Sr.type="musicShelfContinuation";var Cr=class extends s{constructor(e){var i;super(),this.items=Le(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};r(Cr,"GridContinuation");Cr.type="gridContinuation";var Er=class extends s{constructor(e){var i,o,n,a,c,p;super(),this.contents=De(e.contents),this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};r(Er,"PlaylistPanelContinuation");Er.type="playlistPanelContinuation";var ro=class extends s{constructor(e){var i,o,n;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(n=e.continuation)===null||n===void 0?void 0:n.continuation}};r(ro,"Continuation");ro.type="continuation";var yi=class extends s{constructor(e){var i,o,n,a,c,p,d,_;super(),this.actions=Le((i=e.actions)===null||i===void 0?void 0:i.map(y=>(delete y.clickTrackingParams,y)),!0)||oe([]),this.action_panel=ee(e.actionPanel),this.item_list=ee(e.itemList,Q_),this.header=ee(e.header,X_),this.participants_list=ee(e.participantsList,ev),this.popout_message=ee(e.popoutMessage,fi),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(y=>({emoji_id:y.emojiId,shortcuts:y.shortcuts,search_terms:y.searchTerms,image:x.fromResponse(y.image),is_custom_emoji:y.isCustomEmoji})))||[];let h,g;!((n=e.continuations)===null||n===void 0)&&n[0].timedContinuationData?(g="timed",h=(a=e.continuations)===null||a===void 0?void 0:a[0].timedContinuationData):!((c=e.continuations)===null||c===void 0)&&c[0].invalidationContinuationData?(g="invalidation",h=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((d=e.continuations)===null||d===void 0)&&d[0].liveChatReplayContinuationData&&(g="replay",h=(_=e.continuations)===null||_===void 0?void 0:_[0].liveChatReplayContinuationData),this.continuation=new ro({continuation:h,type:g}),this.viewer_name=e.viewerName}};r(yi,"LiveChatContinuation");yi.type="liveChatContinuation";var Wt=class extends s{constructor(e){super(),this.request=e.request,this.token=e.token}};r(Wt,"ContinuationCommand");Wt.type="ContinuationCommand";var ax,ux=class{constructor(e,i){var o,n,a,c,p,d,_,h;if(ax.set(this,void 0),i&&E(this,ax,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=(o=e.stereoLayout)===null||o===void 0?void 0:o.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=(n=e.spatialAudioType)===null||n===void 0?void 0:n.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:(a=e.colorInfo.primaries)===null||a===void 0?void 0:a.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(c=e.colorInfo.transferCharacteristics)===null||c===void 0?void 0:c.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(p=e.colorInfo.matrixCoefficients)===null||p===void 0?void 0:p.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let g=new URLSearchParams(this.cipher||this.signature_cipher),w=(d=new URLSearchParams(g.get("url")||this.url).get("xtags"))===null||d===void 0?void 0:d.split(":");if(this.language=((_=w==null?void 0:w.find(S=>S.startsWith("lang=")))===null||_===void 0?void 0:_.split("=")[1])||null,this.has_audio){this.is_drc=!!e.isDrc||!!(w!=null&&w.includes("drc=1"));let S=(h=w==null?void 0:w.find(T=>T.startsWith("acont=")))===null||h===void 0?void 0:h.split("=")[1];this.is_dubbed=S==="dubbed",this.is_descriptive=S==="descriptive",this.is_original=S==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(e){if(!e)throw new b("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,f(this,ax,"f"))}};r(ux,"Format");ax=new WeakMap;var lx=ux;var bi=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=x.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};r(bi,"VideoDetails");var no="Parser",eS=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),Dg=new Map(Object.entries(Zi)),h1=new Map,so=null,wi=r(t=>{var{classname:e}=t,i=y0(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&O.warn(no,new b(`Something went wrong at ${e}!
This is a bug, please report it at ${F.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":O.warn(no,new rt(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":O.warn(no,new b(`Mutation data required for processing ${e}, but none found.
This is a bug, please report it at ${F.shim.info.bugs_url}`));break;case"mutation_data_invalid":O.warn(no,new b(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${F.shim.info.bugs_url}`));break;case"class_not_found":O.warn(no,new b(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${F.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${F.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${nx(e,i.key_info)}`));break;case"class_changed":O.warn(no,`${e} changed!
The following keys where altered: ${i.changed_keys.map(([o])=>oo(o)).join(", ")}
The class has changed to:
${nx(e,i.key_info)}`);break;default:O.warn(no,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function tS(t){wi=t}r(tS,"setParserErrorHandler");function vt(){so=null}r(vt,"_clearMemo");function xt(){so=new Qt}r(xt,"_createMemo");function iS(t,e){if(!so)return;let i=so.get(t);if(!i)return so.set(t,[e]);i.push(e)}r(iS,"_addToMemo");function gt(){if(!so)throw new Error("Parser#getMemo() called before Parser#createMemo()");return so}r(gt,"_getMemo");function _1(t){return eS.has(t)}r(_1,"shouldIgnore");function em(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}r(em,"sanitizeClassName");function Qf(t){let e=Dg.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}r(Qf,"getParserByName");function sx(t){return Dg.has(t)}r(sx,"hasParser");function Vg(t,e){Dg.set(t,e),h1.set(t,e)}r(Vg,"addRuntimeParser");function oS(){return Object.fromEntries(h1)}r(oS,"getDynamicParsers");function rS(t){var e,i,o,n,a,c,p,d,_,h,g,y,w,S;let T={};xt();let A=Le(t.contents),R=gt();A&&(T.contents=A,T.contents_memo=R),vt(),xt();let K=t.onResponseReceivedActions?cx(t.onResponseReceivedActions):null,Y=gt();K&&(T.on_response_received_actions=K,T.on_response_received_actions_memo=Y),vt(),xt();let ce=t.onResponseReceivedEndpoints?cx(t.onResponseReceivedEndpoints):null,ue=gt();ce&&(T.on_response_received_endpoints=ce,T.on_response_received_endpoints_memo=ue),vt(),xt();let _e=t.onResponseReceivedCommands?cx(t.onResponseReceivedCommands):null,G=gt();_e&&(T.on_response_received_commands=_e,T.on_response_received_commands_memo=G),vt(),xt();let de=t.continuationContents?Mg(t.continuationContents):null,z=gt();de&&(T.continuation_contents=de,T.continuation_contents_memo=z),vt(),xt();let H=t.actions?x1(t.actions):null,q=gt();H&&(T.actions=H,T.actions_memo=q),vt(),xt();let ie=t.liveChatItemContextMenuSupportedRenderers?ee(t.liveChatItemContextMenuSupportedRenderers):null,Ie=gt();ie&&(T.live_chat_item_context_menu_supported_renderers=ie,T.live_chat_item_context_menu_supported_renderers_memo=Ie),vt(),xt();let Qe=t.header?Le(t.header):null,it=gt();Qe&&(T.header=Qe,T.header_memo=it),vt(),xt();let $=t.sidebar?ee(t.sidebar):null,Me=gt();$&&(T.sidebar=$,T.sidebar_memo=Me),vt(),xt();let kt=Le(t.items);kt&&(T.items=kt,T.items_memo=gt()),vt(),xt();let It=Le(t.entries);It&&(T.entries=It,T.entries_memo=gt()),vt(),g1(R,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations),ue&&y1(ue,(n=(o=t.frameworkUpdates)===null||o===void 0?void 0:o.entityBatchUpdate)===null||n===void 0?void 0:n.mutations);let ve=t.continuation?v1(t.continuation):null;ve&&(T.continuation=ve);let Je=t.continuationEndpoint?Mg(t.continuationEndpoint):null;Je&&(T.continuation_endpoint=Je);let Io=Le(t.metadata);Io&&(T.metadata=Io);let So=ee(t.microformat);So&&(T.microformat=So);let Co=ee(t.overlay);Co&&(T.overlay=Co);let Eo=De(t.alerts,[Oo,Zm]);Eo.length&&(T.alerts=Eo);let No=t.refinements;No&&(T.refinements=No);let Po=t.estimatedResults?parseInt(t.estimatedResults):null;Po&&(T.estimated_results=Po);let Ro=Le(t.playerOverlays);Ro&&(T.player_overlays=Ro);let Ao=ee(t.background,Ae);Ao&&(T.background=Ao);let Vo=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Vo&&(T.playback_tracking=Vo);let Mo=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:ee(t.playabilityStatus.audioOnlyPlayability,oh),error_screen:ee(t.playabilityStatus.errorScreen)}:null;if(Mo&&(T.playability_status=Mo),t.streamingData){let me=new Map,Dk={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:Bg(t.streamingData.formats,me),adaptive_formats:Bg(t.streamingData.adaptiveFormats,me),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};T.streaming_data=Dk}if(t.playerConfig){let me={audio_config:{loudness_db:(a=t.playerConfig.audioConfig)===null||a===void 0?void 0:a.loudnessDb,perceptual_loudness_db:(c=t.playerConfig.audioConfig)===null||c===void 0?void 0:c.perceptualLoudnessDb,enable_per_format_loudness:(p=t.playerConfig.audioConfig)===null||p===void 0?void 0:p.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((d=t.playerConfig.streamSelectionConfig)===null||d===void 0?void 0:d.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((h=(_=t.playerConfig.mediaCommonConfig)===null||_===void 0?void 0:_.dynamicReadaheadConfig)===null||h===void 0?void 0:h.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((y=(g=t.playerConfig.mediaCommonConfig)===null||g===void 0?void 0:g.dynamicReadaheadConfig)===null||y===void 0?void 0:y.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((S=(w=t.playerConfig.mediaCommonConfig)===null||w===void 0?void 0:w.dynamicReadaheadConfig)===null||S===void 0?void 0:S.readAheadGrowthRateMs)||0}}};T.player_config=me}let Bo=t.currentVideoEndpoint?new v(t.currentVideoEndpoint):null;Bo&&(T.current_video_endpoint=Bo);let ae=t.endpoint?new v(t.endpoint):null;ae&&(T.endpoint=ae);let ot=ee(t.captions,Sv);ot&&(T.captions=ot);let Pe=t.videoDetails?new bi(t.videoDetails):null;Pe&&(T.video_details=Pe);let Lt=De(t.annotations,Iv);Lt.length&&(T.annotations=Lt);let Bi=ee(t.storyboards,[ji,Nv]);Bi&&(T.storyboards=Bi);let xe=ee(t.endscreen,x_);xe&&(T.endscreen=xe);let Fe=ee(t.cards,Bh);Fe&&(T.cards=Fe);let Ze=De(t.engagementPanels,si);return Ze.length&&(T.engagement_panels=Ze),T}r(rS,"parseResponse");function ee(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let o=em(i[0]);if(!_1(o))try{let a=sx(o)?Qf(o):Zf(o,t[i[0]],wi);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===a.type))return wi({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(a.type!==e.type)return wi({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.type}),null}let c=new a(t[i[0]]);return iS(o,c),c}catch(n){return wi({classname:o,classdata:t[i[0]],error:n,error_type:"parse"}),null}return null}r(ee,"parseItem");function De(t,e){if(Array.isArray(t)){let i=[];for(let o of t){let n=ee(o,e);n&&i.push(n)}return oe(i)}else if(!t)return oe([]);throw new rt("Expected array but got a single item")}r(De,"parseArray");function Le(t,e,i){if(!t)return null;if(Array.isArray(t)){let o=[];for(let a of t){let c=ee(a,i);c&&o.push(c)}let n=oe(o);return e?n:new Ct(n)}else if(e)throw new rt("Expected array but got a single item");return new Ct(ee(t,i))}r(Le,"parse");function v1(t){return t.timedContinuationData?new ro({continuation:t.timedContinuationData,type:"timed"}):null}r(v1,"parseC");function Mg(t){return t.itemSectionContinuation?new wr(t.itemSectionContinuation):t.sectionListContinuation?new kr(t.sectionListContinuation):t.liveChatContinuation?new yi(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new Ir(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new Sr(t.musicShelfContinuation):t.gridContinuation?new Cr(t.gridContinuation):t.playlistPanelContinuation?new Er(t.playlistPanelContinuation):t.continuationCommand?new Wt(t.continuationCommand):null}r(Mg,"parseLC");function cx(t){return oe(t.map(e=>{if(e.navigateAction)return new xi(e.navigateAction);if(e.showMiniplayerCommand)return new Tr(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new gi(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Ji(e.appendContinuationItemsAction)}).filter(e=>e))}r(cx,"parseRR");function x1(t){return Array.isArray(t)?Le(t.map(e=>(delete e.clickTrackingParams,e))):new Ct(ee(t))}r(x1,"parseActions");function Bg(t,e){return(t==null?void 0:t.map(i=>new lx(i,e)))||[]}r(Bg,"parseFormats");function g1(t,e){let i=t.getType(cr);if(i.length>0&&!e)wi({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let o=[];for(let n of i){let a=e.find(p=>{var d,_;return((_=(d=p.payload)===null||d===void 0?void 0:d.musicFormBooleanChoice)===null||_===void 0?void 0:_.id)===n.form_item_entity_key}),c=a==null?void 0:a.payload.musicFormBooleanChoice;(c==null?void 0:c.selected)!==void 0&&(c==null?void 0:c.opaqueToken)?n.selected=c.selected:o.push(`'${n.title}'`)}o.length>0&&wi({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:o.length,titles:o})}}r(g1,"applyMutations");function y1(t,e){var i,o,n,a,c,p;let d=t.getType(di);if(d.length>0){e||wi({error_type:"mutation_data_missing",classname:"CommentView"});for(let _ of d){let h=(o=(i=e.find(w=>{var S,T;return((T=(S=w.payload)===null||S===void 0?void 0:S.commentEntityPayload)===null||T===void 0?void 0:T.key)===_.keys.comment}))===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.commentEntityPayload,g=(a=(n=e.find(w=>{var S,T;return((T=(S=w.payload)===null||S===void 0?void 0:S.engagementToolbarStateEntityPayload)===null||T===void 0?void 0:T.key)===_.keys.toolbar_state}))===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.engagementToolbarStateEntityPayload,y=(p=(c=e.find(w=>w.entityKey===_.keys.toolbar_surface))===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.engagementToolbarSurfaceEntityPayload;_.applyMutations(h,g,y)}}}r(y1,"applyCommentsMutations");var Ug={};be(Ug,{AccountInfo:()=>b1,Analytics:()=>w1,Channel:()=>Ee,ChannelListContinuation:()=>po,Comments:()=>k1,FilteredChannelList:()=>Si,Guide:()=>I1,HashtagFeed:()=>Ci,History:()=>xx,HomeFeed:()=>Jt,ItemMenu:()=>wx,Library:()=>C1,LiveChat:()=>Ax,NotificationsMenu:()=>N1,Playlist:()=>kx,Search:()=>P1,Settings:()=>R1,SmoothedQueue:()=>Ex,TimeWatched:()=>A1,TranscriptInfo:()=>_x,VideoInfo:()=>mm});var Nr,px=class{constructor(e){if(Nr.set(this,void 0),E(this,Nr,l.parseResponse(e.data),"f"),!f(this,Nr,"f").contents)throw new b("Page contents not found");let i=f(this,Nr,"f").contents.array().as(Hm).first();if(!i)throw new b("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return f(this,Nr,"f")}};r(px,"AccountInfo");Nr=new WeakMap;var b1=px;var tm,dx=class{constructor(e){var i;tm.set(this,void 0),E(this,tm,l.parseResponse(e.data),"f"),this.sections=(i=f(this,tm,"f").contents_memo)===null||i===void 0?void 0:i.getType(nr).map(o=>o.model).flatMap(o=>o||[])}get page(){return f(this,tm,"f")}};r(dx,"Analytics");tm=new WeakMap;var w1=dx;var im,Oe,ao,om,$e,T1,Lg,Ti=class{constructor(e,i,o=!1){im.add(this),Oe.set(this,void 0),ao.set(this,void 0),om.set(this,void 0),$e.set(this,void 0),f(this,im,"m",T1).call(this,i)||o?E(this,Oe,i,"f"):E(this,Oe,l.parseResponse(i.data),"f");let n=Og(f(this,Oe,"f").contents_memo,f(this,Oe,"f").continuation_contents_memo,f(this,Oe,"f").on_response_received_commands_memo,f(this,Oe,"f").on_response_received_endpoints_memo,f(this,Oe,"f").on_response_received_actions_memo,f(this,Oe,"f").sidebar_memo,f(this,Oe,"f").header_memo);if(!n)throw new b("No memo found in feed");E(this,$e,n,"f"),E(this,om,e,"f")}static getVideosFromMemo(e){return e.getType(Uo,C_,_r,Go,hr,Ut,ex)}static getPlaylistsFromMemo(e){let i=e.getType(Et,k_),o=e.getType(iv).filter(n=>["PLAYLIST","ALBUM","PODCAST"].includes(n.content_type));return o.length>0&&i.push(...o),i}get videos(){return Ti.getVideosFromMemo(f(this,$e,"f"))}get posts(){return f(this,$e,"f").getType(oi,Lv,Hv)}get channels(){return f(this,$e,"f").getType(Lh,T_)}get playlists(){return Ti.getPlaylistsFromMemo(f(this,$e,"f"))}get memo(){return f(this,$e,"f")}get page_contents(){var e;let i=(e=f(this,$e,"f").getType(Ve))===null||e===void 0?void 0:e.first().content,o=f(this,$e,"f").getType(gi).first(),n=f(this,$e,"f").getType(Ji).first();return i||o||n}get shelves(){return f(this,$e,"f").getType(yr,jv,zo)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=f(this,Oe,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=f(this,Oe,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(Rt,Kv))return o.secondary_contents}get actions(){return f(this,om,"f")}get page(){return f(this,Oe,"f")}get has_continuation(){return f(this,im,"m",Lg).call(this).length>0}getContinuationData(){return I(this,void 0,void 0,function*(){if(f(this,ao,"f")){if(f(this,ao,"f").length===0)throw new b("There are no continuations.");return yield f(this,ao,"f")[0].endpoint.call(f(this,om,"f"),{parse:!0})}if(E(this,ao,f(this,im,"m",Lg).call(this),"f"),f(this,ao,"f"))return this.getContinuationData()})}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new Ti(this.actions,e,!0)})}};r(Ti,"Feed");Oe=new WeakMap,ao=new WeakMap,om=new WeakMap,$e=new WeakMap,im=new WeakSet,T1=r(function(e){return!("data"in e)},"_Feed_isParsed"),Lg=r(function(){if(f(this,Oe,"f").header_memo){let e=f(this,Oe,"f").header_memo.getType(pe);return f(this,$e,"f").getType(pe).filter(i=>!e.includes(i))}return f(this,$e,"f").getType(pe)},"_Feed_getBodyContinuations");var Ce=Ti;var Pr,fx=class extends Ce{constructor(e,i,o=!1){super(e,i,o),Pr.set(this,void 0)}get filter_chips(){var e,i;if(f(this,Pr,"f"))return f(this,Pr,"f")||[];if(((e=this.memo.getType(Yt))===null||e===void 0?void 0:e.length)>1)throw new b("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(Yt))===null||i===void 0?void 0:i.length)===0)throw new b("There are no feed filter chipbars");return E(this,Pr,this.memo.getType(je),"f"),f(this,Pr,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return I(this,void 0,void 0,function*(){let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new b("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(a=>a.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new b("Invalid filter");if(!o)throw new b("Filter not found");if(o.is_selected)return this;let n=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!n)throw new b("Failed to get filtered feed");return new Ce(this.actions,n,!0)})}};r(fx,"FilterableFeed");Pr=new WeakMap;var ki=fx;var Fg={};be(Fg,{Feed:()=>Ce,FilterableFeed:()=>ki,MediaInfo:()=>hx,TabbedFeed:()=>nm});var Ii,yt,Rr,rm,mx=class{constructor(e,i,o){var n,a;Ii.set(this,void 0),yt.set(this,void 0),Rr.set(this,void 0),rm.set(this,void 0),E(this,yt,i,"f");let c=l.parseResponse(e[0].data),p=!((n=e==null?void 0:e[1])===null||n===void 0)&&n.data?l.parseResponse(e[1].data):void 0;if(E(this,Ii,[c,p],"f"),E(this,Rr,o,"f"),((a=c.playability_status)===null||a===void 0?void 0:a.status)==="ERROR")throw new b("This video is unavailable",c.playability_status);this.streaming_data=c.streaming_data,this.playability_status=c.playability_status,this.player_config=c.player_config,E(this,rm,c.playback_tracking,"f")}toDash(e,i,o={include_thumbnails:!1}){var n,a;return I(this,void 0,void 0,function*(){let c=f(this,Ii,"f")[0];if(c.video_details&&c.video_details.is_live)throw new b("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let p,d;return o.include_thumbnails&&c.storyboards&&(p=c.storyboards),typeof o.captions_format=="string"&&((n=c.captions)===null||n===void 0?void 0:n.caption_tracks)&&(d=c.captions.caption_tracks),Yi.toDash(this.streaming_data,(a=this.page[0].video_details)===null||a===void 0?void 0:a.is_post_live_dvr,e,i,f(this,Rr,"f"),f(this,yt,"f").session.player,f(this,yt,"f"),p,d,o)})}getStreamingInfo(e,i){var o;return Vm(this.streaming_data,(o=this.page[0].video_details)===null||o===void 0?void 0:o.is_post_live_dvr,e,i,this.cpn,f(this,yt,"f").session.player,f(this,yt,"f"),f(this,Ii,"f")[0].storyboards?f(this,Ii,"f")[0].storyboards:void 0)}chooseFormat(e){return Yi.chooseFormat(e,this.streaming_data)}download(e={}){return I(this,void 0,void 0,function*(){let i=f(this,Ii,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new b("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Yi.download(e,f(this,yt,"f"),this.playability_status,this.streaming_data,f(this,yt,"f").session.player,this.cpn)})}getTranscript(){var e;return I(this,void 0,void 0,function*(){let i=this.page[1];if(!i)throw new b("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new b("Engagement panels not found. Video likely has no transcript.");let o=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!o)throw new b("Transcript panel not found. Video likely has no transcript.");let n=(e=o.content)===null||e===void 0?void 0:e.as(pe);if(!n)throw new b("Transcript continuation not found.");let a=yield n.endpoint.call(this.actions);return new _x(this.actions,a)})}addToWatchHistory(e=ge.CLIENTS.WEB.NAME,i=ge.CLIENTS.WEB.VERSION,o="https://www."){return I(this,void 0,void 0,function*(){if(!f(this,rm,"f"))throw new b("Playback tracking not available");let n={cpn:f(this,Rr,"f"),fmt:251,rtn:0,rt:0},a=f(this,rm,"f").videostats_playback_url.replace("https://s.",o);return yield f(this,yt,"f").stats(a,{client_name:e,client_version:i},n)})}get actions(){return f(this,yt,"f")}get cpn(){return f(this,Rr,"f")}get page(){return f(this,Ii,"f")}};r(mx,"MediaInfo");Ii=new WeakMap,yt=new WeakMap,Rr=new WeakMap,rm=new WeakMap;var hx=mx;var uo,lo,co=class extends Ce{constructor(e,i,o=!1){var n;super(e,i,o),uo.set(this,void 0),lo.set(this,void 0),E(this,lo,e,"f"),E(this,uo,(n=this.page.contents_memo)===null||n===void 0?void 0:n.getType(Ve),"f")}get tabs(){var e,i;return(i=(e=f(this,uo,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return I(this,void 0,void 0,function*(){let o=(i=f(this,uo,"f"))===null||i===void 0?void 0:i.find(a=>a.title.toLowerCase()===e.toLowerCase());if(!o)throw new b(`Tab "${e}" not found`);if(o.selected)return this;let n=yield o.endpoint.call(f(this,lo,"f"));return new co(f(this,lo,"f"),n,!1)})}getTabByURL(e){var i;return I(this,void 0,void 0,function*(){let o=(i=f(this,uo,"f"))===null||i===void 0?void 0:i.find(a=>{var c;return((c=a.endpoint.metadata.url)===null||c===void 0?void 0:c.split("/").pop())===e});if(!o)throw new b(`Tab "${e}" not found`);if(o.selected)return this;let n=yield o.endpoint.call(f(this,lo,"f"));return new co(f(this,lo,"f"),n,!1)})}hasTabWithURL(e){var i,o;return(o=(i=f(this,uo,"f"))===null||i===void 0?void 0:i.some(n=>{var a;return((a=n.endpoint.metadata.url)===null||a===void 0?void 0:a.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(Ve))===null||i===void 0?void 0:i.find(n=>n.selected))===null||o===void 0?void 0:o.title.toString()}};r(co,"TabbedFeed");uo=new WeakMap,lo=new WeakMap;var nm=co;var Ee=class extends nm{constructor(e,i,o=!1){var n,a,c,p,d,_;super(e,i,o),this.header=(a=(n=this.page.header)===null||n===void 0?void 0:n.item())===null||a===void 0?void 0:a.as($o,Dh,B_,Pt);let h=(c=this.page.metadata)===null||c===void 0?void 0:c.item().as(Oh),g=(p=this.page.microformat)===null||p===void 0?void 0:p.as(pr);if(this.page.alerts){let y=this.page.alerts.first();if((y==null?void 0:y.alert_type)==="ERROR")throw new Ar(y.text.toString())}if(!h&&!this.page.contents)throw new b("Invalid channel",this);this.metadata=Object.assign(Object.assign({},h),g||{}),this.subscribe_button=(d=this.page.header_memo)===null||d===void 0?void 0:d.getType(Be).first(),this.current_tab=(_=this.page.contents)===null||_===void 0?void 0:_.item().as(Rt).tabs.array().filterType(Ve,sr).get({selected:!0})}applyFilter(e){var i;return I(this,void 0,void 0,function*(){let o,n=this.memo.getType(Yt).first();if(typeof e=="string"){if(o=n==null?void 0:n.contents.get({text:e}),!o)throw new b(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof je&&(o=e);if(!o)throw new b("Invalid filter",e);let a=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!a)throw new b("No page returned",{filter:o});return new Si(this.actions,a,!0)})}applySort(e){var i,o;return I(this,void 0,void 0,function*(){let n=this.memo.getType(ht).first();if(!n)throw new b("No sort filter sub menu found");let a=(i=n==null?void 0:n.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!a)throw new b(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(a.selected)return this;let c=yield(o=a.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Ee(this.actions,c,!0)})}applyContentTypeFilter(e){var i,o,n,a;return I(this,void 0,void 0,function*(){let c=(n=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(we).sub_menu)===null||n===void 0?void 0:n.as(Va);if(!c)throw new b("Sub menu not found");let p=c.content_type_sub_menu_items.find(_=>_.title===e);if(!p)throw new b(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let d=yield(a=p.endpoint)===null||a===void 0?void 0:a.call(this.actions,{parse:!0});return new Ee(this.actions,d,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(Yt))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(je).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(ht).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let n=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(we).sub_menu)===null||o===void 0?void 0:o.as(Va);return(n==null?void 0:n.content_type_sub_menu_items.map(a=>a.title))||[]}getHome(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Ee(this.actions,e.page,!0)})}getVideos(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Ee(this.actions,e.page,!0)})}getShorts(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Ee(this.actions,e.page,!0)})}getLiveStreams(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Ee(this.actions,e.page,!0)})}getReleases(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Ee(this.actions,e.page,!0)})}getPodcasts(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Ee(this.actions,e.page,!0)})}getPlaylists(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Ee(this.actions,e.page,!0)})}getCommunity(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Ee(this.actions,e.page,!0)})}getAbout(){var e,i,o,n,a;return I(this,void 0,void 0,function*(){if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(Ia)[0];let c=((e=this.header)===null||e===void 0?void 0:e.is($o))&&this.header.tagline;if(c||((i=this.header)===null||i===void 0?void 0:i.is(Pt))&&((o=this.header.content)===null||o===void 0?void 0:o.description)){if(c&&c.more_endpoint instanceof v){let _=yield c.more_endpoint.call(this.actions);return new nm(this.actions,_,!1).memo.getType(Ia)[0]}let p=(a=(n=this.page.header_memo)===null||n===void 0?void 0:n.getType(pe)[0])===null||a===void 0?void 0:a.endpoint;if(!p)throw new b("Failed to extract continuation to get channel about");let d=yield p.call(this.actions,{parse:!0});if(!d.on_response_received_endpoints_memo)throw new b("Unexpected response while fetching channel about",{response:d});return d.on_response_received_endpoints_memo.getType(Um)[0]}throw new b("About not found")})}search(e){var i,o;return I(this,void 0,void 0,function*(){let n=(i=this.memo.getType(sr))===null||i===void 0?void 0:i[0];if(!n)throw new b("Search tab not found",this);let a=yield(o=n.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Ee(this.actions,a,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,o,n,a;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is($o))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))||!!(((o=this.header)===null||o===void 0?void 0:o.is(Pt))&&((a=(n=this.header.content)===null||n===void 0?void 0:n.description)===null||a===void 0?void 0:a.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(sr))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new b("Could not get continuation data");return new po(this.actions,i,!0)})}};r(Ee,"Channel");var po=class extends Ce{constructor(e,i,o=!1){var n,a;super(e,i,o),this.contents=((n=this.page.on_response_received_actions)===null||n===void 0?void 0:n.first())||((a=this.page.on_response_received_endpoints)===null||a===void 0?void 0:a.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new b("Could not get continuation data");return new po(this.actions,i,!0)})}};r(po,"ChannelListContinuation");var Si=class extends ki{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(je).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return I(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Si(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new b("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(Yt)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(je)),new Si(this.actions,i,!0)})}};r(Si,"FilteredChannelList");var Vr,Vt,Mr,fo=class{constructor(e,i,o=!1){var n,a,c;Vr.set(this,void 0),Vt.set(this,void 0),Mr.set(this,void 0),E(this,Vr,o?i:l.parseResponse(i),"f"),E(this,Vt,e,"f");let p=f(this,Vr,"f").on_response_received_endpoints;if(!p)throw new b("Comments page did not have any content.");let d=p.at(0),_=p.at(1);this.header=(n=d==null?void 0:d.contents)===null||n===void 0?void 0:n.firstOfType(pi);let h=((a=_==null?void 0:_.contents)===null||a===void 0?void 0:a.filterType(s_))||[];this.contents=oe(h.map(g=>{var y;return(y=g.comment)===null||y===void 0||y.setActions(f(this,Vt,"f")),g.setActions(f(this,Vt,"f")),g})),E(this,Mr,(c=_==null?void 0:_.contents)===null||c===void 0?void 0:c.firstOfType(pe),"f")}applySort(e){var i,o,n,a;return I(this,void 0,void 0,function*(){if(!this.header)throw new b("Page header is missing. Cannot apply sort option.");let c;if(e==="TOP_COMMENTS"?c=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(c=(a=(n=this.header.sort_menu)===null||n===void 0?void 0:n.sub_menu_items)===null||a===void 0?void 0:a.at(1)),!c)throw new b("Could not find target button.");if(c.selected)return this;let p=yield c.endpoint.call(f(this,Vt,"f"),{parse:!0});return new fo(f(this,Vt,"f"),p,!0)})}createComment(e){var i;return I(this,void 0,void 0,function*(){if(!this.header)throw new b("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(n_).submit_button;if(!o)throw new b("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new b("Button does not have an endpoint.");return yield o.endpoint.call(f(this,Vt,"f"),{commentText:e})})}getContinuation(){return I(this,void 0,void 0,function*(){if(!f(this,Mr,"f"))throw new b("Continuation not found");let e=yield f(this,Mr,"f").endpoint.call(f(this,Vt,"f"),{parse:!0}),i=Object.assign({},f(this,Vr,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new b("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new fo(f(this,Vt,"f"),i,!0)})}get has_continuation(){return!!f(this,Mr,"f")}get page(){return f(this,Vr,"f")}};r(fo,"Comments");Vr=new WeakMap,Vt=new WeakMap,Mr=new WeakMap;var k1=fo;var sm,vx=class{constructor(e){sm.set(this,void 0),E(this,sm,l.parseResponse(e),"f"),this.contents=f(this,sm,"f").items.array().as(ar,E_)}get page(){return f(this,sm,"f")}};r(vx,"Guide");sm=new WeakMap;var I1=vx;var Br=class extends Ce{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(ze),this.feed_actions=this.memo.getType(uh).first()}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Br(this.actions,e,!0)})}};r(Br,"History");var xx=Br;var Jt=class extends ki{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(b_).first(),this.contents=this.memo.getType(vi).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return I(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Jt(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return I(this,void 0,void 0,function*(){let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Jt(this.actions,o.page,!0)})}};r(Jt,"HomeFeed");var Ci=class extends ki{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new b("Unexpected response",this.page);let o=this.page.contents_memo.getType(Ve).first();if(!o.content)throw new b("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(N_,Pt)),this.contents=o.content.as(vi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return I(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Ci(this.actions,o.page)})}};r(Ci,"HashtagFeed");var gx,yx,am,bx=class{constructor(e,i){gx.set(this,void 0),yx.set(this,void 0),am.set(this,void 0),E(this,gx,e,"f"),E(this,yx,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(L))throw new b('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');E(this,am,o.as(L).items,"f")}selectItem(e){return I(this,void 0,void 0,function*(){let i;if(e instanceof k){if(!e.endpoint)throw new b("Item does not have an endpoint.");i=e.endpoint}else{let n=f(this,am,"f").find(a=>a.is(hi)?a.as(hi).icon_type===e:!1);if(!n||!n.is(hi))throw new b(`Button "${e}" not found.`);i=n.endpoint}if(!i)throw new b("Target button does not have an endpoint.");return yield i.call(f(this,yx,"f"),{parse:!0})})}items(){return f(this,am,"f")}page(){return f(this,gx,"f")}};r(bx,"ItemMenu");gx=new WeakMap,yx=new WeakMap,am=new WeakMap;var wx=bx;var um,Tx,Dr=class extends Ce{constructor(e,i,o=!1){var n,a,c,p,d;super(e,i,o),um.add(this);let _=this.memo.getType(Vv).first(),h=this.memo.getType(Bv).first(),g=this.memo.getType(Dv).first(),y=(n=this.page.alerts)===null||n===void 0?void 0:n.firstOfType(Oo);if(y&&y.alert_type==="ERROR")throw new b(y.text.toString(),y);if(!h&&!g&&Object.keys(this.page).length===0)throw new b("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(a=this.page.metadata)===null||a===void 0?void 0:a.item().as(Mv)),{subtitle:_?_.subtitle:null,author:(p=(c=g==null?void 0:g.owner)===null||c===void 0?void 0:c.as(br).author)!==null&&p!==void 0?p:_==null?void 0:_.author,thumbnails:(d=h==null?void 0:h.thumbnail_renderer)===null||d===void 0?void 0:d.as(or,ir).thumbnail,total_items:f(this,um,"m",Tx).call(this,0,h),views:f(this,um,"m",Tx).call(this,1,h),last_updated:f(this,um,"m",Tx).call(this,2,h),can_share:_==null?void 0:_.can_share,can_delete:_==null?void 0:_.can_delete,is_editable:_==null?void 0:_.is_editable,privacy:_==null?void 0:_.privacy}),this.menu=h==null?void 0:h.menu,this.endpoint=h==null?void 0:h.endpoint,this.messages=this.memo.getType(fi)}get items(){return oe(this.videos.as(hr,_r).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(we).first();return e?!!this.memo.getType(pe).find(i=>!e.contents.includes(i)):super.has_continuation}getContinuationData(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=this.memo.getType(we).first();if(!i)return yield e.getContinuationData.call(this);let o=this.memo.getType(pe).find(a=>!i.contents.includes(a));if(!o)throw new b("There are no continuations.");return yield o.endpoint.call(this.actions,{parse:!0})})}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new Dr(this.actions,e,!0)})}};r(Dr,"Playlist");um=new WeakSet,Tx=r(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var kx=Dr;var jg,S1,Ix=class extends Ce{constructor(e,i){if(super(e,i),jg.add(this),!this.page.contents_memo)throw new b("Page contents not found");this.header=this.memo.getType(Pt).first();let o=this.page.contents_memo.getType(yr);this.sections=o.map(n=>{var a;return{type:n.icon_type,title:n.title,contents:((a=n.content)===null||a===void 0?void 0:a.key("items").array())||[],getAll:()=>f(this,jg,"m",S1).call(this,n)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};r(Ix,"Library");jg=new WeakSet,S1=r(function(e){var i;return I(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(L).hasKey("top_level_buttons")))throw new b(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(L).top_level_buttons.firstOfType(k);if(!o)throw new b("Did not find target button.");let n=yield o.as(k).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new kx(this.actions,n,!0);case"WATCH_HISTORY":return new xx(this.actions,n,!0);case"CONTENT_CUT":return new Ce(this.actions,n,!0);default:throw new b("Target shelf not implemented.")}})},"_Library_getAll");var C1=Ix;var Gt,Ei,mo,st,bt,Ke;function nS(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}r(nS,"flattenQueue");var Sx=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};r(Sx,"DelayQueue");var Cx=class{constructor(){Gt.set(this,void 0),Ei.set(this,void 0),mo.set(this,void 0),st.set(this,void 0),bt.set(this,void 0),Ke.set(this,void 0),E(this,Gt,null,"f"),E(this,Ei,null,"f"),E(this,mo,null,"f"),E(this,st,[],"f"),E(this,bt,null,"f"),E(this,Ke,new Sx,"f")}enqueueActionGroup(e){if(f(this,Gt,"f")!==null){let i=Date.now()-f(this,Gt,"f");f(this,Ke,"f").back.push(i),5<f(this,Ke,"f").front.length+f(this,Ke,"f").back.length&&(f(this,Ke,"f").front.length||(f(this,Ke,"f").front=f(this,Ke,"f").back,f(this,Ke,"f").front.reverse(),f(this,Ke,"f").back=[]),f(this,Ke,"f").front.pop()),E(this,Ei,Math.max(...f(this,Ke,"f").getValues()),"f")}E(this,Gt,Date.now(),"f"),f(this,st,"f").push(e),f(this,bt,"f")===null&&E(this,bt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(E(this,bt,null,"f"),f(this,st,"f").length){let e=1e4;f(this,Ei,"f")!==null&&f(this,Gt,"f")!==null&&(e=f(this,Ei,"f")-Date.now()+f(this,Gt,"f")),e=f(this,st,"f").length<e/80?1:Math.ceil(f(this,st,"f").length/(e/80));let i=nS(f(this,st,"f").splice(0,e));f(this,mo,"f")&&f(this,mo,"f").call(this,i),f(this,st,"f")!==null&&(e==1?(e=f(this,Ei,"f")/f(this,st,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,E(this,bt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){f(this,bt,"f")!==null&&(clearTimeout(f(this,bt,"f")),E(this,bt,null,"f")),E(this,st,[],"f")}set callback(e){E(this,mo,e,"f")}get callback(){return f(this,mo,"f")}get action_queue(){return f(this,st,"f")}get estimated_update_interval(){return f(this,Ei,"f")}get last_update_time(){return f(this,Gt,"f")}get next_update_id(){return f(this,bt,"f")}get poll_response_delay_queue(){return f(this,Ke,"f")}};r(Cx,"SmoothedQueue");Gt=new WeakMap,Ei=new WeakMap,mo=new WeakMap,st=new WeakMap,bt=new WeakMap,Ke=new WeakMap;var Ex=Cx;var Ne,Ht,pm,Nx,_o,lm,cm,Yg,Px,E1,ho,Rx=class extends Rn{constructor(e){var i,o;super(),Ne.add(this),Ht.set(this,void 0),pm.set(this,void 0),Nx.set(this,void 0),_o.set(this,void 0),lm.set(this,void 0),cm.set(this,0),this.running=!1,this.is_replay=!1,E(this,pm,e.basic_info.id,"f"),E(this,Nx,e.basic_info.channel_id,"f"),E(this,Ht,e.actions,"f"),E(this,_o,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new Ex,this.smoothed_queue.callback=n=>I(this,void 0,void 0,function*(){n.length?n.length<10?yield f(this,Ne,"m",Px).call(this,n):this.is_replay?(f(this,Ne,"m",Px).call(this,n),yield f(this,Ne,"m",ho).call(this,2e3)):f(this,Ne,"m",Px).call(this,n):yield f(this,Ne,"m",ho).call(this,2e3),this.running&&f(this,Ne,"m",Yg).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,f(this,Ne,"m",Yg).call(this),f(this,Ne,"m",E1).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return I(this,void 0,void 0,function*(){let i=yield f(this,Ht,"f").execute("/live_chat/send_message",{params:bg(f(this,Nx,"f"),f(this,pm,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:F.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new b("Unexpected response from send_message",i);return i.actions.array().as(W_)})}applyFilter(e){var i,o,n,a,c,p,d;if(!this.initial_info)throw new b("Cannot apply filter before initial info is retrieved.");let _=(n=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||n===void 0?void 0:n.sub_menu_items;if(e==="TOP_CHAT"){if(!((a=_==null?void 0:_.at(0))===null||a===void 0)&&a.selected)return;E(this,_o,(c=_==null?void 0:_.at(0))===null||c===void 0?void 0:c.continuation,"f")}else{if(!((p=_==null?void 0:_.at(1))===null||p===void 0)&&p.selected)return;E(this,_o,(d=_==null?void 0:_.at(1))===null||d===void 0?void 0:d.continuation,"f")}}getItemMenu(e){return I(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(v))throw new b("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(v).call(f(this,Ht,"f"),{parse:!0});if(!i)throw new b("Could not retrieve item menu.",e);return new wx(i,f(this,Ht,"f"))})}selectButton(e){return I(this,void 0,void 0,function*(){return yield e.endpoint.call(f(this,Ht,"f"),{parse:!0})})}};r(Rx,"LiveChat");Ht=new WeakMap,pm=new WeakMap,Nx=new WeakMap,_o=new WeakMap,lm=new WeakMap,cm=new WeakMap,Ne=new WeakSet,Yg=r(function t(){I(this,void 0,void 0,function*(){var e,i;try{let o=yield f(this,Ht,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:f(this,_o,"f"),parse:!0}),n=o.continuation_contents;if(n||(this.emit("error",new b("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(n instanceof yi)){this.stop(),this.emit("end");return}E(this,_o,n.continuation.token,"f"),n.header?(this.initial_info=n,this.emit("start",n),this.running&&f(this,Ne,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(n.actions),E(this,cm,0,"f")}catch(o){this.emit("error",o),E(this,cm,(i=f(this,cm,"f"),e=i++,i),"f"),e<10?(yield f(this,Ne,"m",ho).call(this,2e3),f(this,Ne,"m",t).call(this)):(this.emit("error",new b("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),Px=r(function(e){return I(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),n=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let a of e)yield f(this,Ne,"m",ho).call(this,n),this.emit("chat-update",a)})},"_LiveChat_emitSmoothedActions"),E1=r(function t(){I(this,void 0,void 0,function*(){var e,i,o,n,a,c,p,d,_,h,g;try{let y={videoId:f(this,pm,"f")};f(this,lm,"f")&&(y.continuation=f(this,lm,"f"));let w=yield f(this,Ht,"f").execute("/updated_metadata",y),S=l.parseResponse(w.data);E(this,lm,(e=S.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=S.actions)===null||i===void 0?void 0:i.array().firstOfType($_))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((n=S.actions)===null||n===void 0?void 0:n.array().firstOfType(z_))||((a=this.metadata)===null||a===void 0?void 0:a.description),views:((c=S.actions)===null||c===void 0?void 0:c.array().firstOfType(q_))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((d=S.actions)===null||d===void 0?void 0:d.array().firstOfType(K_))||((_=this.metadata)===null||_===void 0?void 0:_.likes),date:((h=S.actions)===null||h===void 0?void 0:h.array().firstOfType(H_))||((g=this.metadata)===null||g===void 0?void 0:g.date)},this.emit("metadata-update",this.metadata),yield f(this,Ne,"m",ho).call(this,5e3),this.running&&f(this,Ne,"m",t).call(this)}catch(y){yield f(this,Ne,"m",ho).call(this,2e3),this.running&&f(this,Ne,"m",t).call(this)}})},"_LiveChat_pollMetadata"),ho=r(function(e){return I(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var Ax=Rx;var vo,dm,Lr=class{constructor(e,i){vo.set(this,void 0),dm.set(this,void 0),E(this,dm,e,"f"),E(this,vo,l.parseResponse(i.data),"f"),this.header=f(this,vo,"f").actions_memo.getType(sv).first(),this.contents=f(this,vo,"f").actions_memo.getType(bv)}getContinuation(){return I(this,void 0,void 0,function*(){let e=f(this,vo,"f").actions_memo.getType(pe).first();if(!e)throw new b("Continuation not found");let i=yield e.endpoint.call(f(this,dm,"f"),{parse:!1});return new Lr(f(this,dm,"f"),i)})}get page(){return f(this,vo,"f")}};r(Lr,"NotificationsMenu");vo=new WeakMap,dm=new WeakMap;var N1=Lr;var xo=class extends Ce{constructor(e,i,o=!1){var n,a,c,p,d,_;super(e,i,o);let h=((n=this.page.contents_memo)===null||n===void 0?void 0:n.getType(we).first().contents)||((a=this.page.on_response_received_commands)===null||a===void 0?void 0:a.first().contents);if(!h)throw new b("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(Uv)),this.results=(c=h.find(g=>g.is(ze)&&g.contents&&g.contents.length>0))===null||c===void 0?void 0:c.as(ze).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(Wv).first(),this.watch_card=(d=this.page.contents_memo)===null||d===void 0?void 0:d.getType(Qv).first(),this.refinement_cards=(_=this.results)===null||_===void 0?void 0:_.firstOfType(ri)}selectRefinementCard(e){var i,o;return I(this,void 0,void 0,function*(){let n;if(typeof e=="string"){if(!this.refinement_cards)throw new b("No refinement cards found.");if(n=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(Hi),!n)throw new b(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")n=e;else throw new b("Invalid refinement card!");let a=yield n.endpoint.call(this.actions,{parse:!0});return new xo(this.actions,a,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(Hi).map(i=>i.query))||[]}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new xo(this.actions,e,!0)})}};r(xo,"Search");var P1=xo;var go,fm,Or=class{constructor(e,i){var o,n,a,c;if(go.set(this,void 0),fm.set(this,void 0),E(this,fm,e,"f"),E(this,go,l.parseResponse(i.data),"f"),this.sidebar=(o=f(this,go,"f").sidebar)===null||o===void 0?void 0:o.as(Gv),!f(this,go,"f").contents)throw new b("Page contents not found");let p=f(this,go,"f").contents.item().as(Rt).tabs.array().as(Ve).get({selected:!0});if(!p)throw new b("Target tab not found");let d=(n=p.content)===null||n===void 0?void 0:n.as(we).contents.as(ze);this.introduction=(c=(a=d==null?void 0:d.shift())===null||a===void 0?void 0:a.contents)===null||c===void 0?void 0:c.firstOfType(Tv),this.sections=d==null?void 0:d.map(_=>{var h;return{title:!((h=_.header)===null||h===void 0)&&h.is(pi,ur,lr)?_.header.title.toString():null,contents:_.contents}})}selectSidebarItem(e){return I(this,void 0,void 0,function*(){if(!this.sidebar)throw new b("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new b(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(tr))i=e;else throw new b("Invalid item",{target_item:e});let o=yield i.endpoint.call(f(this,fm,"f"),{parse:!1});return new Or(f(this,fm,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new b("Sections not available");for(let o of this.sections)if(!!o.contents)for(let n of o.contents){let a=n.as(gr).options;if(a){for(let c of a)if(c.is(xr)&&((i=c.title)===null||i===void 0?void 0:i.toString())===e)return c}}throw new b(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new b("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(gr).options&&(e=e.concat(o.as(gr).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new b("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return f(this,go,"f")}};r(Or,"Settings");go=new WeakMap,fm=new WeakMap;var R1=Or;var Fr,Vx=class{constructor(e){var i;if(Fr.set(this,void 0),E(this,Fr,l.parseResponse(e.data),"f"),!f(this,Fr,"f").contents)throw new b("Page contents not found");let o=f(this,Fr,"f").contents.item().as(zv).tabs.get({selected:!0});if(!o)throw new b("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(we).contents.as(ze)}get page(){return f(this,Fr,"f")}};r(Vx,"TimeWatched");Fr=new WeakMap;var A1=Vx;var Ni,jr=class extends hx{constructor(e,i,o){var n,a,c,p,d,_,h,g,y,w,S,T,A,R,K,Y,ce,ue,_e,G,de,z,H,q,ie,Ie,Qe,it,$,Me,kt,It,ve,Je,Io,So,Co,Eo,No,Po,Ro,Ao,Vo,Mo,Bo;super(e,i,o),Ni.set(this,void 0);let[ae,ot]=this.page;if(ae.microformat&&!(!((n=ae.microformat)===null||n===void 0)&&n.is(nt,pr)))throw new b("Invalid microformat",ae.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},ae.video_details),{embed:!((a=ae.microformat)===null||a===void 0)&&a.is(nt)?(c=ae.microformat)===null||c===void 0?void 0:c.embed:null,channel:!((p=ae.microformat)===null||p===void 0)&&p.is(nt)?(d=ae.microformat)===null||d===void 0?void 0:d.channel:null,is_unlisted:(_=ae.microformat)===null||_===void 0?void 0:_.is_unlisted,is_family_safe:(h=ae.microformat)===null||h===void 0?void 0:h.is_family_safe,category:!((g=ae.microformat)===null||g===void 0)&&g.is(nt)?(y=ae.microformat)===null||y===void 0?void 0:y.category:null,has_ypc_metadata:!((w=ae.microformat)===null||w===void 0)&&w.is(nt)?(S=ae.microformat)===null||S===void 0?void 0:S.has_ypc_metadata:null,start_timestamp:!((T=ae.microformat)===null||T===void 0)&&T.is(nt)?ae.microformat.start_timestamp:null,end_timestamp:!((A=ae.microformat)===null||A===void 0)&&A.is(nt)?ae.microformat.end_timestamp:null,view_count:((R=ae.microformat)===null||R===void 0?void 0:R.is(nt))&&isNaN((K=ae.video_details)===null||K===void 0?void 0:K.view_count)?ae.microformat.view_count:(Y=ae.video_details)===null||Y===void 0?void 0:Y.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=ae.annotations,this.storyboards=ae.storyboards,this.endscreen=ae.endscreen,this.captions=ae.captions,this.cards=ae.cards,this.streaming_data){let xe=this.streaming_data.adaptive_formats.find(Fe=>{var Ze;return(Ze=Fe.audio_track)===null||Ze===void 0?void 0:Ze.audio_is_default});if(xe)this.streaming_data.formats.forEach(Fe=>Fe.language=xe.language);else if(((ce=this.captions)===null||ce===void 0?void 0:ce.caption_tracks)&&((ue=this.captions)===null||ue===void 0?void 0:ue.caption_tracks.length)>0){let Fe=this.captions.caption_tracks.find(me=>me.kind==="asr"),Ze=Fe==null?void 0:Fe.language_code;this.streaming_data.adaptive_formats.forEach(me=>{me.has_audio&&(me.language=Ze)}),this.streaming_data.formats.forEach(me=>me.language=Ze)}}let Pe=(_e=ot==null?void 0:ot.contents)===null||_e===void 0?void 0:_e.item().as(Xv),Lt=Pe==null?void 0:Pe.results,Bi=Pe==null?void 0:Pe.secondary_results;if(Lt&&Bi){if(((G=ae.microformat)===null||G===void 0?void 0:G.is(nt))&&((de=ae.microformat)===null||de===void 0?void 0:de.category)==="Gaming"){let me=(q=(H=(z=Lt.firstOfType(Of))===null||z===void 0?void 0:z.metadata)===null||H===void 0?void 0:H.rows)===null||q===void 0?void 0:q.firstOfType(Ed);me!=null&&me.is(Ed)&&(this.game_info={title:(Ie=(ie=me==null?void 0:me.contents)===null||ie===void 0?void 0:ie.firstOfType(Sd))===null||Ie===void 0?void 0:Ie.title,release_year:(it=(Qe=me==null?void 0:me.contents)===null||Qe===void 0?void 0:Qe.firstOfType(Sd))===null||it===void 0?void 0:it.subtitle})}this.primary_info=Lt.firstOfType(Zv),this.secondary_info=Lt.firstOfType(Of),this.merchandise=Lt.firstOfType(av),this.related_chip_cloud=($=Bi.firstOfType(Fv))===null||$===void 0?void 0:$.content.as(Ko),Pe!=null&&Pe.playlist&&(this.playlist=Pe.playlist),this.watch_next_feed=((Me=Bi.firstOfType(ze))===null||Me===void 0?void 0:Me.contents)||Bi,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((kt=this.watch_next_feed.at(-1))===null||kt===void 0?void 0:kt.is(pe))&&E(this,Ni,(It=this.watch_next_feed.pop())===null||It===void 0?void 0:It.as(pe),"f"),this.player_overlays=(ve=ot==null?void 0:ot.player_overlays)===null||ve===void 0?void 0:ve.item().as(Av),Pe!=null&&Pe.autoplay&&(this.autoplay=Pe.autoplay);let xe=(Io=(Je=this.primary_info)===null||Je===void 0?void 0:Je.menu)===null||Io===void 0?void 0:Io.top_level_buttons.firstOfType(to);((So=xe==null?void 0:xe.like_button)===null||So===void 0?void 0:So.is(ye))&&((Co=xe==null?void 0:xe.dislike_button)===null||Co===void 0?void 0:Co.is(ye))&&(this.basic_info.like_count=(Eo=xe==null?void 0:xe.like_button)===null||Eo===void 0?void 0:Eo.like_count,this.basic_info.is_liked=(No=xe==null?void 0:xe.like_button)===null||No===void 0?void 0:No.is_toggled,this.basic_info.is_disliked=(Po=xe==null?void 0:xe.dislike_button)===null||Po===void 0?void 0:Po.is_toggled);let Fe=(Ao=(Ro=this.primary_info)===null||Ro===void 0?void 0:Ro.menu)===null||Ao===void 0?void 0:Ao.top_level_buttons.firstOfType(io);if(Fe&&(this.basic_info.like_count=Fe.like_count,Fe.like_button)){let me=Fe.like_button.like_status_entity.like_status;this.basic_info.is_liked=me==="LIKE",this.basic_info.is_disliked=me==="DISLIKE"}let Ze=(Vo=Lt.get({target_id:"comments-entry-point"}))===null||Vo===void 0?void 0:Vo.as(ze);this.comments_entry_point_header=(Mo=Ze==null?void 0:Ze.contents)===null||Mo===void 0?void 0:Mo.firstOfType(r_),this.livechat=(Bo=ot==null?void 0:ot.contents_memo)===null||Bo===void 0?void 0:Bo.getType(j_).first()}}selectFilter(e){var i,o,n,a;return I(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new b("Chip cloud not found, cannot apply filter");let c;if(typeof e=="string"){let _=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!_)throw new b("Invalid filter",{available_filters:this.filters});c=_}else if(e!=null&&e.is(je))c=e;else throw new b("Invalid cloud chip",e);if(c.is_selected)return this;let p=yield(n=c.endpoint)===null||n===void 0?void 0:n.call(this.actions,{parse:!0}),d=(a=p==null?void 0:p.on_response_received_endpoints)===null||a===void 0?void 0:a.get({target_id:"watch-next-feed"});return this.watch_next_feed=d==null?void 0:d.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return I(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,o,n,a;return I(this,void 0,void 0,function*(){if(!f(this,Ni,"f"))throw new b("Watch next feed continuation not found");let c=yield(e=f(this,Ni,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=c==null?void 0:c.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"AppendContinuationItemsAction"});if(!p)throw new b("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((n=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||n===void 0)&&n.is(pe)?E(this,Ni,(a=this.watch_next_feed.pop())===null||a===void 0?void 0:a.as(pe),"f"):E(this,Ni,void 0,"f"),this})}like(){var e,i,o,n,a;return I(this,void 0,void 0,function*(){let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(io);if(c){let h=(o=c==null?void 0:c.like_button)===null||o===void 0?void 0:o.toggle_button;if(!h||!h.default_button||!c.like_button)throw new b("Like button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="LIKE")throw new b("This video is already liked",{video_id:this.basic_info.id});return yield new v(h.default_button.on_tap.payload.commands.find(S=>S.innertubeCommand)).call(this.actions)}let p=(a=(n=this.primary_info)===null||n===void 0?void 0:n.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType(to),d=p==null?void 0:p.like_button;if(!d)throw new b("Like button not found",{video_id:this.basic_info.id});if(!d.is(ye))throw new b("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new b("This video is already liked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}dislike(){var e,i,o,n,a;return I(this,void 0,void 0,function*(){let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(io);if(c){let h=(o=c==null?void 0:c.dislike_button)===null||o===void 0?void 0:o.toggle_button;if(!h||!h.default_button||!c.dislike_button||!c.like_button)throw new b("Dislike button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="DISLIKE")throw new b("This video is already disliked",{video_id:this.basic_info.id});return yield new v(h.default_button.on_tap.payload.commands.find(S=>S.innertubeCommand)).call(this.actions)}let p=(a=(n=this.primary_info)===null||n===void 0?void 0:n.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType(to),d=p==null?void 0:p.dislike_button;if(!d)throw new b("Dislike button not found",{video_id:this.basic_info.id});if(!d.is(ye))throw new b("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new b("This video is already disliked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}removeRating(){var e,i,o,n,a,c,p;return I(this,void 0,void 0,function*(){let d,_=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(io);if(_){let S=(o=_==null?void 0:_.like_button)===null||o===void 0?void 0:o.toggle_button;if(!S||!S.default_button||!_.like_button)throw new b("Like button not found",{video_id:this.basic_info.id});let T=_.like_button.like_status_entity.like_status;if(T==="LIKE")d=(n=_==null?void 0:_.like_button)===null||n===void 0?void 0:n.toggle_button;else if(T==="DISLIKE")d=(a=_==null?void 0:_.dislike_button)===null||a===void 0?void 0:a.toggle_button;else throw new b("This video is not liked/disliked",{video_id:this.basic_info.id});if(!d||!d.toggled_button)throw new b("Like/Dislike button not found",{video_id:this.basic_info.id});return yield new v(d.toggled_button.on_tap.payload.commands.find(K=>K.innertubeCommand)).call(this.actions)}let h=(p=(c=this.primary_info)===null||c===void 0?void 0:c.menu)===null||p===void 0?void 0:p.top_level_buttons.firstOfType(to),g=h==null?void 0:h.like_button,y=h==null?void 0:h.dislike_button;if(!(g!=null&&g.is(ye))||!(y!=null&&y.is(ye)))throw new b("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(g!=null&&g.is_toggled?d=g:y!=null&&y.is_toggled&&(d=y),!d)throw new b("This video is not liked/disliked",{video_id:this.basic_info.id});return yield d.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new b("Live Chat is not available",{video_id:this.basic_info.id});return new Ax(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(zp).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new jr([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var n;return(n=o.text)===null||n===void 0?void 0:n.toString()}))||[]}get wn_has_continuation(){return!!f(this,Ni,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(zp))}get music_tracks(){var e,i,o,n,a,c;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(d=>{var _;return(_=d.content)===null||_===void 0?void 0:_.is($i)});if(p!==void 0&&p.length>0){let d=(a=(n=(o=p[0].content)===null||o===void 0?void 0:o.as($i))===null||n===void 0?void 0:n.items)===null||a===void 0?void 0:a.filterType(Ho);if(d!==void 0&&d.length>0)return(c=d[0].carousel_lockups)===null||c===void 0?void 0:c.map(_=>{var h,g,y,w,S,T,A,R,K,Y,ce,ue,_e,G,de,z,H,q,ie;let Ie,Qe,it,$,Me,kt;Ie=(g=(h=_.video_lockup)===null||h===void 0?void 0:h.title)===null||g===void 0?void 0:g.toString(),Me=(y=_.video_lockup)===null||y===void 0?void 0:y.endpoint.payload.videoId;for(let It=0;It<_.info_rows.length;It++){let ve=_.info_rows[It];if(ve.info_row_expand_status_key===void 0)if(Ie===void 0){if(Ie=((w=ve.default_metadata)===null||w===void 0?void 0:w.toString())||((S=ve.expanded_metadata)===null||S===void 0?void 0:S.toString()),Me===void 0){let Je=((T=ve.default_metadata)===null||T===void 0?void 0:T.endpoint)||((A=ve.expanded_metadata)===null||A===void 0?void 0:A.endpoint);Me=(R=Je==null?void 0:Je.payload)===null||R===void 0?void 0:R.videoId}}else it=((K=ve.default_metadata)===null||K===void 0?void 0:K.toString())||((Y=ve.expanded_metadata)===null||Y===void 0?void 0:Y.toString());else{if(((ce=ve.info_row_expand_status_key)===null||ce===void 0?void 0:ce.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(Qe=((ue=ve.default_metadata)===null||ue===void 0?void 0:ue.toString())||((_e=ve.expanded_metadata)===null||_e===void 0?void 0:_e.toString()),kt===void 0)){let Je=((G=ve.default_metadata)===null||G===void 0?void 0:G.endpoint)||((de=ve.expanded_metadata)===null||de===void 0?void 0:de.endpoint);kt=(z=Je==null?void 0:Je.payload)===null||z===void 0?void 0:z.browseId}((H=ve.info_row_expand_status_key)===null||H===void 0?void 0:H.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&($=((q=ve.default_metadata)===null||q===void 0?void 0:q.toString())||((ie=ve.expanded_metadata)===null||ie===void 0?void 0:ie.toString()))}}return{song:Ie,artist:Qe,album:it,license:$,videoId:Me,channelId:kt}})}return[]}};r(jr,"VideoInfo");Ni=new WeakMap;var mm=jr;var hm,_m,Yr=class{constructor(e,i){hm.set(this,void 0),_m.set(this,void 0),E(this,hm,l.parseResponse(i.data),"f"),E(this,_m,e,"f"),this.transcript=f(this,hm,"f").actions_memo.getType(Lo).first()}selectLanguage(e){var i,o,n,a;return I(this,void 0,void 0,function*(){let c=(a=(n=(o=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||o===void 0?void 0:o.language_menu)===null||n===void 0?void 0:n.sub_menu_items)===null||a===void 0?void 0:a.find(d=>d.title.toString()===e);if(!c)throw new Error(`Language not found: ${e}`);if(c.selected)return this;let p=yield f(this,_m,"f").execute("/get_transcript",{params:c.continuation});return new Yr(f(this,_m,"f"),p)})}get languages(){var e,i,o,n;return((n=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||n===void 0?void 0:n.map(a=>a.title.toString()))||[]}get selectedLanguage(){var e,i,o,n,a;return((a=(n=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||n===void 0?void 0:n.find(c=>c.selected))===null||a===void 0?void 0:a.title.toString())||""}get page(){return f(this,hm,"f")}};r(Yr,"TranscriptInfo");hm=new WeakMap,_m=new WeakMap;var _x=Yr;var M=class{constructor(e,i,o,n){var a,c,p,d,_,h,g,y,w,S,T,A,R,K,Y,ce,ue,_e,G,de,z,H,q,ie,Ie,Qe,it;let $=new u(e);this.id=n||((d=(p=(c=(a=$==null?void 0:$.runs)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId)||((h=(_=$==null?void 0:$.endpoint)===null||_===void 0?void 0:_.payload)===null||h===void 0?void 0:h.browseId)||"N/A",this.name=($==null?void 0:$.text)||"N/A",this.thumbnails=o?x.fromResponse(o):[],this.endpoint=((y=(g=$==null?void 0:$.runs)===null||g===void 0?void 0:g[0])===null||y===void 0?void 0:y.endpoint)||($==null?void 0:$.endpoint),i?Array.isArray(i)?(this.badges=l.parseArray(i),this.is_moderator=(w=this.badges)===null||w===void 0?void 0:w.some(Me=>Me.icon_type=="MODERATOR"),this.is_verified=(S=this.badges)===null||S===void 0?void 0:S.some(Me=>Me.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(T=this.badges)===null||T===void 0?void 0:T.some(Me=>Me.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=oe([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=oe([]),this.url=((Y=(K=(R=(A=$==null?void 0:$.runs)===null||A===void 0?void 0:A[0])===null||R===void 0?void 0:R.endpoint)===null||K===void 0?void 0:K.metadata)===null||Y===void 0?void 0:Y.api_url)==="/browse"&&`${et.YT_BASE}${((G=(_e=(ue=(ce=$==null?void 0:$.runs)===null||ce===void 0?void 0:ce[0])===null||ue===void 0?void 0:ue.endpoint)===null||_e===void 0?void 0:_e.payload)===null||G===void 0?void 0:G.canonicalBaseUrl)||`/u/${(q=(H=(z=(de=$==null?void 0:$.runs)===null||de===void 0?void 0:de[0])===null||z===void 0?void 0:z.endpoint)===null||H===void 0?void 0:H.payload)===null||q===void 0?void 0:q.browseId}`}`||`${et.YT_BASE}${((Ie=(ie=$==null?void 0:$.endpoint)===null||ie===void 0?void 0:ie.payload)===null||Ie===void 0?void 0:Ie.canonicalBaseUrl)||`/u/${(it=(Qe=$==null?void 0:$.endpoint)===null||Qe===void 0?void 0:Qe.payload)===null||it===void 0?void 0:it.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};r(M,"Author");var V1={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var Mx,Bx,sS="Utils",F=class{static load(e){E(F,Mx,e,"f",Bx)}static get shim(){if(!f(F,Mx,"f",Bx))throw new Error("Platform is not loaded");return f(F,Mx,"f",Bx)}};r(F,"Platform");Mx=F;Bx={value:void 0};var b=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=F.shim.info.version}};r(b,"InnertubeError");var rt=class extends b{};r(rt,"ParsingError");var vm=class extends b{};r(vm,"MissingParamError");var Dx=class extends b{};r(Dx,"OAuth2Error");var wt=class extends Error{};r(wt,"PlayerError");var yo=class extends Error{};r(yo,"SessionError");var Ar=class extends Error{};r(Ar,"ChannelError");function Pm(t,e){return Reflect.ownKeys(t).some(o=>{let n=e[o]instanceof u;return!n&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(n?e[o].toString():e[o])})}r(Pm,"deepCompare");function Re(t,e,i){let o=new RegExp(`${Jg(e)}(.*?)${Jg(i)}`,"s"),n=t.match(o);return n?n[1]:void 0}r(Re,"getStringBetweenStrings");function Jg(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}r(Jg,"escapeStringRegexp");function Ui(t){let e=V1[t],i=Math.floor(Math.random()*e.length);return e[i]}r(Ui,"getRandomUserAgent");function aS(t){return I(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),n=yield F.shim.sha1Hash(o);return["SAPISIDHASH",[i,n].join("_")].join(" ")})}r(aS,"generateSidAuth");function bo(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}r(bo,"generateRandomString");function Se(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}r(Se,"timeToSeconds");function Og(...t){let e=new Qt;for(let i of t)if(!!i)for(let o of i){let n=e.get(o[0]);if(n){e.set(o[0],[...n,...o[1]]);continue}e.set(...o)}return e}r(Og,"concatMemos");function xm(t){for(let[e,i]of Object.entries(t))if(!i)throw new vm(`${e} is missing`)}r(xm,"throwIfMissing");function uS(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}r(uS,"hasKeys");function sg(t){return w0(this,arguments,r(function*(){let i=t.getReader();try{for(;;){let{done:o,value:n}=yield Di(i.read());if(o)return yield Di(void 0);yield yield Di(n)}}finally{i.releaseLock()}},"streamToIterable_1"))}r(sg,"streamToIterable");var lS=r((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,n=[...o],a=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",c=n.length>0?`${n.map(([p,d])=>`    ${p}: ${d}`).join(`
`)}`:"    (none)";return O.warn(sS,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${c}
' + 
    '  body:
${a}`),F.shim.fetch(t,e)},"debugFetch");function He(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}r(He,"u8ToBase64");function Tg(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}r(Tg,"base64ToU8");function Ue(t){return!("emoji"in t)}r(Ue,"isTextRun");function cS(t,e,i=!1){let o=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,n=t.match(new RegExp(o));return n?n[2]:void 0}r(cS,"getCookie");function Gg(t){return I(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let n=new Uint8Array(o),a=[];for(let c=0;c<n.length;++c)a.push(e[n[c]]);return a.join("")}return r(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}r(Gg,"sha1Hash");var Lx={name:"youtubei.js",version:"10.0.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"react-native":["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"],"cf-worker":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js","react-native":"./dist/src/platform/react-native.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./react-native":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/react-native.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"},"./cf-worker":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/cf-worker.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",clean:"npx rimraf ./dist/src ./dist/package.json ./bundle/browser.js ./bundle/browser.js.map ./bundle/browser.min.js ./bundle/browser.min.js.map ./bundle/node.cjs ./bundle/node.cjs.map ./bundle/cf-worker.js ./bundle/cf-worker.js.map ./bundle/react-native.js ./bundle/react-native.js.map ./deno",build:"npm run clean && npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod && npm run bundle:cf-worker && npm run bundle:react-native","build:parser-map":"node ./dev-scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:react-native":"npx esbuild ./dist/src/platform/react-native.js --bundle --target=es2020 --keep-names --format=esm --platform=neutral --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/react-native.js","bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify","bundle:cf-worker":'npx esbuild ./dist/src/platform/cf-worker.js --banner:js="/* eslint-disable */" --bundle --target=es2020 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/cf-worker.js --platform=node',prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^1.1.0",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^29.7.0",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^29.1.4","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var ym={};be(ym,{ArrayExpression:()=>Ur,ArrowFunctionExpression:()=>Wr,AssignmentExpression:()=>Jr,BinaryExpression:()=>Gr,BlockStatement:()=>Hr,BreakStatement:()=>zr,CallExpression:()=>$r,ConditionalExpression:()=>qr,ContinueStatement:()=>Xr,ExpressionStatement:()=>Qr,ForOfStatement:()=>Zr,ForStatement:()=>en,FunctionDeclaration:()=>tn,FunctionExpression:()=>on,Identifier:()=>rn,IfStatement:()=>nn,Literal:()=>sn,LogicalExpression:()=>an,MemberExpression:()=>un,NewExpression:()=>ln,ObjectExpression:()=>cn,Property:()=>pn,ReturnStatement:()=>dn,SequenceExpression:()=>fn,SwitchCase:()=>mn,SwitchStatement:()=>hn,ThisExpression:()=>_n,ThrowStatement:()=>vn,TryStatement:()=>xn,UnaryExpression:()=>gn,UpdateExpression:()=>yn,VariableDeclaration:()=>bn,WhileStatement:()=>wn});var V=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};r(V,"BaseJSNode");var Ur=class extends V{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};r(Ur,"ArrayExpression");var Hg={};be(Hg,{namedFunction:()=>wo});var wo=r((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction");var Wr=class extends V{run(){let{params:e,body:i}=this.node;return wo("anonymous function",n=>{let a=0;for(let c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,n[a]):console.warn("Unhandled param type",c.type),a++;return this.visitor.visitNode(i)})}};r(Wr,"ArrowFunctionExpression");var Jr=class extends V{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};r(Jr,"AssignmentExpression");var Gr=class extends V{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};r(Gr,"BinaryExpression");var Hr=class extends V{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};r(Hr,"BlockStatement");var zr=class extends V{run(){return"break"}};r(zr,"BreakStatement");var M1=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Ox,zg,$r=class extends V{constructor(){super(...arguments),Ox.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let a=this.visitor.listeners[e](this.node,this.visitor);if(a!=="proceed")return a}if(i&&i!=="toString"&&this.visitor.listeners[i]){let a=this.visitor.listeners[i](this.node,this.visitor);if(a!=="proceed")return a}if(this.node.callee.type==="MemberExpression"){if(Kr.has(this.node,this.visitor))return Kr.execute(this.node,this.visitor);let a=this.visitor.visitNode(this.node.callee.object),c=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(d=>this.visitor.visitNode(d));return typeof a[c]!="function"&&M1(this,Ox,"m",zg).call(this),a[c].toString().includes("[native code]")?a[c](...p):a[c](p)}let o=this.visitor.visitNode(this.node.callee),n=this.node.arguments.map(a=>this.visitor.visitNode(a));return typeof o!="function"&&M1(this,Ox,"m",zg).call(this),o(n)}};r($r,"CallExpression");Ox=new WeakSet,zg=r(function(){if(this.node.callee.type==="MemberExpression")throw new Error(`${this.node.callee.object.type==="Identifier"?this.node.callee.object.name:"<object>"}.${this.node.callee.property.type==="Identifier"?this.node.callee.property.name:"?"} is not a function`);if(this.node.callee.type==="Identifier")throw new Error(`${this.node.callee.name} is not a function`);if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var Kr=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};r(Kr,"Builtins");Kr.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let n=0;for(let a of o)i[0]([a,n++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var qr=class extends V{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};r(qr,"ConditionalExpression");var Xr=class extends V{run(){return"continue"}};r(Xr,"ContinueStatement");var Qr=class extends V{run(){return this.visitor.visitNode(this.node.expression)}};r(Qr,"ExpressionStatement");var Zr=class extends V{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let n of this.node.left.declarations[0].id.properties)n.type==="Property"&&n.value.type==="Identifier"&&n.key.type==="Identifier"&&this.visitor.scope.set(n.value.name,i[n.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};r(Zr,"ForOfStatement");var en=class extends V{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=r(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};r(en,"ForStatement");var tn=class extends V{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),n=wo(o,a=>{let c=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,a[c]):console.warn("Unhandled param type",p.type),c++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,n)}};r(tn,"FunctionDeclaration");var on=class extends V{run(){let{params:e,body:i}=this.node;return wo("anonymous function",n=>{let a=0;for(let c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,n[a]):console.warn("Unhandled param type",c.type),a++;return this.visitor.visitNode(i)})}};r(on,"FunctionExpression");var rn=class extends V{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="proceed")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};r(rn,"Identifier");var nn=class extends V{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};r(nn,"IfStatement");var sn=class extends V{run(){return this.node.value}};r(sn,"Literal");var an=class extends V{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};r(an,"LogicalExpression");var un=class extends V{run(){let{object:e,property:i,computed:o}=this.node,n=this.visitor.visitNode(e),a=o?this.visitor.visitNode(i):this.visitor.getName(i);if(a!==void 0||a!==null){if(this.visitor.listeners[a]){let c=this.visitor.listeners[a](this.node,this.visitor);if(c!=="proceed")return c}return n==null?void 0:n[a]}}};r(un,"MemberExpression");var ln=class extends V{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return new e(i)}};r(ln,"NewExpression");var cn=class extends V{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};r(cn,"ObjectExpression");var $g=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},gm,B1,D1,L1,pn=class extends V{constructor(){super(...arguments),gm.add(this)}run(){switch(this.node.kind){case"init":return $g(this,gm,"m",B1).call(this);case"get":return $g(this,gm,"m",D1).call(this);case"set":return $g(this,gm,"m",L1).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};r(pn,"Property");gm=new WeakSet,B1=r(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),D1=r(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),L1=r(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var dn=class extends V{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};r(dn,"ReturnStatement");var fn=class extends V{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};r(fn,"SequenceExpression");var mn=class extends V{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};r(mn,"SwitchCase");var hn=class extends V{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,n=0;for(;;){let a=this.node.cases[n];if(i){let c=this.visitor.visitNode(a);if(c==="break")break;if(c==="continue")return c;if(++n,n>=this.node.cases.length){n=0;break}else continue}if(i=a&&e===this.visitor.visitNode(a.test),i===void 0&&n>this.node.cases.length)break;if(a&&!i&&!a.test){o=n,n+=1;continue}if(!a&&!i&&o!==-1){i=!0,n=o;continue}i||++n}}};r(hn,"SwitchStatement");var _n=class extends V{run(){return this.visitor.scope.get("_this")}};r(_n,"ThisExpression");var vn=class extends V{run(){throw this.visitor.visitNode(this.node.argument)}};r(vn,"ThrowStatement");var xn=class extends V{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};r(xn,"TryStatement");var gn=class extends V{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};r(gn,"UnaryExpression");var yn=class extends V{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};r(yn,"UpdateExpression");var bn=class extends V{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,n=this.visitor.getName(i),a=o?this.visitor.visitNode(o):void 0;n&&this.visitor.scope.set(n,a),typeof a=="object"&&a!==null&&this.visitor.scope.set("_this",a)})}};r(bn,"VariableDeclaration");var wn=class extends V{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};r(wn,"WhileStatement");var dS=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Kg,O1,Tn=class{constructor(e){Kg.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=dS(this,Kg,"m",O1).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};r(Tn,"Visitor");Kg=new WeakSet,O1=r(function(e){let i=ym[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var fS=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],W1=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],mS="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",J1="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",qg={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"arguments"},Xg="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",hS={5:Xg,"5module":Xg+" export import",6:Xg+" const class extends export import super"},_S=/^in(stanceof)?$/,vS=new RegExp("["+J1+"]"),xS=new RegExp("["+J1+mS+"]");function Zg(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}return!1}r(Zg,"isInAstralSet");function zt(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&vS.test(String.fromCharCode(t)):e===!1?!1:Zg(t,W1)}r(zt,"isIdentifierStart");function kn(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&xS.test(String.fromCharCode(t)):e===!1?!1:Zg(t,W1)||Zg(t,fS)}r(kn,"isIdentifierChar");var se=r(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function at(t,e){return new se(t,{beforeExpr:!0,binop:e})}r(at,"binop");var ut={beforeExpr:!0},qe={startsExpr:!0},i0={};function te(t,e){return e===void 0&&(e={}),e.keyword=t,i0[t]=new se(t,e)}r(te,"kw");var m={num:new se("num",qe),regexp:new se("regexp",qe),string:new se("string",qe),name:new se("name",qe),privateId:new se("privateId",qe),eof:new se("eof"),bracketL:new se("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new se("]"),braceL:new se("{",{beforeExpr:!0,startsExpr:!0}),braceR:new se("}"),parenL:new se("(",{beforeExpr:!0,startsExpr:!0}),parenR:new se(")"),comma:new se(",",ut),semi:new se(";",ut),colon:new se(":",ut),dot:new se("."),question:new se("?",ut),questionDot:new se("?."),arrow:new se("=>",ut),template:new se("template"),invalidTemplate:new se("invalidTemplate"),ellipsis:new se("...",ut),backQuote:new se("`",qe),dollarBraceL:new se("${",{beforeExpr:!0,startsExpr:!0}),eq:new se("=",{beforeExpr:!0,isAssign:!0}),assign:new se("_=",{beforeExpr:!0,isAssign:!0}),incDec:new se("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new se("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:at("||",1),logicalAND:at("&&",2),bitwiseOR:at("|",3),bitwiseXOR:at("^",4),bitwiseAND:at("&",5),equality:at("==/!=/===/!==",6),relational:at("</>/<=/>=",7),bitShift:at("<</>>/>>>",8),plusMin:new se("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:at("%",10),star:at("*",10),slash:at("/",10),starstar:new se("**",{beforeExpr:!0}),coalesce:at("??",1),_break:te("break"),_case:te("case",ut),_catch:te("catch"),_continue:te("continue"),_debugger:te("debugger"),_default:te("default",ut),_do:te("do",{isLoop:!0,beforeExpr:!0}),_else:te("else",ut),_finally:te("finally"),_for:te("for",{isLoop:!0}),_function:te("function",qe),_if:te("if"),_return:te("return",ut),_switch:te("switch"),_throw:te("throw",ut),_try:te("try"),_var:te("var"),_const:te("const"),_while:te("while",{isLoop:!0}),_with:te("with"),_new:te("new",{beforeExpr:!0,startsExpr:!0}),_this:te("this",qe),_super:te("super",qe),_class:te("class",qe),_extends:te("extends",ut),_export:te("export"),_import:te("import",qe),_null:te("null",qe),_true:te("true",qe),_false:te("false",qe),_in:te("in",{beforeExpr:!0,binop:7}),_instanceof:te("instanceof",{beforeExpr:!0,binop:7}),_typeof:te("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:te("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:te("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},pt=/\r\n?|\n|\u2028|\u2029/,gS=new RegExp(pt.source,"g");function In(t){return t===10||t===13||t===8232||t===8233}r(In,"isNewLine");function G1(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var n=t.charCodeAt(o);if(In(n))return o<i-1&&n===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}r(G1,"nextLineBreak");var H1=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,lt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,z1=Object.prototype,yS=z1.hasOwnProperty,bS=z1.toString,km=Object.hasOwn||function(t,e){return yS.call(t,e)},F1=Array.isArray||function(t){return bS.call(t)==="[object Array]"};function Pi(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}r(Pi,"wordsRegexp");function Ri(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}r(Ri,"codePointToString");var wS=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,wm=r(function(e,i){this.line=e,this.column=i},"Position");wm.prototype.offset=r(function(e){return new wm(this.line,this.column+e)},"offset");var Wx=r(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function $1(t,e){for(var i=1,o=0;;){var n=G1(t,o,e);if(n<0)return new wm(i,e-o);++i,o=n}}r($1,"getLineInfo");var e0={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},j1=!1;function TS(t){var e={};for(var i in e0)e[i]=t&&km(t,i)?t[i]:e0[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!j1&&typeof console=="object"&&console.warn&&(j1=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),F1(e.onToken)){var o=e.onToken;e.onToken=function(n){return o.push(n)}}return F1(e.onComment)&&(e.onComment=kS(e,e.onComment)),e}r(TS,"getOptions");function kS(t,e){return function(i,o,n,a,c,p){var d={type:i?"Block":"Line",value:o,start:n,end:a};t.locations&&(d.loc=new Wx(this,c,p)),t.ranges&&(d.range=[n,a]),e.push(d)}}r(kS,"pushComment");var Tm=1,Sn=2,o0=4,K1=8,q1=16,X1=32,r0=64,Q1=128,Im=256,n0=Tm|Sn|Im;function s0(t,e){return Sn|(t?o0:0)|(e?K1:0)}r(s0,"functionFlags");var jx=0,a0=1,Kt=2,Z1=3,ek=4,tk=5,ke=r(function(e,i,o){this.options=e=TS(e),this.sourceFile=e.sourceFile,this.keywords=Pi(hS[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var n="";e.allowReserved!==!0&&(n=qg[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(n+=" await")),this.reservedWords=Pi(n);var a=(n?n+" ":"")+qg.strict;this.reservedWordsStrict=Pi(a),this.reservedWordsStrictBind=Pi(a+" "+qg.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(pt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Tm),this.regexpState=null,this.privateNameStack=[]},"Parser"),Mt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};ke.prototype.parse=r(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");Mt.inFunction.get=function(){return(this.currentVarScope().flags&Sn)>0};Mt.inGenerator.get=function(){return(this.currentVarScope().flags&K1)>0&&!this.currentVarScope().inClassFieldInit};Mt.inAsync.get=function(){return(this.currentVarScope().flags&o0)>0&&!this.currentVarScope().inClassFieldInit};Mt.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Im)return!1;if(e.flags&Sn)return(e.flags&o0)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Mt.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&r0)>0||i||this.options.allowSuperOutsideMethod};Mt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Q1)>0};Mt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Mt.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Sn|Im))>0||i};Mt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Im)>0};ke.extend=r(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,n=0;n<e.length;n++)o=e[n](o);return o},"extend");ke.parse=r(function(e,i){return new this(i,e).parse()},"parse");ke.parseExpressionAt=r(function(e,i,o){var n=new this(o,e,i);return n.nextToken(),n.parseExpression()},"parseExpressionAt");ke.tokenizer=r(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(ke.prototype,Mt);var We=ke.prototype,IS=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;We.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){lt.lastIndex=t,t+=lt.exec(this.input)[0].length;var e=IS.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){lt.lastIndex=t+e[0].length;var i=lt.exec(this.input),o=i.index+i[0].length,n=this.input.charAt(o);return n===";"||n==="}"||pt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||n==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,lt.lastIndex=t,t+=lt.exec(this.input)[0].length,this.input[t]===";"&&t++}};We.eat=function(t){return this.type===t?(this.next(),!0):!1};We.isContextual=function(t){return this.type===m.name&&this.value===t&&!this.containsEsc};We.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};We.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};We.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||pt.test(this.input.slice(this.lastTokEnd,this.start))};We.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};We.semicolon=function(){!this.eat(m.semi)&&!this.insertSemicolon()&&this.unexpected()};We.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};We.expect=function(t){this.eat(t)||this.unexpected()};We.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Jx=r(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");We.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};We.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};We.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};We.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var D=ke.prototype;D.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==m.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,n=Object.keys(this.undefinedExports);o<n.length;o+=1){var a=n[o];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var u0={kind:"loop"},SS={kind:"switch"};D.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;lt.lastIndex=this.pos;var e=lt.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if(zt(o,!0)){for(var n=i+1;kn(o=this.input.charCodeAt(n),!0);)++n;if(o===92||o>55295&&o<56320)return!0;var a=this.input.slice(i,n);if(!_S.test(a))return!0}return!1};D.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;lt.lastIndex=this.pos;var t=lt.exec(this.input),e=this.pos+t[0].length,i;return!pt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(kn(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};D.parseStatement=function(t,e,i){var o=this.type,n=this.startNode(),a;switch(this.isLet(t)&&(o=m._var,a="let"),o){case m._break:case m._continue:return this.parseBreakContinueStatement(n,o.keyword);case m._debugger:return this.parseDebuggerStatement(n);case m._do:return this.parseDoStatement(n);case m._for:return this.parseForStatement(n);case m._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(n,!1,!t);case m._class:return t&&this.unexpected(),this.parseClass(n,!0);case m._if:return this.parseIfStatement(n);case m._return:return this.parseReturnStatement(n);case m._switch:return this.parseSwitchStatement(n);case m._throw:return this.parseThrowStatement(n);case m._try:return this.parseTryStatement(n);case m._const:case m._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(n,a);case m._while:return this.parseWhileStatement(n);case m._with:return this.parseWithStatement(n);case m.braceL:return this.parseBlock(!0,n);case m.semi:return this.parseEmptyStatement(n);case m._export:case m._import:if(this.options.ecmaVersion>10&&o===m._import){lt.lastIndex=this.pos;var c=lt.exec(this.input),p=this.pos+c[0].length,d=this.input.charCodeAt(p);if(d===40||d===46)return this.parseExpressionStatement(n,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===m._import?this.parseImport(n):this.parseExport(n,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(n,!0,!t);var _=this.value,h=this.parseExpression();return o===m.name&&h.type==="Identifier"&&this.eat(m.colon)?this.parseLabeledStatement(n,_,h,t):this.parseExpressionStatement(n,h)}};D.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(m.semi)||this.insertSemicolon()?t.label=null:this.type!==m.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var n=this.labels[o];if((t.label==null||n.name===t.label.name)&&(n.kind!=null&&(i||n.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};D.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};D.parseDoStatement=function(t){return this.next(),this.labels.push(u0),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(m.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};D.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(u0),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===m._var||this.type===m._const||i){var o=this.startNode(),n=i?"let":this.value;return this.next(),this.parseVar(o,!0,n),this.finishNode(o,"VariableDeclaration"),(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var a=this.isContextual("let"),c=!1,p=new Jx,d=this.parseExpression(e>-1?"await":!0,p);return this.type===m._in||(c=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),a&&c&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,p),this.checkLValPattern(d),this.parseForIn(t,d)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,d))};D.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,bm|(i?0:t0),!1,e)};D.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};D.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};D.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(m.braceL),this.labels.push(SS),this.enterScope(0);for(var e,i=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var o=this.type===m._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(m.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};D.parseThrowStatement=function(t){return this.next(),pt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var CS=[];D.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?X1:0),this.checkLValPattern(t,e?ek:Kt),this.expect(m.parenR),t};D.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===m._catch){var e=this.startNode();this.next(),this.eat(m.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(m._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};D.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};D.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(u0),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};D.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};D.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};D.parseLabeledStatement=function(t,e,i,o){for(var n=0,a=this.labels;n<a.length;n+=1){var c=a[n];c.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===m._switch?"switch":null,d=this.labels.length-1;d>=0;d--){var _=this.labels[d];if(_.statementStart===t.start)_.statementStart=this.start,_.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};D.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};D.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(m.braceL),t&&this.enterScope(0);this.type!==m.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};D.parseFor=function(t,e){return t.init=e,this.expect(m.semi),t.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),t.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};D.parseForIn=function(t,e){var i=this.type===m._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};D.parseVar=function(t,e,i,o){for(t.declarations=[],t.kind=i;;){var n=this.startNode();if(this.parseVarId(n,i),this.eat(m.eq)?n.init=this.parseMaybeAssign(e):!o&&i==="const"&&!(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&n.id.type!=="Identifier"&&!(e&&(this.type===m._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):n.init=null,t.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(m.comma))break}return t};D.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?a0:Kt,!1)};var bm=1,t0=2,ik=4;D.parseFunction=function(t,e,i,o,n){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===m.star&&e&t0&&this.unexpected(),t.generator=this.eat(m.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&bm&&(t.id=e&ik&&this.type!==m.name?null:this.parseIdent(),t.id&&!(e&t0)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?a0:Kt:Z1));var a=this.yieldPos,c=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(s0(t.async,t.generator)),e&bm||(t.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,n),this.yieldPos=a,this.awaitPos=c,this.awaitIdentPos=p,this.finishNode(t,e&bm?"FunctionDeclaration":"FunctionExpression")};D.parseFunctionParams=function(t){this.expect(m.parenL),t.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};D.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),n=this.startNode(),a=!1;for(n.body=[],this.expect(m.braceL);this.type!==m.braceR;){var c=this.parseClassElement(t.superClass!==null);c&&(n.body.push(c),c.type==="MethodDefinition"&&c.kind==="constructor"?(a&&this.raiseRecoverable(c.start,"Duplicate constructor in the same class"),a=!0):c.key&&c.key.type==="PrivateIdentifier"&&ES(o,c)&&this.raiseRecoverable(c.key.start,"Identifier '#"+c.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(n,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};D.parseClassElement=function(t){if(this.eat(m.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",n=!1,a=!1,c="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(m.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===m.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===m.star)&&!this.canInsertSemicolon()?a=!0:o="async"),!o&&(e>=9||!a)&&this.eat(m.star)&&(n=!0),!o&&!a&&!n){var d=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=d:o=d)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===m.parenL||c!=="method"||n||a){var _=!i.static&&Yx(i,"constructor"),h=_&&t;_&&c!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=_?"constructor":c,this.parseClassMethod(i,n,a,h)}else this.parseClassField(i);return i};D.isClassElementNameStart=function(){return this.type===m.name||this.type===m.privateId||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword};D.parseClassElementName=function(t){this.type===m.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};D.parseClassMethod=function(t,e,i,o){var n=t.key;t.kind==="constructor"?(e&&this.raise(n.start,"Constructor can't be a generator"),i&&this.raise(n.start,"Constructor can't be an async method")):t.static&&Yx(t,"prototype")&&this.raise(n.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};D.parseClassField=function(t){if(Yx(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Yx(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(m.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};D.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Im|r0);this.type!==m.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};D.parseClassId=function(t,e){this.type===m.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Kt,!1)):(e===!0&&this.unexpected(),t.id=null)};D.parseClassSuper=function(t){t.superClass=this.eat(m._extends)?this.parseExprSubscripts(null,!1):null};D.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};D.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var o=this.privateNameStack.length,n=o===0?null:this.privateNameStack[o-1],a=0;a<i.length;++a){var c=i[a];km(e,c.name)||(n?n.used.push(c):this.raiseRecoverable(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"))}};function ES(t,e){var i=e.key.name,o=t[i],n="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(n=(e.static?"s":"i")+e.kind),o==="iget"&&n==="iset"||o==="iset"&&n==="iget"||o==="sget"&&n==="sset"||o==="sset"&&n==="sget"?(t[i]="true",!1):o?!0:(t[i]=n,!1)}r(ES,"isPrivateNameConflicted");function Yx(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}r(Yx,"checkKeyName");D.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};D.parseExport=function(t,e){if(this.next(),this.eat(m.star))return this.parseExportAllDeclaration(t,e);if(this.eat(m._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var n=o[i];this.checkUnreserved(n.local),this.checkLocalExport(n.local),n.local.type==="Literal"&&this.raise(n.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};D.parseExportDeclaration=function(t){return this.parseStatement(null)};D.parseExportDefaultDeclaration=function(){var t;if(this.type===m._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,bm|ik,!1,t)}else if(this.type===m._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};D.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),km(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};D.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,n=e.properties;o<n.length;o+=1){var a=n[o];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var c=0,p=e.elements;c<p.length;c+=1){var d=p[c];d&&this.checkPatternExport(t,d)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};D.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var n=o[i];this.checkPatternExport(t,n.id)}};D.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};D.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};D.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(i)i=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;e.push(this.parseExportSpecifier(t))}return e};D.parseImport=function(t){return this.next(),this.type===m.string?(t.specifiers=CS,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};D.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Kt),this.finishNode(t,"ImportSpecifier")};D.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Kt),this.finishNode(t,"ImportDefaultSpecifier")};D.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Kt),this.finishNode(t,"ImportNamespaceSpecifier")};D.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===m.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(m.comma)))return t;if(this.type===m.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(m.braceL);!this.eat(m.braceR);){if(e)e=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;t.push(this.parseImportSpecifier())}return t};D.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===m.string){var t=this.parseLiteral(this.value);return wS.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};D.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};D.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var dt=ke.prototype;dt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,n=t.properties;o<n.length;o+=1){var a=n[o];this.toAssignable(a,e),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};dt.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var n=t[o];n&&this.toAssignable(n,e)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&e&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};dt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};dt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==m.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};dt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case m.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()};dt.parseBindingList=function(t,e,i,o){for(var n=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(m.comma),e&&this.type===m.comma)n.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===m.ellipsis){var c=this.parseRestBinding();this.parseBindingListItem(c),n.push(c),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else n.push(this.parseAssignableListItem(o))}return n};dt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};dt.parseBindingListItem=function(t){return t};dt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};dt.checkLValSimple=function(t,e,i){e===void 0&&(e=jx);var o=e!==jx;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===Kt&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(km(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==tk&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};dt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=jx),t.type){case"ObjectPattern":for(var o=0,n=t.properties;o<n.length;o+=1){var a=n[o];this.checkLValInnerPattern(a,e,i)}break;case"ArrayPattern":for(var c=0,p=t.elements;c<p.length;c+=1){var d=p[c];d&&this.checkLValInnerPattern(d,e,i)}break;default:this.checkLValSimple(t,e,i)}};dt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=jx),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Tt=r(function(e,i,o,n,a){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=n,this.generator=!!a},"TokContext"),he={b_stat:new Tt("{",!1),b_expr:new Tt("{",!0),b_tmpl:new Tt("${",!1),p_stat:new Tt("(",!1),p_expr:new Tt("(",!0),q_tmpl:new Tt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Tt("function",!1),f_expr:new Tt("function",!0),f_expr_gen:new Tt("function",!0,!1,null,!0),f_gen:new Tt("function",!1,!1,null,!0)},Cn=ke.prototype;Cn.initialContext=function(){return[he.b_stat]};Cn.curContext=function(){return this.context[this.context.length-1]};Cn.braceIsBlock=function(t){var e=this.curContext();return e===he.f_expr||e===he.f_stat?!0:t===m.colon&&(e===he.b_stat||e===he.b_expr)?!e.isExpr:t===m._return||t===m.name&&this.exprAllowed?pt.test(this.input.slice(this.lastTokEnd,this.start)):t===m._else||t===m.semi||t===m.eof||t===m.parenR||t===m.arrow?!0:t===m.braceL?e===he.b_stat:t===m._var||t===m._const||t===m.name?!1:!this.exprAllowed};Cn.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Cn.updateContext=function(t){var e,i=this.type;i.keyword&&t===m.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Cn.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};m.parenR.updateContext=m.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===he.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};m.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?he.b_stat:he.b_expr),this.exprAllowed=!0};m.dollarBraceL.updateContext=function(){this.context.push(he.b_tmpl),this.exprAllowed=!0};m.parenL.updateContext=function(t){var e=t===m._if||t===m._for||t===m._with||t===m._while;this.context.push(e?he.p_stat:he.p_expr),this.exprAllowed=!0};m.incDec.updateContext=function(){};m._function.updateContext=m._class.updateContext=function(t){t.beforeExpr&&t!==m._else&&!(t===m.semi&&this.curContext()!==he.p_stat)&&!(t===m._return&&pt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===m.colon||t===m.braceL)&&this.curContext()===he.b_stat)?this.context.push(he.f_expr):this.context.push(he.f_stat),this.exprAllowed=!1};m.backQuote.updateContext=function(){this.curContext()===he.q_tmpl?this.context.pop():this.context.push(he.q_tmpl),this.exprAllowed=!1};m.star.updateContext=function(t){if(t===m._function){var e=this.context.length-1;this.context[e]===he.f_expr?this.context[e]=he.f_expr_gen:this.context[e]=he.f_gen}this.exprAllowed=!0};m.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==m.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var J=ke.prototype;J.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,n;switch(o.type){case"Identifier":n=o.name;break;case"Literal":n=String(o.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){n==="__proto__"&&a==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}n="$"+n;var c=e[n];if(c){var p;a==="init"?p=this.strict&&c.init||c.get||c.set:p=c.init||c[a],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else c=e[n]={init:!1,get:!1,set:!1};c[a]=!0}};J.parseExpression=function(t,e){var i=this.start,o=this.startLoc,n=this.parseMaybeAssign(t,e);if(this.type===m.comma){var a=this.startNodeAt(i,o);for(a.expressions=[n];this.eat(m.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return n};J.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,n=-1,a=-1,c=-1;e?(n=e.parenthesizedAssign,a=e.trailingComma,c=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Jx,o=!0);var p=this.start,d=this.startLoc;(this.type===m.parenL||this.type===m.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var _=this.parseMaybeConditional(t,e);if(i&&(_=i.call(this,_,p,d)),this.type.isAssign){var h=this.startNodeAt(p,d);return h.operator=this.value,this.type===m.eq&&(_=this.toAssignable(_,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=_.start&&(e.shorthandAssign=-1),this.type===m.eq?this.checkLValPattern(_):this.checkLValSimple(_),h.left=_,this.next(),h.right=this.parseMaybeAssign(t),c>-1&&(e.doubleProto=c),this.finishNode(h,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return n>-1&&(e.parenthesizedAssign=n),a>-1&&(e.trailingComma=a),_};J.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,n=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return n;if(this.eat(m.question)){var a=this.startNodeAt(i,o);return a.test=n,a.consequent=this.parseMaybeAssign(),this.expect(m.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return n};J.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,n=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||n.start===i&&n.type==="ArrowFunctionExpression"?n:this.parseExprOp(n,i,o,-1,t)};J.parseExprOp=function(t,e,i,o,n){var a=this.type.binop;if(a!=null&&(!n||this.type!==m._in)&&a>o){var c=this.type===m.logicalOR||this.type===m.logicalAND,p=this.type===m.coalesce;p&&(a=m.logicalAND.binop);var d=this.value;this.next();var _=this.start,h=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,n),_,h,a,n),y=this.buildBinary(e,i,t,g,d,c||p);return(c&&this.type===m.coalesce||p&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(y,e,i,o,n)}return t};J.buildBinary=function(t,e,i,o,n,a){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var c=this.startNodeAt(t,e);return c.left=i,c.operator=n,c.right=o,this.finishNode(c,a?"LogicalExpression":"BinaryExpression")};J.parseMaybeUnary=function(t,e,i,o){var n=this.start,a=this.startLoc,c;if(this.isContextual("await")&&this.canAwait)c=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),d=this.type===m.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,d,o),this.checkExpressionErrors(t,!0),d?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&ok(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,c=this.finishNode(p,d?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===m.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),c=this.parsePrivateIdent(),this.type!==m._in&&this.unexpected();else{if(c=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return c;for(;this.type.postfix&&!this.canInsertSemicolon();){var _=this.startNodeAt(n,a);_.operator=this.value,_.prefix=!1,_.argument=c,this.checkLValSimple(c),this.next(),c=this.finishNode(_,"UpdateExpression")}}if(!i&&this.eat(m.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(n,a,c,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return c};function ok(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&ok(t.expression)}r(ok,"isPrivateFieldAccess");J.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,n=this.parseExprAtom(t,e);if(n.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return n;var a=this.parseSubscripts(n,i,o,!1,e);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};J.parseSubscripts=function(t,e,i,o,n){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,c=!1;;){var p=this.parseSubscript(t,e,i,o,a,c,n);if(p.optional&&(c=!0),p===t||p.type==="ArrowFunctionExpression"){if(c){var d=this.startNodeAt(e,i);d.expression=p,p=this.finishNode(d,"ChainExpression")}return p}t=p}};J.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(m.arrow)};J.parseSubscriptAsyncArrow=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,o)};J.parseSubscript=function(t,e,i,o,n,a,c){var p=this.options.ecmaVersion>=11,d=p&&this.eat(m.questionDot);o&&d&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var _=this.eat(m.bracketL);if(_||d&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var h=this.startNodeAt(e,i);h.object=t,_?(h.property=this.parseExpression(),this.expect(m.bracketR)):this.type===m.privateId&&t.type!=="Super"?h.property=this.parsePrivateIdent():h.property=this.parseIdent(this.options.allowReserved!=="never"),h.computed=!!_,p&&(h.optional=d),t=this.finishNode(h,"MemberExpression")}else if(!o&&this.eat(m.parenL)){var g=new Jx,y=this.yieldPos,w=this.awaitPos,S=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var T=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1,g);if(n&&!d&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=y,this.awaitPos=w,this.awaitIdentPos=S,this.parseSubscriptAsyncArrow(e,i,T,c);this.checkExpressionErrors(g,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=w||this.awaitPos,this.awaitIdentPos=S||this.awaitIdentPos;var A=this.startNodeAt(e,i);A.callee=t,A.arguments=T,p&&(A.optional=d),t=this.finishNode(A,"CallExpression")}else if(this.type===m.backQuote){(d||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var R=this.startNodeAt(e,i);R.tag=t,R.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(R,"TaggedTemplateExpression")}return t};J.parseExprAtom=function(t,e,i){this.type===m.slash&&this.readRegexp();var o,n=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===m.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(o,"Super");case m._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case m.name:var a=this.start,c=this.startLoc,p=this.containsEsc,d=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&d.name==="async"&&!this.canInsertSemicolon()&&this.eat(m._function))return this.overrideContext(he.f_expr),this.parseFunction(this.startNodeAt(a,c),0,!1,!0,e);if(n&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(a,c),[d],!1,e);if(this.options.ecmaVersion>=8&&d.name==="async"&&this.type===m.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return d=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(m.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,c),[d],!0,e)}return d;case m.regexp:var _=this.value;return o=this.parseLiteral(_.value),o.regex={pattern:_.pattern,flags:_.flags},o;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return o=this.startNode(),o.value=this.type===m._null?null:this.type===m._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case m.parenL:var h=this.start,g=this.parseParenAndDistinguishExpression(n,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(t.parenthesizedAssign=h),t.parenthesizedBind<0&&(t.parenthesizedBind=h)),g;case m.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(m.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case m.braceL:return this.overrideContext(he.b_expr),this.parseObj(!1,t);case m._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};J.parseExprAtomDefault=function(){this.unexpected()};J.parseExprImport=function(t){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);if(this.type===m.parenL&&!t)return this.parseDynamicImport(e);if(this.type===m.dot)return e.meta=i,this.parseImportMeta(e);this.unexpected()};J.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var e=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};J.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};J.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};J.parseParenExpression=function(){this.expect(m.parenL);var t=this.parseExpression();return this.expect(m.parenR),t};J.shouldParseArrow=function(t){return!this.canInsertSemicolon()};J.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,n,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var c=this.start,p=this.startLoc,d=[],_=!0,h=!1,g=new Jx,y=this.yieldPos,w=this.awaitPos,S;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;)if(_?_=!1:this.expect(m.comma),a&&this.afterTrailingComma(m.parenR,!0)){h=!0;break}else if(this.type===m.ellipsis){S=this.start,d.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else d.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var T=this.lastTokEnd,A=this.lastTokEndLoc;if(this.expect(m.parenR),t&&this.shouldParseArrow(d)&&this.eat(m.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=y,this.awaitPos=w,this.parseParenArrowList(i,o,d,e);(!d.length||h)&&this.unexpected(this.lastTokStart),S&&this.unexpected(S),this.checkExpressionErrors(g,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=w||this.awaitPos,d.length>1?(n=this.startNodeAt(c,p),n.expressions=d,this.finishNodeAt(n,"SequenceExpression",T,A)):n=d[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var R=this.startNodeAt(i,o);return R.expression=n,this.finishNode(R,"ParenthesizedExpression")}else return n};J.parseParenItem=function(t){return t};J.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var NS=[];J.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(m.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,n=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,n,!0,!1),this.eat(m.parenL)?t.arguments=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1):t.arguments=NS,this.finishNode(t,"NewExpression")};J.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===m.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===m.backQuote,this.finishNode(i,"TemplateElement")};J.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(m.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};J.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===m.star)&&!pt.test(this.input.slice(this.lastTokEnd,this.start))};J.parseObj=function(t,e){var i=this.startNode(),o=!0,n={};for(i.properties=[],this.next();!this.eat(m.braceR);){if(o)o=!1;else if(this.expect(m.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(m.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,n,e),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};J.parseProperty=function(t,e){var i=this.startNode(),o,n,a,c;if(this.options.ecmaVersion>=9&&this.eat(m.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===m.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(a=this.start,c=this.startLoc),t||(o=this.eat(m.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(n=!0,o=this.options.ecmaVersion>=9&&this.eat(m.star),this.parsePropertyName(i)):n=!1,this.parsePropertyValue(i,t,o,n,a,c,e,p),this.finishNode(i,"Property")};J.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};J.parsePropertyValue=function(t,e,i,o,n,a,c,p){(i||o)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,c),t.kind="init"):this.options.ecmaVersion>=6&&this.type===m.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==m.comma&&this.type!==m.braceR&&this.type!==m.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=n),t.kind="init",e?t.value=this.parseMaybeDefault(n,a,this.copyNode(t.key)):this.type===m.eq&&c?(c.shorthandAssign<0&&(c.shorthandAssign=this.start),t.value=this.parseMaybeDefault(n,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};J.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(m.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(m.bracketR),t.key;t.computed=!1}return t.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};J.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};J.parseMethod=function(t,e,i){var o=this.startNode(),n=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(s0(e,o.generator)|r0|(i?Q1:0)),this.expect(m.parenL),o.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=n,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(o,"FunctionExpression")};J.parseArrowExpression=function(t,e,i,o){var n=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.enterScope(s0(i,!1)|q1),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=n,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(t,"ArrowFunctionExpression")};J.parseFunctionBody=function(t,e,i,o){var n=e&&this.type!==m.braceL,a=this.strict,c=!1;if(n)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||p)&&(c=this.strictDirective(this.end),c&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var d=this.labels;this.labels=[],c&&(this.strict=!0),this.checkParams(t,!a&&!c&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,tk),t.body=this.parseBlock(!1,void 0,c&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=d}this.exitScope()};J.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};J.checkParams=function(t,e){for(var i=Object.create(null),o=0,n=t.params;o<n.length;o+=1){var a=n[o];this.checkLValInnerPattern(a,a0,e?null:i)}};J.parseExprList=function(t,e,i,o){for(var n=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(m.comma),e&&this.afterTrailingComma(t))break;var c=void 0;i&&this.type===m.comma?c=null:this.type===m.ellipsis?(c=this.parseSpread(o),o&&this.type===m.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):c=this.parseMaybeAssign(!1,o),n.push(c)}return n};J.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var n=this.strict?this.reservedWordsStrict:this.reservedWords;n.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};J.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};J.parseIdentNode=function(){var t=this.startNode();return this.type===m.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),t};J.parsePrivateIdent=function(){var t=this.startNode();return this.type===m.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};J.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(m.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};J.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Ux=ke.prototype;Ux.raise=function(t,e){var i=$1(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};Ux.raiseRecoverable=Ux.raise;Ux.curPosition=function(){if(this.options.locations)return new wm(this.curLine,this.pos-this.lineStart)};var Ai=ke.prototype,PS=r(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Ai.enterScope=function(t){this.scopeStack.push(new PS(t))};Ai.exitScope=function(){this.scopeStack.pop()};Ai.treatFunctionsAsVarInScope=function(t){return t.flags&Sn||!this.inModule&&t.flags&Tm};Ai.declareName=function(t,e,i){var o=!1;if(e===Kt){var n=this.currentScope();o=n.lexical.indexOf(t)>-1||n.functions.indexOf(t)>-1||n.var.indexOf(t)>-1,n.lexical.push(t),this.inModule&&n.flags&Tm&&delete this.undefinedExports[t]}else if(e===ek){var a=this.currentScope();a.lexical.push(t)}else if(e===Z1){var c=this.currentScope();this.treatFunctionsAsVar?o=c.lexical.indexOf(t)>-1:o=c.lexical.indexOf(t)>-1||c.var.indexOf(t)>-1,c.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var d=this.scopeStack[p];if(d.lexical.indexOf(t)>-1&&!(d.flags&X1&&d.lexical[0]===t)||!this.treatFunctionsAsVarInScope(d)&&d.functions.indexOf(t)>-1){o=!0;break}if(d.var.push(t),this.inModule&&d.flags&Tm&&delete this.undefinedExports[t],d.flags&n0)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Ai.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Ai.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Ai.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&n0)return e}};Ai.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&n0&&!(e.flags&q1))return e}};var Gx=r(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Wx(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Sm=ke.prototype;Sm.startNode=function(){return new Gx(this,this.start,this.startLoc)};Sm.startNodeAt=function(t,e){return new Gx(this,t,e)};function rk(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}r(rk,"finishNodeAt");Sm.finishNode=function(t,e){return rk.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Sm.finishNodeAt=function(t,e,i,o){return rk.call(this,t,e,i,o)};Sm.copyNode=function(t){var e=new Gx(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var nk="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",sk=nk+" Extended_Pictographic",ak=sk,uk=ak+" EBase EComp EMod EPres ExtPict",lk=uk,RS=lk,AS={9:nk,10:sk,11:ak,12:uk,13:lk,14:RS},VS="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",MS={9:"",10:"",11:"",12:"",13:"",14:VS},Y1="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ck="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",pk=ck+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",dk=pk+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",fk=dk+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",mk=fk+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",BS=mk+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",DS={9:ck,10:pk,11:dk,12:fk,13:mk,14:BS},hk={};function LS(t){var e=hk[t]={binary:Pi(AS[t]+" "+Y1),binaryOfStrings:Pi(MS[t]),nonBinary:{General_Category:Pi(Y1),Script:Pi(DS[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}r(LS,"buildUnicodeData");for(Fx=0,Qg=[9,10,11,12,13,14];Fx<Qg.length;Fx+=1)U1=Qg[Fx],LS(U1);var U1,Fx,Qg,B=ke.prototype,Bt=r(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=hk[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");Bt.prototype.reset=r(function(e,i,o){var n=o.indexOf("v")!==-1,a=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,n&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)},"reset");Bt.prototype.raise=r(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Bt.prototype.at=r(function(e,i){i===void 0&&(i=!1);var o=this.source,n=o.length;if(e>=n)return-1;var a=o.charCodeAt(e);if(!(i||this.switchU)||a<=55295||a>=57344||e+1>=n)return a;var c=o.charCodeAt(e+1);return c>=56320&&c<=57343?(a<<10)+c-56613888:a},"at");Bt.prototype.nextIndex=r(function(e,i){i===void 0&&(i=!1);var o=this.source,n=o.length;if(e>=n)return n;var a=o.charCodeAt(e),c;return!(i||this.switchU)||a<=55295||a>=57344||e+1>=n||(c=o.charCodeAt(e+1))<56320||c>57343?e+1:e+2},"nextIndex");Bt.prototype.current=r(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Bt.prototype.lookahead=r(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Bt.prototype.advance=r(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Bt.prototype.eat=r(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");Bt.prototype.eatChars=r(function(e,i){i===void 0&&(i=!1);for(var o=this.pos,n=0,a=e;n<a.length;n+=1){var c=a[n],p=this.at(o,i);if(p===-1||p!==c)return!1;o=this.nextIndex(o,i)}return this.pos=o,!0},"eatChars");B.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=!1,n=!1,a=0;a<i.length;a++){var c=i.charAt(a);e.indexOf(c)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(c,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),c==="u"&&(o=!0),c==="v"&&(n=!0)}this.options.ecmaVersion>=15&&o&&n&&this.raise(t.start,"Invalid regular expression flag")};B.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};B.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};B.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};B.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};B.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};B.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};B.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};B.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};B.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,n=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue),t.eat(125)))return n!==-1&&n<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};B.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};B.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};B.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};B.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};B.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};B.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};B.regexp_eatSyntaxCharacter=function(t){var e=t.current();return _k(e)?(t.lastIntValue=e,t.advance(),!0):!1};function _k(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}r(_k,"isSyntaxCharacter");B.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!_k(i);)t.advance();return t.pos!==e};B.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};B.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};B.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};B.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Ri(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Ri(t.lastIntValue);return!0}return!1};B.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),OS(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function OS(t){return zt(t,!0)||t===36||t===95}r(OS,"isRegExpIdentifierStart");B.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),FS(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function FS(t){return kn(t,!0)||t===36||t===95||t===8204||t===8205}r(FS,"isRegExpIdentifierPart");B.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};B.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};B.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};B.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};B.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};B.regexp_eatZero=function(t){return t.current()===48&&!Hx(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};B.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};B.regexp_eatControlLetter=function(t){var e=t.current();return vk(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function vk(t){return t>=65&&t<=90||t>=97&&t<=122}r(vk,"isControlLetter");B.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var n=t.lastIntValue;if(o&&n>=55296&&n<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var c=t.lastIntValue;if(c>=56320&&c<=57343)return t.lastIntValue=(n-55296)*1024+(c-56320)+65536,!0}t.pos=a,t.lastIntValue=n}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&jS(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function jS(t){return t>=0&&t<=1114111}r(jS,"isValidUnicode");B.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};B.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var xk=0,$t=1,ct=2;B.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(YS(e))return t.lastIntValue=-1,t.advance(),$t;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===ct&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return xk};function YS(t){return t===100||t===68||t===115||t===83||t===119||t===87}r(YS,"isCharacterClassEscape");B.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),$t}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,n)}return xk};B.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){km(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};B.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return $t;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return ct;t.raise("Invalid property name")};B.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";gk(e=t.current());)t.lastStringValue+=Ri(e),t.advance();return t.lastStringValue!==""};function gk(t){return vk(t)||t===95}r(gk,"isUnicodePropertyNameCharacter");B.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";US(e=t.current());)t.lastStringValue+=Ri(e),t.advance();return t.lastStringValue!==""};function US(t){return gk(t)||Hx(t)}r(US,"isUnicodePropertyValueCharacter");B.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};B.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===ct&&t.raise("Negated character class may contain strings"),!0}return!1};B.regexp_classContents=function(t){return t.current()===93?$t:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),$t)};B.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};B.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||wk(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};B.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};B.regexp_classSetExpression=function(t){var e=$t,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===ct&&(e=ct);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==ct&&(e=$t);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===ct&&(e=ct)}};B.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};B.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?$t:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};B.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===ct&&t.raise("Negated character class may contain strings"),o;t.pos=e}if(t.eat(92)){var n=this.regexp_eatCharacterClassEscape(t);if(n)return n;t.pos=e}return null};B.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};B.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===ct&&(e=ct);return e};B.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?$t:ct};B.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&WS(i)||JS(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function WS(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}r(WS,"isClassSetReservedDoublePunctuatorCharacter");function JS(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}r(JS,"isClassSetSyntaxCharacter");B.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return GS(e)?(t.lastIntValue=e,t.advance(),!0):!1};function GS(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}r(GS,"isClassSetReservedPunctuator");B.regexp_eatClassControlLetter=function(t){var e=t.current();return Hx(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};B.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};B.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Hx(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Hx(t){return t>=48&&t<=57}r(Hx,"isDecimalDigit");B.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;yk(i=t.current());)t.lastIntValue=16*t.lastIntValue+bk(i),t.advance();return t.pos!==e};function yk(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}r(yk,"isHexDigit");function bk(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}r(bk,"hexToInt");B.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};B.regexp_eatOctalDigit=function(t){var e=t.current();return wk(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function wk(t){return t>=48&&t<=55}r(wk,"isOctalDigit");B.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var n=t.current();if(!yk(n))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+bk(n),t.advance()}return!0};var l0=r(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Wx(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),Z=ke.prototype;Z.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new l0(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Z.getToken=function(){return this.next(),new l0(this)};typeof Symbol<"u"&&(Z[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===m.eof,value:e}}}});Z.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(m.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};Z.readToken=function(t){return zt(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};Z.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};Z.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,n=e;(o=G1(this.input,n,this.pos))>-1;)++this.curLine,n=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};Z.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!In(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};Z.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&H1.test(String.fromCharCode(t)))++this.pos;else break e}}};Z.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};Z.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))};Z.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(m.assign,2):this.finishOp(m.slash,1)};Z.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?m.star:m.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=m.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(m.assign,i+1):this.finishOp(o,i)};Z.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(m.assign,3)}return this.finishOp(t===124?m.logicalOR:m.logicalAND,2)}return e===61?this.finishOp(m.assign,2):this.finishOp(t===124?m.bitwiseOR:m.bitwiseAND,1)};Z.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)};Z.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||pt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(m.incDec,2):e===61?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)};Z.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(m.assign,i+1):this.finishOp(m.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(m.relational,i))};Z.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(m.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(t===61?m.eq:m.prefix,1)};Z.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(m.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(m.assign,3)}return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)};Z.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),zt(e,!0)||e===92))return this.finishToken(m.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ri(e)+"'")};Z.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ri(t)+"'")};Z.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};Z.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(pt.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var n=this.input.slice(i,this.pos);++this.pos;var a=this.pos,c=this.readWord1();this.containsEsc&&this.unexpected(a);var p=this.regexpState||(this.regexpState=new Bt(this));p.reset(i,n,c),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var d=null;try{d=new RegExp(n,c)}catch(_){}return this.finishToken(m.regexp,{pattern:n,flags:c,value:d})};Z.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,n=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,c=0,p=0,d=0,_=e==null?1/0:e;d<_;++d,++this.pos){var h=this.input.charCodeAt(this.pos),g=void 0;if(o&&h===95){n&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),d===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=h;continue}if(h>=97?g=h-97+10:h>=65?g=h-65+10:h>=48&&h<=57?g=h-48:g=1/0,g>=t)break;p=h,c=c*t+g}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||e!=null&&this.pos-a!==e?null:c};function HS(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}r(HS,"stringToNumber");function Tk(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}r(Tk,"stringToBigInt");Z.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=Tk(this.input.slice(e,this.pos)),++this.pos):zt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,i)};Z.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var n=Tk(this.input.slice(e,this.pos));return++this.pos,zt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,n)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),zt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=HS(this.input.slice(e,this.pos),i);return this.finishToken(m.num,a)};Z.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};Z.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(In(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(m.string,e)};var kk={};Z.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===kk)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};Z.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw kk;this.raise(t,e)};Z.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===m.template||this.type===m.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(m.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(In(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};Z.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Z.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ri(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(o,8);return n>255&&(o=o.slice(0,-1),n=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return In(e)?"":String.fromCharCode(e)}};Z.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};Z.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if(kn(n,o))this.pos+=n<=65535?1:2;else if(n===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var c=this.readCodePoint();(e?zt:kn)(c,o)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=Ri(c),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};Z.readWord=function(){var t=this.readWord1(),e=m.name;return this.keywords.test(t)&&(e=i0[t]),this.finishToken(e,t)};var zS="8.10.0";ke.acorn={Parser:ke,version:zS,defaultOptions:e0,Position:wm,SourceLocation:Wx,getLineInfo:$1,Node:Gx,TokenType:se,tokTypes:m,keywordTypes:i0,TokContext:Tt,tokContexts:he,isIdentifierChar:kn,isIdentifierStart:zt,Token:l0,isNewLine:In,lineBreak:pt,lineBreakG:gS,nonASCIIwhitespace:H1};function Ik(t,e){return ke.parse(t,e)}r(Ik,"parse");var $S=function(t,e,i,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},KS=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},zx,To=class{constructor(e){zx.set(this,void 0);let i=Ik(e,{ecmaVersion:2020});$S(this,zx,i.body,"f"),this.visitor=new Tn(KS(this,zx,"f")),this.scope=this.visitor.scope,this.scope.set("print",o=>console.log(...o)),this.visitor.on("console",(o,n)=>{if(o.type==="Identifier")return console;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=n.visitNode(o.callee.property),c=o.arguments.map(d=>n.visitNode(d)),p=console[a];return p?p(...c):"proceed"}return"proceed"}),this.visitor.on("Math",(o,n)=>{if(o.type==="Identifier")return Math;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=n.visitNode(o.callee.property),c=o.arguments.map(d=>n.visitNode(d)),p=Math[a];return p?p(...c):"proceed"}return"proceed"}),this.visitor.on("String",(o,n)=>{if(o.type==="Identifier")return String;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=n.visitNode(o.callee.property),c=o.arguments.map(d=>n.visitNode(d)),p=String[a];return p?p(c):"proceed"}return"proceed"}),this.visitor.on("Array",(o,n)=>{if(o.type==="Identifier")return Array;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=n.visitNode(o.callee.property),c=o.arguments.map(d=>n.visitNode(d)),p=Array[a];return p?p(c):"proceed"}return"proceed"}),this.visitor.on("Date",o=>{if(o.type==="Identifier")return Date})}interpret(){return this.visitor.run()}};r(To,"Jinter");zx=new WeakMap;var Cm,Sk,Ck,Ek,$x=class{constructor(e){Cm.add(this),this.session=e}stats(e,i,o){return I(this,void 0,void 0,function*(){let n=new URL(e);n.searchParams.set("ver","2"),n.searchParams.set("c",i.client_name.toLowerCase()),n.searchParams.set("cbrver",i.client_version),n.searchParams.set("cver",i.client_version);for(let c of Object.keys(o))n.searchParams.set(c,o[c]);return yield this.session.http.fetch(n)})}execute(e,i){var o,n;return I(this,void 0,void 0,function*(){let a;if(i&&!i.protobuf){if(a=Object.assign({},i),Reflect.has(a,"browseId")&&f(this,Cm,"m",Ek).call(this,a.browseId)&&!this.session.logged_in)throw new b("You must be signed in to perform this operation.");Reflect.has(a,"override_endpoint")&&delete a.override_endpoint,Reflect.has(a,"parse")&&delete a.parse,Reflect.has(a,"request")&&delete a.request,Reflect.has(a,"clientActions")&&delete a.clientActions,Reflect.has(a,"settingItemIdForClient")&&delete a.settingItemIdForClient,Reflect.has(a,"action")&&(a.actions=[a.action],delete a.action),Reflect.has(a,"boolValue")&&(a.newValue={boolValue:a.boolValue},delete a.boolValue),Reflect.has(a,"token")&&(a.continuation=a.token,delete a.token),(a==null?void 0:a.client)==="YTMUSIC"&&(a.isAudioOnly=!0)}else i&&(a=i.serialized_data);let c=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield this.session.http.fetch(c,{method:"POST",body:i!=null&&i.protobuf?a:JSON.stringify(a||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let d=l.parseResponse(yield p.json());if(f(this,Cm,"m",Ck).call(this,d)&&((n=(o=d.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||n===void 0?void 0:n.type)==="navigateAction"){let _=d.on_response_received_actions.firstOfType(xi);_&&(d=yield _.endpoint.call(this,{parse:!0}))}return d}return f(this,Cm,"m",Sk).call(this,p)})}};r($x,"Actions");Cm=new WeakSet,Sk=r(function(e){return I(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),Ck=r(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),Ek=r(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var c0=$x;var Dt="Player",Xe=class{constructor(e,i,o,n){this.nsig_sc=o,this.sig_sc=i,this.sts=e,this.player_id=n}static create(e,i=F.shim.fetch){return I(this,void 0,void 0,function*(){let o=new URL("/iframe_api",ge.URLS.YT_BASE),n=yield i(o);if(n.status!==200)throw new wt("Failed to request player id");let a=yield n.text(),c=Re(a,"player\\/","\\/");if(O.info(Dt,`Got player id (${c}). Checking for cached players..`),!c)throw new wt("Failed to get player id");if(e){let w=yield Xe.fromCache(e,c);if(w)return O.info(Dt,"Found up-to-date player data in cache."),w}let p=new URL(`/s/player/${c}/player_ias.vflset/en_US/base.js`,ge.URLS.YT_BASE);O.info(Dt,`Could not find any cached player. Will download a new player from ${p}.`);let d=yield i(p,{headers:{"user-agent":Ui("desktop")}});if(!d.ok)throw new wt(`Failed to get player data: ${d.status}`);let _=yield d.text(),h=this.extractSigTimestamp(_),g=this.extractSigSourceCode(_),y=this.extractNSigSourceCode(_);return O.info(Dt,`Got signature timestamp (${h}) and algorithms needed to decipher signatures.`),yield Xe.fromSource(e,h,g,y,c)})}decipher(e,i,o,n){if(e=e||i||o,!e)throw new wt("No valid URL to decipher");let a=new URLSearchParams(e),c=new URL(a.get("url")||e);if(i||o){let h=F.shim.calculate(this.sig_sc,{sig:a.get("s")});if(O.info(Dt,`Transformed signature from ${a.get("s")} to ${h}.`),typeof h!="string")throw new wt("Failed to decipher signature");let g=a.get("sp");g?c.searchParams.set(g,h):c.searchParams.set("signature",h)}let p=c.searchParams.get("n");if(p){let h;if(n&&n.has(p))h=n.get(p);else{if(h=F.shim.calculate(this.nsig_sc,{nsig:p}),O.info(Dt,`Transformed n signature from ${p} to ${h}.`),typeof h!="string")throw new wt("Failed to decipher nsig");h.startsWith("enhanced_except_")?O.warn(Dt,"Could not transform nsig, download may be throttled."):n&&n.set(p,h)}c.searchParams.set("n",h)}switch(c.searchParams.get("c")){case"WEB":c.searchParams.set("cver",ge.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":c.searchParams.set("cver",ge.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":c.searchParams.set("cver",ge.CLIENTS.WEB_KIDS.VERSION);break;case"ANDROID":c.searchParams.set("cver",ge.CLIENTS.ANDROID.VERSION);break;case"ANDROID_MUSIC":c.searchParams.set("cver",ge.CLIENTS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":c.searchParams.set("cver",ge.CLIENTS.TV_EMBEDDED.VERSION);break}let _=c.toString();return O.info(Dt,`Deciphered URL: ${_}`),c.toString()}static fromCache(e,i){return I(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let n=new DataView(o);if(n.getUint32(0,!0)!==Xe.LIBRARY_VERSION)return null;let c=n.getUint32(4,!0),p=n.getUint32(8,!0),d=o.slice(12,12+p),_=o.slice(12+p),h=mt.decompress(new TextDecoder().decode(d)),g=mt.decompress(new TextDecoder().decode(_));return new Xe(c,h,g,i)})}static fromSource(e,i,o,n,a){return I(this,void 0,void 0,function*(){let c=new Xe(i,o,n,a);return yield c.cache(e),c})}cache(e){return I(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(mt.compress(this.sig_sc)),n=i.encode(mt.compress(this.nsig_sc)),a=new ArrayBuffer(12+o.byteLength+n.byteLength),c=new DataView(a);c.setUint32(0,Xe.LIBRARY_VERSION,!0),c.setUint32(4,this.sts,!0),c.setUint32(8,o.byteLength,!0),new Uint8Array(a).set(o,12),new Uint8Array(a).set(n,12+o.byteLength),yield e.set(this.player_id,new Uint8Array(a))})}static extractSigTimestamp(e){return parseInt(Re(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,n;let a=Re(e,'function(a){a=a.split("")','return a.join("")}'),c=(n=(o=(i=a==null?void 0:a.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||n===void 0?void 0:n.trim(),p=Re(e,`var ${c}={`,"};");return(!p||!a)&&O.warn(Dt,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${c}={${p}}${a} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=Re(e,'b=a.split("")','}return b.join("")}');return i?`function descramble_nsig(a) { let b=a.split("")${i}} return b.join(""); } descramble_nsig(nsig)`:(i=Re(e,'b=String.prototype.split.call(a,"")','}return Array.prototype.join.call(b,"")}'),i?`function descramble_nsig(a) { let b=String.prototype.split.call(a, "")${i}} return Array.prototype.join.call(b, ""); } descramble_nsig(nsig)`:(O.warn(Dt,"Failed to extract n-token decipher algorithm"),"function descramble_nsig(a) { return a; } descramble_nsig(nsig)"))}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,ge.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 10}};r(Xe,"Player");var Em,Pk,Rk,Ak,Nk,p0;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(p0||(p0={}));var En="Session",Vi=class extends Rn{constructor(e,i,o,n,a,c,p,d){super(),this.http=new lg(this,c,p),this.actions=new c0(this),this.logged_in=!!c,this.cache=d,this.account_index=n,this.key=i,this.api_version=o,this.context=e,this.player=a}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return I(this,void 0,void 0,function*(){let{context:i,api_key:o,api_version:n,account_index:a}=yield Vi.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache);return new Vi(i,o,n,a,e.retrieve_player===!1?void 0:yield Xe.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static fromCache(e,i){return I(this,void 0,void 0,function*(){let o=yield e.get("innertube_session_data");if(!o)return null;let n=new TextDecoder().decode(o.slice(4));try{let a=JSON.parse(mt.decompress(n));return i.visitor_data&&(a.context.client.visitorData=i.visitor_data),i.lang&&(a.context.client.hl=i.lang),i.location&&(a.context.client.gl=i.location),i.on_behalf_of_user&&(a.context.user.onBehalfOfUser=i.on_behalf_of_user),a.context.client.timeZone=i.time_zone,a.context.client.platform=i.device_category.toUpperCase(),a.context.client.clientName=i.client_name,a.context.user.enableSafetyMode=i.enable_safety_mode,a}catch(a){return O.error(En,"Failed to parse session data from cache.",a),null}})}static getSessionData(e="",i="",o=0,n="",a=!1,c=!1,p="desktop",d=p0.WEB,_=Intl.DateTimeFormat().resolvedOptions().timeZone,h=F.shim.fetch,g,y,w=!0){return I(this,void 0,void 0,function*(){let S={lang:e,location:i,time_zone:_,device_category:p,client_name:d,enable_safety_mode:a,visitor_data:n,on_behalf_of_user:g},T;if(y&&w){let A=yield this.fromCache(y,S);A&&(O.info(En,"Found session data in cache."),T=A)}if(!T){O.info(En,"Generating session data.");let A=re.WEB.API_KEY,R=re.WEB.API_VERSION,K={hl:e||"en",gl:i||"US",remote_host:"",visitor_data:n||gg(bo(11),Math.floor(Date.now()/1e3)),client_name:d,client_version:re.WEB.VERSION,device_category:p.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:_,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:a};if(!c)try{let Y=yield f(this,Em,"m",Rk).call(this,S,h);A=Y.api_key,R=Y.api_version,K=Y.context_data}catch(Y){O.error(En,"Failed to retrieve session data from server. Session data generated locally will be used instead.",Y)}T={api_key:A,api_version:R,context:f(this,Em,"m",Ak).call(this,K)},w&&(yield f(this,Em,"m",Pk).call(this,T,y))}return O.debug(En,"Session data:",T),Object.assign(Object.assign({},T),{account_index:o})})}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};r(Vi,"Session");Em=Vi,Pk=r(function(e,i){return I(this,void 0,void 0,function*(){if(!i)return;O.info(En,"Compressing and caching session data.");let o=new TextEncoder().encode(mt.compress(JSON.stringify(e))),n=new ArrayBuffer(4+o.byteLength);new DataView(n).setUint32(0,o.byteLength,!0),new Uint8Array(n).set(o,4),yield i.set("innertube_session_data",new Uint8Array(n))})},"_Session_storeSession"),Rk=r(function(e,i=F.shim.fetch){return I(this,void 0,void 0,function*(){let o=bo(11);e.visitor_data&&(o=f(this,Em,"m",Nk).call(this,e.visitor_data));let n=new URL("/sw.js_data",et.YT_BASE),a=yield i(n,{headers:{"Accept-Language":e.lang||"en-US","User-Agent":Ui("desktop"),Accept:"*/*",Referer:`${et.YT_BASE}/sw.js`,Cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${o};`}});if(!a.ok)throw new yo(`Failed to retrieve session data: ${a.status}`);let c=yield a.text();if(!c.startsWith(")]}'"))throw new yo("Invalid JSPB response");let d=JSON.parse(c.replace(/^\)\]\}'/,""))[0][2],_=re.WEB.API_VERSION,[[h],g]=d,y=h[61],w=y[y.length-1];return{context_data:{hl:e.lang||h[0],gl:e.location||h[2],remote_host:h[3],visitor_data:h[13],client_name:e.client_name,client_version:h[16],os_name:h[17],os_version:h[18],time_zone:h[79]||e.time_zone,device_category:e.device_category,browser_name:h[86],browser_version:h[87],device_make:h[11],device_model:h[12],app_install_data:w,enable_safety_mode:e.enable_safety_mode},api_key:g,api_version:_}})},"_Session_getSessionData"),Ak=r(function(e){let i={client:{hl:e.hl,gl:e.gl,remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:et.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",mainAppWebInfo:{graftUrl:et.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(i.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},"_Session_buildContext"),Nk=r(function(e){return yg(e).id},"_Session_getVisitorID");var d0=Vi;var f0={};be(f0,{NextEndpoint:()=>Mi,PlayerEndpoint:()=>qt,Reel:()=>ft});var Mi={};be(Mi,{PATH:()=>qS,build:()=>XS});var qS="/next";function XS(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}r(XS,"build");var qt={};be(qt,{PATH:()=>QS,build:()=>ZS});var QS="/player";function ZS(t){return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:t.params})}r(ZS,"build");var ft={};be(ft,{WatchEndpoint:()=>Kx,WatchSequenceEndpoint:()=>qx});var Kx={};be(Kx,{PATH:()=>eC,build:()=>tC});var eC="/reel/reel_item_watch";function tC(t){var e,i;return{playerRequest:{videoId:t.short_id,params:(e=t.params)!==null&&e!==void 0?e:"CAUwAg%3D%3D"},params:(i=t.params)!==null&&i!==void 0?i:"CAUwAg%3D%3D"}}r(tC,"build");var qx={};be(qx,{PATH:()=>iC,build:()=>oC});var iC="/reel/reel_watch_sequence";function oC(t){return{sequenceParams:t.sequenceParams}}r(oC,"build");var Nn,Xx,Qx=class{constructor(e,i){var o,n;Nn.set(this,void 0),Xx.set(this,void 0),E(this,Xx,i,"f");let a=l.parseResponse(e[0].data),c=l.parseResponse(e[1].data);this.basic_info=a.video_details,this.watch_next_feed=(o=c.entries)===null||o===void 0?void 0:o.array(),E(this,Nn,(n=c.continuation_endpoint)===null||n===void 0?void 0:n.as(Wt),"f")}getWatchNextContinuation(){var e,i;return I(this,void 0,void 0,function*(){if(!f(this,Nn,"f"))throw new b("Watch next feed continuation not found");let o=yield f(this,Xx,"f").execute(ft.WatchSequenceEndpoint.PATH,ft.WatchSequenceEndpoint.build({sequenceParams:f(this,Nn,"f").token}));if(!o.success)throw new b("Continue failed ",o.status_code);let n=l.parseResponse(o.data);return this.watch_next_feed=(e=n.entries)===null||e===void 0?void 0:e.array(),E(this,Nn,(i=n.continuation_endpoint)===null||i===void 0?void 0:i.as(Wt),"f"),this})}};r(Qx,"VideoInfo");Nn=new WeakMap,Xx=new WeakMap;var m0=Qx;var ko,Pn=class{constructor(e){ko.set(this,void 0),E(this,ko,e,"f")}static create(e={}){return I(this,void 0,void 0,function*(){return new Pn(yield d0.create(e))})}getInfo(e,i){var o,n,a,c,p;return I(this,void 0,void 0,function*(){xm({target:e});let d;if(e instanceof v)d=Mi.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(n=e.payload)===null||n===void 0?void 0:n.playlistId,params:(a=e.payload)===null||a===void 0?void 0:a.params,playlist_index:(c=e.payload)===null||c===void 0?void 0:c.index});else if(typeof e=="string")d=Mi.build({video_id:e});else throw new b("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!d.videoId)throw new b("Video id cannot be empty",d);let _=qt.build({video_id:d.videoId,playlist_id:d==null?void 0:d.playlistId,client:i,sts:(p=f(this,ko,"f").player)===null||p===void 0?void 0:p.sts}),h=this.actions.execute(qt.PATH,_),g=this.actions.execute(Mi.PATH,d),y=yield Promise.all([h,g]),w=bo(16);return new mm(y,this.actions,w)})}getBasicInfo(e,i){var o;return I(this,void 0,void 0,function*(){xm({video_id:e});let n=yield this.actions.execute(qt.PATH,qt.build({video_id:e,client:i,sts:(o=f(this,ko,"f").player)===null||o===void 0?void 0:o.sts})),a=bo(16);return new mm([n],this.actions,a)})}getShortsWatchItem(e,i){return I(this,void 0,void 0,function*(){xm({short_id:e});let o=this.actions.execute(ft.WatchEndpoint.PATH,ft.WatchEndpoint.build({short_id:e,client:i})),n=this.actions.execute(ft.WatchSequenceEndpoint.PATH,ft.WatchSequenceEndpoint.build({sequenceParams:wg(e)})),a=yield Promise.all([o,n]);return new m0(a,this.actions)})}getStreamingData(e,i={}){return I(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return I(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}call(e,i){return e.call(this.actions,i)}get actions(){return f(this,ko,"f").actions}get session(){return f(this,ko,"f")}};r(Pn,"Innertube");ko=new WeakMap;var h0=Pn;var Vk={};var Mk=h0;var Bk="JsRuntime";function _0(t,e){O.debug(Bk,`Calculating:
`,t);let i=new To(t);for(let[n,a]of Object.entries(e))i.scope.set(n,a);let o=i.interpret();return O.debug(Bk,"Done. Result:",o),o}r(_0,"calculate");var Nm,v0,Zx,eg,tg,ig=class{constructor(e=!1,i){Nm.add(this),v0.set(this,"Cache"),Zx.set(this,void 0),eg.set(this,void 0),E(this,Zx,i||"","f"),E(this,eg,e,"f")}get cache_dir(){return f(this,eg,"f")?f(this,Zx,"f"):""}get(e){return I(this,void 0,void 0,function*(){let i=yield f(this,Nm,"m",tg).call(this);if(!!i)return new Promise((o,n)=>{let a=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);a.onerror=n,a.onsuccess=function(){var c;let p=(c=this.result)===null||c===void 0?void 0:c.v;p instanceof ArrayBuffer?o(p):ArrayBuffer.isView(p)?o(p.buffer):o(void 0)}})})}set(e,i){return I(this,void 0,void 0,function*(){let o=yield f(this,Nm,"m",tg).call(this);if(!!o)return new Promise((n,a)=>{let c=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});c.onerror=a,c.onsuccess=()=>n()})})}remove(e){return I(this,void 0,void 0,function*(){let i=yield f(this,Nm,"m",tg).call(this);if(!!i)return new Promise((o,n)=>{let a=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);a.onerror=n,a.onsuccess=()=>o()})})}};r(ig,"Cache");v0=new WeakMap,Zx=new WeakMap,eg=new WeakMap,Nm=new WeakSet,tg=r(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let n=e.open("youtubei.js_v2",1);n.onsuccess=function(){i(this.result)},n.onerror=function(a){o("indexedDB request error"),console.error(a)},n.onupgradeneeded=function(){let a=this.result.createObjectStore("kv-store",{keyPath:"k"});a.transaction.oncomplete=function(){i(this.db)}}}):O.warn(f(this,v0,"f"),"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");F.load({runtime:"browser",server:!1,info:{version:Lx.version,bugs_url:Lx.bugs.url,repo_url:Lx.homepage.split("#")[0]},Cache:ig,sha1Hash:Gg,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},calculate:_0,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var X1e=Mk;export{c0 as Actions,Ji as AppendContinuationItemsAction,p0 as ClientType,ge as Constants,ro as Continuation,Wt as ContinuationCommand,f0 as Endpoints,Rn as EventEmitter,Yi as FormatUtils,Ag as Generator,Cr as GridContinuation,lg as HTTPClient,ng as Helpers,h0 as Innertube,wr as ItemSectionContinuation,mt as LZW,yi as LiveChatContinuation,O as Log,Wg as Misc,Fg as Mixins,Ir as MusicPlaylistShelfContinuation,Sr as MusicShelfContinuation,xi as NavigateAction,l as Parser,F as Platform,Xe as Player,Er as PlaylistPanelContinuation,ci as Proto,gi as ReloadContinuationItemsCommand,kr as SectionListContinuation,d0 as Session,Tr as ShowMiniplayerCommand,Vk as Types,Fk as UniversalCache,cg as Utils,Ug as YT,Zi as YTNodes,X1e as default};