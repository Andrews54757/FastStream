/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var Mw=Object.defineProperty;var r=(t,e)=>Mw(t,"name",{value:e,configurable:!0});var Xe=(t,e)=>{for(var i in e)Mw(t,i,{get:e[i],enumerable:!0})};function Lw(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}r(Lw,"__setFunctionName");function u(t,e,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(t):s?s.value:e.get(t)}r(u,"__classPrivateFieldGet");function I(t,e,i,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,i):o?o.value=i:e.set(t,i),i}r(I,"__classPrivateFieldSet");var Js={};Xe(Js,{ChannelError:()=>Ns,InnertubeError:()=>g,MissingParamError:()=>td,OAuth2Error:()=>le,ParsingError:()=>Qe,Platform:()=>M,PlayerError:()=>Ct,SessionError:()=>Ar,base64ToU8:()=>rg,concatMemos:()=>jg,debugFetch:()=>xC,deepCompare:()=>pd,escapeStringRegexp:()=>uw,findFunction:()=>id,generateRandomString:()=>$i,generateSidAuth:()=>dC,getCookie:()=>yC,getRandomUserAgent:()=>Zi,getStringBetweenStrings:()=>Ee,hasKeys:()=>_C,isTextRun:()=>Oe,streamToIterable:()=>jb,throwIfMissing:()=>Hs,timeToSeconds:()=>_e,u8ToBase64:()=>zt});var Gb={};Xe(Gb,{Maybe:()=>zi,Memo:()=>ui,SuperParsedResult:()=>Nt,YTNode:()=>n,observe:()=>G});var O={};Xe(O,{Level:()=>ht,debug:()=>xk,error:()=>dk,info:()=>_k,setLevel:()=>yk,warn:()=>Ht,warnOnce:()=>hk});var mk="YOUTUBEJS",ht={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},Ow={[ht.ERROR]:(...t)=>console.error(...t),[ht.WARNING]:(...t)=>console.warn(...t),[ht.INFO]:(...t)=>console.info(...t),[ht.DEBUG]:(...t)=>console.debug(...t)},Bw=[ht.WARNING],Dw=new Set;function qs(t,e,i){if(!Ow[t]||!Bw.includes(t))return;let s=[`[${mk}]`];e&&s.push(`[${e}]`),Ow[t](`${s.join("")}:`,...i||[])}r(qs,"doLog");var hk=r((t,...e)=>{Dw.has(t)||(qs(ht.WARNING,t,e),Dw.add(t))},"warnOnce"),Ht=r((t,...e)=>qs(ht.WARNING,t,e),"warn"),dk=r((t,...e)=>qs(ht.ERROR,t,e),"error"),_k=r((t,...e)=>qs(ht.INFO,t,e),"info"),xk=r((t,...e)=>qs(ht.DEBUG,t,e),"debug");function yk(...t){Bw=t}r(yk,"setLevel");var Wb,Yw,fe,Q,Pt,$t,qi,Vw=Symbol("ObservedArray.isObserved"),n=class{constructor(){Wb.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>u(this,Wb,"m",Yw).call(this,i))}as(...e){if(!this.is(...e))throw new Qe(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new Qe(`Missing key ${e}`);return new zi(this[e])}};r(n,"YTNode");Wb=new WeakSet,Yw=r(function(e){return this.type===e.type},"_YTNode_is");n.type="YTNode";var bk="Maybe",zi=class{constructor(e){fe.add(this),Q.set(this,void 0),I(this,Q,e,"f")}get typeof(){return typeof u(this,Q,"f")}string(){return u(this,fe,"m",$t).call(this,"string")}isString(){return u(this,fe,"m",Pt).call(this,"string")}number(){return u(this,fe,"m",$t).call(this,"number")}isNumber(){return u(this,fe,"m",Pt).call(this,"number")}bigint(){return u(this,fe,"m",$t).call(this,"bigint")}isBigint(){return u(this,fe,"m",Pt).call(this,"bigint")}boolean(){return u(this,fe,"m",$t).call(this,"boolean")}isBoolean(){return u(this,fe,"m",Pt).call(this,"boolean")}symbol(){return u(this,fe,"m",$t).call(this,"symbol")}isSymbol(){return u(this,fe,"m",Pt).call(this,"symbol")}undefined(){return u(this,fe,"m",$t).call(this,"undefined")}isUndefined(){return u(this,fe,"m",Pt).call(this,"undefined")}null(){if(u(this,Q,"f")!==null)throw new TypeError(`Expected null, got ${typeof u(this,Q,"f")}`);return u(this,Q,"f")}isNull(){return u(this,Q,"f")===null}object(){return u(this,fe,"m",$t).call(this,"object")}isObject(){return u(this,fe,"m",Pt).call(this,"object")}function(){return u(this,fe,"m",$t).call(this,"function")}isFunction(){return u(this,fe,"m",Pt).call(this,"function")}array(){if(!Array.isArray(u(this,Q,"f")))throw new TypeError(`Expected array, got ${typeof u(this,Q,"f")}`);return u(this,Q,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,s){return Reflect.has(e,s)?Reflect.get(i,s):new zi(Reflect.get(i,s))}})}isArray(){return Array.isArray(u(this,Q,"f"))}node(){if(!(u(this,Q,"f")instanceof n))throw new TypeError(`Expected YTNode, got ${u(this,Q,"f").constructor.name}`);return u(this,Q,"f")}isNode(){return u(this,Q,"f")instanceof n}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof u(this,Q,"f")}`);return u(this,Q,"f")}isObserved(){var e;return(e=u(this,Q,"f"))==null?void 0:e[Vw]}parsed(){if(!(u(this,Q,"f")instanceof Nt))throw new TypeError(`Expected SuperParsedResult, got ${typeof u(this,Q,"f")}`);return u(this,Q,"f")}isParsed(){return u(this,Q,"f")instanceof Nt}any(){return Ht(bk,"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),u(this,Q,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${u(this,Q,"f").constructor.name}`);return u(this,Q,"f")}isInstanceof(e){return u(this,Q,"f")instanceof e}};r(zi,"Maybe");Q=new WeakMap,fe=new WeakSet,Pt=r(function(e){return typeof u(this,Q,"f")===e},"_Maybe_checkPrimitive"),$t=r(function(e){if(!u(this,fe,"m",Pt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return u(this,Q,"f")},"_Maybe_assertPrimitive");var Nt=class{constructor(e){qi.set(this,void 0),I(this,qi,e,"f")}get is_null(){return u(this,qi,"f")===null}get is_array(){return!this.is_null&&Array.isArray(u(this,qi,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return u(this,qi,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return u(this,qi,"f")}};r(Nt,"SuperParsedResult");qi=new WeakMap;function G(t){return new Proxy(t,{get(e,i){return i=="get"?(s,o)=>e.find((a,l)=>{let f=pd(s,a);return f&&o&&e.splice(l,1),f}):i==Vw?!0:i=="getAll"?(s,o)=>e.filter((a,l)=>{let f=pd(s,a);return f&&o&&e.splice(l,1),f}):i=="matchCondition"?s=>e.find(o=>s(o)):i=="filterType"?(...s)=>G(e.filter(o=>!!o.is(...s))):i=="firstOfType"?(...s)=>e.find(o=>!!o.is(...s)):i=="first"?()=>e[0]:i=="as"?(...s)=>G(e.map(o=>{if(o.is(...s))return o;throw new Qe(`Expected node of any type ${s.map(a=>a.type).join(", ")}, got ${o.type}`)})):i=="remove"?s=>e.splice(s,1):Reflect.get(e,i)}})}r(G,"observe");var ui=class extends Map{getType(...e){return e=e.flat(),G(e.flatMap(i=>this.get(i.type)||[]))}};r(ui,"Memo");var zg={};Xe(zg,{Author:()=>P,ChildElement:()=>ox,EmojiRun:()=>_i,Format:()=>rb,Text:()=>p,TextRun:()=>xi,Thumbnail:()=>y,VideoDetails:()=>Li});var z={};Xe(z,{CLIENTS:()=>V,INNERTUBE_HEADERS_BASE:()=>wk,OAUTH:()=>gk,STREAM_HEADERS:()=>Kt,SUPPORTED_CLIENTS:()=>cd,URLS:()=>We});var We=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"}),GOOGLE_SEARCH_BASE:"https://www.google.com/"}),gk=Object.freeze({REGEX:Object.freeze({TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')})}),V=Object.freeze({IOS:{NAME_ID:"5",NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME_ID:"1",NAME:"WEB",VERSION:"2.20241121.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},MWEB:{NAME_ID:"2",NAME:"MWEB",VERSION:"2.20241205.01.00",API_VERSION:"v1"},WEB_KIDS:{NAME_ID:"76",NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME_ID:"67",NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME_ID:"3",NAME:"ANDROID",VERSION:"19.35.36",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/19.35.36(Linux; U; Android 13; en_US; SM-S908E Build/TP1A.220624.014) gzip"},YTSTUDIO_ANDROID:{NAME_ID:"14",NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME_ID:"21",NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV:{NAME_ID:"7",NAME:"TVHTML5",VERSION:"7.20241016.15.00",USER_AGENT:"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version"},TV_EMBEDDED:{NAME_ID:"85",NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"},WEB_EMBEDDED:{NAME_ID:"56",NAME:"WEB_EMBEDDED_PLAYER",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_CREATOR:{NAME_ID:"62",NAME:"WEB_CREATOR",VERSION:"1.20240918.03.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"}}),Kt=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),wk=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"}),cd=["IOS","WEB","MWEB","YTKIDS","YTMUSIC","ANDROID","YTSTUDIO_ANDROID","YTMUSIC_ANDROID","TV","TV_EMBEDDED","WEB_EMBEDDED","WEB_CREATOR"];var c={};Xe(c,{addRuntimeParser:()=>Bg,applyCommentsMutations:()=>iE,applyMutations:()=>tE,getDynamicParsers:()=>E1,getParserByName:()=>xs,hasParser:()=>Dh,parse:()=>De,parseActions:()=>eE,parseArray:()=>Ce,parseC:()=>ZS,parseCommand:()=>JS,parseCommands:()=>N1,parseFormats:()=>Ug,parseItem:()=>q,parseLC:()=>Vg,parseRR:()=>sb,parseResponse:()=>Yg,sanitizeClassName:()=>ys,setParserErrorHandler:()=>I1,shouldIgnore:()=>Wg});var mr={};Xe(mr,{AboutChannel:()=>vd,AboutChannelView:()=>Td,AccountChannel:()=>Id,AccountItem:()=>Sd,AccountItemSection:()=>kd,AccountItemSectionHeader:()=>Ed,AccountSectionList:()=>Cd,AddBannerToLiveChatCommand:()=>sv,AddChatItemAction:()=>Rx,AddLiveChatTickerItemAction:()=>ov,AddToPlaylist:()=>CT,AddToPlaylistCommand:()=>HT,AddToPlaylistEndpoint:()=>d0,AddToPlaylistServiceEndpoint:()=>ax,Alert:()=>Br,AlertWithButton:()=>Vd,AnchoredSection:()=>Xy,AppendContinuationItemsAction:()=>er,AttributionView:()=>Ud,AudioOnlyPlayability:()=>Fd,AuthorCommentBadge:()=>QT,AutomixPreviewVideo:()=>Wd,AvatarView:()=>Gd,BackstageImage:()=>jd,BackstagePost:()=>bi,BackstagePostThread:()=>PT,BadgeView:()=>gi,BrowseEndpoint:()=>_0,BrowseFeedActions:()=>Qd,BrowserMediaSession:()=>NT,Button:()=>v,ButtonView:()=>Te,C4TabbedHeader:()=>$r,CallToActionButton:()=>AT,Card:()=>RT,CardCollection:()=>S_,CarouselHeader:()=>E_,CarouselItem:()=>MT,CarouselLockup:()=>b_,ChangeEngagementPanelVisibilityAction:()=>wT,Channel:()=>k_,ChannelAboutFullMetadata:()=>pa,ChannelAgeGate:()=>LT,ChannelExternalLinkView:()=>wd,ChannelFeaturedContent:()=>OT,ChannelHeaderLinks:()=>Jd,ChannelHeaderLinksView:()=>Zd,ChannelMetadata:()=>C_,ChannelMobileHeader:()=>DT,ChannelOptions:()=>P_,ChannelOwnerEmptyState:()=>BT,ChannelSubMenu:()=>_a,ChannelSwitcherHeader:()=>YT,ChannelSwitcherPage:()=>Nd,ChannelTagline:()=>v_,ChannelThumbnailWithLink:()=>VT,ChannelVideoPlayer:()=>UT,Chapter:()=>N_,ChildVideo:()=>FT,ChipBarView:()=>WT,ChipCloud:()=>Kr,ChipCloudChip:()=>je,ChipView:()=>A_,ClipAdState:()=>i_,ClipCreation:()=>r_,ClipCreationScrubber:()=>t_,ClipCreationTextInput:()=>e_,ClipSection:()=>s_,CollaboratorInfoCardContent:()=>GT,CollageHeroImage:()=>jT,CollectionThumbnailView:()=>D_,CommandExecutorCommand:()=>$T,CommentActionButtons:()=>$d,CommentDialog:()=>JT,CommentReplies:()=>V_,CommentReplyDialog:()=>U_,CommentSimplebox:()=>j_,CommentThread:()=>$_,CommentView:()=>or,CommentsEntryPointHeader:()=>G_,CommentsEntryPointTeaser:()=>W_,CommentsHeader:()=>Si,CommentsSimplebox:()=>F_,CompactChannel:()=>t0,CompactLink:()=>yi,CompactMix:()=>i0,CompactMovie:()=>r0,CompactPlaylist:()=>s0,CompactStation:()=>o0,CompactVideo:()=>Gr,ConfirmDialog:()=>n0,ContentMetadataView:()=>Xr,ContentPreviewImageView:()=>rr,ContinuationCommand:()=>KT,ContinuationItem:()=>J,ConversationBar:()=>a0,CopyLink:()=>Qr,CreateCommentEndpoint:()=>x0,CreatePlaylistDialog:()=>yd,CreatePlaylistDialogFormView:()=>z_,CreatePlaylistServiceEndpoint:()=>y0,CreatorHeart:()=>Hd,DecoratedAvatarView:()=>Jr,DecoratedPlayerBar:()=>Z_,DefaultPromoPanel:()=>p0,DeletePlaylistEndpoint:()=>b0,DescriptionPreviewView:()=>ex,DialogHeaderView:()=>tx,DialogView:()=>c0,DidYouMean:()=>l0,DimChatItemAction:()=>nv,DislikeButtonView:()=>qd,DownloadButton:()=>Yr,Dropdown:()=>hi,DropdownItem:()=>xd,DropdownView:()=>K_,DynamicTextView:()=>sx,Element:()=>nx,EmergencyOnebox:()=>u0,EmojiPicker:()=>Y_,EmojiPickerCategory:()=>f0,EmojiPickerCategoryButton:()=>m0,EmojiPickerUpsellCategory:()=>h0,EndScreenPlaylist:()=>lx,EndScreenVideo:()=>ux,Endscreen:()=>cx,EndscreenElement:()=>Y0,EngagementPanelSectionList:()=>Ii,EngagementPanelTitleHeader:()=>o_,EomSettingsDisclaimer:()=>V0,ExpandableMetadata:()=>f_,ExpandableTab:()=>es,ExpandableVideoDescriptionBody:()=>c_,ExpandedShelfContents:()=>U0,Factoid:()=>vi,FancyDismissibleDialog:()=>F0,FeedFilterChipBar:()=>vt,FeedNudge:()=>W0,FeedTabbedHeader:()=>fx,FeedbackEndpoint:()=>g0,FlexibleActionsView:()=>mx,FormFooterView:()=>rx,GameCard:()=>l_,GameDetails:()=>G0,GetAccountsListInnertubeEndpoint:()=>w0,GetKidsBlocklistPickerCommand:()=>qT,GetMultiPageMenuAction:()=>TT,Grid:()=>j0,GridChannel:()=>hx,GridHeader:()=>H0,GridMix:()=>$0,GridMovie:()=>K0,GridPlaylist:()=>dx,GridShow:()=>q0,GridVideo:()=>yx,GuideCollapsibleEntry:()=>z0,GuideCollapsibleSectionEntry:()=>X0,GuideDownloadsEntry:()=>Q0,GuideEntry:()=>fr,GuideSection:()=>ts,GuideSubscriptionsSection:()=>bx,HashtagHeader:()=>gx,HashtagTile:()=>J0,HeatMarker:()=>X_,Heatmap:()=>Q_,HeroPlaylistThumbnail:()=>Z0,HideEngagementPanelEndpoint:()=>T0,HighlightsCarousel:()=>ev,HistorySuggestion:()=>tv,HorizontalCardList:()=>wi,HorizontalList:()=>u_,HorizontalMovieList:()=>iv,IconLink:()=>Tx,ImageBannerView:()=>vx,IncludingResultsFor:()=>rv,InfoPanelContainer:()=>Sx,InfoPanelContent:()=>Ix,InfoRow:()=>y_,InteractiveTabbedHeader:()=>Ex,ItemSection:()=>It,ItemSectionHeader:()=>is,ItemSectionTab:()=>kx,ItemSectionTabbedHeader:()=>rs,KidsBlocklistPicker:()=>YS,KidsBlocklistPickerItem:()=>Qy,KidsCategoriesHeader:()=>VS,KidsCategoryTab:()=>Jy,KidsHomeScreen:()=>US,LikeButton:()=>Vr,LikeButtonView:()=>Kd,LikeEndpoint:()=>v0,LiveChat:()=>Px,LiveChatActionPanel:()=>Dx,LiveChatAuthorBadge:()=>Mx,LiveChatAutoModMessage:()=>av,LiveChatBanner:()=>Ax,LiveChatBannerChatSummary:()=>pv,LiveChatBannerHeader:()=>Nx,LiveChatBannerPoll:()=>cv,LiveChatBannerRedirect:()=>lv,LiveChatDialog:()=>Dv,LiveChatHeader:()=>Wx,LiveChatItemContextMenuEndpoint:()=>I0,LiveChatItemList:()=>Gx,LiveChatMembershipItem:()=>uv,LiveChatMessageInput:()=>Bv,LiveChatModeChangeMessage:()=>fv,LiveChatPaidMessage:()=>mv,LiveChatPaidSticker:()=>hv,LiveChatParticipant:()=>jx,LiveChatParticipantsList:()=>Hx,LiveChatPlaceholderItem:()=>dv,LiveChatProductItem:()=>_v,LiveChatRestrictedParticipation:()=>xv,LiveChatSponsorshipsGiftPurchaseAnnouncement:()=>yv,LiveChatSponsorshipsGiftRedemptionAnnouncement:()=>bv,LiveChatSponsorshipsHeader:()=>Lx,LiveChatTextMessage:()=>gv,LiveChatTickerPaidMessageItem:()=>Ox,LiveChatTickerPaidStickerItem:()=>wv,LiveChatTickerSponsorItem:()=>Tv,LiveChatViewerEngagementMessage:()=>vv,LockupMetadataView:()=>$x,LockupView:()=>Kx,MacroMarkersInfoItem:()=>n_,MacroMarkersList:()=>a_,MacroMarkersListItem:()=>Fr,MarkChatItemAsDeletedAction:()=>Sv,MarkChatItemsByAuthorAsDeletedAction:()=>Ev,Menu:()=>R,MenuFlexibleItem:()=>Xd,MenuNavigationItem:()=>qx,MenuPopup:()=>Yv,MenuServiceItem:()=>At,MenuServiceItemDownload:()=>zd,MenuTitle:()=>Bd,MerchandiseItem:()=>Uv,MerchandiseShelf:()=>Jx,Message:()=>ki,MetadataBadge:()=>Ge,MetadataRow:()=>Fv,MetadataRowContainer:()=>Zx,MetadataRowHeader:()=>Wv,MetadataScreen:()=>Gv,MicroformatData:()=>Ci,Mix:()=>jv,MobileTopbar:()=>gI,ModalWithTitleAndButton:()=>Hv,ModifyChannelNotificationPreferenceEndpoint:()=>S0,Movie:()=>$v,MovingThumbnail:()=>Kv,MultiMarkersPlayerBar:()=>J_,MultiPageMenu:()=>Pd,MultiPageMenuNotificationSection:()=>Vv,MultiPageMenuSection:()=>wI,MusicCardShelf:()=>qv,MusicCardShelfHeaderBasic:()=>ey,MusicCarouselShelf:()=>sI,MusicCarouselShelfBasicHeader:()=>ty,MusicDescriptionShelf:()=>ay,MusicDetailHeader:()=>oI,MusicDownloadStateBadge:()=>nI,MusicEditablePlaylistDetailHeader:()=>aI,MusicElementHeader:()=>pI,MusicHeader:()=>cI,MusicImmersiveHeader:()=>lI,MusicInlineBadge:()=>os,MusicItemThumbnailOverlay:()=>Mt,MusicLargeCardItemCarousel:()=>uI,MusicMenuItemDivider:()=>zx,MusicMultiRowListItem:()=>iy,MusicMultiSelectMenu:()=>Xx,MusicMultiSelectMenuItem:()=>ss,MusicNavigationButton:()=>ry,MusicPlayButton:()=>ns,MusicPlaylistEditHeader:()=>fI,MusicPlaylistShelf:()=>mI,MusicQueue:()=>ly,MusicResponsiveHeader:()=>hI,MusicResponsiveListItem:()=>Pi,MusicResponsiveListItemFixedColumn:()=>sy,MusicResponsiveListItemFlexColumn:()=>oy,MusicShelf:()=>dI,MusicSideAlignedItem:()=>_I,MusicSortFilterButton:()=>xI,MusicTastebuilderShelf:()=>yI,MusicTastebuilderShelfThumbnail:()=>uy,MusicThumbnail:()=>Ie,MusicTwoRowItem:()=>ny,MusicVisualHeader:()=>bI,NavigationEndpoint:()=>d,Notification:()=>fy,NotificationAction:()=>SI,OpenPopupAction:()=>_d,PageHeader:()=>Lt,PageHeaderView:()=>my,PageIntroduction:()=>hy,PanelFooterView:()=>ix,PdgCommentChip:()=>ZT,PerformCommentActionEndpoint:()=>E0,PivotBar:()=>TI,PivotBarItem:()=>vI,PivotButton:()=>dy,PlayerAnnotationsExpanded:()=>_y,PlayerCaptionsTracklist:()=>xy,PlayerControlsOverlay:()=>EI,PlayerErrorMessage:()=>kI,PlayerLegacyDesktopYpcOffer:()=>CI,PlayerLegacyDesktopYpcTrailer:()=>Tf,PlayerLiveStoryboardSpec:()=>gy,PlayerMicroformat:()=>et,PlayerOverflow:()=>yy,PlayerOverlay:()=>Iy,PlayerOverlayAutoplay:()=>wy,PlayerOverlayVideoDetails:()=>Ty,PlayerStoryboardSpec:()=>Qi,Playlist:()=>Rt,PlaylistAddToOption:()=>Yd,PlaylistCustomThumbnail:()=>qr,PlaylistEditEndpoint:()=>k0,PlaylistHeader:()=>Sy,PlaylistInfoCardContent:()=>PI,PlaylistMetadata:()=>Ey,PlaylistPanel:()=>cy,PlaylistPanelVideo:()=>ei,PlaylistPanelVideoWrapper:()=>py,PlaylistSidebar:()=>NI,PlaylistSidebarPrimaryInfo:()=>ky,PlaylistSidebarSecondaryInfo:()=>Cy,PlaylistVideo:()=>ps,PlaylistVideoList:()=>AI,PlaylistVideoThumbnail:()=>zr,Poll:()=>RI,PollHeader:()=>Iv,Post:()=>cs,PostMultiImage:()=>MI,PrefetchWatchCommand:()=>C0,PremiereTrailerBadge:()=>LI,ProductList:()=>p_,ProductListHeader:()=>OI,ProductListItem:()=>DI,ProfileColumn:()=>BI,ProfileColumnStats:()=>YI,ProfileColumnStatsEntry:()=>VI,ProfileColumnUserInfo:()=>UI,Quiz:()=>FI,RecognitionShelf:()=>WI,ReelItem:()=>ls,ReelPlayerHeader:()=>Py,ReelPlayerOverlay:()=>GI,ReelShelf:()=>Hr,ReelWatchEndpoint:()=>P0,RelatedChipCloud:()=>Ny,RemoveBannerForLiveChatCommand:()=>kv,RemoveChatItemAction:()=>Cv,RemoveChatItemByAuthorAction:()=>Pv,ReplaceChatItemAction:()=>Nv,ReplayChatItemAction:()=>Av,RichGrid:()=>Ni,RichItem:()=>jI,RichListHeader:()=>HI,RichMetadata:()=>rm,RichMetadataRow:()=>om,RichSection:()=>$I,RichShelf:()=>Ay,RunAttestationCommand:()=>zT,SearchBox:()=>KI,SearchEndpoint:()=>N0,SearchFilter:()=>Ry,SearchFilterGroup:()=>us,SearchFilterOptionsDialog:()=>qI,SearchHeader:()=>My,SearchRefinementCard:()=>tr,SearchSubMenu:()=>Ly,SearchSuggestion:()=>wx,SearchSuggestionsSection:()=>zI,SecondarySearchContainer:()=>XI,SectionList:()=>de,SegmentedLikeDislikeButton:()=>dr,SegmentedLikeDislikeButtonView:()=>Xt,SendFeedbackAction:()=>vT,SettingBoolean:()=>QI,SettingsCheckbox:()=>Oy,SettingsOptions:()=>ms,SettingsSidebar:()=>Dy,SettingsSwitch:()=>fs,ShareEndpoint:()=>A0,ShareEntityEndpoint:()=>R0,ShareEntityServiceEndpoint:()=>Zr,SharePanelHeader:()=>Yy,SharePanelTitleV15:()=>JI,ShareTarget:()=>Vy,SharedPost:()=>By,Shelf:()=>hs,ShortsLockupView:()=>ds,ShowCustomThumbnail:()=>_x,ShowDialogCommand:()=>XT,ShowEngagementPanelEndpoint:()=>M0,ShowLiveChatActionPanelAction:()=>Rv,ShowLiveChatDialogAction:()=>Mv,ShowLiveChatTooltipCommand:()=>Lv,ShowingResultsFor:()=>ZI,SignalAction:()=>IT,SignalServiceEndpoint:()=>L0,SimpleCardContent:()=>eS,SimpleCardTeaser:()=>tS,SimpleMenuHeader:()=>Qx,SimpleTextSection:()=>iS,SingleActionEmergencySupport:()=>rS,SingleColumnBrowseResults:()=>sS,SingleColumnMusicWatchNextResults:()=>oS,SingleHeroImage:()=>nS,SlimOwner:()=>aS,SlimVideoMetadata:()=>pS,SortFilterHeader:()=>Cx,SortFilterSubMenu:()=>xt,SponsorCommentBadge:()=>e0,StartAt:()=>Uy,StructuredDescriptionContent:()=>sr,StructuredDescriptionPlaylistLockup:()=>g_,SubFeedOption:()=>Fy,SubFeedSelector:()=>cS,SubscribeButton:()=>xe,SubscribeEndpoint:()=>O0,SubscriptionNotificationToggleButton:()=>I_,Tab:()=>Se,Tabbed:()=>lS,TabbedSearchResults:()=>uS,TextFieldView:()=>q_,TextHeader:()=>fS,ThirdPartyShareTargetSection:()=>Wy,ThumbnailBadgeView:()=>M_,ThumbnailHoverOverlayView:()=>R_,ThumbnailLandscapePortrait:()=>mS,ThumbnailOverlayBadgeView:()=>L_,ThumbnailOverlayBottomPanel:()=>xx,ThumbnailOverlayEndorsement:()=>hS,ThumbnailOverlayHoverText:()=>dS,ThumbnailOverlayInlineUnplayable:()=>_S,ThumbnailOverlayLoadingPreview:()=>xS,ThumbnailOverlayNowPlaying:()=>yS,ThumbnailOverlayPinking:()=>bS,ThumbnailOverlayPlaybackStatus:()=>gS,ThumbnailOverlayResumePlayback:()=>wS,ThumbnailOverlaySidePanel:()=>TS,ThumbnailOverlayTimeStatus:()=>ir,ThumbnailOverlayToggleButton:()=>vS,ThumbnailView:()=>O_,TimedMarkerDecoration:()=>IS,TitleAndButtonListHeader:()=>SS,ToggleButton:()=>se,ToggleButtonView:()=>yt,ToggleMenuServiceItem:()=>ES,Tooltip:()=>kS,TopbarMenuButton:()=>II,TopicChannelDetails:()=>CS,Transcript:()=>Dr,TranscriptFooter:()=>Ad,TranscriptSearchBox:()=>Rd,TranscriptSearchPanel:()=>Dd,TranscriptSectionHeader:()=>Md,TranscriptSegment:()=>Ld,TranscriptSegmentList:()=>Od,TwoColumnBrowseResults:()=>Ot,TwoColumnSearchResults:()=>Gy,TwoColumnWatchNextResults:()=>Hy,UnifiedSharePanel:()=>PS,UniversalWatchCard:()=>$y,UnsubscribeEndpoint:()=>D0,UpdateChannelSwitcherPageAction:()=>ST,UpdateDateTextAction:()=>Bx,UpdateDescriptionAction:()=>Yx,UpdateEngagementPanelAction:()=>ET,UpdateLiveChatPollAction:()=>Ov,UpdateSubscribeButtonAction:()=>kT,UpdateTitleAction:()=>Vx,UpdateToggleButtonTextAction:()=>Ux,UpdateViewershipAction:()=>Fx,UploadTimeFactoid:()=>h_,UpsellDialog:()=>NS,VerticalList:()=>AS,VerticalWatchCardList:()=>RS,Video:()=>Wr,VideoAttributeView:()=>Ti,VideoAttributesSectionView:()=>T_,VideoCard:()=>m_,VideoDescriptionCourseSection:()=>w_,VideoDescriptionHeader:()=>__,VideoDescriptionInfocardsSection:()=>x_,VideoDescriptionMusicSection:()=>jr,VideoDescriptionTranscriptSection:()=>jn,VideoInfoCardContent:()=>MS,VideoOwner:()=>_s,VideoPrimaryInfo:()=>qy,VideoSecondaryInfo:()=>wh,VideoViewCount:()=>Ky,ViewCountFactoid:()=>d_,WatchCardCompactVideo:()=>zy,WatchCardHeroVideo:()=>LS,WatchCardRichHeader:()=>OS,WatchCardSectionSequence:()=>DS,WatchEndpoint:()=>px,WatchNextEndScreen:()=>vy,WatchNextEndpoint:()=>B0,WatchNextTabbedResults:()=>BS,YpcTrailer:()=>by});var Xi,ld=class{constructor(e,i){Xi.set(this,void 0),I(this,Xi,new M.shim.Cache(e,i),"f")}get cache_dir(){return u(this,Xi,"f").cache_dir}get(e){return u(this,Xi,"f").get(e)}set(e,i){return u(this,Xi,"f").set(e,i)}remove(e){return u(this,Xi,"f").remove(e)}};r(ld,"UniversalCache");Xi=new WeakMap;var Tk=ld;var Or,ud=class extends EventTarget{constructor(){super(),Or.set(this,new Map)}emit(e,...i){let s=new M.shim.CustomEvent(e,{detail:i});this.dispatchEvent(s)}on(e,i){let s=r(o=>{o instanceof M.shim.CustomEvent?i(...o.detail):i(o)},"wrapper");u(this,Or,"f").set(i,s),this.addEventListener(e,s)}once(e,i){let s=r(o=>{o instanceof M.shim.CustomEvent?i(...o.detail):i(o),this.off(e,i)},"wrapper");u(this,Or,"f").set(i,s),this.addEventListener(e,s)}off(e,i){let s=u(this,Or,"f").get(i);s&&(this.removeEventListener(e,s),u(this,Or,"f").delete(i))}};r(ud,"EventEmitterLike");Or=new WeakMap;var zs=ud;var Ji={};Xe(Ji,{chooseFormat:()=>Qw,download:()=>qk,toDash:()=>Xw});var vk={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function Uw(t){return t.replace(/([&"<>'])/g,(e,i)=>vk[i])}r(Uw,"escapeXMLString");function Ik(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}r(Ik,"normalizeTag");function H(t,e,...i){let s=i.flat().map(o=>typeof o=="string"?Sk(o):o);return typeof t=="function"?t({...e,children:s}):{type:Ik(t),props:{...e,children:s}}}r(H,"createElement");function Sk(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}r(Sk,"createTextElement");async function Fw(t){if(t.type==="TEXT_ELEMENT")return Uw(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(s=>!["children","nodeValue"].includes(s)&&t.props[s]!==void 0).map(s=>`${s}="${Uw(`${t.props[s]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=await Promise.all((await Promise.all(t.props.children.flat())).flat().filter(s=>!!s).map(s=>Fw(s)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`}r(Fw,"renderElementToString");async function Ww(t){return`<?xml version="1.0" encoding="utf-8"?>${await Fw(await t)}`}r(Ww,"renderToString");function Gw(t){return t.children}r(Gw,"Fragment");var Xs=class extends n{constructor(e){super();let i=e.spec.split("|"),s=new URL(i.shift());this.boards=i.map((o,a)=>{let[l,f,m,x,_,b,T,w]=o.split("#");s.searchParams.set("sigh",w);let S=Math.ceil(parseInt(m,10)/(parseInt(x,10)*parseInt(_,10)));return{type:"vod",template_url:s.toString().replace("$L",a).replace("$N",T),thumbnail_width:parseInt(l,10),thumbnail_height:parseInt(f,10),thumbnail_count:parseInt(m,10),interval:parseInt(b,10),columns:parseInt(x,10),rows:parseInt(_,10),storyboard_count:S}})}};r(Xs,"PlayerStoryboardSpec");Xs.type="PlayerStoryboardSpec";var Qi=Xs;var kk="StreamingInfo";function Ck(t,e){var o,a,l;let i=new Map,s=t.some(f=>!!f.audio_track);for(let f of t){if((!f.index_range||!f.init_range)&&!f.is_type_otf&&!e)continue;let m=f.mime_type.split(";")[0],x=(o=Ee(f.mime_type,'codecs="','"'))==null?void 0:o.split(".")[0],_=f.color_info?Object.values(f.color_info).join("-"):"",b=((a=f.audio_track)==null?void 0:a.id)||"",T=f.is_drc?"drc":"",w=`${m}-${x}-${_}-${b}-${T}`;i.has(w)||i.set(w,[]),(l=i.get(w))==null||l.push(f)}return{groups:Array.from(i.values()),has_multiple_audio_tracks:s}}r(Ck,"getFormatGroupings");function Hw(t,e){if(t.length>1&&new Set(t.map(i=>Ee(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),Ee(t[0].mime_type,'codecs="','"')}r(Hw,"hoistCodecsIfPossible");function $w(t,e,i){if(t.length>1&&new Set(t.map(s=>s.fps)).size===1)return i.push(e),Number(t[0][e])}r($w,"hoistNumberAttributeIfPossible");function Pk(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}r(Pk,"hoistAudioChannelsIfPossible");async function Nk(t,e){var f;let i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Kt,redirect:"follow"}),s=i.url.replace("&rn=0","").replace("&sq=0",""),o=await i.text(),a=(f=Ee(o,"Segment-Durations-Ms:",`\r
`))==null?void 0:f.split(",");if(!a)throw new g("Failed to extract the segment durations from this OTF stream",{url:t});let l=[];for(let m of a){let x=m.trim();if(x.length===0)continue;let _,b=Ee(x,"(r=",")");b&&(_=parseInt(b)),l.push({duration:parseInt(x),repeat_count:_})}return{init_url:`${s}&sq=0`,media_url:`${s}&sq=$Number$`,timeline:l}}r(Nk,"getOTFSegmentTemplate");async function Kw(t,e){let i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:Kt,redirect:"follow"}),s=parseInt(i.headers.get("X-Head-Time-Millis")||""),o=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(s)||isNaN(o))throw new g("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:s/1e3,segment_count:o}}r(Kw,"getPostLiveDvrInfo");async function Ak(t,e,i,s,o,a){if(!t.item){let l=new URL(await e.decipher(o));l.searchParams.set("cpn",a||"");let f=i(l).toString();t.item=await Kw(f,s)}return t.item.duration}r(Ak,"getPostLiveDvrDuration");async function qw(t,e,i,s,o,a){let l=new URL(await t.decipher(s));l.searchParams.set("cpn",o||"");let f=e(l).toString();if(t.is_type_otf){if(!i)throw new g("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return Nk(f,i)}}}if(a){if(!i)throw new g("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let x=t.target_duration_dec;if(typeof x!="number")throw new g("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,async getSegmentTemplate(){return a.item||(a.item=await Kw(f,i)),{media_url:`${f}&sq=$Number$`,timeline:[{duration:x*1e3,repeat_count:a.item.segment_count}]}}}}if(!t.index_range||!t.init_range)throw new g("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:f,index_range:t.index_range,init_range:t.init_range}}r(qw,"getSegmentInfo");async function Rk(t,e,i,s,o,a,l){new URL(await t.decipher(o)).searchParams.set("cpn",a||"");let m=[t.itag.toString()];return t.audio_track&&m.push(t.audio_track.id),t.is_drc&&m.push("drc"),{uid:m.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Ee(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:await qw(t,i,s,o,a,l)}}r(Rk,"getAudioRepresentation");function Mk(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return(t.is_dubbed||t.is_auto_dubbed)&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}r(Mk,"getTrackRoles");async function Lk(t,e,i,s,o,a,l){var w;let f=t[0],{audio_track:m}=f,x=[],_=!!l,b;return m?_&&f.is_drc?b=l.label_drc_multiple(m.display_name):b=m.display_name:_&&(b=f.is_drc?l.label_drc:l.label_original),{mime_type:f.mime_type.split(";")[0],language:(w=f.language)!=null?w:void 0,codecs:Hw(t,x),audio_sample_rate:$w(t,"audio_sample_rate",x),track_name:b,track_roles:Mk(f,_),channels:Pk(t,x),representations:await Promise.all(t.map(S=>Rk(S,x,e,i,s,o,a)))}}r(Lk,"getAudioSet");var Ok={BT709:"1",BT2020:"9"},jw={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},Dk={BT709:"1",BT2020_NCL:"14"};function Bk(t){var l;let e=t.color_info,i,s,o;if(e){if(e.primaries&&(i=Ok[e.primaries]),e.transfer_characteristics&&(s=jw[e.transfer_characteristics]),e.matrix_coefficients&&(o=Dk[e.matrix_coefficients],!o)){let f=new URL(t.url),m=JSON.parse(JSON.stringify(t));m.url="REDACTED",m.signature_cipher="REDACTED",m.cipher="REDACTED",Ht(kk,`Unknown matrix coefficients "${e.matrix_coefficients}". The DASH manifest is still usable without this.
Please report it at ${M.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${f.searchParams.get("c")}
format:`,m)}}else(l=Ee(t.mime_type,'codecs="','"'))!=null&&l.startsWith("avc1")&&(s=jw.BT709);return{primaries:i,transfer_characteristics:s,matrix_coefficients:o}}r(Bk,"getColorInfo");async function Yk(t,e,i,s,o,a,l){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Ee(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:await qw(t,e,o,s,a,l)}}r(Yk,"getVideoRepresentation");async function Vk(t,e,i,s,o,a){let l=t[0],f=Bk(l),m=[];return{mime_type:l.mime_type.split(";")[0],color_info:f,codecs:Hw(t,m),fps:$w(t,"fps",m),representations:await Promise.all(t.map(_=>Yk(_,e,m,i,s,o,a)))}}r(Vk,"getVideoSet");function Uk(t){var s;let e=new Map,i=t.is(Qi)?t.boards:[t.board];for(let o of i){let a=new URL(o.template_url).pathname.split(".").pop(),l=`image/${a==="jpg"?"jpeg":a}`;e.has(l)||e.set(l,[]),(s=e.get(l))==null||s.push(o)}return e}r(Uk,"getStoryboardInfo");async function Fk(t,e,i,s,o){let a=e.template_url,l=i(new URL(a.replace("$M","0"))),f=o.response?o.response:t.session.http.fetch_function(l,{method:"HEAD",headers:Kt});return o.response=f,(await f).headers.get("Content-Type")||s}r(Fk,"getStoryboardMimeType");async function Wk(t,e,i){let s=e.template_url,o=[],a=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let m=0;m<a;m++){let x=new URL(s.replace("$M",m.toString())),_=m===0&&i.response?i.response:t.session.http.fetch_function(x,{method:"HEAD",headers:Kt});m===0&&(i.response=_),o.push(_)}let l=await Promise.all(o),f=[];for(let m of l)f.push(parseInt(m.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...f)/(e.rows*e.columns)*8)}r(Wk,"getStoryboardBitrate");function Gk(t,e,i,s,o){let a=i.template_url,l=new URL(a.replace("$M","$Number$")),f;return i.type==="vod"?f=t/i.storyboard_count:f=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return Wk(e,i,o)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(f),template_url:s(l).toString(),getURL(x){return l.toString().replace("$Number$",x.toString())}}}r(Gk,"getImageRepresentation");function jk(t,e,i,s){let o=Uk(i),a={};return Array.from(o.entries()).map(([l,f])=>({probable_mime_type:l,getMimeType(){return Fk(e,f[0],s,l,a)},representations:f.map(m=>Gk(t,e,m,s,a))}))}r(jk,"getImageSets");function Hk(t,e,i){let s=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(o=>{let a=new URL(o.base_url);a.searchParams.set("fmt",e);let l=["caption"];return a.searchParams.has("tlang")&&l.push("dub"),{mime_type:s,language:o.language_code,track_name:o.name.toString(),track_roles:l,representation:{uid:`text-${o.vss_id}`,base_url:i(a).toString()}}})}r(Hk,"getTextSets");async function fd(t,e=!1,i=_=>_,s,o,a,l,f,m,x){if(!t)throw new g("Streaming data not available");let _=s?t.adaptive_formats.filter(Y=>!s(Y)):t.adaptive_formats,b,T;if(e){if(T={},!l)throw new g("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");b=r(()=>T?Ak(T,_[0],i,l,a,o):Promise.resolve(0),"getDuration")}else{let Y=_[0].approx_duration_ms/1e3;b=r(()=>Promise.resolve(Y),"getDuration")}let{groups:w,has_multiple_audio_tracks:S}=Ck(_,e),{video_groups:E,audio_groups:C}=w.reduce((Y,te)=>te[0].has_audio?(S&&!te[0].audio_track||Y.audio_groups.push(te),Y):(Y.video_groups.push(te),Y),{video_groups:[],audio_groups:[]}),k;C.flat().some(Y=>Y.is_drc)&&(k={label_original:(x==null?void 0:x.label_original)||"Original",label_drc:(x==null?void 0:x.label_drc)||"Stable Volume",label_drc_multiple:(x==null?void 0:x.label_drc_multiple)||(Y=>`${Y} (Stable Volume)`)});let U=await Promise.all(C.map(Y=>Lk(Y,i,l,a,o,T,k))),L=await Promise.all(E.map(Y=>Vk(Y,i,a,l,o,T))),K=[];if(f&&l){let Y;if(f.is(Qi))Y=_[0].approx_duration_ms/1e3;else{let te=_[0].target_duration_dec;if(te===void 0)throw new g("Format is missing target_duration_dec",{format:_[0]});Y=te}K=jk(Y,l,f,i)}let re=[];if(m&&(x==null?void 0:x.captions_format)){if(x.captions_format!=="vtt"&&x.captions_format!=="ttml")throw new g("Invalid captions format",x.captions_format);re=Hk(m,x.captions_format,i)}return{getDuration:b,audio_sets:U,video_sets:L,image_sets:K,text_sets:re}}r(fd,"getStreamingInfo");async function $k({info:t}){if(!t.is_oft&&!t.is_post_live_dvr)return null;let e=await t.getSegmentTemplate();return H("segment-template",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},H("segment-timeline",null,e.timeline.map(i=>H("s",{d:i.duration,r:i.repeat_count}))))}r($k,"OTFPostLiveDvrSegmentInfo");function zw({info:t}){return t.is_oft||t.is_post_live_dvr?H($k,{info:t}):H(Gw,null,H("base-url",null,t.base_url),H("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},H("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}r(zw,"SegmentInfo");async function Kk({streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:s,cpn:o,player:a,actions:l,storyboards:f,captionTracks:m,options:x}){let{getDuration:_,audio_sets:b,video_sets:T,image_sets:w,text_sets:S}=await fd(t,e,i,s,o,a,l,f,m,x);return H("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${await _()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},H("period",null,b.map((E,C)=>H("adaptation-set",{id:C,mimeType:E.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:E.language,codecs:E.codecs,audioSamplingRate:E.audio_sample_rate,contentType:"audio"},E.track_roles&&E.track_roles.map(k=>H("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:k})),E.track_name&&H("label",{id:C},E.track_name),E.channels&&H("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:E.channels}),E.representations.map(k=>H("representation",{id:k.uid,bandwidth:k.bitrate,codecs:k.codecs,audioSamplingRate:k.audio_sample_rate},k.channels&&H("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:k.channels}),H(zw,{info:k.segment_info}))))),T.map((E,C)=>H("adaptation-set",{id:C+b.length,mimeType:E.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:E.codecs,maxPlayoutRate:"1",frameRate:E.fps,contentType:"video"},E.color_info.primaries&&H("supplemental-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:E.color_info.primaries}),E.color_info.transfer_characteristics&&H("supplemental-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:E.color_info.transfer_characteristics}),E.color_info.matrix_coefficients&&H("supplemental-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:E.color_info.matrix_coefficients}),E.representations.map(k=>H("representation",{id:k.uid,bandwidth:k.bitrate,width:k.width,height:k.height,codecs:k.codecs,frameRate:k.fps},H(zw,{info:k.segment_info}))))),w.map(async(E,C)=>H("adaptation-set",{id:C+b.length+T.length,mimeType:await E.getMimeType(),contentType:"image"},E.representations.map(async k=>H("representation",{id:`thumbnails_${k.thumbnail_width}x${k.thumbnail_height}`,bandwidth:await k.getBitrate(),width:k.sheet_width,height:k.sheet_height},H("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${k.columns}x${k.rows}`}),H("segment-template",{media:k.template_url,duration:k.template_duration,startNumber:"0"}))))),S.map((E,C)=>H("adaptation-set",{id:C+b.length+T.length+w.length,mimeType:E.mime_type,lang:E.language,contentType:"text"},E.track_roles.map(k=>H("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:k})),H("label",{id:C+b.length},E.track_name),H("representation",{id:E.representation.uid,bandwidth:"0"},H("base-url",null,E.representation.base_url))))))}r(Kk,"DashManifest");function Xw(t,e=!1,i=_=>_,s,o,a,l,f,m,x){if(!t)throw new g("Streaming data not available");return Ww(H(Kk,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:x,rejectFormat:s,cpn:o,player:a,actions:l,storyboards:f,captionTracks:m}))}r(Xw,"toDash");async function qk(t,e,i,s,o,a){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new g("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new g("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!s)throw new g("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let l={quality:"360p",type:"video+audio",format:"mp4",range:void 0,...t},f=Qw(l,s),m=await f.decipher(o);if(l.type==="video+audio"&&!t.range){let S=await e.session.http.fetch_function(`${m}&cpn=${a}`,{method:"GET",headers:Kt,redirect:"follow"});if(!S.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:S});let E=S.body;if(!E)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:S});return E}let x=1048576*10,_=t.range?t.range.start:0,b=t.range?t.range.end:x,T=!1,w;return new M.shim.ReadableStream({start(){},pull:async S=>{if(T){S.close();return}return(b>=(f.content_length?f.content_length:0)||t.range)&&(T=!0),new Promise(async(E,C)=>{try{w=new AbortController;let k=await e.session.http.fetch_function(`${m}&cpn=${a}&range=${_}-${b||""}`,{method:"GET",headers:{...Kt},signal:w.signal});if(!k.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:k});let U=k.body;if(!U)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:k});for await(let L of jb(U))S.enqueue(L);_=b+1,b+=x,E()}catch(k){C(k)}})},async cancel(S){w.abort(S)}},{highWaterMark:1,size(S){return S.byteLength}})}r(qk,"download");function Qw(t,e){if(!e)throw new g("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],s=t.type?t.type.includes("audio"):!0,o=t.type?t.type.includes("video"):!0,a=t.language||"original",l=t.quality||"best",f=-1,m=["best","bestefficiency"].includes(l),x=l!=="best",_=i.filter(b=>s&&!b.has_audio||o&&!b.has_video||t.format!=="any"&&!b.mime_type.includes(t.format||"mp4")||!m&&b.quality_label!==l?!1:(b.width&&f<b.width&&(f=b.width),!0));if(!_.length)throw new g("No matching formats found",{options:t});if(m&&o&&(_=_.filter(b=>b.width===f)),s&&!o){let b=_.filter(T=>a!=="original"?!T.has_video&&!T.has_text&&T.language===a:!T.has_video&&!T.has_text&&T.is_original);b.length>0&&(_=b)}return x?_.sort((b,T)=>b.bitrate-T.bitrate):_.sort((b,T)=>T.bitrate-b.bitrate),_[0]}r(Qw,"chooseFormat");var Hb,fi,$b,Qs,Jw,md=class{constructor(e,i,s){Hb.add(this),fi.set(this,void 0),$b.set(this,void 0),Qs.set(this,void 0),I(this,fi,e,"f"),I(this,$b,i,"f"),I(this,Qs,s||M.shim.fetch,"f")}get fetch_function(){return u(this,Qs,"f")}async fetch(e,i,s={}){let o=We.API.PRODUCTION_1+u(this,fi,"f").api_version,a=(i==null?void 0:i.baseURL)||o,l=typeof e=="string"?!a.endsWith("/")&&!e.startsWith("/")?new URL(`${a}/${e}`):new URL(a+e):e instanceof URL?e:new URL(e.url,a),f=(i==null?void 0:i.headers)||(e instanceof M.shim.Request?e.headers:new M.shim.Headers)||new M.shim.Headers,m=(i==null?void 0:i.body)||(e instanceof M.shim.Request?e.body:void 0),x=new M.shim.Headers(f);x.set("Accept","*/*"),x.set("Accept-Language","*"),x.set("X-Goog-Visitor-Id",(s==null?void 0:s.visitor_data)||u(this,fi,"f").context.client.visitorData||""),x.set("X-Youtube-Client-Version",u(this,fi,"f").context.client.clientVersion||"");let _=Object.values(V).find(C=>C.NAME===u(this,fi,"f").context.client.clientName);_&&x.set("X-Youtube-Client-Name",_.NAME_ID),M.shim.server&&(x.set("User-Agent",Zi("desktop")),x.set("Origin",l.origin)),l.searchParams.set("prettyPrint","false"),l.searchParams.set("alt","json");let b=x.get("Content-Type"),T=m,w=a===o||a===We.YT_UPLOAD;if(b==="application/json"&&w&&typeof m=="string"){let k={...JSON.parse(m),context:JSON.parse(JSON.stringify(u(this,fi,"f").context))};u(this,Hb,"m",Jw).call(this,k.context,k.client),x.set("X-Youtube-Client-Version",k.context.client.clientVersion);let U=Object.values(V).find(L=>L.NAME===k.context.client.clientName);U&&x.set("X-Youtube-Client-Name",U.NAME_ID),delete k.client,k.context.client.clientName==="ANDROID"||k.context.client.clientName==="ANDROID_MUSIC"?(x.set("User-Agent",V.ANDROID.USER_AGENT),x.set("X-GOOG-API-FORMAT-VERSION","2")):k.context.client.clientName==="iOS"&&x.set("User-Agent",V.IOS.USER_AGENT),T=JSON.stringify(k)}else b==="application/x-protobuf"&&M.shim.server&&(x.set("User-Agent",V.ANDROID.USER_AGENT),x.set("X-GOOG-API-FORMAT-VERSION","2"),x.delete("X-Youtube-Client-Version"));let S=new M.shim.Request(l,e instanceof M.shim.Request?e:i),E=await u(this,Qs,"f").call(this,S,{body:T,headers:x,redirect:e instanceof M.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow",...M.shim.runtime!=="cf-worker"?{credentials:"include"}:{}});if(E.ok)return E;throw new g(`Request to ${E.url} failed with status ${E.status}`,await E.text())}};r(md,"HTTPClient");fi=new WeakMap,$b=new WeakMap,Qs=new WeakMap,Hb=new WeakSet,Jw=r(function(e,i){if(!!i){if(!cd.includes(i.toUpperCase()))throw new g(`Invalid client: ${i}`,{available_innertube_clients:cd});switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=V.ANDROID.SDK_VERSION,e.client.userAgent=V.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i.toUpperCase()){case"MWEB":e.client.clientVersion=V.MWEB.VERSION,e.client.clientName=V.MWEB.NAME,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.platform="MOBILE";break;case"IOS":e.client.deviceMake="Apple",e.client.deviceModel=V.IOS.DEVICE_MODEL,e.client.clientVersion=V.IOS.VERSION,e.client.clientName=V.IOS.NAME,e.client.platform="MOBILE",e.client.osName="iOS",delete e.client.browserName,delete e.client.browserVersion;break;case"YTMUSIC":e.client.clientVersion=V.YTMUSIC.VERSION,e.client.clientName=V.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=V.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=V.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=V.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=V.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=V.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=V.YTSTUDIO_ANDROID.NAME;break;case"TV":{e.client.clientVersion=V.TV.VERSION,e.client.clientName=V.TV.NAME,e.client.userAgent=V.TV.USER_AGENT;break}case"TV_EMBEDDED":e.client.clientName=V.TV_EMBEDDED.NAME,e.client.clientVersion=V.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:We.YT_BASE};break;case"YTKIDS":e.client.clientVersion=V.WEB_KIDS.VERSION,e.client.clientName=V.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;case"WEB_EMBEDDED":e.client.clientName=V.WEB_EMBEDDED.NAME,e.client.clientVersion=V.WEB_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:We.GOOGLE_SEARCH_BASE};break;case"WEB_CREATOR":e.client.clientName=V.WEB_CREATOR.NAME,e.client.clientVersion=V.WEB_CREATOR.VERSION;break;default:break}}},"_HTTPClient_adjustContext");var Kb=md;var dt={};Xe(dt,{compress:()=>zk,decompress:()=>Xk});function zk(t){let e=[],i={};for(let a=0;a<256;a++)i[String.fromCharCode(a)]=a;let s="",o=256;for(let a=0;a<t.length;a++){let l=t[a],f=s+l;i.hasOwnProperty(f)?s=f:(e.push(i[s]),i[f]=o++,s=l)}return s!==""&&e.push(i[s]),e.map(a=>String.fromCharCode(a)).join("")}r(zk,"compress");function Xk(t){let e={},i=t.split(""),s=[i.shift()],o=i.length>>>0,a=256,l=s[0],f=l;for(let m=0;m<o;++m){let x=i[m].charCodeAt(0),_=x<256?i[m]:e[x]?e[x]:f+l;s.push(_),l=_.charAt(0),e[a++]=f+l,f=_}return s.join("")}r(Xk,"decompress");var qt={};Xe(qt,{decodeVisitorData:()=>x1,encodeCommentActionParams:()=>ig,encodeNextParams:()=>y1,encodeVisitorData:()=>_1});function eT(){let t=0,e=0;for(let s=0;s<28;s+=7){let o=this.buf[this.pos++];if(t|=(o&127)<<s,(o&128)==0)return this.assertBounds(),[t,e]}let i=this.buf[this.pos++];if(t|=(i&15)<<28,e=(i&112)>>4,(i&128)==0)return this.assertBounds(),[t,e];for(let s=3;s<=31;s+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<s,(o&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}r(eT,"varint64read");function dd(t,e,i){for(let a=0;a<28;a=a+7){let l=t>>>a,f=!(l>>>7==0&&e==0),m=(f?l|128:l)&255;if(i.push(m),!f)return}let s=t>>>28&15|(e&7)<<4,o=e>>3!=0;if(i.push((o?s|128:s)&255),!!o){for(let a=3;a<31;a=a+7){let l=e>>>a,f=l>>>7!=0,m=(f?l|128:l)&255;if(i.push(m),!f)return}i.push(e>>>31&1)}}r(dd,"varint64write");var hd=4294967296;function qb(t){let e=t[0]==="-";e&&(t=t.slice(1));let i=1e6,s=0,o=0;function a(l,f){let m=Number(t.slice(l,f));o*=i,s=s*i+m,s>=hd&&(o=o+(s/hd|0),s=s%hd)}return r(a,"add1e6digit"),a(-24,-18),a(-18,-12),a(-12,-6),a(-6),e?iT(s,o):Xb(s,o)}r(qb,"int64FromString");function tT(t,e){let i=Xb(t,e),s=i.hi&2147483648;s&&(i=iT(i.lo,i.hi));let o=zb(i.lo,i.hi);return s?"-"+o:o}r(tT,"int64ToString");function zb(t,e){if({lo:t,hi:e}=Qk(t,e),e<=2097151)return String(hd*e+t);let i=t&16777215,s=(t>>>24|e<<8)&16777215,o=e>>16&65535,a=i+s*6777216+o*6710656,l=s+o*8147497,f=o*2,m=1e7;return a>=m&&(l+=Math.floor(a/m),a%=m),l>=m&&(f+=Math.floor(l/m),l%=m),f.toString()+Zw(l)+Zw(a)}r(zb,"uInt64ToString");function Qk(t,e){return{lo:t>>>0,hi:e>>>0}}r(Qk,"toUnsigned");function Xb(t,e){return{lo:t|0,hi:e|0}}r(Xb,"newBits");function iT(t,e){return e=~e,t?t=~t+1:e+=1,Xb(t,e)}r(iT,"negate");var Zw=r(t=>{let e=String(t);return"0000000".slice(e.length)+e},"decimalFrom1e7WithLeadingZeros");function Qb(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let i=0;i<9;i++)e.push(t&127|128),t=t>>7;e.push(1)}}r(Qb,"varint32write");function rT(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let i=5;(t&128)!==0&&i<10;i++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}r(rT,"varint32read");var _t=Jk();function Jk(){let t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let i=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),o=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){let f=typeof l=="bigint"?l:BigInt(l);if(f>s||f<i)throw new Error(`invalid int64: ${l}`);return f},uParse(l){let f=typeof l=="bigint"?l:BigInt(l);if(f>a||f<o)throw new Error(`invalid uint64: ${l}`);return f},enc(l){return t.setBigInt64(0,this.parse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(l){return t.setBigInt64(0,this.uParse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(l,f){return t.setInt32(0,l,!0),t.setInt32(4,f,!0),t.getBigInt64(0,!0)},uDec(l,f){return t.setInt32(0,l,!0),t.setInt32(4,f,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),sT(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),oT(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),sT(i),qb(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),oT(i),qb(i)},dec(i,s){return tT(i,s)},uDec(i,s){return zb(i,s)}}}r(Jk,"makeInt64Support");function sT(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}r(sT,"assertInt64String");function oT(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}r(oT,"assertUInt64String");var Jb=Symbol.for("@bufbuild/protobuf/text-encoding");function Zb(){if(globalThis[Jb]==null){let t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[Jb]={encodeUtf8(i){return t.encode(i)},decodeUtf8(i){return e.decode(i)},checkUtf8(i){try{return encodeURIComponent(i),!0}catch{return!1}}}}return globalThis[Jb]}r(Zb,"getTextEncoding");var mi;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(mi||(mi={}));var Zk=34028234663852886e22,e1=-34028234663852886e22,t1=4294967295,i1=2147483647,r1=-2147483648,Re=class{constructor(e=Zb().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let i=new Uint8Array(e),s=0;for(let o=0;o<this.chunks.length;o++)i.set(this.chunks[o],s),s+=this.chunks[o].length;return this.chunks=[],i}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),i=this.stack.pop();if(!i)throw new Error("invalid state, fork stack empty");return this.chunks=i.chunks,this.buf=i.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,i){return this.uint32((e<<3|i)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(nT(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return eg(e),Qb(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let i=this.encodeUtf8(e);return this.uint32(i.byteLength),this.raw(i)}float(e){s1(e);let i=new Uint8Array(4);return new DataView(i.buffer).setFloat32(0,e,!0),this.raw(i)}double(e){let i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),this.raw(i)}fixed32(e){nT(e);let i=new Uint8Array(4);return new DataView(i.buffer).setUint32(0,e,!0),this.raw(i)}sfixed32(e){eg(e);let i=new Uint8Array(4);return new DataView(i.buffer).setInt32(0,e,!0),this.raw(i)}sint32(e){return eg(e),e=(e<<1^e>>31)>>>0,Qb(e,this.buf),this}sfixed64(e){let i=new Uint8Array(8),s=new DataView(i.buffer),o=_t.enc(e);return s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),this.raw(i)}fixed64(e){let i=new Uint8Array(8),s=new DataView(i.buffer),o=_t.uEnc(e);return s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),this.raw(i)}int64(e){let i=_t.enc(e);return dd(i.lo,i.hi,this.buf),this}sint64(e){let i=_t.enc(e),s=i.hi>>31,o=i.lo<<1^s,a=(i.hi<<1|i.lo>>>31)^s;return dd(o,a,this.buf),this}uint64(e){let i=_t.uEnc(e);return dd(i.lo,i.hi,this.buf),this}};r(Re,"BinaryWriter");var ee=class{constructor(e,i=Zb().decodeUtf8){this.decodeUtf8=i,this.varint64=eT,this.uint32=rT,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),i=e>>>3,s=e&7;if(i<=0||s<0||s>5)throw new Error("illegal tag: field no "+i+" wire type "+s);return[i,s]}skip(e,i){let s=this.pos;switch(e){case mi.Varint:for(;this.buf[this.pos++]&128;);break;case mi.Bit64:this.pos+=4;case mi.Bit32:this.pos+=4;break;case mi.LengthDelimited:let o=this.uint32();this.pos+=o;break;case mi.StartGroup:for(;;){let[a,l]=this.tag();if(l===mi.EndGroup){if(i!==void 0&&a!==i)throw new Error("invalid end group tag");break}this.skip(l,a)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(s,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return _t.dec(...this.varint64())}uint64(){return _t.uDec(...this.varint64())}sint64(){let[e,i]=this.varint64(),s=-(e&1);return e=(e>>>1|(i&1)<<31)^s,i=i>>>1^s,_t.dec(e,i)}bool(){let[e,i]=this.varint64();return e!==0||i!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return _t.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return _t.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),i=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(i,i+e)}string(){return this.decodeUtf8(this.bytes())}};r(ee,"BinaryReader");function eg(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>i1||t<r1)throw new Error("invalid int32: "+t)}r(eg,"assertInt32");function nT(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>t1||t<0)throw new Error("invalid uint32: "+t)}r(nT,"assertUInt32");function s1(t){if(typeof t=="string"){let e=t;if(t=Number(t),isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>Zk||t<e1))throw new Error("invalid float32: "+t)}r(s1,"assertFloat32");var aT;(function(t){t[t.RELEVANCE=0]="RELEVANCE",t[t.RATING=1]="RATING",t[t.UPLOAD_DATE=2]="UPLOAD_DATE",t[t.VIEW_COUNT=3]="VIEW_COUNT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(aT||(aT={}));var pT;(function(t){t[t.ANY_DATE=0]="ANY_DATE",t[t.HOUR=1]="HOUR",t[t.TODAY=2]="TODAY",t[t.WEEK=3]="WEEK",t[t.MONTH=4]="MONTH",t[t.YEAR=5]="YEAR",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(pT||(pT={}));var cT;(function(t){t[t.ANY_TYPE=0]="ANY_TYPE",t[t.VIDEO=1]="VIDEO",t[t.CHANNEL=2]="CHANNEL",t[t.PLAYLIST=3]="PLAYLIST",t[t.MOVIE=4]="MOVIE",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(cT||(cT={}));var lT;(function(t){t[t.ANY_DURATION=0]="ANY_DURATION",t[t.SHORT=1]="SHORT",t[t.LONG=2]="LONG",t[t.MEDIUM=3]="MEDIUM",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(lT||(lT={}));function o1(){return{id:"",timestamp:0}}r(o1,"createBaseVisitorData");var tg={encode(t,e=new Re){return t.id!==""&&e.uint32(10).string(t.id),t.timestamp!==0&&e.uint32(40).int32(t.timestamp),e},decode(t,e){let i=t instanceof ee?t:new ee(t),s=e===void 0?i.len:i.pos+e,o=o1();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==10)break;o.id=i.string();continue;case 5:if(a!==40)break;o.timestamp=i.int32();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function n1(){return{params:void 0,number0:void 0,number1:void 0}}r(n1,"createBaseLiveMessageParams");var xT={encode(t,e=new Re){return t.params!==void 0&&uT.encode(t.params,e.uint32(10).fork()).join(),t.number0!==void 0&&e.uint32(16).int32(t.number0),t.number1!==void 0&&e.uint32(24).int32(t.number1),e},decode(t,e){let i=t instanceof ee?t:new ee(t),s=e===void 0?i.len:i.pos+e,o=n1();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==10)break;o.params=uT.decode(i,i.uint32());continue;case 2:if(a!==16)break;o.number0=i.int32();continue;case 3:if(a!==24)break;o.number1=i.int32();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function a1(){return{ids:void 0}}r(a1,"createBaseLiveMessageParams_Params");var uT={encode(t,e=new Re){return t.ids!==void 0&&fT.encode(t.ids,e.uint32(42).fork()).join(),e},decode(t,e){let i=t instanceof ee?t:new ee(t),s=e===void 0?i.len:i.pos+e,o=a1();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 5:if(a!==42)break;o.ids=fT.decode(i,i.uint32());continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function p1(){return{channelId:"",videoId:""}}r(p1,"createBaseLiveMessageParams_Params_Ids");var fT={encode(t,e=new Re){return t.channelId!==""&&e.uint32(10).string(t.channelId),t.videoId!==""&&e.uint32(18).string(t.videoId),e},decode(t,e){let i=t instanceof ee?t:new ee(t),s=e===void 0?i.len:i.pos+e,o=p1();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==10)break;o.channelId=i.string();continue;case 2:if(a!==18)break;o.videoId=i.string();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function c1(){return{type:0,commentId:"",videoId:"",unkNum:void 0,channelId:void 0,translateCommentParams:void 0}}r(c1,"createBasePeformCommentActionParams");var yT={encode(t,e=new Re){return t.type!==0&&e.uint32(8).int32(t.type),t.commentId!==""&&e.uint32(26).string(t.commentId),t.videoId!==""&&e.uint32(42).string(t.videoId),t.unkNum!==void 0&&e.uint32(16).int32(t.unkNum),t.channelId!==void 0&&e.uint32(186).string(t.channelId),t.translateCommentParams!==void 0&&mT.encode(t.translateCommentParams,e.uint32(250).fork()).join(),e},decode(t,e){let i=t instanceof ee?t:new ee(t),s=e===void 0?i.len:i.pos+e,o=c1();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==8)break;o.type=i.int32();continue;case 3:if(a!==26)break;o.commentId=i.string();continue;case 5:if(a!==42)break;o.videoId=i.string();continue;case 2:if(a!==16)break;o.unkNum=i.int32();continue;case 23:if(a!==186)break;o.channelId=i.string();continue;case 31:if(a!==250)break;o.translateCommentParams=mT.decode(i,i.uint32());continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function l1(){return{params:void 0,commentId:"",targetLanguage:""}}r(l1,"createBasePeformCommentActionParams_TranslateCommentParams");var mT={encode(t,e=new Re){return t.params!==void 0&&hT.encode(t.params,e.uint32(26).fork()).join(),t.commentId!==""&&e.uint32(18).string(t.commentId),t.targetLanguage!==""&&e.uint32(34).string(t.targetLanguage),e},decode(t,e){let i=t instanceof ee?t:new ee(t),s=e===void 0?i.len:i.pos+e,o=l1();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 3:if(a!==26)break;o.params=hT.decode(i,i.uint32());continue;case 2:if(a!==18)break;o.commentId=i.string();continue;case 4:if(a!==34)break;o.targetLanguage=i.string();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function u1(){return{comment:void 0}}r(u1,"createBasePeformCommentActionParams_TranslateCommentParams_Params");var hT={encode(t,e=new Re){return t.comment!==void 0&&dT.encode(t.comment,e.uint32(10).fork()).join(),e},decode(t,e){let i=t instanceof ee?t:new ee(t),s=e===void 0?i.len:i.pos+e,o=u1();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==10)break;o.comment=dT.decode(i,i.uint32());continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function f1(){return{text:""}}r(f1,"createBasePeformCommentActionParams_TranslateCommentParams_Params_Comment");var dT={encode(t,e=new Re){return t.text!==""&&e.uint32(10).string(t.text),e},decode(t,e){let i=t instanceof ee?t:new ee(t),s=e===void 0?i.len:i.pos+e,o=f1();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==10)break;o.text=i.string();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function m1(){return{shortId:"",params:void 0,feature2:0,feature3:0}}r(m1,"createBaseReelSequence");var bT={encode(t,e=new Re){return t.shortId!==""&&e.uint32(10).string(t.shortId),t.params!==void 0&&_T.encode(t.params,e.uint32(42).fork()).join(),t.feature2!==0&&e.uint32(80).int32(t.feature2),t.feature3!==0&&e.uint32(104).int32(t.feature3),e},decode(t,e){let i=t instanceof ee?t:new ee(t),s=e===void 0?i.len:i.pos+e,o=m1();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==10)break;o.shortId=i.string();continue;case 5:if(a!==42)break;o.params=_T.decode(i,i.uint32());continue;case 10:if(a!==80)break;o.feature2=i.int32();continue;case 13:if(a!==104)break;o.feature3=i.int32();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function h1(){return{number:0}}r(h1,"createBaseReelSequence_Params");var _T={encode(t,e=new Re){return t.number!==0&&e.uint32(24).int32(t.number),e},decode(t,e){let i=t instanceof ee?t:new ee(t),s=e===void 0?i.len:i.pos+e,o=h1();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 3:if(a!==24)break;o.number=i.int32();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function d1(){return{videoId:[]}}r(d1,"createBaseNextParams");var gT={encode(t,e=new Re){for(let i of t.videoId)e.uint32(42).string(i);return e},decode(t,e){let i=t instanceof ee?t:new ee(t),s=e===void 0?i.len:i.pos+e,o=d1();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 5:if(a!==42)break;o.videoId.push(i.string());continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function _1(t,e){let i=tg.encode({id:t,timestamp:e});return encodeURIComponent(zt(i.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}r(_1,"encodeVisitorData");function x1(t){return tg.decode(rg(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}r(x1,"decodeVisitorData");function ig(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let s=yT.encode(i);return encodeURIComponent(zt(s.finish()))}r(ig,"encodeCommentActionParams");function y1(t){let e=gT.encode({videoId:t});return encodeURIComponent(zt(e.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}r(y1,"encodeNextParams");var Zs=class extends n{constructor(e){super(),this.popup=c.parseItem(e.popup),this.popup_type=e.popupType}};r(Zs,"OpenPopupAction");Zs.type="OpenPopupAction";var _d=Zs;var eo=class extends n{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new p(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new d(e.navigationEndpoint||e.serviceEndpoint||e.command)}};r(eo,"Button");eo.type="Button";var v=eo;var to=class extends n{constructor(e){var i;super(),this.label=new p(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new d(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new p(e.descriptionText))}};r(to,"DropdownItem");to.type="DropdownItem";var xd=to;var io=class extends n{constructor(e){super(),this.label=e.label||"",this.entries=c.parseArray(e.entries,xd)}};r(io,"Dropdown");io.type="Dropdown";var hi=io;var ro=class extends n{constructor(e){super(),this.title=new p(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=c.parseItem(e.privacyOption,hi),this.create_button=c.parseItem(e.cancelButton,v),this.cancel_button=c.parseItem(e.cancelButton,v)}};r(ro,"CreatePlaylistDialog");ro.type="CreatePlaylistDialog";var yd=ro;var di=class extends n{constructor(e){var i,s,o,a,l,f,m,x;if(super(),e){if(e.serialCommand||e.parallelCommand){let _=e.serialCommand||e.parallelCommand;this.commands=_.commands.map(b=>new di(b))}(e.innertubeCommand||e.command||e.performOnceCommand)&&(e=e.innertubeCommand||e.command||e.performOnceCommand)}this.command=c.parseCommand(e),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new _d(e.openPopupAction)),this.name=Object.keys(e||{}).find(_=>_.endsWith("Endpoint")||_.endsWith("Command")),this.payload=this.name?Reflect.get(e,this.name):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=c.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=c.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new di(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},(s=(i=e==null?void 0:e.commandMetadata)==null?void 0:i.webCommandMetadata)!=null&&s.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),(a=(o=e==null?void 0:e.commandMetadata)==null?void 0:o.webCommandMetadata)!=null&&a.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),(f=(l=e==null?void 0:e.commandMetadata)==null?void 0:l.webCommandMetadata)!=null&&f.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):this.name&&(this.metadata.api_url=this.getPath(this.name)),(x=(m=e==null?void 0:e.commandMetadata)==null?void 0:m.webCommandMetadata)!=null&&x.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=c.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,yd))}getPath(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An API caller must be provided");if(this.command){let s=this.command;return e.execute(s.getApiPath(),{...s.buildRequest(),...i})}if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found.");return e.execute(this.metadata.api_url,{...this.payload,...i})}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};r(di,"NavigationEndpoint");di.type="NavigationEndpoint";var d=di;var y=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(s=>new y(s)).sort((s,o)=>o.width-s.width):[]}};r(y,"Thumbnail");var _i=class{constructor(e){var i,s,o,a,l,f;this.text=((i=e.emoji)==null?void 0:i.emojiId)||((o=(s=e.emoji)==null?void 0:s.shortcuts)==null?void 0:o[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((a=e.emoji)==null?void 0:a.shortcuts)||[],search_terms:((l=e.emoji)==null?void 0:l.searchTerms)||[],image:y.fromResponse(e.emoji.image),is_custom:!!((f=e.emoji)!=null&&f.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=bd(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};r(_i,"EmojiRun");var xi=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),this.deemphasize=Boolean(e.deemphasize),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new d(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s"),this.deemphasize&&e.push("small");let i=bd(this.text),o=`<span style="white-space: pre-wrap;">${e.map(a=>`<${a}>`).join("")+i+e.map(a=>`</${a}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:a}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let l=this.endpoint.toURL();if(l)return`<a href="${l}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${a}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${o}</a>`}}if(this.endpoint){let a=this.endpoint.toURL();if(a)return`<a href="${a}">${o}</a>`}return o}};r(xi,"TextRun");function bd(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}r(bd,"escape");var so="Text",p=class{constructor(e){var i,s,o,a;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(l=>l.emoji?new _i(l):new xi(l)),this.text=this.runs.map(l=>l.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new d(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new d(e.titleNavigationEndpoint)),this.endpoint||(s=(i=this.runs)==null?void 0:i[0])!=null&&s.endpoint&&(this.endpoint=(a=(o=this.runs)==null?void 0:o[0])==null?void 0:a.endpoint)}static fromAttributed(e){var f,m,x;let{content:i,styleRuns:s,commandRuns:o,attachmentRuns:a}=e,l=[{text:i,startIndex:0}];if(s||o||a){if(s)for(let _ of s)if(_.italic||_.strikethrough==="LINE_STYLE_SINGLE"||_.weightLabel==="FONT_WEIGHT_MEDIUM"||_.weightLabel==="FONT_WEIGHT_BOLD"){let b=sg(l,_);if(!b){O.warn(so,"Unable to find matching run for style run. Skipping...",{style_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(l))});continue}gd(l,b,_,{bold:_.weightLabel==="FONT_WEIGHT_MEDIUM"||_.weightLabel==="FONT_WEIGHT_BOLD",italics:_.italic,strikethrough:_.strikethrough==="LINE_STYLE_SINGLE"})}else O.debug(so,"Skipping style run as it is doesn't have any information that we parse.",{style_run:_,input_data:e});if(o)for(let _ of o)if(_.onTap){let b=sg(l,_);if(!b){O.warn(so,"Unable to find matching run for command run. Skipping...",{command_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(l))});continue}gd(l,b,_,{navigationEndpoint:_.onTap})}else O.debug(so,'Skipping command run as it is missing the "doTap" property.',{command_run:_,input_data:e});if(a)for(let _ of a){let b=sg(l,_);if(!b){O.warn(so,"Unable to find matching run for attachment run. Skipping...",{attachment_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(l))});continue}if(_.length===0)b.attachment=_;else{let T=_.startIndex-b.startIndex,w=b.text.substring(T,T+_.length),S=/^:[^:]+:$/.test(w);if(((x=(m=(f=_.element)==null?void 0:f.type)==null?void 0:m.imageType)==null?void 0:x.image)&&(S||/^(?:\p{Emoji}|\u200d)+$/u.test(w))){let E={image:_.element.type.imageType.image,isCustomEmoji:S,shortcuts:S?[w]:void 0};gd(l,b,_,{emoji:E})}else gd(l,b,_,{attachment:_})}}}return new p({runs:l})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};r(p,"Text");function sg(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}r(sg,"findMatchingRun");function gd(t,e,i,s){let o=t.indexOf(e),a=[],l=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&a.push({...e,text:e.text.substring(0,l)}),a.push({...e,text:e.text.substring(l,l+i.length),startIndex:i.startIndex,...s}),i.startIndex+i.length<e.startIndex+e.text.length&&a.push({...e,text:e.text.substring(l+i.length),startIndex:i.startIndex+i.length}),t.splice(o,1,...a)}r(gd,"insertSubRun");var oo=class extends n{constructor(e){super(),this.title=p.fromAttributed(e.title),this.link=p.fromAttributed(e.link),this.favicon=y.fromResponse(e.favicon)}};r(oo,"ChannelExternalLinkView");oo.type="ChannelExternalLinkView";var wd=oo;var no=class extends n{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=p.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=p.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=p.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=p.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new d(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=p.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=c.parseArray(e.links,wd):this.links=[]}};r(no,"AboutChannelView");no.type="AboutChannelView";var Td=no;var ao=class extends n{constructor(e){super(),this.metadata=c.parseItem(e.metadata,Td),this.share_channel=c.parseItem(e.shareChannel,v)}};r(ao,"AboutChannel");ao.type="AboutChannel";var vd=ao;var po=class extends n{constructor(e){super(),this.title=new p(e.title),this.endpoint=new d(e.navigationEndpoint)}};r(po,"AccountChannel");po.type="AccountChannel";var Id=po;var co=class extends n{constructor(e){super(),this.account_name=new p(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new d(e.serviceEndpoint),this.account_byline=new p(e.accountByline),this.channel_handle=new p(e.channelHandle)}};r(co,"AccountItem");co.type="AccountItem";var Sd=co;var lo=class extends n{constructor(e){super(),this.title=new p(e.title)}};r(lo,"AccountItemSectionHeader");lo.type="AccountItemSectionHeader";var Ed=lo;var uo=class extends n{constructor(e){super(),this.title=new p(e.title).toString(),this.endpoint=new d(e.navigationEndpoint),this.style=e.style}};r(uo,"CompactLink");uo.type="CompactLink";var yi=uo;var fo=class extends n{constructor(e){super(),this.contents=c.parseArray(e.contents,[Sd,yi]),this.header=c.parseItem(e.header,Ed)}};r(fo,"AccountItemSection");fo.type="AccountItemSection";var kd=fo;var mo=class extends n{constructor(e){super(),this.contents=c.parseArray(e.contents,kd),this.footers=c.parseArray(e.footers,Id)}};r(mo,"AccountSectionList");mo.type="AccountSectionList";var Cd=mo;var ho=class extends n{constructor(e){super(),this.contents=c.parseArray(e.continuationItems),this.target=e.target}};r(ho,"AppendContinuationItemsAction");ho.type="AppendContinuationItemsAction";var er=ho;var _o=class extends n{constructor(e){super(),this.target_id=e.targetId,this.visibility=e.visibility}};r(_o,"ChangeEngagementPanelVisibilityAction");_o.type="ChangeEngagementPanelVisibilityAction";var wT=_o;var xo=class extends n{constructor(e){super(),this.header=c.parseItem(e.header),this.sections=c.parseArray(e.sections),this.style=e.style}};r(xo,"MultiPageMenu");xo.type="MultiPageMenu";var Pd=xo;var yo=class extends n{constructor(e){super(),this.menu=c.parseItem(e.menu,Pd)}};r(yo,"GetMultiPageMenuAction");yo.type="GetMultiPageMenuAction";var TT=yo;var bo=class extends n{constructor(e){super(),this.bucket=e.bucket}};r(bo,"SendFeedbackAction");bo.type="SendFeedbackAction";var vT=bo;var go=class extends n{constructor(e){super(),this.signal=e.signal}};r(go,"SignalAction");go.type="SignalAction";var IT=go;var wo=class extends n{constructor(e){super(),this.header=c.parseItem(e.header),this.contents=c.parse(e.contents,!0)}};r(wo,"ChannelSwitcherPage");wo.type="ChannelSwitcherPage";var Nd=wo;var To=class extends n{constructor(e){super();let i=c.parseItem(e.page,Nd);i&&(this.header=i.header,this.contents=i.contents)}};r(To,"UpdateChannelSwitcherPageAction");To.type="UpdateChannelSwitcherPageAction";var ST=To;var vo=class extends n{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var s,o;return{title:i.title,selected:i.selected,continuation:(o=(s=i.continuation)==null?void 0:s.reloadContinuationData)==null?void 0:o.continuation,endpoint:new d(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};r(vo,"SortFilterSubMenu");vo.type="SortFilterSubMenu";var xt=vo;var Io=class extends n{constructor(e){super(),this.language_menu=c.parseItem(e.languageMenu,xt)}};r(Io,"TranscriptFooter");Io.type="TranscriptFooter";var Ad=Io;var So=class extends n{constructor(e){super(),this.formatted_placeholder=new p(e.formattedPlaceholder),this.clear_button=c.parseItem(e.clearButton,v),this.endpoint=new d(e.onTextChangeCommand),this.search_button=c.parseItem(e.searchButton,v)}};r(So,"TranscriptSearchBox");So.type="TranscriptSearchBox";var Rd=So;var Eo=class extends n{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new p(e.snippet)}};r(Eo,"TranscriptSectionHeader");Eo.type="TranscriptSectionHeader";var Md=Eo;var ko=class extends n{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new p(e.snippet),this.start_time_text=new p(e.startTimeText),this.target_id=e.targetId}};r(ko,"TranscriptSegment");ko.type="TranscriptSegment";var Ld=ko;var Co=class extends n{constructor(e){super(),this.initial_segments=c.parseArray(e.initialSegments,[Ld,Md]),this.no_result_label=new p(e.noResultLabel),this.retry_label=new p(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};r(Co,"TranscriptSegmentList");Co.type="TranscriptSegmentList";var Od=Co;var Po=class extends n{constructor(e){super(),this.header=c.parseItem(e.header,Rd),this.body=c.parseItem(e.body,Od),this.footer=c.parseItem(e.footer,Ad),this.target_id=e.targetId}};r(Po,"TranscriptSearchPanel");Po.type="TranscriptSearchPanel";var Dd=Po;var No=class extends n{constructor(e){super(),this.content=c.parseItem(e.content,Dd)}};r(No,"Transcript");No.type="Transcript";var Dr=No;var Ao=class extends n{constructor(e){super(),this.target_id=e.targetId,this.content=c.parseItem(e.content,Dr)}};r(Ao,"UpdateEngagementPanelAction");Ao.type="UpdateEngagementPanelAction";var ET=Ao;var Ro=class extends n{constructor(e){super(),this.channel_id=e.channelId,this.subscribed=e.subscribed}};r(Ro,"UpdateSubscribeButtonAction");Ro.type="UpdateSubscribeButtonAction";var kT=Ro;var Mo=class extends n{constructor(e){super(),this.title=new p(e.title)}};r(Mo,"MenuTitle");Mo.type="MenuTitle";var Bd=Mo;var Lo=class extends n{constructor(e){var i;super(),this.add_to_playlist_service_endpoint=new d(e.addToPlaylistServiceEndpoint),this.contains_selected_videos=e.containsSelectedVideos,this.playlist_id=e.playlistId,this.privacy=e.privacy,this.privacy_icon={icon_type:((i=e.privacyIcon)==null?void 0:i.iconType)||null},this.remove_from_playlist_service_endpoint=new d(e.removeFromPlaylistServiceEndpoint),this.title=new p(e.title)}};r(Lo,"PlaylistAddToOption");Lo.type="PlaylistAddToOption";var Yd=Lo;var Oo=class extends n{constructor(e){super(),this.actions=c.parseArray(e.actions,[Bd,v]),this.playlists=c.parseArray(e.playlists,Yd)}};r(Oo,"AddToPlaylist");Oo.type="AddToPlaylist";var CT=Oo;var Do=class extends n{constructor(e){super(),this.text=new p(e.text),this.alert_type=e.type}};r(Do,"Alert");Do.type="Alert";var Br=Do;var Bo=class extends n{constructor(e){super(),this.text=new p(e.text),this.alert_type=e.type,this.dismiss_button=c.parseItem(e.dismissButton,v)}};r(Bo,"AlertWithButton");Bo.type="AlertWithButton";var Vd=Bo;var Yo=class extends n{constructor(e){super(),this.text=p.fromAttributed(e.text),this.suffix=p.fromAttributed(e.suffix)}};r(Yo,"AttributionView");Yo.type="AttributionView";var Ud=Yo;var Vo=class extends n{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};r(Vo,"AudioOnlyPlayability");Vo.type="AudioOnlyPlayability";var Fd=Vo;var Uo=class extends n{constructor(e){var i,s;super(),(s=(i=e==null?void 0:e.content)==null?void 0:i.automixPlaylistVideoRenderer)!=null&&s.navigationEndpoint&&(this.playlist_video={endpoint:new d(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};r(Uo,"AutomixPreviewVideo");Uo.type="AutomixPreviewVideo";var Wd=Uo;var Fo=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.avatar_image_size=e.avatarImageSize,e.image.processor&&(this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}})}};r(Fo,"AvatarView");Fo.type="AvatarView";var Gd=Fo;var Wo=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.endpoint=new d(e.command)}};r(Wo,"BackstageImage");Wo.type="BackstageImage";var jd=Wo;var Go=class extends n{constructor(e){var s,o,a,l,f,m,x,_,b;super(),this.text=new p(e.defaultText),this.toggled_text=new p(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(s=e.defaultIcon)==null?void 0:s.iconType;let i=((l=(a=(o=e==null?void 0:e.defaultText)==null?void 0:o.accessibility)==null?void 0:a.accessibilityData)==null?void 0:l.label)||((m=(f=e==null?void 0:e.accessibilityData)==null?void 0:f.accessibilityData)==null?void 0:m.label)||((x=e==null?void 0:e.accessibility)==null?void 0:x.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(i.replace(/\D/g,"")),this.short_like_count=new p(e.defaultText).toString()),this.endpoint=(b=(_=e.defaultServiceEndpoint)==null?void 0:_.commandExecutorCommand)!=null&&b.commands?new d(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new d(e.defaultServiceEndpoint),this.toggled_endpoint=new d(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};r(Go,"ToggleButton");Go.type="ToggleButton";var se=Go;var jo=class extends n{constructor(e){var i,s;super(),this.creator_thumbnail=y.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(s=(i=e.heartColor)==null?void 0:i.basicColorPaletteData)==null?void 0:s.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};r(jo,"CreatorHeart");jo.type="CreatorHeart";var Hd=jo;var Ho=class extends n{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,se),this.dislike_button=c.parseItem(e.dislikeButton,se),this.reply_button=c.parseItem(e.replyButton,v),this.creator_heart=c.parseItem(e.creatorHeart,Hd)}};r(Ho,"CommentActionButtons");Ho.type="CommentActionButtons";var $d=Ho;var $o=class extends n{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.button_type=e.type,this.button_size=e.buttonSize,this.on_tap=new d(e.onTap)}};r($o,"ButtonView");$o.type="ButtonView";var Te=$o;var Ko=class extends n{constructor(e){super(),this.default_button=c.parseItem(e.defaultButtonViewModel,Te),this.toggled_button=c.parseItem(e.toggledButtonViewModel,Te),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};r(Ko,"ToggleButtonView");Ko.type="ToggleButtonView";var yt=Ko;var qo=class extends n{constructor(e){super(),this.toggle_button=c.parseItem(e.toggleButtonViewModel,yt),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};r(qo,"LikeButtonView");qo.type="LikeButtonView";var Kd=qo;var zo=class extends n{constructor(e){super(),this.toggle_button=c.parseItem(e.toggleButtonViewModel,yt),this.dislike_entity_key=e.dislikeEntityKey}};r(zo,"DislikeButtonView");zo.type="DislikeButtonView";var qd=zo;var Xo=class extends n{constructor(e){if(super(),this.like_button=c.parseItem(e.likeButtonViewModel,Kd),this.dislike_button=c.parseItem(e.dislikeButtonViewModel,qd),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};r(Xo,"SegmentedLikeDislikeButtonView");Xo.type="SegmentedLikeDislikeButtonView";var Xt=Xo;var Qo=class extends v{constructor(e){super(e)}};r(Qo,"MenuServiceItem");Qo.type="MenuServiceItem";var At=Qo;var Jo=class extends n{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new d(e.command),this.target_id=e.targetId}};r(Jo,"DownloadButton");Jo.type="DownloadButton";var Yr=Jo;var Zo=class extends n{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new d(e.navigationEndpoint||e.serviceEndpoint)}};r(Zo,"MenuServiceItemDownload");Zo.type="MenuServiceItemDownload";var zd=Zo;var en=class extends n{constructor(e){super(),this.menu_item=c.parseItem(e.menuItem,[At,zd]),this.top_level_button=c.parseItem(e.topLevelButton,[Yr,Te,v])}};r(en,"MenuFlexibleItem");en.type="MenuFlexibleItem";var Xd=en;var tn=class extends n{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new d(i)))}};r(tn,"LikeButton");tn.type="LikeButton";var Vr=tn;var rn=class extends n{constructor(e){super(),this.items=c.parseArray(e.items),this.flexible_items=c.parseArray(e.flexibleItems,Xd),this.top_level_buttons=c.parseArray(e.topLevelButtons,[se,Vr,v,Te,Xt]),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};r(rn,"Menu");rn.type="Menu";var R=rn;var sn=class extends n{constructor(e){super(),this.id=e.postId,this.author=new P({...e.authorText,navigationEndpoint:e.authorEndpoint},null,e.authorThumbnail),this.content=new p(e.contentText),this.published=new p(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new p(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=c.parseItem(e.actionMenu,R)),Reflect.has(e,"actionButtons")&&(this.action_buttons=c.parseItem(e.actionButtons,$d)),Reflect.has(e,"voteButton")&&(this.vote_button=c.parseItem(e.voteButton,v)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new d(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=c.parseItem(e.backstageAttachment)),this.surface=e.surface}};r(sn,"BackstagePost");sn.type="BackstagePost";var bi=sn;var on=class extends n{constructor(e){super(),this.post=c.parseItem(e.post)}};r(on,"BackstagePostThread");on.type="BackstagePostThread";var PT=on;var gi=class extends n{constructor(e){super(),this.text=e.badgeText,this.style=e.badgeStyle,this.accessibility_label=e.accessibilityLabel}};r(gi,"BadgeView");var nn=class extends n{constructor(e){super(),this.contents=c.parseArray(e.contents)}};r(nn,"BrowseFeedActions");nn.type="BrowseFeedActions";var Qd=nn;var an=class extends n{constructor(e){super(),this.album=new p(e.album),this.thumbnails=y.fromResponse(e.thumbnailDetails)}};r(an,"BrowserMediaSession");an.type="BrowserMediaSession";var NT=an;var Ur=class extends n{constructor(e){super(),this.endpoint=new d(e.navigationEndpoint),this.icon=y.fromResponse(e.icon),this.title=new p(e.title)}};r(Ur,"HeaderLink");Ur.type="HeaderLink";var pn=class extends n{constructor(e){var i,s;super(),this.primary=G(((i=e.primaryLinks)==null?void 0:i.map(o=>new Ur(o)))||[]),this.secondary=G(((s=e.secondaryLinks)==null?void 0:s.map(o=>new Ur(o)))||[])}};r(pn,"ChannelHeaderLinks");pn.type="ChannelHeaderLinks";var Jd=pn;var cn=class extends n{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=p.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=p.fromAttributed(e.more))}};r(cn,"ChannelHeaderLinksView");cn.type="ChannelHeaderLinksView";var Zd=cn;var ln=class extends n{constructor(e){super(),this.placeholder_text=new p(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};r(ln,"ClipCreationTextInput");ln.type="ClipCreationTextInput";var e_=ln;var un=class extends n{constructor(e){var i,s,o,a,l,f;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(s=(i=e.startAccessibility)==null?void 0:i.accessibilityData)==null?void 0:s.label,this.end_label=(a=(o=e.endAccessibility)==null?void 0:o.accessibilityData)==null?void 0:a.label,this.duration_label=(f=(l=e.durationAccessibility)==null?void 0:l.accessibilityData)==null?void 0:f.label}};r(un,"ClipCreationScrubber");un.type="ClipCreationScrubber";var t_=un;var fn=class extends n{constructor(e){super(),this.title=new p(e.title),this.body=new p(e.body)}};r(fn,"ClipAdState");fn.type="ClipAdState";var i_=fn;var mn=class extends n{constructor(e){super(),this.user_avatar=y.fromResponse(e.userAvatar),this.title_input=c.parseItem(e.titleInput,[e_]),this.scrubber=c.parseItem(e.scrubber,[t_]),this.save_button=c.parseItem(e.saveButton,[v]),this.display_name=new p(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=c.parseItem(e.cancelButton,[v]),this.ad_state_overlay=c.parseItem(e.adStateOverlay,[i_]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};r(mn,"ClipCreation");mn.type="ClipCreation";var r_=mn;var hn=class extends n{constructor(e){super(),this.contents=c.parse(e.contents,!0,[r_])}};r(hn,"ClipSection");hn.type="ClipSection";var s_=hn;var dn=class extends n{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,v)),this.endpoint=new d(e.continuationEndpoint)}};r(dn,"ContinuationItem");dn.type="ContinuationItem";var J=dn;var _n=class extends n{constructor(e){super(),this.title=new p(e.title),this.contextual_info=e.contextualInfo?new p(e.contextualInfo):void 0,this.visibility_button=c.parseItem(e.visibilityButton,v),this.menu=c.parseItem(e.menu)}};r(_n,"EngagementPanelTitleHeader");_n.type="EngagementPanelTitleHeader";var o_=_n;var xn=class extends n{constructor(e){super(),this.info_text=new p(e.infoText),this.menu=c.parseItem(e.menu,R)}};r(xn,"MacroMarkersInfoItem");xn.type="MacroMarkersInfoItem";var n_=xn;var yn=class extends n{constructor(e){super(),this.title=new p(e.title),this.time_description=new p(e.timeDescription),this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new d(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};r(yn,"MacroMarkersListItem");yn.type="MacroMarkersListItem";var Fr=yn;var bn=class extends n{constructor(e){super(),this.contents=c.parseArray(e.contents,[n_,Fr]),this.sync_button_label=new p(e.syncButtonLabel)}};r(bn,"MacroMarkersList");bn.type="MacroMarkersList";var a_=bn;var gn=class extends n{constructor(e){super(),this.contents=c.parseArray(e.contents)}};r(gn,"ProductList");gn.type="ProductList";var p_=gn;var wn=class extends n{constructor(e){super(),this.contents=c.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=c.parseItem(e.subMenu))}};r(wn,"SectionList");wn.type="SectionList";var de=wn;var Tn=class extends n{constructor(e){super(),this.show_more_text=new p(e.showMoreText),this.show_less_text=new p(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=p.fromAttributed(e.attributedDescriptionBodyText))}};r(Tn,"ExpandableVideoDescriptionBody");Tn.type="ExpandableVideoDescriptionBody";var c_=Tn;var vn=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new d(e.searchEndpoint),this.query=new p(e.query).toString()}};r(vn,"SearchRefinementCard");vn.type="SearchRefinementCard";var tr=vn;var In=class extends n{constructor(e){super(),this.game=c.parseItem(e.game)}};r(In,"GameCard");In.type="GameCard";var l_=In;var Sn=class extends n{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=c.parseArray(e.items)}get contents(){return this.items}};r(Sn,"HorizontalList");Sn.type="HorizontalList";var u_=Sn;var En=class extends n{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new p(e.header.collapsedTitle),collapsed_thumbnail:y.fromResponse(e.header.collapsedThumbnail),collapsed_label:new p(e.header.collapsedLabel),expanded_title:new p(e.header.expandedTitle)}),this.expanded_content=c.parseItem(e.expandedContent,[wi,u_]),this.expand_button=c.parseItem(e.expandButton,v),this.collapse_button=c.parseItem(e.collapseButton,v)}};r(En,"ExpandableMetadata");En.type="ExpandableMetadata";var f_=En;var kn=class extends n{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};r(kn,"MetadataBadge");kn.type="MetadataBadge";var Ge=kn;var Cn=class extends n{constructor(e){super(),this.text=new p(e.text).toString(),this.style=e.style}};r(Cn,"ThumbnailOverlayTimeStatus");Cn.type="ThumbnailOverlayTimeStatus";var ir=Cn;var Pn=class extends n{constructor(e){var s,o,a;super();let i=((s=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))==null?void 0:s.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new p(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new p(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(l=>({text:new p(l.snippetText),hover_text:new p(l.snippetHoverText)}))),this.expandable_metadata=c.parseItem(e.expandableMetadata,f_),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parseItem(e.richThumbnail)),this.author=new P(e.ownerText,e.ownerBadges,(a=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:a.thumbnail),this.badges=c.parseArray(e.badges,Ge),this.endpoint=new d(e.navigationEndpoint),this.published=new p(e.publishedTimeText),this.view_count=new p(e.viewCountText),this.short_view_count=new p(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new p(e.lengthText).toString():new p(i).toString(),seconds:_e(e.lengthText?new p(e.lengthText).toString():new p(i).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=c.parseItem(e.menu,R),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)==null?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(ir))==null?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};r(Pn,"Video");Pn.type="Video";var Wr=Pn;var Nn=class extends Wr{constructor(e){var i,s;if(super(e),Reflect.has(e,"metadataText")){let o=new p(e.metadataText);o.text&&(this.short_view_count=new p({simpleText:o.text.split("\xB7")[0].trim()}),this.published=new p({simpleText:o.text.split("\xB7")[1].trim()}))}Reflect.has(e,"bylineText")&&(this.author=new P(e.bylineText,e.ownerBadges,(s=(i=e.channelThumbnailSupportedRenderers)==null?void 0:i.channelThumbnailWithLinkRenderer)==null?void 0:s.thumbnail))}};r(Nn,"VideoCard");Nn.type="VideoCard";var m_=Nn;var An=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};r(An,"ContentPreviewImageView");An.type="ContentPreviewImageView";var rr=An;var Rn=class extends n{constructor(e){var i;super(),(i=e.image)!=null&&i.sources?this.image=y.fromResponse(e.image):this.image=c.parseItem(e.image,rr),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,Reflect.has(e,"secondarySubtitle")&&(this.secondary_subtitle={content:e.secondarySubtitle.content}),this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new d(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};r(Rn,"VideoAttributeView");Rn.type="VideoAttributeView";var Ti=Rn;var Mn=class extends n{constructor(e){super(),this.cards=c.parseArray(e.cards,[Ti,tr,Fr,l_,m_]),this.header=c.parseItem(e.header),this.previous_button=c.parseItem(e.previousButton,v),this.next_button=c.parseItem(e.nextButton,v)}};r(Mn,"HorizontalCardList");Mn.type="HorizontalCardList";var wi=Mn;var Ln=class extends n{constructor(e){super(),this.label=new p(e.label),this.value=new p(e.value),this.accessibility_text=e.accessibilityText}};r(Ln,"Factoid");Ln.type="Factoid";var vi=Ln;var On=class extends n{constructor(e){super(),this.factoid=c.parseItem(e.factoid,vi)}};r(On,"UploadTimeFactoid");On.type="UploadTimeFactoid";var h_=On;var Dn=class extends n{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=c.parseItem(e.factoid,[vi]),this.view_count_type=e.viewCountType}};r(Dn,"ViewCountFactoid");Dn.type="ViewCountFactoid";var d_=Dn;var Bn=class extends n{constructor(e){super(),this.title=new p(e.title),this.channel=new p(e.channel),this.channel_navigation_endpoint=new d(e.channelNavigationEndpoint),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.publish_date=new p(e.publishDate),this.views=new p(e.views),this.factoids=c.parseArray(e.factoid,[vi,d_,h_])}};r(Bn,"VideoDescriptionHeader");Bn.type="VideoDescriptionHeader";var __=Bn;var Yn=class extends n{constructor(e){super(),this.section_title=new p(e.sectionTitle),this.creator_videos_button=c.parseItem(e.creatorVideosButton,v),this.creator_about_button=c.parseItem(e.creatorAboutButton,v),this.section_subtitle=new p(e.sectionSubtitle),this.channel_avatar=y.fromResponse(e.channelAvatar),this.channel_endpoint=new d(e.channelEndpoint)}};r(Yn,"VideoDescriptionInfocardsSection");Yn.type="VideoDescriptionInfocardsSection";var x_=Yn;var Vn=class extends n{constructor(e){super(),this.title=new p(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new p(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new p(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};r(Vn,"InfoRow");Vn.type="InfoRow";var y_=Vn;var Un=class extends n{constructor(e){super(),this.id=e.videoId,this.thumbnails=y.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parseItem(e.richThumbnail)),this.title=new p(e.title),this.author=new P(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new p(e.viewCountText),this.short_view_count=new p(e.shortViewCountText),this.published=new p(e.publishedTimeText),this.badges=c.parseArray(e.badges,Ge),this.duration={text:new p(e.lengthText).toString(),seconds:_e(new p(e.lengthText).toString())},this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.endpoint=new d(e.navigationEndpoint),this.menu=c.parseItem(e.menu,R)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};r(Un,"CompactVideo");Un.type="CompactVideo";var Gr=Un;var Fn=class extends n{constructor(e){super(),this.info_rows=c.parseArray(e.infoRows,y_),this.video_lockup=c.parseItem(e.videoLockup,Gr)}};r(Fn,"CarouselLockup");Fn.type="CarouselLockup";var b_=Fn;var Wn=class extends n{constructor(e){super(),this.carousel_lockups=c.parseArray(e.carouselLockups,b_),this.section_title=new p(e.sectionTitle)}};r(Wn,"VideoDescriptionMusicSection");Wn.type="VideoDescriptionMusicSection";var jr=Wn;var Gn=class extends n{constructor(e){super(),this.section_title=new p(e.sectionTitle),this.sub_header_text=new p(e.subHeaderText),this.primary_button=c.parseItem(e.primaryButton,v)}};r(Gn,"VideoDescriptionTranscriptSection");Gn.type="VideoDescriptionTranscriptSection";var jn=Gn;var Hn=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new p(e.title),this.short_byline_text=new p(e.shortBylineText),this.video_count_short_text=new p(e.videoCountShortText),this.endpoint=new d(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};r(Hn,"StructuredDescriptionPlaylistLockup");Hn.type="StructuredDescriptionPlaylistLockup";var g_=Hn;var $n=class extends n{constructor(e){super(),this.section_title=new p(e.sectionTitle),this.media_lockups=c.parseArray(e.mediaLockups,[g_])}};r($n,"VideoDescriptionCourseSection");$n.type="VideoDescriptionCourseSection";var w_=$n;var Kn=class extends n{constructor(e){super(),this.title=new p(e.title),this.items=c.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new d(e.endpoint))}get contents(){return this.items}};r(Kn,"ReelShelf");Kn.type="ReelShelf";var Hr=Kn;var qn=class extends n{constructor(e){super(),this.header_title=e.headerTitle,this.header_subtitle=e.headerSubtitle,this.video_attributes=c.parseArray(e.videoAttributeViewModels,Ti),this.previous_button=c.parseItem(e.previousButton,Te),this.next_button=c.parseItem(e.nextButton,Te)}};r(qn,"VideoAttributesSectionView");qn.type="VideoAttributesSectionView";var T_=qn;var zn=class extends n{constructor(e){super(),this.items=c.parseArray(e.items,[__,c_,jr,x_,w_,jn,jn,wi,Hr,T_])}};r(zn,"StructuredDescriptionContent");zn.type="StructuredDescriptionContent";var sr=zn;var Xn=class extends n{constructor(e){super(),this.header=c.parseItem(e.header,o_),this.content=c.parseItem(e.content,[Ti,de,J,s_,sr,a_,p_]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};r(Xn,"EngagementPanelSectionList");Xn.type="EngagementPanelSectionList";var Ii=Xn;var Qn=class extends n{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:c.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,Ii),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new d(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};r(Qn,"ChannelTagline");Qn.type="ChannelTagline";var v_=Qn;var Jn=class extends n{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:c.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};r(Jn,"SubscriptionNotificationToggleButton");Jn.type="SubscriptionNotificationToggleButton";var I_=Jn;var Zn=class extends n{constructor(e){var i,s;super(),this.button_text=new p(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new p(e.subscribedButtonText),this.unsubscribed_text=new p(e.unsubscribedButtonText),this.notification_preference_button=c.parseItem(e.notificationPreferenceButton,I_),Reflect.has(e,"serviceEndpoints")&&(this.service_endpoints=e.serviceEndpoints.map(o=>new d(o))),Reflect.has(e,"onSubscribeEndpoints")&&(this.on_subscribe_endpoints=e.onSubscribeEndpoints.map(o=>new d(o))),Reflect.has(e,"onUnsubscribeEndpoints")&&(this.on_unsubscribe_endpoints=e.onUnsubscribeEndpoints.map(o=>new d(o))),Reflect.has(e,"subscribedEntityKey")&&(this.subscribed_entity_key=e.subscribedEntityKey),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"subscribeAccessibility")&&(this.subscribe_accessibility_label=(i=e.subscribeAccessibility.accessibilityData)==null?void 0:i.label),Reflect.has(e,"unsubscribeAccessibility")&&(this.unsubscribe_accessibility_label=(s=e.unsubscribeAccessibility.accessibilityData)==null?void 0:s.label)}};r(Zn,"SubscribeButton");Zn.type="SubscribeButton";var xe=Zn;var ea=class extends n{constructor(e){super(),this.author=new P({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=y.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=y.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=y.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new p(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new p(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=c.parseItem(e.sponsorButton,v)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=c.parseItem(e.subscribeButton,[xe,v])),Reflect.has(e,"headerLinks")&&(this.header_links=c.parseItem(e.headerLinks,[Jd,Zd])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new p(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=c.parseItem(e.tagline,v_))}};r(ea,"C4TabbedHeader");ea.type="C4TabbedHeader";var $r=ea;var ta=class extends n{constructor(e){super(),this.label=new p(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};r(ta,"CallToActionButton");ta.type="CallToActionButton";var AT=ta;var ia=class extends n{constructor(e){super(),this.teaser=c.parseItem(e.teaser),this.content=c.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};r(ia,"Card");ia.type="Card";var RT=ia;var ra=class extends n{constructor(e){super(),this.cards=c.parseArray(e.cards),this.header=new p(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};r(ra,"CardCollection");ra.type="CardCollection";var S_=ra;var sa=class extends n{constructor(e){super(),this.contents=c.parseArray(e.contents)}};r(sa,"CarouselHeader");sa.type="CarouselHeader";var E_=sa;var oa=class extends n{constructor(e){super(),this.items=c.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=y.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};r(oa,"CarouselItem");oa.type="CarouselItem";var MT=oa;var na=class extends n{constructor(e){super(),this.id=e.channelId,this.author=new P({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscriber_count=new p(e.subscriberCountText),this.video_count=new p(e.videoCountText),this.long_byline=new p(e.longBylineText),this.short_byline=new p(e.shortBylineText),this.endpoint=new d(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,[xe,v]),this.description_snippet=new p(e.descriptionSnippet)}};r(na,"Channel");na.type="Channel";var k_=na;var aa=class extends n{constructor(e){var i,s;super(),this.id=e.channelId,this.name=new p(e.title),this.avatar=y.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(s=(i=e.primaryLinks)==null?void 0:i.map(o=>({endpoint:new d(o.navigationEndpoint),icon:y.fromResponse(o.icon),title:new p(o.title)})))!=null?s:[],this.view_count=new p(e.viewCountText),this.joined_date=new p(e.joinedDateText),this.description=new p(e.description),this.email_reveal=new d(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new p(e.country),this.buttons=c.parseArray(e.actionButtons,v)}};r(aa,"ChannelAboutFullMetadata");aa.type="ChannelAboutFullMetadata";var pa=aa;var ca=class extends n{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=y.fromResponse(e.avatar),this.header=new p(e.header),this.main_text=new p(e.mainText),this.sign_in_button=c.parseItem(e.signInButton,v),this.secondary_text=new p(e.secondaryText)}};r(ca,"ChannelAgeGate");ca.type="ChannelAgeGate";var LT=ca;var la=class extends n{constructor(e){super(),this.title=new p(e.title),this.items=c.parseArray(e.items)}};r(la,"ChannelFeaturedContent");la.type="ChannelFeaturedContent";var OT=la;var ua=class extends n{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=y.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};r(ua,"ChannelMetadata");ua.type="ChannelMetadata";var C_=ua;var fa=class extends n{constructor(e){super(),this.title=new p(e.title)}};r(fa,"ChannelMobileHeader");fa.type="ChannelMobileHeader";var DT=fa;var ma=class extends n{constructor(e){super(),this.avatar=y.fromResponse(e.avatar),this.endpoint=new d(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new p(i))}};r(ma,"ChannelOptions");ma.type="ChannelOptions";var P_=ma;var ha=class extends n{constructor(e){super(),this.illustration=y.fromResponse(e.illustration),this.description=new p(e.description)}};r(ha,"ChannelOwnerEmptyState");ha.type="ChannelOwnerEmptyState";var BT=ha;var da=class extends n{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new d(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=c.parseItem(e.sortSetting)}};r(da,"ChannelSubMenu");da.type="ChannelSubMenu";var _a=da;var xa=class extends n{constructor(e){super(),this.title=new p(e.title).toString(),Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,v))}};r(xa,"ChannelSwitcherHeader");xa.type="ChannelSwitcherHeader";var YT=xa;var ya=class extends n{constructor(e){var i,s;super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new d(e.navigationEndpoint),this.label=(s=(i=e.accessibility)==null?void 0:i.accessibilityData)==null?void 0:s.label}};r(ya,"ChannelThumbnailWithLink");ya.type="ChannelThumbnailWithLink";var VT=ya;var ba=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new p(e.title),this.description=new p(e.description),this.view_count=new p(e.viewCountText),this.published_time=new p(e.publishedTimeText)}};r(ba,"ChannelVideoPlayer");ba.type="ChannelVideoPlayer";var UT=ba;var ga=class extends n{constructor(e){super(),this.title=new p(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=y.fromResponse(e.thumbnail)}};r(ga,"Chapter");ga.type="Chapter";var N_=ga;var wa=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new p(e.title),this.duration={text:e.lengthText.simpleText,seconds:_e(e.lengthText.simpleText)},this.endpoint=new d(e.navigationEndpoint)}};r(wa,"ChildVideo");wa.type="ChildVideo";var FT=wa;var Ta=class extends n{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new d(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};r(Ta,"ChipView");Ta.type="ChipView";var A_=Ta;var va=class extends n{constructor(e){super(),this.chips=c.parseArray(e.chips,A_)}};r(va,"ChipBarView");va.type="ChipBarView";var WT=va;var Ia=class extends n{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new d(e.navigationEndpoint)),this.text=new p(e.text).toString()}};r(Ia,"ChipCloudChip");Ia.type="ChipCloudChip";var je=Ia;var Sa=class extends n{constructor(e){super(),this.chips=c.parseArray(e.chips,je),this.next_button=c.parseItem(e.nextButton,v),this.previous_button=c.parseItem(e.previousButton,v),this.horizontal_scrollable=e.horizontalScrollable}};r(Sa,"ChipCloud");Sa.type="ChipCloud";var Kr=Sa;var Ea=class extends n{constructor(e){super(),this.channel_avatar=y.fromResponse(e.channelAvatar),this.custom_text=new p(e.customText),this.channel_name=new p(e.channelName),this.subscriber_count=new p(e.subscriberCountText),this.endpoint=new d(e.endpoint)}};r(Ea,"CollaboratorInfoCardContent");Ea.type="CollaboratorInfoCardContent";var GT=Ea;var ka=class extends n{constructor(e){super(),this.left=y.fromResponse(e.leftThumbnail),this.top_right=y.fromResponse(e.topRightThumbnail),this.bottom_right=y.fromResponse(e.bottomRightThumbnail),this.endpoint=new d(e.navigationEndpoint)}};r(ka,"CollageHeroImage");ka.type="CollageHeroImage";var jT=ka;var Ca=class extends n{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=p.fromAttributed(e.text),this.style=e.style}};r(Ca,"ThumbnailHoverOverlayView");Ca.type="ThumbnailHoverOverlayView";var R_=Ca;var Pa=class extends n{constructor(e){super(),this.text=e.text,this.badge_style=e.badgeStyle,e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}),e.iconName&&(this.icon_name=e.icon.sources[0].clientResource.imageName)}};r(Pa,"ThumbnailBadgeView");Pa.type="ThumbnailBadgeView";var M_=Pa;var Na=class extends n{constructor(e){super(),this.badges=c.parseArray(e.thumbnailBadges,M_),this.position=e.position}};r(Na,"ThumbnailOverlayBadgeView");Na.type="ThumbnailOverlayBadgeView";var L_=Na;var Aa=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.overlays=c.parseArray(e.overlays,[L_,R_]),e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};r(Aa,"ThumbnailView");Aa.type="ThumbnailView";var O_=Aa;var Ra=class extends n{constructor(e){super(),this.primary_thumbnail=c.parseItem(e.primaryThumbnail,O_),e.stackColor&&(this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme})}};r(Ra,"CollectionThumbnailView");Ra.type="CollectionThumbnailView";var D_=Ra;var Ma=class extends n{constructor(e){super(),this.open_miniplayer=e.openMiniplayer,this.video_id=e.videoId,this.list_type=e.listType,this.endpoint=new d(e.onCreateListCommand),this.video_ids=e.videoIds}};r(Ma,"AddToPlaylistCommand");Ma.type="AddToPlaylistCommand";var HT=Ma;var La=class extends n{constructor(e){super(),this.commands=c.parseCommands(e.commands)}};r(La,"CommandExecutorCommand");La.type="CommandExecutorCommand";var $T=La;var bt,Oa=class extends n{constructor(e){super(),bt.set(this,void 0),I(this,bt,e,"f")}getApiPath(){switch(u(this,bt,"f").request){case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":return"next";case"CONTINUATION_REQUEST_TYPE_BROWSE":return"browse";case"CONTINUATION_REQUEST_TYPE_SEARCH":return"search";case"CONTINUATION_REQUEST_TYPE_ACCOUNTS_LIST":return"account/accounts_list";case"CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU":return"notification/get_notification_menu";case"CONTINUATION_REQUEST_TYPE_COMMENT_REPLIES":return"comment/get_comment_replies";case"CONTINUATION_REQUEST_TYPE_REEL_WATCH_SEQUENCE":return"reel/reel_watch_sequence";case"CONTINUATION_REQUEST_TYPE_GET_PANEL":return"get_panel";default:return""}}buildRequest(){let e={};return u(this,bt,"f").formData&&(e.formData=u(this,bt,"f").formData),u(this,bt,"f").token&&(e.continuation=u(this,bt,"f").token),u(this,bt,"f").request==="CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU"&&(e.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_COMMENTS",u(this,bt,"f").token&&(e.fetchCommentsParams={continuation:u(this,bt,"f").token},delete e.continuation)),e}};r(Oa,"ContinuationCommand");bt=new WeakMap;Oa.type="ContinuationCommand";var KT=Oa;var og,Da,Ba=class extends n{constructor(e){super(),og.set(this,"kids/get_kids_blocklist_picker"),Da.set(this,void 0),I(this,Da,e,"f")}getApiPath(){return u(this,og,"f")}buildRequest(){let e={};return u(this,Da,"f").blockedForKidsContent&&(e.blockedForKidsContent=u(this,Da,"f").blockedForKidsContent),e}};r(Ba,"GetKidsBlocklistPickerCommand");og=new WeakMap,Da=new WeakMap;Ba.type="GetKidsBlocklistPickerCommand";var qT=Ba;var Ya=class extends n{constructor(e){super(),this.engagement_type=e.engagementType,Reflect.has(e,"ids")&&(this.ids=e.ids.map(i=>({encrypted_video_id:i.encryptedVideoId,external_channel_id:i.externalChannelId,comment_id:i.commentId,external_owner_id:i.externalOwnerId,artist_id:i.artistId,playlist_id:i.playlistId,external_post_id:i.externalPostId,share_id:i.shareId})))}};r(Ya,"RunAttestationCommand");Ya.type="RunAttestationCommand";var zT=Ya;var Va=class extends n{constructor(e){var i;super(),this.inline_content=c.parseItem((i=e.panelLoadingStrategy)==null?void 0:i.inlineContent),this.remove_default_padding=!!e.removeDefaultPadding}};r(Va,"ShowDialogCommand");Va.type="ShowDialogCommand";var XT=Va;var B_,Ua=class extends n{constructor(e){super(),B_.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED",e.style="BADGE_STYLE_TYPE_VERIFIED"),I(this,B_,e,"f")}get orig_badge(){return u(this,B_,"f")}};r(Ua,"AuthorCommentBadge");B_=new WeakMap;Ua.type="AuthorCommentBadge";var QT=Ua;var Fa=class extends n{constructor(e){super(),this.id=e.id,this.categories=c.parseArray(e.categories),this.category_buttons=c.parseArray(e.categoryButtons),this.search_placeholder=new p(e.searchPlaceholderText),this.search_no_results=new p(e.searchNoResultsText),this.pick_skin_tone=new p(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};r(Fa,"EmojiPicker");Fa.type="EmojiPicker";var Y_=Fa;var Wa=class extends n{constructor(e){super(),this.editable_text=new p(e.editableText),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.submit_button=c.parseItem(e.submitButton,v),this.cancel_button=c.parseItem(e.cancelButton,v),this.placeholder=new p(e.placeholderText),this.emoji_button=c.parseItem(e.emojiButton,v),this.emoji_picker=c.parseItem(e.emojiPicker,Y_)}};r(Wa,"CommentDialog");Wa.type="CommentDialog";var JT=Wa;var Ga=class extends n{constructor(e){super(),this.contents=c.parseArray(e.contents),this.view_replies=c.parseItem(e.viewReplies,v),this.hide_replies=c.parseItem(e.hideReplies,v),this.view_replies_creator_thumbnail=y.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};r(Ga,"CommentReplies");Ga.type="CommentReplies";var V_=Ga;var ja=class extends n{constructor(e){super(),this.reply_button=c.parseItem(e.replyButton,v),this.cancel_button=c.parseItem(e.cancelButton,v),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new p(e.placeholderText),this.error_message=new p(e.errorMessage)}};r(ja,"CommentReplyDialog");ja.type="CommentReplyDialog";var U_=ja;var Ha=class extends n{constructor(e){super(),this.simplebox_avatar=y.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new p(e.simpleboxPlaceholder)}};r(Ha,"CommentsSimplebox");Ha.type="CommentsSimplebox";var F_=Ha;var $a=class extends n{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new p(e.teaserContent))}};r($a,"CommentsEntryPointTeaser");$a.type="CommentsEntryPointTeaser";var W_=$a;var Ka=class extends n{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new p(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new p(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new p(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=c.parseItem(e.contentRenderer,[W_,F_])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new p(e.simpleboxPlaceholder))}};r(Ka,"CommentsEntryPointHeader");Ka.type="CommentsEntryPointHeader";var G_=Ka;var qa=class extends n{constructor(e){super(),this.title=new p(e.titleText),this.count=new p(e.countText),this.comments_count=new p(e.commentsCount),this.create_renderer=c.parseItem(e.createRenderer),this.sort_menu=c.parseItem(e.sortMenu,xt),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:y.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};r(qa,"CommentsHeader");qa.type="CommentsHeader";var Si=qa;var za=class extends n{constructor(e){super(),this.submit_button=c.parseItem(e.submitButton,v),this.cancel_button=c.parseItem(e.cancelButton,v),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new p(e.placeholderText),this.avatar_size=e.avatarSize}};r(za,"CommentSimplebox");za.type="CommentSimplebox";var j_=za;var Me,Xa=class extends n{constructor(e){super(),Me.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,s){e&&(this.content=p.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new P({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),s&&!Reflect.has(s,"prepareAccountCommand")&&(this.like_command=new d(s.likeCommand),this.dislike_command=new d(s.dislikeCommand),this.unlike_command=new d(s.unlikeCommand),this.undislike_command=new d(s.undislikeCommand),this.reply_command=new d(s.replyCommand))}async like(){if(!u(this,Me,"f"))throw new g("Actions instance not set for this comment.");if(!this.like_command)throw new g("Like command not found.");if(this.is_liked)throw new g("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(u(this,Me,"f"))}async dislike(){if(!u(this,Me,"f"))throw new g("Actions instance not set for this comment.");if(!this.dislike_command)throw new g("Dislike command not found.");if(this.is_disliked)throw new g("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(u(this,Me,"f"))}async unlike(){if(!u(this,Me,"f"))throw new g("Actions instance not set for this comment.");if(!this.unlike_command)throw new g("Unlike command not found.");if(!this.is_liked)throw new g("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(u(this,Me,"f"))}async undislike(){if(!u(this,Me,"f"))throw new g("Actions instance not set for this comment.");if(!this.undislike_command)throw new g("Undislike command not found.");if(!this.is_disliked)throw new g("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(u(this,Me,"f"))}async reply(e){var o;if(!u(this,Me,"f"))throw new g("Actions instance not set for this comment.");if(!this.reply_command)throw new g("Reply command not found.");let i=(o=this.reply_command.dialog)==null?void 0:o.as(U_);if(!i)throw new g("Reply dialog not found.");let s=i.reply_button;if(!s)throw new g("Reply button not found in the dialog.");if(!s.endpoint)throw new g("Reply button endpoint not found.");return s.endpoint.call(u(this,Me,"f"),{commentText:e})}async translate(e){var m,x,_,b,T,w;if(!u(this,Me,"f"))throw new g("Actions instance not set for this comment.");if(!this.content)throw new g("Comment content not found.",{comment_id:this.comment_id});let s={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},o=ig(22,s),a=await u(this,Me,"f").execute("comment/perform_comment_action",{action:o}),l=(x=(m=a.data.frameworkUpdates)==null?void 0:m.entityBatchUpdate)==null?void 0:x.mutations,f=(w=(T=(b=(_=l==null?void 0:l[0])==null?void 0:_.payload)==null?void 0:b.commentEntityPayload)==null?void 0:T.translatedContent)==null?void 0:w.content;return{...a,content:f}}setActions(e){I(this,Me,e,"f")}};r(Xa,"CommentView");Me=new WeakMap;Xa.type="CommentView";var or=Xa;var H_,Ei,nr,ng,Qa=class extends n{constructor(e){super(),H_.add(this),Ei.set(this,void 0),nr.set(this,void 0),this.comment=c.parseItem(e.commentViewModel,or),this.comment_replies_data=c.parseItem(e.replies,V_),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}get has_continuation(){if(!this.replies)throw new g("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!u(this,nr,"f")}async getReplies(){var s;if(!u(this,Ei,"f"))throw new g("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new g("This comment has no replies.",this);let e=(s=this.comment_replies_data.contents)==null?void 0:s.firstOfType(J);if(!e)throw new g("Replies continuation not found.");let i=await e.endpoint.call(u(this,Ei,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new g("Unexpected response.",i);return this.replies=u(this,H_,"m",ng).call(this,i.on_response_received_endpoints_memo),I(this,nr,i.on_response_received_endpoints_memo.getType(J).first(),"f"),this}async getContinuation(){var s;if(!this.replies)throw new g("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!u(this,nr,"f"))throw new g("Continuation not found.");if(!u(this,Ei,"f"))throw new g("Actions instance not set for this thread.");let e=(s=u(this,nr,"f").button)==null?void 0:s.as(v);if(!e)throw new g('"Load more" button not found.');let i=await e.endpoint.call(u(this,Ei,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new g("Unexpected response.",i);return this.replies=u(this,H_,"m",ng).call(this,i.on_response_received_endpoints_memo),I(this,nr,i.on_response_received_endpoints_memo.getType(J).first(),"f"),this}setActions(e){I(this,Ei,e,"f")}};r(Qa,"CommentThread");Ei=new WeakMap,nr=new WeakMap,H_=new WeakSet,ng=r(function(e){return G(e.getType(or).map(i=>(i.setActions(u(this,Ei,"f")),i)))},"_CommentThread_getPatchedReplies");Qa.type="CommentThread";var $_=Qa;var Ja=class extends n{constructor(e){var i,s;super(),this.text=new p(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)==null?void 0:i.backgroundColor,foreground_title_color:(s=e.chipColorPalette)==null?void 0:s.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};r(Ja,"PdgCommentChip");Ja.type="PdgCommentChip";var ZT=Ja;var Za=class extends n{constructor(e){super(),this.custom_badge=y.fromResponse(e.customBadge),this.tooltip=e.tooltip}};r(Za,"SponsorCommentBadge");Za.type="SponsorCommentBadge";var e0=Za;var ep=class extends n{constructor(e){super(),this.title=new p(e.title),this.channel_id=e.channelId,this.thumbnail=y.fromResponse(e.thumbnail),this.display_name=new p(e.displayName),this.video_count=new p(e.videoCountText),this.subscriber_count=new p(e.subscriberCountText),this.endpoint=new d(e.navigationEndpoint),this.tv_banner=y.fromResponse(e.tvBanner),this.menu=c.parseItem(e.menu,R)}};r(ep,"CompactChannel");ep.type="CompactChannel";var t0=ep;var tp=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(tp,"PlaylistCustomThumbnail");tp.type="PlaylistCustomThumbnail";var qr=tp;var ip=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(ip,"PlaylistVideoThumbnail");ip.type="PlaylistVideoThumbnail";var zr=ip;var rp=class extends n{constructor(e){var i;super(),this.id=e.playlistId,this.title=new p(e.title),this.author=(i=e.shortBylineText)!=null&&i.simpleText?new p(e.shortBylineText):new P(e.longBylineText,e.ownerBadges,null),this.thumbnails=y.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(s=>s.thumbnails).flat(1)}),this.video_count=new p(e.thumbnailText),this.video_count_short=new p(e.videoCountShortText),this.first_videos=c.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=c.parseItem(e.menu),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new d(e.navigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer,[zr,qr])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new p(e.viewPlaylistText))}};r(rp,"Playlist");rp.type="Playlist";var Rt=rp;var sp=class extends Rt{constructor(e){super(e)}};r(sp,"CompactMix");sp.type="CompactMix";var i0=sp;var op=class extends n{constructor(e){var o;super();let i=((o=e.thumbnailOverlays.find(a=>a.thumbnailOverlayTimeStatusRenderer))==null?void 0:o.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new p(e.title),this.top_metadata_items=new p(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new P(e.shortBylineText);let s=e.lengthText?new p(e.lengthText).toString():new p(i).toString();this.duration={text:s,seconds:_e(s)},this.endpoint=new d(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=c.parseItem(e.menu,R)}};r(op,"CompactMovie");op.type="CompactMovie";var r0=op;var np=class extends Rt{constructor(e){super(e)}};r(np,"CompactPlaylist");np.type="CompactPlaylist";var s0=np;var ap=class extends n{constructor(e){super(),this.title=new p(e.title),this.description=new p(e.description),this.video_count=new p(e.videoCountText),this.endpoint=new d(e.navigationEndpoint),this.thumbnail=y.fromResponse(e.thumbnail)}};r(ap,"CompactStation");ap.type="CompactStation";var o0=ap;var pp=class extends n{constructor(e){super(),this.title=new p(e.title),this.confirm_button=c.parseItem(e.confirmButton,v),this.cancel_button=c.parseItem(e.cancelButton,v),this.dialog_messages=e.dialogMessages.map(i=>new p(i))}};r(pp,"ConfirmDialog");pp.type="ConfirmDialog";var n0=pp;var cp=class extends n{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var s;return{metadata_parts:(s=i.metadataParts)==null?void 0:s.map(o=>({text:p.fromAttributed(o.text||{})}))}}),this.delimiter=e.delimiter}};r(cp,"ContentMetadataView");cp.type="ContentMetadataView";var Xr=cp;var lp=class extends n{constructor(e){super(),this.text=new p(e.text)}};r(lp,"Message");lp.type="Message";var ki=lp;var up=class extends n{constructor(e){super(),this.availability_message=c.parseItem(e.availabilityMessage,ki)}};r(up,"ConversationBar");up.type="ConversationBar";var a0=up;var fp=class extends n{constructor(e){super(),this.copy_button=c.parseItem(e.copyButton,v),this.short_url=e.shortUrl,this.style=e.style}};r(fp,"CopyLink");fp.type="CopyLink";var Qr=fp;var mp=class extends n{constructor(e){super(),this.label=new p(e.label),this.placeholder_text=new p(e.placeholderText),this.disabled=!!e.disabled,this.dropdown_type=e.type,this.id=e.id,Reflect.has(e,"options")&&(this.options=e.options.map(i=>{var s;return{title:new p(i.title),subtitle:new p(i.subtitle),leading_image:y.fromResponse(i.leadingImage),value:{privacy_status_value:(s=i.value)==null?void 0:s.privacyStatusValue},on_tap:new d(i.onTap),is_selected:!!i.isSelected}}))}};r(mp,"DropdownView");mp.type="DropdownView";var K_=mp;var hp=class extends n{constructor(e){super(),Reflect.has(e,"displayProperties")&&(this.display_properties={isMultiline:!!e.displayProperties.isMultiline,disableNewLines:!!e.displayProperties.disableNewLines}),Reflect.has(e,"contentProperties")&&(this.content_properties={labelText:e.contentProperties.labelText,placeholderText:e.contentProperties.placeholderText,maxCharacterCount:e.contentProperties.maxCharacterCount}),Reflect.has(e,"initialState")&&(this.initial_state={isFocused:!!e.initialState.isFocused}),Reflect.has(e,"formFieldMetadata")&&(this.form_field_metadata={formId:e.formFieldMetadata.formId,fieldId:e.formFieldMetadata.fieldId})}};r(hp,"TextFieldView");hp.type="TextFieldView";var q_=hp;var dp=class extends n{constructor(e){super(),this.playlist_title=c.parseItem(e.playlistTitle,q_),this.playlist_visibility=c.parseItem(e.playlistVisibility,K_),this.disable_playlist_collaborate=!!e.disablePlaylistCollaborate,this.create_playlist_params_collaboration_enabled=e.createPlaylistParamsCollaborationEnabled,this.create_playlist_params_collaboration_disabled=e.createPlaylistParamsCollaborationDisabled,this.video_ids=e.videoIds}};r(dp,"CreatePlaylistDialogFormView");dp.type="CreatePlaylistDialogFormView";var z_=dp;var _p=class extends n{constructor(e){var i,s;super(),this.avatar=c.parseItem(e.avatar,Gd),this.a11y_label=e.a11yLabel,(s=(i=e.rendererContext)==null?void 0:i.commandContext)!=null&&s.onTap&&(this.on_tap_endpoint=new d(e.rendererContext.commandContext.onTap))}};r(_p,"DecoratedAvatarView");_p.type="DecoratedAvatarView";var Jr=_p;var xp=class extends n{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};r(xp,"HeatMarker");xp.type="HeatMarker";var X_=xp;var yp=class extends n{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=c.parseArray(e.heatMarkers,X_),this.heat_markers_decorations=c.parseArray(e.heatMarkersDecorations)}};r(yp,"Heatmap");yp.type="Heatmap";var Q_=yp;var bp=class extends n{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=c.parseItem(e.value.heatmap,Q_)),Reflect.has(e.value,"chapters")&&(this.value.chapters=c.parseArray(e.value.chapters,N_)))}};r(bp,"Marker");bp.type="Marker";var gp=class extends n{constructor(e){var i;super(),this.markers_map=G(((i=e.markersMap)==null?void 0:i.map(s=>new bp(s)))||[])}};r(gp,"MultiMarkersPlayerBar");gp.type="MultiMarkersPlayerBar";var J_=gp;var wp=class extends n{constructor(e){super(),this.player_bar=c.parseItem(e.playerBar,J_),this.player_bar_action_button=c.parseItem(e.playerBarActionButton,v)}};r(wp,"DecoratedPlayerBar");wp.type="DecoratedPlayerBar";var Z_=wp;var Tp=class extends n{constructor(e){super(),this.title=new p(e.title),this.description=new p(e.description),this.endpoint=new d(e.navigationEndpoint),this.large_form_factor_background_thumbnail=c.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=c.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};r(Tp,"DefaultPromoPanel");Tp.type="DefaultPromoPanel";var p0=Tp;var vp=class extends n{constructor(e){var i,s,o,a,l,f;if(super(),this.description=p.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=p.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,(o=(s=(i=e.rendererContext.commandContext)==null?void 0:i.onTap)==null?void 0:s.innertubeCommand)!=null&&o.showEngagementPanelEndpoint){let m=(f=(l=(a=e.rendererContext.commandContext)==null?void 0:a.onTap)==null?void 0:l.innertubeCommand)==null?void 0:f.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:c.parseItem(m.engagementPanel,Ii),engagement_panel_popup_type:m.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:m.identifier.surface,tag:m.identifier.tag}}}}}};r(vp,"DescriptionPreviewView");vp.type="DescriptionPreviewView";var ex=vp;var Ip=class extends n{constructor(e){super(),this.headline=p.fromAttributed(e.headline)}};r(Ip,"DialogHeaderView");Ip.type="DialogHeaderView";var tx=Ip;var Sp=class extends n{constructor(e){super(),this.primary_button=c.parseItem(e.primaryButton,Te),this.secondary_button=c.parseItem(e.secondaryButton,Te),this.should_hide_divider=!!e.shouldHideDivider}};r(Sp,"PanelFooterView");Sp.type="PanelFooterView";var ix=Sp;var Ep=class extends n{constructor(e){super(),this.panel_footer=c.parseItem(e.panelFooter,ix),this.form_id=e.formId,this.container_type=e.containerType}};r(Ep,"FormFooterView");Ep.type="FormFooterView";var rx=Ep;var kp=class extends n{constructor(e){super(),this.header=c.parseItem(e.header,tx),this.footer=c.parseItem(e.footer,rx),this.custom_content=c.parseItem(e.customContent,z_)}};r(kp,"DialogView");kp.type="DialogView";var c0=kp;var Cp=class extends n{constructor(e){super(),this.text=new p(e.didYouMean).toString(),this.corrected_query=new p(e.correctedQuery),this.endpoint=new d(e.navigationEndpoint||e.correctedQueryEndpoint)}};r(Cp,"DidYouMean");Cp.type="DidYouMean";var l0=Cp;var Pp=class extends n{constructor(e){super(),this.text=p.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};r(Pp,"DynamicTextView");Pp.type="DynamicTextView";var sx=Pp;var ar=class extends n{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)==null?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(s=>new ar(s)))}};r(ar,"ChildElement");ar.type="ChildElement";var ox=ar;var pr=class extends n{constructor(e){var s;if(super(),Reflect.has(e,"elementRenderer"))return c.parseItem(e,pr);let i=e.newElement.type.componentType;this.model=c.parseItem(i==null?void 0:i.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=G(((s=e.newElement.childElements)==null?void 0:s.map(o=>new ox(o)))||[]))}};r(pr,"Element");pr.type="Element";var nx=pr;var Np=class extends n{constructor(e){super(),this.title=new p(e.title),this.first_option=c.parseItem(e.firstOption),this.menu=c.parseItem(e.menu,R)}};r(Np,"EmergencyOnebox");Np.type="EmergencyOnebox";var u0=Np;var Ap=class extends n{constructor(e){super(),this.category_id=e.categoryId,this.title=new p(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};r(Ap,"EmojiPickerCategory");Ap.type="EmojiPickerCategory";var f0=Ap;var Rp=class extends n{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),this.tooltip=e.tooltip}};r(Rp,"EmojiPickerCategoryButton");Rp.type="EmojiPickerCategoryButton";var m0=Rp;var Mp=class extends n{constructor(e){super(),this.category_id=e.categoryId,this.title=new p(e.title),this.upsell=new p(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new d(e.command),this.emoji_ids=e.emojiIds}};r(Mp,"EmojiPickerUpsellCategory");Mp.type="EmojiPickerUpsellCategory";var h0=Mp;var ag,gt,Lp=class extends n{constructor(e){super(),ag.set(this,"playlist/get_add_to_playlist"),gt.set(this,void 0),I(this,gt,e,"f")}getApiPath(){return u(this,ag,"f")}buildRequest(){let e={};return e.videoIds=u(this,gt,"f").videoIds?u(this,gt,"f").videoIds:[u(this,gt,"f").videoId],u(this,gt,"f").playlistId&&(e.playlistId=u(this,gt,"f").playlistId),u(this,gt,"f").params&&(e.params=u(this,gt,"f").params),e.excludeWatchLater=!!u(this,gt,"f").excludeWatchLater,e}};r(Lp,"AddToPlaylistServiceEndpoint");ag=new WeakMap,gt=new WeakMap;Lp.type="AddToPlaylistServiceEndpoint";var ax=Lp;var Op=class extends ax{constructor(e){super(e)}};r(Op,"AddToPlaylistEndpoint");Op.type="AddToPlaylistEndpoint";var d0=Op;var pg,ye,Dp=class extends n{constructor(e){super(),pg.set(this,"browse"),ye.set(this,void 0),I(this,ye,e,"f")}getApiPath(){return u(this,pg,"f")}buildRequest(){let e={};return u(this,ye,"f").browseId&&(e.browseId=u(this,ye,"f").browseId),u(this,ye,"f").params&&(e.params=u(this,ye,"f").params),u(this,ye,"f").query&&(e.query=u(this,ye,"f").query),u(this,ye,"f").browseId==="FEsubscriptions"&&(e.subscriptionSettingsState=u(this,ye,"f").subscriptionSettingsState||"MY_SUBS_SETTINGS_STATE_LAYOUT_FORMAT_LIST"),u(this,ye,"f").browseId==="SPaccount_playback"&&(e.formData=u(this,ye,"f").formData||{accountSettingsFormData:{flagCaptionsDefaultOff:!1,flagAutoCaptionsDefaultOn:!1,flagDisableInlinePreview:!1,flagAudioDescriptionDefaultOn:!1}}),u(this,ye,"f").browseId==="FEwhat_to_watch"&&(u(this,ye,"f").browseRequestSupportedMetadata&&(e.browseRequestSupportedMetadata=u(this,ye,"f").browseRequestSupportedMetadata),u(this,ye,"f").inlineSettingStatus&&(e.inlineSettingStatus=u(this,ye,"f").inlineSettingStatus)),e}};r(Dp,"BrowseEndpoint");pg=new WeakMap,ye=new WeakMap;Dp.type="BrowseEndpoint";var _0=Dp;var cg,ue,Bp=class extends n{constructor(e){super(),cg.set(this,"comment/create_comment"),ue.set(this,void 0),I(this,ue,e,"f")}getApiPath(){return u(this,cg,"f")}buildRequest(){let e={};if(u(this,ue,"f").createCommentParams&&(e.createCommentParams=u(this,ue,"f").createCommentParams),u(this,ue,"f").commentText&&(e.commentText=u(this,ue,"f").commentText),u(this,ue,"f").attachedVideoId?e.videoAttachment={videoId:u(this,ue,"f").attachedVideoId}:u(this,ue,"f").pollOptions?e.pollAttachment={choices:u(this,ue,"f").pollOptions}:u(this,ue,"f").imageBlobId?e.imageAttachment={encryptedBlobId:u(this,ue,"f").imageBlobId}:u(this,ue,"f").sharedPostId&&(e.sharedPostAttachment={postId:u(this,ue,"f").sharedPostId}),u(this,ue,"f").accessRestrictions&&typeof u(this,ue,"f").accessRestrictions=="number"){let i=u(this,ue,"f").accessRestrictions===1?"RESTRICTION_TYPE_EVERYONE":"RESTRICTION_TYPE_SPONSORS_ONLY";e.accessRestrictions={restriction:i}}return u(this,ue,"f").botguardResponse&&(e.botguardResponse=u(this,ue,"f").botguardResponse),e}};r(Bp,"CreateCommentEndpoint");cg=new WeakMap,ue=new WeakMap;Bp.type="CreateCommentEndpoint";var x0=Bp;var lg,Le,Yp=class extends n{constructor(e){super(),lg.set(this,"playlist/create"),Le.set(this,void 0),I(this,Le,e,"f")}getApiPath(){return u(this,lg,"f")}buildRequest(){let e={};return u(this,Le,"f").title&&(e.title=u(this,Le,"f").title),u(this,Le,"f").privacyStatus&&(e.privacyStatus=u(this,Le,"f").privacyStatus),u(this,Le,"f").description&&(e.description=u(this,Le,"f").description),u(this,Le,"f").videoIds&&(e.videoIds=u(this,Le,"f").videoIds),u(this,Le,"f").params&&(e.params=u(this,Le,"f").params),u(this,Le,"f").sourcePlaylistId&&(e.sourcePlaylistId=u(this,Le,"f").sourcePlaylistId),e}};r(Yp,"CreatePlaylistServiceEndpoint");lg=new WeakMap,Le=new WeakMap;Yp.type="CreatePlaylistServiceEndpoint";var y0=Yp;var ug,Vp,Up=class extends n{constructor(e){super(),ug.set(this,"playlist/delete"),Vp.set(this,void 0),I(this,Vp,e,"f")}getApiPath(){return u(this,ug,"f")}buildRequest(){let e={};return u(this,Vp,"f").playlistId&&(e.playlistId=u(this,Vp,"f").sourcePlaylistId),e}};r(Up,"DeletePlaylistEndpoint");ug=new WeakMap,Vp=new WeakMap;Up.type="DeletePlaylistEndpoint";var b0=Up;var fg,Qt,Fp=class extends n{constructor(e){super(),fg.set(this,"feedback"),Qt.set(this,void 0),I(this,Qt,e,"f")}getApiPath(){return u(this,fg,"f")}buildRequest(){let e={};return u(this,Qt,"f").feedbackToken&&(e.feedbackTokens=[u(this,Qt,"f").feedbackToken]),u(this,Qt,"f").cpn&&(e.feedbackContext={cpn:u(this,Qt,"f").cpn}),e.isFeedbackTokenUnencrypted=!!u(this,Qt,"f").isFeedbackTokenUnencrypted,e.shouldMerge=!!u(this,Qt,"f").shouldMerge,e}};r(Fp,"FeedbackEndpoint");fg=new WeakMap,Qt=new WeakMap;Fp.type="FeedbackEndpoint";var g0=Fp;var mg,ne,Wp=class extends n{constructor(e){super(),mg.set(this,"account/accounts_list"),ne.set(this,void 0),I(this,ne,e,"f")}getApiPath(){return u(this,mg,"f")}buildRequest(){let e={};return u(this,ne,"f").requestType&&(e.requestType=u(this,ne,"f").requestType,(u(this,ne,"f").requestType==="ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER"||u(this,ne,"f").requestType==="ACCOUNTS_LIST_REQUEST_TYPE_IDENTITY_PROMPT")&&u(this,ne,"f").nextUrl&&(e.nextNavendpoint={urlEndpoint:{url:u(this,ne,"f").nextUrl}})),u(this,ne,"f").channelSwitcherQuery&&(e.channelSwitcherQuery=u(this,ne,"f").channelSwitcherQuery),u(this,ne,"f").triggerChannelCreation&&(e.triggerChannelCreation=u(this,ne,"f").triggerChannelCreation),u(this,ne,"f").contentOwnerConfig&&u(this,ne,"f").contentOwnerConfig.externalContentOwnerId&&(e.contentOwnerConfig=u(this,ne,"f").contentOwnerConfig),u(this,ne,"f").obfuscatedSelectedGaiaId&&(e.obfuscatedSelectedGaiaId=u(this,ne,"f").obfuscatedSelectedGaiaId),u(this,ne,"f").selectedSerializedDelegationContext&&(e.selectedSerializedDelegationContext=u(this,ne,"f").selectedSerializedDelegationContext),u(this,ne,"f").callCircumstance&&(e.callCircumstance=u(this,ne,"f").callCircumstance),e}};r(Wp,"GetAccountsListInnertubeEndpoint");mg=new WeakMap,ne=new WeakMap;Wp.type="GetAccountsListInnertubeEndpoint";var w0=Wp;var Gp=class extends n{constructor(e){super(),this.panel_identifier=e.panelIdentifier}};r(Gp,"HideEngagementPanelEndpoint");Gp.type="HideEngagementPanelEndpoint";var T0=Gp;var hg,dg,_g,wt,jp=class extends n{constructor(e){super(),hg.set(this,"like/like"),dg.set(this,"like/dislike"),_g.set(this,"like/removelike"),wt.set(this,void 0),I(this,wt,e,"f")}getApiPath(){return u(this,wt,"f").status==="DISLIKE"?u(this,dg,"f"):u(this,wt,"f").status==="INDIFFERENT"?u(this,_g,"f"):u(this,hg,"f")}buildRequest(){let e={};u(this,wt,"f").target&&(e.target=u(this,wt,"f").target);let i=this.getParams();return i&&(e.params=i),e}getParams(){switch(u(this,wt,"f").status){case"LIKE":return u(this,wt,"f").likeParams;case"DISLIKE":return u(this,wt,"f").dislikeParams;case"INDIFFERENT":return u(this,wt,"f").removeLikeParams;default:return}}};r(jp,"LikeEndpoint");hg=new WeakMap,dg=new WeakMap,_g=new WeakMap,wt=new WeakMap;jp.type="LikeEndpoint";var v0=jp;var xg,Hp,$p=class extends n{constructor(e){super(),xg.set(this,"live_chat/get_item_context_menu"),Hp.set(this,void 0),I(this,Hp,e,"f")}getApiPath(){return u(this,xg,"f")}buildRequest(){let e={};return u(this,Hp,"f").params&&(e.params=u(this,Hp,"f").params),e}};r($p,"LiveChatItemContextMenuEndpoint");xg=new WeakMap,Hp=new WeakMap;$p.type="LiveChatItemContextMenuEndpoint";var I0=$p;var yg,cr,Kp=class extends n{constructor(e){super(),yg.set(this,"notification/modify_channel_preference"),cr.set(this,void 0),I(this,cr,e,"f")}getApiPath(){return u(this,yg,"f")}buildRequest(){let e={};return u(this,cr,"f").params&&(e.params=u(this,cr,"f").params),u(this,cr,"f").secondaryParams&&(e.secondaryParams=u(this,cr,"f").secondaryParams),e}};r(Kp,"ModifyChannelNotificationPreferenceEndpoint");yg=new WeakMap,cr=new WeakMap;Kp.type="ModifyChannelNotificationPreferenceEndpoint";var S0=Kp;var bg,lr,qp=class extends n{constructor(e){super(),bg.set(this,"comment/perform_comment_action"),lr.set(this,void 0),I(this,lr,e,"f")}getApiPath(){return u(this,bg,"f")}buildRequest(){let e={};return u(this,lr,"f").actions&&(e.actions=u(this,lr,"f").actions),u(this,lr,"f").action&&(e.actions=[u(this,lr,"f").action]),e}};r(qp,"PerformCommentActionEndpoint");bg=new WeakMap,lr=new WeakMap;qp.type="PerformCommentActionEndpoint";var E0=qp;var gg,Jt,zp=class extends n{constructor(e){super(),gg.set(this,"browse/edit_playlist"),Jt.set(this,void 0),I(this,Jt,e,"f")}getApiPath(){return u(this,gg,"f")}buildRequest(){let e={};return u(this,Jt,"f").actions&&(e.actions=u(this,Jt,"f").actions),u(this,Jt,"f").playlistId&&(e.playlistId=u(this,Jt,"f").playlistId),u(this,Jt,"f").params&&(e.params=u(this,Jt,"f").params),e}};r(zp,"PlaylistEditEndpoint");gg=new WeakMap,Jt=new WeakMap;zp.type="PlaylistEditEndpoint";var k0=zp;var wg,ce,Xp=class extends n{constructor(e){super(),wg.set(this,"player"),ce.set(this,void 0),I(this,ce,e,"f")}getApiPath(){return u(this,wg,"f")}buildRequest(){let e={};return u(this,ce,"f").videoId&&(e.videoId=u(this,ce,"f").videoId),u(this,ce,"f").playlistId&&(e.playlistId=u(this,ce,"f").playlistId),(u(this,ce,"f").index!==void 0||u(this,ce,"f").playlistIndex!==void 0)&&(e.playlistIndex=u(this,ce,"f").index||u(this,ce,"f").playlistIndex),(u(this,ce,"f").playerParams||u(this,ce,"f").params)&&(e.params=u(this,ce,"f").playerParams||u(this,ce,"f").params),u(this,ce,"f").startTimeSeconds&&(e.startTimeSecs=u(this,ce,"f").startTimeSeconds),u(this,ce,"f").overrideMutedAtStart&&(e.overrideMutedAtStart=u(this,ce,"f").overrideMutedAtStart),e.racyCheckOk=!!u(this,ce,"f").racyCheckOk,e.contentCheckOk=!!u(this,ce,"f").contentCheckOk,e}};r(Xp,"WatchEndpoint");wg=new WeakMap,ce=new WeakMap;Xp.type="WatchEndpoint";var px=Xp;var Qp=class extends px{constructor(e){super(e)}};r(Qp,"PrefetchWatchCommand");Qp.type="PrefetchWatchCommand";var C0=Qp;var Tg,ke,Jp=class extends n{constructor(e){super(),Tg.set(this,"reel/reel_item_watch"),ke.set(this,void 0),I(this,ke,e,"f")}getApiPath(){return u(this,Tg,"f")}buildRequest(){let e={};return u(this,ke,"f").videoId&&(e.playerRequest={videoId:u(this,ke,"f").videoId}),e.playerRequest&&(u(this,ke,"f").playerParams&&(e.playerRequest.params=u(this,ke,"f").playerParams),u(this,ke,"f").racyCheckOk&&(e.playerRequest.racyCheckOk=!!u(this,ke,"f").racyCheckOk),u(this,ke,"f").contentCheckOk&&(e.playerRequest.contentCheckOk=!!u(this,ke,"f").contentCheckOk)),u(this,ke,"f").params&&(e.params=u(this,ke,"f").params),u(this,ke,"f").inputType&&(e.inputType=u(this,ke,"f").inputType),e.disablePlayerResponse=!!u(this,ke,"f").disablePlayerResponse,e}};r(Jp,"ReelWatchEndpoint");Tg=new WeakMap,ke=new WeakMap;Jp.type="ReelWatchEndpoint";var P0=Jp;var vg,Tt,Zp=class extends n{constructor(e){super(),vg.set(this,"search"),Tt.set(this,void 0),I(this,Tt,e,"f")}getApiPath(){return u(this,vg,"f")}buildRequest(){let e={};return u(this,Tt,"f").query&&(e.query=u(this,Tt,"f").query),u(this,Tt,"f").params&&(e.params=u(this,Tt,"f").params),u(this,Tt,"f").webSearchboxStatsUrl&&(e.webSearchboxStatsUrl=u(this,Tt,"f").webSearchboxStatsUrl),u(this,Tt,"f").suggestStats&&(e.suggestStats=u(this,Tt,"f").suggestStats),e}};r(Zp,"SearchEndpoint");vg=new WeakMap,Tt=new WeakMap;Zp.type="SearchEndpoint";var N0=Zp;var Ig,ur,ec=class extends n{constructor(e){super(),Ig.set(this,"share/get_share_panel"),ur.set(this,void 0),I(this,ur,e,"f")}getApiPath(){return u(this,Ig,"f")}buildRequest(){let e={};return u(this,ur,"f").serializedShareEntity&&(e.serializedSharedEntity=u(this,ur,"f").serializedShareEntity),u(this,ur,"f").clientParams&&(e.clientParams=u(this,ur,"f").clientParams),e}};r(ec,"ShareEntityServiceEndpoint");Ig=new WeakMap,ur=new WeakMap;ec.type="ShareEntityServiceEndpoint";var Zr=ec;var tc=class extends Zr{constructor(e){super(e)}};r(tc,"ShareEndpoint");tc.type="ShareEndpoint";var A0=tc;var ic=class extends Zr{constructor(e){super(e)}};r(ic,"ShareEntityEndpoint");ic.type="ShareEntityEndpoint";var R0=ic;var rc=class extends n{constructor(e){super(),this.panel_identifier=e.panelIdentifier,this.source_panel_identifier=e.sourcePanelIdentifier}};r(rc,"ShowEngagementPanelEndpoint");rc.type="ShowEngagementPanelEndpoint";var M0=rc;var sc=class extends n{constructor(e){super(),Array.isArray(e.actions)&&(this.actions=c.parseArray(e.actions.map(i=>(delete i.clickTrackingParams,i)))),this.signal=e.signal}};r(sc,"SignalServiceEndpoint");sc.type="SignalServiceEndpoint";var L0=sc;var Sg,Je,oc=class extends n{constructor(e){super(),Sg.set(this,"subscription/subscribe"),Je.set(this,void 0),I(this,Je,e,"f")}getApiPath(){return u(this,Sg,"f")}buildRequest(){let e={};return u(this,Je,"f").channelIds&&(e.channelIds=u(this,Je,"f").channelIds),u(this,Je,"f").siloName&&(e.siloName=u(this,Je,"f").siloName),u(this,Je,"f").params&&(e.params=u(this,Je,"f").params),u(this,Je,"f").botguardResponse&&(e.botguardResponse=u(this,Je,"f").botguardResponse),u(this,Je,"f").feature&&(e.clientFeature=u(this,Je,"f").feature),e}};r(oc,"SubscribeEndpoint");Sg=new WeakMap,Je=new WeakMap;oc.type="SubscribeEndpoint";var O0=oc;var Eg,Zt,nc=class extends n{constructor(e){super(),Eg.set(this,"subscription/unsubscribe"),Zt.set(this,void 0),I(this,Zt,e,"f")}getApiPath(){return u(this,Eg,"f")}buildRequest(){let e={};return u(this,Zt,"f").channelIds&&(e.channelIds=u(this,Zt,"f").channelIds),u(this,Zt,"f").siloName&&(e.siloName=u(this,Zt,"f").siloName),u(this,Zt,"f").params&&(e.params=u(this,Zt,"f").params),e}};r(nc,"UnsubscribeEndpoint");Eg=new WeakMap,Zt=new WeakMap;nc.type="UnsubscribeEndpoint";var D0=nc;var kg,ve,ac=class extends n{constructor(e){super(),kg.set(this,"next"),ve.set(this,void 0),I(this,ve,e,"f")}getApiPath(){return u(this,kg,"f")}buildRequest(){let e={};return u(this,ve,"f").videoId&&(e.videoId=u(this,ve,"f").videoId),u(this,ve,"f").playlistId&&(e.playlistId=u(this,ve,"f").playlistId),(u(this,ve,"f").index!==void 0||u(this,ve,"f").playlistIndex!==void 0)&&(e.playlistIndex=u(this,ve,"f").index||u(this,ve,"f").playlistIndex),(u(this,ve,"f").playerParams||u(this,ve,"f").params)&&(e.params=u(this,ve,"f").playerParams||u(this,ve,"f").params),e.racyCheckOk=!!u(this,ve,"f").racyCheckOk,e.contentCheckOk=!!u(this,ve,"f").contentCheckOk,e}};r(ac,"WatchNextEndpoint");kg=new WeakMap,ve=new WeakMap;ac.type="WatchNextEndpoint";var B0=ac;var pc=class extends n{constructor(e){super(),this.elements=c.parseArray(e.elements),this.start_ms=e.startMs}};r(pc,"Endscreen");pc.type="Endscreen";var cx=pc;var cc=class extends n{constructor(e){super(),this.style=e.style,this.title=new p(e.title),this.endpoint=new d(e.endpoint),Reflect.has(e,"image")&&(this.image=y.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=y.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new p(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new p(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=c.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new p(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};r(cc,"EndscreenElement");cc.type="EndscreenElement";var Y0=cc;var lc=class extends n{constructor(e){super(),this.id=e.playlistId,this.title=new p(e.title),this.author=new p(e.longBylineText),this.endpoint=new d(e.navigationEndpoint),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new p(e.videoCountText)}};r(lc,"EndScreenPlaylist");lc.type="EndScreenPlaylist";var lx=lc;var uc=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new p(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new P(e.shortBylineText,e.ownerBadges),this.endpoint=new d(e.navigationEndpoint),this.short_view_count=new p(e.shortViewCountText),this.badges=c.parseArray(e.badges),this.duration={text:new p(e.lengthText).toString(),seconds:e.lengthInSeconds}}};r(uc,"EndScreenVideo");uc.type="EndScreenVideo";var ux=uc;var fc=class extends n{constructor(e){super(),this.disclaimer=new p(e.disclaimer),this.info_icon={icon_type:e.infoIcon.iconType},this.usage_scenario=e.usageScenario}};r(fc,"EomSettingsDisclaimer");fc.type="EomSettingsDisclaimer";var V0=fc;var mc=class extends n{constructor(e){super(),this.title=e.title,this.endpoint=new d(e.endpoint),this.selected=e.selected,this.content=c.parseItem(e.content)}};r(mc,"ExpandableTab");mc.type="ExpandableTab";var es=mc;var hc=class extends n{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};r(hc,"ExpandedShelfContents");hc.type="ExpandedShelfContents";var U0=hc;var dc=class extends n{constructor(e){super(),this.dialog_message=new p(e.dialogMessage),this.confirm_label=new p(e.confirmLabel)}};r(dc,"FancyDismissibleDialog");dc.type="FancyDismissibleDialog";var F0=dc;var _c=class extends n{constructor(e){super(),this.contents=c.parseArray(e.contents,je)}};r(_c,"FeedFilterChipBar");_c.type="FeedFilterChipBar";var vt=_c;var xc=class extends n{constructor(e){super(),this.title=new p(e.title),this.subtitle=new p(e.subtitle),this.endpoint=new d(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};r(xc,"FeedNudge");xc.type="FeedNudge";var W0=xc;var yc=class extends n{constructor(e){super(),this.title=new p(e.title)}};r(yc,"FeedTabbedHeader");yc.type="FeedTabbedHeader";var fx=yc;var bc=class extends n{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:c.parseArray(i.actions,[Te,yt])})),this.style=e.style}};r(bc,"FlexibleActionsView");bc.type="FlexibleActionsView";var mx=bc;var gc=class extends n{constructor(e){super(),this.title=new p(e.title),this.box_art=y.fromResponse(e.boxArt),this.box_art_overlay_text=new p(e.boxArtOverlayText),this.endpoint=new d(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};r(gc,"GameDetails");gc.type="GameDetails";var G0=gc;var wc=class extends n{constructor(e){var i,s,o;super(),this.items=c.parseArray(e.items),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||null}get contents(){return this.items}};r(wc,"Grid");wc.type="Grid";var j0=wc;var Tc=class extends n{constructor(e){super(),this.id=e.channelId,this.author=new P({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new p(e.subscriberCountText),this.video_count=new p(e.videoCountText),this.endpoint=new d(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton)}};r(Tc,"GridChannel");Tc.type="GridChannel";var hx=Tc;var vc=class extends n{constructor(e){super(),this.title=new p(e.title)}};r(vc,"GridHeader");vc.type="GridHeader";var H0=vc;var Ic=class extends n{constructor(e){var i,s;super(),this.id=e.playlistId,this.title=new p(e.title),this.author=(i=e.shortBylineText)!=null&&i.simpleText?new p(e.shortBylineText):(s=e.longBylineText)!=null&&s.simpleText?new p(e.longBylineText):null,this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new p(e.videoCountText),this.video_count_short=new p(e.videoCountShortText),this.endpoint=new d(e.navigationEndpoint),this.secondary_endpoint=new d(e.secondaryNavigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};r(Ic,"GridMix");Ic.type="GridMix";var $0=Ic;var Sc=class extends n{constructor(e){var s;super();let i=(s=e.thumbnailOverlays.find(o=>o.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:s.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new p(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.duration=e.lengthText?new p(e.lengthText):i!=null&&i.text?new p(i.text):null,this.endpoint=new d(e.navigationEndpoint),this.badges=c.parseArray(e.badges,Ge),this.metadata=new p(e.metadata),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};r(Sc,"GridMovie");Sc.type="GridMovie";var K0=Sc;var Ec=class extends n{constructor(e){var i;super(),this.id=e.playlistId,this.title=new p(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new P(e.shortBylineText,e.ownerBadges)),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new d(e.navigationEndpoint),this.view_playlist=new p(e.viewPlaylistText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)==null?void 0:i.map(s=>y.fromResponse(s)))||[])||null,this.video_count=new p(e.thumbnailText),this.video_count_short=new p(e.videoCountShortText)}};r(Ec,"GridPlaylist");Ec.type="GridPlaylist";var dx=Ec;var kc=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(kc,"ShowCustomThumbnail");kc.type="ShowCustomThumbnail";var _x=kc;var Cc=class extends n{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new p(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};r(Cc,"ThumbnailOverlayBottomPanel");Cc.type="ThumbnailOverlayBottomPanel";var xx=Cc;var Pc=class extends n{constructor(e){super(),this.title=new p(e.title),this.thumbnail_renderer=q(e.thumbnailRenderer,_x),this.endpoint=new d(e.navigationEndpoint),this.long_byline_text=new p(e.longBylineText),this.thumbnail_overlays=Ce(e.thumbnailOverlays,xx),this.author=new P(e.shortBylineText,void 0)}};r(Pc,"GridShow");Pc.type="GridShow";var q0=Pc;var Nc=class extends n{constructor(e){var s,o;super();let i=(s=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:s.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new p(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.rich_thumbnail=c.parseItem(e.richThumbnail),this.published=new p(e.publishedTimeText),this.duration=e.lengthText?new p(e.lengthText):i!=null&&i.text?new p(i.text):null,this.author=e.shortBylineText&&new P(e.shortBylineText,e.ownerBadges),this.views=new p(e.viewCountText),this.short_view_count=new p(e.shortViewCountText),this.endpoint=new d(e.navigationEndpoint),this.menu=c.parseItem(e.menu,R),Reflect.has(e,"buttons")&&(this.buttons=c.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new p(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!((o=e.upcomingEventData)!=null&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};r(Nc,"GridVideo");Nc.type="GridVideo";var yx=Nc;var Ac=class extends n{constructor(e){super(),this.title=new p(e.formattedTitle),this.endpoint=new d(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=y.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};r(Ac,"GuideEntry");Ac.type="GuideEntry";var fr=Ac;var Rc=class extends n{constructor(e){super(),this.expander_item=q(e.expanderItem,fr),this.collapser_item=q(e.collapserItem,fr),this.expandable_items=Ce(e.expandableItems)}};r(Rc,"GuideCollapsibleEntry");Rc.type="GuideCollapsibleEntry";var z0=Rc;var Mc=class extends n{constructor(e){super(),this.header_entry=q(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Ce(e.sectionItems)}};r(Mc,"GuideCollapsibleSectionEntry");Mc.type="GuideCollapsibleSectionEntry";var X0=Mc;var Lc=class extends fr{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};r(Lc,"GuideDownloadsEntry");Lc.type="GuideDownloadsEntry";var Q0=Lc;var Oc=class extends n{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new p(e.formattedTitle)),this.items=Ce(e.items)}};r(Oc,"GuideSection");Oc.type="GuideSection";var ts=Oc;var Dc=class extends ts{};r(Dc,"GuideSubscriptionsSection");Dc.type="GuideSubscriptionsSection";var bx=Dc;var Bc=class extends n{constructor(e){super(),this.hashtag=new p(e.hashtag),this.hashtag_info=new p(e.hashtagInfoText)}};r(Bc,"HashtagHeader");Bc.type="HashtagHeader";var gx=Bc;var Yc=class extends n{constructor(e){super(),this.hashtag=new p(e.hashtag),this.hashtag_info_text=new p(e.hashtagInfoText),this.hashtag_thumbnail=y.fromResponse(e.hashtagThumbnail),this.endpoint=new d(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new p(e.hashtagVideoCount),this.hashtag_channel_count=new p(e.hashtagChannelCount)}};r(Yc,"HashtagTile");Yc.type="HashtagTile";var J0=Yc;var Vc=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new d(e.onTap)}};r(Vc,"HeroPlaylistThumbnail");Vc.type="HeroPlaylistThumbnail";var Z0=Vc;var Uc=class extends n{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:y.fromResponse(e.thumbnail.image),endpoint:new d(e.thumbnail.onTap),on_long_press_endpoint:new d(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:y.fromResponse(e.backgroundImage.image),gradient_image:y.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new d(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new d(e.textOnTap)}};r(Uc,"Panel");Uc.type="Panel";var Fc=class extends n{constructor(e){super(),this.panels=G(e.highlightsCarousel.panels.map(i=>new Uc(i)))}};r(Fc,"HighlightsCarousel");Fc.type="HighlightsCarousel";var ev=Fc;var Wc=class extends n{constructor(e){super(),this.suggestion=new p(e.suggestion),this.endpoint=new d(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new d(e.serviceEndpoint))}};r(Wc,"SearchSuggestion");Wc.type="SearchSuggestion";var wx=Wc;var Gc=class extends wx{constructor(e){super(e)}};r(Gc,"HistorySuggestion");Gc.type="HistorySuggestion";var tv=Gc;var jc=class extends n{constructor(e){super(),this.items=c.parseArray(e.items),this.previous_button=c.parseItem(e.previousButton,v),this.next_button=c.parseItem(e.nextButton,v)}get contents(){return this.items}};r(jc,"HorizontalMovieList");jc.type="HorizontalMovieList";var iv=jc;var Hc=class extends n{constructor(e){var i;super(),this.icon_type=(i=e.icon)==null?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new p(e.tooltip).toString()),this.endpoint=new d(e.navigationEndpoint)}};r(Hc,"IconLink");Hc.type="IconLink";var Tx=Hc;var $c=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};r($c,"ImageBannerView");$c.type="ImageBannerView";var vx=$c;var Kc=class extends n{constructor(e){super(),this.including_results_for=new p(e.includingResultsFor),this.corrected_query=new p(e.correctedQuery),this.corrected_query_endpoint=new d(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new p(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new p(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new d(e.originalQueryEndpoint):void 0}};r(Kc,"IncludingResultsFor");Kc.type="IncludingResultsFor";var rv=Kc;var qc=class extends n{constructor(e){super(),this.title=new p(e.title),this.source=new p(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(i=>new p(i))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(i=>p.fromAttributed(i))),this.thumbnail=y.fromResponse(e.thumbnail),this.source_endpoint=new d(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};r(qc,"InfoPanelContent");qc.type="InfoPanelContent";var Ix=qc;var zc=class extends n{constructor(e){var i;super(),this.title=new p(e.title),this.menu=c.parseItem(e.menu,R),this.content=c.parseItem(e.content,Ix),e.headerEndpoint&&(this.header_endpoint=new d(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType)}};r(zc,"InfoPanelContainer");zc.type="InfoPanelContainer";var Sx=zc;var Xc=class extends n{constructor(e){super(),this.header_type=e.type,this.title=new p(e.title),this.description=new p(e.description),this.metadata=new p(e.metadata),this.badges=c.parseArray(e.badges,Ge),this.box_art=y.fromResponse(e.boxArt),this.banner=y.fromResponse(e.banner),this.buttons=c.parseArray(e.buttons,[xe,v]),this.auto_generated=new p(e.autoGenerated)}};r(Xc,"InteractiveTabbedHeader");Xc.type="InteractiveTabbedHeader";var Ex=Xc;var Qc=class extends n{constructor(e){super(),this.title=new p(e.title)}};r(Qc,"ItemSectionHeader");Qc.type="ItemSectionHeader";var is=Qc;var Jc=class extends n{constructor(e){super(),this.title=new p(e.title),this.selected=!!e.selected,this.endpoint=new d(e.endpoint)}};r(Jc,"ItemSectionTab");Jc.type="Tab";var kx=Jc;var Zc=class extends n{constructor(e){super(),this.title=new p(e.title),this.tabs=c.parseArray(e.tabs,kx),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};r(Zc,"ItemSectionTabbedHeader");Zc.type="ItemSectionTabbedHeader";var rs=Zc;var el=class extends n{constructor(e){super(),this.filter_menu=c.parseItem(e.filterMenu,mr.SortFilterSubMenu)}};r(el,"SortFilterHeader");el.type="SortFilterHeader";var Cx=el;var tl=class extends n{constructor(e){var i,s,o;super(),this.header=c.parseItem(e.header,[Si,is,rs,Cx,vt]),this.contents=c.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(o=(s=(i=e.continuations)==null?void 0:i.at(0))==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)}};r(tl,"ItemSection");tl.type="ItemSection";var It=tl;var il=class extends n{constructor(e){var i,s;super(),this.header=c.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(s=(i=e.continuations[0])==null?void 0:i.reloadContinuationData)==null?void 0:s.continuation,this.client_messages={reconnect_message:new p(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new p(e.clientMessages.unableToReconnectMessage),fatal_error:new p(e.clientMessages.fatalError),reconnected_message:new p(e.clientMessages.reconnectedMessage),generic_error:new p(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};r(il,"LiveChat");il.type="LiveChat";var Px=il;var rl=class extends n{constructor(e){super(),this.text=new p(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=c.parseItem(e.contextMenuButton,v)}};r(rl,"LiveChatBannerHeader");rl.type="LiveChatBannerHeader";var Nx=rl;var sl=class extends n{constructor(e){super(),this.header=c.parseItem(e.header,Nx),this.contents=c.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};r(sl,"LiveChatBanner");sl.type="LiveChatBanner";var Ax=sl;var ol=class extends n{constructor(e){super(),this.banner=c.parseItem(e.bannerRenderer,Ax)}};r(ol,"AddBannerToLiveChatCommand");ol.type="AddBannerToLiveChatCommand";var sv=ol;var nl=class extends n{constructor(e){super(),this.item=c.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};r(nl,"AddChatItemAction");nl.type="AddChatItemAction";var Rx=nl;var al=class extends n{constructor(e){super(),this.item=c.parseItem(e.item),this.duration_sec=e.durationSec}};r(al,"AddLiveChatTickerItemAction");al.type="AddLiveChatTickerItemAction";var ov=al;var pl=class extends n{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};r(pl,"DimChatItemAction");pl.type="DimChatItemAction";var nv=pl;var cl=class extends n{constructor(e){super(),this.menu_endpoint=new d(e.contextMenuEndpoint),this.moderation_buttons=c.parseArray(e.moderationButtons,v),this.auto_moderated_item=c.parseItem(e.autoModeratedItem),this.header_text=new p(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};r(cl,"LiveChatAutoModMessage");cl.type="LiveChatAutoModMessage";var av=cl;var ll=class extends n{constructor(e){super(),this.id=e.liveChatSummaryId,this.chat_summary=new p(e.chatSummary),this.icon_type=e.icon.iconType,this.like_feedback_button=c.parseItem(e.likeFeedbackButton,yt),this.dislike_feedback_button=c.parseItem(e.dislikeFeedbackButton,yt)}};r(ll,"LiveChatBannerChatSummary");ll.type="LiveChatBannerChatSummary";var pv=ll;var ul=class extends n{constructor(e){super(),this.poll_question=new p(e.pollQuestion),this.author_photo=y.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new p(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=c.parseItem(e.contextMenuButton,v)}};r(ul,"LiveChatBannerPoll");ul.type="LiveChatBannerPoll";var cv=ul;var fl=class extends n{constructor(e){super(),this.banner_message=new p(e.bannerMessage),this.author_photo=y.fromResponse(e.authorPhoto),this.inline_action_button=c.parseItem(e.inlineActionButton,v),this.context_menu_button=c.parseItem(e.contextMenuButton,v)}};r(fl,"LiveChatBannerRedirect");fl.type="LiveChatBannerRedirect";var lv=fl;var ml=class extends n{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new p(e.headerSubtext),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new d(e.contextMenuEndpoint)}};r(ml,"LiveChatMembershipItem");ml.type="LiveChatMembershipItem";var uv=ml;var hl=class extends n{constructor(e){super(),this.id=e.id,this.icon_type=e.icon.iconType,this.text=new p(e.text),this.subtext=new p(e.subtext),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,this.timestamp_text=new p(e.timestampText)}};r(hl,"LiveChatModeChangeMessage");hl.type="LiveChatModeChangeMessage";var fv=hl;var dl=class extends n{constructor(e){super(),this.message=new p(e.message),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new p(e.purchaseAmountText).toString(),this.menu_endpoint=new d(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new p(e.timestampText).toString(),this.id=e.id}};r(dl,"LiveChatPaidMessage");dl.type="LiveChatPaidMessage";var mv=dl;var _l=class extends n{constructor(e){super(),this.id=e.id,this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=y.fromResponse(e.sticker),this.purchase_amount=new p(e.purchaseAmountText).toString(),this.menu_endpoint=new d(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};r(_l,"LiveChatPaidSticker");_l.type="LiveChatPaidSticker";var hv=_l;var xl=class extends n{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};r(xl,"LiveChatPlaceholderItem");xl.type="LiveChatPlaceholderItem";var dv=xl;var yl=class extends n{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=c.parseItem(e.informationButton),this.endpoint=new d(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=y.fromResponse(e.authorPhoto),this.information_dialog=c.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new p(e.creatorCustomMessage)}};r(yl,"LiveChatProductItem");yl.type="LiveChatProductItem";var _v=yl;var bl=class extends n{constructor(e){super(),this.message=new p(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};r(bl,"LiveChatRestrictedParticipation");bl.type="LiveChatRestrictedParticipation";var xv=bl;var gl=class extends Ge{constructor(e){super(e),this.custom_thumbnail=y.fromResponse(e.customThumbnail)}};r(gl,"LiveChatAuthorBadge");gl.type="LiveChatAuthorBadge";var Mx=gl;var wl=class extends n{constructor(e){super(),this.author_name=new p(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.author_badges=c.parseArray(e.authorBadges,Mx),this.primary_text=new p(e.primaryText),this.menu_endpoint=new d(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.image=y.fromResponse(e.image)}};r(wl,"LiveChatSponsorshipsHeader");wl.type="LiveChatSponsorshipsHeader";var Lx=wl;var Tl=class extends n{constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.author_external_channel_id=e.authorExternalChannelId,this.header=c.parseItem(e.header,Lx)}};r(Tl,"LiveChatSponsorshipsGiftPurchaseAnnouncement");Tl.type="LiveChatSponsorshipsGiftPurchaseAnnouncement";var yv=Tl;var vl=class extends n{constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.timestamp_text=new p(e.timestampText),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.message=new p(e.message),this.menu_endpoint=new d(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}};r(vl,"LiveChatSponsorshipsGiftRedemptionAnnouncement");vl.type="LiveChatSponsorshipsGiftRedemptionAnnouncement";var bv=vl;var hr=class extends n{constructor(e){super(),this.message=new p(e.message),this.inline_action_buttons=c.parseArray(e.inlineActionButtons,v),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};r(hr,"LiveChatMessageBase");hr.type="LiveChatMessageBase";var Il=class extends hr{constructor(e){super(e),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new d(e.contextMenuEndpoint)}};r(Il,"LiveChatTextMessage");Il.type="LiveChatTextMessage";var gv=Il;var Sl=class extends n{constructor(e){var i,s;super(),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new p(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=c.parseItem((s=(i=e.showItemEndpoint)==null?void 0:i.showLiveChatItemEndpoint)==null?void 0:s.renderer),this.show_item_endpoint=new d(e.showItemEndpoint),this.id=e.id}};r(Sl,"LiveChatTickerPaidMessageItem");Sl.type="LiveChatTickerPaidMessageItem";var Ox=Sl;var El=class extends Ox{};r(El,"LiveChatTickerPaidStickerItem");El.type="LiveChatTickerPaidStickerItem";var wv=El;var kl=class extends n{constructor(e){super(),this.id=e.id,this.detail=new p(e.detailText),this.author=new P(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};r(kl,"LiveChatTickerSponsorItem");kl.type="LiveChatTickerSponsorItem";var Tv=kl;var Cl=class extends hr{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=c.parseItem(e.actionButton)}};r(Cl,"LiveChatViewerEngagementMessage");Cl.type="LiveChatViewerEngagementMessage";var vv=Cl;var Pl=class extends n{constructor(e){super(),this.poll_question=new p(e.pollQuestion),this.thumbnails=y.fromResponse(e.thumbnail),this.metadata=new p(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=c.parseItem(e.contextMenuButton,v)}};r(Pl,"PollHeader");Pl.type="PollHeader";var Iv=Pl;var Nl=class extends n{constructor(e){super(),this.id=e.id,this.contents=c.parse(e.contents),this.target_id=e.targetId}};r(Nl,"LiveChatActionPanel");Nl.type="LiveChatActionPanel";var Dx=Nl;var Al=class extends n{constructor(e){super(),this.deleted_state_message=new p(e.deletedStateMessage),this.target_item_id=e.targetItemId}};r(Al,"MarkChatItemAsDeletedAction");Al.type="MarkChatItemAsDeletedAction";var Sv=Al;var Rl=class extends n{constructor(e){super(),this.deleted_state_message=new p(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};r(Rl,"MarkChatItemsByAuthorAsDeletedAction");Rl.type="MarkChatItemsByAuthorAsDeletedAction";var Ev=Rl;var Ml=class extends n{constructor(e){super(),this.target_action_id=e.targetActionId}};r(Ml,"RemoveBannerForLiveChatCommand");Ml.type="RemoveBannerForLiveChatCommand";var kv=Ml;var Ll=class extends n{constructor(e){super(),this.target_item_id=e.targetItemId}};r(Ll,"RemoveChatItemAction");Ll.type="RemoveChatItemAction";var Cv=Ll;var Ol=class extends n{constructor(e){super(),this.external_channel_id=e.externalChannelId}};r(Ol,"RemoveChatItemByAuthorAction");Ol.type="RemoveChatItemByAuthorAction";var Pv=Ol;var Dl=class extends n{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=c.parseItem(e.replacementItem)}};r(Dl,"ReplaceChatItemAction");Dl.type="ReplaceChatItemAction";var Nv=Dl;var Bl=class extends n{constructor(e){var i;super(),this.actions=c.parseArray((i=e.actions)==null?void 0:i.map(s=>(delete s.clickTrackingParams,s))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};r(Bl,"ReplayChatItemAction");Bl.type="ReplayChatItemAction";var Av=Bl;var Yl=class extends n{constructor(e){super(),this.panel_to_show=c.parseItem(e.panelToShow,Dx)}};r(Yl,"ShowLiveChatActionPanelAction");Yl.type="ShowLiveChatActionPanelAction";var Rv=Yl;var Vl=class extends n{constructor(e){super(),this.dialog=c.parseItem(e.dialog)}};r(Vl,"ShowLiveChatDialogAction");Vl.type="ShowLiveChatDialogAction";var Mv=Vl;var Ul=class extends n{constructor(e){super(),this.tooltip=c.parseItem(e.tooltip)}};r(Ul,"ShowLiveChatTooltipCommand");Ul.type="ShowLiveChatTooltipCommand";var Lv=Ul;var Fl=class extends n{constructor(e){super(),this.date_text=new p(e.dateText).toString()}};r(Fl,"UpdateDateTextAction");Fl.type="UpdateDateTextAction";var Bx=Fl;var Wl=class extends n{constructor(e){super(),this.description=new p(e.description)}};r(Wl,"UpdateDescriptionAction");Wl.type="UpdateDescriptionAction";var Yx=Wl;var Gl=class extends n{constructor(e){super(),this.poll_to_update=c.parseItem(e.pollToUpdate)}};r(Gl,"UpdateLiveChatPollAction");Gl.type="UpdateLiveChatPollAction";var Ov=Gl;var jl=class extends n{constructor(e){super(),this.title=new p(e.title)}};r(jl,"UpdateTitleAction");jl.type="UpdateTitleAction";var Vx=jl;var Hl=class extends n{constructor(e){super(),this.default_text=new p(e.defaultText).toString(),this.toggled_text=new p(e.toggledText).toString(),this.button_id=e.buttonId}};r(Hl,"UpdateToggleButtonTextAction");Hl.type="UpdateToggleButtonTextAction";var Ux=Hl;var $l=class extends n{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new p(i.viewCount),this.extra_short_view_count=new p(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new p(i.unlabeledViewCountValue),this.is_live=i.isLive}};r($l,"UpdateViewershipAction");$l.type="UpdateViewershipAction";var Fx=$l;var Kl=class extends n{constructor(e){super(),this.confirm_button=c.parseItem(e.confirmButton,v),this.dialog_messages=e.dialogMessages.map(i=>new p(i))}};r(Kl,"LiveChatDialog");Kl.type="LiveChatDialog";var Dv=Kl;var ql=class extends n{constructor(e){super(),this.overflow_menu=c.parseItem(e.overflowMenu,R),this.collapse_button=c.parseItem(e.collapseButton,v),this.view_selector=c.parseItem(e.viewSelector,xt)}};r(ql,"LiveChatHeader");ql.type="LiveChatHeader";var Wx=ql;var zl=class extends n{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=c.parseItem(e.moreCommentsBelowButton,v)}};r(zl,"LiveChatItemList");zl.type="LiveChatItemList";var Gx=zl;var Xl=class extends n{constructor(e){super(),this.author_name=new p(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.send_button=c.parseItem(e.sendButton,v),this.target_id=e.targetId}};r(Xl,"LiveChatMessageInput");Xl.type="LiveChatMessageInput";var Bv=Xl;var Ql=class extends n{constructor(e){super(),this.name=new p(e.authorName),this.photo=y.fromResponse(e.authorPhoto),this.badges=c.parseArray(e.authorBadges)}};r(Ql,"LiveChatParticipant");Ql.type="LiveChatParticipant";var jx=Ql;var Jl=class extends n{constructor(e){super(),this.title=new p(e.title),this.participants=c.parseArray(e.participants,jx)}};r(Jl,"LiveChatParticipantsList");Jl.type="LiveChatParticipantsList";var Hx=Jl;var Zl=class extends n{constructor(e){super(),this.title=p.fromAttributed(e.title),this.metadata=c.parseItem(e.metadata,Xr),this.image=c.parseItem(e.image,Jr)}};r(Zl,"LockupMetadataView");Zl.type="LockupMetadataView";var $x=Zl;var eu=class extends n{constructor(e){super(),this.content_image=c.parseItem(e.contentImage,D_),this.metadata=c.parseItem(e.metadata,$x),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.on_tap_endpoint=new d(e.rendererContext.commandContext.onTap)}};r(eu,"LockupView");eu.type="LockupView";var Kx=eu;var tu=class extends v{constructor(e){super(e)}};r(tu,"MenuNavigationItem");tu.type="MenuNavigationItem";var qx=tu;var iu=class extends n{constructor(e){super(),this.items=c.parseArray(e.items,[qx,At])}};r(iu,"MenuPopup");iu.type="MenuPopup";var Yv=iu;var ru=class extends n{constructor(e){super(),this.items=c.parse(e.items)}get contents(){return this.items}};r(ru,"MultiPageMenuNotificationSection");ru.type="MultiPageMenuNotificationSection";var Vv=ru;var su=class extends n{constructor(e){super()}};r(su,"MusicMenuItemDivider");su.type="MusicMenuItemDivider";var zx=su;var ou=class extends n{constructor(e){super(),this.title=new p(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new d(e.selectedCommand)),this.selected=!!this.endpoint}};r(ou,"MusicMultiSelectMenuItem");ou.type="MusicMultiSelectMenuItem";var ss=ou;var nu=class extends n{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new p((i=e.title.musicMenuTitleRenderer)==null?void 0:i.primaryText)),this.options=c.parseArray(e.options,[ss,zx])}};r(nu,"MusicMultiSelectMenu");nu.type="MusicMultiSelectMenu";var Xx=nu;var au=class extends n{constructor(e){super(),this.title=new p(e.title),this.buttons=c.parseArray(e.buttons,v)}};r(au,"SimpleMenuHeader");au.type="SimpleMenuHeader";var Qx=au;var pu=class extends n{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new d(e.buttonCommand)}};r(pu,"MerchandiseItem");pu.type="MerchandiseItem";var Uv=pu;var cu=class extends n{constructor(e){super(),this.title=e.title,this.menu=c.parseItem(e.actionButton),this.items=c.parseArray(e.items)}get contents(){return this.items}};r(cu,"MerchandiseShelf");cu.type="MerchandiseShelf";var Jx=cu;var lu=class extends n{constructor(e){super(),this.title=new p(e.title),this.contents=e.contents.map(i=>new p(i))}};r(lu,"MetadataRow");lu.type="MetadataRow";var Fv=lu;var uu=class extends n{constructor(e){super(),this.rows=c.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};r(uu,"MetadataRowContainer");uu.type="MetadataRowContainer";var Zx=uu;var fu=class extends n{constructor(e){super(),this.content=new p(e.content),this.has_divider_line=e.hasDividerLine}};r(fu,"MetadataRowHeader");fu.type="MetadataRowHeader";var Wv=fu;var mu=class extends n{constructor(e){super(),this.section_list=c.parseItem(e)}};r(mu,"MetadataScreen");mu.type="MetadataScreen";var Gv=mu;var hu=class extends n{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=y.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};r(hu,"MicroformatData");hu.type="MicroformatData";var Ci=hu;var du=class extends Rt{constructor(e){super(e)}};r(du,"Mix");du.type="Mix";var jv=du;var _u=class extends n{constructor(e){super(),this.title=new p(e.title),this.content=new p(e.content),this.button=c.parseItem(e.button,v)}};r(_u,"ModalWithTitleAndButton");_u.type="ModalWithTitleAndButton";var Hv=_u;var xu=class extends n{constructor(e){var s,o,a;super();let i=((s=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))==null?void 0:s.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new p(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new p(e.descriptionSnippet)),this.top_metadata_items=new p(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new P(e.longBylineText,e.ownerBadges,(a=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:a.thumbnail),this.duration={text:e.lengthText?new p(e.lengthText).toString():new p(i).toString(),seconds:_e(e.lengthText?new p(e.lengthText).toString():new p(i).toString())},this.endpoint=new d(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=c.parseItem(e.menu,R)}};r(xu,"Movie");xu.type="Movie";var $v=xu;var yu=class extends n{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)==null?void 0:i.thumbnails.map(s=>new y(s)).sort((s,o)=>o.width-s.width)}};r(yu,"MovingThumbnail");yu.type="MovingThumbnail";var Kv=yu;var bu=class extends n{constructor(e){super(),this.title=new p(e.title)}};r(bu,"MusicCardShelfHeaderBasic");bu.type="MusicCardShelfHeaderBasic";var ey=bu;var gu=class extends n{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};r(gu,"MusicInlineBadge");gu.type="MusicInlineBadge";var os=gu;var wu=class extends n{constructor(e){var i,s;super(),this.endpoint=new d(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)==null?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(s=e.accessibilityPauseData.accessibilityData)==null?void 0:s.label),this.icon_color=e.iconColor}};r(wu,"MusicPlayButton");wu.type="MusicPlayButton";var ns=wu;var Tu=class extends n{constructor(e){super(),this.content=c.parseItem(e.content,ns),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};r(Tu,"MusicItemThumbnailOverlay");Tu.type="MusicItemThumbnailOverlay";var Mt=Tu;var vu=class extends n{constructor(e){super(),this.contents=y.fromResponse(e.thumbnail)}};r(vu,"MusicThumbnail");vu.type="MusicThumbnail";var Ie=vu;var Iu=class extends n{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,Ie),this.title=new p(e.title),this.subtitle=new p(e.subtitle),this.buttons=c.parseArray(e.buttons,v),this.menu=c.parseItem(e.menu,R),this.on_tap=new d(e.onTap),this.header=c.parseItem(e.header,ey),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=c.parseArray(e.subtitleBadges,os),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,Mt),Reflect.has(e,"contents")&&(this.contents=c.parseArray(e.contents))}};r(Iu,"MusicCardShelf");Iu.type="MusicCardShelf";var qv=Iu;var Su=class extends n{constructor(e){super(),this.title=new p(e.title),Reflect.has(e,"strapline")&&(this.strapline=new p(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,Ie)),Reflect.has(e,"moreContentButton")&&(this.more_content=c.parseItem(e.moreContentButton,v)),Reflect.has(e,"endIcons")&&(this.end_icons=c.parseArray(e.endIcons,Tx))}};r(Su,"MusicCarouselShelfBasicHeader");Su.type="MusicCarouselShelfBasicHeader";var ty=Su;var Eu=class extends n{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,Ie),this.overlay=c.parseItem(e.overlay,Mt),this.on_tap=new d(e.onTap),this.menu=c.parseItem(e.menu,R),this.subtitle=new p(e.subtitle),this.title=new p(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new p(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new p(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};r(Eu,"MusicMultiRowListItem");Eu.type="MusicMultiRowListItem";var iy=Eu;var ku=class extends n{constructor(e){super(),this.button_text=new p(e.buttonText).toString(),this.endpoint=new d(e.clickCommand)}};r(ku,"MusicNavigationButton");ku.type="MusicNavigationButton";var ry=ku;var Cu=class extends n{constructor(e){super(),this.title=new p(e.text),this.display_priority=e.displayPriority}};r(Cu,"MusicResponsiveListItemFixedColumn");Cu.type="musicResponsiveListItemFlexColumnRenderer";var sy=Cu;var Pu=class extends n{constructor(e){super(),this.title=new p(e.text),this.display_priority=e.displayPriority}};r(Pu,"MusicResponsiveListItemFlexColumn");Pu.type="MusicResponsiveListItemFlexColumn";var oy=Pu;var Ze,as,Cg,Qv,zv,Xv,Jv,Zv,eI,tI,iI,rI,Nu=class extends n{constructor(e){var s,o,a,l,f,m;super(),Ze.add(this),as.set(this,void 0),this.flex_columns=c.parseArray(e.flexColumns,oy),this.fixed_columns=c.parseArray(e.fixedColumns,sy),I(this,as,{video_id:((s=e==null?void 0:e.playlistItemData)==null?void 0:s.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)==null?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new d(e.navigationEndpoint));let i=(m=(f=(l=(a=this.endpoint)==null?void 0:a.payload)==null?void 0:l.browseEndpointContextSupportedConfigs)==null?void 0:f.browseEndpointContextMusicConfig)==null?void 0:m.pageType;switch(i||this.flex_columns.find(_=>{var b,T,w,S;return((S=(w=(T=(b=_.title.endpoint)==null?void 0:b.payload)==null?void 0:T.browseEndpointContextSupportedConfigs)==null?void 0:w.browseEndpointContextMusicConfig)==null?void 0:S.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(i="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),i){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",u(this,Ze,"m",iI).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",u(this,Ze,"m",rI).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",u(this,Ze,"m",Jv).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",u(this,Ze,"m",Zv).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",u(this,Ze,"m",eI).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",u(this,Ze,"m",tI).call(this);break;default:this.flex_columns[1]?u(this,Ze,"m",Qv).call(this):u(this,Ze,"m",Cg).call(this)}Reflect.has(e,"index")&&(this.index=new p(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,Ie)),Reflect.has(e,"badges")&&(this.badges=c.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu,R)),Reflect.has(e,"overlay")&&(this.overlay=c.parseItem(e.overlay,Mt))}get thumbnails(){var e;return((e=this.thumbnail)==null?void 0:e.contents)||[]}};r(Nu,"MusicResponsiveListItem");as=new WeakMap,Ze=new WeakSet,Cg=r(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),Qv=r(function(){var i,s,o,a,l,f,m;switch((m=(f=(l=(a=(o=(s=(i=this.flex_columns.at(0))==null?void 0:i.title.runs)==null?void 0:s.at(0))==null?void 0:o.endpoint)==null?void 0:a.payload)==null?void 0:l.watchEndpointMusicSupportedConfigs)==null?void 0:f.watchEndpointMusicConfig)==null?void 0:m.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",u(this,Ze,"m",Xv).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",u(this,Ze,"m",zv).call(this);break;default:u(this,Ze,"m",Cg).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),zv=r(function(){var o,a,l,f,m,x,_,b,T,w,S,E,C,k,U;this.id=u(this,as,"f").video_id||((a=(o=this.endpoint)==null?void 0:o.payload)==null?void 0:a.videoId),this.title=this.flex_columns.first().title.toString();let e=((m=(f=(l=this.flex_columns.at(1))==null?void 0:l.title.runs)==null?void 0:f.find(L=>/^\d+$/.test(L.text.replace(/:/g,""))))==null?void 0:m.text)||((_=(x=this.fixed_columns.first())==null?void 0:x.title)==null?void 0:_.toString());e&&(this.duration={text:e,seconds:_e(e)});let i=((T=(b=this.flex_columns.at(1))==null?void 0:b.title.runs)==null?void 0:T.find(L=>Oe(L)&&L.endpoint&&L.endpoint.payload.browseId.startsWith("MPR")))||((S=(w=this.flex_columns.at(2))==null?void 0:w.title.runs)==null?void 0:S.find(L=>Oe(L)&&L.endpoint&&L.endpoint.payload.browseId.startsWith("MPR")));i&&Oe(i)&&(this.album={id:(C=(E=i.endpoint)==null?void 0:E.payload)==null?void 0:C.browseId,name:i.text,endpoint:i.endpoint});let s=(U=(k=this.flex_columns.at(1))==null?void 0:k.title.runs)==null?void 0:U.filter(L=>Oe(L)&&L.endpoint&&L.endpoint.payload.browseId.startsWith("UC"));s&&(this.artists=s.map(L=>{var K,re;return{name:L.text,channel_id:Oe(L)?(re=(K=L.endpoint)==null?void 0:K.payload)==null?void 0:re.browseId:void 0,endpoint:Oe(L)?L.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),Xv=r(function(){var s,o,a,l,f,m,x,_,b,T;this.id=u(this,as,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(a=(o=(s=this.flex_columns.at(1))==null?void 0:s.title.runs)==null?void 0:o.find(w=>w.text.match(/(.*?) views/)))==null?void 0:a.toString();let e=(f=(l=this.flex_columns.at(1))==null?void 0:l.title.runs)==null?void 0:f.filter(w=>Oe(w)&&w.endpoint&&w.endpoint.payload.browseId.startsWith("UC"));e&&(this.authors=e.map(w=>{var S,E;return{name:w.text,channel_id:Oe(w)?(E=(S=w.endpoint)==null?void 0:S.payload)==null?void 0:E.browseId:void 0,endpoint:Oe(w)?w.endpoint:void 0}}));let i=((x=(m=this.flex_columns[1].title.runs)==null?void 0:m.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))==null?void 0:x.text)||((T=(b=(_=this.fixed_columns.first())==null?void 0:_.title.runs)==null?void 0:b.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))==null?void 0:T.text);i&&(this.duration={text:i,seconds:_e(i)})},"_MusicResponsiveListItem_parseVideo"),Jv=r(function(){var e,i,s,o,a,l;this.id=(i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(s=this.flex_columns.at(1))==null?void 0:s.title,this.subscribers=((l=(a=(o=this.subtitle)==null?void 0:o.runs)==null?void 0:a.find(f=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(f.text)))==null?void 0:l.text)||""},"_MusicResponsiveListItem_parseArtist"),Zv=r(function(){var e,i,s,o;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))==null?void 0:e.title,this.song_count=((o=(s=(i=this.subtitle)==null?void 0:i.runs)==null?void 0:s.find(a=>/^\d+(,\d+)? songs?$/i.test(a.text)))==null?void 0:o.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),eI=r(function(){var e,i;this.id=u(this,as,"f").video_id||((i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),tI=r(function(){var e,i;this.id=(i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.browseId,this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),iI=r(function(){var i,s,o,a,l,f,m,x,_;this.id=(s=(i=this.endpoint)==null?void 0:i.payload)==null?void 0:s.browseId,this.title=this.flex_columns.first().title.toString();let e=(a=(o=this.flex_columns.at(1))==null?void 0:o.title.runs)==null?void 0:a.find(b=>Oe(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));e&&Oe(e)&&(this.author={name:e.text,channel_id:(f=(l=e.endpoint)==null?void 0:l.payload)==null?void 0:f.browseId,endpoint:e.endpoint}),this.year=(_=(x=(m=this.flex_columns.at(1))==null?void 0:m.title.runs)==null?void 0:x.find(b=>/^[12][0-9]{3}$/.test(b.text)))==null?void 0:_.text},"_MusicResponsiveListItem_parseAlbum"),rI=r(function(){var s,o,a,l,f,m,x,_;this.id=(o=(s=this.endpoint)==null?void 0:s.payload)==null?void 0:o.browseId,this.title=this.flex_columns.first().title.toString();let e=(l=(a=this.flex_columns.at(1))==null?void 0:a.title.runs)==null?void 0:l.find(b=>b.text.match(/\d+ (song|songs)/));this.item_count=e?e.text:void 0;let i=(m=(f=this.flex_columns.at(1))==null?void 0:f.title.runs)==null?void 0:m.find(b=>Oe(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));i&&Oe(i)&&(this.author={name:i.text,channel_id:(_=(x=i.endpoint)==null?void 0:x.payload)==null?void 0:_.browseId,endpoint:i.endpoint})},"_MusicResponsiveListItem_parsePlaylist");Nu.type="MusicResponsiveListItem";var Pi=Nu;var Au=class extends n{constructor(e){var s,o,a,l,f,m,x,_,b,T,w,S,E,C,k,U,L,K,re,he,Y,te;switch(super(),this.title=new p(e.title),this.endpoint=new d(e.navigationEndpoint),this.id=((o=(s=this.endpoint)==null?void 0:s.payload)==null?void 0:o.browseId)||((l=(a=this.endpoint)==null?void 0:a.payload)==null?void 0:l.videoId),this.subtitle=new p(e.subtitle),this.badges=c.parse(e.subtitleBadges),(_=(x=(m=(f=this.endpoint)==null?void 0:f.payload)==null?void 0:m.browseEndpointContextSupportedConfigs)==null?void 0:x.browseEndpointContextMusicConfig)==null?void 0:_.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((T=(b=this.endpoint)==null?void 0:b.metadata)==null?void 0:T.api_url)==="/next"?this.item_type="endpoint":(w=this.subtitle.runs)!=null&&w[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((E=(S=this.subtitle.runs)==null?void 0:S.find(F=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(F.text)))==null?void 0:E.text)||"";else if(this.item_type=="playlist"){let F=(C=this.subtitle.runs)==null?void 0:C.find(B=>B.text.match(/\d+ songs|song/));this.item_count=F?F.text:null}else if(this.item_type=="album"){let F=(k=this.subtitle.runs)==null?void 0:k.filter(B=>{var X,Z;return(Z=(X=B.endpoint)==null?void 0:X.payload)==null?void 0:Z.browseId.startsWith("UC")});F&&(this.artists=F.map(B=>{var X,Z;return{name:B.text,channel_id:(Z=(X=B.endpoint)==null?void 0:X.payload)==null?void 0:Z.browseId,endpoint:B.endpoint}})),this.year=(U=this.subtitle.runs)==null?void 0:U.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((K=(L=this==null?void 0:this.subtitle.runs)==null?void 0:L.find(B=>B==null?void 0:B.text.match(/(.*?) views/)))==null?void 0:K.text)||"N/A";let F=(re=this.subtitle.runs)==null?void 0:re.find(B=>{var X,Z,Ue;return(Ue=(Z=(X=B.endpoint)==null?void 0:X.payload)==null?void 0:Z.browseId)==null?void 0:Ue.startsWith("UC")});F&&(this.author={name:F==null?void 0:F.text,channel_id:(Y=(he=F==null?void 0:F.endpoint)==null?void 0:he.payload)==null?void 0:Y.browseId,endpoint:F==null?void 0:F.endpoint})}else if(this.item_type=="song"){let F=(te=this.subtitle.runs)==null?void 0:te.filter(B=>{var X,Z;return(Z=(X=B.endpoint)==null?void 0:X.payload)==null?void 0:Z.browseId.startsWith("UC")});F&&(this.artists=F.map(B=>{var X,Z;return{name:B==null?void 0:B.text,channel_id:(Z=(X=B==null?void 0:B.endpoint)==null?void 0:X.payload)==null?void 0:Z.browseId,endpoint:B==null?void 0:B.endpoint}}))}this.thumbnail=y.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,Mt),this.menu=c.parseItem(e.menu,R)}};r(Au,"MusicTwoRowItem");Au.type="MusicTwoRowItem";var ny=Au;var Ru=class extends n{constructor(e){super(),this.header=c.parseItem(e.header,ty),this.contents=c.parseArray(e.contents,[ny,Pi,iy,ry]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};r(Ru,"MusicCarouselShelf");Ru.type="MusicCarouselShelf";var sI=Ru;var Mu=class extends n{constructor(e){super(),this.description=new p(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new p(e.footer)}};r(Mu,"MusicDescriptionShelf");Mu.type="MusicDescriptionShelf";var ay=Mu;var Lu=class extends n{constructor(e){var s,o,a,l,f,m,x,_,b;super(),this.title=new p(e.title),this.description=new p(e.description),this.subtitle=new p(e.subtitle),this.second_subtitle=new p(e.secondSubtitle),this.year=((o=(s=this.subtitle.runs)==null?void 0:s.find(T=>/^[12][0-9]{3}$/.test(T.text)))==null?void 0:o.text)||"",this.song_count=((l=(a=this.second_subtitle.runs)==null?void 0:a[0])==null?void 0:l.text)||"",this.total_duration=((m=(f=this.second_subtitle.runs)==null?void 0:f[2])==null?void 0:m.text)||"",this.thumbnails=y.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=c.parseArray(e.subtitleBadges);let i=(x=this.subtitle.runs)==null?void 0:x.find(T=>{var w,S;return(S=(w=T==null?void 0:T.endpoint)==null?void 0:w.payload)==null?void 0:S.browseId.startsWith("UC")});i&&(this.author={name:i.text,channel_id:(b=(_=i.endpoint)==null?void 0:_.payload)==null?void 0:b.browseId,endpoint:i.endpoint}),this.menu=c.parseItem(e.menu)}};r(Lu,"MusicDetailHeader");Lu.type="MusicDetailHeader";var oI=Lu;var Ou=class extends n{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};r(Ou,"MusicDownloadStateBadge");Ou.type="MusicDownloadStateBadge";var nI=Ou;var Du=class extends n{constructor(e){super(),this.header=c.parseItem(e.header),this.edit_header=c.parseItem(e.editHeader),this.playlist_id=e.playlistId}};r(Du,"MusicEditablePlaylistDetailHeader");Du.type="MusicEditablePlaylistDetailHeader";var aI=Du;var Bu=class extends n{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?c.parseItem(e,nx):null}};r(Bu,"MusicElementHeader");Bu.type="MusicElementHeader";var pI=Bu;var Yu=class extends n{constructor(e){super(),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new p(e.title))}};r(Yu,"MusicHeader");Yu.type="MusicHeader";var cI=Yu;var Vu=class extends n{constructor(e){super(),this.title=new p(e.title),this.description=new p(e.description),this.thumbnail=c.parseItem(e.thumbnail,Ie)}};r(Vu,"MusicImmersiveHeader");Vu.type="MusicImmersiveHeader";var lI=Vu;var Uu=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new d(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};r(Uu,"ActionButton");Uu.type="ActionButton";var Fu=class{constructor(e){this.image=y.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new Uu(i))}};r(Fu,"Panel");Fu.type="Panel";var Wu=class extends n{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new Fu(i))}};r(Wu,"MusicLargeCardItemCarousel");Wu.type="MusicLargeCardItemCarousel";var uI=Wu;var Gu=class extends n{constructor(e){super(),this.title=new p(e.title),this.edit_title=new p(e.editTitle),this.edit_description=new p(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new d(e.collaborationSettingsCommand),this.privacy_dropdown=c.parseItem(e.privacyDropdown,hi)}};r(Gu,"MusicPlaylistEditHeader");Gu.type="MusicPlaylistEditHeader";var fI=Gu;var ju=class extends n{constructor(e){var i,s,o;super(),this.playlist_id=e.playlistId,this.contents=c.parseArray(e.contents,Pi),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||null}};r(ju,"MusicPlaylistShelf");ju.type="MusicPlaylistShelf";var mI=ju;var Hu=class extends n{constructor(e){var o,a,l,f,m;super(),this.title=new p(e.title),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new d(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new p(e.lengthText).toString(),seconds:_e(new p(e.lengthText).toString())};let i=(o=new p(e.longBylineText).runs)==null?void 0:o.find(x=>{var _,b,T;return(T=(b=(_=x.endpoint)==null?void 0:_.payload)==null?void 0:b.browseId)==null?void 0:T.startsWith("MPR")}),s=(a=new p(e.longBylineText).runs)==null?void 0:a.filter(x=>{var _,b,T;return(T=(b=(_=x.endpoint)==null?void 0:_.payload)==null?void 0:b.browseId)==null?void 0:T.startsWith("UC")});this.author=new p(e.shortBylineText).toString(),i&&(this.album={id:(f=(l=i.endpoint)==null?void 0:l.payload)==null?void 0:f.browseId,name:i.text,year:(m=new p(e.longBylineText).runs)==null?void 0:m.slice(-1)[0].text,endpoint:i.endpoint}),s&&(this.artists=s.map(x=>{var _,b;return{name:x.text,channel_id:(b=(_=x.endpoint)==null?void 0:_.payload)==null?void 0:b.browseId,endpoint:x.endpoint}})),this.badges=c.parseArray(e.badges),this.menu=c.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};r(Hu,"PlaylistPanelVideo");Hu.type="PlaylistPanelVideo";var ei=Hu;var $u=class extends n{constructor(e){super(),this.primary=c.parseItem(e.primaryRenderer,ei),Reflect.has(e,"counterpart")&&(this.counterpart=G(e.counterpart.map(i=>c.parseItem(i.counterpartRenderer,ei))||[]))}};r($u,"PlaylistPanelVideoWrapper");$u.type="PlaylistPanelVideoWrapper";var py=$u;var Ku=class extends n{constructor(e){var i,s,o,a,l,f;super(),this.title=e.title,this.title_text=new p(e.titleText),this.contents=c.parseArray(e.contents,[py,ei,Wd]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextRadioContinuationData)==null?void 0:o.continuation)||((f=(l=(a=e.continuations)==null?void 0:a[0])==null?void 0:l.nextContinuationData)==null?void 0:f.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};r(Ku,"PlaylistPanel");Ku.type="PlaylistPanel";var cy=Ku;var qu=class extends n{constructor(e){super(),this.content=c.parseItem(e.content,cy)}};r(qu,"MusicQueue");qu.type="MusicQueue";var ly=qu;var zu=class extends n{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,Ie),this.buttons=c.parseArray(e.buttons,[Yr,se,ns,v,R]),this.title=new p(e.title),this.subtitle=new p(e.subtitle),this.strapline_text_one=new p(e.straplineTextOne),this.strapline_thumbnail=c.parseItem(e.straplineThumbnail,Ie),this.second_subtitle=new p(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=c.parseArray(e.subtitleBadge,os)),Reflect.has(e,"description")&&(this.description=c.parseItem(e.description,ay))}};r(zu,"MusicResponsiveHeader");zu.type="MusicResponsiveHeader";var hI=zu;var Xu=class extends n{constructor(e){var i,s,o,a;super(),this.title=new p(e.title),this.contents=c.parseArray(e.contents,Pi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new d(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((s=(i=e.continuations)==null?void 0:i[0].nextContinuationData)==null?void 0:s.continuation)||((a=(o=e.continuations)==null?void 0:o[0].reloadContinuationData)==null?void 0:a.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new p(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=c.parseItem(e.bottomButton,v)),Reflect.has(e,"subheaders")&&(this.subheaders=c.parseArray(e.subheaders))}};r(Xu,"MusicShelf");Xu.type="MusicShelf";var dI=Xu;var Qu=class extends n{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=c.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};r(Qu,"MusicSideAlignedItem");Qu.type="MusicSideAlignedItem";var _I=Qu;var Ju=class extends n{constructor(e){super(),this.title=new p(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=c.parseItem(e.menu,Xx)}};r(Ju,"MusicSortFilterButton");Ju.type="MusicSortFilterButton";var xI=Ju;var Zu=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Zu,"MusicTastebuilderShelfThumbnail");Zu.type="MusicTastebuilderShelfThumbnail";var uy=Zu;var ef=class extends n{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,uy),this.primary_text=new p(e.primaryText),this.secondary_text=new p(e.secondaryText),this.action_button=c.parseItem(e.actionButton,v),this.is_visible=e.isVisible}};r(ef,"MusicTasteBuilderShelf");ef.type="MusicTasteBuilderShelf";var yI=ef;var tf=class extends n{constructor(e){var i,s;super(),this.title=new p(e.title),this.thumbnail=e.thumbnail?y.fromResponse((i=e.thumbnail.musicThumbnailRenderer)==null?void 0:i.thumbnail):[],this.menu=c.parseItem(e.menu,R),this.foreground_thumbnail=e.foregroundThumbnail?y.fromResponse((s=e.foregroundThumbnail.musicThumbnailRenderer)==null?void 0:s.thumbnail):[]}};r(tf,"MusicVisualHeader");tf.type="MusicVisualHeader";var bI=tf;var rf=class extends n{constructor(e){super(),this.placeholder_text=new p(e.placeholderText),this.buttons=c.parseArray(e.buttons),Reflect.has(e,"logo")&&Reflect.has(e.logo,"iconType")&&(this.logo_type=e.logo.iconType)}};r(rf,"MobileTopbar");rf.type="MobileTopbar";var gI=rf;var sf=class extends n{constructor(e){super(),this.items=c.parseArray(e.items)}};r(sf,"MultiPageMenuSection");sf.type="MultiPageMenuSection";var wI=sf;var of=class extends n{constructor(e){super(),this.items=c.parseArray(e.items)}};r(of,"PivotBar");of.type="PivotBar";var TI=of;var nf=class extends n{constructor(e){super(),this.pivot_identifier=e.pivotIdentifier,this.endpoint=new d(e.navigationEndpoint),this.title=new p(e.title),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.accessibility_label=e.accessibility.accessibilityData.label),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};r(nf,"PivotBarItem");nf.type="PivotBarItem";var vI=nf;var af=class extends n{constructor(e){super(),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.menu_renderer=c.parseItem(e.menuRenderer),this.target_id=e.targetId}};r(af,"TopbarMenuButton");af.type="TopbarMenuButton";var II=af;var pf=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.short_message=new p(e.shortMessage),this.sent_time=new p(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new d(e.navigationEndpoint),this.record_click_endpoint=new d(e.recordClickEndpoint),this.menu=c.parseItem(e.contextualMenu),this.read=e.read}};r(pf,"Notification");pf.type="Notification";var fy=pf;var cf=class extends n{constructor(e){super(),this.response_text=new p(e.responseText)}};r(cf,"NotificationAction");cf.type="NotificationAction";var SI=cf;var lf=class extends n{constructor(e){super(),this.title=c.parseItem(e.title,sx),this.image=c.parseItem(e.image,[rr,Jr]),this.animated_image=c.parseItem(e.animatedImage,rr),this.metadata=c.parseItem(e.metadata,Xr),this.actions=c.parseItem(e.actions,mx),this.description=c.parseItem(e.description,ex),this.attributation=c.parseItem(e.attributation,Ud),this.banner=c.parseItem(e.banner,vx)}};r(lf,"PageHeaderView");lf.type="PageHeaderView";var my=lf;var uf=class extends n{constructor(e){super(),this.page_title=e.pageTitle,this.content=c.parseItem(e.content,my)}};r(uf,"PageHeader");uf.type="PageHeader";var Lt=uf;var ff=class extends n{constructor(e){super(),this.header_text=new p(e.headerText).toString(),this.body_text=new p(e.bodyText).toString(),this.page_title=new p(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};r(ff,"PageIntroduction");ff.type="PageIntroduction";var hy=ff;var mf=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new d(e.onClickCommand),this.content_description=new p(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new p(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};r(mf,"PivotButton");mf.type="PivotButton";var dy=mf;var hf=class extends n{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:y.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new d(e.featuredChannel.navigationEndpoint),subscribe_button:c.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};r(hf,"PlayerAnnotationsExpanded");hf.type="PlayerAnnotationsExpanded";var _y=hf;var df=class extends n{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new p(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new p(i.languageName)})))}};r(df,"PlayerCaptionsTracklist");df.type="PlayerCaptionsTracklist";var xy=df;var _f=class extends n{constructor(e){super(),this.endpoint=new d(e.endpoint),this.enable_listen_first=e.enableListenFirst}};r(_f,"PlayerOverflow");_f.type="PlayerOverflow";var yy=_f;var xf=class extends n{constructor(e){super(),this.overflow=c.parseItem(e.overflow,yy)}};r(xf,"PlayerControlsOverlay");xf.type="PlayerControlsOverlay";var EI=xf;var yf=class extends n{constructor(e){super(),this.subreason=new p(e.subreason),this.reason=new p(e.reason),this.proceed_button=c.parseItem(e.proceedButton,v),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};r(yf,"PlayerErrorMessage");yf.type="PlayerErrorMessage";var kI=yf;var bf=class extends n{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};r(bf,"PlayerLegacyDesktopYpcOffer");bf.type="PlayerLegacyDesktopYpcOffer";var CI=bf;var gf=class extends n{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};r(gf,"YpcTrailer");gf.type="YpcTrailer";var by=gf;var wf=class extends n{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=c.parseItem(e.ypcTrailer,by)}};r(wf,"PlayerLegacyDesktopYpcTrailer");wf.type="PlayerLegacyDesktopYpcTrailer";var Tf=wf;var vf=class extends n{constructor(e){super();let[i,s,o,a,l]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(s,10),thumbnail_height:parseInt(o,10),columns:parseInt(a,10),rows:parseInt(l,10)}}};r(vf,"PlayerLiveStoryboardSpec");vf.type="PlayerLiveStoryboardSpec";var gy=vf;var If=class extends n{constructor(e){var i,s;super(),this.title=new p(e.title),this.description=new p(e.description),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=(i=e.liveBroadcastDetails)!=null&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=(s=e.liveBroadcastDetails)!=null&&s.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};r(If,"PlayerMicroformat");If.type="PlayerMicroformat";var et=If;var Sf=class extends n{constructor(e){super(),this.title=new p(e.title),this.video_id=e.videoId,this.video_title=new p(e.videoTitle),this.short_view_count=new p(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new p(e.publishedTimeText),this.background=y.fromResponse(e.background),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new P(e.byline),this.cancel_button=c.parseItem(e.cancelButton,v),this.next_button=c.parseItem(e.nextButton,v),this.close_button=c.parseItem(e.closeButton,v)}};r(Sf,"PlayerOverlayAutoplay");Sf.type="PlayerOverlayAutoplay";var wy=Sf;var Ef=class extends n{constructor(e){super(),this.title=new p(e.title),this.subtitle=new p(e.subtitle)}};r(Ef,"PlayerOverlayVideoDetails");Ef.type="PlayerOverlayVideoDetails";var Ty=Ef;var kf=class extends n{constructor(e){super(),this.results=c.parseArray(e.results,[ux,lx]),this.title=new p(e.title).toString()}};r(kf,"WatchNextEndScreen");kf.type="WatchNextEndScreen";var vy=kf;var Cf=class extends n{constructor(e){super(),this.end_screen=c.parseItem(e.endScreen,vy),this.autoplay=c.parseItem(e.autoplay,wy),this.share_button=c.parseItem(e.shareButton,v),this.add_to_menu=c.parseItem(e.addToMenu,R),this.fullscreen_engagement=c.parseItem(e.fullscreenEngagement),this.actions=c.parseArray(e.actions),this.browser_media_session=c.parseItem(e.browserMediaSession),this.decorated_player_bar=c.parseItem(e.decoratedPlayerBarRenderer,Z_),this.video_details=c.parseItem(e.videoDetails,Ty)}};r(Cf,"PlayerOverlay");Cf.type="PlayerOverlay";var Iy=Cf;var Pf=class extends n{constructor(e){super(),this.id=e.playlistId,this.title=new p(e.title),this.subtitle=e.subtitle?new p(e.subtitle):null,this.stats=e.stats.map(i=>new p(i)),this.brief_stats=e.briefStats.map(i=>new p(i)),this.author=e.ownerText||e.ownerEndpoint?new P({...e.ownerText,navigationEndpoint:e.ownerEndpoint},e.ownerBadges,null):null,this.description=new p(e.descriptionText),this.num_videos=new p(e.numVideosText),this.view_count=new p(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=c.parseItem(e.saveButton),this.shuffle_play_button=c.parseItem(e.shufflePlayButton),this.menu=c.parseItem(e.moreActionsMenu),this.banner=c.parseItem(e.playlistHeaderBanner)}};r(Pf,"PlaylistHeader");Pf.type="PlaylistHeader";var Sy=Pf;var Nf=class extends n{constructor(e){super(),this.title=new p(e.playlistTitle),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new p(e.playlistVideoCount),this.channel_name=new p(e.channelName),this.endpoint=new d(e.action)}};r(Nf,"PlaylistInfoCardContent");Nf.type="PlaylistInfoCardContent";var PI=Nf;var Af=class extends n{constructor(e){super(),this.title=e.title,this.description=e.description||null}};r(Af,"PlaylistMetadata");Af.type="PlaylistMetadata";var Ey=Af;var Rf=class extends n{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};r(Rf,"PlaylistSidebar");Rf.type="PlaylistSidebar";var NI=Rf;var Mf=class extends n{constructor(e){super(),this.stats=e.stats.map(i=>new p(i)),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.title=new p(e.title),this.menu=c.parseItem(e.menu),this.endpoint=new d(e.navigationEndpoint),this.description=new p(e.description)}};r(Mf,"PlaylistSidebarPrimaryInfo");Mf.type="PlaylistSidebarPrimaryInfo";var ky=Mf;var Lf=class extends n{constructor(e){super(),this.owner=c.parseItem(e.videoOwner),this.button=c.parseItem(e.button)}};r(Lf,"PlaylistSidebarSecondaryInfo");Lf.type="PlaylistSidebarSecondaryInfo";var Cy=Lf;var Of=class extends n{constructor(e){super(),this.id=e.videoId,this.index=new p(e.index),this.title=new p(e.title),this.author=new P(e.shortBylineText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new d(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=c.parseItem(e.menu,R),this.video_info=new p(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new p(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(ir))==null?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(ir))==null?void 0:e.style)==="UPCOMING"}};r(Of,"PlaylistVideo");Of.type="PlaylistVideo";var ps=Of;var Df=class extends n{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=c.parseArray(e.contents)}};r(Df,"PlaylistVideoList");Df.type="PlaylistVideoList";var AI=Df;var Bf=class extends n{constructor(e){super(),this.choices=e.choices.map(i=>({text:new p(i.text),select_endpoint:i.selectServiceEndpoint?new d(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new d(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new p(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new p(i.votePercentageIfSelected),image:i.image?y.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new p(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};r(Bf,"Poll");Bf.type="Poll";var RI=Bf;var Yf=class extends bi{constructor(e){super(e)}};r(Yf,"Post");Yf.type="Post";var cs=Yf;var Vf=class extends n{constructor(e){super(),this.images=c.parseArray(e.images,jd)}};r(Vf,"PostMultiImage");Vf.type="PostMultiImage";var MI=Vf;var Uf=class extends n{constructor(e){super(),this.label=new p(e.label)}};r(Uf,"PremiereTrailerBadge");Uf.type="PremiereTrailerBadge";var LI=Uf;var Ff=class extends n{constructor(e){super(),this.title=new p(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};r(Ff,"ProductListHeader");Ff.type="ProductListHeader";var OI=Ff;var Wf=class extends n{constructor(e){super(),this.title=new p(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new d(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=c.parseItem(e.viewButton,v)}};r(Wf,"ProductListItem");Wf.type="ProductListItem";var DI=Wf;var Gf=class extends n{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};r(Gf,"ProfileColumn");Gf.type="ProfileColumn";var BI=Gf;var jf=class extends n{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};r(jf,"ProfileColumnStats");jf.type="ProfileColumnStats";var YI=jf;var Hf=class extends n{constructor(e){super(),this.label=new p(e.label),this.value=new p(e.value)}};r(Hf,"ProfileColumnStatsEntry");Hf.type="ProfileColumnStatsEntry";var VI=Hf;var $f=class extends n{constructor(e){super(),this.title=new p(e.title),this.thumbnails=y.fromResponse(e.thumbnail)}};r($f,"ProfileColumnUserInfo");$f.type="ProfileColumnUserInfo";var UI=$f;var Kf=class extends n{constructor(e){super(),this.choices=e.choices.map(i=>({text:new p(i.text),is_correct:i.isCorrect})),this.total_votes=new p(e.totalVotes)}};r(Kf,"Quiz");Kf.type="Quiz";var FI=Kf;var qf=class extends n{constructor(e){super(),this.title=new p(e.title),this.subtitle=new p(e.subtitle),this.avatars=e.avatars.map(i=>new y(i)),this.button=c.parseItem(e.button,v),this.surface=e.surface}};r(qf,"RecognitionShelf");qf.type="RecognitionShelf";var WI=qf;var zf=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new p(e.headline),this.thumbnails=y.fromResponse(e.thumbnail),this.views=new p(e.viewCountText),this.endpoint=new d(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};r(zf,"ReelItem");zf.type="ReelItem";var ls=zf;var Xf=class extends n{constructor(e){super(),this.reel_title_text=new p(e.reelTitleText),this.timestamp_text=new p(e.timestampText),this.channel_title_text=new p(e.channelTitleText),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.author=new P(e.channelNavigationEndpoint,void 0)}};r(Xf,"ReelPlayerHeader");Xf.type="ReelPlayerHeader";var Py=Xf;var Qf=class extends n{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,Vr),this.reel_player_header_supported_renderers=c.parseItem(e.reelPlayerHeaderSupportedRenderers,Py),this.menu=c.parseItem(e.menu,R),this.next_item_button=c.parseItem(e.nextItemButton,v),this.prev_item_button=c.parseItem(e.prevItemButton,v),this.subscribe_button_renderer=c.parseItem(e.subscribeButtonRenderer,[v,xe]),this.style=e.style,this.view_comments_button=c.parseItem(e.viewCommentsButton,v),this.share_button=c.parseItem(e.shareButton,v),this.pivot_button=c.parseItem(e.pivotButton,dy),this.info_panel=c.parseItem(e.infoPanel,Sx)}};r(Qf,"ReelPlayerOverlay");Qf.type="ReelPlayerOverlay";var GI=Qf;var Jf=class extends n{constructor(e){super(),this.content=c.parseItem(e.content)}};r(Jf,"RelatedChipCloud");Jf.type="RelatedChipCloud";var Ny=Jf;var Zf=class extends n{constructor(e){super(),this.header=c.parseItem(e.header),this.contents=c.parseArray(e.contents)}};r(Zf,"RichGrid");Zf.type="RichGrid";var Ni=Zf;var em=class extends n{constructor(e){super(),this.content=c.parseItem(e.content)}};r(em,"RichItem");em.type="RichItem";var jI=em;var tm=class extends n{constructor(e){super(),this.title=new p(e.title),this.subtitle=new p(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};r(tm,"RichListHeader");tm.type="RichListHeader";var HI=tm;var im=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new p(e.title),this.subtitle=new p(e.subtitle),this.call_to_action=new p(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new d(e.endpoint)}};r(im,"RichMetadata");im.type="RichMetadata";var rm=im;var sm=class extends n{constructor(e){super(),this.contents=c.parseArray(e.contents)}};r(sm,"RichMetadataRow");sm.type="RichMetadataRow";var om=sm;var nm=class extends n{constructor(e){super(),this.content=c.parseItem(e.content)}};r(nm,"RichSection");nm.type="RichSection";var $I=nm;var am=class extends n{constructor(e){super(),this.title=new p(e.title),this.contents=c.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new d(e.endpoint)),Reflect.has(e,"subtitle")&&(this.subtitle=new p(e.subtitle))}};r(am,"RichShelf");am.type="RichShelf";var Ay=am;var pm=class extends n{constructor(e){super(),this.endpoint=new d(e.endpoint),this.search_button=c.parseItem(e.searchButton,v),this.clear_button=c.parseItem(e.clearButton,v),this.placeholder_text=new p(e.placeholderText)}};r(pm,"SearchBox");pm.type="SearchBox";var KI=pm;var cm=class extends n{constructor(e){super(),this.label=new p(e.label),this.endpoint=new d(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};r(cm,"SearchFilter");cm.type="SearchFilter";var Ry=cm;var lm=class extends n{constructor(e){super(),this.title=new p(e.title),this.filters=c.parseArray(e.filters,Ry)}};r(lm,"SearchFilterGroup");lm.type="SearchFilterGroup";var us=lm;var um=class extends n{constructor(e){super(),this.title=new p(e.title),this.groups=c.parseArray(e.groups,us)}};r(um,"SearchFilterOptionsDialog");um.type="SearchFilterOptionsDialog";var qI=um;var fm=class extends n{constructor(e){super(),this.chip_bar=c.parseItem(e.chipBar,Kr),this.search_filter_button=c.parseItem(e.searchFilterButton,v)}};r(fm,"SearchHeader");fm.type="SearchHeader";var My=fm;var mm=class extends n{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new p(e.title)),Reflect.has(e,"groups")&&(this.groups=c.parseArray(e.groups,us)),Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,se))}};r(mm,"SearchSubMenu");mm.type="SearchSubMenu";var Ly=mm;var hm=class extends n{constructor(e){super(),this.contents=c.parseArray(e.contents)}};r(hm,"SearchSuggestionsSection");hm.type="SearchSuggestionsSection";var zI=hm;var dm=class extends n{constructor(e){super(),this.contents=c.parseArray(e.contents)}};r(dm,"SecondarySearchContainer");dm.type="SecondarySearchContainer";var XI=dm;var _m=class extends n{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,[se,v]),this.dislike_button=c.parseItem(e.dislikeButton,[se,v])}};r(_m,"SegmentedLikeDislikeButton");_m.type="SegmentedLikeDislikeButton";var dr=_m;var xm=class extends n{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new p(e.title)),Reflect.has(e,"summary")&&(this.summary=new p(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new d(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new d(e.disableServiceEndpoint)),this.item_id=e.itemId}};r(xm,"SettingBoolean");xm.type="SettingBoolean";var QI=xm;var ym=class extends n{constructor(e){super(),this.title=new p(e.title),this.help_text=new p(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};r(ym,"SettingsCheckbox");ym.type="SettingsCheckbox";var Oy=ym;var bm=class extends n{constructor(e){super(),this.title=new p(e.title),this.subtitle=new p(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new d(e.enableServiceEndpoint),this.disable_endpoint=new d(e.disableServiceEndpoint)}};r(bm,"SettingsSwitch");bm.type="SettingsSwitch";var fs=bm;var gm=class extends n{constructor(e){super(),this.title=new p(e.title),Reflect.has(e,"text")&&(this.text=new p(e.text).toString()),Reflect.has(e,"options")&&(this.options=c.parseArray(e.options,[fs,hi,Qr,Oy,P_]))}};r(gm,"SettingsOptions");gm.type="SettingsOptions";var ms=gm;var wm=class extends n{constructor(e){super(),this.title=new p(e.title),this.items=c.parseArray(e.items,yi)}get contents(){return this.items}};r(wm,"SettingsSidebar");wm.type="SettingsSidebar";var Dy=wm;var Tm=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.content=new p(e.content),this.published=new p(e.publishedTimeText),this.menu=c.parseItem(e.actionMenu,R),this.original_post=c.parseItem(e.originalPost,[bi,cs]),this.id=e.postId,this.endpoint=new d(e.navigationEndpoint),this.expand_button=c.parseItem(e.expandButton,v),this.author=new P(e.displayName,void 0)}};r(Tm,"SharedPost");Tm.type="SharedPost";var By=Tm;var vm=class extends n{constructor(e){super(),this.title=c.parseItem(e.title)}};r(vm,"SharePanelHeader");vm.type="SharePanelHeader";var Yy=vm;var Im=class extends n{constructor(e){super(),this.title=new p(e.title)}};r(Im,"SharePanelTitleV15");Im.type="SharePanelTitleV15";var JI=Im;var Sm=class extends n{constructor(e){super(),Reflect.has(e,"serviceEndpoint")?this.endpoint=new d(e.serviceEndpoint):Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new d(e.navigationEndpoint)),this.service_name=e.serviceName,this.target_id=e.targetId,this.title=new p(e.title)}};r(Sm,"ShareTarget");Sm.type="ShareTarget";var Vy=Sm;var Em=class extends n{constructor(e){super(),this.title=new p(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new d(e.endpoint)),this.content=c.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=c.parseItem(e.playAllButton,v)),Reflect.has(e,"subtitle")&&(this.subtitle=new p(e.subtitle))}};r(Em,"Shelf");Em.type="Shelf";var hs=Em;var km=class extends n{constructor(e){var i;super(),this.entity_id=e.entityId,this.accessibility_text=e.accessibilityText,this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new d(e.onTap),this.menu_on_tap=new d(e.menuOnTap),this.index_in_collection=e.indexInCollection,this.menu_on_tap_a11y_label=e.menuOnTapA11yLabel,this.overlay_metadata={primary_text:e.overlayMetadata.primaryText?p.fromAttributed(e.overlayMetadata.primaryText):void 0,secondary_text:e.overlayMetadata.secondaryText?p.fromAttributed(e.overlayMetadata.secondaryText):void 0},(i=e.inlinePlayerData)!=null&&i.onVisible&&(this.inline_player_data=new d(e.inlinePlayerData.onVisible)),e.badge&&(this.badge=c.parseItem(e.badge,gi))}};r(km,"ShortsLockupView");km.type="ShortsLockupView";var ds=km;var Cm=class extends n{constructor(e){super(),this.corrected_query=new p(e.correctedQuery),this.original_query=new p(e.originalQuery),this.corrected_query_endpoint=new d(e.correctedQueryEndpoint),this.original_query_endpoint=new d(e.originalQueryEndpoint),this.search_instead_for=new p(e.searchInsteadFor),this.showing_results_for=new p(e.showingResultsFor)}};r(Cm,"ShowingResultsFor");Cm.type="ShowingResultsFor";var ZI=Cm;var Pm=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.title=new p(e.title),this.display_domain=new p(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new p(e.callToAction),this.endpoint=new d(e.command)}};r(Pm,"SimpleCardContent");Pm.type="SimpleCardContent";var eS=Pm;var Nm=class extends n{constructor(e){super(),this.message=new p(e.message),this.prominent=e.prominent}};r(Nm,"SimpleCardTeaser");Nm.type="SimpleCardTeaser";var tS=Nm;var Am=class extends n{constructor(e){super(),this.lines=e.lines.map(i=>new p(i)),this.style=e.layoutStyle}};r(Am,"SimpleTextSection");Am.type="SimpleTextSection";var iS=Am;var Rm=class extends n{constructor(e){super(),this.action_text=new p(e.actionText),this.nav_text=new p(e.navigationText),this.details=new p(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new d(e.navigationEndpoint)}};r(Rm,"SingleActionEmergencySupport");Rm.type="SingleActionEmergencySupport";var rS=Rm;var Mm=class extends n{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new d(e.endpoint),this.content=c.parseItem(e.content,[de,ly,Ni])}};r(Mm,"Tab");Mm.type="Tab";var Se=Mm;var Lm=class extends n{constructor(e){super(),this.tabs=c.parseArray(e.tabs,Se)}};r(Lm,"SingleColumnBrowseResults");Lm.type="SingleColumnBrowseResults";var sS=Lm;var Om=class extends n{constructor(e){super(),this.contents=c.parse(e)}};r(Om,"SingleColumnMusicWatchNextResults");Om.type="SingleColumnMusicWatchNextResults";var oS=Om;var Dm=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.style=e.style}};r(Dm,"SingleHeroImage");Dm.type="SingleHeroImage";var nS=Dm;var Bm=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new p(e.title),this.endpoint=new d(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,xe)}};r(Bm,"SlimOwner");Bm.type="SlimOwner";var aS=Bm;var Ym=class extends n{constructor(e){super(),this.title=new p(e.title),this.collapsed_subtitle=new p(e.collapsedSubtitle),this.expanded_subtitle=new p(e.expandedSubtitle),this.owner=c.parseItem(e.owner),this.description=new p(e.description),this.video_id=e.videoId,this.date=new p(e.dateText)}};r(Ym,"SlimVideoMetadata");Ym.type="SlimVideoMetadata";var pS=Ym;var Vm=class extends n{constructor(e){super(),this.start_at_option_label=new p(e.startAtOptionLabel)}};r(Vm,"StartAt");Vm.type="StartAt";var Uy=Vm;var Um=class extends n{constructor(e){super(),this.name=new p(e.name),this.is_selected=e.isSelected,this.endpoint=new d(e.navigationEndpoint)}};r(Um,"SubFeedOption");Um.type="SubFeedOption";var Fy=Um;var Fm=class extends n{constructor(e){super(),this.title=new p(e.title),this.options=c.parseArray(e.options,Fy)}};r(Fm,"SubFeedSelector");Fm.type="SubFeedSelector";var cS=Fm;var Wm=class extends n{constructor(e){super(),this.contents=c.parse(e)}};r(Wm,"Tabbed");Wm.type="Tabbed";var lS=Wm;var Gm=class extends n{constructor(e){super(),this.tabs=c.parseArray(e.tabs,Se)}};r(Gm,"TabbedSearchResults");Gm.type="TabbedSearchResults";var uS=Gm;var jm=class extends n{constructor(e){super(),this.title=new p(e.title),this.style=e.style}};r(jm,"TextHeader");jm.type="TextHeader";var fS=jm;var Hm=class extends n{constructor(e){super(),this.share_targets=c.parseArray(e.shareTargets,Vy)}};r(Hm,"ThirdPartyShareTargetSection");Hm.type="ThirdPartyShareTargetSection";var Wy=Hm;var $m=class extends n{constructor(e){super(),this.landscape=y.fromResponse(e.landscape),this.portrait=y.fromResponse(e.portrait)}};r($m,"ThumbnailLandscapePortrait");$m.type="ThumbnailLandscapePortrait";var mS=$m;var Km=class extends n{constructor(e){super(),this.text=new p(e.text).toString()}};r(Km,"ThumbnailOverlayEndorsement");Km.type="ThumbnailOverlayEndorsement";var hS=Km;var qm=class extends n{constructor(e){super(),this.text=new p(e.text),this.icon_type=e.icon.iconType}};r(qm,"ThumbnailOverlayHoverText");qm.type="ThumbnailOverlayHoverText";var dS=qm;var zm=class extends n{constructor(e){super(),this.text=new p(e.text).toString(),this.icon_type=e.icon.iconType}};r(zm,"ThumbnailOverlayInlineUnplayable");zm.type="ThumbnailOverlayInlineUnplayable";var _S=zm;var Xm=class extends n{constructor(e){super(),this.text=new p(e.text)}};r(Xm,"ThumbnailOverlayLoadingPreview");Xm.type="ThumbnailOverlayLoadingPreview";var xS=Xm;var Qm=class extends n{constructor(e){super(),this.text=new p(e.text).toString()}};r(Qm,"ThumbnailOverlayNowPlaying");Qm.type="ThumbnailOverlayNowPlaying";var yS=Qm;var Jm=class extends n{constructor(e){super(),this.hack=e.hack}};r(Jm,"ThumbnailOverlayPinking");Jm.type="ThumbnailOverlayPinking";var bS=Jm;var Zm=class extends n{constructor(e){super(),this.texts=e.texts.map(i=>new p(i))}};r(Zm,"ThumbnailOverlayPlaybackStatus");Zm.type="ThumbnailOverlayPlaybackStatus";var gS=Zm;var eh=class extends n{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};r(eh,"ThumbnailOverlayResumePlayback");eh.type="ThumbnailOverlayResumePlayback";var wS=eh;var th=class extends n{constructor(e){super(),this.text=new p(e.text),this.icon_type=e.icon.iconType}};r(th,"ThumbnailOverlaySidePanel");th.type="ThumbnailOverlaySidePanel";var TS=th;var ih=class extends n{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},e.toggledServiceEndpoint&&(this.toggled_endpoint=new d(e.toggledServiceEndpoint)),e.untoggledServiceEndpoint&&(this.untoggled_endpoint=new d(e.untoggledServiceEndpoint))}};r(ih,"ThumbnailOverlayToggleButton");ih.type="ThumbnailOverlayToggleButton";var vS=ih;var rh=class extends n{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new p(e.label),this.icon=e.icon}};r(rh,"TimedMarkerDecoration");rh.type="TimedMarkerDecoration";var IS=rh;var sh=class extends n{constructor(e){super(),this.title=new p(e.title)}};r(sh,"TitleAndButtonListHeader");sh.type="TitleAndButtonListHeader";var SS=sh;var oh=class extends n{constructor(e){super(),this.text=new p(e.defaultText),this.toggled_text=new p(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new d(e.defaultServiceEndpoint),this.toggled_endpoint=new d(e.toggledServiceEndpoint)}};r(oh,"ToggleMenuServiceItem");oh.type="ToggleMenuServiceItem";var ES=oh;var nh=class extends n{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new d(i)),accept:new d(e.promoConfig.acceptCommand),dismiss:new d(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new p(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};r(nh,"Tooltip");nh.type="Tooltip";var kS=nh;var ah=class extends n{constructor(e){var i;super(),this.title=new p(e.title),this.avatar=y.fromResponse((i=e.thumbnail)!=null?i:e.avatar),this.subtitle=new p(e.subtitle),this.subscribe_button=c.parseItem(e.subscribeButton,xe),this.endpoint=new d(e.navigationEndpoint)}};r(ah,"TopicChannelDetails");ah.type="TopicChannelDetails";var CS=ah;var ph=class extends n{constructor(e){super(),this.tabs=c.parse(e.tabs),this.secondary_contents=c.parse(e.secondaryContents)}};r(ph,"TwoColumnBrowseResults");ph.type="TwoColumnBrowseResults";var Ot=ph;var ch=class extends n{constructor(e){super(),this.primary_contents=c.parse(e.primaryContents),this.secondary_contents=c.parse(e.secondaryContents)}};r(ch,"TwoColumnSearchResults");ch.type="TwoColumnSearchResults";var Gy=ch;var jy,Pg,lh=class extends n{constructor(e){var o,a,l,f,m;super(),jy.add(this),this.results=c.parseArray((o=e.results)==null?void 0:o.results.contents),this.secondary_results=c.parseArray((a=e.secondaryResults)==null?void 0:a.secondaryResults.results),this.conversation_bar=c.parseItem(e==null?void 0:e.conversationBar);let i=(l=e.playlist)==null?void 0:l.playlist;i&&(this.playlist={id:i.playlistId,title:i.title,author:(f=i.shortBylineText)!=null&&f.simpleText?new p(i.shortBylineText):new P(i.longBylineText),contents:c.parseArray(i.contents),current_index:i.currentIndex,is_infinite:!!i.isInfinite,menu:c.parseItem(i.menu,R)});let s=(m=e.autoplay)==null?void 0:m.autoplay;s&&(this.autoplay={sets:s.sets.map(x=>u(this,jy,"m",Pg).call(this,x))},s.modifiedSets&&(this.autoplay.modified_sets=s.modifiedSets.map(x=>u(this,jy,"m",Pg).call(this,x))),s.countDownSecs&&(this.autoplay.count_down_secs=s.countDownSecs))}};r(lh,"TwoColumnWatchNextResults");jy=new WeakSet,Pg=r(function(e){let i={autoplay_video:new d(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new d(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");lh.type="TwoColumnWatchNextResults";var Hy=lh;var uh=class extends n{constructor(e){if(super(),e.contents){let i=e.contents.find(s=>s.thirdPartyNetworkSection);i&&(this.third_party_network_section={share_target_container:c.parseItem(i.thirdPartyNetworkSection.shareTargetContainer,Wy),copy_link_container:c.parseItem(i.thirdPartyNetworkSection.copyLinkContainer,Qr),start_at_container:c.parseItem(i.thirdPartyNetworkSection.startAtContainer,Uy)})}this.header=c.parseItem(e.header,Yy),this.share_panel_version=e.sharePanelVersion,Reflect.has(e,"showLoadingSpinner")&&(this.show_loading_spinner=e.showLoadingSpinner)}};r(uh,"UnifiedSharePanel");uh.type="UnifiedSharePanel";var PS=uh;var fh=class extends n{constructor(e){super(),this.header=c.parseItem(e.header),this.call_to_action=c.parseItem(e.callToAction),this.sections=c.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new p(e.collapsedLabel))}};r(fh,"UniversalWatchCard");fh.type="UniversalWatchCard";var $y=fh;var mh=class extends n{constructor(e){super(),this.message_title=new p(e.dialogMessageTitle),this.message_text=new p(e.dialogMessageText),this.action_button=c.parseItem(e.actionButton,v),this.dismiss_button=c.parseItem(e.dismissButton,v),this.is_visible=e.isVisible}};r(mh,"UpsellDialog");mh.type="UpsellDialog";var NS=mh;var hh=class extends n{constructor(e){super(),this.items=c.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new p(e.collapsedStateButtonText)}get contents(){return this.items}};r(hh,"VerticalList");hh.type="VerticalList";var AS=hh;var dh=class extends n{constructor(e){super(),this.items=c.parseArray(e.items),this.view_all_text=new p(e.viewAllText),this.view_all_endpoint=new d(e.viewAllEndpoint)}get contents(){return this.items}};r(dh,"VerticalWatchCardList");dh.type="VerticalWatchCardList";var RS=dh;var _h=class extends n{constructor(e){super(),this.title=new p(e.videoTitle),this.channel_name=new p(e.channelName),this.view_count=new p(e.viewCountText),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.duration=new p(e.lengthString),this.endpoint=new d(e.action)}};r(_h,"VideoInfoCardContent");_h.type="VideoInfoCardContent";var MS=_h;var xh=class extends n{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new p(e.subscriberCountText),this.author=new P({...e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.thumbnail)}};r(xh,"VideoOwner");xh.type="VideoOwner";var _s=xh;var yh=class extends n{constructor(e){super(),this.original_view_count=e.originalViewCount,this.short_view_count=new p(e.shortViewCount),this.extra_short_view_count=new p(e.extraShortViewCount),this.view_count=new p(e.viewCount)}};r(yh,"VideoViewCount");yh.type="VideoViewCount";var Ky=yh;var bh=class extends n{constructor(e){super(),this.title=new p(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new p(e.superTitleLink)),this.view_count=c.parseItem(e.viewCount,Ky),this.badges=c.parseArray(e.badges,Ge),this.published=new p(e.dateText),this.relative_date=new p(e.relativeDateText),this.menu=c.parseItem(e.videoActions,R)}};r(bh,"VideoPrimaryInfo");bh.type="VideoPrimaryInfo";var qy=bh;var gh=class extends n{constructor(e){super(),this.owner=c.parseItem(e.owner,_s),this.description=new p(e.description),Reflect.has(e,"attributedDescription")&&(this.description=p.fromAttributed(e.attributedDescription)),this.subscribe_button=c.parseItem(e.subscribeButton,[xe,v]),this.metadata=c.parseItem(e.metadataRowContainer,Zx),this.show_more_text=new p(e.showMoreText),this.show_less_text=new p(e.showLessText),this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};r(gh,"VideoSecondaryInfo");gh.type="VideoSecondaryInfo";var wh=gh;var Th=class extends n{constructor(e){super(),this.title=new p(e.title),this.subtitle=new p(e.subtitle),this.duration={text:new p(e.lengthText).toString(),seconds:_e(e.lengthText.simpleText)},this.style=e.style}};r(Th,"WatchCardCompactVideo");Th.type="WatchCardCompactVideo";var zy=Th;var vh=class extends n{constructor(e){var i;super(),this.endpoint=new d(e.navigationEndpoint),this.call_to_action_button=c.parseItem(e.callToActionButton),this.hero_image=c.parseItem(e.heroImage),this.label=((i=e.lengthText)==null?void 0:i.accessibility.accessibilityData.label)||""}};r(vh,"WatchCardHeroVideo");vh.type="WatchCardHeroVideo";var LS=vh;var Ih=class extends n{constructor(e){super(),this.title=new p(e.title),this.title_endpoint=new d(e.titleNavigationEndpoint),this.subtitle=new p(e.subtitle),this.author=new P(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};r(Ih,"WatchCardRichHeader");Ih.type="WatchCardRichHeader";var OS=Ih;var Sh=class extends n{constructor(e){super(),this.lists=c.parseArray(e.lists)}};r(Sh,"WatchCardSectionSequence");Sh.type="WatchCardSectionSequence";var DS=Sh;var Eh=class extends Ot{constructor(e){super(e)}};r(Eh,"WatchNextTabbedResults");Eh.type="WatchNextTabbedResults";var BS=Eh;var kh=class extends n{constructor(e){var i,s;super(),this.title=e.title,this.content=c.parseItem(e.content,de),this.endpoint=new d(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)==null?void 0:i.assetKey,background_color:(s=e.categoryAssets)==null?void 0:s.backgroundColor},this.category_type=e.categoryType}};r(kh,"AnchoredSection");kh.type="AnchoredSection";var Xy=kh;var Ch,Ph=class extends n{constructor(e){super(),Ch.set(this,void 0),this.child_display_name=new p(e.childDisplayName),this.child_account_description=new p(e.childAccountDescription),this.avatar=y.fromResponse(e.avatar),this.block_button=c.parseItem(e.blockButton,[se]),this.blocked_entity_key=e.blockedEntityKey}async blockChannel(){if(!u(this,Ch,"f"))throw new g("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new g("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new g("This channel is already blocked.",{child_display_name:this.child_display_name});return await e.endpoint.call(u(this,Ch,"f"),{parse:!1})}setActions(e){I(this,Ch,e,"f")}};r(Ph,"KidsBlocklistPickerItem");Ch=new WeakMap;Ph.type="KidsBlocklistPickerItem";var Qy=Ph;var Nh=class extends n{constructor(e){super(),this.title=new p(e.title),this.child_rows=c.parse(e.childRows,!0,[Qy]),this.done_button=c.parseItem(e.doneButton,[v]),this.successful_toast_action_message=new p(e.successfulToastActionMessage)}};r(Nh,"KidsBlocklistPicker");Nh.type="KidsBlocklistPicker";var YS=Nh;var Ah=class extends n{constructor(e){var i,s;super(),this.title=new p(e.title),this.category_assets={asset_key:(i=e.categoryAssets)==null?void 0:i.assetKey,background_color:(s=e.categoryAssets)==null?void 0:s.backgroundColor},this.category_type=e.categoryType,this.endpoint=new d(e.endpoint)}};r(Ah,"KidsCategoryTab");Ah.type="KidsCategoryTab";var Jy=Ah;var Rh=class extends n{constructor(e){super(),this.category_tabs=c.parseArray(e.categoryTabs,Jy),this.privacy_button=c.parseItem(e.privacyButtonRenderer,v)}};r(Rh,"KidsCategoriesHeader");Rh.type="kidsCategoriesHeader";var VS=Rh;var Mh=class extends n{constructor(e){super(),this.anchors=c.parseArray(e.anchors,Xy)}};r(Mh,"KidsHomeScreen");Mh.type="kidsHomeScreen";var US=Mh;var Dg={};Xe(Dg,{camelToSnake:()=>_r,createRuntimeClass:()=>XS,generateRuntimeClass:()=>Oh,generateTypescriptClass:()=>eb,inferType:()=>Zy,introspect:()=>Rg,isArrayType:()=>qS,isIgnoredKey:()=>zS,isMiscType:()=>KS,isRenderer:()=>Ag,isRendererList:()=>$S,mergeKeyInfo:()=>Lh,parse:()=>Og,toParser:()=>Lg,toTypeDeclaration:()=>Mg});var b1=new Set(["trackingParams","accessibility","accessibilityData"]),Ng={};function _r(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}r(_r,"camelToSnake");function Zy(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=Ag(e))return Ng[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=$S(e)){for(let[o,a]of Object.entries(i))Ng[o]=a;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=KS(t,e))||(i=qS(e)))return i}let s=typeof e;return s==="object"?{type:"object",keys:Object.entries(e).map(([o,a])=>[o,Zy(o,a)]),optional:!1}:{type:"primitive",typeof:[s],optional:!1}}r(Zy,"inferType");function $S(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(s=>Ag(s))?Object.fromEntries(t.map(s=>{let o=Reflect.ownKeys(s)[0].toString();return[ys(o),s[o]]})):!1}r($S,"isRendererList");function KS(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new d(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new p(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}r(KS,"isMiscType");function Ag(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let s=i[0].toString();if(s.endsWith("Renderer")||s.endsWith("Model"))return ys(s)}return!1}r(Ag,"isRenderer");function qS(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["never"],optional:!1},optional:!1};let e=t.map(a=>typeof a);if(!e.every(a=>a===e[0]))return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!1},optional:!1};let s=e[0];if(s!=="object")return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:[s],optional:!1},optional:!1};let o=[];for(let a=0;a<t.length;a++){let l=Object.entries(t[a]).map(([f,m])=>[f,Zy(f,m)]);if(a===0){o=l;continue}o=Lh(o,l).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:o,optional:!1},optional:!1}}r(qS,"isArrayType");function g1(t){if(typeof t!="object"||t===null)throw new g("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!zS(i)).filter(i=>typeof i=="string").map(i=>{let s=Reflect.get(t,i),o=Zy(i,s);return[i,o]})}r(g1,"introspectKeysFirstPass");function w1(t){var l;let i=t.filter(([,f])=>{var m;return f.type!=="misc"||!(f.misc_type==="NavigationEndpoint"||f.misc_type==="Text")?!1:((m=f.endpoint)==null?void 0:m.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,f],[,m])=>f.type!=="misc"||m.type!=="misc"||f.misc_type!=="Text"||m.misc_type!=="Text"?0:m.text.length-f.text.length),s=new Set,o=i[0],a;if(o){s.add(o[0]);let m=t.map(([w])=>w).filter(w=>w.endsWith("Badges")||w==="badges"),_=(l=m.filter(w=>w.startsWith("owner")||w.startsWith("author"))[0])!=null?l:m[0],b=t.find(([w])=>w===_),T=b?b[1].type==="array"&&b[1].array_type==="renderer"&&Reflect.has(b[1].renderers,"MetadataBadge"):!1;T&&_&&s.add(_),a={type:"misc",misc_type:"Author",optional:!1,params:[o[0],T?_:void 0]}}return a&&t.push(["author",a]),t.filter(([f])=>!s.has(f))}r(w1,"introspectKeysSecondPass");function T1(t){let e=g1(t);return w1(e)}r(T1,"introspect2");function Rg(t){let e=T1(t),i=new Map;for(let[,o]of e)if(o.type==="renderer"||o.type==="array"&&o.array_type==="renderer")for(let a of o.renderers){let l=Ng[a];l&&i.set(a,l)}let s=Array.from(i).filter(([o])=>!Dh(o));return{key_info:e,unimplemented_dependencies:s}}r(Rg,"introspect");function zS(t){return typeof t=="string"&&b1.has(t)}r(zS,"isIgnoredKey");function XS(t,e,i){var s,o;i({error_type:"class_not_found",classname:t,key_info:e});let a=(s=r(class extends n{static set key_info(l){I(this,s,new Map(l),"f",o)}static get key_info(){return[...u(this,s,"f",o).entries()]}constructor(l){super();let{key_info:f,unimplemented_dependencies:m}=Rg(l),{resolved_key_info:x,changed_keys:_}=Lh(a.key_info,f);_.length>0&&(a.key_info=x,i({error_type:"class_changed",classname:t,key_info:a.key_info,changed_keys:_}));for(let[T,w]of m)Oh(T,w,i);for(let[T,w]of f){let S=_r(T);w.type==="misc"&&w.misc_type==="NavigationEndpoint"&&(S="endpoint"),Reflect.set(this,S,Og(T,w,l))}}},"_a"),Lw(s,"node"),s.type=t,o={value:new Map},s);return a.key_info=e,Object.defineProperty(a,"name",{value:t,writable:!1}),a}r(XS,"createRuntimeClass");function Oh(t,e,i){let{key_info:s,unimplemented_dependencies:o}=Rg(e),a=XS(t,s,i);Bg(t,a);for(let[l,f]of o)Oh(l,f,i);return a}r(Oh,"generateRuntimeClass");function eb(t,e){let i=[],s=["super();"];for(let[o,a]of e){let l=_r(o);a.type==="misc"&&a.misc_type==="NavigationEndpoint"&&(l="endpoint"),i.push(`${l}${a.optional?"?":""}: ${Mg(a)};`),s.push(`this.${l} = ${Lg(o,a)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${s.join(`
    `)}
  }
}
`}r(eb,"generateTypescriptClass");function FS(t,e){return`{
${e.map(([i,s])=>`${" ".repeat((t+2)*2)}${_r(i)}${s.optional?"?":""}: ${Mg(s,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}r(FS,"toTypeDeclarationObject");function Mg(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${FS(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return FS(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primitive":return t.typeof.join(" | ")}}r(Mg,"toTypeDeclaration");function WS(t,e,i,s){let o=[...i,s];return`{
${e.map(([a,l])=>`${" ".repeat((t+2)*2)}${_r(a)}: ${Lg(a,l,o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}r(WS,"toParserObject");function Lg(t,e,i=["data"],s=1){let o="undefined";switch(e.type){case"renderer":o=`Parser.parseItem(${i.join(".")}.${t}, ${GS(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":o=`Parser.parse(${i.join(".")}.${t}, true, ${GS(e.renderers)})`;break;case"object":o=`${i.join(".")}.${t}.map((item: any) => (${WS(s,e.items.keys,[],"item")}))`;break;case"primitive":o=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":o=WS(s,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":o=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let a=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${a} : undefined`:a}default:o=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(o==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primitive":o=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${o} : undefined`:o}r(Lg,"toParser");function GS(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}r(GS,"toParserValidTypes");function Dt(t,e){let i=t;for(let s of e)i=i[s];return i}r(Dt,"accessDataFromKeyPath");function jS(t,e){let i=t;for(let s of e)if(Reflect.has(i,s))i=i[s];else return!1;return!0}r(jS,"hasDataFromKeyPath");function HS(t,e,i,s,o){let a={},l=[...i,t];for(let[f,m]of s)a[f]=o?Og(f,m,e,l):void 0;return a}r(HS,"parseObject");function Og(t,e,i,s=["data"]){let o=!e.optional||jS({data:i},[...s,t]);switch(e.type){case"renderer":return o?q(Dt({data:i},[...s,t]),e.renderers.map(a=>xs(a))):void 0;case"array":switch(e.array_type){case"renderer":return o?De(Dt({data:i},[...s,t]),!0,e.renderers.map(a=>xs(a))):void 0;case"object":return o?Dt({data:i},[...s,t]).map((a,l)=>HS(`${l}`,i,[...s,t],e.items.keys,o)):void 0;case"primitive":return o?Dt({data:i},[...s,t]):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return HS(t,i,s,e.keys,o);case"misc":switch(e.misc_type){case"NavigationEndpoint":return o?new d(Dt({data:i},[...s,t])):void 0;case"Text":return o?new p(Dt({data:i},[...s,t])):void 0;case"Thumbnail":return o?y.fromResponse(Dt({data:i},[...s,t])):void 0;case"Author":return!e.optional||jS({data:i},[...s,e.params[0]])?new P(Dt({data:i},[...s,e.params[0]]),e.params[1]?Dt({data:i},[...s,e.params[1]]):void 0):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"primitive":return Dt({data:i},[...s,t])}}r(Og,"parse");function Lh(t,e){let i=new Map,s=new Set(t.map(([T])=>T)),o=new Set(e.map(([T])=>T)),a=e.filter(([T])=>!s.has(T)),l=t.filter(([T])=>!o.has(T)),f=t.filter(([T])=>o.has(T)),m=new Map(e);for(let[T,w]of f){let S=m.get(T);if(!!S){if(w.type!==S.type){i.set(T,{type:"primitive",typeof:["unknown"],optional:!0});continue}switch(w.type){case"object":{if(S.type!=="object")continue;let{resolved_key_info:E}=Lh(w.keys,S.keys),C={type:"object",keys:E,optional:w.optional||S.optional};JSON.stringify(C)!==JSON.stringify(w)&&i.set(T,C)}break;case"renderer":{if(S.type!=="renderer")continue;let E={...w.renderers,...S.renderers},C=w.optional||S.optional,k={type:"renderer",renderers:E,optional:C};JSON.stringify({...k,renderers:Object.keys(k.renderers)})!==JSON.stringify({...w,renderers:Object.keys(w.renderers)})&&i.set(T,k)}break;case"array":{if(S.type!=="array")continue;switch(w.array_type){case"renderer":{if(S.array_type!=="renderer"){i.set(T,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let E={...w.renderers,...S.renderers},C=w.optional||S.optional,k={type:"array",array_type:"renderer",renderers:E,optional:C};JSON.stringify({...k,renderers:Object.keys(k.renderers)})!==JSON.stringify({...w,renderers:Object.keys(w.renderers)})&&i.set(T,k)}break;case"object":{if(S.array_type==="primitive"&&S.items.typeof.length==1&&S.items.typeof[0]==="never")continue;if(S.array_type!=="object"){i.set(T,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:E}=Lh(w.items.keys,S.items.keys),C={type:"array",array_type:"object",items:{type:"object",keys:E,optional:w.items.optional||S.items.optional},optional:w.optional||S.optional};JSON.stringify(C)!==JSON.stringify(w)&&i.set(T,C)}break;case"primitive":{if(w.items.typeof.includes("never")&&S.array_type==="object"){i.set(T,S);continue}if(S.array_type!=="primitive"){i.set(T,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let E=new Set([...S.items.typeof,...w.items.typeof]);E.size>1&&E.has("never")&&E.delete("never");let C={type:"array",array_type:"primitive",items:{type:"primitive",typeof:Array.from(E),optional:w.items.optional||S.items.optional},optional:w.optional||S.optional};JSON.stringify(C)!==JSON.stringify(w)&&i.set(T,C)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}break}case"misc":{if(S.type!=="misc")continue;switch(w.misc_type!==S.misc_type&&i.set(T,{type:"primitive",typeof:["unknown"],optional:!0}),w.misc_type){case"Author":{if(S.misc_type!=="Author")break;let E=w.params[1]||S.params[1],C=w.optional||S.optional,k={type:"misc",misc_type:"Author",optional:C,params:[S.params[0],E]};JSON.stringify(k)!==JSON.stringify(w)&&i.set(T,k)}break}}break;case"primitive":{if(S.type!=="primitive")continue;let E={type:"primitive",typeof:Array.from(new Set([...S.typeof,...w.typeof])),optional:w.optional||S.optional};JSON.stringify(E)!==JSON.stringify(w)&&i.set(T,E)}break}}}for(let[T,w]of a)i.set(T,{...w,optional:!0});for(let[T,w]of l)i.set(T,{...w,optional:!0});let x=t.filter(([T])=>!i.has(T));return{resolved_key_info:[...new Map([...x,...i]).entries()],changed_keys:[...i.entries()]}}r(Lh,"mergeKeyInfo");var bs=class extends n{constructor(e){var i,s,o;super(),this.contents=Ce(e.contents),Array.isArray(e.continuations)&&(this.continuation=(o=(s=(i=e.continuations)==null?void 0:i.at(0))==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)}};r(bs,"ItemSectionContinuation");bs.type="itemSectionContinuation";var Ai=class extends n{constructor(e){super(),this.endpoint=new d(e.endpoint)}};r(Ai,"NavigateAction");Ai.type="navigateAction";var gs=class extends n{constructor(e){super(),this.miniplayer_command=new d(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};r(gs,"ShowMiniplayerCommand");gs.type="showMiniplayerCommand";var Ri=class extends n{constructor(e){super(),this.target_id=e.targetId,this.contents=De(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};r(Ri,"ReloadContinuationItemsCommand");Ri.type="reloadContinuationItemsCommand";var ws=class extends n{constructor(e){var i,s,o,a,l,f;super(),this.contents=De(e.contents,!0),this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||((f=(l=(a=e.continuations)==null?void 0:a[0])==null?void 0:l.reloadContinuationData)==null?void 0:f.continuation)||null}};r(ws,"SectionListContinuation");ws.type="sectionListContinuation";var Ts=class extends n{constructor(e){var i;super(),this.contents=De(e.contents,!0),this.continuation=((i=e.continuations)==null?void 0:i[0].nextContinuationData.continuation)||null}};r(Ts,"MusicPlaylistShelfContinuation");Ts.type="musicPlaylistShelfContinuation";var vs=class extends n{constructor(e){var i,s,o,a;super(),this.contents=Ce(e.contents),this.continuation=((s=(i=e.continuations)==null?void 0:i[0].nextContinuationData)==null?void 0:s.continuation)||((a=(o=e.continuations)==null?void 0:o[0].reloadContinuationData)==null?void 0:a.continuation)||null}};r(vs,"MusicShelfContinuation");vs.type="musicShelfContinuation";var Is=class extends n{constructor(e){var i;super(),this.items=De(e.items,!0),this.continuation=((i=e.continuations)==null?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};r(Is,"GridContinuation");Is.type="gridContinuation";var Ss=class extends n{constructor(e){var i,s,o,a,l,f;super(),this.contents=Ce(e.contents),this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||((f=(l=(a=e.continuations)==null?void 0:a[0])==null?void 0:l.nextRadioContinuationData)==null?void 0:f.continuation)||null}};r(Ss,"PlaylistPanelContinuation");Ss.type="playlistPanelContinuation";var xr=class extends n{constructor(e){var i,s,o;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)==null?void 0:i.timeoutMs,this.time_until_last_message_ms=(s=e.continuation)==null?void 0:s.timeUntilLastMessageMsec,this.token=(o=e.continuation)==null?void 0:o.continuation}};r(xr,"Continuation");xr.type="continuation";var Mi=class extends n{constructor(e){var o,a,l,f,m,x,_,b;super(),this.actions=De((o=e.actions)==null?void 0:o.map(T=>(delete T.clickTrackingParams,T)),!0)||G([]),this.action_panel=q(e.actionPanel),this.item_list=q(e.itemList,Gx),this.header=q(e.header,Wx),this.participants_list=q(e.participantsList,Hx),this.popout_message=q(e.popoutMessage,ki),this.emojis=((a=e.emojis)==null?void 0:a.map(T=>({emoji_id:T.emojiId,shortcuts:T.shortcuts,search_terms:T.searchTerms,image:y.fromResponse(T.image),is_custom_emoji:T.isCustomEmoji})))||[];let i,s;(l=e.continuations)!=null&&l[0].timedContinuationData?(s="timed",i=(f=e.continuations)==null?void 0:f[0].timedContinuationData):(m=e.continuations)!=null&&m[0].invalidationContinuationData?(s="invalidation",i=(x=e.continuations)==null?void 0:x[0].invalidationContinuationData):(_=e.continuations)!=null&&_[0].liveChatReplayContinuationData&&(s="replay",i=(b=e.continuations)==null?void 0:b[0].liveChatReplayContinuationData),this.continuation=new xr({continuation:i,type:s}),this.viewer_name=e.viewerName}};r(Mi,"LiveChatContinuation");Mi.type="liveChatContinuation";var ti=class extends n{constructor(e){super(),this.request=e.request,this.token=e.token}};r(ti,"ContinuationCommand");ti.type="ContinuationCommand";var tb,ib=class{constructor(e,i){var s,o,a,l,f,m,x,_;if(tb.set(this,void 0),i&&I(this,tb,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=(s=e.stereoLayout)==null?void 0:s.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.last_modified_ms=e.lastModified,Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=(o=e.spatialAudioType)==null?void 0:o.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:(a=e.colorInfo.primaries)==null?void 0:a.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(l=e.colorInfo.transferCharacteristics)==null?void 0:l.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(f=e.colorInfo.matrixCoefficients)==null?void 0:f.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let b=new URLSearchParams(this.cipher||this.signature_cipher),w=(m=new URLSearchParams(b.get("url")||this.url).get("xtags"))==null?void 0:m.split(":");if(this.language=((x=w==null?void 0:w.find(S=>S.startsWith("lang=")))==null?void 0:x.split("=")[1])||null,this.has_audio){this.is_drc=!!e.isDrc||!!(w!=null&&w.includes("drc=1"));let S=(_=w==null?void 0:w.find(E=>E.startsWith("acont=")))==null?void 0:_.split("=")[1];this.is_dubbed=S==="dubbed",this.is_descriptive=S==="descriptive",this.is_secondary=S==="secondary",this.is_auto_dubbed=S==="dubbed-auto",this.is_original=S==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_auto_dubbed&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}async decipher(e){return e?e.decipher(this.url,this.signature_cipher,this.cipher,u(this,tb,"f")):this.url||""}};r(ib,"Format");tb=new WeakMap;var rb=ib;var Li=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=y.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};r(Li,"VideoDetails");var yr="Parser",v1=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),Fg=new Map(Object.entries(mr)),QS=new Map,br=null,ii=r(({classname:t,...e})=>{switch(e.error_type){case"parse":e.error instanceof Error&&O.warn(yr,new g(`Something went wrong at ${t}!
This is a bug, please report it at ${M.shim.info.bugs_url}`,{stack:e.error.stack,classdata:JSON.stringify(e.classdata,null,2)}));break;case"typecheck":O.warn(yr,new Qe(`Type mismatch, got ${t} expected ${Array.isArray(e.expected)?e.expected.join(" | "):e.expected}.`,e.classdata));break;case"mutation_data_missing":O.warn(yr,new g(`Mutation data required for processing ${t}, but none found.
This is a bug, please report it at ${M.shim.info.bugs_url}`));break;case"mutation_data_invalid":O.warn(yr,new g(`Mutation data missing or invalid for ${e.failed} out of ${e.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${e.titles.join(", ")}.
This is a bug, please report it at ${M.shim.info.bugs_url}`));break;case"class_not_found":O.warn(yr,new g(`${t} not found!
This is a bug, want to help us fix it? Follow the instructions at ${M.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${M.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${eb(t,e.key_info)}`));break;case"class_changed":O.warn(yr,`${t} changed!
The following keys where altered: ${e.changed_keys.map(([i])=>_r(i)).join(", ")}
The class has changed to:
${eb(t,e.key_info)}`);break;default:O.warn(yr,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function I1(t){ii=t}r(I1,"setParserErrorHandler");function Bt(){br=null}r(Bt,"_clearMemo");function Yt(){br=new ui}r(Yt,"_createMemo");function S1(t,e){if(!br)return;let i=br.get(t);if(!i)return br.set(t,[e]);i.push(e)}r(S1,"_addToMemo");function Vt(){if(!br)throw new Error("Parser#getMemo() called before Parser#createMemo()");return br}r(Vt,"_getMemo");function Wg(t){return v1.has(t)}r(Wg,"shouldIgnore");function ys(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}r(ys,"sanitizeClassName");function xs(t){let e=Fg.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}r(xs,"getParserByName");function Dh(t){return Fg.has(t)}r(Dh,"hasParser");function Bg(t,e){Fg.set(t,e),QS.set(t,e)}r(Bg,"addRuntimeParser");function E1(){return Object.fromEntries(QS)}r(E1,"getDynamicParsers");function Yg(t){var xw,yw,bw,gw,ww,Tw,vw,Iw,Sw,Ew,kw,Cw,Pw,Nw,Aw,Rw;let e={};Yt();let i=De(t.contents),s=Vt();i&&(e.contents=i,e.contents_memo=s),Bt(),Yt();let o=t.onResponseReceivedActions?sb(t.onResponseReceivedActions):null,a=Vt();o&&(e.on_response_received_actions=o,e.on_response_received_actions_memo=a),Bt(),Yt();let l=t.onResponseReceivedEndpoints?sb(t.onResponseReceivedEndpoints):null,f=Vt();l&&(e.on_response_received_endpoints=l,e.on_response_received_endpoints_memo=f),Bt(),Yt();let m=t.onResponseReceivedCommands?sb(t.onResponseReceivedCommands):null,x=Vt();m&&(e.on_response_received_commands=m,e.on_response_received_commands_memo=x),Bt(),Yt();let _=t.continuationContents?Vg(t.continuationContents):null,b=Vt();_&&(e.continuation_contents=_,e.continuation_contents_memo=b),Bt(),Yt();let T=t.actions?eE(t.actions):null,w=Vt();T&&(e.actions=T,e.actions_memo=w),Bt(),Yt();let S=t.liveChatItemContextMenuSupportedRenderers?q(t.liveChatItemContextMenuSupportedRenderers):null,E=Vt();S&&(e.live_chat_item_context_menu_supported_renderers=S,e.live_chat_item_context_menu_supported_renderers_memo=E),Bt(),Yt();let C=t.header?De(t.header):null,k=Vt();C&&(e.header=C,e.header_memo=k),Bt(),Yt();let U=t.sidebar?q(t.sidebar):null,L=Vt();U&&(e.sidebar=U,e.sidebar_memo=L),Bt(),Yt();let K=De(t.items);K&&(e.items=K,e.items_memo=Vt()),Bt(),tE(s,(yw=(xw=t.frameworkUpdates)==null?void 0:xw.entityBatchUpdate)==null?void 0:yw.mutations),f&&iE(f,(gw=(bw=t.frameworkUpdates)==null?void 0:bw.entityBatchUpdate)==null?void 0:gw.mutations);let re=t.continuation?ZS(t.continuation):null;re&&(e.continuation=re);let he=t.continuationEndpoint?Vg(t.continuationEndpoint):null;he&&(e.continuation_endpoint=he);let Y=De(t.metadata);Y&&(e.metadata=Y);let te=q(t.microformat);te&&(e.microformat=te);let F=q(t.overlay);F&&(e.overlay=F);let B=Ce(t.alerts,[Br,Vd]);B.length&&(e.alerts=B);let X=t.refinements;X&&(e.refinements=X);let Z=t.estimatedResults?parseInt(t.estimatedResults):null;Z&&(e.estimated_results=Z);let Ue=De(t.playerOverlays);Ue&&(e.player_overlays=Ue);let ut=q(t.background,Ie);ut&&(e.background=ut);let ft=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;ft&&(e.playback_tracking=ft);let mt=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:q(t.playabilityStatus.audioOnlyPlayability,Fd),error_screen:q(t.playabilityStatus.errorScreen)}:null;if(mt&&(e.playability_status=mt),t.streamingData){let ad=new Map;e.streaming_data={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:Ug(t.streamingData.formats,ad),adaptive_formats:Ug(t.streamingData.adaptiveFormats,ad),dash_manifest_url:t.streamingData.dashManifestUrl,hls_manifest_url:t.streamingData.hlsManifestUrl,server_abr_streaming_url:t.streamingData.serverAbrStreamingUrl}}t.playerConfig&&(e.player_config={audio_config:{loudness_db:(ww=t.playerConfig.audioConfig)==null?void 0:ww.loudnessDb,perceptual_loudness_db:(Tw=t.playerConfig.audioConfig)==null?void 0:Tw.perceptualLoudnessDb,enable_per_format_loudness:(vw=t.playerConfig.audioConfig)==null?void 0:vw.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((Iw=t.playerConfig.streamSelectionConfig)==null?void 0:Iw.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((Ew=(Sw=t.playerConfig.mediaCommonConfig)==null?void 0:Sw.dynamicReadaheadConfig)==null?void 0:Ew.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((Cw=(kw=t.playerConfig.mediaCommonConfig)==null?void 0:kw.dynamicReadaheadConfig)==null?void 0:Cw.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((Nw=(Pw=t.playerConfig.mediaCommonConfig)==null?void 0:Pw.dynamicReadaheadConfig)==null?void 0:Nw.readAheadGrowthRateMs)||0},media_ustreamer_request_config:{video_playback_ustreamer_config:(Rw=(Aw=t.playerConfig.mediaCommonConfig)==null?void 0:Aw.mediaUstreamerRequestConfig)==null?void 0:Rw.videoPlaybackUstreamerConfig}}});let Fe=t.currentVideoEndpoint?new d(t.currentVideoEndpoint):null;Fe&&(e.current_video_endpoint=Fe);let li=t.endpoint?new d(t.endpoint):null;li&&(e.endpoint=li);let jt=q(t.captions,xy);jt&&(e.captions=jt);let ae=t.videoDetails?new Li(t.videoDetails):null;ae&&(e.video_details=ae);let ze=Ce(t.annotations,_y);ze.length&&(e.annotations=ze);let pe=q(t.storyboards,[Qi,gy]);pe&&(e.storyboards=pe);let Ae=q(t.endscreen,cx);Ae&&(e.endscreen=Ae);let tt=q(t.cards,S_);tt&&(e.cards=tt);let oe=Ce(t.engagementPanels,Ii);return oe.length&&(e.engagement_panels=oe),t.playerResponse&&(e.player_response=Yg(t.playerResponse)),t.watchNextResponse&&(e.watch_next_response=Yg(t.watchNextResponse)),t.cpnInfo&&(e.cpn_info={cpn:t.cpnInfo.cpn,cpn_source:t.cpnInfo.cpnSource}),t.entries&&(e.entries=t.entries.map(ad=>new d(ad))),e}r(Yg,"parseResponse");function q(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let s=ys(i[0]);if(!Wg(s))try{let a=Dh(s)?xs(s):Oh(s,t[i[0]],ii);if(e){if(Array.isArray(e)){if(!e.some(f=>f.type===a.type))return ii({classdata:t[i[0]],classname:s,error_type:"typecheck",expected:e.map(f=>f.type)}),null}else if(a.type!==e.type)return ii({classdata:t[i[0]],classname:s,error_type:"typecheck",expected:e.type}),null}let l=new a(t[i[0]]);return S1(s,l),l}catch(o){return ii({classname:s,classdata:t[i[0]],error:o,error_type:"parse"}),null}return null}r(q,"parseItem");function Ce(t,e){if(Array.isArray(t)){let i=[];for(let s of t){let o=q(s,e);o&&i.push(o)}return G(i)}else if(!t)return G([]);throw new Qe("Expected array but got a single item")}r(Ce,"parseArray");function De(t,e,i){if(!t)return null;if(Array.isArray(t)){let s=[];for(let a of t){let l=q(a,i);l&&s.push(l)}let o=G(s);return e?o:new Nt(o)}else if(e)throw new Qe("Expected array but got a single item");return new Nt(q(t,i))}r(De,"parse");var k1=/Command$/,C1=/Endpoint$/,P1=/Action$/;function JS(t){let e=[];try{e=Object.keys(t)}catch{}for(let i of e){let s=t[i];if(k1.test(i)||C1.test(i)||P1.test(i)){let o=ys(i);if(Wg(o))return;try{if(Dh(o))return new(xs(o))(s)}catch(a){ii({error:a,classname:o,classdata:s,error_type:"parse"})}}}}r(JS,"parseCommand");function N1(t){if(Array.isArray(t)){let e=[];for(let i of t){let s=JS(i);s&&e.push(s)}return G(e)}else if(!t)return G([]);throw new Qe("Expected array but got a single item")}r(N1,"parseCommands");function ZS(t){return t.timedContinuationData?new xr({continuation:t.timedContinuationData,type:"timed"}):null}r(ZS,"parseC");function Vg(t){return t.itemSectionContinuation?new bs(t.itemSectionContinuation):t.sectionListContinuation?new ws(t.sectionListContinuation):t.liveChatContinuation?new Mi(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new Ts(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new vs(t.musicShelfContinuation):t.gridContinuation?new Is(t.gridContinuation):t.playlistPanelContinuation?new Ss(t.playlistPanelContinuation):t.continuationCommand?new ti(t.continuationCommand):null}r(Vg,"parseLC");function sb(t){return G(t.map(e=>{if(e.navigateAction)return new Ai(e.navigateAction);if(e.showMiniplayerCommand)return new gs(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new Ri(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new er(e.appendContinuationItemsAction)}).filter(e=>e))}r(sb,"parseRR");function eE(t){return Array.isArray(t)?De(t.map(e=>(delete e.clickTrackingParams,e))):new Nt(q(t))}r(eE,"parseActions");function Ug(t,e){return(t==null?void 0:t.map(i=>new rb(i,e)))||[]}r(Ug,"parseFormats");function tE(t,e){let i=t.getType(ss);if(i.length>0&&!e)ii({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let s=[];for(let o of i){let a=e.find(f=>{var m,x;return((x=(m=f.payload)==null?void 0:m.musicFormBooleanChoice)==null?void 0:x.id)===o.form_item_entity_key}),l=a==null?void 0:a.payload.musicFormBooleanChoice;(l==null?void 0:l.selected)!==void 0&&(l==null?void 0:l.opaqueToken)?o.selected=l.selected:s.push(`'${o.title}'`)}s.length>0&&ii({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:s.length,titles:s})}}r(tE,"applyMutations");function iE(t,e){var s,o,a,l,f,m;let i=t.getType(or);if(i.length>0){e||ii({error_type:"mutation_data_missing",classname:"CommentView"});for(let x of i){let _=(o=(s=e.find(w=>{var S,E;return((E=(S=w.payload)==null?void 0:S.commentEntityPayload)==null?void 0:E.key)===x.keys.comment}))==null?void 0:s.payload)==null?void 0:o.commentEntityPayload,b=(l=(a=e.find(w=>{var S,E;return((E=(S=w.payload)==null?void 0:S.engagementToolbarStateEntityPayload)==null?void 0:E.key)===x.keys.toolbar_state}))==null?void 0:a.payload)==null?void 0:l.engagementToolbarStateEntityPayload,T=(m=(f=e.find(w=>w.entityKey===x.keys.toolbar_surface))==null?void 0:f.payload)==null?void 0:m.engagementToolbarSurfaceEntityPayload;x.applyMutations(_,b,T)}}}r(iE,"applyCommentsMutations");var qg={};Xe(qg,{AccountInfo:()=>rE,Channel:()=>ge,ChannelListContinuation:()=>Ir,Comments:()=>oE,FilteredChannelList:()=>Yi,Guide:()=>nE,HashtagFeed:()=>Vi,History:()=>Ft,HomeFeed:()=>ri,ItemMenu:()=>hb,Library:()=>pE,LiveChat:()=>vb,NotificationsMenu:()=>lE,Playlist:()=>Os,Search:()=>ni,Settings:()=>uE,SmoothedQueue:()=>bb,TranscriptInfo:()=>cb,VideoInfo:()=>Kh});var Es,ob=class{constructor(e){if(Es.set(this,void 0),I(this,Es,c.parseResponse(e.data),"f"),!u(this,Es,"f").contents)throw new g("Page contents not found");let i=u(this,Es,"f").contents.array().as(Cd).first();if(!i)throw new g("Account section list not found");this.contents=i.contents.first()}get page(){return u(this,Es,"f")}};r(ob,"AccountInfo");Es=new WeakMap;var rE=ob;var Bh,Pe,Yh,He,gr,sE,Gg,Oi=class{constructor(e,i,s=!1){Bh.add(this),Pe.set(this,void 0),Yh.set(this,void 0),He.set(this,void 0),gr.set(this,void 0),u(this,Bh,"m",sE).call(this,i)||s?I(this,Pe,i,"f"):I(this,Pe,c.parseResponse(i.data),"f");let o=jg(u(this,Pe,"f").contents_memo,u(this,Pe,"f").continuation_contents_memo,u(this,Pe,"f").on_response_received_commands_memo,u(this,Pe,"f").on_response_received_endpoints_memo,u(this,Pe,"f").on_response_received_actions_memo,u(this,Pe,"f").sidebar_memo,u(this,Pe,"f").header_memo);if(!o)throw new g("No memo found in feed");I(this,He,o,"f"),I(this,Yh,e,"f")}static getVideosFromMemo(e){return e.getType(Wr,yx,ls,ds,Gr,ps,ei,zy)}static getPlaylistsFromMemo(e){let i=e.getType(Rt,dx),s=e.getType(Kx).filter(o=>["PLAYLIST","ALBUM","PODCAST"].includes(o.content_type));return s.length>0&&i.push(...s),i}get videos(){return Oi.getVideosFromMemo(u(this,He,"f"))}get posts(){return u(this,He,"f").getType(bi,cs,By)}get channels(){return u(this,He,"f").getType(k_,hx)}get playlists(){return Oi.getPlaylistsFromMemo(u(this,He,"f"))}get memo(){return u(this,He,"f")}get page_contents(){var o;let e=(o=u(this,He,"f").getType(Se))==null?void 0:o.first().content,i=u(this,He,"f").getType(Ri).first(),s=u(this,He,"f").getType(er).first();return e||i||s}get shelves(){return u(this,He,"f").getType(hs,Ay,Hr)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var i,s;if(!((i=u(this,Pe,"f").contents)!=null&&i.is_node))return;let e=(s=u(this,Pe,"f").contents)==null?void 0:s.item();if(!!e.is(Ot,Gy))return e.secondary_contents}get actions(){return u(this,Yh,"f")}get page(){return u(this,Pe,"f")}get has_continuation(){return u(this,Bh,"m",Gg).call(this).length>0}async getContinuationData(){if(u(this,gr,"f")){if(u(this,gr,"f").length===0)throw new g("There are no continuations.");return await u(this,gr,"f")[0].endpoint.call(u(this,Yh,"f"),{parse:!0})}if(I(this,gr,u(this,Bh,"m",Gg).call(this),"f"),u(this,gr,"f"))return this.getContinuationData()}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Oi(this.actions,e,!0)}};r(Oi,"Feed");Pe=new WeakMap,Yh=new WeakMap,He=new WeakMap,gr=new WeakMap,Bh=new WeakSet,sE=r(function(e){return!("data"in e)},"_Feed_isParsed"),Gg=r(function(){if(u(this,Pe,"f").header_memo){let e=u(this,Pe,"f").header_memo.getType(J);return u(this,He,"f").getType(J).filter(i=>!e.includes(i))}return u(this,He,"f").getType(J)},"_Feed_getBodyContinuations");var be=Oi;var ks,nb=class extends be{constructor(e,i,s=!1){super(e,i,s),ks.set(this,void 0)}get filter_chips(){var e,i;if(u(this,ks,"f"))return u(this,ks,"f")||[];if(((e=this.memo.getType(vt))==null?void 0:e.length)>1)throw new g("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(vt))==null?void 0:i.length)===0)throw new g("There are no feed filter chipbars");return I(this,ks,this.memo.getType(je),"f"),u(this,ks,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}async getFilteredFeed(e){var o;let i;if(typeof e=="string"){if(!this.filters.includes(e))throw new g("Filter not found",{available_filters:this.filters});i=this.filter_chips.find(a=>a.text.toString()===e)}else if(e.type==="ChipCloudChip")i=e;else throw new g("Invalid filter");if(!i)throw new g("Filter not found");if(i.is_selected)return this;let s=await((o=i.endpoint)==null?void 0:o.call(this.actions,{parse:!0}));if(!s)throw new g("Failed to get filtered feed");return new be(this.actions,s,!0)}};r(nb,"FilterableFeed");ks=new WeakMap;var Di=nb;var Hg={};Xe(Hg,{Feed:()=>be,FilterableFeed:()=>Di,MediaInfo:()=>Ps,TabbedFeed:()=>Vh});var Bi,St,Cs,ab,pb=class{constructor(e,i,s){var l,f,m,x,_,b,T,w,S,E,C,k,U,L,K,re,he,Y,te,F,B,X;Bi.set(this,void 0),St.set(this,void 0),Cs.set(this,void 0),ab.set(this,void 0),I(this,St,i,"f");let o=c.parseResponse(e[0].data.playerResponse?e[0].data.playerResponse:e[0].data),a=(l=e[1])!=null&&l.data?c.parseResponse(e[1].data):void 0;if(I(this,Bi,[o,a],"f"),I(this,Cs,s,"f"),((f=o.playability_status)==null?void 0:f.status)==="ERROR")throw new g("This video is unavailable",o.playability_status);if(o.microformat&&!((m=o.microformat)!=null&&m.is(et,Ci)))throw new g("Unsupported microformat",o.microformat);this.basic_info={...o.video_details,embed:(x=o.microformat)!=null&&x.is(et)?(_=o.microformat)==null?void 0:_.embed:null,channel:(b=o.microformat)!=null&&b.is(et)?(T=o.microformat)==null?void 0:T.channel:null,is_unlisted:(w=o.microformat)==null?void 0:w.is_unlisted,is_family_safe:(S=o.microformat)==null?void 0:S.is_family_safe,category:(E=o.microformat)!=null&&E.is(et)?(C=o.microformat)==null?void 0:C.category:null,has_ypc_metadata:(k=o.microformat)!=null&&k.is(et)?(U=o.microformat)==null?void 0:U.has_ypc_metadata:null,start_timestamp:(L=o.microformat)!=null&&L.is(et)?o.microformat.start_timestamp:null,end_timestamp:(K=o.microformat)!=null&&K.is(et)?o.microformat.end_timestamp:null,view_count:((re=o.microformat)==null?void 0:re.is(et))&&isNaN((he=o.video_details)==null?void 0:he.view_count)?o.microformat.view_count:(Y=o.video_details)==null?void 0:Y.view_count,url_canonical:(te=o.microformat)!=null&&te.is(Ci)?(F=o.microformat)==null?void 0:F.url_canonical:null,tags:(B=o.microformat)!=null&&B.is(Ci)?(X=o.microformat)==null?void 0:X.tags:null,like_count:void 0,is_liked:void 0,is_disliked:void 0},this.annotations=o.annotations,this.storyboards=o.storyboards,this.endscreen=o.endscreen,this.captions=o.captions,this.cards=o.cards,this.streaming_data=o.streaming_data,this.playability_status=o.playability_status,this.player_config=o.player_config,I(this,ab,o.playback_tracking,"f")}async toDash(e,i,s={include_thumbnails:!1}){var f,m;let o=u(this,Bi,"f")[0];if(o.video_details&&o.video_details.is_live)throw new g("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let a,l;return s.include_thumbnails&&o.storyboards&&(a=o.storyboards),typeof s.captions_format=="string"&&((f=o.captions)==null?void 0:f.caption_tracks)&&(l=o.captions.caption_tracks),Ji.toDash(this.streaming_data,(m=this.page[0].video_details)==null?void 0:m.is_post_live_dvr,e,i,u(this,Cs,"f"),u(this,St,"f").session.player,u(this,St,"f"),a,l,s)}getStreamingInfo(e,i){var s;return fd(this.streaming_data,(s=this.page[0].video_details)==null?void 0:s.is_post_live_dvr,e,i,this.cpn,u(this,St,"f").session.player,u(this,St,"f"),u(this,Bi,"f")[0].storyboards?u(this,Bi,"f")[0].storyboards:void 0)}chooseFormat(e){return Ji.chooseFormat(e,this.streaming_data)}async download(e={}){let i=u(this,Bi,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new g("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Ji.download(e,u(this,St,"f"),this.playability_status,this.streaming_data,u(this,St,"f").session.player,this.cpn)}async getTranscript(){var a;let e=this.page[1];if(!e)throw new g("Cannot get transcript from basic video info.");if(!e.engagement_panels)throw new g("Engagement panels not found. Video likely has no transcript.");let i=e.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!i)throw new g("Transcript panel not found. Video likely has no transcript.");let s=(a=i.content)==null?void 0:a.as(J);if(!s)throw new g("Transcript continuation not found.");let o=await s.endpoint.call(this.actions);return new cb(this.actions,o)}async addToWatchHistory(e={}){var m;let i=z.CLIENTS.WEB.NAME,s=z.CLIENTS.WEB.VERSION,o="https://www.",a=(e==null?void 0:e.url)||((m=u(this,ab,"f"))==null?void 0:m.videostats_playback_url);if(!a)throw new g("Playback tracking not available");let l={cpn:u(this,Cs,"f"),fmt:251,rtn:0,rt:0},f=a.replace("https://s.",o);return await u(this,St,"f").stats(f,{client_name:i,client_version:s,visitor_data:e==null?void 0:e.visitor_data},l)}get actions(){return u(this,St,"f")}get cpn(){return u(this,Cs,"f")}get page(){return u(this,Bi,"f")}};r(pb,"MediaInfo");Bi=new WeakMap,St=new WeakMap,Cs=new WeakMap,ab=new WeakMap;var Ps=pb;var wr,Tr,vr=class extends be{constructor(e,i,s=!1){var o;super(e,i,s),wr.set(this,void 0),Tr.set(this,void 0),I(this,wr,e,"f"),I(this,Tr,(o=this.page.contents_memo)==null?void 0:o.getType(Se),"f")}get tabs(){var e,i;return(i=(e=u(this,Tr,"f"))==null?void 0:e.map(s=>s.title.toString()))!=null?i:[]}async getTabByName(e){var o;let i=(o=u(this,Tr,"f"))==null?void 0:o.find(a=>a.title.toLowerCase()===e.toLowerCase());if(!i)throw new g(`Tab "${e}" not found`);if(i.selected)return this;let s=await i.endpoint.call(u(this,wr,"f"));return new vr(u(this,wr,"f"),s,!1)}async getTabByURL(e){var o;let i=(o=u(this,Tr,"f"))==null?void 0:o.find(a=>{var l;return((l=a.endpoint.metadata.url)==null?void 0:l.split("/").pop())===e});if(!i)throw new g(`Tab "${e}" not found`);if(i.selected)return this;let s=await i.endpoint.call(u(this,wr,"f"));return new vr(u(this,wr,"f"),s,!1)}hasTabWithURL(e){var i,s;return(s=(i=u(this,Tr,"f"))==null?void 0:i.some(o=>{var a;return((a=o.endpoint.metadata.url)==null?void 0:a.split("/").pop())===e}))!=null?s:!1}get title(){var e,i,s;return(s=(i=(e=this.page.contents_memo)==null?void 0:e.getType(Se))==null?void 0:i.find(o=>o.selected))==null?void 0:s.title.toString()}};r(vr,"TabbedFeed");wr=new WeakMap,Tr=new WeakMap;var Vh=vr;var ge=class extends Vh{constructor(e,i,s=!1){var l,f,m,x,_;super(e,i,s),this.header=(f=(l=this.page.header)==null?void 0:l.item())==null?void 0:f.as($r,E_,Ex,Lt);let o=(m=this.page.metadata)==null?void 0:m.item().as(C_),a=(x=this.page.microformat)==null?void 0:x.as(Ci);if(this.page.alerts){let b=this.page.alerts.first();if((b==null?void 0:b.alert_type)==="ERROR")throw new Ns(b.text.toString())}if(!o&&!this.page.contents)throw new g("Invalid channel",this);this.metadata={...o,...a||{}},this.subscribe_button=(_=this.page.header_memo)==null?void 0:_.getType(xe).first(),this.page.contents&&(this.current_tab=this.page.contents.item().as(Ot).tabs.array().filterType(Se,es).get({selected:!0}))}async applyFilter(e){let i,s=this.memo.getType(vt).first();if(typeof e=="string"){if(i=s==null?void 0:s.contents.get({text:e}),!i)throw new g(`Filter ${e} not found`,{available_filters:this.filters})}else i=e;if(!i.endpoint)throw new g("Invalid filter",e);let o=await i.endpoint.call(this.actions,{parse:!0});if(!o)throw new g("No page returned",{filter:i});return new Yi(this.actions,o,!0)}async applySort(e){let i=this.memo.getType(xt).first();if(!i||!i.sub_menu_items)throw new g("No sort filter sub menu found");let s=i.sub_menu_items.find(a=>a.title===e);if(!s)throw new g(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(s.selected)return this;let o=await s.endpoint.call(this.actions,{parse:!0});return new ge(this.actions,o,!0)}async applyContentTypeFilter(e){var a,l,f;let i=(f=(l=(a=this.current_tab)==null?void 0:a.content)==null?void 0:l.as(de).sub_menu)==null?void 0:f.as(_a);if(!i)throw new g("Sub menu not found");let s=i.content_type_sub_menu_items.find(m=>m.title===e);if(!s)throw new g(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(s.selected)return this;let o=await s.endpoint.call(this.actions,{parse:!0});return new ge(this.actions,o,!0)}get filters(){var e,i;return((i=(e=this.memo.getType(vt))==null?void 0:e[0])==null?void 0:i.contents.filterType(je).map(s=>s.text))||[]}get sort_filters(){var i;let e=this.memo.getType(xt).first();return((i=e==null?void 0:e.sub_menu_items)==null?void 0:i.map(s=>s.title))||[]}get content_type_filters(){var i,s,o;let e=(o=(s=(i=this.current_tab)==null?void 0:i.content)==null?void 0:s.as(de).sub_menu)==null?void 0:o.as(_a);return(e==null?void 0:e.content_type_sub_menu_items.map(a=>a.title))||[]}async getHome(){let e=await this.getTabByURL("featured");return new ge(this.actions,e.page,!0)}async getVideos(){let e=await this.getTabByURL("videos");return new ge(this.actions,e.page,!0)}async getShorts(){let e=await this.getTabByURL("shorts");return new ge(this.actions,e.page,!0)}async getLiveStreams(){let e=await this.getTabByURL("streams");return new ge(this.actions,e.page,!0)}async getReleases(){let e=await this.getTabByURL("releases");return new ge(this.actions,e.page,!0)}async getPodcasts(){let e=await this.getTabByURL("podcasts");return new ge(this.actions,e.page,!0)}async getPlaylists(){let e=await this.getTabByURL("playlists");return new ge(this.actions,e.page,!0)}async getCommunity(){let e=await this.getTabByURL("community");return new ge(this.actions,e.page,!0)}async getAbout(){var i,s,o,a,l;if(this.hasTabWithURL("about"))return(await this.getTabByURL("about")).memo.getType(pa)[0];let e=((i=this.header)==null?void 0:i.is($r))&&this.header.tagline;if(e||((s=this.header)==null?void 0:s.is(Lt))&&((o=this.header.content)==null?void 0:o.description)){if(e&&e.more_endpoint instanceof d){let x=await e.more_endpoint.call(this.actions);return new Vh(this.actions,x,!1).memo.getType(pa)[0]}let f=(l=(a=this.page.header_memo)==null?void 0:a.getType(J)[0])==null?void 0:l.endpoint;if(!f)throw new g("Failed to extract continuation to get channel about");let m=await f.call(this.actions,{parse:!0});if(!m.on_response_received_endpoints_memo)throw new g("Unexpected response while fetching channel about",{response:m});return m.on_response_received_endpoints_memo.getType(vd)[0]}throw new g("About not found")}async search(e){var o;let i=(o=this.memo.getType(es))==null?void 0:o[0];if(!i)throw new g("Search tab not found",this);let s=await i.endpoint.call(this.actions,{query:e,parse:!0});return new ge(this.actions,s,!0)}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,s,o,a;return this.hasTabWithURL("about")||!!(((e=this.header)==null?void 0:e.is($r))&&((i=this.header.tagline)==null?void 0:i.more_endpoint))||!!(((s=this.header)==null?void 0:s.is(Lt))&&((a=(o=this.header.content)==null?void 0:o.description)==null?void 0:a.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(es))==null?void 0:e.length)>0}async getContinuation(){let e=await super.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Ir(this.actions,e,!0)}};r(ge,"Channel");var Ir=class extends be{constructor(e,i,s=!1){var o,a;super(e,i,s),this.contents=((o=this.page.on_response_received_actions)==null?void 0:o.first())||((a=this.page.on_response_received_endpoints)==null?void 0:a.first())}async getContinuation(){let e=await super.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Ir(this.actions,e,!0)}};r(Ir,"ChannelListContinuation");var Yi=class extends Di{constructor(e,i,s=!1){var o;super(e,i,s),this.applied_filter=this.memo.getType(je).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=(o=this.page.on_response_received_actions)==null?void 0:o.first()}async applyFilter(e){let i=await super.getFilteredFeed(e);return new Yi(this.actions,i.page,!0)}async getContinuation(){let e=await super.getContinuationData();if(!(e!=null&&e.on_response_received_actions_memo))throw new g("Unexpected continuation data",e);return e.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(vt)),e.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(je)),new Yi(this.actions,e,!0)}};r(Yi,"FilteredChannelList");var As,Ut,Rs,Sr=class{constructor(e,i,s=!1){var m,x,_;As.set(this,void 0),Ut.set(this,void 0),Rs.set(this,void 0),I(this,As,s?i:c.parseResponse(i),"f"),I(this,Ut,e,"f");let o=u(this,As,"f").on_response_received_endpoints;if(!o)throw new g("Comments page did not have any content.");let a=o.at(0),l=o.at(1);this.header=(m=a==null?void 0:a.contents)==null?void 0:m.firstOfType(Si);let f=((x=l==null?void 0:l.contents)==null?void 0:x.filterType($_))||[];this.contents=G(f.map(b=>(b.comment&&b.comment.setActions(u(this,Ut,"f")),b.setActions(u(this,Ut,"f")),b))),I(this,Rs,(_=l==null?void 0:l.contents)==null?void 0:_.firstOfType(J),"f")}async applySort(e){var o,a,l,f;if(!this.header)throw new g("Page header is missing. Cannot apply sort option.");let i;if(e==="TOP_COMMENTS"?i=(a=(o=this.header.sort_menu)==null?void 0:o.sub_menu_items)==null?void 0:a.at(0):e==="NEWEST_FIRST"&&(i=(f=(l=this.header.sort_menu)==null?void 0:l.sub_menu_items)==null?void 0:f.at(1)),!i)throw new g("Could not find target button.");if(i.selected)return this;let s=await i.endpoint.call(u(this,Ut,"f"),{parse:!0});return new Sr(u(this,Ut,"f"),s,!0)}async createComment(e){var s;if(!this.header)throw new g("Page header is missing. Cannot create comment.");let i=(s=this.header.create_renderer)==null?void 0:s.as(j_).submit_button;if(!i)throw new g("Could not find target button. You are probably not logged in.");if(!i.endpoint)throw new g("Button does not have an endpoint.");return await i.endpoint.call(u(this,Ut,"f"),{commentText:e})}async getContinuation(){if(!u(this,Rs,"f"))throw new g("Continuation not found");let e=await u(this,Rs,"f").endpoint.call(u(this,Ut,"f"),{parse:!0}),i=Object.assign({},u(this,As,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new g("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Sr(u(this,Ut,"f"),i,!0)}get has_continuation(){return!!u(this,Rs,"f")}get page(){return u(this,As,"f")}};r(Sr,"Comments");As=new WeakMap,Ut=new WeakMap,Rs=new WeakMap;var oE=Sr;var Ms,lb=class{constructor(e){Ms.set(this,void 0),I(this,Ms,c.parseResponse(e),"f"),u(this,Ms,"f").items&&(this.contents=u(this,Ms,"f").items.array().as(ts,bx))}get page(){return u(this,Ms,"f")}};r(lb,"Guide");Ms=new WeakMap;var nE=lb;var Ft=class extends be{constructor(e,i,s=!1){super(e,i,s),this.sections=this.memo.getType(It),this.feed_actions=this.memo.getType(Qd).first()}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Ft(this.actions,e,!0)}async removeVideo(e){let i;for(let l of this.sections)for(let f of l.contents){let m=f;if(m.id===e&&m.menu){i=m.menu.top_level_buttons[0].as(v).endpoint.payload.feedbackToken;break}}if(!i)throw new Error("Failed to get feedback token");let s={feedbackTokens:[i]};if(!(await this.actions.execute("/feedback",s)).data.feedbackResponses[0].isProcessed)throw new Error("Failed to remove video from watch history");return!0}};r(Ft,"History");var ri=class extends Di{constructor(e,i,s=!1){var o;super(e,i,s),this.header=this.memo.getType(fx).first(),this.contents=this.memo.getType(Ni).first()||((o=this.page.on_response_received_actions)==null?void 0:o.first())}async applyFilter(e){let i=await super.getFilteredFeed(e);return new ri(this.actions,i.page,!0)}async getContinuation(){var i;let e=await super.getContinuation();return e.page.header=this.page.header,this.header&&((i=e.page.header_memo)==null||i.set(this.header.type,[this.header])),new ri(this.actions,e.page,!0)}};r(ri,"HomeFeed");var Vi=class extends Di{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new g("Unexpected response",this.page);let s=this.page.contents_memo.getType(Se).first();if(!s.content)throw new g("Content tab has no content",s);this.page.header&&(this.header=this.page.header.item().as(gx,Lt)),this.contents=s.content.as(Ni)}async applyFilter(e){let i=await super.getFilteredFeed(e);return new Vi(this.actions,i.page)}};r(Vi,"HashtagFeed");var ub,fb,Uh,mb=class{constructor(e,i){ub.set(this,void 0),fb.set(this,void 0),Uh.set(this,void 0),I(this,ub,e,"f"),I(this,fb,i,"f");let s=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!s||!s.is(R))throw new g('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');I(this,Uh,s.as(R).items,"f")}async selectItem(e){let i;if(e instanceof v){if(!e.endpoint)throw new g("Item does not have an endpoint.");i=e.endpoint}else{let s=u(this,Uh,"f").find(o=>o.is(At)?o.as(At).icon_type===e:!1);if(!s||!s.is(At))throw new g(`Button "${e}" not found.`);i=s.endpoint}if(!i)throw new g("Target button does not have an endpoint.");return await i.call(u(this,fb,"f"),{parse:!0})}items(){return u(this,Uh,"f")}page(){return u(this,ub,"f")}};r(mb,"ItemMenu");ub=new WeakMap,fb=new WeakMap,Uh=new WeakMap;var hb=mb;var Fh,db,Ls=class extends be{constructor(e,i,s=!1){var m,x,_,b,T;super(e,i,s),Fh.add(this);let o=this.memo.getType(Sy).first(),a=this.memo.getType(ky).first(),l=this.memo.getType(Cy).first(),f=(m=this.page.alerts)==null?void 0:m.firstOfType(Br);if(f&&f.alert_type==="ERROR")throw new g(f.text.toString(),f);if(!a&&!l&&Object.keys(this.page).length===0)throw new g("Got empty continuation response. This is likely the end of the playlist.");this.info={...(x=this.page.metadata)==null?void 0:x.item().as(Ey),subtitle:o?o.subtitle:null,author:(b=(_=l==null?void 0:l.owner)==null?void 0:_.as(_s).author)!=null?b:o==null?void 0:o.author,thumbnails:(T=a==null?void 0:a.thumbnail_renderer)==null?void 0:T.as(zr,qr).thumbnail,total_items:u(this,Fh,"m",db).call(this,0,a),views:u(this,Fh,"m",db).call(this,1,a),last_updated:u(this,Fh,"m",db).call(this,2,a),can_share:o==null?void 0:o.can_share,can_delete:o==null?void 0:o.can_delete,is_editable:o==null?void 0:o.is_editable,privacy:o==null?void 0:o.privacy},this.menu=a==null?void 0:a.menu,this.endpoint=a==null?void 0:a.endpoint,this.messages=this.memo.getType(ki)}get items(){return G(this.videos.as(ps,ls,ds).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(de).first();return e?!!this.memo.getType(J).find(i=>!e.contents.includes(i)):super.has_continuation}async getContinuationData(){let e=this.memo.getType(de).first();if(!e)return await super.getContinuationData();let i=this.memo.getType(J).find(s=>!e.contents.includes(s));if(!i)throw new g("There are no continuations.");return await i.endpoint.call(this.actions,{parse:!0})}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Ls(this.actions,e,!0)}};r(Ls,"Playlist");Fh=new WeakSet,db=r(function(e,i){var s;return!i||!i.stats?"N/A":((s=i.stats[e])==null?void 0:s.toString())||"N/A"},"_Playlist_getStat");var Os=Ls;var $g,aE,_b=class extends be{constructor(e,i){if(super(e,i),$g.add(this),!this.page.contents_memo)throw new g("Page contents not found");this.header=this.memo.getType(Lt).first();let s=this.page.contents_memo.getType(hs);this.sections=s.map(o=>{var a;return{type:o.icon_type,title:o.title,contents:((a=o.content)==null?void 0:a.key("items").array())||[],getAll:()=>u(this,$g,"m",aE).call(this,o)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};r(_b,"Library");$g=new WeakSet,aE=r(async function(e){var o;if(!((o=e.menu)!=null&&o.as(R).top_level_buttons))throw new g(`The ${e.title.text} shelf doesn't have more items`);let i=e.menu.as(R).top_level_buttons.firstOfType(v);if(!i)throw new g("Did not find target button.");let s=await i.as(v).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new Os(this.actions,s,!0);case"WATCH_HISTORY":return new Ft(this.actions,s,!0);case"CONTENT_CUT":return new be(this.actions,s,!0);default:throw new g("Target shelf not implemented.")}},"_Library_getAll");var pE=_b;var si,Ui,Er,it,Et,$e;function A1(t){let e=[];for(let i of t)if(Array.isArray(i))for(let s of i)e.push(s);else e.push(i);return e}r(A1,"flattenQueue");var xb=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};r(xb,"DelayQueue");var yb=class{constructor(){si.set(this,void 0),Ui.set(this,void 0),Er.set(this,void 0),it.set(this,void 0),Et.set(this,void 0),$e.set(this,void 0),I(this,si,null,"f"),I(this,Ui,null,"f"),I(this,Er,null,"f"),I(this,it,[],"f"),I(this,Et,null,"f"),I(this,$e,new xb,"f")}enqueueActionGroup(e){if(u(this,si,"f")!==null){let i=Date.now()-u(this,si,"f");u(this,$e,"f").back.push(i),5<u(this,$e,"f").front.length+u(this,$e,"f").back.length&&(u(this,$e,"f").front.length||(u(this,$e,"f").front=u(this,$e,"f").back,u(this,$e,"f").front.reverse(),u(this,$e,"f").back=[]),u(this,$e,"f").front.pop()),I(this,Ui,Math.max(...u(this,$e,"f").getValues()),"f")}I(this,si,Date.now(),"f"),u(this,it,"f").push(e),u(this,Et,"f")===null&&I(this,Et,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(I(this,Et,null,"f"),u(this,it,"f").length){let e=1e4;u(this,Ui,"f")!==null&&u(this,si,"f")!==null&&(e=u(this,Ui,"f")-Date.now()+u(this,si,"f")),e=u(this,it,"f").length<e/80?1:Math.ceil(u(this,it,"f").length/(e/80));let i=A1(u(this,it,"f").splice(0,e));u(this,Er,"f")&&u(this,Er,"f").call(this,i),u(this,it,"f")!==null&&(e==1?(e=u(this,Ui,"f")/u(this,it,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,I(this,Et,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){u(this,Et,"f")!==null&&(clearTimeout(u(this,Et,"f")),I(this,Et,null,"f")),I(this,it,[],"f")}set callback(e){I(this,Er,e,"f")}get callback(){return u(this,Er,"f")}get action_queue(){return u(this,it,"f")}get estimated_update_interval(){return u(this,Ui,"f")}get last_update_time(){return u(this,si,"f")}get next_update_id(){return u(this,Et,"f")}get poll_response_delay_queue(){return u(this,$e,"f")}};r(yb,"SmoothedQueue");si=new WeakMap,Ui=new WeakMap,Er=new WeakMap,it=new WeakMap,Et=new WeakMap,$e=new WeakMap;var bb=yb;var we,oi,jh,gb,Cr,Wh,Gh,Kg,wb,cE,kr,Tb=class extends zs{constructor(e){var i,s;super(),we.add(this),oi.set(this,void 0),jh.set(this,void 0),gb.set(this,void 0),Cr.set(this,void 0),Wh.set(this,void 0),Gh.set(this,0),this.running=!1,this.is_replay=!1,I(this,jh,e.basic_info.id,"f"),I(this,gb,e.basic_info.channel_id,"f"),I(this,oi,e.actions,"f"),I(this,Cr,(i=e.livechat)==null?void 0:i.continuation,"f"),this.is_replay=((s=e.livechat)==null?void 0:s.is_replay)||!1,this.smoothed_queue=new bb,this.smoothed_queue.callback=async o=>{o.length?o.length<10?await u(this,we,"m",wb).call(this,o):this.is_replay?(u(this,we,"m",wb).call(this,o),await u(this,we,"m",kr).call(this,2e3)):u(this,we,"m",wb).call(this,o):await u(this,we,"m",kr).call(this,2e3),this.running&&u(this,we,"m",Kg).call(this)}}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,u(this,we,"m",Kg).call(this),u(this,we,"m",cE).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}async sendMessage(e){let i=xT.encode({params:{ids:{videoId:u(this,jh,"f"),channelId:u(this,gb,"f")}},number0:1,number1:4}),s=btoa(encodeURIComponent(zt(i.finish()))),o=await u(this,oi,"f").execute("/live_chat/send_message",{richMessage:{textSegments:[{text:e}]},clientMessageId:M.shim.uuidv4(),client:"WEB",parse:!0,params:s});if(!o.actions)throw new g("Unexpected response from send_message",o);return o.actions.array().as(Rx)}applyFilter(e){var s,o,a,l,f,m,x;if(!this.initial_info)throw new g("Cannot apply filter before initial info is retrieved.");let i=(a=(o=(s=this.initial_info)==null?void 0:s.header)==null?void 0:o.view_selector)==null?void 0:a.sub_menu_items;if(e==="TOP_CHAT"){if((l=i==null?void 0:i.at(0))!=null&&l.selected)return;I(this,Cr,(f=i==null?void 0:i.at(0))==null?void 0:f.continuation,"f")}else{if((m=i==null?void 0:i.at(1))!=null&&m.selected)return;I(this,Cr,(x=i==null?void 0:i.at(1))==null?void 0:x.continuation,"f")}}async getItemMenu(e){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(d))throw new g("This item does not have a menu.",e);let i=await e.key("menu_endpoint").instanceof(d).call(u(this,oi,"f"),{parse:!0});if(!i)throw new g("Could not retrieve item menu.",e);return new hb(i,u(this,oi,"f"))}async selectButton(e){return await e.endpoint.call(u(this,oi,"f"),{parse:!0})}};r(Tb,"LiveChat");oi=new WeakMap,jh=new WeakMap,gb=new WeakMap,Cr=new WeakMap,Wh=new WeakMap,Gh=new WeakMap,we=new WeakSet,Kg=r(function t(){(async()=>{var e,i;try{let s=await u(this,oi,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:u(this,Cr,"f"),parse:!0}),o=s.continuation_contents;if(o||(this.emit("error",new g("Unexpected live chat incremental continuation response",s)),this.emit("end"),this.stop()),!(o instanceof Mi)){this.stop(),this.emit("end");return}I(this,Cr,o.continuation.token,"f"),o.header?(this.initial_info=o,this.emit("start",o),this.running&&u(this,we,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(o.actions),I(this,Gh,0,"f")}catch(s){this.emit("error",s),I(this,Gh,(i=u(this,Gh,"f"),e=i++,i),"f"),e<10?(await u(this,we,"m",kr).call(this,2e3),u(this,we,"m",t).call(this)):(this.emit("error",new g("Reached retry limit for incremental continuation requests",s)),this.emit("end"),this.stop())}})()},"_LiveChat_pollLivechat"),wb=r(async function(e){let s=e.length<125?1:Math.ceil(e.length/125),o=s==1?(s=1e4/e.length,s*=Math.random()+.5,s=Math.min(1e3,s),s=Math.max(80,s)):s=80;for(let a of e)await u(this,we,"m",kr).call(this,o),this.emit("chat-update",a)},"_LiveChat_emitSmoothedActions"),cE=r(function t(){(async()=>{var e,i,s,o,a,l,f,m,x,_,b;try{let T={videoId:u(this,jh,"f")};u(this,Wh,"f")&&(T.continuation=u(this,Wh,"f"));let w=await u(this,oi,"f").execute("/updated_metadata",T),S=c.parseResponse(w.data);I(this,Wh,(e=S.continuation)==null?void 0:e.token,"f"),this.metadata={title:((i=S.actions)==null?void 0:i.array().firstOfType(Vx))||((s=this.metadata)==null?void 0:s.title),description:((o=S.actions)==null?void 0:o.array().firstOfType(Yx))||((a=this.metadata)==null?void 0:a.description),views:((l=S.actions)==null?void 0:l.array().firstOfType(Fx))||((f=this.metadata)==null?void 0:f.views),likes:((m=S.actions)==null?void 0:m.array().firstOfType(Ux))||((x=this.metadata)==null?void 0:x.likes),date:((_=S.actions)==null?void 0:_.array().firstOfType(Bx))||((b=this.metadata)==null?void 0:b.date)},this.emit("metadata-update",this.metadata),await u(this,we,"m",kr).call(this,5e3),this.running&&u(this,we,"m",t).call(this)}catch{await u(this,we,"m",kr).call(this,2e3),this.running&&u(this,we,"m",t).call(this)}})()},"_LiveChat_pollMetadata"),kr=r(async function(e){return new Promise(i=>setTimeout(()=>i(),e))},"_LiveChat_wait");var vb=Tb;var Fi,Hh,Ds=class{constructor(e,i){if(Fi.set(this,void 0),Hh.set(this,void 0),I(this,Hh,e,"f"),I(this,Fi,c.parseResponse(i.data),"f"),!u(this,Fi,"f").actions_memo)throw new g("Page actions not found");this.header=u(this,Fi,"f").actions_memo.getType(Qx).first(),this.contents=u(this,Fi,"f").actions_memo.getType(fy)}async getContinuation(){var s;let e=(s=u(this,Fi,"f").actions_memo)==null?void 0:s.getType(J).first();if(!e)throw new g("Continuation not found");let i=await e.endpoint.call(u(this,Hh,"f"),{parse:!1});return new Ds(u(this,Hh,"f"),i)}get page(){return u(this,Fi,"f")}};r(Ds,"NotificationsMenu");Fi=new WeakMap,Hh=new WeakMap;var lE=Ds;var ni=class extends be{constructor(e,i,s=!1){var a,l,f;super(e,i,s);let o=((a=this.page.contents_memo)==null?void 0:a.getType(de).first().contents)||((l=this.page.on_response_received_commands)==null?void 0:l.first().contents);if(!o)throw new g("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(My)),this.results=G(o.filterType(It).flatMap(m=>m.contents)),this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType(Ly).first(),this.watch_card=this.page.contents_memo.getType($y).first()),this.refinement_cards=(f=this.results)==null?void 0:f.firstOfType(wi)}async selectRefinementCard(e){var o,a;let i;if(typeof e=="string"){if(!this.refinement_cards)throw new g("No refinement cards found.");if(i=(a=(o=this.refinement_cards)==null?void 0:o.cards.get({query:e}))==null?void 0:a.as(tr),!i)throw new g(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")i=e;else throw new g("Invalid refinement card!");let s=await i.endpoint.call(this.actions,{parse:!0});return new ni(this.actions,s,!0)}get refinement_card_queries(){var e;return((e=this.refinement_cards)==null?void 0:e.cards.as(tr).map(i=>i.query))||[]}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new ni(this.actions,e,!0)}};r(ni,"Search");var Pr,$h,Bs=class{constructor(e,i){var a,l,f,m;if(Pr.set(this,void 0),$h.set(this,void 0),I(this,$h,e,"f"),I(this,Pr,c.parseResponse(i.data),"f"),this.sidebar=(a=u(this,Pr,"f").sidebar)==null?void 0:a.as(Dy),!u(this,Pr,"f").contents)throw new g("Page contents not found");let s=u(this,Pr,"f").contents.item().as(Ot).tabs.array().as(Se).get({selected:!0});if(!s)throw new g("Target tab not found");let o=(l=s.content)==null?void 0:l.as(de).contents.as(It);this.introduction=(m=(f=o==null?void 0:o.shift())==null?void 0:f.contents)==null?void 0:m.firstOfType(hy),this.sections=o==null?void 0:o.map(x=>{var _;return{title:(_=x.header)!=null&&_.is(Si,is,rs)?x.header.title.toString():null,contents:x.contents}})}async selectSidebarItem(e){if(!this.sidebar)throw new g("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new g(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(yi))i=e;else throw new g("Invalid item",{target_item:e});let s=await i.endpoint.call(u(this,$h,"f"),{parse:!1});return new Bs(u(this,$h,"f"),s)}getSettingOption(e){var i;if(!this.sections)throw new g("Sections not available");for(let s of this.sections)if(!!s.contents)for(let o of s.contents){let a=o.as(ms).options;if(a){for(let l of a)if(l.is(fs)&&((i=l.title)==null?void 0:i.toString())===e)return l}}throw new g(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new g("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let s of i.contents)s.as(ms).options&&(e=e.concat(s.as(ms).options));return e.map(i=>{var s;return(s=i.title)==null?void 0:s.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new g("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return u(this,Pr,"f")}};r(Bs,"Settings");Pr=new WeakMap,$h=new WeakMap;var uE=Bs;var Wi,Ys=class extends Ps{constructor(e,i,s){var x,_,b,T,w,S,E,C,k,U,L,K,re,he,Y,te,F,B,X,Z,Ue,ut,ft,mt,Fe,li,jt,ae,ze;super(e,i,s),Wi.set(this,void 0);let[o,a]=this.page;if(this.streaming_data){let pe=this.streaming_data.adaptive_formats.find(Ae=>{var tt;return(tt=Ae.audio_track)==null?void 0:tt.audio_is_default});if(pe)this.streaming_data.formats.forEach(Ae=>Ae.language=pe.language);else if(((x=this.captions)==null?void 0:x.caption_tracks)&&((_=this.captions)==null?void 0:_.caption_tracks.length)>0){let Ae=this.captions.caption_tracks.find(oe=>oe.kind==="asr"),tt=Ae==null?void 0:Ae.language_code;this.streaming_data.adaptive_formats.forEach(oe=>{oe.has_audio&&(oe.language=tt)}),this.streaming_data.formats.forEach(oe=>oe.language=tt)}}let l=(b=a==null?void 0:a.contents)==null?void 0:b.item().as(Hy),f=l==null?void 0:l.results,m=l==null?void 0:l.secondary_results;if(f&&m){if(((T=o.microformat)==null?void 0:T.is(et))&&((w=o.microformat)==null?void 0:w.category)==="Gaming"){let oe=(C=(E=(S=f.firstOfType(wh))==null?void 0:S.metadata)==null?void 0:E.rows)==null?void 0:C.firstOfType(om);oe!=null&&oe.is(om)&&(this.game_info={title:(U=(k=oe==null?void 0:oe.contents)==null?void 0:k.firstOfType(rm))==null?void 0:U.title,release_year:(K=(L=oe==null?void 0:oe.contents)==null?void 0:L.firstOfType(rm))==null?void 0:K.subtitle})}this.primary_info=f.firstOfType(qy),this.secondary_info=f.firstOfType(wh),this.merchandise=f.firstOfType(Jx),this.related_chip_cloud=(re=m.firstOfType(Ny))==null?void 0:re.content.as(Kr),l!=null&&l.playlist&&(this.playlist=l.playlist),this.watch_next_feed=((he=m.firstOfType(It))==null?void 0:he.contents)||m,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((Y=this.watch_next_feed.at(-1))==null?void 0:Y.is(J))&&I(this,Wi,(te=this.watch_next_feed.pop())==null?void 0:te.as(J),"f"),this.player_overlays=(F=a==null?void 0:a.player_overlays)==null?void 0:F.item().as(Iy),l!=null&&l.autoplay&&(this.autoplay=l.autoplay);let pe=(X=(B=this.primary_info)==null?void 0:B.menu)==null?void 0:X.top_level_buttons.firstOfType(dr);((Z=pe==null?void 0:pe.like_button)==null?void 0:Z.is(se))&&((Ue=pe==null?void 0:pe.dislike_button)==null?void 0:Ue.is(se))&&(this.basic_info.like_count=(ut=pe==null?void 0:pe.like_button)==null?void 0:ut.like_count,this.basic_info.is_liked=(ft=pe==null?void 0:pe.like_button)==null?void 0:ft.is_toggled,this.basic_info.is_disliked=(mt=pe==null?void 0:pe.dislike_button)==null?void 0:mt.is_toggled);let Ae=(li=(Fe=this.primary_info)==null?void 0:Fe.menu)==null?void 0:li.top_level_buttons.firstOfType(Xt);if(Ae&&(this.basic_info.like_count=Ae.like_count,Ae.like_button)){let oe=Ae.like_button.like_status_entity.like_status;this.basic_info.is_liked=oe==="LIKE",this.basic_info.is_disliked=oe==="DISLIKE"}let tt=(jt=f.get({target_id:"comments-entry-point"}))==null?void 0:jt.as(It);this.comments_entry_point_header=(ae=tt==null?void 0:tt.contents)==null?void 0:ae.firstOfType(G_),this.livechat=(ze=a==null?void 0:a.contents_memo)==null?void 0:ze.getType(Px).first()}}async selectFilter(e){var a,l,f,m;if(!this.related_chip_cloud)throw new g("Chip cloud not found, cannot apply filter");let i;if(typeof e=="string"){let x=(l=(a=this.related_chip_cloud)==null?void 0:a.chips)==null?void 0:l.get({text:e});if(!x)throw new g("Invalid filter",{available_filters:this.filters});i=x}else if(e!=null&&e.is(je))i=e;else throw new g("Invalid cloud chip",e);if(i.is_selected)return this;let s=await((f=i.endpoint)==null?void 0:f.call(this.actions,{parse:!0})),o=(m=s==null?void 0:s.on_response_received_endpoints)==null?void 0:m.get({target_id:"watch-next-feed"});return this.watch_next_feed=o==null?void 0:o.contents,this}async addToWatchHistory(e={}){return super.addToWatchHistory(e)}async getWatchNextContinuation(){var s,o,a,l,f;if(!u(this,Wi,"f"))throw new g("Watch next feed continuation not found");let e=await((s=u(this,Wi,"f"))==null?void 0:s.endpoint.call(this.actions,{parse:!0})),i=(o=e==null?void 0:e.on_response_received_endpoints)==null?void 0:o.get({type:"AppendContinuationItemsAction"});if(!i)throw new g("AppendContinuationItemsAction not found");return this.watch_next_feed=i==null?void 0:i.contents,(l=(a=this.watch_next_feed)==null?void 0:a.at(-1))!=null&&l.is(J)?I(this,Wi,(f=this.watch_next_feed.pop())==null?void 0:f.as(J),"f"):I(this,Wi,void 0,"f"),this}async like(){var o,a,l,f,m;let e=(a=(o=this.primary_info)==null?void 0:o.menu)==null?void 0:a.top_level_buttons.firstOfType(Xt);if(e){let x=(l=e==null?void 0:e.like_button)==null?void 0:l.toggle_button;if(!x||!x.default_button||!e.like_button)throw new g("Like button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="LIKE")throw new g("This video is already liked",{video_id:this.basic_info.id});return await new d(x.default_button.on_tap.payload.commands.find(T=>T.innertubeCommand)).call(this.actions)}let i=(m=(f=this.primary_info)==null?void 0:f.menu)==null?void 0:m.top_level_buttons.firstOfType(dr),s=i==null?void 0:i.like_button;if(!s)throw new g("Like button not found",{video_id:this.basic_info.id});if(!s.is(se))throw new g("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new g("This video is already liked",{video_id:this.basic_info.id});return await s.endpoint.call(this.actions)}async dislike(){var o,a,l,f,m;let e=(a=(o=this.primary_info)==null?void 0:o.menu)==null?void 0:a.top_level_buttons.firstOfType(Xt);if(e){let x=(l=e==null?void 0:e.dislike_button)==null?void 0:l.toggle_button;if(!x||!x.default_button||!e.dislike_button||!e.like_button)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="DISLIKE")throw new g("This video is already disliked",{video_id:this.basic_info.id});return await new d(x.default_button.on_tap.payload.commands.find(T=>T.innertubeCommand)).call(this.actions)}let i=(m=(f=this.primary_info)==null?void 0:f.menu)==null?void 0:m.top_level_buttons.firstOfType(dr),s=i==null?void 0:i.dislike_button;if(!s)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(!s.is(se))throw new g("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new g("This video is already disliked",{video_id:this.basic_info.id});return await s.endpoint.call(this.actions)}async removeRating(){var l,f,m,x,_,b,T;let e,i=(f=(l=this.primary_info)==null?void 0:l.menu)==null?void 0:f.top_level_buttons.firstOfType(Xt);if(i){let w=(m=i==null?void 0:i.like_button)==null?void 0:m.toggle_button;if(!w||!w.default_button||!i.like_button)throw new g("Like button not found",{video_id:this.basic_info.id});let S=i.like_button.like_status_entity.like_status;if(S==="LIKE")e=(x=i==null?void 0:i.like_button)==null?void 0:x.toggle_button;else if(S==="DISLIKE")e=(_=i==null?void 0:i.dislike_button)==null?void 0:_.toggle_button;else throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});if(!e||!e.toggled_button)throw new g("Like/Dislike button not found",{video_id:this.basic_info.id});return await new d(e.toggled_button.on_tap.payload.commands.find(C=>C.innertubeCommand)).call(this.actions)}let s=(T=(b=this.primary_info)==null?void 0:b.menu)==null?void 0:T.top_level_buttons.firstOfType(dr),o=s==null?void 0:s.like_button,a=s==null?void 0:s.dislike_button;if(!(o!=null&&o.is(se))||!(a!=null&&a.is(se)))throw new g("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(o!=null&&o.is_toggled?e=o:a!=null&&a.is_toggled&&(e=a),!e)throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});return await e.toggled_endpoint.call(this.actions)}getLiveChat(){if(!this.livechat)throw new g("Live Chat is not available",{video_id:this.basic_info.id});return new vb(this)}getTrailerInfo(){var e,i;if(this.has_trailer&&this.playability_status){let s=(i=(e=this.playability_status.error_screen)==null?void 0:e.as(Tf).trailer)==null?void 0:i.player_response;if(s)return new Ys([{data:s}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)==null?void 0:e.chips)==null?void 0:i.map(s=>{var o;return(o=s.text)==null?void 0:o.toString()}))||[]}get wn_has_continuation(){return!!u(this,Wi,"f")}get autoplay_video_endpoint(){var e,i,s;return((s=(i=(e=this.autoplay)==null?void 0:e.sets)==null?void 0:i[0])==null?void 0:s.autoplay_video)||null}get has_trailer(){var e,i;return!!((i=(e=this.playability_status)==null?void 0:e.error_screen)!=null&&i.is(Tf))}get music_tracks(){var i,s,o,a,l,f;let e=(s=(i=this.page[1])==null?void 0:i.engagement_panels)==null?void 0:s.filter(m=>{var x;return(x=m.content)==null?void 0:x.is(sr)});if(e!==void 0&&e.length>0){let m=(l=(a=(o=e[0].content)==null?void 0:o.as(sr))==null?void 0:a.items)==null?void 0:l.filterType(jr);if(m!==void 0&&m.length>0)return(f=m[0].carousel_lockups)==null?void 0:f.map(x=>{var C,k,U,L,K,re,he,Y,te,F,B,X,Z,Ue,ut,ft,mt,Fe,li;let _,b,T,w,S,E;_=(k=(C=x.video_lockup)==null?void 0:C.title)==null?void 0:k.toString(),S=(U=x.video_lockup)==null?void 0:U.endpoint.payload.videoId;for(let jt=0;jt<x.info_rows.length;jt++){let ae=x.info_rows[jt];if(ae.info_row_expand_status_key===void 0)if(_===void 0){if(_=((L=ae.default_metadata)==null?void 0:L.toString())||((K=ae.expanded_metadata)==null?void 0:K.toString()),S===void 0){let ze=((re=ae.default_metadata)==null?void 0:re.endpoint)||((he=ae.expanded_metadata)==null?void 0:he.endpoint);S=(Y=ze==null?void 0:ze.payload)==null?void 0:Y.videoId}}else T=((te=ae.default_metadata)==null?void 0:te.toString())||((F=ae.expanded_metadata)==null?void 0:F.toString());else{if(((B=ae.info_row_expand_status_key)==null?void 0:B.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(b=((X=ae.default_metadata)==null?void 0:X.toString())||((Z=ae.expanded_metadata)==null?void 0:Z.toString()),E===void 0)){let ze=((Ue=ae.default_metadata)==null?void 0:Ue.endpoint)||((ut=ae.expanded_metadata)==null?void 0:ut.endpoint);E=(ft=ze==null?void 0:ze.payload)==null?void 0:ft.browseId}((mt=ae.info_row_expand_status_key)==null?void 0:mt.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(w=((Fe=ae.default_metadata)==null?void 0:Fe.toString())||((li=ae.expanded_metadata)==null?void 0:li.toString()))}}return{song:_,artist:b,album:T,license:w,videoId:S,channelId:E}})}return[]}};r(Ys,"VideoInfo");Wi=new WeakMap;var Kh=Ys;var Vs,qh,Us=class{constructor(e,i){if(Vs.set(this,void 0),qh.set(this,void 0),I(this,Vs,c.parseResponse(i.data),"f"),I(this,qh,e,"f"),!u(this,Vs,"f").actions_memo)throw new Error("Page actions not found");this.transcript=u(this,Vs,"f").actions_memo.getType(Dr).first()}async selectLanguage(e){var o,a,l,f;let i=(f=(l=(a=(o=this.transcript.content)==null?void 0:o.footer)==null?void 0:a.language_menu)==null?void 0:l.sub_menu_items)==null?void 0:f.find(m=>m.title.toString()===e);if(!i)throw new Error(`Language not found: ${e}`);if(i.selected)return this;let s=await u(this,qh,"f").execute("/get_transcript",{params:i.continuation});return new Us(u(this,qh,"f"),s)}get languages(){var e,i,s,o;return((o=(s=(i=(e=this.transcript.content)==null?void 0:e.footer)==null?void 0:i.language_menu)==null?void 0:s.sub_menu_items)==null?void 0:o.map(a=>a.title.toString()))||[]}get selectedLanguage(){var e,i,s,o,a;return((a=(o=(s=(i=(e=this.transcript.content)==null?void 0:e.footer)==null?void 0:i.language_menu)==null?void 0:s.sub_menu_items)==null?void 0:o.find(l=>l.selected))==null?void 0:a.title.toString())||""}get page(){return u(this,Vs,"f")}};r(Us,"TranscriptInfo");Vs=new WeakMap,qh=new WeakMap;var cb=Us;var fE={};var P=class{constructor(e,i,s,o){var l,f,m,x,_,b,T,w,S,E,C,k,U,L,K,re,he,Y,te,F,B,X,Z,Ue,ut,ft,mt;let a=new p(e);this.id=o||((x=(m=(f=(l=a==null?void 0:a.runs)==null?void 0:l[0])==null?void 0:f.endpoint)==null?void 0:m.payload)==null?void 0:x.browseId)||((b=(_=a==null?void 0:a.endpoint)==null?void 0:_.payload)==null?void 0:b.browseId)||"N/A",this.name=(a==null?void 0:a.text)||"N/A",this.thumbnails=s?y.fromResponse(s):[],this.endpoint=((w=(T=a==null?void 0:a.runs)==null?void 0:T[0])==null?void 0:w.endpoint)||(a==null?void 0:a.endpoint),i?Array.isArray(i)?(this.badges=c.parseArray(i),this.is_moderator=(S=this.badges)==null?void 0:S.some(Fe=>Fe.icon_type=="MODERATOR"),this.is_verified=(E=this.badges)==null?void 0:E.some(Fe=>Fe.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(C=this.badges)==null?void 0:C.some(Fe=>Fe.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=G([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=G([]),this.url=((K=(L=(U=(k=a==null?void 0:a.runs)==null?void 0:k[0])==null?void 0:U.endpoint)==null?void 0:L.metadata)==null?void 0:K.api_url)==="/browse"&&`${We.YT_BASE}${((te=(Y=(he=(re=a==null?void 0:a.runs)==null?void 0:re[0])==null?void 0:he.endpoint)==null?void 0:Y.payload)==null?void 0:te.canonicalBaseUrl)||`/u/${(Z=(X=(B=(F=a==null?void 0:a.runs)==null?void 0:F[0])==null?void 0:B.endpoint)==null?void 0:X.payload)==null?void 0:Z.browseId}`}`||`${We.YT_BASE}${((ut=(Ue=a==null?void 0:a.endpoint)==null?void 0:Ue.payload)==null?void 0:ut.canonicalBaseUrl)||`/u/${(mt=(ft=a==null?void 0:a.endpoint)==null?void 0:ft.payload)==null?void 0:mt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};r(P,"Author");var R1=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],yE=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],M1="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",bE="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Xg={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Qg="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",L1={5:Qg,"5module":Qg+" export import",6:Qg+" const class extends export import super"},O1=/^in(stanceof)?$/,D1=new RegExp("["+bE+"]"),B1=new RegExp("["+bE+M1+"]");function Zg(t,e){for(var i=65536,s=0;s<e.length;s+=2){if(i+=e[s],i>t)return!1;if(i+=e[s+1],i>=t)return!0}return!1}r(Zg,"isInAstralSet");function ai(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&D1.test(String.fromCharCode(t)):e===!1?!1:Zg(t,yE)}r(ai,"isIdentifierStart");function Fs(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&B1.test(String.fromCharCode(t)):e===!1?!1:Zg(t,yE)||Zg(t,R1)}r(Fs,"isIdentifierChar");var $=r(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function rt(t,e){return new $(t,{beforeExpr:!0,binop:e})}r(rt,"binop");var st={beforeExpr:!0},Ke={startsExpr:!0},rw={};function j(t,e){return e===void 0&&(e={}),e.keyword=t,rw[t]=new $(t,e)}r(j,"kw");var h={num:new $("num",Ke),regexp:new $("regexp",Ke),string:new $("string",Ke),name:new $("name",Ke),privateId:new $("privateId",Ke),eof:new $("eof"),bracketL:new $("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new $("]"),braceL:new $("{",{beforeExpr:!0,startsExpr:!0}),braceR:new $("}"),parenL:new $("(",{beforeExpr:!0,startsExpr:!0}),parenR:new $(")"),comma:new $(",",st),semi:new $(";",st),colon:new $(":",st),dot:new $("."),question:new $("?",st),questionDot:new $("?."),arrow:new $("=>",st),template:new $("template"),invalidTemplate:new $("invalidTemplate"),ellipsis:new $("...",st),backQuote:new $("`",Ke),dollarBraceL:new $("${",{beforeExpr:!0,startsExpr:!0}),eq:new $("=",{beforeExpr:!0,isAssign:!0}),assign:new $("_=",{beforeExpr:!0,isAssign:!0}),incDec:new $("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new $("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:rt("||",1),logicalAND:rt("&&",2),bitwiseOR:rt("|",3),bitwiseXOR:rt("^",4),bitwiseAND:rt("&",5),equality:rt("==/!=/===/!==",6),relational:rt("</>/<=/>=",7),bitShift:rt("<</>>/>>>",8),plusMin:new $("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:rt("%",10),star:rt("*",10),slash:rt("/",10),starstar:new $("**",{beforeExpr:!0}),coalesce:rt("??",1),_break:j("break"),_case:j("case",st),_catch:j("catch"),_continue:j("continue"),_debugger:j("debugger"),_default:j("default",st),_do:j("do",{isLoop:!0,beforeExpr:!0}),_else:j("else",st),_finally:j("finally"),_for:j("for",{isLoop:!0}),_function:j("function",Ke),_if:j("if"),_return:j("return",st),_switch:j("switch"),_throw:j("throw",st),_try:j("try"),_var:j("var"),_const:j("const"),_while:j("while",{isLoop:!0}),_with:j("with"),_new:j("new",{beforeExpr:!0,startsExpr:!0}),_this:j("this",Ke),_super:j("super",Ke),_class:j("class",Ke),_extends:j("extends",st),_export:j("export"),_import:j("import",Ke),_null:j("null",Ke),_true:j("true",Ke),_false:j("false",Ke),_in:j("in",{beforeExpr:!0,binop:7}),_instanceof:j("instanceof",{beforeExpr:!0,binop:7}),_typeof:j("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:j("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:j("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},at=/\r\n?|\n|\u2028|\u2029/,Y1=new RegExp(at.source,"g");function Ws(t){return t===10||t===13||t===8232||t===8233}r(Ws,"isNewLine");function gE(t,e,i){i===void 0&&(i=t.length);for(var s=e;s<i;s++){var o=t.charCodeAt(s);if(Ws(o))return s<i-1&&o===13&&t.charCodeAt(s+1)===10?s+2:s+1}return-1}r(gE,"nextLineBreak");var wE=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ot=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,TE=Object.prototype,V1=TE.hasOwnProperty,U1=TE.toString,Jh=Object.hasOwn||function(t,e){return V1.call(t,e)},mE=Array.isArray||function(t){return U1.call(t)==="[object Array]"},hE=Object.create(null);function Gi(t){return hE[t]||(hE[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}r(Gi,"wordsRegexp");function ji(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}r(ji,"codePointToString");var F1=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Xh=r(function(e,i){this.line=e,this.column=i},"Position");Xh.prototype.offset=r(function(e){return new Xh(this.line,this.column+e)},"offset");var Pb=r(function(e,i,s){this.start=i,this.end=s,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function vE(t,e){for(var i=1,s=0;;){var o=gE(t,s,e);if(o<0)return new Xh(i,e-s);++i,s=o}}r(vE,"getLineInfo");var ew={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},dE=!1;function W1(t){var e={};for(var i in ew)e[i]=t&&Jh(t,i)?t[i]:ew[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!dE&&typeof console=="object"&&console.warn&&(dE=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),mE(e.onToken)){var s=e.onToken;e.onToken=function(o){return s.push(o)}}return mE(e.onComment)&&(e.onComment=G1(e,e.onComment)),e}r(W1,"getOptions");function G1(t,e){return function(i,s,o,a,l,f){var m={type:i?"Block":"Line",value:s,start:o,end:a};t.locations&&(m.loc=new Pb(this,l,f)),t.ranges&&(m.range=[o,a]),e.push(m)}}r(G1,"pushComment");var Qh=1,Gs=2,sw=4,IE=8,SE=16,EE=32,ow=64,kE=128,Zh=256,nw=Qh|Gs|Zh;function aw(t,e){return Gs|(t?sw:0)|(e?IE:0)}r(aw,"functionFlags");var Sb=0,pw=1,ci=2,CE=3,PE=4,NE=5,me=r(function(e,i,s){this.options=e=W1(e),this.sourceFile=e.sourceFile,this.keywords=Gi(L1[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var o="";e.allowReserved!==!0&&(o=Xg[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(o+=" await")),this.reservedWords=Gi(o);var a=(o?o+" ":"")+Xg.strict;this.reservedWordsStrict=Gi(a),this.reservedWordsStrictBind=Gi(a+" "+Xg.strictBind),this.input=String(i),this.containsEsc=!1,s?(this.pos=s,this.lineStart=this.input.lastIndexOf(`
`,s-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(at).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Qh),this.regexpState=null,this.privateNameStack=[]},"Parser"),Wt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};me.prototype.parse=r(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");Wt.inFunction.get=function(){return(this.currentVarScope().flags&Gs)>0};Wt.inGenerator.get=function(){return(this.currentVarScope().flags&IE)>0&&!this.currentVarScope().inClassFieldInit};Wt.inAsync.get=function(){return(this.currentVarScope().flags&sw)>0&&!this.currentVarScope().inClassFieldInit};Wt.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Zh)return!1;if(e.flags&Gs)return(e.flags&sw)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Wt.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&ow)>0||i||this.options.allowSuperOutsideMethod};Wt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&kE)>0};Wt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Wt.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Gs|Zh))>0||i};Wt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Zh)>0};me.extend=r(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var s=this,o=0;o<e.length;o++)s=e[o](s);return s},"extend");me.parse=r(function(e,i){return new this(i,e).parse()},"parse");me.parseExpressionAt=r(function(e,i,s){var o=new this(s,e,i);return o.nextToken(),o.parseExpression()},"parseExpressionAt");me.tokenizer=r(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(me.prototype,Wt);var Be=me.prototype,j1=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Be.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){ot.lastIndex=t,t+=ot.exec(this.input)[0].length;var e=j1.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){ot.lastIndex=t+e[0].length;var i=ot.exec(this.input),s=i.index+i[0].length,o=this.input.charAt(s);return o===";"||o==="}"||at.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(o)||o==="!"&&this.input.charAt(s+1)==="=")}t+=e[0].length,ot.lastIndex=t,t+=ot.exec(this.input)[0].length,this.input[t]===";"&&t++}};Be.eat=function(t){return this.type===t?(this.next(),!0):!1};Be.isContextual=function(t){return this.type===h.name&&this.value===t&&!this.containsEsc};Be.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Be.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Be.canInsertSemicolon=function(){return this.type===h.eof||this.type===h.braceR||at.test(this.input.slice(this.lastTokEnd,this.start))};Be.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Be.semicolon=function(){!this.eat(h.semi)&&!this.insertSemicolon()&&this.unexpected()};Be.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Be.expect=function(t){this.eat(t)||this.unexpected()};Be.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Nb=r(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Be.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};Be.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,s=t.doubleProto;if(!e)return i>=0||s>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),s>=0&&this.raiseRecoverable(s,"Redefinition of __proto__ property")};Be.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Be.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var A=me.prototype;A.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==h.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var s=0,o=Object.keys(this.undefinedExports);s<o.length;s+=1){var a=o[s];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var cw={kind:"loop"},H1={kind:"switch"};A.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ot.lastIndex=this.pos;var e=ot.exec(this.input),i=this.pos+e[0].length,s=this.input.charCodeAt(i);if(s===91||s===92)return!0;if(t)return!1;if(s===123||s>55295&&s<56320)return!0;if(ai(s,!0)){for(var o=i+1;Fs(s=this.input.charCodeAt(o),!0);)++o;if(s===92||s>55295&&s<56320)return!0;var a=this.input.slice(i,o);if(!O1.test(a))return!0}return!1};A.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ot.lastIndex=this.pos;var t=ot.exec(this.input),e=this.pos+t[0].length,i;return!at.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Fs(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};A.parseStatement=function(t,e,i){var s=this.type,o=this.startNode(),a;switch(this.isLet(t)&&(s=h._var,a="let"),s){case h._break:case h._continue:return this.parseBreakContinueStatement(o,s.keyword);case h._debugger:return this.parseDebuggerStatement(o);case h._do:return this.parseDoStatement(o);case h._for:return this.parseForStatement(o);case h._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!t);case h._class:return t&&this.unexpected(),this.parseClass(o,!0);case h._if:return this.parseIfStatement(o);case h._return:return this.parseReturnStatement(o);case h._switch:return this.parseSwitchStatement(o);case h._throw:return this.parseThrowStatement(o);case h._try:return this.parseTryStatement(o);case h._const:case h._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(o,a);case h._while:return this.parseWhileStatement(o);case h._with:return this.parseWithStatement(o);case h.braceL:return this.parseBlock(!0,o);case h.semi:return this.parseEmptyStatement(o);case h._export:case h._import:if(this.options.ecmaVersion>10&&s===h._import){ot.lastIndex=this.pos;var l=ot.exec(this.input),f=this.pos+l[0].length,m=this.input.charCodeAt(f);if(m===40||m===46)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),s===h._import?this.parseImport(o):this.parseExport(o,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!t);var x=this.value,_=this.parseExpression();return s===h.name&&_.type==="Identifier"&&this.eat(h.colon)?this.parseLabeledStatement(o,x,_,t):this.parseExpressionStatement(o,_)}};A.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(h.semi)||this.insertSemicolon()?t.label=null:this.type!==h.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var s=0;s<this.labels.length;++s){var o=this.labels[s];if((t.label==null||o.name===t.label.name)&&(o.kind!=null&&(i||o.kind==="loop")||t.label&&i))break}return s===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};A.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};A.parseDoStatement=function(t){return this.next(),this.labels.push(cw),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(h._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(h.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};A.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(cw),this.enterScope(0),this.expect(h.parenL),this.type===h.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===h._var||this.type===h._const||i){var s=this.startNode(),o=i?"let":this.value;return this.next(),this.parseVar(s,!0,o),this.finishNode(s,"VariableDeclaration"),(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&s.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,s)):(e>-1&&this.unexpected(e),this.parseFor(t,s))}var a=this.isContextual("let"),l=!1,f=this.containsEsc,m=new Nb,x=this.start,_=e>-1?this.parseExprSubscripts(m,"await"):this.parseExpression(!0,m);return this.type===h._in||(l=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===h._in&&this.unexpected(e),t.await=!0):l&&this.options.ecmaVersion>=8&&(_.start===x&&!f&&_.type==="Identifier"&&_.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),a&&l&&this.raise(_.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(_,!1,m),this.checkLValPattern(_),this.parseForIn(t,_)):(this.checkExpressionErrors(m,!0),e>-1&&this.unexpected(e),this.parseFor(t,_))};A.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,zh|(i?0:tw),!1,e)};A.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(h._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};A.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(h.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};A.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(h.braceL),this.labels.push(H1),this.enterScope(0);for(var e,i=!1;this.type!==h.braceR;)if(this.type===h._case||this.type===h._default){var s=this.type===h._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),s?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(h.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};A.parseThrowStatement=function(t){return this.next(),at.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var $1=[];A.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?EE:0),this.checkLValPattern(t,e?PE:ci),this.expect(h.parenR),t};A.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===h._catch){var e=this.startNode();this.next(),this.eat(h.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(h._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};A.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};A.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(cw),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};A.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};A.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};A.parseLabeledStatement=function(t,e,i,s){for(var o=0,a=this.labels;o<a.length;o+=1){var l=a[o];l.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var f=this.type.isLoop?"loop":this.type===h._switch?"switch":null,m=this.labels.length-1;m>=0;m--){var x=this.labels[m];if(x.statementStart===t.start)x.statementStart=this.start,x.kind=f;else break}return this.labels.push({name:e,kind:f,statementStart:this.start}),t.body=this.parseStatement(s?s.indexOf("label")===-1?s+"label":s:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};A.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};A.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(h.braceL),t&&this.enterScope(0);this.type!==h.braceR;){var s=this.parseStatement(null);e.body.push(s)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};A.parseFor=function(t,e){return t.init=e,this.expect(h.semi),t.test=this.type===h.semi?null:this.parseExpression(),this.expect(h.semi),t.update=this.type===h.parenR?null:this.parseExpression(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};A.parseForIn=function(t,e){var i=this.type===h._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};A.parseVar=function(t,e,i,s){for(t.declarations=[],t.kind=i;;){var o=this.startNode();if(this.parseVarId(o,i),this.eat(h.eq)?o.init=this.parseMaybeAssign(e):!s&&i==="const"&&!(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!s&&o.id.type!=="Identifier"&&!(e&&(this.type===h._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,t.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(h.comma))break}return t};A.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?pw:ci,!1)};var zh=1,tw=2,AE=4;A.parseFunction=function(t,e,i,s,o){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!s)&&(this.type===h.star&&e&tw&&this.unexpected(),t.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(t.async=!!s),e&zh&&(t.id=e&AE&&this.type!==h.name?null:this.parseIdent(),t.id&&!(e&tw)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?pw:ci:CE));var a=this.yieldPos,l=this.awaitPos,f=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(aw(t.async,t.generator)),e&zh||(t.id=this.type===h.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,o),this.yieldPos=a,this.awaitPos=l,this.awaitIdentPos=f,this.finishNode(t,e&zh?"FunctionDeclaration":"FunctionExpression")};A.parseFunctionParams=function(t){this.expect(h.parenL),t.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};A.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var s=this.enterClassBody(),o=this.startNode(),a=!1;for(o.body=[],this.expect(h.braceL);this.type!==h.braceR;){var l=this.parseClassElement(t.superClass!==null);l&&(o.body.push(l),l.type==="MethodDefinition"&&l.kind==="constructor"?(a&&this.raiseRecoverable(l.start,"Duplicate constructor in the same class"),a=!0):l.key&&l.key.type==="PrivateIdentifier"&&K1(s,l)&&this.raiseRecoverable(l.key.start,"Identifier '#"+l.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(o,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};A.parseClassElement=function(t){if(this.eat(h.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),s="",o=!1,a=!1,l="method",f=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===h.star?f=!0:s="static"}if(i.static=f,!s&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===h.star)&&!this.canInsertSemicolon()?a=!0:s="async"),!s&&(e>=9||!a)&&this.eat(h.star)&&(o=!0),!s&&!a&&!o){var m=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?l=m:s=m)}if(s?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=s,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===h.parenL||l!=="method"||o||a){var x=!i.static&&Eb(i,"constructor"),_=x&&t;x&&l!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=x?"constructor":l,this.parseClassMethod(i,o,a,_)}else this.parseClassField(i);return i};A.isClassElementNameStart=function(){return this.type===h.name||this.type===h.privateId||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword};A.parseClassElementName=function(t){this.type===h.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};A.parseClassMethod=function(t,e,i,s){var o=t.key;t.kind==="constructor"?(e&&this.raise(o.start,"Constructor can't be a generator"),i&&this.raise(o.start,"Constructor can't be an async method")):t.static&&Eb(t,"prototype")&&this.raise(o.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,i,s);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};A.parseClassField=function(t){if(Eb(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Eb(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(h.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};A.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Zh|ow);this.type!==h.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};A.parseClassId=function(t,e){this.type===h.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,ci,!1)):(e===!0&&this.unexpected(),t.id=null)};A.parseClassSuper=function(t){t.superClass=this.eat(h._extends)?this.parseExprSubscripts(null,!1):null};A.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};A.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var s=this.privateNameStack.length,o=s===0?null:this.privateNameStack[s-1],a=0;a<i.length;++a){var l=i[a];Jh(e,l.name)||(o?o.used.push(l):this.raiseRecoverable(l.start,"Private field '#"+l.name+"' must be declared in an enclosing class"))}};function K1(t,e){var i=e.key.name,s=t[i],o="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(o=(e.static?"s":"i")+e.kind),s==="iget"&&o==="iset"||s==="iset"&&o==="iget"||s==="sget"&&o==="sset"||s==="sset"&&o==="sget"?(t[i]="true",!1):s?!0:(t[i]=o,!1)}r(K1,"isPrivateNameConflicted");function Eb(t,e){var i=t.computed,s=t.key;return!i&&(s.type==="Identifier"&&s.name===e||s.type==="Literal"&&s.value===e)}r(Eb,"checkKeyName");A.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};A.parseExport=function(t,e){if(this.next(),this.eat(h.star))return this.parseExportAllDeclaration(t,e);if(this.eat(h._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,s=t.specifiers;i<s.length;i+=1){var o=s[i];this.checkUnreserved(o.local),this.checkLocalExport(o.local),o.local.type==="Literal"&&this.raise(o.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};A.parseExportDeclaration=function(t){return this.parseStatement(null)};A.parseExportDefaultDeclaration=function(){var t;if(this.type===h._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,zh|AE,!1,t)}else if(this.type===h._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var s=this.parseMaybeAssign();return this.semicolon(),s}};A.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Jh(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};A.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var s=0,o=e.properties;s<o.length;s+=1){var a=o[s];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var l=0,f=e.elements;l<f.length;l+=1){var m=f[l];m&&this.checkPatternExport(t,m)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};A.checkVariableExport=function(t,e){if(!!t)for(var i=0,s=e;i<s.length;i+=1){var o=s[i];this.checkPatternExport(t,o.id)}};A.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};A.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};A.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(i)i=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;e.push(this.parseExportSpecifier(t))}return e};A.parseImport=function(t){return this.next(),this.type===h.string?(t.specifiers=$1,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===h.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};A.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,ci),this.finishNode(t,"ImportSpecifier")};A.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,ci),this.finishNode(t,"ImportDefaultSpecifier")};A.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,ci),this.finishNode(t,"ImportNamespaceSpecifier")};A.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===h.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(h.comma)))return t;if(this.type===h.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(h.braceL);!this.eat(h.braceR);){if(e)e=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;t.push(this.parseImportSpecifier())}return t};A.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===h.string){var t=this.parseLiteral(this.value);return F1.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};A.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};A.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var pt=me.prototype;pt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var s=0,o=t.properties;s<o.length;s+=1){var a=o[s];this.toAssignable(a,e),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};pt.toAssignableList=function(t,e){for(var i=t.length,s=0;s<i;s++){var o=t[s];o&&this.toAssignable(o,e)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&e&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};pt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};pt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==h.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};pt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case h.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(h.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case h.braceL:return this.parseObj(!0)}return this.parseIdent()};pt.parseBindingList=function(t,e,i,s){for(var o=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(h.comma),e&&this.type===h.comma)o.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===h.ellipsis){var l=this.parseRestBinding();this.parseBindingListItem(l),o.push(l),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else o.push(this.parseAssignableListItem(s))}return o};pt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};pt.parseBindingListItem=function(t){return t};pt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(h.eq))return i;var s=this.startNodeAt(t,e);return s.left=i,s.right=this.parseMaybeAssign(),this.finishNode(s,"AssignmentPattern")};pt.checkLValSimple=function(t,e,i){e===void 0&&(e=Sb);var s=e!==Sb;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(s?"Binding ":"Assigning to ")+t.name+" in strict mode"),s&&(e===ci&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Jh(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==NE&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":s&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return s&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(s?"Binding":"Assigning to")+" rvalue")}};pt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=Sb),t.type){case"ObjectPattern":for(var s=0,o=t.properties;s<o.length;s+=1){var a=o[s];this.checkLValInnerPattern(a,e,i)}break;case"ArrayPattern":for(var l=0,f=t.elements;l<f.length;l+=1){var m=f[l];m&&this.checkLValInnerPattern(m,e,i)}break;default:this.checkLValSimple(t,e,i)}};pt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=Sb),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var kt=r(function(e,i,s,o,a){this.token=e,this.isExpr=!!i,this.preserveSpace=!!s,this.override=o,this.generator=!!a},"TokContext"),ie={b_stat:new kt("{",!1),b_expr:new kt("{",!0),b_tmpl:new kt("${",!1),p_stat:new kt("(",!1),p_expr:new kt("(",!0),q_tmpl:new kt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new kt("function",!1),f_expr:new kt("function",!0),f_expr_gen:new kt("function",!0,!1,null,!0),f_gen:new kt("function",!1,!1,null,!0)},js=me.prototype;js.initialContext=function(){return[ie.b_stat]};js.curContext=function(){return this.context[this.context.length-1]};js.braceIsBlock=function(t){var e=this.curContext();return e===ie.f_expr||e===ie.f_stat?!0:t===h.colon&&(e===ie.b_stat||e===ie.b_expr)?!e.isExpr:t===h._return||t===h.name&&this.exprAllowed?at.test(this.input.slice(this.lastTokEnd,this.start)):t===h._else||t===h.semi||t===h.eof||t===h.parenR||t===h.arrow?!0:t===h.braceL?e===ie.b_stat:t===h._var||t===h._const||t===h.name?!1:!this.exprAllowed};js.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};js.updateContext=function(t){var e,i=this.type;i.keyword&&t===h.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};js.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};h.parenR.updateContext=h.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===ie.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};h.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?ie.b_stat:ie.b_expr),this.exprAllowed=!0};h.dollarBraceL.updateContext=function(){this.context.push(ie.b_tmpl),this.exprAllowed=!0};h.parenL.updateContext=function(t){var e=t===h._if||t===h._for||t===h._with||t===h._while;this.context.push(e?ie.p_stat:ie.p_expr),this.exprAllowed=!0};h.incDec.updateContext=function(){};h._function.updateContext=h._class.updateContext=function(t){t.beforeExpr&&t!==h._else&&!(t===h.semi&&this.curContext()!==ie.p_stat)&&!(t===h._return&&at.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===h.colon||t===h.braceL)&&this.curContext()===ie.b_stat)?this.context.push(ie.f_expr):this.context.push(ie.f_stat),this.exprAllowed=!1};h.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};h.backQuote.updateContext=function(){this.curContext()===ie.q_tmpl?this.context.pop():this.context.push(ie.q_tmpl),this.exprAllowed=!1};h.star.updateContext=function(t){if(t===h._function){var e=this.context.length-1;this.context[e]===ie.f_expr?this.context[e]=ie.f_expr_gen:this.context[e]=ie.f_gen}this.exprAllowed=!0};h.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==h.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var D=me.prototype;D.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var s=t.key,o;switch(s.type){case"Identifier":o=s.name;break;case"Literal":o=String(s.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){o==="__proto__"&&a==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=s.start):this.raiseRecoverable(s.start,"Redefinition of __proto__ property")),e.proto=!0);return}o="$"+o;var l=e[o];if(l){var f;a==="init"?f=this.strict&&l.init||l.get||l.set:f=l.init||l[a],f&&this.raiseRecoverable(s.start,"Redefinition of property")}else l=e[o]={init:!1,get:!1,set:!1};l[a]=!0}};D.parseExpression=function(t,e){var i=this.start,s=this.startLoc,o=this.parseMaybeAssign(t,e);if(this.type===h.comma){var a=this.startNodeAt(i,s);for(a.expressions=[o];this.eat(h.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return o};D.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var s=!1,o=-1,a=-1,l=-1;e?(o=e.parenthesizedAssign,a=e.trailingComma,l=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Nb,s=!0);var f=this.start,m=this.startLoc;(this.type===h.parenL||this.type===h.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var x=this.parseMaybeConditional(t,e);if(i&&(x=i.call(this,x,f,m)),this.type.isAssign){var _=this.startNodeAt(f,m);return _.operator=this.value,this.type===h.eq&&(x=this.toAssignable(x,!1,e)),s||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=x.start&&(e.shorthandAssign=-1),this.type===h.eq?this.checkLValPattern(x):this.checkLValSimple(x),_.left=x,this.next(),_.right=this.parseMaybeAssign(t),l>-1&&(e.doubleProto=l),this.finishNode(_,"AssignmentExpression")}else s&&this.checkExpressionErrors(e,!0);return o>-1&&(e.parenthesizedAssign=o),a>-1&&(e.trailingComma=a),x};D.parseMaybeConditional=function(t,e){var i=this.start,s=this.startLoc,o=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return o;if(this.eat(h.question)){var a=this.startNodeAt(i,s);return a.test=o,a.consequent=this.parseMaybeAssign(),this.expect(h.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return o};D.parseExprOps=function(t,e){var i=this.start,s=this.startLoc,o=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||o.start===i&&o.type==="ArrowFunctionExpression"?o:this.parseExprOp(o,i,s,-1,t)};D.parseExprOp=function(t,e,i,s,o){var a=this.type.binop;if(a!=null&&(!o||this.type!==h._in)&&a>s){var l=this.type===h.logicalOR||this.type===h.logicalAND,f=this.type===h.coalesce;f&&(a=h.logicalAND.binop);var m=this.value;this.next();var x=this.start,_=this.startLoc,b=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,o),x,_,a,o),T=this.buildBinary(e,i,t,b,m,l||f);return(l&&this.type===h.coalesce||f&&(this.type===h.logicalOR||this.type===h.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(T,e,i,s,o)}return t};D.buildBinary=function(t,e,i,s,o,a){s.type==="PrivateIdentifier"&&this.raise(s.start,"Private identifier can only be left side of binary expression");var l=this.startNodeAt(t,e);return l.left=i,l.operator=o,l.right=s,this.finishNode(l,a?"LogicalExpression":"BinaryExpression")};D.parseMaybeUnary=function(t,e,i,s){var o=this.start,a=this.startLoc,l;if(this.isContextual("await")&&this.canAwait)l=this.parseAwait(s),e=!0;else if(this.type.prefix){var f=this.startNode(),m=this.type===h.incDec;f.operator=this.value,f.prefix=!0,this.next(),f.argument=this.parseMaybeUnary(null,!0,m,s),this.checkExpressionErrors(t,!0),m?this.checkLValSimple(f.argument):this.strict&&f.operator==="delete"&&RE(f.argument)?this.raiseRecoverable(f.start,"Deleting local variable in strict mode"):f.operator==="delete"&&iw(f.argument)?this.raiseRecoverable(f.start,"Private fields can not be deleted"):e=!0,l=this.finishNode(f,m?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===h.privateId)(s||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),l=this.parsePrivateIdent(),this.type!==h._in&&this.unexpected();else{if(l=this.parseExprSubscripts(t,s),this.checkExpressionErrors(t))return l;for(;this.type.postfix&&!this.canInsertSemicolon();){var x=this.startNodeAt(o,a);x.operator=this.value,x.prefix=!1,x.argument=l,this.checkLValSimple(l),this.next(),l=this.finishNode(x,"UpdateExpression")}}if(!i&&this.eat(h.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(o,a,l,this.parseMaybeUnary(null,!1,!1,s),"**",!1);else return l};function RE(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&RE(t.expression)}r(RE,"isLocalVariableAccess");function iw(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&iw(t.expression)||t.type==="ParenthesizedExpression"&&iw(t.expression)}r(iw,"isPrivateFieldAccess");D.parseExprSubscripts=function(t,e){var i=this.start,s=this.startLoc,o=this.parseExprAtom(t,e);if(o.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return o;var a=this.parseSubscripts(o,i,s,!1,e);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};D.parseSubscripts=function(t,e,i,s,o){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,l=!1;;){var f=this.parseSubscript(t,e,i,s,a,l,o);if(f.optional&&(l=!0),f===t||f.type==="ArrowFunctionExpression"){if(l){var m=this.startNodeAt(e,i);m.expression=f,f=this.finishNode(m,"ChainExpression")}return f}t=f}};D.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(h.arrow)};D.parseSubscriptAsyncArrow=function(t,e,i,s){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,s)};D.parseSubscript=function(t,e,i,s,o,a,l){var f=this.options.ecmaVersion>=11,m=f&&this.eat(h.questionDot);s&&m&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var x=this.eat(h.bracketL);if(x||m&&this.type!==h.parenL&&this.type!==h.backQuote||this.eat(h.dot)){var _=this.startNodeAt(e,i);_.object=t,x?(_.property=this.parseExpression(),this.expect(h.bracketR)):this.type===h.privateId&&t.type!=="Super"?_.property=this.parsePrivateIdent():_.property=this.parseIdent(this.options.allowReserved!=="never"),_.computed=!!x,f&&(_.optional=m),t=this.finishNode(_,"MemberExpression")}else if(!s&&this.eat(h.parenL)){var b=new Nb,T=this.yieldPos,w=this.awaitPos,S=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var E=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1,b);if(o&&!m&&this.shouldParseAsyncArrow())return this.checkPatternErrors(b,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=T,this.awaitPos=w,this.awaitIdentPos=S,this.parseSubscriptAsyncArrow(e,i,E,l);this.checkExpressionErrors(b,!0),this.yieldPos=T||this.yieldPos,this.awaitPos=w||this.awaitPos,this.awaitIdentPos=S||this.awaitIdentPos;var C=this.startNodeAt(e,i);C.callee=t,C.arguments=E,f&&(C.optional=m),t=this.finishNode(C,"CallExpression")}else if(this.type===h.backQuote){(m||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var k=this.startNodeAt(e,i);k.tag=t,k.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(k,"TaggedTemplateExpression")}return t};D.parseExprAtom=function(t,e,i){this.type===h.slash&&this.readRegexp();var s,o=this.potentialArrowAt===this.start;switch(this.type){case h._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),s=this.startNode(),this.next(),this.type===h.parenL&&!this.allowDirectSuper&&this.raise(s.start,"super() call outside constructor of a subclass"),this.type!==h.dot&&this.type!==h.bracketL&&this.type!==h.parenL&&this.unexpected(),this.finishNode(s,"Super");case h._this:return s=this.startNode(),this.next(),this.finishNode(s,"ThisExpression");case h.name:var a=this.start,l=this.startLoc,f=this.containsEsc,m=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!f&&m.name==="async"&&!this.canInsertSemicolon()&&this.eat(h._function))return this.overrideContext(ie.f_expr),this.parseFunction(this.startNodeAt(a,l),0,!1,!0,e);if(o&&!this.canInsertSemicolon()){if(this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(a,l),[m],!1,e);if(this.options.ecmaVersion>=8&&m.name==="async"&&this.type===h.name&&!f&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return m=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(h.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,l),[m],!0,e)}return m;case h.regexp:var x=this.value;return s=this.parseLiteral(x.value),s.regex={pattern:x.pattern,flags:x.flags},s;case h.num:case h.string:return this.parseLiteral(this.value);case h._null:case h._true:case h._false:return s=this.startNode(),s.value=this.type===h._null?null:this.type===h._true,s.raw=this.type.keyword,this.next(),this.finishNode(s,"Literal");case h.parenL:var _=this.start,b=this.parseParenAndDistinguishExpression(o,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(b)&&(t.parenthesizedAssign=_),t.parenthesizedBind<0&&(t.parenthesizedBind=_)),b;case h.bracketL:return s=this.startNode(),this.next(),s.elements=this.parseExprList(h.bracketR,!0,!0,t),this.finishNode(s,"ArrayExpression");case h.braceL:return this.overrideContext(ie.b_expr),this.parseObj(!1,t);case h._function:return s=this.startNode(),this.next(),this.parseFunction(s,0);case h._class:return this.parseClass(this.startNode(),!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};D.parseExprAtomDefault=function(){this.unexpected()};D.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===h.parenL&&!t)return this.parseDynamicImport(e);if(this.type===h.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};D.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(h.parenR)){var e=this.start;this.eat(h.comma)&&this.eat(h.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};D.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};D.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};D.parseParenExpression=function(){this.expect(h.parenL);var t=this.parseExpression();return this.expect(h.parenR),t};D.shouldParseArrow=function(t){return!this.canInsertSemicolon()};D.parseParenAndDistinguishExpression=function(t,e){var i=this.start,s=this.startLoc,o,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var l=this.start,f=this.startLoc,m=[],x=!0,_=!1,b=new Nb,T=this.yieldPos,w=this.awaitPos,S;for(this.yieldPos=0,this.awaitPos=0;this.type!==h.parenR;)if(x?x=!1:this.expect(h.comma),a&&this.afterTrailingComma(h.parenR,!0)){_=!0;break}else if(this.type===h.ellipsis){S=this.start,m.push(this.parseParenItem(this.parseRestBinding())),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else m.push(this.parseMaybeAssign(!1,b,this.parseParenItem));var E=this.lastTokEnd,C=this.lastTokEndLoc;if(this.expect(h.parenR),t&&this.shouldParseArrow(m)&&this.eat(h.arrow))return this.checkPatternErrors(b,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=T,this.awaitPos=w,this.parseParenArrowList(i,s,m,e);(!m.length||_)&&this.unexpected(this.lastTokStart),S&&this.unexpected(S),this.checkExpressionErrors(b,!0),this.yieldPos=T||this.yieldPos,this.awaitPos=w||this.awaitPos,m.length>1?(o=this.startNodeAt(l,f),o.expressions=m,this.finishNodeAt(o,"SequenceExpression",E,C)):o=m[0]}else o=this.parseParenExpression();if(this.options.preserveParens){var k=this.startNodeAt(i,s);return k.expression=o,this.finishNode(k,"ParenthesizedExpression")}else return o};D.parseParenItem=function(t){return t};D.parseParenArrowList=function(t,e,i,s){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,s)};var q1=[];D.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===h.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var s=this.start,o=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),s,o,!0,!1),this.eat(h.parenL)?t.arguments=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1):t.arguments=q1,this.finishNode(t,"NewExpression")};D.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===h.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===h.backQuote,this.finishNode(i,"TemplateElement")};D.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var s=this.parseTemplateElement({isTagged:e});for(i.quasis=[s];!s.tail;)this.type===h.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(h.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(h.braceR),i.quasis.push(s=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};D.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===h.name||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===h.star)&&!at.test(this.input.slice(this.lastTokEnd,this.start))};D.parseObj=function(t,e){var i=this.startNode(),s=!0,o={};for(i.properties=[],this.next();!this.eat(h.braceR);){if(s)s=!1;else if(this.expect(h.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(h.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,o,e),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};D.parseProperty=function(t,e){var i=this.startNode(),s,o,a,l;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===h.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(a=this.start,l=this.startLoc),t||(s=this.eat(h.star)));var f=this.containsEsc;return this.parsePropertyName(i),!t&&!f&&this.options.ecmaVersion>=8&&!s&&this.isAsyncProp(i)?(o=!0,s=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(i)):o=!1,this.parsePropertyValue(i,t,s,o,a,l,e,f),this.finishNode(i,"Property")};D.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};D.parsePropertyValue=function(t,e,i,s,o,a,l,f){(i||s)&&this.type===h.colon&&this.unexpected(),this.eat(h.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,l),t.kind="init"):this.options.ecmaVersion>=6&&this.type===h.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,s)):!e&&!f&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==h.comma&&this.type!==h.braceR&&this.type!==h.eq?((i||s)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||s)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=o),t.kind="init",e?t.value=this.parseMaybeDefault(o,a,this.copyNode(t.key)):this.type===h.eq&&l?(l.shorthandAssign<0&&(l.shorthandAssign=this.start),t.value=this.parseMaybeDefault(o,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};D.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(h.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(h.bracketR),t.key;t.computed=!1}return t.key=this.type===h.num||this.type===h.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};D.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};D.parseMethod=function(t,e,i){var s=this.startNode(),o=this.yieldPos,a=this.awaitPos,l=this.awaitIdentPos;return this.initFunction(s),this.options.ecmaVersion>=6&&(s.generator=t),this.options.ecmaVersion>=8&&(s.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(aw(e,s.generator)|ow|(i?kE:0)),this.expect(h.parenL),s.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(s,!1,!0,!1),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=l,this.finishNode(s,"FunctionExpression")};D.parseArrowExpression=function(t,e,i,s){var o=this.yieldPos,a=this.awaitPos,l=this.awaitIdentPos;return this.enterScope(aw(i,!1)|SE),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,s),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=l,this.finishNode(t,"ArrowFunctionExpression")};D.parseFunctionBody=function(t,e,i,s){var o=e&&this.type!==h.braceL,a=this.strict,l=!1;if(o)t.body=this.parseMaybeAssign(s),t.expression=!0,this.checkParams(t,!1);else{var f=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||f)&&(l=this.strictDirective(this.end),l&&f&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var m=this.labels;this.labels=[],l&&(this.strict=!0),this.checkParams(t,!a&&!l&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,NE),t.body=this.parseBlock(!1,void 0,l&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=m}this.exitScope()};D.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var s=i[e];if(s.type!=="Identifier")return!1}return!0};D.checkParams=function(t,e){for(var i=Object.create(null),s=0,o=t.params;s<o.length;s+=1){var a=o[s];this.checkLValInnerPattern(a,pw,e?null:i)}};D.parseExprList=function(t,e,i,s){for(var o=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(h.comma),e&&this.afterTrailingComma(t))break;var l=void 0;i&&this.type===h.comma?l=null:this.type===h.ellipsis?(l=this.parseSpread(s),s&&this.type===h.comma&&s.trailingComma<0&&(s.trailingComma=this.start)):l=this.parseMaybeAssign(!1,s),o.push(l)}return o};D.checkUnreserved=function(t){var e=t.start,i=t.end,s=t.name;if(this.inGenerator&&s==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&s==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&s==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(s==="arguments"||s==="await")&&this.raise(e,"Cannot use "+s+" in class static initialization block"),this.keywords.test(s)&&this.raise(e,"Unexpected keyword '"+s+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var o=this.strict?this.reservedWordsStrict:this.reservedWords;o.test(s)&&(!this.inAsync&&s==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+s+"' is reserved"))}};D.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};D.parseIdentNode=function(){var t=this.startNode();return this.type===h.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=h.name):this.unexpected(),t};D.parsePrivateIdent=function(){var t=this.startNode();return this.type===h.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};D.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===h.semi||this.canInsertSemicolon()||this.type!==h.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(h.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};D.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var kb=me.prototype;kb.raise=function(t,e){var i=vE(this.input,t);e+=" ("+i.line+":"+i.column+")";var s=new SyntaxError(e);throw s.pos=t,s.loc=i,s.raisedAt=this.pos,s};kb.raiseRecoverable=kb.raise;kb.curPosition=function(){if(this.options.locations)return new Xh(this.curLine,this.pos-this.lineStart)};var Hi=me.prototype,z1=r(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Hi.enterScope=function(t){this.scopeStack.push(new z1(t))};Hi.exitScope=function(){this.scopeStack.pop()};Hi.treatFunctionsAsVarInScope=function(t){return t.flags&Gs||!this.inModule&&t.flags&Qh};Hi.declareName=function(t,e,i){var s=!1;if(e===ci){var o=this.currentScope();s=o.lexical.indexOf(t)>-1||o.functions.indexOf(t)>-1||o.var.indexOf(t)>-1,o.lexical.push(t),this.inModule&&o.flags&Qh&&delete this.undefinedExports[t]}else if(e===PE){var a=this.currentScope();a.lexical.push(t)}else if(e===CE){var l=this.currentScope();this.treatFunctionsAsVar?s=l.lexical.indexOf(t)>-1:s=l.lexical.indexOf(t)>-1||l.var.indexOf(t)>-1,l.functions.push(t)}else for(var f=this.scopeStack.length-1;f>=0;--f){var m=this.scopeStack[f];if(m.lexical.indexOf(t)>-1&&!(m.flags&EE&&m.lexical[0]===t)||!this.treatFunctionsAsVarInScope(m)&&m.functions.indexOf(t)>-1){s=!0;break}if(m.var.push(t),this.inModule&&m.flags&Qh&&delete this.undefinedExports[t],m.flags&nw)break}s&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Hi.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Hi.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Hi.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&nw)return e}};Hi.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&nw&&!(e.flags&SE))return e}};var Ab=r(function(e,i,s){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Pb(e,s)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),ed=me.prototype;ed.startNode=function(){return new Ab(this,this.start,this.startLoc)};ed.startNodeAt=function(t,e){return new Ab(this,t,e)};function ME(t,e,i,s){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=s),this.options.ranges&&(t.range[1]=i),t}r(ME,"finishNodeAt");ed.finishNode=function(t,e){return ME.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};ed.finishNodeAt=function(t,e,i,s){return ME.call(this,t,e,i,s)};ed.copyNode=function(t){var e=new Ab(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var LE="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",OE=LE+" Extended_Pictographic",DE=OE,BE=DE+" EBase EComp EMod EPres ExtPict",YE=BE,X1=YE,Q1={9:LE,10:OE,11:DE,12:BE,13:YE,14:X1},J1="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Z1={9:"",10:"",11:"",12:"",13:"",14:J1},_E="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",VE="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",UE=VE+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",FE=UE+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",WE=FE+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",GE=WE+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",eC=GE+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",tC={9:VE,10:UE,11:FE,12:WE,13:GE,14:eC},jE={};function iC(t){var e=jE[t]={binary:Gi(Q1[t]+" "+_E),binaryOfStrings:Gi(Z1[t]),nonBinary:{General_Category:Gi(_E),Script:Gi(tC[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}r(iC,"buildUnicodeData");for(Ib=0,Jg=[9,10,11,12,13,14];Ib<Jg.length;Ib+=1)xE=Jg[Ib],iC(xE);var xE,Ib,Jg,N=me.prototype,Cb=r(function(e,i){this.parent=e,this.base=i||this},"BranchID");Cb.prototype.separatedFrom=r(function(e){for(var i=this;i;i=i.parent)for(var s=e;s;s=s.parent)if(i.base===s.base&&i!==s)return!0;return!1},"separatedFrom");Cb.prototype.sibling=r(function(){return new Cb(this.parent,this.base)},"sibling");var Gt=r(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=jE[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null},"RegExpValidationState");Gt.prototype.reset=r(function(e,i,s){var o=s.indexOf("v")!==-1,a=s.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=s,o&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)},"reset");Gt.prototype.raise=r(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Gt.prototype.at=r(function(e,i){i===void 0&&(i=!1);var s=this.source,o=s.length;if(e>=o)return-1;var a=s.charCodeAt(e);if(!(i||this.switchU)||a<=55295||a>=57344||e+1>=o)return a;var l=s.charCodeAt(e+1);return l>=56320&&l<=57343?(a<<10)+l-56613888:a},"at");Gt.prototype.nextIndex=r(function(e,i){i===void 0&&(i=!1);var s=this.source,o=s.length;if(e>=o)return o;var a=s.charCodeAt(e),l;return!(i||this.switchU)||a<=55295||a>=57344||e+1>=o||(l=s.charCodeAt(e+1))<56320||l>57343?e+1:e+2},"nextIndex");Gt.prototype.current=r(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Gt.prototype.lookahead=r(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Gt.prototype.advance=r(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Gt.prototype.eat=r(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");Gt.prototype.eatChars=r(function(e,i){i===void 0&&(i=!1);for(var s=this.pos,o=0,a=e;o<a.length;o+=1){var l=a[o],f=this.at(s,i);if(f===-1||f!==l)return!1;s=this.nextIndex(s,i)}return this.pos=s,!0},"eatChars");N.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,s=!1,o=!1,a=0;a<i.length;a++){var l=i.charAt(a);e.indexOf(l)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(l,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),l==="u"&&(s=!0),l==="v"&&(o=!0)}this.options.ecmaVersion>=15&&s&&o&&this.raise(t.start,"Invalid regular expression flag")};function rC(t){for(var e in t)return!0;return!1}r(rC,"hasProp");N.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&rC(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};N.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var s=i[e];t.groupNames[s]||t.raise("Invalid named capture referenced")}};N.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new Cb(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};N.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};N.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};N.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};N.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};N.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};N.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var s=0,o=-1;if(this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue),t.eat(125)))return o!==-1&&o<s&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};N.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};N.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};N.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};N.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};N.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};N.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};N.regexp_eatSyntaxCharacter=function(t){var e=t.current();return HE(e)?(t.lastIntValue=e,t.advance(),!0):!1};function HE(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}r(HE,"isSyntaxCharacter");N.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!HE(i);)t.advance();return t.pos!==e};N.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};N.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(e)for(var s=0,o=i;s<o.length;s+=1){var a=o[s];a.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};N.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};N.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=ji(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=ji(t.lastIntValue);return!0}return!1};N.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),s===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),sC(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)};function sC(t){return ai(t,!0)||t===36||t===95}r(sC,"isRegExpIdentifierStart");N.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),s===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),oC(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)};function oC(t){return Fs(t,!0)||t===36||t===95||t===8204||t===8205}r(oC,"isRegExpIdentifierPart");N.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};N.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};N.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};N.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};N.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};N.regexp_eatZero=function(t){return t.current()===48&&!Rb(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};N.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};N.regexp_eatControlLetter=function(t){var e=t.current();return $E(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function $E(t){return t>=65&&t<=90||t>=97&&t<=122}r($E,"isControlLetter");N.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,s=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(s&&o>=55296&&o<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var l=t.lastIntValue;if(l>=56320&&l<=57343)return t.lastIntValue=(o-55296)*1024+(l-56320)+65536,!0}t.pos=a,t.lastIntValue=o}return!0}if(s&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&nC(t.lastIntValue))return!0;s&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function nC(t){return t>=0&&t<=1114111}r(nC,"isValidUnicode");N.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};N.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var KE=0,pi=1,nt=2;N.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(aC(e))return t.lastIntValue=-1,t.advance(),pi;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var s;if(t.eat(123)&&(s=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&s===nt&&t.raise("Invalid property name"),s;t.raise("Invalid property name")}return KE};function aC(t){return t===100||t===68||t===115||t===83||t===119||t===87}r(aC,"isCharacterClassEscape");N.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,s),pi}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,o)}return KE};N.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Jh(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};N.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return pi;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return nt;t.raise("Invalid property name")};N.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";qE(e=t.current());)t.lastStringValue+=ji(e),t.advance();return t.lastStringValue!==""};function qE(t){return $E(t)||t===95}r(qE,"isUnicodePropertyNameCharacter");N.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";pC(e=t.current());)t.lastStringValue+=ji(e),t.advance();return t.lastStringValue!==""};function pC(t){return qE(t)||Rb(t)}r(pC,"isUnicodePropertyValueCharacter");N.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};N.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===nt&&t.raise("Negated character class may contain strings"),!0}return!1};N.regexp_classContents=function(t){return t.current()===93?pi:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),pi)};N.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};N.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||QE(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var s=t.current();return s!==93?(t.lastIntValue=s,t.advance(),!0):!1};N.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};N.regexp_classSetExpression=function(t){var e=pi,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===nt&&(e=nt);for(var s=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==nt&&(e=pi);continue}t.raise("Invalid character in character class")}if(s!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(s!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===nt&&(e=nt)}};N.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var s=t.lastIntValue;return i!==-1&&s!==-1&&i>s&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};N.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?pi:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};N.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),s=this.regexp_classContents(t);if(t.eat(93))return i&&s===nt&&t.raise("Negated character class may contain strings"),s;t.pos=e}if(t.eat(92)){var o=this.regexp_eatCharacterClassEscape(t);if(o)return o;t.pos=e}return null};N.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};N.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===nt&&(e=nt);return e};N.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?pi:nt};N.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&cC(i)||lC(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function cC(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}r(cC,"isClassSetReservedDoublePunctuatorCharacter");function lC(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}r(lC,"isClassSetSyntaxCharacter");N.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return uC(e)?(t.lastIntValue=e,t.advance(),!0):!1};function uC(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}r(uC,"isClassSetReservedPunctuator");N.regexp_eatClassControlLetter=function(t){var e=t.current();return Rb(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};N.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};N.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Rb(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Rb(t){return t>=48&&t<=57}r(Rb,"isDecimalDigit");N.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;zE(i=t.current());)t.lastIntValue=16*t.lastIntValue+XE(i),t.advance();return t.pos!==e};function zE(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}r(zE,"isHexDigit");function XE(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}r(XE,"hexToInt");N.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};N.regexp_eatOctalDigit=function(t){var e=t.current();return QE(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function QE(t){return t>=48&&t<=55}r(QE,"isOctalDigit");N.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var s=0;s<e;++s){var o=t.current();if(!zE(o))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+XE(o),t.advance()}return!0};var lw=r(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Pb(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),W=me.prototype;W.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new lw(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};W.getToken=function(){return this.next(),new lw(this)};typeof Symbol<"u"&&(W[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===h.eof,value:e}}}});W.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(h.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};W.readToken=function(t){return ai(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};W.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};W.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var s=void 0,o=e;(s=gE(this.input,o,this.pos))>-1;)++this.curLine,o=this.lineStart=s;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};W.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),s=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Ws(s);)s=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};W.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&wE.test(String.fromCharCode(t)))++this.pos;else break e}}};W.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};W.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(h.ellipsis)):(++this.pos,this.finishToken(h.dot))};W.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(h.assign,2):this.finishOp(h.slash,1)};W.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,s=t===42?h.star:h.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,s=h.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(h.assign,i+1):this.finishOp(s,i)};W.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(h.assign,3)}return this.finishOp(t===124?h.logicalOR:h.logicalAND,2)}return e===61?this.finishOp(h.assign,2):this.finishOp(t===124?h.bitwiseOR:h.bitwiseAND,1)};W.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)};W.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||at.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.incDec,2):e===61?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)};W.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(h.assign,i+1):this.finishOp(h.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(h.relational,i))};W.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(h.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.arrow)):this.finishOp(t===61?h.eq:h.prefix,1)};W.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(h.questionDot,2)}if(e===63){if(t>=12){var s=this.input.charCodeAt(this.pos+2);if(s===61)return this.finishOp(h.assign,3)}return this.finishOp(h.coalesce,2)}}return this.finishOp(h.question,1)};W.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),ai(e,!0)||e===92))return this.finishToken(h.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+ji(e)+"'")};W.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.parenL);case 41:return++this.pos,this.finishToken(h.parenR);case 59:return++this.pos,this.finishToken(h.semi);case 44:return++this.pos,this.finishToken(h.comma);case 91:return++this.pos,this.finishToken(h.bracketL);case 93:return++this.pos,this.finishToken(h.bracketR);case 123:return++this.pos,this.finishToken(h.braceL);case 125:return++this.pos,this.finishToken(h.braceR);case 58:return++this.pos,this.finishToken(h.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(h.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+ji(t)+"'")};W.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};W.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var s=this.input.charAt(this.pos);if(at.test(s)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(s==="[")e=!0;else if(s==="]"&&e)e=!1;else if(s==="/"&&!e)break;t=s==="\\"}++this.pos}var o=this.input.slice(i,this.pos);++this.pos;var a=this.pos,l=this.readWord1();this.containsEsc&&this.unexpected(a);var f=this.regexpState||(this.regexpState=new Gt(this));f.reset(i,o,l),this.validateRegExpFlags(f),this.validateRegExpPattern(f);var m=null;try{m=new RegExp(o,l)}catch{}return this.finishToken(h.regexp,{pattern:o,flags:l,value:m})};W.readInt=function(t,e,i){for(var s=this.options.ecmaVersion>=12&&e===void 0,o=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,l=0,f=0,m=0,x=e==null?1/0:e;m<x;++m,++this.pos){var _=this.input.charCodeAt(this.pos),b=void 0;if(s&&_===95){o&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),f===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),m===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),f=_;continue}if(_>=97?b=_-97+10:_>=65?b=_-65+10:_>=48&&_<=57?b=_-48:b=1/0,b>=t)break;f=_,l=l*t+b}return s&&f===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||e!=null&&this.pos-a!==e?null:l};function fC(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}r(fC,"stringToNumber");function JE(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}r(JE,"stringToBigInt");W.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=JE(this.input.slice(e,this.pos)),++this.pos):ai(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,i)};W.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var s=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&s===110){var o=JE(this.input.slice(e,this.pos));return++this.pos,ai(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,o)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),s===46&&!i&&(++this.pos,this.readInt(10),s=this.input.charCodeAt(this.pos)),(s===69||s===101)&&!i&&(s=this.input.charCodeAt(++this.pos),(s===43||s===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),ai(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=fC(this.input.slice(e,this.pos),i);return this.finishToken(h.num,a)};W.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};W.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var s=this.input.charCodeAt(this.pos);if(s===t)break;s===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):s===8232||s===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Ws(s)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(h.string,e)};var ZE={};W.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===ZE)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};W.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw ZE;this.raise(t,e)};W.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===h.template||this.type===h.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(h.dollarBraceL)):(++this.pos,this.finishToken(h.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(h.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Ws(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};W.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(h.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};W.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ji(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var s=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],o=parseInt(s,8);return o>255&&(s=s.slice(0,-1),o=parseInt(s,8)),this.pos+=s.length-1,e=this.input.charCodeAt(this.pos),(s!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-s.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(o)}return Ws(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};W.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};W.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,s=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=this.fullCharCodeAtPos();if(Fs(o,s))this.pos+=o<=65535?1:2;else if(o===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(e?ai:Fs)(l,s)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=ji(l),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};W.readWord=function(){var t=this.readWord1(),e=h.name;return this.keywords.test(t)&&(e=rw[t]),this.finishToken(e,t)};var mC="8.12.1";me.acorn={Parser:me,version:mC,defaultOptions:ew,Position:Xh,SourceLocation:Pb,getLineInfo:vE,Node:Ab,TokenType:$,tokTypes:h,keywordTypes:rw,TokContext:kt,tokContexts:ie,isIdentifierChar:Fs,isIdentifierStart:ai,Token:lw,isNewLine:Ws,lineBreak:at,lineBreakG:Y1,nonASCIIwhitespace:wE};function ek(t,e){return me.parse(t,e)}r(ek,"parse");var tk={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var Nr,Mb,hC="Utils",M=class{static load(e){I(Nr,Nr,e,"f",Mb)}static get shim(){if(!u(Nr,Nr,"f",Mb))throw new Error("Platform is not loaded");return u(Nr,Nr,"f",Mb)}};r(M,"Platform");Nr=M;Mb={value:void 0};var g=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=M.shim.info.version}};r(g,"InnertubeError");var Qe=class extends g{};r(Qe,"ParsingError");var td=class extends g{};r(td,"MissingParamError");var le=class extends g{};r(le,"OAuth2Error");var Ct=class extends Error{};r(Ct,"PlayerError");var Ar=class extends Error{};r(Ar,"SessionError");var Ns=class extends Error{};r(Ns,"ChannelError");function pd(t,e){return Reflect.ownKeys(t).some(s=>{let o=e[s]instanceof p;return!o&&typeof e[s]=="object"?JSON.stringify(t[s])===JSON.stringify(e[s]):t[s]===(o?e[s].toString():e[s])})}r(pd,"deepCompare");function Ee(t,e,i){let s=new RegExp(`${uw(e)}(.*?)${uw(i)}`,"s"),o=t.match(s);return o?o[1]:void 0}r(Ee,"getStringBetweenStrings");function uw(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}r(uw,"escapeStringRegexp");function Zi(t){let e=tk[t],i=Math.floor(Math.random()*e.length);return e[i]}r(Zi,"getRandomUserAgent");async function dC(t){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),s=[i,t,e].join(" "),o=await M.shim.sha1Hash(s);return["SAPISIDHASH",[i,o].join("_")].join(" ")}r(dC,"generateSidAuth");function $i(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let s=0;s<t;s++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}r($i,"generateRandomString");function _e(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}r(_e,"timeToSeconds");function jg(...t){let e=new ui;for(let i of t)if(!!i)for(let s of i){let o=e.get(s[0]);if(o){e.set(s[0],[...o,...s[1]]);continue}e.set(...s)}return e}r(jg,"concatMemos");function Hs(t){for(let[e,i]of Object.entries(t))if(!i)throw new td(`${e} is missing`)}r(Hs,"throwIfMissing");function _C(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}r(_C,"hasKeys");async function*jb(t){let e=t.getReader();try{for(;;){let{done:i,value:s}=await e.read();if(i)return;yield s}}finally{e.releaseLock()}}r(jb,"streamToIterable");var xC=r((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),s=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,o=[...s],a=e!=null&&e.body?typeof e.body=="string"?s.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",l=o.length>0?`${o.map(([f,m])=>`    ${f}: ${m}`).join(`
`)}`:"    (none)";return Ht(hC,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${l}
' + 
    '  body:
${a}`),M.shim.fetch(t,e)},"debugFetch");function zt(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}r(zt,"u8ToBase64");function rg(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),i=e.padEnd(e.length+(4-e.length%4)%4,"=");return new Uint8Array(atob(i).split("").map(s=>s.charCodeAt(0)))}r(rg,"base64ToU8");function Oe(t){return!("emoji"in t)}r(Oe,"isTextRun");function yC(t,e,i=!1){let s=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,o=t.match(new RegExp(s));return o?o[2]:void 0}r(yC,"getCookie");function id(t,e){let{name:i,includes:s,regexp:o}=e,l=[ek(t,{ecmaVersion:2020})];for(let f=0;f<l.length;f++){let m=l[f];if(m.type==="ExpressionStatement"&&m.expression.type==="AssignmentExpression"&&m.expression.left.type==="Identifier"&&m.expression.right.type==="FunctionExpression"){let x=t.substring(m.start,m.end);if(i&&m.expression.left.name===i||s&&x.indexOf(s)>-1||o&&o.test(x))return{start:m.start,end:m.end,name:m.expression.left.name,node:m,result:x}}for(let x in m){let _=m[x];Array.isArray(_)?l.push(..._):typeof _=="object"&&_!==null&&l.push(_)}}}r(id,"findFunction");async function fw(t){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(s){let o=new Uint8Array(s),a=[];for(let l=0;l<o.length;++l)a.push(e[o[l]]);return a.join("")}return r(i,"hex"),i(await crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))}r(fw,"sha1Hash");var rd,ik,rk,sk,Lb=class{constructor(e){rd.add(this),this.session=e}async stats(e,i,s){let o=new URL(e);o.searchParams.set("ver","2"),o.searchParams.set("c",i.client_name.toLowerCase()),o.searchParams.set("cbrver",i.client_version),o.searchParams.set("cver",i.client_version);for(let a of Object.keys(s))o.searchParams.set(a,s[a]);return await this.session.http.fetch(o)}async execute(e,i){var l,f;let s;if(i&&!i.protobuf){if(s={...i},Reflect.has(s,"browseId")&&u(this,rd,"m",sk).call(this,s.browseId)&&!this.session.logged_in)throw new g("You must be signed in to perform this operation.");Reflect.has(s,"override_endpoint")&&delete s.override_endpoint,Reflect.has(s,"parse")&&delete s.parse,Reflect.has(s,"request")&&delete s.request,Reflect.has(s,"clientActions")&&delete s.clientActions,Reflect.has(s,"settingItemIdForClient")&&delete s.settingItemIdForClient,Reflect.has(s,"action")&&(s.actions=[s.action],delete s.action),Reflect.has(s,"boolValue")&&(s.newValue={boolValue:s.boolValue},delete s.boolValue),Reflect.has(s,"token")&&(s.continuation=s.token,delete s.token),(s==null?void 0:s.client)==="YTMUSIC"&&(s.isAudioOnly=!0)}else i&&(s=i.serialized_data);let o=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,a=await this.session.http.fetch(o,{method:"POST",body:i!=null&&i.protobuf?s:JSON.stringify(s||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let m=c.parseResponse(await a.json());if(u(this,rd,"m",rk).call(this,m)&&((f=(l=m.on_response_received_actions)==null?void 0:l.first())==null?void 0:f.type)==="navigateAction"){let x=m.on_response_received_actions.firstOfType(Ai);x&&(m=await x.endpoint.call(this,{parse:!0}))}return m}return u(this,rd,"m",ik).call(this,a)}};r(Lb,"Actions");rd=new WeakSet,ik=r(async function(e){return{success:e.ok,status_code:e.status,data:JSON.parse(await e.text())}},"_Actions_wrap"),rk=r(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),sk=r(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var mw=Lb;var ct="Player",qe=class{constructor(e,i,s,o,a){this.player_id=e,this.sts=i,this.nsig_sc=a,this.sig_sc=o,this.evaluator=s}static async create(e,i,s=M.shim.fetch,o){let a=new URL("/iframe_api",z.URLS.YT_BASE),l=await s(a);if(!l.ok)throw new Ct(`Failed to get player id: ${l.status} (${l.statusText})`);let f=await l.text(),m=Ee(f,"player\\/","\\/");if(O.info(ct,`Got player id (${m}). Checking for cached players..`),!m)throw new Ct("Failed to get player id");if(e){let C=await qe.fromCache(e,m,i);if(C)return O.info(ct,"Found up-to-date player data in cache."),C.po_token=o,C}let x=new URL(`/s/player/${m}/player_ias.vflset/en_US/base.js`,z.URLS.YT_BASE);O.info(ct,`Could not find any cached player. Will download a new player from ${x}.`);let _=await s(x,{headers:{"user-agent":Zi("desktop")}});if(!_.ok)throw new Ct(`Failed to get player data: ${_.status}`);let b=await _.text(),T=this.extractSigTimestamp(b),w=this.extractSigSourceCode(b),S=this.extractNSigSourceCode(b);O.info(ct,`Got signature timestamp (${T}) and algorithms needed to decipher signatures.`),O.info(ct,w),O.info(ct,S);let E=await qe.fromSource(m,T,i,e,w,S);return E.po_token=o,O.info(ct,`Got ptoken (${o})`),E}async decipher(e,i,s,o){if(e=e||i||s,!e)throw new Ct("No valid URL to decipher");let a=new URLSearchParams(e),l=new URL(a.get("url")||e);if(this.sig_sc&&(i||s)){let _=await this.evaluator(this.sig_sc,{sig:a.get("s")});if(O.info(ct,`Transformed signature from ${a.get("s")} to ${_}.`),typeof _!="string")throw new Ct("Failed to decipher signature");let b=a.get("sp");b?l.searchParams.set(b,_):l.searchParams.set("signature",_)}let f=l.searchParams.get("n");if(this.nsig_sc&&f){let _;if(o&&o.has(f))_=o.get(f);else{if(_=await this.evaluator(this.nsig_sc,{nsig:f}),O.info(ct,`Transformed n signature from ${f} to ${_}.`),typeof _!="string")throw new Ct("Failed to decipher nsig");_.startsWith("enhanced_except_")?O.warn(ct,"Something went wrong while deciphering nsig."):o&&o.set(f,_)}l.searchParams.set("n",_)}switch(l.searchParams.get("sabr")!=="1"&&this.po_token&&l.searchParams.set("pot",this.po_token),l.searchParams.get("c")){case"WEB":l.searchParams.set("cver",z.CLIENTS.WEB.VERSION);break;case"MWEB":l.searchParams.set("cver",z.CLIENTS.MWEB.VERSION);break;case"WEB_REMIX":l.searchParams.set("cver",z.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":l.searchParams.set("cver",z.CLIENTS.WEB_KIDS.VERSION);break;case"TVHTML5":l.searchParams.set("cver",z.CLIENTS.TV.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":l.searchParams.set("cver",z.CLIENTS.TV_EMBEDDED.VERSION);break;case"WEB_EMBEDDED_PLAYER":l.searchParams.set("cver",z.CLIENTS.WEB_EMBEDDED.VERSION);break}let x=l.toString();return O.info(ct,`Deciphered URL: ${x}`),l.toString()}static async fromCache(e,i,s){let o=await e.get(i);if(!o)return null;let a=new DataView(o);if(a.getUint32(0,!0)!==qe.LIBRARY_VERSION)return null;let f=a.getUint32(4,!0),m=a.getUint32(8,!0),x=o.slice(12,12+m),_=o.slice(12+m),b=dt.decompress(new TextDecoder().decode(x)),T=dt.decompress(new TextDecoder().decode(_));return new qe(i,f,s,b,T)}static async fromSource(e,i,s,o,a,l){let f=new qe(e,i,s,a,l);return await f.cache(o),f}async cache(e){if(!e||!this.sig_sc||!this.nsig_sc)return;let i=new TextEncoder,s=i.encode(dt.compress(this.sig_sc)),o=i.encode(dt.compress(this.nsig_sc)),a=new ArrayBuffer(12+s.byteLength+o.byteLength),l=new DataView(a);l.setUint32(0,qe.LIBRARY_VERSION,!0),l.setUint32(4,this.sts,!0),l.setUint32(8,s.byteLength,!0),new Uint8Array(a).set(s,12),new Uint8Array(a).set(o,12+s.byteLength),await e.set(this.player_id,new Uint8Array(a))}static extractSigTimestamp(e){return parseInt(Ee(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var l,f,m;let i=Ee(e,'function(a){a=a.split("")','return a.join("")}'),s="a";i||(i=Ee(e,'function(J){J=J.split("")','return J.join("")}'),s="J");let o=(m=(f=(l=i==null?void 0:i.split(/\.|\[/))==null?void 0:l[0])==null?void 0:f.replace(";",""))==null?void 0:m.trim(),a=Ee(e,`var ${o}={`,"};");return(!a||!i)&&O.warn(ct,"Failed to extract signature decipher algorithm."),`function descramble_sig(${s}) { ${s} = ${s}.split(""); let ${o}={${a}}${i} return ${s}.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=id(e,{includes:"enhanced_except"});if(i||(i=id(e,{includes:"-_w8_"})),i||(i=id(e,{includes:"1969"})),i)return`${i.result.replace(/if\(typeof [a-zA-Z0-9]*==="undefined"\)return [a-zA-Z0-9]*;/,"")} ${i.name}(nsig);`}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,z.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 11}};r(qe,"Player");var lt=class{constructor(e){this.listenerBind=this.listener.bind(this),this.listeners=new Map;let i=window.location.origin,s=new URL(e).origin;if(i===s)throw new Error("Current frame must not share same origin as the runner frame");this.runnerFrame=document.createElement("iframe"),this.runnerFrame.credentialless=!0,this.runnerFrame.src=e,this.runnerFrame.style.display="none",document.body.appendChild(this.runnerFrame),window.addEventListener("message",this.listenerBind),this.readyPromise=new Promise(o=>{this.runnerFrame.addEventListener("load",()=>{o(),this.emit("ready")})}),this.timeout=null}async load(){return this.readyPromise}on(e,i){var s;this.listeners.has(e)||this.listeners.set(e,[]),(s=this.listeners.get(e))==null||s.push(i)}off(e,i){var a;if(!this.listeners.has(e))return;let s=this.listeners.get(e),o=(a=s==null?void 0:s.indexOf(i))!=null?a:-1;o!==-1&&(s==null||s.splice(o,1))}emit(e,...i){var o;if(!this.listeners.has(e))return;let s=(o=this.listeners.get(e))!=null?o:[];for(let a of s)a(...i)}setTimeout(e){this.timeout&&clearTimeout(this.timeout),e&&(this.timeout=window.setTimeout(()=>{this.close()},e))}listener(e){var i;e.source===((i=this.runnerFrame)==null?void 0:i.contentWindow)&&(e.data.type==="sandboxResult"?this.emit("result",e.data.result):e.data.type==="sandboxError"&&this.emit("error",e.data.error))}close(){!this.runnerFrame||(this.runnerFrame.remove(),window.removeEventListener("message",this.listenerBind),this.timeout&&clearTimeout(this.timeout),this.emit("close"))}async evaluate(e,i=[],s=[]){var o;return await this.readyPromise,(o=this.runnerFrame.contentWindow)==null||o.postMessage({type:"sandboxEvaluate",body:e,argNames:i,argValues:s},"*"),new Promise((a,l)=>{let f=null,m=null,x=null,_=r(()=>{f&&this.off("result",f),m&&this.off("error",m),x&&this.off("close",x)},"cleanup");f=r(b=>{_(),a(b)},"resultHandler"),m=r(b=>{_(),l(b)},"errorHandler"),x=r(()=>{_(),l(new Error("SandboxedEvaluator closed"))},"closeHandler"),this.on("result",f),this.on("error",m),this.on("close",x)})}static async evaluateOnce(e,i,s,o,a=5e3){let l=new lt(e);a&&l.setTimeout(a);try{let f=await l.evaluate(i,s,o);return l.close(),f}catch(f){throw l.close(),f}}static extractFnBodyAndArgs(e){let i=e.substring(e.indexOf("{")+1,e.lastIndexOf("}")),s=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(",").map(o=>o.trim());return{body:i,argNames:s}}static matchArgValues(e,i){return e.map(s=>{if(!!Object.hasOwn(i,s))return i[s]})}};r(lt,"SandboxedEvaluator");var ok="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36(KHTML, like Gecko)",Ye=class{static base64ToU8(e){let i={"-":"+",_:"/",".":"="},s;return/[-_.]/g.test(e)?s=e.replace(/[-_.]/g,a=>i[a]):s=e,s=atob(s),new Uint8Array([...s].map(a=>a.charCodeAt(0)))}static u8ToBase64(e,i=!1){let s=btoa(String.fromCharCode(...e));return i?s.replace(/\+/g,"-").replace(/\//g,"_"):s}static async createChallenge(e,i,s,o){let a=[i];s&&a.push(s);let l=await e(Ye.b64ToBuf("BxMTDxLZzs4JDQ3MDwDNBg4OBgsEAA8IEs0CDgzOwxEPAs4GDg4GCwTNCA0TBBENAAvNFgAAzRXQzfYAAM7iEQQAEwQ="),{method:"POST",headers:{"Content-Type":"application/json+protobuf","User-Agent":ok,"x-goog-api-key":o,"x-user-agent":"grpc-web-javascript/0.1"},body:JSON.stringify(a)});if(!l.ok)throw new Error(`Failed to fetch: ${l.status}`);let f=await l.json();if(f.length>1&&f[1]){let m=Ye.parseChallenge(f[1]);if(m)return m}}static b64ToBuf(e){let i=Ye.base64ToU8(e);return i.length?new TextDecoder().decode(i.map(s=>s+97)):""}static stringToB64(e){let i=new TextEncoder().encode(e);return i=i.map(s=>s-97),Ye.u8ToBase64(i)}static parseChallenge(e){let i=Ye.b64ToBuf(e);if(i.length){let[s,o,,a,l,f]=JSON.parse(i);return{script:o,interpreterHash:a,globalName:f,challenge:l,messageId:s}}}static getFn1(){let e='(n){return(async()=>{const r=window[n.globalName];if(!r)throw new Error("V not found");const o={fn1:null,fn2:null,fn3:null,fn4:null};if(!r.a)throw new Error("Init failed");try{await r.a(n.challenge,(function(n,r,t,f){o.fn1=n,o.fn2=r,o.fn3=t,o.fn4=f}),!0,void 0,((...n)=>{}))}catch(n){throw new Error("Failed to load")}if(!o.fn1)throw new Error("fn1 unavailable.");let t=null;const f=[];if(await o.fn1((n=>{t=n}),[,,f]),!t)throw new Error("[BG]: No response");if(!f.length)throw new Error("No ppf");return window.ppf=f,t})()}';return lt.extractFnBodyAndArgs(e)}static getFn2(){let e='(r,e){const t=window.ppf[0];if(!t)throw new Error("PP:Undefined");return(async()=>{const n=await t((r=>{const e={"-":"+",_:"/",".":"="};let t;return t=/[-_.]/g.test(r)?r.replace(/[-_.]/g,(r=>e[r])):r,t=atob(t),new Uint8Array([...t].map((r=>r.charCodeAt(0))))})(r));if("function"!=typeof n)throw new Error("PP:failed");const o=((r,e=!1)=>{const t=btoa(String.fromCharCode(...r));return e?t.replace(/\\+/g,"-").replace(/\\//g,"_"):t})(await n((new TextEncoder).encode(e)),!0);if(o.length>80)return o;throw new Error("PT too small")})()}';return lt.extractFnBodyAndArgs(e.toString())}static async getPot(e=M.shim.fetch,i,s,o,a,l=!1){o||(o=Ye.b64ToBuf("7tPSGc8DDwkHBvfRz/LiF9Pq4A4=")),a||(a=Ye.b64ToBuf("4OgZAPIY4xjz1PbP6QfT2OXSz+8QEBMYBQMF1g/j6+Xq6+kO4A0W")),s||(s=qt.encodeVisitorData(Js.generateRandomString(11),Math.floor(Date.now()/1e3)));let f=new lt(i),m=null,x=null,_=null;try{l||f.setTimeout(5e3),await f.load(),l||f.setTimeout(null);let b=await Ye.createChallenge(e,o,null,a);if(!b)throw new Error("C is incorrect");if(!b.script)throw new Error("CS is bad");let T=b.script.find(K=>K!==null);if(!T)throw new Error("CS is null");l||f.setTimeout(5e3),await f.evaluate(T,[],[]),l||f.setTimeout(5e3);let w=this.getFn1(),S=await f.evaluate(w.body,w.argNames,[b]);l||f.setTimeout(null);let E=[o,S],C=await e(Ye.b64ToBuf("BxMTDxLZzs4JDQ3MDwDNBg4OBgsEAA8IEs0CDgzOwxEPAs4GDg4GCwTNCA0TBBENAAvNFgAAzRXQzfYAAM7mBA0EEQATBOjz"),{method:"POST",headers:{"Content-Type":"application/json+protobuf","x-goog-api-key":a,"x-user-agent":"grpc-web-javascript/0.1","User-Agent":ok,Accept:"*/*"},body:JSON.stringify(E)});if(!C.ok)throw new Error("It failed");let k=await C.json();if(!k.length||!k[0])throw new Error("It none");let U=k[0];x=k[1],_=k[2],l||f.setTimeout(5e3);let L=this.getFn2();m=await f.evaluate(L.body,L.argNames,[U,s]),l||f.close()}catch(b){throw l||f.close(),b}return{pot:m,vd:s,requestToken:o,ttl:x,refresh:_}}};r(Ye,"BGUtils");var Mr,ak,pk,ck,nk,Ob;(function(t){t.WEB="WEB",t.MWEB="MWEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV="TVHTML5",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER",t.WEB_EMBEDDED="WEB_EMBEDDED_PLAYER",t.WEB_CREATOR="WEB_CREATOR"})(Ob||(Ob={}));var Rr="Session",sd=class extends zs{constructor(e,i,s,o,a,l,f,m,x){super(),this.http=new Kb(this,l,f),this.actions=new mw(this),this.logged_in=!!l,this.cache=m,this.account_index=o,this.key=i,this.api_version=s,this.context=e,this.player=a,this.po_token=x}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static async create(e){let i=e.runner_location;if(e.client_type===Ob.WEB){let m=localStorage.getItem("yt_tkn"),x,_,b=0,T=0;if(m){let w=JSON.parse(m);w.length>0&&(x=w[0],_=w[1],b=w[2],T=w[3])}if(!x||!_||!b||!T||T+b*1e3<Date.now())try{let w=await Ye.getPot(e.fetch,i);x=w.pot,_=w.vd,b=w.ttl,T=Date.now(),localStorage.setItem("yt_tkn",JSON.stringify([x,_,b,T]))}catch(w){O.error(Rr,"Failed to get PoT",w)}x&&(e.po_token=x,e.visitor_data=_)}let s=new Map;e.evaluator=async(m,x)=>{let _=`${m}|${JSON.stringify(x)}`,b=s.get(_);if(b)return await b;let T=lt.extractFnBodyAndArgs(m),w=lt.evaluateOnce(i,T.body,T.argNames,Object.values(x));s.set(_,w);try{return await w}catch(S){console.error("Failed to fetch params"),console.error(S)}};let{context:o,api_key:a,api_version:l,account_index:f}=await Mr.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache,e.po_token);return new Mr(o,a,l,f,e.retrieve_player===!1?void 0:await qe.create(e.cache,e.evaluator,e.fetch,e.po_token),e.cookie,e.fetch,e.cache,e.po_token)}static async fromCache(e,i){let s=await e.get("innertube_session_data");if(!s)return null;let o=new TextDecoder().decode(s.slice(4));try{let a=JSON.parse(dt.decompress(o));return i.visitor_data&&(a.context.client.visitorData=i.visitor_data),i.lang&&(a.context.client.hl=i.lang),i.location&&(a.context.client.gl=i.location),i.on_behalf_of_user&&(a.context.user.onBehalfOfUser=i.on_behalf_of_user),a.context.client.timeZone=i.time_zone,a.context.client.platform=i.device_category.toUpperCase(),a.context.client.clientName=i.client_name,a.context.user.enableSafetyMode=i.enable_safety_mode,a}catch(a){return O.error(Rr,"Failed to parse session data from cache.",a),null}}static async getSessionData(e="",i="",s=0,o="",a=!1,l=!1,f="desktop",m=Ob.WEB,x=Intl.DateTimeFormat().resolvedOptions().timeZone,_=M.shim.fetch,b,T,w=!0,S){let E={lang:e,location:i,time_zone:x,device_category:f,client_name:m,enable_safety_mode:a,visitor_data:o,on_behalf_of_user:b,po_token:S},C;if(T&&w){let k=await this.fromCache(T,E);k&&(O.info(Rr,"Found session data in cache."),C=k)}if(!C){O.info(Rr,"Generating session data.");let k=V.WEB.API_KEY,U=V.WEB.API_VERSION,L={hl:e||"en",gl:i||"US",remote_host:"",visitor_data:o||qt.encodeVisitorData($i(11),Math.floor(Date.now()/1e3)),client_name:m,client_version:V.WEB.VERSION,device_category:f.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:x,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:a};if(!l)try{let K=await u(this,Mr,"m",pk).call(this,E,_);k=K.api_key,U=K.api_version,L=K.context_data}catch(K){O.error(Rr,"Failed to retrieve session data from server. Session data generated locally will be used instead.",K)}b&&(L.on_behalf_of_user=b),C={api_key:k,api_version:U,context:u(this,Mr,"m",ck).call(this,L)},w&&await u(this,Mr,"m",ak).call(this,C,T)}return O.debug(Rr,"Session data:",C),{...C,account_index:s}}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};r(sd,"Session");Mr=sd,ak=r(async function(e,i){if(!i)return;O.info(Rr,"Compressing and caching session data.");let s=new TextEncoder().encode(dt.compress(JSON.stringify(e))),o=new ArrayBuffer(4+s.byteLength);new DataView(o).setUint32(0,s.byteLength,!0),new Uint8Array(o).set(s,4),await i.set("innertube_session_data",new Uint8Array(o))},"_Session_storeSession"),pk=r(async function(e,i=M.shim.fetch){let s=$i(11);e.visitor_data&&(s=u(this,Mr,"m",nk).call(this,e.visitor_data));let o=new URL("/sw.js_data",We.YT_BASE),a=await i(o,{headers:{"Accept-Language":e.lang||"en-US","User-Agent":Zi("desktop"),Accept:"*/*",Referer:`${We.YT_BASE}/sw.js`,Cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${s};`}});if(!a.ok)throw new Ar(`Failed to retrieve session data: ${a.status}`);let l=await a.text();if(!l.startsWith(")]}'"))throw new Ar("Invalid JSPB response");let m=JSON.parse(l.replace(/^\)\]\}'/,""))[0][2],x=V.WEB.API_VERSION,[[_],b]=m,T=_[61],w=T[T.length-1];return{context_data:{hl:e.lang||_[0],gl:e.location||_[2],remote_host:_[3],visitor_data:e.visitor_data||_[13],client_name:e.client_name,client_version:_[16],os_name:_[17],os_version:_[18],time_zone:_[79]||e.time_zone,device_category:e.device_category,browser_name:_[86],browser_version:_[87],device_make:_[11],device_model:_[12],app_install_data:w,enable_safety_mode:e.enable_safety_mode},api_key:b,api_version:x}},"_Session_getSessionData"),ck=r(function(e){let i={client:{hl:e.hl||"en",gl:e.gl||"US",remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:We.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",mainAppWebInfo:{graftUrl:We.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(i.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},"_Session_buildContext"),nk=r(function(e){return qt.decodeVisitorData(e).id},"_Session_getVisitorID");var hw=sd;var Lr,Db=class extends Ps{constructor(e,i,s,o){var a;if(super(e,i,s),Lr.set(this,void 0),o){let l=c.parseResponse(o.data);l.entries&&(this.watch_next_feed=l.entries),l.continuation_endpoint&&I(this,Lr,(a=l.continuation_endpoint)==null?void 0:a.as(ti),"f")}}async getWatchNextContinuation(){var i;if(!u(this,Lr,"f"))throw new g("Continuation not found");let e=await this.actions.execute("/reel/reel_watch_sequence",{sequenceParams:u(this,Lr,"f").token,parse:!0});return e.entries&&(this.watch_next_feed=e.entries),I(this,Lr,(i=e.continuation_endpoint)==null?void 0:i.as(ti),"f"),this}get wn_has_continuation(){return!!u(this,Lr,"f")}};r(Db,"ShortFormVideoInfo");Lr=new WeakMap;var dw=Db;var Ve,$s=class{constructor(e){Ve.set(this,void 0),I(this,Ve,e,"f")}static async create(e){return new $s(await hw.create(e))}async getInfo(e,i){var _,b,T,w,S;Hs({target:e});let s={videoId:e instanceof d?(_=e.payload)==null?void 0:_.videoId:e,playlistId:e instanceof d?(b=e.payload)==null?void 0:b.playlistId:void 0,playlistIndex:e instanceof d?(T=e.payload)==null?void 0:T.playlistIndex:void 0,params:e instanceof d?(w=e.payload)==null?void 0:w.params:void 0,racyCheckOk:!0,contentCheckOk:!0},o=new d({watchEndpoint:s}),a=new d({watchNextEndpoint:s}),l=o.call(u(this,Ve,"f").actions,{playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(S=u(this,Ve,"f").player)==null?void 0:S.sts}},serviceIntegrityDimensions:{poToken:u(this,Ve,"f").po_token},client:i}),f=a.call(u(this,Ve,"f").actions),m=await Promise.all([l,f]),x=$i(16);return new Kh(m,this.actions,x)}async getBasicInfo(e,i){var l;Hs({video_id:e});let o=await new d({watchEndpoint:{videoId:e}}).call(u(this,Ve,"f").actions,{playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(l=u(this,Ve,"f").player)==null?void 0:l.sts}},serviceIntegrityDimensions:{poToken:u(this,Ve,"f").po_token},client:i}),a=$i(16);return new Kh([o],this.actions,a)}async getShortsVideoInfo(e,i){Hs({video_id:e});let o=new d({reelWatchEndpoint:{disablePlayerResponse:!1,params:"CAUwAg%3D%3D",videoId:e}}).call(u(this,Ve,"f").actions,{client:i}),a=bT.encode({shortId:e,params:{number:5},feature2:25,feature3:0}),l=encodeURIComponent(zt(a.finish())),f=this.actions.execute("/reel/reel_watch_sequence",{sequenceParams:l}),m=await Promise.all([o,f]),x=$i(16);return new dw([m[0]],this.actions,x,m[1])}async getPlaylist(e){Hs({id:e}),e.startsWith("VL")||(e=`VL${e}`);let s=await new d({browseEndpoint:{browseId:e}}).call(u(this,Ve,"f").actions);return new Os(this.actions,s)}async getStreamingData(e,i={}){let o=(await this.getBasicInfo(e)).chooseFormat(i);return o.url=await o.decipher(u(this,Ve,"f").player),o}async download(e,i){return(await this.getBasicInfo(e,i==null?void 0:i.client)).download(i)}async resolveURL(e){let i=await this.actions.execute("/navigation/resolve_url",{url:e,parse:!0});if(!i.endpoint)throw new g("Failed to resolve URL. Expected a NavigationEndpoint but got undefined",i);return i.endpoint}call(e,i){return e.call(this.actions,i)}get actions(){return u(this,Ve,"f").actions}get session(){return u(this,Ve,"f")}};r($s,"Innertube");Ve=new WeakMap;var _w=$s;var Ki,Ne,lk,Ks,od="OAuth2",Bb=class{constructor(e){Ki.add(this),Ne.set(this,void 0),I(this,Ne,e,"f"),this.YTTV_URL=new URL("/tv",z.URLS.YT_BASE),this.AUTH_SERVER_CODE_URL=new URL("/o/oauth2/device/code",z.URLS.YT_BASE),this.AUTH_SERVER_TOKEN_URL=new URL("/o/oauth2/token",z.URLS.YT_BASE),this.AUTH_SERVER_REVOKE_TOKEN_URL=new URL("/o/oauth2/revoke",z.URLS.YT_BASE)}async init(e){if(e){this.setTokens(e),this.shouldRefreshToken()&&await this.refreshAccessToken(),u(this,Ne,"f").emit("auth",{credentials:this.oauth2_tokens});return}if(await u(this,Ki,"m",lk).call(this)){O.info(od,"Loaded OAuth2 tokens from cache.",this.oauth2_tokens);return}this.client_id||(this.client_id=await this.getClientID());let s=await this.getDeviceAndUserCode();u(this,Ne,"f").emit("auth-pending",s),this.pollForAccessToken(s)}setTokens(e){let i=e;if(i.expires_in&&(i.expiry_date=new Date(Date.now()+i.expires_in*1e3).toISOString(),delete i.expires_in),!this.validateTokens(i))throw new le("Invalid tokens provided.");this.oauth2_tokens=i,i.client&&(O.info(od,"Using provided client id and secret."),this.client_id=i.client)}async cacheCredentials(){var s;let i=new TextEncoder().encode(JSON.stringify(this.oauth2_tokens));await((s=u(this,Ne,"f").cache)==null?void 0:s.set("youtubei_oauth_credentials",i.buffer))}async removeCache(){var e;await((e=u(this,Ne,"f").cache)==null?void 0:e.remove("youtubei_oauth_credentials"))}pollForAccessToken(e){if(!this.client_id)throw new le("Client ID is missing.");let{device_code:i,interval:s}=e,{client_id:o,client_secret:a}=this.client_id,l={client_id:o,client_secret:a,code:i,grant_type:"http://oauth.net/grant_type/device/1.0"},f=setInterval(async()=>{let x=await(await u(this,Ki,"a",Ks).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(l),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(x.error){switch(x.error){case"access_denied":u(this,Ne,"f").emit("auth-error",new le("Access was denied.",x)),clearInterval(f);break;case"expired_token":u(this,Ne,"f").emit("auth-error",new le("The device code has expired.",x)),clearInterval(f);break;case"authorization_pending":case"slow_down":O.info(od,"Polling for access token...");break;default:u(this,Ne,"f").emit("auth-error",new le("Server returned an unexpected error.",x)),clearInterval(f);break}return}this.setTokens(x),u(this,Ne,"f").emit("auth",{credentials:this.oauth2_tokens}),clearInterval(f)},s*1e3)}async revokeCredentials(){if(!this.oauth2_tokens)throw new le("Access token not found");await this.removeCache();let e=this.AUTH_SERVER_REVOKE_TOKEN_URL;return e.searchParams.set("token",this.oauth2_tokens.access_token),u(this,Ne,"f").http.fetch_function(e,{method:"POST"})}async refreshAccessToken(){if(this.client_id||(this.client_id=await this.getClientID()),!this.oauth2_tokens)throw new le("No tokens available to refresh.");let{client_id:e,client_secret:i}=this.client_id,{refresh_token:s}=this.oauth2_tokens,o={client_id:e,client_secret:i,refresh_token:s,grant_type:"refresh_token"},a=await u(this,Ki,"a",Ks).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(o),method:"POST",headers:{"Content-Type":"application/json"}});if(!a.ok)throw new le(`Failed to refresh access token: ${a.status}`);let l=await a.json();if(l.error_code)throw new le("Authorization server returned an error",l);this.oauth2_tokens.access_token=l.access_token,this.oauth2_tokens.expiry_date=new Date(Date.now()+l.expires_in*1e3).toISOString(),u(this,Ne,"f").emit("update-credentials",{credentials:this.oauth2_tokens})}async getDeviceAndUserCode(){if(!this.client_id)throw new le("Client ID is missing.");let{client_id:e}=this.client_id,i={client_id:e,scope:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",device_id:M.shim.uuidv4(),device_model:"ytlr::"},s=await u(this,Ki,"a",Ks).fetch_function(this.AUTH_SERVER_CODE_URL,{body:JSON.stringify(i),method:"POST",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new le(`Failed to get device/user code: ${s.status}`);let o=await s.json();if(o.error_code)throw new le("Authorization server returned an error",o);return o}async getClientID(){let e=await u(this,Ki,"a",Ks).fetch_function(this.YTTV_URL,{headers:{"User-Agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version",Referer:"https://www.youtube.com/tv","Accept-Language":"en-US"}});if(!e.ok)throw new le(`Failed to get client ID: ${e.status}`);let i=await e.text(),s;if((s=z.OAUTH.REGEX.TV_SCRIPT.exec(i))!==null){O.info(od,`Got YouTubeTV script URL (${s[1]})`);let o=await u(this,Ki,"a",Ks).fetch(s[1],{baseURL:z.URLS.YT_BASE});if(!o.ok)throw new le(`TV script request failed with status code ${o.status}`);let l=(await o.text()).match(z.OAUTH.REGEX.CLIENT_IDENTITY);if(!l||!l.groups)throw new le("Could not obtain client ID.");let{client_id:f,client_secret:m}=l.groups;return O.info(od,`Client identity retrieved (clientId=${f}, clientSecret=${m}).`),{client_id:f,client_secret:m}}throw new le("Could not obtain script URL.")}shouldRefreshToken(){return this.oauth2_tokens?Date.now()>new Date(this.oauth2_tokens.expiry_date).getTime():!1}validateTokens(e){return!(!e.access_token||!e.refresh_token||!e.expiry_date)}};r(Bb,"OAuth2");Ne=new WeakMap,Ki=new WeakSet,lk=r(async function(){var o;let e=await((o=u(this,Ne,"f").cache)==null?void 0:o.get("youtubei_oauth_credentials"));if(!e)return!1;let i=new TextDecoder,s=JSON.parse(i.decode(e));return this.setTokens(s),u(this,Ne,"f").emit("auth",{credentials:s}),!0},"_OAuth2_loadFromCache"),Ks=r(function(){return u(this,Ne,"f").http},"_OAuth2_http_get");var bC=Bb;var uk={};var fk=_w;var nd,Yb,Vb,Ub,gC="Cache",Fb=class{constructor(e=!1,i){nd.add(this),Yb.set(this,void 0),Vb.set(this,void 0),I(this,Yb,i||"","f"),I(this,Vb,e,"f")}get cache_dir(){return u(this,Vb,"f")?u(this,Yb,"f"):""}async get(e){let i=await u(this,nd,"m",Ub).call(this);if(!!i)return new Promise((s,o)=>{let a=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);a.onerror=o,a.onsuccess=function(){var f;let l=(f=this.result)==null?void 0:f.v;l instanceof ArrayBuffer?s(l):ArrayBuffer.isView(l)?s(l.buffer):s(void 0)}})}async set(e,i){let s=await u(this,nd,"m",Ub).call(this);if(!!s)return new Promise((o,a)=>{let l=s.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});l.onerror=a,l.onsuccess=()=>o()})}async remove(e){let i=await u(this,nd,"m",Ub).call(this);if(!!i)return new Promise((s,o)=>{let a=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);a.onerror=o,a.onsuccess=()=>s()})}};r(Fb,"Cache");Yb=new WeakMap,Vb=new WeakMap,nd=new WeakSet,Ub=r(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,s)=>{let o=e.open("youtubei.js",1);o.onsuccess=function(){i(this.result)},o.onerror=function(a){s("indexedDB request error"),console.error(a)},o.onupgradeneeded=function(){let a=this.result.createObjectStore("kv-store",{keyPath:"k"});a.transaction.oncomplete=function(){i(this.db)}}}):Ht(gC,"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");M.load({runtime:"browser",server:!1,info:{version:"10.3.0",bugs_url:"https://github.com/LuanRT/YouTube.js/issues",repo_url:"https://github.com/LuanRT/YouTube.js"},Cache:Fb,sha1Hash:fw,uuidv4(){var t;return(t=globalThis.crypto)!=null&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var sve=fk;export{fE as APIResponseTypes,mw as Actions,er as AppendContinuationItemsAction,Ob as ClientType,z as Constants,xr as Continuation,ti as ContinuationCommand,zs as EventEmitter,Ji as FormatUtils,Dg as Generator,Is as GridContinuation,Kb as HTTPClient,Gb as Helpers,_w as Innertube,bs as ItemSectionContinuation,dt as LZW,Mi as LiveChatContinuation,O as Log,zg as Misc,Hg as Mixins,Ts as MusicPlaylistShelfContinuation,vs as MusicShelfContinuation,Ai as NavigateAction,bC as OAuth2,c as Parser,M as Platform,qe as Player,Ss as PlaylistPanelContinuation,qt as ProtoUtils,Ri as ReloadContinuationItemsCommand,ws as SectionListContinuation,hw as Session,gs as ShowMiniplayerCommand,uk as Types,Tk as UniversalCache,Js as Utils,qg as YT,mr as YTNodes,sve as default};
