/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var S0=Object.defineProperty;var n=(t,e)=>S0(t,"name",{value:e,configurable:!0});var Te=(t,e)=>{for(var i in e)S0(t,i,{get:e[i],enumerable:!0})};function E0(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]]);return i}n(E0,"__rest");function N0(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n(N0,"__setFunctionName");function I(t,e,i,o){function r(a){return a instanceof i?a:new i(function(c){c(a)})}return n(r,"adopt"),new(i||(i=Promise))(function(a,c){function p(h){try{v(o.next(h))}catch(y){c(y)}}n(p,"fulfilled");function d(h){try{v(o.throw(h))}catch(y){c(y)}}n(d,"rejected");function v(h){h.done?a(h.value):r(h.value).then(p,d)}n(v,"step"),v((o=o.apply(t,e||[])).next())})}n(I,"__awaiter");function C0(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(C0,"__values");function Ai(t){return this instanceof Ai?(this.v=t,this):new Ai(t)}n(Ai,"__await");function P0(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),r,a=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(x){o[x]&&(r[x]=function(w){return new Promise(function(T,S){a.push([x,w,T,S])>1||p(x,w)})})}function p(x,w){try{d(o[x](w))}catch(T){y(a[0][3],T)}}function d(x){x.value instanceof Ai?Promise.resolve(x.value.v).then(v,h):y(a[0][2],x)}function v(x){p("next",x)}function h(x){p("throw",x)}function y(x,w){x(w),a.shift(),a.length&&p(a[0][0],a[0][1])}}n(P0,"__asyncGenerator");function R0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof C0=="function"?C0(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(a){i[a]=t[a]&&function(c){return new Promise(function(p,d){c=t[a](c),r(p,d,c.done,c.value)})}}function r(a,c,p,d){Promise.resolve(d).then(function(v){a({value:v,done:p})},c)}}n(R0,"__asyncValues");function f(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(f,"__classPrivateFieldGet");function C(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i}n(C,"__classPrivateFieldSet");var hg={};Te(hg,{ChannelError:()=>An,InnertubeError:()=>b,MissingParamError:()=>xm,OAuthError:()=>Lx,ParsingError:()=>nt,Platform:()=>F,PlayerError:()=>wt,SessionError:()=>Un,base64ToU8:()=>Eg,concatMemos:()=>Wg,debugFetch:()=>cS,deepCompare:()=>Am,escapeStringRegexp:()=>Kg,generateRandomString:()=>_o,generateSidAuth:()=>uS,getRandomUserAgent:()=>Oi,getStringBetweenStrings:()=>Me,hasKeys:()=>lS,isTextRun:()=>Je,streamToIterable:()=>pg,throwIfMissing:()=>gm,timeToSeconds:()=>Ce,u8ToBase64:()=>$e});var cg={};Te(cg,{Maybe:()=>Mi,Memo:()=>Xt,SuperParsedResult:()=>Ct,YTNode:()=>s,observe:()=>ee});var qt,pe=class{static doLog(e,i,o){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let r=[`[${this.YTJS_TAG}]`];i&&r.push(`[${i}]`),this.log_map_[e](`${r.join("")}:`,...o||[])}static setLevel(...e){this.log_level_=e}};n(pe,"Log");qt=pe;pe.YTJS_TAG="YOUTUBEJS";pe.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};pe.log_map_={[pe.Level.ERROR]:(...t)=>console.error(...t),[pe.Level.WARNING]:(...t)=>console.warn(...t),[pe.Level.INFO]:(...t)=>console.info(...t),[pe.Level.DEBUG]:(...t)=>console.debug(...t)};pe.log_level_=[pe.Level.WARNING];pe.one_time_warnings_issued_=new Set;pe.warnOnce=(t,...e)=>{qt.one_time_warnings_issued_.has(t)||(qt.doLog(pe.Level.WARNING,t,e),qt.one_time_warnings_issued_.add(t))};pe.warn=(t,...e)=>qt.doLog(pe.Level.WARNING,t,e);pe.error=(t,...e)=>qt.doLog(pe.Level.ERROR,t,e);pe.info=(t,...e)=>qt.doLog(pe.Level.INFO,t,e);pe.debug=(t,...e)=>qt.doLog(pe.Level.DEBUG,t,e);var Y=pe;var ug,A0,ke,lg,ae,St,Lt,Vi,V0=Symbol("ObservedArray.isObserved"),s=class{constructor(){ug.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>f(this,ug,"m",A0).call(this,i))}as(...e){if(!this.is(...e))throw new nt(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new nt(`Missing key ${e}`);return new Mi(this[e])}};n(s,"YTNode");ug=new WeakSet,A0=n(function(e){return this.type===e.type},"_YTNode_is");s.type="YTNode";var Mi=class{constructor(e){ke.add(this),lg.set(this,"Maybe"),ae.set(this,void 0),C(this,ae,e,"f")}get typeof(){return typeof f(this,ae,"f")}string(){return f(this,ke,"m",Lt).call(this,"string")}isString(){return f(this,ke,"m",St).call(this,"string")}number(){return f(this,ke,"m",Lt).call(this,"number")}isNumber(){return f(this,ke,"m",St).call(this,"number")}bigint(){return f(this,ke,"m",Lt).call(this,"bigint")}isBigint(){return f(this,ke,"m",St).call(this,"bigint")}boolean(){return f(this,ke,"m",Lt).call(this,"boolean")}isBoolean(){return f(this,ke,"m",St).call(this,"boolean")}symbol(){return f(this,ke,"m",Lt).call(this,"symbol")}isSymbol(){return f(this,ke,"m",St).call(this,"symbol")}undefined(){return f(this,ke,"m",Lt).call(this,"undefined")}isUndefined(){return f(this,ke,"m",St).call(this,"undefined")}null(){if(f(this,ae,"f")!==null)throw new TypeError(`Expected null, got ${typeof f(this,ae,"f")}`);return f(this,ae,"f")}isNull(){return f(this,ae,"f")===null}object(){return f(this,ke,"m",Lt).call(this,"object")}isObject(){return f(this,ke,"m",St).call(this,"object")}function(){return f(this,ke,"m",Lt).call(this,"function")}isFunction(){return f(this,ke,"m",St).call(this,"function")}array(){if(!Array.isArray(f(this,ae,"f")))throw new TypeError(`Expected array, got ${typeof f(this,ae,"f")}`);return f(this,ae,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new Mi(Reflect.get(i,o))}})}isArray(){return Array.isArray(f(this,ae,"f"))}node(){if(!(f(this,ae,"f")instanceof s))throw new TypeError(`Expected YTNode, got ${f(this,ae,"f").constructor.name}`);return f(this,ae,"f")}isNode(){return f(this,ae,"f")instanceof s}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof f(this,ae,"f")}`);return f(this,ae,"f")}isObserved(){var e;return(e=f(this,ae,"f"))===null||e===void 0?void 0:e[V0]}parsed(){if(!(f(this,ae,"f")instanceof Ct))throw new TypeError(`Expected SuperParsedResult, got ${typeof f(this,ae,"f")}`);return f(this,ae,"f")}isParsed(){return f(this,ae,"f")instanceof Ct}any(){return Y.warn(f(this,lg,"f"),"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),f(this,ae,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${f(this,ae,"f").constructor.name}`);return f(this,ae,"f")}isInstanceof(e){return f(this,ae,"f")instanceof e}};n(Mi,"Maybe");lg=new WeakMap,ae=new WeakMap,ke=new WeakSet,St=n(function(e){return typeof f(this,ae,"f")===e},"_Maybe_checkPrimative"),Lt=n(function(e){if(!f(this,ke,"m",St).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return f(this,ae,"f")},"_Maybe_assertPrimative");var Ct=class{constructor(e){Vi.set(this,void 0),C(this,Vi,e,"f")}get is_null(){return f(this,Vi,"f")===null}get is_array(){return!this.is_null&&Array.isArray(f(this,Vi,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return f(this,Vi,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return f(this,Vi,"f")}};n(Ct,"SuperParsedResult");Vi=new WeakMap;function ee(t){return new Proxy(t,{get(e,i){return i=="get"?(o,r)=>e.find((a,c)=>{let p=Am(o,a);return p&&r&&e.splice(c,1),p}):i==V0?!0:i=="getAll"?(o,r)=>e.filter((a,c)=>{let p=Am(o,a);return p&&r&&e.splice(c,1),p}):i=="matchCondition"?o=>e.find(r=>o(r)):i=="filterType"?(...o)=>ee(e.filter(r=>!!r.is(...o))):i=="firstOfType"?(...o)=>e.find(r=>!!r.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>ee(e.map(r=>{if(r.is(...o))return r;throw new nt(`Expected node of any type ${o.map(a=>a.type).join(", ")}, got ${r.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n(ee,"observe");var Xt=class extends Map{getType(...e){return e=e.flat(),ee(e.flatMap(i=>this.get(i.type)||[]))}};n(Xt,"Memo");var $g={};Te($g,{Author:()=>A,ChildElement:()=>x_,EmojiRun:()=>Zt,Format:()=>cx,Text:()=>u,TextRun:()=>ei,Thumbnail:()=>g,VideoDetails:()=>xi});var ge={};Te(ge,{CLIENTS:()=>te,INNERTUBE_HEADERS_BASE:()=>Uk,OAUTH:()=>Yk,STREAM_HEADERS:()=>Ot,URLS:()=>rt});var rt=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),Yk=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),te=Object.freeze({iOS:{NAME_ID:"5",NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME_ID:"1",NAME:"WEB",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME_ID:"76",NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME_ID:"67",NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME_ID:"3",NAME:"ANDROID",VERSION:"18.48.37",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/18.48.37(Linux; U; Android 13; en_US; sdk_gphone64_x86_64 Build/UPB4.230623.005) gzip"},YTSTUDIO_ANDROID:{NAME_ID:"14",NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME_ID:"21",NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME_ID:"85",NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),Ot=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),Uk=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var l={};Te(l,{addRuntimeParser:()=>Og,applyCommentsMutations:()=>E1,applyMutations:()=>C1,getDynamicParsers:()=>nS,getParserByName:()=>Zf,hasParser:()=>ax,parse:()=>Le,parseActions:()=>S1,parseArray:()=>De,parseC:()=>I1,parseFormats:()=>jg,parseItem:()=>ie,parseLC:()=>Fg,parseRR:()=>px,parseResponse:()=>rS,sanitizeClassName:()=>tm,setParserErrorHandler:()=>iS,shouldIgnore:()=>k1});var Ki={};Te(Ki,{AboutChannel:()=>Jm,AboutChannelView:()=>Wm,AccountChannel:()=>Gm,AccountItemSection:()=>zm,AccountItemSectionHeader:()=>Hm,AccountSectionList:()=>$m,AddBannerToLiveChatCommand:()=>Wb,AddChatItemAction:()=>J_,AddLiveChatTickerItemAction:()=>Jb,Alert:()=>Do,AlertWithButton:()=>th,AnalyticsMainAppKeyMetrics:()=>$0,AnalyticsRoot:()=>K0,AnalyticsShortsCarouselCard:()=>q0,AnalyticsVideo:()=>oh,AnalyticsVodCarouselCard:()=>X0,AnchoredSection:()=>ix,AppendContinuationItemsAction:()=>ji,AttributionView:()=>nh,AudioOnlyPlayability:()=>rh,AuthorCommentBadge:()=>qh,AutomixPreviewVideo:()=>sh,AvatarView:()=>ah,BackstageImage:()=>uh,BackstagePost:()=>ti,BackstagePostThread:()=>ey,BrowseFeedActions:()=>ch,BrowserMediaSession:()=>ty,Button:()=>k,ButtonView:()=>Yi,C4TabbedHeader:()=>Ho,CallToActionButton:()=>iy,Card:()=>oy,CardCollection:()=>Lh,CarouselHeader:()=>Oh,CarouselItem:()=>ny,CarouselLockup:()=>Ah,Channel:()=>Fh,ChannelAboutFullMetadata:()=>Ca,ChannelAgeGate:()=>ry,ChannelExternalLinkView:()=>Um,ChannelFeaturedContent:()=>sy,ChannelHeaderLinks:()=>ph,ChannelHeaderLinksView:()=>dh,ChannelMetadata:()=>jh,ChannelMobileHeader:()=>ay,ChannelOptions:()=>Yh,ChannelOwnerEmptyState:()=>uy,ChannelSubMenu:()=>Ba,ChannelTagline:()=>Bh,ChannelThumbnailWithLink:()=>ly,ChannelVideoPlayer:()=>cy,Chapter:()=>Uh,ChildVideo:()=>py,ChipBarView:()=>dy,ChipCloud:()=>zo,ChipCloudChip:()=>Ye,ChipView:()=>Wh,ClipAdState:()=>hh,ClipCreation:()=>_h,ClipCreationScrubber:()=>mh,ClipCreationTextInput:()=>fh,ClipSection:()=>vh,CollaboratorInfoCardContent:()=>fy,CollageHeroImage:()=>my,CollectionThumbnailView:()=>$h,Command:()=>hy,Comment:()=>Qo,CommentActionButtons:()=>Lo,CommentDialog:()=>lb,CommentReplies:()=>o_,CommentReplyDialog:()=>$o,CommentSimplebox:()=>a_,CommentThread:()=>u_,CommentView:()=>ci,CommentsEntryPointHeader:()=>s_,CommentsEntryPointTeaser:()=>r_,CommentsHeader:()=>li,CommentsSimplebox:()=>n_,CompactChannel:()=>cb,CompactLink:()=>Zo,CompactMix:()=>pb,CompactMovie:()=>db,CompactPlaylist:()=>fb,CompactStation:()=>mb,CompactVideo:()=>Wo,ConfirmDialog:()=>hb,ContentMetadataView:()=>on,ContentPreviewImageView:()=>Yo,ContinuationItem:()=>le,ConversationBar:()=>_b,CopyLink:()=>l_,CreatePlaylistDialog:()=>Om,CreatorHeart:()=>lh,CtaGoToCreatorStudio:()=>Q0,DataModelSection:()=>ih,DecoratedAvatarView:()=>c_,DecoratedPlayerBar:()=>m_,DefaultPromoPanel:()=>vb,DescriptionPreviewView:()=>h_,DidYouMean:()=>xb,DimChatItemAction:()=>Gb,DislikeButtonView:()=>__,DownloadButton:()=>gb,Dropdown:()=>Mo,DropdownItem:()=>Lm,DynamicTextView:()=>v_,Element:()=>rn,EmergencyOnebox:()=>yb,EmojiPicker:()=>i_,EmojiPickerCategory:()=>bb,EmojiPickerCategoryButton:()=>wb,EmojiPickerUpsellCategory:()=>Tb,EndScreenPlaylist:()=>y_,EndScreenVideo:()=>b_,Endscreen:()=>g_,EndscreenElement:()=>kb,EngagementPanelSectionList:()=>ni,EngagementPanelTitleHeader:()=>xh,ExpandableMetadata:()=>Ih,ExpandableTab:()=>sn,ExpandableVideoDescriptionBody:()=>wh,ExpandedShelfContents:()=>Ib,Factoid:()=>oi,FancyDismissibleDialog:()=>Sb,FeedFilterChipBar:()=>jt,FeedNudge:()=>Cb,FeedTabbedHeader:()=>w_,FlexibleActionsView:()=>T_,GameCard:()=>Th,GameDetails:()=>Eb,Grid:()=>Nb,GridChannel:()=>k_,GridHeader:()=>Pb,GridMix:()=>Rb,GridMovie:()=>Ab,GridPlaylist:()=>I_,GridShow:()=>Vb,GridVideo:()=>E_,GuideCollapsibleEntry:()=>Mb,GuideCollapsibleSectionEntry:()=>Bb,GuideDownloadsEntry:()=>Db,GuideEntry:()=>$i,GuideSection:()=>an,GuideSubscriptionsSection:()=>N_,HashtagHeader:()=>P_,HashtagTile:()=>Lb,HeatMarker:()=>p_,Heatmap:()=>d_,HeroPlaylistThumbnail:()=>Ob,HighlightsCarousel:()=>Fb,HistorySuggestion:()=>jb,HorizontalCardList:()=>ii,HorizontalList:()=>kh,HorizontalMovieList:()=>Yb,IconLink:()=>A_,ImageBannerView:()=>V_,IncludingResultsFor:()=>Ub,InfoPanelContainer:()=>B_,InfoPanelContent:()=>M_,InfoRow:()=>Rh,InteractiveTabbedHeader:()=>D_,ItemSection:()=>Ke,ItemSectionHeader:()=>un,ItemSectionTab:()=>L_,ItemSectionTabbedHeader:()=>ln,KidsBlocklistPicker:()=>c1,KidsBlocklistPickerItem:()=>ox,KidsCategoriesHeader:()=>p1,KidsCategoryTab:()=>nx,KidsHomeScreen:()=>d1,LikeButton:()=>F_,LikeButtonView:()=>j_,LiveChat:()=>Y_,LiveChatActionPanel:()=>H_,LiveChatAuthorBadge:()=>_w,LiveChatAutoModMessage:()=>Hb,LiveChatBanner:()=>W_,LiveChatBannerHeader:()=>U_,LiveChatBannerPoll:()=>zb,LiveChatDialog:()=>vw,LiveChatHeader:()=>Q_,LiveChatItemList:()=>Z_,LiveChatMembershipItem:()=>$b,LiveChatMessageInput:()=>xw,LiveChatPaidMessage:()=>Kb,LiveChatPaidSticker:()=>qb,LiveChatParticipant:()=>ev,LiveChatParticipantsList:()=>tv,LiveChatPlaceholderItem:()=>Xb,LiveChatProductItem:()=>Qb,LiveChatRestrictedParticipation:()=>Zb,LiveChatTextMessage:()=>ew,LiveChatTickerPaidMessageItem:()=>G_,LiveChatTickerPaidStickerItem:()=>tw,LiveChatTickerSponsorItem:()=>iw,LiveChatViewerEngagementMessage:()=>ow,LockupMetadataView:()=>iv,LockupView:()=>ov,MacroMarkersInfoItem:()=>gh,MacroMarkersList:()=>yh,MacroMarkersListItem:()=>Fo,MarkChatItemAsDeletedAction:()=>rw,MarkChatItemsByAuthorAsDeletedAction:()=>sw,Menu:()=>L,MenuNavigationItem:()=>nv,MenuPopup:()=>gw,MenuServiceItem:()=>di,MenuServiceItemDownload:()=>yw,MerchandiseItem:()=>Tw,MerchandiseShelf:()=>uv,Message:()=>pi,MetadataBadge:()=>ze,MetadataRow:()=>kw,MetadataRowContainer:()=>lv,MetadataRowHeader:()=>Iw,MetadataScreen:()=>Sw,MicroformatData:()=>pn,Mix:()=>Cw,ModalWithTitleAndButton:()=>Ew,Movie:()=>Nw,MovingThumbnail:()=>Pw,MultiMarkersPlayerBar:()=>f_,MultiPageMenu:()=>bw,MultiPageMenuNotificationSection:()=>ww,MusicCardShelf:()=>Rw,MusicCardShelfHeaderBasic:()=>cv,MusicCarouselShelf:()=>Yw,MusicCarouselShelfBasicHeader:()=>pv,MusicDescriptionShelf:()=>vv,MusicDetailHeader:()=>Uw,MusicDownloadStateBadge:()=>Ww,MusicEditablePlaylistDetailHeader:()=>Jw,MusicElementHeader:()=>Gw,MusicHeader:()=>Hw,MusicImmersiveHeader:()=>zw,MusicInlineBadge:()=>dn,MusicItemThumbnailOverlay:()=>Nt,MusicLargeCardItemCarousel:()=>$w,MusicMenuItemDivider:()=>rv,MusicMultiRowListItem:()=>dv,MusicMultiSelectMenu:()=>sv,MusicMultiSelectMenuItem:()=>cn,MusicNavigationButton:()=>fv,MusicPlayButton:()=>fn,MusicPlaylistShelf:()=>Kw,MusicQueue:()=>yv,MusicResponsiveHeader:()=>qw,MusicResponsiveListItem:()=>fi,MusicResponsiveListItemFixedColumn:()=>mv,MusicResponsiveListItemFlexColumn:()=>hv,MusicShelf:()=>Xw,MusicSideAlignedItem:()=>Qw,MusicSortFilterButton:()=>Zw,MusicTastebuilderShelf:()=>eT,MusicTastebuilderShelfThumbnail:()=>bv,MusicThumbnail:()=>We,MusicTwoRowItem:()=>_v,MusicVisualHeader:()=>tT,NavigationEndpoint:()=>_,Notification:()=>wv,OpenPopupAction:()=>Fm,PageHeader:()=>Pt,PageHeaderView:()=>Tv,PageIntroduction:()=>kv,PdgCommentChip:()=>Xh,PivotButton:()=>Iv,PlayerAnnotationsExpanded:()=>Sv,PlayerCaptionsTracklist:()=>Cv,PlayerControlsOverlay:()=>iT,PlayerErrorMessage:()=>oT,PlayerLegacyDesktopYpcOffer:()=>nT,PlayerLegacyDesktopYpcTrailer:()=>$p,PlayerLiveStoryboardSpec:()=>Pv,PlayerMicroformat:()=>st,PlayerOverflow:()=>Ev,PlayerOverlay:()=>Vv,PlayerOverlayAutoplay:()=>Rv,PlayerStoryboardSpec:()=>Di,Playlist:()=>Et,PlaylistCustomThumbnail:()=>en,PlaylistHeader:()=>Mv,PlaylistInfoCardContent:()=>rT,PlaylistMetadata:()=>Bv,PlaylistPanel:()=>gv,PlaylistPanelVideo:()=>Yt,PlaylistPanelVideoWrapper:()=>xv,PlaylistSidebar:()=>sT,PlaylistSidebarPrimaryInfo:()=>Dv,PlaylistSidebarSecondaryInfo:()=>Lv,PlaylistVideo:()=>hn,PlaylistVideoList:()=>aT,PlaylistVideoThumbnail:()=>tn,Poll:()=>uT,PollHeader:()=>nw,Post:()=>Ov,PostMultiImage:()=>lT,ProductList:()=>bh,ProductListHeader:()=>cT,ProductListItem:()=>pT,ProfileColumn:()=>dT,ProfileColumnStats:()=>fT,ProfileColumnStatsEntry:()=>mT,ProfileColumnUserInfo:()=>hT,Quiz:()=>_T,RecognitionShelf:()=>vT,ReelItem:()=>_n,ReelPlayerHeader:()=>Fv,ReelPlayerOverlay:()=>xT,ReelShelf:()=>Go,RelatedChipCloud:()=>jv,RemoveBannerForLiveChatCommand:()=>aw,RemoveChatItemAction:()=>uw,RemoveChatItemByAuthorAction:()=>lw,ReplaceChatItemAction:()=>cw,ReplayChatItemAction:()=>pw,RichGrid:()=>mi,RichItem:()=>gT,RichListHeader:()=>yT,RichMetadata:()=>Cd,RichMetadataRow:()=>Nd,RichSection:()=>bT,RichShelf:()=>Yv,SearchBox:()=>wT,SearchFilter:()=>Uv,SearchFilterGroup:()=>vn,SearchFilterOptionsDialog:()=>TT,SearchHeader:()=>Wv,SearchRefinementCard:()=>Ui,SearchSubMenu:()=>Jv,SearchSuggestion:()=>R_,SearchSuggestionsSection:()=>kT,SecondarySearchContainer:()=>IT,SectionList:()=>be,SegmentedLikeDislikeButton:()=>Xi,SegmentedLikeDislikeButtonView:()=>Qi,SettingBoolean:()=>ST,SettingsCheckbox:()=>Gv,SettingsOptions:()=>gn,SettingsSidebar:()=>Hv,SettingsSwitch:()=>xn,SharedPost:()=>zv,Shelf:()=>yn,ShowCustomThumbnail:()=>S_,ShowLiveChatActionPanelAction:()=>dw,ShowLiveChatDialogAction:()=>fw,ShowLiveChatTooltipCommand:()=>mw,ShowingResultsFor:()=>CT,SimpleCardContent:()=>ET,SimpleCardTeaser:()=>NT,SimpleMenuHeader:()=>av,SimpleTextSection:()=>PT,SingleActionEmergencySupport:()=>RT,SingleColumnBrowseResults:()=>$v,SingleColumnMusicWatchNextResults:()=>AT,SingleHeroImage:()=>VT,SlimOwner:()=>MT,SlimVideoMetadata:()=>BT,SortFilterHeader:()=>O_,SortFilterSubMenu:()=>ht,SponsorCommentBadge:()=>Qh,StatRow:()=>Z0,StructuredDescriptionContent:()=>Ji,StructuredDescriptionPlaylistLockup:()=>Vh,SubFeedOption:()=>Kv,SubFeedSelector:()=>DT,SubscribeButton:()=>Be,SubscriptionNotificationToggleButton:()=>Dh,Tab:()=>Ae,Tabbed:()=>LT,TabbedSearchResults:()=>OT,TextHeader:()=>FT,ThumbnailBadgeView:()=>Gh,ThumbnailHoverOverlayView:()=>Jh,ThumbnailLandscapePortrait:()=>jT,ThumbnailOverlayBadgeView:()=>Hh,ThumbnailOverlayBottomPanel:()=>C_,ThumbnailOverlayEndorsement:()=>YT,ThumbnailOverlayHoverText:()=>UT,ThumbnailOverlayInlineUnplayable:()=>WT,ThumbnailOverlayLoadingPreview:()=>JT,ThumbnailOverlayNowPlaying:()=>GT,ThumbnailOverlayPinking:()=>HT,ThumbnailOverlayPlaybackStatus:()=>zT,ThumbnailOverlayResumePlayback:()=>$T,ThumbnailOverlaySidePanel:()=>KT,ThumbnailOverlayTimeStatus:()=>Wi,ThumbnailOverlayToggleButton:()=>qT,ThumbnailView:()=>zh,TimedMarkerDecoration:()=>XT,TitleAndButtonListHeader:()=>QT,ToggleButton:()=>ye,ToggleButtonView:()=>nn,ToggleMenuServiceItem:()=>ZT,Tooltip:()=>e1,TopicChannelDetails:()=>t1,Transcript:()=>Bo,TranscriptFooter:()=>Km,TranscriptSearchBox:()=>qm,TranscriptSearchPanel:()=>eh,TranscriptSectionHeader:()=>Xm,TranscriptSegment:()=>Qm,TranscriptSegmentList:()=>Zm,TwoColumnBrowseResults:()=>Rt,TwoColumnSearchResults:()=>qv,TwoColumnWatchNextResults:()=>Qv,UniversalWatchCard:()=>Zv,UpdateDateTextAction:()=>z_,UpdateDescriptionAction:()=>$_,UpdateEngagementPanelAction:()=>z0,UpdateLiveChatPollAction:()=>hw,UpdateTitleAction:()=>K_,UpdateToggleButtonTextAction:()=>q_,UpdateViewershipAction:()=>X_,UploadTimeFactoid:()=>Ch,UpsellDialog:()=>i1,VerticalList:()=>o1,VerticalWatchCardList:()=>n1,Video:()=>jo,VideoAttributeView:()=>Uo,VideoCard:()=>Sh,VideoDescriptionCourseSection:()=>Mh,VideoDescriptionHeader:()=>Nh,VideoDescriptionInfocardsSection:()=>Ph,VideoDescriptionMusicSection:()=>Jo,VideoDescriptionTranscriptSection:()=>da,VideoInfoCardContent:()=>r1,VideoOwner:()=>bn,VideoPrimaryInfo:()=>ex,VideoSecondaryInfo:()=>Ff,ViewCountFactoid:()=>Eh,WatchCardCompactVideo:()=>tx,WatchCardHeroVideo:()=>s1,WatchCardRichHeader:()=>a1,WatchCardSectionSequence:()=>u1,WatchNextEndScreen:()=>Av,WatchNextTabbedResults:()=>l1,YpcTrailer:()=>Nv});var Bi,Vm=class{constructor(e,i){Bi.set(this,void 0),C(this,Bi,new F.shim.Cache(e,i),"f")}get cache_dir(){return f(this,Bi,"f").cache_dir}get(e){return f(this,Bi,"f").get(e)}set(e,i){return f(this,Bi,"f").set(e,i)}remove(e){return f(this,Bi,"f").remove(e)}};n(Vm,"UniversalCache");Bi=new WeakMap;var Wk=Vm;var Vo,Mm=class extends EventTarget{constructor(){super(),Vo.set(this,new Map)}emit(e,...i){let o=new F.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(r=>{r instanceof F.shim.CustomEvent?i(...r.detail):i(r)},"wrapper");f(this,Vo,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(r=>{r instanceof F.shim.CustomEvent?i(...r.detail):i(r),this.off(e,i)},"wrapper");f(this,Vo,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=f(this,Vo,"f").get(i);o&&(this.removeEventListener(e,o),f(this,Vo,"f").delete(i))}};n(Mm,"EventEmitterLike");Vo=new WeakMap;var Vr=Mm;var Li={};Te(Li,{chooseFormat:()=>G0,download:()=>mI,toDash:()=>J0});var Jk={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function M0(t){return t.replace(/([&"<>'])/g,(e,i)=>Jk[i])}n(M0,"escapeXMLString");function Gk(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}n(Gk,"normalizeTag");function ue(t,e,...i){let o=i.flat().map(r=>typeof r=="string"?Hk(r):r);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:o})):{type:Gk(t),props:Object.assign(Object.assign({},e),{children:o})}}n(ue,"createElement");function Hk(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}n(Hk,"createTextElement");function B0(t){return I(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return M0(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(o=>!["children","nodeValue"].includes(o)&&t.props[o]!==void 0).map(o=>`${o}="${M0(`${t.props[o]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(o=>!!o).map(o=>B0(o)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}n(B0,"renderElementToString");function D0(t){return I(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield B0(yield t)}`})}n(D0,"renderToString");function L0(t){return t.children}n(L0,"Fragment");var Mr=class extends s{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((r,a)=>{let[c,p,d,v,h,y,x,w]=r.split("#");o.searchParams.set("sigh",w);let T=Math.ceil(parseInt(d,10)/(parseInt(v,10)*parseInt(h,10)));return{type:"vod",template_url:o.toString().replace("$L",a).replace("$N",x),thumbnail_width:parseInt(c,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(d,10),interval:parseInt(y,10),columns:parseInt(v,10),rows:parseInt(h,10),storyboard_count:T}})}};n(Mr,"PlayerStoryboardSpec");Mr.type="PlayerStoryboardSpec";var Di=Mr;var $k="StreamingInfo";function Kk(t,e){var i,o,r;let a=new Map,c=t.some(p=>!!p.audio_track);for(let p of t){if((!p.index_range||!p.init_range)&&!p.is_type_otf&&!e)continue;let d=p.mime_type.split(";")[0],v=(i=Me(p.mime_type,'codecs="','"'))===null||i===void 0?void 0:i.split(".")[0],h=p.color_info?Object.values(p.color_info).join("-"):"",y=((o=p.audio_track)===null||o===void 0?void 0:o.id)||"",x=`${d}-${v}-${h}-${y}`;a.has(x)||a.set(x,[]),(r=a.get(x))===null||r===void 0||r.push(p)}return{groups:Array.from(a.values()),has_multiple_audio_tracks:c}}n(Kk,"getFormatGroupings");function F0(t,e){if(t.length>1&&new Set(t.map(i=>Me(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),Me(t[0].mime_type,'codecs="','"')}n(F0,"hoistCodecsIfPossible");function j0(t,e,i){if(t.length>1&&new Set(t.map(o=>o.fps)).size===1)return i.push(e),Number(t[0][e])}n(j0,"hoistNumberAttributeIfPossible");function qk(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}n(qk,"hoistAudioChannelsIfPossible");function Xk(t,e){var i;return I(this,void 0,void 0,function*(){let o=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Ot,redirect:"follow"}),r=o.url.replace("&rn=0","").replace("&sq=0",""),a=yield o.text(),c=(i=Me(a,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!c)throw new b("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let d of c){let v=d.trim();if(v.length===0)continue;let h,y=Me(v,"(r=",")");y&&(h=parseInt(y)),p.push({duration:parseInt(v),repeat_count:h})}return{init_url:`${r}&sq=0`,media_url:`${r}&sq=$Number$`,timeline:p}})}n(Xk,"getOTFSegmentTemplate");function Y0(t,e){return I(this,void 0,void 0,function*(){let i=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:Ot,redirect:"follow"}),o=parseInt(i.headers.get("X-Head-Time-Millis")||""),r=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(o)||isNaN(r))throw new b("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:o/1e3,segment_count:r}})}n(Y0,"getPostLiveDvrInfo");function Qk(t,e,i,o,r,a){return I(this,void 0,void 0,function*(){if(!t.item){let c=new URL(e.decipher(r));c.searchParams.set("cpn",a||"");let p=i(c).toString();t.item=yield Y0(p,o)}return t.item.duration})}n(Qk,"getPostLiveDvrDuration");function U0(t,e,i,o,r,a){let c=new URL(t.decipher(o));c.searchParams.set("cpn",r||"");let p=e(c).toString();if(t.is_type_otf){if(!i)throw new b("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return Xk(p,i)}}}if(a){if(!i)throw new b("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let v=t.target_duration_dec;if(typeof v!="number")throw new b("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,getSegmentTemplate(){return I(this,void 0,void 0,function*(){return a.item||(a.item=yield Y0(p,i)),{media_url:`${p}&sq=$Number$`,timeline:[{duration:v*1e3,repeat_count:a.item.segment_count}]}})}}}if(!t.index_range||!t.init_range)throw new b("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:p,index_range:t.index_range,init_range:t.init_range}}n(U0,"getSegmentInfo");function Zk(t,e,i,o,r,a,c){return new URL(t.decipher(r)).searchParams.set("cpn",a||""),{uid:t.audio_track?`${t.itag}-${t.audio_track.id}`:t.itag.toString(),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Me(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:U0(t,i,o,r,a,c)}}n(Zk,"getAudioRepresentation");function eI(t){let{audio_track:e}=t;if(!!e)return e.audio_is_default?"main":t.is_dubbed?"dub":t.is_descriptive?"description":"alternate"}n(eI,"getTrackRole");function tI(t,e,i,o,r,a){var c;let p=t[0],{audio_track:d}=p,v=[];return{mime_type:p.mime_type.split(";")[0],language:(c=p.language)!==null&&c!==void 0?c:void 0,codecs:F0(t,v),audio_sample_rate:j0(t,"audio_sample_rate",v),track_name:d==null?void 0:d.display_name,track_role:eI(p),channels:qk(t,v),representations:t.map(y=>Zk(y,v,e,i,o,r,a))}}n(tI,"getAudioSet");var iI={BT709:"1",BT2020:"9"},O0={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},oI={BT709:"1",BT2020_NCL:"14"};function nI(t){var e;let i=t.color_info,o,r,a;if(i){if(i.primaries&&(o=iI[i.primaries]),i.transfer_characteristics&&(r=O0[i.transfer_characteristics]),i.matrix_coefficients&&(a=oI[i.matrix_coefficients],!a)){let p=new URL(t.url),d=JSON.parse(JSON.stringify(t));d.url="REDACTED",d.signature_cipher="REDACTED",d.cipher="REDACTED",Y.warn($k,`Unknown matrix coefficients "${i.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${F.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${p.searchParams.get("c")}
format:`,d)}}else!((e=Me(t.mime_type,'codecs="','"'))===null||e===void 0)&&e.startsWith("avc1")&&(r=O0.BT709);return{primaries:o,transfer_characteristics:r,matrix_coefficients:a}}n(nI,"getColorInfo");function rI(t,e,i,o,r,a,c){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Me(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:U0(t,e,r,o,a,c)}}n(rI,"getVideoRepresentation");function sI(t,e,i,o,r,a){let c=t[0],p=nI(c),d=[];return{mime_type:c.mime_type.split(";")[0],color_info:p,codecs:F0(t,d),fps:j0(t,"fps",d),representations:t.map(h=>rI(h,e,d,i,o,r,a))}}n(sI,"getVideoSet");function aI(t){var e;let i=new Map,o=t.is(Di)?t.boards:[t.board];for(let r of o){let a=new URL(r.template_url).pathname.split(".").pop(),c=`image/${a==="jpg"?"jpeg":a}`;i.has(c)||i.set(c,[]),(e=i.get(c))===null||e===void 0||e.push(r)}return i}n(aI,"getStoryboardInfo");function uI(t,e,i,o,r){return I(this,void 0,void 0,function*(){let a=e.template_url,c=i(new URL(a.replace("$M","0"))),p=r.response?r.response:t.session.http.fetch_function(c,{method:"HEAD",headers:Ot});return r.response=p,(yield p).headers.get("Content-Type")||o})}n(uI,"getStoryboardMimeType");function lI(t,e,i){return I(this,void 0,void 0,function*(){let o=e.template_url,r=[],a=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let v=0;v<a;v++){let h=new URL(o.replace("$M",v.toString())),y=v===0&&i.response?i.response:t.session.http.fetch_function(h,{method:"HEAD",headers:Ot});v===0&&(i.response=y),r.push(y)}let c=yield Promise.all(r),p=[];for(let v of c)p.push(parseInt(v.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}n(lI,"getStoryboardBitrate");function cI(t,e,i,o,r){let a=i.template_url,c=new URL(a.replace("$M","$Number$")),p;return i.type==="vod"?p=t/i.storyboard_count:p=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return lI(e,i,r)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:p,template_url:o(c).toString(),getURL(v){return c.toString().replace("$Number$",v.toString())}}}n(cI,"getImageRepresentation");function pI(t,e,i,o){let r=aI(i),a={};return Array.from(r.entries()).map(([c,p])=>({probable_mime_type:c,getMimeType(){return uI(e,p[0],o,c,a)},representations:p.map(d=>cI(t,e,d,o,a))}))}n(pI,"getImageSets");function Bm(t,e=!1,i=d=>d,o,r,a,c,p){if(!t)throw new b("Streaming data not available");let d=o?t.adaptive_formats.filter(B=>!o(B)):t.adaptive_formats,v,h;if(e){if(h={},!c)throw new b("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");v=n(()=>h?Qk(h,d[0],i,c,a,r):Promise.resolve(0),"getDuration")}else{let B=d[0].approx_duration_ms/1e3;v=n(()=>Promise.resolve(B),"getDuration")}let{groups:y,has_multiple_audio_tracks:x}=Kk(d,e),{video_groups:w,audio_groups:T}=y.reduce((B,ne)=>ne[0].has_audio?(x&&!ne[0].audio_track||B.audio_groups.push(ne),B):(B.video_groups.push(ne),B),{video_groups:[],audio_groups:[]}),S=T.map(B=>tI(B,i,c,a,r,h)),V=w.map(B=>sI(B,i,a,c,r,h)),O=[];if(p&&c){let B;if(p.is(Di))B=d[0].approx_duration_ms/1e3;else{let ne=d[0].target_duration_dec;if(typeof ne!="number")throw new b("Format is missing target_duration_dec",{format:d[0]});B=ne}O=pI(B,c,p,i)}return{getDuration:v,audio_sets:S,video_sets:V,image_sets:O}}n(Bm,"getStreamingInfo");function dI({info:t}){return I(this,void 0,void 0,function*(){if(!t.is_oft&&!t.is_post_live_dvr)return null;let e=yield t.getSegmentTemplate();return ue("segment-template",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},ue("segment-timeline",null,e.timeline.map(i=>ue("s",{d:i.duration,r:i.repeat_count}))))})}n(dI,"OTFPostLiveDvrSegmentInfo");function W0({info:t}){return t.is_oft||t.is_post_live_dvr?ue(dI,{info:t}):ue(L0,null,ue("base-url",null,t.base_url),ue("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},ue("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}n(W0,"SegmentInfo");function fI({streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:o,cpn:r,player:a,actions:c,storyboards:p}){return I(this,void 0,void 0,function*(){let{getDuration:d,audio_sets:v,video_sets:h,image_sets:y}=Bm(t,e,i,o,r,a,c,p);return ue("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${yield d()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},ue("period",null,v.map((x,w)=>ue("adaptation-set",{id:w,mimeType:x.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:x.language,codecs:x.codecs,audioSamplingRate:x.audio_sample_rate,contentType:"audio"},x.track_role&&ue("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:x.track_role}),x.track_name&&ue("label",{id:w},x.track_name),x.channels&&ue("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:x.channels}),x.representations.map(T=>ue("representation",{id:T.uid,bandwidth:T.bitrate,codecs:T.codecs,audioSamplingRate:T.audio_sample_rate},T.channels&&ue("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:T.channels}),ue(W0,{info:T.segment_info}))))),h.map((x,w)=>ue("adaptation-set",{id:w+v.length,mimeType:x.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:x.codecs,maxPlayoutRate:"1",frameRate:x.fps,contentType:"video"},x.color_info.primaries&&ue("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:x.color_info.primaries}),x.color_info.transfer_characteristics&&ue("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:x.color_info.transfer_characteristics}),x.color_info.matrix_coefficients&&ue("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:x.color_info.matrix_coefficients}),x.representations.map(T=>ue("representation",{id:T.uid,bandwidth:T.bitrate,width:T.width,height:T.height,codecs:T.codecs,frameRate:T.fps},ue(W0,{info:T.segment_info}))))),y.map((x,w)=>I(this,void 0,void 0,function*(){return ue("adaptation-set",{id:w+v.length+h.length,mimeType:yield x.getMimeType(),contentType:"image"},x.representations.map(T=>I(this,void 0,void 0,function*(){return ue("representation",{id:`thumbnails_${T.thumbnail_width}x${T.thumbnail_height}`,bandwidth:yield T.getBitrate(),width:T.sheet_width,height:T.sheet_height},ue("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${T.columns}x${T.rows}`}),ue("segment-template",{media:T.template_url,duration:T.template_duration,startNumber:"0"}))})))}))))})}n(fI,"DashManifest");function J0(t,e=!1,i=d=>d,o,r,a,c,p){if(!t)throw new b("Streaming data not available");return D0(ue(fI,{streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:o,cpn:r,player:a,actions:c,storyboards:p}))}n(J0,"toDash");function mI(t,e,i,o,r,a){return I(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new b("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new b("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!o)throw new b("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let c=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=G0(c,o),d=p.decipher(r);if(c.type==="video+audio"&&!t.range){let S=yield e.session.http.fetch_function(`${d}&cpn=${a}`,{method:"GET",headers:Ot,redirect:"follow"});if(!S.ok)throw new b("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:S});let V=S.body;if(!V)throw new b("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:S});return V}let v=1048576*10,h=t.range?t.range.start:0,y=t.range?t.range.end:v,x=!1,w;return new F.shim.ReadableStream({start(){},pull:S=>I(this,void 0,void 0,function*(){if(x){S.close();return}return(y>=(p.content_length?p.content_length:0)||t.range)&&(x=!0),new Promise((V,O)=>I(this,void 0,void 0,function*(){var oe,B,ne,ce;try{w=new AbortController;let H=yield e.session.http.fetch_function(`${d}&cpn=${a}&range=${h}-${y||""}`,{method:"GET",headers:Object.assign({},Ot),signal:w.signal}),G=H.body;if(!G)throw new b("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:H});try{for(var fe=!0,_e=R0(pg(G)),we;we=yield _e.next(),oe=we.done,!oe;fe=!0){ce=we.value,fe=!1;let $=ce;S.enqueue($)}}catch($){B={error:$}}finally{try{!fe&&!oe&&(ne=_e.return)&&(yield ne.call(_e))}finally{if(B)throw B.error}}h=y+1,y+=v,V()}catch(H){O(H)}}))}),cancel(S){return I(this,void 0,void 0,function*(){w.abort(S)})}},{highWaterMark:1,size(S){return S.byteLength}})})}n(mI,"download");function G0(t,e){if(!e)throw new b("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],o=t.type?t.type.includes("audio"):!0,r=t.type?t.type.includes("video"):!0,a=t.language||"original",c=t.quality||"best",p=-1,d=["best","bestefficiency"].includes(c),v=c!=="best",h=i.filter(y=>o&&!y.has_audio||r&&!y.has_video||t.format!=="any"&&!y.mime_type.includes(t.format||"mp4")||!d&&y.quality_label!==c?!1:(p<y.width&&(p=y.width),!0));if(!h.length)throw new b("No matching formats found",{options:t});if(d&&r&&(h=h.filter(y=>y.width===p)),o&&!r){let y=h.filter(x=>a!=="original"?!x.has_video&&!x.has_text&&x.language===a:!x.has_video&&!x.has_text&&x.is_original);y.length>0&&(h=y)}return v?h.sort((y,x)=>y.bitrate-x.bitrate):h.sort((y,x)=>x.bitrate-y.bitrate),h[0]}n(G0,"chooseFormat");var dg,Qt,fg,Br,H0,Dm=class{constructor(e,i,o){dg.add(this),Qt.set(this,void 0),fg.set(this,void 0),Br.set(this,void 0),C(this,Qt,e,"f"),C(this,fg,i,"f"),C(this,Br,o||F.shim.fetch,"f")}get fetch_function(){return f(this,Br,"f")}fetch(e,i){return I(this,void 0,void 0,function*(){let o=rt.API.PRODUCTION_1+f(this,Qt,"f").api_version,r=(i==null?void 0:i.baseURL)||o,a=typeof e=="string"?!r.endsWith("/")&&!e.startsWith("/")?new URL(`${r}/${e}`):new URL(r+e):e instanceof URL?e:new URL(e.url,r),c=(i==null?void 0:i.headers)||(e instanceof F.shim.Request?e.headers:new F.shim.Headers)||new F.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof F.shim.Request?e.body:void 0),d=new F.shim.Headers(c);d.set("Accept","*/*"),d.set("Accept-Language","*"),d.set("X-Goog-Visitor-Id",f(this,Qt,"f").context.client.visitorData||""),d.set("X-Youtube-Client-Version",f(this,Qt,"f").context.client.clientVersion||"");let v=Object.values(te).find(S=>S.NAME===f(this,Qt,"f").context.client.clientName);v&&d.set("X-Youtube-Client-Name",v.NAME_ID),F.shim.server&&(d.set("User-Agent",Oi("desktop")),d.set("origin",a.origin)),a.searchParams.set("prettyPrint","false"),a.searchParams.set("alt","json");let h=d.get("Content-Type"),y=p,x=r===o||r===rt.YT_UPLOAD;if(h==="application/json"&&x&&typeof p=="string"){let S=JSON.parse(p),V=Object.assign(Object.assign({},S),{context:JSON.parse(JSON.stringify(f(this,Qt,"f").context))});f(this,dg,"m",H0).call(this,V.context,V.client),d.set("x-youtube-client-version",V.context.client.clientVersion);let O=Object.values(te).find(oe=>oe.NAME===V.context.client.clientName);O&&d.set("X-Youtube-Client-Name",O.NAME_ID),delete V.client,F.shim.server&&(V.context.client.clientName==="ANDROID"||V.context.client.clientName==="ANDROID_MUSIC"?(d.set("User-Agent",te.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2")):V.context.client.clientName==="iOS"&&d.set("User-Agent",te.iOS.USER_AGENT)),y=JSON.stringify(V)}else h==="application/x-protobuf"&&F.shim.server&&(d.set("User-Agent",te.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2"),d.delete("X-Youtube-Client-Version"));let w=new F.shim.Request(a,e instanceof F.shim.Request?e:i),T=yield f(this,Br,"f").call(this,w,Object.assign({body:y,headers:d,redirect:e instanceof F.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"},F.shim.runtime!=="cf-worker"?{credentials:"include"}:{}));if(T.ok)return T;throw new b(`Request to ${T.url} failed with status ${T.status}`,yield T.text())})}};n(Dm,"HTTPClient");Qt=new WeakMap,fg=new WeakMap,Br=new WeakMap,dg=new WeakSet,H0=n(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=te.ANDROID.SDK_VERSION,e.client.userAgent=te.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i){case"iOS":e.client.deviceModel=te.iOS.DEVICE_MODEL,e.client.clientVersion=te.iOS.VERSION,e.client.clientName=te.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=te.YTMUSIC.VERSION,e.client.clientName=te.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=te.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=te.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=te.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=te.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=te.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=te.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=te.TV_EMBEDDED.NAME,e.client.clientVersion=te.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:rt.YT_BASE};break;case"YTKIDS":e.client.clientVersion=te.WEB_KIDS.VERSION,e.client.clientName=te.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var mg=Dm;var Dr=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new _(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(Dr,"Button");Dr.type="Button";var k=Dr;var Lr=class extends s{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new _(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};n(Lr,"DropdownItem");Lr.type="DropdownItem";var Lm=Lr;var Or=class extends s{constructor(e){super(),this.label=e.label||"",this.entries=l.parseArray(e.entries,Lm)}};n(Or,"Dropdown");Or.type="Dropdown";var Mo=Or;var Fr=class extends s{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=l.parseItem(e.privacyOption,Mo),this.create_button=l.parseItem(e.cancelButton,k),this.cancel_button=l.parseItem(e.cancelButton,k)}};n(Fr,"CreatePlaylistDialog");Fr.type="CreatePlaylistDialog";var Om=Fr;var jr=class extends s{constructor(e){super(),this.popup=l.parseItem(e.popup),this.popup_type=e.popupType}};n(jr,"OpenPopupAction");jr.type="OpenPopupAction";var Fm=jr;var Fi=class extends s{constructor(e){var i,o,r,a,c,p,d,v;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new Fm(e.openPopupAction));let h=Object.keys(e||{}).find(y=>y.endsWith("Endpoint")||y.endsWith("Command"));this.payload=h?Reflect.get(e,h):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=l.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=l.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Fi(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((a=(r=e==null?void 0:e.commandMetadata)===null||r===void 0?void 0:r.webCommandMetadata)===null||a===void 0)&&a.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(c=e==null?void 0:e.commandMetadata)===null||c===void 0?void 0:c.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):h&&(this.metadata.api_url=this.getEndpoint(h)),!((v=(d=e==null?void 0:e.commandMetadata)===null||d===void 0?void 0:d.webCommandMetadata)===null||v===void 0)&&v.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=l.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Om))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(Fi,"NavigationEndpoint");Fi.type="NavigationEndpoint";var _=Fi;var g=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(o=>new g(o)).sort((o,r)=>r.width-o.width):[]}};n(g,"Thumbnail");var Zt=class{constructor(e){var i,o,r,a,c,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((r=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||r===void 0?void 0:r[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((a=e.emoji)===null||a===void 0?void 0:a.shortcuts)||[],search_terms:((c=e.emoji)===null||c===void 0?void 0:c.searchTerms)||[],image:g.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=jm(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(Zt,"EmojiRun");var ei=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new _(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=jm(this.text),r=`<span style="white-space: pre-wrap;">${e.map(a=>`<${a}>`).join("")+i+e.map(a=>`</${a}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:a}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let c=this.endpoint.toURL();if(c)return`<a href="${c}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${a}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${r}</a>`}}if(this.endpoint){let a=this.endpoint.toURL();if(a)return`<a href="${a}">${r}</a>`}return r}};n(ei,"TextRun");function jm(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(jm,"escape");var Yr="Text",u=class{constructor(e){var i,o,r,a;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(c=>c.emoji?new Zt(c):new ei(c)),this.text=this.runs.map(c=>c.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new _(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new _(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(a=(r=this.runs)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.endpoint)}static fromAttributed(e){var i,o,r;let{content:a,styleRuns:c,commandRuns:p,attachmentRuns:d}=e,v=[{text:a,startIndex:0}];if(c||p||d){if(c)for(let h of c)if(h.italic||h.strikethrough==="LINE_STYLE_SINGLE"||h.weightLabel==="FONT_WEIGHT_MEDIUM"||h.weightLabel==="FONT_WEIGHT_BOLD"){let y=_g(v,h);if(!y){Y.warn(Yr,"Unable to find matching run for style run. Skipping...",{style_run:h,input_data:e,parsed_runs:JSON.parse(JSON.stringify(v))});continue}Ym(v,y,h,{bold:h.weightLabel==="FONT_WEIGHT_MEDIUM"||h.weightLabel==="FONT_WEIGHT_BOLD",italics:h.italic,strikethrough:h.strikethrough==="LINE_STYLE_SINGLE"})}else Y.debug(Yr,"Skipping style run as it is doesn't have any information that we parse.",{style_run:h,input_data:e});if(p)for(let h of p)if(h.onTap){let y=_g(v,h);if(!y){Y.warn(Yr,"Unable to find matching run for command run. Skipping...",{command_run:h,input_data:e,parsed_runs:JSON.parse(JSON.stringify(v))});continue}Ym(v,y,h,{navigationEndpoint:h.onTap})}else Y.debug(Yr,'Skipping command run as it is missing the "doTap" property.',{command_run:h,input_data:e});if(d)for(let h of d){let y=_g(v,h);if(!y){Y.warn(Yr,"Unable to find matching run for attachment run. Skipping...",{attachment_run:h,input_data:e,parsed_runs:JSON.parse(JSON.stringify(v))});continue}if(h.length===0)y.attachment=h;else{let x=h.startIndex-y.startIndex,w=y.text.substring(x,x+h.length),T=/^:[^:]+:$/.test(w);if(((r=(o=(i=h.element)===null||i===void 0?void 0:i.type)===null||o===void 0?void 0:o.imageType)===null||r===void 0?void 0:r.image)&&(T||new RegExp("^(?:\\p{Emoji}|\\u200d)+$","u").test(w))){let S={image:h.element.type.imageType.image,isCustomEmoji:T,shortcuts:T?[w]:void 0};Ym(v,y,h,{emoji:S})}else Ym(v,y,h,{attachment:h})}}}return new u({runs:v})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(u,"Text");function _g(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}n(_g,"findMatchingRun");function Ym(t,e,i,o){let r=t.indexOf(e),a=[],c=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&a.push(Object.assign(Object.assign({},e),{text:e.text.substring(0,c)})),a.push(Object.assign(Object.assign(Object.assign({},e),{text:e.text.substring(c,c+i.length),startIndex:i.startIndex}),o)),i.startIndex+i.length<e.startIndex+e.text.length&&a.push(Object.assign(Object.assign({},e),{text:e.text.substring(c+i.length),startIndex:i.startIndex+i.length})),t.splice(r,1,...a)}n(Ym,"insertSubRun");var Ur=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=g.fromResponse(e.favicon)}};n(Ur,"ChannelExternalLinkView");Ur.type="ChannelExternalLinkView";var Um=Ur;var Wr=class extends s{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new _(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=l.parseArray(e.links,Um):this.links=[]}};n(Wr,"AboutChannelView");Wr.type="AboutChannelView";var Wm=Wr;var Jr=class extends s{constructor(e){super(),this.metadata=l.parseItem(e.metadata,Wm),this.share_channel=l.parseItem(e.shareChannel,k)}};n(Jr,"AboutChannel");Jr.type="AboutChannel";var Jm=Jr;var Gr=class extends s{constructor(e){super(),this.title=new u(e.title),this.endpoint=new _(e.navigationEndpoint)}};n(Gr,"AccountChannel");Gr.type="AccountChannel";var Gm=Gr;var Hr=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Hr,"AccountItemSectionHeader");Hr.type="AccountItemSectionHeader";var Hm=Hr;var zr=class extends s{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=g.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new _(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};n(zr,"AccountItem");zr.type="AccountItem";var $r=class extends s{constructor(e){super(),this.contents=ee(e.contents.map(i=>new zr(i.accountItem))),this.header=l.parseItem(e.header,Hm)}};n($r,"AccountItemSection");$r.type="AccountItemSection";var zm=$r;var Kr=class extends s{constructor(e){super(),this.contents=l.parseItem(e.contents[0],zm),this.footers=l.parseItem(e.footers[0],Gm)}};n(Kr,"AccountSectionList");Kr.type="AccountSectionList";var $m=Kr;var qr=class extends s{constructor(e){super(),this.contents=l.parseArray(e.continuationItems),this.target=e.target}};n(qr,"AppendContinuationItemsAction");qr.type="AppendContinuationItemsAction";var ji=qr;var Xr=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,r;return{title:i.title,selected:i.selected,continuation:(r=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||r===void 0?void 0:r.continuation,endpoint:new _(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(Xr,"SortFilterSubMenu");Xr.type="SortFilterSubMenu";var ht=Xr;var Qr=class extends s{constructor(e){super(),this.language_menu=l.parseItem(e.languageMenu,ht)}};n(Qr,"TranscriptFooter");Qr.type="TranscriptFooter";var Km=Qr;var Zr=class extends s{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=l.parseItem(e.clearButton,k),this.endpoint=new _(e.onTextChangeCommand),this.search_button=l.parseItem(e.searchButton,k)}};n(Zr,"TranscriptSearchBox");Zr.type="TranscriptSearchBox";var qm=Zr;var es=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};n(es,"TranscriptSectionHeader");es.type="TranscriptSectionHeader";var Xm=es;var ts=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};n(ts,"TranscriptSegment");ts.type="TranscriptSegment";var Qm=ts;var is=class extends s{constructor(e){super(),this.initial_segments=l.parseArray(e.initialSegments,[Qm,Xm]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};n(is,"TranscriptSegmentList");is.type="TranscriptSegmentList";var Zm=is;var os=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,qm),this.body=l.parseItem(e.body,Zm),this.footer=l.parseItem(e.footer,Km),this.target_id=e.targetId}};n(os,"TranscriptSearchPanel");os.type="TranscriptSearchPanel";var eh=os;var ns=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,eh)}};n(ns,"Transcript");ns.type="Transcript";var Bo=ns;var rs=class extends s{constructor(e){super(),this.target_id=e.targetId,this.content=l.parseItem(e.content,Bo)}};n(rs,"UpdateEngagementPanelAction");rs.type="UpdateEngagementPanelAction";var z0=rs;var ss=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};n(ss,"Alert");ss.type="Alert";var Do=ss;var as=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=l.parseItem(e.dismissButton,k)}};n(as,"AlertWithButton");as.type="AlertWithButton";var th=as;var us=class extends s{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(us,"DataModelSection");us.type="DataModelSection";var ih=us;var ls=class extends s{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new ih(o))}};n(ls,"AnalyticsMainAppKeyMetrics");ls.type="AnalyticsMainAppKeyMetrics";var $0=ls;var cs=class extends s{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(r=>({label:r.label,display_value:r.displayValue,display_value_a11y:r.displayValueA11y,bar_ratio:r.barRatio,bar_color:r.barColor,bar_opacity:r.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(cs,"AnalyticsRoot");cs.type="AnalyticsRoot";var K0=cs;var ps=class extends s{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new _(i.videoEndpoint)}))}};n(ps,"AnalyticsShortsCarouselCard");ps.type="AnalyticsShortsCarouselCard";var q0=ps;var ds=class extends s{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:g.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(ds,"AnalyticsVideo");ds.type="AnalyticsVideo";var oh=ds;var fs=class extends s{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new oh(i)))}};n(fs,"AnalyticsVodCarouselCard");fs.type="AnalyticsVodCarouselCard";var X0=fs;var ms=class extends s{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(ms,"CtaGoToCreatorStudio");ms.type="CtaGoToCreatorStudio";var Q0=ms;var hs=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};n(hs,"StatRow");hs.type="StatRow";var Z0=hs;var _s=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.suffix=u.fromAttributed(e.suffix)}};n(_s,"AttributionView");_s.type="AttributionView";var nh=_s;var vs=class extends s{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n(vs,"AudioOnlyPlayability");vs.type="AudioOnlyPlayability";var rh=vs;var xs=class extends s{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new _(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(xs,"AutomixPreviewVideo");xs.type="AutomixPreviewVideo";var sh=xs;var gs=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}},this.avatar_image_size=e.avatarImageSize}};n(gs,"AvatarView");gs.type="AvatarView";var ah=gs;var ys=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.endpoint=new _(e.command)}};n(ys,"BackstageImage");ys.type="BackstageImage";var uh=ys;var bs=class extends s{constructor(e){var i,o,r,a,c,p,d,v,h;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let y=((a=(r=(o=e==null?void 0:e.defaultText)===null||o===void 0?void 0:o.accessibility)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label)||((p=(c=e==null?void 0:e.accessibilityData)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label)||((d=e==null?void 0:e.accessibility)===null||d===void 0?void 0:d.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(y.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((h=(v=e.defaultServiceEndpoint)===null||v===void 0?void 0:v.commandExecutorCommand)===null||h===void 0)&&h.commands?new _(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new _(e.defaultServiceEndpoint),this.toggled_endpoint=new _(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(bs,"ToggleButton");bs.type="ToggleButton";var ye=bs;var ws=class extends s{constructor(e){var i,o;super(),this.creator_thumbnail=g.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n(ws,"CreatorHeart");ws.type="CreatorHeart";var lh=ws;var Ts=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,ye),this.dislike_button=l.parseItem(e.dislikeButton,ye),this.reply_button=l.parseItem(e.replyButton,k),this.creator_heart=l.parseItem(e.creatorHeart,lh)}};n(Ts,"CommentActionButtons");Ts.type="CommentActionButtons";var Lo=Ts;var ks=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.top_level_buttons=l.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(ks,"Menu");ks.type="Menu";var L=ks;var Is=class extends s{constructor(e){super(),this.id=e.postId,this.author=new A(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=l.parseItem(e.actionMenu,L)),Reflect.has(e,"actionButtons")&&(this.action_buttons=l.parseItem(e.actionButtons,Lo)),Reflect.has(e,"voteButton")&&(this.vote_button=l.parseItem(e.voteButton,k)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new _(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=l.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(Is,"BackstagePost");Is.type="BackstagePost";var ti=Is;var Ss=class extends s{constructor(e){super(),this.post=l.parseItem(e.post)}};n(Ss,"BackstagePostThread");Ss.type="BackstagePostThread";var ey=Ss;var Cs=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Cs,"BrowseFeedActions");Cs.type="BrowseFeedActions";var ch=Cs;var Es=class extends s{constructor(e){super(),this.album=new u(e.album),this.thumbnails=g.fromResponse(e.thumbnailDetails)}};n(Es,"BrowserMediaSession");Es.type="BrowserMediaSession";var ty=Es;var Ns=class extends s{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.type=e.type,this.button_size=e.buttonSize,this.on_tap=new _(e.onTap)}};n(Ns,"ButtonView");Ns.type="ButtonView";var Yi=Ns;var Oo=class extends s{constructor(e){super(),this.endpoint=new _(e.navigationEndpoint),this.icon=g.fromResponse(e.icon),this.title=new u(e.title)}};n(Oo,"HeaderLink");Oo.type="HeaderLink";var Ps=class extends s{constructor(e){var i,o;super(),this.primary=ee(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>new Oo(r)))||[]),this.secondary=ee(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(r=>new Oo(r)))||[])}};n(Ps,"ChannelHeaderLinks");Ps.type="ChannelHeaderLinks";var ph=Ps;var Rs=class extends s{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};n(Rs,"ChannelHeaderLinksView");Rs.type="ChannelHeaderLinksView";var dh=Rs;var As=class extends s{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};n(As,"ClipCreationTextInput");As.type="ClipCreationTextInput";var fh=As;var Vs=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(o=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label,this.end_label=(a=(r=e.endAccessibility)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label,this.duration_label=(p=(c=e.durationAccessibility)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label}};n(Vs,"ClipCreationScrubber");Vs.type="ClipCreationScrubber";var mh=Vs;var Ms=class extends s{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};n(Ms,"ClipAdState");Ms.type="ClipAdState";var hh=Ms;var Bs=class extends s{constructor(e){super(),this.user_avatar=g.fromResponse(e.userAvatar),this.title_input=l.parseItem(e.titleInput,[fh]),this.scrubber=l.parseItem(e.scrubber,[mh]),this.save_button=l.parseItem(e.saveButton,[k]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=l.parseItem(e.cancelButton,[k]),this.ad_state_overlay=l.parseItem(e.adStateOverlay,[hh]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};n(Bs,"ClipCreation");Bs.type="ClipCreation";var _h=Bs;var Ds=class extends s{constructor(e){super(),this.contents=l.parse(e.contents,!0,[_h])}};n(Ds,"ClipSection");Ds.type="ClipSection";var vh=Ds;var Ls=class extends s{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,k)),this.endpoint=new _(e.continuationEndpoint)}};n(Ls,"ContinuationItem");Ls.type="ContinuationItem";var le=Ls;var Os=class extends s{constructor(e){super(),this.title=new u(e.title),this.visibility_button=l.parseItem(e.visibilityButton,k)}};n(Os,"EngagementPanelTitleHeader");Os.type="EngagementPanelTitleHeader";var xh=Os;var Fs=class extends s{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=l.parseItem(e.menu,L)}};n(Fs,"MacroMarkersInfoItem");Fs.type="MacroMarkersInfoItem";var gh=Fs;var js=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=g.fromResponse(e.thumbnail),this.on_tap_endpoint=new _(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(js,"MacroMarkersListItem");js.type="MacroMarkersListItem";var Fo=js;var Ys=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,[gh,Fo]),this.sync_button_label=new u(e.syncButtonLabel)}};n(Ys,"MacroMarkersList");Ys.type="MacroMarkersList";var yh=Ys;var Us=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Us,"ProductList");Us.type="ProductList";var bh=Us;var Ws=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=l.parseItem(e.subMenu))}};n(Ws,"SectionList");Ws.type="SectionList";var be=Ws;var Js=class extends s{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};n(Js,"ExpandableVideoDescriptionBody");Js.type="ExpandableVideoDescriptionBody";var wh=Js;var Gs=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.endpoint=new _(e.searchEndpoint),this.query=new u(e.query).toString()}};n(Gs,"SearchRefinementCard");Gs.type="SearchRefinementCard";var Ui=Gs;var Hs=class extends s{constructor(e){super(),this.game=l.parseItem(e.game)}};n(Hs,"GameCard");Hs.type="GameCard";var Th=Hs;var zs=class extends s{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=l.parseArray(e.items)}get contents(){return this.items}};n(zs,"HorizontalList");zs.type="HorizontalList";var kh=zs;var $s=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:g.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=l.parseItem(e.expandedContent,[ii,kh]),this.expand_button=l.parseItem(e.expandButton,k),this.collapse_button=l.parseItem(e.collapseButton,k)}};n($s,"ExpandableMetadata");$s.type="ExpandableMetadata";var Ih=$s;var Ks=class extends s{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(Ks,"MetadataBadge");Ks.type="MetadataBadge";var ze=Ks;var qs=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};n(qs,"ThumbnailOverlayTimeStatus");qs.type="ThumbnailOverlayTimeStatus";var Wi=qs;var Xs=class extends s{constructor(e){var i,o,r;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(c=>({text:new u(c.snippetText),hover_text:new u(c.snippetHoverText)}))),this.expandable_metadata=l.parseItem(e.expandableMetadata,Ih),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.author=new A(e.ownerText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.badges=l.parseArray(e.badges,ze),this.endpoint=new _(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:Ce(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=l.parseItem(e.menu,L),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Wi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(Xs,"Video");Xs.type="Video";var jo=Xs;var Qs=class extends jo{constructor(e){super(e)}};n(Qs,"VideoCard");Qs.type="VideoCard";var Sh=Qs;var Zs=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.style=e.style}};n(Zs,"ContentPreviewImageView");Zs.type="ContentPreviewImageView";var Yo=Zs;var ea=class extends s{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image=g.fromResponse(e.image):this.image=l.parseItem(e.image,Yo),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new _(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};n(ea,"VideoAttributeView");ea.type="VideoAttributeView";var Uo=ea;var ta=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards,[Uo,Ui,Fo,Th,Sh]),this.header=l.parseItem(e.header),this.previous_button=l.parseItem(e.previousButton,k),this.next_button=l.parseItem(e.nextButton,k)}};n(ta,"HorizontalCardList");ta.type="HorizontalCardList";var ii=ta;var ia=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};n(ia,"Factoid");ia.type="Factoid";var oi=ia;var oa=class extends s{constructor(e){super(),this.factoid=l.parseItem(e.factoid,oi)}};n(oa,"UploadTimeFactoid");oa.type="UploadTimeFactoid";var Ch=oa;var na=class extends s{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=l.parseItem(e.factoid,[oi]),this.view_count_type=e.viewCountType}};n(na,"ViewCountFactoid");na.type="ViewCountFactoid";var Eh=na;var ra=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new _(e.channelNavigationEndpoint),this.channel_thumbnail=g.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=l.parseArray(e.factoid,[oi,Eh,Ch])}};n(ra,"VideoDescriptionHeader");ra.type="VideoDescriptionHeader";var Nh=ra;var sa=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=l.parseItem(e.creatorVideosButton,k),this.creator_about_button=l.parseItem(e.creatorAboutButton,k),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=g.fromResponse(e.channelAvatar),this.channel_endpoint=new _(e.channelEndpoint)}};n(sa,"VideoDescriptionInfocardsSection");sa.type="VideoDescriptionInfocardsSection";var Ph=sa;var aa=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};n(aa,"InfoRow");aa.type="InfoRow";var Rh=aa;var ua=class extends s{constructor(e){super(),this.id=e.videoId,this.thumbnails=g.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parse(e.richThumbnail)),this.title=new u(e.title),this.author=new A(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=l.parseArray(e.badges,ze),this.duration={text:new u(e.lengthText).toString(),seconds:Ce(new u(e.lengthText).toString())},this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.endpoint=new _(e.navigationEndpoint),this.menu=l.parseItem(e.menu,L)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(ua,"CompactVideo");ua.type="CompactVideo";var Wo=ua;var la=class extends s{constructor(e){super(),this.info_rows=l.parseArray(e.infoRows,Rh),this.video_lockup=l.parseItem(e.videoLockup,Wo)}};n(la,"CarouselLockup");la.type="CarouselLockup";var Ah=la;var ca=class extends s{constructor(e){super(),this.carousel_lockups=l.parseArray(e.carouselLockups,Ah),this.section_title=new u(e.sectionTitle)}};n(ca,"VideoDescriptionMusicSection");ca.type="VideoDescriptionMusicSection";var Jo=ca;var pa=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=l.parseItem(e.primaryButton,k)}};n(pa,"VideoDescriptionTranscriptSection");pa.type="VideoDescriptionTranscriptSection";var da=pa;var fa=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new _(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};n(fa,"StructuredDescriptionPlaylistLockup");fa.type="StructuredDescriptionPlaylistLockup";var Vh=fa;var ma=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=l.parseArray(e.mediaLockups,[Vh])}};n(ma,"VideoDescriptionCourseSection");ma.type="VideoDescriptionCourseSection";var Mh=ma;var ha=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new _(e.endpoint))}get contents(){return this.items}};n(ha,"ReelShelf");ha.type="ReelShelf";var Go=ha;var _a=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[Nh,wh,Jo,Ph,Mh,da,da,ii,Go])}};n(_a,"StructuredDescriptionContent");_a.type="StructuredDescriptionContent";var Ji=_a;var va=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,xh),this.content=l.parseItem(e.content,[Uo,be,le,vh,Ji,yh,bh]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};n(va,"EngagementPanelSectionList");va.type="EngagementPanelSectionList";var ni=va;var xa=class extends s{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:l.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,ni),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new _(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};n(xa,"ChannelTagline");xa.type="ChannelTagline";var Bh=xa;var ga=class extends s{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:l.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(ga,"SubscriptionNotificationToggleButton");ga.type="SubscriptionNotificationToggleButton";var Dh=ga;var ya=class extends s{constructor(e){var i,o;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=l.parseItem(e.notificationPreferenceButton,Dh),this.endpoint=new _(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(ya,"SubscribeButton");ya.type="SubscribeButton";var Be=ya;var ba=class extends s{constructor(e){super(),this.author=new A({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=g.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=g.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=g.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=l.parseItem(e.sponsorButton,k)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=l.parseItem(e.subscribeButton,[Be,k])),Reflect.has(e,"headerLinks")&&(this.header_links=l.parseItem(e.headerLinks,[ph,dh])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=l.parseItem(e.tagline,Bh))}};n(ba,"C4TabbedHeader");ba.type="C4TabbedHeader";var Ho=ba;var wa=class extends s{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(wa,"CallToActionButton");wa.type="CallToActionButton";var iy=wa;var Ta=class extends s{constructor(e){super(),this.teaser=l.parseItem(e.teaser),this.content=l.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(Ta,"Card");Ta.type="Card";var oy=Ta;var ka=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(ka,"CardCollection");ka.type="CardCollection";var Lh=ka;var Ia=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Ia,"CarouselHeader");Ia.type="CarouselHeader";var Oh=Ia;var Sa=class extends s{constructor(e){super(),this.items=l.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=g.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(Sa,"CarouselItem");Sa.type="CarouselItem";var ny=Sa;var ri=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new A(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new _(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,[Be,k]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return Y.warnOnce(ri.type,"Channel#subscribers is deprecated. Please use Channel#subscriber_count instead."),this.subscriber_count}get videos(){return Y.warnOnce(ri.type,"Channel#videos is deprecated. Please use Channel#video_count instead."),this.video_count}};n(ri,"Channel");ri.type="Channel";var Fh=ri;var si=class extends s{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=g.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>({endpoint:new _(r.navigationEndpoint),icon:g.fromResponse(r.icon),title:new u(r.title)})))!==null&&o!==void 0?o:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new _(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=l.parseArray(e.actionButtons,k)}get views(){return Y.warnOnce(si.type,"ChannelAboutFullMetadata#views is deprecated. Please use ChannelAboutFullMetadata#view_count instead."),this.view_count}get joined(){return Y.warnOnce(si.type,"ChannelAboutFullMetadata#joined is deprecated. Please use ChannelAboutFullMetadata#joined_date instead."),this.joined_date}};n(si,"ChannelAboutFullMetadata");si.type="ChannelAboutFullMetadata";var Ca=si;var Ea=class extends s{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=g.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=l.parseItem(e.signInButton,k),this.secondary_text=new u(e.secondaryText)}};n(Ea,"ChannelAgeGate");Ea.type="ChannelAgeGate";var ry=Ea;var Na=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items)}};n(Na,"ChannelFeaturedContent");Na.type="ChannelFeaturedContent";var sy=Na;var Pa=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=g.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(Pa,"ChannelMetadata");Pa.type="ChannelMetadata";var jh=Pa;var Ra=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Ra,"ChannelMobileHeader");Ra.type="ChannelMobileHeader";var ay=Ra;var Aa=class extends s{constructor(e){super(),this.avatar=g.fromResponse(e.avatar),this.endpoint=new _(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};n(Aa,"ChannelOptions");Aa.type="ChannelOptions";var Yh=Aa;var Va=class extends s{constructor(e){super(),this.illustration=g.fromResponse(e.illustration),this.description=new u(e.description)}};n(Va,"ChannelOwnerEmptyState");Va.type="ChannelOwnerEmptyState";var uy=Va;var Ma=class extends s{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new _(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=l.parseItem(e.sortSetting)}};n(Ma,"ChannelSubMenu");Ma.type="ChannelSubMenu";var Ba=Ma;var Da=class extends s{constructor(e){var i,o;super(),this.thumbnails=g.fromResponse(e.thumbnail),this.endpoint=new _(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(Da,"ChannelThumbnailWithLink");Da.type="ChannelThumbnailWithLink";var ly=Da;var ai=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return Y.warnOnce(ai.type,"ChannelVideoPlayer#views is deprecated. Please use ChannelVideoPlayer#view_count instead."),this.view_count}get published(){return Y.warnOnce(ai.type,"ChannelVideoPlayer#published is deprecated. Please use ChannelVideoPlayer#published_time instead."),this.published_time}};n(ai,"ChannelVideoPlayer");ai.type="ChannelVideoPlayer";var cy=ai;var La=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=g.fromResponse(e.thumbnail)}};n(La,"Chapter");La.type="Chapter";var Uh=La;var Oa=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:Ce(e.lengthText.simpleText)},this.endpoint=new _(e.navigationEndpoint)}};n(Oa,"ChildVideo");Oa.type="ChildVideo";var py=Oa;var Fa=class extends s{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new _(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};n(Fa,"ChipView");Fa.type="ChipView";var Wh=Fa;var ja=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Wh)}};n(ja,"ChipBarView");ja.type="ChipBarView";var dy=ja;var Ya=class extends s{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new _(e.navigationEndpoint)),this.text=new u(e.text).toString()}};n(Ya,"ChipCloudChip");Ya.type="ChipCloudChip";var Ye=Ya;var Ua=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Ye),this.next_button=l.parseItem(e.nextButton,k),this.previous_button=l.parseItem(e.previousButton,k),this.horizontal_scrollable=e.horizontalScrollable}};n(Ua,"ChipCloud");Ua.type="ChipCloud";var zo=Ua;var Wa=class extends s{constructor(e){super(),this.channel_avatar=g.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new _(e.endpoint)}};n(Wa,"CollaboratorInfoCardContent");Wa.type="CollaboratorInfoCardContent";var fy=Wa;var Ja=class extends s{constructor(e){super(),this.left=g.fromResponse(e.leftThumbnail),this.top_right=g.fromResponse(e.topRightThumbnail),this.bottom_right=g.fromResponse(e.bottomRightThumbnail),this.endpoint=new _(e.navigationEndpoint)}};n(Ja,"CollageHeroImage");Ja.type="CollageHeroImage";var my=Ja;var Ga=class extends s{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=u.fromAttributed(e.text),this.style=e.style}};n(Ga,"ThumbnailHoverOverlayView");Ga.type="ThumbnailHoverOverlayView";var Jh=Ga;var Ha=class extends s{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=e.text,this.badge_style=e.badgeStyle,this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}}};n(Ha,"ThumbnailBadgeView");Ha.type="ThumbnailBadgeView";var Gh=Ha;var za=class extends s{constructor(e){super(),this.badges=l.parseArray(e.thumbnailBadges,Gh),this.position=e.position}};n(za,"ThumbnailOverlayBadgeView");za.type="ThumbnailOverlayBadgeView";var Hh=za;var $a=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.overlays=l.parseArray(e.overlays,[Hh,Jh]),this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}}};n($a,"ThumbnailView");$a.type="ThumbnailView";var zh=$a;var Ka=class extends s{constructor(e){super(),this.primary_thumbnail=l.parseItem(e.primaryThumbnail,zh),this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme}}};n(Ka,"CollectionThumbnailView");Ka.type="CollectionThumbnailView";var $h=Ka;var qa=class extends s{constructor(e){super(),this.endpoint=new _(e)}};n(qa,"Command");qa.type="Command";var hy=qa;var Kh,Xa=class extends s{constructor(e){super(),Kh.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),C(this,Kh,e,"f")}get orig_badge(){return f(this,Kh,"f")}};n(Xa,"AuthorCommentBadge");Kh=new WeakMap;Xa.type="AuthorCommentBadge";var qh=Xa;var Qa=class extends s{constructor(e){super(),this.reply_button=l.parseItem(e.replyButton,k),this.cancel_button=l.parseItem(e.cancelButton,k),this.author_thumbnail=g.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};n(Qa,"CommentReplyDialog");Qa.type="CommentReplyDialog";var $o=Qa;var Za=class extends s{constructor(e){var i,o;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(Za,"PdgCommentChip");Za.type="PdgCommentChip";var Xh=Za;var eu=class extends s{constructor(e){super(),this.custom_badge=g.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n(eu,"SponsorCommentBadge");eu.type="SponsorCommentBadge";var Qh=eu;var ui={};Te(ui,{decodeVisitorData:()=>Ig,encodeChannelAnalyticsParams:()=>YI,encodeCommentActionParams:()=>tu,encodeCommentParams:()=>GI,encodeCommentsSectionParams:()=>JI,encodeCustomThumbnailPayload:()=>$I,encodeHashtag:()=>KI,encodeMessageParams:()=>Sg,encodeMusicSearchFilters:()=>WI,encodeNotificationPref:()=>HI,encodeReelSequence:()=>Cg,encodeSearchFilters:()=>UI,encodeShortsParam:()=>qI,encodeVideoMetadataPayload:()=>zI,encodeVisitorData:()=>kg});var N;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(N||(N={}));var j=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+e_(vg(this),Zh).toString(!1);let r=[],a=new j(i,o);for(;vI(a,hI);){let[c,p]=_I(a);r.push(p),a=c}return r.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new j(0);if(e.length<10)return i<0?e_(vg(new j(-i)),Zh):new j(i);let r=new j,a=Zh;for(let c of e.split("").reverse())parseInt(c)&&(r=e_(r,_y(new j(parseInt(c)),a))),a=_y(a,new j(10));return o?e_(vg(r),Zh):r}};n(j,"Long");var hI=new j(0),Zh=new j(1);function t_(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(t_,"makeChunk");function e_(t,e){let[i,o,r,a]=t_(t),[c,p,d,v]=t_(e),h=0,y=0,x=0,w=0;return w+=i+c,x+=w>>>16,w&=65535,x+=o+p,y+=x>>>16,x&=65535,y+=r+d,h+=y>>>16,y&=65535,h+=a+v,h&=65535,new j(x<<16|w,h<<16|y)}n(e_,"add");function _y(t,e){let[i,o,r,a]=t_(t),[c,p,d,v]=t_(e),h=0,y=0,x=0,w=0;return w+=i*c,x+=w>>>16,w&=65535,x+=i*p+o*c,y+=x>>>16,x&=65535,y+=i*d+r*c+o*p,h+=y>>>16,y&=65535,h+=i*v+o*d+r*p+a*c,h&=65535,new j(x<<16|w,h<<16|y)}n(_y,"mul");function _I(t){let[e,i]=t;return[new j((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n(_I,"divByTen");function vI(t,e){let[i,o]=t,[r,a]=e;return o!==a?o-a:i-r}n(vI,"compare");function vg(t){let[e,i]=t;return new j(~e,~i)}n(vg,"negate");function Ko(t){let e=[],r=typeof t=="number"?new j(t):t;for(;r[0]||r[1];){let[a,c]=r,p=a&127,d=c>>>7,v=a>>>7|(c&127)<<32-7;r=new j(v,d);let h=r[0]||r[1]?p|128:p;e.push(h)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(Ko,"encode");function qo(t){let e=new j(0),i=0;for(;;){let o=t.getUint8(i);if(e=xI(e,gI(new j(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(qo,"decode");function xI(t,e){return new j(t[0]|e[0],t[1]|e[1])}n(xI,"or");function gI(t,e){return e===0?t:e>=32?new j(0,t[0]<<e-32):new j(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n(gI,"leftshift");function P(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(Ko(i<<3|o.type)),o.type){case N.Varint:e.push(Ko(o.value));break;case N.Fixed64:{let r=new Uint8Array(8),a=new DataView(r.buffer);a.setUint32(0,o.value[0],!0),a.setUint32(4,o.value[1],!0),e.push(r);break}case N.LengthDelimited:e.push(Ko(o.value.byteLength)),e.push(o.value);break;case N.Fixed32:{let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,o.value,!0),e.push(r);break}}}),xg(e)}n(P,"serialize");function xg(t){let e=t.reduce((o,r)=>o+r.byteLength,0),i=new Uint8Array(e);return t.reduce((o,r)=>(i.set(r,o),o+r.byteLength),0),i}n(xg,"concat");function gg(t){if(t instanceof j){let e=new j(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new j(4294967295,4294967295):new j;return new j(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(gg,"encode");function yg(t){if(t instanceof j){let e=new j(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new j(4294967295,4294967295):new j;return new j(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(yg,"decode");var bg={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>yg(t[0]),sint64:t=>yg(t).toString(!0),bool:t=>t[0]!==0},wg={int32:t=>new j(t),int64:t=>j.parse(t),uint32:t=>new j(t),uint64:t=>j.parse(t),sint32:t=>gg(new j(t)),sint64:t=>gg(j.parse(t)),bool:t=>new j(+t)},yI=Object.fromEntries(Object.entries(bg).map(([t,e])=>[t,i=>{if(i.type===N.Varint)return e(i.value)}])),bI=Object.fromEntries(Object.entries(wg).map(([t,e])=>[t,i=>({type:N.Varint,value:e(i)})])),U=Object.assign(Object.assign({},yI),{double:t=>t.type!==N.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==N.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===N.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===N.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!0)},string:t=>t.type!==N.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===N.LengthDelimited)return t.value}}),E=Object.assign(Object.assign({},bI),{double:t=>{let e=new j;return new DataView(e.buffer).setFloat64(0,t,!0),{type:N.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:N.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:N.Fixed32,value:t>>>0}),fixed64:t=>({type:N.Fixed64,value:j.parse(t)}),sfixed32:t=>({type:N.Fixed32,value:t|0}),sfixed64:t=>({type:N.Fixed64,value:j.parse(t)}),string:t=>{let e=new TextEncoder;return{type:N.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:N.LengthDelimited,value:t})}),wI=Object.fromEntries(Object.keys(bg).map(t=>[t,function*(e){for(let i of e){let o=U[t](i);if(o!=null)yield o;else for(let r of SI(i))yield bg[t](r)}}])),jD=Object.assign(Object.assign({},wI),{*double(t){for(let e of t){let i=U.double(e);i!=null?yield i:yield*kI(e)}},*float(t){for(let e of t){let i=U.float(e);i!=null?yield i:yield*II(e)}},*fixed32(t){for(let e of t){let i=U.fixed32(e);if(i!=null)yield i;else for(let o of vy(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=U.fixed64(e);if(i!=null)yield i;else for(let o of xy(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=U.sfixed32(e);if(i!=null)yield i;else for(let o of vy(e))yield o|0}},*sfixed64(t){for(let e of t){let i=U.sfixed64(e);if(i!=null)yield i;else for(let o of xy(e))yield o.toString(!0)}}}),TI=Object.fromEntries(Object.keys(wg).map(t=>[t,function(e){return{type:N.LengthDelimited,value:xg(e.map(i=>{let o=wg[t](i);return Ko(o)}))}}]));function Xo(t,e){return n(function(o){let r=new Uint8Array(o.length*t),a=new DataView(r.buffer);for(let c=0;c<o.length;++c)e(a,c*t,o[c]);return{type:N.LengthDelimited,value:r}},"pack")}n(Xo,"getFixedPackFn");var YD=Object.assign(Object.assign({},TI),{double:Xo(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:Xo(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:Xo(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:Xo(8,(t,e,i)=>{let o=j.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:Xo(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:Xo(8,(t,e,i)=>{let o=j.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*kI(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat64(i,!0);i+=4,yield r}}n(kI,"unpackDouble");function*II(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat32(i,!0);i+=4,yield r}}n(II,"unpackFloat");function*SI(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let r=qo(new DataView(e.buffer,o+i));i+=r[0],yield r[1]}}n(SI,"unpackVarint");function*vy(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4,yield r}}n(vy,"unpackFixed32");function*xy(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4;let a=o.getUint32(i,!0);i+=4,yield new j(r,a)}}n(xy,"unpackFixed64");function W(t){let e=0,i=t.byteOffset,o=[],r=new DataView(t.buffer,i);for(;e<t.length;){let a=qo(new DataView(t.buffer,i+e)),c=a[1][0];e+=a[0];let p=c&7,d=c>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case N.Varint:{let[y,x]=qo(new DataView(t.buffer,i+e));o.push([d,{type:p,value:x}]),e+=y;break}case N.Fixed64:let v=r.getUint32(e,!0),h=r.getUint32(e+=4,!0);e+=4,o.push([d,{type:p,value:new j(v,h)}]);break;case N.LengthDelimited:{let[y,x]=qo(new DataView(t.buffer,i+e));o.push([d,{type:p,value:t.subarray(e+=y,e+=x[0])}]);break}case N.StartGroup:case N.EndGroup:o.push([d,{type:p}]);break;case N.Fixed32:o.push([d,{type:p,value:r.getUint32(e,!0)}]),e+=4;break}}return o}n(W,"deserialize");function CI(){return{id:"",timestamp:0}}n(CI,"getDefaultValue");function gy(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,E.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,E.int32(i)])}return P(e)}n(gy,"encodeBinary");function yy(t){let e=CI(),i=W(t),o=new Map(i);e:{let r=o.get(1);if(r===void 0)break e;let a=U.string(r);if(a===void 0)break e;e.id=a}e:{let r=o.get(5);if(r===void 0)break e;let a=U.int32(r);if(a===void 0)break e;e.timestamp=a}return e}n(yy,"decodeBinary");function by(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,E.string(i)])}return P(e)}n(by,"encodeBinary");function wy(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:N.LengthDelimited,value:by(i)}])}return P(e)}n(wy,"encodeBinary");function Ty(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,E.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,E.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,E.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,E.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,E.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,E.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,E.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,E.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,E.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,E.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,E.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,E.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,E.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,E.int32(i)])}return P(e)}n(Ty,"encodeBinary");function ky(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,E.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:Ty(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,E.int32(i)])}return P(e)}n(ky,"encodeBinary");function Iy(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,E.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,E.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,E.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,E.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,E.int32(i)])}return P(e)}n(Iy,"encodeBinary");function Sy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:N.LengthDelimited,value:Iy(i)}])}return P(e)}n(Sy,"encodeBinary");function Cy(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:Sy(i)}])}return P(e)}n(Cy,"encodeBinary");function Ey(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,E.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,E.string(i)])}return P(e)}n(Ey,"encodeBinary");function Ny(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:N.LengthDelimited,value:Ey(i)}])}return P(e)}n(Ny,"encodeBinary");function Py(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:N.LengthDelimited,value:Ny(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,E.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,E.int32(i)])}return P(e)}n(Py,"encodeBinary");function Ry(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,E.string(i)])}return P(e)}n(Ry,"encodeBinary");function Ay(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,E.int32(i)])}return P(e)}n(Ay,"encodeBinary");function Vy(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,E.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:N.LengthDelimited,value:Ay(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,E.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,E.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,E.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,E.int32(i)])}return P(e)}n(Vy,"encodeBinary");function My(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,E.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,E.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,E.int32(i)])}return P(e)}n(My,"encodeBinary");function By(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,E.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:N.LengthDelimited,value:Vy(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:N.LengthDelimited,value:My(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,E.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,E.string(i)])}return P(e)}n(By,"encodeBinary");function Dy(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:N.LengthDelimited,value:Ry(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,E.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:N.LengthDelimited,value:By(i)}])}return P(e)}n(Dy,"encodeBinary");function Ly(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,E.int32(i)])}return P(e)}n(Ly,"encodeBinary");function Oy(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,E.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:N.LengthDelimited,value:Ly(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,E.int32(i)])}return P(e)}n(Oy,"encodeBinary");function Fy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,E.string(i)])}return P(e)}n(Fy,"encodeBinary");function jy(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:N.LengthDelimited,value:Fy(i)}])}return P(e)}n(jy,"encodeBinary");function Yy(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,E.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:N.LengthDelimited,value:jy(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,E.string(i)])}return P(e)}n(Yy,"encodeBinary");function Uy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,E.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,E.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,E.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,E.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:N.LengthDelimited,value:Yy(i)}])}return P(e)}n(Uy,"encodeBinary");function Wy(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,E.int32(i)])}return P(e)}n(Wy,"encodeBinary");function Jy(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,E.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:N.LengthDelimited,value:Wy(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,E.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,E.int32(i)])}return P(e)}n(Jy,"encodeBinary");function Gy(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,E.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,E.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,E.string(i)])}return P(e)}n(Gy,"encodeBinary");function Hy(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:N.LengthDelimited,value:Gy(i)}])}return P(e)}n(Hy,"encodeBinary");function zy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,E.string(i)])}return P(e)}n(zy,"encodeBinary");function $y(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,E.string(i)])}return P(e)}n($y,"encodeBinary");function Ky(t){let e=[];for(let i of t.list)e.push([1,E.string(i)]);return P(e)}n(Ky,"encodeBinary");function qy(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,E.int32(i)])}return P(e)}n(qy,"encodeBinary");function Xy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.string(i)])}return P(e)}n(Xy,"encodeBinary");function Qy(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,E.bytes(i)])}return P(e)}n(Qy,"encodeBinary");function Zy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:N.LengthDelimited,value:Qy(i)}])}return P(e)}n(Zy,"encodeBinary");function eb(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.int32(i)])}return P(e)}n(eb,"encodeBinary");function tb(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,E.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,E.int32(i)])}return P(e)}n(tb,"encodeBinary");function ib(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,E.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,E.int32(i)])}return P(e)}n(ib,"encodeBinary");function Tg(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:N.LengthDelimited,value:Hy(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,E.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:N.LengthDelimited,value:zy(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:N.LengthDelimited,value:$y(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:N.LengthDelimited,value:Ky(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:N.LengthDelimited,value:qy(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:N.LengthDelimited,value:Xy(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:N.LengthDelimited,value:Zy(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:N.LengthDelimited,value:eb(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:N.LengthDelimited,value:tb(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:N.LengthDelimited,value:ib(i)}])}return P(e)}n(Tg,"encodeBinary");function ob(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,E.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,E.int32(i)])}return P(e)}n(ob,"encodeBinary");function nb(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:N.LengthDelimited,value:ob(i)}])}return P(e)}n(nb,"encodeBinary");function rb(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,E.int32(i)])}return P(e)}n(rb,"encodeBinary");function sb(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,E.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:N.LengthDelimited,value:rb(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,E.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,E.int32(i)])}return P(e)}n(sb,"encodeBinary");function ab(t){let e=[];if(t.p1!==void 0){let i=t.p1;e.push([1,E.int32(i)])}return P(e)}n(ab,"encodeBinary");function ub(t){let e=[];if(t.f1!==void 0){let i=t.f1;e.push([1,{type:N.LengthDelimited,value:ab(i)}])}if(t.p59!==void 0){let i=t.p59;e.push([59,E.int32(i)])}return P(e)}n(ub,"encodeBinary");function kg(t,e){let i=gy({id:t,timestamp:e});return encodeURIComponent($e(i).replace(/\+/g,"-").replace(/\//g,"_"))}n(kg,"encodeVisitorData");function Ig(t){return yy(Eg(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}n(Ig,"decodeVisitorData");function YI(t){let e=wy({params:{channelId:t}});return encodeURIComponent($e(e))}n(YI,"encodeChannelAnalyticsParams");function UI(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},o={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},a={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},c={};if(t?c.filters={}:c.noFilter=0,c.filters&&(t.upload_date&&(c.filters.uploadDate=e[t.upload_date]),t.type&&(c.filters.type=i[t.type]),t.duration&&(c.filters.duration=o[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(c.sortBy=r[t.sort_by]),t.features))for(let d of t.features)c.filters[a[d]]=1;let p=ky(c);return encodeURIComponent($e(p))}n(UI,"encodeSearchFilters");function WI(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let o=Cy(i);return encodeURIComponent($e(o))}n(WI,"encodeMusicSearchFilters");function Sg(t,e){let i=Py({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent($e(i)))}n(Sg,"encodeMessageParams");function JI(t,e={}){let o=Dy({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent($e(o))}n(JI,"encodeCommentsSectionParams");function GI(t){let e=Oy({videoId:t,params:{index:0},number:7});return encodeURIComponent($e(e))}n(GI,"encodeCommentParams");function tu(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let o=Uy(i);return encodeURIComponent($e(o))}n(tu,"encodeCommentActionParams");function HI(t,e){let i=Jy({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent($e(i))}n(HI,"encodeNotificationPref");function zI(t,e){let i={context:{client:{unkparam:14,clientName:te.ANDROID.NAME,clientVersion:te.YTSTUDIO_ANDROID.VERSION}},target:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),Tg(i)}n(zI,"encodeVideoMetadataPayload");function $I(t,e){let i={context:{client:{unkparam:14,clientName:te.ANDROID.NAME,clientVersion:te.YTSTUDIO_ANDROID.VERSION}},target:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return Tg(i)}n($I,"encodeCustomThumbnailPayload");function KI(t){let e=nb({params:{hashtag:t,type:1}});return encodeURIComponent($e(e))}n(KI,"encodeHashtag");function Cg(t){let e=sb({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent($e(e))}n(Cg,"encodeReelSequence");function qI(){let t=ub({f1:{p1:1},p59:1});return encodeURIComponent($e(t))}n(qI,"encodeShortsParam");var _t,iu=class extends s{constructor(e){var i,o,r,a,c,p,d;super(),_t.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=g.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=l.parseItem(e.sponsorCommentBadge,Qh),this.paid_comment_chip=l.parseItem(e.paidCommentChipRenderer,Xh),this.author_badge=l.parseItem(e.authorCommentBadge,qh),this.author=new A(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=l.parseItem(e.actionMenu,L),this.action_buttons=l.parseItem(e.actionButtons,Lo),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((r=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||r===void 0)&&r.is_toggled),this.is_disliked=!!(!((c=(a=this.action_buttons)===null||a===void 0?void 0:a.dislike_button)===null||c===void 0)&&c.is_toggled),this.is_hearted=!!(!((d=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||d===void 0)&&d.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return I(this,void 0,void 0,function*(){if(!f(this,_t,"f"))throw new b("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new b("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new b("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(f(this,_t,"f"),{parse:!1})})}dislike(){var e;return I(this,void 0,void 0,function*(){if(!f(this,_t,"f"))throw new b("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new b("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new b("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(f(this,_t,"f"),{parse:!1})})}reply(e){var i,o,r;return I(this,void 0,void 0,function*(){if(!f(this,_t,"f"))throw new b("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new b("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let a=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((r=a.endpoint)===null||r===void 0)&&r.dialog))throw new b("Reply button endpoint did not have a dialog.");let p=a.endpoint.dialog.as($o).reply_button;if(!p)throw new b("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new b("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(f(this,_t,"f"),{commentText:e})})}translate(e){var i,o,r,a,c,p;return I(this,void 0,void 0,function*(){if(!f(this,_t,"f"))throw new b("An active caller must be provide to perform this operation.");let v={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},h=tu(22,v),y=yield f(this,_t,"f").execute("comment/perform_comment_action",{action:h,client:"ANDROID"}),x=(o=(i=y.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,w=(p=(c=(a=(r=x==null?void 0:x[0])===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},y),{content:w})})}setActions(e){C(this,_t,e,"f")}};n(iu,"Comment");_t=new WeakMap;iu.type="Comment";var Qo=iu;var ou=class extends s{constructor(e){super(),this.id=e.id,this.categories=l.parseArray(e.categories),this.category_buttons=l.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(ou,"EmojiPicker");ou.type="EmojiPicker";var i_=ou;var nu=class extends s{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=g.fromResponse(e.authorThumbnail),this.submit_button=l.parseItem(e.submitButton,k),this.cancel_button=l.parseItem(e.cancelButton,k),this.placeholder=new u(e.placeholderText),this.emoji_button=l.parseItem(e.emojiButton,k),this.emoji_picker=l.parseItem(e.emojiPicker,i_)}};n(nu,"CommentDialog");nu.type="CommentDialog";var lb=nu;var ru=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),this.view_replies=l.parseItem(e.viewReplies,k),this.hide_replies=l.parseItem(e.hideReplies,k),this.view_replies_creator_thumbnail=g.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(ru,"CommentReplies");ru.type="CommentReplies";var o_=ru;var su=class extends s{constructor(e){super(),this.simplebox_avatar=g.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};n(su,"CommentsSimplebox");su.type="CommentsSimplebox";var n_=su;var au=class extends s{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=g.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};n(au,"CommentsEntryPointTeaser");au.type="CommentsEntryPointTeaser";var r_=au;var uu=class extends s{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=g.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=l.parseItem(e.contentRenderer,[r_,n_])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};n(uu,"CommentsEntryPointHeader");uu.type="CommentsEntryPointHeader";var s_=uu;var lu=class extends s{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=l.parseItem(e.createRenderer),this.sort_menu=l.parseItem(e.sortMenu,ht),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:g.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(lu,"CommentsHeader");lu.type="CommentsHeader";var li=lu;var cu=class extends s{constructor(e){super(),this.submit_button=l.parseItem(e.submitButton,k),this.cancel_button=l.parseItem(e.cancelButton,k),this.author_thumbnail=g.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};n(cu,"CommentSimplebox");cu.type="CommentSimplebox";var a_=cu;var Ue,pu=class extends s{constructor(e){super(),Ue.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,o){e&&(this.content=u.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new A({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),o&&!Reflect.has(o,"prepareAccountCommand")&&(this.like_command=new _(o.likeCommand),this.dislike_command=new _(o.dislikeCommand),this.unlike_command=new _(o.unlikeCommand),this.undislike_command=new _(o.undislikeCommand),this.reply_command=new _(o.replyCommand))}like(){return I(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.like_command)throw new b("Like command not found.");if(this.is_liked)throw new b("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(f(this,Ue,"f"))})}dislike(){return I(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.dislike_command)throw new b("Dislike command not found.");if(this.is_disliked)throw new b("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(f(this,Ue,"f"))})}unlike(){return I(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.unlike_command)throw new b("Unlike command not found.");if(!this.is_liked)throw new b("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(f(this,Ue,"f"))})}undislike(){return I(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.undislike_command)throw new b("Undislike command not found.");if(!this.is_disliked)throw new b("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(f(this,Ue,"f"))})}reply(e){var i;return I(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.reply_command)throw new b("Reply command not found.");let o=(i=this.reply_command.dialog)===null||i===void 0?void 0:i.as($o);if(!o)throw new b("Reply dialog not found.");let r=o.reply_button;if(!r)throw new b("Reply button not found in the dialog.");if(!r.endpoint)throw new b("Reply button endpoint not found.");return r.endpoint.call(f(this,Ue,"f"),{commentText:e})})}translate(e){var i,o,r,a,c,p;return I(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.content)throw new b("Comment content not found.",{comment_id:this.comment_id});let v={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},h=tu(22,v),y=yield f(this,Ue,"f").execute("comment/perform_comment_action",{action:h,client:"ANDROID"}),x=(o=(i=y.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,w=(p=(c=(a=(r=x==null?void 0:x[0])===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},y),{content:w})})}setActions(e){C(this,Ue,e,"f")}};n(pu,"CommentView");Ue=new WeakMap;pu.type="CommentView";var ci=pu;var Ft,Gi,du=class extends s{constructor(e){super(),Ft.set(this,void 0),Gi.set(this,void 0),Reflect.has(e,"commentViewModel")?this.comment=l.parseItem(e.commentViewModel,ci):this.comment=l.parseItem(e.comment,Qo),this.comment_replies_data=l.parseItem(e.replies,o_),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return I(this,void 0,void 0,function*(){if(!f(this,Ft,"f"))throw new b("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new b("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(le);if(!i)throw new b("Replies continuation not found.");let o=yield i.endpoint.call(f(this,Ft,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new b("Unexpected response.",o);return this.replies=ee(o.on_response_received_endpoints_memo.getType(Qo,ci).map(r=>(r.setActions(f(this,Ft,"f")),r))),C(this,Gi,o==null?void 0:o.on_response_received_endpoints_memo.getType(le).first(),"f"),this})}getContinuation(){var e;return I(this,void 0,void 0,function*(){if(!this.replies)throw new b("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!f(this,Gi,"f"))throw new b("Continuation not found.");if(!f(this,Ft,"f"))throw new b("Actions instance not set for this thread.");let i=(e=f(this,Gi,"f").button)===null||e===void 0?void 0:e.as(k);if(!i)throw new b('"Load more" button not found.');let o=yield i.endpoint.call(f(this,Ft,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new b("Unexpected response.",o);return this.replies=ee(o.on_response_received_endpoints_memo.getType(Qo,ci).map(r=>(r.setActions(f(this,Ft,"f")),r))),C(this,Gi,o.on_response_received_endpoints_memo.getType(le).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new b("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!f(this,Gi,"f")}setActions(e){C(this,Ft,e,"f")}};n(du,"CommentThread");Ft=new WeakMap,Gi=new WeakMap;du.type="CommentThread";var u_=du;var fu=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=g.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new _(e.navigationEndpoint),this.tv_banner=g.fromResponse(e.tvBanner),this.menu=l.parseItem(e.menu,L)}};n(fu,"CompactChannel");fu.type="CompactChannel";var cb=fu;var mu=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new _(e.navigationEndpoint),this.style=e.style}};n(mu,"CompactLink");mu.type="CompactLink";var Zo=mu;var hu=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(hu,"PlaylistCustomThumbnail");hu.type="PlaylistCustomThumbnail";var en=hu;var _u=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(_u,"PlaylistVideoThumbnail");_u.type="PlaylistVideoThumbnail";var tn=_u;var vu=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new A(e.longBylineText,e.ownerBadges,null),this.thumbnails=g.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=l.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=l.parseItem(e.menu),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new _(e.navigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer,[tn,en])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};n(vu,"Playlist");vu.type="Playlist";var Et=vu;var xu=class extends Et{constructor(e){super(e)}};n(xu,"CompactMix");xu.type="CompactMix";var pb=xu;var gu=class extends s{constructor(e){var i;super();let o=((i=e.thumbnailOverlays.find(a=>a.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new A(e.shortBylineText);let r=e.lengthText?new u(e.lengthText).toString():new u(o).toString();this.duration={text:r,seconds:Ce(r)},this.endpoint=new _(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=l.parseItem(e.menu,L)}};n(gu,"CompactMovie");gu.type="CompactMovie";var db=gu;var yu=class extends Et{constructor(e){super(e)}};n(yu,"CompactPlaylist");yu.type="CompactPlaylist";var fb=yu;var bu=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new _(e.navigationEndpoint),this.thumbnail=g.fromResponse(e.thumbnail)}};n(bu,"CompactStation");bu.type="CompactStation";var mb=bu;var wu=class extends s{constructor(e){super(),this.title=new u(e.title),this.confirm_button=l.parseItem(e.confirmButton,k),this.cancel_button=l.parseItem(e.cancelButton,k),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(wu,"ConfirmDialog");wu.type="ConfirmDialog";var hb=wu;var Tu=class extends s{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var o;return{metadata_parts:(o=i.metadataParts)===null||o===void 0?void 0:o.map(r=>({text:u.fromAttributed(r.text)}))}}),this.delimiter=e.delimiter}};n(Tu,"ContentMetadataView");Tu.type="ContentMetadataView";var on=Tu;var ku=class extends s{constructor(e){super(),this.text=new u(e.text)}};n(ku,"Message");ku.type="Message";var pi=ku;var Iu=class extends s{constructor(e){super(),this.availability_message=l.parseItem(e.availabilityMessage,pi)}};n(Iu,"ConversationBar");Iu.type="ConversationBar";var _b=Iu;var Su=class extends s{constructor(e){super(),this.copy_button=l.parseItem(e.copyButton,k),this.short_url=e.shortUrl,this.style=e.style}};n(Su,"CopyLink");Su.type="CopyLink";var l_=Su;var Cu=class extends s{constructor(e){var i,o;super(),this.avatar=l.parseItem(e.avatar,ah),this.a11y_label=e.a11yLabel,!((o=(i=e.rendererContext)===null||i===void 0?void 0:i.commandContext)===null||o===void 0)&&o.onTap&&(this.on_tap_endpoint=new _(e.rendererContext.commandContext.onTap))}};n(Cu,"DecoratedAvatarView");Cu.type="DecoratedAvatarView";var c_=Cu;var Eu=class extends s{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(Eu,"HeatMarker");Eu.type="HeatMarker";var p_=Eu;var Nu=class extends s{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=l.parseArray(e.heatMarkers,p_),this.heat_markers_decorations=l.parseArray(e.heatMarkersDecorations)}};n(Nu,"Heatmap");Nu.type="Heatmap";var d_=Nu;var Pu=class extends s{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=l.parseItem(e.value.heatmap,d_)),Reflect.has(e.value,"chapters")&&(this.value.chapters=l.parseArray(e.value.chapters,Uh)))}};n(Pu,"Marker");Pu.type="Marker";var Ru=class extends s{constructor(e){var i;super(),this.markers_map=ee(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new Pu(o)))||[])}};n(Ru,"MultiMarkersPlayerBar");Ru.type="MultiMarkersPlayerBar";var f_=Ru;var Au=class extends s{constructor(e){super(),this.player_bar=l.parseItem(e.playerBar,f_),this.player_bar_action_button=l.parseItem(e.playerBarActionButton,k)}};n(Au,"DecoratedPlayerBar");Au.type="DecoratedPlayerBar";var m_=Au;var Vu=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new _(e.navigationEndpoint),this.large_form_factor_background_thumbnail=l.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=l.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(Vu,"DefaultPromoPanel");Vu.type="DefaultPromoPanel";var vb=Vu;var Mu=class extends s{constructor(e){var i,o,r,a,c,p;if(super(),this.description=u.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=u.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,!((r=(o=(i=e.rendererContext.commandContext)===null||i===void 0?void 0:i.onTap)===null||o===void 0?void 0:o.innertubeCommand)===null||r===void 0)&&r.showEngagementPanelEndpoint){let d=(p=(c=(a=e.rendererContext.commandContext)===null||a===void 0?void 0:a.onTap)===null||c===void 0?void 0:c.innertubeCommand)===null||p===void 0?void 0:p.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:l.parseItem(d.engagementPanel,ni),engagement_panel_popup_type:d.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:d.identifier.surface,tag:d.identifier.tag}}}}}};n(Mu,"DescriptionPreviewView");Mu.type="DescriptionPreviewView";var h_=Mu;var Bu=class extends s{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new _(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(Bu,"DidYouMean");Bu.type="DidYouMean";var xb=Bu;var Du=class extends s{constructor(e){super(),this.default_button=l.parseItem(e.defaultButtonViewModel,Yi),this.toggled_button=l.parseItem(e.toggledButtonViewModel,Yi),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};n(Du,"ToggleButtonView");Du.type="ToggleButtonView";var nn=Du;var Lu=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,nn),this.dislike_entity_key=e.dislikeEntityKey}};n(Lu,"DislikeButtonView");Lu.type="DislikeButtonView";var __=Lu;var Ou=class extends s{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new _(e.command),this.target_id=e.targetId}};n(Ou,"DownloadButton");Ou.type="DownloadButton";var gb=Ou;var Fu=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};n(Fu,"DynamicTextView");Fu.type="DynamicTextView";var v_=Fu;var Hi=class extends s{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new Hi(o)))}};n(Hi,"ChildElement");Hi.type="ChildElement";var x_=Hi;var zi=class extends s{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return l.parseItem(e,zi);let o=e.newElement.type.componentType;this.model=l.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=ee(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(r=>new x_(r)))||[]))}};n(zi,"Element");zi.type="Element";var rn=zi;var ju=class extends s{constructor(e){super(),this.title=new u(e.title),this.first_option=l.parseItem(e.firstOption),this.menu=l.parseItem(e.menu,L)}};n(ju,"EmergencyOnebox");ju.type="EmergencyOnebox";var yb=ju;var Yu=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n(Yu,"EmojiPickerCategory");Yu.type="EmojiPickerCategory";var bb=Yu;var Uu=class extends s{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(Uu,"EmojiPickerCategoryButton");Uu.type="EmojiPickerCategoryButton";var wb=Uu;var Wu=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new _(e.command),this.emoji_ids=e.emojiIds}};n(Wu,"EmojiPickerUpsellCategory");Wu.type="EmojiPickerUpsellCategory";var Tb=Wu;var Ju=class extends s{constructor(e){super(),this.elements=l.parseArray(e.elements),this.start_ms=e.startMs}};n(Ju,"Endscreen");Ju.type="Endscreen";var g_=Ju;var Gu=class extends s{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new _(e.endpoint),Reflect.has(e,"image")&&(this.image=g.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=g.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=l.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(Gu,"EndscreenElement");Gu.type="EndscreenElement";var kb=Gu;var Hu=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new _(e.navigationEndpoint),this.thumbnails=g.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};n(Hu,"EndScreenPlaylist");Hu.type="EndScreenPlaylist";var y_=Hu;var zu=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new A(e.shortBylineText,e.ownerBadges),this.endpoint=new _(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=l.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(zu,"EndScreenVideo");zu.type="EndScreenVideo";var b_=zu;var $u=class extends s{constructor(e){super(),this.title=e.title,this.endpoint=new _(e.endpoint),this.selected=e.selected,this.content=l.parseItem(e.content)}};n($u,"ExpandableTab");$u.type="ExpandableTab";var sn=$u;var Ku=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(Ku,"ExpandedShelfContents");Ku.type="ExpandedShelfContents";var Ib=Ku;var qu=class extends s{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};n(qu,"FancyDismissibleDialog");qu.type="FancyDismissibleDialog";var Sb=qu;var Xu=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,Ye)}};n(Xu,"FeedFilterChipBar");Xu.type="FeedFilterChipBar";var jt=Xu;var Qu=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.endpoint=new _(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};n(Qu,"FeedNudge");Qu.type="FeedNudge";var Cb=Qu;var Zu=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Zu,"FeedTabbedHeader");Zu.type="FeedTabbedHeader";var w_=Zu;var el=class extends s{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:l.parseArray(i.actions,Yi)})),this.style=e.style}};n(el,"FlexibleActionsView");el.type="FlexibleActionsView";var T_=el;var tl=class extends s{constructor(e){super(),this.title=new u(e.title),this.box_art=g.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new _(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(tl,"GameDetails");tl.type="GameDetails";var Eb=tl;var il=class extends s{constructor(e){var i,o,r;super(),this.items=l.parseArray(e.items),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}get contents(){return this.items}};n(il,"Grid");il.type="Grid";var Nb=il;var ol=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new A(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new _(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton)}};n(ol,"GridChannel");ol.type="GridChannel";var k_=ol;var nl=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(nl,"GridHeader");nl.type="GridHeader";var Pb=nl;var rl=class extends s{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new u(e.longBylineText):null,this.thumbnails=g.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new _(e.navigationEndpoint),this.secondary_endpoint=new _(e.secondaryNavigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};n(rl,"GridMix");rl.type="GridMix";var Rb=rl;var sl=class extends s{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):o!=null&&o.text?new u(o.text):null,this.endpoint=new _(e.navigationEndpoint),this.badges=l.parseArray(e.badges,ze),this.metadata=new u(e.metadata),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};n(sl,"GridMovie");sl.type="GridMovie";var Ab=sl;var al=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new A(e.shortBylineText,e.ownerBadges)),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new _(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>g.fromResponse(o)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};n(al,"GridPlaylist");al.type="GridPlaylist";var I_=al;var ul=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(ul,"ShowCustomThumbnail");ul.type="ShowCustomThumbnail";var S_=ul;var ll=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(ll,"ThumbnailOverlayBottomPanel");ll.type="ThumbnailOverlayBottomPanel";var C_=ll;var cl=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=ie(e.thumbnailRenderer,S_),this.endpoint=new _(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=De(e.thumbnailOverlays,C_),this.author=new A(e.shortBylineText,void 0)}};n(cl,"GridShow");cl.type="GridShow";var Vb=cl;var pl=class extends s{constructor(e){var i,o;super();let r=(i=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.rich_thumbnail=l.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):r!=null&&r.text?new u(r.text):null,this.author=e.shortBylineText&&new A(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new _(e.navigationEndpoint),this.menu=l.parseItem(e.menu,L),Reflect.has(e,"buttons")&&(this.buttons=l.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(pl,"GridVideo");pl.type="GridVideo";var E_=pl;var dl=class extends s{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new _(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=g.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(dl,"GuideEntry");dl.type="GuideEntry";var $i=dl;var fl=class extends s{constructor(e){super(),this.expander_item=ie(e.expanderItem,$i),this.collapser_item=ie(e.collapserItem,$i),this.expandable_items=De(e.expandableItems)}};n(fl,"GuideCollapsibleEntry");fl.type="GuideCollapsibleEntry";var Mb=fl;var ml=class extends s{constructor(e){super(),this.header_entry=ie(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=De(e.sectionItems)}};n(ml,"GuideCollapsibleSectionEntry");ml.type="GuideCollapsibleSectionEntry";var Bb=ml;var hl=class extends $i{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(hl,"GuideDownloadsEntry");hl.type="GuideDownloadsEntry";var Db=hl;var _l=class extends s{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=De(e.items)}};n(_l,"GuideSection");_l.type="GuideSection";var an=_l;var vl=class extends an{};n(vl,"GuideSubscriptionsSection");vl.type="GuideSubscriptionsSection";var N_=vl;var xl=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};n(xl,"HashtagHeader");xl.type="HashtagHeader";var P_=xl;var gl=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=g.fromResponse(e.hashtagThumbnail),this.endpoint=new _(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};n(gl,"HashtagTile");gl.type="HashtagTile";var Lb=gl;var yl=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.on_tap_endpoint=new _(e.onTap)}};n(yl,"HeroPlaylistThumbnail");yl.type="HeroPlaylistThumbnail";var Ob=yl;var bl=class extends s{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:g.fromResponse(e.thumbnail.image),endpoint:new _(e.thumbnail.onTap),on_long_press_endpoint:new _(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:g.fromResponse(e.backgroundImage.image),gradient_image:g.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new _(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new _(e.textOnTap)}};n(bl,"Panel");bl.type="Panel";var wl=class extends s{constructor(e){super(),this.panels=ee(e.highlightsCarousel.panels.map(i=>new bl(i)))}};n(wl,"HighlightsCarousel");wl.type="HighlightsCarousel";var Fb=wl;var Tl=class extends s{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new _(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new _(e.serviceEndpoint))}};n(Tl,"SearchSuggestion");Tl.type="SearchSuggestion";var R_=Tl;var kl=class extends R_{constructor(e){super(e)}};n(kl,"HistorySuggestion");kl.type="HistorySuggestion";var jb=kl;var Il=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.previous_button=l.parseItem(e.previousButton,k),this.next_button=l.parseItem(e.nextButton,k)}get contents(){return this.items}};n(Il,"HorizontalMovieList");Il.type="HorizontalMovieList";var Yb=Il;var Sl=class extends s{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new _(e.navigationEndpoint)}};n(Sl,"IconLink");Sl.type="IconLink";var A_=Sl;var Cl=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.style=e.style}};n(Cl,"ImageBannerView");Cl.type="ImageBannerView";var V_=Cl;var El=class extends s{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new _(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new _(e.originalQueryEndpoint):void 0}};n(El,"IncludingResultsFor");El.type="IncludingResultsFor";var Ub=El;var Nl=class extends s{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),this.paragraphs=e.paragraphs.map(i=>new u(i)),this.thumbnail=g.fromResponse(e.thumbnail),this.source_endpoint=new _(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(Nl,"InfoPanelContent");Nl.type="InfoPanelContent";var M_=Nl;var Pl=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.menu=l.parseItem(e.menu,L),this.content=l.parseItem(e.content,M_),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(Pl,"InfoPanelContainer");Pl.type="InfoPanelContainer";var B_=Pl;var Rl=class extends s{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=l.parseArray(e.badges,ze),this.box_art=g.fromResponse(e.boxArt),this.banner=g.fromResponse(e.banner),this.buttons=l.parseArray(e.buttons,[Be,k]),this.auto_generated=new u(e.autoGenerated)}};n(Rl,"InteractiveTabbedHeader");Rl.type="InteractiveTabbedHeader";var D_=Rl;var Al=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Al,"ItemSectionHeader");Al.type="ItemSectionHeader";var un=Al;var Vl=class extends s{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new _(e.endpoint)}};n(Vl,"ItemSectionTab");Vl.type="Tab";var L_=Vl;var Ml=class extends s{constructor(e){super(),this.title=new u(e.title),this.tabs=l.parseArray(e.tabs,L_),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};n(Ml,"ItemSectionTabbedHeader");Ml.type="ItemSectionTabbedHeader";var ln=Ml;var Bl=class extends s{constructor(e){super(),this.filter_menu=l.parseItem(e.filterMenu,Ki.SortFilterSubMenu)}};n(Bl,"SortFilterHeader");Bl.type="SortFilterHeader";var O_=Bl;var Dl=class extends s{constructor(e){var i,o,r;super(),this.header=l.parseItem(e.header,[li,un,ln,O_]),this.contents=l.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(Dl,"ItemSection");Dl.type="ItemSection";var Ke=Dl;var Ll=class extends s{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new _(i)))}};n(Ll,"LikeButton");Ll.type="LikeButton";var F_=Ll;var Ol=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,nn),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};n(Ol,"LikeButtonView");Ol.type="LikeButtonView";var j_=Ol;var Fl=class extends s{constructor(e){var i,o;super(),this.header=l.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(Fl,"LiveChat");Fl.type="LiveChat";var Y_=Fl;var jl=class extends s{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=l.parseItem(e.contextMenuButton,k)}};n(jl,"LiveChatBannerHeader");jl.type="LiveChatBannerHeader";var U_=jl;var Yl=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,U_),this.contents=l.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(Yl,"LiveChatBanner");Yl.type="LiveChatBanner";var W_=Yl;var Ul=class extends s{constructor(e){super(),this.banner=l.parseItem(e.bannerRenderer,W_)}};n(Ul,"AddBannerToLiveChatCommand");Ul.type="AddBannerToLiveChatCommand";var Wb=Ul;var Wl=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(Wl,"AddChatItemAction");Wl.type="AddChatItemAction";var J_=Wl;var Jl=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),this.duration_sec=e.durationSec}};n(Jl,"AddLiveChatTickerItemAction");Jl.type="AddLiveChatTickerItemAction";var Jb=Jl;var Gl=class extends s{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(Gl,"DimChatItemAction");Gl.type="DimChatItemAction";var Gb=Gl;var Hl=class extends s{constructor(e){super(),this.menu_endpoint=new _(e.contextMenuEndpoint),this.moderation_buttons=l.parseArray(e.moderationButtons,k),this.auto_moderated_item=l.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Hl,"LiveChatAutoModMessage");Hl.type="LiveChatAutoModMessage";var Hb=Hl;var zl=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=g.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=l.parseItem(e.contextMenuButton,k)}};n(zl,"LiveChatBannerPoll");zl.type="LiveChatBannerPoll";var zb=zl;var $l=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new _(e.contextMenuEndpoint)}};n($l,"LiveChatMembershipItem");$l.type="LiveChatMembershipItem";var $b=$l;var Kl=class extends s{constructor(e){super(),this.message=new u(e.message),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new _(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};n(Kl,"LiveChatPaidMessage");Kl.type="LiveChatPaidMessage";var Kb=Kl;var ql=class extends s{constructor(e){super(),this.id=e.id,this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=g.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new _(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(ql,"LiveChatPaidSticker");ql.type="LiveChatPaidSticker";var qb=ql;var Xl=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Xl,"LiveChatPlaceholderItem");Xl.type="LiveChatPlaceholderItem";var Xb=Xl;var Ql=class extends s{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=g.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=l.parseItem(e.informationButton),this.endpoint=new _(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=g.fromResponse(e.authorPhoto),this.information_dialog=l.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};n(Ql,"LiveChatProductItem");Ql.type="LiveChatProductItem";var Qb=Ql;var Zl=class extends s{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(Zl,"LiveChatRestrictedParticipation");Zl.type="LiveChatRestrictedParticipation";var Zb=Zl;var qi=class extends s{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=l.parseArray(e.inlineActionButtons,k),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(qi,"LiveChatMessageBase");qi.type="LiveChatMessageBase";var ec=class extends qi{constructor(e){super(e),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new _(e.contextMenuEndpoint)}};n(ec,"LiveChatTextMessage");ec.type="LiveChatTextMessage";var ew=ec;var tc=class extends s{constructor(e){var i,o;super(),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=l.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new _(e.showItemEndpoint),this.id=e.id}};n(tc,"LiveChatTickerPaidMessageItem");tc.type="LiveChatTickerPaidMessageItem";var G_=tc;var ic=class extends G_{};n(ic,"LiveChatTickerPaidStickerItem");ic.type="LiveChatTickerPaidStickerItem";var tw=ic;var oc=class extends s{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new A(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(oc,"LiveChatTickerSponsorItem");oc.type="LiveChatTickerSponsorItem";var iw=oc;var nc=class extends qi{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=l.parseItem(e.actionButton)}};n(nc,"LiveChatViewerEngagementMessage");nc.type="LiveChatViewerEngagementMessage";var ow=nc;var rc=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=g.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=l.parseItem(e.contextMenuButton,k)}};n(rc,"PollHeader");rc.type="PollHeader";var nw=rc;var sc=class extends s{constructor(e){super(),this.id=e.id,this.contents=l.parse(e.contents),this.target_id=e.targetId}};n(sc,"LiveChatActionPanel");sc.type="LiveChatActionPanel";var H_=sc;var ac=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(ac,"MarkChatItemAsDeletedAction");ac.type="MarkChatItemAsDeletedAction";var rw=ac;var uc=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(uc,"MarkChatItemsByAuthorAsDeletedAction");uc.type="MarkChatItemsByAuthorAsDeletedAction";var sw=uc;var lc=class extends s{constructor(e){super(),this.target_action_id=e.targetActionId}};n(lc,"RemoveBannerForLiveChatCommand");lc.type="RemoveBannerForLiveChatCommand";var aw=lc;var cc=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId}};n(cc,"RemoveChatItemAction");cc.type="RemoveChatItemAction";var uw=cc;var pc=class extends s{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(pc,"RemoveChatItemByAuthorAction");pc.type="RemoveChatItemByAuthorAction";var lw=pc;var dc=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=l.parseItem(e.replacementItem)}};n(dc,"ReplaceChatItemAction");dc.type="ReplaceChatItemAction";var cw=dc;var fc=class extends s{constructor(e){var i;super(),this.actions=l.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(fc,"ReplayChatItemAction");fc.type="ReplayChatItemAction";var pw=fc;var mc=class extends s{constructor(e){super(),this.panel_to_show=l.parseItem(e.panelToShow,H_)}};n(mc,"ShowLiveChatActionPanelAction");mc.type="ShowLiveChatActionPanelAction";var dw=mc;var hc=class extends s{constructor(e){super(),this.dialog=l.parseItem(e.dialog)}};n(hc,"ShowLiveChatDialogAction");hc.type="ShowLiveChatDialogAction";var fw=hc;var _c=class extends s{constructor(e){super(),this.tooltip=l.parseItem(e.tooltip)}};n(_c,"ShowLiveChatTooltipCommand");_c.type="ShowLiveChatTooltipCommand";var mw=_c;var vc=class extends s{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};n(vc,"UpdateDateTextAction");vc.type="UpdateDateTextAction";var z_=vc;var xc=class extends s{constructor(e){super(),this.description=new u(e.description)}};n(xc,"UpdateDescriptionAction");xc.type="UpdateDescriptionAction";var $_=xc;var gc=class extends s{constructor(e){super(),this.poll_to_update=l.parseItem(e.pollToUpdate)}};n(gc,"UpdateLiveChatPollAction");gc.type="UpdateLiveChatPollAction";var hw=gc;var yc=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(yc,"UpdateTitleAction");yc.type="UpdateTitleAction";var K_=yc;var bc=class extends s{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};n(bc,"UpdateToggleButtonTextAction");bc.type="UpdateToggleButtonTextAction";var q_=bc;var wc=class extends s{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};n(wc,"UpdateViewershipAction");wc.type="UpdateViewershipAction";var X_=wc;var Tc=class extends ze{constructor(e){super(e),this.custom_thumbnail=g.fromResponse(e.customThumbnail)}};n(Tc,"LiveChatAuthorBadge");Tc.type="LiveChatAuthorBadge";var _w=Tc;var kc=class extends s{constructor(e){super(),this.confirm_button=l.parseItem(e.confirmButton,k),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(kc,"LiveChatDialog");kc.type="LiveChatDialog";var vw=kc;var Ic=class extends s{constructor(e){super(),this.overflow_menu=l.parseItem(e.overflowMenu,L),this.collapse_button=l.parseItem(e.collapseButton,k),this.view_selector=l.parseItem(e.viewSelector,ht)}};n(Ic,"LiveChatHeader");Ic.type="LiveChatHeader";var Q_=Ic;var Sc=class extends s{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=l.parseItem(e.moreCommentsBelowButton,k)}};n(Sc,"LiveChatItemList");Sc.type="LiveChatItemList";var Z_=Sc;var Cc=class extends s{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=g.fromResponse(e.authorPhoto),this.send_button=l.parseItem(e.sendButton,k),this.target_id=e.targetId}};n(Cc,"LiveChatMessageInput");Cc.type="LiveChatMessageInput";var xw=Cc;var Ec=class extends s{constructor(e){super(),this.name=new u(e.authorName),this.photo=g.fromResponse(e.authorPhoto),this.badges=l.parseArray(e.authorBadges)}};n(Ec,"LiveChatParticipant");Ec.type="LiveChatParticipant";var ev=Ec;var Nc=class extends s{constructor(e){super(),this.title=new u(e.title),this.participants=l.parseArray(e.participants,ev)}};n(Nc,"LiveChatParticipantsList");Nc.type="LiveChatParticipantsList";var tv=Nc;var Pc=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.metadata=l.parseItem(e.metadata,on)}};n(Pc,"LockupMetadataView");Pc.type="LockupMetadataView";var iv=Pc;var Rc=class extends s{constructor(e){super(),this.content_image=l.parseItem(e.contentImage,$h),this.metadata=l.parseItem(e.metadata,iv),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.on_tap_endpoint=new _(e.rendererContext.commandContext.onTap)}};n(Rc,"LockupView");Rc.type="LockupView";var ov=Rc;var Ac=class extends k{constructor(e){super(e)}};n(Ac,"MenuNavigationItem");Ac.type="MenuNavigationItem";var nv=Ac;var Vc=class extends k{constructor(e){super(e)}};n(Vc,"MenuServiceItem");Vc.type="MenuServiceItem";var di=Vc;var Mc=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[nv,di])}};n(Mc,"MenuPopup");Mc.type="MenuPopup";var gw=Mc;var Bc=class extends s{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new _(e.navigationEndpoint||e.serviceEndpoint)}};n(Bc,"MenuServiceItemDownload");Bc.type="MenuServiceItemDownload";var yw=Bc;var Dc=class extends s{constructor(e){super(),this.header=l.parse(e.header),this.sections=l.parse(e.sections),this.style=e.style}};n(Dc,"MultiPageMenu");Dc.type="MultiPageMenu";var bw=Dc;var Lc=class extends s{constructor(e){super(),this.items=l.parse(e.items)}get contents(){return this.items}};n(Lc,"MultiPageMenuNotificationSection");Lc.type="MultiPageMenuNotificationSection";var ww=Lc;var Oc=class extends s{constructor(e){super()}};n(Oc,"MusicMenuItemDivider");Oc.type="MusicMenuItemDivider";var rv=Oc;var Fc=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new _(e.selectedCommand)),this.selected=!!this.endpoint}};n(Fc,"MusicMultiSelectMenuItem");Fc.type="MusicMultiSelectMenuItem";var cn=Fc;var jc=class extends s{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=l.parseArray(e.options,[cn,rv])}};n(jc,"MusicMultiSelectMenu");jc.type="MusicMultiSelectMenu";var sv=jc;var Yc=class extends s{constructor(e){super(),this.title=new u(e.title),this.buttons=l.parse(e.buttons)}};n(Yc,"SimpleMenuHeader");Yc.type="SimpleMenuHeader";var av=Yc;var Uc=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=g.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new _(e.buttonCommand)}};n(Uc,"MerchandiseItem");Uc.type="MerchandiseItem";var Tw=Uc;var Wc=class extends s{constructor(e){super(),this.title=e.title,this.menu=l.parseItem(e.actionButton),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(Wc,"MerchandiseShelf");Wc.type="MerchandiseShelf";var uv=Wc;var Jc=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};n(Jc,"MetadataRow");Jc.type="MetadataRow";var kw=Jc;var Gc=class extends s{constructor(e){super(),this.rows=l.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(Gc,"MetadataRowContainer");Gc.type="MetadataRowContainer";var lv=Gc;var Hc=class extends s{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};n(Hc,"MetadataRowHeader");Hc.type="MetadataRowHeader";var Iw=Hc;var zc=class extends s{constructor(e){super(),this.section_list=l.parseItem(e)}};n(zc,"MetadataScreen");zc.type="MetadataScreen";var Sw=zc;var $c=class extends s{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=g.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n($c,"MicroformatData");$c.type="MicroformatData";var pn=$c;var Kc=class extends Et{constructor(e){super(e)}};n(Kc,"Mix");Kc.type="Mix";var Cw=Kc;var qc=class extends s{constructor(e){super(),this.title=new u(e.title),this.content=new u(e.content),this.button=l.parseItem(e.button,k)}};n(qc,"ModalWithTitleAndButton");qc.type="ModalWithTitleAndButton";var Ew=qc;var Xc=class extends s{constructor(e){var i,o,r;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new A(e.longBylineText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:Ce(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.endpoint=new _(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=l.parseItem(e.menu,L)}};n(Xc,"Movie");Xc.type="Movie";var Nw=Xc;var Qc=class extends s{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new g(o)).sort((o,r)=>r.width-o.width)}};n(Qc,"MovingThumbnail");Qc.type="MovingThumbnail";var Pw=Qc;var Zc=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Zc,"MusicCardShelfHeaderBasic");Zc.type="MusicCardShelfHeaderBasic";var cv=Zc;var ep=class extends s{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(ep,"MusicInlineBadge");ep.type="MusicInlineBadge";var dn=ep;var tp=class extends s{constructor(e){var i,o;super(),this.endpoint=new _(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(tp,"MusicPlayButton");tp.type="MusicPlayButton";var fn=tp;var ip=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,fn),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(ip,"MusicItemThumbnailOverlay");ip.type="MusicItemThumbnailOverlay";var Nt=ip;var op=class extends s{constructor(e){super(),this.contents=g.fromResponse(e.thumbnail)}};n(op,"MusicThumbnail");op.type="MusicThumbnail";var We=op;var np=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,We),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=l.parseArray(e.buttons,k),this.menu=l.parseItem(e.menu,L),this.on_tap=new _(e.onTap),this.header=l.parseItem(e.header,cv),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=l.parseArray(e.subtitleBadges,dn),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Nt),Reflect.has(e,"contents")&&(this.contents=l.parseArray(e.contents))}};n(np,"MusicCardShelf");np.type="MusicCardShelf";var Rw=np;var rp=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,We)),Reflect.has(e,"moreContentButton")&&(this.more_content=l.parseItem(e.moreContentButton,k)),Reflect.has(e,"endIcons")&&(this.end_icons=l.parseArray(e.endIcons,A_))}};n(rp,"MusicCarouselShelfBasicHeader");rp.type="MusicCarouselShelfBasicHeader";var pv=rp;var sp=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,We),this.overlay=l.parseItem(e.overlay,Nt),this.on_tap=new _(e.onTap),this.menu=l.parseItem(e.menu,L),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};n(sp,"MusicMultiRowListItem");sp.type="MusicMultiRowListItem";var dv=sp;var ap=class extends s{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new _(e.clickCommand)}};n(ap,"MusicNavigationButton");ap.type="MusicNavigationButton";var fv=ap;var up=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(up,"MusicResponsiveListItemFixedColumn");up.type="musicResponsiveListItemFlexColumnRenderer";var mv=up;var lp=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(lp,"MusicResponsiveListItemFlexColumn");lp.type="MusicResponsiveListItemFlexColumn";var hv=lp;var et,mn,Ng,Mw,Aw,Vw,Bw,Dw,Lw,Ow,Fw,jw,cp=class extends s{constructor(e){var i,o,r,a,c,p;super(),et.add(this),mn.set(this,void 0),this.flex_columns=l.parseArray(e.flexColumns,hv),this.fixed_columns=l.parseArray(e.fixedColumns,mv),C(this,mn,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new _(e.navigationEndpoint));let d=(p=(c=(a=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseEndpointContextSupportedConfigs)===null||c===void 0?void 0:c.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(d||this.flex_columns.find(h=>{var y,x,w,T;return((T=(w=(x=(y=h.title.endpoint)===null||y===void 0?void 0:y.payload)===null||x===void 0?void 0:x.browseEndpointContextSupportedConfigs)===null||w===void 0?void 0:w.browseEndpointContextMusicConfig)===null||T===void 0?void 0:T.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(d="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),d){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",f(this,et,"m",Fw).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",f(this,et,"m",jw).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",f(this,et,"m",Bw).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",f(this,et,"m",Dw).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",f(this,et,"m",Lw).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",f(this,et,"m",Ow).call(this);break;default:this.flex_columns[1]?f(this,et,"m",Mw).call(this):f(this,et,"m",Ng).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,We)),Reflect.has(e,"badges")&&(this.badges=l.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu,L)),Reflect.has(e,"overlay")&&(this.overlay=l.parseItem(e.overlay,Nt))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n(cp,"MusicResponsiveListItem");mn=new WeakMap,et=new WeakSet,Ng=n(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),Mw=n(function(){var e,i,o,r,a,c,p;switch((p=(c=(a=(r=(o=(i=(e=this.flex_columns.at(0))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.watchEndpointMusicSupportedConfigs)===null||c===void 0?void 0:c.watchEndpointMusicConfig)===null||p===void 0?void 0:p.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",f(this,et,"m",Vw).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",f(this,et,"m",Aw).call(this);break;default:f(this,et,"m",Ng).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),Aw=n(function(){var e,i,o,r,a,c,p,d,v,h,y,x,w,T,S;this.id=f(this,mn,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let V=((a=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(B=>/^\d+$/.test(B.text.replace(/:/g,""))))===null||a===void 0?void 0:a.text)||((p=(c=this.fixed_columns.first())===null||c===void 0?void 0:c.title)===null||p===void 0?void 0:p.toString());V&&(this.duration={text:V,seconds:Ce(V)});let O=((v=(d=this.flex_columns.at(1))===null||d===void 0?void 0:d.title.runs)===null||v===void 0?void 0:v.find(B=>Je(B)&&B.endpoint&&B.endpoint.payload.browseId.startsWith("MPR")))||((y=(h=this.flex_columns.at(2))===null||h===void 0?void 0:h.title.runs)===null||y===void 0?void 0:y.find(B=>Je(B)&&B.endpoint&&B.endpoint.payload.browseId.startsWith("MPR")));O&&Je(O)&&(this.album={id:(w=(x=O.endpoint)===null||x===void 0?void 0:x.payload)===null||w===void 0?void 0:w.browseId,name:O.text,endpoint:O.endpoint});let oe=(S=(T=this.flex_columns.at(1))===null||T===void 0?void 0:T.title.runs)===null||S===void 0?void 0:S.filter(B=>Je(B)&&B.endpoint&&B.endpoint.payload.browseId.startsWith("UC"));oe&&(this.artists=oe.map(B=>{var ne,ce;return{name:B.text,channel_id:Je(B)?(ce=(ne=B.endpoint)===null||ne===void 0?void 0:ne.payload)===null||ce===void 0?void 0:ce.browseId:void 0,endpoint:Je(B)?B.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),Vw=n(function(){var e,i,o,r,a,c,p,d,v,h;this.id=f(this,mn,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(w=>w.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let y=(a=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||a===void 0?void 0:a.filter(w=>Je(w)&&w.endpoint&&w.endpoint.payload.browseId.startsWith("UC"));y&&(this.authors=y.map(w=>{var T,S;return{name:w.text,channel_id:Je(w)?(S=(T=w.endpoint)===null||T===void 0?void 0:T.payload)===null||S===void 0?void 0:S.browseId:void 0,endpoint:Je(w)?w.endpoint:void 0}}));let x=((p=(c=this.flex_columns[1].title.runs)===null||c===void 0?void 0:c.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((h=(v=(d=this.fixed_columns.first())===null||d===void 0?void 0:d.title.runs)===null||v===void 0?void 0:v.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||h===void 0?void 0:h.text);x&&(this.duration={text:x,seconds:Ce(x)})},"_MusicResponsiveListItem_parseVideo"),Bw=n(function(){var e,i,o,r,a,c;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title,this.subscribers=((c=(a=(r=this.subtitle)===null||r===void 0?void 0:r.runs)===null||a===void 0?void 0:a.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||c===void 0?void 0:c.text)||""},"_MusicResponsiveListItem_parseArtist"),Dw=n(function(){var e,i,o,r;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((r=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(a=>/^\d+(,\d+)? songs?$/i.test(a.text)))===null||r===void 0?void 0:r.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),Lw=n(function(){var e,i;this.id=f(this,mn,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),Ow=n(function(){var e,i;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),Fw=n(function(){var e,i,o,r,a,c,p,d,v;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let h=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(y=>Je(y)&&y.endpoint&&y.endpoint.payload.browseId.startsWith("UC"));h&&Je(h)&&(this.author={name:h.text,channel_id:(c=(a=h.endpoint)===null||a===void 0?void 0:a.payload)===null||c===void 0?void 0:c.browseId,endpoint:h.endpoint}),this.year=(v=(d=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||d===void 0?void 0:d.find(y=>/^[12][0-9]{3}$/.test(y.text)))===null||v===void 0?void 0:v.text},"_MusicResponsiveListItem_parseAlbum"),jw=n(function(){var e,i,o,r,a,c,p,d;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let v=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(y=>y.text.match(/\d+ (song|songs)/));this.item_count=v?v.text:void 0;let h=(c=(a=this.flex_columns.at(1))===null||a===void 0?void 0:a.title.runs)===null||c===void 0?void 0:c.find(y=>Je(y)&&y.endpoint&&y.endpoint.payload.browseId.startsWith("UC"));h&&Je(h)&&(this.author={name:h.text,channel_id:(d=(p=h.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId,endpoint:h.endpoint})},"_MusicResponsiveListItem_parsePlaylist");cp.type="MusicResponsiveListItem";var fi=cp;var pp=class extends s{constructor(e){var i,o,r,a,c,p,d,v,h,y,x,w,T,S,V,O,oe,B,ne,ce,fe,_e;switch(super(),this.title=new u(e.title),this.endpoint=new _(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((a=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.videoId),this.subtitle=new u(e.subtitle),this.badges=l.parse(e.subtitleBadges),(v=(d=(p=(c=this.endpoint)===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||d===void 0?void 0:d.browseEndpointContextMusicConfig)===null||v===void 0?void 0:v.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((y=(h=this.endpoint)===null||h===void 0?void 0:h.metadata)===null||y===void 0?void 0:y.api_url)==="/next"?this.item_type="endpoint":!((x=this.subtitle.runs)===null||x===void 0)&&x[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((T=(w=this.subtitle.runs)===null||w===void 0?void 0:w.find(H=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(H.text)))===null||T===void 0?void 0:T.text)||"";else if(this.item_type=="playlist"){let H=(S=this.subtitle.runs)===null||S===void 0?void 0:S.find(G=>G.text.match(/\d+ songs|song/));this.item_count=H?H.text:null}else if(this.item_type=="album"){let H=(V=this.subtitle.runs)===null||V===void 0?void 0:V.filter(G=>{var $,Z;return(Z=($=G.endpoint)===null||$===void 0?void 0:$.payload)===null||Z===void 0?void 0:Z.browseId.startsWith("UC")});H&&(this.artists=H.map(G=>{var $,Z;return{name:G.text,channel_id:(Z=($=G.endpoint)===null||$===void 0?void 0:$.payload)===null||Z===void 0?void 0:Z.browseId,endpoint:G.endpoint}})),this.year=(O=this.subtitle.runs)===null||O===void 0?void 0:O.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((B=(oe=this===null||this===void 0?void 0:this.subtitle.runs)===null||oe===void 0?void 0:oe.find(G=>G==null?void 0:G.text.match(/(.*?) views/)))===null||B===void 0?void 0:B.text)||"N/A";let H=(ne=this.subtitle.runs)===null||ne===void 0?void 0:ne.find(G=>{var $,Z,Se;return(Se=(Z=($=G.endpoint)===null||$===void 0?void 0:$.payload)===null||Z===void 0?void 0:Z.browseId)===null||Se===void 0?void 0:Se.startsWith("UC")});H&&(this.author={name:H==null?void 0:H.text,channel_id:(fe=(ce=H==null?void 0:H.endpoint)===null||ce===void 0?void 0:ce.payload)===null||fe===void 0?void 0:fe.browseId,endpoint:H==null?void 0:H.endpoint})}else if(this.item_type=="song"){let H=(_e=this.subtitle.runs)===null||_e===void 0?void 0:_e.filter(G=>{var $,Z;return(Z=($=G.endpoint)===null||$===void 0?void 0:$.payload)===null||Z===void 0?void 0:Z.browseId.startsWith("UC")});H&&(this.artists=H.map(G=>{var $,Z;return{name:G==null?void 0:G.text,channel_id:(Z=($=G==null?void 0:G.endpoint)===null||$===void 0?void 0:$.payload)===null||Z===void 0?void 0:Z.browseId,endpoint:G==null?void 0:G.endpoint}}))}this.thumbnail=g.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Nt),this.menu=l.parseItem(e.menu,L)}};n(pp,"MusicTwoRowItem");pp.type="MusicTwoRowItem";var _v=pp;var dp=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,pv),this.contents=l.parseArray(e.contents,[_v,fi,dv,fv]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(dp,"MusicCarouselShelf");dp.type="MusicCarouselShelf";var Yw=dp;var fp=class extends s{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};n(fp,"MusicDescriptionShelf");fp.type="MusicDescriptionShelf";var vv=fp;var mp=class extends s{constructor(e){var i,o,r,a,c,p,d,v,h;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(x=>/^[12][0-9]{3}$/.test(x.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((a=(r=this.second_subtitle.runs)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.text)||"",this.total_duration=((p=(c=this.second_subtitle.runs)===null||c===void 0?void 0:c[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=g.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=l.parseArray(e.subtitleBadges);let y=(d=this.subtitle.runs)===null||d===void 0?void 0:d.find(x=>{var w,T;return(T=(w=x==null?void 0:x.endpoint)===null||w===void 0?void 0:w.payload)===null||T===void 0?void 0:T.browseId.startsWith("UC")});y&&(this.author={name:y.text,channel_id:(h=(v=y.endpoint)===null||v===void 0?void 0:v.payload)===null||h===void 0?void 0:h.browseId,endpoint:y.endpoint}),this.menu=l.parseItem(e.menu)}};n(mp,"MusicDetailHeader");mp.type="MusicDetailHeader";var Uw=mp;var hp=class extends s{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n(hp,"MusicDownloadStateBadge");hp.type="MusicDownloadStateBadge";var Ww=hp;var _p=class extends s{constructor(e){super(),this.header=l.parseItem(e.header)}};n(_p,"MusicEditablePlaylistDetailHeader");_p.type="MusicEditablePlaylistDetailHeader";var Jw=_p;var vp=class extends s{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?l.parseItem(e,rn):null}};n(vp,"MusicElementHeader");vp.type="MusicElementHeader";var Gw=vp;var xp=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};n(xp,"MusicHeader");xp.type="MusicHeader";var Hw=xp;var gp=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=l.parseItem(e.thumbnail,We)}};n(gp,"MusicImmersiveHeader");gp.type="MusicImmersiveHeader";var zw=gp;var yp=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new _(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(yp,"ActionButton");yp.type="ActionButton";var bp=class{constructor(e){this.image=g.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new yp(i))}};n(bp,"Panel");bp.type="Panel";var wp=class extends s{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new bp(i))}};n(wp,"MusicLargeCardItemCarousel");wp.type="MusicLargeCardItemCarousel";var $w=wp;var Tp=class extends s{constructor(e){var i,o,r;super(),this.playlist_id=e.playlistId,this.contents=l.parseArray(e.contents,fi),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(Tp,"MusicPlaylistShelf");Tp.type="MusicPlaylistShelf";var Kw=Tp;var kp=class extends s{constructor(e){var i,o,r,a,c;super(),this.title=new u(e.title),this.thumbnail=g.fromResponse(e.thumbnail),this.endpoint=new _(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:Ce(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(v=>{var h,y,x;return(x=(y=(h=v.endpoint)===null||h===void 0?void 0:h.payload)===null||y===void 0?void 0:y.browseId)===null||x===void 0?void 0:x.startsWith("MPR")}),d=(o=new u(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(v=>{var h,y,x;return(x=(y=(h=v.endpoint)===null||h===void 0?void 0:h.payload)===null||y===void 0?void 0:y.browseId)===null||x===void 0?void 0:x.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(a=(r=p.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseId,name:p.text,year:(c=new u(e.longBylineText).runs)===null||c===void 0?void 0:c.slice(-1)[0].text,endpoint:p.endpoint}),d&&(this.artists=d.map(v=>{var h,y;return{name:v.text,channel_id:(y=(h=v.endpoint)===null||h===void 0?void 0:h.payload)===null||y===void 0?void 0:y.browseId,endpoint:v.endpoint}})),this.badges=l.parseArray(e.badges),this.menu=l.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};n(kp,"PlaylistPanelVideo");kp.type="PlaylistPanelVideo";var Yt=kp;var Ip=class extends s{constructor(e){super(),this.primary=l.parseItem(e.primaryRenderer,Yt),Reflect.has(e,"counterpart")&&(this.counterpart=ee(e.counterpart.map(i=>l.parseItem(i.counterpartRenderer,Yt))||[]))}};n(Ip,"PlaylistPanelVideoWrapper");Ip.type="PlaylistPanelVideoWrapper";var xv=Ip;var Sp=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=l.parseArray(e.contents,[xv,Yt,sh]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(Sp,"PlaylistPanel");Sp.type="PlaylistPanel";var gv=Sp;var Cp=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,gv)}};n(Cp,"MusicQueue");Cp.type="MusicQueue";var yv=Cp;var Ep=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,We),this.buttons=l.parseArray(e.buttons,[ye,fn,L]),this.title=new Text(e.title),this.subtitle=new Text(e.subtitle),this.strapline_text_one=new Text(e.straplineTextOne),this.strapline_thumbnail=l.parseItem(e.straplineThumbnail,We),this.second_subtitle=new Text(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=l.parseArray(e.subtitleBadge,dn)),Reflect.has(e,"description")&&(this.description=l.parseItem(e.description,vv))}};n(Ep,"MusicResponsiveHeader");Ep.type="MusicResponsiveHeader";var qw=Ep;var Np=class extends s{constructor(e){var i,o,r,a;super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents,fi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new _(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((a=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=l.parseItem(e.bottomButton,k)),Reflect.has(e,"subheaders")&&(this.subheaders=l.parseArray(e.subheaders))}};n(Np,"MusicShelf");Np.type="MusicShelf";var Xw=Np;var Pp=class extends s{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=l.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};n(Pp,"MusicSideAlignedItem");Pp.type="MusicSideAlignedItem";var Qw=Pp;var Rp=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=l.parseItem(e.menu,sv)}};n(Rp,"MusicSortFilterButton");Rp.type="MusicSortFilterButton";var Zw=Rp;var Ap=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(Ap,"MusicTastebuilderShelfThumbnail");Ap.type="MusicTastebuilderShelfThumbnail";var bv=Ap;var Vp=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,bv),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=l.parseItem(e.actionButton,k),this.is_visible=e.isVisible}};n(Vp,"MusicTasteBuilderShelf");Vp.type="MusicTasteBuilderShelf";var eT=Vp;var Mp=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?g.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=l.parseItem(e.menu,L),this.foreground_thumbnail=e.foregroundThumbnail?g.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(Mp,"MusicVisualHeader");Mp.type="MusicVisualHeader";var tT=Mp;var Bp=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.video_thumbnails=g.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new _(e.navigationEndpoint),this.record_click_endpoint=new _(e.recordClickEndpoint),this.menu=l.parseItem(e.contextualMenu),this.read=e.read}};n(Bp,"Notification");Bp.type="Notification";var wv=Bp;var Dp=class extends s{constructor(e){super(),this.title=l.parseItem(e.title,v_),this.image=l.parseItem(e.image,[Yo,c_]),this.metadata=l.parseItem(e.metadata,on),this.actions=l.parseItem(e.actions,T_),this.description=l.parseItem(e.description,h_),this.attributation=l.parseItem(e.attributation,nh),this.banner=l.parseItem(e.banner,V_)}};n(Dp,"PageHeaderView");Dp.type="PageHeaderView";var Tv=Dp;var Lp=class extends s{constructor(e){super(),this.page_title=e.pageTitle,this.content=l.parseItem(e.content,Tv)}};n(Lp,"PageHeader");Lp.type="PageHeader";var Pt=Lp;var Op=class extends s{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(Op,"PageIntroduction");Op.type="PageIntroduction";var kv=Op;var Fp=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.endpoint=new _(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};n(Fp,"PivotButton");Fp.type="PivotButton";var Iv=Fp;var jp=class extends s{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:g.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new _(e.featuredChannel.navigationEndpoint),subscribe_button:l.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(jp,"PlayerAnnotationsExpanded");jp.type="PlayerAnnotationsExpanded";var Sv=jp;var Yp=class extends s{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};n(Yp,"PlayerCaptionsTracklist");Yp.type="PlayerCaptionsTracklist";var Cv=Yp;var Up=class extends s{constructor(e){super(),this.endpoint=new _(e.endpoint),this.enable_listen_first=e.enableListenFirst}};n(Up,"PlayerOverflow");Up.type="PlayerOverflow";var Ev=Up;var Wp=class extends s{constructor(e){super(),this.overflow=l.parseItem(e.overflow,Ev)}};n(Wp,"PlayerControlsOverlay");Wp.type="PlayerControlsOverlay";var iT=Wp;var Jp=class extends s{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=l.parseItem(e.proceedButton,k),this.thumbnails=g.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Jp,"PlayerErrorMessage");Jp.type="PlayerErrorMessage";var oT=Jp;var Gp=class extends s{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(Gp,"PlayerLegacyDesktopYpcOffer");Gp.type="PlayerLegacyDesktopYpcOffer";var nT=Gp;var Hp=class extends s{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n(Hp,"YpcTrailer");Hp.type="YpcTrailer";var Nv=Hp;var zp=class extends s{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=l.parseItem(e.ypcTrailer,Nv)}};n(zp,"PlayerLegacyDesktopYpcTrailer");zp.type="PlayerLegacyDesktopYpcTrailer";var $p=zp;var Kp=class extends s{constructor(e){super();let[i,o,r,a,c]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(o,10),thumbnail_height:parseInt(r,10),columns:parseInt(a,10),rows:parseInt(c,10)}}};n(Kp,"PlayerLiveStoryboardSpec");Kp.type="PlayerLiveStoryboardSpec";var Pv=Kp;var qp=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=g.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=!((o=e.liveBroadcastDetails)===null||o===void 0)&&o.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};n(qp,"PlayerMicroformat");qp.type="PlayerMicroformat";var st=qp;var Xp=class extends s{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=g.fromResponse(e.background),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new A(e.byline),this.cancel_button=l.parseItem(e.cancelButton,k),this.next_button=l.parseItem(e.nextButton,k),this.close_button=l.parseItem(e.closeButton,k)}};n(Xp,"PlayerOverlayAutoplay");Xp.type="PlayerOverlayAutoplay";var Rv=Xp;var Qp=class extends s{constructor(e){super(),this.results=l.parseArray(e.results,[b_,y_]),this.title=new u(e.title).toString()}};n(Qp,"WatchNextEndScreen");Qp.type="WatchNextEndScreen";var Av=Qp;var Zp=class extends s{constructor(e){super(),this.end_screen=l.parseItem(e.endScreen,Av),this.autoplay=l.parseItem(e.autoplay,Rv),this.share_button=l.parseItem(e.shareButton,k),this.add_to_menu=l.parseItem(e.addToMenu,L),this.fullscreen_engagement=l.parseItem(e.fullscreenEngagement),this.actions=l.parseArray(e.actions),this.browser_media_session=l.parseItem(e.browserMediaSession),this.decorated_player_bar=l.parseItem(e.decoratedPlayerBarRenderer,m_)}};n(Zp,"PlayerOverlay");Zp.type="PlayerOverlay";var Vv=Zp;var ed=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new A(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=l.parseItem(e.saveButton),this.shuffle_play_button=l.parseItem(e.shufflePlayButton),this.menu=l.parseItem(e.moreActionsMenu),this.banner=l.parseItem(e.playlistHeaderBanner)}};n(ed,"PlaylistHeader");ed.type="PlaylistHeader";var Mv=ed;var td=class extends s{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=g.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new _(e.action)}};n(td,"PlaylistInfoCardContent");td.type="PlaylistInfoCardContent";var rT=td;var id=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(id,"PlaylistMetadata");id.type="PlaylistMetadata";var Bv=id;var od=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(od,"PlaylistSidebar");od.type="PlaylistSidebar";var sT=od;var nd=class extends s{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=l.parseItem(e.menu),this.endpoint=new _(e.navigationEndpoint),this.description=new u(e.description)}};n(nd,"PlaylistSidebarPrimaryInfo");nd.type="PlaylistSidebarPrimaryInfo";var Dv=nd;var rd=class extends s{constructor(e){super(),this.owner=l.parseItem(e.videoOwner),this.button=l.parseItem(e.button)}};n(rd,"PlaylistSidebarSecondaryInfo");rd.type="PlaylistSidebarSecondaryInfo";var Lv=rd;var sd=class extends s{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new A(e.shortBylineText),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new _(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=l.parseItem(e.menu,L),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Wi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Wi))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(sd,"PlaylistVideo");sd.type="PlaylistVideo";var hn=sd;var ad=class extends s{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=l.parseArray(e.contents)}};n(ad,"PlaylistVideoList");ad.type="PlaylistVideoList";var aT=ad;var ud=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new _(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new _(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?g.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(ud,"Poll");ud.type="Poll";var uT=ud;var ld=class extends ti{constructor(e){super(e)}};n(ld,"Post");ld.type="Post";var Ov=ld;var cd=class extends s{constructor(e){super(),this.images=l.parseArray(e.images,uh)}};n(cd,"PostMultiImage");cd.type="PostMultiImage";var lT=cd;var pd=class extends s{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};n(pd,"ProductListHeader");pd.type="ProductListHeader";var cT=pd;var dd=class extends s{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=g.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new _(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=l.parseItem(e.viewButton,k)}};n(dd,"ProductListItem");dd.type="ProductListItem";var pT=dd;var fd=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(fd,"ProfileColumn");fd.type="ProfileColumn";var dT=fd;var md=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(md,"ProfileColumnStats");md.type="ProfileColumnStats";var fT=md;var hd=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};n(hd,"ProfileColumnStatsEntry");hd.type="ProfileColumnStatsEntry";var mT=hd;var _d=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail)}};n(_d,"ProfileColumnUserInfo");_d.type="ProfileColumnUserInfo";var hT=_d;var vd=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};n(vd,"Quiz");vd.type="Quiz";var _T=vd;var xd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new g(i)),this.button=l.parseItem(e.button,k),this.surface=e.surface}};n(xd,"RecognitionShelf");xd.type="RecognitionShelf";var vT=xd;var gd=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=g.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new _(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(gd,"ReelItem");gd.type="ReelItem";var _n=gd;var yd=class extends s{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=g.fromResponse(e.channelThumbnail),this.author=new A(e.channelNavigationEndpoint,void 0)}};n(yd,"ReelPlayerHeader");yd.type="ReelPlayerHeader";var Fv=yd;var bd=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,F_),this.reel_player_header_supported_renderers=l.parseItem(e.reelPlayerHeaderSupportedRenderers,Fv),this.menu=l.parseItem(e.menu,L),this.next_item_button=l.parseItem(e.nextItemButton,k),this.prev_item_button=l.parseItem(e.prevItemButton,k),this.subscribe_button_renderer=l.parseItem(e.subscribeButtonRenderer,k),this.style=e.style,this.view_comments_button=l.parseItem(e.viewCommentsButton,k),this.share_button=l.parseItem(e.shareButton,k),this.pivot_button=l.parseItem(e.pivotButton,Iv),this.info_panel=l.parseItem(e.infoPanel,B_)}};n(bd,"ReelPlayerOverlay");bd.type="ReelPlayerOverlay";var xT=bd;var wd=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};n(wd,"RelatedChipCloud");wd.type="RelatedChipCloud";var jv=wd;var Td=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.contents=l.parseArray(e.contents)}};n(Td,"RichGrid");Td.type="RichGrid";var mi=Td;var kd=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};n(kd,"RichItem");kd.type="RichItem";var gT=kd;var Id=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Id,"RichListHeader");Id.type="RichListHeader";var yT=Id;var Sd=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new _(e.endpoint)}};n(Sd,"RichMetadata");Sd.type="RichMetadata";var Cd=Sd;var Ed=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Ed,"RichMetadataRow");Ed.type="RichMetadataRow";var Nd=Ed;var Pd=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};n(Pd,"RichSection");Pd.type="RichSection";var bT=Pd;var Rd=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new _(e.endpoint))}};n(Rd,"RichShelf");Rd.type="RichShelf";var Yv=Rd;var Ad=class extends s{constructor(e){super(),this.endpoint=new _(e.endpoint),this.search_button=l.parseItem(e.searchButton,k),this.clear_button=l.parseItem(e.clearButton,k),this.placeholder_text=new u(e.placeholderText)}};n(Ad,"SearchBox");Ad.type="SearchBox";var wT=Ad;var Vd=class extends s{constructor(e){super(),this.label=new u(e.label),this.endpoint=new _(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(Vd,"SearchFilter");Vd.type="SearchFilter";var Uv=Vd;var Md=class extends s{constructor(e){super(),this.title=new u(e.title),this.filters=l.parseArray(e.filters,Uv)}};n(Md,"SearchFilterGroup");Md.type="SearchFilterGroup";var vn=Md;var Bd=class extends s{constructor(e){super(),this.title=new u(e.title),this.groups=l.parseArray(e.groups,vn)}};n(Bd,"SearchFilterOptionsDialog");Bd.type="SearchFilterOptionsDialog";var TT=Bd;var Dd=class extends s{constructor(e){super(),this.chip_bar=l.parseItem(e.chipBar,zo),this.search_filter_button=l.parseItem(e.searchFilterButton,k)}};n(Dd,"SearchHeader");Dd.type="SearchHeader";var Wv=Dd;var Ld=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=l.parseArray(e.groups,vn)),Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,ye))}};n(Ld,"SearchSubMenu");Ld.type="SearchSubMenu";var Jv=Ld;var Od=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Od,"SearchSuggestionsSection");Od.type="SearchSuggestionsSection";var kT=Od;var Fd=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Fd,"SecondarySearchContainer");Fd.type="SecondarySearchContainer";var IT=Fd;var jd=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,[ye,k]),this.dislike_button=l.parseItem(e.dislikeButton,[ye,k])}};n(jd,"SegmentedLikeDislikeButton");jd.type="SegmentedLikeDislikeButton";var Xi=jd;var Yd=class extends s{constructor(e){if(super(),this.like_button=l.parseItem(e.likeButtonViewModel,j_),this.dislike_button=l.parseItem(e.dislikeButtonViewModel,__),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};n(Yd,"SegmentedLikeDislikeButtonView");Yd.type="SegmentedLikeDislikeButtonView";var Qi=Yd;var Ud=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new _(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new _(e.disableServiceEndpoint)),this.item_id=e.itemId}};n(Ud,"SettingBoolean");Ud.type="SettingBoolean";var ST=Ud;var Wd=class extends s{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(Wd,"SettingsCheckbox");Wd.type="SettingsCheckbox";var Gv=Wd;var Jd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new _(e.enableServiceEndpoint),this.disable_endpoint=new _(e.disableServiceEndpoint)}};n(Jd,"SettingsSwitch");Jd.type="SettingsSwitch";var xn=Jd;var Gd=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=l.parseArray(e.options,[xn,Mo,l_,Gv,Yh]))}};n(Gd,"SettingsOptions");Gd.type="SettingsOptions";var gn=Gd;var Hd=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items,Zo)}get contents(){return this.items}};n(Hd,"SettingsSidebar");Hd.type="SettingsSidebar";var Hv=Hd;var zd=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=ie(e.actionMenu,L),this.original_post=ie(e.originalPost,ti),this.id=e.postId,this.endpoint=new _(e.navigationEndpoint),this.expand_button=ie(e.expandButton,k),this.author=new A(e.displayName,void 0)}};n(zd,"SharedPost");zd.type="SharedPost";var zv=zd;var $d=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new _(e.endpoint)),this.content=l.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=l.parseItem(e.playAllButton,k))}};n($d,"Shelf");$d.type="Shelf";var yn=$d;var Kd=class extends s{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new _(e.correctedQueryEndpoint),this.original_query_endpoint=new _(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};n(Kd,"ShowingResultsFor");Kd.type="ShowingResultsFor";var CT=Kd;var qd=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new _(e.command)}};n(qd,"SimpleCardContent");qd.type="SimpleCardContent";var ET=qd;var Xd=class extends s{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};n(Xd,"SimpleCardTeaser");Xd.type="SimpleCardTeaser";var NT=Xd;var Qd=class extends s{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};n(Qd,"SimpleTextSection");Qd.type="SimpleTextSection";var PT=Qd;var Zd=class extends s{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new _(e.navigationEndpoint)}};n(Zd,"SingleActionEmergencySupport");Zd.type="SingleActionEmergencySupport";var RT=Zd;var ef=class extends s{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new _(e.endpoint),this.content=l.parseItem(e.content,[be,yv,mi])}};n(ef,"Tab");ef.type="Tab";var Ae=ef;var tf=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ae)}};n(tf,"SingleColumnBrowseResults");tf.type="SingleColumnBrowseResults";var $v=tf;var of=class extends s{constructor(e){super(),this.contents=l.parse(e)}};n(of,"SingleColumnMusicWatchNextResults");of.type="SingleColumnMusicWatchNextResults";var AT=of;var nf=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.style=e.style}};n(nf,"SingleHeroImage");nf.type="SingleHeroImage";var VT=nf;var rf=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new _(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,Be)}};n(rf,"SlimOwner");rf.type="SlimOwner";var MT=rf;var sf=class extends s{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=l.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};n(sf,"SlimVideoMetadata");sf.type="SlimVideoMetadata";var BT=sf;var af=class extends s{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new _(e.navigationEndpoint)}};n(af,"SubFeedOption");af.type="SubFeedOption";var Kv=af;var uf=class extends s{constructor(e){super(),this.title=new u(e.title),this.options=l.parseArray(e.options,Kv)}};n(uf,"SubFeedSelector");uf.type="SubFeedSelector";var DT=uf;var lf=class extends s{constructor(e){super(),this.contents=l.parse(e)}};n(lf,"Tabbed");lf.type="Tabbed";var LT=lf;var cf=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ae)}};n(cf,"TabbedSearchResults");cf.type="TabbedSearchResults";var OT=cf;var pf=class extends s{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};n(pf,"TextHeader");pf.type="TextHeader";var FT=pf;var df=class extends s{constructor(e){super(),this.landscape=g.fromResponse(e.landscape),this.portrait=g.fromResponse(e.portrait)}};n(df,"ThumbnailLandscapePortrait");df.type="ThumbnailLandscapePortrait";var jT=df;var ff=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};n(ff,"ThumbnailOverlayEndorsement");ff.type="ThumbnailOverlayEndorsement";var YT=ff;var mf=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(mf,"ThumbnailOverlayHoverText");mf.type="ThumbnailOverlayHoverText";var UT=mf;var hf=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};n(hf,"ThumbnailOverlayInlineUnplayable");hf.type="ThumbnailOverlayInlineUnplayable";var WT=hf;var _f=class extends s{constructor(e){super(),this.text=new u(e.text)}};n(_f,"ThumbnailOverlayLoadingPreview");_f.type="ThumbnailOverlayLoadingPreview";var JT=_f;var vf=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};n(vf,"ThumbnailOverlayNowPlaying");vf.type="ThumbnailOverlayNowPlaying";var GT=vf;var xf=class extends s{constructor(e){super(),this.hack=e.hack}};n(xf,"ThumbnailOverlayPinking");xf.type="ThumbnailOverlayPinking";var HT=xf;var gf=class extends s{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};n(gf,"ThumbnailOverlayPlaybackStatus");gf.type="ThumbnailOverlayPlaybackStatus";var zT=gf;var yf=class extends s{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(yf,"ThumbnailOverlayResumePlayback");yf.type="ThumbnailOverlayResumePlayback";var $T=yf;var bf=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(bf,"ThumbnailOverlaySidePanel");bf.type="ThumbnailOverlaySidePanel";var KT=bf;var wf=class extends s{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new _(e.toggledServiceEndpoint),this.untoggled_endpoint=new _(e.untoggledServiceEndpoint)}};n(wf,"ThumbnailOverlayToggleButton");wf.type="ThumbnailOverlayToggleButton";var qT=wf;var Tf=class extends s{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};n(Tf,"TimedMarkerDecoration");Tf.type="TimedMarkerDecoration";var XT=Tf;var kf=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(kf,"TitleAndButtonListHeader");kf.type="TitleAndButtonListHeader";var QT=kf;var If=class extends s{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new _(e.defaultServiceEndpoint),this.toggled_endpoint=new _(e.toggledServiceEndpoint)}};n(If,"ToggleMenuServiceItem");If.type="ToggleMenuServiceItem";var ZT=If;var Sf=class extends s{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new _(i)),accept:new _(e.promoConfig.acceptCommand),dismiss:new _(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(Sf,"Tooltip");Sf.type="Tooltip";var e1=Sf;var Cf=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=g.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=l.parseItem(e.subscribeButton,Be),this.endpoint=new _(e.navigationEndpoint)}};n(Cf,"TopicChannelDetails");Cf.type="TopicChannelDetails";var t1=Cf;var Ef=class extends s{constructor(e){super(),this.tabs=l.parse(e.tabs),this.secondary_contents=l.parse(e.secondaryContents)}};n(Ef,"TwoColumnBrowseResults");Ef.type="TwoColumnBrowseResults";var Rt=Ef;var Nf=class extends s{constructor(e){super(),this.primary_contents=l.parse(e.primaryContents),this.secondary_contents=l.parse(e.secondaryContents)}};n(Nf,"TwoColumnSearchResults");Nf.type="TwoColumnSearchResults";var qv=Nf;var Xv,Pg,Pf=class extends s{constructor(e){var i,o,r,a,c;super(),Xv.add(this),this.results=l.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=l.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=l.parseItem(e==null?void 0:e.conversationBar);let p=(r=e.playlist)===null||r===void 0?void 0:r.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((a=p.shortBylineText)===null||a===void 0)&&a.simpleText?new u(p.shortBylineText):new A(p.longBylineText),contents:l.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:l.parseItem(p.menu,L)});let d=(c=e.autoplay)===null||c===void 0?void 0:c.autoplay;d&&(this.autoplay={sets:d.sets.map(v=>f(this,Xv,"m",Pg).call(this,v))},d.modifiedSets&&(this.autoplay.modified_sets=d.modifiedSets.map(v=>f(this,Xv,"m",Pg).call(this,v))),d.countDownSecs&&(this.autoplay.count_down_secs=d.countDownSecs))}};n(Pf,"TwoColumnWatchNextResults");Xv=new WeakSet,Pg=n(function(e){let i={autoplay_video:new _(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new _(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Pf.type="TwoColumnWatchNextResults";var Qv=Pf;var Rf=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.call_to_action=l.parseItem(e.callToAction),this.sections=l.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};n(Rf,"UniversalWatchCard");Rf.type="UniversalWatchCard";var Zv=Rf;var Af=class extends s{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=l.parseItem(e.actionButton,k),this.dismiss_button=l.parseItem(e.dismissButton,k),this.is_visible=e.isVisible}};n(Af,"UpsellDialog");Af.type="UpsellDialog";var i1=Af;var Vf=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};n(Vf,"VerticalList");Vf.type="VerticalList";var o1=Vf;var Mf=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new _(e.viewAllEndpoint)}get contents(){return this.items}};n(Mf,"VerticalWatchCardList");Mf.type="VerticalWatchCardList";var n1=Mf;var Bf=class extends s{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=g.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new _(e.action)}};n(Bf,"VideoInfoCardContent");Bf.type="VideoInfoCardContent";var r1=Bf;var Df=class extends s{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new A(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(Df,"VideoOwner");Df.type="VideoOwner";var bn=Df;var Lf=class extends s{constructor(e){var i,o,r,a;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new u((a=(r=e.viewCount)===null||r===void 0?void 0:r.videoViewCountRenderer)===null||a===void 0?void 0:a.shortViewCount),this.badges=l.parseArray(e.badges,ze),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=l.parseItem(e.videoActions,L)}};n(Lf,"VideoPrimaryInfo");Lf.type="VideoPrimaryInfo";var ex=Lf;var Of=class extends s{constructor(e){super(),this.owner=l.parseItem(e.owner,bn),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=l.parseItem(e.subscribeButton,[Be,k]),this.metadata=l.parseItem(e.metadataRowContainer,lv),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(Of,"VideoSecondaryInfo");Of.type="VideoSecondaryInfo";var Ff=Of;var jf=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:Ce(e.lengthText.simpleText)},this.style=e.style}};n(jf,"WatchCardCompactVideo");jf.type="WatchCardCompactVideo";var tx=jf;var Yf=class extends s{constructor(e){var i;super(),this.endpoint=new _(e.navigationEndpoint),this.call_to_action_button=l.parseItem(e.callToActionButton),this.hero_image=l.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(Yf,"WatchCardHeroVideo");Yf.type="WatchCardHeroVideo";var s1=Yf;var Uf=class extends s{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new _(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new A(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(Uf,"WatchCardRichHeader");Uf.type="WatchCardRichHeader";var a1=Uf;var Wf=class extends s{constructor(e){super(),this.lists=l.parseArray(e.lists)}};n(Wf,"WatchCardSectionSequence");Wf.type="WatchCardSectionSequence";var u1=Wf;var Jf=class extends Rt{constructor(e){super(e)}};n(Jf,"WatchNextTabbedResults");Jf.type="WatchNextTabbedResults";var l1=Jf;var Gf=class extends s{constructor(e){var i,o;super(),this.title=e.title,this.content=l.parseItem(e.content,be),this.endpoint=new _(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n(Gf,"AnchoredSection");Gf.type="AnchoredSection";var ix=Gf;var Hf,zf=class extends s{constructor(e){super(),Hf.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=g.fromResponse(e.avatar),this.block_button=l.parseItem(e.blockButton,[ye]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return I(this,void 0,void 0,function*(){if(!f(this,Hf,"f"))throw new b("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new b("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new b("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(f(this,Hf,"f"),{parse:!1})})}setActions(e){C(this,Hf,e,"f")}};n(zf,"KidsBlocklistPickerItem");Hf=new WeakMap;zf.type="KidsBlocklistPickerItem";var ox=zf;var $f=class extends s{constructor(e){super(),this.title=new u(e.title),this.child_rows=l.parse(e.childRows,!0,[ox]),this.done_button=l.parseItem(e.doneButton,[k]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};n($f,"KidsBlocklistPicker");$f.type="KidsBlocklistPicker";var c1=$f;var Kf=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new _(e.endpoint)}};n(Kf,"KidsCategoryTab");Kf.type="KidsCategoryTab";var nx=Kf;var qf=class extends s{constructor(e){super(),this.category_tabs=l.parseArray(e.categoryTabs,nx),this.privacy_button=l.parseItem(e.privacyButtonRenderer,k)}};n(qf,"KidsCategoriesHeader");qf.type="kidsCategoriesHeader";var p1=qf;var Xf=class extends s{constructor(e){super(),this.anchors=l.parseArray(e.anchors,ix)}};n(Xf,"KidsHomeScreen");Xf.type="kidsHomeScreen";var d1=Xf;var Lg={};Te(Lg,{camelToSnake:()=>Zi,createRuntimeClass:()=>w1,generateRuntimeClass:()=>em,generateTypescriptClass:()=>sx,inferType:()=>rx,introspect:()=>Vg,isArrayType:()=>y1,isIgnoredKey:()=>b1,isMiscType:()=>g1,isRenderer:()=>Ag,isRendererList:()=>x1,mergeKeyInfo:()=>Qf,parse:()=>Dg,toParser:()=>Bg,toTypeDeclaration:()=>Mg});var XI=new Set(["trackingParams","accessibility","accessibilityData"]),Rg={};function Zi(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(Zi,"camelToSnake");function rx(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=Ag(e))return Rg[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=x1(e)){for(let[r,a]of Object.entries(i))Rg[r]=a;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=g1(t,e))||(i=y1(e)))return i}let o=typeof e;return o==="object"?{type:"object",keys:Object.entries(e).map(([r,a])=>[r,rx(r,a)]),optional:!1}:{type:"primative",typeof:[o],optional:!1}}n(rx,"inferType");function x1(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(o=>Ag(o))?Object.fromEntries(t.map(o=>{let r=Reflect.ownKeys(o)[0].toString();return[tm(r),o[r]]})):!1}n(x1,"isRendererList");function g1(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new _(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}n(g1,"isMiscType");function Ag(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let o=i[0].toString();if(o.endsWith("Renderer")||o.endsWith("Model"))return tm(o)}return!1}n(Ag,"isRenderer");function y1(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["never"],optional:!1},optional:!1};let e=t.map(a=>typeof a);if(!e.every(a=>a===e[0]))return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!1},optional:!1};let o=e[0];if(o!=="object")return{type:"array",array_type:"primitive",items:{type:"primative",typeof:[o],optional:!1},optional:!1};let r=[];for(let a=0;a<t.length;a++){let c=Object.entries(t[a]).map(([p,d])=>[p,rx(p,d)]);if(a===0){r=c;continue}r=Qf(r,c).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:r,optional:!1},optional:!1}}n(y1,"isArrayType");function QI(t){if(typeof t!="object"||t===null)throw new b("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!b1(i)).filter(i=>typeof i=="string").map(i=>{let o=Reflect.get(t,i),r=rx(i,o);return[i,r]})}n(QI,"introspectKeysFirstPass");function ZI(t){var e;let o=t.filter(([,p])=>{var d;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((d=p.endpoint)===null||d===void 0?void 0:d.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,d])=>p.type!=="misc"||d.type!=="misc"||p.misc_type!=="Text"||d.misc_type!=="Text"?0:d.text.length-p.text.length),r=new Set,a=o[0],c;if(a){r.add(a[0]);let d=t.map(([w])=>w).filter(w=>w.endsWith("Badges")||w==="badges"),h=(e=d.filter(w=>w.startsWith("owner")||w.startsWith("author"))[0])!==null&&e!==void 0?e:d[0],y=t.find(([w])=>w===h),x=y?y[1].type==="array"&&y[1].array_type==="renderer"&&Reflect.has(y[1].renderers,"MetadataBadge"):!1;x&&h&&r.add(h),c={type:"misc",misc_type:"Author",optional:!1,params:[a[0],x?h:void 0]}}return c&&t.push(["author",c]),t.filter(([p])=>!r.has(p))}n(ZI,"introspectKeysSecondPass");function eS(t){let e=QI(t);return ZI(e)}n(eS,"introspect2");function Vg(t){let e=eS(t),i=new Map;for(let[,r]of e)if(r.type==="renderer"||r.type==="array"&&r.array_type==="renderer")for(let a of r.renderers){let c=Rg[a];c&&i.set(a,c)}let o=Array.from(i).filter(([r])=>!ax(r));return{key_info:e,unimplemented_dependencies:o}}n(Vg,"introspect");function b1(t){return typeof t=="string"&&XI.has(t)}n(b1,"isIgnoredKey");function w1(t,e,i){var o,r;i({error_type:"class_not_found",classname:t,key_info:e});let a=(o=n(class extends s{static set key_info(c){C(this,o,new Map(c),"f",r)}static get key_info(){return[...f(this,o,"f",r).entries()]}constructor(c){super();let{key_info:p,unimplemented_dependencies:d}=Vg(c),{resolved_key_info:v,changed_keys:h}=Qf(a.key_info,p);h.length>0&&(a.key_info=v,i({error_type:"class_changed",classname:t,key_info:a.key_info,changed_keys:h}));for(let[x,w]of d)em(x,w,i);for(let[x,w]of p){let T=Zi(x);w.type==="misc"&&w.misc_type==="NavigationEndpoint"&&(T="endpoint"),Reflect.set(this,T,Dg(x,w,c))}}},"_a"),N0(o,"node"),o.type=t,r={value:new Map},o);return a.key_info=e,Object.defineProperty(a,"name",{value:t,writable:!1}),a}n(w1,"createRuntimeClass");function em(t,e,i){let{key_info:o,unimplemented_dependencies:r}=Vg(e),a=w1(t,o,i);Og(t,a);for(let[c,p]of r)em(c,p,i);return a}n(em,"generateRuntimeClass");function sx(t,e){let i=[],o=["super();"];for(let[r,a]of e){let c=Zi(r);a.type==="misc"&&a.misc_type==="NavigationEndpoint"&&(c="endpoint"),i.push(`${c}${a.optional?"?":""}: ${Mg(a)};`),o.push(`this.${c} = ${Bg(r,a)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${o.join(`
    `)}
  }
}
`}n(sx,"generateTypescriptClass");function f1(t,e){return`{
${e.map(([i,o])=>`${" ".repeat((t+2)*2)}${Zi(i)}${o.optional?"?":""}: ${Mg(o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(f1,"toTypeDeclarationObject");function Mg(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${f1(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return f1(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ")}}n(Mg,"toTypeDeclaration");function m1(t,e,i,o){let r=[...i,o];return`{
${e.map(([a,c])=>`${" ".repeat((t+2)*2)}${Zi(a)}: ${Bg(a,c,r,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(m1,"toParserObject");function Bg(t,e,i=["data"],o=1){let r="undefined";switch(e.type){case"renderer":r=`Parser.parseItem(${i.join(".")}.${t}, ${h1(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":r=`Parser.parse(${i.join(".")}.${t}, true, ${h1(e.renderers)})`;break;case"object":r=`${i.join(".")}.${t}.map((item: any) => (${m1(o,e.items.keys,[],"item")}))`;break;case"primitive":r=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":r=m1(o,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let a=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${a} : undefined`:a}default:r=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":r=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${r} : undefined`:r}n(Bg,"toParser");function h1(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}n(h1,"toParserValidTypes");function At(t,e){let i=t;for(let o of e)i=i[o];return i}n(At,"accessDataFromKeyPath");function _1(t,e){let i=t;for(let o of e)if(Reflect.has(i,o))i=i[o];else return!1;return!0}n(_1,"hasDataFromKeyPath");function v1(t,e,i,o,r){let a={},c=[...i,t];for(let[p,d]of o)a[p]=r?Dg(p,d,e,c):void 0;return a}n(v1,"parseObject");function Dg(t,e,i,o=["data"]){let r=!e.optional||_1({data:i},[...o,t]);switch(e.type){case"renderer":return r?ie(At({data:i},[...o,t]),e.renderers.map(a=>Zf(a))):void 0;case"array":{switch(e.array_type){case"renderer":return r?Le(At({data:i},[...o,t]),!0,e.renderers.map(a=>Zf(a))):void 0;case"object":return r?At({data:i},[...o,t]).map((a,c)=>v1(`${c}`,i,[...o,t],e.items.keys,r)):void 0;case"primitive":return r?At({data:i},[...o,t]):void 0}throw new Error("Unreachable code reached! Switch missing case!")}case"object":return v1(t,i,o,e.keys,r);case"misc":switch(e.misc_type){case"NavigationEndpoint":return r?new _(At({data:i},[...o,t])):void 0;case"Text":return r?new u(At({data:i},[...o,t])):void 0;case"Thumbnail":return r?g.fromResponse(At({data:i},[...o,t])):void 0;case"Author":return!e.optional||_1({data:i},[...o,e.params[0]])?new A(At({data:i},[...o,e.params[0]]),e.params[1]?At({data:i},[...o,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":return At({data:i},[...o,t])}}n(Dg,"parse");function Qf(t,e){let i=new Map,o=new Set(t.map(([x])=>x)),r=new Set(e.map(([x])=>x)),a=e.filter(([x])=>!o.has(x)),c=t.filter(([x])=>!r.has(x)),p=t.filter(([x])=>r.has(x)),d=new Map(e);for(let[x,w]of p){let T=d.get(x);if(!!T){if(w.type!==T.type){i.set(x,{type:"primative",typeof:["unknown"],optional:!0});continue}switch(w.type){case"object":{if(T.type!=="object")continue;let{resolved_key_info:S}=Qf(w.keys,T.keys),V={type:"object",keys:S,optional:w.optional||T.optional};JSON.stringify(V)!==JSON.stringify(w)&&i.set(x,V)}break;case"renderer":{if(T.type!=="renderer")continue;let S=Object.assign(Object.assign({},w.renderers),T.renderers),V=w.optional||T.optional,O={type:"renderer",renderers:S,optional:V};JSON.stringify(Object.assign(Object.assign({},O),{renderers:Object.keys(O.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(x,O)}break;case"array":{if(T.type!=="array")continue;switch(w.array_type){case"renderer":{if(T.array_type!=="renderer"){i.set(x,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let S=Object.assign(Object.assign({},w.renderers),T.renderers),V=w.optional||T.optional,O={type:"array",array_type:"renderer",renderers:S,optional:V};JSON.stringify(Object.assign(Object.assign({},O),{renderers:Object.keys(O.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(x,O)}break;case"object":{if(T.array_type==="primitive"&&T.items.typeof.length==1&&T.items.typeof[0]==="never")continue;if(T.array_type!=="object"){i.set(x,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:S}=Qf(w.items.keys,T.items.keys),V={type:"array",array_type:"object",items:{type:"object",keys:S,optional:w.items.optional||T.items.optional},optional:w.optional||T.optional};JSON.stringify(V)!==JSON.stringify(w)&&i.set(x,V)}break;case"primitive":{if(w.items.typeof.includes("never")&&T.array_type==="object"){i.set(x,T);continue}if(T.array_type!=="primitive"){i.set(x,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let S=new Set([...T.items.typeof,...w.items.typeof]);S.size>1&&S.has("never")&&S.delete("never");let V={type:"array",array_type:"primitive",items:{type:"primative",typeof:Array.from(S),optional:w.items.optional||T.items.optional},optional:w.optional||T.optional};JSON.stringify(V)!==JSON.stringify(w)&&i.set(x,V)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}}break;case"misc":{if(T.type!=="misc")continue;switch(w.misc_type!==T.misc_type&&i.set(x,{type:"primative",typeof:["unknown"],optional:!0}),w.misc_type){case"Author":{if(T.misc_type!=="Author")break;let S=w.params[1]||T.params[1],V=w.optional||T.optional,O={type:"misc",misc_type:"Author",optional:V,params:[T.params[0],S]};JSON.stringify(O)!==JSON.stringify(w)&&i.set(x,O)}break}}break;case"primative":{if(T.type!=="primative")continue;let S={type:"primative",typeof:Array.from(new Set([...T.typeof,...w.typeof])),optional:w.optional||T.optional};JSON.stringify(S)!==JSON.stringify(w)&&i.set(x,S)}break}}}for(let[x,w]of a)i.set(x,Object.assign(Object.assign({},w),{optional:!0}));for(let[x,w]of c)i.set(x,Object.assign(Object.assign({},w),{optional:!0}));let v=t.filter(([x])=>!i.has(x));return{resolved_key_info:[...new Map([...v,...i]).entries()],changed_keys:[...i.entries()]}}n(Qf,"mergeKeyInfo");var wn=class extends s{constructor(e){var i,o,r;super(),this.contents=De(e.contents),Array.isArray(e.continuations)&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(wn,"ItemSectionContinuation");wn.type="itemSectionContinuation";var hi=class extends s{constructor(e){super(),this.endpoint=new _(e.endpoint)}};n(hi,"NavigateAction");hi.type="navigateAction";var Tn=class extends s{constructor(e){super(),this.miniplayer_command=new _(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};n(Tn,"ShowMiniplayerCommand");Tn.type="showMiniplayerCommand";var _i=class extends s{constructor(e){super(),this.target_id=e.targetId,this.contents=Le(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(_i,"ReloadContinuationItemsCommand");_i.type="reloadContinuationItemsCommand";var kn=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.contents=Le(e.contents,!0),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(kn,"SectionListContinuation");kn.type="sectionListContinuation";var In=class extends s{constructor(e){var i;super(),this.contents=Le(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(In,"MusicPlaylistShelfContinuation");In.type="musicPlaylistShelfContinuation";var Sn=class extends s{constructor(e){var i,o,r,a;super(),this.contents=De(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((a=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)||null}};n(Sn,"MusicShelfContinuation");Sn.type="musicShelfContinuation";var Cn=class extends s{constructor(e){var i;super(),this.items=Le(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n(Cn,"GridContinuation");Cn.type="gridContinuation";var En=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.contents=De(e.contents),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(En,"PlaylistPanelContinuation");En.type="playlistPanelContinuation";var eo=class extends s{constructor(e){var i,o,r;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(r=e.continuation)===null||r===void 0?void 0:r.continuation}};n(eo,"Continuation");eo.type="continuation";var vi=class extends s{constructor(e){var i,o,r,a,c,p,d,v;super(),this.actions=Le((i=e.actions)===null||i===void 0?void 0:i.map(x=>(delete x.clickTrackingParams,x)),!0)||ee([]),this.action_panel=ie(e.actionPanel),this.item_list=ie(e.itemList,Z_),this.header=ie(e.header,Q_),this.participants_list=ie(e.participantsList,tv),this.popout_message=ie(e.popoutMessage,pi),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(x=>({emoji_id:x.emojiId,shortcuts:x.shortcuts,search_terms:x.searchTerms,image:g.fromResponse(x.image),is_custom_emoji:x.isCustomEmoji})))||[];let h,y;!((r=e.continuations)===null||r===void 0)&&r[0].timedContinuationData?(y="timed",h=(a=e.continuations)===null||a===void 0?void 0:a[0].timedContinuationData):!((c=e.continuations)===null||c===void 0)&&c[0].invalidationContinuationData?(y="invalidation",h=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((d=e.continuations)===null||d===void 0)&&d[0].liveChatReplayContinuationData&&(y="replay",h=(v=e.continuations)===null||v===void 0?void 0:v[0].liveChatReplayContinuationData),this.continuation=new eo({continuation:h,type:y}),this.viewer_name=e.viewerName}};n(vi,"LiveChatContinuation");vi.type="liveChatContinuation";var Ut=class extends s{constructor(e){super(),this.request=e.request,this.token=e.token}};n(Ut,"ContinuationCommand");Ut.type="ContinuationCommand";var ux,lx=class{constructor(e,i){var o,r,a,c,p,d,v,h;if(ux.set(this,void 0),i&&C(this,ux,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.projection_type=e.projectionType,this.stereo_layout=(o=e.stereoLayout)===null||o===void 0?void 0:o.replace("STEREO_LAYOUT_",""),this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.spatial_audio_type=(r=e.spatialAudioType)===null||r===void 0?void 0:r.replace("SPATIAL_AUDIO_TYPE_",""),this.max_dvr_duration_sec=e.maxDvrDurationSec,this.target_duration_dec=e.targetDurationSec,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,this.color_info=e.colorInfo?{primaries:(a=e.colorInfo.primaries)===null||a===void 0?void 0:a.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(c=e.colorInfo.transferCharacteristics)===null||c===void 0?void 0:c.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(p=e.colorInfo.matrixCoefficients)===null||p===void 0?void 0:p.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let y=new URLSearchParams(this.cipher||this.signature_cipher),w=(d=new URLSearchParams(y.get("url")||this.url).get("xtags"))===null||d===void 0?void 0:d.split(":");if(this.language=((v=w==null?void 0:w.find(T=>T.startsWith("lang=")))===null||v===void 0?void 0:v.split("=")[1])||null,this.has_audio){this.is_drc=!!e.isDrc||!!(w!=null&&w.includes("drc=1"));let T=(h=w==null?void 0:w.find(S=>S.startsWith("acont=")))===null||h===void 0?void 0:h.split("=")[1];this.is_dubbed=T==="dubbed",this.is_descriptive=T==="descriptive",this.is_original=T==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(e){if(!e)throw new b("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,f(this,ux,"f"))}};n(lx,"Format");ux=new WeakMap;var cx=lx;var xi=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=g.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};n(xi,"VideoDetails");var to="Parser",tS=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),Yg=new Map(Object.entries(Ki)),T1=new Map,io=null,gi=n(t=>{var{classname:e}=t,i=E0(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&Y.warn(to,new b(`Something went wrong at ${e}!
This is a bug, please report it at ${F.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":Y.warn(to,new nt(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":Y.warn(to,new b(`Mutation data required for processing ${e}, but none found.
This is a bug, please report it at ${F.shim.info.bugs_url}`));break;case"mutation_data_invalid":Y.warn(to,new b(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${F.shim.info.bugs_url}`));break;case"class_not_found":Y.warn(to,new b(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${F.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${F.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${sx(e,i.key_info)}`));break;case"class_changed":Y.warn(to,`${e} changed!
The following keys where altered: ${i.changed_keys.map(([o])=>Zi(o)).join(", ")}
The class has changed to:
${sx(e,i.key_info)}`);break;default:Y.warn(to,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function iS(t){gi=t}n(iS,"setParserErrorHandler");function vt(){io=null}n(vt,"_clearMemo");function xt(){io=new Xt}n(xt,"_createMemo");function oS(t,e){if(!io)return;let i=io.get(t);if(!i)return io.set(t,[e]);i.push(e)}n(oS,"_addToMemo");function gt(){if(!io)throw new Error("Parser#getMemo() called before Parser#createMemo()");return io}n(gt,"_getMemo");function k1(t){return tS.has(t)}n(k1,"shouldIgnore");function tm(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}n(tm,"sanitizeClassName");function Zf(t){let e=Yg.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}n(Zf,"getParserByName");function ax(t){return Yg.has(t)}n(ax,"hasParser");function Og(t,e){Yg.set(t,e),T1.set(t,e)}n(Og,"addRuntimeParser");function nS(){return Object.fromEntries(T1)}n(nS,"getDynamicParsers");function rS(t){var e,i,o,r,a,c,p,d,v,h,y,x,w,T;let S={};xt();let V=Le(t.contents),O=gt();V&&(S.contents=V,S.contents_memo=O),vt(),xt();let oe=t.onResponseReceivedActions?px(t.onResponseReceivedActions):null,B=gt();oe&&(S.on_response_received_actions=oe,S.on_response_received_actions_memo=B),vt(),xt();let ne=t.onResponseReceivedEndpoints?px(t.onResponseReceivedEndpoints):null,ce=gt();ne&&(S.on_response_received_endpoints=ne,S.on_response_received_endpoints_memo=ce),vt(),xt();let fe=t.onResponseReceivedCommands?px(t.onResponseReceivedCommands):null,_e=gt();fe&&(S.on_response_received_commands=fe,S.on_response_received_commands_memo=_e),vt(),xt();let we=t.continuationContents?Fg(t.continuationContents):null,H=gt();we&&(S.continuation_contents=we,S.continuation_contents_memo=H),vt(),xt();let G=t.actions?S1(t.actions):null,$=gt();G&&(S.actions=G,S.actions_memo=$),vt(),xt();let Z=t.liveChatItemContextMenuSupportedRenderers?ie(t.liveChatItemContextMenuSupportedRenderers):null,Se=gt();Z&&(S.live_chat_item_context_menu_supported_renderers=Z,S.live_chat_item_context_menu_supported_renderers_memo=Se),vt(),xt();let Ze=t.header?Le(t.header):null,it=gt();Ze&&(S.header=Ze,S.header_memo=it),vt(),xt();let z=t.sidebar?ie(t.sidebar):null,Ve=gt();z&&(S.sidebar=z,S.sidebar_memo=Ve),vt(),xt();let kt=Le(t.items);kt&&(S.items=kt,S.items_memo=gt()),vt(),xt();let It=Le(t.entries);It&&(S.entries=It,S.entries_memo=gt()),vt(),C1(O,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations),ce&&E1(ce,(r=(o=t.frameworkUpdates)===null||o===void 0?void 0:o.entityBatchUpdate)===null||r===void 0?void 0:r.mutations);let me=t.continuation?I1(t.continuation):null;me&&(S.continuation=me);let He=t.continuationEndpoint?Fg(t.continuationEndpoint):null;He&&(S.continuation_endpoint=He);let wo=Le(t.metadata);wo&&(S.metadata=wo);let To=ie(t.microformat);To&&(S.microformat=To);let ko=ie(t.overlay);ko&&(S.overlay=ko);let Io=De(t.alerts,[Do,th]);Io.length&&(S.alerts=Io);let So=t.refinements;So&&(S.refinements=So);let Co=t.estimatedResults?parseInt(t.estimatedResults):null;Co&&(S.estimated_results=Co);let Eo=Le(t.playerOverlays);Eo&&(S.player_overlays=Eo);let No=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;No&&(S.playback_tracking=No);let Po=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:ie(t.playabilityStatus.audioOnlyPlayability,rh),error_screen:ie(t.playabilityStatus.errorScreen)}:null;if(Po&&(S.playability_status=Po),t.streamingData){let je=new Map,xe={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:jg(t.streamingData.formats,je),adaptive_formats:jg(t.streamingData.adaptiveFormats,je),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};S.streaming_data=xe}if(t.playerConfig){let je={audio_config:{loudness_db:(a=t.playerConfig.audioConfig)===null||a===void 0?void 0:a.loudnessDb,perceptual_loudness_db:(c=t.playerConfig.audioConfig)===null||c===void 0?void 0:c.perceptualLoudnessDb,enable_per_format_loudness:(p=t.playerConfig.audioConfig)===null||p===void 0?void 0:p.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((d=t.playerConfig.streamSelectionConfig)===null||d===void 0?void 0:d.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((h=(v=t.playerConfig.mediaCommonConfig)===null||v===void 0?void 0:v.dynamicReadaheadConfig)===null||h===void 0?void 0:h.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((x=(y=t.playerConfig.mediaCommonConfig)===null||y===void 0?void 0:y.dynamicReadaheadConfig)===null||x===void 0?void 0:x.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((T=(w=t.playerConfig.mediaCommonConfig)===null||w===void 0?void 0:w.dynamicReadaheadConfig)===null||T===void 0?void 0:T.readAheadGrowthRateMs)||0}}};S.player_config=je}let Ro=t.currentVideoEndpoint?new _(t.currentVideoEndpoint):null;Ro&&(S.current_video_endpoint=Ro);let Ao=t.endpoint?new _(t.endpoint):null;Ao&&(S.endpoint=Ao);let se=ie(t.captions,Cv);se&&(S.captions=se);let ot=t.videoDetails?new xi(t.videoDetails):null;ot&&(S.video_details=ot);let Re=De(t.annotations,Sv);Re.length&&(S.annotations=Re);let Dt=ie(t.storyboards,[Di,Pv]);Dt&&(S.storyboards=Dt);let Ri=ie(t.endscreen,g_);Ri&&(S.endscreen=Ri);let ve=ie(t.cards,Lh);ve&&(S.cards=ve);let Fe=De(t.engagementPanels,ni);return Fe.length&&(S.engagement_panels=Fe),S}n(rS,"parseResponse");function ie(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let o=tm(i[0]);if(!k1(o))try{let a=ax(o)?Zf(o):em(o,t[i[0]],gi);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===a.type))return gi({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(a.type!==e.type)return gi({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.type}),null}let c=new a(t[i[0]]);return oS(o,c),c}catch(r){return gi({classname:o,classdata:t[i[0]],error:r,error_type:"parse"}),null}return null}n(ie,"parseItem");function De(t,e){if(Array.isArray(t)){let i=[];for(let o of t){let r=ie(o,e);r&&i.push(r)}return ee(i)}else if(!t)return ee([]);throw new nt("Expected array but got a single item")}n(De,"parseArray");function Le(t,e,i){if(!t)return null;if(Array.isArray(t)){let o=[];for(let a of t){let c=ie(a,i);c&&o.push(c)}let r=ee(o);return e?r:new Ct(r)}else if(e)throw new nt("Expected array but got a single item");return new Ct(ie(t,i))}n(Le,"parse");function I1(t){return t.timedContinuationData?new eo({continuation:t.timedContinuationData,type:"timed"}):null}n(I1,"parseC");function Fg(t){return t.itemSectionContinuation?new wn(t.itemSectionContinuation):t.sectionListContinuation?new kn(t.sectionListContinuation):t.liveChatContinuation?new vi(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new In(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new Sn(t.musicShelfContinuation):t.gridContinuation?new Cn(t.gridContinuation):t.playlistPanelContinuation?new En(t.playlistPanelContinuation):t.continuationCommand?new Ut(t.continuationCommand):null}n(Fg,"parseLC");function px(t){return ee(t.map(e=>{if(e.navigateAction)return new hi(e.navigateAction);if(e.showMiniplayerCommand)return new Tn(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new _i(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new ji(e.appendContinuationItemsAction)}).filter(e=>e))}n(px,"parseRR");function S1(t){return Array.isArray(t)?Le(t.map(e=>(delete e.clickTrackingParams,e))):new Ct(ie(t))}n(S1,"parseActions");function jg(t,e){return(t==null?void 0:t.map(i=>new cx(i,e)))||[]}n(jg,"parseFormats");function C1(t,e){let i=t.getType(cn);if(i.length>0&&!e)gi({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let o=[];for(let r of i){let a=e.find(p=>{var d,v;return((v=(d=p.payload)===null||d===void 0?void 0:d.musicFormBooleanChoice)===null||v===void 0?void 0:v.id)===r.form_item_entity_key}),c=a==null?void 0:a.payload.musicFormBooleanChoice;(c==null?void 0:c.selected)!==void 0&&(c==null?void 0:c.opaqueToken)?r.selected=c.selected:o.push(`'${r.title}'`)}o.length>0&&gi({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:o.length,titles:o})}}n(C1,"applyMutations");function E1(t,e){var i,o,r,a,c,p;let d=t.getType(ci);if(d.length>0){e||gi({error_type:"mutation_data_missing",classname:"CommentView"});for(let v of d){let h=(o=(i=e.find(w=>{var T,S;return((S=(T=w.payload)===null||T===void 0?void 0:T.commentEntityPayload)===null||S===void 0?void 0:S.key)===v.keys.comment}))===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.commentEntityPayload,y=(a=(r=e.find(w=>{var T,S;return((S=(T=w.payload)===null||T===void 0?void 0:T.engagementToolbarStateEntityPayload)===null||S===void 0?void 0:S.key)===v.keys.toolbar_state}))===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.engagementToolbarStateEntityPayload,x=(p=(c=e.find(w=>w.entityKey===v.keys.toolbar_surface))===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.engagementToolbarSurfaceEntityPayload;v.applyMutations(h,y,x)}}}n(E1,"applyCommentsMutations");var zg={};Te(zg,{AccountInfo:()=>N1,Analytics:()=>P1,Channel:()=>Ne,ChannelListContinuation:()=>ao,Comments:()=>A1,FilteredChannelList:()=>Ti,Guide:()=>V1,HashtagFeed:()=>ki,History:()=>gx,HomeFeed:()=>Wt,ItemMenu:()=>Tx,Library:()=>B1,LiveChat:()=>Vx,NotificationsMenu:()=>L1,Playlist:()=>Ix,Search:()=>O1,Settings:()=>F1,SmoothedQueue:()=>Nx,TimeWatched:()=>j1,TranscriptInfo:()=>vx,VideoInfo:()=>hm});var Nn,dx=class{constructor(e){if(Nn.set(this,void 0),C(this,Nn,l.parseResponse(e.data),"f"),!f(this,Nn,"f").contents)throw new b("Page contents not found");let i=f(this,Nn,"f").contents.array().as($m).first();if(!i)throw new b("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return f(this,Nn,"f")}};n(dx,"AccountInfo");Nn=new WeakMap;var N1=dx;var im,fx=class{constructor(e){var i;im.set(this,void 0),C(this,im,l.parseResponse(e.data),"f"),this.sections=(i=f(this,im,"f").contents_memo)===null||i===void 0?void 0:i.getType(rn).map(o=>o.model).flatMap(o=>o||[])}get page(){return f(this,im,"f")}};n(fx,"Analytics");im=new WeakMap;var P1=fx;var om,Oe,oo,nm,qe,R1,Ug,yi=class{constructor(e,i,o=!1){om.add(this),Oe.set(this,void 0),oo.set(this,void 0),nm.set(this,void 0),qe.set(this,void 0),f(this,om,"m",R1).call(this,i)||o?C(this,Oe,i,"f"):C(this,Oe,l.parseResponse(i.data),"f");let r=Wg(f(this,Oe,"f").contents_memo,f(this,Oe,"f").continuation_contents_memo,f(this,Oe,"f").on_response_received_commands_memo,f(this,Oe,"f").on_response_received_endpoints_memo,f(this,Oe,"f").on_response_received_actions_memo,f(this,Oe,"f").sidebar_memo,f(this,Oe,"f").header_memo);if(!r)throw new b("No memo found in feed");C(this,qe,r,"f"),C(this,nm,e,"f")}static getVideosFromMemo(e){return e.getType(jo,E_,_n,Wo,hn,Yt,tx)}static getPlaylistsFromMemo(e){let i=e.getType(Et,I_),o=e.getType(ov).filter(r=>["PLAYLIST","ALBUM","PODCAST"].includes(r.content_type));return o.length>0&&i.push(...o),i}get videos(){return yi.getVideosFromMemo(f(this,qe,"f"))}get posts(){return f(this,qe,"f").getType(ti,Ov,zv)}get channels(){return f(this,qe,"f").getType(Fh,k_)}get playlists(){return yi.getPlaylistsFromMemo(f(this,qe,"f"))}get memo(){return f(this,qe,"f")}get page_contents(){var e;let i=(e=f(this,qe,"f").getType(Ae))===null||e===void 0?void 0:e.first().content,o=f(this,qe,"f").getType(_i).first(),r=f(this,qe,"f").getType(ji).first();return i||o||r}get shelves(){return f(this,qe,"f").getType(yn,Yv,Go)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=f(this,Oe,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=f(this,Oe,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(Rt,qv))return o.secondary_contents}get actions(){return f(this,nm,"f")}get page(){return f(this,Oe,"f")}get has_continuation(){return f(this,om,"m",Ug).call(this).length>0}getContinuationData(){return I(this,void 0,void 0,function*(){if(f(this,oo,"f")){if(f(this,oo,"f").length===0)throw new b("There are no continuations.");return yield f(this,oo,"f")[0].endpoint.call(f(this,nm,"f"),{parse:!0})}if(C(this,oo,f(this,om,"m",Ug).call(this),"f"),f(this,oo,"f"))return this.getContinuationData()})}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new yi(this.actions,e,!0)})}};n(yi,"Feed");Oe=new WeakMap,oo=new WeakMap,nm=new WeakMap,qe=new WeakMap,om=new WeakSet,R1=n(function(e){return!("data"in e)},"_Feed_isParsed"),Ug=n(function(){if(f(this,Oe,"f").header_memo){let e=f(this,Oe,"f").header_memo.getType(le);return f(this,qe,"f").getType(le).filter(i=>!e.includes(i))}return f(this,qe,"f").getType(le)},"_Feed_getBodyContinuations");var Ee=yi;var Pn,mx=class extends Ee{constructor(e,i,o=!1){super(e,i,o),Pn.set(this,void 0)}get filter_chips(){var e,i;if(f(this,Pn,"f"))return f(this,Pn,"f")||[];if(((e=this.memo.getType(jt))===null||e===void 0?void 0:e.length)>1)throw new b("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(jt))===null||i===void 0?void 0:i.length)===0)throw new b("There are no feed filter chipbars");return C(this,Pn,this.memo.getType(Ye),"f"),f(this,Pn,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return I(this,void 0,void 0,function*(){let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new b("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(a=>a.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new b("Invalid filter");if(!o)throw new b("Filter not found");if(o.is_selected)return this;let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new b("Failed to get filtered feed");return new Ee(this.actions,r,!0)})}};n(mx,"FilterableFeed");Pn=new WeakMap;var bi=mx;var Jg={};Te(Jg,{Feed:()=>Ee,FilterableFeed:()=>bi,MediaInfo:()=>_x,TabbedFeed:()=>sm});var wi,yt,Rn,rm,hx=class{constructor(e,i,o){var r,a;wi.set(this,void 0),yt.set(this,void 0),Rn.set(this,void 0),rm.set(this,void 0),C(this,yt,i,"f");let c=l.parseResponse(e[0].data),p=!((r=e==null?void 0:e[1])===null||r===void 0)&&r.data?l.parseResponse(e[1].data):void 0;if(C(this,wi,[c,p],"f"),C(this,Rn,o,"f"),((a=c.playability_status)===null||a===void 0?void 0:a.status)==="ERROR")throw new b("This video is unavailable",c.playability_status);this.streaming_data=c.streaming_data,this.playability_status=c.playability_status,this.player_config=c.player_config,C(this,rm,c.playback_tracking,"f")}toDash(e,i,o={include_thumbnails:!1}){var r;return I(this,void 0,void 0,function*(){let a=f(this,wi,"f")[0];if(a.video_details&&a.video_details.is_live)throw new b("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let c;return o.include_thumbnails&&a.storyboards&&(c=a.storyboards),Li.toDash(this.streaming_data,(r=this.page[0].video_details)===null||r===void 0?void 0:r.is_post_live_dvr,e,i,f(this,Rn,"f"),f(this,yt,"f").session.player,f(this,yt,"f"),c)})}getStreamingInfo(e,i){var o;return Bm(this.streaming_data,(o=this.page[0].video_details)===null||o===void 0?void 0:o.is_post_live_dvr,e,i,this.cpn,f(this,yt,"f").session.player,f(this,yt,"f"),f(this,wi,"f")[0].storyboards?f(this,wi,"f")[0].storyboards:void 0)}chooseFormat(e){return Li.chooseFormat(e,this.streaming_data)}download(e={}){return I(this,void 0,void 0,function*(){let i=f(this,wi,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new b("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Li.download(e,f(this,yt,"f"),this.playability_status,this.streaming_data,f(this,yt,"f").session.player,this.cpn)})}getTranscript(){var e;return I(this,void 0,void 0,function*(){let i=this.page[1];if(!i)throw new b("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new b("Engagement panels not found. Video likely has no transcript.");let o=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!o)throw new b("Transcript panel not found. Video likely has no transcript.");let r=(e=o.content)===null||e===void 0?void 0:e.as(le);if(!r)throw new b("Transcript continuation not found.");let a=yield r.endpoint.call(this.actions);return new vx(this.actions,a)})}addToWatchHistory(e=ge.CLIENTS.WEB.NAME,i=ge.CLIENTS.WEB.VERSION,o="https://www."){return I(this,void 0,void 0,function*(){if(!f(this,rm,"f"))throw new b("Playback tracking not available");let r={cpn:f(this,Rn,"f"),fmt:251,rtn:0,rt:0},a=f(this,rm,"f").videostats_playback_url.replace("https://s.",o);return yield f(this,yt,"f").stats(a,{client_name:e,client_version:i},r)})}get actions(){return f(this,yt,"f")}get cpn(){return f(this,Rn,"f")}get page(){return f(this,wi,"f")}};n(hx,"MediaInfo");wi=new WeakMap,yt=new WeakMap,Rn=new WeakMap,rm=new WeakMap;var _x=hx;var no,ro,so=class extends Ee{constructor(e,i,o=!1){var r;super(e,i,o),no.set(this,void 0),ro.set(this,void 0),C(this,ro,e,"f"),C(this,no,(r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(Ae),"f")}get tabs(){var e,i;return(i=(e=f(this,no,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return I(this,void 0,void 0,function*(){let o=(i=f(this,no,"f"))===null||i===void 0?void 0:i.find(a=>a.title.toLowerCase()===e.toLowerCase());if(!o)throw new b(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(f(this,ro,"f"));return new so(f(this,ro,"f"),r,!1)})}getTabByURL(e){var i;return I(this,void 0,void 0,function*(){let o=(i=f(this,no,"f"))===null||i===void 0?void 0:i.find(a=>{var c;return((c=a.endpoint.metadata.url)===null||c===void 0?void 0:c.split("/").pop())===e});if(!o)throw new b(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(f(this,ro,"f"));return new so(f(this,ro,"f"),r,!1)})}hasTabWithURL(e){var i,o;return(o=(i=f(this,no,"f"))===null||i===void 0?void 0:i.some(r=>{var a;return((a=r.endpoint.metadata.url)===null||a===void 0?void 0:a.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(Ae))===null||i===void 0?void 0:i.find(r=>r.selected))===null||o===void 0?void 0:o.title.toString()}};n(so,"TabbedFeed");no=new WeakMap,ro=new WeakMap;var sm=so;var Ne=class extends sm{constructor(e,i,o=!1){var r,a,c,p,d,v;super(e,i,o),this.header=(a=(r=this.page.header)===null||r===void 0?void 0:r.item())===null||a===void 0?void 0:a.as(Ho,Oh,D_,Pt);let h=(c=this.page.metadata)===null||c===void 0?void 0:c.item().as(jh),y=(p=this.page.microformat)===null||p===void 0?void 0:p.as(pn);if(this.page.alerts){let x=this.page.alerts.first();if((x==null?void 0:x.alert_type)==="ERROR")throw new An(x.text.toString())}if(!h&&!this.page.contents)throw new b("Invalid channel",this);this.metadata=Object.assign(Object.assign({},h),y||{}),this.subscribe_button=(d=this.page.header_memo)===null||d===void 0?void 0:d.getType(Be).first(),this.current_tab=(v=this.page.contents)===null||v===void 0?void 0:v.item().as(Rt).tabs.array().filterType(Ae,sn).get({selected:!0})}applyFilter(e){var i;return I(this,void 0,void 0,function*(){let o,r=this.memo.getType(jt).first();if(typeof e=="string"){if(o=r==null?void 0:r.contents.get({text:e}),!o)throw new b(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof Ye&&(o=e);if(!o)throw new b("Invalid filter",e);let a=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!a)throw new b("No page returned",{filter:o});return new Ti(this.actions,a,!0)})}applySort(e){var i,o;return I(this,void 0,void 0,function*(){let r=this.memo.getType(ht).first();if(!r)throw new b("No sort filter sub menu found");let a=(i=r==null?void 0:r.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!a)throw new b(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(a.selected)return this;let c=yield(o=a.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Ne(this.actions,c,!0)})}applyContentTypeFilter(e){var i,o,r,a;return I(this,void 0,void 0,function*(){let c=(r=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(be).sub_menu)===null||r===void 0?void 0:r.as(Ba);if(!c)throw new b("Sub menu not found");let p=c.content_type_sub_menu_items.find(v=>v.title===e);if(!p)throw new b(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let d=yield(a=p.endpoint)===null||a===void 0?void 0:a.call(this.actions,{parse:!0});return new Ne(this.actions,d,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(jt))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(Ye).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(ht).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let r=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(be).sub_menu)===null||o===void 0?void 0:o.as(Ba);return(r==null?void 0:r.content_type_sub_menu_items.map(a=>a.title))||[]}getHome(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Ne(this.actions,e.page,!0)})}getVideos(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Ne(this.actions,e.page,!0)})}getShorts(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Ne(this.actions,e.page,!0)})}getLiveStreams(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Ne(this.actions,e.page,!0)})}getReleases(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Ne(this.actions,e.page,!0)})}getPodcasts(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Ne(this.actions,e.page,!0)})}getPlaylists(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Ne(this.actions,e.page,!0)})}getCommunity(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Ne(this.actions,e.page,!0)})}getAbout(){var e,i,o,r,a;return I(this,void 0,void 0,function*(){if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(Ca)[0];let c=((e=this.header)===null||e===void 0?void 0:e.is(Ho))&&this.header.tagline;if(c||((i=this.header)===null||i===void 0?void 0:i.is(Pt))&&((o=this.header.content)===null||o===void 0?void 0:o.description)){if(c&&c.more_endpoint instanceof _){let v=yield c.more_endpoint.call(this.actions);return new sm(this.actions,v,!1).memo.getType(Ca)[0]}let p=(a=(r=this.page.header_memo)===null||r===void 0?void 0:r.getType(le)[0])===null||a===void 0?void 0:a.endpoint;if(!p)throw new b("Failed to extract continuation to get channel about");let d=yield p.call(this.actions,{parse:!0});if(!d.on_response_received_endpoints_memo)throw new b("Unexpected response while fetching channel about",{response:d});return d.on_response_received_endpoints_memo.getType(Jm)[0]}throw new b("About not found")})}search(e){var i,o;return I(this,void 0,void 0,function*(){let r=(i=this.memo.getType(sn))===null||i===void 0?void 0:i[0];if(!r)throw new b("Search tab not found",this);let a=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Ne(this.actions,a,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,o,r,a;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(Ho))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))||!!(((o=this.header)===null||o===void 0?void 0:o.is(Pt))&&((a=(r=this.header.content)===null||r===void 0?void 0:r.description)===null||a===void 0?void 0:a.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(sn))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new b("Could not get continuation data");return new ao(this.actions,i,!0)})}};n(Ne,"Channel");var ao=class extends Ee{constructor(e,i,o=!1){var r,a;super(e,i,o),this.contents=((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())||((a=this.page.on_response_received_endpoints)===null||a===void 0?void 0:a.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new b("Could not get continuation data");return new ao(this.actions,i,!0)})}};n(ao,"ChannelListContinuation");var Ti=class extends bi{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(Ye).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return I(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Ti(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new b("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(jt)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(Ye)),new Ti(this.actions,i,!0)})}};n(Ti,"FilteredChannelList");var Vn,Vt,Mn,uo=class{constructor(e,i,o=!1){var r,a,c;Vn.set(this,void 0),Vt.set(this,void 0),Mn.set(this,void 0),C(this,Vn,o?i:l.parseResponse(i),"f"),C(this,Vt,e,"f");let p=f(this,Vn,"f").on_response_received_endpoints;if(!p)throw new b("Comments page did not have any content.");let d=p.at(0),v=p.at(1);this.header=(r=d==null?void 0:d.contents)===null||r===void 0?void 0:r.firstOfType(li);let h=((a=v==null?void 0:v.contents)===null||a===void 0?void 0:a.filterType(u_))||[];this.contents=ee(h.map(y=>{var x;return(x=y.comment)===null||x===void 0||x.setActions(f(this,Vt,"f")),y.setActions(f(this,Vt,"f")),y})),C(this,Mn,(c=v==null?void 0:v.contents)===null||c===void 0?void 0:c.firstOfType(le),"f")}applySort(e){var i,o,r,a;return I(this,void 0,void 0,function*(){if(!this.header)throw new b("Page header is missing. Cannot apply sort option.");let c;if(e==="TOP_COMMENTS"?c=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(c=(a=(r=this.header.sort_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||a===void 0?void 0:a.at(1)),!c)throw new b("Could not find target button.");if(c.selected)return this;let p=yield c.endpoint.call(f(this,Vt,"f"),{parse:!0});return new uo(f(this,Vt,"f"),p,!0)})}createComment(e){var i;return I(this,void 0,void 0,function*(){if(!this.header)throw new b("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(a_).submit_button;if(!o)throw new b("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new b("Button does not have an endpoint.");return yield o.endpoint.call(f(this,Vt,"f"),{commentText:e})})}getContinuation(){return I(this,void 0,void 0,function*(){if(!f(this,Mn,"f"))throw new b("Continuation not found");let e=yield f(this,Mn,"f").endpoint.call(f(this,Vt,"f"),{parse:!0}),i=Object.assign({},f(this,Vn,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new b("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new uo(f(this,Vt,"f"),i,!0)})}get has_continuation(){return!!f(this,Mn,"f")}get page(){return f(this,Vn,"f")}};n(uo,"Comments");Vn=new WeakMap,Vt=new WeakMap,Mn=new WeakMap;var A1=uo;var am,xx=class{constructor(e){am.set(this,void 0),C(this,am,l.parseResponse(e),"f"),this.contents=f(this,am,"f").items.array().as(an,N_)}get page(){return f(this,am,"f")}};n(xx,"Guide");am=new WeakMap;var V1=xx;var Bn=class extends Ee{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(Ke),this.feed_actions=this.memo.getType(ch).first()}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Bn(this.actions,e,!0)})}};n(Bn,"History");var gx=Bn;var Wt=class extends bi{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(w_).first(),this.contents=this.memo.getType(mi).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return I(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Wt(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return I(this,void 0,void 0,function*(){let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Wt(this.actions,o.page,!0)})}};n(Wt,"HomeFeed");var ki=class extends bi{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new b("Unexpected response",this.page);let o=this.page.contents_memo.getType(Ae).first();if(!o.content)throw new b("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(P_,Pt)),this.contents=o.content.as(mi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return I(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new ki(this.actions,o.page)})}};n(ki,"HashtagFeed");var yx,bx,um,wx=class{constructor(e,i){yx.set(this,void 0),bx.set(this,void 0),um.set(this,void 0),C(this,yx,e,"f"),C(this,bx,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(L))throw new b('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');C(this,um,o.as(L).items,"f")}selectItem(e){return I(this,void 0,void 0,function*(){let i;if(e instanceof k){if(!e.endpoint)throw new b("Item does not have an endpoint.");i=e.endpoint}else{let r=f(this,um,"f").find(a=>a.is(di)?a.as(di).icon_type===e:!1);if(!r||!r.is(di))throw new b(`Button "${e}" not found.`);i=r.endpoint}if(!i)throw new b("Target button does not have an endpoint.");return yield i.call(f(this,bx,"f"),{parse:!0})})}items(){return f(this,um,"f")}page(){return f(this,yx,"f")}};n(wx,"ItemMenu");yx=new WeakMap,bx=new WeakMap,um=new WeakMap;var Tx=wx;var lm,kx,Dn=class extends Ee{constructor(e,i,o=!1){var r,a,c,p,d;super(e,i,o),lm.add(this);let v=this.memo.getType(Mv).first(),h=this.memo.getType(Dv).first(),y=this.memo.getType(Lv).first(),x=(r=this.page.alerts)===null||r===void 0?void 0:r.firstOfType(Do);if(x&&x.alert_type==="ERROR")throw new b(x.text.toString(),x);if(!h&&!y&&Object.keys(this.page).length===0)throw new b("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(a=this.page.metadata)===null||a===void 0?void 0:a.item().as(Bv)),{subtitle:v?v.subtitle:null,author:(p=(c=y==null?void 0:y.owner)===null||c===void 0?void 0:c.as(bn).author)!==null&&p!==void 0?p:v==null?void 0:v.author,thumbnails:(d=h==null?void 0:h.thumbnail_renderer)===null||d===void 0?void 0:d.as(tn,en).thumbnail,total_items:f(this,lm,"m",kx).call(this,0,h),views:f(this,lm,"m",kx).call(this,1,h),last_updated:f(this,lm,"m",kx).call(this,2,h),can_share:v==null?void 0:v.can_share,can_delete:v==null?void 0:v.can_delete,is_editable:v==null?void 0:v.is_editable,privacy:v==null?void 0:v.privacy}),this.menu=h==null?void 0:h.menu,this.endpoint=h==null?void 0:h.endpoint,this.messages=this.memo.getType(pi)}get items(){return ee(this.videos.as(hn,_n).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(be).first();return e?!!this.memo.getType(le).find(i=>!e.contents.includes(i)):super.has_continuation}getContinuationData(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=this.memo.getType(be).first();if(!i)return yield e.getContinuationData.call(this);let o=this.memo.getType(le).find(a=>!i.contents.includes(a));if(!o)throw new b("There are no continuations.");return yield o.endpoint.call(this.actions,{parse:!0})})}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new Dn(this.actions,e,!0)})}};n(Dn,"Playlist");lm=new WeakSet,kx=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var Ix=Dn;var Gg,M1,Sx=class extends Ee{constructor(e,i){if(super(e,i),Gg.add(this),!this.page.contents_memo)throw new b("Page contents not found");this.header=this.memo.getType(Pt).first();let o=this.page.contents_memo.getType(yn);this.sections=o.map(r=>{var a;return{type:r.icon_type,title:r.title,contents:((a=r.content)===null||a===void 0?void 0:a.key("items").array())||[],getAll:()=>f(this,Gg,"m",M1).call(this,r)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(Sx,"Library");Gg=new WeakSet,M1=n(function(e){var i;return I(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(L).hasKey("top_level_buttons")))throw new b(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(L).top_level_buttons.firstOfType(k);if(!o)throw new b("Did not find target button.");let r=yield o.as(k).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new Ix(this.actions,r,!0);case"WATCH_HISTORY":return new gx(this.actions,r,!0);case"CONTENT_CUT":return new Ee(this.actions,r,!0);default:throw new b("Target shelf not implemented.")}})},"_Library_getAll");var B1=Sx;var Jt,Ii,lo,at,bt,Xe;function sS(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n(sS,"flattenQueue");var Cx=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(Cx,"DelayQueue");var Ex=class{constructor(){Jt.set(this,void 0),Ii.set(this,void 0),lo.set(this,void 0),at.set(this,void 0),bt.set(this,void 0),Xe.set(this,void 0),C(this,Jt,null,"f"),C(this,Ii,null,"f"),C(this,lo,null,"f"),C(this,at,[],"f"),C(this,bt,null,"f"),C(this,Xe,new Cx,"f")}enqueueActionGroup(e){if(f(this,Jt,"f")!==null){let i=Date.now()-f(this,Jt,"f");f(this,Xe,"f").back.push(i),5<f(this,Xe,"f").front.length+f(this,Xe,"f").back.length&&(f(this,Xe,"f").front.length||(f(this,Xe,"f").front=f(this,Xe,"f").back,f(this,Xe,"f").front.reverse(),f(this,Xe,"f").back=[]),f(this,Xe,"f").front.pop()),C(this,Ii,Math.max(...f(this,Xe,"f").getValues()),"f")}C(this,Jt,Date.now(),"f"),f(this,at,"f").push(e),f(this,bt,"f")===null&&C(this,bt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(C(this,bt,null,"f"),f(this,at,"f").length){let e=1e4;f(this,Ii,"f")!==null&&f(this,Jt,"f")!==null&&(e=f(this,Ii,"f")-Date.now()+f(this,Jt,"f")),e=f(this,at,"f").length<e/80?1:Math.ceil(f(this,at,"f").length/(e/80));let i=sS(f(this,at,"f").splice(0,e));f(this,lo,"f")&&f(this,lo,"f").call(this,i),f(this,at,"f")!==null&&(e==1?(e=f(this,Ii,"f")/f(this,at,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,C(this,bt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){f(this,bt,"f")!==null&&(clearTimeout(f(this,bt,"f")),C(this,bt,null,"f")),C(this,at,[],"f")}set callback(e){C(this,lo,e,"f")}get callback(){return f(this,lo,"f")}get action_queue(){return f(this,at,"f")}get estimated_update_interval(){return f(this,Ii,"f")}get last_update_time(){return f(this,Jt,"f")}get next_update_id(){return f(this,bt,"f")}get poll_response_delay_queue(){return f(this,Xe,"f")}};n(Ex,"SmoothedQueue");Jt=new WeakMap,Ii=new WeakMap,lo=new WeakMap,at=new WeakMap,bt=new WeakMap,Xe=new WeakMap;var Nx=Ex;var Pe,Gt,dm,Px,po,cm,pm,Hg,Rx,D1,co,Ax=class extends Vr{constructor(e){var i,o;super(),Pe.add(this),Gt.set(this,void 0),dm.set(this,void 0),Px.set(this,void 0),po.set(this,void 0),cm.set(this,void 0),pm.set(this,0),this.running=!1,this.is_replay=!1,C(this,dm,e.basic_info.id,"f"),C(this,Px,e.basic_info.channel_id,"f"),C(this,Gt,e.actions,"f"),C(this,po,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new Nx,this.smoothed_queue.callback=r=>I(this,void 0,void 0,function*(){r.length?r.length<10?yield f(this,Pe,"m",Rx).call(this,r):this.is_replay?(f(this,Pe,"m",Rx).call(this,r),yield f(this,Pe,"m",co).call(this,2e3)):f(this,Pe,"m",Rx).call(this,r):yield f(this,Pe,"m",co).call(this,2e3),this.running&&f(this,Pe,"m",Hg).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,f(this,Pe,"m",Hg).call(this),f(this,Pe,"m",D1).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return I(this,void 0,void 0,function*(){let i=yield f(this,Gt,"f").execute("/live_chat/send_message",{params:Sg(f(this,Px,"f"),f(this,dm,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:F.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new b("Unexpected response from send_message",i);return i.actions.array().as(J_)})}applyFilter(e){var i,o,r,a,c,p,d;if(!this.initial_info)throw new b("Cannot apply filter before initial info is retrieved.");let v=(r=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||r===void 0?void 0:r.sub_menu_items;if(e==="TOP_CHAT"){if(!((a=v==null?void 0:v.at(0))===null||a===void 0)&&a.selected)return;C(this,po,(c=v==null?void 0:v.at(0))===null||c===void 0?void 0:c.continuation,"f")}else{if(!((p=v==null?void 0:v.at(1))===null||p===void 0)&&p.selected)return;C(this,po,(d=v==null?void 0:v.at(1))===null||d===void 0?void 0:d.continuation,"f")}}getItemMenu(e){return I(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(_))throw new b("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(_).call(f(this,Gt,"f"),{parse:!0});if(!i)throw new b("Could not retrieve item menu.",e);return new Tx(i,f(this,Gt,"f"))})}selectButton(e){return I(this,void 0,void 0,function*(){return yield e.endpoint.call(f(this,Gt,"f"),{parse:!0})})}};n(Ax,"LiveChat");Gt=new WeakMap,dm=new WeakMap,Px=new WeakMap,po=new WeakMap,cm=new WeakMap,pm=new WeakMap,Pe=new WeakSet,Hg=n(function t(){I(this,void 0,void 0,function*(){var e,i;try{let o=yield f(this,Gt,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:f(this,po,"f"),parse:!0}),r=o.continuation_contents;if(r||(this.emit("error",new b("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(r instanceof vi)){this.stop(),this.emit("end");return}C(this,po,r.continuation.token,"f"),r.header?(this.initial_info=r,this.emit("start",r),this.running&&f(this,Pe,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(r.actions),C(this,pm,0,"f")}catch(o){this.emit("error",o),C(this,pm,(i=f(this,pm,"f"),e=i++,i),"f"),e<10?(yield f(this,Pe,"m",co).call(this,2e3),f(this,Pe,"m",t).call(this)):(this.emit("error",new b("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),Rx=n(function(e){return I(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),r=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let a of e)yield f(this,Pe,"m",co).call(this,r),this.emit("chat-update",a)})},"_LiveChat_emitSmoothedActions"),D1=n(function t(){I(this,void 0,void 0,function*(){var e,i,o,r,a,c,p,d,v,h,y;try{let x={videoId:f(this,dm,"f")};f(this,cm,"f")&&(x.continuation=f(this,cm,"f"));let w=yield f(this,Gt,"f").execute("/updated_metadata",x),T=l.parseResponse(w.data);C(this,cm,(e=T.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=T.actions)===null||i===void 0?void 0:i.array().firstOfType(K_))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((r=T.actions)===null||r===void 0?void 0:r.array().firstOfType($_))||((a=this.metadata)===null||a===void 0?void 0:a.description),views:((c=T.actions)===null||c===void 0?void 0:c.array().firstOfType(X_))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((d=T.actions)===null||d===void 0?void 0:d.array().firstOfType(q_))||((v=this.metadata)===null||v===void 0?void 0:v.likes),date:((h=T.actions)===null||h===void 0?void 0:h.array().firstOfType(z_))||((y=this.metadata)===null||y===void 0?void 0:y.date)},this.emit("metadata-update",this.metadata),yield f(this,Pe,"m",co).call(this,5e3),this.running&&f(this,Pe,"m",t).call(this)}catch(x){yield f(this,Pe,"m",co).call(this,2e3),this.running&&f(this,Pe,"m",t).call(this)}})},"_LiveChat_pollMetadata"),co=n(function(e){return I(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var Vx=Ax;var fo,fm,Ln=class{constructor(e,i){fo.set(this,void 0),fm.set(this,void 0),C(this,fm,e,"f"),C(this,fo,l.parseResponse(i.data),"f"),this.header=f(this,fo,"f").actions_memo.getType(av).first(),this.contents=f(this,fo,"f").actions_memo.getType(wv)}getContinuation(){return I(this,void 0,void 0,function*(){let e=f(this,fo,"f").actions_memo.getType(le).first();if(!e)throw new b("Continuation not found");let i=yield e.endpoint.call(f(this,fm,"f"),{parse:!1});return new Ln(f(this,fm,"f"),i)})}get page(){return f(this,fo,"f")}};n(Ln,"NotificationsMenu");fo=new WeakMap,fm=new WeakMap;var L1=Ln;var mo=class extends Ee{constructor(e,i,o=!1){var r,a,c,p,d,v;super(e,i,o);let h=((r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(be).first().contents)||((a=this.page.on_response_received_commands)===null||a===void 0?void 0:a.first().contents);if(!h)throw new b("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(Wv)),this.results=(c=h.find(y=>y.is(Ke)&&y.contents&&y.contents.length>0))===null||c===void 0?void 0:c.as(Ke).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(Jv).first(),this.watch_card=(d=this.page.contents_memo)===null||d===void 0?void 0:d.getType(Zv).first(),this.refinement_cards=(v=this.results)===null||v===void 0?void 0:v.firstOfType(ii)}selectRefinementCard(e){var i,o;return I(this,void 0,void 0,function*(){let r;if(typeof e=="string"){if(!this.refinement_cards)throw new b("No refinement cards found.");if(r=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(Ui),!r)throw new b(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")r=e;else throw new b("Invalid refinement card!");let a=yield r.endpoint.call(this.actions,{parse:!0});return new mo(this.actions,a,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(Ui).map(i=>i.query))||[]}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new mo(this.actions,e,!0)})}};n(mo,"Search");var O1=mo;var ho,mm,On=class{constructor(e,i){var o,r,a,c;if(ho.set(this,void 0),mm.set(this,void 0),C(this,mm,e,"f"),C(this,ho,l.parseResponse(i.data),"f"),this.sidebar=(o=f(this,ho,"f").sidebar)===null||o===void 0?void 0:o.as(Hv),!f(this,ho,"f").contents)throw new b("Page contents not found");let p=f(this,ho,"f").contents.item().as(Rt).tabs.array().as(Ae).get({selected:!0});if(!p)throw new b("Target tab not found");let d=(r=p.content)===null||r===void 0?void 0:r.as(be).contents.as(Ke);this.introduction=(c=(a=d==null?void 0:d.shift())===null||a===void 0?void 0:a.contents)===null||c===void 0?void 0:c.firstOfType(kv),this.sections=d==null?void 0:d.map(v=>{var h;return{title:!((h=v.header)===null||h===void 0)&&h.is(li,un,ln)?v.header.title.toString():null,contents:v.contents}})}selectSidebarItem(e){return I(this,void 0,void 0,function*(){if(!this.sidebar)throw new b("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new b(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(Zo))i=e;else throw new b("Invalid item",{target_item:e});let o=yield i.endpoint.call(f(this,mm,"f"),{parse:!1});return new On(f(this,mm,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new b("Sections not available");for(let o of this.sections)if(!!o.contents)for(let r of o.contents){let a=r.as(gn).options;if(a){for(let c of a)if(c.is(xn)&&((i=c.title)===null||i===void 0?void 0:i.toString())===e)return c}}throw new b(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new b("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(gn).options&&(e=e.concat(o.as(gn).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new b("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return f(this,ho,"f")}};n(On,"Settings");ho=new WeakMap,mm=new WeakMap;var F1=On;var Fn,Mx=class{constructor(e){var i;if(Fn.set(this,void 0),C(this,Fn,l.parseResponse(e.data),"f"),!f(this,Fn,"f").contents)throw new b("Page contents not found");let o=f(this,Fn,"f").contents.item().as($v).tabs.get({selected:!0});if(!o)throw new b("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(be).contents.as(Ke)}get page(){return f(this,Fn,"f")}};n(Mx,"TimeWatched");Fn=new WeakMap;var j1=Mx;var Si,jn=class extends _x{constructor(e,i,o){var r,a,c,p,d,v,h,y,x,w,T,S,V,O,oe,B,ne,ce,fe,_e,we,H,G,$,Z,Se,Ze,it,z,Ve,kt,It,me,He,wo,To,ko,Io,So,Co,Eo,No,Po,Ro,Ao;super(e,i,o),Si.set(this,void 0);let[se,ot]=this.page;if(se.microformat&&!(!((r=se.microformat)===null||r===void 0)&&r.is(st,pn)))throw new b("Invalid microformat",se.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},se.video_details),{embed:!((a=se.microformat)===null||a===void 0)&&a.is(st)?(c=se.microformat)===null||c===void 0?void 0:c.embed:null,channel:!((p=se.microformat)===null||p===void 0)&&p.is(st)?(d=se.microformat)===null||d===void 0?void 0:d.channel:null,is_unlisted:(v=se.microformat)===null||v===void 0?void 0:v.is_unlisted,is_family_safe:(h=se.microformat)===null||h===void 0?void 0:h.is_family_safe,category:!((y=se.microformat)===null||y===void 0)&&y.is(st)?(x=se.microformat)===null||x===void 0?void 0:x.category:null,has_ypc_metadata:!((w=se.microformat)===null||w===void 0)&&w.is(st)?(T=se.microformat)===null||T===void 0?void 0:T.has_ypc_metadata:null,start_timestamp:!((S=se.microformat)===null||S===void 0)&&S.is(st)?se.microformat.start_timestamp:null,end_timestamp:!((V=se.microformat)===null||V===void 0)&&V.is(st)?se.microformat.end_timestamp:null,view_count:((O=se.microformat)===null||O===void 0?void 0:O.is(st))&&isNaN((oe=se.video_details)===null||oe===void 0?void 0:oe.view_count)?se.microformat.view_count:(B=se.video_details)===null||B===void 0?void 0:B.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=se.annotations,this.storyboards=se.storyboards,this.endscreen=se.endscreen,this.captions=se.captions,this.cards=se.cards,this.streaming_data){let ve=this.streaming_data.adaptive_formats.find(Fe=>{var je;return(je=Fe.audio_track)===null||je===void 0?void 0:je.audio_is_default});if(ve)this.streaming_data.formats.forEach(Fe=>Fe.language=ve.language);else if(((ne=this.captions)===null||ne===void 0?void 0:ne.caption_tracks)&&((ce=this.captions)===null||ce===void 0?void 0:ce.caption_tracks.length)>0){let Fe=this.captions.caption_tracks.find(xe=>xe.kind==="asr"),je=Fe==null?void 0:Fe.language_code;this.streaming_data.adaptive_formats.forEach(xe=>{xe.has_audio&&(xe.language=je)}),this.streaming_data.formats.forEach(xe=>xe.language=je)}}let Re=(fe=ot==null?void 0:ot.contents)===null||fe===void 0?void 0:fe.item().as(Qv),Dt=Re==null?void 0:Re.results,Ri=Re==null?void 0:Re.secondary_results;if(Dt&&Ri){if(((_e=se.microformat)===null||_e===void 0?void 0:_e.is(st))&&((we=se.microformat)===null||we===void 0?void 0:we.category)==="Gaming"){let xe=($=(G=(H=Dt.firstOfType(Ff))===null||H===void 0?void 0:H.metadata)===null||G===void 0?void 0:G.rows)===null||$===void 0?void 0:$.firstOfType(Nd);xe!=null&&xe.is(Nd)&&(this.game_info={title:(Se=(Z=xe==null?void 0:xe.contents)===null||Z===void 0?void 0:Z.firstOfType(Cd))===null||Se===void 0?void 0:Se.title,release_year:(it=(Ze=xe==null?void 0:xe.contents)===null||Ze===void 0?void 0:Ze.firstOfType(Cd))===null||it===void 0?void 0:it.subtitle})}this.primary_info=Dt.firstOfType(ex),this.secondary_info=Dt.firstOfType(Ff),this.merchandise=Dt.firstOfType(uv),this.related_chip_cloud=(z=Ri.firstOfType(jv))===null||z===void 0?void 0:z.content.as(zo),Re!=null&&Re.playlist&&(this.playlist=Re.playlist),this.watch_next_feed=((Ve=Ri.firstOfType(Ke))===null||Ve===void 0?void 0:Ve.contents)||Ri,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((kt=this.watch_next_feed.at(-1))===null||kt===void 0?void 0:kt.is(le))&&C(this,Si,(It=this.watch_next_feed.pop())===null||It===void 0?void 0:It.as(le),"f"),this.player_overlays=(me=ot==null?void 0:ot.player_overlays)===null||me===void 0?void 0:me.item().as(Vv),Re!=null&&Re.autoplay&&(this.autoplay=Re.autoplay);let ve=(wo=(He=this.primary_info)===null||He===void 0?void 0:He.menu)===null||wo===void 0?void 0:wo.top_level_buttons.firstOfType(Xi);((To=ve==null?void 0:ve.like_button)===null||To===void 0?void 0:To.is(ye))&&((ko=ve==null?void 0:ve.dislike_button)===null||ko===void 0?void 0:ko.is(ye))&&(this.basic_info.like_count=(Io=ve==null?void 0:ve.like_button)===null||Io===void 0?void 0:Io.like_count,this.basic_info.is_liked=(So=ve==null?void 0:ve.like_button)===null||So===void 0?void 0:So.is_toggled,this.basic_info.is_disliked=(Co=ve==null?void 0:ve.dislike_button)===null||Co===void 0?void 0:Co.is_toggled);let Fe=(No=(Eo=this.primary_info)===null||Eo===void 0?void 0:Eo.menu)===null||No===void 0?void 0:No.top_level_buttons.firstOfType(Qi);if(Fe&&(this.basic_info.like_count=Fe.like_count,Fe.like_button)){let xe=Fe.like_button.like_status_entity.like_status;this.basic_info.is_liked=xe==="LIKE",this.basic_info.is_disliked=xe==="DISLIKE"}let je=(Po=Dt.get({target_id:"comments-entry-point"}))===null||Po===void 0?void 0:Po.as(Ke);this.comments_entry_point_header=(Ro=je==null?void 0:je.contents)===null||Ro===void 0?void 0:Ro.firstOfType(s_),this.livechat=(Ao=ot==null?void 0:ot.contents_memo)===null||Ao===void 0?void 0:Ao.getType(Y_).first()}}selectFilter(e){var i,o,r,a;return I(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new b("Chip cloud not found, cannot apply filter");let c;if(typeof e=="string"){let v=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!v)throw new b("Invalid filter",{available_filters:this.filters});c=v}else if(e!=null&&e.is(Ye))c=e;else throw new b("Invalid cloud chip",e);if(c.is_selected)return this;let p=yield(r=c.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0}),d=(a=p==null?void 0:p.on_response_received_endpoints)===null||a===void 0?void 0:a.get({target_id:"watch-next-feed"});return this.watch_next_feed=d==null?void 0:d.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return I(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,o,r,a;return I(this,void 0,void 0,function*(){if(!f(this,Si,"f"))throw new b("Watch next feed continuation not found");let c=yield(e=f(this,Si,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=c==null?void 0:c.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"AppendContinuationItemsAction"});if(!p)throw new b("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((r=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||r===void 0)&&r.is(le)?C(this,Si,(a=this.watch_next_feed.pop())===null||a===void 0?void 0:a.as(le),"f"):C(this,Si,void 0,"f"),this})}like(){var e,i,o,r,a;return I(this,void 0,void 0,function*(){let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Qi);if(c){let h=(o=c==null?void 0:c.like_button)===null||o===void 0?void 0:o.toggle_button;if(!h||!h.default_button||!c.like_button)throw new b("Like button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="LIKE")throw new b("This video is already liked",{video_id:this.basic_info.id});return yield new _(h.default_button.on_tap.payload.commands.find(T=>T.innertubeCommand)).call(this.actions)}let p=(a=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType(Xi),d=p==null?void 0:p.like_button;if(!d)throw new b("Like button not found",{video_id:this.basic_info.id});if(!d.is(ye))throw new b("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new b("This video is already liked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}dislike(){var e,i,o,r,a;return I(this,void 0,void 0,function*(){let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Qi);if(c){let h=(o=c==null?void 0:c.dislike_button)===null||o===void 0?void 0:o.toggle_button;if(!h||!h.default_button||!c.dislike_button||!c.like_button)throw new b("Dislike button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="DISLIKE")throw new b("This video is already disliked",{video_id:this.basic_info.id});return yield new _(h.default_button.on_tap.payload.commands.find(T=>T.innertubeCommand)).call(this.actions)}let p=(a=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType(Xi),d=p==null?void 0:p.dislike_button;if(!d)throw new b("Dislike button not found",{video_id:this.basic_info.id});if(!d.is(ye))throw new b("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new b("This video is already disliked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}removeRating(){var e,i,o,r,a,c,p;return I(this,void 0,void 0,function*(){let d,v=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Qi);if(v){let T=(o=v==null?void 0:v.like_button)===null||o===void 0?void 0:o.toggle_button;if(!T||!T.default_button||!v.like_button)throw new b("Like button not found",{video_id:this.basic_info.id});let S=v.like_button.like_status_entity.like_status;if(S==="LIKE")d=(r=v==null?void 0:v.like_button)===null||r===void 0?void 0:r.toggle_button;else if(S==="DISLIKE")d=(a=v==null?void 0:v.dislike_button)===null||a===void 0?void 0:a.toggle_button;else throw new b("This video is not liked/disliked",{video_id:this.basic_info.id});if(!d||!d.toggled_button)throw new b("Like/Dislike button not found",{video_id:this.basic_info.id});return yield new _(d.toggled_button.on_tap.payload.commands.find(oe=>oe.innertubeCommand)).call(this.actions)}let h=(p=(c=this.primary_info)===null||c===void 0?void 0:c.menu)===null||p===void 0?void 0:p.top_level_buttons.firstOfType(Xi),y=h==null?void 0:h.like_button,x=h==null?void 0:h.dislike_button;if(!(y!=null&&y.is(ye))||!(x!=null&&x.is(ye)))throw new b("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(y!=null&&y.is_toggled?d=y:x!=null&&x.is_toggled&&(d=x),!d)throw new b("This video is not liked/disliked",{video_id:this.basic_info.id});return yield d.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new b("Live Chat is not available",{video_id:this.basic_info.id});return new Vx(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as($p).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new jn([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var r;return(r=o.text)===null||r===void 0?void 0:r.toString()}))||[]}get wn_has_continuation(){return!!f(this,Si,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is($p))}get music_tracks(){var e,i,o,r,a,c;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(d=>{var v;return(v=d.content)===null||v===void 0?void 0:v.is(Ji)});if(p!==void 0&&p.length>0){let d=(a=(r=(o=p[0].content)===null||o===void 0?void 0:o.as(Ji))===null||r===void 0?void 0:r.items)===null||a===void 0?void 0:a.filterType(Jo);if(d!==void 0&&d.length>0)return(c=d[0].carousel_lockups)===null||c===void 0?void 0:c.map(v=>{var h,y,x,w,T,S,V,O,oe,B,ne,ce,fe,_e,we,H,G,$,Z;let Se,Ze,it,z,Ve,kt;Se=(y=(h=v.video_lockup)===null||h===void 0?void 0:h.title)===null||y===void 0?void 0:y.toString(),Ve=(x=v.video_lockup)===null||x===void 0?void 0:x.endpoint.payload.videoId;for(let It=0;It<v.info_rows.length;It++){let me=v.info_rows[It];if(me.info_row_expand_status_key===void 0)if(Se===void 0){if(Se=((w=me.default_metadata)===null||w===void 0?void 0:w.toString())||((T=me.expanded_metadata)===null||T===void 0?void 0:T.toString()),Ve===void 0){let He=((S=me.default_metadata)===null||S===void 0?void 0:S.endpoint)||((V=me.expanded_metadata)===null||V===void 0?void 0:V.endpoint);Ve=(O=He==null?void 0:He.payload)===null||O===void 0?void 0:O.videoId}}else it=((oe=me.default_metadata)===null||oe===void 0?void 0:oe.toString())||((B=me.expanded_metadata)===null||B===void 0?void 0:B.toString());else{if(((ne=me.info_row_expand_status_key)===null||ne===void 0?void 0:ne.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(Ze=((ce=me.default_metadata)===null||ce===void 0?void 0:ce.toString())||((fe=me.expanded_metadata)===null||fe===void 0?void 0:fe.toString()),kt===void 0)){let He=((_e=me.default_metadata)===null||_e===void 0?void 0:_e.endpoint)||((we=me.expanded_metadata)===null||we===void 0?void 0:we.endpoint);kt=(H=He==null?void 0:He.payload)===null||H===void 0?void 0:H.browseId}((G=me.info_row_expand_status_key)===null||G===void 0?void 0:G.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(z=(($=me.default_metadata)===null||$===void 0?void 0:$.toString())||((Z=me.expanded_metadata)===null||Z===void 0?void 0:Z.toString()))}}return{song:Se,artist:Ze,album:it,license:z,videoId:Ve,channelId:kt}})}return[]}};n(jn,"VideoInfo");Si=new WeakMap;var hm=jn;var _m,vm,Yn=class{constructor(e,i){_m.set(this,void 0),vm.set(this,void 0),C(this,_m,l.parseResponse(i.data),"f"),C(this,vm,e,"f"),this.transcript=f(this,_m,"f").actions_memo.getType(Bo).first()}selectLanguage(e){var i,o,r,a;return I(this,void 0,void 0,function*(){let c=(a=(r=(o=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||o===void 0?void 0:o.language_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||a===void 0?void 0:a.find(d=>d.title.toString()===e);if(!c)throw new Error(`Language not found: ${e}`);if(c.selected)return this;let p=yield f(this,vm,"f").execute("/get_transcript",{params:c.continuation});return new Yn(f(this,vm,"f"),p)})}get languages(){var e,i,o,r;return((r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.map(a=>a.title.toString()))||[]}get selectedLanguage(){var e,i,o,r,a;return((a=(r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.find(c=>c.selected))===null||a===void 0?void 0:a.title.toString())||""}get page(){return f(this,_m,"f")}};n(Yn,"TranscriptInfo");_m=new WeakMap,vm=new WeakMap;var vx=Yn;var A=class{constructor(e,i,o,r){var a,c,p,d,v,h,y,x,w,T,S,V,O,oe,B,ne,ce,fe,_e,we,H,G,$,Z,Se,Ze,it;let z=new u(e);this.id=r||((d=(p=(c=(a=z==null?void 0:z.runs)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId)||((h=(v=z==null?void 0:z.endpoint)===null||v===void 0?void 0:v.payload)===null||h===void 0?void 0:h.browseId)||"N/A",this.name=(z==null?void 0:z.text)||"N/A",this.thumbnails=o?g.fromResponse(o):[],this.endpoint=((x=(y=z==null?void 0:z.runs)===null||y===void 0?void 0:y[0])===null||x===void 0?void 0:x.endpoint)||(z==null?void 0:z.endpoint),i?Array.isArray(i)?(this.badges=l.parseArray(i),this.is_moderator=(w=this.badges)===null||w===void 0?void 0:w.some(Ve=>Ve.icon_type=="MODERATOR"),this.is_verified=(T=this.badges)===null||T===void 0?void 0:T.some(Ve=>Ve.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(S=this.badges)===null||S===void 0?void 0:S.some(Ve=>Ve.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=ee([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=ee([]),this.url=((B=(oe=(O=(V=z==null?void 0:z.runs)===null||V===void 0?void 0:V[0])===null||O===void 0?void 0:O.endpoint)===null||oe===void 0?void 0:oe.metadata)===null||B===void 0?void 0:B.api_url)==="/browse"&&`${rt.YT_BASE}${((_e=(fe=(ce=(ne=z==null?void 0:z.runs)===null||ne===void 0?void 0:ne[0])===null||ce===void 0?void 0:ce.endpoint)===null||fe===void 0?void 0:fe.payload)===null||_e===void 0?void 0:_e.canonicalBaseUrl)||`/u/${($=(G=(H=(we=z==null?void 0:z.runs)===null||we===void 0?void 0:we[0])===null||H===void 0?void 0:H.endpoint)===null||G===void 0?void 0:G.payload)===null||$===void 0?void 0:$.browseId}`}`||`${rt.YT_BASE}${((Se=(Z=z==null?void 0:z.endpoint)===null||Z===void 0?void 0:Z.payload)===null||Se===void 0?void 0:Se.canonicalBaseUrl)||`/u/${(it=(Ze=z==null?void 0:z.endpoint)===null||Ze===void 0?void 0:Ze.payload)===null||it===void 0?void 0:it.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(A,"Author");var Y1={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var Bx,Dx,aS="Utils",F=class{static load(e){C(F,Bx,e,"f",Dx)}static get shim(){if(!f(F,Bx,"f",Dx))throw new Error("Platform is not loaded");return f(F,Bx,"f",Dx)}};n(F,"Platform");Bx=F;Dx={value:void 0};var b=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=F.shim.info.version}};n(b,"InnertubeError");var nt=class extends b{};n(nt,"ParsingError");var xm=class extends b{};n(xm,"MissingParamError");var Lx=class extends b{};n(Lx,"OAuthError");var wt=class extends Error{};n(wt,"PlayerError");var Un=class extends Error{};n(Un,"SessionError");var An=class extends Error{};n(An,"ChannelError");function Am(t,e){return Reflect.ownKeys(t).some(o=>{let r=e[o]instanceof u;return!r&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(r?e[o].toString():e[o])})}n(Am,"deepCompare");function Me(t,e,i){let o=new RegExp(`${Kg(e)}(.*?)${Kg(i)}`,"s"),r=t.match(o);return r?r[1]:void 0}n(Me,"getStringBetweenStrings");function Kg(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(Kg,"escapeStringRegexp");function Oi(t){let e=Y1[t],i=Math.floor(Math.random()*e.length);return e[i]}n(Oi,"getRandomUserAgent");function uS(t){return I(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),r=yield F.shim.sha1Hash(o);return["SAPISIDHASH",[i,r].join("_")].join(" ")})}n(uS,"generateSidAuth");function _o(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(_o,"generateRandomString");function Ce(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(Ce,"timeToSeconds");function Wg(...t){let e=new Xt;for(let i of t)if(!!i)for(let o of i){let r=e.get(o[0]);if(r){e.set(o[0],[...r,...o[1]]);continue}e.set(...o)}return e}n(Wg,"concatMemos");function gm(t){for(let[e,i]of Object.entries(t))if(!i)throw new xm(`${e} is missing`)}n(gm,"throwIfMissing");function lS(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(lS,"hasKeys");function pg(t){return P0(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:r}=yield Ai(i.read());if(o)return yield Ai(void 0);yield yield Ai(r)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(pg,"streamToIterable");var cS=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,r=[...o],a=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",c=r.length>0?`${r.map(([p,d])=>`    ${p}: ${d}`).join(`
`)}`:"    (none)";return Y.warn(aS,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${c}
' + 
    '  body:
${a}`),F.shim.fetch(t,e)},"debugFetch");function $e(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n($e,"u8ToBase64");function Eg(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(Eg,"base64ToU8");function Je(t){return!("emoji"in t)}n(Je,"isTextRun");function qg(t){return I(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let r=new Uint8Array(o),a=[];for(let c=0;c<r.length;++c)a.push(e[r[c]]);return a.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n(qg,"sha1Hash");var Ox={name:"youtubei.js",version:"9.4.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"],"cf-worker":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"},"./cf-worker":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/cf-worker.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod && npm run bundle:cf-worker","build:parser-map":"node ./scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify","bundle:cf-worker":'npx esbuild ./dist/src/platform/cf-worker.js --banner:js="/* eslint-disable */" --bundle --target=es2020 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/cf-worker.js --platform=node',prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^1.1.0",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var bm={};Te(bm,{ArrayExpression:()=>Wn,ArrowFunctionExpression:()=>Jn,AssignmentExpression:()=>Gn,BinaryExpression:()=>Hn,BlockStatement:()=>zn,BreakStatement:()=>$n,CallExpression:()=>Kn,ConditionalExpression:()=>Xn,ContinueStatement:()=>Qn,ExpressionStatement:()=>Zn,ForOfStatement:()=>er,ForStatement:()=>tr,FunctionDeclaration:()=>ir,FunctionExpression:()=>or,Identifier:()=>nr,IfStatement:()=>rr,Literal:()=>sr,LogicalExpression:()=>ar,MemberExpression:()=>ur,NewExpression:()=>lr,ObjectExpression:()=>cr,Property:()=>pr,ReturnStatement:()=>dr,SequenceExpression:()=>fr,SwitchCase:()=>mr,SwitchStatement:()=>hr,ThisExpression:()=>_r,ThrowStatement:()=>vr,TryStatement:()=>xr,UnaryExpression:()=>gr,UpdateExpression:()=>yr,VariableDeclaration:()=>br,WhileStatement:()=>wr});var R=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(R,"BaseJSNode");var Wn=class extends R{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(Wn,"ArrayExpression");var Xg={};Te(Xg,{namedFunction:()=>vo});var vo=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction");var Jn=class extends R{run(){let{params:e,body:i}=this.node;return vo("anonymous function",r=>{let a=0;for(let c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,r[a]):console.warn("Unhandled param type",c.type),a++;return this.visitor.visitNode(i)})}};n(Jn,"ArrowFunctionExpression");var Gn=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n(Gn,"AssignmentExpression");var Hn=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n(Hn,"BinaryExpression");var zn=class extends R{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(zn,"BlockStatement");var $n=class extends R{run(){return"break"}};n($n,"BreakStatement");var U1=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Fx,Qg,Kn=class extends R{constructor(){super(...arguments),Fx.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let a=this.visitor.listeners[e](this.node,this.visitor);if(a!=="proceed")return a}if(i&&i!=="toString"&&this.visitor.listeners[i]){let a=this.visitor.listeners[i](this.node,this.visitor);if(a!=="proceed")return a}if(this.node.callee.type==="MemberExpression"){if(qn.has(this.node,this.visitor))return qn.execute(this.node,this.visitor);let a=this.visitor.visitNode(this.node.callee.object),c=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(d=>this.visitor.visitNode(d));return typeof a[c]!="function"&&U1(this,Fx,"m",Qg).call(this),a[c].toString().includes("[native code]")?a[c](...p):a[c](p)}let o=this.visitor.visitNode(this.node.callee),r=this.node.arguments.map(a=>this.visitor.visitNode(a));return typeof o!="function"&&U1(this,Fx,"m",Qg).call(this),o(r)}};n(Kn,"CallExpression");Fx=new WeakSet,Qg=n(function(){if(this.node.callee.type==="MemberExpression")throw new Error(`${this.node.callee.object.type==="Identifier"?this.node.callee.object.name:"<object>"}.${this.node.callee.property.type==="Identifier"?this.node.callee.property.name:"?"} is not a function`);if(this.node.callee.type==="Identifier")throw new Error(`${this.node.callee.name} is not a function`);if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var qn=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(qn,"Builtins");qn.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let r=0;for(let a of o)i[0]([a,r++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var Xn=class extends R{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(Xn,"ConditionalExpression");var Qn=class extends R{run(){return"continue"}};n(Qn,"ContinueStatement");var Zn=class extends R{run(){return this.visitor.visitNode(this.node.expression)}};n(Zn,"ExpressionStatement");var er=class extends R{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let r of this.node.left.declarations[0].id.properties)r.type==="Property"&&r.value.type==="Identifier"&&r.key.type==="Identifier"&&this.visitor.scope.set(r.value.name,i[r.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};n(er,"ForOfStatement");var tr=class extends R{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n(tr,"ForStatement");var ir=class extends R{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),r=vo(o,a=>{let c=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,a[c]):console.warn("Unhandled param type",p.type),c++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,r)}};n(ir,"FunctionDeclaration");var or=class extends R{run(){let{params:e,body:i}=this.node;return vo("anonymous function",r=>{let a=0;for(let c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,r[a]):console.warn("Unhandled param type",c.type),a++;return this.visitor.visitNode(i)})}};n(or,"FunctionExpression");var nr=class extends R{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="proceed")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(nr,"Identifier");var rr=class extends R{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n(rr,"IfStatement");var sr=class extends R{run(){return this.node.value}};n(sr,"Literal");var ar=class extends R{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(ar,"LogicalExpression");var ur=class extends R{run(){let{object:e,property:i,computed:o}=this.node,r=this.visitor.visitNode(e),a=o?this.visitor.visitNode(i):this.visitor.getName(i);if(a!==void 0||a!==null){if(this.visitor.listeners[a]){let c=this.visitor.listeners[a](this.node,this.visitor);if(c!=="proceed")return c}return r==null?void 0:r[a]}}};n(ur,"MemberExpression");var lr=class extends R{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return new e(i)}};n(lr,"NewExpression");var cr=class extends R{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(cr,"ObjectExpression");var Zg=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},ym,W1,J1,G1,pr=class extends R{constructor(){super(...arguments),ym.add(this)}run(){switch(this.node.kind){case"init":return Zg(this,ym,"m",W1).call(this);case"get":return Zg(this,ym,"m",J1).call(this);case"set":return Zg(this,ym,"m",G1).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(pr,"Property");ym=new WeakSet,W1=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),J1=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),G1=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var dr=class extends R{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(dr,"ReturnStatement");var fr=class extends R{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n(fr,"SequenceExpression");var mr=class extends R{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(mr,"SwitchCase");var hr=class extends R{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,r=0;for(;;){let a=this.node.cases[r];if(i){let c=this.visitor.visitNode(a);if(c==="break")break;if(c==="continue")return c;if(++r,r>=this.node.cases.length){r=0;break}else continue}if(i=a&&e===this.visitor.visitNode(a.test),i===void 0&&r>this.node.cases.length)break;if(a&&!i&&!a.test){o=r,r+=1;continue}if(!a&&!i&&o!==-1){i=!0,r=o;continue}i||++r}}};n(hr,"SwitchStatement");var _r=class extends R{run(){return this.visitor.scope.get("_this")}};n(_r,"ThisExpression");var vr=class extends R{run(){throw this.visitor.visitNode(this.node.argument)}};n(vr,"ThrowStatement");var xr=class extends R{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(xr,"TryStatement");var gr=class extends R{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(gr,"UnaryExpression");var yr=class extends R{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(yr,"UpdateExpression");var br=class extends R{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,r=this.visitor.getName(i),a=o?this.visitor.visitNode(o):void 0;r&&this.visitor.scope.set(r,a),typeof a=="object"&&a!==null&&this.visitor.scope.set("_this",a)})}};n(br,"VariableDeclaration");var wr=class extends R{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n(wr,"WhileStatement");var dS=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},e0,H1,Tr=class{constructor(e){e0.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=dS(this,e0,"m",H1).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(Tr,"Visitor");e0=new WeakSet,H1=n(function(e){let i=bm[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var fS=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],X1=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],mS="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",Q1="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",t0={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"arguments"},i0="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",hS={5:i0,"5module":i0+" export import",6:i0+" const class extends export import super"},_S=/^in(stanceof)?$/,vS=new RegExp("["+Q1+"]"),xS=new RegExp("["+Q1+mS+"]");function n0(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}return!1}n(n0,"isInAstralSet");function Ht(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&vS.test(String.fromCharCode(t)):e===!1?!1:n0(t,X1)}n(Ht,"isIdentifierStart");function kr(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&xS.test(String.fromCharCode(t)):e===!1?!1:n0(t,X1)||n0(t,fS)}n(kr,"isIdentifierChar");var re=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function ut(t,e){return new re(t,{beforeExpr:!0,binop:e})}n(ut,"binop");var lt={beforeExpr:!0},Qe={startsExpr:!0},a0={};function Q(t,e){return e===void 0&&(e={}),e.keyword=t,a0[t]=new re(t,e)}n(Q,"kw");var m={num:new re("num",Qe),regexp:new re("regexp",Qe),string:new re("string",Qe),name:new re("name",Qe),privateId:new re("privateId",Qe),eof:new re("eof"),bracketL:new re("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new re("]"),braceL:new re("{",{beforeExpr:!0,startsExpr:!0}),braceR:new re("}"),parenL:new re("(",{beforeExpr:!0,startsExpr:!0}),parenR:new re(")"),comma:new re(",",lt),semi:new re(";",lt),colon:new re(":",lt),dot:new re("."),question:new re("?",lt),questionDot:new re("?."),arrow:new re("=>",lt),template:new re("template"),invalidTemplate:new re("invalidTemplate"),ellipsis:new re("...",lt),backQuote:new re("`",Qe),dollarBraceL:new re("${",{beforeExpr:!0,startsExpr:!0}),eq:new re("=",{beforeExpr:!0,isAssign:!0}),assign:new re("_=",{beforeExpr:!0,isAssign:!0}),incDec:new re("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new re("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ut("||",1),logicalAND:ut("&&",2),bitwiseOR:ut("|",3),bitwiseXOR:ut("^",4),bitwiseAND:ut("&",5),equality:ut("==/!=/===/!==",6),relational:ut("</>/<=/>=",7),bitShift:ut("<</>>/>>>",8),plusMin:new re("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ut("%",10),star:ut("*",10),slash:ut("/",10),starstar:new re("**",{beforeExpr:!0}),coalesce:ut("??",1),_break:Q("break"),_case:Q("case",lt),_catch:Q("catch"),_continue:Q("continue"),_debugger:Q("debugger"),_default:Q("default",lt),_do:Q("do",{isLoop:!0,beforeExpr:!0}),_else:Q("else",lt),_finally:Q("finally"),_for:Q("for",{isLoop:!0}),_function:Q("function",Qe),_if:Q("if"),_return:Q("return",lt),_switch:Q("switch"),_throw:Q("throw",lt),_try:Q("try"),_var:Q("var"),_const:Q("const"),_while:Q("while",{isLoop:!0}),_with:Q("with"),_new:Q("new",{beforeExpr:!0,startsExpr:!0}),_this:Q("this",Qe),_super:Q("super",Qe),_class:Q("class",Qe),_extends:Q("extends",lt),_export:Q("export"),_import:Q("import",Qe),_null:Q("null",Qe),_true:Q("true",Qe),_false:Q("false",Qe),_in:Q("in",{beforeExpr:!0,binop:7}),_instanceof:Q("instanceof",{beforeExpr:!0,binop:7}),_typeof:Q("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Q("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Q("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},dt=/\r\n?|\n|\u2028|\u2029/,gS=new RegExp(dt.source,"g");function Ir(t){return t===10||t===13||t===8232||t===8233}n(Ir,"isNewLine");function Z1(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var r=t.charCodeAt(o);if(Ir(r))return o<i-1&&r===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n(Z1,"nextLineBreak");var ek=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ct=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,tk=Object.prototype,yS=tk.hasOwnProperty,bS=tk.toString,Im=Object.hasOwn||function(t,e){return yS.call(t,e)},z1=Array.isArray||function(t){return bS.call(t)==="[object Array]"};function Ci(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}n(Ci,"wordsRegexp");function Ei(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(Ei,"codePointToString");var wS=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Tm=n(function(e,i){this.line=e,this.column=i},"Position");Tm.prototype.offset=n(function(e){return new Tm(this.line,this.column+e)},"offset");var Jx=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function ik(t,e){for(var i=1,o=0;;){var r=Z1(t,o,e);if(r<0)return new Tm(i,e-o);++i,o=r}}n(ik,"getLineInfo");var r0={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},$1=!1;function TS(t){var e={};for(var i in r0)e[i]=t&&Im(t,i)?t[i]:r0[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!$1&&typeof console=="object"&&console.warn&&($1=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),z1(e.onToken)){var o=e.onToken;e.onToken=function(r){return o.push(r)}}return z1(e.onComment)&&(e.onComment=kS(e,e.onComment)),e}n(TS,"getOptions");function kS(t,e){return function(i,o,r,a,c,p){var d={type:i?"Block":"Line",value:o,start:r,end:a};t.locations&&(d.loc=new Jx(this,c,p)),t.ranges&&(d.range=[r,a]),e.push(d)}}n(kS,"pushComment");var km=1,Sr=2,u0=4,ok=8,nk=16,rk=32,l0=64,sk=128,Sm=256,c0=km|Sr|Sm;function p0(t,e){return Sr|(t?u0:0)|(e?ok:0)}n(p0,"functionFlags");var Yx=0,d0=1,$t=2,ak=3,uk=4,lk=5,Ie=n(function(e,i,o){this.options=e=TS(e),this.sourceFile=e.sourceFile,this.keywords=Ci(hS[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var r="";e.allowReserved!==!0&&(r=t0[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(r+=" await")),this.reservedWords=Ci(r);var a=(r?r+" ":"")+t0.strict;this.reservedWordsStrict=Ci(a),this.reservedWordsStrictBind=Ci(a+" "+t0.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(dt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(km),this.regexpState=null,this.privateNameStack=[]},"Parser"),Mt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Ie.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");Mt.inFunction.get=function(){return(this.currentVarScope().flags&Sr)>0};Mt.inGenerator.get=function(){return(this.currentVarScope().flags&ok)>0&&!this.currentVarScope().inClassFieldInit};Mt.inAsync.get=function(){return(this.currentVarScope().flags&u0)>0&&!this.currentVarScope().inClassFieldInit};Mt.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Sm)return!1;if(e.flags&Sr)return(e.flags&u0)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Mt.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&l0)>0||i||this.options.allowSuperOutsideMethod};Mt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&sk)>0};Mt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Mt.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Sr|Sm))>0||i};Mt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Sm)>0};Ie.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,r=0;r<e.length;r++)o=e[r](o);return o},"extend");Ie.parse=n(function(e,i){return new this(i,e).parse()},"parse");Ie.parseExpressionAt=n(function(e,i,o){var r=new this(o,e,i);return r.nextToken(),r.parseExpression()},"parseExpressionAt");Ie.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Ie.prototype,Mt);var Ge=Ie.prototype,IS=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Ge.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){ct.lastIndex=t,t+=ct.exec(this.input)[0].length;var e=IS.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){ct.lastIndex=t+e[0].length;var i=ct.exec(this.input),o=i.index+i[0].length,r=this.input.charAt(o);return r===";"||r==="}"||dt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,ct.lastIndex=t,t+=ct.exec(this.input)[0].length,this.input[t]===";"&&t++}};Ge.eat=function(t){return this.type===t?(this.next(),!0):!1};Ge.isContextual=function(t){return this.type===m.name&&this.value===t&&!this.containsEsc};Ge.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Ge.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Ge.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||dt.test(this.input.slice(this.lastTokEnd,this.start))};Ge.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Ge.semicolon=function(){!this.eat(m.semi)&&!this.insertSemicolon()&&this.unexpected()};Ge.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Ge.expect=function(t){this.eat(t)||this.unexpected()};Ge.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Gx=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Ge.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};Ge.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};Ge.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Ge.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var D=Ie.prototype;D.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==m.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,r=Object.keys(this.undefinedExports);o<r.length;o+=1){var a=r[o];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var f0={kind:"loop"},SS={kind:"switch"};D.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ct.lastIndex=this.pos;var e=ct.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if(Ht(o,!0)){for(var r=i+1;kr(o=this.input.charCodeAt(r),!0);)++r;if(o===92||o>55295&&o<56320)return!0;var a=this.input.slice(i,r);if(!_S.test(a))return!0}return!1};D.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ct.lastIndex=this.pos;var t=ct.exec(this.input),e=this.pos+t[0].length,i;return!dt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(kr(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};D.parseStatement=function(t,e,i){var o=this.type,r=this.startNode(),a;switch(this.isLet(t)&&(o=m._var,a="let"),o){case m._break:case m._continue:return this.parseBreakContinueStatement(r,o.keyword);case m._debugger:return this.parseDebuggerStatement(r);case m._do:return this.parseDoStatement(r);case m._for:return this.parseForStatement(r);case m._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case m._class:return t&&this.unexpected(),this.parseClass(r,!0);case m._if:return this.parseIfStatement(r);case m._return:return this.parseReturnStatement(r);case m._switch:return this.parseSwitchStatement(r);case m._throw:return this.parseThrowStatement(r);case m._try:return this.parseTryStatement(r);case m._const:case m._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(r,a);case m._while:return this.parseWhileStatement(r);case m._with:return this.parseWithStatement(r);case m.braceL:return this.parseBlock(!0,r);case m.semi:return this.parseEmptyStatement(r);case m._export:case m._import:if(this.options.ecmaVersion>10&&o===m._import){ct.lastIndex=this.pos;var c=ct.exec(this.input),p=this.pos+c[0].length,d=this.input.charCodeAt(p);if(d===40||d===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===m._import?this.parseImport(r):this.parseExport(r,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var v=this.value,h=this.parseExpression();return o===m.name&&h.type==="Identifier"&&this.eat(m.colon)?this.parseLabeledStatement(r,v,h,t):this.parseExpressionStatement(r,h)}};D.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(m.semi)||this.insertSemicolon()?t.label=null:this.type!==m.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var r=this.labels[o];if((t.label==null||r.name===t.label.name)&&(r.kind!=null&&(i||r.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};D.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};D.parseDoStatement=function(t){return this.next(),this.labels.push(f0),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(m.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};D.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(f0),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===m._var||this.type===m._const||i){var o=this.startNode(),r=i?"let":this.value;return this.next(),this.parseVar(o,!0,r),this.finishNode(o,"VariableDeclaration"),(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var a=this.isContextual("let"),c=!1,p=new Gx,d=this.parseExpression(e>-1?"await":!0,p);return this.type===m._in||(c=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),a&&c&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,p),this.checkLValPattern(d),this.parseForIn(t,d)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,d))};D.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,wm|(i?0:s0),!1,e)};D.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};D.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};D.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(m.braceL),this.labels.push(SS),this.enterScope(0);for(var e,i=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var o=this.type===m._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(m.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};D.parseThrowStatement=function(t){return this.next(),dt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var CS=[];D.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?rk:0),this.checkLValPattern(t,e?uk:$t),this.expect(m.parenR),t};D.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===m._catch){var e=this.startNode();this.next(),this.eat(m.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(m._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};D.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};D.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(f0),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};D.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};D.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};D.parseLabeledStatement=function(t,e,i,o){for(var r=0,a=this.labels;r<a.length;r+=1){var c=a[r];c.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===m._switch?"switch":null,d=this.labels.length-1;d>=0;d--){var v=this.labels[d];if(v.statementStart===t.start)v.statementStart=this.start,v.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};D.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};D.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(m.braceL),t&&this.enterScope(0);this.type!==m.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};D.parseFor=function(t,e){return t.init=e,this.expect(m.semi),t.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),t.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};D.parseForIn=function(t,e){var i=this.type===m._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};D.parseVar=function(t,e,i,o){for(t.declarations=[],t.kind=i;;){var r=this.startNode();if(this.parseVarId(r,i),this.eat(m.eq)?r.init=this.parseMaybeAssign(e):!o&&i==="const"&&!(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&r.id.type!=="Identifier"&&!(e&&(this.type===m._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(m.comma))break}return t};D.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?d0:$t,!1)};var wm=1,s0=2,ck=4;D.parseFunction=function(t,e,i,o,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===m.star&&e&s0&&this.unexpected(),t.generator=this.eat(m.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&wm&&(t.id=e&ck&&this.type!==m.name?null:this.parseIdent(),t.id&&!(e&s0)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?d0:$t:ak));var a=this.yieldPos,c=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(p0(t.async,t.generator)),e&wm||(t.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,r),this.yieldPos=a,this.awaitPos=c,this.awaitIdentPos=p,this.finishNode(t,e&wm?"FunctionDeclaration":"FunctionExpression")};D.parseFunctionParams=function(t){this.expect(m.parenL),t.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};D.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),r=this.startNode(),a=!1;for(r.body=[],this.expect(m.braceL);this.type!==m.braceR;){var c=this.parseClassElement(t.superClass!==null);c&&(r.body.push(c),c.type==="MethodDefinition"&&c.kind==="constructor"?(a&&this.raiseRecoverable(c.start,"Duplicate constructor in the same class"),a=!0):c.key&&c.key.type==="PrivateIdentifier"&&ES(o,c)&&this.raiseRecoverable(c.key.start,"Identifier '#"+c.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};D.parseClassElement=function(t){if(this.eat(m.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",r=!1,a=!1,c="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(m.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===m.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===m.star)&&!this.canInsertSemicolon()?a=!0:o="async"),!o&&(e>=9||!a)&&this.eat(m.star)&&(r=!0),!o&&!a&&!r){var d=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=d:o=d)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===m.parenL||c!=="method"||r||a){var v=!i.static&&Ux(i,"constructor"),h=v&&t;v&&c!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=v?"constructor":c,this.parseClassMethod(i,r,a,h)}else this.parseClassField(i);return i};D.isClassElementNameStart=function(){return this.type===m.name||this.type===m.privateId||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword};D.parseClassElementName=function(t){this.type===m.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};D.parseClassMethod=function(t,e,i,o){var r=t.key;t.kind==="constructor"?(e&&this.raise(r.start,"Constructor can't be a generator"),i&&this.raise(r.start,"Constructor can't be an async method")):t.static&&Ux(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};D.parseClassField=function(t){if(Ux(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Ux(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(m.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};D.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Sm|l0);this.type!==m.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};D.parseClassId=function(t,e){this.type===m.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,$t,!1)):(e===!0&&this.unexpected(),t.id=null)};D.parseClassSuper=function(t){t.superClass=this.eat(m._extends)?this.parseExprSubscripts(null,!1):null};D.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};D.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var o=this.privateNameStack.length,r=o===0?null:this.privateNameStack[o-1],a=0;a<i.length;++a){var c=i[a];Im(e,c.name)||(r?r.used.push(c):this.raiseRecoverable(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"))}};function ES(t,e){var i=e.key.name,o=t[i],r="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(r=(e.static?"s":"i")+e.kind),o==="iget"&&r==="iset"||o==="iset"&&r==="iget"||o==="sget"&&r==="sset"||o==="sset"&&r==="sget"?(t[i]="true",!1):o?!0:(t[i]=r,!1)}n(ES,"isPrivateNameConflicted");function Ux(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(Ux,"checkKeyName");D.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};D.parseExport=function(t,e){if(this.next(),this.eat(m.star))return this.parseExportAllDeclaration(t,e);if(this.eat(m._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var r=o[i];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};D.parseExportDeclaration=function(t){return this.parseStatement(null)};D.parseExportDefaultDeclaration=function(){var t;if(this.type===m._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,wm|ck,!1,t)}else if(this.type===m._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};D.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Im(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};D.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,r=e.properties;o<r.length;o+=1){var a=r[o];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var c=0,p=e.elements;c<p.length;c+=1){var d=p[c];d&&this.checkPatternExport(t,d)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};D.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var r=o[i];this.checkPatternExport(t,r.id)}};D.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};D.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};D.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(i)i=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;e.push(this.parseExportSpecifier(t))}return e};D.parseImport=function(t){return this.next(),this.type===m.string?(t.specifiers=CS,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};D.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,$t),this.finishNode(t,"ImportSpecifier")};D.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,$t),this.finishNode(t,"ImportDefaultSpecifier")};D.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,$t),this.finishNode(t,"ImportNamespaceSpecifier")};D.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===m.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(m.comma)))return t;if(this.type===m.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(m.braceL);!this.eat(m.braceR);){if(e)e=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;t.push(this.parseImportSpecifier())}return t};D.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===m.string){var t=this.parseLiteral(this.value);return wS.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};D.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};D.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var ft=Ie.prototype;ft.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,r=t.properties;o<r.length;o+=1){var a=r[o];this.toAssignable(a,e),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};ft.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var r=t[o];r&&this.toAssignable(r,e)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&e&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};ft.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};ft.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==m.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};ft.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case m.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()};ft.parseBindingList=function(t,e,i,o){for(var r=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(m.comma),e&&this.type===m.comma)r.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===m.ellipsis){var c=this.parseRestBinding();this.parseBindingListItem(c),r.push(c),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else r.push(this.parseAssignableListItem(o))}return r};ft.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};ft.parseBindingListItem=function(t){return t};ft.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};ft.checkLValSimple=function(t,e,i){e===void 0&&(e=Yx);var o=e!==Yx;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===$t&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Im(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==lk&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};ft.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=Yx),t.type){case"ObjectPattern":for(var o=0,r=t.properties;o<r.length;o+=1){var a=r[o];this.checkLValInnerPattern(a,e,i)}break;case"ArrayPattern":for(var c=0,p=t.elements;c<p.length;c+=1){var d=p[c];d&&this.checkLValInnerPattern(d,e,i)}break;default:this.checkLValSimple(t,e,i)}};ft.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=Yx),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Tt=n(function(e,i,o,r,a){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=r,this.generator=!!a},"TokContext"),de={b_stat:new Tt("{",!1),b_expr:new Tt("{",!0),b_tmpl:new Tt("${",!1),p_stat:new Tt("(",!1),p_expr:new Tt("(",!0),q_tmpl:new Tt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Tt("function",!1),f_expr:new Tt("function",!0),f_expr_gen:new Tt("function",!0,!1,null,!0),f_gen:new Tt("function",!1,!1,null,!0)},Cr=Ie.prototype;Cr.initialContext=function(){return[de.b_stat]};Cr.curContext=function(){return this.context[this.context.length-1]};Cr.braceIsBlock=function(t){var e=this.curContext();return e===de.f_expr||e===de.f_stat?!0:t===m.colon&&(e===de.b_stat||e===de.b_expr)?!e.isExpr:t===m._return||t===m.name&&this.exprAllowed?dt.test(this.input.slice(this.lastTokEnd,this.start)):t===m._else||t===m.semi||t===m.eof||t===m.parenR||t===m.arrow?!0:t===m.braceL?e===de.b_stat:t===m._var||t===m._const||t===m.name?!1:!this.exprAllowed};Cr.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Cr.updateContext=function(t){var e,i=this.type;i.keyword&&t===m.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Cr.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};m.parenR.updateContext=m.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===de.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};m.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?de.b_stat:de.b_expr),this.exprAllowed=!0};m.dollarBraceL.updateContext=function(){this.context.push(de.b_tmpl),this.exprAllowed=!0};m.parenL.updateContext=function(t){var e=t===m._if||t===m._for||t===m._with||t===m._while;this.context.push(e?de.p_stat:de.p_expr),this.exprAllowed=!0};m.incDec.updateContext=function(){};m._function.updateContext=m._class.updateContext=function(t){t.beforeExpr&&t!==m._else&&!(t===m.semi&&this.curContext()!==de.p_stat)&&!(t===m._return&&dt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===m.colon||t===m.braceL)&&this.curContext()===de.b_stat)?this.context.push(de.f_expr):this.context.push(de.f_stat),this.exprAllowed=!1};m.backQuote.updateContext=function(){this.curContext()===de.q_tmpl?this.context.pop():this.context.push(de.q_tmpl),this.exprAllowed=!1};m.star.updateContext=function(t){if(t===m._function){var e=this.context.length-1;this.context[e]===de.f_expr?this.context[e]=de.f_expr_gen:this.context[e]=de.f_gen}this.exprAllowed=!0};m.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==m.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var J=Ie.prototype;J.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,r;switch(o.type){case"Identifier":r=o.name;break;case"Literal":r=String(o.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&a==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}r="$"+r;var c=e[r];if(c){var p;a==="init"?p=this.strict&&c.init||c.get||c.set:p=c.init||c[a],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else c=e[r]={init:!1,get:!1,set:!1};c[a]=!0}};J.parseExpression=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===m.comma){var a=this.startNodeAt(i,o);for(a.expressions=[r];this.eat(m.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return r};J.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,r=-1,a=-1,c=-1;e?(r=e.parenthesizedAssign,a=e.trailingComma,c=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Gx,o=!0);var p=this.start,d=this.startLoc;(this.type===m.parenL||this.type===m.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var v=this.parseMaybeConditional(t,e);if(i&&(v=i.call(this,v,p,d)),this.type.isAssign){var h=this.startNodeAt(p,d);return h.operator=this.value,this.type===m.eq&&(v=this.toAssignable(v,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=v.start&&(e.shorthandAssign=-1),this.type===m.eq?this.checkLValPattern(v):this.checkLValSimple(v),h.left=v,this.next(),h.right=this.parseMaybeAssign(t),c>-1&&(e.doubleProto=c),this.finishNode(h,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return r>-1&&(e.parenthesizedAssign=r),a>-1&&(e.trailingComma=a),v};J.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(m.question)){var a=this.startNodeAt(i,o);return a.test=r,a.consequent=this.parseMaybeAssign(),this.expect(m.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return r};J.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||r.start===i&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,i,o,-1,t)};J.parseExprOp=function(t,e,i,o,r){var a=this.type.binop;if(a!=null&&(!r||this.type!==m._in)&&a>o){var c=this.type===m.logicalOR||this.type===m.logicalAND,p=this.type===m.coalesce;p&&(a=m.logicalAND.binop);var d=this.value;this.next();var v=this.start,h=this.startLoc,y=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),v,h,a,r),x=this.buildBinary(e,i,t,y,d,c||p);return(c&&this.type===m.coalesce||p&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(x,e,i,o,r)}return t};J.buildBinary=function(t,e,i,o,r,a){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var c=this.startNodeAt(t,e);return c.left=i,c.operator=r,c.right=o,this.finishNode(c,a?"LogicalExpression":"BinaryExpression")};J.parseMaybeUnary=function(t,e,i,o){var r=this.start,a=this.startLoc,c;if(this.isContextual("await")&&this.canAwait)c=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),d=this.type===m.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,d,o),this.checkExpressionErrors(t,!0),d?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&pk(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,c=this.finishNode(p,d?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===m.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),c=this.parsePrivateIdent(),this.type!==m._in&&this.unexpected();else{if(c=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return c;for(;this.type.postfix&&!this.canInsertSemicolon();){var v=this.startNodeAt(r,a);v.operator=this.value,v.prefix=!1,v.argument=c,this.checkLValSimple(c),this.next(),c=this.finishNode(v,"UpdateExpression")}}if(!i&&this.eat(m.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(r,a,c,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return c};function pk(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&pk(t.expression)}n(pk,"isPrivateFieldAccess");J.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprAtom(t,e);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var a=this.parseSubscripts(r,i,o,!1,e);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};J.parseSubscripts=function(t,e,i,o,r){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,c=!1;;){var p=this.parseSubscript(t,e,i,o,a,c,r);if(p.optional&&(c=!0),p===t||p.type==="ArrowFunctionExpression"){if(c){var d=this.startNodeAt(e,i);d.expression=p,p=this.finishNode(d,"ChainExpression")}return p}t=p}};J.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(m.arrow)};J.parseSubscriptAsyncArrow=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,o)};J.parseSubscript=function(t,e,i,o,r,a,c){var p=this.options.ecmaVersion>=11,d=p&&this.eat(m.questionDot);o&&d&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var v=this.eat(m.bracketL);if(v||d&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var h=this.startNodeAt(e,i);h.object=t,v?(h.property=this.parseExpression(),this.expect(m.bracketR)):this.type===m.privateId&&t.type!=="Super"?h.property=this.parsePrivateIdent():h.property=this.parseIdent(this.options.allowReserved!=="never"),h.computed=!!v,p&&(h.optional=d),t=this.finishNode(h,"MemberExpression")}else if(!o&&this.eat(m.parenL)){var y=new Gx,x=this.yieldPos,w=this.awaitPos,T=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var S=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1,y);if(r&&!d&&this.shouldParseAsyncArrow())return this.checkPatternErrors(y,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=x,this.awaitPos=w,this.awaitIdentPos=T,this.parseSubscriptAsyncArrow(e,i,S,c);this.checkExpressionErrors(y,!0),this.yieldPos=x||this.yieldPos,this.awaitPos=w||this.awaitPos,this.awaitIdentPos=T||this.awaitIdentPos;var V=this.startNodeAt(e,i);V.callee=t,V.arguments=S,p&&(V.optional=d),t=this.finishNode(V,"CallExpression")}else if(this.type===m.backQuote){(d||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var O=this.startNodeAt(e,i);O.tag=t,O.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(O,"TaggedTemplateExpression")}return t};J.parseExprAtom=function(t,e,i){this.type===m.slash&&this.readRegexp();var o,r=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===m.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(o,"Super");case m._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case m.name:var a=this.start,c=this.startLoc,p=this.containsEsc,d=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&d.name==="async"&&!this.canInsertSemicolon()&&this.eat(m._function))return this.overrideContext(de.f_expr),this.parseFunction(this.startNodeAt(a,c),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(a,c),[d],!1,e);if(this.options.ecmaVersion>=8&&d.name==="async"&&this.type===m.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return d=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(m.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,c),[d],!0,e)}return d;case m.regexp:var v=this.value;return o=this.parseLiteral(v.value),o.regex={pattern:v.pattern,flags:v.flags},o;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return o=this.startNode(),o.value=this.type===m._null?null:this.type===m._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case m.parenL:var h=this.start,y=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(y)&&(t.parenthesizedAssign=h),t.parenthesizedBind<0&&(t.parenthesizedBind=h)),y;case m.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(m.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case m.braceL:return this.overrideContext(de.b_expr),this.parseObj(!1,t);case m._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};J.parseExprAtomDefault=function(){this.unexpected()};J.parseExprImport=function(t){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);if(this.type===m.parenL&&!t)return this.parseDynamicImport(e);if(this.type===m.dot)return e.meta=i,this.parseImportMeta(e);this.unexpected()};J.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var e=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};J.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};J.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};J.parseParenExpression=function(){this.expect(m.parenL);var t=this.parseExpression();return this.expect(m.parenR),t};J.shouldParseArrow=function(t){return!this.canInsertSemicolon()};J.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,r,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var c=this.start,p=this.startLoc,d=[],v=!0,h=!1,y=new Gx,x=this.yieldPos,w=this.awaitPos,T;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;)if(v?v=!1:this.expect(m.comma),a&&this.afterTrailingComma(m.parenR,!0)){h=!0;break}else if(this.type===m.ellipsis){T=this.start,d.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else d.push(this.parseMaybeAssign(!1,y,this.parseParenItem));var S=this.lastTokEnd,V=this.lastTokEndLoc;if(this.expect(m.parenR),t&&this.shouldParseArrow(d)&&this.eat(m.arrow))return this.checkPatternErrors(y,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=x,this.awaitPos=w,this.parseParenArrowList(i,o,d,e);(!d.length||h)&&this.unexpected(this.lastTokStart),T&&this.unexpected(T),this.checkExpressionErrors(y,!0),this.yieldPos=x||this.yieldPos,this.awaitPos=w||this.awaitPos,d.length>1?(r=this.startNodeAt(c,p),r.expressions=d,this.finishNodeAt(r,"SequenceExpression",S,V)):r=d[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var O=this.startNodeAt(i,o);return O.expression=r,this.finishNode(O,"ParenthesizedExpression")}else return r};J.parseParenItem=function(t){return t};J.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var NS=[];J.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(m.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,r,!0,!1),this.eat(m.parenL)?t.arguments=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1):t.arguments=NS,this.finishNode(t,"NewExpression")};J.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===m.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===m.backQuote,this.finishNode(i,"TemplateElement")};J.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(m.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};J.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===m.star)&&!dt.test(this.input.slice(this.lastTokEnd,this.start))};J.parseObj=function(t,e){var i=this.startNode(),o=!0,r={};for(i.properties=[],this.next();!this.eat(m.braceR);){if(o)o=!1;else if(this.expect(m.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(m.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,r,e),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};J.parseProperty=function(t,e){var i=this.startNode(),o,r,a,c;if(this.options.ecmaVersion>=9&&this.eat(m.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===m.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(a=this.start,c=this.startLoc),t||(o=this.eat(m.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(r=!0,o=this.options.ecmaVersion>=9&&this.eat(m.star),this.parsePropertyName(i)):r=!1,this.parsePropertyValue(i,t,o,r,a,c,e,p),this.finishNode(i,"Property")};J.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};J.parsePropertyValue=function(t,e,i,o,r,a,c,p){(i||o)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,c),t.kind="init"):this.options.ecmaVersion>=6&&this.type===m.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==m.comma&&this.type!==m.braceR&&this.type!==m.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,a,this.copyNode(t.key)):this.type===m.eq&&c?(c.shorthandAssign<0&&(c.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};J.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(m.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(m.bracketR),t.key;t.computed=!1}return t.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};J.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};J.parseMethod=function(t,e,i){var o=this.startNode(),r=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(p0(e,o.generator)|l0|(i?sk:0)),this.expect(m.parenL),o.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(o,"FunctionExpression")};J.parseArrowExpression=function(t,e,i,o){var r=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.enterScope(p0(i,!1)|nk),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(t,"ArrowFunctionExpression")};J.parseFunctionBody=function(t,e,i,o){var r=e&&this.type!==m.braceL,a=this.strict,c=!1;if(r)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||p)&&(c=this.strictDirective(this.end),c&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var d=this.labels;this.labels=[],c&&(this.strict=!0),this.checkParams(t,!a&&!c&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,lk),t.body=this.parseBlock(!1,void 0,c&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=d}this.exitScope()};J.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};J.checkParams=function(t,e){for(var i=Object.create(null),o=0,r=t.params;o<r.length;o+=1){var a=r[o];this.checkLValInnerPattern(a,d0,e?null:i)}};J.parseExprList=function(t,e,i,o){for(var r=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(m.comma),e&&this.afterTrailingComma(t))break;var c=void 0;i&&this.type===m.comma?c=null:this.type===m.ellipsis?(c=this.parseSpread(o),o&&this.type===m.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):c=this.parseMaybeAssign(!1,o),r.push(c)}return r};J.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};J.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};J.parseIdentNode=function(){var t=this.startNode();return this.type===m.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),t};J.parsePrivateIdent=function(){var t=this.startNode();return this.type===m.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};J.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(m.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};J.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Wx=Ie.prototype;Wx.raise=function(t,e){var i=ik(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};Wx.raiseRecoverable=Wx.raise;Wx.curPosition=function(){if(this.options.locations)return new Tm(this.curLine,this.pos-this.lineStart)};var Ni=Ie.prototype,PS=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Ni.enterScope=function(t){this.scopeStack.push(new PS(t))};Ni.exitScope=function(){this.scopeStack.pop()};Ni.treatFunctionsAsVarInScope=function(t){return t.flags&Sr||!this.inModule&&t.flags&km};Ni.declareName=function(t,e,i){var o=!1;if(e===$t){var r=this.currentScope();o=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&r.flags&km&&delete this.undefinedExports[t]}else if(e===uk){var a=this.currentScope();a.lexical.push(t)}else if(e===ak){var c=this.currentScope();this.treatFunctionsAsVar?o=c.lexical.indexOf(t)>-1:o=c.lexical.indexOf(t)>-1||c.var.indexOf(t)>-1,c.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var d=this.scopeStack[p];if(d.lexical.indexOf(t)>-1&&!(d.flags&rk&&d.lexical[0]===t)||!this.treatFunctionsAsVarInScope(d)&&d.functions.indexOf(t)>-1){o=!0;break}if(d.var.push(t),this.inModule&&d.flags&km&&delete this.undefinedExports[t],d.flags&c0)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Ni.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Ni.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Ni.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&c0)return e}};Ni.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&c0&&!(e.flags&nk))return e}};var Hx=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Jx(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Cm=Ie.prototype;Cm.startNode=function(){return new Hx(this,this.start,this.startLoc)};Cm.startNodeAt=function(t,e){return new Hx(this,t,e)};function dk(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(dk,"finishNodeAt");Cm.finishNode=function(t,e){return dk.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Cm.finishNodeAt=function(t,e,i,o){return dk.call(this,t,e,i,o)};Cm.copyNode=function(t){var e=new Hx(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var fk="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",mk=fk+" Extended_Pictographic",hk=mk,_k=hk+" EBase EComp EMod EPres ExtPict",vk=_k,RS=vk,AS={9:fk,10:mk,11:hk,12:_k,13:vk,14:RS},VS="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",MS={9:"",10:"",11:"",12:"",13:"",14:VS},K1="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",xk="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",gk=xk+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",yk=gk+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",bk=yk+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",wk=bk+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",BS=wk+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",DS={9:xk,10:gk,11:yk,12:bk,13:wk,14:BS},Tk={};function LS(t){var e=Tk[t]={binary:Ci(AS[t]+" "+K1),binaryOfStrings:Ci(MS[t]),nonBinary:{General_Category:Ci(K1),Script:Ci(DS[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(LS,"buildUnicodeData");for(jx=0,o0=[9,10,11,12,13,14];jx<o0.length;jx+=1)q1=o0[jx],LS(q1);var q1,jx,o0,M=Ie.prototype,Bt=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Tk[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");Bt.prototype.reset=n(function(e,i,o){var r=o.indexOf("v")!==-1,a=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)},"reset");Bt.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Bt.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return-1;var a=o.charCodeAt(e);if(!(i||this.switchU)||a<=55295||a>=57344||e+1>=r)return a;var c=o.charCodeAt(e+1);return c>=56320&&c<=57343?(a<<10)+c-56613888:a},"at");Bt.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return r;var a=o.charCodeAt(e),c;return!(i||this.switchU)||a<=55295||a>=57344||e+1>=r||(c=o.charCodeAt(e+1))<56320||c>57343?e+1:e+2},"nextIndex");Bt.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Bt.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Bt.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Bt.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");Bt.prototype.eatChars=n(function(e,i){i===void 0&&(i=!1);for(var o=this.pos,r=0,a=e;r<a.length;r+=1){var c=a[r],p=this.at(o,i);if(p===-1||p!==c)return!1;o=this.nextIndex(o,i)}return this.pos=o,!0},"eatChars");M.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=!1,r=!1,a=0;a<i.length;a++){var c=i.charAt(a);e.indexOf(c)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(c,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),c==="u"&&(o=!0),c==="v"&&(r=!0)}this.options.ecmaVersion>=15&&o&&r&&this.raise(t.start,"Invalid regular expression flag")};M.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};M.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};M.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};M.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};M.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};M.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};M.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};M.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};M.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return r!==-1&&r<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};M.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};M.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};M.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};M.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};M.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};M.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};M.regexp_eatSyntaxCharacter=function(t){var e=t.current();return kk(e)?(t.lastIntValue=e,t.advance(),!0):!1};function kk(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(kk,"isSyntaxCharacter");M.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!kk(i);)t.advance();return t.pos!==e};M.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};M.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};M.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};M.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Ei(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Ei(t.lastIntValue);return!0}return!1};M.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),OS(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function OS(t){return Ht(t,!0)||t===36||t===95}n(OS,"isRegExpIdentifierStart");M.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),FS(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function FS(t){return kr(t,!0)||t===36||t===95||t===8204||t===8205}n(FS,"isRegExpIdentifierPart");M.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};M.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};M.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};M.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};M.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};M.regexp_eatZero=function(t){return t.current()===48&&!zx(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};M.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};M.regexp_eatControlLetter=function(t){var e=t.current();return Ik(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function Ik(t){return t>=65&&t<=90||t>=97&&t<=122}n(Ik,"isControlLetter");M.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(o&&r>=55296&&r<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var c=t.lastIntValue;if(c>=56320&&c<=57343)return t.lastIntValue=(r-55296)*1024+(c-56320)+65536,!0}t.pos=a,t.lastIntValue=r}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&jS(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function jS(t){return t>=0&&t<=1114111}n(jS,"isValidUnicode");M.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};M.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var Sk=0,zt=1,pt=2;M.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(YS(e))return t.lastIntValue=-1,t.advance(),zt;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===pt&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return Sk};function YS(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(YS,"isCharacterClassEscape");M.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),zt}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r)}return Sk};M.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Im(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};M.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return zt;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return pt;t.raise("Invalid property name")};M.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";Ck(e=t.current());)t.lastStringValue+=Ei(e),t.advance();return t.lastStringValue!==""};function Ck(t){return Ik(t)||t===95}n(Ck,"isUnicodePropertyNameCharacter");M.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";US(e=t.current());)t.lastStringValue+=Ei(e),t.advance();return t.lastStringValue!==""};function US(t){return Ck(t)||zx(t)}n(US,"isUnicodePropertyValueCharacter");M.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};M.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===pt&&t.raise("Negated character class may contain strings"),!0}return!1};M.regexp_classContents=function(t){return t.current()===93?zt:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),zt)};M.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};M.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||Pk(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};M.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};M.regexp_classSetExpression=function(t){var e=zt,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===pt&&(e=pt);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==pt&&(e=zt);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===pt&&(e=pt)}};M.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};M.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?zt:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};M.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===pt&&t.raise("Negated character class may contain strings"),o;t.pos=e}if(t.eat(92)){var r=this.regexp_eatCharacterClassEscape(t);if(r)return r;t.pos=e}return null};M.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};M.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===pt&&(e=pt);return e};M.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?zt:pt};M.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&WS(i)||JS(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function WS(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}n(WS,"isClassSetReservedDoublePunctuatorCharacter");function JS(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}n(JS,"isClassSetSyntaxCharacter");M.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return GS(e)?(t.lastIntValue=e,t.advance(),!0):!1};function GS(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}n(GS,"isClassSetReservedPunctuator");M.regexp_eatClassControlLetter=function(t){var e=t.current();return zx(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};M.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};M.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;zx(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function zx(t){return t>=48&&t<=57}n(zx,"isDecimalDigit");M.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Ek(i=t.current());)t.lastIntValue=16*t.lastIntValue+Nk(i),t.advance();return t.pos!==e};function Ek(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n(Ek,"isHexDigit");function Nk(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n(Nk,"hexToInt");M.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};M.regexp_eatOctalDigit=function(t){var e=t.current();return Pk(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function Pk(t){return t>=48&&t<=55}n(Pk,"isOctalDigit");M.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var r=t.current();if(!Ek(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+Nk(r),t.advance()}return!0};var m0=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Jx(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),X=Ie.prototype;X.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new m0(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};X.getToken=function(){return this.next(),new m0(this)};typeof Symbol<"u"&&(X[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===m.eof,value:e}}}});X.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(m.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};X.readToken=function(t){return Ht(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};X.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};X.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,r=e;(o=Z1(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};X.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Ir(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};X.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&ek.test(String.fromCharCode(t)))++this.pos;else break e}}};X.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};X.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))};X.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(m.assign,2):this.finishOp(m.slash,1)};X.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?m.star:m.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=m.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(m.assign,i+1):this.finishOp(o,i)};X.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(m.assign,3)}return this.finishOp(t===124?m.logicalOR:m.logicalAND,2)}return e===61?this.finishOp(m.assign,2):this.finishOp(t===124?m.bitwiseOR:m.bitwiseAND,1)};X.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)};X.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||dt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(m.incDec,2):e===61?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)};X.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(m.assign,i+1):this.finishOp(m.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(m.relational,i))};X.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(m.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(t===61?m.eq:m.prefix,1)};X.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(m.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(m.assign,3)}return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)};X.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Ht(e,!0)||e===92))return this.finishToken(m.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ei(e)+"'")};X.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ei(t)+"'")};X.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};X.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(dt.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var r=this.input.slice(i,this.pos);++this.pos;var a=this.pos,c=this.readWord1();this.containsEsc&&this.unexpected(a);var p=this.regexpState||(this.regexpState=new Bt(this));p.reset(i,r,c),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var d=null;try{d=new RegExp(r,c)}catch(v){}return this.finishToken(m.regexp,{pattern:r,flags:c,value:d})};X.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,r=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,c=0,p=0,d=0,v=e==null?1/0:e;d<v;++d,++this.pos){var h=this.input.charCodeAt(this.pos),y=void 0;if(o&&h===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),d===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=h;continue}if(h>=97?y=h-97+10:h>=65?y=h-65+10:h>=48&&h<=57?y=h-48:y=1/0,y>=t)break;p=h,c=c*t+y}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||e!=null&&this.pos-a!==e?null:c};function HS(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n(HS,"stringToNumber");function Rk(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(Rk,"stringToBigInt");X.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=Rk(this.input.slice(e,this.pos)),++this.pos):Ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,i)};X.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var r=Rk(this.input.slice(e,this.pos));return++this.pos,Ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,r)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Ht(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=HS(this.input.slice(e,this.pos),i);return this.finishToken(m.num,a)};X.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};X.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Ir(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(m.string,e)};var Ak={};X.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===Ak)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};X.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Ak;this.raise(t,e)};X.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===m.template||this.type===m.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(m.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Ir(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};X.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};X.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ei(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(o,8);return r>255&&(o=o.slice(0,-1),r=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return Ir(e)?"":String.fromCharCode(e)}};X.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};X.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(kr(r,o))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var c=this.readCodePoint();(e?Ht:kr)(c,o)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=Ei(c),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};X.readWord=function(){var t=this.readWord1(),e=m.name;return this.keywords.test(t)&&(e=a0[t]),this.finishToken(e,t)};var zS="8.10.0";Ie.acorn={Parser:Ie,version:zS,defaultOptions:r0,Position:Tm,SourceLocation:Jx,getLineInfo:ik,Node:Hx,TokenType:re,tokTypes:m,keywordTypes:a0,TokContext:Tt,tokContexts:de,isIdentifierChar:kr,isIdentifierStart:Ht,Token:m0,isNewLine:Ir,lineBreak:dt,lineBreakG:gS,nonASCIIwhitespace:ek};function Vk(t,e){return Ie.parse(t,e)}n(Vk,"parse");var $S=function(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i},KS=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},$x,xo=class{constructor(e){$x.set(this,void 0);let i=Vk(e,{ecmaVersion:2020});$S(this,$x,i.body,"f"),this.visitor=new Tr(KS(this,$x,"f")),this.scope=this.visitor.scope,this.scope.set("print",o=>console.log(...o)),this.visitor.on("console",(o,r)=>{if(o.type==="Identifier")return console;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=r.visitNode(o.callee.property),c=o.arguments.map(d=>r.visitNode(d)),p=console[a];return p?p(...c):"proceed"}return"proceed"}),this.visitor.on("Math",(o,r)=>{if(o.type==="Identifier")return Math;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=r.visitNode(o.callee.property),c=o.arguments.map(d=>r.visitNode(d)),p=Math[a];return p?p(...c):"proceed"}return"proceed"}),this.visitor.on("String",(o,r)=>{if(o.type==="Identifier")return String;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=r.visitNode(o.callee.property),c=o.arguments.map(d=>r.visitNode(d)),p=String[a];return p?p(c):"proceed"}return"proceed"}),this.visitor.on("Date",o=>{if(o.type==="Identifier")return Date})}interpret(){return this.visitor.run()}};n(xo,"Jinter");$x=new WeakMap;var Em,go,Mk,Bk,Dk,Kx=class{constructor(e){Em.add(this),go.set(this,void 0),C(this,go,e,"f")}get session(){return f(this,go,"f")}stats(e,i,o){return I(this,void 0,void 0,function*(){let r=new URL(e);r.searchParams.set("ver","2"),r.searchParams.set("c",i.client_name.toLowerCase()),r.searchParams.set("cbrver",i.client_version),r.searchParams.set("cver",i.client_version);for(let c of Object.keys(o))r.searchParams.set(c,o[c]);return yield f(this,go,"f").http.fetch(r)})}execute(e,i){var o,r;return I(this,void 0,void 0,function*(){let a;if(i&&!i.protobuf){if(a=Object.assign({},i),Reflect.has(a,"browseId")&&f(this,Em,"m",Dk).call(this,a.browseId)&&!f(this,go,"f").logged_in)throw new b("You must be signed in to perform this operation.");Reflect.has(a,"override_endpoint")&&delete a.override_endpoint,Reflect.has(a,"parse")&&delete a.parse,Reflect.has(a,"request")&&delete a.request,Reflect.has(a,"clientActions")&&delete a.clientActions,Reflect.has(a,"settingItemIdForClient")&&delete a.settingItemIdForClient,Reflect.has(a,"action")&&(a.actions=[a.action],delete a.action),Reflect.has(a,"boolValue")&&(a.newValue={boolValue:a.boolValue},delete a.boolValue),Reflect.has(a,"token")&&(a.continuation=a.token,delete a.token),(a==null?void 0:a.client)==="YTMUSIC"&&(a.isAudioOnly=!0)}else i&&(a=i.serialized_data);let c=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield f(this,go,"f").http.fetch(c,{method:"POST",body:i!=null&&i.protobuf?a:JSON.stringify(a||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let d=l.parseResponse(yield p.json());if(f(this,Em,"m",Bk).call(this,d)&&((r=(o=d.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||r===void 0?void 0:r.type)==="navigateAction"){let v=d.on_response_received_actions.firstOfType(hi);v&&(d=yield v.endpoint.call(this,{parse:!0}))}return d}return f(this,Em,"m",Mk).call(this,p)})}};n(Kx,"Actions");go=new WeakMap,Em=new WeakSet,Mk=n(function(e){return I(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),Bk=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),Dk=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var h0=Kx;var Er,Nr,Nm,Pm,he=class{constructor(e,i,o,r){Er.set(this,void 0),Nr.set(this,void 0),Nm.set(this,void 0),Pm.set(this,void 0),C(this,Er,o,"f"),C(this,Nr,i,"f"),C(this,Nm,e,"f"),C(this,Pm,r,"f")}static create(e,i=F.shim.fetch){return I(this,void 0,void 0,function*(){let o=new URL("/iframe_api",ge.URLS.YT_BASE),r=yield i(o);if(r.status!==200)throw new wt("Failed to request player id");let a=yield r.text(),c=Me(a,"player\\/","\\/");if(Y.info(he.TAG,`Got player id (${c}). Checking for cached players..`),!c)throw new wt("Failed to get player id");if(e){Y.info(he.TAG,"Found a cached player.");let w=yield he.fromCache(e,c);if(w)return w}let p=new URL(`/s/player/${c}/player_ias.vflset/en_US/base.js`,ge.URLS.YT_BASE);Y.info(he.TAG,`Could not find any cached player. Will download a new player from ${p}.`);let d=yield i(p,{headers:{"user-agent":Oi("desktop")}});if(!d.ok)throw new wt(`Failed to get player data: ${d.status}`);let v=yield d.text(),h=this.extractSigTimestamp(v),y=this.extractSigSourceCode(v),x=this.extractNSigSourceCode(v);return Y.info(he.TAG,`Got signature timestamp (${h}) and algorithms needed to decipher signatures.`),yield he.fromSource(e,h,y,x,c)})}decipher(e,i,o,r){if(e=e||i||o,!e)throw new wt("No valid URL to decipher");let a=new URLSearchParams(e),c=new URL(a.get("url")||e);if(i||o){let h=F.shim.calculate(f(this,Nr,"f"),{sig:a.get("s")});if(Y.info(he.TAG,`Transformed signature ${a.get("s")} to ${h}.`),typeof h!="string")throw new wt("Failed to decipher signature");let y=a.get("sp");y?c.searchParams.set(y,h):c.searchParams.set("signature",h)}let p=c.searchParams.get("n");if(p){let h;if(r&&r.has(p))h=r.get(p);else{if(h=F.shim.calculate(f(this,Er,"f"),{nsig:p}),Y.info(he.TAG,`Transformed nsig ${p} to ${h}.`),typeof h!="string")throw new wt("Failed to decipher nsig");h.startsWith("enhanced_except_")?Y.warn(he.TAG,`Could not transform nsig, download may be throttled.
Changing the InnerTube client to "ANDROID" might help!`):r&&r.set(p,h)}c.searchParams.set("n",h)}switch(c.searchParams.get("c")){case"WEB":c.searchParams.set("cver",ge.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":c.searchParams.set("cver",ge.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":c.searchParams.set("cver",ge.CLIENTS.WEB_KIDS.VERSION);break;case"ANDROID":c.searchParams.set("cver",ge.CLIENTS.ANDROID.VERSION);break;case"ANDROID_MUSIC":c.searchParams.set("cver",ge.CLIENTS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":c.searchParams.set("cver",ge.CLIENTS.TV_EMBEDDED.VERSION);break}let v=c.toString();return Y.info(he.TAG,`Full deciphered URL: ${v}`),c.toString()}static fromCache(e,i){return I(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let r=new DataView(o);if(r.getUint32(0,!0)!==he.LIBRARY_VERSION)return null;let c=r.getUint32(4,!0),p=r.getUint32(8,!0),d=o.slice(12,12+p),v=o.slice(12+p),h=new TextDecoder,y=h.decode(d),x=h.decode(v);return new he(c,y,x,i)})}static fromSource(e,i,o,r,a){return I(this,void 0,void 0,function*(){let c=new he(i,o,r,a);return yield c.cache(e),c})}cache(e){return I(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(f(this,Nr,"f")),r=i.encode(f(this,Er,"f")),a=new ArrayBuffer(12+o.byteLength+r.byteLength),c=new DataView(a);c.setUint32(0,he.LIBRARY_VERSION,!0),c.setUint32(4,f(this,Nm,"f"),!0),c.setUint32(8,o.byteLength,!0),new Uint8Array(a).set(o,12),new Uint8Array(a).set(r,12+o.byteLength),yield e.set(f(this,Pm,"f"),new Uint8Array(a))})}static extractSigTimestamp(e){return parseInt(Me(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,r;let a=Me(e,'function(a){a=a.split("")','return a.join("")}'),c=(r=(o=(i=a==null?void 0:a.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||r===void 0?void 0:r.trim(),p=Me(e,`var ${c}={`,"};");return(!p||!a)&&Y.warn(he.TAG,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${c}={${p}}${a} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=`function descramble_nsig(a) { let b=a.split("")${Me(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return i||Y.warn(he.TAG,"Failed to extract n-token decipher algorithm"),i}get url(){return new URL(`/s/player/${f(this,Pm,"f")}/player_ias.vflset/en_US/base.js`,ge.URLS.YT_BASE).toString()}get sts(){return f(this,Nm,"f")}get nsig_sc(){return f(this,Er,"f")}get sig_sc(){return f(this,Nr,"f")}static get LIBRARY_VERSION(){return 2}};n(he,"Player");Er=new WeakMap,Nr=new WeakMap,Nm=new WeakMap,Pm=new WeakMap;he.TAG="Player";var _0=he;var Pr,qx,Xx,yo,Qx,Zx,v0,Lk,x0,g0;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(g0||(g0={}));var tt=class extends Vr{constructor(e,i,o,r,a,c,p,d){super(),qx.set(this,void 0),Xx.set(this,void 0),yo.set(this,void 0),Qx.set(this,void 0),Zx.set(this,void 0),C(this,yo,e,"f"),C(this,Qx,r,"f"),C(this,Xx,i,"f"),C(this,qx,o,"f"),C(this,Zx,a,"f"),this.http=new mg(this,c,p),this.actions=new h0(this),this.logged_in=!!c,this.cache=d}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return I(this,void 0,void 0,function*(){let{context:i,api_key:o,api_version:r,account_index:a}=yield tt.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user);return new tt(i,o,r,a,e.retrieve_player===!1?void 0:yield _0.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",i="",o=0,r="",a=!1,c=!1,p="desktop",d=g0.WEB,v=Intl.DateTimeFormat().resolvedOptions().timeZone,h=F.shim.fetch,y){return I(this,void 0,void 0,function*(){let x,w={lang:e,location:i,time_zone:v,device_category:p,client_name:d,enable_safety_mode:a,visitor_data:r,on_behalf_of_user:y};if(Y.info(tt.TAG,"Retrieving InnerTube session."),c)x=f(this,Pr,"m",x0).call(this,w);else try{x=yield f(this,Pr,"m",Lk).call(this,w,h)}catch(T){Y.error(tt.TAG,"Failed to retrieve session data from server. Will try to generate it locally."),x=f(this,Pr,"m",x0).call(this,w)}return Y.info(tt.TAG,`Got session data.
`,x),Object.assign(Object.assign({},x),{account_index:o})})}get key(){return f(this,Xx,"f")}get api_version(){return f(this,qx,"f")}get client_version(){return f(this,yo,"f").client.clientVersion}get client_name(){return f(this,yo,"f").client.clientName}get account_index(){return f(this,Qx,"f")}get context(){return f(this,yo,"f")}get player(){return f(this,Zx,"f")}get lang(){return f(this,yo,"f").client.hl}};n(tt,"Session");Pr=tt,qx=new WeakMap,Xx=new WeakMap,yo=new WeakMap,Qx=new WeakMap,Zx=new WeakMap,v0=n(function(e){let i=Ig(e);return Y.info(tt.TAG,`Custom visitor data decoded successfully.
`,i),i.id},"_Session_getVisitorID"),Lk=n(function(e,i=F.shim.fetch){return I(this,void 0,void 0,function*(){let o=new URL("/sw.js_data",rt.YT_BASE),r=_o(11);e.visitor_data&&(r=f(this,Pr,"m",v0).call(this,e.visitor_data));let a=yield i(o,{headers:{"accept-language":e.lang||"en-US","user-agent":Oi("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${r};`}});if(!a.ok)throw new Un(`Failed to retrieve session data: ${a.status}`);let c=yield a.text(),d=JSON.parse(c.replace(/^\)\]\}'/,""))[0][2],v=te.WEB.API_VERSION,[[h],y]=d,x={client:{hl:h[0],gl:e.location||h[2],remoteHost:h[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:h[13],clientName:e.client_name,clientVersion:h[16],osName:h[17],osVersion:h[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:h[79]||e.time_zone,browserName:h[86],browserVersion:h[87],originalUrl:rt.YT_BASE,deviceMake:h[11],deviceModel:h[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.on_behalf_of_user&&(x.user.onBehalfOfUser=e.on_behalf_of_user),{context:x,api_key:y,api_version:v}})},"_Session_retrieveSessionData"),x0=n(function(e){let i=_o(11);e.visitor_data&&(i=f(this,Pr,"m",v0).call(this,e.visitor_data));let o={client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:kg(i,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:te.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:rt.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.on_behalf_of_user&&(o.user.onBehalfOfUser=e.on_behalf_of_user),{context:o,api_key:te.WEB.API_KEY,api_version:te.WEB.API_VERSION}},"_Session_generateSessionData");tt.TAG="Session";var y0=tt;var b0={};Te(b0,{NextEndpoint:()=>Pi,PlayerEndpoint:()=>Kt,Reel:()=>mt});var Pi={};Te(Pi,{PATH:()=>qS,build:()=>XS});var qS="/next";function XS(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(XS,"build");var Kt={};Te(Kt,{PATH:()=>QS,build:()=>ZS});var QS="/player";function ZS(t){return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:t.params})}n(ZS,"build");var mt={};Te(mt,{WatchEndpoint:()=>eg,WatchSequenceEndpoint:()=>tg});var eg={};Te(eg,{PATH:()=>eC,build:()=>tC});var eC="/reel/reel_item_watch";function tC(t){var e,i;return{playerRequest:{videoId:t.short_id,params:(e=t.params)!==null&&e!==void 0?e:"CAUwAg%3D%3D"},params:(i=t.params)!==null&&i!==void 0?i:"CAUwAg%3D%3D"}}n(tC,"build");var tg={};Te(tg,{PATH:()=>iC,build:()=>oC});var iC="/reel/reel_watch_sequence";function oC(t){return{sequenceParams:t.sequenceParams}}n(oC,"build");var Rr,ig,og=class{constructor(e,i){var o,r;Rr.set(this,void 0),ig.set(this,void 0),C(this,ig,i,"f");let a=l.parseResponse(e[0].data),c=l.parseResponse(e[1].data);this.basic_info=a.video_details,this.watch_next_feed=(o=c.entries)===null||o===void 0?void 0:o.array(),C(this,Rr,(r=c.continuation_endpoint)===null||r===void 0?void 0:r.as(Ut),"f")}getWatchNextContinuation(){var e,i;return I(this,void 0,void 0,function*(){if(!f(this,Rr,"f"))throw new b("Watch next feed continuation not found");let o=yield f(this,ig,"f").execute(mt.WatchSequenceEndpoint.PATH,mt.WatchSequenceEndpoint.build({sequenceParams:f(this,Rr,"f").token}));if(!o.success)throw new b("Continue failed ",o.status_code);let r=l.parseResponse(o.data);return this.watch_next_feed=(e=r.entries)===null||e===void 0?void 0:e.array(),C(this,Rr,(i=r.continuation_endpoint)===null||i===void 0?void 0:i.as(Ut),"f"),this})}};n(og,"VideoInfo");Rr=new WeakMap,ig=new WeakMap;var w0=og;var bo,Ar=class{constructor(e){bo.set(this,void 0),C(this,bo,e,"f")}static create(e={}){return I(this,void 0,void 0,function*(){return new Ar(yield y0.create(e))})}getInfo(e,i){var o,r,a,c,p;return I(this,void 0,void 0,function*(){gm({target:e});let d;if(e instanceof _)d=Pi.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(r=e.payload)===null||r===void 0?void 0:r.playlistId,params:(a=e.payload)===null||a===void 0?void 0:a.params,playlist_index:(c=e.payload)===null||c===void 0?void 0:c.index});else if(typeof e=="string")d=Pi.build({video_id:e});else throw new b("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!d.videoId)throw new b("Video id cannot be empty",d);let v=Kt.build({video_id:d.videoId,playlist_id:d==null?void 0:d.playlistId,client:i,sts:(p=f(this,bo,"f").player)===null||p===void 0?void 0:p.sts}),h=this.actions.execute(Kt.PATH,v),y=this.actions.execute(Pi.PATH,d),x=yield Promise.all([h,y]),w=_o(16);return new hm(x,this.actions,w)})}getBasicInfo(e,i){var o;return I(this,void 0,void 0,function*(){gm({video_id:e});let r=yield this.actions.execute(Kt.PATH,Kt.build({video_id:e,client:i,sts:(o=f(this,bo,"f").player)===null||o===void 0?void 0:o.sts})),a=_o(16);return new hm([r],this.actions,a)})}getShortsWatchItem(e,i){return I(this,void 0,void 0,function*(){gm({short_id:e});let o=this.actions.execute(mt.WatchEndpoint.PATH,mt.WatchEndpoint.build({short_id:e,client:i})),r=this.actions.execute(mt.WatchSequenceEndpoint.PATH,mt.WatchSequenceEndpoint.build({sequenceParams:Cg(e)})),a=yield Promise.all([o,r]);return new w0(a,this.actions)})}getStreamingData(e,i={}){return I(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return I(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}call(e,i){return e.call(this.actions,i)}get actions(){return f(this,bo,"f").actions}get session(){return f(this,bo,"f")}};n(Ar,"Innertube");bo=new WeakMap;var T0=Ar;var Ok={};var Fk=T0;var jk="JsRuntime";function k0(t,e){Y.info(jk,`calculating`,t);let i=new xo(t);for(let[r,a]of Object.entries(e))i.scope.set(r,a);let o=i.interpret();return Y.info(jk,"Done. Result:",o),o}n(k0,"evaluate");var Rm,I0,ng,rg,sg,ag=class{constructor(e=!1,i){Rm.add(this),I0.set(this,"Cache"),ng.set(this,void 0),rg.set(this,void 0),C(this,ng,i||"","f"),C(this,rg,e,"f")}get cache_dir(){return f(this,rg,"f")?f(this,ng,"f"):""}get(e){return I(this,void 0,void 0,function*(){let i=yield f(this,Rm,"m",sg).call(this);if(!!i)return new Promise((o,r)=>{let a=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);a.onerror=r,a.onsuccess=function(){var c;let p=(c=this.result)===null||c===void 0?void 0:c.v;p instanceof ArrayBuffer?o(p):ArrayBuffer.isView(p)?o(p.buffer):o(void 0)}})})}set(e,i){return I(this,void 0,void 0,function*(){let o=yield f(this,Rm,"m",sg).call(this);if(!!o)return new Promise((r,a)=>{let c=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});c.onerror=a,c.onsuccess=()=>r()})})}remove(e){return I(this,void 0,void 0,function*(){let i=yield f(this,Rm,"m",sg).call(this);if(!!i)return new Promise((o,r)=>{let a=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);a.onerror=r,a.onsuccess=()=>o()})})}};n(ag,"Cache");I0=new WeakMap,ng=new WeakMap,rg=new WeakMap,Rm=new WeakSet,sg=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let r=e.open("youtubei.js",1);r.onsuccess=function(){i(this.result)},r.onerror=function(a){o("indexedDB request error"),console.error(a)},r.onupgradeneeded=function(){let a=this.result.createObjectStore("kv-store",{keyPath:"k"});a.transaction.oncomplete=function(){i(this.db)}}}):Y.warn(f(this,I0,"f"),"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");F.load({runtime:"browser",server:!1,info:{version:Ox.version,bugs_url:Ox.bugs.url,repo_url:Ox.homepage.split("#")[0]},Cache:ag,sha1Hash:qg,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},calculate:k0,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var O1e=Fk;export{h0 as Actions,ji as AppendContinuationItemsAction,g0 as ClientType,ge as Constants,eo as Continuation,Ut as ContinuationCommand,b0 as Endpoints,Vr as EventEmitter,Li as FormatUtils,Lg as Generator,Cn as GridContinuation,mg as HTTPClient,cg as Helpers,T0 as Innertube,wn as ItemSectionContinuation,vi as LiveChatContinuation,Y as Log,$g as Misc,Jg as Mixins,In as MusicPlaylistShelfContinuation,Sn as MusicShelfContinuation,hi as NavigateAction,l as Parser,F as Platform,_0 as Player,En as PlaylistPanelContinuation,ui as Proto,_i as ReloadContinuationItemsCommand,kn as SectionListContinuation,y0 as Session,Tn as ShowMiniplayerCommand,Ok as Types,Wk as UniversalCache,hg as Utils,zg as YT,Ki as YTNodes,O1e as default};