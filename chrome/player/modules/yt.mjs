/* eslint-disable */
/* https://github.com/Andrews54757/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var KI=Object.defineProperty;var iE=s=>{throw TypeError(s)};var xC=(s,i,t)=>i in s?KI(s,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[i]=t;var o=(s,i)=>KI(s,"name",{value:i,configurable:!0});var ie=(s,i)=>{for(var t in i)KI(s,t,{get:i[t],enumerable:!0})};var e=(s,i,t)=>xC(s,typeof i!="symbol"?i+"":i,t),zI=(s,i,t)=>i.has(s)||iE("Cannot "+t);var f=(s,i,t)=>(zI(s,i,"read from private field"),t?t.call(s):i.get(s)),E=(s,i,t)=>i.has(s)?iE("Cannot add the same private member more than once"):i instanceof WeakSet?i.add(s):i.set(s,t),S=(s,i,t,r)=>(zI(s,i,"write to private field"),r?r.call(s,t):i.set(s,t),t),P=(s,i,t)=>(zI(s,i,"access private method"),t);var sE=(s,i,t,r)=>({set _(n){S(s,i,n,t)},get _(){return f(s,i,r)}});var wk={};ie(wk,{ChannelError:()=>oh,InnertubeError:()=>w,MissingParamError:()=>jI,OAuth2Error:()=>A1,ParsingError:()=>Ee,Platform:()=>H,PlayerError:()=>ki,SessionError:()=>ml,base64ToU8:()=>kl,concatMemos:()=>t1,debugFetch:()=>HA,deepCompare:()=>Lh,escapeStringRegexp:()=>P1,findFunction:()=>hr,findVariable:()=>Vc,generateRandomString:()=>fr,generateSidAuth:()=>WA,getCookie:()=>$A,getRandomUserAgent:()=>Ch,getStringBetweenStrings:()=>se,hasKeys:()=>jA,isTextRun:()=>Xt,parseScript:()=>Nh,streamToIterable:()=>sk,throwIfMissing:()=>fl,timeToSeconds:()=>Nt,u8ToBase64:()=>Mi});var XI={};ie(XI,{Maybe:()=>Mh,Memo:()=>xr,SuperParsedResult:()=>Ai,YTNode:()=>a,observe:()=>$});var Y={};ie(Y,{Level:()=>Fe,debug:()=>TC,error:()=>gC,info:()=>wC,setLevel:()=>vC,warn:()=>Ci,warnOnce:()=>yC});var bC="YOUTUBEJS",Fe={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},rE={[Fe.ERROR]:(...s)=>console.error(...s),[Fe.WARNING]:(...s)=>console.warn(...s),[Fe.INFO]:(...s)=>console.info(...s),[Fe.DEBUG]:(...s)=>console.debug(...s)},nE=[Fe.WARNING],oE=new Set;function vl(s,i,t){if(!rE[s]||!nE.includes(s))return;let r=[`[${bC}]`];i&&r.push(`[${i}]`),rE[s](`${r.join("")}:`,...t||[])}o(vl,"doLog");var yC=o((s,...i)=>{oE.has(s)||(vl(Fe.WARNING,s,i),oE.add(s))},"warnOnce"),Ci=o((s,...i)=>vl(Fe.WARNING,s,i),"warn"),gC=o((s,...i)=>vl(Fe.ERROR,s,i),"error"),wC=o((s,...i)=>vl(Fe.INFO,s,i),"info"),TC=o((s,...i)=>vl(Fe.DEBUG,s,i),"debug");function vC(...s){nE=s}o(vC,"setLevel");var aE=Symbol("ObservedArray.isObserved"),Dh=class Dh{constructor(){e(this,"type");this.type=this.constructor.type}is(...i){return i.some(t=>this.type===t.type)}as(...i){if(!this.is(...i))throw new Ee(`Cannot cast ${this.type} to one of ${i.map(t=>t.type).join(", ")}`);return this}hasKey(i){return Reflect.has(this,i)}key(i){if(!this.hasKey(i))throw new Ee(`Missing key ${i}`);return new Mh(this[i])}};o(Dh,"YTNode"),e(Dh,"type","YTNode");var a=Dh,IC="Maybe",it,wt,oi,Ni,Bh=class Bh{constructor(i){E(this,wt);E(this,it);S(this,it,i)}get typeof(){return typeof f(this,it)}string(){return P(this,wt,Ni).call(this,"string")}isString(){return P(this,wt,oi).call(this,"string")}number(){return P(this,wt,Ni).call(this,"number")}isNumber(){return P(this,wt,oi).call(this,"number")}bigint(){return P(this,wt,Ni).call(this,"bigint")}isBigint(){return P(this,wt,oi).call(this,"bigint")}boolean(){return P(this,wt,Ni).call(this,"boolean")}isBoolean(){return P(this,wt,oi).call(this,"boolean")}symbol(){return P(this,wt,Ni).call(this,"symbol")}isSymbol(){return P(this,wt,oi).call(this,"symbol")}undefined(){return P(this,wt,Ni).call(this,"undefined")}isUndefined(){return P(this,wt,oi).call(this,"undefined")}null(){if(f(this,it)!==null)throw new TypeError(`Expected null, got ${typeof f(this,it)}`);return f(this,it)}isNull(){return f(this,it)===null}object(){return P(this,wt,Ni).call(this,"object")}isObject(){return P(this,wt,oi).call(this,"object")}function(){return P(this,wt,Ni).call(this,"function")}isFunction(){return P(this,wt,oi).call(this,"function")}array(){if(!Array.isArray(f(this,it)))throw new TypeError(`Expected array, got ${typeof f(this,it)}`);return f(this,it)}arrayOfMaybe(){let i=[];return new Proxy(this.array(),{get(t,r){return Reflect.has(i,r)?Reflect.get(t,r):new Bh(Reflect.get(t,r))}})}isArray(){return Array.isArray(f(this,it))}node(){if(!(f(this,it)instanceof a))throw new TypeError(`Expected YTNode, got ${f(this,it).constructor.name}`);return f(this,it)}isNode(){return f(this,it)instanceof a}nodeOfType(...i){return this.node().as(...i)}isNodeOfType(...i){return this.isNode()&&this.node().is(...i)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof f(this,it)}`);return f(this,it)}isObserved(){var i;return(i=f(this,it))==null?void 0:i[aE]}parsed(){if(!(f(this,it)instanceof Ai))throw new TypeError(`Expected SuperParsedResult, got ${typeof f(this,it)}`);return f(this,it)}isParsed(){return f(this,it)instanceof Ai}any(){return Ci(IC,"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),f(this,it)}instanceof(i){if(!this.isInstanceof(i))throw new TypeError(`Expected instance of ${i.name}, got ${f(this,it).constructor.name}`);return f(this,it)}isInstanceof(i){return f(this,it)instanceof i}};it=new WeakMap,wt=new WeakSet,oi=o(function(i){return typeof f(this,it)===i},"#checkPrimitive"),Ni=o(function(i){if(!P(this,wt,oi).call(this,i))throw new TypeError(`Expected ${i}, got ${this.typeof}`);return f(this,it)},"#assertPrimitive"),o(Bh,"Maybe");var Mh=Bh,Ys,QI=class QI{constructor(i){E(this,Ys);S(this,Ys,i)}get is_null(){return f(this,Ys)===null}get is_array(){return!this.is_null&&Array.isArray(f(this,Ys))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return f(this,Ys)}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return f(this,Ys)}};Ys=new WeakMap,o(QI,"SuperParsedResult");var Ai=QI;function $(s){return new Proxy(s,{get(i,t){return t=="get"?(r,n)=>i.find((c,u)=>{let m=Lh(r,c);return m&&n&&i.splice(u,1),m}):t==aE?!0:t=="getAll"?(r,n)=>i.filter((c,u)=>{let m=Lh(r,c);return m&&n&&i.splice(u,1),m}):t=="matchCondition"?r=>i.find(n=>r(n)):t=="filterType"?(...r)=>$(i.filter(n=>!!n.is(...r))):t=="firstOfType"?(...r)=>i.find(n=>!!n.is(...r)):t=="first"?()=>i[0]:t=="as"?(...r)=>$(i.map(n=>{if(n.is(...r))return n;throw new Ee(`Expected node of any type ${r.map(c=>c.type).join(", ")}, got ${n.type}`)})):t=="remove"?r=>i.splice(r,1):Reflect.get(i,t)}})}o($,"observe");var JI=class JI extends Map{getType(...i){return i=i.flat(),$(i.flatMap(t=>this.get(t.type)||[]))}};o(JI,"Memo");var xr=JI;var m1={};ie(m1,{AccessibilityContext:()=>br,AccessibilityData:()=>ut,Author:()=>R,ChildElement:()=>In,CommandContext:()=>Xr,EmojiRun:()=>kr,Format:()=>Tc,RendererContext:()=>Lt,SubscriptionButton:()=>fc,Text:()=>l,TextRun:()=>Er,Thumbnail:()=>y,VideoDetails:()=>vc});var ZI=class ZI{constructor(i){e(this,"label");this.label=i.label}};o(ZI,"AccessibilityContext");var br=ZI;var tk=class tk{constructor(i){e(this,"accessibility_identifier");e(this,"identifier");e(this,"label");"accessibilityIdentifier"in i&&(this.accessibility_identifier=i.accessibilityIdentifier),"identifier"in i&&(this.identifier={accessibility_id_type:i.identifier.accessibilityIdType}),"label"in i&&(this.label=i.label)}};o(tk,"AccessibilityData");var ut=tk;var et={};ie(et,{CLIENTS:()=>V,CLIENT_NAME_IDS:()=>Oh,INNERTUBE_HEADERS_BASE:()=>EC,OAUTH:()=>kC,STREAM_HEADERS:()=>Pi,SUPPORTED_CLIENTS:()=>Yh,URLS:()=>Ct});var Ct={YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries-clients6.youtube.com",YT_UPLOAD:"https://upload.youtube.com/",YT_IT_BASE:"https://jnn-pa.googleapis.com",YT_IT_GEN:"/$rpc/google.internal.waa.v1.Waa/GenerateIT",YT_IT_CREATE:"/$rpc/google.internal.waa.v1.Waa/Create",API:{KEY:"wnAoJLKFLDp7fdfytqqP03F94hJ0W5TyDySazIA".split("").reverse().join(""),KEY2:"oAK4xCS02Xghjpd0z34O".split("").reverse().join(""),BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"},GOOGLE_SEARCH_BASE:"https://www.google.com/"},kC={REGEX:{TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')}},V={IOS:{NAME:"iOS",VERSION:"20.11.6",USER_AGENT:"com.google.ios.youtube/20.11.6 (iPhone10,4; U; CPU iOS 16_7_7 like Mac OS X)",DEVICE_MODEL:"iPhone10,4",OS_NAME:"iOS",OS_VERSION:"16.7.7.20H330"},WEB:{NAME:"WEB",VERSION:"2.20250222.10.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco",SUGG_EXP_ID:"ytzpb5_e2,ytpo.bo.lqp.elu=1,ytpo.bo.lqp.ecsc=1,ytpo.bo.lqp.mcsc=3,ytpo.bo.lqp.mec=1,ytpo.bo.lqp.rw=0.8,ytpo.bo.lqp.fw=0.2,ytpo.bo.lqp.szp=1,ytpo.bo.lqp.mz=3,ytpo.bo.lqp.al=en_us,ytpo.bo.lqp.zrm=1,ytpo.bo.lqp.er=1,ytpo.bo.ro.erl=1,ytpo.bo.ro.mlus=3,ytpo.bo.ro.erls=3,ytpo.bo.qfo.mlus=3,ytzprp.ppp.e=1,ytzprp.ppp.st=772,ytzprp.ppp.p=5"},MWEB:{NAME:"MWEB",VERSION:"2.20250224.01.00",API_VERSION:"v1"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20250221.11.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20250219.01.00"},ANDROID:{NAME:"ANDROID",VERSION:"19.35.36",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/19.35.36(Linux; U; Android 13; en_US; SM-S908E Build/TP1A.220624.014) gzip"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV:{NAME:"TVHTML5",VERSION:"7.20250219.14.00",USER_AGENT:"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version"},TV_SIMPLY:{NAME:"TVHTML5_SIMPLY",VERSION:"1.0"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"},WEB_EMBEDDED:{NAME:"WEB_EMBEDDED_PLAYER",VERSION:"1.20250219.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_CREATOR:{NAME:"WEB_CREATOR",VERSION:"1.20241203.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"}},Oh={iOS:"5",WEB:"1",MWEB:"2",WEB_KIDS:"76",WEB_REMIX:"67",ANDROID:"3",ANDROID_CREATOR:"14",ANDROID_MUSIC:"21",TVHTML5:"7",TVHTML5_SIMPLY:"74",TVHTML5_SIMPLY_EMBEDDED_PLAYER:"85",WEB_EMBEDDED_PLAYER:"56",WEB_CREATOR:"62"},Pi={accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"},EC={accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"},Yh=["IOS","WEB","MWEB","YTKIDS","YTMUSIC","ANDROID","YTSTUDIO_ANDROID","YTMUSIC_ANDROID","TV","TV_SIMPLY","TV_EMBEDDED","WEB_EMBEDDED","WEB_CREATOR"];var p={};ie(p,{addRuntimeParser:()=>Hk,applyCommentsMutations:()=>dS,applyMutations:()=>hS,getDynamicParsers:()=>ZN,getParserByName:()=>zc,hasParser:()=>Jf,parse:()=>Qt,parseActions:()=>fS,parseArray:()=>Gt,parseC:()=>mS,parseCommand:()=>uS,parseCommands:()=>sA,parseFormats:()=>zk,parseItem:()=>J,parseLC:()=>Kk,parseRR:()=>yI,parseResponse:()=>qk,sanitizeClassName:()=>Xc,setParserErrorHandler:()=>QN,shouldIgnore:()=>Qk});var qn={};ie(qn,{AboutChannel:()=>Nr,AboutChannelView:()=>Cr,AccountChannel:()=>Ar,AccountItem:()=>Pr,AccountItemSection:()=>Mr,AccountItemSectionHeader:()=>Rr,AccountSectionList:()=>Dr,ActiveAccountHeader:()=>Dl,AddBannerToLiveChatCommand:()=>yu,AddChatItemAction:()=>Qn,AddLiveChatTickerItemAction:()=>gu,AddToPlaylist:()=>Bl,AddToPlaylistCommand:()=>ep,AddToPlaylistEndpoint:()=>Ap,AddToPlaylistServiceEndpoint:()=>En,Alert:()=>Li,AlertWithButton:()=>$r,AnchoredSection:()=>xc,AnimatedThumbnailOverlayView:()=>Gr,AppendContinuationItemsAction:()=>Bt,AttributionView:()=>qr,AudioOnlyPlayability:()=>Kr,AuthorCommentBadge:()=>np,AutomixPreviewVideo:()=>zr,AvatarStackView:()=>Oi,AvatarView:()=>He,BackgroundPromo:()=>Ll,BackstageImage:()=>Qr,BackstagePost:()=>$e,BackstagePostThread:()=>Ol,BadgeView:()=>Fi,BrowseEndpoint:()=>Pp,BrowseFeedActions:()=>Wi,BrowserMediaSession:()=>Yl,BumperUserEduContentView:()=>Jn,Button:()=>v,ButtonCardView:()=>Vl,ButtonView:()=>K,C4TabbedHeader:()=>Ki,CallToActionButton:()=>Ul,Card:()=>Fl,CardCollection:()=>Yo,CarouselHeader:()=>Vo,CarouselItem:()=>Wl,CarouselItemView:()=>Fo,CarouselLockup:()=>Po,CarouselTitleView:()=>Wo,ChangeEngagementPanelVisibilityAction:()=>Sl,Channel:()=>jo,ChannelAboutFullMetadata:()=>Hs,ChannelAgeGate:()=>jl,ChannelExternalLinkView:()=>Sr,ChannelFeaturedContent:()=>Hl,ChannelHeaderLinks:()=>co,ChannelHeaderLinksView:()=>lo,ChannelMetadata:()=>Ho,ChannelMobileHeader:()=>$l,ChannelOptions:()=>$o,ChannelOwnerEmptyState:()=>Gl,ChannelSubMenu:()=>$s,ChannelSwitcherHeader:()=>ql,ChannelSwitcherPage:()=>Lr,ChannelTagline:()=>Lo,ChannelThumbnailWithLink:()=>Kl,ChannelVideoPlayer:()=>zl,Chapter:()=>Go,ChildVideo:()=>Xl,ChipBarView:()=>Ql,ChipCloud:()=>zi,ChipCloudChip:()=>Yt,ChipView:()=>qo,ClientSideToggleMenuItem:()=>Jl,ClipAdState:()=>mo,ClipCreation:()=>fo,ClipCreationScrubber:()=>uo,ClipCreationTextInput:()=>po,ClipSection:()=>ho,CollaboratorInfoCardContent:()=>Zl,CollageHeroImage:()=>tp,CollectionThumbnailView:()=>Zo,CommandExecutorCommand:()=>Ir,CommentActionButtons:()=>Zr,CommentDialog:()=>cp,CommentReplies:()=>sn,CommentReplyDialog:()=>rn,CommentSimplebox:()=>cn,CommentThread:()=>pn,CommentView:()=>li,CommentsEntryPointHeader:()=>an,CommentsEntryPointTeaser:()=>nn,CommentsHeader:()=>Xe,CommentsSimplebox:()=>on,CompactChannel:()=>mp,CompactLink:()=>ue,CompactMix:()=>fp,CompactMovie:()=>hp,CompactPlaylist:()=>WE,CompactStation:()=>dp,CompactVideo:()=>$i,CompositeVideoPrimaryInfo:()=>_p,ConfirmDialog:()=>xp,ContentMetadataView:()=>es,ContentPreviewImageView:()=>qe,ContinuationCommand:()=>ip,ContinuationItem:()=>X,ConversationBar:()=>bp,CopyLink:()=>is,CreateCommentEndpoint:()=>Rp,CreatePlaylistDialog:()=>vr,CreatePlaylistDialogFormView:()=>fn,CreatePlaylistServiceEndpoint:()=>Mp,CreatorHeart:()=>Jr,CreatorHeartView:()=>Zn,DecoratedAvatarView:()=>ss,DecoratedPlayerBar:()=>dn,DefaultPromoPanel:()=>yp,DeletePlaylistEndpoint:()=>Dp,DescriptionPreviewView:()=>_n,DialogHeaderView:()=>xn,DialogView:()=>wp,DidYouMean:()=>Tp,DimChatItemAction:()=>wu,DislikeButtonView:()=>eo,DismissableDialog:()=>vp,DismissableDialogContentSection:()=>Tn,DownloadButton:()=>Yi,Dropdown:()=>je,DropdownItem:()=>Tr,DropdownView:()=>un,DynamicTextView:()=>vn,Element:()=>kn,EmergencyOnebox:()=>Ep,EmojiPicker:()=>en,EmojiPickerCategory:()=>Sp,EmojiPickerCategoryButton:()=>Cp,EmojiPickerUpsellCategory:()=>Np,EndScreenPlaylist:()=>Nn,EndScreenVideo:()=>An,Endscreen:()=>Cn,EndscreenElement:()=>Zp,EngagementPanelSectionList:()=>ze,EngagementPanelTitleHeader:()=>_o,EomSettingsDisclaimer:()=>no,ExpandableMetadata:()=>vo,ExpandableTab:()=>fi,ExpandableVideoDescriptionBody:()=>go,ExpandedShelfContents:()=>tu,Factoid:()=>he,FancyDismissibleDialog:()=>eu,FeedFilterChipBar:()=>ne,FeedNudge:()=>iu,FeedTabbedHeader:()=>Pn,FeedbackEndpoint:()=>Bp,FlexibleActionsView:()=>Ui,FormFooterView:()=>bn,GameCard:()=>wo,GameDetails:()=>su,GetAccountsListInnertubeEndpoint:()=>Lp,GetKidsBlocklistPickerCommand:()=>sp,GetMultiPageMenuAction:()=>Cl,Grid:()=>ru,GridChannel:()=>Rn,GridHeader:()=>ou,GridMix:()=>nu,GridMovie:()=>au,GridPlaylist:()=>Mn,GridShelfView:()=>cu,GridShow:()=>lu,GridVideo:()=>Ln,GuideCollapsibleEntry:()=>pu,GuideCollapsibleSectionEntry:()=>uu,GuideDownloadsEntry:()=>mu,GuideEntry:()=>hi,GuideSection:()=>ls,GuideSubscriptionsSection:()=>On,HashtagHeader:()=>Yn,HashtagTile:()=>fu,HeatMarker:()=>rs,Heatmap:()=>ns,HeroPlaylistThumbnail:()=>hu,HideEngagementPanelEndpoint:()=>Op,HighlightsCarousel:()=>du,HistorySuggestion:()=>_u,HorizontalCardList:()=>Ge,HorizontalList:()=>To,HorizontalMovieList:()=>xu,HowThisWasMadeSectionView:()=>Bo,HypePointsFactoid:()=>So,IconLink:()=>Un,ImageBannerView:()=>Fn,IncludingResultsFor:()=>bu,InfoPanelContainer:()=>jn,InfoPanelContent:()=>Wn,InfoRow:()=>Ao,InteractiveTabbedHeader:()=>Hn,ItemSection:()=>ae,ItemSectionHeader:()=>ps,ItemSectionTab:()=>$n,ItemSectionTabbedHeader:()=>us,KidsBlocklistPicker:()=>qf,KidsBlocklistPickerItem:()=>bc,KidsCategoriesHeader:()=>Kf,KidsCategoryTab:()=>yc,KidsHomeScreen:()=>zf,LikeButton:()=>Vi,LikeButtonView:()=>to,LikeEndpoint:()=>Yp,ListItemView:()=>gn,ListView:()=>wn,LiveChat:()=>Kn,LiveChatActionPanel:()=>ra,LiveChatAuthorBadge:()=>ia,LiveChatAutoModMessage:()=>Tu,LiveChatBanner:()=>Xn,LiveChatBannerChatSummary:()=>vu,LiveChatBannerHeader:()=>zn,LiveChatBannerPoll:()=>Iu,LiveChatBannerRedirect:()=>ku,LiveChatDialog:()=>Zu,LiveChatHeader:()=>pa,LiveChatItemBumperView:()=>ta,LiveChatItemContextMenuEndpoint:()=>Vp,LiveChatItemList:()=>ua,LiveChatMembershipItem:()=>Eu,LiveChatMessageInput:()=>tm,LiveChatModeChangeMessage:()=>Su,LiveChatPaidMessage:()=>Cu,LiveChatPaidSticker:()=>Nu,LiveChatParticipant:()=>ma,LiveChatParticipantsList:()=>fa,LiveChatPlaceholderItem:()=>Au,LiveChatProductItem:()=>Pu,LiveChatRestrictedParticipation:()=>Ru,LiveChatSponsorshipsGiftPurchaseAnnouncement:()=>Mu,LiveChatSponsorshipsGiftRedemptionAnnouncement:()=>Du,LiveChatSponsorshipsHeader:()=>sa,LiveChatTextMessage:()=>Bu,LiveChatTickerPaidMessageItem:()=>Lu,LiveChatTickerPaidStickerItem:()=>Ou,LiveChatTickerSponsorItem:()=>Yu,LiveChatViewerEngagementMessage:()=>Vu,LockupMetadataView:()=>ha,LockupView:()=>da,MacroMarkersInfoItem:()=>xo,MacroMarkersList:()=>bo,MacroMarkersListEntity:()=>ms,MacroMarkersListItem:()=>ji,MarkChatItemAsDeletedAction:()=>Fu,MarkChatItemsByAuthorAsDeletedAction:()=>Wu,Menu:()=>D,MenuFlexibleItem:()=>so,MenuNavigationItem:()=>_a,MenuPopup:()=>em,MenuServiceItem:()=>me,MenuServiceItemDownload:()=>io,MenuTitle:()=>jr,MerchandiseItem:()=>sm,MerchandiseShelf:()=>ga,Message:()=>_e,MetadataBadge:()=>Ot,MetadataRow:()=>rm,MetadataRowContainer:()=>wa,MetadataRowHeader:()=>om,MetadataScreen:()=>nm,MicroformatData:()=>Qe,Mix:()=>am,MobileTopbar:()=>Cm,ModalWithTitleAndButton:()=>cm,ModifyChannelNotificationPreferenceEndpoint:()=>Up,Movie:()=>lm,MovingThumbnail:()=>pm,MultiMarkersPlayerBar:()=>hn,MultiPageMenu:()=>Br,MultiPageMenuNotificationSection:()=>im,MultiPageMenuSection:()=>Nm,MusicCardShelf:()=>um,MusicCardShelfHeaderBasic:()=>Ta,MusicCarouselShelf:()=>mm,MusicCarouselShelfBasicHeader:()=>va,MusicDescriptionShelf:()=>Na,MusicDetailHeader:()=>fm,MusicDownloadStateBadge:()=>hm,MusicEditablePlaylistDetailHeader:()=>dm,MusicElementHeader:()=>_m,MusicHeader:()=>xm,MusicImmersiveHeader:()=>bm,MusicInlineBadge:()=>ds,MusicItemThumbnailOverlay:()=>xe,MusicLargeCardItemCarousel:()=>ym,MusicMenuItemDivider:()=>xa,MusicMultiRowListItem:()=>Ia,MusicMultiSelectMenu:()=>ba,MusicMultiSelectMenuItem:()=>hs,MusicNavigationButton:()=>ka,MusicPlayButton:()=>_s,MusicPlaylistEditHeader:()=>gm,MusicPlaylistShelf:()=>wm,MusicQueue:()=>Ra,MusicResponsiveHeader:()=>Tm,MusicResponsiveListItem:()=>Je,MusicResponsiveListItemFixedColumn:()=>Ea,MusicResponsiveListItemFlexColumn:()=>Sa,MusicShelf:()=>vm,MusicSideAlignedItem:()=>Im,MusicSortFilterButton:()=>km,MusicTastebuilderShelf:()=>Em,MusicTastebuilderShelfThumbnail:()=>Ma,MusicThumbnail:()=>kt,MusicTwoRowItem:()=>Ca,MusicVisualHeader:()=>Sm,NavigationEndpoint:()=>d,Notification:()=>fs,NotificationAction:()=>Mm,OpenOnePickAddVideoModalCommand:()=>Dm,OpenPopupAction:()=>Di,PageHeader:()=>be,PageHeaderView:()=>Da,PageIntroduction:()=>Ba,PanelFooterView:()=>as,PdgCommentChip:()=>pp,PdgReplyButtonView:()=>ea,PerformCommentActionEndpoint:()=>Fp,PivotBar:()=>Am,PivotBarItem:()=>Pm,PivotButton:()=>La,PlayerAnnotationsExpanded:()=>Oa,PlayerCaptionsTracklist:()=>Ya,PlayerControlsOverlay:()=>Bm,PlayerErrorMessage:()=>Lm,PlayerLegacyDesktopYpcOffer:()=>Om,PlayerLegacyDesktopYpcTrailer:()=>Xs,PlayerLiveStoryboardSpec:()=>Ua,PlayerMicroformat:()=>qt,PlayerOverflow:()=>Va,PlayerOverlay:()=>Ha,PlayerOverlayAutoplay:()=>Fa,PlayerOverlayVideoDetails:()=>Wa,PlayerStoryboardSpec:()=>ni,Playlist:()=>de,PlaylistAddToOption:()=>Hr,PlaylistCustomThumbnail:()=>Zi,PlaylistEditEndpoint:()=>Wp,PlaylistHeader:()=>$a,PlaylistInfoCardContent:()=>Ym,PlaylistMetadata:()=>Ga,PlaylistPanel:()=>Pa,PlaylistPanelVideo:()=>Re,PlaylistPanelVideoWrapper:()=>Aa,PlaylistSidebar:()=>Vm,PlaylistSidebarPrimaryInfo:()=>qa,PlaylistSidebarSecondaryInfo:()=>Ka,PlaylistThumbnailOverlay:()=>Um,PlaylistVideo:()=>xs,PlaylistVideoList:()=>za,PlaylistVideoThumbnail:()=>ts,Poll:()=>Fm,PollHeader:()=>Uu,Post:()=>bs,PostMultiImage:()=>Wm,PrefetchWatchCommand:()=>jp,PremiereTrailerBadge:()=>jm,ProductList:()=>yo,ProductListHeader:()=>Hm,ProductListItem:()=>$m,ProfileColumn:()=>Xa,ProfileColumnStats:()=>Gm,ProfileColumnStatsEntry:()=>qm,ProfileColumnUserInfo:()=>Km,Quiz:()=>zm,RecognitionShelf:()=>Xm,ReelItem:()=>ys,ReelPlayerHeader:()=>Qa,ReelPlayerOverlay:()=>Qm,ReelShelf:()=>qi,ReelWatchEndpoint:()=>Hp,RelatedChipCloud:()=>Ja,RemoveBannerForLiveChatCommand:()=>ju,RemoveChatItemAction:()=>Hu,RemoveChatItemByAuthorAction:()=>$u,ReplaceChatItemAction:()=>Gu,ReplaceLiveChatAction:()=>qu,ReplayChatItemAction:()=>Ku,RichGrid:()=>ye,RichItem:()=>Jm,RichListHeader:()=>Zm,RichMetadata:()=>Qs,RichMetadataRow:()=>Js,RichSection:()=>tf,RichShelf:()=>Za,RunAttestationCommand:()=>tn,SearchBox:()=>ao,SearchEndpoint:()=>$p,SearchFilter:()=>tc,SearchFilterGroup:()=>gs,SearchFilterOptionsDialog:()=>ef,SearchHeader:()=>ec,SearchRefinementCard:()=>ai,SearchSubMenu:()=>ic,SearchSuggestion:()=>Vn,SearchSuggestionsSection:()=>sf,SecondarySearchContainer:()=>sc,SectionHeaderView:()=>rf,SectionList:()=>lt,SegmentedLikeDislikeButton:()=>_i,SegmentedLikeDislikeButtonView:()=>Se,SendFeedbackAction:()=>Nl,SettingBoolean:()=>of,SettingsCheckbox:()=>rc,SettingsOptions:()=>vs,SettingsSidebar:()=>oc,SettingsSwitch:()=>Ts,ShareEndpoint:()=>Gp,ShareEntityEndpoint:()=>qp,ShareEntityServiceEndpoint:()=>cs,SharePanelHeader:()=>ac,SharePanelTitleV15:()=>nf,ShareTarget:()=>cc,SharedPost:()=>nc,Shelf:()=>Is,ShortsLockupView:()=>ks,ShowCustomThumbnail:()=>Dn,ShowDialogCommand:()=>rp,ShowEngagementPanelEndpoint:()=>Kp,ShowLiveChatActionPanelAction:()=>zu,ShowLiveChatDialogAction:()=>Xu,ShowLiveChatTooltipCommand:()=>Qu,ShowingResultsFor:()=>af,SignalAction:()=>Al,SignalServiceEndpoint:()=>zp,SimpleCardContent:()=>cf,SimpleCardTeaser:()=>lf,SimpleMenuHeader:()=>ya,SimpleTextSection:()=>pf,SingleActionEmergencySupport:()=>uf,SingleColumnBrowseResults:()=>mf,SingleColumnMusicWatchNextResults:()=>ff,SingleHeroImage:()=>hf,SlimOwner:()=>df,SlimVideoMetadata:()=>_f,SortFilterHeader:()=>Gn,SortFilterSubMenu:()=>re,SponsorCommentBadge:()=>up,StartAt:()=>lc,StructuredDescriptionContent:()=>ci,StructuredDescriptionPlaylistLockup:()=>Ro,SubFeedOption:()=>ro,SubFeedSelector:()=>oo,SubscribeButton:()=>ft,SubscribeButtonView:()=>yn,SubscribeEndpoint:()=>Xp,SubscriptionNotificationToggleButton:()=>Oo,Tab:()=>Pt,Tabbed:()=>xf,TabbedSearchResults:()=>bf,TextCarouselItemView:()=>Uo,TextFieldView:()=>mn,TextHeader:()=>yf,ThirdPartyShareTargetSection:()=>pc,ThumbnailBadgeView:()=>Xi,ThumbnailBottomOverlayView:()=>Jo,ThumbnailHoverOverlayToggleActionsView:()=>Xo,ThumbnailHoverOverlayView:()=>Ko,ThumbnailLandscapePortrait:()=>gf,ThumbnailOverlayBadgeView:()=>zo,ThumbnailOverlayBottomPanel:()=>Bn,ThumbnailOverlayEndorsement:()=>wf,ThumbnailOverlayHoverText:()=>Tf,ThumbnailOverlayInlineUnplayable:()=>vf,ThumbnailOverlayLoadingPreview:()=>If,ThumbnailOverlayNowPlaying:()=>kf,ThumbnailOverlayPinking:()=>Ef,ThumbnailOverlayPlaybackStatus:()=>Sf,ThumbnailOverlayProgressBarView:()=>Qo,ThumbnailOverlayResumePlayback:()=>Cf,ThumbnailOverlaySidePanel:()=>Nf,ThumbnailOverlayTimeStatus:()=>fe,ThumbnailOverlayToggleButton:()=>Af,ThumbnailView:()=>Qi,TimedMarkerDecoration:()=>os,TitleAndButtonListHeader:()=>Pf,ToggleButton:()=>rt,ToggleButtonView:()=>jt,ToggleFormField:()=>Rf,ToggleMenuServiceItem:()=>Mf,Tooltip:()=>Df,TopbarMenuButton:()=>Rm,TopicChannelDetails:()=>Bf,Transcript:()=>Bi,TranscriptFooter:()=>Or,TranscriptSearchBox:()=>Yr,TranscriptSearchPanel:()=>Wr,TranscriptSectionHeader:()=>Vr,TranscriptSegment:()=>Ur,TranscriptSegmentList:()=>Fr,TwoColumnBrowseResults:()=>ge,TwoColumnSearchResults:()=>uc,TwoColumnWatchNextResults:()=>mc,UnifiedSharePanel:()=>Of,UniversalWatchCard:()=>ws,UnsubscribeEndpoint:()=>Qp,UpdateChannelSwitcherPageAction:()=>Pl,UpdateDateTextAction:()=>oa,UpdateDescriptionAction:()=>na,UpdateEngagementPanelAction:()=>Rl,UpdateEngagementPanelContentCommand:()=>op,UpdateLiveChatPollAction:()=>Ju,UpdateSubscribeButtonAction:()=>Ml,UpdateTitleAction:()=>aa,UpdateToggleButtonTextAction:()=>ca,UpdateViewershipAction:()=>la,UploadTimeFactoid:()=>ko,UpsellDialog:()=>Yf,VerticalList:()=>Vf,VerticalWatchCardList:()=>Uf,Video:()=>Hi,VideoAttributeView:()=>Ke,VideoAttributesSectionView:()=>Do,VideoCard:()=>Io,VideoDescriptionCourseSection:()=>Mo,VideoDescriptionHeader:()=>Co,VideoDescriptionInfocardsSection:()=>No,VideoDescriptionMusicSection:()=>Gi,VideoDescriptionTranscriptSection:()=>js,VideoInfoCardContent:()=>Ff,VideoMetadataCarouselView:()=>Wf,VideoOwner:()=>Es,VideoPrimaryInfo:()=>dc,VideoSecondaryInfo:()=>Zs,VideoViewCount:()=>hc,ViewCountFactoid:()=>Eo,VoiceReplyContainerView:()=>ln,WatchCardCompactVideo:()=>_c,WatchCardHeroVideo:()=>jf,WatchCardRichHeader:()=>Hf,WatchCardSectionSequence:()=>$f,WatchEndpoint:()=>Sn,WatchNextEndScreen:()=>ja,WatchNextEndpoint:()=>Jp,WatchNextTabbedResults:()=>Gf,YpcTrailer:()=>di});var Vs,ek=class ek{constructor(i,t){E(this,Vs);S(this,Vs,new H.shim.Cache(i,t))}get cache_dir(){return f(this,Vs).cache_dir}get(i){return f(this,Vs).get(i)}set(i,t){return f(this,Vs).set(i,t)}remove(i){return f(this,Vs).remove(i)}};Vs=new WeakMap,o(ek,"UniversalCache");var Vh=ek;var yr,ik=class ik extends EventTarget{constructor(){super();E(this,yr,new Map)}emit(t,...r){let n=new H.shim.CustomEvent(t,{detail:r});this.dispatchEvent(n)}on(t,r){let n=o(c=>{c instanceof H.shim.CustomEvent?r(...c.detail):r(c)},"wrapper");f(this,yr).set(r,n),this.addEventListener(t,n)}once(t,r){let n=o(c=>{c instanceof H.shim.CustomEvent?r(...c.detail):r(c),this.off(t,r)},"wrapper");f(this,yr).set(r,n),this.addEventListener(t,n)}off(t,r){let n=f(this,yr).get(r);n&&(this.removeEventListener(t,n),f(this,yr).delete(r))}};yr=new WeakMap,o(ik,"EventEmitterLike");var Us=ik;var gr={};ie(gr,{chooseFormat:()=>gE,download:()=>QC,toDash:()=>yE});var SC={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function cE(s){return s.replace(/([&"<>'])/g,(i,t)=>SC[t])}o(cE,"escapeXMLString");function CC(s){return s.charAt(0).toUpperCase()+s.slice(1)}o(CC,"normalizeTag");function q(s,i,...t){let r=t.flat();return typeof s=="function"?s({...i,children:r}):{type:CC(s),props:{...i,children:r}}}o(q,"createElement");async function lE(s){if(typeof s=="string")return cE(s);let i=`<${s.type}`;if(s.props)for(let t of Object.keys(s.props))t!=="children"&&s.props[t]!==void 0&&(i+=` ${t}="${cE(`${s.props[t]}`)}"`);if(s.props.children){let t=await Promise.all((await Promise.all(s.props.children.flat())).flat().filter(r=>!!r).map(r=>lE(r)));if(t.length>0)return i+=`>${t.join("")}</${s.type}>`,i}return`${i}/>`}o(lE,"renderElementToString");async function pE(s){return`<?xml version="1.0" encoding="utf-8"?>${await lE(await s)}`}o(pE,"renderToString");function uE(s){return s.children}o(uE,"Fragment");var Uh=class Uh extends a{constructor(t){super();e(this,"boards");let r=t.spec.split("|"),n=new URL(r.shift());this.boards=r.map((c,u)=>{let[m,h,x,b,g,T,I,C]=c.split("#");n.searchParams.set("sigh",C);let k=Math.ceil(parseInt(x,10)/(parseInt(b,10)*parseInt(g,10)));return{type:"vod",template_url:n.toString().replace("$L",u).replace("$N",I),thumbnail_width:parseInt(m,10),thumbnail_height:parseInt(h,10),thumbnail_count:parseInt(x,10),interval:parseInt(T,10),columns:parseInt(b,10),rows:parseInt(g,10),storyboard_count:k}})}};o(Uh,"PlayerStoryboardSpec"),e(Uh,"type","PlayerStoryboardSpec");var ni=Uh;var Wt={version:"15.1.0",bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme"};var AC="StreamingInfo";function PC(s,i){var n,c,u;let t=new Map,r=s.some(m=>!!m.audio_track);for(let m of s){if((!m.index_range||!m.init_range)&&!m.is_type_otf&&!i)continue;let h=m.mime_type.split(";")[0],x=(n=se(m.mime_type,'codecs="','"'))==null?void 0:n.split(".")[0],b=m.color_info?Object.values(m.color_info).join("-"):"",g=((c=m.audio_track)==null?void 0:c.id)||"",T=m.is_drc?"drc":"",I=`${h}-${x}-${b}-${g}-${T}`;t.has(I)||t.set(I,[]),(u=t.get(I))==null||u.push(m)}return{groups:Array.from(t.values()),has_multiple_audio_tracks:r}}o(PC,"getFormatGroupings");function fE(s,i){if(s.length>1&&new Set(s.map(t=>se(t.mime_type,'codecs="','"'))).size===1)return i.push("codecs"),se(s[0].mime_type,'codecs="','"')}o(fE,"hoistCodecsIfPossible");function hE(s,i,t){if(s.length>1&&new Set(s.map(r=>r.fps)).size===1)return t.push(i),Number(s[0][i])}o(hE,"hoistNumberAttributeIfPossible");function RC(s,i){if(s.length>1&&new Set(s.map(t=>t.audio_channels||2)).size===1)return i.push("AudioChannelConfiguration"),s[0].audio_channels}o(RC,"hoistAudioChannelsIfPossible");async function MC(s,i){var m;let t=await i.session.http.fetch_function(`${s}&rn=0&sq=0`,{method:"GET",headers:Pi,redirect:"follow"}),r=t.url.replace("&rn=0","").replace("&sq=0",""),n=await t.text(),c=(m=se(n,"Segment-Durations-Ms:",`\r
`))==null?void 0:m.split(",");if(!c)throw new w("Failed to extract the segment durations from this OTF stream",{url:s});let u=[];for(let h of c){let x=h.trim();if(x.length===0)continue;let b,g=se(x,"(r=",")");g&&(b=parseInt(g)),u.push({duration:parseInt(x),repeat_count:b})}return{init_url:`${r}&sq=0`,media_url:`${r}&sq=$Number$`,timeline:u}}o(MC,"getOTFSegmentTemplate");async function dE(s,i){let t=await i.session.http.fetch_function(`${s}&rn=0&sq=0`,{method:"HEAD",headers:Pi,redirect:"follow"}),r=parseInt(t.headers.get("X-Head-Time-Millis")||""),n=parseInt(t.headers.get("X-Head-Seqnum")||"");if(isNaN(r)||isNaN(n))throw new w("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:r/1e3,segment_count:n}}o(dE,"getPostLiveDvrInfo");async function DC(s,i,t,r,n,c){if(!s.item){let u=new URL(await i.decipher(n));u.searchParams.set("cpn",c||"");let m=t(u).toString();s.item=await dE(m,r)}return s.item.duration}o(DC,"getPostLiveDvrDuration");async function _E(s,i,t,r,n,c,u){let m="";if(u){let x=`${s.itag||""}:${s.xtags||""}`;m=`sabr://${s.has_video?"video":"audio"}?key=${x}`}else{let x=new URL(await s.decipher(r));x.searchParams.set("cpn",n||""),m=i(x).toString()}if(s.is_type_otf){if(!t)throw new w("Unable to get segment durations for this OTF stream without an Actions instance",{format:s});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return MC(m,t)}}}if(c){if(!t)throw new w("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:s});let x=s.target_duration_dec;if(typeof x!="number")throw new w("Format is missing target_duration_dec",{format:s});return{is_oft:!1,is_post_live_dvr:!0,async getSegmentTemplate(){return c.item||(c.item=await dE(m,t)),{media_url:`${m}&sq=$Number$`,timeline:[{duration:x*1e3,repeat_count:c.item.segment_count}]}}}}if(!s.index_range||!s.init_range)throw new w("Index and init ranges not available",{format:s});return{is_oft:!1,is_post_live_dvr:!1,base_url:m,index_range:s.index_range,init_range:s.init_range}}o(_E,"getSegmentInfo");async function BC(s,i,t,r,n,c,u,m){let h=[s.itag.toString()];return s.audio_track&&h.push(s.audio_track.id),s.is_drc&&h.push("drc"),{uid:h.join("-"),bitrate:s.bitrate,codecs:i.includes("codecs")?void 0:se(s.mime_type,'codecs="','"'),audio_sample_rate:i.includes("audio_sample_rate")?void 0:s.audio_sample_rate,channels:i.includes("AudioChannelConfiguration")?void 0:s.audio_channels||2,segment_info:await _E(s,t,r,n,c,u,m)}}o(BC,"getAudioRepresentation");function LC(s,i){if(!s.audio_track&&!i)return;let t=[s.is_original?"main":"alternate"];return(s.is_dubbed||s.is_auto_dubbed)&&t.push("dub"),s.is_descriptive&&t.push("description"),s.is_drc&&t.push("enhanced-audio-intelligibility"),t}o(LC,"getTrackRoles");async function OC(s,i,t,r,n,c,u,m){var C;let h=s[0],{audio_track:x}=h,b=[],g=!!u,T;return x?g&&h.is_drc?T=u.label_drc_multiple(x.display_name):T=x.display_name:g&&(T=h.is_drc?u.label_drc:u.label_original),{mime_type:h.mime_type.split(";")[0],language:(C=h.language)!=null?C:void 0,codecs:fE(s,b),audio_sample_rate:hE(s,"audio_sample_rate",b),track_name:T,track_roles:LC(h,g),channels:RC(s,b),drm_families:h.drm_families,drm_track_type:h.drm_track_type,representations:await Promise.all(s.map(k=>BC(k,b,i,t,r,n,c,m)))}}o(OC,"getAudioSet");var YC={BT709:"1",BT2020:"9"},mE={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},VC={BT709:"1",BT2020_NCL:"14"};function UC(s){var u;let i=s.color_info,t,r,n;if(i){if(i.primaries&&(t=YC[i.primaries]),i.transfer_characteristics&&(r=mE[i.transfer_characteristics]),i.matrix_coefficients&&(n=VC[i.matrix_coefficients],!n)){let m=new URL(s.url),h=JSON.parse(JSON.stringify(s));h.url="REDACTED",h.signature_cipher="REDACTED",h.cipher="REDACTED",Ci(AC,`Unknown matrix coefficients "${i.matrix_coefficients}". The DASH manifest is still usable without this.
Please report it at ${Wt.bugs.url} so we can add support for it.
InnerTube client: ${m.searchParams.get("c")}
format:`,h)}}else(u=se(s.mime_type,'codecs="','"'))!=null&&u.startsWith("avc1")&&(r=mE.BT709);return{primaries:t,transfer_characteristics:r,matrix_coefficients:n}}o(UC,"getColorInfo");async function FC(s,i,t,r,n,c,u,m){return{uid:s.itag.toString(),bitrate:s.bitrate,width:s.width,height:s.height,codecs:t.includes("codecs")?void 0:se(s.mime_type,'codecs="','"'),fps:t.includes("fps")?void 0:s.fps,segment_info:await _E(s,i,n,r,c,u,m)}}o(FC,"getVideoRepresentation");async function WC(s,i,t,r,n,c,u){let m=s[0],h=UC(m),x=[];return{mime_type:m.mime_type.split(";")[0],color_info:h,codecs:fE(s,x),fps:hE(s,"fps",x),drm_families:m.drm_families,drm_track_type:m.drm_track_type,representations:await Promise.all(s.map(g=>FC(g,i,x,t,r,n,c,u)))}}o(WC,"getVideoSet");function jC(s){var r;let i=new Map,t=s.is(ni)?s.boards:[s.board];for(let n of t){let c=new URL(n.template_url).pathname.split(".").pop(),u=`image/${c==="jpg"?"jpeg":c}`;i.has(u)||i.set(u,[]),(r=i.get(u))==null||r.push(n)}return i}o(jC,"getStoryboardInfo");async function HC(s,i,t,r,n){let c=i.template_url,u=t(new URL(c.replace("$M","0"))),m=n.response?n.response:s.session.http.fetch_function(u,{method:"HEAD",headers:Pi});return n.response=m,(await m).headers.get("Content-Type")||r}o(HC,"getStoryboardMimeType");async function $C(s,i,t){let r=i.template_url,n=[],c=Math.min(i.type==="vod"?i.storyboard_count:5,10);for(let h=0;h<c;h++){let x=new URL(r.replace("$M",h.toString())),b=h===0&&t.response?t.response:s.session.http.fetch_function(x,{method:"HEAD",headers:Pi});h===0&&(t.response=b),n.push(b)}let u=await Promise.all(n),m=[];for(let h of u)m.push(parseInt(h.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...m)/(i.rows*i.columns)*8)}o($C,"getStoryboardBitrate");function GC(s,i,t,r,n){let c=t.template_url,u=new URL(c.replace("$M","$Number$")),m;return t.type==="vod"?m=s/t.storyboard_count:m=s*t.columns*t.rows,{uid:`thumbnails_${t.thumbnail_width}x${t.thumbnail_height}`,getBitrate(){return $C(i,t,n)},sheet_width:t.thumbnail_width*t.columns,sheet_height:t.thumbnail_height*t.rows,thumbnail_height:t.thumbnail_height,thumbnail_width:t.thumbnail_width,rows:t.rows,columns:t.columns,template_duration:Math.round(m),template_url:r(u).toString(),getURL(x){return u.toString().replace("$Number$",x.toString())}}}o(GC,"getImageRepresentation");function qC(s,i,t,r){let n=jC(t),c={};return Array.from(n.entries()).map(([u,m])=>({probable_mime_type:u,getMimeType(){return HC(i,m[0],r,u,c)},representations:m.map(h=>GC(s,i,h,r,c))}))}o(qC,"getImageSets");function KC(s,i,t){let r=i==="vtt"?"text/vtt":"application/ttml+xml";return s.map(n=>{let c=new URL(n.base_url);c.searchParams.set("fmt",i);let u=["caption"];return c.searchParams.has("tlang")&&u.push("dub"),{mime_type:r,language:n.language_code,track_name:n.name.toString(),track_roles:u,representation:{uid:`text-${n.vss_id}`,base_url:t(c).toString()}}})}o(KC,"getTextSets");async function Fh(s,i=!1,t=b=>b,r,n,c,u,m,h,x){if(!s)throw new w("Streaming data not available");let b=r?s.adaptive_formats.filter(F=>!r(F)):s.adaptive_formats,g,T;if(i){if(T={},!u)throw new w("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");g=o(()=>T?DC(T,b[0],t,u,c,n):Promise.resolve(0),"getDuration")}else{let F=b[0].approx_duration_ms/1e3;g=o(()=>Promise.resolve(F),"getDuration")}let{groups:I,has_multiple_audio_tracks:C}=PC(b,i),{video_groups:k,audio_groups:A}=I.reduce((F,at)=>at[0].has_audio?(C&&!at[0].audio_track||F.audio_groups.push(at),F):(F.video_groups.push(at),F),{video_groups:[],audio_groups:[]}),N;A.flat().some(F=>F.is_drc)&&(N={label_original:(x==null?void 0:x.label_original)||"Original",label_drc:(x==null?void 0:x.label_drc)||"Stable Volume",label_drc_multiple:(x==null?void 0:x.label_drc_multiple)||(F=>`${F} (Stable Volume)`)});let L=await Promise.all(A.map(F=>OC(F,t,u,c,n,T,N,x==null?void 0:x.is_sabr))),G=await Promise.all(k.map(F=>WC(F,t,c,u,n,T,x==null?void 0:x.is_sabr))),ot=[];if(m&&u){let F;if(m.is(ni))F=b[0].approx_duration_ms/1e3;else{let at=b[0].target_duration_dec;if(at===void 0)throw new w("Format is missing target_duration_dec",{format:b[0]});F=at}ot=qC(F,u,m,t)}let O=[];if(h&&(x!=null&&x.captions_format)){if(x.captions_format!=="vtt"&&x.captions_format!=="ttml")throw new w("Invalid captions format",x.captions_format);O=KC(h,x.captions_format,t)}return{getDuration:g,audio_sets:L,video_sets:G,image_sets:ot,text_sets:O}}o(Fh,"getStreamingInfo");async function zC({info:s}){if(!s.is_oft&&!s.is_post_live_dvr)return null;let i=await s.getSegmentTemplate();return q("segmentTemplate",{startNumber:i.init_url?"1":"0",timescale:"1000",initialization:i.init_url,media:i.media_url},q("segmentTimeline",null,i.timeline.map(t=>q("s",{d:t.duration,r:t.repeat_count}))))}o(zC,"OTFPostLiveDvrSegmentInfo");function xE({info:s}){return s.is_oft||s.is_post_live_dvr?q(zC,{info:s}):q(uE,null,q("baseURL",null,s.base_url),q("segmentBase",{indexRange:`${s.index_range.start}-${s.index_range.end}`},q("initialization",{range:`${s.init_range.start}-${s.init_range.end}`})))}o(xE,"SegmentInfo");function bE(s){switch(s){case"WIDEVINE":return"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";case"PLAYREADY":return"9a04f079-9840-4286-ab92-e65be0885f95";default:return null}}o(bE,"getDrmSystemId");async function XC({streamingData:s,isPostLiveDvr:i,transformURL:t,rejectFormat:r,cpn:n,player:c,actions:u,storyboards:m,captionTracks:h,options:x}){let{getDuration:b,audio_sets:g,video_sets:T,image_sets:I,text_sets:C}=await Fh(s,i,t,r,n,c,u,m,h,x);return q("mPD",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${await b()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},q("period",null,g.map((k,A)=>q("adaptationSet",{id:A,mimeType:k.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:k.language,codecs:k.codecs,audioSamplingRate:k.audio_sample_rate,contentType:"audio"},k.drm_families&&k.drm_families.map(N=>q("contentProtection",{schemeIdUri:`urn:uuid:${bE(N)}`})),k.track_roles&&k.track_roles.map(N=>q("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:N})),k.track_name&&q("label",{id:A},k.track_name),k.channels&&q("audioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:k.channels}),k.representations.map(N=>q("representation",{id:N.uid,bandwidth:N.bitrate,codecs:N.codecs,audioSamplingRate:N.audio_sample_rate},N.channels&&q("audioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:N.channels}),q(xE,{info:N.segment_info}))))),T.map((k,A)=>q("adaptationSet",{id:A+g.length,mimeType:k.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:k.codecs,maxPlayoutRate:"1",frameRate:k.fps,contentType:"video"},k.drm_families&&k.drm_families.map(N=>q("contentProtection",{schemeIdUri:`urn:uuid:${bE(N)}`})),k.color_info.primaries&&q("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:k.color_info.primaries}),k.color_info.transfer_characteristics&&q("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:k.color_info.transfer_characteristics}),k.color_info.matrix_coefficients&&q("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:k.color_info.matrix_coefficients}),k.representations.map(N=>q("representation",{id:N.uid,bandwidth:N.bitrate,width:N.width,height:N.height,codecs:N.codecs,frameRate:N.fps},q(xE,{info:N.segment_info}))))),I.map(async(k,A)=>q("adaptationSet",{id:A+g.length+T.length,mimeType:await k.getMimeType(),contentType:"image"},k.representations.map(async N=>q("representation",{id:`thumbnails_${N.thumbnail_width}x${N.thumbnail_height}`,bandwidth:await N.getBitrate(),width:N.sheet_width,height:N.sheet_height},q("essentialProperty",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${N.columns}x${N.rows}`}),q("segmentTemplate",{media:N.template_url,duration:N.template_duration,startNumber:"0"}))))),C.map((k,A)=>q("adaptationSet",{id:A+g.length+T.length+I.length,mimeType:k.mime_type,lang:k.language,contentType:"text"},k.track_roles.map(N=>q("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:N})),q("label",{id:A+g.length},k.track_name),q("representation",{id:k.representation.uid,bandwidth:"0"},q("baseURL",null,k.representation.base_url))))))}o(XC,"DashManifest");function yE(s,i=!1,t=b=>b,r,n,c,u,m,h,x){if(!s)throw new w("Streaming data not available");return pE(q(XC,{streamingData:s,isPostLiveDvr:i,transformURL:t,options:x,rejectFormat:r,cpn:n,player:c,actions:u,storyboards:m,captionTracks:h}))}o(yE,"toDash");async function QC(s,i,t,r,n,c){if((t==null?void 0:t.status)==="UNPLAYABLE")throw new w("Video is unplayable",{error_type:"UNPLAYABLE"});if((t==null?void 0:t.status)==="LOGIN_REQUIRED")throw new w("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!r)throw new w("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let u={quality:"360p",type:"video+audio",format:"mp4",range:void 0,...s},m=gE(u,r),h=await m.decipher(n);if(u.type==="video+audio"&&!s.range){let C=await i.session.http.fetch_function(`${h}&cpn=${c}`,{method:"GET",headers:Pi,redirect:"follow"});if(!C.ok)throw new w("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:C});let k=C.body;if(!k)throw new w("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:C});return k}let x=1048576*10,b=s.range?s.range.start:0,g=s.range?s.range.end:x,T=!1,I;return new H.shim.ReadableStream({start(){},pull:o(async C=>{if(T){C.close();return}return(g>=(m.content_length?m.content_length:0)||s.range)&&(T=!0),new Promise(async(k,A)=>{try{I=new AbortController;let N=await i.session.http.fetch_function(`${h}&cpn=${c}&range=${b}-${g||""}`,{method:"GET",headers:{...Pi},signal:I.signal});if(!N.ok)throw new w("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:N});let L=N.body;if(!L)throw new w("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:N});for await(let G of sk(L))C.enqueue(G);b=g+1,g+=x,k()}catch(N){A(N)}})},"pull"),async cancel(C){I.abort(C)}},{highWaterMark:1,size(C){return C.byteLength}})}o(QC,"download");function gE(s,i){if(!i)throw new w("Streaming data not available");let t=[...i.formats||[],...i.adaptive_formats||[]];if(s.itag){let g=t.filter(T=>T.itag===s.itag);if(!g.length)throw new w("No matching formats found",{options:s});return g[0]}let r=s.type?s.type.includes("audio"):!0,n=s.type?s.type.includes("video"):!0,c=s.language||"original",u=s.quality||"best",m=-1,h=["best","bestefficiency"].includes(u),x=u!=="best",b=t.filter(g=>r&&!g.has_audio||n&&!g.has_video||s.codec&&!g.mime_type.includes(s.codec)||s.format!=="any"&&!g.mime_type.includes(s.format||"mp4")||!h&&g.quality_label!==u?!1:(g.width&&m<g.width&&(m=g.width),!0));if(!b.length)throw new w("No matching formats found",{options:s});if(h&&n&&(b=b.filter(g=>g.width===m)),r&&!n){let g=b.filter(T=>c!=="original"?!T.has_video&&!T.has_text&&T.language===c:!T.has_video&&!T.has_text&&T.is_original);g.length>0&&(b=g)}return x?b.sort((g,T)=>g.bitrate-T.bitrate):b.sort((g,T)=>T.bitrate-g.bitrate),b[0]}o(gE,"chooseFormat");var Il,Wh,Wc,Fs,wE,TE,vE,rk=class rk{constructor(i,t,r){E(this,Fs);E(this,Il);E(this,Wh);E(this,Wc);S(this,Il,i),S(this,Wh,t),S(this,Wc,r||H.shim.fetch)}get fetch_function(){return f(this,Wc)}async fetch(i,t){let r=f(this,Il),n=Ct.API.PRODUCTION_1+r.api_version,c=(t==null?void 0:t.baseURL)||n,u=typeof i=="string"?new URL(`${c}${c.endsWith("/")||i.startsWith("/")?"":"/"}${i}`):i instanceof URL?i:new URL(i.url,c),m=(t==null?void 0:t.headers)||(i instanceof H.shim.Request?i.headers:new H.shim.Headers)||new H.shim.Headers,h=(t==null?void 0:t.body)||(i instanceof H.shim.Request?i.body:void 0),x=new H.shim.Headers(m);P(this,Fs,TE).call(this,x,r,u),u.searchParams.set("prettyPrint","false"),u.searchParams.set("alt","json");let b=x.get("Content-Type"),g=h,T=c===n||c===Ct.YT_UPLOAD;if(b==="application/json"&&T&&typeof h=="string"){let{newBody:k,clientVersion:A,clientNameId:N,adjustedClientName:L}=P(this,Fs,wE).call(this,h,r);g=k,A&&x.set("X-Youtube-Client-Version",A),N&&x.set("X-Youtube-Client-Name",N),L===V.ANDROID.NAME||L===V.YTMUSIC_ANDROID.NAME?(x.set("User-Agent",V.ANDROID.USER_AGENT),x.set("X-GOOG-API-FORMAT-VERSION","2")):L===V.IOS.NAME&&x.set("User-Agent",V.IOS.USER_AGENT)}else b==="application/x-protobuf"&&H.shim.server&&(x.set("User-Agent",V.ANDROID.USER_AGENT),x.set("X-GOOG-API-FORMAT-VERSION","2"),x.delete("X-Youtube-Client-Version"));let I=new H.shim.Request(u,i instanceof H.shim.Request?i:t),C=await f(this,Wc).call(this,I,{body:g,headers:x,redirect:i instanceof H.shim.Request?i.redirect:(t==null?void 0:t.redirect)||"follow",...H.shim.runtime!=="cf-worker"?{credentials:"include"}:{}});if(C.ok)return C;throw new w(`Request to ${C.url} failed with status code ${C.status}`,await C.text())}};Il=new WeakMap,Wh=new WeakMap,Wc=new WeakMap,Fs=new WeakSet,wE=o(function(i,t){let r=JSON.parse(i),n=JSON.parse(JSON.stringify(t.context));P(this,Fs,vE).call(this,n,r.client);let c={...r,context:n},u=c.context.client.clientVersion,m=c.context.client.clientName,h=Oh[m];delete c.client;let x=c.context.client.clientName===V.WEB_KIDS.NAME;return{newBody:JSON.stringify(c),isWebKids:x,clientVersion:u,clientNameId:h,adjustedClientName:c.context.client.clientName}},"#processJsonPayload"),TE=o(function(i,t,r){i.set("Accept","*/*"),i.set("Accept-Language","*"),i.set("X-Goog-Visitor-Id",t.context.client.visitorData||""),i.set("X-Youtube-Client-Version",t.context.client.clientVersion||"");let n=Oh[t.context.client.clientName];n&&i.set("X-Youtube-Client-Name",n),H.shim.server&&(i.set("User-Agent",t.user_agent||""),i.set("Origin",r.origin))},"#setupCommonHeaders"),vE=o(function(i,t){if(!t)return;let r=t.toUpperCase();if(!Yh.includes(r))throw new w(`Invalid client: ${t}`,{available_innertube_clients:Yh});switch(r!=="WEB"&&delete i.client.configInfo,(r==="ANDROID"||r==="YTMUSIC_ANDROID"||r==="YTSTUDIO_ANDROID")&&(i.client.androidSdkVersion=V.ANDROID.SDK_VERSION,i.client.userAgent=V.ANDROID.USER_AGENT,i.client.osName="Android",i.client.osVersion="13",i.client.platform="MOBILE"),r){case"MWEB":i.client.clientVersion=V.MWEB.VERSION,i.client.clientName=V.MWEB.NAME,i.client.clientFormFactor="SMALL_FORM_FACTOR",i.client.platform="MOBILE";break;case"IOS":i.client.deviceMake="Apple",i.client.deviceModel=V.IOS.DEVICE_MODEL,i.client.clientVersion=V.IOS.VERSION,i.client.clientName=V.IOS.NAME,i.client.platform="MOBILE",i.client.osName=V.IOS.OS_NAME,i.client.osVersion=V.IOS.OS_VERSION,delete i.client.browserName,delete i.client.browserVersion;break;case"YTMUSIC":i.client.clientVersion=V.YTMUSIC.VERSION,i.client.clientName=V.YTMUSIC.NAME;break;case"ANDROID":i.client.clientVersion=V.ANDROID.VERSION,i.client.clientFormFactor="SMALL_FORM_FACTOR",i.client.clientName=V.ANDROID.NAME;break;case"YTMUSIC_ANDROID":i.client.clientVersion=V.YTMUSIC_ANDROID.VERSION,i.client.clientFormFactor="SMALL_FORM_FACTOR",i.client.clientName=V.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":i.client.clientVersion=V.YTSTUDIO_ANDROID.VERSION,i.client.clientFormFactor="SMALL_FORM_FACTOR",i.client.clientName=V.YTSTUDIO_ANDROID.NAME;break;case"TV":i.client.clientVersion=V.TV.VERSION,i.client.clientName=V.TV.NAME,i.client.userAgent=V.TV.USER_AGENT;break;case"TV_SIMPLY":i.client.clientVersion=V.TV_SIMPLY.VERSION,i.client.clientName=V.TV_SIMPLY.NAME;break;case"TV_EMBEDDED":i.client.clientName=V.TV_EMBEDDED.NAME,i.client.clientVersion=V.TV_EMBEDDED.VERSION,i.client.clientScreen="EMBED",i.thirdParty={embedUrl:Ct.YT_BASE};break;case"YTKIDS":i.client.clientVersion=V.WEB_KIDS.VERSION,i.client.clientName=V.WEB_KIDS.NAME,i.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;case"WEB_EMBEDDED":i.client.clientName=V.WEB_EMBEDDED.NAME,i.client.clientVersion=V.WEB_EMBEDDED.VERSION,i.client.clientScreen="EMBED",i.thirdParty={embedUrl:Ct.GOOGLE_SEARCH_BASE};break;case"WEB_CREATOR":i.client.clientName=V.WEB_CREATOR.NAME,i.client.clientVersion=V.WEB_CREATOR.VERSION;break;default:break}},"#adjustContext"),o(rk,"HTTPClient");var jc=rk;var ak={};ie(ak,{compress:()=>ok,decompress:()=>nk});function ok(s){let i=[],t={};for(let c=0;c<256;c++)t[String.fromCharCode(c)]=c;let r="",n=256;for(let c=0;c<s.length;c++){let u=s[c],m=r+u;t.hasOwnProperty(m)?r=m:(i.push(t[r]),t[m]=n++,r=u)}return r!==""&&i.push(t[r]),i.map(c=>String.fromCharCode(c)).join("")}o(ok,"compress");function nk(s){let i={},t=s.split(""),r=[t.shift()],n=t.length>>>0,c=256,u=r[0],m=u;for(let h=0;h<n;++h){let x=t[h].charCodeAt(0),b=x<256?t[h]:i[x]?i[x]:m+u;r.push(b),u=b.charAt(0),i[c++]=m+u,m=b}return r.join("")}o(nk,"decompress");var Ri={};ie(Ri,{MAGIC_HEADER:()=>ck,VERSION:()=>lk,deserialize:()=>ZC,serialize:()=>JC});var ck=5849684,lk=1;function JC(s){let i=JSON.stringify(s),t=ok(i),r=new TextEncoder().encode(t),n=new ArrayBuffer(12+r.byteLength),c=new DataView(n);return c.setUint32(0,ck,!0),c.setUint32(4,lk,!0),c.setUint32(8,r.byteLength,!0),new Uint8Array(n).set(r,12),new Uint8Array(n)}o(JC,"serialize");function ZC(s){if(s.byteLength<12)throw new Error("Invalid binary format: buffer too short");let i=new DataView(s.buffer,s.byteOffset);if(i.getUint32(0,!0)!==ck)throw new Error("Invalid binary format: magic header mismatch");let r=i.getUint32(4,!0);if(r!==lk)throw new Error(`Unsupported binary format version: ${r}`);let n=i.getUint32(8,!0),c=s.slice(12,12+n),u=new TextDecoder().decode(c),m=nk(u);return JSON.parse(m)}o(ZC,"deserialize");var wr={};ie(wr,{decodeVisitorData:()=>gN,encodeCommentActionParams:()=>gk,encodeNextParams:()=>wN,encodeVisitorData:()=>yN});function kE(){let s=0,i=0;for(let r=0;r<28;r+=7){let n=this.buf[this.pos++];if(s|=(n&127)<<r,(n&128)==0)return this.assertBounds(),[s,i]}let t=this.buf[this.pos++];if(s|=(t&15)<<28,i=(t&112)>>4,(t&128)==0)return this.assertBounds(),[s,i];for(let r=3;r<=31;r+=7){let n=this.buf[this.pos++];if(i|=(n&127)<<r,(n&128)==0)return this.assertBounds(),[s,i]}throw new Error("invalid varint")}o(kE,"varint64read");function Hh(s,i,t){for(let c=0;c<28;c=c+7){let u=s>>>c,m=!(!(u>>>7)&&i==0),h=(m?u|128:u)&255;if(t.push(h),!m)return}let r=s>>>28&15|(i&7)<<4,n=i>>3!=0;if(t.push((n?r|128:r)&255),!!n){for(let c=3;c<31;c=c+7){let u=i>>>c,m=!!(u>>>7),h=(m?u|128:u)&255;if(t.push(h),!m)return}t.push(i>>>31&1)}}o(Hh,"varint64write");var jh=4294967296;function pk(s){let i=s[0]==="-";i&&(s=s.slice(1));let t=1e6,r=0,n=0;function c(u,m){let h=Number(s.slice(u,m));n*=t,r=r*t+h,r>=jh&&(n=n+(r/jh|0),r=r%jh)}return o(c,"add1e6digit"),c(-24,-18),c(-18,-12),c(-12,-6),c(-6),i?SE(r,n):mk(r,n)}o(pk,"int64FromString");function EE(s,i){let t=mk(s,i),r=t.hi&2147483648;r&&(t=SE(t.lo,t.hi));let n=uk(t.lo,t.hi);return r?"-"+n:n}o(EE,"int64ToString");function uk(s,i){if({lo:s,hi:i}=tN(s,i),i<=2097151)return String(jh*i+s);let t=s&16777215,r=(s>>>24|i<<8)&16777215,n=i>>16&65535,c=t+r*6777216+n*6710656,u=r+n*8147497,m=n*2,h=1e7;return c>=h&&(u+=Math.floor(c/h),c%=h),u>=h&&(m+=Math.floor(u/h),u%=h),m.toString()+IE(u)+IE(c)}o(uk,"uInt64ToString");function tN(s,i){return{lo:s>>>0,hi:i>>>0}}o(tN,"toUnsigned");function mk(s,i){return{lo:s|0,hi:i|0}}o(mk,"newBits");function SE(s,i){return i=~i,s?s=~s+1:i+=1,mk(s,i)}o(SE,"negate");var IE=o(s=>{let i=String(s);return"0000000".slice(i.length)+i},"decimalFrom1e7WithLeadingZeros");function fk(s,i){if(s>=0){for(;s>127;)i.push(s&127|128),s=s>>>7;i.push(s)}else{for(let t=0;t<9;t++)i.push(s&127|128),s=s>>7;i.push(1)}}o(fk,"varint32write");function CE(){let s=this.buf[this.pos++],i=s&127;if((s&128)==0)return this.assertBounds(),i;if(s=this.buf[this.pos++],i|=(s&127)<<7,(s&128)==0)return this.assertBounds(),i;if(s=this.buf[this.pos++],i|=(s&127)<<14,(s&128)==0)return this.assertBounds(),i;if(s=this.buf[this.pos++],i|=(s&127)<<21,(s&128)==0)return this.assertBounds(),i;s=this.buf[this.pos++],i|=(s&15)<<28;for(let t=5;(s&128)!==0&&t<10;t++)s=this.buf[this.pos++];if((s&128)!=0)throw new Error("invalid varint");return this.assertBounds(),i>>>0}o(CE,"varint32read");var We=eN();function eN(){let s=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof s.getBigInt64=="function"&&typeof s.getBigUint64=="function"&&typeof s.setBigInt64=="function"&&typeof s.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let t=BigInt("-9223372036854775808"),r=BigInt("9223372036854775807"),n=BigInt("0"),c=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(u){let m=typeof u=="bigint"?u:BigInt(u);if(m>r||m<t)throw new Error(`invalid int64: ${u}`);return m},uParse(u){let m=typeof u=="bigint"?u:BigInt(u);if(m>c||m<n)throw new Error(`invalid uint64: ${u}`);return m},enc(u){return s.setBigInt64(0,this.parse(u),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},uEnc(u){return s.setBigInt64(0,this.uParse(u),!0),{lo:s.getInt32(0,!0),hi:s.getInt32(4,!0)}},dec(u,m){return s.setInt32(0,u,!0),s.setInt32(4,m,!0),s.getBigInt64(0,!0)},uDec(u,m){return s.setInt32(0,u,!0),s.setInt32(4,m,!0),s.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(t){return typeof t!="string"&&(t=t.toString()),NE(t),t},uParse(t){return typeof t!="string"&&(t=t.toString()),AE(t),t},enc(t){return typeof t!="string"&&(t=t.toString()),NE(t),pk(t)},uEnc(t){return typeof t!="string"&&(t=t.toString()),AE(t),pk(t)},dec(t,r){return EE(t,r)},uDec(t,r){return uk(t,r)}}}o(eN,"makeInt64Support");function NE(s){if(!/^-?[0-9]+$/.test(s))throw new Error("invalid int64: "+s)}o(NE,"assertInt64String");function AE(s){if(!/^[0-9]+$/.test(s))throw new Error("invalid uint64: "+s)}o(AE,"assertUInt64String");var hk=Symbol.for("@bufbuild/protobuf/text-encoding");function dk(){if(globalThis[hk]==null){let s=new globalThis.TextEncoder,i=new globalThis.TextDecoder;globalThis[hk]={encodeUtf8(t){return s.encode(t)},decodeUtf8(t){return i.decode(t)},checkUtf8(t){try{return encodeURIComponent(t),!0}catch{return!1}}}}return globalThis[hk]}o(dk,"getTextEncoding");var Ws;(function(s){s[s.Varint=0]="Varint",s[s.Bit64=1]="Bit64",s[s.LengthDelimited=2]="LengthDelimited",s[s.StartGroup=3]="StartGroup",s[s.EndGroup=4]="EndGroup",s[s.Bit32=5]="Bit32"})(Ws||(Ws={}));var iN=34028234663852886e22,sN=-34028234663852886e22,rN=4294967295,oN=2147483647,nN=-2147483648,xk=class xk{constructor(i=dk().encodeUtf8){this.encodeUtf8=i,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let i=0;for(let n=0;n<this.chunks.length;n++)i+=this.chunks[n].length;let t=new Uint8Array(i),r=0;for(let n=0;n<this.chunks.length;n++)t.set(this.chunks[n],r),r+=this.chunks[n].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let i=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(i.byteLength),this.raw(i)}tag(i,t){return this.uint32((i<<3|t)>>>0)}raw(i){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(i),this}uint32(i){for(PE(i);i>127;)this.buf.push(i&127|128),i=i>>>7;return this.buf.push(i),this}int32(i){return _k(i),fk(i,this.buf),this}bool(i){return this.buf.push(i?1:0),this}bytes(i){return this.uint32(i.byteLength),this.raw(i)}string(i){let t=this.encodeUtf8(i);return this.uint32(t.byteLength),this.raw(t)}float(i){aN(i);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,i,!0),this.raw(t)}double(i){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,i,!0),this.raw(t)}fixed32(i){PE(i);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,i,!0),this.raw(t)}sfixed32(i){_k(i);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,i,!0),this.raw(t)}sint32(i){return _k(i),i=(i<<1^i>>31)>>>0,fk(i,this.buf),this}sfixed64(i){let t=new Uint8Array(8),r=new DataView(t.buffer),n=We.enc(i);return r.setInt32(0,n.lo,!0),r.setInt32(4,n.hi,!0),this.raw(t)}fixed64(i){let t=new Uint8Array(8),r=new DataView(t.buffer),n=We.uEnc(i);return r.setInt32(0,n.lo,!0),r.setInt32(4,n.hi,!0),this.raw(t)}int64(i){let t=We.enc(i);return Hh(t.lo,t.hi,this.buf),this}sint64(i){let t=We.enc(i),r=t.hi>>31,n=t.lo<<1^r,c=(t.hi<<1|t.lo>>>31)^r;return Hh(n,c,this.buf),this}uint64(i){let t=We.uEnc(i);return Hh(t.lo,t.hi,this.buf),this}};o(xk,"BinaryWriter");var Dt=xk,bk=class bk{constructor(i,t=dk().decodeUtf8){this.decodeUtf8=t,this.varint64=kE,this.uint32=CE,this.buf=i,this.len=i.length,this.pos=0,this.view=new DataView(i.buffer,i.byteOffset,i.byteLength)}tag(){let i=this.uint32(),t=i>>>3,r=i&7;if(t<=0||r<0||r>5)throw new Error("illegal tag: field no "+t+" wire type "+r);return[t,r]}skip(i,t){let r=this.pos;switch(i){case Ws.Varint:for(;this.buf[this.pos++]&128;);break;case Ws.Bit64:this.pos+=4;case Ws.Bit32:this.pos+=4;break;case Ws.LengthDelimited:let n=this.uint32();this.pos+=n;break;case Ws.StartGroup:for(;;){let[c,u]=this.tag();if(u===Ws.EndGroup){if(t!==void 0&&c!==t)throw new Error("invalid end group tag");break}this.skip(u,c)}break;default:throw new Error("cant skip wire type "+i)}return this.assertBounds(),this.buf.subarray(r,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let i=this.uint32();return i>>>1^-(i&1)}int64(){return We.dec(...this.varint64())}uint64(){return We.uDec(...this.varint64())}sint64(){let[i,t]=this.varint64(),r=-(i&1);return i=(i>>>1|(t&1)<<31)^r,t=t>>>1^r,We.dec(i,t)}bool(){let[i,t]=this.varint64();return i!==0||t!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return We.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return We.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let i=this.uint32(),t=this.pos;return this.pos+=i,this.assertBounds(),this.buf.subarray(t,t+i)}string(){return this.decodeUtf8(this.bytes())}};o(bk,"BinaryReader");var st=bk;function _k(s){if(typeof s=="string")s=Number(s);else if(typeof s!="number")throw new Error("invalid int32: "+typeof s);if(!Number.isInteger(s)||s>oN||s<nN)throw new Error("invalid int32: "+s)}o(_k,"assertInt32");function PE(s){if(typeof s=="string")s=Number(s);else if(typeof s!="number")throw new Error("invalid uint32: "+typeof s);if(!Number.isInteger(s)||s>rN||s<0)throw new Error("invalid uint32: "+s)}o(PE,"assertUInt32");function aN(s){if(typeof s=="string"){let i=s;if(s=Number(s),isNaN(s)&&i!=="NaN")throw new Error("invalid float32: "+i)}else if(typeof s!="number")throw new Error("invalid float32: "+typeof s);if(Number.isFinite(s)&&(s>iN||s<sN))throw new Error("invalid float32: "+s)}o(aN,"assertFloat32");function cN(){return{id:"",timestamp:0}}o(cN,"createBaseVisitorData");var yk={encode(s,i=new Dt){return s.id!==""&&i.uint32(10).string(s.id),s.timestamp!==0&&i.uint32(40).int32(s.timestamp),i},decode(s,i){let t=s instanceof st?s:new st(s),r=i===void 0?t.len:t.pos+i,n=cN();for(;t.pos<r;){let c=t.uint32();switch(c>>>3){case 1:if(c!==10)break;n.id=t.string();continue;case 5:if(c!==40)break;n.timestamp=t.int32();continue}if((c&7)===4||c===0)break;t.skip(c&7)}return n}};function lN(){return{params:void 0,number0:void 0,number1:void 0}}o(lN,"createBaseLiveMessageParams");var YE={encode(s,i=new Dt){return s.params!==void 0&&RE.encode(s.params,i.uint32(10).fork()).join(),s.number0!==void 0&&i.uint32(16).int32(s.number0),s.number1!==void 0&&i.uint32(24).int32(s.number1),i},decode(s,i){let t=s instanceof st?s:new st(s),r=i===void 0?t.len:t.pos+i,n=lN();for(;t.pos<r;){let c=t.uint32();switch(c>>>3){case 1:if(c!==10)break;n.params=RE.decode(t,t.uint32());continue;case 2:if(c!==16)break;n.number0=t.int32();continue;case 3:if(c!==24)break;n.number1=t.int32();continue}if((c&7)===4||c===0)break;t.skip(c&7)}return n}};function pN(){return{ids:void 0}}o(pN,"createBaseLiveMessageParams_Params");var RE={encode(s,i=new Dt){return s.ids!==void 0&&ME.encode(s.ids,i.uint32(42).fork()).join(),i},decode(s,i){let t=s instanceof st?s:new st(s),r=i===void 0?t.len:t.pos+i,n=pN();for(;t.pos<r;){let c=t.uint32();switch(c>>>3){case 5:if(c!==42)break;n.ids=ME.decode(t,t.uint32());continue}if((c&7)===4||c===0)break;t.skip(c&7)}return n}};function uN(){return{channelId:"",videoId:""}}o(uN,"createBaseLiveMessageParams_Params_Ids");var ME={encode(s,i=new Dt){return s.channelId!==""&&i.uint32(10).string(s.channelId),s.videoId!==""&&i.uint32(18).string(s.videoId),i},decode(s,i){let t=s instanceof st?s:new st(s),r=i===void 0?t.len:t.pos+i,n=uN();for(;t.pos<r;){let c=t.uint32();switch(c>>>3){case 1:if(c!==10)break;n.channelId=t.string();continue;case 2:if(c!==18)break;n.videoId=t.string();continue}if((c&7)===4||c===0)break;t.skip(c&7)}return n}};function mN(){return{type:0,commentId:"",videoId:"",unkNum:void 0,channelId:void 0,translateCommentParams:void 0}}o(mN,"createBasePeformCommentActionParams");var VE={encode(s,i=new Dt){return s.type!==0&&i.uint32(8).int32(s.type),s.commentId!==""&&i.uint32(26).string(s.commentId),s.videoId!==""&&i.uint32(42).string(s.videoId),s.unkNum!==void 0&&i.uint32(16).int32(s.unkNum),s.channelId!==void 0&&i.uint32(186).string(s.channelId),s.translateCommentParams!==void 0&&DE.encode(s.translateCommentParams,i.uint32(250).fork()).join(),i},decode(s,i){let t=s instanceof st?s:new st(s),r=i===void 0?t.len:t.pos+i,n=mN();for(;t.pos<r;){let c=t.uint32();switch(c>>>3){case 1:if(c!==8)break;n.type=t.int32();continue;case 3:if(c!==26)break;n.commentId=t.string();continue;case 5:if(c!==42)break;n.videoId=t.string();continue;case 2:if(c!==16)break;n.unkNum=t.int32();continue;case 23:if(c!==186)break;n.channelId=t.string();continue;case 31:if(c!==250)break;n.translateCommentParams=DE.decode(t,t.uint32());continue}if((c&7)===4||c===0)break;t.skip(c&7)}return n}};function fN(){return{params:void 0,commentId:"",targetLanguage:""}}o(fN,"createBasePeformCommentActionParams_TranslateCommentParams");var DE={encode(s,i=new Dt){return s.params!==void 0&&BE.encode(s.params,i.uint32(26).fork()).join(),s.commentId!==""&&i.uint32(18).string(s.commentId),s.targetLanguage!==""&&i.uint32(34).string(s.targetLanguage),i},decode(s,i){let t=s instanceof st?s:new st(s),r=i===void 0?t.len:t.pos+i,n=fN();for(;t.pos<r;){let c=t.uint32();switch(c>>>3){case 3:if(c!==26)break;n.params=BE.decode(t,t.uint32());continue;case 2:if(c!==18)break;n.commentId=t.string();continue;case 4:if(c!==34)break;n.targetLanguage=t.string();continue}if((c&7)===4||c===0)break;t.skip(c&7)}return n}};function hN(){return{comment:void 0}}o(hN,"createBasePeformCommentActionParams_TranslateCommentParams_Params");var BE={encode(s,i=new Dt){return s.comment!==void 0&&LE.encode(s.comment,i.uint32(10).fork()).join(),i},decode(s,i){let t=s instanceof st?s:new st(s),r=i===void 0?t.len:t.pos+i,n=hN();for(;t.pos<r;){let c=t.uint32();switch(c>>>3){case 1:if(c!==10)break;n.comment=LE.decode(t,t.uint32());continue}if((c&7)===4||c===0)break;t.skip(c&7)}return n}};function dN(){return{text:""}}o(dN,"createBasePeformCommentActionParams_TranslateCommentParams_Params_Comment");var LE={encode(s,i=new Dt){return s.text!==""&&i.uint32(10).string(s.text),i},decode(s,i){let t=s instanceof st?s:new st(s),r=i===void 0?t.len:t.pos+i,n=dN();for(;t.pos<r;){let c=t.uint32();switch(c>>>3){case 1:if(c!==10)break;n.text=t.string();continue}if((c&7)===4||c===0)break;t.skip(c&7)}return n}};function _N(){return{shortId:"",params:void 0,feature2:0,feature3:0}}o(_N,"createBaseReelSequence");var UE={encode(s,i=new Dt){return s.shortId!==""&&i.uint32(10).string(s.shortId),s.params!==void 0&&OE.encode(s.params,i.uint32(42).fork()).join(),s.feature2!==0&&i.uint32(80).int32(s.feature2),s.feature3!==0&&i.uint32(104).int32(s.feature3),i},decode(s,i){let t=s instanceof st?s:new st(s),r=i===void 0?t.len:t.pos+i,n=_N();for(;t.pos<r;){let c=t.uint32();switch(c>>>3){case 1:if(c!==10)break;n.shortId=t.string();continue;case 5:if(c!==42)break;n.params=OE.decode(t,t.uint32());continue;case 10:if(c!==80)break;n.feature2=t.int32();continue;case 13:if(c!==104)break;n.feature3=t.int32();continue}if((c&7)===4||c===0)break;t.skip(c&7)}return n}};function xN(){return{number:0}}o(xN,"createBaseReelSequence_Params");var OE={encode(s,i=new Dt){return s.number!==0&&i.uint32(24).int32(s.number),i},decode(s,i){let t=s instanceof st?s:new st(s),r=i===void 0?t.len:t.pos+i,n=xN();for(;t.pos<r;){let c=t.uint32();switch(c>>>3){case 3:if(c!==24)break;n.number=t.int32();continue}if((c&7)===4||c===0)break;t.skip(c&7)}return n}};function bN(){return{videoId:[]}}o(bN,"createBaseNextParams");var FE={encode(s,i=new Dt){for(let t of s.videoId)i.uint32(42).string(t);return i},decode(s,i){let t=s instanceof st?s:new st(s),r=i===void 0?t.len:t.pos+i,n=bN();for(;t.pos<r;){let c=t.uint32();switch(c>>>3){case 5:if(c!==42)break;n.videoId.push(t.string());continue}if((c&7)===4||c===0)break;t.skip(c&7)}return n}};function yN(s,i){let t=yk.encode({id:s,timestamp:i});return encodeURIComponent(Mi(t.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}o(yN,"encodeVisitorData");function gN(s){return yk.decode(kl(decodeURIComponent(s).replace(/-/g,"+").replace(/_/g,"/")))}o(gN,"decodeVisitorData");function gk(s,i={}){let t={type:s,commentId:i.comment_id||" ",videoId:i.video_id||" ",channelId:" ",unkNum:2};if(i.hasOwnProperty("text")){if(typeof i.target_language!="string")throw new Error("target_language must be a string");i.comment_id&&delete t.unkNum,t.translateCommentParams={params:{comment:{text:i.text}},commentId:i.comment_id||" ",targetLanguage:i.target_language}}let r=VE.encode(t);return encodeURIComponent(Mi(r.finish()))}o(gk,"encodeCommentActionParams");function wN(s){let i=FE.encode({videoId:s});return encodeURIComponent(Mi(i.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}o(wN,"encodeNextParams");var $h=class $h extends a{constructor(t){super();e(this,"popup");e(this,"popup_type");this.popup=p.parseItem(t.popup),this.popup_type=t.popupType}};o($h,"OpenPopupAction"),e($h,"type","OpenPopupAction");var Di=$h;var Gh=class Gh extends a{constructor(t){super();e(this,"text");e(this,"label");e(this,"tooltip");e(this,"style");e(this,"size");e(this,"icon_type");e(this,"is_disabled");e(this,"target_id");e(this,"endpoint");e(this,"accessibility");Reflect.has(t,"text")&&(this.text=new l(t.text).toString()),Reflect.has(t,"accessibility")&&Reflect.has(t.accessibility,"label")&&(this.label=t.accessibility.label),"accessibilityData"in t&&"accessibilityData"in t.accessibilityData&&(this.accessibility={accessibility_data:new ut(t.accessibilityData.accessibilityData)}),Reflect.has(t,"tooltip")&&(this.tooltip=t.tooltip),Reflect.has(t,"style")&&(this.style=t.style),Reflect.has(t,"size")&&(this.size=t.size),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"isDisabled")&&(this.is_disabled=t.isDisabled),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),this.endpoint=new d(t.navigationEndpoint||t.serviceEndpoint||t.command)}};o(Gh,"Button"),e(Gh,"type","Button");var v=Gh;var qh=class qh extends a{constructor(t){var r;super();e(this,"label");e(this,"selected");e(this,"value");e(this,"icon_type");e(this,"description");e(this,"endpoint");this.label=new l(t.label).toString(),this.selected=!!t.isSelected,Reflect.has(t,"int32Value")?this.value=t.int32Value:t.stringValue&&(this.value=t.stringValue),Reflect.has(t,"onSelectCommand")&&(this.endpoint=new d(t.onSelectCommand)),Reflect.has(t,"icon")&&(this.icon_type=(r=t.icon)==null?void 0:r.iconType),Reflect.has(t,"descriptionText")&&(this.description=new l(t.descriptionText))}};o(qh,"DropdownItem"),e(qh,"type","DropdownItem");var Tr=qh;var Kh=class Kh extends a{constructor(t){super();e(this,"label");e(this,"entries");this.label=t.label||"",this.entries=p.parseArray(t.entries,Tr)}};o(Kh,"Dropdown"),e(Kh,"type","Dropdown");var je=Kh;var zh=class zh extends a{constructor(t){super();e(this,"title");e(this,"title_placeholder");e(this,"privacy_option");e(this,"cancel_button");e(this,"create_button");this.title=new l(t.dialogTitle).toString(),this.title_placeholder=t.titlePlaceholder||"",this.privacy_option=p.parseItem(t.privacyOption,je),this.create_button=p.parseItem(t.cancelButton,v),this.cancel_button=p.parseItem(t.cancelButton,v)}};o(zh,"CreatePlaylistDialog"),e(zh,"type","CreatePlaylistDialog");var vr=zh;var Xh=class Xh extends a{constructor(t){super();e(this,"commands");this.commands=p.parseCommands(t.commands)}};o(Xh,"CommandExecutorCommand"),e(Xh,"type","CommandExecutorCommand");var Ir=Xh;var Hc=class Hc extends a{constructor(t){var r,n,c,u,m,h,x,b;super();e(this,"name");e(this,"payload");e(this,"dialog");e(this,"modal");e(this,"open_popup");e(this,"next_endpoint");e(this,"metadata");e(this,"command");e(this,"commands");if(t){if(t.serialCommand||t.parallelCommand){let g=t.serialCommand||t.parallelCommand;this.commands=g.commands.map(T=>new Hc(T))}(t.innertubeCommand||t.command||t.performOnceCommand)&&(t=t.innertubeCommand||t.command||t.performOnceCommand)}this.command=p.parseCommand(t),Reflect.has(t||{},"openPopupAction")&&(this.open_popup=new Di(t.openPopupAction)),this.name=Object.keys(t||{}).find(g=>g.endsWith("Endpoint")||g.endsWith("Command")),this.payload=this.name?Reflect.get(t,this.name):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=p.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=p.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Hc(this.payload.nextEndpoint)),t!=null&&t.serviceEndpoint&&(t=t.serviceEndpoint),this.metadata={},(n=(r=t==null?void 0:t.commandMetadata)==null?void 0:r.webCommandMetadata)!=null&&n.url&&(this.metadata.url=t.commandMetadata.webCommandMetadata.url),(u=(c=t==null?void 0:t.commandMetadata)==null?void 0:c.webCommandMetadata)!=null&&u.webPageType&&(this.metadata.page_type=t.commandMetadata.webCommandMetadata.webPageType),(h=(m=t==null?void 0:t.commandMetadata)==null?void 0:m.webCommandMetadata)!=null&&h.apiUrl?this.metadata.api_url=t.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):this.name&&(this.metadata.api_url=this.getPath(this.name)),(b=(x=t==null?void 0:t.commandMetadata)==null?void 0:x.webCommandMetadata)!=null&&b.sendPost&&(this.metadata.send_post=t.commandMetadata.webCommandMetadata.sendPost),t!=null&&t.createPlaylistEndpoint&&t!=null&&t.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=p.parseItem(t==null?void 0:t.createPlaylistEndpoint.createPlaylistDialog,vr))}getPath(t){switch(t){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(t,r){if(!t)throw new Error("An API caller must be provided");if(this.command){let n=this.command;return n.is(Ir)&&(n=n.commands.at(-1)),t.execute(n.getApiPath(),{...n.buildRequest(),...r})}if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found.");return t.execute(this.metadata.api_url,{...this.payload,...r})}toURL(){if(this.metadata.url&&this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};o(Hc,"NavigationEndpoint"),e(Hc,"type","NavigationEndpoint");var d=Hc;var Qh=class Qh{constructor(i){e(this,"url");e(this,"width");e(this,"height");this.url=i.url,this.width=i.width,this.height=i.height}static fromResponse(i){if(!i)return[];let t;return i.thumbnails?t=i.thumbnails:i.sources&&(t=i.sources),t?t.map(r=>new Qh(r)).sort((r,n)=>n.width-r.width):[]}};o(Qh,"Thumbnail");var y=Qh;var Tk=class Tk{constructor(i){e(this,"text");e(this,"emoji");var t,r,n,c,u,m;this.text=((t=i.emoji)==null?void 0:t.emojiId)||((n=(r=i.emoji)==null?void 0:r.shortcuts)==null?void 0:n[0])||i.text||"",this.emoji={emoji_id:i.emoji.emojiId,shortcuts:((c=i.emoji)==null?void 0:c.shortcuts)||[],search_terms:((u=i.emoji)==null?void 0:u.searchTerms)||[],image:y.fromResponse(i.emoji.image),is_custom:!!((m=i.emoji)!=null&&m.isCustomEmoji)}}toString(){return this.text}toHTML(){let i=Jh(this.text);return`<img src="${this.emoji.image[0].url}" alt="${i}" title="${i}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};o(Tk,"EmojiRun");var kr=Tk;var vk=class vk{constructor(i){e(this,"text");e(this,"text_color");e(this,"endpoint");e(this,"bold");e(this,"bracket");e(this,"dark_mode_text_color");e(this,"deemphasize");e(this,"italics");e(this,"strikethrough");e(this,"error_underline");e(this,"underline");e(this,"font_face");e(this,"attachment");this.text=i.text,this.bold=!!i.bold,this.bracket=!!i.bracket,this.italics=!!i.italics,this.strikethrough=!!i.strikethrough,this.error_underline=!!i.error_underline,this.underline=!!i.underline,this.deemphasize=!!i.deemphasize,"textColor"in i&&(this.text_color=i.textColor),"navigationEndpoint"in i&&(this.endpoint=new d(i.navigationEndpoint)),"darkModeTextColor"in i&&(this.dark_mode_text_color=i.darkModeTextColor),"fontFace"in i&&(this.font_face=i.fontFace),this.attachment=i.attachment}toString(){return this.text}toHTML(){var c;let i=[];if(this.bold&&i.push("b"),this.italics&&i.push("i"),this.strikethrough&&i.push("s"),this.deemphasize&&i.push("small"),this.underline&&i.push("u"),this.error_underline&&i.push("u"),!((c=this.text)!=null&&c.length))return"";let t=Jh(this.text),n=`<span style="white-space: pre-wrap;">${i.map(u=>`<${u}>`).join("")+t+i.map(u=>`</${u}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length&&this.endpoint){let{url:u}=this.attachment.element.type.imageType.image.sources[0],m="";u&&(m=`<img src="${u}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;" alt="">`);let h=this.endpoint.toURL();if(h)return`<a href="${h}" class="yt-ch-link">${m}${n}</a>`}if(this.endpoint){let u=this.endpoint.toURL();if(u)return`<a href="${u}">${n}</a>`}return n}};o(vk,"TextRun");var Er=vk;function Jh(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}o(Jh,"escape");var El="Text",td=class td{constructor(i){e(this,"text");e(this,"runs");e(this,"endpoint");e(this,"accessibility");e(this,"rtl");this.isRunsData(i)?(this.runs=i.runs.map(t=>t.emoji?new kr(t):new Er(t)),this.text=this.runs.map(t=>t.text).join("")):this.text=i==null?void 0:i.simpleText,this.isObject(i)&&"accessibility"in i&&"accessibilityData"in i.accessibility&&(this.accessibility={accessibility_data:new ut(i.accessibility.accessibilityData)}),this.rtl=!!(i!=null&&i.rtl),this.parseEndpoint(i)}isRunsData(i){return this.isObject(i)&&Reflect.has(i,"runs")&&Array.isArray(i.runs)}parseEndpoint(i){var t,r,n;this.isObject(i)&&("navigationEndpoint"in i?this.endpoint=new d(i.navigationEndpoint):"titleNavigationEndpoint"in i?this.endpoint=new d(i.titleNavigationEndpoint):(r=(t=this.runs)==null?void 0:t[0])!=null&&r.endpoint&&(this.endpoint=((n=this.runs)==null?void 0:n[0]).endpoint))}isObject(i){return typeof i=="object"&&i!==null}static fromAttributed(i){var m;let{content:t,commandRuns:r,attachmentRuns:n}=i,c=[{text:t,startIndex:0}],u=(m=i.styleRuns)==null?void 0:m.map(h=>{var x,b;return{...h,startIndex:(x=h.startIndex)!=null?x:0,length:(b=h.length)!=null?b:t.length}});return u!=null&&u.length&&this.processStyleRuns(c,u,i),r!=null&&r.length&&this.processCommandRuns(c,r,i),n!=null&&n.length&&this.processAttachmentRuns(c,n,i),new td({runs:c})}static processStyleRuns(i,t,r){for(let n of t)if(n.italic||n.strikethrough==="LINE_STYLE_SINGLE"||n.weightLabel==="FONT_WEIGHT_MEDIUM"||n.weightLabel==="FONT_WEIGHT_BOLD"){let c=Ik(i,n);if(!c){Y.warn(El,"Unable to find matching run for style run. Skipping...",{style_run:n,input_data:r,parsed_runs:JSON.parse(JSON.stringify(i))});continue}Zh(i,c,n,{bold:n.weightLabel==="FONT_WEIGHT_MEDIUM"||n.weightLabel==="FONT_WEIGHT_BOLD",italics:n.italic,strikethrough:n.strikethrough==="LINE_STYLE_SINGLE"})}else Y.debug(El,"Skipping style run as it is doesn't have any information that we parse.",{style_run:n,input_data:r})}static processCommandRuns(i,t,r){for(let n of t)if(n.onTap){let c=Ik(i,n);if(!c){Y.warn(El,"Unable to find matching run for command run. Skipping...",{command_run:n,input_data:r,parsed_runs:JSON.parse(JSON.stringify(i))});continue}Zh(i,c,n,{navigationEndpoint:n.onTap})}else Y.debug(El,'Skipping command run as it is missing the "doTap" property.',{command_run:n,input_data:r})}static processAttachmentRuns(i,t,r){var n,c,u;for(let m of t){let h=Ik(i,m);if(!h){Y.warn(El,"Unable to find matching run for attachment run. Skipping...",{attachment_run:m,input_data:r,parsed_runs:JSON.parse(JSON.stringify(i))});continue}if(m.length===0)h.attachment=m;else{let x=m.startIndex-h.startIndex,b=h.text.substring(x,x+m.length),g=/^:[^:]+:$/.test(b);if((u=(c=(n=m.element)==null?void 0:n.type)==null?void 0:c.imageType)!=null&&u.image&&(g||new RegExp("^(?:\\p{Emoji}|\\u200d)+$","u").test(b))){let T={image:m.element.type.imageType.image,isCustomEmoji:g,shortcuts:g?[b]:void 0};Zh(i,h,m,{emoji:T})}else Zh(i,h,m,{attachment:m})}}}toHTML(){return this.runs?this.runs.map(i=>i.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};o(td,"Text");var l=td;function Ik(s,i){return s.find(t=>t.startIndex<=i.startIndex&&i.startIndex+i.length<=t.startIndex+t.text.length)}o(Ik,"findMatchingRun");function Zh(s,i,t,r){let n=s.indexOf(i),c=[],u=t.startIndex-i.startIndex;t.startIndex>i.startIndex&&c.push({...i,text:i.text.substring(0,u)}),c.push({...i,text:i.text.substring(u,u+t.length),startIndex:t.startIndex,...r}),t.startIndex+t.length<i.startIndex+i.text.length&&c.push({...i,text:i.text.substring(u+t.length),startIndex:t.startIndex+t.length}),s.splice(n,1,...c)}o(Zh,"insertSubRun");var ed=class ed extends a{constructor(t){super();e(this,"title");e(this,"link");e(this,"favicon");this.title=l.fromAttributed(t.title),this.link=l.fromAttributed(t.link),this.favicon=y.fromResponse(t.favicon)}};o(ed,"ChannelExternalLinkView"),e(ed,"type","ChannelExternalLinkView");var Sr=ed;var id=class id extends a{constructor(t){super();e(this,"description");e(this,"description_label");e(this,"country");e(this,"custom_links_label");e(this,"subscriber_count");e(this,"view_count");e(this,"joined_date");e(this,"canonical_channel_url");e(this,"channel_id");e(this,"additional_info_label");e(this,"custom_url_on_tap");e(this,"video_count");e(this,"sign_in_for_business_email");e(this,"links");Reflect.has(t,"description")&&(this.description=t.description),Reflect.has(t,"descriptionLabel")&&(this.description_label=l.fromAttributed(t.descriptionLabel)),Reflect.has(t,"country")&&(this.country=t.country),Reflect.has(t,"customLinksLabel")&&(this.custom_links_label=l.fromAttributed(t.customLinksLabel)),Reflect.has(t,"subscriberCountText")&&(this.subscriber_count=t.subscriberCountText),Reflect.has(t,"viewCountText")&&(this.view_count=t.viewCountText),Reflect.has(t,"joinedDateText")&&(this.joined_date=l.fromAttributed(t.joinedDateText)),Reflect.has(t,"canonicalChannelUrl")&&(this.canonical_channel_url=t.canonicalChannelUrl),Reflect.has(t,"channelId")&&(this.channel_id=t.channelId),Reflect.has(t,"additionalInfoLabel")&&(this.additional_info_label=l.fromAttributed(t.additionalInfoLabel)),Reflect.has(t,"customUrlOnTap")&&(this.custom_url_on_tap=new d(t.customUrlOnTap)),Reflect.has(t,"videoCountText")&&(this.video_count=t.videoCountText),Reflect.has(t,"signInForBusinessEmail")&&(this.sign_in_for_business_email=l.fromAttributed(t.signInForBusinessEmail)),Reflect.has(t,"links")?this.links=p.parseArray(t.links,Sr):this.links=[]}};o(id,"AboutChannelView"),e(id,"type","AboutChannelView");var Cr=id;var sd=class sd extends a{constructor(t){super();e(this,"metadata");e(this,"share_channel");this.metadata=p.parseItem(t.metadata,Cr),this.share_channel=p.parseItem(t.shareChannel,v)}};o(sd,"AboutChannel"),e(sd,"type","AboutChannel");var Nr=sd;var rd=class rd extends a{constructor(t){super();e(this,"title");e(this,"endpoint");this.title=new l(t.title),this.endpoint=new d(t.navigationEndpoint)}};o(rd,"AccountChannel"),e(rd,"type","AccountChannel");var Ar=rd;var od=class od extends a{constructor(t){super();e(this,"account_name");e(this,"account_photo");e(this,"is_selected");e(this,"is_disabled");e(this,"has_channel");e(this,"endpoint");e(this,"account_byline");e(this,"channel_handle");this.account_name=new l(t.accountName),this.account_photo=y.fromResponse(t.accountPhoto),this.is_selected=!!t.isSelected,this.is_disabled=!!t.isDisabled,this.has_channel=!!t.hasChannel,this.endpoint=new d(t.serviceEndpoint),this.account_byline=new l(t.accountByline),this.channel_handle=new l(t.channelHandle)}};o(od,"AccountItem"),e(od,"type","AccountItem");var Pr=od;var nd=class nd extends a{constructor(t){super();e(this,"title");this.title=new l(t.title)}};o(nd,"AccountItemSectionHeader"),e(nd,"type","AccountItemSectionHeader");var Rr=nd;var ad=class ad extends a{constructor(t){super();e(this,"title");e(this,"subtitle");e(this,"endpoint");e(this,"style");e(this,"icon_type");e(this,"secondary_icon_type");this.title=new l(t.title).toString(),"subtitle"in t&&(this.subtitle=new l(t.subtitle)),"icon"in t&&"iconType"in t.icon&&(this.icon_type=t.icon.iconType),"secondaryIcon"in t&&"iconType"in t.secondaryIcon&&(this.secondary_icon_type=t.secondaryIcon.iconType),this.endpoint=new d(t.navigationEndpoint||t.serviceEndpoint),this.style=t.style}};o(ad,"CompactLink"),e(ad,"type","CompactLink");var ue=ad;var cd=class cd extends a{constructor(t){super();e(this,"contents");e(this,"header");this.contents=p.parseArray(t.contents,[Pr,ue]),this.header=p.parseItem(t.header,Rr)}};o(cd,"AccountItemSection"),e(cd,"type","AccountItemSection");var Mr=cd;var ld=class ld extends a{constructor(t){super();e(this,"contents");e(this,"footers");this.contents=p.parseArray(t.contents,Mr),this.footers=p.parseArray(t.footers,Ar)}};o(ld,"AccountSectionList"),e(ld,"type","AccountSectionList");var Dr=ld;var pd=class pd extends a{constructor(t){super();e(this,"contents");e(this,"target");this.contents=p.parseArray(t.continuationItems),this.target=t.target}};o(pd,"AppendContinuationItemsAction"),e(pd,"type","AppendContinuationItemsAction");var Bt=pd;var ud=class ud extends a{constructor(t){super();e(this,"target_id");e(this,"visibility");this.target_id=t.targetId,this.visibility=t.visibility}};o(ud,"ChangeEngagementPanelVisibilityAction"),e(ud,"type","ChangeEngagementPanelVisibilityAction");var Sl=ud;var md=class md extends a{constructor(t){super();e(this,"header");e(this,"sections");e(this,"style");this.header=p.parseItem(t.header),this.sections=p.parseArray(t.sections),this.style=t.style}};o(md,"MultiPageMenu"),e(md,"type","MultiPageMenu");var Br=md;var fd=class fd extends a{constructor(t){super();e(this,"menu");this.menu=p.parseItem(t.menu,Br)}};o(fd,"GetMultiPageMenuAction"),e(fd,"type","GetMultiPageMenuAction");var Cl=fd;var hd=class hd extends a{constructor(t){super();e(this,"bucket");this.bucket=t.bucket}};o(hd,"SendFeedbackAction"),e(hd,"type","SendFeedbackAction");var Nl=hd;var dd=class dd extends a{constructor(t){super();e(this,"signal");this.signal=t.signal}};o(dd,"SignalAction"),e(dd,"type","SignalAction");var Al=dd;var _d=class _d extends a{constructor(t){super();e(this,"header");e(this,"contents");this.header=p.parseItem(t.header),this.contents=p.parse(t.contents,!0)}};o(_d,"ChannelSwitcherPage"),e(_d,"type","ChannelSwitcherPage");var Lr=_d;var xd=class xd extends a{constructor(t){super();e(this,"header");e(this,"contents");let r=p.parseItem(t.page,Lr);r&&(this.header=r.header,this.contents=r.contents)}};o(xd,"UpdateChannelSwitcherPageAction"),e(xd,"type","UpdateChannelSwitcherPageAction");var Pl=xd;var bd=class bd extends a{constructor(t){super();e(this,"title");e(this,"icon_type");e(this,"tooltip");e(this,"sub_menu_items");e(this,"accessibility");"title"in t&&(this.title=t.title),"icon"in t&&(this.icon_type=t.icon.iconType),"tooltip"in t&&(this.tooltip=t.tooltip),"subMenuItems"in t&&(this.sub_menu_items=t.subMenuItems.map(r=>{var n,c;return{title:r.title,selected:r.selected,continuation:(c=(n=r.continuation)==null?void 0:n.reloadContinuationData)==null?void 0:c.continuation,endpoint:new d(r.serviceEndpoint||r.navigationEndpoint),subtitle:r.subtitle||null}})),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new ut(t.accessibility.accessibilityData)})}get label(){var t,r;return(r=(t=this.accessibility)==null?void 0:t.accessibility_data)==null?void 0:r.label}};o(bd,"SortFilterSubMenu"),e(bd,"type","SortFilterSubMenu");var re=bd;var yd=class yd extends a{constructor(t){super();e(this,"language_menu");this.language_menu=p.parseItem(t.languageMenu,re)}};o(yd,"TranscriptFooter"),e(yd,"type","TranscriptFooter");var Or=yd;var gd=class gd extends a{constructor(t){super();e(this,"formatted_placeholder");e(this,"clear_button");e(this,"endpoint");e(this,"search_button");this.formatted_placeholder=new l(t.formattedPlaceholder),this.clear_button=p.parseItem(t.clearButton,v),this.endpoint=new d(t.onTextChangeCommand),this.search_button=p.parseItem(t.searchButton,v)}};o(gd,"TranscriptSearchBox"),e(gd,"type","TranscriptSearchBox");var Yr=gd;var wd=class wd extends a{constructor(t){super();e(this,"start_ms");e(this,"end_ms");e(this,"snippet");this.start_ms=t.startMs,this.end_ms=t.endMs,this.snippet=new l(t.snippet)}};o(wd,"TranscriptSectionHeader"),e(wd,"type","TranscriptSectionHeader");var Vr=wd;var Td=class Td extends a{constructor(t){super();e(this,"start_ms");e(this,"end_ms");e(this,"snippet");e(this,"start_time_text");e(this,"target_id");this.start_ms=t.startMs,this.end_ms=t.endMs,this.snippet=new l(t.snippet),this.start_time_text=new l(t.startTimeText),this.target_id=t.targetId}};o(Td,"TranscriptSegment"),e(Td,"type","TranscriptSegment");var Ur=Td;var vd=class vd extends a{constructor(t){super();e(this,"initial_segments");e(this,"no_result_label");e(this,"retry_label");e(this,"touch_captions_enabled");this.initial_segments=p.parseArray(t.initialSegments,[Ur,Vr]),this.no_result_label=new l(t.noResultLabel),this.retry_label=new l(t.retryLabel),this.touch_captions_enabled=t.touchCaptionsEnabled}};o(vd,"TranscriptSegmentList"),e(vd,"type","TranscriptSegmentList");var Fr=vd;var Id=class Id extends a{constructor(t){super();e(this,"header");e(this,"body");e(this,"footer");e(this,"target_id");this.header=p.parseItem(t.header,Yr),this.body=p.parseItem(t.body,Fr),this.footer=p.parseItem(t.footer,Or),this.target_id=t.targetId}};o(Id,"TranscriptSearchPanel"),e(Id,"type","TranscriptSearchPanel");var Wr=Id;var kd=class kd extends a{constructor(t){super();e(this,"content");this.content=p.parseItem(t.content,Wr)}};o(kd,"Transcript"),e(kd,"type","Transcript");var Bi=kd;var Ed=class Ed extends a{constructor(t){super();e(this,"target_id");e(this,"content");this.target_id=t.targetId,this.content=p.parseItem(t.content,Bi)}};o(Ed,"UpdateEngagementPanelAction"),e(Ed,"type","UpdateEngagementPanelAction");var Rl=Ed;var Sd=class Sd extends a{constructor(t){super();e(this,"channel_id");e(this,"subscribed");this.channel_id=t.channelId,this.subscribed=t.subscribed}};o(Sd,"UpdateSubscribeButtonAction"),e(Sd,"type","UpdateSubscribeButtonAction");var Ml=Sd;var Cd=class Cd extends a{constructor(t){super();e(this,"account_name");e(this,"account_photo");e(this,"endpoint");e(this,"manage_account_title");e(this,"channel_handle");this.account_name=new l(t.accountName),this.account_photo=y.fromResponse(t.accountPhoto),this.endpoint=new d(t.serviceEndpoint),this.manage_account_title=new l(t.manageAccountTitle),this.channel_handle=new l(t.channelHandle)}};o(Cd,"ActiveAccountHeader"),e(Cd,"type","ActiveAccountHeader");var Dl=Cd;var Nd=class Nd extends a{constructor(t){super();e(this,"title");this.title=new l(t.title)}};o(Nd,"MenuTitle"),e(Nd,"type","MenuTitle");var jr=Nd;var Ad=class Ad extends a{constructor(t){var r;super();e(this,"add_to_playlist_service_endpoint");e(this,"contains_selected_videos");e(this,"playlist_id");e(this,"privacy");e(this,"privacy_icon");e(this,"remove_from_playlist_service_endpoint");e(this,"title");this.add_to_playlist_service_endpoint=new d(t.addToPlaylistServiceEndpoint),this.contains_selected_videos=t.containsSelectedVideos,this.playlist_id=t.playlistId,this.privacy=t.privacy,this.privacy_icon={icon_type:((r=t.privacyIcon)==null?void 0:r.iconType)||null},this.remove_from_playlist_service_endpoint=new d(t.removeFromPlaylistServiceEndpoint),this.title=new l(t.title)}};o(Ad,"PlaylistAddToOption"),e(Ad,"type","PlaylistAddToOption");var Hr=Ad;var Pd=class Pd extends a{constructor(t){super();e(this,"actions");e(this,"playlists");this.actions=p.parseArray(t.actions,[jr,v]),this.playlists=p.parseArray(t.playlists,Hr)}};o(Pd,"AddToPlaylist"),e(Pd,"type","AddToPlaylist");var Bl=Pd;var Rd=class Rd extends a{constructor(t){super();e(this,"text");e(this,"alert_type");this.text=new l(t.text),this.alert_type=t.type}};o(Rd,"Alert"),e(Rd,"type","Alert");var Li=Rd;var Md=class Md extends a{constructor(t){super();e(this,"text");e(this,"alert_type");e(this,"dismiss_button");this.text=new l(t.text),this.alert_type=t.type,this.dismiss_button=p.parseItem(t.dismissButton,v)}};o(Md,"AlertWithButton"),e(Md,"type","AlertWithButton");var $r=Md;var Dd=class Dd extends a{constructor(t){super();e(this,"thumbnail");this.thumbnail=y.fromResponse(t.thumbnail)}};o(Dd,"AnimatedThumbnailOverlayView"),e(Dd,"type","AnimatedThumbnailOverlayView");var Gr=Dd;var Bd=class Bd extends a{constructor(t){super();e(this,"text");e(this,"suffix");this.text=l.fromAttributed(t.text),this.suffix=l.fromAttributed(t.suffix)}};o(Bd,"AttributionView"),e(Bd,"type","AttributionView");var qr=Bd;var Ld=class Ld extends a{constructor(t){super();e(this,"audio_only_availability");this.audio_only_availability=t.audioOnlyAvailability}};o(Ld,"AudioOnlyPlayability"),e(Ld,"type","AudioOnlyPlayability");var Kr=Ld;var Od=class Od extends a{constructor(t){var r,n;super();e(this,"playlist_video");(n=(r=t==null?void 0:t.content)==null?void 0:r.automixPlaylistVideoRenderer)!=null&&n.navigationEndpoint&&(this.playlist_video={endpoint:new d(t.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};o(Od,"AutomixPreviewVideo"),e(Od,"type","AutomixPreviewVideo");var zr=Od;var Yd=class Yd extends a{constructor(t){super();e(this,"image");e(this,"image_processor");e(this,"avatar_image_size");this.image=y.fromResponse(t.image),this.avatar_image_size=t.avatarImageSize,t.image.processor&&(this.image_processor={border_image_processor:{circular:t.image.processor.borderImageProcessor.circular}})}};o(Yd,"AvatarView"),e(Yd,"type","AvatarView");var He=Yd;var kk=class kk{constructor(i){e(this,"on_focus");e(this,"on_hidden");e(this,"on_touch_end");e(this,"on_touch_move");e(this,"on_long_press");e(this,"on_tap");e(this,"on_touch_start");e(this,"on_visible");e(this,"on_first_visible");e(this,"on_hover");"onFocus"in i&&(this.on_focus=new d(i.onFocus)),"onHidden"in i&&(this.on_hidden=new d(i.onHidden)),"onTouchEnd"in i&&(this.on_touch_end=new d(i.onTouchEnd)),"onTouchMove"in i&&(this.on_touch_move=new d(i.onTouchMove)),"onLongPress"in i&&(this.on_long_press=new d(i.onLongPress)),"onTap"in i&&(this.on_tap=new d(i.onTap)),"onTouchStart"in i&&(this.on_touch_start=new d(i.onTouchStart)),"onVisible"in i&&(this.on_visible=new d(i.onVisible)),"onFirstVisible"in i&&(this.on_first_visible=new d(i.onFirstVisible)),"onHover"in i&&(this.on_hover=new d(i.onHover))}};o(kk,"CommandContext");var Xr=kk;var Ek=class Ek{constructor(i){e(this,"command_context");e(this,"accessibility_context");i&&("commandContext"in i&&(this.command_context=new Xr(i.commandContext)),"accessibilityContext"in i&&(this.accessibility_context=new br(i.accessibilityContext)))}};o(Ek,"RendererContext");var Lt=Ek;var Vd=class Vd extends a{constructor(t){super();e(this,"avatars");e(this,"text");e(this,"renderer_context");this.avatars=p.parseArray(t.avatars,He),Reflect.has(t,"text")&&(this.text=l.fromAttributed(t.text)),this.renderer_context=new Lt(t.rendererContext)}};o(Vd,"AvatarStackView"),e(Vd,"type","AvatarStackView");var Oi=Vd;var Ud=class Ud extends a{constructor(t){super();e(this,"secondary_icon_image");e(this,"icon_name");e(this,"enable_icon_button");e(this,"tooltip");e(this,"icon_image_flip_for_rtl");e(this,"button_size");e(this,"icon_position");e(this,"is_full_width");e(this,"state");e(this,"on_disabled_tap");e(this,"custom_border_color");e(this,"on_tap");e(this,"style");e(this,"icon_image");e(this,"custom_dark_theme_border_color");e(this,"title");e(this,"target_id");e(this,"enable_full_width_margins");e(this,"custom_font_color");e(this,"button_type");e(this,"enabled");e(this,"accessibility_id");e(this,"custom_background_color");e(this,"on_long_press");e(this,"title_formatted");e(this,"on_visible");e(this,"icon_trailing");e(this,"accessibility_text");"secondaryIconImage"in t&&(this.secondary_icon_image=y.fromResponse(t.secondaryIconImage)),"iconName"in t&&(this.icon_name=t.iconName),"enableIconButton"in t&&(this.enable_icon_button=t.enableIconButton),"tooltip"in t&&(this.tooltip=t.tooltip),"iconImageFlipForRtl"in t&&(this.icon_image_flip_for_rtl=t.iconImageFlipForRtl),"buttonSize"in t&&(this.button_size=t.buttonSize),"iconPosition"in t&&(this.icon_position=t.iconPosition),"isFullWidth"in t&&(this.is_full_width=t.isFullWidth),"state"in t&&(this.state=t.state),"onDisabledTap"in t&&(this.on_disabled_tap=new d(t.onDisabledTap)),"customBorderColor"in t&&(this.custom_border_color=t.customBorderColor),"onTap"in t&&(this.on_tap=new d(t.onTap)),"style"in t&&(this.style=t.style),"iconImage"in t&&(this.icon_image=t.iconImage),"customDarkThemeBorderColor"in t&&(this.custom_dark_theme_border_color=t.customDarkThemeBorderColor),"title"in t&&(this.title=t.title),"targetId"in t&&(this.target_id=t.targetId),"enableFullWidthMargins"in t&&(this.enable_full_width_margins=t.enableFullWidthMargins),"customFontColor"in t&&(this.custom_font_color=t.customFontColor),"type"in t&&(this.button_type=t.type),"enabled"in t&&(this.enabled=t.enabled),"accessibilityId"in t&&(this.accessibility_id=t.accessibilityId),"customBackgroundColor"in t&&(this.custom_background_color=t.customBackgroundColor),"onLongPress"in t&&(this.on_long_press=new d(t.onLongPress)),"titleFormatted"in t&&(this.title_formatted=t.titleFormatted),"onVisible"in t&&(this.on_visible=t.onVisible),"iconTrailing"in t&&(this.icon_trailing=t.iconTrailing),"accessibilityText"in t&&(this.accessibility_text=t.accessibilityText)}};o(Ud,"ButtonView"),e(Ud,"type","ButtonView");var K=Ud;var Fd=class Fd extends a{constructor(t){super();e(this,"body_text");e(this,"cta_button");e(this,"icon_type");e(this,"title");this.body_text=new l(t.bodyText),this.cta_button=p.parseItem(t.ctaButton,[v,K]),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),this.title=new l(t.title)}};o(Fd,"BackgroundPromo"),e(Fd,"type","BackgroundPromo");var Ll=Fd;var Wd=class Wd extends a{constructor(t){super();e(this,"image");e(this,"endpoint");this.image=y.fromResponse(t.image),this.endpoint=new d(t.command)}};o(Wd,"BackstageImage"),e(Wd,"type","BackstageImage");var Qr=Wd;var jd=class jd extends a{constructor(t){var n,c,u,m,h,x,b,g,T;super();e(this,"text");e(this,"toggled_text");e(this,"tooltip");e(this,"toggled_tooltip");e(this,"is_toggled");e(this,"is_disabled");e(this,"icon_type");e(this,"like_count");e(this,"short_like_count");e(this,"endpoint");e(this,"toggled_endpoint");e(this,"button_id");e(this,"target_id");this.text=new l(t.defaultText),this.toggled_text=new l(t.toggledText),this.tooltip=t.defaultTooltip,this.toggled_tooltip=t.toggledTooltip,this.is_toggled=t.isToggled,this.is_disabled=t.isDisabled,this.icon_type=(n=t.defaultIcon)==null?void 0:n.iconType;let r=((m=(u=(c=t==null?void 0:t.defaultText)==null?void 0:c.accessibility)==null?void 0:u.accessibilityData)==null?void 0:m.label)||((x=(h=t==null?void 0:t.accessibilityData)==null?void 0:h.accessibilityData)==null?void 0:x.label)||((b=t==null?void 0:t.accessibility)==null?void 0:b.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(r.replace(/\D/g,"")),this.short_like_count=new l(t.defaultText).toString()),this.endpoint=(T=(g=t.defaultServiceEndpoint)==null?void 0:g.commandExecutorCommand)!=null&&T.commands?new d(t.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new d(t.defaultServiceEndpoint),this.toggled_endpoint=new d(t.toggledServiceEndpoint),Reflect.has(t,"toggleButtonSupportedData")&&Reflect.has(t.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=t.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(t,"targetId")&&(this.target_id=t.targetId)}};o(jd,"ToggleButton"),e(jd,"type","ToggleButton");var rt=jd;var Hd=class Hd extends a{constructor(t){var r,n;super();e(this,"creator_thumbnail");e(this,"heart_icon_type");e(this,"heart_color");e(this,"hearted_tooltip");e(this,"is_hearted");e(this,"is_enabled");e(this,"kennedy_heart_color_string");this.creator_thumbnail=y.fromResponse(t.creatorThumbnail),Reflect.has(t,"heartIcon")&&Reflect.has(t.heartIcon,"iconType")&&(this.heart_icon_type=t.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(n=(r=t.heartColor)==null?void 0:r.basicColorPaletteData)==null?void 0:n.foregroundTitleColor}},this.hearted_tooltip=t.heartedTooltip,this.is_hearted=t.isHearted,this.is_enabled=t.isEnabled,this.kennedy_heart_color_string=t.kennedyHeartColorString}};o(Hd,"CreatorHeart"),e(Hd,"type","CreatorHeart");var Jr=Hd;var $d=class $d extends a{constructor(t){super();e(this,"like_button");e(this,"dislike_button");e(this,"reply_button");e(this,"creator_heart");this.like_button=p.parseItem(t.likeButton,rt),this.dislike_button=p.parseItem(t.dislikeButton,rt),this.reply_button=p.parseItem(t.replyButton,v),this.creator_heart=p.parseItem(t.creatorHeart,Jr)}};o($d,"CommentActionButtons"),e($d,"type","CommentActionButtons");var Zr=$d;var Gd=class Gd extends a{constructor(t){super();e(this,"default_button");e(this,"toggled_button");e(this,"is_toggling_disabled");e(this,"identifier");e(this,"is_toggled");this.default_button=p.parseItem(t.defaultButtonViewModel,K),this.toggled_button=p.parseItem(t.toggledButtonViewModel,K),this.is_toggling_disabled=t.isTogglingDisabled,this.identifier=t.identifier,Reflect.has(t,"isToggled")&&(this.is_toggled=t.isToggled)}};o(Gd,"ToggleButtonView"),e(Gd,"type","ToggleButtonView");var jt=Gd;var qd=class qd extends a{constructor(t){super();e(this,"toggle_button");e(this,"like_status_entity_key");e(this,"like_status_entity");this.toggle_button=p.parseItem(t.toggleButtonViewModel,jt),this.like_status_entity_key=t.likeStatusEntityKey,this.like_status_entity={key:t.likeStatusEntity.key,like_status:t.likeStatusEntity.likeStatus}}};o(qd,"LikeButtonView"),e(qd,"type","LikeButtonView");var to=qd;var Kd=class Kd extends a{constructor(t){super();e(this,"toggle_button");e(this,"dislike_entity_key");this.toggle_button=p.parseItem(t.toggleButtonViewModel,jt),this.dislike_entity_key=t.dislikeEntityKey}};o(Kd,"DislikeButtonView"),e(Kd,"type","DislikeButtonView");var eo=Kd;var zd=class zd extends a{constructor(t){super();e(this,"like_button");e(this,"dislike_button");e(this,"icon_type");e(this,"like_count_entity");e(this,"dynamic_like_count_update_data");e(this,"like_count");e(this,"short_like_count");if(this.like_button=p.parseItem(t.likeButtonViewModel,to),this.dislike_button=p.parseItem(t.dislikeButtonViewModel,eo),this.icon_type=t.iconType,this.like_button&&this.like_button.toggle_button){let r=this.like_button.toggle_button;r.default_button?(this.short_like_count=r.default_button.title,r.default_button.accessibility_text&&(this.like_count=parseInt(r.default_button.accessibility_text.replace(/\D/g,"")))):r.toggled_button&&(this.short_like_count=r.toggled_button.title,r.toggled_button.accessibility_text&&(this.like_count=parseInt(r.toggled_button.accessibility_text.replace(/\D/g,""))))}this.like_count_entity={key:t.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:t.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:t.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:t.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:t.dynamicLikeCountUpdateData.updateDelaySec}}};o(zd,"SegmentedLikeDislikeButtonView"),e(zd,"type","SegmentedLikeDislikeButtonView");var Se=zd;var Xd=class Xd extends v{constructor(i){super(i)}};o(Xd,"MenuServiceItem"),e(Xd,"type","MenuServiceItem");var me=Xd;var Qd=class Qd extends a{constructor(t){super();e(this,"style");e(this,"size");e(this,"endpoint");e(this,"target_id");this.style=t.style,this.size=t.size,this.endpoint=new d(t.command),this.target_id=t.targetId}};o(Qd,"DownloadButton"),e(Qd,"type","DownloadButton");var Yi=Qd;var Jd=class Jd extends a{constructor(t){super();e(this,"has_separator");e(this,"endpoint");this.has_separator=!!t.hasSeparator,this.endpoint=new d(t.navigationEndpoint||t.serviceEndpoint)}};o(Jd,"MenuServiceItemDownload"),e(Jd,"type","MenuServiceItemDownload");var io=Jd;var Zd=class Zd extends a{constructor(t){super();e(this,"menu_item");e(this,"top_level_button");this.menu_item=p.parseItem(t.menuItem,[me,io]),this.top_level_button=p.parseItem(t.topLevelButton,[Yi,K,v])}};o(Zd,"MenuFlexibleItem"),e(Zd,"type","MenuFlexibleItem");var so=Zd;var t_=class t_ extends a{constructor(t){super();e(this,"target");e(this,"like_status");e(this,"likes_allowed");e(this,"endpoints");this.target={video_id:t.target.videoId},this.like_status=t.likeStatus,this.likes_allowed=t.likesAllowed,Reflect.has(t,"serviceEndpoints")&&(this.endpoints=t.serviceEndpoints.map(r=>new d(r)))}};o(t_,"LikeButton"),e(t_,"type","LikeButton");var Vi=t_;var e_=class e_ extends a{constructor(t){super();e(this,"actions_rows");e(this,"style");this.actions_rows=t.actionsRows.map(r=>({actions:p.parseArray(r.actions,[K,jt])})),this.style=t.style}};o(e_,"FlexibleActionsView"),e(e_,"type","FlexibleActionsView");var Ui=e_;var i_=class i_ extends a{constructor(t){super();e(this,"items");e(this,"flexible_items");e(this,"top_level_buttons");e(this,"accessibility");this.items=p.parseArray(t.items),this.flexible_items=p.parseArray(t.flexibleItems,so),this.top_level_buttons=p.parseArray(t.topLevelButtons,[rt,Vi,v,K,Se,Ui]),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new ut(t.accessibility.accessibilityData)})}get label(){var t,r;return(r=(t=this.accessibility)==null?void 0:t.accessibility_data)==null?void 0:r.label}get contents(){return this.items}};o(i_,"Menu"),e(i_,"type","Menu");var D=i_;var s_=class s_ extends a{constructor(t){super();e(this,"id");e(this,"author");e(this,"content");e(this,"published");e(this,"poll_status");e(this,"vote_status");e(this,"vote_count");e(this,"menu");e(this,"action_buttons");e(this,"vote_button");e(this,"surface");e(this,"endpoint");e(this,"attachment");this.id=t.postId,this.author=new R({...t.authorText,navigationEndpoint:t.authorEndpoint},null,t.authorThumbnail),this.content=new l(t.contentText),this.published=new l(t.publishedTimeText),Reflect.has(t,"pollStatus")&&(this.poll_status=t.pollStatus),Reflect.has(t,"voteStatus")&&(this.vote_status=t.voteStatus),Reflect.has(t,"voteCount")&&(this.vote_count=new l(t.voteCount)),Reflect.has(t,"actionMenu")&&(this.menu=p.parseItem(t.actionMenu,D)),Reflect.has(t,"actionButtons")&&(this.action_buttons=p.parseItem(t.actionButtons,Zr)),Reflect.has(t,"voteButton")&&(this.vote_button=p.parseItem(t.voteButton,v)),Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new d(t.navigationEndpoint)),Reflect.has(t,"backstageAttachment")&&(this.attachment=p.parseItem(t.backstageAttachment)),this.surface=t.surface}};o(s_,"BackstagePost"),e(s_,"type","BackstagePost");var $e=s_;var r_=class r_ extends a{constructor(t){super();e(this,"post");this.post=p.parseItem(t.post)}};o(r_,"BackstagePostThread"),e(r_,"type","BackstagePostThread");var Ol=r_;var Sk=class Sk extends a{constructor(t){super();e(this,"text");e(this,"style");e(this,"accessibility_label");this.text=t.badgeText,this.style=t.badgeStyle,this.accessibility_label=t.accessibilityLabel}};o(Sk,"BadgeView");var Fi=Sk;var o_=class o_ extends a{constructor(t){super();e(this,"name");e(this,"is_selected");e(this,"endpoint");this.name=new l(t.name),this.is_selected=t.isSelected,this.endpoint=new d(t.navigationEndpoint)}};o(o_,"SubFeedOption"),e(o_,"type","SubFeedOption");var ro=o_;var n_=class n_ extends a{constructor(t){super();e(this,"title");e(this,"options");this.title=new l(t.title),this.options=p.parseArray(t.options,ro)}};o(n_,"SubFeedSelector"),e(n_,"type","SubFeedSelector");var oo=n_;var a_=class a_ extends a{constructor(t){super();e(this,"disclaimer");e(this,"info_icon");e(this,"usage_scenario");this.disclaimer=new l(t.disclaimer),this.info_icon={icon_type:t.infoIcon.iconType},this.usage_scenario=t.usageScenario}};o(a_,"EomSettingsDisclaimer"),e(a_,"type","EomSettingsDisclaimer");var no=a_;var c_=class c_ extends a{constructor(t){super();e(this,"endpoint");e(this,"search_button");e(this,"clear_button");e(this,"placeholder_text");this.endpoint=new d(t.endpoint),this.search_button=p.parseItem(t.searchButton,v),this.clear_button=p.parseItem(t.clearButton,v),this.placeholder_text=new l(t.placeholderText)}};o(c_,"SearchBox"),e(c_,"type","SearchBox");var ao=c_;var l_=class l_ extends a{constructor(t){super();e(this,"contents");this.contents=p.parseArray(t.contents,[oo,no,rt,ue,ao,v])}};o(l_,"BrowseFeedActions"),e(l_,"type","BrowseFeedActions");var Wi=l_;var p_=class p_ extends a{constructor(t){super();e(this,"album");e(this,"thumbnails");this.album=new l(t.album),this.thumbnails=y.fromResponse(t.thumbnailDetails)}};o(p_,"BrowserMediaSession"),e(p_,"type","BrowserMediaSession");var Yl=p_;var u_=class u_ extends a{constructor(t){super();e(this,"title");e(this,"icon_name");e(this,"renderer_context");this.title=t.title,this.icon_name=t.image.sources[0].clientResource.imageName,this.renderer_context=new Lt(t.rendererContext)}};o(u_,"ButtonCardView"),e(u_,"type","ButtonCardView");var Vl=u_;var f_=class f_ extends a{constructor(t){super();e(this,"endpoint");e(this,"icon");e(this,"title");this.endpoint=new d(t.navigationEndpoint),this.icon=y.fromResponse(t.icon),this.title=new l(t.title)}};o(f_,"HeaderLink"),e(f_,"type","HeaderLink");var m_=f_,h_=class h_ extends a{constructor(t){var r,n;super();e(this,"primary");e(this,"secondary");this.primary=$(((r=t.primaryLinks)==null?void 0:r.map(c=>new m_(c)))||[]),this.secondary=$(((n=t.secondaryLinks)==null?void 0:n.map(c=>new m_(c)))||[])}};o(h_,"ChannelHeaderLinks"),e(h_,"type","ChannelHeaderLinks");var co=h_;var d_=class d_ extends a{constructor(t){super();e(this,"first_link");e(this,"more");Reflect.has(t,"firstLink")&&(this.first_link=l.fromAttributed(t.firstLink)),Reflect.has(t,"more")&&(this.more=l.fromAttributed(t.more))}};o(d_,"ChannelHeaderLinksView"),e(d_,"type","ChannelHeaderLinksView");var lo=d_;var __=class __ extends a{constructor(t){super();e(this,"placeholder_text");e(this,"max_character_limit");this.placeholder_text=new l(t.placeholderText),this.max_character_limit=t.maxCharacterLimit}};o(__,"ClipCreationTextInput"),e(__,"type","ClipCreationTextInput");var po=__;var x_=class x_ extends a{constructor(t){var r,n,c,u,m,h;super();e(this,"length_template");e(this,"max_length_ms");e(this,"min_length_ms");e(this,"default_length_ms");e(this,"window_size_ms");e(this,"start_label");e(this,"end_label");e(this,"duration_label");this.length_template=t.lengthTemplate,this.max_length_ms=t.maxLengthMs,this.min_length_ms=t.minLengthMs,this.default_length_ms=t.defaultLengthMs,this.window_size_ms=t.windowSizeMs,this.start_label=(n=(r=t.startAccessibility)==null?void 0:r.accessibilityData)==null?void 0:n.label,this.end_label=(u=(c=t.endAccessibility)==null?void 0:c.accessibilityData)==null?void 0:u.label,this.duration_label=(h=(m=t.durationAccessibility)==null?void 0:m.accessibilityData)==null?void 0:h.label}};o(x_,"ClipCreationScrubber"),e(x_,"type","ClipCreationScrubber");var uo=x_;var b_=class b_ extends a{constructor(t){super();e(this,"title");e(this,"body");this.title=new l(t.title),this.body=new l(t.body)}};o(b_,"ClipAdState"),e(b_,"type","ClipAdState");var mo=b_;var y_=class y_ extends a{constructor(t){super();e(this,"user_avatar");e(this,"title_input");e(this,"scrubber");e(this,"save_button");e(this,"display_name");e(this,"publicity_label");e(this,"cancel_button");e(this,"ad_state_overlay");e(this,"external_video_id");e(this,"publicity_label_icon");this.user_avatar=y.fromResponse(t.userAvatar),this.title_input=p.parseItem(t.titleInput,[po]),this.scrubber=p.parseItem(t.scrubber,[uo]),this.save_button=p.parseItem(t.saveButton,[v]),this.display_name=new l(t.displayName),this.publicity_label=t.publicityLabel,this.cancel_button=p.parseItem(t.cancelButton,[v]),this.ad_state_overlay=p.parseItem(t.adStateOverlay,[mo]),this.external_video_id=t.externalVideoId,this.publicity_label_icon=t.publicityLabelIcon}};o(y_,"ClipCreation"),e(y_,"type","ClipCreation");var fo=y_;var g_=class g_ extends a{constructor(t){super();e(this,"contents");this.contents=p.parse(t.contents,!0,[fo])}};o(g_,"ClipSection"),e(g_,"type","ClipSection");var ho=g_;var w_=class w_ extends a{constructor(t){super();e(this,"trigger");e(this,"button");e(this,"endpoint");this.trigger=t.trigger,Reflect.has(t,"button")&&(this.button=p.parseItem(t.button,v)),this.endpoint=new d(t.continuationEndpoint)}};o(w_,"ContinuationItem"),e(w_,"type","ContinuationItem");var X=w_;var T_=class T_ extends a{constructor(t){super();e(this,"title");e(this,"visibility_button");e(this,"contextual_info");e(this,"menu");this.title=new l(t.title),this.contextual_info=t.contextualInfo?new l(t.contextualInfo):void 0,this.visibility_button=p.parseItem(t.visibilityButton,v),this.menu=p.parseItem(t.menu)}};o(T_,"EngagementPanelTitleHeader"),e(T_,"type","EngagementPanelTitleHeader");var _o=T_;var v_=class v_ extends a{constructor(t){super();e(this,"info_text");e(this,"menu");this.info_text=new l(t.infoText),this.menu=p.parseItem(t.menu,D)}};o(v_,"MacroMarkersInfoItem"),e(v_,"type","MacroMarkersInfoItem");var xo=v_;var I_=class I_ extends a{constructor(t){super();e(this,"title");e(this,"time_description");e(this,"thumbnail");e(this,"on_tap_endpoint");e(this,"layout");e(this,"is_highlighted");this.title=new l(t.title),this.time_description=new l(t.timeDescription),this.thumbnail=y.fromResponse(t.thumbnail),this.on_tap_endpoint=new d(t.onTap),this.layout=t.layout,this.is_highlighted=!!t.isHighlighted}};o(I_,"MacroMarkersListItem"),e(I_,"type","MacroMarkersListItem");var ji=I_;var k_=class k_ extends a{constructor(t){super();e(this,"contents");e(this,"sync_button_label");this.contents=p.parseArray(t.contents,[xo,ji]),this.sync_button_label=new l(t.syncButtonLabel)}};o(k_,"MacroMarkersList"),e(k_,"type","MacroMarkersList");var bo=k_;var E_=class E_ extends a{constructor(t){super();e(this,"contents");this.contents=p.parseArray(t.contents)}};o(E_,"ProductList"),e(E_,"type","ProductList");var yo=E_;var S_=class S_ extends a{constructor(t){super();e(this,"contents");e(this,"target_id");e(this,"continuation");e(this,"header");e(this,"sub_menu");this.contents=p.parseArray(t.contents),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),Reflect.has(t,"continuations")&&(Reflect.has(t.continuations[0],"nextContinuationData")?this.continuation=t.continuations[0].nextContinuationData.continuation:Reflect.has(t.continuations[0],"reloadContinuationData")&&(this.continuation=t.continuations[0].reloadContinuationData.continuation)),Reflect.has(t,"header")&&(this.header=p.parseItem(t.header)),Reflect.has(t,"subMenu")&&(this.sub_menu=p.parseItem(t.subMenu))}};o(S_,"SectionList"),e(S_,"type","SectionList");var lt=S_;var C_=class C_ extends a{constructor(t){super();e(this,"show_more_text");e(this,"show_less_text");e(this,"attributed_description_body_text");this.show_more_text=new l(t.showMoreText),this.show_less_text=new l(t.showLessText),Reflect.has(t,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=l.fromAttributed(t.attributedDescriptionBodyText))}};o(C_,"ExpandableVideoDescriptionBody"),e(C_,"type","ExpandableVideoDescriptionBody");var go=C_;var N_=class N_ extends a{constructor(t){super();e(this,"thumbnails");e(this,"endpoint");e(this,"query");this.thumbnails=y.fromResponse(t.thumbnail),this.endpoint=new d(t.searchEndpoint),this.query=new l(t.query).toString()}};o(N_,"SearchRefinementCard"),e(N_,"type","SearchRefinementCard");var ai=N_;var A_=class A_ extends a{constructor(t){super();e(this,"game");this.game=p.parseItem(t.game)}};o(A_,"GameCard"),e(A_,"type","GameCard");var wo=A_;var P_=class P_ extends a{constructor(t){super();e(this,"visible_item_count");e(this,"items");this.visible_item_count=t.visibleItemCount,this.items=p.parseArray(t.items)}get contents(){return this.items}};o(P_,"HorizontalList"),e(P_,"type","HorizontalList");var To=P_;var R_=class R_ extends a{constructor(t){super();e(this,"header");e(this,"expanded_content");e(this,"expand_button");e(this,"collapse_button");Reflect.has(t,"header")&&(this.header={collapsed_title:new l(t.header.collapsedTitle),collapsed_thumbnail:y.fromResponse(t.header.collapsedThumbnail),collapsed_label:new l(t.header.collapsedLabel),expanded_title:new l(t.header.expandedTitle)}),this.expanded_content=p.parseItem(t.expandedContent,[Ge,To]),this.expand_button=p.parseItem(t.expandButton,v),this.collapse_button=p.parseItem(t.collapseButton,v)}};o(R_,"ExpandableMetadata"),e(R_,"type","ExpandableMetadata");var vo=R_;var M_=class M_ extends a{constructor(t){super();e(this,"icon_type");e(this,"style");e(this,"label");e(this,"tooltip");Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"style")&&(this.style=t.style),Reflect.has(t,"label")&&(this.label=t.label),(Reflect.has(t,"tooltip")||Reflect.has(t,"iconTooltip"))&&(this.tooltip=t.tooltip||t.iconTooltip)}};o(M_,"MetadataBadge"),e(M_,"type","MetadataBadge");var Ot=M_;var D_=class D_ extends a{constructor(t){super();e(this,"text");e(this,"style");this.text=new l(t.text).toString(),this.style=t.style}};o(D_,"ThumbnailOverlayTimeStatus"),e(D_,"type","ThumbnailOverlayTimeStatus");var fe=D_;var B_=class B_ extends a{constructor(t){var r,n;super();e(this,"video_id");e(this,"title");e(this,"untranslated_title");e(this,"description_snippet");e(this,"snippets");e(this,"expandable_metadata");e(this,"additional_metadatas");e(this,"thumbnails");e(this,"thumbnail_overlays");e(this,"rich_thumbnail");e(this,"author");e(this,"badges");e(this,"endpoint");e(this,"published");e(this,"view_count");e(this,"short_view_count");e(this,"upcoming");e(this,"length_text");e(this,"show_action_menu");e(this,"is_watched");e(this,"menu");e(this,"byline_text");e(this,"search_video_result_entity_key");e(this,"service_endpoints");e(this,"service_endpoint");e(this,"style");this.title=new l(t.title),this.video_id=t.videoId,this.expandable_metadata=p.parseItem(t.expandableMetadata,vo),"untranslatedTitle"in t&&(this.untranslated_title=new l(t.untranslatedTitle)),"descriptionSnippet"in t&&(this.description_snippet=new l(t.descriptionSnippet)),"detailedMetadataSnippets"in t&&(this.snippets=t.detailedMetadataSnippets.map(c=>({text:new l(c.snippetText),hover_text:new l(c.snippetHoverText)}))),"additionalMetadatas"in t&&(this.additional_metadatas=t.additionalMetadatas.map(c=>new l(c))),this.thumbnails=y.fromResponse(t.thumbnail),this.thumbnail_overlays=p.parseArray(t.thumbnailOverlays),"richThumbnail"in t&&(this.rich_thumbnail=p.parseItem(t.richThumbnail)),this.author=new R(t.ownerText,t.ownerBadges,(n=(r=t.channelThumbnailSupportedRenderers)==null?void 0:r.channelThumbnailWithLinkRenderer)==null?void 0:n.thumbnail),this.badges=p.parseArray(t.badges,Ot),"navigationEndpoint"in t&&(this.endpoint=new d(t.navigationEndpoint)),"publishedTimeText"in t&&(this.published=new l(t.publishedTimeText)),"viewCountText"in t&&(this.view_count=new l(t.viewCountText)),"shortViewCountText"in t&&(this.short_view_count=new l(t.shortViewCountText)),"upcomingEventData"in t&&(this.upcoming=new Date(+`${t.upcomingEventData.startTime}000`)),this.show_action_menu=!!t.showActionMenu,this.is_watched=!!t.isWatched,this.menu=p.parseItem(t.menu,D),"searchVideoResultEntityKey"in t&&(this.search_video_result_entity_key=t.searchVideoResultEntityKey),"bylineText"in t&&(this.byline_text=new l(t.bylineText)),"lengthText"in t&&(this.length_text=new l(t.lengthText)),"serviceEndpoints"in t&&(this.service_endpoints=t.serviceEndpoints.map(c=>new d(c))),"serviceEndpoint"in t&&(this.service_endpoint=new d(t.serviceEndpoint)),"style"in t&&(this.style=t.style)}get id(){return this.video_id}get description(){var t;return this.snippets?this.snippets.map(r=>r.text.toString()).join(""):((t=this.description_snippet)==null?void 0:t.toString())||""}get is_live(){var t;return this.badges.some(r=>{if(r.style==="BADGE_STYLE_TYPE_LIVE_NOW"||r.label==="LIVE")return!0})||((t=this.thumbnail_overlays.firstOfType(fe))==null?void 0:t.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(t=>t.label==="PREMIERE")}get is_4k(){return this.badges.some(t=>t.label==="4K")}get has_captions(){return this.badges.some(t=>t.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}get duration(){var n;let t=this.thumbnail_overlays.firstOfType(fe),r=((n=this.length_text)==null?void 0:n.toString())||(t==null?void 0:t.text.toString());return{text:r,seconds:r?Nt(r):0}}};o(B_,"Video"),e(B_,"type","Video");var Hi=B_;var L_=class L_ extends Hi{constructor(t){var r,n,c,u;super(t);e(this,"metadata_text");Reflect.has(t,"metadataText")&&(this.metadata_text=new l(t.metadataText),this.metadata_text.text&&(this.short_view_count=new l({simpleText:(r=this.metadata_text.text.split("\xB7")[0])==null?void 0:r.trim()}),this.published=new l({simpleText:(n=this.metadata_text.text.split("\xB7")[1])==null?void 0:n.trim()}))),Reflect.has(t,"bylineText")&&(this.author=new R(t.bylineText,t.ownerBadges,(u=(c=t.channelThumbnailSupportedRenderers)==null?void 0:c.channelThumbnailWithLinkRenderer)==null?void 0:u.thumbnail))}};o(L_,"VideoCard"),e(L_,"type","VideoCard");var Io=L_;var O_=class O_ extends a{constructor(t){super();e(this,"image");e(this,"style");this.image=y.fromResponse(t.image),this.style=t.style}};o(O_,"ContentPreviewImageView"),e(O_,"type","ContentPreviewImageView");var qe=O_;var Y_=class Y_ extends a{constructor(t){var r;super();e(this,"image");e(this,"image_style");e(this,"title");e(this,"subtitle");e(this,"secondary_subtitle");e(this,"orientation");e(this,"sizing_rule");e(this,"overflow_menu_on_tap");e(this,"overflow_menu_a11y_label");(r=t.image)!=null&&r.sources?this.image=y.fromResponse(t.image):this.image=p.parseItem(t.image,qe),this.image_style=t.imageStyle,this.title=t.title,this.subtitle=t.subtitle,Reflect.has(t,"secondarySubtitle")&&(this.secondary_subtitle={content:t.secondarySubtitle.content}),this.orientation=t.orientation,this.sizing_rule=t.sizingRule,this.overflow_menu_on_tap=new d(t.overflowMenuOnTap),this.overflow_menu_a11y_label=t.overflowMenuA11yLabel}};o(Y_,"VideoAttributeView"),e(Y_,"type","VideoAttributeView");var Ke=Y_;var V_=class V_ extends a{constructor(t){super();e(this,"cards");e(this,"header");e(this,"previous_button");e(this,"next_button");this.cards=p.parseArray(t.cards,[Ke,ai,ji,wo,Io]),this.header=p.parseItem(t.header),this.previous_button=p.parseItem(t.previousButton,v),this.next_button=p.parseItem(t.nextButton,v)}};o(V_,"HorizontalCardList"),e(V_,"type","HorizontalCardList");var Ge=V_;var U_=class U_ extends a{constructor(t){super();e(this,"label");e(this,"value");e(this,"accessibility_text");this.label=new l(t.label),this.value=new l(t.value),this.accessibility_text=t.accessibilityText}};o(U_,"Factoid"),e(U_,"type","Factoid");var he=U_;var F_=class F_ extends a{constructor(t){super();e(this,"factoid");this.factoid=p.parseItem(t.factoid,he)}};o(F_,"UploadTimeFactoid"),e(F_,"type","UploadTimeFactoid");var ko=F_;var W_=class W_ extends a{constructor(t){super();e(this,"view_count_entity_key");e(this,"factoid");e(this,"view_count_type");this.view_count_entity_key=t.viewCountEntityKey,this.factoid=p.parseItem(t.factoid,[he]),this.view_count_type=t.viewCountType}};o(W_,"ViewCountFactoid"),e(W_,"type","ViewCountFactoid");var Eo=W_;var j_=class j_ extends a{constructor(t){super();e(this,"factoid");this.factoid=p.parseItem(t.factoid,he)}};o(j_,"HypePointsFactoid"),e(j_,"type","HypePointsFactoid");var So=j_;var H_=class H_ extends a{constructor(t){super();e(this,"channel");e(this,"channel_navigation_endpoint");e(this,"channel_thumbnail");e(this,"factoids");e(this,"publish_date");e(this,"title");e(this,"views");this.title=new l(t.title),this.channel=new l(t.channel),this.channel_navigation_endpoint=new d(t.channelNavigationEndpoint),this.channel_thumbnail=y.fromResponse(t.channelThumbnail),this.publish_date=new l(t.publishDate),this.views=new l(t.views),this.factoids=p.parseArray(t.factoid,[he,So,Eo,ko])}};o(H_,"VideoDescriptionHeader"),e(H_,"type","VideoDescriptionHeader");var Co=H_;var $_=class $_ extends a{constructor(t){super();e(this,"section_title");e(this,"creator_videos_button");e(this,"creator_about_button");e(this,"section_subtitle");e(this,"channel_avatar");e(this,"channel_endpoint");this.section_title=new l(t.sectionTitle),this.creator_videos_button=p.parseItem(t.creatorVideosButton,v),this.creator_about_button=p.parseItem(t.creatorAboutButton,v),this.section_subtitle=new l(t.sectionSubtitle),this.channel_avatar=y.fromResponse(t.channelAvatar),this.channel_endpoint=new d(t.channelEndpoint)}};o($_,"VideoDescriptionInfocardsSection"),e($_,"type","VideoDescriptionInfocardsSection");var No=$_;var G_=class G_ extends a{constructor(t){super();e(this,"title");e(this,"default_metadata");e(this,"expanded_metadata");e(this,"info_row_expand_status_key");this.title=new l(t.title),Reflect.has(t,"defaultMetadata")&&(this.default_metadata=new l(t.defaultMetadata)),Reflect.has(t,"expandedMetadata")&&(this.expanded_metadata=new l(t.expandedMetadata)),Reflect.has(t,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=t.infoRowExpandStatusKey)}};o(G_,"InfoRow"),e(G_,"type","InfoRow");var Ao=G_;var q_=class q_ extends a{constructor(t){super();e(this,"video_id");e(this,"thumbnails");e(this,"rich_thumbnail");e(this,"title");e(this,"author");e(this,"view_count");e(this,"short_view_count");e(this,"short_byline_text");e(this,"long_byline_text");e(this,"published");e(this,"badges");e(this,"thumbnail_overlays");e(this,"endpoint");e(this,"menu");e(this,"length_text");e(this,"is_watched");e(this,"service_endpoints");e(this,"service_endpoint");e(this,"style");this.video_id=t.videoId,this.thumbnails=y.fromResponse(t.thumbnail),this.title=new l(t.title),this.author=new R(t.longBylineText,t.ownerBadges,t.channelThumbnail),this.is_watched=!!t.isWatched,this.thumbnail_overlays=p.parseArray(t.thumbnailOverlays),this.menu=p.parseItem(t.menu,D),this.badges=p.parseArray(t.badges,Ot),"publishedTimeText"in t&&(this.published=new l(t.publishedTimeText)),"shortBylineText"in t&&(this.view_count=new l(t.viewCountText)),"shortViewCountText"in t&&(this.short_view_count=new l(t.shortViewCountText)),"richThumbnail"in t&&(this.rich_thumbnail=p.parseItem(t.richThumbnail)),"shortBylineText"in t&&(this.short_byline_text=new l(t.shortBylineText)),"longBylineText"in t&&(this.long_byline_text=new l(t.longBylineText)),"lengthText"in t&&(this.length_text=new l(t.lengthText)),"serviceEndpoints"in t&&(this.service_endpoints=t.serviceEndpoints.map(r=>new d(r))),"serviceEndpoint"in t&&(this.service_endpoint=new d(t.serviceEndpoint)),"navigationEndpoint"in t&&(this.endpoint=new d(t.navigationEndpoint)),"style"in t&&(this.style=t.style)}get id(){return this.video_id}get duration(){var n;let t=this.thumbnail_overlays.firstOfType(fe),r=((n=this.length_text)==null?void 0:n.toString())||(t==null?void 0:t.text.toString());return{text:r,seconds:r?Nt(r):0}}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(t=>t.label==="Fundraiser")}get is_live(){return this.badges.some(t=>{if(t.style==="BADGE_STYLE_TYPE_LIVE_NOW"||t.label==="LIVE")return!0})}get is_new(){return this.badges.some(t=>t.label==="New")}get is_premiere(){return this.badges.some(t=>t.style==="PREMIERE")}};o(q_,"CompactVideo"),e(q_,"type","CompactVideo");var $i=q_;var K_=class K_ extends a{constructor(t){super();e(this,"info_rows");e(this,"video_lockup");this.info_rows=p.parseArray(t.infoRows,Ao),this.video_lockup=p.parseItem(t.videoLockup,$i)}};o(K_,"CarouselLockup"),e(K_,"type","CarouselLockup");var Po=K_;var z_=class z_ extends a{constructor(t){super();e(this,"carousel_lockups");e(this,"section_title");this.carousel_lockups=p.parseArray(t.carouselLockups,Po),this.section_title=new l(t.sectionTitle)}};o(z_,"VideoDescriptionMusicSection"),e(z_,"type","VideoDescriptionMusicSection");var Gi=z_;var X_=class X_ extends a{constructor(t){super();e(this,"section_title");e(this,"sub_header_text");e(this,"primary_button");this.section_title=new l(t.sectionTitle),this.sub_header_text=new l(t.subHeaderText),this.primary_button=p.parseItem(t.primaryButton,v)}};o(X_,"VideoDescriptionTranscriptSection"),e(X_,"type","VideoDescriptionTranscriptSection");var js=X_;var Q_=class Q_ extends a{constructor(t){super();e(this,"thumbnail");e(this,"title");e(this,"short_byline_text");e(this,"video_count_short_text");e(this,"endpoint");e(this,"thumbnail_width");e(this,"aspect_ratio");e(this,"max_lines_title");e(this,"max_lines_short_byline_text");e(this,"overlay_position");this.thumbnail=y.fromResponse(t.thumbnail),this.title=new l(t.title),this.short_byline_text=new l(t.shortBylineText),this.video_count_short_text=new l(t.videoCountShortText),this.endpoint=new d(t.navigationEndpoint),this.thumbnail_width=t.thumbnailWidth,this.aspect_ratio=t.aspectRatio,this.max_lines_title=t.maxLinesTitle,this.max_lines_short_byline_text=t.maxLinesShortBylineText,this.overlay_position=t.overlayPosition}};o(Q_,"StructuredDescriptionPlaylistLockup"),e(Q_,"type","StructuredDescriptionPlaylistLockup");var Ro=Q_;var J_=class J_ extends a{constructor(t){super();e(this,"section_title");e(this,"media_lockups");this.section_title=new l(t.sectionTitle),this.media_lockups=p.parseArray(t.mediaLockups,[Ro])}};o(J_,"VideoDescriptionCourseSection"),e(J_,"type","VideoDescriptionCourseSection");var Mo=J_;var Z_=class Z_ extends a{constructor(t){super();e(this,"header_title");e(this,"header_subtitle");e(this,"video_attributes");e(this,"previous_button");e(this,"next_button");this.header_title=t.headerTitle,this.header_subtitle=t.headerSubtitle,this.video_attributes=p.parseArray(t.videoAttributeViewModels,Ke),this.previous_button=p.parseItem(t.previousButton,K),this.next_button=p.parseItem(t.nextButton,K)}};o(Z_,"VideoAttributesSectionView"),e(Z_,"type","VideoAttributesSectionView");var Do=Z_;var tx=class tx extends a{constructor(t){super();e(this,"section_title");e(this,"body_text");e(this,"body_header");Reflect.has(t,"sectionText")&&(this.section_title=l.fromAttributed(t.sectionText)),Reflect.has(t,"bodyText")&&(this.body_text=l.fromAttributed(t.bodyText)),Reflect.has(t,"bodyHeader")&&(this.body_header=l.fromAttributed(t.bodyHeader))}};o(tx,"HowThisWasMadeSectionView"),e(tx,"type","HowThisWasMadeSectionView");var Bo=tx;var ex=class ex extends a{constructor(t){super();e(this,"title");e(this,"items");e(this,"endpoint");this.title=new l(t.title),this.items=p.parseArray(t.items),Reflect.has(t,"endpoint")&&(this.endpoint=new d(t.endpoint))}get contents(){return this.items}};o(ex,"ReelShelf"),e(ex,"type","ReelShelf");var qi=ex;var ix=class ix extends a{constructor(t){super();e(this,"items");this.items=p.parseArray(t.items,[Co,go,Gi,No,Mo,js,js,Ge,qi,Do,Bo])}};o(ix,"StructuredDescriptionContent"),e(ix,"type","StructuredDescriptionContent");var ci=ix;var sx=class sx extends a{constructor(t){super();e(this,"header");e(this,"content");e(this,"target_id");e(this,"panel_identifier");e(this,"identifier");e(this,"visibility");this.header=p.parseItem(t.header,_o),this.content=p.parseItem(t.content,[Ke,lt,X,ho,ci,bo,yo]),this.panel_identifier=t.panelIdentifier,this.identifier=t.identifier?{surface:t.identifier.surface,tag:t.identifier.tag}:void 0,this.target_id=t.targetId,this.visibility=t.visibility}};o(sx,"EngagementPanelSectionList"),e(sx,"type","EngagementPanelSectionList");var ze=sx;var rx=class rx extends a{constructor(t){super();e(this,"content");e(this,"max_lines");e(this,"more_endpoint");e(this,"more_icon_type");e(this,"more_label");e(this,"target_id");this.content=t.content,this.max_lines=t.maxLines,this.more_endpoint=t.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:p.parseItem(t.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,ze),engagement_panel_popup_type:t.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:t.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:t.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new d(t.moreEndpoint),this.more_icon_type=t.moreIcon.iconType,this.more_label=t.moreLabel,this.target_id=t.targetId}};o(rx,"ChannelTagline"),e(rx,"type","ChannelTagline");var Lo=rx;var ox=class ox extends a{constructor(t){super();e(this,"states");e(this,"current_state_id");e(this,"target_id");this.states=t.states.map(r=>({id:r.stateId,next_id:r.nextStateId,state:p.parse(r.state)})),this.current_state_id=t.currentStateId,this.target_id=t.targetId}};o(ox,"SubscriptionNotificationToggleButton"),e(ox,"type","SubscriptionNotificationToggleButton");var Oo=ox;var nx=class nx extends a{constructor(t){var r,n;super();e(this,"button_text");e(this,"subscribed");e(this,"enabled");e(this,"item_type");e(this,"channel_id");e(this,"show_preferences");e(this,"subscribed_text");e(this,"unsubscribed_text");e(this,"unsubscribe_text");e(this,"notification_preference_button");e(this,"service_endpoints");e(this,"on_subscribe_endpoints");e(this,"on_unsubscribe_endpoints");e(this,"subscribed_entity_key");e(this,"target_id");e(this,"subscribe_accessibility_label");e(this,"unsubscribe_accessibility_label");this.button_text=new l(t.buttonText),this.subscribed=t.subscribed,this.enabled=t.enabled,this.item_type=t.type,this.channel_id=t.channelId,this.show_preferences=t.showPreferences,Reflect.has(t,"subscribedButtonText")&&(this.subscribed_text=new l(t.subscribedButtonText)),Reflect.has(t,"unsubscribedButtonText")&&(this.unsubscribed_text=new l(t.unsubscribedButtonText)),Reflect.has(t,"unsubscribeButtonText")&&(this.unsubscribe_text=new l(t.unsubscribeButtonText)),this.notification_preference_button=p.parseItem(t.notificationPreferenceButton,Oo),Reflect.has(t,"serviceEndpoints")&&(this.service_endpoints=t.serviceEndpoints.map(c=>new d(c))),Reflect.has(t,"onSubscribeEndpoints")&&(this.on_subscribe_endpoints=t.onSubscribeEndpoints.map(c=>new d(c))),Reflect.has(t,"onUnsubscribeEndpoints")&&(this.on_unsubscribe_endpoints=t.onUnsubscribeEndpoints.map(c=>new d(c))),Reflect.has(t,"subscribedEntityKey")&&(this.subscribed_entity_key=t.subscribedEntityKey),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),Reflect.has(t,"subscribeAccessibility")&&(this.subscribe_accessibility_label=(r=t.subscribeAccessibility.accessibilityData)==null?void 0:r.label),Reflect.has(t,"unsubscribeAccessibility")&&(this.unsubscribe_accessibility_label=(n=t.unsubscribeAccessibility.accessibilityData)==null?void 0:n.label)}};o(nx,"SubscribeButton"),e(nx,"type","SubscribeButton");var ft=nx;var ax=class ax extends a{constructor(t){super();e(this,"author");e(this,"banner");e(this,"tv_banner");e(this,"mobile_banner");e(this,"subscribers");e(this,"videos_count");e(this,"sponsor_button");e(this,"subscribe_button");e(this,"header_links");e(this,"channel_handle");e(this,"channel_id");e(this,"tagline");this.author=new R({simpleText:t.title,navigationEndpoint:t.navigationEndpoint},t.badges,t.avatar),Reflect.has(t,"banner")&&(this.banner=y.fromResponse(t.banner)),Reflect.has(t,"tv_banner")&&(this.tv_banner=y.fromResponse(t.tvBanner)),Reflect.has(t,"mobile_banner")&&(this.mobile_banner=y.fromResponse(t.mobileBanner)),Reflect.has(t,"subscriberCountText")&&(this.subscribers=new l(t.subscriberCountText)),Reflect.has(t,"videosCountText")&&(this.videos_count=new l(t.videosCountText)),Reflect.has(t,"sponsorButton")&&(this.sponsor_button=p.parseItem(t.sponsorButton,v)),Reflect.has(t,"subscribeButton")&&(this.subscribe_button=p.parseItem(t.subscribeButton,[ft,v])),Reflect.has(t,"headerLinks")&&(this.header_links=p.parseItem(t.headerLinks,[co,lo])),Reflect.has(t,"channelHandleText")&&(this.channel_handle=new l(t.channelHandleText)),Reflect.has(t,"channelId")&&(this.channel_id=t.channelId),Reflect.has(t,"tagline")&&(this.tagline=p.parseItem(t.tagline,Lo))}};o(ax,"C4TabbedHeader"),e(ax,"type","C4TabbedHeader");var Ki=ax;var cx=class cx extends a{constructor(t){super();e(this,"label");e(this,"icon_type");e(this,"style");this.label=new l(t.label),this.icon_type=t.icon.iconType,this.style=t.style}};o(cx,"CallToActionButton"),e(cx,"type","CallToActionButton");var Ul=cx;var lx=class lx extends a{constructor(t){super();e(this,"teaser");e(this,"content");e(this,"card_id");e(this,"feature");e(this,"cue_ranges");this.teaser=p.parseItem(t.teaser),this.content=p.parseItem(t.content),Reflect.has(t,"cardId")&&(this.card_id=t.cardId),Reflect.has(t,"feature")&&(this.feature=t.feature),this.cue_ranges=t.cueRanges.map(r=>({start_card_active_ms:r.startCardActiveMs,end_card_active_ms:r.endCardActiveMs,teaser_duration_ms:r.teaserDurationMs,icon_after_teaser_ms:r.iconAfterTeaserMs}))}};o(lx,"Card"),e(lx,"type","Card");var Fl=lx;var px=class px extends a{constructor(t){super();e(this,"cards");e(this,"header");e(this,"allow_teaser_dismiss");this.cards=p.parseArray(t.cards),this.header=new l(t.headerText),this.allow_teaser_dismiss=t.allowTeaserDismiss}};o(px,"CardCollection"),e(px,"type","CardCollection");var Yo=px;var ux=class ux extends a{constructor(t){super();e(this,"contents");this.contents=p.parseArray(t.contents)}};o(ux,"CarouselHeader"),e(ux,"type","CarouselHeader");var Vo=ux;var mx=class mx extends a{constructor(t){super();e(this,"items");e(this,"background_color");e(this,"layout_style");e(this,"pagination_thumbnails");e(this,"paginator_alignment");this.items=p.parseArray(t.carouselItems),this.background_color=t.backgroundColor,this.layout_style=t.layoutStyle,this.pagination_thumbnails=y.fromResponse(t.paginationThumbnails),this.paginator_alignment=t.paginatorAlignment}get contents(){return this.items}};o(mx,"CarouselItem"),e(mx,"type","CarouselItem");var Wl=mx;var fx=class fx extends a{constructor(t){super();e(this,"icon_name");e(this,"text");e(this,"on_tap_endpoint");e(this,"button");this.icon_name=t.iconName,this.text=l.fromAttributed(t.text),this.on_tap_endpoint=new d(t.onTap),this.button=p.parseItem(t.button,K)}};o(fx,"TextCarouselItemView"),e(fx,"type","TextCarouselItemView");var Uo=fx;var hx=class hx extends a{constructor(t){super();e(this,"item_type");e(this,"carousel_item");this.item_type=t.itemType,this.carousel_item=p.parseItem(t.carouselItem,Uo)}};o(hx,"CarouselItemView"),e(hx,"type","CarouselItemView");var Fo=hx;var dx=class dx extends a{constructor(t){super();e(this,"title");e(this,"previous_button");e(this,"next_button");this.title=t.title,this.previous_button=p.parseItem(t.previousButton,K),this.next_button=p.parseItem(t.nextButton,K)}};o(dx,"CarouselTitleView"),e(dx,"type","CarouselTitleView");var Wo=dx;var _x=class _x extends a{constructor(t){super();e(this,"id");e(this,"author");e(this,"subscriber_count");e(this,"video_count");e(this,"long_byline");e(this,"short_byline");e(this,"endpoint");e(this,"subscribe_button");e(this,"description_snippet");this.id=t.channelId,this.author=new R({...t.title,navigationEndpoint:t.navigationEndpoint},t.ownerBadges,t.thumbnail),this.subscriber_count=new l(t.subscriberCountText),this.video_count=new l(t.videoCountText),this.long_byline=new l(t.longBylineText),this.short_byline=new l(t.shortBylineText),this.endpoint=new d(t.navigationEndpoint),this.subscribe_button=p.parseItem(t.subscribeButton,[ft,v]),this.description_snippet=new l(t.descriptionSnippet)}};o(_x,"Channel"),e(_x,"type","Channel");var jo=_x;var xx=class xx extends a{constructor(t){var r,n;super();e(this,"id");e(this,"name");e(this,"avatar");e(this,"canonical_channel_url");e(this,"primary_links");e(this,"view_count");e(this,"joined_date");e(this,"description");e(this,"email_reveal");e(this,"can_reveal_email");e(this,"country");e(this,"buttons");this.id=t.channelId,this.name=new l(t.title),this.avatar=y.fromResponse(t.avatar),this.canonical_channel_url=t.canonicalChannelUrl,this.primary_links=(n=(r=t.primaryLinks)==null?void 0:r.map(c=>({endpoint:new d(c.navigationEndpoint),icon:y.fromResponse(c.icon),title:new l(c.title)})))!=null?n:[],this.view_count=new l(t.viewCountText),this.joined_date=new l(t.joinedDateText),this.description=new l(t.description),this.email_reveal=new d(t.onBusinessEmailRevealClickCommand),this.can_reveal_email=!t.signInForBusinessEmail,this.country=new l(t.country),this.buttons=p.parseArray(t.actionButtons,v)}};o(xx,"ChannelAboutFullMetadata"),e(xx,"type","ChannelAboutFullMetadata");var Hs=xx;var bx=class bx extends a{constructor(t){super();e(this,"channel_title");e(this,"avatar");e(this,"header");e(this,"main_text");e(this,"sign_in_button");e(this,"secondary_text");this.channel_title=t.channelTitle,this.avatar=y.fromResponse(t.avatar),this.header=new l(t.header),this.main_text=new l(t.mainText),this.sign_in_button=p.parseItem(t.signInButton,v),this.secondary_text=new l(t.secondaryText)}};o(bx,"ChannelAgeGate"),e(bx,"type","ChannelAgeGate");var jl=bx;var yx=class yx extends a{constructor(t){super();e(this,"title");e(this,"items");this.title=new l(t.title),this.items=p.parseArray(t.items)}};o(yx,"ChannelFeaturedContent"),e(yx,"type","ChannelFeaturedContent");var Hl=yx;var gx=class gx extends a{constructor(t){super();e(this,"title");e(this,"description");e(this,"url");e(this,"rss_url");e(this,"vanity_channel_url");e(this,"external_id");e(this,"is_family_safe");e(this,"keywords");e(this,"avatar");e(this,"music_artist_name");e(this,"available_countries");e(this,"android_deep_link");e(this,"android_appindexing_link");e(this,"ios_appindexing_link");this.title=t.title,this.description=t.description,this.url=t.channelUrl,this.rss_url=t.rssUrl,this.vanity_channel_url=t.vanityChannelUrl,this.external_id=t.externalId,this.is_family_safe=t.isFamilySafe,this.keywords=t.keywords,this.avatar=y.fromResponse(t.avatar),this.music_artist_name=typeof t.musicArtistName=="string"&&t.musicArtistName.length>0?t.musicArtistName:void 0,this.available_countries=t.availableCountryCodes,this.android_deep_link=t.androidDeepLink,this.android_appindexing_link=t.androidAppindexingLink,this.ios_appindexing_link=t.iosAppindexingLink}};o(gx,"ChannelMetadata"),e(gx,"type","ChannelMetadata");var Ho=gx;var wx=class wx extends a{constructor(t){super();e(this,"title");this.title=new l(t.title)}};o(wx,"ChannelMobileHeader"),e(wx,"type","ChannelMobileHeader");var $l=wx;var Tx=class Tx extends a{constructor(t){super();e(this,"avatar");e(this,"endpoint");e(this,"name");e(this,"links");this.avatar=y.fromResponse(t.avatar),this.endpoint=new d(t.avatarEndpoint),this.name=t.name,this.links=t.links.map(r=>new l(r))}};o(Tx,"ChannelOptions"),e(Tx,"type","ChannelOptions");var $o=Tx;var vx=class vx extends a{constructor(t){super();e(this,"illustration");e(this,"description");this.illustration=y.fromResponse(t.illustration),this.description=new l(t.description)}};o(vx,"ChannelOwnerEmptyState"),e(vx,"type","ChannelOwnerEmptyState");var Gl=vx;var Ix=class Ix extends a{constructor(t){super();e(this,"content_type_sub_menu_items");e(this,"sort_setting");this.content_type_sub_menu_items=t.contentTypeSubMenuItems.map(r=>({endpoint:new d(r.navigationEndpoint||r.endpoint),selected:r.selected,title:r.title})),this.sort_setting=p.parseItem(t.sortSetting)}};o(Ix,"ChannelSubMenu"),e(Ix,"type","ChannelSubMenu");var $s=Ix;var kx=class kx extends a{constructor(t){super();e(this,"title");e(this,"button");this.title=new l(t.title).toString(),Reflect.has(t,"button")&&(this.button=p.parseItem(t.button,v))}};o(kx,"ChannelSwitcherHeader"),e(kx,"type","ChannelSwitcherHeader");var ql=kx;var Ex=class Ex extends a{constructor(t){super();e(this,"thumbnails");e(this,"endpoint");e(this,"accessibility");this.thumbnails=y.fromResponse(t.thumbnail),this.endpoint=new d(t.navigationEndpoint),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new ut(t.accessibility.accessibilityData)})}get label(){var t,r;return(r=(t=this.accessibility)==null?void 0:t.accessibility_data)==null?void 0:r.label}};o(Ex,"ChannelThumbnailWithLink"),e(Ex,"type","ChannelThumbnailWithLink");var Kl=Ex;var Sx=class Sx extends a{constructor(t){super();e(this,"id");e(this,"title");e(this,"description");e(this,"view_count");e(this,"published_time");this.id=t.videoId,this.title=new l(t.title),this.description=new l(t.description),this.view_count=new l(t.viewCountText),this.published_time=new l(t.publishedTimeText)}};o(Sx,"ChannelVideoPlayer"),e(Sx,"type","ChannelVideoPlayer");var zl=Sx;var Cx=class Cx extends a{constructor(t){super();e(this,"title");e(this,"time_range_start_millis");e(this,"thumbnail");this.title=new l(t.title),this.time_range_start_millis=t.timeRangeStartMillis,this.thumbnail=y.fromResponse(t.thumbnail)}};o(Cx,"Chapter"),e(Cx,"type","Chapter");var Go=Cx;var Nx=class Nx extends a{constructor(t){super();e(this,"id");e(this,"title");e(this,"duration");e(this,"endpoint");this.id=t.videoId,this.title=new l(t.title),this.duration={text:t.lengthText.simpleText,seconds:Nt(t.lengthText.simpleText)},this.endpoint=new d(t.navigationEndpoint)}};o(Nx,"ChildVideo"),e(Nx,"type","ChildVideo");var Xl=Nx;var Ax=class Ax extends a{constructor(t){super();e(this,"text");e(this,"display_type");e(this,"endpoint");e(this,"chip_entity_key");this.text=t.text,this.display_type=t.displayType,this.endpoint=new d(t.tapCommand),this.chip_entity_key=t.chipEntityKey}};o(Ax,"ChipView"),e(Ax,"type","ChipView");var qo=Ax;var Px=class Px extends a{constructor(t){super();e(this,"chips");this.chips=p.parseArray(t.chips,qo)}};o(Px,"ChipBarView"),e(Px,"type","ChipBarView");var Ql=Px;var Rx=class Rx extends a{constructor(t){super();e(this,"is_selected");e(this,"endpoint");e(this,"text");this.is_selected=t.isSelected,Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new d(t.navigationEndpoint)),this.text=new l(t.text).toString()}};o(Rx,"ChipCloudChip"),e(Rx,"type","ChipCloudChip");var Yt=Rx;var Mx=class Mx extends a{constructor(t){super();e(this,"chips");e(this,"next_button");e(this,"previous_button");e(this,"horizontal_scrollable");this.chips=p.parseArray(t.chips,Yt),this.next_button=p.parseItem(t.nextButton,v),this.previous_button=p.parseItem(t.previousButton,v),this.horizontal_scrollable=t.horizontalScrollable}};o(Mx,"ChipCloud"),e(Mx,"type","ChipCloud");var zi=Mx;var Dx=class Dx extends a{constructor(t){super();e(this,"text");e(this,"icon_type");e(this,"toggled_text");e(this,"toggled_icon_type");e(this,"is_toggled");e(this,"menu_item_identifier");e(this,"endpoint");e(this,"logging_directives");this.text=new l(t.defaultText),this.icon_type=t.defaultIcon.iconType,this.toggled_text=new l(t.toggledText),this.toggled_icon_type=t.toggledIcon.iconType,Reflect.has(t,"isToggled")&&(this.is_toggled=t.isToggled),this.menu_item_identifier=t.menuItemIdentifier,this.endpoint=new d(t.command),Reflect.has(t,"loggingDirectives")&&(this.logging_directives={visibility:{types:t.loggingDirectives.visibility.types},enable_displaylogger_experiment:t.loggingDirectives.enableDisplayloggerExperiment})}};o(Dx,"ClientSideToggleMenuItem"),e(Dx,"type","ClientSideToggleMenuItem");var Jl=Dx;var Bx=class Bx extends a{constructor(t){super();e(this,"channel_avatar");e(this,"custom_text");e(this,"channel_name");e(this,"subscriber_count");e(this,"endpoint");this.channel_avatar=y.fromResponse(t.channelAvatar),this.custom_text=new l(t.customText),this.channel_name=new l(t.channelName),this.subscriber_count=new l(t.subscriberCountText),this.endpoint=new d(t.endpoint)}};o(Bx,"CollaboratorInfoCardContent"),e(Bx,"type","CollaboratorInfoCardContent");var Zl=Bx;var Lx=class Lx extends a{constructor(t){super();e(this,"left");e(this,"top_right");e(this,"bottom_right");e(this,"endpoint");this.left=y.fromResponse(t.leftThumbnail),this.top_right=y.fromResponse(t.topRightThumbnail),this.bottom_right=y.fromResponse(t.bottomRightThumbnail),this.endpoint=new d(t.navigationEndpoint)}};o(Lx,"CollageHeroImage"),e(Lx,"type","CollageHeroImage");var tp=Lx;var Ox=class Ox extends a{constructor(t){super();e(this,"icon_name");e(this,"text");e(this,"style");this.icon_name=t.icon.sources[0].clientResource.imageName,this.text=l.fromAttributed(t.text),this.style=t.style}};o(Ox,"ThumbnailHoverOverlayView"),e(Ox,"type","ThumbnailHoverOverlayView");var Ko=Ox;var Yx=class Yx extends a{constructor(t){super();e(this,"icon_name");e(this,"text");e(this,"badge_style");e(this,"background_color");this.text=t.text,this.badge_style=t.badgeStyle,t.backgroundColor&&(this.background_color={light_theme:t.backgroundColor.lightTheme,dark_theme:t.backgroundColor.darkTheme}),t.iconName&&(this.icon_name=t.icon.sources[0].clientResource.imageName)}};o(Yx,"ThumbnailBadgeView"),e(Yx,"type","ThumbnailBadgeView");var Xi=Yx;var Vx=class Vx extends a{constructor(t){super();e(this,"badges");e(this,"position");this.badges=p.parseArray(t.thumbnailBadges,Xi),this.position=t.position}};o(Vx,"ThumbnailOverlayBadgeView"),e(Vx,"type","ThumbnailOverlayBadgeView");var zo=Vx;var Ux=class Ux extends a{constructor(t){super();e(this,"buttons");this.buttons=p.parseArray(t.buttons,jt)}};o(Ux,"ThumbnailHoverOverlayToggleActionsView"),e(Ux,"type","ThumbnailHoverOverlayToggleActionsView");var Xo=Ux;var Fx=class Fx extends a{constructor(t){super();e(this,"start_percent");this.start_percent=t.startPercent}};o(Fx,"ThumbnailOverlayProgressBarView"),e(Fx,"type","ThumbnailOverlayProgressBarView");var Qo=Fx;var Wx=class Wx extends a{constructor(t){super();e(this,"progress_bar");e(this,"badges");this.progress_bar=p.parseItem(t.progressBar,Qo),this.badges=p.parseArray(t.badges,Xi)}};o(Wx,"ThumbnailBottomOverlayView"),e(Wx,"type","ThumbnailBottomOverlayView");var Jo=Wx;var jx=class jx extends a{constructor(t){super();e(this,"image");e(this,"overlays");e(this,"background_color");this.image=y.fromResponse(t.image),this.overlays=p.parseArray(t.overlays,[Xo,Jo,zo,Ko,Gr]),"backgroundColor"in t&&(this.background_color={light_theme:t.backgroundColor.lightTheme,dark_theme:t.backgroundColor.darkTheme})}};o(jx,"ThumbnailView"),e(jx,"type","ThumbnailView");var Qi=jx;var Hx=class Hx extends a{constructor(t){super();e(this,"primary_thumbnail");e(this,"stack_color");this.primary_thumbnail=p.parseItem(t.primaryThumbnail,Qi),t.stackColor&&(this.stack_color={light_theme:t.stackColor.lightTheme,dark_theme:t.stackColor.darkTheme})}};o(Hx,"CollectionThumbnailView"),e(Hx,"type","CollectionThumbnailView");var Zo=Hx;var $x=class $x extends a{constructor(t){super();e(this,"open_miniplayer");e(this,"video_id");e(this,"list_type");e(this,"endpoint");e(this,"video_ids");this.open_miniplayer=t.openMiniplayer,this.video_id=t.videoId,this.list_type=t.listType,this.endpoint=new d(t.onCreateListCommand),this.video_ids=t.videoIds}};o($x,"AddToPlaylistCommand"),e($x,"type","AddToPlaylistCommand");var ep=$x;var Ce,Gx=class Gx extends a{constructor(t){super();E(this,Ce);S(this,Ce,t)}getApiPath(){switch(f(this,Ce).request){case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":return"next";case"CONTINUATION_REQUEST_TYPE_BROWSE":return"browse";case"CONTINUATION_REQUEST_TYPE_SEARCH":return"search";case"CONTINUATION_REQUEST_TYPE_ACCOUNTS_LIST":return"account/accounts_list";case"CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU":return"notification/get_notification_menu";case"CONTINUATION_REQUEST_TYPE_COMMENT_REPLIES":return"comment/get_comment_replies";case"CONTINUATION_REQUEST_TYPE_REEL_WATCH_SEQUENCE":return"reel/reel_watch_sequence";case"CONTINUATION_REQUEST_TYPE_GET_PANEL":return"get_panel";default:return""}}buildRequest(){let t={};return f(this,Ce).formData&&(t.formData=f(this,Ce).formData),f(this,Ce).token&&(t.continuation=f(this,Ce).token),f(this,Ce).request==="CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU"&&(t.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_COMMENTS",f(this,Ce).token&&(t.fetchCommentsParams={continuation:f(this,Ce).token},delete t.continuation)),t}};Ce=new WeakMap,o(Gx,"ContinuationCommand"),e(Gx,"type","ContinuationCommand");var ip=Gx;var TN="kids/get_kids_blocklist_picker",$c,qx=class qx extends a{constructor(t){super();E(this,$c);S(this,$c,t)}getApiPath(){return TN}buildRequest(){let t={};return f(this,$c).blockedForKidsContent&&(t.blockedForKidsContent=f(this,$c).blockedForKidsContent),t}};$c=new WeakMap,o(qx,"GetKidsBlocklistPickerCommand"),e(qx,"type","GetKidsBlocklistPickerCommand");var sp=qx;var Kx=class Kx extends a{constructor(t){super();e(this,"engagement_type");e(this,"ids");this.engagement_type=t.engagementType,Reflect.has(t,"ids")&&(this.ids=t.ids.map(r=>({encrypted_video_id:r.encryptedVideoId,external_channel_id:r.externalChannelId,comment_id:r.commentId,external_owner_id:r.externalOwnerId,artist_id:r.artistId,playlist_id:r.playlistId,external_post_id:r.externalPostId,share_id:r.shareId})))}};o(Kx,"RunAttestationCommand"),e(Kx,"type","RunAttestationCommand");var tn=Kx;var zx=class zx extends a{constructor(t){var r;super();e(this,"inline_content");e(this,"remove_default_padding");this.inline_content=p.parseItem((r=t.panelLoadingStrategy)==null?void 0:r.inlineContent),this.remove_default_padding=!!t.removeDefaultPadding}};o(zx,"ShowDialogCommand"),e(zx,"type","ShowDialogCommand");var rp=zx;var Xx=class Xx extends a{constructor(t){super();e(this,"content_source_panel_identifier");e(this,"target_panel_identifier");this.content_source_panel_identifier=t.contentSourcePanelIdentifier,this.target_panel_identifier=t.targetPanelIdentifier}};o(Xx,"UpdateEngagementPanelContentCommand"),e(Xx,"type","UpdateEngagementPanelContentCommand");var op=Xx;var ap,Qx=class Qx extends a{constructor(t){super();E(this,ap);e(this,"icon_type");e(this,"tooltip");e(this,"style");Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.tooltip=t.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED",t.style="BADGE_STYLE_TYPE_VERIFIED"),S(this,ap,t)}get orig_badge(){return f(this,ap)}};ap=new WeakMap,o(Qx,"AuthorCommentBadge"),e(Qx,"type","AuthorCommentBadge");var np=Qx;var Jx=class Jx extends a{constructor(t){super();e(this,"id");e(this,"categories");e(this,"category_buttons");e(this,"search_placeholder");e(this,"search_no_results");e(this,"pick_skin_tone");e(this,"clear_search_label");e(this,"skin_tone_generic_label");e(this,"skin_tone_light_label");e(this,"skin_tone_medium_light_label");e(this,"skin_tone_medium_label");e(this,"skin_tone_medium_dark_label");e(this,"skin_tone_dark_label");this.id=t.id,this.categories=p.parseArray(t.categories),this.category_buttons=p.parseArray(t.categoryButtons),this.search_placeholder=new l(t.searchPlaceholderText),this.search_no_results=new l(t.searchNoResultsText),this.pick_skin_tone=new l(t.pickSkinToneText),this.clear_search_label=t.clearSearchLabel,this.skin_tone_generic_label=t.skinToneGenericLabel,this.skin_tone_light_label=t.skinToneLightLabel,this.skin_tone_medium_light_label=t.skinToneMediumLightLabel,this.skin_tone_medium_label=t.skinToneMediumLabel,this.skin_tone_medium_dark_label=t.skinToneMediumDarkLabel,this.skin_tone_dark_label=t.skinToneDarkLabel}};o(Jx,"EmojiPicker"),e(Jx,"type","EmojiPicker");var en=Jx;var Zx=class Zx extends a{constructor(t){super();e(this,"editable_text");e(this,"author_thumbnail");e(this,"submit_button");e(this,"cancel_button");e(this,"placeholder");e(this,"emoji_button");e(this,"emoji_picker");this.editable_text=new l(t.editableText),this.author_thumbnail=y.fromResponse(t.authorThumbnail),this.submit_button=p.parseItem(t.submitButton,v),this.cancel_button=p.parseItem(t.cancelButton,v),this.placeholder=new l(t.placeholderText),this.emoji_button=p.parseItem(t.emojiButton,v),this.emoji_picker=p.parseItem(t.emojiPicker,en)}};o(Zx,"CommentDialog"),e(Zx,"type","CommentDialog");var cp=Zx;var tb=class tb extends a{constructor(t){super();e(this,"contents");e(this,"view_replies");e(this,"hide_replies");e(this,"view_replies_creator_thumbnail");e(this,"has_channel_owner_replied");this.contents=p.parseArray(t.contents),this.view_replies=p.parseItem(t.viewReplies,v),this.hide_replies=p.parseItem(t.hideReplies,v),this.view_replies_creator_thumbnail=y.fromResponse(t.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!t.viewRepliesCreatorThumbnail}};o(tb,"CommentReplies"),e(tb,"type","CommentReplies");var sn=tb;var eb=class eb extends a{constructor(t){super();e(this,"reply_button");e(this,"cancel_button");e(this,"author_thumbnail");e(this,"placeholder");e(this,"error_message");this.reply_button=p.parseItem(t.replyButton,v),this.cancel_button=p.parseItem(t.cancelButton,v),this.author_thumbnail=y.fromResponse(t.authorThumbnail),this.placeholder=new l(t.placeholderText),this.error_message=new l(t.errorMessage)}};o(eb,"CommentReplyDialog"),e(eb,"type","CommentReplyDialog");var rn=eb;var ib=class ib extends a{constructor(t){super();e(this,"simplebox_avatar");e(this,"simplebox_placeholder");this.simplebox_avatar=y.fromResponse(t.simpleboxAvatar),this.simplebox_placeholder=new l(t.simpleboxPlaceholder)}};o(ib,"CommentsSimplebox"),e(ib,"type","CommentsSimplebox");var on=ib;var sb=class sb extends a{constructor(t){super();e(this,"teaser_avatar");e(this,"teaser_content");Reflect.has(t,"teaserAvatar")&&(this.teaser_avatar=y.fromResponse(t.teaserAvatar)),Reflect.has(t,"teaserContent")&&(this.teaser_content=new l(t.teaserContent))}};o(sb,"CommentsEntryPointTeaser"),e(sb,"type","CommentsEntryPointTeaser");var nn=sb;var rb=class rb extends a{constructor(t){super();e(this,"header");e(this,"comment_count");e(this,"teaser_avatar");e(this,"teaser_content");e(this,"content_renderer");e(this,"simplebox_placeholder");Reflect.has(t,"headerText")&&(this.header=new l(t.headerText)),Reflect.has(t,"commentCount")&&(this.comment_count=new l(t.commentCount)),(Reflect.has(t,"teaserAvatar")||Reflect.has(t,"simpleboxAvatar"))&&(this.teaser_avatar=y.fromResponse(t.teaserAvatar||t.simpleboxAvatar)),Reflect.has(t,"teaserContent")&&(this.teaser_content=new l(t.teaserContent)),Reflect.has(t,"contentRenderer")&&(this.content_renderer=p.parseItem(t.contentRenderer,[nn,on])),Reflect.has(t,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new l(t.simpleboxPlaceholder))}};o(rb,"CommentsEntryPointHeader"),e(rb,"type","CommentsEntryPointHeader");var an=rb;var ob=class ob extends a{constructor(t){super();e(this,"title");e(this,"count");e(this,"comments_count");e(this,"create_renderer");e(this,"sort_menu");e(this,"custom_emojis");this.title=new l(t.titleText),this.count=new l(t.countText),this.comments_count=new l(t.commentsCount),this.create_renderer=p.parseItem(t.createRenderer),this.sort_menu=p.parseItem(t.sortMenu,re),Reflect.has(t,"customEmojis")&&(this.custom_emojis=t.customEmojis.map(r=>({emoji_id:r.emojiId,shortcuts:r.shortcuts,search_terms:r.searchTerms,image:y.fromResponse(r.image),is_custom_emoji:r.isCustomEmoji})))}};o(ob,"CommentsHeader"),e(ob,"type","CommentsHeader");var Xe=ob;var nb=class nb extends a{constructor(t){super();e(this,"submit_button");e(this,"cancel_button");e(this,"author_thumbnail");e(this,"placeholder");e(this,"avatar_size");this.submit_button=p.parseItem(t.submitButton,v),this.cancel_button=p.parseItem(t.cancelButton,v),this.author_thumbnail=y.fromResponse(t.authorThumbnail),this.placeholder=new l(t.placeholderText),this.avatar_size=t.avatarSize}};o(nb,"CommentSimplebox"),e(nb,"type","CommentSimplebox");var cn=nb;var ab=class ab extends a{constructor(t){super();e(this,"voice_reply_unavailable_text");e(this,"transcript_text");this.voice_reply_unavailable_text=l.fromAttributed(t.voiceReplyUnavailableText),this.transcript_text=l.fromAttributed(t.transcriptText)}};o(ab,"VoiceReplyContainerView"),e(ab,"type","VoiceReplyContainerView");var ln=ab;var Ht,cb=class cb extends a{constructor(t){super();E(this,Ht);e(this,"like_command");e(this,"dislike_command");e(this,"unlike_command");e(this,"undislike_command");e(this,"reply_command");e(this,"prepare_account_command");e(this,"comment_id");e(this,"is_pinned");e(this,"keys");e(this,"content");e(this,"published_time");e(this,"author_is_channel_owner");e(this,"creator_thumbnail_url");e(this,"like_button_a11y");e(this,"like_count");e(this,"like_count_liked");e(this,"like_count_a11y");e(this,"like_active_tooltip");e(this,"like_inactive_tooltip");e(this,"dislike_active_tooltip");e(this,"dislike_inactive_tooltip");e(this,"heart_active_tooltip");e(this,"reply_count");e(this,"reply_count_a11y");e(this,"is_member");e(this,"member_badge");e(this,"author");e(this,"is_liked");e(this,"is_disliked");e(this,"is_hearted");e(this,"voice_reply_container");this.comment_id=t.commentId,this.is_pinned=!!t.pinnedText,this.keys={comment:t.commentKey,comment_surface:t.commentSurfaceKey,toolbar_state:t.toolbarStateKey,toolbar_surface:t.toolbarSurfaceKey,shared:t.sharedKey}}applyMutations(t,r,n,c){t&&(this.content=l.fromAttributed(t.properties.content),this.published_time=t.properties.publishedTime,this.author_is_channel_owner=!!t.author.isCreator,this.creator_thumbnail_url=t.toolbar.creatorThumbnailUrl,this.like_count=t.toolbar.likeCountNotliked?t.toolbar.likeCountNotliked:"0",this.like_count_liked=t.toolbar.likeCountLiked?t.toolbar.likeCountLiked:"0",this.like_count_a11y=t.toolbar.likeCountA11y,this.like_active_tooltip=t.toolbar.likeActiveTooltip,this.like_inactive_tooltip=t.toolbar.likeInactiveTooltip,this.dislike_active_tooltip=t.toolbar.dislikeActiveTooltip,this.dislike_inactive_tooltip=t.toolbar.dislikeInactiveTooltip,this.like_button_a11y=t.toolbar.likeButtonA11y,this.heart_active_tooltip=t.toolbar.heartActiveTooltip,this.reply_count_a11y=t.toolbar.replyCountA11y,this.reply_count=t.toolbar.replyCount?t.toolbar.replyCount:"0",this.is_member=!!t.author.sponsorBadgeUrl,Reflect.has(t.author,"sponsorBadgeUrl")&&(this.member_badge={url:t.author.sponsorBadgeUrl,a11y:t.author.A11y}),this.author=new R({simpleText:t.author.displayName,navigationEndpoint:t.avatar.endpoint},t.author,t.avatar.image,t.author.channelId)),r&&(this.is_hearted=r.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=r.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=r.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),n&&("prepareAccountCommand"in n?this.prepare_account_command=new d(n.prepareAccountCommand):(this.like_command=new d(n.likeCommand),this.dislike_command=new d(n.dislikeCommand),this.unlike_command=new d(n.unlikeCommand),this.undislike_command=new d(n.undislikeCommand),this.reply_command=new d(n.replyCommand))),c&&"voiceReplyContainerViewModel"in c&&(this.voice_reply_container=p.parseItem(c.voiceReplyContainerViewModel,ln))}async like(){if(!f(this,Ht))throw new w("Actions instance not set for this comment.");if(!this.like_command)throw new w("Like command not found.");if(this.is_liked)throw new w("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(f(this,Ht))}async dislike(){if(!f(this,Ht))throw new w("Actions instance not set for this comment.");if(!this.dislike_command)throw new w("Dislike command not found.");if(this.is_disliked)throw new w("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(f(this,Ht))}async unlike(){if(!f(this,Ht))throw new w("Actions instance not set for this comment.");if(!this.unlike_command)throw new w("Unlike command not found.");if(!this.is_liked)throw new w("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(f(this,Ht))}async undislike(){if(!f(this,Ht))throw new w("Actions instance not set for this comment.");if(!this.undislike_command)throw new w("Undislike command not found.");if(!this.is_disliked)throw new w("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(f(this,Ht))}async reply(t){var c;if(!f(this,Ht))throw new w("Actions instance not set for this comment.");if(!this.reply_command)throw new w("Reply command not found.");let r=(c=this.reply_command.dialog)==null?void 0:c.as(rn);if(!r)throw new w("Reply dialog not found.");let n=r.reply_button;if(!n)throw new w("Reply button not found in the dialog.");if(!n.endpoint)throw new w("Reply button endpoint not found.");return n.endpoint.call(f(this,Ht),{commentText:t})}async translate(t){var x,b,g,T,I,C;if(!f(this,Ht))throw new w("Actions instance not set for this comment.");if(!this.content)throw new w("Comment content not found.",{comment_id:this.comment_id});let n={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:t},c=gk(22,n),u=await f(this,Ht).execute("comment/perform_comment_action",{action:c}),m=(b=(x=u.data.frameworkUpdates)==null?void 0:x.entityBatchUpdate)==null?void 0:b.mutations,h=(C=(I=(T=(g=m==null?void 0:m[0])==null?void 0:g.payload)==null?void 0:T.commentEntityPayload)==null?void 0:I.translatedContent)==null?void 0:C.content;return{...u,content:h}}setActions(t){S(this,Ht,t)}};Ht=new WeakMap,o(cb,"CommentView"),e(cb,"type","CommentView");var li=cb;var Ji,Gs,lp,Ck,lb=class lb extends a{constructor(t){super();E(this,lp);e(this,"comment");e(this,"replies");e(this,"comment_replies_data");e(this,"is_moderated_elq_comment");e(this,"has_replies");E(this,Ji);E(this,Gs);this.comment=p.parseItem(t.commentViewModel,li),this.comment_replies_data=p.parseItem(t.replies,sn),this.is_moderated_elq_comment=t.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}get has_continuation(){if(!this.replies)throw new w("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!f(this,Gs)}async getReplies(){var n;if(!f(this,Ji))throw new w("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new w("This comment has no replies.",this);let t=(n=this.comment_replies_data.contents)==null?void 0:n.firstOfType(X);if(!t)throw new w("Replies continuation not found.");let r=await t.endpoint.call(f(this,Ji),{parse:!0});if(!r.on_response_received_endpoints_memo)throw new w("Unexpected response.",r);return this.replies=P(this,lp,Ck).call(this,r.on_response_received_endpoints_memo),S(this,Gs,r.on_response_received_endpoints_memo.getType(X)[0]),this}async getContinuation(){var n;if(!this.replies)throw new w("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!f(this,Gs))throw new w("Continuation not found.");if(!f(this,Ji))throw new w("Actions instance not set for this thread.");let t=(n=f(this,Gs).button)==null?void 0:n.as(v);if(!t)throw new w('"Load more" button not found.');let r=await t.endpoint.call(f(this,Ji),{parse:!0});if(!r.on_response_received_endpoints_memo)throw new w("Unexpected response.",r);return this.replies=P(this,lp,Ck).call(this,r.on_response_received_endpoints_memo),S(this,Gs,r.on_response_received_endpoints_memo.getType(X)[0]),this}setActions(t){S(this,Ji,t)}};Ji=new WeakMap,Gs=new WeakMap,lp=new WeakSet,Ck=o(function(t){return $(t.getType(li).map(r=>(r.setActions(f(this,Ji)),r)))},"#getPatchedReplies"),o(lb,"CommentThread"),e(lb,"type","CommentThread");var pn=lb;var pb=class pb extends a{constructor(t){var r,n;super();e(this,"text");e(this,"color_pallette");e(this,"icon_type");this.text=new l(t.chipText),this.color_pallette={background_color:(r=t.chipColorPalette)==null?void 0:r.backgroundColor,foreground_title_color:(n=t.chipColorPalette)==null?void 0:n.foregroundTitleColor},Reflect.has(t,"chipIcon")&&Reflect.has(t.chipIcon,"iconType")&&(this.icon_type=t.chipIcon.iconType)}};o(pb,"PdgCommentChip"),e(pb,"type","PdgCommentChip");var pp=pb;var ub=class ub extends a{constructor(t){super();e(this,"custom_badge");e(this,"tooltip");this.custom_badge=y.fromResponse(t.customBadge),this.tooltip=t.tooltip}};o(ub,"SponsorCommentBadge"),e(ub,"type","SponsorCommentBadge");var up=ub;var mb=class mb extends a{constructor(t){super();e(this,"title");e(this,"channel_id");e(this,"thumbnail");e(this,"display_name");e(this,"video_count");e(this,"subscriber_count");e(this,"endpoint");e(this,"tv_banner");e(this,"menu");this.title=new l(t.title),this.channel_id=t.channelId,this.thumbnail=y.fromResponse(t.thumbnail),this.display_name=new l(t.displayName),this.video_count=new l(t.videoCountText),this.subscriber_count=new l(t.subscriberCountText),this.endpoint=new d(t.navigationEndpoint),this.tv_banner=y.fromResponse(t.tvBanner),this.menu=p.parseItem(t.menu,D)}};o(mb,"CompactChannel"),e(mb,"type","CompactChannel");var mp=mb;var fb=class fb extends a{constructor(t){super();e(this,"thumbnail");this.thumbnail=y.fromResponse(t.thumbnail)}};o(fb,"PlaylistCustomThumbnail"),e(fb,"type","PlaylistCustomThumbnail");var Zi=fb;var hb=class hb extends a{constructor(t){super();e(this,"thumbnail");this.thumbnail=y.fromResponse(t.thumbnail)}};o(hb,"PlaylistVideoThumbnail"),e(hb,"type","PlaylistVideoThumbnail");var ts=hb;var db=class db extends a{constructor(t){var r;super();e(this,"id");e(this,"title");e(this,"author");e(this,"thumbnails");e(this,"thumbnail_renderer");e(this,"video_count");e(this,"video_count_short");e(this,"first_videos");e(this,"share_url");e(this,"menu");e(this,"badges");e(this,"endpoint");e(this,"thumbnail_overlays");e(this,"view_playlist");this.id=t.playlistId,this.title=new l(t.title),this.author=(r=t.shortBylineText)!=null&&r.simpleText?new l(t.shortBylineText):new R(t.longBylineText,t.ownerBadges,null),this.thumbnails=y.fromResponse(t.thumbnail||{thumbnails:t.thumbnails.map(n=>n.thumbnails).flat(1)}),this.video_count=new l(t.thumbnailText),this.video_count_short=new l(t.videoCountShortText),this.first_videos=p.parseArray(t.videos),this.share_url=t.shareUrl||null,this.menu=p.parseItem(t.menu),this.badges=p.parseArray(t.ownerBadges),this.endpoint=new d(t.navigationEndpoint),this.thumbnail_overlays=p.parseArray(t.thumbnailOverlays),Reflect.has(t,"thumbnailRenderer")&&(this.thumbnail_renderer=p.parseItem(t.thumbnailRenderer,[ts,Zi])||void 0),Reflect.has(t,"viewPlaylistText")&&(this.view_playlist=new l(t.viewPlaylistText))}};o(db,"Playlist"),e(db,"type","Playlist");var de=db;var _b=class _b extends de{constructor(i){super(i)}};o(_b,"CompactMix"),e(_b,"type","CompactMix");var fp=_b;var xb=class xb extends a{constructor(t){var c;super();e(this,"id");e(this,"title");e(this,"top_metadata_items");e(this,"thumbnails");e(this,"thumbnail_overlays");e(this,"author");e(this,"duration");e(this,"endpoint");e(this,"badges");e(this,"use_vertical_poster");e(this,"menu");let r=((c=t.thumbnailOverlays.find(u=>u.thumbnailOverlayTimeStatusRenderer))==null?void 0:c.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=t.videoId,this.title=new l(t.title),this.top_metadata_items=new l(t.topMetadataItems),this.thumbnails=y.fromResponse(t.thumbnail),this.thumbnail_overlays=p.parseArray(t.thumbnailOverlays),this.author=new R(t.shortBylineText);let n=t.lengthText?new l(t.lengthText).toString():new l(r).toString();this.duration={text:n,seconds:Nt(n)},this.endpoint=new d(t.navigationEndpoint),this.badges=p.parseArray(t.badges),this.use_vertical_poster=t.useVerticalPoster,this.menu=p.parseItem(t.menu,D)}};o(xb,"CompactMovie"),e(xb,"type","CompactMovie");var hp=xb;var bb=class bb extends de{constructor(i){super(i)}};o(bb,"CompactPlaylist"),e(bb,"type","CompactPlaylist");var Nk=bb,WE=Nk;var yb=class yb extends a{constructor(t){super();e(this,"title");e(this,"description");e(this,"video_count");e(this,"endpoint");e(this,"thumbnail");this.title=new l(t.title),this.description=new l(t.description),this.video_count=new l(t.videoCountText),this.endpoint=new d(t.navigationEndpoint),this.thumbnail=y.fromResponse(t.thumbnail)}};o(yb,"CompactStation"),e(yb,"type","CompactStation");var dp=yb;var gb=class gb extends a{constructor(i){super()}};o(gb,"CompositeVideoPrimaryInfo"),e(gb,"type","CompositeVideoPrimaryInfo");var _p=gb;var wb=class wb extends a{constructor(t){super();e(this,"title");e(this,"confirm_button");e(this,"cancel_button");e(this,"dialog_messages");this.title=new l(t.title),this.confirm_button=p.parseItem(t.confirmButton,v),this.cancel_button=p.parseItem(t.cancelButton,v),this.dialog_messages=t.dialogMessages.map(r=>new l(r))}};o(wb,"ConfirmDialog"),e(wb,"type","ConfirmDialog");var xp=wb;var Tb=class Tb extends a{constructor(t){super();e(this,"metadata_rows");e(this,"delimiter");this.metadata_rows=t.metadataRows.map(r=>{var n;return{metadata_parts:(n=r.metadataParts)==null?void 0:n.map(c=>({text:c.text?l.fromAttributed(c.text):null,avatar_stack:p.parseItem(c.avatarStack,Oi),enable_truncation:t.enableTruncation})),badges:p.parseArray(r.badges,Fi)}}),this.delimiter=t.delimiter}};o(Tb,"ContentMetadataView"),e(Tb,"type","ContentMetadataView");var es=Tb;var vb=class vb extends a{constructor(t){super();e(this,"text");this.text=new l(t.text)}};o(vb,"Message"),e(vb,"type","Message");var _e=vb;var Ib=class Ib extends a{constructor(t){super();e(this,"availability_message");this.availability_message=p.parseItem(t.availabilityMessage,_e)}};o(Ib,"ConversationBar"),e(Ib,"type","ConversationBar");var bp=Ib;var kb=class kb extends a{constructor(t){super();e(this,"copy_button");e(this,"short_url");e(this,"style");this.copy_button=p.parseItem(t.copyButton,v),this.short_url=t.shortUrl,this.style=t.style}};o(kb,"CopyLink"),e(kb,"type","CopyLink");var is=kb;var Eb=class Eb extends a{constructor(t){super();e(this,"label");e(this,"placeholder_text");e(this,"disabled");e(this,"options");e(this,"dropdown_type");e(this,"id");this.label=new l(t.label),this.placeholder_text=new l(t.placeholderText),this.disabled=!!t.disabled,this.dropdown_type=t.type,this.id=t.id,Reflect.has(t,"options")&&(this.options=t.options.map(r=>{var n;return{title:new l(r.title),subtitle:new l(r.subtitle),leading_image:y.fromResponse(r.leadingImage),value:{privacy_status_value:(n=r.value)==null?void 0:n.privacyStatusValue},on_tap:new d(r.onTap),is_selected:!!r.isSelected}}))}};o(Eb,"DropdownView"),e(Eb,"type","DropdownView");var un=Eb;var Sb=class Sb extends a{constructor(t){super();e(this,"display_properties");e(this,"content_properties");e(this,"initial_state");e(this,"form_field_metadata");Reflect.has(t,"displayProperties")&&(this.display_properties={isMultiline:!!t.displayProperties.isMultiline,disableNewLines:!!t.displayProperties.disableNewLines}),Reflect.has(t,"contentProperties")&&(this.content_properties={labelText:t.contentProperties.labelText,placeholderText:t.contentProperties.placeholderText,maxCharacterCount:t.contentProperties.maxCharacterCount}),Reflect.has(t,"initialState")&&(this.initial_state={isFocused:!!t.initialState.isFocused}),Reflect.has(t,"formFieldMetadata")&&(this.form_field_metadata={formId:t.formFieldMetadata.formId,fieldId:t.formFieldMetadata.fieldId})}};o(Sb,"TextFieldView"),e(Sb,"type","TextFieldView");var mn=Sb;var Cb=class Cb extends a{constructor(t){super();e(this,"playlist_title");e(this,"playlist_visibility");e(this,"disable_playlist_collaborate");e(this,"create_playlist_params_collaboration_enabled");e(this,"create_playlist_params_collaboration_disabled");e(this,"video_ids");this.playlist_title=p.parseItem(t.playlistTitle,mn),this.playlist_visibility=p.parseItem(t.playlistVisibility,un),this.disable_playlist_collaborate=!!t.disablePlaylistCollaborate,this.create_playlist_params_collaboration_enabled=t.createPlaylistParamsCollaborationEnabled,this.create_playlist_params_collaboration_disabled=t.createPlaylistParamsCollaborationDisabled,this.video_ids=t.videoIds}};o(Cb,"CreatePlaylistDialogFormView"),e(Cb,"type","CreatePlaylistDialogFormView");var fn=Cb;var Nb=class Nb extends a{constructor(t){super();e(this,"avatar");e(this,"a11y_label");e(this,"renderer_context");this.avatar=p.parseItem(t.avatar,He),this.a11y_label=t.a11yLabel,this.renderer_context=new Lt(t.rendererContext)}};o(Nb,"DecoratedAvatarView"),e(Nb,"type","DecoratedAvatarView");var ss=Nb;var Ab=class Ab extends a{constructor(t){super();e(this,"time_range_start_millis");e(this,"marker_duration_millis");e(this,"heat_marker_intensity_score_normalized");this.time_range_start_millis=Number.parseInt(t.startMillis,10),this.marker_duration_millis=Number.parseInt(t.durationMillis,10),this.heat_marker_intensity_score_normalized=t.intensityScoreNormalized}};o(Ab,"HeatMarker"),e(Ab,"type","HeatMarker");var rs=Ab;var Pb=class Pb extends a{constructor(t){super();e(this,"visible_time_range_start_millis");e(this,"visible_time_range_end_millis");e(this,"decoration_time_millis");e(this,"label");e(this,"icon");this.visible_time_range_start_millis=t.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=t.visibleTimeRangeEndMillis,this.decoration_time_millis=t.decorationTimeMillis,this.label=new l(t.label),this.icon=t.icon}};o(Pb,"TimedMarkerDecoration"),e(Pb,"type","TimedMarkerDecoration");var os=Pb;var Rb=class Rb extends a{constructor(t){super();e(this,"max_height_dp");e(this,"min_height_dp");e(this,"show_hide_animation_duration_millis");e(this,"heat_markers");e(this,"heat_markers_decorations");this.max_height_dp=t.maxHeightDp,this.min_height_dp=t.minHeightDp,this.show_hide_animation_duration_millis=t.showHideAnimationDurationMillis,this.heat_markers=p.parseArray(t.heatMarkers,rs),this.heat_markers_decorations=p.parseArray(t.heatMarkersDecorations,os)}};o(Rb,"Heatmap"),e(Rb,"type","Heatmap");var ns=Rb;var Mb=class Mb extends a{constructor(t){super();e(this,"marker_key");e(this,"value");this.marker_key=t.key,this.value={},Reflect.has(t,"value")&&(Reflect.has(t.value,"heatmap")&&(this.value.heatmap=p.parseItem(t.value.heatmap,ns)),Reflect.has(t.value,"chapters")&&(this.value.chapters=p.parseArray(t.value.chapters,Go)))}};o(Mb,"Marker"),e(Mb,"type","Marker");var Ak=Mb,Db=class Db extends a{constructor(t){var r;super();e(this,"markers_map");this.markers_map=$(((r=t.markersMap)==null?void 0:r.map(n=>new Ak(n)))||[])}};o(Db,"MultiMarkersPlayerBar"),e(Db,"type","MultiMarkersPlayerBar");var hn=Db;var Bb=class Bb extends a{constructor(t){super();e(this,"player_bar");e(this,"player_bar_action_button");this.player_bar=p.parseItem(t.playerBar,hn),this.player_bar_action_button=p.parseItem(t.playerBarActionButton,v)}};o(Bb,"DecoratedPlayerBar"),e(Bb,"type","DecoratedPlayerBar");var dn=Bb;var Lb=class Lb extends a{constructor(t){super();e(this,"title");e(this,"description");e(this,"endpoint");e(this,"large_form_factor_background_thumbnail");e(this,"small_form_factor_background_thumbnail");e(this,"scrim_color_values");e(this,"min_panel_display_duration_ms");e(this,"min_video_play_duration_ms");e(this,"scrim_duration");e(this,"metadata_order");e(this,"panel_layout");this.title=new l(t.title),this.description=new l(t.description),this.endpoint=new d(t.navigationEndpoint),this.large_form_factor_background_thumbnail=p.parseItem(t.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=p.parseItem(t.smallFormFactorBackgroundThumbnail),this.scrim_color_values=t.scrimColorValues,this.min_panel_display_duration_ms=t.minPanelDisplayDurationMs,this.min_video_play_duration_ms=t.minVideoPlayDurationMs,this.scrim_duration=t.scrimDuration,this.metadata_order=t.metadataOrder,this.panel_layout=t.panelLayout}};o(Lb,"DefaultPromoPanel"),e(Lb,"type","DefaultPromoPanel");var yp=Lb;var Ob=class Ob extends a{constructor(t){var r,n,c,u,m,h;super();e(this,"description");e(this,"max_lines");e(this,"truncation_text");e(this,"always_show_truncation_text");e(this,"more_endpoint");e(this,"renderer_context");if(Reflect.has(t,"description")&&(this.description=l.fromAttributed(t.description)),Reflect.has(t,"maxLines")&&(this.max_lines=parseInt(t.maxLines)),Reflect.has(t,"truncationText")&&(this.truncation_text=l.fromAttributed(t.truncationText)),this.always_show_truncation_text=!!t.alwaysShowTruncationText,(c=(n=(r=t.rendererContext.commandContext)==null?void 0:r.onTap)==null?void 0:n.innertubeCommand)!=null&&c.showEngagementPanelEndpoint){let x=(h=(m=(u=t.rendererContext.commandContext)==null?void 0:u.onTap)==null?void 0:m.innertubeCommand)==null?void 0:h.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:p.parseItem(x.engagementPanel,ze),engagement_panel_popup_type:x.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:x.identifier.surface,tag:x.identifier.tag}}}}this.renderer_context=new Lt(t.rendererContext)}};o(Ob,"DescriptionPreviewView"),e(Ob,"type","DescriptionPreviewView");var _n=Ob;var Yb=class Yb extends a{constructor(t){super();e(this,"headline");this.headline=l.fromAttributed(t.headline)}};o(Yb,"DialogHeaderView"),e(Yb,"type","DialogHeaderView");var xn=Yb;var Vb=class Vb extends a{constructor(t){super();e(this,"primary_button");e(this,"secondary_button");e(this,"should_hide_divider");this.primary_button=p.parseItem(t.primaryButton,K),this.secondary_button=p.parseItem(t.secondaryButton,K),this.should_hide_divider=!!t.shouldHideDivider}};o(Vb,"PanelFooterView"),e(Vb,"type","PanelFooterView");var as=Vb;var Ub=class Ub extends a{constructor(t){super();e(this,"panel_footer");e(this,"form_id");e(this,"container_type");this.panel_footer=p.parseItem(t.panelFooter,as),this.form_id=t.formId,this.container_type=t.containerType}};o(Ub,"FormFooterView"),e(Ub,"type","FormFooterView");var bn=Ub;var gp,Pk,Fb=class Fb extends a{constructor(t){super();E(this,gp);e(this,"subscribe_button_content");e(this,"unsubscribe_button_content");e(this,"disable_notification_bell");e(this,"button_style");e(this,"is_signed_out");e(this,"background_style");e(this,"disable_subscribe_button");e(this,"on_show_subscription_options");e(this,"channel_id");e(this,"enable_subscribe_button_post_click_animation");e(this,"bell_accessiblity_data");this.subscribe_button_content=P(this,gp,Pk).call(this,t.subscribeButtonContent),this.unsubscribe_button_content=P(this,gp,Pk).call(this,t.unsubscribeButtonContent),this.disable_notification_bell=t.disableNotificationBell,this.button_style={unsubscribed_state_style:t.buttonStyle.unsubscribedStateStyle,subscribed_state_style:t.buttonStyle.subscribedStateStyle},this.is_signed_out=t.isSignedOut,this.background_style=t.backgroundStyle,this.disable_subscribe_button=t.disableSubscribeButton,this.on_show_subscription_options=new d(t.onShowSubscriptionOptions),this.channel_id=t.channelId,this.enable_subscribe_button_post_click_animation=t.enableSubscribeButtonPostClickAnimation,this.bell_accessiblity_data={off_label:t.bellAccessibilityData.offLabel,all_label:t.bellAccessibilityData.allLabel,occasional_label:t.bellAccessibilityData.occasionalLabel,disabled_label:t.bellAccessibilityData.disabledLabel}}};gp=new WeakSet,Pk=o(function(t){return{button_text:t.buttonText,accessibility_text:t.accessibilityText,image_name:t.imageName,subscribe_state_subscribed:t.subscribeState.subscribed,endpoint:new d(t.onTapCommand)}},"#parseButtonContent"),o(Fb,"SubscribeButtonView"),e(Fb,"type","SubscribeButtonView");var yn=Fb;var Wb=class Wb extends a{constructor(t){super();e(this,"title");e(this,"subtitle");e(this,"leading_accessory");e(this,"renderer_context");e(this,"trailing_buttons");this.title=l.fromAttributed(t.title),this.subtitle=l.fromAttributed(t.subtitle),this.leading_accessory=p.parseItem(t.leadingAccessory,He),this.renderer_context=new Lt(t.rendererContext),"trailingButtons"in t&&(this.trailing_buttons=p.parseArray(t.trailingButtons.buttons,yn))}};o(Wb,"ListItemView"),e(Wb,"type","ListItemView");var gn=Wb;var jb=class jb extends a{constructor(t){super();e(this,"items");this.items=p.parseArray(t.listItems,gn)}};o(jb,"ListView"),e(jb,"type","ListView");var wn=jb;var Hb=class Hb extends a{constructor(t){super();e(this,"header");e(this,"footer");e(this,"custom_content");this.header=p.parseItem(t.header,xn),this.footer=p.parseItem(t.footer,[bn,as]),this.custom_content=p.parseItem(t.customContent,[fn,wn])}};o(Hb,"DialogView"),e(Hb,"type","DialogView");var wp=Hb;var $b=class $b extends a{constructor(t){super();e(this,"text");e(this,"corrected_query");e(this,"endpoint");this.text=new l(t.didYouMean).toString(),this.corrected_query=new l(t.correctedQuery),this.endpoint=new d(t.navigationEndpoint||t.correctedQueryEndpoint)}};o($b,"DidYouMean"),e($b,"type","DidYouMean");var Tp=$b;var Gb=class Gb extends a{constructor(t){super();e(this,"title");e(this,"subtitle");this.title=new l(t.title),this.subtitle=new l(t.subtitle)}};o(Gb,"DismissableDialogContentSection"),e(Gb,"type","DismissableDialogContentSection");var Tn=Gb;var qb=class qb extends a{constructor(t){super();e(this,"title");e(this,"sections");e(this,"metadata");e(this,"display_style");this.title=t.title,this.sections=p.parseArray(t.sections,Tn),this.metadata=p.parseItem(t.metadata),this.display_style=t.displayStyle}};o(qb,"DismissableDialog"),e(qb,"type","DismissableDialog");var vp=qb;var Kb=class Kb extends a{constructor(t){super();e(this,"text");e(this,"max_lines");this.text=l.fromAttributed(t.text),this.max_lines=parseInt(t.maxLines)}};o(Kb,"DynamicTextView"),e(Kb,"type","DynamicTextView");var vn=Kb;var Ip=class Ip extends a{constructor(t){var r;super();e(this,"text");e(this,"properties");e(this,"child_elements");Reflect.has(t,"type")&&Reflect.has(t.type,"textType")&&(this.text=(r=t.type.textType.text)==null?void 0:r.content),this.properties=t.properties,Reflect.has(t,"childElements")&&(this.child_elements=t.childElements.map(n=>new Ip(n)))}};o(Ip,"ChildElement"),e(Ip,"type","ChildElement");var In=Ip;var kp=class kp extends a{constructor(t){var n;super();e(this,"model");e(this,"child_elements");if(Reflect.has(t,"elementRenderer"))return p.parseItem(t,kp);let r=t.newElement.type.componentType;this.model=p.parseItem(r==null?void 0:r.model),Reflect.has(t,"newElement")&&Reflect.has(t.newElement,"childElements")&&(this.child_elements=$(((n=t.newElement.childElements)==null?void 0:n.map(c=>new In(c)))||[]))}};o(kp,"Element"),e(kp,"type","Element");var kn=kp;var zb=class zb extends a{constructor(t){super();e(this,"title");e(this,"first_option");e(this,"menu");this.title=new l(t.title),this.first_option=p.parseItem(t.firstOption),this.menu=p.parseItem(t.menu,D)}};o(zb,"EmergencyOnebox"),e(zb,"type","EmergencyOnebox");var Ep=zb;var Xb=class Xb extends a{constructor(t){super();e(this,"category_id");e(this,"title");e(this,"emoji_ids");e(this,"image_loading_lazy");e(this,"category_type");this.category_id=t.categoryId,this.title=new l(t.title),this.emoji_ids=t.emojiIds,this.image_loading_lazy=!!t.imageLoadingLazy,this.category_type=t.categoryType}};o(Xb,"EmojiPickerCategory"),e(Xb,"type","EmojiPickerCategory");var Sp=Xb;var Qb=class Qb extends a{constructor(t){var r;super();e(this,"category_id");e(this,"icon_type");e(this,"tooltip");this.category_id=t.categoryId,Reflect.has(t,"icon")&&(this.icon_type=(r=t.icon)==null?void 0:r.iconType),this.tooltip=t.tooltip}};o(Qb,"EmojiPickerCategoryButton"),e(Qb,"type","EmojiPickerCategoryButton");var Cp=Qb;var Jb=class Jb extends a{constructor(t){super();e(this,"category_id");e(this,"title");e(this,"upsell");e(this,"emoji_tooltip");e(this,"endpoint");e(this,"emoji_ids");this.category_id=t.categoryId,this.title=new l(t.title),this.upsell=new l(t.upsell),this.emoji_tooltip=t.emojiTooltip,this.endpoint=new d(t.command),this.emoji_ids=t.emojiIds}};o(Jb,"EmojiPickerUpsellCategory"),e(Jb,"type","EmojiPickerUpsellCategory");var Np=Jb;var vN="playlist/get_add_to_playlist",Ne,Zb=class Zb extends a{constructor(t){super();E(this,Ne);S(this,Ne,t)}getApiPath(){return vN}buildRequest(){let t={};return t.videoIds=f(this,Ne).videoIds?f(this,Ne).videoIds:[f(this,Ne).videoId],f(this,Ne).playlistId&&(t.playlistId=f(this,Ne).playlistId),f(this,Ne).params&&(t.params=f(this,Ne).params),t.excludeWatchLater=!!f(this,Ne).excludeWatchLater,t}};Ne=new WeakMap,o(Zb,"AddToPlaylistServiceEndpoint"),e(Zb,"type","AddToPlaylistServiceEndpoint");var En=Zb;var ty=class ty extends En{constructor(i){super(i)}};o(ty,"AddToPlaylistEndpoint"),e(ty,"type","AddToPlaylistEndpoint");var Ap=ty;var IN="browse",Et,ey=class ey extends a{constructor(t){super();E(this,Et);S(this,Et,t)}getApiPath(){return IN}buildRequest(){let t={};return f(this,Et).browseId&&(t.browseId=f(this,Et).browseId),f(this,Et).params&&(t.params=f(this,Et).params),f(this,Et).query&&(t.query=f(this,Et).query),f(this,Et).browseId==="FEsubscriptions"&&(t.subscriptionSettingsState=f(this,Et).subscriptionSettingsState||"MY_SUBS_SETTINGS_STATE_LAYOUT_FORMAT_LIST"),f(this,Et).browseId==="SPaccount_playback"&&(t.formData=f(this,Et).formData||{accountSettingsFormData:{flagCaptionsDefaultOff:!1,flagAutoCaptionsDefaultOn:!1,flagDisableInlinePreview:!1,flagAudioDescriptionDefaultOn:!1}}),f(this,Et).browseId==="FEwhat_to_watch"&&(f(this,Et).browseRequestSupportedMetadata&&(t.browseRequestSupportedMetadata=f(this,Et).browseRequestSupportedMetadata),f(this,Et).inlineSettingStatus&&(t.inlineSettingStatus=f(this,Et).inlineSettingStatus)),t}};Et=new WeakMap,o(ey,"BrowseEndpoint"),e(ey,"type","BrowseEndpoint");var Pp=ey;var kN="comment/create_comment",Tt,iy=class iy extends a{constructor(t){super();E(this,Tt);S(this,Tt,t)}getApiPath(){return kN}buildRequest(){let t={};if(f(this,Tt).createCommentParams&&(t.createCommentParams=f(this,Tt).createCommentParams),f(this,Tt).commentText&&(t.commentText=f(this,Tt).commentText),f(this,Tt).attachedVideoId?t.videoAttachment={videoId:f(this,Tt).attachedVideoId}:f(this,Tt).pollOptions?t.pollAttachment={choices:f(this,Tt).pollOptions}:f(this,Tt).imageBlobId?t.imageAttachment={encryptedBlobId:f(this,Tt).imageBlobId}:f(this,Tt).sharedPostId&&(t.sharedPostAttachment={postId:f(this,Tt).sharedPostId}),f(this,Tt).accessRestrictions&&typeof f(this,Tt).accessRestrictions=="number"){let r=f(this,Tt).accessRestrictions===1?"RESTRICTION_TYPE_EVERYONE":"RESTRICTION_TYPE_SPONSORS_ONLY";t.accessRestrictions={restriction:r}}return f(this,Tt).botguardResponse&&(t.botguardResponse=f(this,Tt).botguardResponse),t}};Tt=new WeakMap,o(iy,"CreateCommentEndpoint"),e(iy,"type","CreateCommentEndpoint");var Rp=iy;var EN="playlist/create",$t,sy=class sy extends a{constructor(t){super();E(this,$t);S(this,$t,t)}getApiPath(){return EN}buildRequest(){let t={};return f(this,$t).title&&(t.title=f(this,$t).title),f(this,$t).privacyStatus&&(t.privacyStatus=f(this,$t).privacyStatus),f(this,$t).description&&(t.description=f(this,$t).description),f(this,$t).videoIds&&(t.videoIds=f(this,$t).videoIds),f(this,$t).params&&(t.params=f(this,$t).params),f(this,$t).sourcePlaylistId&&(t.sourcePlaylistId=f(this,$t).sourcePlaylistId),t}};$t=new WeakMap,o(sy,"CreatePlaylistServiceEndpoint"),e(sy,"type","CreatePlaylistServiceEndpoint");var Mp=sy;var SN="playlist/delete",Gc,ry=class ry extends a{constructor(t){super();E(this,Gc);S(this,Gc,t)}getApiPath(){return SN}buildRequest(){let t={};return f(this,Gc).playlistId&&(t.playlistId=f(this,Gc).sourcePlaylistId),t}};Gc=new WeakMap,o(ry,"DeletePlaylistEndpoint"),e(ry,"type","DeletePlaylistEndpoint");var Dp=ry;var CN="feedback",pi,oy=class oy extends a{constructor(t){super();E(this,pi);S(this,pi,t)}getApiPath(){return CN}buildRequest(){let t={};return f(this,pi).feedbackToken&&(t.feedbackTokens=[f(this,pi).feedbackToken]),f(this,pi).cpn&&(t.feedbackContext={cpn:f(this,pi).cpn}),t.isFeedbackTokenUnencrypted=!!f(this,pi).isFeedbackTokenUnencrypted,t.shouldMerge=!!f(this,pi).shouldMerge,t}};pi=new WeakMap,o(oy,"FeedbackEndpoint"),e(oy,"type","FeedbackEndpoint");var Bp=oy;var NN="account/accounts_list",ht,ny=class ny extends a{constructor(t){super();E(this,ht);S(this,ht,t)}getApiPath(){return NN}buildRequest(){let t={};return f(this,ht).requestType&&(t.requestType=f(this,ht).requestType,(f(this,ht).requestType==="ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER"||f(this,ht).requestType==="ACCOUNTS_LIST_REQUEST_TYPE_IDENTITY_PROMPT")&&f(this,ht).nextUrl&&(t.nextNavendpoint={urlEndpoint:{url:f(this,ht).nextUrl}})),f(this,ht).channelSwitcherQuery&&(t.channelSwitcherQuery=f(this,ht).channelSwitcherQuery),f(this,ht).triggerChannelCreation&&(t.triggerChannelCreation=f(this,ht).triggerChannelCreation),f(this,ht).contentOwnerConfig&&f(this,ht).contentOwnerConfig.externalContentOwnerId&&(t.contentOwnerConfig=f(this,ht).contentOwnerConfig),f(this,ht).obfuscatedSelectedGaiaId&&(t.obfuscatedSelectedGaiaId=f(this,ht).obfuscatedSelectedGaiaId),f(this,ht).selectedSerializedDelegationContext&&(t.selectedSerializedDelegationContext=f(this,ht).selectedSerializedDelegationContext),f(this,ht).callCircumstance&&(t.callCircumstance=f(this,ht).callCircumstance),t}};ht=new WeakMap,o(ny,"GetAccountsListInnertubeEndpoint"),e(ny,"type","GetAccountsListInnertubeEndpoint");var Lp=ny;var ay=class ay extends a{constructor(t){super();e(this,"panel_identifier");this.panel_identifier=t.panelIdentifier}};o(ay,"HideEngagementPanelEndpoint"),e(ay,"type","HideEngagementPanelEndpoint");var Op=ay;var AN="like/like",PN="like/dislike",RN="like/removelike",Ae,cy=class cy extends a{constructor(t){super();E(this,Ae);S(this,Ae,t)}getApiPath(){return f(this,Ae).status==="DISLIKE"?PN:f(this,Ae).status==="INDIFFERENT"?RN:AN}buildRequest(){let t={};f(this,Ae).target&&(t.target=f(this,Ae).target);let r=this.getParams();return r&&(t.params=r),t}getParams(){switch(f(this,Ae).status){case"LIKE":return f(this,Ae).likeParams;case"DISLIKE":return f(this,Ae).dislikeParams;case"INDIFFERENT":return f(this,Ae).removeLikeParams;default:return}}};Ae=new WeakMap,o(cy,"LikeEndpoint"),e(cy,"type","LikeEndpoint");var Yp=cy;var MN="live_chat/get_item_context_menu",qc,ly=class ly extends a{constructor(t){super();E(this,qc);S(this,qc,t)}getApiPath(){return MN}buildRequest(){let t={};return f(this,qc).params&&(t.params=f(this,qc).params),t}};qc=new WeakMap,o(ly,"LiveChatItemContextMenuEndpoint"),e(ly,"type","LiveChatItemContextMenuEndpoint");var Vp=ly;var DN="notification/modify_channel_preference",qs,py=class py extends a{constructor(t){super();E(this,qs);S(this,qs,t)}getApiPath(){return DN}buildRequest(){let t={};return f(this,qs).params&&(t.params=f(this,qs).params),f(this,qs).secondaryParams&&(t.secondaryParams=f(this,qs).secondaryParams),t}};qs=new WeakMap,o(py,"ModifyChannelNotificationPreferenceEndpoint"),e(py,"type","ModifyChannelNotificationPreferenceEndpoint");var Up=py;var BN="comment/perform_comment_action",Ks,uy=class uy extends a{constructor(t){super();E(this,Ks);S(this,Ks,t)}getApiPath(){return BN}buildRequest(){let t={};return f(this,Ks).actions&&(t.actions=f(this,Ks).actions),f(this,Ks).action&&(t.actions=[f(this,Ks).action]),t}};Ks=new WeakMap,o(uy,"PerformCommentActionEndpoint"),e(uy,"type","PerformCommentActionEndpoint");var Fp=uy;var LN="browse/edit_playlist",ui,my=class my extends a{constructor(t){super();E(this,ui);S(this,ui,t)}getApiPath(){return LN}buildRequest(){let t={};return f(this,ui).actions&&(t.actions=f(this,ui).actions),f(this,ui).playlistId&&(t.playlistId=f(this,ui).playlistId),f(this,ui).params&&(t.params=f(this,ui).params),t}};ui=new WeakMap,o(my,"PlaylistEditEndpoint"),e(my,"type","PlaylistEditEndpoint");var Wp=my;var ON="player",_t,fy=class fy extends a{constructor(t){super();E(this,_t);S(this,_t,t)}getApiPath(){return ON}buildRequest(){let t={};return f(this,_t).videoId&&(t.videoId=f(this,_t).videoId),f(this,_t).playlistId&&(t.playlistId=f(this,_t).playlistId),(f(this,_t).index!==void 0||f(this,_t).playlistIndex!==void 0)&&(t.playlistIndex=f(this,_t).index||f(this,_t).playlistIndex),(f(this,_t).playerParams||f(this,_t).params)&&(t.params=f(this,_t).playerParams||f(this,_t).params),f(this,_t).startTimeSeconds&&(t.startTimeSecs=f(this,_t).startTimeSeconds),f(this,_t).overrideMutedAtStart&&(t.overrideMutedAtStart=f(this,_t).overrideMutedAtStart),t.racyCheckOk=!!f(this,_t).racyCheckOk,t.contentCheckOk=!!f(this,_t).contentCheckOk,t}};_t=new WeakMap,o(fy,"WatchEndpoint"),e(fy,"type","WatchEndpoint");var Sn=fy;var hy=class hy extends Sn{constructor(i){super(i)}};o(hy,"PrefetchWatchCommand"),e(hy,"type","PrefetchWatchCommand");var jp=hy;var YN="reel/reel_item_watch",Vt,dy=class dy extends a{constructor(t){super();E(this,Vt);S(this,Vt,t)}getApiPath(){return YN}buildRequest(){let t={};return f(this,Vt).videoId&&(t.playerRequest={videoId:f(this,Vt).videoId}),t.playerRequest&&(f(this,Vt).playerParams&&(t.playerRequest.params=f(this,Vt).playerParams),f(this,Vt).racyCheckOk&&(t.playerRequest.racyCheckOk=!!f(this,Vt).racyCheckOk),f(this,Vt).contentCheckOk&&(t.playerRequest.contentCheckOk=!!f(this,Vt).contentCheckOk)),f(this,Vt).params&&(t.params=f(this,Vt).params),f(this,Vt).inputType&&(t.inputType=f(this,Vt).inputType),t.disablePlayerResponse=!!f(this,Vt).disablePlayerResponse,t}};Vt=new WeakMap,o(dy,"ReelWatchEndpoint"),e(dy,"type","ReelWatchEndpoint");var Hp=dy;var VN="search",Pe,_y=class _y extends a{constructor(t){super();E(this,Pe);S(this,Pe,t)}getApiPath(){return VN}buildRequest(){let t={};return f(this,Pe).query&&(t.query=f(this,Pe).query),f(this,Pe).params&&(t.params=f(this,Pe).params),f(this,Pe).webSearchboxStatsUrl&&(t.webSearchboxStatsUrl=f(this,Pe).webSearchboxStatsUrl),f(this,Pe).suggestStats&&(t.suggestStats=f(this,Pe).suggestStats),t}};Pe=new WeakMap,o(_y,"SearchEndpoint"),e(_y,"type","SearchEndpoint");var $p=_y;var UN="share/get_share_panel",zs,xy=class xy extends a{constructor(t){super();E(this,zs);S(this,zs,t)}getApiPath(){return UN}buildRequest(){let t={};return f(this,zs).serializedShareEntity&&(t.serializedSharedEntity=f(this,zs).serializedShareEntity),f(this,zs).clientParams&&(t.clientParams=f(this,zs).clientParams),t}};zs=new WeakMap,o(xy,"ShareEntityServiceEndpoint"),e(xy,"type","ShareEntityServiceEndpoint");var cs=xy;var by=class by extends cs{constructor(i){super(i)}};o(by,"ShareEndpoint"),e(by,"type","ShareEndpoint");var Gp=by;var yy=class yy extends cs{constructor(i){super(i)}};o(yy,"ShareEntityEndpoint"),e(yy,"type","ShareEntityEndpoint");var qp=yy;var gy=class gy extends a{constructor(t){super();e(this,"panel_identifier");e(this,"source_panel_identifier");this.panel_identifier=t.panelIdentifier,this.source_panel_identifier=t.sourcePanelIdentifier}};o(gy,"ShowEngagementPanelEndpoint"),e(gy,"type","ShowEngagementPanelEndpoint");var Kp=gy;var wy=class wy extends a{constructor(t){super();e(this,"actions");e(this,"signal");Array.isArray(t.actions)&&(this.actions=p.parseArray(t.actions.map(r=>(delete r.clickTrackingParams,r)))),this.signal=t.signal}};o(wy,"SignalServiceEndpoint"),e(wy,"type","SignalServiceEndpoint");var zp=wy;var FN="subscription/subscribe",oe,Ty=class Ty extends a{constructor(t){super();E(this,oe);S(this,oe,t)}getApiPath(){return FN}buildRequest(){let t={};return f(this,oe).channelIds&&(t.channelIds=f(this,oe).channelIds),f(this,oe).siloName&&(t.siloName=f(this,oe).siloName),f(this,oe).params&&(t.params=f(this,oe).params),f(this,oe).botguardResponse&&(t.botguardResponse=f(this,oe).botguardResponse),f(this,oe).feature&&(t.clientFeature=f(this,oe).feature),t}};oe=new WeakMap,o(Ty,"SubscribeEndpoint"),e(Ty,"type","SubscribeEndpoint");var Xp=Ty;var WN="subscription/unsubscribe",mi,vy=class vy extends a{constructor(t){super();E(this,mi);S(this,mi,t)}getApiPath(){return WN}buildRequest(){let t={};return f(this,mi).channelIds&&(t.channelIds=f(this,mi).channelIds),f(this,mi).siloName&&(t.siloName=f(this,mi).siloName),f(this,mi).params&&(t.params=f(this,mi).params),t}};mi=new WeakMap,o(vy,"UnsubscribeEndpoint"),e(vy,"type","UnsubscribeEndpoint");var Qp=vy;var jN="next",At,Iy=class Iy extends a{constructor(t){super();E(this,At);S(this,At,t)}getApiPath(){return jN}buildRequest(){let t={};return f(this,At).videoId&&(t.videoId=f(this,At).videoId),f(this,At).playlistId&&(t.playlistId=f(this,At).playlistId),(f(this,At).index!==void 0||f(this,At).playlistIndex!==void 0)&&(t.playlistIndex=f(this,At).index||f(this,At).playlistIndex),(f(this,At).playerParams||f(this,At).params)&&(t.params=f(this,At).playerParams||f(this,At).params),t.racyCheckOk=!!f(this,At).racyCheckOk,t.contentCheckOk=!!f(this,At).contentCheckOk,t}};At=new WeakMap,o(Iy,"WatchNextEndpoint"),e(Iy,"type","WatchNextEndpoint");var Jp=Iy;var ky=class ky extends a{constructor(t){super();e(this,"elements");e(this,"start_ms");this.elements=p.parseArray(t.elements),this.start_ms=t.startMs}};o(ky,"Endscreen"),e(ky,"type","Endscreen");var Cn=ky;var Ey=class Ey extends a{constructor(t){super();e(this,"style");e(this,"title");e(this,"endpoint");e(this,"image");e(this,"icon");e(this,"metadata");e(this,"call_to_action");e(this,"hovercard_button");e(this,"is_subscribe");e(this,"playlist_length");e(this,"thumbnail_overlays");e(this,"left");e(this,"top");e(this,"width");e(this,"aspect_ratio");e(this,"start_ms");e(this,"end_ms");e(this,"id");this.style=t.style,this.title=new l(t.title),this.endpoint=new d(t.endpoint),Reflect.has(t,"image")&&(this.image=y.fromResponse(t.image)),Reflect.has(t,"icon")&&(this.icon=y.fromResponse(t.icon)),Reflect.has(t,"metadata")&&(this.metadata=new l(t.metadata)),Reflect.has(t,"callToAction")&&(this.call_to_action=new l(t.callToAction)),Reflect.has(t,"hovercardButton")&&(this.hovercard_button=p.parseItem(t.hovercardButton)),Reflect.has(t,"isSubscribe")&&(this.is_subscribe=!!t.isSubscribe),Reflect.has(t,"playlistLength")&&(this.playlist_length=new l(t.playlistLength)),Reflect.has(t,"thumbnailOverlays")&&(this.thumbnail_overlays=p.parseArray(t.thumbnailOverlays)),this.left=parseFloat(t.left),this.width=parseFloat(t.width),this.top=parseFloat(t.top),this.aspect_ratio=parseFloat(t.aspectRatio),this.start_ms=parseFloat(t.startMs),this.end_ms=parseFloat(t.endMs),this.id=t.id}};o(Ey,"EndscreenElement"),e(Ey,"type","EndscreenElement");var Zp=Ey;var Sy=class Sy extends a{constructor(t){super();e(this,"id");e(this,"title");e(this,"author");e(this,"endpoint");e(this,"thumbnails");e(this,"video_count");this.id=t.playlistId,this.title=new l(t.title),this.author=new l(t.longBylineText),this.endpoint=new d(t.navigationEndpoint),this.thumbnails=y.fromResponse(t.thumbnail),this.video_count=new l(t.videoCountText)}};o(Sy,"EndScreenPlaylist"),e(Sy,"type","EndScreenPlaylist");var Nn=Sy;var Cy=class Cy extends a{constructor(t){super();e(this,"id");e(this,"title");e(this,"thumbnails");e(this,"thumbnail_overlays");e(this,"author");e(this,"endpoint");e(this,"short_view_count");e(this,"badges");e(this,"duration");this.id=t.videoId,this.title=new l(t.title),this.thumbnails=y.fromResponse(t.thumbnail),this.thumbnail_overlays=p.parseArray(t.thumbnailOverlays),this.author=new R(t.shortBylineText,t.ownerBadges),this.endpoint=new d(t.navigationEndpoint),this.short_view_count=new l(t.shortViewCountText),this.badges=p.parseArray(t.badges),this.duration={text:new l(t.lengthText).toString(),seconds:t.lengthInSeconds}}};o(Cy,"EndScreenVideo"),e(Cy,"type","EndScreenVideo");var An=Cy;var Ny=class Ny extends a{constructor(t){super();e(this,"title");e(this,"endpoint");e(this,"selected");e(this,"content");this.title=t.title,this.endpoint=new d(t.endpoint),this.selected=t.selected,this.content=p.parseItem(t.content)}};o(Ny,"ExpandableTab"),e(Ny,"type","ExpandableTab");var fi=Ny;var Ay=class Ay extends a{constructor(t){super();e(this,"items");this.items=p.parseArray(t.items)}get contents(){return this.items}};o(Ay,"ExpandedShelfContents"),e(Ay,"type","ExpandedShelfContents");var tu=Ay;var Py=class Py extends a{constructor(t){super();e(this,"dialog_message");e(this,"confirm_label");this.dialog_message=new l(t.dialogMessage),this.confirm_label=new l(t.confirmLabel)}};o(Py,"FancyDismissibleDialog"),e(Py,"type","FancyDismissibleDialog");var eu=Py;var Ry=class Ry extends a{constructor(t){super();e(this,"contents");this.contents=p.parseArray(t.contents,Yt)}};o(Ry,"FeedFilterChipBar"),e(Ry,"type","FeedFilterChipBar");var ne=Ry;var My=class My extends a{constructor(t){super();e(this,"title");e(this,"subtitle");e(this,"endpoint");e(this,"apply_modernized_style");e(this,"trim_style");e(this,"background_style");this.title=new l(t.title),this.subtitle=new l(t.subtitle),this.endpoint=new d(t.impressionEndpoint),this.apply_modernized_style=t.applyModernizedStyle,this.trim_style=t.trimStyle,this.background_style=t.backgroundStyle}};o(My,"FeedNudge"),e(My,"type","FeedNudge");var iu=My;var Dy=class Dy extends a{constructor(t){super();e(this,"title");this.title=new l(t.title)}};o(Dy,"FeedTabbedHeader"),e(Dy,"type","FeedTabbedHeader");var Pn=Dy;var By=class By extends a{constructor(t){super();e(this,"title");e(this,"box_art");e(this,"box_art_overlay_text");e(this,"endpoint");e(this,"is_official_box_art");this.title=new l(t.title),this.box_art=y.fromResponse(t.boxArt),this.box_art_overlay_text=new l(t.boxArtOverlayText),this.endpoint=new d(t.endpoint),this.is_official_box_art=!!t.isOfficialBoxArt}};o(By,"GameDetails"),e(By,"type","GameDetails");var su=By;var Ly=class Ly extends a{constructor(t){var r,n,c;super();e(this,"items");e(this,"is_collapsible");e(this,"visible_row_count");e(this,"target_id");e(this,"continuation");e(this,"header");this.items=p.parseArray(t.items),Reflect.has(t,"header")&&(this.header=p.parseItem(t.header)),Reflect.has(t,"isCollapsible")&&(this.is_collapsible=t.isCollapsible),Reflect.has(t,"visibleRowCount")&&(this.visible_row_count=t.visibleRowCount),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),this.continuation=((c=(n=(r=t.continuations)==null?void 0:r[0])==null?void 0:n.nextContinuationData)==null?void 0:c.continuation)||null}get contents(){return this.items}};o(Ly,"Grid"),e(Ly,"type","Grid");var ru=Ly;var Oy=class Oy extends a{constructor(t){super();e(this,"id");e(this,"author");e(this,"subscribers");e(this,"video_count");e(this,"endpoint");e(this,"subscribe_button");this.id=t.channelId,this.author=new R({...t.title,navigationEndpoint:t.navigationEndpoint},t.ownerBadges,t.thumbnail),this.subscribers=new l(t.subscriberCountText),this.video_count=new l(t.videoCountText),this.endpoint=new d(t.navigationEndpoint),this.subscribe_button=p.parseItem(t.subscribeButton)}};o(Oy,"GridChannel"),e(Oy,"type","GridChannel");var Rn=Oy;var Yy=class Yy extends a{constructor(t){super();e(this,"title");this.title=new l(t.title)}};o(Yy,"GridHeader"),e(Yy,"type","GridHeader");var ou=Yy;var Vy=class Vy extends a{constructor(t){var r,n;super();e(this,"id");e(this,"title");e(this,"author");e(this,"thumbnails");e(this,"video_count");e(this,"video_count_short");e(this,"endpoint");e(this,"secondary_endpoint");e(this,"thumbnail_overlays");this.id=t.playlistId,this.title=new l(t.title),this.author=(r=t.shortBylineText)!=null&&r.simpleText?new l(t.shortBylineText):(n=t.longBylineText)!=null&&n.simpleText?new l(t.longBylineText):null,this.thumbnails=y.fromResponse(t.thumbnail),this.video_count=new l(t.videoCountText),this.video_count_short=new l(t.videoCountShortText),this.endpoint=new d(t.navigationEndpoint),this.secondary_endpoint=new d(t.secondaryNavigationEndpoint),this.thumbnail_overlays=p.parseArray(t.thumbnailOverlays)}};o(Vy,"GridMix"),e(Vy,"type","GridMix");var nu=Vy;var Uy=class Uy extends a{constructor(t){var n;super();e(this,"id");e(this,"title");e(this,"thumbnails");e(this,"duration");e(this,"endpoint");e(this,"badges");e(this,"metadata");e(this,"thumbnail_overlays");let r=(n=t.thumbnailOverlays.find(c=>c.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:n.thumbnailOverlayTimeStatusRenderer;this.id=t.videoId,this.title=new l(t.title),this.thumbnails=y.fromResponse(t.thumbnail),this.duration=t.lengthText?new l(t.lengthText):r!=null&&r.text?new l(r.text):null,this.endpoint=new d(t.navigationEndpoint),this.badges=p.parseArray(t.badges,Ot),this.metadata=new l(t.metadata),this.thumbnail_overlays=p.parseArray(t.thumbnailOverlays)}};o(Uy,"GridMovie"),e(Uy,"type","GridMovie");var au=Uy;var Fy=class Fy extends a{constructor(t){var r;super();e(this,"id");e(this,"title");e(this,"author");e(this,"badges");e(this,"endpoint");e(this,"view_playlist");e(this,"thumbnails");e(this,"thumbnail_renderer");e(this,"sidebar_thumbnails");e(this,"video_count");e(this,"video_count_short");this.id=t.playlistId,this.title=new l(t.title),Reflect.has(t,"shortBylineText")&&(this.author=new R(t.shortBylineText,t.ownerBadges)),this.badges=p.parseArray(t.ownerBadges),this.endpoint=new d(t.navigationEndpoint),this.view_playlist=new l(t.viewPlaylistText),this.thumbnails=y.fromResponse(t.thumbnail),this.thumbnail_renderer=p.parseItem(t.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((r=t.sidebarThumbnails)==null?void 0:r.map(n=>y.fromResponse(n)))||[])||null,this.video_count=new l(t.thumbnailText),this.video_count_short=new l(t.videoCountShortText)}};o(Fy,"GridPlaylist"),e(Fy,"type","GridPlaylist");var Mn=Fy;var Wy=class Wy extends a{constructor(t){super();e(this,"contents");e(this,"header");e(this,"content_aspect_ratio");e(this,"enable_vertical_expansion");e(this,"show_more_button");e(this,"show_less_button");e(this,"min_collapsed_item_count");this.contents=p.parseArray(t.contents),this.header=p.parseItem(t.header),this.content_aspect_ratio=t.contentAspectRatio,this.enable_vertical_expansion=t.enableVerticalExpansion,this.show_more_button=p.parseItem(t.showMoreButton,K),this.show_less_button=p.parseItem(t.showLessButton,K),this.min_collapsed_item_count=t.minCollapsedItemCount}};o(Wy,"GridShelfView"),e(Wy,"type","GridShelfView");var cu=Wy;var jy=class jy extends a{constructor(t){super();e(this,"thumbnail");this.thumbnail=y.fromResponse(t.thumbnail)}};o(jy,"ShowCustomThumbnail"),e(jy,"type","ShowCustomThumbnail");var Dn=jy;var Hy=class Hy extends a{constructor(t){super();e(this,"text");e(this,"icon_type");Reflect.has(t,"text")&&(this.text=new l(t.text)),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType)}};o(Hy,"ThumbnailOverlayBottomPanel"),e(Hy,"type","ThumbnailOverlayBottomPanel");var Bn=Hy;var $y=class $y extends a{constructor(t){super();e(this,"title");e(this,"thumbnail_renderer");e(this,"endpoint");e(this,"long_byline_text");e(this,"thumbnail_overlays");e(this,"author");this.title=new l(t.title),this.thumbnail_renderer=J(t.thumbnailRenderer,Dn),this.endpoint=new d(t.navigationEndpoint),this.long_byline_text=new l(t.longBylineText),this.thumbnail_overlays=Gt(t.thumbnailOverlays,Bn),this.author=new R(t.shortBylineText,void 0)}};o($y,"GridShow"),e($y,"type","GridShow");var lu=$y;var Gy=class Gy extends a{constructor(t){var n,c;super();e(this,"video_id");e(this,"title");e(this,"thumbnails");e(this,"thumbnail_overlays");e(this,"rich_thumbnail");e(this,"published");e(this,"duration");e(this,"author");e(this,"views");e(this,"short_view_count");e(this,"endpoint");e(this,"menu");e(this,"buttons");e(this,"upcoming");e(this,"upcoming_text");e(this,"is_reminder_set");let r=(n=t.thumbnailOverlays.find(u=>u.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:n.thumbnailOverlayTimeStatusRenderer;this.video_id=t.videoId,this.title=new l(t.title),this.thumbnails=y.fromResponse(t.thumbnail),this.thumbnail_overlays=p.parseArray(t.thumbnailOverlays),this.rich_thumbnail=p.parseItem(t.richThumbnail),this.published=new l(t.publishedTimeText),this.duration=t.lengthText?new l(t.lengthText):r!=null&&r.text?new l(r.text):null,this.author=t.shortBylineText&&new R(t.shortBylineText,t.ownerBadges),this.views=new l(t.viewCountText),this.short_view_count=new l(t.shortViewCountText),this.endpoint=new d(t.navigationEndpoint),this.menu=p.parseItem(t.menu,D),Reflect.has(t,"buttons")&&(this.buttons=p.parseArray(t.buttons)),Reflect.has(t,"upcomingEventData")&&(this.upcoming=new Date(+`${t.upcomingEventData.startTime}000`),this.upcoming_text=new l(t.upcomingEventData.upcomingEventText),this.is_reminder_set=!!((c=t.upcomingEventData)!=null&&c.isReminderSet))}get id(){return this.video_id}get is_upcoming(){return!!(this.upcoming&&this.upcoming>new Date)}};o(Gy,"GridVideo"),e(Gy,"type","GridVideo");var Ln=Gy;var qy=class qy extends a{constructor(t){super();e(this,"title");e(this,"endpoint");e(this,"icon_type");e(this,"thumbnails");e(this,"badges");e(this,"is_primary");this.title=new l(t.formattedTitle),this.endpoint=new d(t.navigationEndpoint||t.serviceEndpoint),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"thumbnail")&&(this.thumbnails=y.fromResponse(t.thumbnail)),Reflect.has(t,"badges")&&(this.badges=t.badges),this.is_primary=!!t.isPrimary}};o(qy,"GuideEntry"),e(qy,"type","GuideEntry");var hi=qy;var Ky=class Ky extends a{constructor(t){super();e(this,"expander_item");e(this,"collapser_item");e(this,"expandable_items");this.expander_item=J(t.expanderItem,hi),this.collapser_item=J(t.collapserItem,hi),this.expandable_items=Gt(t.expandableItems)}};o(Ky,"GuideCollapsibleEntry"),e(Ky,"type","GuideCollapsibleEntry");var pu=Ky;var zy=class zy extends a{constructor(t){super();e(this,"header_entry");e(this,"expander_icon");e(this,"collapser_icon");e(this,"section_items");this.header_entry=J(t.headerEntry),this.expander_icon=t.expanderIcon.iconType,this.collapser_icon=t.collapserIcon.iconType,this.section_items=Gt(t.sectionItems)}};o(zy,"GuideCollapsibleSectionEntry"),e(zy,"type","GuideCollapsibleSectionEntry");var uu=zy;var Xy=class Xy extends hi{constructor(t){super(t.entryRenderer.guideEntryRenderer);e(this,"always_show");this.always_show=!!t.alwaysShow}};o(Xy,"GuideDownloadsEntry"),e(Xy,"type","GuideDownloadsEntry");var mu=Xy;var Qy=class Qy extends a{constructor(t){super();e(this,"title");e(this,"items");Reflect.has(t,"formattedTitle")&&(this.title=new l(t.formattedTitle)),this.items=Gt(t.items)}};o(Qy,"GuideSection"),e(Qy,"type","GuideSection");var ls=Qy;var Jy=class Jy extends ls{};o(Jy,"GuideSubscriptionsSection"),e(Jy,"type","GuideSubscriptionsSection");var On=Jy;var Zy=class Zy extends a{constructor(t){super();e(this,"hashtag");e(this,"hashtag_info");this.hashtag=new l(t.hashtag),this.hashtag_info=new l(t.hashtagInfoText)}};o(Zy,"HashtagHeader"),e(Zy,"type","HashtagHeader");var Yn=Zy;var tg=class tg extends a{constructor(t){super();e(this,"hashtag");e(this,"hashtag_info_text");e(this,"hashtag_thumbnail");e(this,"endpoint");e(this,"hashtag_background_color");e(this,"hashtag_video_count");e(this,"hashtag_channel_count");this.hashtag=new l(t.hashtag),this.hashtag_info_text=new l(t.hashtagInfoText),this.hashtag_thumbnail=y.fromResponse(t.hashtagThumbnail),this.endpoint=new d(t.onTapCommand),this.hashtag_background_color=t.hashtagBackgroundColor,this.hashtag_video_count=new l(t.hashtagVideoCount),this.hashtag_channel_count=new l(t.hashtagChannelCount)}};o(tg,"HashtagTile"),e(tg,"type","HashtagTile");var fu=tg;var eg=class eg extends a{constructor(t){super();e(this,"thumbnails");e(this,"on_tap_endpoint");this.thumbnails=y.fromResponse(t.thumbnail),this.on_tap_endpoint=new d(t.onTap)}};o(eg,"HeroPlaylistThumbnail"),e(eg,"type","HeroPlaylistThumbnail");var hu=eg;var ig=class ig extends a{constructor(t){super();e(this,"thumbnail");e(this,"background_image");e(this,"strapline");e(this,"title");e(this,"description");e(this,"text_on_tap_endpoint");e(this,"cta");t.thumbnail&&(this.thumbnail={image:y.fromResponse(t.thumbnail.image),endpoint:new d(t.thumbnail.onTap),on_long_press_endpoint:new d(t.thumbnail.onLongPress),content_mode:t.thumbnail.contentMode,crop_options:t.thumbnail.cropOptions}),this.background_image={image:y.fromResponse(t.backgroundImage.image),gradient_image:y.fromResponse(t.backgroundImage.gradientImage)},this.strapline=t.strapline,this.title=t.title,this.description=t.description,this.cta={icon_name:t.cta.iconName,title:t.cta.title,endpoint:new d(t.cta.onTap),accessibility_text:t.cta.accessibilityText,state:t.cta.state},this.text_on_tap_endpoint=new d(t.textOnTap)}};o(ig,"Panel"),e(ig,"type","Panel");var Rk=ig,sg=class sg extends a{constructor(t){super();e(this,"panels");this.panels=$(t.highlightsCarousel.panels.map(r=>new Rk(r)))}};o(sg,"HighlightsCarousel"),e(sg,"type","HighlightsCarousel");var du=sg;var rg=class rg extends a{constructor(t){super();e(this,"suggestion");e(this,"endpoint");e(this,"icon_type");e(this,"service_endpoint");this.suggestion=new l(t.suggestion),this.endpoint=new d(t.navigationEndpoint),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"serviceEndpoint")&&(this.service_endpoint=new d(t.serviceEndpoint))}};o(rg,"SearchSuggestion"),e(rg,"type","SearchSuggestion");var Vn=rg;var og=class og extends Vn{constructor(i){super(i)}};o(og,"HistorySuggestion"),e(og,"type","HistorySuggestion");var _u=og;var ng=class ng extends a{constructor(t){super();e(this,"items");e(this,"previous_button");e(this,"next_button");this.items=p.parseArray(t.items),this.previous_button=p.parseItem(t.previousButton,v),this.next_button=p.parseItem(t.nextButton,v)}get contents(){return this.items}};o(ng,"HorizontalMovieList"),e(ng,"type","HorizontalMovieList");var xu=ng;var ag=class ag extends a{constructor(t){var r;super();e(this,"icon_type");e(this,"tooltip");e(this,"endpoint");this.icon_type=(r=t.icon)==null?void 0:r.iconType,Reflect.has(t,"tooltip")&&(this.tooltip=new l(t.tooltip).toString()),this.endpoint=new d(t.navigationEndpoint)}};o(ag,"IconLink"),e(ag,"type","IconLink");var Un=ag;var cg=class cg extends a{constructor(t){super();e(this,"image");e(this,"style");this.image=y.fromResponse(t.image),this.style=t.style}};o(cg,"ImageBannerView"),e(cg,"type","ImageBannerView");var Fn=cg;var lg=class lg extends a{constructor(t){super();e(this,"including_results_for");e(this,"corrected_query");e(this,"corrected_query_endpoint");e(this,"search_only_for");e(this,"original_query");e(this,"original_query_endpoint");this.including_results_for=new l(t.includingResultsFor),this.corrected_query=new l(t.correctedQuery),this.corrected_query_endpoint=new d(t.correctedQueryEndpoint),this.search_only_for=Reflect.has(t,"searchOnlyFor")?new l(t.searchOnlyFor):void 0,this.original_query=Reflect.has(t,"originalQuery")?new l(t.originalQuery):void 0,this.original_query_endpoint=Reflect.has(t,"originalQueryEndpoint")?new d(t.originalQueryEndpoint):void 0}};o(lg,"IncludingResultsFor"),e(lg,"type","IncludingResultsFor");var bu=lg;var pg=class pg extends a{constructor(t){super();e(this,"title");e(this,"source");e(this,"paragraphs");e(this,"attributed_paragraphs");e(this,"thumbnail");e(this,"source_endpoint");e(this,"truncate_paragraphs");e(this,"background");e(this,"inline_link_icon_type");this.title=new l(t.title),this.source=new l(t.source),Reflect.has(t,"paragraphs")&&(this.paragraphs=t.paragraphs.map(r=>new l(r))),Reflect.has(t,"attributedParagraphs")&&(this.attributed_paragraphs=t.attributedParagraphs.map(r=>l.fromAttributed(r))),this.thumbnail=y.fromResponse(t.thumbnail),this.source_endpoint=new d(t.sourceEndpoint),this.truncate_paragraphs=!!t.truncateParagraphs,this.background=t.background,Reflect.has(t,"inlineLinkIcon")&&Reflect.has(t.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=t.inlineLinkIcon.iconType)}};o(pg,"InfoPanelContent"),e(pg,"type","InfoPanelContent");var Wn=pg;var ug=class ug extends a{constructor(t){var r;super();e(this,"title");e(this,"menu");e(this,"content");e(this,"header_endpoint");e(this,"background");e(this,"title_style");e(this,"icon_type");this.title=new l(t.title),this.menu=p.parseItem(t.menu,D),this.content=p.parseItem(t.content,Wn),t.headerEndpoint&&(this.header_endpoint=new d(t.headerEndpoint)),this.background=t.background,this.title_style=t.titleStyle,Reflect.has(t,"icon")&&(this.icon_type=(r=t.icon)==null?void 0:r.iconType)}};o(ug,"InfoPanelContainer"),e(ug,"type","InfoPanelContainer");var jn=ug;var mg=class mg extends a{constructor(t){super();e(this,"header_type");e(this,"title");e(this,"description");e(this,"metadata");e(this,"badges");e(this,"box_art");e(this,"banner");e(this,"buttons");e(this,"auto_generated");this.header_type=t.type,this.title=new l(t.title),this.description=new l(t.description),this.metadata=new l(t.metadata),this.badges=p.parseArray(t.badges,Ot),this.box_art=y.fromResponse(t.boxArt),this.banner=y.fromResponse(t.banner),this.buttons=p.parseArray(t.buttons,[ft,v]),this.auto_generated=new l(t.autoGenerated)}};o(mg,"InteractiveTabbedHeader"),e(mg,"type","InteractiveTabbedHeader");var Hn=mg;var fg=class fg extends a{constructor(t){super();e(this,"title");this.title=new l(t.title)}};o(fg,"ItemSectionHeader"),e(fg,"type","ItemSectionHeader");var ps=fg;var hg=class hg extends a{constructor(t){super();e(this,"title");e(this,"selected");e(this,"endpoint");this.title=new l(t.title),this.selected=!!t.selected,this.endpoint=new d(t.endpoint)}};o(hg,"ItemSectionTab"),e(hg,"type","Tab");var $n=hg;var dg=class dg extends a{constructor(t){super();e(this,"title");e(this,"tabs");e(this,"end_items");this.title=new l(t.title),this.tabs=p.parseArray(t.tabs,$n),Reflect.has(t,"endItems")&&(this.end_items=p.parseArray(t.endItems))}};o(dg,"ItemSectionTabbedHeader"),e(dg,"type","ItemSectionTabbedHeader");var us=dg;var _g=class _g extends a{constructor(t){super();e(this,"filter_menu");this.filter_menu=p.parseItem(t.filterMenu,qn.SortFilterSubMenu)}};o(_g,"SortFilterHeader"),e(_g,"type","SortFilterHeader");var Gn=_g;var xg=class xg extends a{constructor(t){var r,n,c;super();e(this,"header");e(this,"contents");e(this,"target_id");e(this,"continuation");this.header=p.parseItem(t.header,[Xe,ps,us,Gn,ne]),this.contents=p.parseArray(t.contents),(t.targetId||t.sectionIdentifier)&&(this.target_id=t.targetId||t.sectionIdentifier),t.continuations&&(this.continuation=(c=(n=(r=t.continuations)==null?void 0:r.at(0))==null?void 0:n.nextContinuationData)==null?void 0:c.continuation)}};o(xg,"ItemSection"),e(xg,"type","ItemSection");var ae=xg;var bg=class bg extends a{constructor(t){var r,n;super();e(this,"header");e(this,"initial_display_state");e(this,"continuation");e(this,"client_messages");e(this,"is_replay");this.header=p.parseItem(t.header),this.initial_display_state=t.initialDisplayState,this.continuation=(n=(r=t.continuations[0])==null?void 0:r.reloadContinuationData)==null?void 0:n.continuation,this.client_messages={reconnect_message:new l(t.clientMessages.reconnectMessage),unable_to_reconnect_message:new l(t.clientMessages.unableToReconnectMessage),fatal_error:new l(t.clientMessages.fatalError),reconnected_message:new l(t.clientMessages.reconnectedMessage),generic_error:new l(t.clientMessages.genericError)},this.is_replay=!!t.isReplay}};o(bg,"LiveChat"),e(bg,"type","LiveChat");var Kn=bg;var yg=class yg extends a{constructor(t){super();e(this,"text");e(this,"icon_type");e(this,"context_menu_button");this.text=new l(t.text),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.context_menu_button=p.parseItem(t.contextMenuButton,v)}};o(yg,"LiveChatBannerHeader"),e(yg,"type","LiveChatBannerHeader");var zn=yg;var gg=class gg extends a{constructor(t){super();e(this,"header");e(this,"contents");e(this,"action_id");e(this,"viewer_is_creator");e(this,"target_id");e(this,"is_stackable");e(this,"background_type");e(this,"banner_type");e(this,"banner_properties_is_ephemeral");e(this,"banner_properties_auto_collapse_delay_seconds");this.header=p.parseItem(t.header,zn),this.contents=p.parseItem(t.contents),this.action_id=t.actionId,Reflect.has(t,"viewerIsCreator")&&(this.viewer_is_creator=t.viewerIsCreator),this.target_id=t.targetId,this.is_stackable=t.isStackable,Reflect.has(t,"backgroundType")&&(this.background_type=t.backgroundType),this.banner_type=t.bannerType,Reflect.has(t,"bannerProperties")&&Reflect.has(t.bannerProperties,"isEphemeral")&&(this.banner_properties_is_ephemeral=!!t.bannerProperties.isEphemeral),Reflect.has(t,"bannerProperties")&&Reflect.has(t.bannerProperties,"autoCollapseDelay")&&Reflect.has(t.bannerProperties.autoCollapseDelay,"seconds")&&(this.banner_properties_auto_collapse_delay_seconds=t.bannerProperties.autoCollapseDelay.seconds)}};o(gg,"LiveChatBanner"),e(gg,"type","LiveChatBanner");var Xn=gg;var wg=class wg extends a{constructor(t){super();e(this,"banner");this.banner=p.parseItem(t.bannerRenderer,Xn)}};o(wg,"AddBannerToLiveChatCommand"),e(wg,"type","AddBannerToLiveChatCommand");var yu=wg;var Tg=class Tg extends a{constructor(t){super();e(this,"item");e(this,"client_id");this.item=p.parseItem(t.item),Reflect.has(t,"clientId")&&(this.client_id=t.clientId)}};o(Tg,"AddChatItemAction"),e(Tg,"type","AddChatItemAction");var Qn=Tg;var vg=class vg extends a{constructor(t){super();e(this,"item");e(this,"duration_sec");this.item=p.parseItem(t.item),this.duration_sec=t.durationSec}};o(vg,"AddLiveChatTickerItemAction"),e(vg,"type","AddLiveChatTickerItemAction");var gu=vg;var Ig=class Ig extends a{constructor(t){super();e(this,"client_assigned_id");this.client_assigned_id=t.clientAssignedId}};o(Ig,"DimChatItemAction"),e(Ig,"type","DimChatItemAction");var wu=Ig;var kg=class kg extends a{constructor(t){super();e(this,"text");e(this,"image_name");e(this,"image_color");this.text=l.fromAttributed(t.text),this.image_name=t.image.sources[0].clientResource.imageName,this.image_color=t.image.sources[0].clientResource.imageColor}};o(kg,"BumperUserEduContentView"),e(kg,"type","BumperUserEduContentView");var Jn=kg;var Eg=class Eg extends a{constructor(t){super();e(this,"creator_thumbnail");e(this,"hearted_icon_name");e(this,"unhearted_icon_name");e(this,"unhearted_icon_processor");e(this,"hearted_hover_text");e(this,"hearted_accessibility_label");e(this,"unhearted_accessibility_label");e(this,"engagement_state_key");this.creator_thumbnail=y.fromResponse(t.creatorThumbnail),this.hearted_icon_name=t.heartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_name=t.unheartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_processor={border_image_processor:{image_tint:{color:t.unheartedIcon.processor.borderImageProcessor.imageTint.color}}},this.hearted_hover_text=t.heartedHoverText,this.hearted_accessibility_label=t.heartedAccessibilityLabel,this.unhearted_accessibility_label=t.unheartedAccessibilityLabel,this.engagement_state_key=t.engagementStateKey}};o(Eg,"CreatorHeartView"),e(Eg,"type","CreatorHeartView");var Zn=Eg;var Sg=class Sg extends a{constructor(t){super();e(this,"menu_endpoint");e(this,"moderation_buttons");e(this,"auto_moderated_item");e(this,"header_text");e(this,"timestamp");e(this,"id");this.menu_endpoint=new d(t.contextMenuEndpoint),this.moderation_buttons=p.parseArray(t.moderationButtons,v),this.auto_moderated_item=p.parseItem(t.autoModeratedItem),this.header_text=new l(t.headerText),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.id=t.id}};o(Sg,"LiveChatAutoModMessage"),e(Sg,"type","LiveChatAutoModMessage");var Tu=Sg;var Cg=class Cg extends a{constructor(t){super();e(this,"id");e(this,"chat_summary");e(this,"icon_type");e(this,"like_feedback_button");e(this,"dislike_feedback_button");this.id=t.liveChatSummaryId,this.chat_summary=new l(t.chatSummary),this.icon_type=t.icon.iconType,this.like_feedback_button=p.parseItem(t.likeFeedbackButton,jt),this.dislike_feedback_button=p.parseItem(t.dislikeFeedbackButton,jt)}};o(Cg,"LiveChatBannerChatSummary"),e(Cg,"type","LiveChatBannerChatSummary");var vu=Cg;var Ng=class Ng extends a{constructor(t){super();e(this,"poll_question");e(this,"author_photo");e(this,"choices");e(this,"collapsed_state_entity_key");e(this,"live_chat_poll_state_entity_key");e(this,"context_menu_button");this.poll_question=new l(t.pollQuestion),this.author_photo=y.fromResponse(t.authorPhoto),this.choices=t.pollChoices.map(r=>({option_id:r.pollOptionId,text:new l(r.text).toString()})),this.collapsed_state_entity_key=t.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=t.liveChatPollStateEntityKey,this.context_menu_button=p.parseItem(t.contextMenuButton,v)}};o(Ng,"LiveChatBannerPoll"),e(Ng,"type","LiveChatBannerPoll");var Iu=Ng;var Ag=class Ag extends a{constructor(t){super();e(this,"banner_message");e(this,"author_photo");e(this,"inline_action_button");e(this,"context_menu_button");this.banner_message=new l(t.bannerMessage),this.author_photo=y.fromResponse(t.authorPhoto),this.inline_action_button=p.parseItem(t.inlineActionButton,v),this.context_menu_button=p.parseItem(t.contextMenuButton,v)}};o(Ag,"LiveChatBannerRedirect"),e(Ag,"type","LiveChatBannerRedirect");var ku=Ag;var Pg=class Pg extends a{constructor(t){super();e(this,"content");this.content=p.parseItem(t.content,Jn)}};o(Pg,"LiveChatItemBumperView"),e(Pg,"type","LiveChatItemBumperView");var ta=Pg;var Rg=class Rg extends a{constructor(t){super();e(this,"id");e(this,"timestamp");e(this,"timestamp_usec");e(this,"timestamp_text");e(this,"header_primary_text");e(this,"header_subtext");e(this,"message");e(this,"author");e(this,"menu_endpoint");e(this,"context_menu_accessibility_label");this.id=t.id,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,Reflect.has(t,"timestampText")&&(this.timestamp_text=new l(t.timestampText)),Reflect.has(t,"headerPrimaryText")&&(this.header_primary_text=new l(t.headerPrimaryText)),this.header_subtext=new l(t.headerSubtext),Reflect.has(t,"message")&&(this.message=new l(t.message)),this.author=new R(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.menu_endpoint=new d(t.contextMenuEndpoint),this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label}};o(Rg,"LiveChatMembershipItem"),e(Rg,"type","LiveChatMembershipItem");var Eu=Rg;var Mg=class Mg extends a{constructor(t){super();e(this,"id");e(this,"icon_type");e(this,"text");e(this,"subtext");e(this,"timestamp");e(this,"timestamp_usec");e(this,"timestamp_text");this.id=t.id,this.icon_type=t.icon.iconType,this.text=new l(t.text),this.subtext=new l(t.subtext),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,this.timestamp_text=new l(t.timestampText)}};o(Mg,"LiveChatModeChangeMessage"),e(Mg,"type","LiveChatModeChangeMessage");var Su=Mg;var Dg=class Dg extends a{constructor(t){super();e(this,"reply_button");e(this,"reply_count_entity_key");e(this,"reply_count_placeholder");this.reply_button=p.parseItem(t.replyButton,K),this.reply_count_entity_key=t.replyCountEntityKey,this.reply_count_placeholder=l.fromAttributed(t.replyCountPlaceholder)}};o(Dg,"PdgReplyButtonView"),e(Dg,"type","PdgReplyButtonView");var ea=Dg;var Bg=class Bg extends a{constructor(t){super();e(this,"id");e(this,"message");e(this,"author");e(this,"author_name_text_color");e(this,"header_background_color");e(this,"header_text_color");e(this,"body_background_color");e(this,"body_text_color");e(this,"purchase_amount");e(this,"menu_endpoint");e(this,"context_menu_accessibility_label");e(this,"timestamp");e(this,"timestamp_usec");e(this,"timestamp_text");e(this,"timestamp_color");e(this,"header_overlay_image");e(this,"text_input_background_color");e(this,"lower_bumper");e(this,"creator_heart_button");e(this,"is_v2_style");e(this,"reply_button");this.id=t.id,this.message=new l(t.message),this.author=new R(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.author_name_text_color=t.authorNameTextColor,this.header_background_color=t.headerBackgroundColor,this.header_text_color=t.headerTextColor,this.body_background_color=t.bodyBackgroundColor,this.body_text_color=t.bodyTextColor,this.purchase_amount=new l(t.purchaseAmountText).toString(),this.menu_endpoint=new d(t.contextMenuEndpoint),this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,Reflect.has(t,"timestampText")&&(this.timestamp_text=new l(t.timestampText).toString()),this.timestamp_color=t.timestampColor,Reflect.has(t,"headerOverlayImage")&&(this.header_overlay_image=y.fromResponse(t.headerOverlayImage)),this.text_input_background_color=t.textInputBackgroundColor,this.lower_bumper=p.parseItem(t.lowerBumper,ta),this.creator_heart_button=p.parseItem(t.creatorHeartButton,Zn),this.is_v2_style=t.isV2Style,this.reply_button=p.parseItem(t.replyButton,ea)}};o(Bg,"LiveChatPaidMessage"),e(Bg,"type","LiveChatPaidMessage");var Cu=Bg;var Lg=class Lg extends a{constructor(t){super();e(this,"id");e(this,"author");e(this,"money_chip_background_color");e(this,"money_chip_text_color");e(this,"background_color");e(this,"author_name_text_color");e(this,"sticker");e(this,"sticker_accessibility_label");e(this,"sticker_display_width");e(this,"sticker_display_height");e(this,"purchase_amount");e(this,"menu_endpoint");e(this,"context_menu");e(this,"context_menu_accessibility_label");e(this,"timestamp");e(this,"timestamp_usec");e(this,"is_v2_style");this.id=t.id,this.author=new R(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.money_chip_background_color=t.moneyChipBackgroundColor,this.money_chip_text_color=t.moneyChipTextColor,this.background_color=t.backgroundColor,this.author_name_text_color=t.authorNameTextColor,this.sticker=y.fromResponse(t.sticker),this.sticker_accessibility_label=t.sticker.accessibility.accessibilityData.label,this.sticker_display_width=t.stickerDisplayWidth,this.sticker_display_height=t.stickerDisplayHeight,this.purchase_amount=new l(t.purchaseAmountText).toString(),this.menu_endpoint=new d(t.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,this.is_v2_style=t.isV2Style}};o(Lg,"LiveChatPaidSticker"),e(Lg,"type","LiveChatPaidSticker");var Nu=Lg;var Og=class Og extends a{constructor(t){super();e(this,"id");e(this,"timestamp");this.id=t.id,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3)}};o(Og,"LiveChatPlaceholderItem"),e(Og,"type","LiveChatPlaceholderItem");var Au=Og;var Yg=class Yg extends a{constructor(t){super();e(this,"title");e(this,"accessibility_title");e(this,"thumbnail");e(this,"price");e(this,"vendor_name");e(this,"from_vendor_text");e(this,"information_button");e(this,"endpoint");e(this,"creator_message");e(this,"creator_name");e(this,"author_photo");e(this,"information_dialog");e(this,"is_verified");e(this,"creator_custom_message");this.title=t.title,this.accessibility_title=t.accessibilityTitle,this.thumbnail=y.fromResponse(t.thumbnail),this.price=t.price,this.vendor_name=t.vendorName,this.from_vendor_text=t.fromVendorText,this.information_button=p.parseItem(t.informationButton),this.endpoint=new d(t.onClickCommand),this.creator_message=t.creatorMessage,this.creator_name=t.creatorName,this.author_photo=y.fromResponse(t.authorPhoto),this.information_dialog=p.parseItem(t.informationDialog),this.is_verified=t.isVerified,this.creator_custom_message=new l(t.creatorCustomMessage)}};o(Yg,"LiveChatProductItem"),e(Yg,"type","LiveChatProductItem");var Pu=Yg;var Vg=class Vg extends a{constructor(t){super();e(this,"message");e(this,"icon_type");this.message=new l(t.message),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType)}};o(Vg,"LiveChatRestrictedParticipation"),e(Vg,"type","LiveChatRestrictedParticipation");var Ru=Vg;var Ug=class Ug extends Ot{constructor(t){super(t);e(this,"custom_thumbnail");this.custom_thumbnail=y.fromResponse(t.customThumbnail)}};o(Ug,"LiveChatAuthorBadge"),e(Ug,"type","LiveChatAuthorBadge");var ia=Ug;var Fg=class Fg extends a{constructor(t){super();e(this,"author_name");e(this,"author_photo");e(this,"author_badges");e(this,"primary_text");e(this,"menu_endpoint");e(this,"context_menu_accessibility_label");e(this,"image");this.author_name=new l(t.authorName),this.author_photo=y.fromResponse(t.authorPhoto),this.author_badges=p.parseArray(t.authorBadges,ia),this.primary_text=new l(t.primaryText),this.menu_endpoint=new d(t.contextMenuEndpoint),this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label,this.image=y.fromResponse(t.image)}};o(Fg,"LiveChatSponsorshipsHeader"),e(Fg,"type","LiveChatSponsorshipsHeader");var sa=Fg;var Wg=class Wg extends a{constructor(t){super();e(this,"id");e(this,"timestamp_usec");e(this,"author_external_channel_id");e(this,"header");this.id=t.id,this.timestamp_usec=t.timestampUsec,this.author_external_channel_id=t.authorExternalChannelId,this.header=p.parseItem(t.header,sa)}};o(Wg,"LiveChatSponsorshipsGiftPurchaseAnnouncement"),e(Wg,"type","LiveChatSponsorshipsGiftPurchaseAnnouncement");var Mu=Wg;var jg=class jg extends a{constructor(t){super();e(this,"id");e(this,"timestamp_usec");e(this,"timestamp_text");e(this,"author");e(this,"message");e(this,"menu_endpoint");e(this,"context_menu_accessibility_label");this.id=t.id,this.timestamp_usec=t.timestampUsec,this.timestamp_text=new l(t.timestampText),this.author=new R(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.message=new l(t.message),this.menu_endpoint=new d(t.contextMenuEndpoint),this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label}};o(jg,"LiveChatSponsorshipsGiftRedemptionAnnouncement"),e(jg,"type","LiveChatSponsorshipsGiftRedemptionAnnouncement");var Du=jg;var Hg=class Hg extends a{constructor(t){super();e(this,"id");e(this,"message");e(this,"inline_action_buttons");e(this,"timestamp");e(this,"timestamp_usec");e(this,"timestamp_text");e(this,"author");e(this,"menu_endpoint");e(this,"context_menu_accessibility_label");e(this,"before_content_buttons");this.id=t.id,this.message=new l(t.message),this.inline_action_buttons=p.parseArray(t.inlineActionButtons,v),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec,Reflect.has(t,"timestampText")&&(this.timestamp_text=new l(t.timestampText).toString()),this.author=new R(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),Reflect.has(t,"contextMenuEndpoint")&&(this.menu_endpoint=new d(t.contextMenuEndpoint)),Reflect.has(t,"contextMenuAccessibility")&&Reflect.has(t.contextMenuAccessibility,"accessibilityData")&&Reflect.has(t.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label),this.before_content_buttons=p.parseArray(t.beforeContentButtons,K)}};o(Hg,"LiveChatTextMessage"),e(Hg,"type","LiveChatTextMessage");var Bu=Hg;var $g=class $g extends a{constructor(t){var r,n;super();e(this,"id");e(this,"author");e(this,"amount");e(this,"amount_text_color");e(this,"start_background_color");e(this,"end_background_color");e(this,"duration_sec");e(this,"full_duration_sec");e(this,"show_item");e(this,"show_item_endpoint");e(this,"animation_origin");e(this,"open_engagement_panel_command");this.id=t.id,this.author=new R(t.authorName||t.authorUsername,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),Reflect.has(t,"amount")&&(this.amount=new l(t.amount)),this.amount_text_color=t.amountTextColor,this.start_background_color=t.startBackgroundColor,this.end_background_color=t.endBackgroundColor,this.duration_sec=t.durationSec,this.full_duration_sec=t.fullDurationSec,this.show_item=p.parseItem((n=(r=t.showItemEndpoint)==null?void 0:r.showLiveChatItemEndpoint)==null?void 0:n.renderer),this.show_item_endpoint=new d(t.showItemEndpoint),this.animation_origin=t.animationOrigin,this.open_engagement_panel_command=new d(t.openEngagementPanelCommand)}};o($g,"LiveChatTickerPaidMessageItem"),e($g,"type","LiveChatTickerPaidMessageItem");var Lu=$g;var Gg=class Gg extends a{constructor(t){var r,n;super();e(this,"id");e(this,"author_external_channel_id");e(this,"author_photo");e(this,"start_background_color");e(this,"end_background_color");e(this,"duration_sec");e(this,"full_duration_sec");e(this,"show_item");e(this,"show_item_endpoint");e(this,"ticker_thumbnails");this.id=t.id,this.author_external_channel_id=t.authorExternalChannelId,this.author_photo=y.fromResponse(t.authorPhoto),this.start_background_color=t.startBackgroundColor,this.end_background_color=t.endBackgroundColor,this.duration_sec=t.durationSec,this.full_duration_sec=t.fullDurationSec,this.show_item=p.parseItem((n=(r=t.showItemEndpoint)==null?void 0:r.showLiveChatItemEndpoint)==null?void 0:n.renderer),this.show_item_endpoint=new d(t.showItemEndpoint),this.ticker_thumbnails=t.tickerThumbnails.map(c=>{var u,m;return{thumbnails:y.fromResponse(c),label:(m=(u=c==null?void 0:c.accessibility)==null?void 0:u.accessibilityData)==null?void 0:m.label}})}};o(Gg,"LiveChatTickerPaidStickerItem"),e(Gg,"type","LiveChatTickerPaidStickerItem");var Ou=Gg;var qg=class qg extends a{constructor(t){super();e(this,"id");e(this,"detail");e(this,"author");e(this,"duration_sec");this.id=t.id,this.detail=new l(t.detailText),this.author=new R(t.authorName,t.authorBadges,t.sponsorPhoto,t.authorExternalChannelId),this.duration_sec=t.durationSec}};o(qg,"LiveChatTickerSponsorItem"),e(qg,"type","LiveChatTickerSponsorItem");var Yu=qg;var Kg=class Kg extends a{constructor(t){super();e(this,"id");e(this,"timestamp");e(this,"timestamp_usec");e(this,"icon_type");e(this,"message");e(this,"action_button");e(this,"menu_endpoint");e(this,"context_menu_accessibility_label");this.id=t.id,Reflect.has(t,"timestampUsec")&&(this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_usec=t.timestampUsec),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.message=new l(t.message),this.action_button=p.parseItem(t.actionButton),Reflect.has(t,"contextMenuEndpoint")&&(this.menu_endpoint=new d(t.contextMenuEndpoint)),Reflect.has(t,"contextMenuAccessibility")&&Reflect.has(t.contextMenuAccessibility,"accessibilityData")&&Reflect.has(t.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=t.contextMenuAccessibility.accessibilityData.label)}};o(Kg,"LiveChatViewerEngagementMessage"),e(Kg,"type","LiveChatViewerEngagementMessage");var Vu=Kg;var zg=class zg extends a{constructor(t){super();e(this,"poll_question");e(this,"thumbnails");e(this,"metadata");e(this,"live_chat_poll_type");e(this,"context_menu_button");this.poll_question=new l(t.pollQuestion),this.thumbnails=y.fromResponse(t.thumbnail),this.metadata=new l(t.metadataText),this.live_chat_poll_type=t.liveChatPollType,this.context_menu_button=p.parseItem(t.contextMenuButton,v)}};o(zg,"PollHeader"),e(zg,"type","PollHeader");var Uu=zg;var Xg=class Xg extends a{constructor(t){super();e(this,"id");e(this,"contents");e(this,"target_id");this.id=t.id,this.contents=p.parse(t.contents),this.target_id=t.targetId}};o(Xg,"LiveChatActionPanel"),e(Xg,"type","LiveChatActionPanel");var ra=Xg;var Qg=class Qg extends a{constructor(t){super();e(this,"deleted_state_message");e(this,"target_item_id");this.deleted_state_message=new l(t.deletedStateMessage),this.target_item_id=t.targetItemId}};o(Qg,"MarkChatItemAsDeletedAction"),e(Qg,"type","MarkChatItemAsDeletedAction");var Fu=Qg;var Jg=class Jg extends a{constructor(t){super();e(this,"deleted_state_message");e(this,"external_channel_id");this.deleted_state_message=new l(t.deletedStateMessage),this.external_channel_id=t.externalChannelId}};o(Jg,"MarkChatItemsByAuthorAsDeletedAction"),e(Jg,"type","MarkChatItemsByAuthorAsDeletedAction");var Wu=Jg;var Zg=class Zg extends a{constructor(t){super();e(this,"target_action_id");this.target_action_id=t.targetActionId}};o(Zg,"RemoveBannerForLiveChatCommand"),e(Zg,"type","RemoveBannerForLiveChatCommand");var ju=Zg;var tw=class tw extends a{constructor(t){super();e(this,"target_item_id");this.target_item_id=t.targetItemId}};o(tw,"RemoveChatItemAction"),e(tw,"type","RemoveChatItemAction");var Hu=tw;var ew=class ew extends a{constructor(t){super();e(this,"external_channel_id");this.external_channel_id=t.externalChannelId}};o(ew,"RemoveChatItemByAuthorAction"),e(ew,"type","RemoveChatItemByAuthorAction");var $u=ew;var iw=class iw extends a{constructor(t){super();e(this,"target_item_id");e(this,"replacement_item");this.target_item_id=t.targetItemId,this.replacement_item=p.parseItem(t.replacementItem)}};o(iw,"ReplaceChatItemAction"),e(iw,"type","ReplaceChatItemAction");var Gu=iw;var sw=class sw extends a{constructor(t){super();e(this,"to_replace");e(this,"replacement");this.to_replace=t.toReplace,this.replacement=p.parseItem(t.replacement)}};o(sw,"ReplaceLiveChatAction"),e(sw,"type","ReplaceLiveChatAction");var qu=sw;var rw=class rw extends a{constructor(t){var r;super();e(this,"actions");e(this,"video_offset_time_msec");this.actions=p.parseArray((r=t.actions)==null?void 0:r.map(n=>(delete n.clickTrackingParams,n))),this.video_offset_time_msec=t.videoOffsetTimeMsec}};o(rw,"ReplayChatItemAction"),e(rw,"type","ReplayChatItemAction");var Ku=rw;var ow=class ow extends a{constructor(t){super();e(this,"panel_to_show");this.panel_to_show=p.parseItem(t.panelToShow,ra)}};o(ow,"ShowLiveChatActionPanelAction"),e(ow,"type","ShowLiveChatActionPanelAction");var zu=ow;var nw=class nw extends a{constructor(t){super();e(this,"dialog");this.dialog=p.parseItem(t.dialog)}};o(nw,"ShowLiveChatDialogAction"),e(nw,"type","ShowLiveChatDialogAction");var Xu=nw;var aw=class aw extends a{constructor(t){super();e(this,"tooltip");this.tooltip=p.parseItem(t.tooltip)}};o(aw,"ShowLiveChatTooltipCommand"),e(aw,"type","ShowLiveChatTooltipCommand");var Qu=aw;var cw=class cw extends a{constructor(t){super();e(this,"date_text");this.date_text=new l(t.dateText).toString()}};o(cw,"UpdateDateTextAction"),e(cw,"type","UpdateDateTextAction");var oa=cw;var lw=class lw extends a{constructor(t){super();e(this,"description");this.description=new l(t.description)}};o(lw,"UpdateDescriptionAction"),e(lw,"type","UpdateDescriptionAction");var na=lw;var pw=class pw extends a{constructor(t){super();e(this,"poll_to_update");this.poll_to_update=p.parseItem(t.pollToUpdate)}};o(pw,"UpdateLiveChatPollAction"),e(pw,"type","UpdateLiveChatPollAction");var Ju=pw;var uw=class uw extends a{constructor(t){super();e(this,"title");this.title=new l(t.title)}};o(uw,"UpdateTitleAction"),e(uw,"type","UpdateTitleAction");var aa=uw;var mw=class mw extends a{constructor(t){super();e(this,"default_text");e(this,"toggled_text");e(this,"button_id");this.default_text=new l(t.defaultText).toString(),this.toggled_text=new l(t.toggledText).toString(),this.button_id=t.buttonId}};o(mw,"UpdateToggleButtonTextAction"),e(mw,"type","UpdateToggleButtonTextAction");var ca=mw;var fw=class fw extends a{constructor(t){super();e(this,"view_count");e(this,"extra_short_view_count");e(this,"original_view_count");e(this,"unlabeled_view_count_value");e(this,"is_live");let r=t.viewCount.videoViewCountRenderer;this.view_count=new l(r.viewCount),this.extra_short_view_count=new l(r.extraShortViewCount),this.original_view_count=parseInt(r.originalViewCount),this.unlabeled_view_count_value=new l(r.unlabeledViewCountValue),this.is_live=r.isLive}};o(fw,"UpdateViewershipAction"),e(fw,"type","UpdateViewershipAction");var la=fw;var hw=class hw extends a{constructor(t){super();e(this,"confirm_button");e(this,"dialog_messages");this.confirm_button=p.parseItem(t.confirmButton,v),this.dialog_messages=t.dialogMessages.map(r=>new l(r))}};o(hw,"LiveChatDialog"),e(hw,"type","LiveChatDialog");var Zu=hw;var dw=class dw extends a{constructor(t){super();e(this,"overflow_menu");e(this,"collapse_button");e(this,"view_selector");this.overflow_menu=p.parseItem(t.overflowMenu,D),this.collapse_button=p.parseItem(t.collapseButton,v),this.view_selector=p.parseItem(t.viewSelector,re)}};o(dw,"LiveChatHeader"),e(dw,"type","LiveChatHeader");var pa=dw;var _w=class _w extends a{constructor(t){super();e(this,"max_items_to_display");e(this,"more_comments_below_button");this.max_items_to_display=t.maxItemsToDisplay,this.more_comments_below_button=p.parseItem(t.moreCommentsBelowButton,v)}};o(_w,"LiveChatItemList"),e(_w,"type","LiveChatItemList");var ua=_w;var xw=class xw extends a{constructor(t){super();e(this,"author_name");e(this,"author_photo");e(this,"send_button");e(this,"target_id");this.author_name=new l(t.authorName),this.author_photo=y.fromResponse(t.authorPhoto),this.send_button=p.parseItem(t.sendButton,v),this.target_id=t.targetId}};o(xw,"LiveChatMessageInput"),e(xw,"type","LiveChatMessageInput");var tm=xw;var bw=class bw extends a{constructor(t){super();e(this,"name");e(this,"photo");e(this,"badges");this.name=new l(t.authorName),this.photo=y.fromResponse(t.authorPhoto),this.badges=p.parseArray(t.authorBadges)}};o(bw,"LiveChatParticipant"),e(bw,"type","LiveChatParticipant");var ma=bw;var yw=class yw extends a{constructor(t){super();e(this,"title");e(this,"participants");this.title=new l(t.title),this.participants=p.parseArray(t.participants,ma)}};o(yw,"LiveChatParticipantsList"),e(yw,"type","LiveChatParticipantsList");var fa=yw;var gw=class gw extends a{constructor(t){super();e(this,"title");e(this,"metadata");e(this,"image");e(this,"menu_button");this.title=l.fromAttributed(t.title),this.metadata=p.parseItem(t.metadata,es),this.image=p.parseItem(t.image,[ss,Oi]),this.menu_button=p.parseItem(t.menuButton,K)}};o(gw,"LockupMetadataView"),e(gw,"type","LockupMetadataView");var ha=gw;var ww=class ww extends a{constructor(t){super();e(this,"content_image");e(this,"metadata");e(this,"content_id");e(this,"content_type");e(this,"renderer_context");this.content_image=p.parseItem(t.contentImage,[Zo,Qi]),this.metadata=p.parseItem(t.metadata,ha),this.content_id=t.contentId,this.content_type=t.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.renderer_context=new Lt(t.rendererContext)}};o(ww,"LockupView"),e(ww,"type","LockupView");var da=ww;var Tw=class Tw extends a{constructor(t){var n,c,u,m,h,x;super();e(this,"marker_entity_key");e(this,"external_video_id");e(this,"marker_type");e(this,"markers");e(this,"max_height_dp");e(this,"min_height_dp");e(this,"show_hide_animation_duration_millis");e(this,"timed_marker_decorations");e(this,"raw_api_markers");e(this,"raw_api_decorations");this.marker_entity_key=t.key,this.external_video_id=t.externalVideoId,this.marker_type=((n=t.markersList)==null?void 0:n.markerType)||"",this.raw_api_markers=((c=t.markersList)==null?void 0:c.markers)||[],this.raw_api_decorations=((m=(u=t.markersList)==null?void 0:u.markersDecoration)==null?void 0:m.timedMarkerDecorations)||[],this.markers=$(this.raw_api_markers.map(b=>new rs(b)));let r=(x=(h=t.markersList)==null?void 0:h.markersMetadata)==null?void 0:x.heatmapMetadata;this.max_height_dp=(r==null?void 0:r.maxHeightDp)||40,this.min_height_dp=(r==null?void 0:r.minHeightDp)||4,this.show_hide_animation_duration_millis=(r==null?void 0:r.showHideAnimationDurationMillis)||200,this.timed_marker_decorations=$(this.raw_api_decorations.map(b=>new os(b)))}isHeatmap(){return this.marker_type==="MARKER_TYPE_HEATMAP"}toHeatmap(){if(!this.isHeatmap())return null;let t=this.raw_api_markers.map(c=>({HeatMarker:c})),r=this.raw_api_decorations.map(c=>({TimedMarkerDecoration:c})),n={maxHeightDp:this.max_height_dp,minHeightDp:this.min_height_dp,showHideAnimationDurationMillis:this.show_hide_animation_duration_millis,heatMarkers:t,heatMarkersDecorations:r};return J({Heatmap:n},ns)}};o(Tw,"MacroMarkersListEntity"),e(Tw,"type","MacroMarkersListEntity");var ms=Tw;var vw=class vw extends v{constructor(i){super(i)}};o(vw,"MenuNavigationItem"),e(vw,"type","MenuNavigationItem");var _a=vw;var Iw=class Iw extends a{constructor(t){super();e(this,"items");this.items=p.parseArray(t.items,[_a,me])}};o(Iw,"MenuPopup"),e(Iw,"type","MenuPopup");var em=Iw;var kw=class kw extends a{constructor(t){super();e(this,"thumbnails");e(this,"video_thumbnails");e(this,"short_message");e(this,"sent_time");e(this,"notification_id");e(this,"endpoint");e(this,"record_click_endpoint");e(this,"menu");e(this,"read");this.thumbnails=y.fromResponse(t.thumbnail),this.video_thumbnails=y.fromResponse(t.videoThumbnail),this.short_message=new l(t.shortMessage),this.sent_time=new l(t.sentTimeText),this.notification_id=t.notificationId,this.endpoint=new d(t.navigationEndpoint),this.record_click_endpoint=new d(t.recordClickEndpoint),this.menu=p.parseItem(t.contextualMenu),this.read=t.read}};o(kw,"Notification"),e(kw,"type","Notification");var fs=kw;var Ew=class Ew extends a{constructor(t){super();e(this,"notification_section_title");e(this,"items");"notificationSectionTitle"in t&&(this.notification_section_title=new l(t.notificationSectionTitle)),this.items=p.parseArray(t.items,[fs,_e,X])}get contents(){return this.items}};o(Ew,"MultiPageMenuNotificationSection"),e(Ew,"type","MultiPageMenuNotificationSection");var im=Ew;var Sw=class Sw extends a{constructor(i){super()}};o(Sw,"MusicMenuItemDivider"),e(Sw,"type","MusicMenuItemDivider");var xa=Sw;var Cw=class Cw extends a{constructor(t){super();e(this,"title");e(this,"form_item_entity_key");e(this,"selected_icon_type");e(this,"endpoint");e(this,"selected");this.title=new l(t.title).toString(),this.form_item_entity_key=t.formItemEntityKey,Reflect.has(t,"selectedIcon")&&(this.selected_icon_type=t.selectedIcon.iconType),Reflect.has(t,"selectedCommand")&&(this.endpoint=new d(t.selectedCommand)),this.selected=!!this.endpoint}};o(Cw,"MusicMultiSelectMenuItem"),e(Cw,"type","MusicMultiSelectMenuItem");var hs=Cw;var Nw=class Nw extends a{constructor(t){var r;super();e(this,"title");e(this,"options");Reflect.has(t,"title")&&Reflect.has(t.title,"musicMenuTitleRenderer")&&(this.title=new l((r=t.title.musicMenuTitleRenderer)==null?void 0:r.primaryText)),this.options=p.parseArray(t.options,[hs,xa])}};o(Nw,"MusicMultiSelectMenu"),e(Nw,"type","MusicMultiSelectMenu");var ba=Nw;var Aw=class Aw extends a{constructor(t){super();e(this,"title");e(this,"buttons");this.title=new l(t.title),this.buttons=p.parseArray(t.buttons,v)}};o(Aw,"SimpleMenuHeader"),e(Aw,"type","SimpleMenuHeader");var ya=Aw;var Pw=class Pw extends a{constructor(t){super();e(this,"title");e(this,"description");e(this,"thumbnails");e(this,"price");e(this,"vendor_name");e(this,"button_text");e(this,"button_accessibility_text");e(this,"from_vendor_text");e(this,"additional_fees_text");e(this,"region_format");e(this,"endpoint");this.title=t.title,this.description=t.description,this.thumbnails=y.fromResponse(t.thumbnail),this.price=t.price,this.vendor_name=t.vendorName,this.button_text=t.buttonText,this.button_accessibility_text=t.buttonAccessibilityText,this.from_vendor_text=t.fromVendorText,this.additional_fees_text=t.additionalFeesText,this.region_format=t.regionFormat,this.endpoint=new d(t.buttonCommand)}};o(Pw,"MerchandiseItem"),e(Pw,"type","MerchandiseItem");var sm=Pw;var Rw=class Rw extends a{constructor(t){super();e(this,"title");e(this,"menu");e(this,"items");this.title=t.title,this.menu=p.parseItem(t.actionButton),this.items=p.parseArray(t.items)}get contents(){return this.items}};o(Rw,"MerchandiseShelf"),e(Rw,"type","MerchandiseShelf");var ga=Rw;var Mw=class Mw extends a{constructor(t){super();e(this,"title");e(this,"contents");this.title=new l(t.title),this.contents=t.contents.map(r=>new l(r))}};o(Mw,"MetadataRow"),e(Mw,"type","MetadataRow");var rm=Mw;var Dw=class Dw extends a{constructor(t){super();e(this,"rows");e(this,"collapsed_item_count");this.rows=p.parseArray(t.rows),this.collapsed_item_count=t.collapsedItemCount}};o(Dw,"MetadataRowContainer"),e(Dw,"type","MetadataRowContainer");var wa=Dw;var Bw=class Bw extends a{constructor(t){super();e(this,"content");e(this,"has_divider_line");this.content=new l(t.content),this.has_divider_line=t.hasDividerLine}};o(Bw,"MetadataRowHeader"),e(Bw,"type","MetadataRowHeader");var om=Bw;var Lw=class Lw extends a{constructor(t){super();e(this,"section_list");this.section_list=p.parseItem(t)}};o(Lw,"MetadataScreen"),e(Lw,"type","MetadataScreen");var nm=Lw;var Ow=class Ow extends a{constructor(t){super();e(this,"url_canonical");e(this,"title");e(this,"description");e(this,"thumbnail");e(this,"site_name");e(this,"app_name");e(this,"android_package");e(this,"ios_app_store_id");e(this,"ios_app_arguments");e(this,"og_type");e(this,"url_applinks_web");e(this,"url_applinks_ios");e(this,"url_applinks_android");e(this,"url_twitter_ios");e(this,"url_twitter_android");e(this,"twitter_card_type");e(this,"twitter_site_handle");e(this,"schema_dot_org_type");e(this,"noindex");e(this,"is_unlisted");e(this,"is_family_safe");e(this,"tags");e(this,"available_countries");this.url_canonical=t.urlCanonical,this.title=t.title,this.description=t.description,this.thumbnail=y.fromResponse(t.thumbnail),this.site_name=t.siteName,this.app_name=t.appName,this.android_package=t.androidPackage,this.ios_app_store_id=t.iosAppStoreId,this.ios_app_arguments=t.iosAppArguments,this.og_type=t.ogType,this.url_applinks_web=t.urlApplinksWeb,this.url_applinks_ios=t.urlApplinksIos,this.url_applinks_android=t.urlApplinksAndroid,this.url_twitter_ios=t.urlTwitterIos,this.url_twitter_android=t.urlTwitterAndroid,this.twitter_card_type=t.twitterCardType,this.twitter_site_handle=t.twitterSiteHandle,this.schema_dot_org_type=t.schemaDotOrgType,this.noindex=t.noindex,this.is_unlisted=t.unlisted,this.is_family_safe=t.familySafe,this.tags=t.tags,this.available_countries=t.availableCountries}};o(Ow,"MicroformatData"),e(Ow,"type","MicroformatData");var Qe=Ow;var Yw=class Yw extends de{constructor(i){super(i)}};o(Yw,"Mix"),e(Yw,"type","Mix");var am=Yw;var Vw=class Vw extends a{constructor(t){super();e(this,"title");e(this,"content");e(this,"button");this.title=new l(t.title),this.content=new l(t.content),this.button=p.parseItem(t.button,v)}};o(Vw,"ModalWithTitleAndButton"),e(Vw,"type","ModalWithTitleAndButton");var cm=Vw;var Uw=class Uw extends a{constructor(t){var n,c,u;super();e(this,"id");e(this,"title");e(this,"description_snippet");e(this,"top_metadata_items");e(this,"thumbnails");e(this,"thumbnail_overlays");e(this,"author");e(this,"duration");e(this,"endpoint");e(this,"badges");e(this,"use_vertical_poster");e(this,"show_action_menu");e(this,"menu");let r=((n=t.thumbnailOverlays.find(m=>m.thumbnailOverlayTimeStatusRenderer))==null?void 0:n.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=t.videoId,this.title=new l(t.title),Reflect.has(t,"descriptionSnippet")&&(this.description_snippet=new l(t.descriptionSnippet)),this.top_metadata_items=new l(t.topMetadataItems),this.thumbnails=y.fromResponse(t.thumbnail),this.thumbnail_overlays=p.parseArray(t.thumbnailOverlays),this.author=new R(t.longBylineText,t.ownerBadges,(u=(c=t.channelThumbnailSupportedRenderers)==null?void 0:c.channelThumbnailWithLinkRenderer)==null?void 0:u.thumbnail),this.duration={text:t.lengthText?new l(t.lengthText).toString():new l(r).toString(),seconds:Nt(t.lengthText?new l(t.lengthText).toString():new l(r).toString())},this.endpoint=new d(t.navigationEndpoint),this.badges=p.parseArray(t.badges),this.use_vertical_poster=t.useVerticalPoster,this.show_action_menu=t.showActionMenu,this.menu=p.parseItem(t.menu,D)}};o(Uw,"Movie"),e(Uw,"type","Movie");var lm=Uw;var Fw=class Fw extends a{constructor(i){var t;return super(),(t=i.movingThumbnailDetails)==null?void 0:t.thumbnails.map(r=>new y(r)).sort((r,n)=>n.width-r.width)}};o(Fw,"MovingThumbnail"),e(Fw,"type","MovingThumbnail");var pm=Fw;var Ww=class Ww extends a{constructor(t){super();e(this,"title");this.title=new l(t.title)}};o(Ww,"MusicCardShelfHeaderBasic"),e(Ww,"type","MusicCardShelfHeaderBasic");var Ta=Ww;var jw=class jw extends a{constructor(t){super();e(this,"icon_type");e(this,"accessibility");this.icon_type=t.icon.iconType,"accessibilityData"in t&&"accessibilityData"in t.accessibilityData&&(this.accessibility={accessibility_data:new ut(t.accessibilityData.accessibilityData)})}get label(){var t,r;return(r=(t=this.accessibility)==null?void 0:t.accessibility_data)==null?void 0:r.label}};o(jw,"MusicInlineBadge"),e(jw,"type","MusicInlineBadge");var ds=jw;var Hw=class Hw extends a{constructor(t){super();e(this,"endpoint");e(this,"play_icon_type");e(this,"pause_icon_type");e(this,"icon_color");e(this,"accessibility_play_data");e(this,"accessibility_pause_data");this.endpoint=new d(t.playNavigationEndpoint),this.play_icon_type=t.playIcon.iconType,this.pause_icon_type=t.pauseIcon.iconType,"accessibilityPlayData"in t&&"accessibilityData"in t.accessibilityPlayData&&(this.accessibility_play_data={accessibility_data:new ut(t.accessibilityPlayData.accessibilityData)}),"accessibilityPauseData"in t&&"accessibilityData"in t.accessibilityPauseData&&(this.accessibility_pause_data={accessibility_data:new ut(t.accessibilityPauseData.accessibilityData)}),this.icon_color=t.iconColor}get play_label(){var t,r;return(r=(t=this.accessibility_play_data)==null?void 0:t.accessibility_data)==null?void 0:r.label}get pause_label(){var t,r;return(r=(t=this.accessibility_pause_data)==null?void 0:t.accessibility_data)==null?void 0:r.label}};o(Hw,"MusicPlayButton"),e(Hw,"type","MusicPlayButton");var _s=Hw;var $w=class $w extends a{constructor(t){super();e(this,"content");e(this,"content_position");e(this,"display_style");this.content=p.parseItem(t.content,_s),this.content_position=t.contentPosition,this.display_style=t.displayStyle}};o($w,"MusicItemThumbnailOverlay"),e($w,"type","MusicItemThumbnailOverlay");var xe=$w;var Gw=class Gw extends a{constructor(t){super();e(this,"contents");this.contents=y.fromResponse(t.thumbnail)}};o(Gw,"MusicThumbnail"),e(Gw,"type","MusicThumbnail");var kt=Gw;var qw=class qw extends a{constructor(t){super();e(this,"thumbnail");e(this,"title");e(this,"subtitle");e(this,"buttons");e(this,"menu");e(this,"on_tap");e(this,"header");e(this,"end_icon_type");e(this,"subtitle_badges");e(this,"thumbnail_overlay");e(this,"contents");this.thumbnail=p.parseItem(t.thumbnail,kt),this.title=new l(t.title),this.subtitle=new l(t.subtitle),this.buttons=p.parseArray(t.buttons,v),this.menu=p.parseItem(t.menu,D),this.on_tap=new d(t.onTap),this.header=p.parseItem(t.header,Ta),Reflect.has(t,"endIcon")&&Reflect.has(t.endIcon,"iconType")&&(this.end_icon_type=t.endIcon.iconType),this.subtitle_badges=p.parseArray(t.subtitleBadges,ds),this.thumbnail_overlay=p.parseItem(t.thumbnailOverlay,xe),Reflect.has(t,"contents")&&(this.contents=p.parseArray(t.contents))}};o(qw,"MusicCardShelf"),e(qw,"type","MusicCardShelf");var um=qw;var Kw=class Kw extends a{constructor(t){super();e(this,"title");e(this,"strapline");e(this,"thumbnail");e(this,"more_content");e(this,"end_icons");this.title=new l(t.title),Reflect.has(t,"strapline")&&(this.strapline=new l(t.strapline)),Reflect.has(t,"thumbnail")&&(this.thumbnail=p.parseItem(t.thumbnail,kt)),Reflect.has(t,"moreContentButton")&&(this.more_content=p.parseItem(t.moreContentButton,v)),Reflect.has(t,"endIcons")&&(this.end_icons=p.parseArray(t.endIcons,Un))}};o(Kw,"MusicCarouselShelfBasicHeader"),e(Kw,"type","MusicCarouselShelfBasicHeader");var va=Kw;var zw=class zw extends a{constructor(t){super();e(this,"thumbnail");e(this,"overlay");e(this,"on_tap");e(this,"menu");e(this,"subtitle");e(this,"title");e(this,"second_title");e(this,"description");e(this,"display_style");this.thumbnail=p.parseItem(t.thumbnail,kt),this.overlay=p.parseItem(t.overlay,xe),this.on_tap=new d(t.onTap),this.menu=p.parseItem(t.menu,D),this.subtitle=new l(t.subtitle),this.title=new l(t.title),Reflect.has(t,"secondTitle")&&(this.second_title=new l(t.secondTitle)),Reflect.has(t,"description")&&(this.description=new l(t.description)),Reflect.has(t,"displayStyle")&&(this.display_style=t.displayStyle)}};o(zw,"MusicMultiRowListItem"),e(zw,"type","MusicMultiRowListItem");var Ia=zw;var Xw=class Xw extends a{constructor(t){super();e(this,"button_text");e(this,"endpoint");this.button_text=new l(t.buttonText).toString(),this.endpoint=new d(t.clickCommand)}};o(Xw,"MusicNavigationButton"),e(Xw,"type","MusicNavigationButton");var ka=Xw;var Qw=class Qw extends a{constructor(t){super();e(this,"title");e(this,"display_priority");this.title=new l(t.text),this.display_priority=t.displayPriority}};o(Qw,"MusicResponsiveListItemFixedColumn"),e(Qw,"type","musicResponsiveListItemFlexColumnRenderer");var Ea=Qw;var Jw=class Jw extends a{constructor(t){super();e(this,"title");e(this,"display_priority");this.title=new l(t.text),this.display_priority=t.displayPriority}};o(Jw,"MusicResponsiveListItemFlexColumn"),e(Jw,"type","MusicResponsiveListItemFlexColumn");var Sa=Jw;var dt,Mk,jE,HE,$E,GE,qE,KE,zE,XE,QE,Zw=class Zw extends a{constructor(t){var c,u,m,h,x,b;super();E(this,dt);e(this,"flex_columns");e(this,"fixed_columns");e(this,"endpoint");e(this,"item_type");e(this,"index");e(this,"thumbnail");e(this,"badges");e(this,"menu");e(this,"overlay");e(this,"id");e(this,"title");e(this,"duration");e(this,"album");e(this,"artists");e(this,"views");e(this,"authors");e(this,"name");e(this,"subtitle");e(this,"subscribers");e(this,"song_count");e(this,"author");e(this,"item_count");e(this,"year");this.flex_columns=p.parseArray(t.flexColumns,Sa),this.fixed_columns=p.parseArray(t.fixedColumns,Ea);let r={video_id:((c=t==null?void 0:t.playlistItemData)==null?void 0:c.videoId)||null,playlist_set_video_id:((u=t==null?void 0:t.playlistItemData)==null?void 0:u.playlistSetVideoId)||null};Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new d(t.navigationEndpoint));let n=(b=(x=(h=(m=this.endpoint)==null?void 0:m.payload)==null?void 0:h.browseEndpointContextSupportedConfigs)==null?void 0:x.browseEndpointContextMusicConfig)==null?void 0:b.pageType;switch(n||this.flex_columns.find(T=>{var I,C,k,A;return((A=(k=(C=(I=T.title.endpoint)==null?void 0:I.payload)==null?void 0:C.browseEndpointContextSupportedConfigs)==null?void 0:k.browseEndpointContextMusicConfig)==null?void 0:A.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(n="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),n){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",P(this,dt,XE).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",P(this,dt,QE).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",P(this,dt,GE).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",P(this,dt,qE).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",P(this,dt,KE).call(this,r);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",P(this,dt,zE).call(this);break;default:this.flex_columns[1]?P(this,dt,jE).call(this,r):P(this,dt,Mk).call(this)}Reflect.has(t,"index")&&(this.index=new l(t.index)),Reflect.has(t,"thumbnail")&&(this.thumbnail=p.parseItem(t.thumbnail,kt)),Reflect.has(t,"badges")&&(this.badges=p.parseArray(t.badges)),Reflect.has(t,"menu")&&(this.menu=p.parseItem(t.menu,D)),Reflect.has(t,"overlay")&&(this.overlay=p.parseItem(t.overlay,xe))}get thumbnails(){var t;return((t=this.thumbnail)==null?void 0:t.contents)||[]}};dt=new WeakSet,Mk=o(function(){this.title=this.flex_columns[0].title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"#parseOther"),jE=o(function(t){var n,c,u,m,h,x,b;switch((b=(x=(h=(m=(u=(c=(n=this.flex_columns.at(0))==null?void 0:n.title.runs)==null?void 0:c.at(0))==null?void 0:u.endpoint)==null?void 0:m.payload)==null?void 0:h.watchEndpointMusicSupportedConfigs)==null?void 0:x.watchEndpointMusicConfig)==null?void 0:b.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",P(this,dt,$E).call(this,t);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",P(this,dt,HE).call(this,t);break;default:P(this,dt,Mk).call(this)}},"#parseVideoOrSong"),HE=o(function(t){var u,m,h,x,b,g,T,I,C,k,A,N,L,G,ot;this.id=t.video_id||((m=(u=this.endpoint)==null?void 0:u.payload)==null?void 0:m.videoId),this.title=this.flex_columns[0].title.toString();let r=((b=(x=(h=this.flex_columns.at(1))==null?void 0:h.title.runs)==null?void 0:x.find(O=>/^\d+$/.test(O.text.replace(/:/g,""))))==null?void 0:b.text)||((T=(g=this.fixed_columns[0])==null?void 0:g.title)==null?void 0:T.toString());r&&(this.duration={text:r,seconds:Nt(r)});let n=((C=(I=this.flex_columns.at(1))==null?void 0:I.title.runs)==null?void 0:C.find(O=>Xt(O)&&O.endpoint&&O.endpoint.payload.browseId.startsWith("MPR")))||((A=(k=this.flex_columns.at(2))==null?void 0:k.title.runs)==null?void 0:A.find(O=>Xt(O)&&O.endpoint&&O.endpoint.payload.browseId.startsWith("MPR")));n&&Xt(n)&&(this.album={id:(L=(N=n.endpoint)==null?void 0:N.payload)==null?void 0:L.browseId,name:n.text,endpoint:n.endpoint});let c=(ot=(G=this.flex_columns.at(1))==null?void 0:G.title.runs)==null?void 0:ot.filter(O=>Xt(O)&&O.endpoint&&O.endpoint.payload.browseId.startsWith("UC"));c&&(this.artists=c.map(O=>{var pt,F;return{name:O.text,channel_id:Xt(O)?(F=(pt=O.endpoint)==null?void 0:pt.payload)==null?void 0:F.browseId:void 0,endpoint:Xt(O)?O.endpoint:void 0}}))},"#parseSong"),$E=o(function(t){var c,u,m,h,x,b,g,T,I,C;this.id=t.video_id,this.title=this.flex_columns[0].title.toString(),this.views=(m=(u=(c=this.flex_columns.at(1))==null?void 0:c.title.runs)==null?void 0:u.find(k=>k.text.match(/(.*?) views/)))==null?void 0:m.toString();let r=(x=(h=this.flex_columns.at(1))==null?void 0:h.title.runs)==null?void 0:x.filter(k=>Xt(k)&&k.endpoint&&k.endpoint.payload.browseId.startsWith("UC"));r&&(this.authors=r.map(k=>{var A,N;return{name:k.text,channel_id:Xt(k)?(N=(A=k.endpoint)==null?void 0:A.payload)==null?void 0:N.browseId:void 0,endpoint:Xt(k)?k.endpoint:void 0}}));let n=((g=(b=this.flex_columns[1].title.runs)==null?void 0:b.find(k=>/^\d+$/.test(k.text.replace(/:/g,""))))==null?void 0:g.text)||((C=(I=(T=this.fixed_columns[0])==null?void 0:T.title.runs)==null?void 0:I.find(k=>/^\d+$/.test(k.text.replace(/:/g,""))))==null?void 0:C.text);n&&(this.duration={text:n,seconds:Nt(n)})},"#parseVideo"),GE=o(function(){var t,r,n,c,u,m;this.id=(r=(t=this.endpoint)==null?void 0:t.payload)==null?void 0:r.browseId,this.name=this.flex_columns[0].title.toString(),this.subtitle=(n=this.flex_columns.at(1))==null?void 0:n.title,this.subscribers=((m=(u=(c=this.subtitle)==null?void 0:c.runs)==null?void 0:u.find(h=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(h.text)))==null?void 0:m.text)||""},"#parseArtist"),qE=o(function(){var t,r,n,c;this.name=this.flex_columns[0].title.toString(),this.subtitle=(t=this.flex_columns.at(1))==null?void 0:t.title,this.song_count=((c=(n=(r=this.subtitle)==null?void 0:r.runs)==null?void 0:n.find(u=>/^\d+(,\d+)? songs?$/i.test(u.text)))==null?void 0:c.text)||""},"#parseLibraryArtist"),KE=o(function(t){var r,n;this.id=t.video_id||((n=(r=this.endpoint)==null?void 0:r.payload)==null?void 0:n.videoId),this.title=this.flex_columns[0].title.toString()},"#parseNonMusicTrack"),zE=o(function(){var t,r;this.id=(r=(t=this.endpoint)==null?void 0:t.payload)==null?void 0:r.browseId,this.title=this.flex_columns[0].title.toString()},"#parsePodcastShow"),XE=o(function(){var r,n,c,u,m,h,x,b,g;this.id=(n=(r=this.endpoint)==null?void 0:r.payload)==null?void 0:n.browseId,this.title=this.flex_columns[0].title.toString();let t=(u=(c=this.flex_columns.at(1))==null?void 0:c.title.runs)==null?void 0:u.find(T=>Xt(T)&&T.endpoint&&T.endpoint.payload.browseId.startsWith("UC"));t&&Xt(t)&&(this.author={name:t.text,channel_id:(h=(m=t.endpoint)==null?void 0:m.payload)==null?void 0:h.browseId,endpoint:t.endpoint}),this.year=(g=(b=(x=this.flex_columns.at(1))==null?void 0:x.title.runs)==null?void 0:b.find(T=>/^[12][0-9]{3}$/.test(T.text)))==null?void 0:g.text},"#parseAlbum"),QE=o(function(){var n,c,u,m,h,x,b,g;this.id=(c=(n=this.endpoint)==null?void 0:n.payload)==null?void 0:c.browseId,this.title=this.flex_columns[0].title.toString();let t=(m=(u=this.flex_columns.at(1))==null?void 0:u.title.runs)==null?void 0:m.find(T=>T.text.match(/\d+ (song|songs)/));this.item_count=t?t.text:void 0;let r=(x=(h=this.flex_columns.at(1))==null?void 0:h.title.runs)==null?void 0:x.find(T=>Xt(T)&&T.endpoint&&T.endpoint.payload.browseId.startsWith("UC"));r&&Xt(r)&&(this.author={name:r.text,channel_id:(g=(b=r.endpoint)==null?void 0:b.payload)==null?void 0:g.browseId,endpoint:r.endpoint})},"#parsePlaylist"),o(Zw,"MusicResponsiveListItem"),e(Zw,"type","MusicResponsiveListItem");var Je=Zw;var tT=class tT extends a{constructor(t){var n,c,u,m,h,x,b,g,T,I,C,k,A,N,L,G,ot,O,pt,F,at,It;super();e(this,"title");e(this,"endpoint");e(this,"id");e(this,"subtitle");e(this,"badges");e(this,"item_type");e(this,"subscribers");e(this,"item_count");e(this,"year");e(this,"views");e(this,"artists");e(this,"author");e(this,"thumbnail");e(this,"thumbnail_overlay");e(this,"menu");switch(this.title=new l(t.title),this.endpoint=new d(t.navigationEndpoint),this.id=((c=(n=this.endpoint)==null?void 0:n.payload)==null?void 0:c.browseId)||((m=(u=this.endpoint)==null?void 0:u.payload)==null?void 0:m.videoId),this.subtitle=new l(t.subtitle),this.badges=p.parse(t.subtitleBadges),(g=(b=(x=(h=this.endpoint)==null?void 0:h.payload)==null?void 0:x.browseEndpointContextSupportedConfigs)==null?void 0:b.browseEndpointContextMusicConfig)==null?void 0:g.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((I=(T=this.endpoint)==null?void 0:T.metadata)==null?void 0:I.api_url)==="/next"?this.item_type="endpoint":(C=this.subtitle.runs)!=null&&C[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((A=(k=this.subtitle.runs)==null?void 0:k.find(j=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(j.text)))==null?void 0:A.text)||"";else if(this.item_type=="playlist"){let j=(N=this.subtitle.runs)==null?void 0:N.find(W=>W.text.match(/\d+ songs|song/));this.item_count=j?j.text:null}else if(this.item_type=="album"){let j=(L=this.subtitle.runs)==null?void 0:L.filter(W=>{var nt,tt;return(tt=(nt=W.endpoint)==null?void 0:nt.payload)==null?void 0:tt.browseId.startsWith("UC")});j&&(this.artists=j.map(W=>{var nt,tt;return{name:W.text,channel_id:(tt=(nt=W.endpoint)==null?void 0:nt.payload)==null?void 0:tt.browseId,endpoint:W.endpoint}})),this.year=(G=this.subtitle.runs)==null?void 0:G.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((O=(ot=this==null?void 0:this.subtitle.runs)==null?void 0:ot.find(W=>W==null?void 0:W.text.match(/(.*?) views/)))==null?void 0:O.text)||"N/A";let j=(pt=this.subtitle.runs)==null?void 0:pt.find(W=>{var nt,tt,Rt;return(Rt=(tt=(nt=W.endpoint)==null?void 0:nt.payload)==null?void 0:tt.browseId)==null?void 0:Rt.startsWith("UC")});j&&(this.author={name:j==null?void 0:j.text,channel_id:(at=(F=j==null?void 0:j.endpoint)==null?void 0:F.payload)==null?void 0:at.browseId,endpoint:j==null?void 0:j.endpoint})}else if(this.item_type=="song"){let j=(It=this.subtitle.runs)==null?void 0:It.filter(W=>{var nt,tt;return(tt=(nt=W.endpoint)==null?void 0:nt.payload)==null?void 0:tt.browseId.startsWith("UC")});j&&(this.artists=j.map(W=>{var nt,tt;return{name:W==null?void 0:W.text,channel_id:(tt=(nt=W==null?void 0:W.endpoint)==null?void 0:nt.payload)==null?void 0:tt.browseId,endpoint:W==null?void 0:W.endpoint}}))}this.thumbnail=y.fromResponse(t.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=p.parseItem(t.thumbnailOverlay,xe),this.menu=p.parseItem(t.menu,D)}};o(tT,"MusicTwoRowItem"),e(tT,"type","MusicTwoRowItem");var Ca=tT;var eT=class eT extends a{constructor(t){super();e(this,"header");e(this,"contents");e(this,"num_items_per_column");this.header=p.parseItem(t.header,va),this.contents=p.parseArray(t.contents,[Ca,Je,Ia,ka]),Reflect.has(t,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(t.numItemsPerColumn))}};o(eT,"MusicCarouselShelf"),e(eT,"type","MusicCarouselShelf");var mm=eT;var iT=class iT extends a{constructor(t){super();e(this,"description");e(this,"max_collapsed_lines");e(this,"max_expanded_lines");e(this,"footer");this.description=new l(t.description),Reflect.has(t,"maxCollapsedLines")&&(this.max_collapsed_lines=t.maxCollapsedLines),Reflect.has(t,"maxExpandedLines")&&(this.max_expanded_lines=t.maxExpandedLines),this.footer=new l(t.footer)}};o(iT,"MusicDescriptionShelf"),e(iT,"type","MusicDescriptionShelf");var Na=iT;var sT=class sT extends a{constructor(t){var n,c,u,m,h,x,b,g,T;super();e(this,"title");e(this,"description");e(this,"subtitle");e(this,"second_subtitle");e(this,"year");e(this,"song_count");e(this,"total_duration");e(this,"thumbnails");e(this,"badges");e(this,"author");e(this,"menu");this.title=new l(t.title),this.description=new l(t.description),this.subtitle=new l(t.subtitle),this.second_subtitle=new l(t.secondSubtitle),this.year=((c=(n=this.subtitle.runs)==null?void 0:n.find(I=>/^[12][0-9]{3}$/.test(I.text)))==null?void 0:c.text)||"",this.song_count=((m=(u=this.second_subtitle.runs)==null?void 0:u[0])==null?void 0:m.text)||"",this.total_duration=((x=(h=this.second_subtitle.runs)==null?void 0:h[2])==null?void 0:x.text)||"",this.thumbnails=y.fromResponse(t.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=p.parseArray(t.subtitleBadges);let r=(b=this.subtitle.runs)==null?void 0:b.find(I=>{var C,k;return(k=(C=I==null?void 0:I.endpoint)==null?void 0:C.payload)==null?void 0:k.browseId.startsWith("UC")});r&&(this.author={name:r.text,channel_id:(T=(g=r.endpoint)==null?void 0:g.payload)==null?void 0:T.browseId,endpoint:r.endpoint}),this.menu=p.parseItem(t.menu)}};o(sT,"MusicDetailHeader"),e(sT,"type","MusicDetailHeader");var fm=sT;var rT=class rT extends a{constructor(t){super();e(this,"playlist_id");e(this,"supported_download_states");this.playlist_id=t.playlistId,this.supported_download_states=t.supportedDownloadStates}};o(rT,"MusicDownloadStateBadge"),e(rT,"type","MusicDownloadStateBadge");var hm=rT;var oT=class oT extends a{constructor(t){super();e(this,"header");e(this,"edit_header");e(this,"playlist_id");this.header=p.parseItem(t.header),this.edit_header=p.parseItem(t.editHeader),this.playlist_id=t.playlistId}};o(oT,"MusicEditablePlaylistDetailHeader"),e(oT,"type","MusicEditablePlaylistDetailHeader");var dm=oT;var nT=class nT extends a{constructor(t){super();e(this,"element");this.element=Reflect.has(t,"elementRenderer")?p.parseItem(t,kn):null}};o(nT,"MusicElementHeader"),e(nT,"type","MusicElementHeader");var _m=nT;var aT=class aT extends a{constructor(t){super();e(this,"header");e(this,"title");Reflect.has(t,"header")&&(this.header=p.parseItem(t.header)),Reflect.has(t,"title")&&(this.title=new l(t.title))}};o(aT,"MusicHeader"),e(aT,"type","MusicHeader");var xm=aT;var cT=class cT extends a{constructor(t){super();e(this,"title");e(this,"menu");e(this,"more_button");e(this,"play_button");e(this,"share_endpoint");e(this,"start_radio_button");e(this,"subscription_button");e(this,"description");e(this,"thumbnail");this.title=new l(t.title),this.menu=p.parseItem(t.menu,D),this.more_button=p.parseItem(t.moreButton,rt),this.play_button=p.parseItem(t.playButton,v),"shareEndpoint"in t&&(this.share_endpoint=new d(t.shareEndpoint)),this.start_radio_button=p.parseItem(t.startRadioButton,v),this.subscription_button=p.parseItem(t.subscriptionButton,ft),this.description=new l(t.description),this.thumbnail=p.parseItem(t.thumbnail,kt)}};o(cT,"MusicImmersiveHeader"),e(cT,"type","MusicImmersiveHeader");var bm=cT;var lT=class lT{constructor(i){e(this,"icon_name");e(this,"endpoint");e(this,"a11y_text");e(this,"style");this.icon_name=i.iconName,this.endpoint=new d(i.onTap),this.a11y_text=i.a11yText,this.style=i.style}};o(lT,"ActionButton"),e(lT,"type","ActionButton");var Dk=lT,pT=class pT{constructor(i){e(this,"image");e(this,"content_mode");e(this,"crop_options");e(this,"image_aspect_ratio");e(this,"caption");e(this,"action_buttons");this.image=y.fromResponse(i.image.image),this.content_mode=i.image.contentMode,this.crop_options=i.image.cropOptions,this.image_aspect_ratio=i.imageAspectRatio,this.caption=i.caption,this.action_buttons=i.actionButtons.map(t=>new Dk(t))}};o(pT,"Panel"),e(pT,"type","Panel");var Bk=pT,uT=class uT extends a{constructor(t){super();e(this,"panels");e(this,"header");this.header=t.shelf.header,this.panels=t.shelf.panels.map(r=>new Bk(r))}};o(uT,"MusicLargeCardItemCarousel"),e(uT,"type","MusicLargeCardItemCarousel");var ym=uT;var mT=class mT extends a{constructor(t){super();e(this,"title");e(this,"edit_title");e(this,"edit_description");e(this,"privacy");e(this,"playlist_id");e(this,"endpoint");e(this,"privacy_dropdown");this.title=new l(t.title),this.edit_title=new l(t.editTitle),this.edit_description=new l(t.editDescription),this.privacy=t.privacy,this.playlist_id=t.playlistId,this.endpoint=new d(t.collaborationSettingsCommand),this.privacy_dropdown=p.parseItem(t.privacyDropdown,je)}};o(mT,"MusicPlaylistEditHeader"),e(mT,"type","MusicPlaylistEditHeader");var gm=mT;var fT=class fT extends a{constructor(t){var r,n,c;super();e(this,"playlist_id");e(this,"contents");e(this,"collapsed_item_count");e(this,"continuation");this.playlist_id=t.playlistId,this.contents=p.parseArray(t.contents,[Je,X]),this.collapsed_item_count=t.collapsedItemCount,this.continuation=((c=(n=(r=t.continuations)==null?void 0:r[0])==null?void 0:n.nextContinuationData)==null?void 0:c.continuation)||null}};o(fT,"MusicPlaylistShelf"),e(fT,"type","MusicPlaylistShelf");var wm=fT;var hT=class hT extends a{constructor(t){var c,u,m,h,x;super();e(this,"title");e(this,"thumbnail");e(this,"endpoint");e(this,"selected");e(this,"video_id");e(this,"duration");e(this,"author");e(this,"album");e(this,"artists");e(this,"badges");e(this,"menu");e(this,"set_video_id");this.title=new l(t.title),this.thumbnail=y.fromResponse(t.thumbnail),this.endpoint=new d(t.navigationEndpoint),this.selected=t.selected,this.video_id=t.videoId,this.duration={text:new l(t.lengthText).toString(),seconds:Nt(new l(t.lengthText).toString())};let r=(c=new l(t.longBylineText).runs)==null?void 0:c.find(b=>{var g,T,I;return(I=(T=(g=b.endpoint)==null?void 0:g.payload)==null?void 0:T.browseId)==null?void 0:I.startsWith("MPR")}),n=(u=new l(t.longBylineText).runs)==null?void 0:u.filter(b=>{var g,T,I;return(I=(T=(g=b.endpoint)==null?void 0:g.payload)==null?void 0:T.browseId)==null?void 0:I.startsWith("UC")});this.author=new l(t.shortBylineText).toString(),r&&(this.album={id:(h=(m=r.endpoint)==null?void 0:m.payload)==null?void 0:h.browseId,name:r.text,year:(x=new l(t.longBylineText).runs)==null?void 0:x.slice(-1)[0].text,endpoint:r.endpoint}),n&&(this.artists=n.map(b=>{var g,T;return{name:b.text,channel_id:(T=(g=b.endpoint)==null?void 0:g.payload)==null?void 0:T.browseId,endpoint:b.endpoint}})),this.badges=p.parseArray(t.badges),this.menu=p.parseItem(t.menu),this.set_video_id=t.playlistSetVideoId}};o(hT,"PlaylistPanelVideo"),e(hT,"type","PlaylistPanelVideo");var Re=hT;var dT=class dT extends a{constructor(t){super();e(this,"primary");e(this,"counterpart");this.primary=p.parseItem(t.primaryRenderer,Re),Reflect.has(t,"counterpart")&&(this.counterpart=$(t.counterpart.map(r=>p.parseItem(r.counterpartRenderer,Re))||[]))}};o(dT,"PlaylistPanelVideoWrapper"),e(dT,"type","PlaylistPanelVideoWrapper");var Aa=dT;var _T=class _T extends a{constructor(t){var r,n,c,u,m,h;super();e(this,"title");e(this,"title_text");e(this,"contents");e(this,"playlist_id");e(this,"is_infinite");e(this,"continuation");e(this,"is_editable");e(this,"preview_description");e(this,"num_items_to_show");this.title=t.title,this.title_text=new l(t.titleText),this.contents=p.parseArray(t.contents,[Aa,Re,zr]),this.playlist_id=t.playlistId,this.is_infinite=t.isInfinite,this.continuation=((c=(n=(r=t.continuations)==null?void 0:r[0])==null?void 0:n.nextRadioContinuationData)==null?void 0:c.continuation)||((h=(m=(u=t.continuations)==null?void 0:u[0])==null?void 0:m.nextContinuationData)==null?void 0:h.continuation),this.is_editable=t.isEditable,this.preview_description=t.previewDescription,this.num_items_to_show=t.numItemsToShow}};o(_T,"PlaylistPanel"),e(_T,"type","PlaylistPanel");var Pa=_T;var xT=class xT extends a{constructor(t){super();e(this,"content");this.content=p.parseItem(t.content,Pa)}};o(xT,"MusicQueue"),e(xT,"type","MusicQueue");var Ra=xT;var bT=class bT extends a{constructor(t){super();e(this,"thumbnail");e(this,"buttons");e(this,"title");e(this,"subtitle");e(this,"strapline_text_one");e(this,"strapline_thumbnail");e(this,"second_subtitle");e(this,"subtitle_badge");e(this,"description");this.thumbnail=p.parseItem(t.thumbnail,kt),this.buttons=p.parseArray(t.buttons,[Yi,rt,_s,v,D]),this.title=new l(t.title),this.subtitle=new l(t.subtitle),this.strapline_text_one=new l(t.straplineTextOne),this.strapline_thumbnail=p.parseItem(t.straplineThumbnail,kt),this.second_subtitle=new l(t.secondSubtitle),Reflect.has(t,"subtitleBadge")&&(this.subtitle_badge=p.parseArray(t.subtitleBadge,ds)),Reflect.has(t,"description")&&(this.description=p.parseItem(t.description,Na))}};o(bT,"MusicResponsiveHeader"),e(bT,"type","MusicResponsiveHeader");var Tm=bT;var yT=class yT extends a{constructor(t){var r,n,c,u;super();e(this,"title");e(this,"contents");e(this,"endpoint");e(this,"continuation");e(this,"bottom_text");e(this,"bottom_button");e(this,"subheaders");this.title=new l(t.title),this.contents=p.parseArray(t.contents,Je),Reflect.has(t,"bottomEndpoint")&&(this.endpoint=new d(t.bottomEndpoint)),Reflect.has(t,"continuations")&&(this.continuation=((n=(r=t.continuations)==null?void 0:r[0].nextContinuationData)==null?void 0:n.continuation)||((u=(c=t.continuations)==null?void 0:c[0].reloadContinuationData)==null?void 0:u.continuation)),Reflect.has(t,"bottomText")&&(this.bottom_text=new l(t.bottomText)),Reflect.has(t,"bottomButton")&&(this.bottom_button=p.parseItem(t.bottomButton,v)),Reflect.has(t,"subheaders")&&(this.subheaders=p.parseArray(t.subheaders))}};o(yT,"MusicShelf"),e(yT,"type","MusicShelf");var vm=yT;var gT=class gT extends a{constructor(t){super();e(this,"start_items");e(this,"end_items");Reflect.has(t,"startItems")&&(this.start_items=p.parseArray(t.startItems)),Reflect.has(t,"endItems")&&(this.end_items=p.parseArray(t.endItems))}};o(gT,"MusicSideAlignedItem"),e(gT,"type","MusicSideAlignedItem");var Im=gT;var wT=class wT extends a{constructor(t){super();e(this,"title");e(this,"icon_type");e(this,"menu");this.title=new l(t.title).toString(),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),this.menu=p.parseItem(t.menu,ba)}};o(wT,"MusicSortFilterButton"),e(wT,"type","MusicSortFilterButton");var km=wT;var TT=class TT extends a{constructor(t){super();e(this,"thumbnail");this.thumbnail=y.fromResponse(t.thumbnail)}};o(TT,"MusicTastebuilderShelfThumbnail"),e(TT,"type","MusicTastebuilderShelfThumbnail");var Ma=TT;var vT=class vT extends a{constructor(t){super();e(this,"thumbnail");e(this,"primary_text");e(this,"secondary_text");e(this,"action_button");e(this,"is_visible");this.thumbnail=p.parseItem(t.thumbnail,Ma),this.primary_text=new l(t.primaryText),this.secondary_text=new l(t.secondaryText),this.action_button=p.parseItem(t.actionButton,v),this.is_visible=t.isVisible}};o(vT,"MusicTasteBuilderShelf"),e(vT,"type","MusicTasteBuilderShelf");var Em=vT;var IT=class IT extends a{constructor(t){var r,n;super();e(this,"title");e(this,"thumbnail");e(this,"menu");e(this,"foreground_thumbnail");this.title=new l(t.title),this.thumbnail=t.thumbnail?y.fromResponse((r=t.thumbnail.musicThumbnailRenderer)==null?void 0:r.thumbnail):[],this.menu=p.parseItem(t.menu,D),this.foreground_thumbnail=t.foregroundThumbnail?y.fromResponse((n=t.foregroundThumbnail.musicThumbnailRenderer)==null?void 0:n.thumbnail):[]}};o(IT,"MusicVisualHeader"),e(IT,"type","MusicVisualHeader");var Sm=IT;var kT=class kT extends a{constructor(t){super();e(this,"placeholder_text");e(this,"buttons");e(this,"logo_type");this.placeholder_text=new l(t.placeholderText),this.buttons=p.parseArray(t.buttons),Reflect.has(t,"logo")&&Reflect.has(t.logo,"iconType")&&(this.logo_type=t.logo.iconType)}};o(kT,"MobileTopbar"),e(kT,"type","MobileTopbar");var Cm=kT;var ET=class ET extends a{constructor(t){super();e(this,"items");this.items=p.parseArray(t.items)}};o(ET,"MultiPageMenuSection"),e(ET,"type","MultiPageMenuSection");var Nm=ET;var ST=class ST extends a{constructor(t){super();e(this,"items");this.items=p.parseArray(t.items)}};o(ST,"PivotBar"),e(ST,"type","PivotBar");var Am=ST;var CT=class CT extends a{constructor(t){super();e(this,"pivot_identifier");e(this,"endpoint");e(this,"title");e(this,"accessibility_label");e(this,"icon_type");e(this,"accessibility");this.pivot_identifier=t.pivotIdentifier,this.endpoint=new d(t.navigationEndpoint),this.title=new Text(t.title),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new ut(t.accessibility.accessibilityData)}),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType)}get label(){var t,r;return(r=(t=this.accessibility)==null?void 0:t.accessibility_data)==null?void 0:r.label}};o(CT,"PivotBarItem"),e(CT,"type","PivotBarItem");var Pm=CT;var NT=class NT extends a{constructor(t){super();e(this,"icon_type");e(this,"menu_renderer");e(this,"target_id");Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.menu_renderer=p.parseItem(t.menuRenderer),this.target_id=t.targetId}};o(NT,"TopbarMenuButton"),e(NT,"type","TopbarMenuButton");var Rm=NT;var AT=class AT extends a{constructor(t){super();e(this,"response_text");this.response_text=new l(t.responseText)}};o(AT,"NotificationAction"),e(AT,"type","NotificationAction");var Mm=AT;var PT=class PT extends a{constructor(t){super();e(this,"list_id");e(this,"modal_title");e(this,"select_button_label");this.list_id=t.listId,this.modal_title=t.modalTitle,this.select_button_label=t.selectButtonLabel}};o(PT,"OpenOnePickAddVideoModalCommand"),e(PT,"type","OpenOnePickAddVideoModalCommand");var Dm=PT;var RT=class RT extends a{constructor(t){super();e(this,"title");e(this,"image");e(this,"animated_image");e(this,"hero_image");e(this,"metadata");e(this,"actions");e(this,"description");e(this,"attributation");e(this,"banner");this.title=p.parseItem(t.title,vn),this.image=p.parseItem(t.image,[qe,ss]),this.animated_image=p.parseItem(t.animatedImage,qe),this.hero_image=p.parseItem(t.heroImage,qe),this.metadata=p.parseItem(t.metadata,es),this.actions=p.parseItem(t.actions,Ui),this.description=p.parseItem(t.description,_n),this.attributation=p.parseItem(t.attributation,qr),this.banner=p.parseItem(t.banner,Fn)}};o(RT,"PageHeaderView"),e(RT,"type","PageHeaderView");var Da=RT;var MT=class MT extends a{constructor(t){super();e(this,"page_title");e(this,"content");this.page_title=t.pageTitle,this.content=p.parseItem(t.content,Da)}};o(MT,"PageHeader"),e(MT,"type","PageHeader");var be=MT;var DT=class DT extends a{constructor(t){super();e(this,"header_text");e(this,"body_text");e(this,"page_title");e(this,"header_icon_type");this.header_text=new l(t.headerText).toString(),this.body_text=new l(t.bodyText).toString(),this.page_title=new l(t.pageTitle).toString(),this.header_icon_type=t.headerIcon.iconType}};o(DT,"PageIntroduction"),e(DT,"type","PageIntroduction");var Ba=DT;var BT=class BT extends a{constructor(t){super();e(this,"thumbnail");e(this,"endpoint");e(this,"content_description");e(this,"target_id");e(this,"sound_attribution_title");e(this,"waveform_animation_style");e(this,"background_animation_style");this.thumbnail=y.fromResponse(t.thumbnail),this.endpoint=new d(t.onClickCommand),this.content_description=new l(t.contentDescription),this.target_id=t.targetId,this.sound_attribution_title=new l(t.soundAttributionTitle),this.waveform_animation_style=t.waveformAnimationStyle,this.background_animation_style=t.backgroundAnimationStyle}};o(BT,"PivotButton"),e(BT,"type","PivotButton");var La=BT;var LT=class LT extends a{constructor(t){super();e(this,"featured_channel");e(this,"allow_swipe_dismiss");e(this,"annotation_id");Reflect.has(t,"featuredChannel")&&(this.featured_channel={start_time_ms:t.featuredChannel.startTimeMs,end_time_ms:t.featuredChannel.endTimeMs,watermark:y.fromResponse(t.featuredChannel.watermark),channel_name:t.featuredChannel.channelName,endpoint:new d(t.featuredChannel.navigationEndpoint),subscribe_button:p.parseItem(t.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=t.allowSwipeDismiss,this.annotation_id=t.annotationId}};o(LT,"PlayerAnnotationsExpanded"),e(LT,"type","PlayerAnnotationsExpanded");var Oa=LT;var OT=class OT extends a{constructor(t){super();e(this,"caption_tracks");e(this,"audio_tracks");e(this,"default_audio_track_index");e(this,"translation_languages");Reflect.has(t,"captionTracks")&&(this.caption_tracks=t.captionTracks.map(r=>({base_url:r.baseUrl,name:new l(r.name),vss_id:r.vssId,language_code:r.languageCode,kind:r.kind,is_translatable:r.isTranslatable}))),Reflect.has(t,"audioTracks")&&(this.audio_tracks=t.audioTracks.map(r=>({audio_track_id:r.audioTrackId,captions_initial_state:r.captionsInitialState,default_caption_track_index:r.defaultCaptionTrackIndex,has_default_track:r.hasDefaultTrack,visibility:r.visibility,caption_track_indices:r.captionTrackIndices}))),Reflect.has(t,"defaultAudioTrackIndex")&&(this.default_audio_track_index=t.defaultAudioTrackIndex),Reflect.has(t,"translationLanguages")&&(this.translation_languages=t.translationLanguages.map(r=>({language_code:r.languageCode,language_name:new l(r.languageName)})))}};o(OT,"PlayerCaptionsTracklist"),e(OT,"type","PlayerCaptionsTracklist");var Ya=OT;var YT=class YT extends a{constructor(t){super();e(this,"endpoint");e(this,"enable_listen_first");this.endpoint=new d(t.endpoint),this.enable_listen_first=t.enableListenFirst}};o(YT,"PlayerOverflow"),e(YT,"type","PlayerOverflow");var Va=YT;var VT=class VT extends a{constructor(t){super();e(this,"overflow");this.overflow=p.parseItem(t.overflow,Va)}};o(VT,"PlayerControlsOverlay"),e(VT,"type","PlayerControlsOverlay");var Bm=VT;var UT=class UT extends a{constructor(t){super();e(this,"subreason");e(this,"reason");e(this,"proceed_button");e(this,"thumbnails");e(this,"icon_type");this.subreason=new l(t.subreason),this.reason=new l(t.reason),this.proceed_button=p.parseItem(t.proceedButton,v),this.thumbnails=y.fromResponse(t.thumbnail),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType)}};o(UT,"PlayerErrorMessage"),e(UT,"type","PlayerErrorMessage");var Lm=UT;var FT=class FT extends a{constructor(t){super();e(this,"title");e(this,"thumbnail");e(this,"offer_description");e(this,"offer_id");this.title=t.itemTitle,this.thumbnail=t.itemThumbnail,this.offer_description=t.offerDescription,this.offer_id=t.offerId}};o(FT,"PlayerLegacyDesktopYpcOffer"),e(FT,"type","PlayerLegacyDesktopYpcOffer");var Om=FT;var WT=class WT extends a{constructor(t){super();e(this,"video_message");e(this,"player_response");this.video_message=t.fullVideoMessage,this.player_response=t.unserializedPlayerResponse}};o(WT,"YpcTrailer"),e(WT,"type","YpcTrailer");var di=WT;var jT=class jT extends a{constructor(t){super();e(this,"video_id");e(this,"title");e(this,"thumbnail");e(this,"offer_headline");e(this,"offer_description");e(this,"offer_id");e(this,"offer_button_text");e(this,"video_message");e(this,"trailer");this.video_id=t.trailerVideoId,this.title=t.itemTitle,this.thumbnail=t.itemThumbnail,this.offer_headline=t.offerHeadline,this.offer_description=t.offerDescription,this.offer_id=t.offerId,this.offer_button_text=t.offerButtonText,this.video_message=t.fullVideoMessage,this.trailer=p.parseItem(t.ypcTrailer,di)}};o(jT,"PlayerLegacyDesktopYpcTrailer"),e(jT,"type","PlayerLegacyDesktopYpcTrailer");var Xs=jT;var HT=class HT extends a{constructor(t){super();e(this,"board");let[r,n,c,u,m]=t.spec.split("#");this.board={type:"live",template_url:r,thumbnail_width:parseInt(n,10),thumbnail_height:parseInt(c,10),columns:parseInt(u,10),rows:parseInt(m,10)}}};o(HT,"PlayerLiveStoryboardSpec"),e(HT,"type","PlayerLiveStoryboardSpec");var Ua=HT;var $T=class $T extends a{constructor(t){var r,n;super();e(this,"title");e(this,"description");e(this,"thumbnails");e(this,"embed");e(this,"length_seconds");e(this,"channel");e(this,"is_family_safe");e(this,"is_unlisted");e(this,"has_ypc_metadata");e(this,"view_count");e(this,"category");e(this,"publish_date");e(this,"upload_date");e(this,"available_countries");e(this,"start_timestamp");e(this,"end_timestamp");this.title=new l(t.title),this.description=new l(t.description),this.thumbnails=y.fromResponse(t.thumbnail),Reflect.has(t,"embed")&&(this.embed={iframe_url:t.embed.iframeUrl,flash_url:t.embed.flashUrl,flash_secure_url:t.embed.flashSecureUrl,width:t.embed.width,height:t.embed.height}),this.length_seconds=parseInt(t.lengthSeconds),this.channel={id:t.externalChannelId,name:t.ownerChannelName,url:t.ownerProfileUrl},this.is_family_safe=!!t.isFamilySafe,this.is_unlisted=!!t.isUnlisted,this.has_ypc_metadata=!!t.hasYpcMetadata,this.view_count=parseInt(t.viewCount),this.category=t.category,this.publish_date=t.publishDate,this.upload_date=t.uploadDate,this.available_countries=t.availableCountries,this.start_timestamp=(r=t.liveBroadcastDetails)!=null&&r.startTimestamp?new Date(t.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=(n=t.liveBroadcastDetails)!=null&&n.endTimestamp?new Date(t.liveBroadcastDetails.endTimestamp):null}};o($T,"PlayerMicroformat"),e($T,"type","PlayerMicroformat");var qt=$T;var GT=class GT extends a{constructor(t){super();e(this,"title");e(this,"video_id");e(this,"video_title");e(this,"short_view_count");e(this,"prefer_immediate_redirect");e(this,"count_down_secs_for_fullscreen");e(this,"published");e(this,"background");e(this,"thumbnail_overlays");e(this,"author");e(this,"cancel_button");e(this,"next_button");e(this,"close_button");this.title=new l(t.title),this.video_id=t.videoId,this.video_title=new l(t.videoTitle),this.short_view_count=new l(t.shortViewCountText),this.prefer_immediate_redirect=t.preferImmediateRedirect,this.count_down_secs_for_fullscreen=t.countDownSecsForFullscreen,this.published=new l(t.publishedTimeText),this.background=y.fromResponse(t.background),this.thumbnail_overlays=p.parseArray(t.thumbnailOverlays),this.author=new R(t.byline),this.cancel_button=p.parseItem(t.cancelButton,v),this.next_button=p.parseItem(t.nextButton,v),this.close_button=p.parseItem(t.closeButton,v)}};o(GT,"PlayerOverlayAutoplay"),e(GT,"type","PlayerOverlayAutoplay");var Fa=GT;var qT=class qT extends a{constructor(t){super();e(this,"title");e(this,"subtitle");this.title=new l(t.title),this.subtitle=new l(t.subtitle)}};o(qT,"PlayerOverlayVideoDetails"),e(qT,"type","PlayerOverlayVideoDetails");var Wa=qT;var KT=class KT extends a{constructor(t){super();e(this,"results");e(this,"title");this.results=p.parseArray(t.results,[An,Nn]),this.title=new l(t.title).toString()}};o(KT,"WatchNextEndScreen"),e(KT,"type","WatchNextEndScreen");var ja=KT;var zT=class zT extends a{constructor(t){super();e(this,"end_screen");e(this,"autoplay");e(this,"share_button");e(this,"add_to_menu");e(this,"fullscreen_engagement");e(this,"actions");e(this,"browser_media_session");e(this,"decorated_player_bar");e(this,"video_details");this.end_screen=p.parseItem(t.endScreen,ja),this.autoplay=p.parseItem(t.autoplay,Fa),this.share_button=p.parseItem(t.shareButton,v),this.add_to_menu=p.parseItem(t.addToMenu,D),this.fullscreen_engagement=p.parseItem(t.fullscreenEngagement),this.actions=p.parseArray(t.actions),this.browser_media_session=p.parseItem(t.browserMediaSession),this.decorated_player_bar=p.parseItem(t.decoratedPlayerBarRenderer,dn),this.video_details=p.parseItem(t.videoDetails,Wa)}};o(zT,"PlayerOverlay"),e(zT,"type","PlayerOverlay");var Ha=zT;var XT=class XT extends a{constructor(t){super();e(this,"id");e(this,"title");e(this,"subtitle");e(this,"stats");e(this,"brief_stats");e(this,"author");e(this,"description");e(this,"num_videos");e(this,"view_count");e(this,"can_share");e(this,"can_delete");e(this,"is_editable");e(this,"privacy");e(this,"save_button");e(this,"shuffle_play_button");e(this,"menu");e(this,"banner");this.id=t.playlistId,this.title=new l(t.title),this.subtitle=t.subtitle?new l(t.subtitle):null,this.stats=t.stats.map(r=>new l(r)),this.brief_stats=t.briefStats.map(r=>new l(r)),this.author=t.ownerText||t.ownerEndpoint?new R({...t.ownerText,navigationEndpoint:t.ownerEndpoint},t.ownerBadges,null):null,this.description=new l(t.descriptionText),this.num_videos=new l(t.numVideosText),this.view_count=new l(t.viewCountText),this.can_share=t.shareData.canShare,this.can_delete=t.editableDetails.canDelete,this.is_editable=t.isEditable,this.privacy=t.privacy,this.save_button=p.parseItem(t.saveButton),this.shuffle_play_button=p.parseItem(t.shufflePlayButton),this.menu=p.parseItem(t.moreActionsMenu),this.banner=p.parseItem(t.playlistHeaderBanner)}};o(XT,"PlaylistHeader"),e(XT,"type","PlaylistHeader");var $a=XT;var QT=class QT extends a{constructor(t){super();e(this,"title");e(this,"thumbnails");e(this,"video_count");e(this,"channel_name");e(this,"endpoint");this.title=new l(t.playlistTitle),this.thumbnails=y.fromResponse(t.thumbnail),this.video_count=new l(t.playlistVideoCount),this.channel_name=new l(t.channelName),this.endpoint=new d(t.action)}};o(QT,"PlaylistInfoCardContent"),e(QT,"type","PlaylistInfoCardContent");var Ym=QT;var JT=class JT extends a{constructor(t){super();e(this,"title");e(this,"description");this.title=t.title,this.description=t.description||null}};o(JT,"PlaylistMetadata"),e(JT,"type","PlaylistMetadata");var Ga=JT;var ZT=class ZT extends a{constructor(t){super();e(this,"items");this.items=p.parseArray(t.items)}get contents(){return this.items}};o(ZT,"PlaylistSidebar"),e(ZT,"type","PlaylistSidebar");var Vm=ZT;var t0=class t0 extends a{constructor(t){super();e(this,"stats");e(this,"thumbnail_renderer");e(this,"title");e(this,"menu");e(this,"endpoint");e(this,"description");this.stats=t.stats.map(r=>new l(r)),this.thumbnail_renderer=p.parseItem(t.thumbnailRenderer),this.title=new l(t.title),this.menu=p.parseItem(t.menu),this.endpoint=new d(t.navigationEndpoint),this.description=new l(t.description)}};o(t0,"PlaylistSidebarPrimaryInfo"),e(t0,"type","PlaylistSidebarPrimaryInfo");var qa=t0;var e0=class e0 extends a{constructor(t){super();e(this,"owner");e(this,"button");this.owner=p.parseItem(t.videoOwner),this.button=p.parseItem(t.button)}};o(e0,"PlaylistSidebarSecondaryInfo"),e(e0,"type","PlaylistSidebarSecondaryInfo");var Ka=e0;var i0=class i0 extends a{constructor(t){super();e(this,"icon_type");e(this,"text");Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),this.text=new l(t.text)}};o(i0,"PlaylistThumbnailOverlay"),e(i0,"type","PlaylistThumbnailOverlay");var Um=i0;var s0=class s0 extends a{constructor(t){super();e(this,"id");e(this,"index");e(this,"title");e(this,"author");e(this,"thumbnails");e(this,"thumbnail_overlays");e(this,"set_video_id");e(this,"endpoint");e(this,"is_playable");e(this,"menu");e(this,"upcoming");e(this,"video_info");e(this,"accessibility_label");e(this,"style");e(this,"duration");this.id=t.videoId,this.index=new l(t.index),this.title=new l(t.title),this.author=new R(t.shortBylineText),this.thumbnails=y.fromResponse(t.thumbnail),this.thumbnail_overlays=p.parseArray(t.thumbnailOverlays),this.set_video_id=t==null?void 0:t.setVideoId,this.endpoint=new d(t.navigationEndpoint),this.is_playable=t.isPlayable,this.menu=p.parseItem(t.menu,D),this.video_info=new l(t.videoInfo),this.accessibility_label=t.title.accessibility.accessibilityData.label,Reflect.has(t,"style")&&(this.style=t.style);let r=t.upcomingEventData&&+`${t.upcomingEventData.startTime}000`;r&&(this.upcoming=new Date(r)),this.duration={text:new l(t.lengthText).toString(),seconds:parseInt(t.lengthSeconds)}}get is_live(){var t;return((t=this.thumbnail_overlays.firstOfType(fe))==null?void 0:t.style)==="LIVE"}get is_upcoming(){var t;return((t=this.thumbnail_overlays.firstOfType(fe))==null?void 0:t.style)==="UPCOMING"}};o(s0,"PlaylistVideo"),e(s0,"type","PlaylistVideo");var xs=s0;var r0=class r0 extends a{constructor(t){super();e(this,"id");e(this,"is_editable");e(this,"can_reorder");e(this,"videos");this.id=t.playlistId,this.is_editable=t.isEditable,this.can_reorder=t.canReorder,this.videos=p.parseArray(t.contents)}};o(r0,"PlaylistVideoList"),e(r0,"type","PlaylistVideoList");var za=r0;var o0=class o0 extends a{constructor(t){super();e(this,"choices");e(this,"poll_type");e(this,"total_votes");e(this,"live_chat_poll_id");this.choices=t.choices.map(r=>({text:new l(r.text),select_endpoint:r.selectServiceEndpoint?new d(r.selectServiceEndpoint):null,deselect_endpoint:r.deselectServiceEndpoint?new d(r.deselectServiceEndpoint):null,vote_ratio_if_selected:(r==null?void 0:r.voteRatioIfSelected)||null,vote_percentage_if_selected:new l(r.votePercentageIfSelected),vote_ratio_if_not_selected:(r==null?void 0:r.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new l(r.votePercentageIfSelected),image:r.image?y.fromResponse(r.image):null})),Reflect.has(t,"type")&&(this.poll_type=t.type),Reflect.has(t,"totalVotes")&&(this.total_votes=new l(t.totalVotes)),Reflect.has(t,"liveChatPollId")&&(this.live_chat_poll_id=t.liveChatPollId)}};o(o0,"Poll"),e(o0,"type","Poll");var Fm=o0;var n0=class n0 extends $e{constructor(i){super(i)}};o(n0,"Post"),e(n0,"type","Post");var bs=n0;var a0=class a0 extends a{constructor(t){super();e(this,"images");this.images=p.parseArray(t.images,Qr)}};o(a0,"PostMultiImage"),e(a0,"type","PostMultiImage");var Wm=a0;var c0=class c0 extends a{constructor(t){super();e(this,"label");this.label=new l(t.label)}};o(c0,"PremiereTrailerBadge"),e(c0,"type","PremiereTrailerBadge");var jm=c0;var l0=class l0 extends a{constructor(t){super();e(this,"title");e(this,"suppress_padding_disclaimer");this.title=new l(t.title),this.suppress_padding_disclaimer=!!t.suppressPaddingDisclaimer}};o(l0,"ProductListHeader"),e(l0,"type","ProductListHeader");var Hm=l0;var p0=class p0 extends a{constructor(t){super();e(this,"title");e(this,"accessibility_title");e(this,"thumbnail");e(this,"price");e(this,"endpoint");e(this,"merchant_name");e(this,"stay_in_app");e(this,"view_button");this.title=new l(t.title),this.accessibility_title=t.accessibilityTitle,this.thumbnail=y.fromResponse(t.thumbnail),this.price=t.price,this.endpoint=new d(t.onClickCommand),this.merchant_name=t.merchantName,this.stay_in_app=!!t.stayInApp,this.view_button=p.parseItem(t.viewButton,v)}};o(p0,"ProductListItem"),e(p0,"type","ProductListItem");var $m=p0;var u0=class u0 extends a{constructor(t){super();e(this,"items");this.items=p.parseArray(t.items)}get contents(){return this.items}};o(u0,"ProfileColumn"),e(u0,"type","ProfileColumn");var Xa=u0;var m0=class m0 extends a{constructor(t){super();e(this,"items");this.items=p.parseArray(t.items)}get contents(){return this.items}};o(m0,"ProfileColumnStats"),e(m0,"type","ProfileColumnStats");var Gm=m0;var f0=class f0 extends a{constructor(t){super();e(this,"label");e(this,"value");this.label=new l(t.label),this.value=new l(t.value)}};o(f0,"ProfileColumnStatsEntry"),e(f0,"type","ProfileColumnStatsEntry");var qm=f0;var h0=class h0 extends a{constructor(t){super();e(this,"title");e(this,"thumbnails");this.title=new l(t.title),this.thumbnails=y.fromResponse(t.thumbnail)}};o(h0,"ProfileColumnUserInfo"),e(h0,"type","ProfileColumnUserInfo");var Km=h0;var d0=class d0 extends a{constructor(t){super();e(this,"choices");e(this,"total_votes");this.choices=t.choices.map(r=>({text:new l(r.text),is_correct:r.isCorrect})),this.total_votes=new l(t.totalVotes)}};o(d0,"Quiz"),e(d0,"type","Quiz");var zm=d0;var _0=class _0 extends a{constructor(t){super();e(this,"title");e(this,"subtitle");e(this,"avatars");e(this,"button");e(this,"surface");this.title=new l(t.title),this.subtitle=new l(t.subtitle),this.avatars=t.avatars.map(r=>new y(r)),this.button=p.parseItem(t.button,v),this.surface=t.surface}};o(_0,"RecognitionShelf"),e(_0,"type","RecognitionShelf");var Xm=_0;var x0=class x0 extends a{constructor(t){super();e(this,"id");e(this,"title");e(this,"thumbnails");e(this,"views");e(this,"endpoint");e(this,"accessibility");this.id=t.videoId,this.title=new l(t.headline),this.thumbnails=y.fromResponse(t.thumbnail),this.views=new l(t.viewCountText),this.endpoint=new d(t.navigationEndpoint),"accessibility"in t&&"accessibilityData"in t.accessibility&&(this.accessibility={accessibility_data:new ut(t.accessibility.accessibilityData)})}get label(){var t,r;return(r=(t=this.accessibility)==null?void 0:t.accessibility_data)==null?void 0:r.label}};o(x0,"ReelItem"),e(x0,"type","ReelItem");var ys=x0;var b0=class b0 extends a{constructor(t){super();e(this,"reel_title_text");e(this,"timestamp_text");e(this,"channel_title_text");e(this,"channel_thumbnail");e(this,"author");this.reel_title_text=new l(t.reelTitleText),this.timestamp_text=new l(t.timestampText),this.channel_title_text=new l(t.channelTitleText),this.channel_thumbnail=y.fromResponse(t.channelThumbnail),this.author=new R(t.channelNavigationEndpoint,void 0)}};o(b0,"ReelPlayerHeader"),e(b0,"type","ReelPlayerHeader");var Qa=b0;var y0=class y0 extends a{constructor(t){super();e(this,"like_button");e(this,"reel_player_header_supported_renderers");e(this,"menu");e(this,"next_item_button");e(this,"prev_item_button");e(this,"subscribe_button_renderer");e(this,"style");e(this,"view_comments_button");e(this,"share_button");e(this,"pivot_button");e(this,"info_panel");this.like_button=p.parseItem(t.likeButton,Vi),this.reel_player_header_supported_renderers=p.parseItem(t.reelPlayerHeaderSupportedRenderers,Qa),this.menu=p.parseItem(t.menu,D),this.next_item_button=p.parseItem(t.nextItemButton,v),this.prev_item_button=p.parseItem(t.prevItemButton,v),this.subscribe_button_renderer=p.parseItem(t.subscribeButtonRenderer,[v,ft]),this.style=t.style,this.view_comments_button=p.parseItem(t.viewCommentsButton,v),this.share_button=p.parseItem(t.shareButton,v),this.pivot_button=p.parseItem(t.pivotButton,La),this.info_panel=p.parseItem(t.infoPanel,jn)}};o(y0,"ReelPlayerOverlay"),e(y0,"type","ReelPlayerOverlay");var Qm=y0;var g0=class g0 extends a{constructor(t){super();e(this,"content");this.content=p.parseItem(t.content)}};o(g0,"RelatedChipCloud"),e(g0,"type","RelatedChipCloud");var Ja=g0;var w0=class w0 extends a{constructor(t){super();e(this,"header");e(this,"contents");e(this,"target_id");this.header=p.parseItem(t.header),this.contents=p.parseArray(t.contents),Reflect.has(t,"targetId")&&(this.target_id=t.targetId)}};o(w0,"RichGrid"),e(w0,"type","RichGrid");var ye=w0;var T0=class T0 extends a{constructor(t){super();e(this,"content");this.content=p.parseItem(t.content)}};o(T0,"RichItem"),e(T0,"type","RichItem");var Jm=T0;var v0=class v0 extends a{constructor(t){super();e(this,"title");e(this,"subtitle");e(this,"title_style");e(this,"icon_type");this.title=new l(t.title),this.subtitle=new l(t.subtitle),Reflect.has(t,"titleStyle")&&(this.title_style=t.titleStyle.style),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType)}};o(v0,"RichListHeader"),e(v0,"type","RichListHeader");var Zm=v0;var I0=class I0 extends a{constructor(t){super();e(this,"thumbnail");e(this,"title");e(this,"subtitle");e(this,"call_to_action");e(this,"icon_type");e(this,"endpoint");this.thumbnail=y.fromResponse(t.thumbnail),this.title=new l(t.title),this.subtitle=new l(t.subtitle),this.call_to_action=new l(t.callToAction),Reflect.has(t,"callToActionIcon")&&(this.icon_type=t.callToActionIcon.iconType),this.endpoint=new d(t.endpoint)}};o(I0,"RichMetadata"),e(I0,"type","RichMetadata");var Qs=I0;var k0=class k0 extends a{constructor(t){super();e(this,"contents");this.contents=p.parseArray(t.contents)}};o(k0,"RichMetadataRow"),e(k0,"type","RichMetadataRow");var Js=k0;var E0=class E0 extends a{constructor(t){super();e(this,"content");e(this,"full_bleed");e(this,"target_id");this.content=p.parseItem(t.content),this.full_bleed=!!t.fullBleed,"targetId"in t&&(this.target_id=t.targetId)}};o(E0,"RichSection"),e(E0,"type","RichSection");var tf=E0;var S0=class S0 extends a{constructor(t){super();e(this,"title");e(this,"contents");e(this,"endpoint");e(this,"subtitle");e(this,"is_expanded");e(this,"is_bottom_divider_hidden");e(this,"is_top_divider_hidden");e(this,"layout_sizing");e(this,"icon_type");e(this,"menu");e(this,"next_button");e(this,"previous_button");this.title=new l(t.title),this.contents=p.parseArray(t.contents),this.is_expanded=!!t.is_expanded,this.is_bottom_divider_hidden=!!t.isBottomDividerHidden,this.is_top_divider_hidden=!!t.isTopDividerHidden,"endpoint"in t&&(this.endpoint=new d(t.endpoint)),"subtitle"in t&&(this.subtitle=new l(t.subtitle)),"layoutSizing"in t&&(this.layout_sizing=t.layoutSizing),"icon"in t&&(this.icon_type=t.icon.iconType),this.menu=p.parseItem(t.menu),this.next_button=p.parseItem(t.nextButton),this.previous_button=p.parseItem(t.previousButton)}};o(S0,"RichShelf"),e(S0,"type","RichShelf");var Za=S0;var C0=class C0 extends a{constructor(t){super();e(this,"label");e(this,"endpoint");e(this,"tooltip");e(this,"status");this.label=new l(t.label),this.endpoint=new d(t.endpoint||t.navigationEndpoint),this.tooltip=t.tooltip,Reflect.has(t,"status")&&(this.status=t.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};o(C0,"SearchFilter"),e(C0,"type","SearchFilter");var tc=C0;var N0=class N0 extends a{constructor(t){super();e(this,"title");e(this,"filters");this.title=new l(t.title),this.filters=p.parseArray(t.filters,tc)}};o(N0,"SearchFilterGroup"),e(N0,"type","SearchFilterGroup");var gs=N0;var A0=class A0 extends a{constructor(t){super();e(this,"title");e(this,"groups");this.title=new l(t.title),this.groups=p.parseArray(t.groups,gs)}};o(A0,"SearchFilterOptionsDialog"),e(A0,"type","SearchFilterOptionsDialog");var ef=A0;var P0=class P0 extends a{constructor(t){super();e(this,"chip_bar");e(this,"search_filter_button");this.chip_bar=p.parseItem(t.chipBar,zi),this.search_filter_button=p.parseItem(t.searchFilterButton,v)}};o(P0,"SearchHeader"),e(P0,"type","SearchHeader");var ec=P0;var R0=class R0 extends a{constructor(t){super();e(this,"title");e(this,"groups");e(this,"button");Reflect.has(t,"title")&&(this.title=new l(t.title)),Reflect.has(t,"groups")&&(this.groups=p.parseArray(t.groups,gs)),Reflect.has(t,"button")&&(this.button=p.parseItem(t.button,rt))}};o(R0,"SearchSubMenu"),e(R0,"type","SearchSubMenu");var ic=R0;var M0=class M0 extends a{constructor(t){super();e(this,"contents");this.contents=p.parseArray(t.contents)}};o(M0,"SearchSuggestionsSection"),e(M0,"type","SearchSuggestionsSection");var sf=M0;var D0=class D0 extends a{constructor(t){super();e(this,"header");e(this,"call_to_action");e(this,"sections");e(this,"collapsed_label");this.header=p.parseItem(t.header),this.call_to_action=p.parseItem(t.callToAction),this.sections=p.parseArray(t.sections),Reflect.has(t,"collapsedLabel")&&(this.collapsed_label=new l(t.collapsedLabel))}};o(D0,"UniversalWatchCard"),e(D0,"type","UniversalWatchCard");var ws=D0;var B0=class B0 extends a{constructor(t){super();e(this,"target_id");e(this,"contents");this.contents=p.parseArray(t.contents,[ws])}};o(B0,"SecondarySearchContainer"),e(B0,"type","SecondarySearchContainer");var sc=B0;var L0=class L0 extends a{constructor(t){super();e(this,"headline");this.headline=l.fromAttributed(t.headline)}};o(L0,"SectionHeaderView"),e(L0,"type","SectionHeaderView");var rf=L0;var O0=class O0 extends a{constructor(t){super();e(this,"like_button");e(this,"dislike_button");this.like_button=p.parseItem(t.likeButton,[rt,v]),this.dislike_button=p.parseItem(t.dislikeButton,[rt,v])}};o(O0,"SegmentedLikeDislikeButton"),e(O0,"type","SegmentedLikeDislikeButton");var _i=O0;var Y0=class Y0 extends a{constructor(t){super();e(this,"title");e(this,"summary");e(this,"enable_endpoint");e(this,"disable_endpoint");e(this,"item_id");Reflect.has(t,"title")&&(this.title=new l(t.title)),Reflect.has(t,"summary")&&(this.summary=new l(t.summary)),Reflect.has(t,"enableServiceEndpoint")&&(this.enable_endpoint=new d(t.enableServiceEndpoint)),Reflect.has(t,"disableServiceEndpoint")&&(this.disable_endpoint=new d(t.disableServiceEndpoint)),this.item_id=t.itemId}};o(Y0,"SettingBoolean"),e(Y0,"type","SettingBoolean");var of=Y0;var V0=class V0 extends a{constructor(t){super();e(this,"title");e(this,"help_text");e(this,"enabled");e(this,"disabled");e(this,"id");this.title=new l(t.title),this.help_text=new l(t.helpText),this.enabled=t.enabled,this.disabled=t.disabled,this.id=t.id}};o(V0,"SettingsCheckbox"),e(V0,"type","SettingsCheckbox");var rc=V0;var U0=class U0 extends a{constructor(t){super();e(this,"title");e(this,"subtitle");e(this,"enabled");e(this,"enable_endpoint");e(this,"disable_endpoint");this.title=new l(t.title),this.subtitle=new l(t.subtitle),this.enabled=t.enabled,this.enable_endpoint=new d(t.enableServiceEndpoint),this.disable_endpoint=new d(t.disableServiceEndpoint)}};o(U0,"SettingsSwitch"),e(U0,"type","SettingsSwitch");var Ts=U0;var F0=class F0 extends a{constructor(t){super();e(this,"title");e(this,"text");e(this,"options");this.title=new l(t.title),Reflect.has(t,"text")&&(this.text=new l(t.text).toString()),Reflect.has(t,"options")&&(this.options=p.parseArray(t.options,[Ts,je,is,rc,$o]))}};o(F0,"SettingsOptions"),e(F0,"type","SettingsOptions");var vs=F0;var W0=class W0 extends a{constructor(t){super();e(this,"title");e(this,"items");this.title=new l(t.title),this.items=p.parseArray(t.items,ue)}get contents(){return this.items}};o(W0,"SettingsSidebar"),e(W0,"type","SettingsSidebar");var oc=W0;var j0=class j0 extends a{constructor(t){super();e(this,"thumbnail");e(this,"content");e(this,"published");e(this,"menu");e(this,"original_post");e(this,"id");e(this,"endpoint");e(this,"expand_button");e(this,"author");this.thumbnail=y.fromResponse(t.thumbnail),this.content=new l(t.content),this.published=new l(t.publishedTimeText),this.menu=p.parseItem(t.actionMenu,D),this.original_post=p.parseItem(t.originalPost,[$e,bs]),this.id=t.postId,this.endpoint=new d(t.navigationEndpoint),this.expand_button=p.parseItem(t.expandButton,v),this.author=new R(t.displayName,void 0)}};o(j0,"SharedPost"),e(j0,"type","SharedPost");var nc=j0;var H0=class H0 extends a{constructor(t){super();e(this,"title");this.title=p.parseItem(t.title)}};o(H0,"SharePanelHeader"),e(H0,"type","SharePanelHeader");var ac=H0;var $0=class $0 extends a{constructor(t){super();e(this,"title");this.title=new l(t.title)}};o($0,"SharePanelTitleV15"),e($0,"type","SharePanelTitleV15");var nf=$0;var G0=class G0 extends a{constructor(t){super();e(this,"endpoint");e(this,"service_name");e(this,"target_id");e(this,"title");Reflect.has(t,"serviceEndpoint")?this.endpoint=new d(t.serviceEndpoint):Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new d(t.navigationEndpoint)),this.service_name=t.serviceName,this.target_id=t.targetId,this.title=new l(t.title)}};o(G0,"ShareTarget"),e(G0,"type","ShareTarget");var cc=G0;var q0=class q0 extends a{constructor(t){super();e(this,"title");e(this,"endpoint");e(this,"content");e(this,"icon_type");e(this,"menu");e(this,"play_all_button");e(this,"subtitle");this.title=new l(t.title),Reflect.has(t,"endpoint")&&(this.endpoint=new d(t.endpoint)),this.content=p.parseItem(t.content),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"menu")&&(this.menu=p.parseItem(t.menu)),Reflect.has(t,"playAllButton")&&(this.play_all_button=p.parseItem(t.playAllButton,v)),Reflect.has(t,"subtitle")&&(this.subtitle=new l(t.subtitle))}};o(q0,"Shelf"),e(q0,"type","Shelf");var Is=q0;var K0=class K0 extends a{constructor(t){var r;super();e(this,"entity_id");e(this,"accessibility_text");e(this,"thumbnail");e(this,"on_tap_endpoint");e(this,"menu_on_tap");e(this,"index_in_collection");e(this,"menu_on_tap_a11y_label");e(this,"overlay_metadata");e(this,"inline_player_data");e(this,"badge");this.entity_id=t.entityId,this.accessibility_text=t.accessibilityText,this.thumbnail=y.fromResponse(t.thumbnail),this.on_tap_endpoint=new d(t.onTap),this.menu_on_tap=new d(t.menuOnTap),this.index_in_collection=t.indexInCollection,this.menu_on_tap_a11y_label=t.menuOnTapA11yLabel,this.overlay_metadata={primary_text:t.overlayMetadata.primaryText?l.fromAttributed(t.overlayMetadata.primaryText):void 0,secondary_text:t.overlayMetadata.secondaryText?l.fromAttributed(t.overlayMetadata.secondaryText):void 0},(r=t.inlinePlayerData)!=null&&r.onVisible&&(this.inline_player_data=new d(t.inlinePlayerData.onVisible)),t.badge&&(this.badge=p.parseItem(t.badge,Fi))}};o(K0,"ShortsLockupView"),e(K0,"type","ShortsLockupView");var ks=K0;var z0=class z0 extends a{constructor(t){super();e(this,"corrected_query");e(this,"original_query");e(this,"corrected_query_endpoint");e(this,"original_query_endpoint");e(this,"search_instead_for");e(this,"showing_results_for");this.corrected_query=new l(t.correctedQuery),this.original_query=new l(t.originalQuery),this.corrected_query_endpoint=new d(t.correctedQueryEndpoint),this.original_query_endpoint=new d(t.originalQueryEndpoint),this.search_instead_for=new l(t.searchInsteadFor),this.showing_results_for=new l(t.showingResultsFor)}};o(z0,"ShowingResultsFor"),e(z0,"type","ShowingResultsFor");var af=z0;var X0=class X0 extends a{constructor(t){super();e(this,"image");e(this,"title");e(this,"display_domain");e(this,"show_link_icon");e(this,"call_to_action");e(this,"endpoint");this.image=y.fromResponse(t.image),this.title=new l(t.title),this.display_domain=new l(t.displayDomain),this.show_link_icon=t.showLinkIcon,this.call_to_action=new l(t.callToAction),this.endpoint=new d(t.command)}};o(X0,"SimpleCardContent"),e(X0,"type","SimpleCardContent");var cf=X0;var Q0=class Q0 extends a{constructor(t){super();e(this,"message");e(this,"prominent");this.message=new l(t.message),this.prominent=t.prominent}};o(Q0,"SimpleCardTeaser"),e(Q0,"type","SimpleCardTeaser");var lf=Q0;var J0=class J0 extends a{constructor(t){super();e(this,"lines");e(this,"style");this.lines=t.lines.map(r=>new l(r)),this.style=t.layoutStyle}};o(J0,"SimpleTextSection"),e(J0,"type","SimpleTextSection");var pf=J0;var Z0=class Z0 extends a{constructor(t){super();e(this,"action_text");e(this,"nav_text");e(this,"details");e(this,"icon_type");e(this,"endpoint");this.action_text=new l(t.actionText),this.nav_text=new l(t.navigationText),this.details=new l(t.detailsText),this.icon_type=t.icon.iconType,this.endpoint=new d(t.navigationEndpoint)}};o(Z0,"SingleActionEmergencySupport"),e(Z0,"type","SingleActionEmergencySupport");var uf=Z0;var tv=class tv extends a{constructor(t){super();e(this,"title");e(this,"selected");e(this,"endpoint");e(this,"content");this.title=t.title||"N/A",this.selected=!!t.selected,this.endpoint=new d(t.endpoint),this.content=p.parseItem(t.content,[lt,Ra,ye])}};o(tv,"Tab"),e(tv,"type","Tab");var Pt=tv;var ev=class ev extends a{constructor(t){super();e(this,"tabs");this.tabs=p.parseArray(t.tabs,Pt)}};o(ev,"SingleColumnBrowseResults"),e(ev,"type","SingleColumnBrowseResults");var mf=ev;var iv=class iv extends a{constructor(t){super();e(this,"contents");this.contents=p.parse(t)}};o(iv,"SingleColumnMusicWatchNextResults"),e(iv,"type","SingleColumnMusicWatchNextResults");var ff=iv;var sv=class sv extends a{constructor(t){super();e(this,"thumbnails");e(this,"style");this.thumbnails=y.fromResponse(t.thumbnail),this.style=t.style}};o(sv,"SingleHeroImage"),e(sv,"type","SingleHeroImage");var hf=sv;var rv=class rv extends a{constructor(t){super();e(this,"thumbnail");e(this,"title");e(this,"endpoint");e(this,"subscribe_button");this.thumbnail=y.fromResponse(t.thumbnail),this.title=new l(t.title),this.endpoint=new d(t.navigationEndpoint),this.subscribe_button=p.parseItem(t.subscribeButton,ft)}};o(rv,"SlimOwner"),e(rv,"type","SlimOwner");var df=rv;var ov=class ov extends a{constructor(t){super();e(this,"title");e(this,"collapsed_subtitle");e(this,"expanded_subtitle");e(this,"owner");e(this,"description");e(this,"video_id");e(this,"date");this.title=new l(t.title),this.collapsed_subtitle=new l(t.collapsedSubtitle),this.expanded_subtitle=new l(t.expandedSubtitle),this.owner=p.parseItem(t.owner),this.description=new l(t.description),this.video_id=t.videoId,this.date=new l(t.dateText)}};o(ov,"SlimVideoMetadata"),e(ov,"type","SlimVideoMetadata");var _f=ov;var nv=class nv extends a{constructor(t){super();e(this,"start_at_option_label");this.start_at_option_label=new l(t.startAtOptionLabel)}};o(nv,"StartAt"),e(nv,"type","StartAt");var lc=nv;var av=class av extends a{constructor(t){super();e(this,"contents");this.contents=p.parse(t)}};o(av,"Tabbed"),e(av,"type","Tabbed");var xf=av;var cv=class cv extends a{constructor(t){super();e(this,"tabs");this.tabs=p.parseArray(t.tabs,Pt)}};o(cv,"TabbedSearchResults"),e(cv,"type","TabbedSearchResults");var bf=cv;var lv=class lv extends a{constructor(t){super();e(this,"title");e(this,"style");this.title=new l(t.title),this.style=t.style}};o(lv,"TextHeader"),e(lv,"type","TextHeader");var yf=lv;var pv=class pv extends a{constructor(t){super();e(this,"share_targets");this.share_targets=p.parseArray(t.shareTargets,cc)}};o(pv,"ThirdPartyShareTargetSection"),e(pv,"type","ThirdPartyShareTargetSection");var pc=pv;var uv=class uv extends a{constructor(t){super();e(this,"landscape");e(this,"portrait");this.landscape=y.fromResponse(t.landscape),this.portrait=y.fromResponse(t.portrait)}};o(uv,"ThumbnailLandscapePortrait"),e(uv,"type","ThumbnailLandscapePortrait");var gf=uv;var mv=class mv extends a{constructor(t){super();e(this,"text");this.text=new l(t.text).toString()}};o(mv,"ThumbnailOverlayEndorsement"),e(mv,"type","ThumbnailOverlayEndorsement");var wf=mv;var fv=class fv extends a{constructor(t){super();e(this,"text");e(this,"icon_type");this.text=new l(t.text),this.icon_type=t.icon.iconType}};o(fv,"ThumbnailOverlayHoverText"),e(fv,"type","ThumbnailOverlayHoverText");var Tf=fv;var hv=class hv extends a{constructor(t){super();e(this,"text");e(this,"icon_type");this.text=new l(t.text).toString(),this.icon_type=t.icon.iconType}};o(hv,"ThumbnailOverlayInlineUnplayable"),e(hv,"type","ThumbnailOverlayInlineUnplayable");var vf=hv;var dv=class dv extends a{constructor(t){super();e(this,"text");this.text=new l(t.text)}};o(dv,"ThumbnailOverlayLoadingPreview"),e(dv,"type","ThumbnailOverlayLoadingPreview");var If=dv;var _v=class _v extends a{constructor(t){super();e(this,"text");this.text=new l(t.text).toString()}};o(_v,"ThumbnailOverlayNowPlaying"),e(_v,"type","ThumbnailOverlayNowPlaying");var kf=_v;var xv=class xv extends a{constructor(t){super();e(this,"hack");this.hack=t.hack}};o(xv,"ThumbnailOverlayPinking"),e(xv,"type","ThumbnailOverlayPinking");var Ef=xv;var bv=class bv extends a{constructor(t){super();e(this,"texts");this.texts=t.texts.map(r=>new l(r))}};o(bv,"ThumbnailOverlayPlaybackStatus"),e(bv,"type","ThumbnailOverlayPlaybackStatus");var Sf=bv;var yv=class yv extends a{constructor(t){super();e(this,"percent_duration_watched");this.percent_duration_watched=t.percentDurationWatched}};o(yv,"ThumbnailOverlayResumePlayback"),e(yv,"type","ThumbnailOverlayResumePlayback");var Cf=yv;var gv=class gv extends a{constructor(t){super();e(this,"text");e(this,"icon_type");this.text=new l(t.text),this.icon_type=t.icon.iconType}};o(gv,"ThumbnailOverlaySidePanel"),e(gv,"type","ThumbnailOverlaySidePanel");var Nf=gv;var wv=class wv extends a{constructor(t){super();e(this,"is_toggled");e(this,"icon_type");e(this,"tooltip");e(this,"toggled_endpoint");e(this,"untoggled_endpoint");Reflect.has(t,"isToggled")&&(this.is_toggled=t.isToggled),this.icon_type={toggled:t.toggledIcon.iconType,untoggled:t.untoggledIcon.iconType},this.tooltip={toggled:t.toggledTooltip,untoggled:t.untoggledTooltip},t.toggledServiceEndpoint&&(this.toggled_endpoint=new d(t.toggledServiceEndpoint)),t.untoggledServiceEndpoint&&(this.untoggled_endpoint=new d(t.untoggledServiceEndpoint))}};o(wv,"ThumbnailOverlayToggleButton"),e(wv,"type","ThumbnailOverlayToggleButton");var Af=wv;var Tv=class Tv extends a{constructor(t){super();e(this,"title");this.title=new l(t.title)}};o(Tv,"TitleAndButtonListHeader"),e(Tv,"type","TitleAndButtonListHeader");var Pf=Tv;var vv=class vv extends a{constructor(t){super();e(this,"label");e(this,"toggled");e(this,"toggle_on_action");e(this,"toggle_off_action");this.label=new Text(t.label),this.toggled=t.toggled,"toggleOnAction"in t&&(this.toggle_on_action=new d(t.toggleOnAction)),"toggleOffAction"in t&&(this.toggle_off_action=new d(t.toggleOffAction))}};o(vv,"ToggleFormField"),e(vv,"type","ToggleFormField");var Rf=vv;var Iv=class Iv extends a{constructor(t){super();e(this,"text");e(this,"toggled_text");e(this,"icon_type");e(this,"toggled_icon_type");e(this,"default_endpoint");e(this,"toggled_endpoint");this.text=new l(t.defaultText),this.toggled_text=new l(t.toggledText),this.icon_type=t.defaultIcon.iconType,this.toggled_icon_type=t.toggledIcon.iconType,this.default_endpoint=new d(t.defaultServiceEndpoint),this.toggled_endpoint=new d(t.toggledServiceEndpoint)}};o(Iv,"ToggleMenuServiceItem"),e(Iv,"type","ToggleMenuServiceItem");var Mf=Iv;var kv=class kv extends a{constructor(t){super();e(this,"promo_config");e(this,"target_id");e(this,"details");e(this,"suggested_position");e(this,"dismiss_stratedy");e(this,"dwell_time_ms");this.promo_config={promo_id:t.promoConfig.promoId,impression_endpoints:t.promoConfig.impressionEndpoints.map(r=>new d(r)),accept:new d(t.promoConfig.acceptCommand),dismiss:new d(t.promoConfig.dismissCommand)},this.target_id=t.targetId,this.details=new l(t.detailsText),this.suggested_position=t.suggestedPosition.type,this.dismiss_stratedy=t.dismissStrategy.type,this.dwell_time_ms=parseInt(t.dwellTimeMs)}};o(kv,"Tooltip"),e(kv,"type","Tooltip");var Df=kv;var Ev=class Ev extends a{constructor(t){var r;super();e(this,"title");e(this,"avatar");e(this,"subtitle");e(this,"subscribe_button");e(this,"endpoint");this.title=new l(t.title),this.avatar=y.fromResponse((r=t.thumbnail)!=null?r:t.avatar),this.subtitle=new l(t.subtitle),this.subscribe_button=p.parseItem(t.subscribeButton,ft),this.endpoint=new d(t.navigationEndpoint)}};o(Ev,"TopicChannelDetails"),e(Ev,"type","TopicChannelDetails");var Bf=Ev;var Sv=class Sv extends a{constructor(t){super();e(this,"tabs");e(this,"secondary_contents");this.tabs=p.parseArray(t.tabs,[Pt,fi]),this.secondary_contents=p.parseItem(t.secondaryContents,[lt,Wi,Xa])}};o(Sv,"TwoColumnBrowseResults"),e(Sv,"type","TwoColumnBrowseResults");var ge=Sv;var Cv=class Cv extends a{constructor(t){super();e(this,"header");e(this,"primary_contents");e(this,"secondary_contents");e(this,"target_id");this.header=p.parseItem(t.header),this.primary_contents=p.parseItem(t.primaryContents,[ye,lt]),this.secondary_contents=p.parseItem(t.secondaryContents,[sc]),"targetId"in t&&(this.target_id=t.targetId)}};o(Cv,"TwoColumnSearchResults"),e(Cv,"type","TwoColumnSearchResults");var uc=Cv;var Lf,Lk,Nv=class Nv extends a{constructor(t){var c,u,m,h,x;super();E(this,Lf);e(this,"results");e(this,"secondary_results");e(this,"conversation_bar");e(this,"playlist");e(this,"autoplay");this.results=p.parseArray((c=t.results)==null?void 0:c.results.contents),this.secondary_results=p.parseArray((u=t.secondaryResults)==null?void 0:u.secondaryResults.results),this.conversation_bar=p.parseItem(t==null?void 0:t.conversationBar);let r=(m=t.playlist)==null?void 0:m.playlist;r&&(this.playlist={id:r.playlistId,title:r.title,author:(h=r.shortBylineText)!=null&&h.simpleText?new l(r.shortBylineText):new R(r.longBylineText),contents:p.parseArray(r.contents),current_index:r.currentIndex,is_infinite:!!r.isInfinite,menu:p.parseItem(r.menu,D)});let n=(x=t.autoplay)==null?void 0:x.autoplay;n&&(this.autoplay={sets:n.sets.map(b=>P(this,Lf,Lk).call(this,b))},n.modifiedSets&&(this.autoplay.modified_sets=n.modifiedSets.map(b=>P(this,Lf,Lk).call(this,b))),n.countDownSecs&&(this.autoplay.count_down_secs=n.countDownSecs))}};Lf=new WeakSet,Lk=o(function(t){let r={autoplay_video:new d(t.autoplayVideo)};return t.nextButtonVideo&&(r.next_button_video=new d(t.nextButtonVideo)),r},"#parseAutoplaySet"),o(Nv,"TwoColumnWatchNextResults"),e(Nv,"type","TwoColumnWatchNextResults");var mc=Nv;var Av=class Av extends a{constructor(t){super();e(this,"third_party_network_section");e(this,"header");e(this,"share_panel_version");e(this,"show_loading_spinner");if(t.contents){let r=t.contents.find(n=>n.thirdPartyNetworkSection);r&&(this.third_party_network_section={share_target_container:p.parseItem(r.thirdPartyNetworkSection.shareTargetContainer,pc),copy_link_container:p.parseItem(r.thirdPartyNetworkSection.copyLinkContainer,is),start_at_container:p.parseItem(r.thirdPartyNetworkSection.startAtContainer,lc)})}this.header=p.parseItem(t.header,ac),this.share_panel_version=t.sharePanelVersion,Reflect.has(t,"showLoadingSpinner")&&(this.show_loading_spinner=t.showLoadingSpinner)}};o(Av,"UnifiedSharePanel"),e(Av,"type","UnifiedSharePanel");var Of=Av;var Pv=class Pv extends a{constructor(t){super();e(this,"message_title");e(this,"message_text");e(this,"action_button");e(this,"dismiss_button");e(this,"is_visible");this.message_title=new l(t.dialogMessageTitle),this.message_text=new l(t.dialogMessageText),this.action_button=p.parseItem(t.actionButton,v),this.dismiss_button=p.parseItem(t.dismissButton,v),this.is_visible=t.isVisible}};o(Pv,"UpsellDialog"),e(Pv,"type","UpsellDialog");var Yf=Pv;var Rv=class Rv extends a{constructor(t){super();e(this,"items");e(this,"collapsed_item_count");e(this,"collapsed_state_button_text");this.items=p.parseArray(t.items),this.collapsed_item_count=t.collapsedItemCount,this.collapsed_state_button_text=new l(t.collapsedStateButtonText)}get contents(){return this.items}};o(Rv,"VerticalList"),e(Rv,"type","VerticalList");var Vf=Rv;var Mv=class Mv extends a{constructor(t){super();e(this,"items");e(this,"view_all_text");e(this,"view_all_endpoint");this.items=p.parseArray(t.items),this.view_all_text=new l(t.viewAllText),this.view_all_endpoint=new d(t.viewAllEndpoint)}get contents(){return this.items}};o(Mv,"VerticalWatchCardList"),e(Mv,"type","VerticalWatchCardList");var Uf=Mv;var Dv=class Dv extends a{constructor(t){super();e(this,"title");e(this,"channel_name");e(this,"view_count");e(this,"video_thumbnails");e(this,"duration");e(this,"endpoint");this.title=new l(t.videoTitle),this.channel_name=new l(t.channelName),this.view_count=new l(t.viewCountText),this.video_thumbnails=y.fromResponse(t.videoThumbnail),this.duration=new l(t.lengthString),this.endpoint=new d(t.action)}};o(Dv,"VideoInfoCardContent"),e(Dv,"type","VideoInfoCardContent");var Ff=Dv;var Bv=class Bv extends a{constructor(t){super();e(this,"carousel_titles");e(this,"carousel_items");this.carousel_titles=p.parse(t.carouselTitles,!0,Wo),this.carousel_items=p.parse(t.carouselItems,!0,Fo)}};o(Bv,"VideoMetadataCarouselView"),e(Bv,"type","VideoMetadataCarouselView");var Wf=Bv;var Lv=class Lv{constructor(i){e(this,"text");e(this,"subscribed");e(this,"subscription_type");this.text=new l(i.text),this.subscribed=i.isSubscribed,"subscriptionType"in i&&(this.subscription_type=i.subscriptionType)}};o(Lv,"SubscriptionButton"),e(Lv,"type","SubscriptionButton");var fc=Lv;var Ov=class Ov extends a{constructor(t){super();e(this,"subscription_button");e(this,"subscriber_count");e(this,"author");"subscriptionButton"in t&&(this.subscription_button=new fc(t.subscriptionButton)),this.subscriber_count=new l(t.subscriberCountText),this.author=new R({...t.title,navigationEndpoint:t.navigationEndpoint},t.badges,t.thumbnail)}};o(Ov,"VideoOwner"),e(Ov,"type","VideoOwner");var Es=Ov;var Yv=class Yv extends a{constructor(t){super();e(this,"original_view_count");e(this,"short_view_count");e(this,"extra_short_view_count");e(this,"view_count");this.original_view_count=t.originalViewCount,this.short_view_count=new l(t.shortViewCount),this.extra_short_view_count=new l(t.extraShortViewCount),this.view_count=new l(t.viewCount)}};o(Yv,"VideoViewCount"),e(Yv,"type","VideoViewCount");var hc=Yv;var Vv=class Vv extends a{constructor(t){super();e(this,"title");e(this,"super_title_link");e(this,"station_name");e(this,"view_count");e(this,"badges");e(this,"published");e(this,"relative_date");e(this,"menu");this.title=new l(t.title),"superTitleLink"in t&&(this.super_title_link=new l(t.superTitleLink)),"stationName"in t&&(this.station_name=new l(t.stationName)),this.view_count=p.parseItem(t.viewCount,hc),this.badges=p.parseArray(t.badges,Ot),this.published=new l(t.dateText),this.relative_date=new l(t.relativeDateText),this.menu=p.parseItem(t.videoActions,D)}};o(Vv,"VideoPrimaryInfo"),e(Vv,"type","VideoPrimaryInfo");var dc=Vv;var Uv=class Uv extends a{constructor(t){super();e(this,"owner");e(this,"description");e(this,"description_placeholder");e(this,"subscribe_button");e(this,"metadata");e(this,"show_more_text");e(this,"show_less_text");e(this,"default_expanded");e(this,"description_collapsed_lines");this.owner=p.parseItem(t.owner,Es),this.description=new l(t.description),"attributedDescription"in t&&(this.description=l.fromAttributed(t.attributedDescription)),"descriptionPlaceholder"in t&&(this.description_placeholder=new l(t.descriptionPlaceholder)),this.subscribe_button=p.parseItem(t.subscribeButton,[ft,v]),this.metadata=p.parseItem(t.metadataRowContainer,wa),this.show_more_text=new l(t.showMoreText),this.show_less_text=new l(t.showLessText),this.default_expanded=t.defaultExpanded,this.description_collapsed_lines=t.descriptionCollapsedLines}};o(Uv,"VideoSecondaryInfo"),e(Uv,"type","VideoSecondaryInfo");var Zs=Uv;var Fv=class Fv extends a{constructor(t){super();e(this,"title");e(this,"subtitle");e(this,"duration");e(this,"style");this.title=new l(t.title),this.subtitle=new l(t.subtitle),this.duration={text:new l(t.lengthText).toString(),seconds:Nt(t.lengthText.simpleText)},this.style=t.style}};o(Fv,"WatchCardCompactVideo"),e(Fv,"type","WatchCardCompactVideo");var _c=Fv;var Wv=class Wv extends a{constructor(t){var r;super();e(this,"endpoint");e(this,"call_to_action_button");e(this,"hero_image");e(this,"label");this.endpoint=new d(t.navigationEndpoint),this.call_to_action_button=p.parseItem(t.callToActionButton),this.hero_image=p.parseItem(t.heroImage),this.label=((r=t.lengthText)==null?void 0:r.accessibility.accessibilityData.label)||""}};o(Wv,"WatchCardHeroVideo"),e(Wv,"type","WatchCardHeroVideo");var jf=Wv;var jv=class jv extends a{constructor(t){super();e(this,"title");e(this,"title_endpoint");e(this,"subtitle");e(this,"author");e(this,"style");this.title=new l(t.title),this.title_endpoint=new d(t.titleNavigationEndpoint),this.subtitle=new l(t.subtitle),this.author=new R(t,t.titleBadge?[t.titleBadge]:null,t.avatar),this.author.name=this.title.toString(),this.style=t.style}};o(jv,"WatchCardRichHeader"),e(jv,"type","WatchCardRichHeader");var Hf=jv;var Hv=class Hv extends a{constructor(t){super();e(this,"lists");this.lists=p.parseArray(t.lists)}};o(Hv,"WatchCardSectionSequence"),e(Hv,"type","WatchCardSectionSequence");var $f=Hv;var $v=class $v extends ge{constructor(i){super(i)}};o($v,"WatchNextTabbedResults"),e($v,"type","WatchNextTabbedResults");var Gf=$v;var Gv=class Gv extends a{constructor(t){var r,n;super();e(this,"title");e(this,"content");e(this,"endpoint");e(this,"category_assets");e(this,"category_type");this.title=t.title,this.content=p.parseItem(t.content,lt),this.endpoint=new d(t.navigationEndpoint),this.category_assets={asset_key:(r=t.categoryAssets)==null?void 0:r.assetKey,background_color:(n=t.categoryAssets)==null?void 0:n.backgroundColor},this.category_type=t.categoryType}};o(Gv,"AnchoredSection"),e(Gv,"type","AnchoredSection");var xc=Gv;var Kc,qv=class qv extends a{constructor(t){super();E(this,Kc);e(this,"child_display_name");e(this,"child_account_description");e(this,"avatar");e(this,"block_button");e(this,"blocked_entity_key");this.child_display_name=new l(t.childDisplayName),this.child_account_description=new l(t.childAccountDescription),this.avatar=y.fromResponse(t.avatar),this.block_button=p.parseItem(t.blockButton,[rt]),this.blocked_entity_key=t.blockedEntityKey}async blockChannel(){if(!f(this,Kc))throw new w("An active caller must be provide to perform this operation.");let t=this.block_button;if(!t)throw new w("Block button was not found.",{child_display_name:this.child_display_name});if(t.is_toggled)throw new w("This channel is already blocked.",{child_display_name:this.child_display_name});return await t.endpoint.call(f(this,Kc),{parse:!1})}setActions(t){S(this,Kc,t)}};Kc=new WeakMap,o(qv,"KidsBlocklistPickerItem"),e(qv,"type","KidsBlocklistPickerItem");var bc=qv;var Kv=class Kv extends a{constructor(t){super();e(this,"title");e(this,"child_rows");e(this,"done_button");e(this,"successful_toast_action_message");this.title=new l(t.title),this.child_rows=p.parse(t.childRows,!0,[bc]),this.done_button=p.parseItem(t.doneButton,[v]),this.successful_toast_action_message=new l(t.successfulToastActionMessage)}};o(Kv,"KidsBlocklistPicker"),e(Kv,"type","KidsBlocklistPicker");var qf=Kv;var zv=class zv extends a{constructor(t){var r,n;super();e(this,"title");e(this,"category_assets");e(this,"category_type");e(this,"endpoint");this.title=new l(t.title),this.category_assets={asset_key:(r=t.categoryAssets)==null?void 0:r.assetKey,background_color:(n=t.categoryAssets)==null?void 0:n.backgroundColor},this.category_type=t.categoryType,this.endpoint=new d(t.endpoint)}};o(zv,"KidsCategoryTab"),e(zv,"type","KidsCategoryTab");var yc=zv;var Xv=class Xv extends a{constructor(t){super();e(this,"category_tabs");e(this,"privacy_button");this.category_tabs=p.parseArray(t.categoryTabs,yc),this.privacy_button=p.parseItem(t.privacyButtonRenderer,v)}};o(Xv,"KidsCategoriesHeader"),e(Xv,"type","kidsCategoriesHeader");var Kf=Xv;var Qv=class Qv extends a{constructor(t){super();e(this,"anchors");this.anchors=p.parseArray(t.anchors,xc)}};o(Qv,"KidsHomeScreen"),e(Qv,"type","kidsHomeScreen");var zf=Qv;var jk={};ie(jk,{camelToSnake:()=>gc,createRuntimeClass:()=>aS,generateRuntimeClass:()=>Qf,generateTypescriptClass:()=>Zv,inferType:()=>Jv,introspect:()=>Vk,isArrayType:()=>oS,isIgnoredKey:()=>nS,isMiscType:()=>rS,isRenderer:()=>Yk,isRendererList:()=>sS,mergeKeyInfo:()=>Xf,parse:()=>Wk,toParser:()=>Fk,toTypeDeclaration:()=>Uk});var HN=new Set(["trackingParams","accessibility","accessibilityData"]),Ok={};function gc(s){return s.replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`)}o(gc,"camelToSnake");function Jv(s,i){let t=!1;if(typeof i=="object"&&i!=null){if(t=Yk(i))return Ok[t]=Reflect.get(i,Reflect.ownKeys(i)[0]),{type:"renderer",renderers:[t],optional:!1};if(t=sS(i)){for(let[n,c]of Object.entries(t))Ok[n]=c;return{type:"array",array_type:"renderer",renderers:Object.keys(t),optional:!1}}if((t=rS(s,i))||(t=oS(i)))return t}let r=typeof i;return r==="object"?{type:"object",keys:Object.entries(i).map(([n,c])=>[n,Jv(n,c)]),optional:!1}:{type:"primitive",typeof:[r],optional:!1}}o(Jv,"inferType");function sS(s){let i=Array.isArray(s);return i&&s.length===0?!1:i&&s.every(r=>Yk(r))?Object.fromEntries(s.map(r=>{let n=Reflect.ownKeys(r)[0].toString();return[Xc(n),r[n]]})):!1}o(sS,"isRendererList");function rS(s,i){if(typeof i=="object"&&i!==null){if(s.endsWith("Endpoint")||s.endsWith("Command")||s==="endpoint")return{type:"misc",endpoint:new d(i),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(i,"simpleText")||Reflect.has(i,"runs")){let t=new l(i);return{type:"misc",misc_type:"Text",optional:!1,endpoint:t.endpoint,text:t.toString()}}if(Reflect.has(i,"thumbnails")&&Array.isArray(Reflect.get(i,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}o(rS,"isMiscType");function Yk(s){if(!(typeof s=="object"))return!1;let t=Reflect.ownKeys(s);if(t.length===1){let r=t[0].toString();if(r.endsWith("Renderer")||r.endsWith("Model"))return Xc(r)}return!1}o(Yk,"isRenderer");function oS(s){if(!Array.isArray(s))return!1;if(s.length===0)return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["never"],optional:!1},optional:!1};let i=s.map(c=>typeof c);if(!i.every(c=>c===i[0]))return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!1},optional:!1};let r=i[0];if(r!=="object")return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:[r],optional:!1},optional:!1};let n=[];for(let c=0;c<s.length;c++){let u=Object.entries(s[c]).map(([m,h])=>[m,Jv(m,h)]);if(c===0){n=u;continue}n=Xf(n,u).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:n,optional:!1},optional:!1}}o(oS,"isArrayType");function $N(s){if(typeof s!="object"||s===null)throw new w("Generator: Cannot introspect non-object",{classdata:s});return Reflect.ownKeys(s).filter(t=>!nS(t)).filter(t=>typeof t=="string").map(t=>{let r=Reflect.get(s,t),n=Jv(t,r);return[t,n]})}o($N,"introspectKeysFirstPass");function GN(s){var u;let t=s.filter(([,m])=>{var h;return m.type!=="misc"||!(m.misc_type==="NavigationEndpoint"||m.misc_type==="Text")?!1:((h=m.endpoint)==null?void 0:h.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,m],[,h])=>m.type!=="misc"||h.type!=="misc"||m.misc_type!=="Text"||h.misc_type!=="Text"?0:h.text.length-m.text.length),r=new Set,n=t[0],c;if(n){r.add(n[0]);let h=s.map(([I])=>I).filter(I=>I.endsWith("Badges")||I==="badges"),b=(u=h.filter(I=>I.startsWith("owner")||I.startsWith("author"))[0])!=null?u:h[0],g=s.find(([I])=>I===b),T=g?g[1].type==="array"&&g[1].array_type==="renderer"&&Reflect.has(g[1].renderers,"MetadataBadge"):!1;T&&b&&r.add(b),c={type:"misc",misc_type:"Author",optional:!1,params:[n[0],T?b:void 0]}}return c&&s.push(["author",c]),s.filter(([m])=>!r.has(m))}o(GN,"introspectKeysSecondPass");function qN(s){let i=$N(s);return GN(i)}o(qN,"introspect2");function Vk(s){let i=qN(s),t=new Map;for(let[,n]of i)if(n.type==="renderer"||n.type==="array"&&n.array_type==="renderer")for(let c of n.renderers){let u=Ok[c];u&&t.set(c,u)}let r=Array.from(t).filter(([n])=>!Jf(n));return{key_info:i,unimplemented_dependencies:r}}o(Vk,"introspect");function nS(s){return typeof s=="string"&&HN.has(s)}o(nS,"isIgnoredKey");function aS(s,i,t){var n,c;t({error_type:"class_not_found",classname:s,key_info:i});let r=(n=class extends a{static set key_info(m){S(this,c,new Map(m))}static get key_info(){return[...f(this,c).entries()]}constructor(m){super();let{key_info:h,unimplemented_dependencies:x}=Vk(m),{resolved_key_info:b,changed_keys:g}=Xf(r.key_info,h);g.length>0&&(r.key_info=b,t({error_type:"class_changed",classname:s,key_info:r.key_info,changed_keys:g}));for(let[I,C]of x)Qf(I,C,t);for(let[I,C]of h){let k=gc(I);C.type==="misc"&&C.misc_type==="NavigationEndpoint"&&(k="endpoint"),Reflect.set(this,k,Wk(I,C,m))}}},c=new WeakMap,o(n,"node"),e(n,"type",s),E(n,c,new Map),n);return r.key_info=i,Object.defineProperty(r,"name",{value:s,writable:!1}),r}o(aS,"createRuntimeClass");function Qf(s,i,t){let{key_info:r,unimplemented_dependencies:n}=Vk(i),c=aS(s,r,t);Hk(s,c);for(let[u,m]of n)Qf(u,m,t);return c}o(Qf,"generateRuntimeClass");function Zv(s,i){let t=[],r=["super();"];for(let[n,c]of i){let u=gc(n);c.type==="misc"&&c.misc_type==="NavigationEndpoint"&&(u="endpoint"),t.push(`${u}${c.optional?"?":""}: ${Uk(c)};`),r.push(`this.${u} = ${Fk(n,c)};`)}return`class ${s} extends YTNode {
  static type = '${s}';

  ${t.join(`
  `)}

  constructor(data: RawNode) {
    ${r.join(`
    `)}
  }
}
`}o(Zv,"generateTypescriptClass");function JE(s,i){return`{
${i.map(([t,r])=>`${" ".repeat((s+2)*2)}${gc(t)}${r.optional?"?":""}: ${Uk(r,s+1)}`).join(`,
`)}
${" ".repeat((s+1)*2)}}`}o(JE,"toTypeDeclarationObject");function Uk(s,i=0){switch(s.type){case"renderer":return`${s.renderers.map(t=>`YTNodes.${t}`).join(" | ")} | null`;case"array":switch(s.array_type){case"renderer":return`ObservedArray<${s.renderers.map(t=>`YTNodes.${t}`).join(" | ")}> | null`;case"primitive":{let t=s.items.typeof;return s.items.optional&&!t.includes("undefined")&&t.push("undefined"),`${t.length===1?`${t[0]}`:`(${t.join(" | ")})`}[]`}case"object":return`${JE(i,s.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return JE(i,s.keys);case"misc":switch(s.misc_type){case"Thumbnail":return"Thumbnail[]";default:return s.misc_type}case"primitive":return s.typeof.join(" | ")}}o(Uk,"toTypeDeclaration");function ZE(s,i,t,r){let n=[...t,r];return`{
${i.map(([c,u])=>`${" ".repeat((s+2)*2)}${gc(c)}: ${Fk(c,u,n,s+1)}`).join(`,
`)}
${" ".repeat((s+1)*2)}}`}o(ZE,"toParserObject");function Fk(s,i,t=["data"],r=1){let n="undefined";switch(i.type){case"renderer":n=`Parser.parseItem(${t.join(".")}.${s}, ${tS(i.renderers)})`;break;case"array":switch(i.array_type){case"renderer":n=`Parser.parse(${t.join(".")}.${s}, true, ${tS(i.renderers)})`;break;case"object":n=`${t.join(".")}.${s}.map((item: any) => (${ZE(r,i.items.keys,[],"item")}))`;break;case"primitive":n=`${t.join(".")}.${s}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":n=ZE(r,i.keys,t,s);break;case"misc":switch(i.misc_type){case"Thumbnail":n=`Thumbnail.fromResponse(${t.join(".")}.${s})`;break;case"Author":{let c=`new Author(${t.join(".")}.${i.params[0]}, ${i.params[1]?`${t.join(".")}.${i.params[1]}`:"undefined"})`;return i.optional?`Reflect.has(${t.join(".")}, '${i.params[0]}') ? ${c} : undefined`:c}default:n=`new ${i.misc_type}(${t.join(".")}.${s})`;break}if(n==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primitive":n=`${t.join(".")}.${s}`;break}return i.optional?`Reflect.has(${t.join(".")}, '${s}') ? ${n} : undefined`:n}o(Fk,"toParser");function tS(s){return s.length===1?`YTNodes.${s[0]}`:`[ ${s.map(i=>`YTNodes.${i}`).join(", ")} ]`}o(tS,"toParserValidTypes");function xi(s,i){let t=s;for(let r of i)t=t[r];return t}o(xi,"accessDataFromKeyPath");function eS(s,i){let t=s;for(let r of i)if(Reflect.has(t,r))t=t[r];else return!1;return!0}o(eS,"hasDataFromKeyPath");function iS(s,i,t,r,n){let c={},u=[...t,s];for(let[m,h]of r)c[m]=n?Wk(m,h,i,u):void 0;return c}o(iS,"parseObject");function Wk(s,i,t,r=["data"]){let n=!i.optional||eS({data:t},[...r,s]);switch(i.type){case"renderer":return n?J(xi({data:t},[...r,s]),i.renderers.map(c=>zc(c))):void 0;case"array":switch(i.array_type){case"renderer":return n?Qt(xi({data:t},[...r,s]),!0,i.renderers.map(c=>zc(c))):void 0;case"object":return n?xi({data:t},[...r,s]).map((c,u)=>iS(`${u}`,t,[...r,s],i.items.keys,n)):void 0;case"primitive":return n?xi({data:t},[...r,s]):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return iS(s,t,r,i.keys,n);case"misc":switch(i.misc_type){case"NavigationEndpoint":return n?new d(xi({data:t},[...r,s])):void 0;case"Text":return n?new l(xi({data:t},[...r,s])):void 0;case"Thumbnail":return n?y.fromResponse(xi({data:t},[...r,s])):void 0;case"Author":return!i.optional||eS({data:t},[...r,i.params[0]])?new R(xi({data:t},[...r,i.params[0]]),i.params[1]?xi({data:t},[...r,i.params[1]]):void 0):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"primitive":return xi({data:t},[...r,s])}}o(Wk,"parse");function Xf(s,i){let t=new Map,r=new Set(s.map(([T])=>T)),n=new Set(i.map(([T])=>T)),c=i.filter(([T])=>!r.has(T)),u=s.filter(([T])=>!n.has(T)),m=s.filter(([T])=>n.has(T)),h=new Map(i);for(let[T,I]of m){let C=h.get(T);if(C){if(I.type!==C.type){t.set(T,{type:"primitive",typeof:["unknown"],optional:!0});continue}switch(I.type){case"object":{if(C.type!=="object")continue;let{resolved_key_info:k}=Xf(I.keys,C.keys),A={type:"object",keys:k,optional:I.optional||C.optional};JSON.stringify(A)!==JSON.stringify(I)&&t.set(T,A)}break;case"renderer":{if(C.type!=="renderer")continue;let k={...I.renderers,...C.renderers},A=I.optional||C.optional,N={type:"renderer",renderers:k,optional:A};JSON.stringify({...N,renderers:Object.keys(N.renderers)})!==JSON.stringify({...I,renderers:Object.keys(I.renderers)})&&t.set(T,N)}break;case"array":{if(C.type!=="array")continue;switch(I.array_type){case"renderer":{if(C.array_type!=="renderer"){t.set(T,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let k={...I.renderers,...C.renderers},A=I.optional||C.optional,N={type:"array",array_type:"renderer",renderers:k,optional:A};JSON.stringify({...N,renderers:Object.keys(N.renderers)})!==JSON.stringify({...I,renderers:Object.keys(I.renderers)})&&t.set(T,N)}break;case"object":{if(C.array_type==="primitive"&&C.items.typeof.length==1&&C.items.typeof[0]==="never")continue;if(C.array_type!=="object"){t.set(T,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:k}=Xf(I.items.keys,C.items.keys),A={type:"array",array_type:"object",items:{type:"object",keys:k,optional:I.items.optional||C.items.optional},optional:I.optional||C.optional};JSON.stringify(A)!==JSON.stringify(I)&&t.set(T,A)}break;case"primitive":{if(I.items.typeof.includes("never")&&C.array_type==="object"){t.set(T,C);continue}if(C.array_type!=="primitive"){t.set(T,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let k=new Set([...C.items.typeof,...I.items.typeof]);k.size>1&&k.has("never")&&k.delete("never");let A={type:"array",array_type:"primitive",items:{type:"primitive",typeof:Array.from(k),optional:I.items.optional||C.items.optional},optional:I.optional||C.optional};JSON.stringify(A)!==JSON.stringify(I)&&t.set(T,A)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}break}case"misc":{if(C.type!=="misc")continue;switch(I.misc_type!==C.misc_type&&t.set(T,{type:"primitive",typeof:["unknown"],optional:!0}),I.misc_type){case"Author":{if(C.misc_type!=="Author")break;let k=I.params[1]||C.params[1],N={type:"misc",misc_type:"Author",optional:I.optional||C.optional,params:[C.params[0],k]};JSON.stringify(N)!==JSON.stringify(I)&&t.set(T,N)}break}}break;case"primitive":{if(C.type!=="primitive")continue;let k={type:"primitive",typeof:Array.from(new Set([...C.typeof,...I.typeof])),optional:I.optional||C.optional};JSON.stringify(k)!==JSON.stringify(I)&&t.set(T,k)}break}}}for(let[T,I]of c)t.set(T,{...I,optional:!0});for(let[T,I]of u)t.set(T,{...I,optional:!0});let x=s.filter(([T])=>!t.has(T));return{resolved_key_info:[...new Map([...x,...t]).entries()],changed_keys:[...t.entries()]}}o(Xf,"mergeKeyInfo");var aI=class aI extends a{constructor(t){var r,n,c;super();e(this,"contents");e(this,"continuation");this.contents=Gt(t.contents),Array.isArray(t.continuations)&&(this.continuation=(c=(n=(r=t.continuations)==null?void 0:r.at(0))==null?void 0:n.nextContinuationData)==null?void 0:c.continuation)}};o(aI,"ItemSectionContinuation"),e(aI,"type","itemSectionContinuation");var tI=aI,cI=class cI extends a{constructor(t){super();e(this,"endpoint");this.endpoint=new d(t.endpoint)}};o(cI,"NavigateAction"),e(cI,"type","navigateAction");var Qc=cI,lI=class lI extends a{constructor(t){super();e(this,"miniplayer_command");e(this,"show_premium_branding");this.miniplayer_command=new d(t.miniplayerCommand),this.show_premium_branding=t.showPremiumBranding}};o(lI,"ShowMiniplayerCommand"),e(lI,"type","showMiniplayerCommand");var eI=lI,pI=class pI extends a{constructor(t){super();e(this,"target_id");e(this,"contents");e(this,"slot");this.target_id=t.targetId,this.contents=Qt(t.continuationItems,!0),this.slot=t==null?void 0:t.slot}};o(pI,"ReloadContinuationItemsCommand"),e(pI,"type","reloadContinuationItemsCommand");var we=pI,uI=class uI extends a{constructor(t){var r,n,c,u,m,h;super();e(this,"continuation");e(this,"contents");this.contents=Qt(t.contents,!0),this.continuation=((c=(n=(r=t.continuations)==null?void 0:r[0])==null?void 0:n.nextContinuationData)==null?void 0:c.continuation)||((h=(m=(u=t.continuations)==null?void 0:u[0])==null?void 0:m.reloadContinuationData)==null?void 0:h.continuation)||null}};o(uI,"SectionListContinuation"),e(uI,"type","sectionListContinuation");var iI=uI,mI=class mI extends a{constructor(t){var r;super();e(this,"continuation");e(this,"contents");this.contents=Qt(t.contents,!0),this.continuation=((r=t.continuations)==null?void 0:r[0].nextContinuationData.continuation)||null}};o(mI,"MusicPlaylistShelfContinuation"),e(mI,"type","musicPlaylistShelfContinuation");var sI=mI,fI=class fI extends a{constructor(t){var r,n,c,u;super();e(this,"continuation");e(this,"contents");this.contents=Gt(t.contents),this.continuation=((n=(r=t.continuations)==null?void 0:r[0].nextContinuationData)==null?void 0:n.continuation)||((u=(c=t.continuations)==null?void 0:c[0].reloadContinuationData)==null?void 0:u.continuation)||null}};o(fI,"MusicShelfContinuation"),e(fI,"type","musicShelfContinuation");var rI=fI,hI=class hI extends a{constructor(t){var r;super();e(this,"continuation");e(this,"items");this.items=Qt(t.items,!0),this.continuation=((r=t.continuations)==null?void 0:r[0].nextContinuationData.continuation)||null}get contents(){return this.items}};o(hI,"GridContinuation"),e(hI,"type","gridContinuation");var oI=hI,dI=class dI extends a{constructor(t){var r,n,c,u,m,h;super();e(this,"continuation");e(this,"contents");this.contents=Gt(t.contents),this.continuation=((c=(n=(r=t.continuations)==null?void 0:r[0])==null?void 0:n.nextContinuationData)==null?void 0:c.continuation)||((h=(m=(u=t.continuations)==null?void 0:u[0])==null?void 0:m.nextRadioContinuationData)==null?void 0:h.continuation)||null}};o(dI,"PlaylistPanelContinuation"),e(dI,"type","playlistPanelContinuation");var nI=dI,_I=class _I extends a{constructor(t){var r,n,c;super();e(this,"continuation_type");e(this,"timeout_ms");e(this,"time_until_last_message_ms");e(this,"token");this.continuation_type=t.type,this.timeout_ms=(r=t.continuation)==null?void 0:r.timeoutMs,this.time_until_last_message_ms=(n=t.continuation)==null?void 0:n.timeUntilLastMessageMsec,this.token=(c=t.continuation)==null?void 0:c.continuation}};o(_I,"Continuation"),e(_I,"type","continuation");var Zf=_I,xI=class xI extends a{constructor(t){var c,u,m,h,x,b,g,T;super();e(this,"actions");e(this,"action_panel");e(this,"item_list");e(this,"header");e(this,"participants_list");e(this,"popout_message");e(this,"emojis");e(this,"continuation");e(this,"viewer_name");this.actions=Qt((c=t.actions)==null?void 0:c.map(I=>(delete I.clickTrackingParams,I)),!0)||$([]),this.action_panel=J(t.actionPanel),this.item_list=J(t.itemList,ua),this.header=J(t.header,pa),this.participants_list=J(t.participantsList,fa),this.popout_message=J(t.popoutMessage,_e),this.emojis=((u=t.emojis)==null?void 0:u.map(I=>({emoji_id:I.emojiId,shortcuts:I.shortcuts,search_terms:I.searchTerms,image:y.fromResponse(I.image),is_custom_emoji:I.isCustomEmoji})))||[];let r,n;(m=t.continuations)!=null&&m[0].timedContinuationData?(n="timed",r=(h=t.continuations)==null?void 0:h[0].timedContinuationData):(x=t.continuations)!=null&&x[0].invalidationContinuationData?(n="invalidation",r=(b=t.continuations)==null?void 0:b[0].invalidationContinuationData):(g=t.continuations)!=null&&g[0].liveChatReplayContinuationData&&(n="replay",r=(T=t.continuations)==null?void 0:T[0].liveChatReplayContinuationData),this.continuation=new Zf({continuation:r,type:n}),this.viewer_name=t.viewerName}};o(xI,"LiveChatContinuation"),e(xI,"type","liveChatContinuation");var Jc=xI,bI=class bI extends a{constructor(t){super();e(this,"request");e(this,"token");this.request=t.request,this.token=t.token}};o(bI,"ContinuationCommand"),e(bI,"type","ContinuationCommand");var wc=bI;function KN(){return{key:void 0,value:void 0}}o(KN,"createBaseKeyValuePair");var cS={encode(s,i=new Dt){return s.key!==void 0&&i.uint32(10).string(s.key),s.value!==void 0&&i.uint32(18).string(s.value),i},decode(s,i){let t=s instanceof st?s:new st(s),r=i===void 0?t.len:t.pos+i,n=KN();for(;t.pos<r;){let c=t.uint32();switch(c>>>3){case 1:if(c!==10)break;n.key=t.string();continue;case 2:if(c!==18)break;n.value=t.string();continue}if((c&7)===4||c===0)break;t.skip(c&7)}return n}};function zN(){return{xtags:[]}}o(zN,"createBaseFormatXTags");var lS={encode(s,i=new Dt){for(let t of s.xtags)cS.encode(t,i.uint32(10).fork()).join();return i},decode(s,i){let t=s instanceof st?s:new st(s),r=i===void 0?t.len:t.pos+i,n=zN();for(;t.pos<r;){let c=t.uint32();switch(c>>>3){case 1:if(c!==10)break;n.xtags.push(cS.decode(t,t.uint32()));continue}if((c&7)===4||c===0)break;t.skip(c&7)}return n}};var th,$k=class $k{constructor(i,t){E(this,th);e(this,"itag");e(this,"url");e(this,"width");e(this,"height");e(this,"last_modified");e(this,"last_modified_ms");e(this,"content_length");e(this,"quality");e(this,"xtags");e(this,"drm_families");e(this,"fps");e(this,"quality_label");e(this,"projection_type");e(this,"average_bitrate");e(this,"bitrate");e(this,"spatial_audio_type");e(this,"target_duration_dec");e(this,"fair_play_key_uri");e(this,"stereo_layout");e(this,"max_dvr_duration_sec");e(this,"high_replication");e(this,"audio_quality");e(this,"approx_duration_ms");e(this,"audio_sample_rate");e(this,"audio_channels");e(this,"loudness_db");e(this,"signature_cipher");e(this,"is_drc");e(this,"drm_track_type");e(this,"distinct_params");e(this,"track_absolute_loudness_lkfs");e(this,"mime_type");e(this,"is_type_otf");e(this,"init_range");e(this,"index_range");e(this,"cipher");e(this,"audio_track");e(this,"has_audio");e(this,"has_video");e(this,"has_text");e(this,"language");e(this,"is_dubbed");e(this,"is_auto_dubbed");e(this,"is_descriptive");e(this,"is_secondary");e(this,"is_original");e(this,"color_info");e(this,"caption_track");var r,n,c,u,m,h,x;if(t&&S(this,th,t),this.itag=i.itag,this.mime_type=i.mimeType,this.is_type_otf=i.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=i.bitrate,this.average_bitrate=i.averageBitrate,Reflect.has(i,"width")&&Reflect.has(i,"height")&&(this.width=parseInt(i.width),this.height=parseInt(i.height)),Reflect.has(i,"projectionType")&&(this.projection_type=i.projectionType),Reflect.has(i,"stereoLayout")&&(this.stereo_layout=(r=i.stereoLayout)==null?void 0:r.replace("STEREO_LAYOUT_","")),Reflect.has(i,"initRange")&&(this.init_range={start:parseInt(i.initRange.start),end:parseInt(i.initRange.end)}),Reflect.has(i,"indexRange")&&(this.index_range={start:parseInt(i.indexRange.start),end:parseInt(i.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(i.lastModified)/1e3)),this.last_modified_ms=i.lastModified,Reflect.has(i,"contentLength")&&(this.content_length=parseInt(i.contentLength)),Reflect.has(i,"quality")&&(this.quality=i.quality),Reflect.has(i,"qualityLabel")&&(this.quality_label=i.qualityLabel),Reflect.has(i,"fps")&&(this.fps=i.fps),Reflect.has(i,"url")&&(this.url=i.url),Reflect.has(i,"cipher")&&(this.cipher=i.cipher),Reflect.has(i,"signatureCipher")&&(this.signature_cipher=i.signatureCipher),Reflect.has(i,"audioQuality")&&(this.audio_quality=i.audioQuality),this.approx_duration_ms=parseInt(i.approxDurationMs),Reflect.has(i,"audioSampleRate")&&(this.audio_sample_rate=parseInt(i.audioSampleRate)),Reflect.has(i,"audioChannels")&&(this.audio_channels=i.audioChannels),Reflect.has(i,"loudnessDb")&&(this.loudness_db=i.loudnessDb),Reflect.has(i,"spatialAudioType")&&(this.spatial_audio_type=(n=i.spatialAudioType)==null?void 0:n.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(i,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=i.maxDvrDurationSec),Reflect.has(i,"targetDurationSec")&&(this.target_duration_dec=i.targetDurationSec),this.has_audio=!!i.audioBitrate||!!i.audioQuality,this.has_video=!!i.qualityLabel,this.has_text=!!i.captionTrack,Reflect.has(i,"xtags")&&(this.xtags=i.xtags),Reflect.has(i,"fairPlayKeyUri")&&(this.fair_play_key_uri=i.fairPlayKeyUri),Reflect.has(i,"drmFamilies")&&(this.drm_families=i.drmFamilies),Reflect.has(i,"drmTrackType")&&(this.drm_track_type=i.drmTrackType),Reflect.has(i,"distinctParams")&&(this.distinct_params=i.distinctParams),Reflect.has(i,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=i.trackAbsoluteLoudnessLkfs),Reflect.has(i,"highReplication")&&(this.high_replication=i.highReplication),Reflect.has(i,"colorInfo")&&(this.color_info={primaries:(c=i.colorInfo.primaries)==null?void 0:c.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(u=i.colorInfo.transferCharacteristics)==null?void 0:u.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(m=i.colorInfo.matrixCoefficients)==null?void 0:m.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(i,"audioTrack")&&(this.audio_track={audio_is_default:i.audioTrack.audioIsDefault,display_name:i.audioTrack.displayName,id:i.audioTrack.id}),Reflect.has(i,"captionTrack")&&(this.caption_track={display_name:i.captionTrack.displayName,vss_id:i.captionTrack.vssId,language_code:i.captionTrack.languageCode,kind:i.captionTrack.kind,id:i.captionTrack.id}),this.has_audio||this.has_text){let b=this.xtags?lS.decode(kl(decodeURIComponent(this.xtags).replace(/-/g,"+").replace(/_/g,"/"))).xtags:[];if(this.language=((h=b.find(g=>g.key==="lang"))==null?void 0:h.value)||null,this.has_audio){this.is_drc=!!i.isDrc||b.some(T=>T.key==="drc"&&T.value==="1");let g=(x=b.find(T=>T.key==="acont"))==null?void 0:x.value;this.is_dubbed=g==="dubbed",this.is_descriptive=g==="descriptive",this.is_secondary=g==="secondary",this.is_auto_dubbed=g==="dubbed-auto",this.is_original=g==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_auto_dubbed&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}async decipher(i){return i?i.decipher(this.url,this.signature_cipher,this.cipher,f(this,th)):this.url||""}};th=new WeakMap,o($k,"Format");var Tc=$k;var Gk=class Gk{constructor(i){e(this,"id");e(this,"channel_id");e(this,"title");e(this,"duration");e(this,"keywords");e(this,"is_owner_viewing");e(this,"short_description");e(this,"thumbnail");e(this,"allow_ratings");e(this,"view_count");e(this,"author");e(this,"is_private");e(this,"is_live");e(this,"is_live_content");e(this,"is_live_dvr_enabled");e(this,"is_upcoming");e(this,"is_crawlable");e(this,"is_post_live_dvr");e(this,"is_low_latency_live_stream");e(this,"live_chunk_readahead");this.id=i.videoId,this.channel_id=i.channelId,this.title=i.title,this.duration=parseInt(i.lengthSeconds),this.keywords=i.keywords,this.is_owner_viewing=!!i.isOwnerViewing,this.short_description=i.shortDescription,this.thumbnail=y.fromResponse(i.thumbnail),this.allow_ratings=!!i.allowRatings,this.view_count=parseInt(i.viewCount),this.author=i.author,this.is_private=!!i.isPrivate,this.is_live=!!i.isLive,this.is_live_content=!!i.isLiveContent,this.is_live_dvr_enabled=!!i.isLiveDvrEnabled,this.is_low_latency_live_stream=!!i.isLowLatencyLiveStream,this.is_upcoming=!!i.isUpcoming,this.is_post_live_dvr=!!i.isPostLiveDvr,this.is_crawlable=!!i.isCrawlable,this.live_chunk_readahead=i.liveChunkReadahead}};o(Gk,"VideoDetails");var vc=Gk;var Ic="Parser",XN=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","PromotedSparklesWeb","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),Xk=new Map(Object.entries(qn)),pS=new Map,kc=null,Ss=o(({classname:s,...i})=>{switch(i.error_type){case"parse":i.error instanceof Error&&Y.warn(Ic,new w(`Something went wrong at ${s}!
This is a bug, please report it at ${Wt.bugs.url}`,{stack:i.error.stack,classdata:JSON.stringify(i.classdata,null,2)}));break;case"typecheck":Y.warn(Ic,new Ee(`Type mismatch, got ${s} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":Y.warn(Ic,new w(`Mutation data required for processing ${s}, but none found.
This is a bug, please report it at ${Wt.bugs.url}`));break;case"mutation_data_invalid":Y.warn(Ic,new w(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${Wt.bugs.url}`));break;case"class_not_found":Y.warn(Ic,new w(`${s} not found!
This is a bug, want to help us fix it? Follow the instructions at ${Wt.homepage.split("#",1)[0]}/blob/main/docs/updating-the-parser.md or report it at ${Wt.bugs.url}!
Introspected and JIT generated this class in the meantime:
${Zv(s,i.key_info)}`));break;case"class_changed":Y.warn(Ic,`${s} changed!
The following keys where altered: ${i.changed_keys.map(([t])=>gc(t)).join(", ")}
The class has changed to:
${Zv(s,i.key_info)}`);break;default:Y.warn(Ic,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function QN(s){Ss=s}o(QN,"setParserErrorHandler");function bi(){kc=null}o(bi,"_clearMemo");function yi(){kc=new xr}o(yi,"_createMemo");function JN(s,i){if(!kc)return;let t=kc.get(s);if(!t)return kc.set(s,[i]);t.push(i)}o(JN,"_addToMemo");function gi(){if(!kc)throw new Error("Parser#getMemo() called before Parser#createMemo()");return kc}o(gi,"_getMemo");function Qk(s){return XN.has(s)}o(Qk,"shouldIgnore");function Xc(s){return(s.charAt(0).toUpperCase()+s.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}o(Xc,"sanitizeClassName");function zc(s){let i=Xk.get(s);if(!i){let t=new Error(`Module not found: ${s}`);throw t.code="MODULE_NOT_FOUND",t}return i}o(zc,"getParserByName");function Jf(s){return Xk.has(s)}o(Jf,"hasParser");function Hk(s,i){Xk.set(s,i),pS.set(s,i)}o(Hk,"addRuntimeParser");function ZN(){return Object.fromEntries(pS)}o(ZN,"getDynamicParsers");function qk(s){var Ie,ke,Tl,gt,Rh,$1,G1,q1,K1,z1,X1,Q1,J1,Z1,tE,eE;let i={};yi();let t=Qt(s.contents),r=gi();t&&(i.contents=t,i.contents_memo=r),bi(),yi();let n=s.onResponseReceivedActions?yI(s.onResponseReceivedActions):null,c=gi();n&&(i.on_response_received_actions=n,i.on_response_received_actions_memo=c),bi(),yi();let u=s.onResponseReceivedEndpoints?yI(s.onResponseReceivedEndpoints):null,m=gi();u&&(i.on_response_received_endpoints=u,i.on_response_received_endpoints_memo=m),bi(),yi();let h=s.onResponseReceivedCommands?yI(s.onResponseReceivedCommands):null,x=gi();h&&(i.on_response_received_commands=h,i.on_response_received_commands_memo=x),bi(),yi();let b=s.continuationContents?Kk(s.continuationContents):null,g=gi();b&&(i.continuation_contents=b,i.continuation_contents_memo=g),bi(),yi();let T=s.actions?fS(s.actions):null,I=gi();T&&(i.actions=T,i.actions_memo=I),bi(),yi();let C=s.liveChatItemContextMenuSupportedRenderers?J(s.liveChatItemContextMenuSupportedRenderers):null,k=gi();C&&(i.live_chat_item_context_menu_supported_renderers=C,i.live_chat_item_context_menu_supported_renderers_memo=k),bi(),yi();let A=s.header?Qt(s.header):null,N=gi();A&&(i.header=A,i.header_memo=N),bi(),yi();let L=s.sidebar?J(s.sidebar):null,G=gi();L&&(i.sidebar=L,i.sidebar_memo=G),bi(),yi();let ot=Qt(s.items);ot&&(i.items=ot,i.items_memo=gi()),bi(),hS(r,(ke=(Ie=s.frameworkUpdates)==null?void 0:Ie.entityBatchUpdate)==null?void 0:ke.mutations),m&&dS(m,(gt=(Tl=s.frameworkUpdates)==null?void 0:Tl.entityBatchUpdate)==null?void 0:gt.mutations);let O=s.continuation?mS(s.continuation):null;O&&(i.continuation=O);let pt=s.continuationEndpoint?Kk(s.continuationEndpoint):null;pt&&(i.continuation_endpoint=pt);let F=Qt(s.metadata);F&&(i.metadata=F);let at=J(s.microformat);at&&(i.microformat=at);let It=J(s.overlay);It&&(i.overlay=It);let j=Gt(s.alerts,[Li,$r]);j.length&&(i.alerts=j);let W=s.refinements;W&&(i.refinements=W);let nt=s.estimatedResults?parseInt(s.estimatedResults):null;nt&&(i.estimated_results=nt);let tt=Qt(s.playerOverlays);tt&&(i.player_overlays=tt);let Rt=J(s.background,kt);Rt&&(i.background=Rt);let Mt=s.playbackTracking?{videostats_watchtime_url:s.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:s.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Mt&&(i.playback_tracking=Mt);let ct=s.playabilityStatus?{status:s.playabilityStatus.status,reason:s.playabilityStatus.reason||"",embeddable:!!s.playabilityStatus.playableInEmbed||!1,audio_only_playability:J(s.playabilityStatus.audioOnlyPlayability,Kr),error_screen:J(s.playabilityStatus.errorScreen)}:null;if(ct&&(i.playability_status=ct),s.streamingData){let Fc=new Map;i.streaming_data={expires:new Date(Date.now()+parseInt(s.streamingData.expiresInSeconds)*1e3),formats:zk(s.streamingData.formats,Fc),adaptive_formats:zk(s.streamingData.adaptiveFormats,Fc),dash_manifest_url:s.streamingData.dashManifestUrl,hls_manifest_url:s.streamingData.hlsManifestUrl,server_abr_streaming_url:s.streamingData.serverAbrStreamingUrl}}s.playerConfig&&(i.player_config={audio_config:{loudness_db:(Rh=s.playerConfig.audioConfig)==null?void 0:Rh.loudnessDb,perceptual_loudness_db:($1=s.playerConfig.audioConfig)==null?void 0:$1.perceptualLoudnessDb,enable_per_format_loudness:(G1=s.playerConfig.audioConfig)==null?void 0:G1.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((q1=s.playerConfig.streamSelectionConfig)==null?void 0:q1.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((z1=(K1=s.playerConfig.mediaCommonConfig)==null?void 0:K1.dynamicReadaheadConfig)==null?void 0:z1.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((Q1=(X1=s.playerConfig.mediaCommonConfig)==null?void 0:X1.dynamicReadaheadConfig)==null?void 0:Q1.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((Z1=(J1=s.playerConfig.mediaCommonConfig)==null?void 0:J1.dynamicReadaheadConfig)==null?void 0:Z1.readAheadGrowthRateMs)||0},media_ustreamer_request_config:{video_playback_ustreamer_config:(eE=(tE=s.playerConfig.mediaCommonConfig)==null?void 0:tE.mediaUstreamerRequestConfig)==null?void 0:eE.videoPlaybackUstreamerConfig}}});let Kt=s.currentVideoEndpoint?new d(s.currentVideoEndpoint):null;Kt&&(i.current_video_endpoint=Kt);let le=s.endpoint?new d(s.endpoint):null;le&&(i.endpoint=le);let si=J(s.captions,Ya);si&&(i.captions=si);let ri=s.videoDetails?new vc(s.videoDetails):null;ri&&(i.video_details=ri);let Ue=Gt(s.annotations,Oa);Ue.length&&(i.annotations=Ue);let bt=J(s.storyboards,[ni,Ua]);bt&&(i.storyboards=bt);let pe=J(s.endscreen,Cn);pe&&(i.endscreen=pe);let yt=J(s.cards,Yo);yt&&(i.cards=yt);let zt=Gt(s.engagementPanels,ze);if(zt.length&&(i.engagement_panels=zt),s.bgChallenge){let Fc={private_do_not_access_or_else_trusted_resource_url_wrapped_value:s.bgChallenge.interpreterUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue,private_do_not_access_or_else_safe_script_wrapped_value:s.bgChallenge.interpreterUrl.privateDoNotAccessOrElseSafeScriptWrappedValue};i.bg_challenge={interpreter_url:Fc,interpreter_hash:s.bgChallenge.interpreterHash,program:s.bgChallenge.program,global_name:s.bgChallenge.globalName,client_experiments_state_blob:s.bgChallenge.clientExperimentsStateBlob}}return s.challenge&&(i.challenge=s.challenge),s.playerResponse&&(i.player_response=qk(s.playerResponse)),s.watchNextResponse&&(i.watch_next_response=qk(s.watchNextResponse)),s.cpnInfo&&(i.cpn_info={cpn:s.cpnInfo.cpn,cpn_source:s.cpnInfo.cpnSource}),s.entries&&(i.entries=s.entries.map(Fc=>new d(Fc))),s.targetId&&(i.target_id=s.targetId),i}o(qk,"parseResponse");function J(s,i){if(!s)return null;let t=Object.keys(s);if(!t.length)return null;let r=Xc(t[0]);if(!Qk(r))try{let c=Jf(r)?zc(r):Qf(r,s[t[0]],Ss);if(i){if(Array.isArray(i)){if(!i.some(m=>m.type===c.type))return Ss({classdata:s[t[0]],classname:r,error_type:"typecheck",expected:i.map(m=>m.type)}),null}else if(c.type!==i.type)return Ss({classdata:s[t[0]],classname:r,error_type:"typecheck",expected:i.type}),null}let u=new c(s[t[0]]);return JN(r,u),u}catch(n){return Ss({classname:r,classdata:s[t[0]],error:n,error_type:"parse"}),null}return null}o(J,"parseItem");function Gt(s,i){if(Array.isArray(s)){let t=[];for(let r of s){let n=J(r,i);n&&t.push(n)}return $(t)}else if(!s)return $([]);throw new Ee("Expected array but got a single item")}o(Gt,"parseArray");function Qt(s,i,t){if(!s)return null;if(Array.isArray(s)){let r=[];for(let c of s){let u=J(c,t);u&&r.push(u)}let n=$(r);return i?n:new Ai(n)}else if(i)throw new Ee("Expected array but got a single item");return new Ai(J(s,t))}o(Qt,"parse");var tA=/Command$/,eA=/Endpoint$/,iA=/Action$/;function uS(s){let i=[];try{i=Object.keys(s)}catch{}for(let t of i){let r=s[t];if(tA.test(t)||eA.test(t)||iA.test(t)){let n=Xc(t);if(Qk(n))return;try{if(Jf(n))return new(zc(n))(r)}catch(c){Ss({error:c,classname:n,classdata:r,error_type:"parse"})}}}}o(uS,"parseCommand");function sA(s){if(Array.isArray(s)){let i=[];for(let t of s){let r=uS(t);r&&i.push(r)}return $(i)}else if(!s)return $([]);throw new Ee("Expected array but got a single item")}o(sA,"parseCommands");function mS(s){return s.timedContinuationData?new Zf({continuation:s.timedContinuationData,type:"timed"}):null}o(mS,"parseC");function Kk(s){return s.itemSectionContinuation?new tI(s.itemSectionContinuation):s.sectionListContinuation?new iI(s.sectionListContinuation):s.liveChatContinuation?new Jc(s.liveChatContinuation):s.musicPlaylistShelfContinuation?new sI(s.musicPlaylistShelfContinuation):s.musicShelfContinuation?new rI(s.musicShelfContinuation):s.gridContinuation?new oI(s.gridContinuation):s.playlistPanelContinuation?new nI(s.playlistPanelContinuation):s.continuationCommand?new wc(s.continuationCommand):null}o(Kk,"parseLC");function yI(s){return $(s.map(i=>{if(i.navigateAction)return new Qc(i.navigateAction);if(i.showMiniplayerCommand)return new eI(i.showMiniplayerCommand);if(i.reloadContinuationItemsCommand)return new we(i.reloadContinuationItemsCommand);if(i.appendContinuationItemsAction)return new Bt(i.appendContinuationItemsAction);if(i.openPopupAction)return new Di(i.openPopupAction)}).filter(i=>i))}o(yI,"parseRR");function fS(s){return Array.isArray(s)?Qt(s.map(i=>(delete i.clickTrackingParams,i))):new Ai(J(s))}o(fS,"parseActions");function zk(s,i){return(s==null?void 0:s.map(t=>new Tc(t,i)))||[]}o(zk,"parseFormats");function hS(s,i){let t=s.getType(hs);if(t.length>0&&!i)Ss({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let r=[];for(let n of t){let c=i.find(m=>{var h,x;return((x=(h=m.payload)==null?void 0:h.musicFormBooleanChoice)==null?void 0:x.id)===n.form_item_entity_key}),u=c==null?void 0:c.payload.musicFormBooleanChoice;(u==null?void 0:u.selected)!==void 0&&(u!=null&&u.opaqueToken)?n.selected=u.selected:r.push(`'${n.title}'`)}r.length>0&&Ss({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:t.length,failed:r.length,titles:r})}if(i){let r=i.filter(n=>{var c,u;return((c=n.payload)==null?void 0:c.macroMarkersListEntity)&&((u=n.payload.macroMarkersListEntity.markersList)==null?void 0:u.markerType)==="MARKER_TYPE_HEATMAP"});for(let n of r){let c=new ms(n.payload.macroMarkersListEntity),u=s.get("MacroMarkersListEntity");u?u.push(c):s.set("MacroMarkersListEntity",[c])}}}o(hS,"applyMutations");function dS(s,i){var r,n,c,u,m,h,x,b;let t=s.getType(li);if(t.length>0){i||Ss({error_type:"mutation_data_missing",classname:"CommentView"});for(let g of t){let T=(n=(r=i.find(A=>{var N,L;return((L=(N=A.payload)==null?void 0:N.commentEntityPayload)==null?void 0:L.key)===g.keys.comment}))==null?void 0:r.payload)==null?void 0:n.commentEntityPayload,I=(u=(c=i.find(A=>{var N,L;return((L=(N=A.payload)==null?void 0:N.engagementToolbarStateEntityPayload)==null?void 0:L.key)===g.keys.toolbar_state}))==null?void 0:c.payload)==null?void 0:u.engagementToolbarStateEntityPayload,C=(h=(m=i.find(A=>A.entityKey===g.keys.toolbar_surface))==null?void 0:m.payload)==null?void 0:h.engagementToolbarSurfaceEntityPayload,k=(b=(x=i.find(A=>{var N,L;return((L=(N=A.payload)==null?void 0:N.commentSurfaceEntityPayload)==null?void 0:L.key)===g.keys.comment_surface}))==null?void 0:x.payload)==null?void 0:b.commentSurfaceEntityPayload;g.applyMutations(T,I,C,k)}}}o(dS,"applyCommentsMutations");var u1={};ie(u1,{AccountInfo:()=>eh,Channel:()=>rh,ChannelListContinuation:()=>gI,Comments:()=>ah,FilteredChannelList:()=>wI,Guide:()=>ch,HashtagFeed:()=>uh,History:()=>Mc,HomeFeed:()=>ph,ItemMenu:()=>Dc,Library:()=>hh,LiveChat:()=>Oc,NotificationsMenu:()=>bh,Playlist:()=>As,Search:()=>gh,Settings:()=>wh,SmoothedQueue:()=>Bc,TranscriptInfo:()=>Nc,VideoInfo:()=>lr});var Ec,Jk=class Jk{constructor(i){E(this,Ec);e(this,"contents");if(S(this,Ec,p.parseResponse(i.data)),!f(this,Ec).contents)throw new w("Page contents not found");let t=f(this,Ec).contents.array().as(Dr)[0];if(!t)throw new w("Account section list not found");this.contents=t.contents[0]}get page(){return f(this,Ec)}};Ec=new WeakMap,o(Jk,"AccountInfo");var eh=Jk;var Ut,tl,Jt,tr,Sc,_S,Zk,Zc=class Zc{constructor(i,t,r=!1){E(this,Sc);E(this,Ut);E(this,tl);E(this,Jt);E(this,tr);P(this,Sc,_S).call(this,t)||r?S(this,Ut,t):S(this,Ut,p.parseResponse(t.data));let n=t1(f(this,Ut).contents_memo,f(this,Ut).continuation_contents_memo,f(this,Ut).on_response_received_commands_memo,f(this,Ut).on_response_received_endpoints_memo,f(this,Ut).on_response_received_actions_memo,f(this,Ut).sidebar_memo,f(this,Ut).header_memo);if(!n)throw new w("No memo found in feed");S(this,Jt,n),S(this,tl,i)}static getVideosFromMemo(i){return i.getType(Hi,Ln,ys,ks,$i,xs,Re,_c)}static getPlaylistsFromMemo(i){let t=i.getType(de,Mn),r=i.getType(da).filter(n=>["PLAYLIST","ALBUM","PODCAST"].includes(n.content_type));return r.length>0&&t.push(...r),t}get videos(){return Zc.getVideosFromMemo(f(this,Jt))}get posts(){return f(this,Jt).getType($e,bs,nc)}get channels(){return f(this,Jt).getType(jo,Rn)}get playlists(){return Zc.getPlaylistsFromMemo(f(this,Jt))}get memo(){return f(this,Jt)}get page_contents(){var n;let i=(n=f(this,Jt).getType(Pt))==null?void 0:n[0].content,t=f(this,Jt).getType(we)[0],r=f(this,Jt).getType(Bt)[0];return i||t||r}get shelves(){return f(this,Jt).getType(Is,Za,qi)}getShelf(i){return this.shelves.find(t=>t.title.toString()===i)}get secondary_contents(){var t,r;if(!((t=f(this,Ut).contents)!=null&&t.is_node))return null;let i=(r=f(this,Ut).contents)==null?void 0:r.item();return i.is(ge,uc)?i.secondary_contents:null}get actions(){return f(this,tl)}get page(){return f(this,Ut)}get has_continuation(){return P(this,Sc,Zk).call(this).length>0}async getContinuationData(){if(f(this,tr)){if(f(this,tr).length===0)throw new w("There are no continuations.");return await f(this,tr)[0].endpoint.call(f(this,tl),{parse:!0})}if(S(this,tr,P(this,Sc,Zk).call(this)),f(this,tr))return this.getContinuationData()}async getContinuation(){let i=await this.getContinuationData();if(!i)throw new w("Could not get continuation data");return new Zc(this.actions,i,!0)}};Ut=new WeakMap,tl=new WeakMap,Jt=new WeakMap,tr=new WeakMap,Sc=new WeakSet,_S=o(function(i){return!("data"in i)},"#isParsed"),Zk=o(function(){if(f(this,Ut).header_memo){let i=f(this,Ut).header_memo.getType(X);return f(this,Jt).getType(X).filter(t=>!i.includes(t))}return f(this,Jt).getType(X)},"#getBodyContinuations"),o(Zc,"Feed");var vt=Zc;var Cc,e1=class e1 extends vt{constructor(t,r,n=!1){super(t,r,n);E(this,Cc)}get filter_chips(){var t,r;if(f(this,Cc))return f(this,Cc)||[];if(((t=this.memo.getType(ne))==null?void 0:t.length)>1)throw new w("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((r=this.memo.getType(ne))==null?void 0:r.length)===0)throw new w("There are no feed filter chipbars");return S(this,Cc,this.memo.getType(Yt)),f(this,Cc)||[]}get filters(){return this.filter_chips.map(t=>t.text.toString())||[]}async getFilteredFeed(t){var c;let r;if(typeof t=="string"){if(!this.filters.includes(t))throw new w("Filter not found",{available_filters:this.filters});r=this.filter_chips.find(u=>u.text.toString()===t)}else if(t.type==="ChipCloudChip")r=t;else throw new w("Invalid filter");if(!r)throw new w("Filter not found");if(r.is_selected)return this;let n=await((c=r.endpoint)==null?void 0:c.call(this.actions,{parse:!0}));if(!n)throw new w("Failed to get filtered feed");return new vt(this.actions,n,!0)}};Cc=new WeakMap,o(e1,"FilterableFeed");var Ze=e1;var s1={};ie(s1,{Feed:()=>vt,FilterableFeed:()=>Ze,MediaInfo:()=>Ns,TabbedFeed:()=>sr});var Cs,Te,er,ir,i1=class i1{constructor(i,t,r){E(this,Cs);E(this,Te);E(this,er);E(this,ir);e(this,"basic_info");e(this,"annotations");e(this,"storyboards");e(this,"endscreen");e(this,"captions");e(this,"cards");e(this,"streaming_data");e(this,"playability_status");e(this,"player_config");var u,m,h,x,b,g,T,I,C,k,A,N,L,G,ot,O,pt,F,at,It,j,W;S(this,Te,t);let n=p.parseResponse(i[0].data.playerResponse?i[0].data.playerResponse:i[0].data),c=(u=i[1])!=null&&u.data?p.parseResponse(i[1].data):void 0;if(S(this,Cs,[n,c]),S(this,er,r),((m=n.playability_status)==null?void 0:m.status)==="ERROR")throw new w("This video is unavailable",n.playability_status);if(n.microformat&&!((h=n.microformat)!=null&&h.is(qt,Qe)))throw new w("Unsupported microformat",n.microformat);this.basic_info={...n.video_details,embed:(x=n.microformat)!=null&&x.is(qt)?(b=n.microformat)==null?void 0:b.embed:null,channel:(g=n.microformat)!=null&&g.is(qt)?(T=n.microformat)==null?void 0:T.channel:null,is_unlisted:(I=n.microformat)==null?void 0:I.is_unlisted,is_family_safe:(C=n.microformat)==null?void 0:C.is_family_safe,category:(k=n.microformat)!=null&&k.is(qt)?(A=n.microformat)==null?void 0:A.category:null,has_ypc_metadata:(N=n.microformat)!=null&&N.is(qt)?(L=n.microformat)==null?void 0:L.has_ypc_metadata:null,start_timestamp:(G=n.microformat)!=null&&G.is(qt)?n.microformat.start_timestamp:null,end_timestamp:(ot=n.microformat)!=null&&ot.is(qt)?n.microformat.end_timestamp:null,view_count:(O=n.microformat)!=null&&O.is(qt)&&isNaN((pt=n.video_details)==null?void 0:pt.view_count)?n.microformat.view_count:(F=n.video_details)==null?void 0:F.view_count,url_canonical:(at=n.microformat)!=null&&at.is(Qe)?(It=n.microformat)==null?void 0:It.url_canonical:null,tags:(j=n.microformat)!=null&&j.is(Qe)?(W=n.microformat)==null?void 0:W.tags:null,like_count:void 0,is_liked:void 0,is_disliked:void 0},this.annotations=n.annotations,this.storyboards=n.storyboards,this.endscreen=n.endscreen,this.captions=n.captions,this.cards=n.cards,this.streaming_data=n.streaming_data,this.playability_status=n.playability_status,this.player_config=n.player_config,S(this,ir,n.playback_tracking)}async toDash(i={}){var u,m;let t=f(this,Cs)[0],r=i.manifest_options||{};if(t.video_details&&t.video_details.is_live)throw new w("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let n,c;return r.include_thumbnails&&t.storyboards&&(n=t.storyboards),typeof r.captions_format=="string"&&((u=t.captions)!=null&&u.caption_tracks)&&(c=t.captions.caption_tracks),gr.toDash(this.streaming_data,(m=this.page[0].video_details)==null?void 0:m.is_post_live_dvr,i.url_transformer,i.format_filter,f(this,er),f(this,Te).session.player,f(this,Te),n,c,r)}getStreamingInfo(i,t){var r;return Fh(this.streaming_data,(r=this.page[0].video_details)==null?void 0:r.is_post_live_dvr,i,t,this.cpn,f(this,Te).session.player,f(this,Te),f(this,Cs)[0].storyboards?f(this,Cs)[0].storyboards:void 0)}chooseFormat(i){return gr.chooseFormat(i,this.streaming_data)}async download(i={}){let t=f(this,Cs)[0];if(t.video_details&&(t.video_details.is_live||t.video_details.is_post_live_dvr))throw new w("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return gr.download(i,f(this,Te),this.playability_status,this.streaming_data,f(this,Te).session.player,this.cpn)}async getTranscript(){var c;let i=this.page[1];if(!i)throw new w("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new w("Engagement panels not found. Video likely has no transcript.");let t=i.engagement_panels.find(u=>u.panel_identifier==="engagement-panel-searchable-transcript");if(!t)throw new w("Transcript panel not found. Video likely has no transcript.");let r=(c=t.content)==null?void 0:c.as(X);if(!r)throw new w("Transcript continuation not found.");let n=await r.endpoint.call(this.actions);return new Nc(this.actions,n)}async addToWatchHistory(i,t,r="https://www."){if(!f(this,ir))throw new w("Playback tracking not available");let n={cpn:f(this,er),fmt:251,rtn:0,rt:0},c=f(this,ir).videostats_playback_url.replace("https://s.",r);return await f(this,Te).stats(c,{client_name:i||et.CLIENTS.WEB.NAME,client_version:t||et.CLIENTS.WEB.VERSION},n)}async updateWatchTime(i,t=et.CLIENTS.WEB.NAME,r=et.CLIENTS.WEB.VERSION,n="https://www."){if(!f(this,ir))throw new w("Playback tracking not available");let c={cpn:f(this,er),st:i.toFixed(3),et:i.toFixed(3),cmt:i.toFixed(3),final:"1"},u=f(this,ir).videostats_watchtime_url.replace("https://s.",n);return await f(this,Te).stats(u,{client_name:t,client_version:r},c)}get actions(){return f(this,Te)}get cpn(){return f(this,er)}get page(){return f(this,Cs)}};Cs=new WeakMap,Te=new WeakMap,er=new WeakMap,ir=new WeakMap,o(i1,"MediaInfo");var Ns=i1;var rr,or,ih=class ih extends vt{constructor(t,r,n=!1){var c;super(t,r,n);E(this,rr);E(this,or);S(this,rr,t),S(this,or,(c=this.page.contents_memo)==null?void 0:c.getType(Pt))}get tabs(){var t,r;return(r=(t=f(this,or))==null?void 0:t.map(n=>n.title.toString()))!=null?r:[]}async getTabByName(t){var c;let r=(c=f(this,or))==null?void 0:c.find(u=>u.title.toLowerCase()===t.toLowerCase());if(!r)throw new w(`Tab "${t}" not found`);if(r.selected)return this;let n=await r.endpoint.call(f(this,rr));return new ih(f(this,rr),n,!1)}async getTabByURL(t){var c;let r=(c=f(this,or))==null?void 0:c.find(u=>{var m;return((m=u.endpoint.metadata.url)==null?void 0:m.split("/").pop())===t});if(!r)throw new w(`Tab "${t}" not found`);if(r.selected)return this;let n=await r.endpoint.call(f(this,rr));return new ih(f(this,rr),n,!1)}hasTabWithURL(t){var r,n;return(n=(r=f(this,or))==null?void 0:r.some(c=>{var u;return((u=c.endpoint.metadata.url)==null?void 0:u.split("/").pop())===t}))!=null?n:!1}get title(){var t,r,n;return(n=(r=(t=this.page.contents_memo)==null?void 0:t.getType(Pt))==null?void 0:r.find(c=>c.selected))==null?void 0:n.title.toString()}};rr=new WeakMap,or=new WeakMap,o(ih,"TabbedFeed");var sr=ih;var Zt=class Zt extends sr{constructor(t,r,n=!1){var m,h,x,b,g;super(t,r,n);e(this,"header");e(this,"metadata");e(this,"subscribe_button");e(this,"current_tab");this.header=(h=(m=this.page.header)==null?void 0:m.item())==null?void 0:h.as(Ki,Vo,Hn,be);let c=(x=this.page.metadata)==null?void 0:x.item().as(Ho),u=(b=this.page.microformat)==null?void 0:b.as(Qe);if(this.page.alerts){let T=this.page.alerts[0];if((T==null?void 0:T.alert_type)==="ERROR")throw new oh(T.text.toString())}if(!c&&!this.page.contents)throw new w("Invalid channel",this);this.metadata={...c,...u||{}},this.subscribe_button=(g=this.page.header_memo)==null?void 0:g.getType(ft)[0],this.page.contents&&(this.current_tab=this.page.contents.item().as(ge).tabs.find(T=>T.selected))}async applyFilter(t){let r,n=this.memo.getType(ne)[0];if(typeof t=="string"){if(r=n==null?void 0:n.contents.find(u=>u.text===t),!r)throw new w(`Filter ${t} not found`,{available_filters:this.filters})}else r=t;if(!r.endpoint)throw new w("Invalid filter",t);let c=await r.endpoint.call(this.actions,{parse:!0});if(!c)throw new w("No page returned",{filter:r});return new wI(this.actions,c,!0)}async applySort(t){let r=this.memo.getType(re)[0];if(!r||!r.sub_menu_items)throw new w("No sort filter sub menu found");let n=r.sub_menu_items.find(u=>u.title===t);if(!n)throw new w(`Sort filter ${t} not found`,{available_sort_filters:this.sort_filters});if(n.selected)return this;let c=await n.endpoint.call(this.actions,{parse:!0});return new Zt(this.actions,c,!0)}async applyContentTypeFilter(t){var u,m,h;let r=(h=(m=(u=this.current_tab)==null?void 0:u.content)==null?void 0:m.as(lt).sub_menu)==null?void 0:h.as($s);if(!r)throw new w("Sub menu not found");let n=r.content_type_sub_menu_items.find(x=>x.title===t);if(!n)throw new w(`Sub menu item ${t} not found`,{available_filters:this.content_type_filters});if(n.selected)return this;let c=await n.endpoint.call(this.actions,{parse:!0});return new Zt(this.actions,c,!0)}get filters(){var t,r;return((r=(t=this.memo.getType(ne))==null?void 0:t[0])==null?void 0:r.contents.filterType(Yt).map(n=>n.text))||[]}get sort_filters(){var r;let t=this.memo.getType(re)[0];return((r=t==null?void 0:t.sub_menu_items)==null?void 0:r.map(n=>n.title))||[]}get content_type_filters(){var r,n,c;let t=(c=(n=(r=this.current_tab)==null?void 0:r.content)==null?void 0:n.as(lt).sub_menu)==null?void 0:c.as($s);return(t==null?void 0:t.content_type_sub_menu_items.map(u=>u.title))||[]}async getHome(){let t=await this.getTabByURL("featured");return new Zt(this.actions,t.page,!0)}async getVideos(){let t=await this.getTabByURL("videos");return new Zt(this.actions,t.page,!0)}async getShorts(){let t=await this.getTabByURL("shorts");return new Zt(this.actions,t.page,!0)}async getLiveStreams(){let t=await this.getTabByURL("streams");return new Zt(this.actions,t.page,!0)}async getReleases(){let t=await this.getTabByURL("releases");return new Zt(this.actions,t.page,!0)}async getPodcasts(){let t=await this.getTabByURL("podcasts");return new Zt(this.actions,t.page,!0)}async getCourses(){let t=await this.getTabByURL("courses");return new Zt(this.actions,t.page,!0)}async getPlaylists(){let t=await this.getTabByURL("playlists");return new Zt(this.actions,t.page,!0)}async getCommunity(){let t=await this.getTabByURL("posts");return new Zt(this.actions,t.page,!0)}async getAbout(){var r,n,c,u,m;if(this.hasTabWithURL("about"))return(await this.getTabByURL("about")).memo.getType(Hs)[0];let t=((r=this.header)==null?void 0:r.is(Ki))&&this.header.tagline;if(t||(n=this.header)!=null&&n.is(be)&&((c=this.header.content)!=null&&c.description)){if(t&&t.more_endpoint instanceof d){let b=await t.more_endpoint.call(this.actions);return new sr(this.actions,b,!1).memo.getType(Hs)[0]}let h=(m=(u=this.page.header_memo)==null?void 0:u.getType(X)[0])==null?void 0:m.endpoint;if(!h)throw new w("Failed to extract continuation to get channel about");let x=await h.call(this.actions,{parse:!0});if(!x.on_response_received_endpoints_memo)throw new w("Unexpected response while fetching channel about",{response:x});return x.on_response_received_endpoints_memo.getType(Nr)[0]}throw new w("About not found")}async search(t){var c;let r=(c=this.memo.getType(fi))==null?void 0:c[0];if(!r)throw new w("Search tab not found",this);let n=await r.endpoint.call(this.actions,{query:t,parse:!0});return new Zt(this.actions,n,!0)}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_courses(){return this.hasTabWithURL("courses")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("posts")}get has_about(){var t,r,n,c,u;return this.hasTabWithURL("about")||!!((t=this.header)!=null&&t.is(Ki)&&((r=this.header.tagline)!=null&&r.more_endpoint))||!!((n=this.header)!=null&&n.is(be)&&((u=(c=this.header.content)==null?void 0:c.description)!=null&&u.more_endpoint))}get has_search(){var t;return((t=this.memo.getType(fi))==null?void 0:t.length)>0}async getContinuation(){let t=await super.getContinuationData();if(!t)throw new w("Could not get continuation data");return new gI(this.actions,t,!0)}};o(Zt,"Channel");var rh=Zt,TI=class TI extends vt{constructor(t,r,n=!1){var c,u;super(t,r,n);e(this,"contents");this.contents=((c=this.page.on_response_received_actions)==null?void 0:c[0])||((u=this.page.on_response_received_endpoints)==null?void 0:u[0])}async getContinuation(){let t=await super.getContinuationData();if(!t)throw new w("Could not get continuation data");return new TI(this.actions,t,!0)}};o(TI,"ChannelListContinuation");var gI=TI,sh=class sh extends Ze{constructor(t,r,n=!1){var c;super(t,r,n);e(this,"applied_filter");e(this,"contents");this.applied_filter=this.memo.getType(Yt).find(u=>u.is_selected),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=(c=this.page.on_response_received_actions)==null?void 0:c[0]}async applyFilter(t){let r=await super.getFilteredFeed(t);return new sh(this.actions,r.page,!0)}async getContinuation(){let t=await super.getContinuationData();if(!(t!=null&&t.on_response_received_actions_memo))throw new w("Unexpected continuation data",t);return t.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(ne)),t.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(Yt)),new sh(this.actions,t,!0)}};o(sh,"FilteredChannelList");var wI=sh;var Ac,ti,Pc,nh=class nh{constructor(i,t,r=!1){E(this,Ac);E(this,ti);E(this,Pc);e(this,"header");e(this,"contents");var h,x,b,g,T;S(this,Ac,r?t:p.parseResponse(t)),S(this,ti,i);let n=f(this,Ac).on_response_received_endpoints;if(!n)throw new w("Comments page did not have any content.");let c=(h=n.at(0))==null?void 0:h.as(Bt,we),u=(x=n.at(1))==null?void 0:x.as(Bt,we);this.header=(b=c==null?void 0:c.contents)==null?void 0:b.firstOfType(Xe);let m=((g=u==null?void 0:u.contents)==null?void 0:g.filterType(pn))||[];this.contents=$(m.map(I=>(I.comment&&I.comment.setActions(f(this,ti)),I.setActions(f(this,ti)),I))),S(this,Pc,(T=u==null?void 0:u.contents)==null?void 0:T.firstOfType(X))}async applySort(i){var n,c,u,m;if(!this.header)throw new w("Page header is missing. Cannot apply sort option.");let t;if(i==="TOP_COMMENTS"?t=(c=(n=this.header.sort_menu)==null?void 0:n.sub_menu_items)==null?void 0:c.at(0):i==="NEWEST_FIRST"&&(t=(m=(u=this.header.sort_menu)==null?void 0:u.sub_menu_items)==null?void 0:m.at(1)),!t)throw new w("Could not find target button.");if(t.selected)return this;let r=await t.endpoint.call(f(this,ti),{parse:!0});return new nh(f(this,ti),r,!0)}async createComment(i){var r;if(!this.header)throw new w("Page header is missing. Cannot create comment.");let t=(r=this.header.create_renderer)==null?void 0:r.as(cn).submit_button;if(!t)throw new w("Could not find target button. You are probably not logged in.");if(!t.endpoint)throw new w("Button does not have an endpoint.");return await t.endpoint.call(f(this,ti),{commentText:i})}async getContinuation(){if(!f(this,Pc))throw new w("Continuation not found");let i=await f(this,Pc).endpoint.call(f(this,ti),{parse:!0}),t=Object.assign({},f(this,Ac));if(!t.on_response_received_endpoints||!i.on_response_received_endpoints)throw new w("Invalid reponse format, missing on_response_received_endpoints.");return t.on_response_received_endpoints.pop(),t.on_response_received_endpoints.push(i.on_response_received_endpoints[0]),new nh(f(this,ti),t,!0)}get has_continuation(){return!!f(this,Pc)}get page(){return f(this,Ac)}};Ac=new WeakMap,ti=new WeakMap,Pc=new WeakMap,o(nh,"Comments");var ah=nh;var Rc,r1=class r1{constructor(i){E(this,Rc);e(this,"contents");S(this,Rc,p.parseResponse(i)),f(this,Rc).items&&(this.contents=f(this,Rc).items.array().as(ls,On))}get page(){return f(this,Rc)}};Rc=new WeakMap,o(r1,"Guide");var ch=r1;var vI=class vI extends vt{constructor(t,r,n=!1){super(t,r,n);e(this,"sections");e(this,"feed_actions");this.sections=this.memo.getType(ae),this.feed_actions=this.memo.getType(Wi)[0]}async getContinuation(){let t=await this.getContinuationData();if(!t)throw new Error("No continuation data found");return new vI(this.actions,t,!0)}async removeVideo(t){let r;for(let m of this.sections)for(let h of m.contents){let x=h;if(x.video_id===t&&x.menu){r=x.menu.top_level_buttons[0].as(v).endpoint.payload.feedbackToken;break}}if(!r)throw new Error("Failed to get feedback token");let n={feedbackTokens:[r]};if(!(await this.actions.execute("/feedback",n)).data.feedbackResponses[0].isProcessed)throw new Error("Failed to remove video from watch history");return!0}};o(vI,"History");var Mc=vI;var lh=class lh extends Ze{constructor(t,r,n=!1){var c;super(t,r,n);e(this,"contents");e(this,"header");this.header=this.memo.getType(Pn)[0],this.contents=this.memo.getType(ye)[0]||((c=this.page.on_response_received_actions)==null?void 0:c[0])}async applyFilter(t){let r=await super.getFilteredFeed(t);return new lh(this.actions,r.page,!0)}async getContinuation(){var r;let t=await super.getContinuation();return t.page.header=this.page.header,this.header&&((r=t.page.header_memo)==null||r.set(this.header.type,[this.header])),new lh(this.actions,t.page,!0)}};o(lh,"HomeFeed");var ph=lh;var II=class II extends Ze{constructor(t,r){super(t,r);e(this,"header");e(this,"contents");if(!this.page.contents_memo)throw new w("Unexpected response",this.page);let n=this.page.contents_memo.getType(Pt)[0];if(!n.content)throw new w("Content tab has no content",n);this.page.header&&(this.header=this.page.header.item().as(Yn,be)),this.contents=n.content.as(ye)}async applyFilter(t){let r=await super.getFilteredFeed(t);return new II(this.actions,r.page)}};o(II,"HashtagFeed");var uh=II;var mh,fh,el,o1=class o1{constructor(i,t){E(this,mh);E(this,fh);E(this,el);S(this,mh,i),S(this,fh,t);let r=i==null?void 0:i.live_chat_item_context_menu_supported_renderers;if(!r||!r.is(D))throw new w('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');S(this,el,r.as(D).items)}async selectItem(i){let t;if(i instanceof v){if(!i.endpoint)throw new w("Item does not have an endpoint.");t=i.endpoint}else{let r=f(this,el).find(n=>n.is(me)?n.as(me).icon_type===i:!1);if(!r||!r.is(me))throw new w(`Button "${i}" not found.`);t=r.endpoint}if(!t)throw new w("Target button does not have an endpoint.");return await t.call(f(this,fh),{parse:!0})}items(){return f(this,el)}page(){return f(this,mh)}};mh=new WeakMap,fh=new WeakMap,el=new WeakMap,o(o1,"ItemMenu");var Dc=o1;var il,kI,EI=class EI extends vt{constructor(t,r,n=!1){var b,g,T,I,C;super(t,r,n);E(this,il);e(this,"info");e(this,"menu");e(this,"endpoint");e(this,"messages");let c=this.memo.getType($a)[0],u=this.memo.getType(qa)[0],m=this.memo.getType(Ka)[0],h=this.memo.getType(za)[0],x=(b=this.page.alerts)==null?void 0:b.firstOfType(Li);if(x&&x.alert_type==="ERROR")throw new w(x.text.toString(),x);if(!u&&!m&&Object.keys(this.page).length===0)throw new w("Got empty continuation response. This is likely the end of the playlist.");this.info={...(g=this.page.metadata)==null?void 0:g.item().as(Ga),subtitle:c?c.subtitle:null,author:(I=(T=m==null?void 0:m.owner)==null?void 0:T.as(Es).author)!=null?I:c==null?void 0:c.author,thumbnails:(C=u==null?void 0:u.thumbnail_renderer)==null?void 0:C.as(ts,Zi).thumbnail,total_items:P(this,il,kI).call(this,0,u),views:P(this,il,kI).call(this,1,u),last_updated:P(this,il,kI).call(this,2,u),can_share:c==null?void 0:c.can_share,can_delete:c==null?void 0:c.can_delete,can_reorder:h==null?void 0:h.can_reorder,is_editable:h==null?void 0:h.is_editable,privacy:c==null?void 0:c.privacy},this.menu=u==null?void 0:u.menu,this.endpoint=u==null?void 0:u.endpoint,this.messages=this.memo.getType(_e)}get items(){return $(this.videos.as(xs,ys,ks).filter(t=>t.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let t=this.memo.getType(lt)[0];return t?!!this.memo.getType(X).find(r=>!t.contents.includes(r)):super.has_continuation}async getContinuationData(){let t=this.memo.getType(lt)[0];if(!t)return await super.getContinuationData();let r=this.memo.getType(X).find(n=>!t.contents.includes(n));if(!r)throw new w("There are no continuations.");return await r.endpoint.call(this.actions,{parse:!0})}async getContinuation(){let t=await this.getContinuationData();if(!t)throw new w("Could not get continuation data");return new EI(this.actions,t,!0)}};il=new WeakSet,kI=o(function(t,r){var n;return!r||!r.stats?"N/A":((n=r.stats[t])==null?void 0:n.toString())||"N/A"},"#getStat"),o(EI,"Playlist");var As=EI;var SI,xS,n1=class n1 extends vt{constructor(t,r){super(t,r);E(this,SI);e(this,"header");e(this,"sections");if(!this.page.contents_memo)throw new w("Page contents not found");this.header=this.memo.getType(be)[0];let n=this.page.contents_memo.getType(Is);this.sections=n.map(c=>{var u;return{type:c.icon_type,title:c.title,contents:((u=c.content)==null?void 0:u.key("items").array())||[],getAll:o(()=>P(this,SI,xS).call(this,c),"getAll")}})}get history(){return this.sections.find(t=>t.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(t=>t.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(t=>t.type==="LIKE")}get playlists_section(){return this.sections.find(t=>t.type==="PLAYLISTS")}get clips(){return this.sections.find(t=>t.type==="CONTENT_CUT")}};SI=new WeakSet,xS=o(async function(t){var c;if(!((c=t.menu)!=null&&c.as(D).top_level_buttons))throw new w(`The ${t.title.text} shelf doesn't have more items`);let r=t.menu.as(D).top_level_buttons.firstOfType(v);if(!r)throw new w("Did not find target button.");let n=await r.as(v).endpoint.call(this.actions,{parse:!0});switch(t.icon_type){case"LIKE":case"WATCH_LATER":return new As(this.actions,n,!0);case"WATCH_HISTORY":return new Mc(this.actions,n,!0);case"CONTENT_CUT":return new vt(this.actions,n,!0);default:throw new w("Target shelf not implemented.")}},"#getAll"),o(n1,"Library");var hh=n1;function rA(s){let i=[];for(let t of s)if(Array.isArray(t))for(let r of t)i.push(r);else i.push(t);return i}o(rA,"flattenQueue");var c1=class c1{constructor(){e(this,"front");e(this,"back");this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};o(c1,"DelayQueue");var a1=c1,wi,Ps,nr,ve,Me,te,l1=class l1{constructor(){E(this,wi);E(this,Ps);E(this,nr);E(this,ve);E(this,Me);E(this,te);S(this,wi,null),S(this,Ps,null),S(this,nr,null),S(this,ve,[]),S(this,Me,null),S(this,te,new a1)}enqueueActionGroup(i){if(f(this,wi)!==null){let t=Date.now()-f(this,wi);f(this,te).back.push(t),5<f(this,te).front.length+f(this,te).back.length&&(f(this,te).front.length||(f(this,te).front=f(this,te).back,f(this,te).front.reverse(),f(this,te).back=[]),f(this,te).front.pop()),S(this,Ps,Math.max(...f(this,te).getValues()))}S(this,wi,Date.now()),f(this,ve).push(i),f(this,Me)===null&&S(this,Me,setTimeout(this.emitSmoothedActions.bind(this)))}emitSmoothedActions(){if(S(this,Me,null),f(this,ve).length){let i=1e4;f(this,Ps)!==null&&f(this,wi)!==null&&(i=f(this,Ps)-Date.now()+f(this,wi)),i=f(this,ve).length<i/80?1:Math.ceil(f(this,ve).length/(i/80));let t=rA(f(this,ve).splice(0,i));f(this,nr)&&f(this,nr).call(this,t),f(this,ve)!==null&&(i==1?(i=f(this,Ps)/f(this,ve).length,i*=Math.random()+.5,i=Math.min(1e3,i),i=Math.max(80,i)):i=80,S(this,Me,setTimeout(this.emitSmoothedActions.bind(this),i)))}}clear(){f(this,Me)!==null&&(clearTimeout(f(this,Me)),S(this,Me,null)),S(this,ve,[])}set callback(i){S(this,nr,i)}get callback(){return f(this,nr)}get action_queue(){return f(this,ve)}get estimated_update_interval(){return f(this,Ps)}get last_update_time(){return f(this,wi)}get next_update_id(){return f(this,Me)}get poll_response_delay_queue(){return f(this,te)}};wi=new WeakMap,Ps=new WeakMap,nr=new WeakMap,ve=new WeakMap,Me=new WeakMap,te=new WeakMap,o(l1,"SmoothedQueue");var Bc=l1;var Ti,sl,_h,ar,rl,xh,xt,dh,CI,NI,Lc,p1=class p1 extends Us{constructor(t){var r,n;super();E(this,xt);E(this,Ti);E(this,sl);E(this,_h);E(this,ar);E(this,rl);E(this,xh,0);e(this,"smoothed_queue");e(this,"initial_info");e(this,"metadata");e(this,"running",!1);e(this,"is_replay",!1);S(this,sl,t.basic_info.id),S(this,_h,t.basic_info.channel_id),S(this,Ti,t.actions),S(this,ar,(r=t.livechat)==null?void 0:r.continuation),this.is_replay=((n=t.livechat)==null?void 0:n.is_replay)||!1,this.smoothed_queue=new Bc,this.smoothed_queue.callback=async c=>{c.length?c.length<10?await P(this,xt,CI).call(this,c):this.is_replay?(P(this,xt,CI).call(this,c),await P(this,xt,Lc).call(this,2e3)):P(this,xt,CI).call(this,c):await P(this,xt,Lc).call(this,2e3),this.running&&P(this,xt,dh).call(this)}}on(t,r){super.on(t,r)}once(t,r){super.once(t,r)}start(){this.running||(this.running=!0,P(this,xt,dh).call(this),P(this,xt,NI).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}async sendMessage(t){let r=YE.encode({params:{ids:{videoId:f(this,sl),channelId:f(this,_h)}},number0:1,number1:4}),n=btoa(encodeURIComponent(Mi(r.finish()))),c=await f(this,Ti).execute("/live_chat/send_message",{richMessage:{textSegments:[{text:t}]},clientMessageId:H.shim.uuidv4(),client:"WEB",parse:!0,params:n});if(!c.actions)throw new w("Unexpected response from send_message",c);return c.actions.array().as(Qn,tn)}applyFilter(t){var n,c,u,m,h,x,b;if(!this.initial_info)throw new w("Cannot apply filter before initial info is retrieved.");let r=(u=(c=(n=this.initial_info)==null?void 0:n.header)==null?void 0:c.view_selector)==null?void 0:u.sub_menu_items;if(t==="TOP_CHAT"){if((m=r==null?void 0:r.at(0))!=null&&m.selected)return;S(this,ar,(h=r==null?void 0:r.at(0))==null?void 0:h.continuation)}else{if((x=r==null?void 0:r.at(1))!=null&&x.selected)return;S(this,ar,(b=r==null?void 0:r.at(1))==null?void 0:b.continuation)}}async getItemMenu(t){if(!t.hasKey("menu_endpoint")||!t.key("menu_endpoint").isInstanceof(d))throw new w("This item does not have a menu.",t);let r=await t.key("menu_endpoint").instanceof(d).call(f(this,Ti),{parse:!0});if(!r)throw new w("Could not retrieve item menu.",t);return new Dc(r,f(this,Ti))}async selectButton(t){return await t.endpoint.call(f(this,Ti),{parse:!0})}};Ti=new WeakMap,sl=new WeakMap,_h=new WeakMap,ar=new WeakMap,rl=new WeakMap,xh=new WeakMap,xt=new WeakSet,dh=o(function(){(async()=>{try{let t=await f(this,Ti).execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:f(this,ar),parse:!0}),r=t.continuation_contents;if(r||(this.emit("error",new w("Unexpected live chat incremental continuation response",t)),this.emit("end"),this.stop()),!(r instanceof Jc)){this.stop(),this.emit("end");return}S(this,ar,r.continuation.token),r.header?(this.initial_info=r,this.emit("start",r),this.running&&P(this,xt,dh).call(this)):this.smoothed_queue.enqueueActionGroup(r.actions),S(this,xh,0)}catch(t){this.emit("error",t),sE(this,xh)._++<10?(await P(this,xt,Lc).call(this,2e3),P(this,xt,dh).call(this)):(this.emit("error",new w("Reached retry limit for incremental continuation requests",t)),this.emit("end"),this.stop())}})()},"#pollLivechat"),CI=o(async function(t){let n=t.length<125?1:Math.ceil(t.length/125),c=n==1?(n=1e4/t.length,n*=Math.random()+.5,n=Math.min(1e3,n),n=Math.max(80,n)):n=80;for(let u of t)await P(this,xt,Lc).call(this,c),this.emit("chat-update",u)},"#emitSmoothedActions"),NI=o(function(){(async()=>{var t,r,n,c,u,m,h,x,b,g,T;try{let I={videoId:f(this,sl)};f(this,rl)&&(I.continuation=f(this,rl));let C=await f(this,Ti).execute("/updated_metadata",I),k=p.parseResponse(C.data);S(this,rl,(t=k.continuation)==null?void 0:t.token),this.metadata={title:((r=k.actions)==null?void 0:r.array().firstOfType(aa))||((n=this.metadata)==null?void 0:n.title),description:((c=k.actions)==null?void 0:c.array().firstOfType(na))||((u=this.metadata)==null?void 0:u.description),views:((m=k.actions)==null?void 0:m.array().firstOfType(la))||((h=this.metadata)==null?void 0:h.views),likes:((x=k.actions)==null?void 0:x.array().firstOfType(ca))||((b=this.metadata)==null?void 0:b.likes),date:((g=k.actions)==null?void 0:g.array().firstOfType(oa))||((T=this.metadata)==null?void 0:T.date)},this.emit("metadata-update",this.metadata),await P(this,xt,Lc).call(this,5e3),this.running&&P(this,xt,NI).call(this)}catch{await P(this,xt,Lc).call(this,2e3),this.running&&P(this,xt,NI).call(this)}})()},"#pollMetadata"),Lc=o(async function(t){return new Promise(r=>setTimeout(()=>r(),t))},"#wait"),o(p1,"LiveChat");var Oc=p1;var Rs,ol,AI=class AI{constructor(i,t){E(this,Rs);E(this,ol);e(this,"header");e(this,"contents");if(S(this,ol,i),S(this,Rs,p.parseResponse(t.data)),!f(this,Rs).actions_memo)throw new w("Page actions not found");this.header=f(this,Rs).actions_memo.getType(ya)[0],this.contents=f(this,Rs).actions_memo.getType(fs)}async getContinuation(){var r;let i=(r=f(this,Rs).actions_memo)==null?void 0:r.getType(X)[0];if(!i)throw new w("Continuation not found");let t=await i.endpoint.call(f(this,ol),{parse:!1});return new AI(f(this,ol),t)}get page(){return f(this,Rs)}};Rs=new WeakMap,ol=new WeakMap,o(AI,"NotificationsMenu");var bh=AI;var yh=class yh extends vt{constructor(t,r,n=!1){var u,m,h;super(t,r,n);e(this,"header");e(this,"results");e(this,"refinements");e(this,"estimated_results");e(this,"sub_menu");e(this,"watch_card");e(this,"refinement_cards");let c=((u=this.page.contents_memo)==null?void 0:u.getType(lt)[0].contents)||((m=this.page.on_response_received_commands)==null?void 0:m[0].as(Bt,we).contents);if(!c)throw new w("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(ec)),this.results=$(c.filterType(ae).flatMap(x=>x.contents)),this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType(ic)[0],this.watch_card=this.page.contents_memo.getType(ws)[0]),this.refinement_cards=(h=this.results)==null?void 0:h.firstOfType(Ge)}async selectRefinementCard(t){var c;let r;if(typeof t=="string"){if(!this.refinement_cards)throw new w("No refinement cards found.");if(r=(c=this.refinement_cards)==null?void 0:c.cards.find(u=>u.is(ai)&&u.query===t),!r)throw new w(`Refinement card "${t}" not found`,{available_cards:this.refinement_card_queries})}else if(t.type==="SearchRefinementCard")r=t;else throw new w("Invalid refinement card!");let n=await r.endpoint.call(this.actions,{parse:!0});return new yh(this.actions,n,!0)}get refinement_card_queries(){var t;return((t=this.refinement_cards)==null?void 0:t.cards.as(ai).map(r=>r.query))||[]}async getContinuation(){let t=await this.getContinuationData();if(!t)throw new w("Could not get continuation data");return new yh(this.actions,t,!0)}};o(yh,"Search");var gh=yh;var cr,nl,PI=class PI{constructor(i,t){E(this,cr);E(this,nl);e(this,"sidebar");e(this,"introduction");e(this,"sections");var c,u,m,h;if(S(this,nl,i),S(this,cr,p.parseResponse(t.data)),this.sidebar=(c=f(this,cr).sidebar)==null?void 0:c.as(oc),!f(this,cr).contents)throw new w("Page contents not found");let r=f(this,cr).contents.item().as(ge).tabs.find(x=>x.selected);if(!r)throw new w("Target tab not found");let n=(u=r.content)==null?void 0:u.as(lt).contents.as(ae);this.introduction=(h=(m=n==null?void 0:n.shift())==null?void 0:m.contents)==null?void 0:h.firstOfType(Ba),this.sections=n==null?void 0:n.map(x=>{var b;return{title:(b=x.header)!=null&&b.is(Xe,ps,us)?x.header.title.toString():null,contents:x.contents}})}async selectSidebarItem(i){if(!this.sidebar)throw new w("Sidebar not available");let t;if(typeof i=="string"){if(t=this.sidebar.items.find(n=>n.title===i),!t)throw new w(`Item "${i}" not found`,{available_items:this.sidebar_items})}else if(i!=null&&i.is(ue))t=i;else throw new w("Invalid item",{target_item:i});let r=await t.endpoint.call(f(this,nl),{parse:!1});return new PI(f(this,nl),r)}getSettingOption(i){var t;if(!this.sections)throw new w("Sections not available");for(let r of this.sections)if(r.contents)for(let n of r.contents){let c=n.as(vs).options;if(c){for(let u of c)if(u.is(Ts)&&((t=u.title)==null?void 0:t.toString())===i)return u}}throw new w(`Option "${i}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new w("Sections not available");let i=[];for(let t of this.sections)if(t.contents)for(let r of t.contents)r.as(vs).options&&(i=i.concat(r.as(vs).options));return i.map(t=>{var r;return(r=t.title)==null?void 0:r.toString()}).filter(t=>t)}get sidebar_items(){if(!this.sidebar)throw new w("Sidebar not available");return this.sidebar.items.map(i=>i.title.toString())}get page(){return f(this,cr)}};cr=new WeakMap,nl=new WeakMap,o(PI,"Settings");var wh=PI;var Ms,RI=class RI extends Ns{constructor(t,r,n){var b,g,T,I,C,k,A,N,L,G,ot,O,pt,F,at,It,j,W,nt,tt,Rt,Mt,ct,Kt,le,si,ri,Ue,bt,pe;super(t,r,n);e(this,"primary_info");e(this,"secondary_info");e(this,"playlist");e(this,"game_info");e(this,"merchandise");e(this,"related_chip_cloud");e(this,"watch_next_feed");e(this,"player_overlays");e(this,"comments_entry_point_header");e(this,"livechat");e(this,"autoplay");e(this,"heat_map");E(this,Ms);let[c,u]=this.page;if(this.streaming_data){let yt=this.streaming_data.adaptive_formats.find(zt=>{var Ie;return(Ie=zt.audio_track)==null?void 0:Ie.audio_is_default});if(yt)this.streaming_data.formats.forEach(zt=>zt.language=yt.language);else if((b=this.captions)!=null&&b.caption_tracks&&((g=this.captions)==null?void 0:g.caption_tracks.length)>0){let zt=this.captions.caption_tracks.find(ke=>ke.kind==="asr"),Ie=zt==null?void 0:zt.language_code;this.streaming_data.adaptive_formats.forEach(ke=>{ke.has_audio&&(ke.language=Ie)}),this.streaming_data.formats.forEach(ke=>ke.language=Ie)}}let m=(T=u==null?void 0:u.contents)==null?void 0:T.item().as(mc),h=m==null?void 0:m.results,x=m==null?void 0:m.secondary_results;if(h&&x){if((I=c.microformat)!=null&&I.is(qt)&&((C=c.microformat)==null?void 0:C.category)==="Gaming"){let gt=(N=(A=(k=h.firstOfType(Zs))==null?void 0:k.metadata)==null?void 0:A.rows)==null?void 0:N.firstOfType(Js);gt!=null&&gt.is(Js)&&(this.game_info={title:(G=(L=gt==null?void 0:gt.contents)==null?void 0:L.firstOfType(Qs))==null?void 0:G.title,release_year:(O=(ot=gt==null?void 0:gt.contents)==null?void 0:ot.firstOfType(Qs))==null?void 0:O.subtitle})}this.primary_info=h.firstOfType(dc),this.secondary_info=h.firstOfType(Zs),this.merchandise=h.firstOfType(ga),this.related_chip_cloud=(pt=x.firstOfType(Ja))==null?void 0:pt.content.as(zi),m!=null&&m.playlist&&(this.playlist=m.playlist),this.watch_next_feed=((F=x.firstOfType(ae))==null?void 0:F.contents)||x,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((at=this.watch_next_feed.at(-1))!=null&&at.is(X))&&S(this,Ms,(It=this.watch_next_feed.pop())==null?void 0:It.as(X)),this.player_overlays=(j=u==null?void 0:u.player_overlays)==null?void 0:j.item().as(Ha),m!=null&&m.autoplay&&(this.autoplay=m.autoplay);let yt=(nt=(W=this.primary_info)==null?void 0:W.menu)==null?void 0:nt.top_level_buttons.firstOfType(_i);(tt=yt==null?void 0:yt.like_button)!=null&&tt.is(rt)&&((Rt=yt==null?void 0:yt.dislike_button)!=null&&Rt.is(rt))&&(this.basic_info.like_count=(Mt=yt==null?void 0:yt.like_button)==null?void 0:Mt.like_count,this.basic_info.is_liked=(ct=yt==null?void 0:yt.like_button)==null?void 0:ct.is_toggled,this.basic_info.is_disliked=(Kt=yt==null?void 0:yt.dislike_button)==null?void 0:Kt.is_toggled);let zt=(si=(le=this.primary_info)==null?void 0:le.menu)==null?void 0:si.top_level_buttons.firstOfType(Se);if(zt&&(this.basic_info.like_count=zt.like_count,zt.like_button)){let gt=zt.like_button.like_status_entity.like_status;this.basic_info.is_liked=gt==="LIKE",this.basic_info.is_disliked=gt==="DISLIKE"}let Ie=h.find(gt=>gt.is(ae)&&gt.target_id==="comments-entry-point");this.comments_entry_point_header=(ri=Ie==null?void 0:Ie.contents)==null?void 0:ri.firstOfType(an),this.livechat=(Ue=u==null?void 0:u.contents_memo)==null?void 0:Ue.getType(Kn)[0];let ke=(pe=(bt=this.page[1])==null?void 0:bt.contents_memo)==null?void 0:pe.getType(ms),Tl=null;if(ke){let gt=ke.find(Rh=>Rh.isHeatmap());if(gt)try{Tl=gt.toHeatmap()}catch{}}this.heat_map=Tl}}async selectFilter(t){var u,m,h,x;if(!this.related_chip_cloud)throw new w("Chip cloud not found, cannot apply filter");let r;if(typeof t=="string"){let b=(m=(u=this.related_chip_cloud)==null?void 0:u.chips)==null?void 0:m.find(g=>g.text===t);if(!b)throw new w("Invalid filter",{available_filters:this.filters});r=b}else if(t!=null&&t.is(Yt))r=t;else throw new w("Invalid cloud chip",t);if(r.is_selected)return this;let n=await((h=r.endpoint)==null?void 0:h.call(this.actions,{parse:!0})),c=(x=n==null?void 0:n.on_response_received_endpoints)==null?void 0:x.find(b=>b.is(we)&&b.target_id==="watch-next-feed");return this.watch_next_feed=c==null?void 0:c.contents,this}async addToWatchHistory(){return super.addToWatchHistory()}async updateWatchTime(t){return super.updateWatchTime(t)}async getWatchNextContinuation(){var n,c,u,m,h;if(!f(this,Ms))throw new w("Watch next feed continuation not found");let t=await((n=f(this,Ms))==null?void 0:n.endpoint.call(this.actions,{parse:!0})),r=(c=t==null?void 0:t.on_response_received_endpoints)==null?void 0:c.firstOfType(Bt);if(!r)throw new w("AppendContinuationItemsAction not found");return this.watch_next_feed=r==null?void 0:r.contents,(m=(u=this.watch_next_feed)==null?void 0:u.at(-1))!=null&&m.is(X)?S(this,Ms,(h=this.watch_next_feed.pop())==null?void 0:h.as(X)):S(this,Ms,void 0),this}async like(){var c,u,m,h,x;let t=(u=(c=this.primary_info)==null?void 0:c.menu)==null?void 0:u.top_level_buttons.firstOfType(Se);if(t){let b=(m=t==null?void 0:t.like_button)==null?void 0:m.toggle_button;if(!b||!b.default_button||!t.like_button)throw new w("Like button not found",{video_id:this.basic_info.id});if(t.like_button.like_status_entity.like_status==="LIKE")throw new w("This video is already liked",{video_id:this.basic_info.id});if(!b.default_button.on_tap)throw new w("onTap command not found",{video_id:this.basic_info.id});return await new d(b.default_button.on_tap.payload.commands.find(I=>I.innertubeCommand)).call(this.actions)}let r=(x=(h=this.primary_info)==null?void 0:h.menu)==null?void 0:x.top_level_buttons.firstOfType(_i),n=r==null?void 0:r.like_button;if(!n)throw new w("Like button not found",{video_id:this.basic_info.id});if(!n.is(rt))throw new w("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new w("This video is already liked",{video_id:this.basic_info.id});return await n.endpoint.call(this.actions)}async dislike(){var c,u,m,h,x;let t=(u=(c=this.primary_info)==null?void 0:c.menu)==null?void 0:u.top_level_buttons.firstOfType(Se);if(t){let b=(m=t==null?void 0:t.dislike_button)==null?void 0:m.toggle_button;if(!b||!b.default_button||!t.dislike_button||!t.like_button)throw new w("Dislike button not found",{video_id:this.basic_info.id});if(t.like_button.like_status_entity.like_status==="DISLIKE")throw new w("This video is already disliked",{video_id:this.basic_info.id});if(!b.default_button.on_tap)throw new w("onTap command not found",{video_id:this.basic_info.id});return await new d(b.default_button.on_tap.payload.commands.find(I=>I.innertubeCommand)).call(this.actions)}let r=(x=(h=this.primary_info)==null?void 0:h.menu)==null?void 0:x.top_level_buttons.firstOfType(_i),n=r==null?void 0:r.dislike_button;if(!n)throw new w("Dislike button not found",{video_id:this.basic_info.id});if(!n.is(rt))throw new w("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new w("This video is already disliked",{video_id:this.basic_info.id});return await n.endpoint.call(this.actions)}async removeRating(){var m,h,x,b,g,T,I;let t,r=(h=(m=this.primary_info)==null?void 0:m.menu)==null?void 0:h.top_level_buttons.firstOfType(Se);if(r){let C=(x=r==null?void 0:r.like_button)==null?void 0:x.toggle_button;if(!C||!C.default_button||!r.like_button)throw new w("Like button not found",{video_id:this.basic_info.id});let k=r.like_button.like_status_entity.like_status;if(k==="LIKE")t=(b=r==null?void 0:r.like_button)==null?void 0:b.toggle_button;else if(k==="DISLIKE")t=(g=r==null?void 0:r.dislike_button)==null?void 0:g.toggle_button;else throw new w("This video is not liked/disliked",{video_id:this.basic_info.id});if(!t||!t.toggled_button)throw new w("Like/Dislike button not found",{video_id:this.basic_info.id});if(!t.toggled_button.on_tap)throw new w("onTap command not found",{video_id:this.basic_info.id});return await new d(t.toggled_button.on_tap.payload.commands.find(N=>N.innertubeCommand)).call(this.actions)}let n=(I=(T=this.primary_info)==null?void 0:T.menu)==null?void 0:I.top_level_buttons.firstOfType(_i),c=n==null?void 0:n.like_button,u=n==null?void 0:n.dislike_button;if(!(c!=null&&c.is(rt))||!(u!=null&&u.is(rt)))throw new w("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(c!=null&&c.is_toggled?t=c:u!=null&&u.is_toggled&&(t=u),!t)throw new w("This video is not liked/disliked",{video_id:this.basic_info.id});return await t.toggled_endpoint.call(this.actions)}getLiveChat(){if(!this.livechat)throw new w("Live Chat is not available",{video_id:this.basic_info.id});return new Oc(this)}getTrailerInfo(){var t,r;if(this.has_trailer&&((t=this.playability_status)!=null&&t.error_screen)){let n;if(this.playability_status.error_screen.is(Xs)?n=(r=this.playability_status.error_screen.trailer)==null?void 0:r.player_response:this.playability_status.error_screen.is(di)&&(n=this.playability_status.error_screen.player_response),n)return new RI([{data:n}],this.actions,this.cpn)}return null}get filters(){var t,r;return((r=(t=this.related_chip_cloud)==null?void 0:t.chips)==null?void 0:r.map(n=>{var c;return(c=n.text)==null?void 0:c.toString()}))||[]}get wn_has_continuation(){return!!f(this,Ms)}get autoplay_video_endpoint(){var t,r,n;return((n=(r=(t=this.autoplay)==null?void 0:t.sets)==null?void 0:r[0])==null?void 0:n.autoplay_video)||null}get has_trailer(){var t,r;return!!((r=(t=this.playability_status)==null?void 0:t.error_screen)!=null&&r.is(Xs,di))}get music_tracks(){var r,n,c,u,m,h;let t=(n=(r=this.page[1])==null?void 0:r.engagement_panels)==null?void 0:n.filter(x=>{var b;return(b=x.content)==null?void 0:b.is(ci)});if(t!==void 0&&t.length>0){let x=(m=(u=(c=t[0].content)==null?void 0:c.as(ci))==null?void 0:u.items)==null?void 0:m.filterType(Gi);if(x!==void 0&&x.length>0)return(h=x[0].carousel_lockups)==null?void 0:h.map(b=>{var N,L,G,ot,O,pt,F,at,It,j,W,nt,tt,Rt,Mt,ct,Kt,le,si,ri;let g,T,I,C,k,A;g=(L=(N=b.video_lockup)==null?void 0:N.title)==null?void 0:L.toString(),k=(ot=(G=b.video_lockup)==null?void 0:G.endpoint)==null?void 0:ot.payload.videoId;for(let Ue=0;Ue<b.info_rows.length;Ue++){let bt=b.info_rows[Ue];if(bt.info_row_expand_status_key===void 0)if(g===void 0){if(g=((O=bt.default_metadata)==null?void 0:O.toString())||((pt=bt.expanded_metadata)==null?void 0:pt.toString()),k===void 0){let pe=((F=bt.default_metadata)==null?void 0:F.endpoint)||((at=bt.expanded_metadata)==null?void 0:at.endpoint);k=(It=pe==null?void 0:pe.payload)==null?void 0:It.videoId}}else I=((j=bt.default_metadata)==null?void 0:j.toString())||((W=bt.expanded_metadata)==null?void 0:W.toString());else{if(((nt=bt.info_row_expand_status_key)==null?void 0:nt.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(T=((tt=bt.default_metadata)==null?void 0:tt.toString())||((Rt=bt.expanded_metadata)==null?void 0:Rt.toString()),A===void 0)){let pe=((Mt=bt.default_metadata)==null?void 0:Mt.endpoint)||((ct=bt.expanded_metadata)==null?void 0:ct.endpoint);A=(Kt=pe==null?void 0:pe.payload)==null?void 0:Kt.browseId}((le=bt.info_row_expand_status_key)==null?void 0:le.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(C=((si=bt.default_metadata)==null?void 0:si.toString())||((ri=bt.expanded_metadata)==null?void 0:ri.toString()))}}return{song:g,artist:T,album:I,license:C,videoId:k,channelId:A}})}return[]}};Ms=new WeakMap,o(RI,"VideoInfo");var lr=RI;var Yc,al,MI=class MI{constructor(i,t){E(this,Yc);E(this,al);e(this,"transcript");if(S(this,Yc,p.parseResponse(t.data)),S(this,al,i),!f(this,Yc).actions_memo)throw new Error("Page actions not found");this.transcript=f(this,Yc).actions_memo.getType(Bi)[0]}async selectLanguage(i){var n,c,u,m;let t=(m=(u=(c=(n=this.transcript.content)==null?void 0:n.footer)==null?void 0:c.language_menu)==null?void 0:u.sub_menu_items)==null?void 0:m.find(h=>h.title.toString()===i);if(!t)throw new Error(`Language not found: ${i}`);if(t.selected)return this;let r=await f(this,al).execute("/get_transcript",{params:t.continuation});return new MI(f(this,al),r)}get languages(){var i,t,r,n;return((n=(r=(t=(i=this.transcript.content)==null?void 0:i.footer)==null?void 0:t.language_menu)==null?void 0:r.sub_menu_items)==null?void 0:n.map(c=>c.title.toString()))||[]}get selectedLanguage(){var i,t,r,n,c;return((c=(n=(r=(t=(i=this.transcript.content)==null?void 0:i.footer)==null?void 0:t.language_menu)==null?void 0:r.sub_menu_items)==null?void 0:n.find(u=>u.selected))==null?void 0:c.title.toString())||""}get page(){return f(this,Yc)}};Yc=new WeakMap,al=new WeakMap,o(MI,"TranscriptInfo");var Nc=MI;var bS={};var f1=class f1{constructor(i,t,r,n){e(this,"id");e(this,"name");e(this,"thumbnails");e(this,"endpoint");e(this,"badges");e(this,"is_moderator");e(this,"is_verified");e(this,"is_verified_artist");e(this,"url");var u,m,h,x,b,g,T,I,C,k,A,N,L,G,ot,O,pt,F,at,It,j,W,nt,tt,Rt,Mt,ct;let c=new l(i);this.id=n||((x=(h=(m=(u=c==null?void 0:c.runs)==null?void 0:u[0])==null?void 0:m.endpoint)==null?void 0:h.payload)==null?void 0:x.browseId)||((g=(b=c==null?void 0:c.endpoint)==null?void 0:b.payload)==null?void 0:g.browseId)||"N/A",this.name=(c==null?void 0:c.text)||"N/A",this.thumbnails=r?y.fromResponse(r):[],this.endpoint=((I=(T=c==null?void 0:c.runs)==null?void 0:T[0])==null?void 0:I.endpoint)||(c==null?void 0:c.endpoint),t?Array.isArray(t)?(this.badges=p.parseArray(t),this.is_moderator=(C=this.badges)==null?void 0:C.some(Kt=>Kt.icon_type=="MODERATOR"),this.is_verified=(k=this.badges)==null?void 0:k.some(Kt=>Kt.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(A=this.badges)==null?void 0:A.some(Kt=>Kt.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=$([]),this.is_verified=!!t.isVerified,this.is_verified_artist=!!t.isArtist):this.badges=$([]),this.url=((ot=(G=(L=(N=c==null?void 0:c.runs)==null?void 0:N[0])==null?void 0:L.endpoint)==null?void 0:G.metadata)==null?void 0:ot.api_url)==="/browse"&&`${Ct.YT_BASE}${((at=(F=(pt=(O=c==null?void 0:c.runs)==null?void 0:O[0])==null?void 0:pt.endpoint)==null?void 0:F.payload)==null?void 0:at.canonicalBaseUrl)||`/u/${(nt=(W=(j=(It=c==null?void 0:c.runs)==null?void 0:It[0])==null?void 0:j.endpoint)==null?void 0:W.payload)==null?void 0:nt.browseId}`}`||`${Ct.YT_BASE}${((Rt=(tt=c==null?void 0:c.endpoint)==null?void 0:tt.payload)==null?void 0:Rt.canonicalBaseUrl)||`/u/${(ct=(Mt=c==null?void 0:c.endpoint)==null?void 0:Mt.payload)==null?void 0:ct.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};o(f1,"Author");var R=f1;var oA=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],IS=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],nA="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",kS="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",h1={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},d1="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",aA={5:d1,"5module":d1+" export import",6:d1+" const class extends export import super"},cA=/^in(stanceof)?$/,lA=new RegExp("["+kS+"]"),pA=new RegExp("["+kS+nA+"]");function x1(s,i){for(var t=65536,r=0;r<i.length;r+=2){if(t+=i[r],t>s)return!1;if(t+=i[r+1],t>=s)return!0}return!1}o(x1,"isInAstralSet");function Ds(s,i){return s<65?s===36:s<91?!0:s<97?s===95:s<123?!0:s<=65535?s>=170&&lA.test(String.fromCharCode(s)):i===!1?!1:x1(s,IS)}o(Ds,"isIdentifierStart");function cl(s,i){return s<48?s===36:s<58?!0:s<65?!1:s<91?!0:s<97?s===95:s<123?!0:s<=65535?s>=170&&pA.test(String.fromCharCode(s)):i===!1?!1:x1(s,IS)||x1(s,oA)}o(cl,"isIdentifierChar");var Z=o(function(i,t){t===void 0&&(t={}),this.label=i,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null},"TokenType");function De(s,i){return new Z(s,{beforeExpr:!0,binop:i})}o(De,"binop");var Be={beforeExpr:!0},ce={startsExpr:!0},w1={};function Q(s,i){return i===void 0&&(i={}),i.keyword=s,w1[s]=new Z(s,i)}o(Q,"kw");var _={num:new Z("num",ce),regexp:new Z("regexp",ce),string:new Z("string",ce),name:new Z("name",ce),privateId:new Z("privateId",ce),eof:new Z("eof"),bracketL:new Z("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Z("]"),braceL:new Z("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Z("}"),parenL:new Z("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Z(")"),comma:new Z(",",Be),semi:new Z(";",Be),colon:new Z(":",Be),dot:new Z("."),question:new Z("?",Be),questionDot:new Z("?."),arrow:new Z("=>",Be),template:new Z("template"),invalidTemplate:new Z("invalidTemplate"),ellipsis:new Z("...",Be),backQuote:new Z("`",ce),dollarBraceL:new Z("${",{beforeExpr:!0,startsExpr:!0}),eq:new Z("=",{beforeExpr:!0,isAssign:!0}),assign:new Z("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Z("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Z("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:De("||",1),logicalAND:De("&&",2),bitwiseOR:De("|",3),bitwiseXOR:De("^",4),bitwiseAND:De("&",5),equality:De("==/!=/===/!==",6),relational:De("</>/<=/>=",7),bitShift:De("<</>>/>>>",8),plusMin:new Z("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:De("%",10),star:De("*",10),slash:De("/",10),starstar:new Z("**",{beforeExpr:!0}),coalesce:De("??",1),_break:Q("break"),_case:Q("case",Be),_catch:Q("catch"),_continue:Q("continue"),_debugger:Q("debugger"),_default:Q("default",Be),_do:Q("do",{isLoop:!0,beforeExpr:!0}),_else:Q("else",Be),_finally:Q("finally"),_for:Q("for",{isLoop:!0}),_function:Q("function",ce),_if:Q("if"),_return:Q("return",Be),_switch:Q("switch"),_throw:Q("throw",Be),_try:Q("try"),_var:Q("var"),_const:Q("const"),_while:Q("while",{isLoop:!0}),_with:Q("with"),_new:Q("new",{beforeExpr:!0,startsExpr:!0}),_this:Q("this",ce),_super:Q("super",ce),_class:Q("class",ce),_extends:Q("extends",Be),_export:Q("export"),_import:Q("import",ce),_null:Q("null",ce),_true:Q("true",ce),_false:Q("false",ce),_in:Q("in",{beforeExpr:!0,binop:7}),_instanceof:Q("instanceof",{beforeExpr:!0,binop:7}),_typeof:Q("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Q("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Q("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Ye=/\r\n?|\n|\u2028|\u2029/,uA=new RegExp(Ye.source,"g");function ll(s){return s===10||s===13||s===8232||s===8233}o(ll,"isNewLine");function ES(s,i,t){t===void 0&&(t=s.length);for(var r=i;r<t;r++){var n=s.charCodeAt(r);if(ll(n))return r<t-1&&n===13&&s.charCodeAt(r+1)===10?r+2:r+1}return-1}o(ES,"nextLineBreak");var SS=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Le=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,CS=Object.prototype,mA=CS.hasOwnProperty,fA=CS.toString,kh=Object.hasOwn||function(s,i){return mA.call(s,i)},yS=Array.isArray||function(s){return fA.call(s)==="[object Array]"},gS=Object.create(null);function pr(s){return gS[s]||(gS[s]=new RegExp("^(?:"+s.replace(/ /g,"|")+")$"))}o(pr,"wordsRegexp");function ur(s){return s<=65535?String.fromCharCode(s):(s-=65536,String.fromCharCode((s>>10)+55296,(s&1023)+56320))}o(ur,"codePointToString");var hA=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,vh=o(function(i,t){this.line=i,this.column=t},"Position");vh.prototype.offset=o(function(i){return new vh(this.line,this.column+i)},"offset");var VI=o(function(i,t,r){this.start=t,this.end=r,i.sourceFile!==null&&(this.source=i.sourceFile)},"SourceLocation");function NS(s,i){for(var t=1,r=0;;){var n=ES(s,r,i);if(n<0)return new vh(t,i-r);++t,r=n}}o(NS,"getLineInfo");var b1={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},wS=!1;function dA(s){var i={};for(var t in b1)i[t]=s&&kh(s,t)?s[t]:b1[t];if(i.ecmaVersion==="latest"?i.ecmaVersion=1e8:i.ecmaVersion==null?(!wS&&typeof console=="object"&&console.warn&&(wS=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),i.ecmaVersion=11):i.ecmaVersion>=2015&&(i.ecmaVersion-=2009),i.allowReserved==null&&(i.allowReserved=i.ecmaVersion<5),(!s||s.allowHashBang==null)&&(i.allowHashBang=i.ecmaVersion>=14),yS(i.onToken)){var r=i.onToken;i.onToken=function(n){return r.push(n)}}return yS(i.onComment)&&(i.onComment=_A(i,i.onComment)),i}o(dA,"getOptions");function _A(s,i){return function(t,r,n,c,u,m){var h={type:t?"Block":"Line",value:r,start:n,end:c};s.locations&&(h.loc=new VI(this,u,m)),s.ranges&&(h.range=[n,c]),i.push(h)}}o(_A,"pushComment");var Ih=1,pl=2,T1=4,AS=8,PS=16,RS=32,v1=64,MS=128,Eh=256,I1=Ih|pl|Eh;function k1(s,i){return pl|(s?T1:0)|(i?AS:0)}o(k1,"functionFlags");var BI=0,E1=1,Ls=2,DS=3,BS=4,LS=5,St=o(function(i,t,r){this.options=i=dA(i),this.sourceFile=i.sourceFile,this.keywords=pr(aA[i.ecmaVersion>=6?6:i.sourceType==="module"?"5module":5]);var n="";i.allowReserved!==!0&&(n=h1[i.ecmaVersion>=6?6:i.ecmaVersion===5?5:3],i.sourceType==="module"&&(n+=" await")),this.reservedWords=pr(n);var c=(n?n+" ":"")+h1.strict;this.reservedWordsStrict=pr(c),this.reservedWordsStrictBind=pr(c+" "+h1.strictBind),this.input=String(t),this.containsEsc=!1,r?(this.pos=r,this.lineStart=this.input.lastIndexOf(`
`,r-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Ye).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=_.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=i.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&i.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Ih),this.regexpState=null,this.privateNameStack=[]},"Parser"),vi={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};St.prototype.parse=o(function(){var i=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(i)},"parse");vi.inFunction.get=function(){return(this.currentVarScope().flags&pl)>0};vi.inGenerator.get=function(){return(this.currentVarScope().flags&AS)>0&&!this.currentVarScope().inClassFieldInit};vi.inAsync.get=function(){return(this.currentVarScope().flags&T1)>0&&!this.currentVarScope().inClassFieldInit};vi.canAwait.get=function(){for(var s=this.scopeStack.length-1;s>=0;s--){var i=this.scopeStack[s];if(i.inClassFieldInit||i.flags&Eh)return!1;if(i.flags&pl)return(i.flags&T1)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};vi.allowSuper.get=function(){var s=this.currentThisScope(),i=s.flags,t=s.inClassFieldInit;return(i&v1)>0||t||this.options.allowSuperOutsideMethod};vi.allowDirectSuper.get=function(){return(this.currentThisScope().flags&MS)>0};vi.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};vi.allowNewDotTarget.get=function(){var s=this.currentThisScope(),i=s.flags,t=s.inClassFieldInit;return(i&(pl|Eh))>0||t};vi.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Eh)>0};St.extend=o(function(){for(var i=[],t=arguments.length;t--;)i[t]=arguments[t];for(var r=this,n=0;n<i.length;n++)r=i[n](r);return r},"extend");St.parse=o(function(i,t){return new this(t,i).parse()},"parse");St.parseExpressionAt=o(function(i,t,r){var n=new this(r,i,t);return n.nextToken(),n.parseExpression()},"parseExpressionAt");St.tokenizer=o(function(i,t){return new this(t,i)},"tokenizer");Object.defineProperties(St.prototype,vi);var ee=St.prototype,xA=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;ee.strictDirective=function(s){if(this.options.ecmaVersion<5)return!1;for(;;){Le.lastIndex=s,s+=Le.exec(this.input)[0].length;var i=xA.exec(this.input.slice(s));if(!i)return!1;if((i[1]||i[2])==="use strict"){Le.lastIndex=s+i[0].length;var t=Le.exec(this.input),r=t.index+t[0].length,n=this.input.charAt(r);return n===";"||n==="}"||Ye.test(t[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||n==="!"&&this.input.charAt(r+1)==="=")}s+=i[0].length,Le.lastIndex=s,s+=Le.exec(this.input)[0].length,this.input[s]===";"&&s++}};ee.eat=function(s){return this.type===s?(this.next(),!0):!1};ee.isContextual=function(s){return this.type===_.name&&this.value===s&&!this.containsEsc};ee.eatContextual=function(s){return this.isContextual(s)?(this.next(),!0):!1};ee.expectContextual=function(s){this.eatContextual(s)||this.unexpected()};ee.canInsertSemicolon=function(){return this.type===_.eof||this.type===_.braceR||Ye.test(this.input.slice(this.lastTokEnd,this.start))};ee.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};ee.semicolon=function(){!this.eat(_.semi)&&!this.insertSemicolon()&&this.unexpected()};ee.afterTrailingComma=function(s,i){if(this.type===s)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),i||this.next(),!0};ee.expect=function(s){this.eat(s)||this.unexpected()};ee.unexpected=function(s){this.raise(s!=null?s:this.start,"Unexpected token")};var UI=o(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");ee.checkPatternErrors=function(s,i){if(s){s.trailingComma>-1&&this.raiseRecoverable(s.trailingComma,"Comma is not permitted after the rest element");var t=i?s.parenthesizedAssign:s.parenthesizedBind;t>-1&&this.raiseRecoverable(t,i?"Assigning to rvalue":"Parenthesized pattern")}};ee.checkExpressionErrors=function(s,i){if(!s)return!1;var t=s.shorthandAssign,r=s.doubleProto;if(!i)return t>=0||r>=0;t>=0&&this.raise(t,"Shorthand property assignments are valid only in destructuring patterns"),r>=0&&this.raiseRecoverable(r,"Redefinition of __proto__ property")};ee.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};ee.isSimpleAssignTarget=function(s){return s.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(s.expression):s.type==="Identifier"||s.type==="MemberExpression"};var B=St.prototype;B.parseTopLevel=function(s){var i=Object.create(null);for(s.body||(s.body=[]);this.type!==_.eof;){var t=this.parseStatement(null,!0,i);s.body.push(t)}if(this.inModule)for(var r=0,n=Object.keys(this.undefinedExports);r<n.length;r+=1){var c=n[r];this.raiseRecoverable(this.undefinedExports[c].start,"Export '"+c+"' is not defined")}return this.adaptDirectivePrologue(s.body),this.next(),s.sourceType=this.options.sourceType,this.finishNode(s,"Program")};var S1={kind:"loop"},bA={kind:"switch"};B.isLet=function(s){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Le.lastIndex=this.pos;var i=Le.exec(this.input),t=this.pos+i[0].length,r=this.input.charCodeAt(t);if(r===91||r===92)return!0;if(s)return!1;if(r===123||r>55295&&r<56320)return!0;if(Ds(r,!0)){for(var n=t+1;cl(r=this.input.charCodeAt(n),!0);)++n;if(r===92||r>55295&&r<56320)return!0;var c=this.input.slice(t,n);if(!cA.test(c))return!0}return!1};B.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Le.lastIndex=this.pos;var s=Le.exec(this.input),i=this.pos+s[0].length,t;return!Ye.test(this.input.slice(this.pos,i))&&this.input.slice(i,i+8)==="function"&&(i+8===this.input.length||!(cl(t=this.input.charCodeAt(i+8))||t>55295&&t<56320))};B.parseStatement=function(s,i,t){var r=this.type,n=this.startNode(),c;switch(this.isLet(s)&&(r=_._var,c="let"),r){case _._break:case _._continue:return this.parseBreakContinueStatement(n,r.keyword);case _._debugger:return this.parseDebuggerStatement(n);case _._do:return this.parseDoStatement(n);case _._for:return this.parseForStatement(n);case _._function:return s&&(this.strict||s!=="if"&&s!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(n,!1,!s);case _._class:return s&&this.unexpected(),this.parseClass(n,!0);case _._if:return this.parseIfStatement(n);case _._return:return this.parseReturnStatement(n);case _._switch:return this.parseSwitchStatement(n);case _._throw:return this.parseThrowStatement(n);case _._try:return this.parseTryStatement(n);case _._const:case _._var:return c=c||this.value,s&&c!=="var"&&this.unexpected(),this.parseVarStatement(n,c);case _._while:return this.parseWhileStatement(n);case _._with:return this.parseWithStatement(n);case _.braceL:return this.parseBlock(!0,n);case _.semi:return this.parseEmptyStatement(n);case _._export:case _._import:if(this.options.ecmaVersion>10&&r===_._import){Le.lastIndex=this.pos;var u=Le.exec(this.input),m=this.pos+u[0].length,h=this.input.charCodeAt(m);if(h===40||h===46)return this.parseExpressionStatement(n,this.parseExpression())}return this.options.allowImportExportEverywhere||(i||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===_._import?this.parseImport(n):this.parseExport(n,t);default:if(this.isAsyncFunction())return s&&this.unexpected(),this.next(),this.parseFunctionStatement(n,!0,!s);var x=this.value,b=this.parseExpression();return r===_.name&&b.type==="Identifier"&&this.eat(_.colon)?this.parseLabeledStatement(n,x,b,s):this.parseExpressionStatement(n,b)}};B.parseBreakContinueStatement=function(s,i){var t=i==="break";this.next(),this.eat(_.semi)||this.insertSemicolon()?s.label=null:this.type!==_.name?this.unexpected():(s.label=this.parseIdent(),this.semicolon());for(var r=0;r<this.labels.length;++r){var n=this.labels[r];if((s.label==null||n.name===s.label.name)&&(n.kind!=null&&(t||n.kind==="loop")||s.label&&t))break}return r===this.labels.length&&this.raise(s.start,"Unsyntactic "+i),this.finishNode(s,t?"BreakStatement":"ContinueStatement")};B.parseDebuggerStatement=function(s){return this.next(),this.semicolon(),this.finishNode(s,"DebuggerStatement")};B.parseDoStatement=function(s){return this.next(),this.labels.push(S1),s.body=this.parseStatement("do"),this.labels.pop(),this.expect(_._while),s.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(_.semi):this.semicolon(),this.finishNode(s,"DoWhileStatement")};B.parseForStatement=function(s){this.next();var i=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(S1),this.enterScope(0),this.expect(_.parenL),this.type===_.semi)return i>-1&&this.unexpected(i),this.parseFor(s,null);var t=this.isLet();if(this.type===_._var||this.type===_._const||t){var r=this.startNode(),n=t?"let":this.value;return this.next(),this.parseVar(r,!0,n),this.finishNode(r,"VariableDeclaration"),(this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===_._in?i>-1&&this.unexpected(i):s.await=i>-1),this.parseForIn(s,r)):(i>-1&&this.unexpected(i),this.parseFor(s,r))}var c=this.isContextual("let"),u=!1,m=this.containsEsc,h=new UI,x=this.start,b=i>-1?this.parseExprSubscripts(h,"await"):this.parseExpression(!0,h);return this.type===_._in||(u=this.options.ecmaVersion>=6&&this.isContextual("of"))?(i>-1?(this.type===_._in&&this.unexpected(i),s.await=!0):u&&this.options.ecmaVersion>=8&&(b.start===x&&!m&&b.type==="Identifier"&&b.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(s.await=!1)),c&&u&&this.raise(b.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(b,!1,h),this.checkLValPattern(b),this.parseForIn(s,b)):(this.checkExpressionErrors(h,!0),i>-1&&this.unexpected(i),this.parseFor(s,b))};B.parseFunctionStatement=function(s,i,t){return this.next(),this.parseFunction(s,Th|(t?0:y1),!1,i)};B.parseIfStatement=function(s){return this.next(),s.test=this.parseParenExpression(),s.consequent=this.parseStatement("if"),s.alternate=this.eat(_._else)?this.parseStatement("if"):null,this.finishNode(s,"IfStatement")};B.parseReturnStatement=function(s){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(_.semi)||this.insertSemicolon()?s.argument=null:(s.argument=this.parseExpression(),this.semicolon()),this.finishNode(s,"ReturnStatement")};B.parseSwitchStatement=function(s){this.next(),s.discriminant=this.parseParenExpression(),s.cases=[],this.expect(_.braceL),this.labels.push(bA),this.enterScope(0);for(var i,t=!1;this.type!==_.braceR;)if(this.type===_._case||this.type===_._default){var r=this.type===_._case;i&&this.finishNode(i,"SwitchCase"),s.cases.push(i=this.startNode()),i.consequent=[],this.next(),r?i.test=this.parseExpression():(t&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),t=!0,i.test=null),this.expect(_.colon)}else i||this.unexpected(),i.consequent.push(this.parseStatement(null));return this.exitScope(),i&&this.finishNode(i,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(s,"SwitchStatement")};B.parseThrowStatement=function(s){return this.next(),Ye.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),s.argument=this.parseExpression(),this.semicolon(),this.finishNode(s,"ThrowStatement")};var yA=[];B.parseCatchClauseParam=function(){var s=this.parseBindingAtom(),i=s.type==="Identifier";return this.enterScope(i?RS:0),this.checkLValPattern(s,i?BS:Ls),this.expect(_.parenR),s};B.parseTryStatement=function(s){if(this.next(),s.block=this.parseBlock(),s.handler=null,this.type===_._catch){var i=this.startNode();this.next(),this.eat(_.parenL)?i.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),i.param=null,this.enterScope(0)),i.body=this.parseBlock(!1),this.exitScope(),s.handler=this.finishNode(i,"CatchClause")}return s.finalizer=this.eat(_._finally)?this.parseBlock():null,!s.handler&&!s.finalizer&&this.raise(s.start,"Missing catch or finally clause"),this.finishNode(s,"TryStatement")};B.parseVarStatement=function(s,i,t){return this.next(),this.parseVar(s,!1,i,t),this.semicolon(),this.finishNode(s,"VariableDeclaration")};B.parseWhileStatement=function(s){return this.next(),s.test=this.parseParenExpression(),this.labels.push(S1),s.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(s,"WhileStatement")};B.parseWithStatement=function(s){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),s.object=this.parseParenExpression(),s.body=this.parseStatement("with"),this.finishNode(s,"WithStatement")};B.parseEmptyStatement=function(s){return this.next(),this.finishNode(s,"EmptyStatement")};B.parseLabeledStatement=function(s,i,t,r){for(var n=0,c=this.labels;n<c.length;n+=1){var u=c[n];u.name===i&&this.raise(t.start,"Label '"+i+"' is already declared")}for(var m=this.type.isLoop?"loop":this.type===_._switch?"switch":null,h=this.labels.length-1;h>=0;h--){var x=this.labels[h];if(x.statementStart===s.start)x.statementStart=this.start,x.kind=m;else break}return this.labels.push({name:i,kind:m,statementStart:this.start}),s.body=this.parseStatement(r?r.indexOf("label")===-1?r+"label":r:"label"),this.labels.pop(),s.label=t,this.finishNode(s,"LabeledStatement")};B.parseExpressionStatement=function(s,i){return s.expression=i,this.semicolon(),this.finishNode(s,"ExpressionStatement")};B.parseBlock=function(s,i,t){for(s===void 0&&(s=!0),i===void 0&&(i=this.startNode()),i.body=[],this.expect(_.braceL),s&&this.enterScope(0);this.type!==_.braceR;){var r=this.parseStatement(null);i.body.push(r)}return t&&(this.strict=!1),this.next(),s&&this.exitScope(),this.finishNode(i,"BlockStatement")};B.parseFor=function(s,i){return s.init=i,this.expect(_.semi),s.test=this.type===_.semi?null:this.parseExpression(),this.expect(_.semi),s.update=this.type===_.parenR?null:this.parseExpression(),this.expect(_.parenR),s.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(s,"ForStatement")};B.parseForIn=function(s,i){var t=this.type===_._in;return this.next(),i.type==="VariableDeclaration"&&i.declarations[0].init!=null&&(!t||this.options.ecmaVersion<8||this.strict||i.kind!=="var"||i.declarations[0].id.type!=="Identifier")&&this.raise(i.start,(t?"for-in":"for-of")+" loop variable declaration may not have an initializer"),s.left=i,s.right=t?this.parseExpression():this.parseMaybeAssign(),this.expect(_.parenR),s.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(s,t?"ForInStatement":"ForOfStatement")};B.parseVar=function(s,i,t,r){for(s.declarations=[],s.kind=t;;){var n=this.startNode();if(this.parseVarId(n,t),this.eat(_.eq)?n.init=this.parseMaybeAssign(i):!r&&t==="const"&&!(this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!r&&n.id.type!=="Identifier"&&!(i&&(this.type===_._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):n.init=null,s.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(_.comma))break}return s};B.parseVarId=function(s,i){s.id=this.parseBindingAtom(),this.checkLValPattern(s.id,i==="var"?E1:Ls,!1)};var Th=1,y1=2,OS=4;B.parseFunction=function(s,i,t,r,n){this.initFunction(s),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!r)&&(this.type===_.star&&i&y1&&this.unexpected(),s.generator=this.eat(_.star)),this.options.ecmaVersion>=8&&(s.async=!!r),i&Th&&(s.id=i&OS&&this.type!==_.name?null:this.parseIdent(),s.id&&!(i&y1)&&this.checkLValSimple(s.id,this.strict||s.generator||s.async?this.treatFunctionsAsVar?E1:Ls:DS));var c=this.yieldPos,u=this.awaitPos,m=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(k1(s.async,s.generator)),i&Th||(s.id=this.type===_.name?this.parseIdent():null),this.parseFunctionParams(s),this.parseFunctionBody(s,t,!1,n),this.yieldPos=c,this.awaitPos=u,this.awaitIdentPos=m,this.finishNode(s,i&Th?"FunctionDeclaration":"FunctionExpression")};B.parseFunctionParams=function(s){this.expect(_.parenL),s.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};B.parseClass=function(s,i){this.next();var t=this.strict;this.strict=!0,this.parseClassId(s,i),this.parseClassSuper(s);var r=this.enterClassBody(),n=this.startNode(),c=!1;for(n.body=[],this.expect(_.braceL);this.type!==_.braceR;){var u=this.parseClassElement(s.superClass!==null);u&&(n.body.push(u),u.type==="MethodDefinition"&&u.kind==="constructor"?(c&&this.raiseRecoverable(u.start,"Duplicate constructor in the same class"),c=!0):u.key&&u.key.type==="PrivateIdentifier"&&gA(r,u)&&this.raiseRecoverable(u.key.start,"Identifier '#"+u.key.name+"' has already been declared"))}return this.strict=t,this.next(),s.body=this.finishNode(n,"ClassBody"),this.exitClassBody(),this.finishNode(s,i?"ClassDeclaration":"ClassExpression")};B.parseClassElement=function(s){if(this.eat(_.semi))return null;var i=this.options.ecmaVersion,t=this.startNode(),r="",n=!1,c=!1,u="method",m=!1;if(this.eatContextual("static")){if(i>=13&&this.eat(_.braceL))return this.parseClassStaticBlock(t),t;this.isClassElementNameStart()||this.type===_.star?m=!0:r="static"}if(t.static=m,!r&&i>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===_.star)&&!this.canInsertSemicolon()?c=!0:r="async"),!r&&(i>=9||!c)&&this.eat(_.star)&&(n=!0),!r&&!c&&!n){var h=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?u=h:r=h)}if(r?(t.computed=!1,t.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),t.key.name=r,this.finishNode(t.key,"Identifier")):this.parseClassElementName(t),i<13||this.type===_.parenL||u!=="method"||n||c){var x=!t.static&&LI(t,"constructor"),b=x&&s;x&&u!=="method"&&this.raise(t.key.start,"Constructor can't have get/set modifier"),t.kind=x?"constructor":u,this.parseClassMethod(t,n,c,b)}else this.parseClassField(t);return t};B.isClassElementNameStart=function(){return this.type===_.name||this.type===_.privateId||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword};B.parseClassElementName=function(s){this.type===_.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),s.computed=!1,s.key=this.parsePrivateIdent()):this.parsePropertyName(s)};B.parseClassMethod=function(s,i,t,r){var n=s.key;s.kind==="constructor"?(i&&this.raise(n.start,"Constructor can't be a generator"),t&&this.raise(n.start,"Constructor can't be an async method")):s.static&&LI(s,"prototype")&&this.raise(n.start,"Classes may not have a static property named prototype");var c=s.value=this.parseMethod(i,t,r);return s.kind==="get"&&c.params.length!==0&&this.raiseRecoverable(c.start,"getter should have no params"),s.kind==="set"&&c.params.length!==1&&this.raiseRecoverable(c.start,"setter should have exactly one param"),s.kind==="set"&&c.params[0].type==="RestElement"&&this.raiseRecoverable(c.params[0].start,"Setter cannot use rest params"),this.finishNode(s,"MethodDefinition")};B.parseClassField=function(s){if(LI(s,"constructor")?this.raise(s.key.start,"Classes can't have a field named 'constructor'"):s.static&&LI(s,"prototype")&&this.raise(s.key.start,"Classes can't have a static field named 'prototype'"),this.eat(_.eq)){var i=this.currentThisScope(),t=i.inClassFieldInit;i.inClassFieldInit=!0,s.value=this.parseMaybeAssign(),i.inClassFieldInit=t}else s.value=null;return this.semicolon(),this.finishNode(s,"PropertyDefinition")};B.parseClassStaticBlock=function(s){s.body=[];var i=this.labels;for(this.labels=[],this.enterScope(Eh|v1);this.type!==_.braceR;){var t=this.parseStatement(null);s.body.push(t)}return this.next(),this.exitScope(),this.labels=i,this.finishNode(s,"StaticBlock")};B.parseClassId=function(s,i){this.type===_.name?(s.id=this.parseIdent(),i&&this.checkLValSimple(s.id,Ls,!1)):(i===!0&&this.unexpected(),s.id=null)};B.parseClassSuper=function(s){s.superClass=this.eat(_._extends)?this.parseExprSubscripts(null,!1):null};B.enterClassBody=function(){var s={declared:Object.create(null),used:[]};return this.privateNameStack.push(s),s.declared};B.exitClassBody=function(){var s=this.privateNameStack.pop(),i=s.declared,t=s.used;if(this.options.checkPrivateFields)for(var r=this.privateNameStack.length,n=r===0?null:this.privateNameStack[r-1],c=0;c<t.length;++c){var u=t[c];kh(i,u.name)||(n?n.used.push(u):this.raiseRecoverable(u.start,"Private field '#"+u.name+"' must be declared in an enclosing class"))}};function gA(s,i){var t=i.key.name,r=s[t],n="true";return i.type==="MethodDefinition"&&(i.kind==="get"||i.kind==="set")&&(n=(i.static?"s":"i")+i.kind),r==="iget"&&n==="iset"||r==="iset"&&n==="iget"||r==="sget"&&n==="sset"||r==="sset"&&n==="sget"?(s[t]="true",!1):r?!0:(s[t]=n,!1)}o(gA,"isPrivateNameConflicted");function LI(s,i){var t=s.computed,r=s.key;return!t&&(r.type==="Identifier"&&r.name===i||r.type==="Literal"&&r.value===i)}o(LI,"checkKeyName");B.parseExportAllDeclaration=function(s,i){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(s.exported=this.parseModuleExportName(),this.checkExport(i,s.exported,this.lastTokStart)):s.exported=null),this.expectContextual("from"),this.type!==_.string&&this.unexpected(),s.source=this.parseExprAtom(),this.semicolon(),this.finishNode(s,"ExportAllDeclaration")};B.parseExport=function(s,i){if(this.next(),this.eat(_.star))return this.parseExportAllDeclaration(s,i);if(this.eat(_._default))return this.checkExport(i,"default",this.lastTokStart),s.declaration=this.parseExportDefaultDeclaration(),this.finishNode(s,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())s.declaration=this.parseExportDeclaration(s),s.declaration.type==="VariableDeclaration"?this.checkVariableExport(i,s.declaration.declarations):this.checkExport(i,s.declaration.id,s.declaration.id.start),s.specifiers=[],s.source=null;else{if(s.declaration=null,s.specifiers=this.parseExportSpecifiers(i),this.eatContextual("from"))this.type!==_.string&&this.unexpected(),s.source=this.parseExprAtom();else{for(var t=0,r=s.specifiers;t<r.length;t+=1){var n=r[t];this.checkUnreserved(n.local),this.checkLocalExport(n.local),n.local.type==="Literal"&&this.raise(n.local.start,"A string literal cannot be used as an exported binding without `from`.")}s.source=null}this.semicolon()}return this.finishNode(s,"ExportNamedDeclaration")};B.parseExportDeclaration=function(s){return this.parseStatement(null)};B.parseExportDefaultDeclaration=function(){var s;if(this.type===_._function||(s=this.isAsyncFunction())){var i=this.startNode();return this.next(),s&&this.next(),this.parseFunction(i,Th|OS,!1,s)}else if(this.type===_._class){var t=this.startNode();return this.parseClass(t,"nullableID")}else{var r=this.parseMaybeAssign();return this.semicolon(),r}};B.checkExport=function(s,i,t){s&&(typeof i!="string"&&(i=i.type==="Identifier"?i.name:i.value),kh(s,i)&&this.raiseRecoverable(t,"Duplicate export '"+i+"'"),s[i]=!0)};B.checkPatternExport=function(s,i){var t=i.type;if(t==="Identifier")this.checkExport(s,i,i.start);else if(t==="ObjectPattern")for(var r=0,n=i.properties;r<n.length;r+=1){var c=n[r];this.checkPatternExport(s,c)}else if(t==="ArrayPattern")for(var u=0,m=i.elements;u<m.length;u+=1){var h=m[u];h&&this.checkPatternExport(s,h)}else t==="Property"?this.checkPatternExport(s,i.value):t==="AssignmentPattern"?this.checkPatternExport(s,i.left):t==="RestElement"&&this.checkPatternExport(s,i.argument)};B.checkVariableExport=function(s,i){if(s)for(var t=0,r=i;t<r.length;t+=1){var n=r[t];this.checkPatternExport(s,n.id)}};B.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};B.parseExportSpecifier=function(s){var i=this.startNode();return i.local=this.parseModuleExportName(),i.exported=this.eatContextual("as")?this.parseModuleExportName():i.local,this.checkExport(s,i.exported,i.exported.start),this.finishNode(i,"ExportSpecifier")};B.parseExportSpecifiers=function(s){var i=[],t=!0;for(this.expect(_.braceL);!this.eat(_.braceR);){if(t)t=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;i.push(this.parseExportSpecifier(s))}return i};B.parseImport=function(s){return this.next(),this.type===_.string?(s.specifiers=yA,s.source=this.parseExprAtom()):(s.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),s.source=this.type===_.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(s,"ImportDeclaration")};B.parseImportSpecifier=function(){var s=this.startNode();return s.imported=this.parseModuleExportName(),this.eatContextual("as")?s.local=this.parseIdent():(this.checkUnreserved(s.imported),s.local=s.imported),this.checkLValSimple(s.local,Ls),this.finishNode(s,"ImportSpecifier")};B.parseImportDefaultSpecifier=function(){var s=this.startNode();return s.local=this.parseIdent(),this.checkLValSimple(s.local,Ls),this.finishNode(s,"ImportDefaultSpecifier")};B.parseImportNamespaceSpecifier=function(){var s=this.startNode();return this.next(),this.expectContextual("as"),s.local=this.parseIdent(),this.checkLValSimple(s.local,Ls),this.finishNode(s,"ImportNamespaceSpecifier")};B.parseImportSpecifiers=function(){var s=[],i=!0;if(this.type===_.name&&(s.push(this.parseImportDefaultSpecifier()),!this.eat(_.comma)))return s;if(this.type===_.star)return s.push(this.parseImportNamespaceSpecifier()),s;for(this.expect(_.braceL);!this.eat(_.braceR);){if(i)i=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;s.push(this.parseImportSpecifier())}return s};B.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===_.string){var s=this.parseLiteral(this.value);return hA.test(s.value)&&this.raise(s.start,"An export name cannot include a lone surrogate."),s}return this.parseIdent(!0)};B.adaptDirectivePrologue=function(s){for(var i=0;i<s.length&&this.isDirectiveCandidate(s[i]);++i)s[i].directive=s[i].expression.raw.slice(1,-1)};B.isDirectiveCandidate=function(s){return this.options.ecmaVersion>=5&&s.type==="ExpressionStatement"&&s.expression.type==="Literal"&&typeof s.expression.value=="string"&&(this.input[s.start]==='"'||this.input[s.start]==="'")};var Ve=St.prototype;Ve.toAssignable=function(s,i,t){if(this.options.ecmaVersion>=6&&s)switch(s.type){case"Identifier":this.inAsync&&s.name==="await"&&this.raise(s.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":s.type="ObjectPattern",t&&this.checkPatternErrors(t,!0);for(var r=0,n=s.properties;r<n.length;r+=1){var c=n[r];this.toAssignable(c,i),c.type==="RestElement"&&(c.argument.type==="ArrayPattern"||c.argument.type==="ObjectPattern")&&this.raise(c.argument.start,"Unexpected token")}break;case"Property":s.kind!=="init"&&this.raise(s.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(s.value,i);break;case"ArrayExpression":s.type="ArrayPattern",t&&this.checkPatternErrors(t,!0),this.toAssignableList(s.elements,i);break;case"SpreadElement":s.type="RestElement",this.toAssignable(s.argument,i),s.argument.type==="AssignmentPattern"&&this.raise(s.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":s.operator!=="="&&this.raise(s.left.end,"Only '=' operator can be used for specifying default value."),s.type="AssignmentPattern",delete s.operator,this.toAssignable(s.left,i);break;case"ParenthesizedExpression":this.toAssignable(s.expression,i,t);break;case"ChainExpression":this.raiseRecoverable(s.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!i)break;default:this.raise(s.start,"Assigning to rvalue")}else t&&this.checkPatternErrors(t,!0);return s};Ve.toAssignableList=function(s,i){for(var t=s.length,r=0;r<t;r++){var n=s[r];n&&this.toAssignable(n,i)}if(t){var c=s[t-1];this.options.ecmaVersion===6&&i&&c&&c.type==="RestElement"&&c.argument.type!=="Identifier"&&this.unexpected(c.argument.start)}return s};Ve.parseSpread=function(s){var i=this.startNode();return this.next(),i.argument=this.parseMaybeAssign(!1,s),this.finishNode(i,"SpreadElement")};Ve.parseRestBinding=function(){var s=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==_.name&&this.unexpected(),s.argument=this.parseBindingAtom(),this.finishNode(s,"RestElement")};Ve.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case _.bracketL:var s=this.startNode();return this.next(),s.elements=this.parseBindingList(_.bracketR,!0,!0),this.finishNode(s,"ArrayPattern");case _.braceL:return this.parseObj(!0)}return this.parseIdent()};Ve.parseBindingList=function(s,i,t,r){for(var n=[],c=!0;!this.eat(s);)if(c?c=!1:this.expect(_.comma),i&&this.type===_.comma)n.push(null);else{if(t&&this.afterTrailingComma(s))break;if(this.type===_.ellipsis){var u=this.parseRestBinding();this.parseBindingListItem(u),n.push(u),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(s);break}else n.push(this.parseAssignableListItem(r))}return n};Ve.parseAssignableListItem=function(s){var i=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(i),i};Ve.parseBindingListItem=function(s){return s};Ve.parseMaybeDefault=function(s,i,t){if(t=t||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(_.eq))return t;var r=this.startNodeAt(s,i);return r.left=t,r.right=this.parseMaybeAssign(),this.finishNode(r,"AssignmentPattern")};Ve.checkLValSimple=function(s,i,t){i===void 0&&(i=BI);var r=i!==BI;switch(s.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(s.name)&&this.raiseRecoverable(s.start,(r?"Binding ":"Assigning to ")+s.name+" in strict mode"),r&&(i===Ls&&s.name==="let"&&this.raiseRecoverable(s.start,"let is disallowed as a lexically bound name"),t&&(kh(t,s.name)&&this.raiseRecoverable(s.start,"Argument name clash"),t[s.name]=!0),i!==LS&&this.declareName(s.name,i,s.start));break;case"ChainExpression":this.raiseRecoverable(s.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":r&&this.raiseRecoverable(s.start,"Binding member expression");break;case"ParenthesizedExpression":return r&&this.raiseRecoverable(s.start,"Binding parenthesized expression"),this.checkLValSimple(s.expression,i,t);default:this.raise(s.start,(r?"Binding":"Assigning to")+" rvalue")}};Ve.checkLValPattern=function(s,i,t){switch(i===void 0&&(i=BI),s.type){case"ObjectPattern":for(var r=0,n=s.properties;r<n.length;r+=1){var c=n[r];this.checkLValInnerPattern(c,i,t)}break;case"ArrayPattern":for(var u=0,m=s.elements;u<m.length;u+=1){var h=m[u];h&&this.checkLValInnerPattern(h,i,t)}break;default:this.checkLValSimple(s,i,t)}};Ve.checkLValInnerPattern=function(s,i,t){switch(i===void 0&&(i=BI),s.type){case"Property":this.checkLValInnerPattern(s.value,i,t);break;case"AssignmentPattern":this.checkLValPattern(s.left,i,t);break;case"RestElement":this.checkLValPattern(s.argument,i,t);break;default:this.checkLValPattern(s,i,t)}};var ei=o(function(i,t,r,n,c){this.token=i,this.isExpr=!!t,this.preserveSpace=!!r,this.override=n,this.generator=!!c},"TokContext"),mt={b_stat:new ei("{",!1),b_expr:new ei("{",!0),b_tmpl:new ei("${",!1),p_stat:new ei("(",!1),p_expr:new ei("(",!0),q_tmpl:new ei("`",!0,!0,function(s){return s.tryReadTemplateToken()}),f_stat:new ei("function",!1),f_expr:new ei("function",!0),f_expr_gen:new ei("function",!0,!1,null,!0),f_gen:new ei("function",!1,!1,null,!0)},ul=St.prototype;ul.initialContext=function(){return[mt.b_stat]};ul.curContext=function(){return this.context[this.context.length-1]};ul.braceIsBlock=function(s){var i=this.curContext();return i===mt.f_expr||i===mt.f_stat?!0:s===_.colon&&(i===mt.b_stat||i===mt.b_expr)?!i.isExpr:s===_._return||s===_.name&&this.exprAllowed?Ye.test(this.input.slice(this.lastTokEnd,this.start)):s===_._else||s===_.semi||s===_.eof||s===_.parenR||s===_.arrow?!0:s===_.braceL?i===mt.b_stat:s===_._var||s===_._const||s===_.name?!1:!this.exprAllowed};ul.inGeneratorContext=function(){for(var s=this.context.length-1;s>=1;s--){var i=this.context[s];if(i.token==="function")return i.generator}return!1};ul.updateContext=function(s){var i,t=this.type;t.keyword&&s===_.dot?this.exprAllowed=!1:(i=t.updateContext)?i.call(this,s):this.exprAllowed=t.beforeExpr};ul.overrideContext=function(s){this.curContext()!==s&&(this.context[this.context.length-1]=s)};_.parenR.updateContext=_.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var s=this.context.pop();s===mt.b_stat&&this.curContext().token==="function"&&(s=this.context.pop()),this.exprAllowed=!s.isExpr};_.braceL.updateContext=function(s){this.context.push(this.braceIsBlock(s)?mt.b_stat:mt.b_expr),this.exprAllowed=!0};_.dollarBraceL.updateContext=function(){this.context.push(mt.b_tmpl),this.exprAllowed=!0};_.parenL.updateContext=function(s){var i=s===_._if||s===_._for||s===_._with||s===_._while;this.context.push(i?mt.p_stat:mt.p_expr),this.exprAllowed=!0};_.incDec.updateContext=function(){};_._function.updateContext=_._class.updateContext=function(s){s.beforeExpr&&s!==_._else&&!(s===_.semi&&this.curContext()!==mt.p_stat)&&!(s===_._return&&Ye.test(this.input.slice(this.lastTokEnd,this.start)))&&!((s===_.colon||s===_.braceL)&&this.curContext()===mt.b_stat)?this.context.push(mt.f_expr):this.context.push(mt.f_stat),this.exprAllowed=!1};_.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};_.backQuote.updateContext=function(){this.curContext()===mt.q_tmpl?this.context.pop():this.context.push(mt.q_tmpl),this.exprAllowed=!1};_.star.updateContext=function(s){if(s===_._function){var i=this.context.length-1;this.context[i]===mt.f_expr?this.context[i]=mt.f_expr_gen:this.context[i]=mt.f_gen}this.exprAllowed=!0};_.name.updateContext=function(s){var i=!1;this.options.ecmaVersion>=6&&s!==_.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(i=!0),this.exprAllowed=i};var U=St.prototype;U.checkPropClash=function(s,i,t){if(!(this.options.ecmaVersion>=9&&s.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(s.computed||s.method||s.shorthand))){var r=s.key,n;switch(r.type){case"Identifier":n=r.name;break;case"Literal":n=String(r.value);break;default:return}var c=s.kind;if(this.options.ecmaVersion>=6){n==="__proto__"&&c==="init"&&(i.proto&&(t?t.doubleProto<0&&(t.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),i.proto=!0);return}n="$"+n;var u=i[n];if(u){var m;c==="init"?m=this.strict&&u.init||u.get||u.set:m=u.init||u[c],m&&this.raiseRecoverable(r.start,"Redefinition of property")}else u=i[n]={init:!1,get:!1,set:!1};u[c]=!0}};U.parseExpression=function(s,i){var t=this.start,r=this.startLoc,n=this.parseMaybeAssign(s,i);if(this.type===_.comma){var c=this.startNodeAt(t,r);for(c.expressions=[n];this.eat(_.comma);)c.expressions.push(this.parseMaybeAssign(s,i));return this.finishNode(c,"SequenceExpression")}return n};U.parseMaybeAssign=function(s,i,t){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(s);this.exprAllowed=!1}var r=!1,n=-1,c=-1,u=-1;i?(n=i.parenthesizedAssign,c=i.trailingComma,u=i.doubleProto,i.parenthesizedAssign=i.trailingComma=-1):(i=new UI,r=!0);var m=this.start,h=this.startLoc;(this.type===_.parenL||this.type===_.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=s==="await");var x=this.parseMaybeConditional(s,i);if(t&&(x=t.call(this,x,m,h)),this.type.isAssign){var b=this.startNodeAt(m,h);return b.operator=this.value,this.type===_.eq&&(x=this.toAssignable(x,!1,i)),r||(i.parenthesizedAssign=i.trailingComma=i.doubleProto=-1),i.shorthandAssign>=x.start&&(i.shorthandAssign=-1),this.type===_.eq?this.checkLValPattern(x):this.checkLValSimple(x),b.left=x,this.next(),b.right=this.parseMaybeAssign(s),u>-1&&(i.doubleProto=u),this.finishNode(b,"AssignmentExpression")}else r&&this.checkExpressionErrors(i,!0);return n>-1&&(i.parenthesizedAssign=n),c>-1&&(i.trailingComma=c),x};U.parseMaybeConditional=function(s,i){var t=this.start,r=this.startLoc,n=this.parseExprOps(s,i);if(this.checkExpressionErrors(i))return n;if(this.eat(_.question)){var c=this.startNodeAt(t,r);return c.test=n,c.consequent=this.parseMaybeAssign(),this.expect(_.colon),c.alternate=this.parseMaybeAssign(s),this.finishNode(c,"ConditionalExpression")}return n};U.parseExprOps=function(s,i){var t=this.start,r=this.startLoc,n=this.parseMaybeUnary(i,!1,!1,s);return this.checkExpressionErrors(i)||n.start===t&&n.type==="ArrowFunctionExpression"?n:this.parseExprOp(n,t,r,-1,s)};U.parseExprOp=function(s,i,t,r,n){var c=this.type.binop;if(c!=null&&(!n||this.type!==_._in)&&c>r){var u=this.type===_.logicalOR||this.type===_.logicalAND,m=this.type===_.coalesce;m&&(c=_.logicalAND.binop);var h=this.value;this.next();var x=this.start,b=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,n),x,b,c,n),T=this.buildBinary(i,t,s,g,h,u||m);return(u&&this.type===_.coalesce||m&&(this.type===_.logicalOR||this.type===_.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(T,i,t,r,n)}return s};U.buildBinary=function(s,i,t,r,n,c){r.type==="PrivateIdentifier"&&this.raise(r.start,"Private identifier can only be left side of binary expression");var u=this.startNodeAt(s,i);return u.left=t,u.operator=n,u.right=r,this.finishNode(u,c?"LogicalExpression":"BinaryExpression")};U.parseMaybeUnary=function(s,i,t,r){var n=this.start,c=this.startLoc,u;if(this.isContextual("await")&&this.canAwait)u=this.parseAwait(r),i=!0;else if(this.type.prefix){var m=this.startNode(),h=this.type===_.incDec;m.operator=this.value,m.prefix=!0,this.next(),m.argument=this.parseMaybeUnary(null,!0,h,r),this.checkExpressionErrors(s,!0),h?this.checkLValSimple(m.argument):this.strict&&m.operator==="delete"&&YS(m.argument)?this.raiseRecoverable(m.start,"Deleting local variable in strict mode"):m.operator==="delete"&&g1(m.argument)?this.raiseRecoverable(m.start,"Private fields can not be deleted"):i=!0,u=this.finishNode(m,h?"UpdateExpression":"UnaryExpression")}else if(!i&&this.type===_.privateId)(r||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),u=this.parsePrivateIdent(),this.type!==_._in&&this.unexpected();else{if(u=this.parseExprSubscripts(s,r),this.checkExpressionErrors(s))return u;for(;this.type.postfix&&!this.canInsertSemicolon();){var x=this.startNodeAt(n,c);x.operator=this.value,x.prefix=!1,x.argument=u,this.checkLValSimple(u),this.next(),u=this.finishNode(x,"UpdateExpression")}}if(!t&&this.eat(_.starstar))if(i)this.unexpected(this.lastTokStart);else return this.buildBinary(n,c,u,this.parseMaybeUnary(null,!1,!1,r),"**",!1);else return u};function YS(s){return s.type==="Identifier"||s.type==="ParenthesizedExpression"&&YS(s.expression)}o(YS,"isLocalVariableAccess");function g1(s){return s.type==="MemberExpression"&&s.property.type==="PrivateIdentifier"||s.type==="ChainExpression"&&g1(s.expression)||s.type==="ParenthesizedExpression"&&g1(s.expression)}o(g1,"isPrivateFieldAccess");U.parseExprSubscripts=function(s,i){var t=this.start,r=this.startLoc,n=this.parseExprAtom(s,i);if(n.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return n;var c=this.parseSubscripts(n,t,r,!1,i);return s&&c.type==="MemberExpression"&&(s.parenthesizedAssign>=c.start&&(s.parenthesizedAssign=-1),s.parenthesizedBind>=c.start&&(s.parenthesizedBind=-1),s.trailingComma>=c.start&&(s.trailingComma=-1)),c};U.parseSubscripts=function(s,i,t,r,n){for(var c=this.options.ecmaVersion>=8&&s.type==="Identifier"&&s.name==="async"&&this.lastTokEnd===s.end&&!this.canInsertSemicolon()&&s.end-s.start===5&&this.potentialArrowAt===s.start,u=!1;;){var m=this.parseSubscript(s,i,t,r,c,u,n);if(m.optional&&(u=!0),m===s||m.type==="ArrowFunctionExpression"){if(u){var h=this.startNodeAt(i,t);h.expression=m,m=this.finishNode(h,"ChainExpression")}return m}s=m}};U.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(_.arrow)};U.parseSubscriptAsyncArrow=function(s,i,t,r){return this.parseArrowExpression(this.startNodeAt(s,i),t,!0,r)};U.parseSubscript=function(s,i,t,r,n,c,u){var m=this.options.ecmaVersion>=11,h=m&&this.eat(_.questionDot);r&&h&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var x=this.eat(_.bracketL);if(x||h&&this.type!==_.parenL&&this.type!==_.backQuote||this.eat(_.dot)){var b=this.startNodeAt(i,t);b.object=s,x?(b.property=this.parseExpression(),this.expect(_.bracketR)):this.type===_.privateId&&s.type!=="Super"?b.property=this.parsePrivateIdent():b.property=this.parseIdent(this.options.allowReserved!=="never"),b.computed=!!x,m&&(b.optional=h),s=this.finishNode(b,"MemberExpression")}else if(!r&&this.eat(_.parenL)){var g=new UI,T=this.yieldPos,I=this.awaitPos,C=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var k=this.parseExprList(_.parenR,this.options.ecmaVersion>=8,!1,g);if(n&&!h&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=T,this.awaitPos=I,this.awaitIdentPos=C,this.parseSubscriptAsyncArrow(i,t,k,u);this.checkExpressionErrors(g,!0),this.yieldPos=T||this.yieldPos,this.awaitPos=I||this.awaitPos,this.awaitIdentPos=C||this.awaitIdentPos;var A=this.startNodeAt(i,t);A.callee=s,A.arguments=k,m&&(A.optional=h),s=this.finishNode(A,"CallExpression")}else if(this.type===_.backQuote){(h||c)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var N=this.startNodeAt(i,t);N.tag=s,N.quasi=this.parseTemplate({isTagged:!0}),s=this.finishNode(N,"TaggedTemplateExpression")}return s};U.parseExprAtom=function(s,i,t){this.type===_.slash&&this.readRegexp();var r,n=this.potentialArrowAt===this.start;switch(this.type){case _._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),r=this.startNode(),this.next(),this.type===_.parenL&&!this.allowDirectSuper&&this.raise(r.start,"super() call outside constructor of a subclass"),this.type!==_.dot&&this.type!==_.bracketL&&this.type!==_.parenL&&this.unexpected(),this.finishNode(r,"Super");case _._this:return r=this.startNode(),this.next(),this.finishNode(r,"ThisExpression");case _.name:var c=this.start,u=this.startLoc,m=this.containsEsc,h=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!m&&h.name==="async"&&!this.canInsertSemicolon()&&this.eat(_._function))return this.overrideContext(mt.f_expr),this.parseFunction(this.startNodeAt(c,u),0,!1,!0,i);if(n&&!this.canInsertSemicolon()){if(this.eat(_.arrow))return this.parseArrowExpression(this.startNodeAt(c,u),[h],!1,i);if(this.options.ecmaVersion>=8&&h.name==="async"&&this.type===_.name&&!m&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return h=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(_.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(c,u),[h],!0,i)}return h;case _.regexp:var x=this.value;return r=this.parseLiteral(x.value),r.regex={pattern:x.pattern,flags:x.flags},r;case _.num:case _.string:return this.parseLiteral(this.value);case _._null:case _._true:case _._false:return r=this.startNode(),r.value=this.type===_._null?null:this.type===_._true,r.raw=this.type.keyword,this.next(),this.finishNode(r,"Literal");case _.parenL:var b=this.start,g=this.parseParenAndDistinguishExpression(n,i);return s&&(s.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(s.parenthesizedAssign=b),s.parenthesizedBind<0&&(s.parenthesizedBind=b)),g;case _.bracketL:return r=this.startNode(),this.next(),r.elements=this.parseExprList(_.bracketR,!0,!0,s),this.finishNode(r,"ArrayExpression");case _.braceL:return this.overrideContext(mt.b_expr),this.parseObj(!1,s);case _._function:return r=this.startNode(),this.next(),this.parseFunction(r,0);case _._class:return this.parseClass(this.startNode(),!1);case _._new:return this.parseNew();case _.backQuote:return this.parseTemplate();case _._import:return this.options.ecmaVersion>=11?this.parseExprImport(t):this.unexpected();default:return this.parseExprAtomDefault()}};U.parseExprAtomDefault=function(){this.unexpected()};U.parseExprImport=function(s){var i=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===_.parenL&&!s)return this.parseDynamicImport(i);if(this.type===_.dot){var t=this.startNodeAt(i.start,i.loc&&i.loc.start);return t.name="import",i.meta=this.finishNode(t,"Identifier"),this.parseImportMeta(i)}else this.unexpected()};U.parseDynamicImport=function(s){if(this.next(),s.source=this.parseMaybeAssign(),!this.eat(_.parenR)){var i=this.start;this.eat(_.comma)&&this.eat(_.parenR)?this.raiseRecoverable(i,"Trailing comma is not allowed in import()"):this.unexpected(i)}return this.finishNode(s,"ImportExpression")};U.parseImportMeta=function(s){this.next();var i=this.containsEsc;return s.property=this.parseIdent(!0),s.property.name!=="meta"&&this.raiseRecoverable(s.property.start,"The only valid meta property for import is 'import.meta'"),i&&this.raiseRecoverable(s.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(s.start,"Cannot use 'import.meta' outside a module"),this.finishNode(s,"MetaProperty")};U.parseLiteral=function(s){var i=this.startNode();return i.value=s,i.raw=this.input.slice(this.start,this.end),i.raw.charCodeAt(i.raw.length-1)===110&&(i.bigint=i.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(i,"Literal")};U.parseParenExpression=function(){this.expect(_.parenL);var s=this.parseExpression();return this.expect(_.parenR),s};U.shouldParseArrow=function(s){return!this.canInsertSemicolon()};U.parseParenAndDistinguishExpression=function(s,i){var t=this.start,r=this.startLoc,n,c=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var u=this.start,m=this.startLoc,h=[],x=!0,b=!1,g=new UI,T=this.yieldPos,I=this.awaitPos,C;for(this.yieldPos=0,this.awaitPos=0;this.type!==_.parenR;)if(x?x=!1:this.expect(_.comma),c&&this.afterTrailingComma(_.parenR,!0)){b=!0;break}else if(this.type===_.ellipsis){C=this.start,h.push(this.parseParenItem(this.parseRestBinding())),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else h.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var k=this.lastTokEnd,A=this.lastTokEndLoc;if(this.expect(_.parenR),s&&this.shouldParseArrow(h)&&this.eat(_.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=T,this.awaitPos=I,this.parseParenArrowList(t,r,h,i);(!h.length||b)&&this.unexpected(this.lastTokStart),C&&this.unexpected(C),this.checkExpressionErrors(g,!0),this.yieldPos=T||this.yieldPos,this.awaitPos=I||this.awaitPos,h.length>1?(n=this.startNodeAt(u,m),n.expressions=h,this.finishNodeAt(n,"SequenceExpression",k,A)):n=h[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var N=this.startNodeAt(t,r);return N.expression=n,this.finishNode(N,"ParenthesizedExpression")}else return n};U.parseParenItem=function(s){return s};U.parseParenArrowList=function(s,i,t,r){return this.parseArrowExpression(this.startNodeAt(s,i),t,!1,r)};var wA=[];U.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var s=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===_.dot){var i=this.startNodeAt(s.start,s.loc&&s.loc.start);i.name="new",s.meta=this.finishNode(i,"Identifier"),this.next();var t=this.containsEsc;return s.property=this.parseIdent(!0),s.property.name!=="target"&&this.raiseRecoverable(s.property.start,"The only valid meta property for new is 'new.target'"),t&&this.raiseRecoverable(s.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(s.start,"'new.target' can only be used in functions and class static block"),this.finishNode(s,"MetaProperty")}var r=this.start,n=this.startLoc;return s.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),r,n,!0,!1),this.eat(_.parenL)?s.arguments=this.parseExprList(_.parenR,this.options.ecmaVersion>=8,!1):s.arguments=wA,this.finishNode(s,"NewExpression")};U.parseTemplateElement=function(s){var i=s.isTagged,t=this.startNode();return this.type===_.invalidTemplate?(i||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),t.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):t.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),t.tail=this.type===_.backQuote,this.finishNode(t,"TemplateElement")};U.parseTemplate=function(s){s===void 0&&(s={});var i=s.isTagged;i===void 0&&(i=!1);var t=this.startNode();this.next(),t.expressions=[];var r=this.parseTemplateElement({isTagged:i});for(t.quasis=[r];!r.tail;)this.type===_.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(_.dollarBraceL),t.expressions.push(this.parseExpression()),this.expect(_.braceR),t.quasis.push(r=this.parseTemplateElement({isTagged:i}));return this.next(),this.finishNode(t,"TemplateLiteral")};U.isAsyncProp=function(s){return!s.computed&&s.key.type==="Identifier"&&s.key.name==="async"&&(this.type===_.name||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===_.star)&&!Ye.test(this.input.slice(this.lastTokEnd,this.start))};U.parseObj=function(s,i){var t=this.startNode(),r=!0,n={};for(t.properties=[],this.next();!this.eat(_.braceR);){if(r)r=!1;else if(this.expect(_.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(_.braceR))break;var c=this.parseProperty(s,i);s||this.checkPropClash(c,n,i),t.properties.push(c)}return this.finishNode(t,s?"ObjectPattern":"ObjectExpression")};U.parseProperty=function(s,i){var t=this.startNode(),r,n,c,u;if(this.options.ecmaVersion>=9&&this.eat(_.ellipsis))return s?(t.argument=this.parseIdent(!1),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(t,"RestElement")):(t.argument=this.parseMaybeAssign(!1,i),this.type===_.comma&&i&&i.trailingComma<0&&(i.trailingComma=this.start),this.finishNode(t,"SpreadElement"));this.options.ecmaVersion>=6&&(t.method=!1,t.shorthand=!1,(s||i)&&(c=this.start,u=this.startLoc),s||(r=this.eat(_.star)));var m=this.containsEsc;return this.parsePropertyName(t),!s&&!m&&this.options.ecmaVersion>=8&&!r&&this.isAsyncProp(t)?(n=!0,r=this.options.ecmaVersion>=9&&this.eat(_.star),this.parsePropertyName(t)):n=!1,this.parsePropertyValue(t,s,r,n,c,u,i,m),this.finishNode(t,"Property")};U.parseGetterSetter=function(s){s.kind=s.key.name,this.parsePropertyName(s),s.value=this.parseMethod(!1);var i=s.kind==="get"?0:1;if(s.value.params.length!==i){var t=s.value.start;s.kind==="get"?this.raiseRecoverable(t,"getter should have no params"):this.raiseRecoverable(t,"setter should have exactly one param")}else s.kind==="set"&&s.value.params[0].type==="RestElement"&&this.raiseRecoverable(s.value.params[0].start,"Setter cannot use rest params")};U.parsePropertyValue=function(s,i,t,r,n,c,u,m){(t||r)&&this.type===_.colon&&this.unexpected(),this.eat(_.colon)?(s.value=i?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,u),s.kind="init"):this.options.ecmaVersion>=6&&this.type===_.parenL?(i&&this.unexpected(),s.kind="init",s.method=!0,s.value=this.parseMethod(t,r)):!i&&!m&&this.options.ecmaVersion>=5&&!s.computed&&s.key.type==="Identifier"&&(s.key.name==="get"||s.key.name==="set")&&this.type!==_.comma&&this.type!==_.braceR&&this.type!==_.eq?((t||r)&&this.unexpected(),this.parseGetterSetter(s)):this.options.ecmaVersion>=6&&!s.computed&&s.key.type==="Identifier"?((t||r)&&this.unexpected(),this.checkUnreserved(s.key),s.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=n),s.kind="init",i?s.value=this.parseMaybeDefault(n,c,this.copyNode(s.key)):this.type===_.eq&&u?(u.shorthandAssign<0&&(u.shorthandAssign=this.start),s.value=this.parseMaybeDefault(n,c,this.copyNode(s.key))):s.value=this.copyNode(s.key),s.shorthand=!0):this.unexpected()};U.parsePropertyName=function(s){if(this.options.ecmaVersion>=6){if(this.eat(_.bracketL))return s.computed=!0,s.key=this.parseMaybeAssign(),this.expect(_.bracketR),s.key;s.computed=!1}return s.key=this.type===_.num||this.type===_.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};U.initFunction=function(s){s.id=null,this.options.ecmaVersion>=6&&(s.generator=s.expression=!1),this.options.ecmaVersion>=8&&(s.async=!1)};U.parseMethod=function(s,i,t){var r=this.startNode(),n=this.yieldPos,c=this.awaitPos,u=this.awaitIdentPos;return this.initFunction(r),this.options.ecmaVersion>=6&&(r.generator=s),this.options.ecmaVersion>=8&&(r.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(k1(i,r.generator)|v1|(t?MS:0)),this.expect(_.parenL),r.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(r,!1,!0,!1),this.yieldPos=n,this.awaitPos=c,this.awaitIdentPos=u,this.finishNode(r,"FunctionExpression")};U.parseArrowExpression=function(s,i,t,r){var n=this.yieldPos,c=this.awaitPos,u=this.awaitIdentPos;return this.enterScope(k1(t,!1)|PS),this.initFunction(s),this.options.ecmaVersion>=8&&(s.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,s.params=this.toAssignableList(i,!0),this.parseFunctionBody(s,!0,!1,r),this.yieldPos=n,this.awaitPos=c,this.awaitIdentPos=u,this.finishNode(s,"ArrowFunctionExpression")};U.parseFunctionBody=function(s,i,t,r){var n=i&&this.type!==_.braceL,c=this.strict,u=!1;if(n)s.body=this.parseMaybeAssign(r),s.expression=!0,this.checkParams(s,!1);else{var m=this.options.ecmaVersion>=7&&!this.isSimpleParamList(s.params);(!c||m)&&(u=this.strictDirective(this.end),u&&m&&this.raiseRecoverable(s.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var h=this.labels;this.labels=[],u&&(this.strict=!0),this.checkParams(s,!c&&!u&&!i&&!t&&this.isSimpleParamList(s.params)),this.strict&&s.id&&this.checkLValSimple(s.id,LS),s.body=this.parseBlock(!1,void 0,u&&!c),s.expression=!1,this.adaptDirectivePrologue(s.body.body),this.labels=h}this.exitScope()};U.isSimpleParamList=function(s){for(var i=0,t=s;i<t.length;i+=1){var r=t[i];if(r.type!=="Identifier")return!1}return!0};U.checkParams=function(s,i){for(var t=Object.create(null),r=0,n=s.params;r<n.length;r+=1){var c=n[r];this.checkLValInnerPattern(c,E1,i?null:t)}};U.parseExprList=function(s,i,t,r){for(var n=[],c=!0;!this.eat(s);){if(c)c=!1;else if(this.expect(_.comma),i&&this.afterTrailingComma(s))break;var u=void 0;t&&this.type===_.comma?u=null:this.type===_.ellipsis?(u=this.parseSpread(r),r&&this.type===_.comma&&r.trailingComma<0&&(r.trailingComma=this.start)):u=this.parseMaybeAssign(!1,r),n.push(u)}return n};U.checkUnreserved=function(s){var i=s.start,t=s.end,r=s.name;if(this.inGenerator&&r==="yield"&&this.raiseRecoverable(i,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&r==="await"&&this.raiseRecoverable(i,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&r==="arguments"&&this.raiseRecoverable(i,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(r==="arguments"||r==="await")&&this.raise(i,"Cannot use "+r+" in class static initialization block"),this.keywords.test(r)&&this.raise(i,"Unexpected keyword '"+r+"'"),!(this.options.ecmaVersion<6&&this.input.slice(i,t).indexOf("\\")!==-1)){var n=this.strict?this.reservedWordsStrict:this.reservedWords;n.test(r)&&(!this.inAsync&&r==="await"&&this.raiseRecoverable(i,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(i,"The keyword '"+r+"' is reserved"))}};U.parseIdent=function(s){var i=this.parseIdentNode();return this.next(!!s),this.finishNode(i,"Identifier"),s||(this.checkUnreserved(i),i.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=i.start)),i};U.parseIdentNode=function(){var s=this.startNode();return this.type===_.name?s.name=this.value:this.type.keyword?(s.name=this.type.keyword,(s.name==="class"||s.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=_.name):this.unexpected(),s};U.parsePrivateIdent=function(){var s=this.startNode();return this.type===_.privateId?s.name=this.value:this.unexpected(),this.next(),this.finishNode(s,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(s.start,"Private field '#"+s.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(s)),s};U.parseYield=function(s){this.yieldPos||(this.yieldPos=this.start);var i=this.startNode();return this.next(),this.type===_.semi||this.canInsertSemicolon()||this.type!==_.star&&!this.type.startsExpr?(i.delegate=!1,i.argument=null):(i.delegate=this.eat(_.star),i.argument=this.parseMaybeAssign(s)),this.finishNode(i,"YieldExpression")};U.parseAwait=function(s){this.awaitPos||(this.awaitPos=this.start);var i=this.startNode();return this.next(),i.argument=this.parseMaybeUnary(null,!0,!1,s),this.finishNode(i,"AwaitExpression")};var OI=St.prototype;OI.raise=function(s,i){var t=NS(this.input,s);i+=" ("+t.line+":"+t.column+")";var r=new SyntaxError(i);throw r.pos=s,r.loc=t,r.raisedAt=this.pos,r};OI.raiseRecoverable=OI.raise;OI.curPosition=function(){if(this.options.locations)return new vh(this.curLine,this.pos-this.lineStart)};var mr=St.prototype,TA=o(function(i){this.flags=i,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");mr.enterScope=function(s){this.scopeStack.push(new TA(s))};mr.exitScope=function(){this.scopeStack.pop()};mr.treatFunctionsAsVarInScope=function(s){return s.flags&pl||!this.inModule&&s.flags&Ih};mr.declareName=function(s,i,t){var r=!1;if(i===Ls){var n=this.currentScope();r=n.lexical.indexOf(s)>-1||n.functions.indexOf(s)>-1||n.var.indexOf(s)>-1,n.lexical.push(s),this.inModule&&n.flags&Ih&&delete this.undefinedExports[s]}else if(i===BS){var c=this.currentScope();c.lexical.push(s)}else if(i===DS){var u=this.currentScope();this.treatFunctionsAsVar?r=u.lexical.indexOf(s)>-1:r=u.lexical.indexOf(s)>-1||u.var.indexOf(s)>-1,u.functions.push(s)}else for(var m=this.scopeStack.length-1;m>=0;--m){var h=this.scopeStack[m];if(h.lexical.indexOf(s)>-1&&!(h.flags&RS&&h.lexical[0]===s)||!this.treatFunctionsAsVarInScope(h)&&h.functions.indexOf(s)>-1){r=!0;break}if(h.var.push(s),this.inModule&&h.flags&Ih&&delete this.undefinedExports[s],h.flags&I1)break}r&&this.raiseRecoverable(t,"Identifier '"+s+"' has already been declared")};mr.checkLocalExport=function(s){this.scopeStack[0].lexical.indexOf(s.name)===-1&&this.scopeStack[0].var.indexOf(s.name)===-1&&(this.undefinedExports[s.name]=s)};mr.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};mr.currentVarScope=function(){for(var s=this.scopeStack.length-1;;s--){var i=this.scopeStack[s];if(i.flags&I1)return i}};mr.currentThisScope=function(){for(var s=this.scopeStack.length-1;;s--){var i=this.scopeStack[s];if(i.flags&I1&&!(i.flags&PS))return i}};var FI=o(function(i,t,r){this.type="",this.start=t,this.end=0,i.options.locations&&(this.loc=new VI(i,r)),i.options.directSourceFile&&(this.sourceFile=i.options.directSourceFile),i.options.ranges&&(this.range=[t,0])},"Node"),Sh=St.prototype;Sh.startNode=function(){return new FI(this,this.start,this.startLoc)};Sh.startNodeAt=function(s,i){return new FI(this,s,i)};function VS(s,i,t,r){return s.type=i,s.end=t,this.options.locations&&(s.loc.end=r),this.options.ranges&&(s.range[1]=t),s}o(VS,"finishNodeAt");Sh.finishNode=function(s,i){return VS.call(this,s,i,this.lastTokEnd,this.lastTokEndLoc)};Sh.finishNodeAt=function(s,i,t,r){return VS.call(this,s,i,t,r)};Sh.copyNode=function(s){var i=new FI(this,s.start,this.startLoc);for(var t in s)i[t]=s[t];return i};var US="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",FS=US+" Extended_Pictographic",WS=FS,jS=WS+" EBase EComp EMod EPres ExtPict",HS=jS,vA=HS,IA={9:US,10:FS,11:WS,12:jS,13:HS,14:vA},kA="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",EA={9:"",10:"",11:"",12:"",13:"",14:kA},TS="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",$S="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",GS=$S+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",qS=GS+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",KS=qS+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",zS=KS+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",SA=zS+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",CA={9:$S,10:GS,11:qS,12:KS,13:zS,14:SA},XS={};function NA(s){var i=XS[s]={binary:pr(IA[s]+" "+TS),binaryOfStrings:pr(EA[s]),nonBinary:{General_Category:pr(TS),Script:pr(CA[s])}};i.nonBinary.Script_Extensions=i.nonBinary.Script,i.nonBinary.gc=i.nonBinary.General_Category,i.nonBinary.sc=i.nonBinary.Script,i.nonBinary.scx=i.nonBinary.Script_Extensions}o(NA,"buildUnicodeData");for(DI=0,_1=[9,10,11,12,13,14];DI<_1.length;DI+=1)vS=_1[DI],NA(vS);var vS,DI,_1,M=St.prototype,YI=o(function(i,t){this.parent=i,this.base=t||this},"BranchID");YI.prototype.separatedFrom=o(function(i){for(var t=this;t;t=t.parent)for(var r=i;r;r=r.parent)if(t.base===r.base&&t!==r)return!0;return!1},"separatedFrom");YI.prototype.sibling=o(function(){return new YI(this.parent,this.base)},"sibling");var Ii=o(function(i){this.parser=i,this.validFlags="gim"+(i.options.ecmaVersion>=6?"uy":"")+(i.options.ecmaVersion>=9?"s":"")+(i.options.ecmaVersion>=13?"d":"")+(i.options.ecmaVersion>=15?"v":""),this.unicodeProperties=XS[i.options.ecmaVersion>=14?14:i.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null},"RegExpValidationState");Ii.prototype.reset=o(function(i,t,r){var n=r.indexOf("v")!==-1,c=r.indexOf("u")!==-1;this.start=i|0,this.source=t+"",this.flags=r,n&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=c&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=c&&this.parser.options.ecmaVersion>=9)},"reset");Ii.prototype.raise=o(function(i){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+i)},"raise");Ii.prototype.at=o(function(i,t){t===void 0&&(t=!1);var r=this.source,n=r.length;if(i>=n)return-1;var c=r.charCodeAt(i);if(!(t||this.switchU)||c<=55295||c>=57344||i+1>=n)return c;var u=r.charCodeAt(i+1);return u>=56320&&u<=57343?(c<<10)+u-56613888:c},"at");Ii.prototype.nextIndex=o(function(i,t){t===void 0&&(t=!1);var r=this.source,n=r.length;if(i>=n)return n;var c=r.charCodeAt(i),u;return!(t||this.switchU)||c<=55295||c>=57344||i+1>=n||(u=r.charCodeAt(i+1))<56320||u>57343?i+1:i+2},"nextIndex");Ii.prototype.current=o(function(i){return i===void 0&&(i=!1),this.at(this.pos,i)},"current");Ii.prototype.lookahead=o(function(i){return i===void 0&&(i=!1),this.at(this.nextIndex(this.pos,i),i)},"lookahead");Ii.prototype.advance=o(function(i){i===void 0&&(i=!1),this.pos=this.nextIndex(this.pos,i)},"advance");Ii.prototype.eat=o(function(i,t){return t===void 0&&(t=!1),this.current(t)===i?(this.advance(t),!0):!1},"eat");Ii.prototype.eatChars=o(function(i,t){t===void 0&&(t=!1);for(var r=this.pos,n=0,c=i;n<c.length;n+=1){var u=c[n],m=this.at(r,t);if(m===-1||m!==u)return!1;r=this.nextIndex(r,t)}return this.pos=r,!0},"eatChars");M.validateRegExpFlags=function(s){for(var i=s.validFlags,t=s.flags,r=!1,n=!1,c=0;c<t.length;c++){var u=t.charAt(c);i.indexOf(u)===-1&&this.raise(s.start,"Invalid regular expression flag"),t.indexOf(u,c+1)>-1&&this.raise(s.start,"Duplicate regular expression flag"),u==="u"&&(r=!0),u==="v"&&(n=!0)}this.options.ecmaVersion>=15&&r&&n&&this.raise(s.start,"Invalid regular expression flag")};function AA(s){for(var i in s)return!0;return!1}o(AA,"hasProp");M.validateRegExpPattern=function(s){this.regexp_pattern(s),!s.switchN&&this.options.ecmaVersion>=9&&AA(s.groupNames)&&(s.switchN=!0,this.regexp_pattern(s))};M.regexp_pattern=function(s){s.pos=0,s.lastIntValue=0,s.lastStringValue="",s.lastAssertionIsQuantifiable=!1,s.numCapturingParens=0,s.maxBackReference=0,s.groupNames=Object.create(null),s.backReferenceNames.length=0,s.branchID=null,this.regexp_disjunction(s),s.pos!==s.source.length&&(s.eat(41)&&s.raise("Unmatched ')'"),(s.eat(93)||s.eat(125))&&s.raise("Lone quantifier brackets")),s.maxBackReference>s.numCapturingParens&&s.raise("Invalid escape");for(var i=0,t=s.backReferenceNames;i<t.length;i+=1){var r=t[i];s.groupNames[r]||s.raise("Invalid named capture referenced")}};M.regexp_disjunction=function(s){var i=this.options.ecmaVersion>=16;for(i&&(s.branchID=new YI(s.branchID,null)),this.regexp_alternative(s);s.eat(124);)i&&(s.branchID=s.branchID.sibling()),this.regexp_alternative(s);i&&(s.branchID=s.branchID.parent),this.regexp_eatQuantifier(s,!0)&&s.raise("Nothing to repeat"),s.eat(123)&&s.raise("Lone quantifier brackets")};M.regexp_alternative=function(s){for(;s.pos<s.source.length&&this.regexp_eatTerm(s););};M.regexp_eatTerm=function(s){return this.regexp_eatAssertion(s)?(s.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(s)&&s.switchU&&s.raise("Invalid quantifier"),!0):(s.switchU?this.regexp_eatAtom(s):this.regexp_eatExtendedAtom(s))?(this.regexp_eatQuantifier(s),!0):!1};M.regexp_eatAssertion=function(s){var i=s.pos;if(s.lastAssertionIsQuantifiable=!1,s.eat(94)||s.eat(36))return!0;if(s.eat(92)){if(s.eat(66)||s.eat(98))return!0;s.pos=i}if(s.eat(40)&&s.eat(63)){var t=!1;if(this.options.ecmaVersion>=9&&(t=s.eat(60)),s.eat(61)||s.eat(33))return this.regexp_disjunction(s),s.eat(41)||s.raise("Unterminated group"),s.lastAssertionIsQuantifiable=!t,!0}return s.pos=i,!1};M.regexp_eatQuantifier=function(s,i){return i===void 0&&(i=!1),this.regexp_eatQuantifierPrefix(s,i)?(s.eat(63),!0):!1};M.regexp_eatQuantifierPrefix=function(s,i){return s.eat(42)||s.eat(43)||s.eat(63)||this.regexp_eatBracedQuantifier(s,i)};M.regexp_eatBracedQuantifier=function(s,i){var t=s.pos;if(s.eat(123)){var r=0,n=-1;if(this.regexp_eatDecimalDigits(s)&&(r=s.lastIntValue,s.eat(44)&&this.regexp_eatDecimalDigits(s)&&(n=s.lastIntValue),s.eat(125)))return n!==-1&&n<r&&!i&&s.raise("numbers out of order in {} quantifier"),!0;s.switchU&&!i&&s.raise("Incomplete quantifier"),s.pos=t}return!1};M.regexp_eatAtom=function(s){return this.regexp_eatPatternCharacters(s)||s.eat(46)||this.regexp_eatReverseSolidusAtomEscape(s)||this.regexp_eatCharacterClass(s)||this.regexp_eatUncapturingGroup(s)||this.regexp_eatCapturingGroup(s)};M.regexp_eatReverseSolidusAtomEscape=function(s){var i=s.pos;if(s.eat(92)){if(this.regexp_eatAtomEscape(s))return!0;s.pos=i}return!1};M.regexp_eatUncapturingGroup=function(s){var i=s.pos;if(s.eat(40)){if(s.eat(63)&&s.eat(58)){if(this.regexp_disjunction(s),s.eat(41))return!0;s.raise("Unterminated group")}s.pos=i}return!1};M.regexp_eatCapturingGroup=function(s){if(s.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(s):s.current()===63&&s.raise("Invalid group"),this.regexp_disjunction(s),s.eat(41))return s.numCapturingParens+=1,!0;s.raise("Unterminated group")}return!1};M.regexp_eatExtendedAtom=function(s){return s.eat(46)||this.regexp_eatReverseSolidusAtomEscape(s)||this.regexp_eatCharacterClass(s)||this.regexp_eatUncapturingGroup(s)||this.regexp_eatCapturingGroup(s)||this.regexp_eatInvalidBracedQuantifier(s)||this.regexp_eatExtendedPatternCharacter(s)};M.regexp_eatInvalidBracedQuantifier=function(s){return this.regexp_eatBracedQuantifier(s,!0)&&s.raise("Nothing to repeat"),!1};M.regexp_eatSyntaxCharacter=function(s){var i=s.current();return QS(i)?(s.lastIntValue=i,s.advance(),!0):!1};function QS(s){return s===36||s>=40&&s<=43||s===46||s===63||s>=91&&s<=94||s>=123&&s<=125}o(QS,"isSyntaxCharacter");M.regexp_eatPatternCharacters=function(s){for(var i=s.pos,t=0;(t=s.current())!==-1&&!QS(t);)s.advance();return s.pos!==i};M.regexp_eatExtendedPatternCharacter=function(s){var i=s.current();return i!==-1&&i!==36&&!(i>=40&&i<=43)&&i!==46&&i!==63&&i!==91&&i!==94&&i!==124?(s.advance(),!0):!1};M.regexp_groupSpecifier=function(s){if(s.eat(63)){this.regexp_eatGroupName(s)||s.raise("Invalid group");var i=this.options.ecmaVersion>=16,t=s.groupNames[s.lastStringValue];if(t)if(i)for(var r=0,n=t;r<n.length;r+=1){var c=n[r];c.separatedFrom(s.branchID)||s.raise("Duplicate capture group name")}else s.raise("Duplicate capture group name");i?(t||(s.groupNames[s.lastStringValue]=[])).push(s.branchID):s.groupNames[s.lastStringValue]=!0}};M.regexp_eatGroupName=function(s){if(s.lastStringValue="",s.eat(60)){if(this.regexp_eatRegExpIdentifierName(s)&&s.eat(62))return!0;s.raise("Invalid capture group name")}return!1};M.regexp_eatRegExpIdentifierName=function(s){if(s.lastStringValue="",this.regexp_eatRegExpIdentifierStart(s)){for(s.lastStringValue+=ur(s.lastIntValue);this.regexp_eatRegExpIdentifierPart(s);)s.lastStringValue+=ur(s.lastIntValue);return!0}return!1};M.regexp_eatRegExpIdentifierStart=function(s){var i=s.pos,t=this.options.ecmaVersion>=11,r=s.current(t);return s.advance(t),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(s,t)&&(r=s.lastIntValue),PA(r)?(s.lastIntValue=r,!0):(s.pos=i,!1)};function PA(s){return Ds(s,!0)||s===36||s===95}o(PA,"isRegExpIdentifierStart");M.regexp_eatRegExpIdentifierPart=function(s){var i=s.pos,t=this.options.ecmaVersion>=11,r=s.current(t);return s.advance(t),r===92&&this.regexp_eatRegExpUnicodeEscapeSequence(s,t)&&(r=s.lastIntValue),RA(r)?(s.lastIntValue=r,!0):(s.pos=i,!1)};function RA(s){return cl(s,!0)||s===36||s===95||s===8204||s===8205}o(RA,"isRegExpIdentifierPart");M.regexp_eatAtomEscape=function(s){return this.regexp_eatBackReference(s)||this.regexp_eatCharacterClassEscape(s)||this.regexp_eatCharacterEscape(s)||s.switchN&&this.regexp_eatKGroupName(s)?!0:(s.switchU&&(s.current()===99&&s.raise("Invalid unicode escape"),s.raise("Invalid escape")),!1)};M.regexp_eatBackReference=function(s){var i=s.pos;if(this.regexp_eatDecimalEscape(s)){var t=s.lastIntValue;if(s.switchU)return t>s.maxBackReference&&(s.maxBackReference=t),!0;if(t<=s.numCapturingParens)return!0;s.pos=i}return!1};M.regexp_eatKGroupName=function(s){if(s.eat(107)){if(this.regexp_eatGroupName(s))return s.backReferenceNames.push(s.lastStringValue),!0;s.raise("Invalid named reference")}return!1};M.regexp_eatCharacterEscape=function(s){return this.regexp_eatControlEscape(s)||this.regexp_eatCControlLetter(s)||this.regexp_eatZero(s)||this.regexp_eatHexEscapeSequence(s)||this.regexp_eatRegExpUnicodeEscapeSequence(s,!1)||!s.switchU&&this.regexp_eatLegacyOctalEscapeSequence(s)||this.regexp_eatIdentityEscape(s)};M.regexp_eatCControlLetter=function(s){var i=s.pos;if(s.eat(99)){if(this.regexp_eatControlLetter(s))return!0;s.pos=i}return!1};M.regexp_eatZero=function(s){return s.current()===48&&!WI(s.lookahead())?(s.lastIntValue=0,s.advance(),!0):!1};M.regexp_eatControlEscape=function(s){var i=s.current();return i===116?(s.lastIntValue=9,s.advance(),!0):i===110?(s.lastIntValue=10,s.advance(),!0):i===118?(s.lastIntValue=11,s.advance(),!0):i===102?(s.lastIntValue=12,s.advance(),!0):i===114?(s.lastIntValue=13,s.advance(),!0):!1};M.regexp_eatControlLetter=function(s){var i=s.current();return JS(i)?(s.lastIntValue=i%32,s.advance(),!0):!1};function JS(s){return s>=65&&s<=90||s>=97&&s<=122}o(JS,"isControlLetter");M.regexp_eatRegExpUnicodeEscapeSequence=function(s,i){i===void 0&&(i=!1);var t=s.pos,r=i||s.switchU;if(s.eat(117)){if(this.regexp_eatFixedHexDigits(s,4)){var n=s.lastIntValue;if(r&&n>=55296&&n<=56319){var c=s.pos;if(s.eat(92)&&s.eat(117)&&this.regexp_eatFixedHexDigits(s,4)){var u=s.lastIntValue;if(u>=56320&&u<=57343)return s.lastIntValue=(n-55296)*1024+(u-56320)+65536,!0}s.pos=c,s.lastIntValue=n}return!0}if(r&&s.eat(123)&&this.regexp_eatHexDigits(s)&&s.eat(125)&&MA(s.lastIntValue))return!0;r&&s.raise("Invalid unicode escape"),s.pos=t}return!1};function MA(s){return s>=0&&s<=1114111}o(MA,"isValidUnicode");M.regexp_eatIdentityEscape=function(s){if(s.switchU)return this.regexp_eatSyntaxCharacter(s)?!0:s.eat(47)?(s.lastIntValue=47,!0):!1;var i=s.current();return i!==99&&(!s.switchN||i!==107)?(s.lastIntValue=i,s.advance(),!0):!1};M.regexp_eatDecimalEscape=function(s){s.lastIntValue=0;var i=s.current();if(i>=49&&i<=57){do s.lastIntValue=10*s.lastIntValue+(i-48),s.advance();while((i=s.current())>=48&&i<=57);return!0}return!1};var ZS=0,Bs=1,Oe=2;M.regexp_eatCharacterClassEscape=function(s){var i=s.current();if(DA(i))return s.lastIntValue=-1,s.advance(),Bs;var t=!1;if(s.switchU&&this.options.ecmaVersion>=9&&((t=i===80)||i===112)){s.lastIntValue=-1,s.advance();var r;if(s.eat(123)&&(r=this.regexp_eatUnicodePropertyValueExpression(s))&&s.eat(125))return t&&r===Oe&&s.raise("Invalid property name"),r;s.raise("Invalid property name")}return ZS};function DA(s){return s===100||s===68||s===115||s===83||s===119||s===87}o(DA,"isCharacterClassEscape");M.regexp_eatUnicodePropertyValueExpression=function(s){var i=s.pos;if(this.regexp_eatUnicodePropertyName(s)&&s.eat(61)){var t=s.lastStringValue;if(this.regexp_eatUnicodePropertyValue(s)){var r=s.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(s,t,r),Bs}}if(s.pos=i,this.regexp_eatLoneUnicodePropertyNameOrValue(s)){var n=s.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(s,n)}return ZS};M.regexp_validateUnicodePropertyNameAndValue=function(s,i,t){kh(s.unicodeProperties.nonBinary,i)||s.raise("Invalid property name"),s.unicodeProperties.nonBinary[i].test(t)||s.raise("Invalid property value")};M.regexp_validateUnicodePropertyNameOrValue=function(s,i){if(s.unicodeProperties.binary.test(i))return Bs;if(s.switchV&&s.unicodeProperties.binaryOfStrings.test(i))return Oe;s.raise("Invalid property name")};M.regexp_eatUnicodePropertyName=function(s){var i=0;for(s.lastStringValue="";tC(i=s.current());)s.lastStringValue+=ur(i),s.advance();return s.lastStringValue!==""};function tC(s){return JS(s)||s===95}o(tC,"isUnicodePropertyNameCharacter");M.regexp_eatUnicodePropertyValue=function(s){var i=0;for(s.lastStringValue="";BA(i=s.current());)s.lastStringValue+=ur(i),s.advance();return s.lastStringValue!==""};function BA(s){return tC(s)||WI(s)}o(BA,"isUnicodePropertyValueCharacter");M.regexp_eatLoneUnicodePropertyNameOrValue=function(s){return this.regexp_eatUnicodePropertyValue(s)};M.regexp_eatCharacterClass=function(s){if(s.eat(91)){var i=s.eat(94),t=this.regexp_classContents(s);return s.eat(93)||s.raise("Unterminated character class"),i&&t===Oe&&s.raise("Negated character class may contain strings"),!0}return!1};M.regexp_classContents=function(s){return s.current()===93?Bs:s.switchV?this.regexp_classSetExpression(s):(this.regexp_nonEmptyClassRanges(s),Bs)};M.regexp_nonEmptyClassRanges=function(s){for(;this.regexp_eatClassAtom(s);){var i=s.lastIntValue;if(s.eat(45)&&this.regexp_eatClassAtom(s)){var t=s.lastIntValue;s.switchU&&(i===-1||t===-1)&&s.raise("Invalid character class"),i!==-1&&t!==-1&&i>t&&s.raise("Range out of order in character class")}}};M.regexp_eatClassAtom=function(s){var i=s.pos;if(s.eat(92)){if(this.regexp_eatClassEscape(s))return!0;if(s.switchU){var t=s.current();(t===99||sC(t))&&s.raise("Invalid class escape"),s.raise("Invalid escape")}s.pos=i}var r=s.current();return r!==93?(s.lastIntValue=r,s.advance(),!0):!1};M.regexp_eatClassEscape=function(s){var i=s.pos;if(s.eat(98))return s.lastIntValue=8,!0;if(s.switchU&&s.eat(45))return s.lastIntValue=45,!0;if(!s.switchU&&s.eat(99)){if(this.regexp_eatClassControlLetter(s))return!0;s.pos=i}return this.regexp_eatCharacterClassEscape(s)||this.regexp_eatCharacterEscape(s)};M.regexp_classSetExpression=function(s){var i=Bs,t;if(!this.regexp_eatClassSetRange(s))if(t=this.regexp_eatClassSetOperand(s)){t===Oe&&(i=Oe);for(var r=s.pos;s.eatChars([38,38]);){if(s.current()!==38&&(t=this.regexp_eatClassSetOperand(s))){t!==Oe&&(i=Bs);continue}s.raise("Invalid character in character class")}if(r!==s.pos)return i;for(;s.eatChars([45,45]);)this.regexp_eatClassSetOperand(s)||s.raise("Invalid character in character class");if(r!==s.pos)return i}else s.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(s)){if(t=this.regexp_eatClassSetOperand(s),!t)return i;t===Oe&&(i=Oe)}};M.regexp_eatClassSetRange=function(s){var i=s.pos;if(this.regexp_eatClassSetCharacter(s)){var t=s.lastIntValue;if(s.eat(45)&&this.regexp_eatClassSetCharacter(s)){var r=s.lastIntValue;return t!==-1&&r!==-1&&t>r&&s.raise("Range out of order in character class"),!0}s.pos=i}return!1};M.regexp_eatClassSetOperand=function(s){return this.regexp_eatClassSetCharacter(s)?Bs:this.regexp_eatClassStringDisjunction(s)||this.regexp_eatNestedClass(s)};M.regexp_eatNestedClass=function(s){var i=s.pos;if(s.eat(91)){var t=s.eat(94),r=this.regexp_classContents(s);if(s.eat(93))return t&&r===Oe&&s.raise("Negated character class may contain strings"),r;s.pos=i}if(s.eat(92)){var n=this.regexp_eatCharacterClassEscape(s);if(n)return n;s.pos=i}return null};M.regexp_eatClassStringDisjunction=function(s){var i=s.pos;if(s.eatChars([92,113])){if(s.eat(123)){var t=this.regexp_classStringDisjunctionContents(s);if(s.eat(125))return t}else s.raise("Invalid escape");s.pos=i}return null};M.regexp_classStringDisjunctionContents=function(s){for(var i=this.regexp_classString(s);s.eat(124);)this.regexp_classString(s)===Oe&&(i=Oe);return i};M.regexp_classString=function(s){for(var i=0;this.regexp_eatClassSetCharacter(s);)i++;return i===1?Bs:Oe};M.regexp_eatClassSetCharacter=function(s){var i=s.pos;if(s.eat(92))return this.regexp_eatCharacterEscape(s)||this.regexp_eatClassSetReservedPunctuator(s)?!0:s.eat(98)?(s.lastIntValue=8,!0):(s.pos=i,!1);var t=s.current();return t<0||t===s.lookahead()&&LA(t)||OA(t)?!1:(s.advance(),s.lastIntValue=t,!0)};function LA(s){return s===33||s>=35&&s<=38||s>=42&&s<=44||s===46||s>=58&&s<=64||s===94||s===96||s===126}o(LA,"isClassSetReservedDoublePunctuatorCharacter");function OA(s){return s===40||s===41||s===45||s===47||s>=91&&s<=93||s>=123&&s<=125}o(OA,"isClassSetSyntaxCharacter");M.regexp_eatClassSetReservedPunctuator=function(s){var i=s.current();return YA(i)?(s.lastIntValue=i,s.advance(),!0):!1};function YA(s){return s===33||s===35||s===37||s===38||s===44||s===45||s>=58&&s<=62||s===64||s===96||s===126}o(YA,"isClassSetReservedPunctuator");M.regexp_eatClassControlLetter=function(s){var i=s.current();return WI(i)||i===95?(s.lastIntValue=i%32,s.advance(),!0):!1};M.regexp_eatHexEscapeSequence=function(s){var i=s.pos;if(s.eat(120)){if(this.regexp_eatFixedHexDigits(s,2))return!0;s.switchU&&s.raise("Invalid escape"),s.pos=i}return!1};M.regexp_eatDecimalDigits=function(s){var i=s.pos,t=0;for(s.lastIntValue=0;WI(t=s.current());)s.lastIntValue=10*s.lastIntValue+(t-48),s.advance();return s.pos!==i};function WI(s){return s>=48&&s<=57}o(WI,"isDecimalDigit");M.regexp_eatHexDigits=function(s){var i=s.pos,t=0;for(s.lastIntValue=0;eC(t=s.current());)s.lastIntValue=16*s.lastIntValue+iC(t),s.advance();return s.pos!==i};function eC(s){return s>=48&&s<=57||s>=65&&s<=70||s>=97&&s<=102}o(eC,"isHexDigit");function iC(s){return s>=65&&s<=70?10+(s-65):s>=97&&s<=102?10+(s-97):s-48}o(iC,"hexToInt");M.regexp_eatLegacyOctalEscapeSequence=function(s){if(this.regexp_eatOctalDigit(s)){var i=s.lastIntValue;if(this.regexp_eatOctalDigit(s)){var t=s.lastIntValue;i<=3&&this.regexp_eatOctalDigit(s)?s.lastIntValue=i*64+t*8+s.lastIntValue:s.lastIntValue=i*8+t}else s.lastIntValue=i;return!0}return!1};M.regexp_eatOctalDigit=function(s){var i=s.current();return sC(i)?(s.lastIntValue=i-48,s.advance(),!0):(s.lastIntValue=0,!1)};function sC(s){return s>=48&&s<=55}o(sC,"isOctalDigit");M.regexp_eatFixedHexDigits=function(s,i){var t=s.pos;s.lastIntValue=0;for(var r=0;r<i;++r){var n=s.current();if(!eC(n))return s.pos=t,!1;s.lastIntValue=16*s.lastIntValue+iC(n),s.advance()}return!0};var C1=o(function(i){this.type=i.type,this.value=i.value,this.start=i.start,this.end=i.end,i.options.locations&&(this.loc=new VI(i,i.startLoc,i.endLoc)),i.options.ranges&&(this.range=[i.start,i.end])},"Token"),z=St.prototype;z.next=function(s){!s&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new C1(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};z.getToken=function(){return this.next(),new C1(this)};typeof Symbol<"u"&&(z[Symbol.iterator]=function(){var s=this;return{next:o(function(){var i=s.getToken();return{done:i.type===_.eof,value:i}},"next")}});z.nextToken=function(){var s=this.curContext();if((!s||!s.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(_.eof);if(s.override)return s.override(this);this.readToken(this.fullCharCodeAtPos())};z.readToken=function(s){return Ds(s,this.options.ecmaVersion>=6)||s===92?this.readWord():this.getTokenFromCode(s)};z.fullCharCodeAtPos=function(){var s=this.input.charCodeAt(this.pos);if(s<=55295||s>=56320)return s;var i=this.input.charCodeAt(this.pos+1);return i<=56319||i>=57344?s:(s<<10)+i-56613888};z.skipBlockComment=function(){var s=this.options.onComment&&this.curPosition(),i=this.pos,t=this.input.indexOf("*/",this.pos+=2);if(t===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=t+2,this.options.locations)for(var r=void 0,n=i;(r=ES(this.input,n,this.pos))>-1;)++this.curLine,n=this.lineStart=r;this.options.onComment&&this.options.onComment(!0,this.input.slice(i+2,t),i,this.pos,s,this.curPosition())};z.skipLineComment=function(s){for(var i=this.pos,t=this.options.onComment&&this.curPosition(),r=this.input.charCodeAt(this.pos+=s);this.pos<this.input.length&&!ll(r);)r=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(i+s,this.pos),i,this.pos,t,this.curPosition())};z.skipSpace=function(){t:for(;this.pos<this.input.length;){var s=this.input.charCodeAt(this.pos);switch(s){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(s>8&&s<14||s>=5760&&SS.test(String.fromCharCode(s)))++this.pos;else break t}}};z.finishToken=function(s,i){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var t=this.type;this.type=s,this.value=i,this.updateContext(t)};z.readToken_dot=function(){var s=this.input.charCodeAt(this.pos+1);if(s>=48&&s<=57)return this.readNumber(!0);var i=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&s===46&&i===46?(this.pos+=3,this.finishToken(_.ellipsis)):(++this.pos,this.finishToken(_.dot))};z.readToken_slash=function(){var s=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):s===61?this.finishOp(_.assign,2):this.finishOp(_.slash,1)};z.readToken_mult_modulo_exp=function(s){var i=this.input.charCodeAt(this.pos+1),t=1,r=s===42?_.star:_.modulo;return this.options.ecmaVersion>=7&&s===42&&i===42&&(++t,r=_.starstar,i=this.input.charCodeAt(this.pos+2)),i===61?this.finishOp(_.assign,t+1):this.finishOp(r,t)};z.readToken_pipe_amp=function(s){var i=this.input.charCodeAt(this.pos+1);if(i===s){if(this.options.ecmaVersion>=12){var t=this.input.charCodeAt(this.pos+2);if(t===61)return this.finishOp(_.assign,3)}return this.finishOp(s===124?_.logicalOR:_.logicalAND,2)}return i===61?this.finishOp(_.assign,2):this.finishOp(s===124?_.bitwiseOR:_.bitwiseAND,1)};z.readToken_caret=function(){var s=this.input.charCodeAt(this.pos+1);return s===61?this.finishOp(_.assign,2):this.finishOp(_.bitwiseXOR,1)};z.readToken_plus_min=function(s){var i=this.input.charCodeAt(this.pos+1);return i===s?i===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Ye.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(_.incDec,2):i===61?this.finishOp(_.assign,2):this.finishOp(_.plusMin,1)};z.readToken_lt_gt=function(s){var i=this.input.charCodeAt(this.pos+1),t=1;return i===s?(t=s===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+t)===61?this.finishOp(_.assign,t+1):this.finishOp(_.bitShift,t)):i===33&&s===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(i===61&&(t=2),this.finishOp(_.relational,t))};z.readToken_eq_excl=function(s){var i=this.input.charCodeAt(this.pos+1);return i===61?this.finishOp(_.equality,this.input.charCodeAt(this.pos+2)===61?3:2):s===61&&i===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(_.arrow)):this.finishOp(s===61?_.eq:_.prefix,1)};z.readToken_question=function(){var s=this.options.ecmaVersion;if(s>=11){var i=this.input.charCodeAt(this.pos+1);if(i===46){var t=this.input.charCodeAt(this.pos+2);if(t<48||t>57)return this.finishOp(_.questionDot,2)}if(i===63){if(s>=12){var r=this.input.charCodeAt(this.pos+2);if(r===61)return this.finishOp(_.assign,3)}return this.finishOp(_.coalesce,2)}}return this.finishOp(_.question,1)};z.readToken_numberSign=function(){var s=this.options.ecmaVersion,i=35;if(s>=13&&(++this.pos,i=this.fullCharCodeAtPos(),Ds(i,!0)||i===92))return this.finishToken(_.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+ur(i)+"'")};z.getTokenFromCode=function(s){switch(s){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(_.parenL);case 41:return++this.pos,this.finishToken(_.parenR);case 59:return++this.pos,this.finishToken(_.semi);case 44:return++this.pos,this.finishToken(_.comma);case 91:return++this.pos,this.finishToken(_.bracketL);case 93:return++this.pos,this.finishToken(_.bracketR);case 123:return++this.pos,this.finishToken(_.braceL);case 125:return++this.pos,this.finishToken(_.braceR);case 58:return++this.pos,this.finishToken(_.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(_.backQuote);case 48:var i=this.input.charCodeAt(this.pos+1);if(i===120||i===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(i===111||i===79)return this.readRadixNumber(8);if(i===98||i===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(s);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(s);case 124:case 38:return this.readToken_pipe_amp(s);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(s);case 60:case 62:return this.readToken_lt_gt(s);case 61:case 33:return this.readToken_eq_excl(s);case 63:return this.readToken_question();case 126:return this.finishOp(_.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+ur(s)+"'")};z.finishOp=function(s,i){var t=this.input.slice(this.pos,this.pos+i);return this.pos+=i,this.finishToken(s,t)};z.readRegexp=function(){for(var s,i,t=this.pos;;){this.pos>=this.input.length&&this.raise(t,"Unterminated regular expression");var r=this.input.charAt(this.pos);if(Ye.test(r)&&this.raise(t,"Unterminated regular expression"),s)s=!1;else{if(r==="[")i=!0;else if(r==="]"&&i)i=!1;else if(r==="/"&&!i)break;s=r==="\\"}++this.pos}var n=this.input.slice(t,this.pos);++this.pos;var c=this.pos,u=this.readWord1();this.containsEsc&&this.unexpected(c);var m=this.regexpState||(this.regexpState=new Ii(this));m.reset(t,n,u),this.validateRegExpFlags(m),this.validateRegExpPattern(m);var h=null;try{h=new RegExp(n,u)}catch{}return this.finishToken(_.regexp,{pattern:n,flags:u,value:h})};z.readInt=function(s,i,t){for(var r=this.options.ecmaVersion>=12&&i===void 0,n=t&&this.input.charCodeAt(this.pos)===48,c=this.pos,u=0,m=0,h=0,x=i==null?1/0:i;h<x;++h,++this.pos){var b=this.input.charCodeAt(this.pos),g=void 0;if(r&&b===95){n&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),m===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),h===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),m=b;continue}if(b>=97?g=b-97+10:b>=65?g=b-65+10:b>=48&&b<=57?g=b-48:g=1/0,g>=s)break;m=b,u=u*s+g}return r&&m===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===c||i!=null&&this.pos-c!==i?null:u};function VA(s,i){return i?parseInt(s,8):parseFloat(s.replace(/_/g,""))}o(VA,"stringToNumber");function rC(s){return typeof BigInt!="function"?null:BigInt(s.replace(/_/g,""))}o(rC,"stringToBigInt");z.readRadixNumber=function(s){var i=this.pos;this.pos+=2;var t=this.readInt(s);return t==null&&this.raise(this.start+2,"Expected number in radix "+s),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(t=rC(this.input.slice(i,this.pos)),++this.pos):Ds(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_.num,t)};z.readNumber=function(s){var i=this.pos;!s&&this.readInt(10,void 0,!0)===null&&this.raise(i,"Invalid number");var t=this.pos-i>=2&&this.input.charCodeAt(i)===48;t&&this.strict&&this.raise(i,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!t&&!s&&this.options.ecmaVersion>=11&&r===110){var n=rC(this.input.slice(i,this.pos));return++this.pos,Ds(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_.num,n)}t&&/[89]/.test(this.input.slice(i,this.pos))&&(t=!1),r===46&&!t&&(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),(r===69||r===101)&&!t&&(r=this.input.charCodeAt(++this.pos),(r===43||r===45)&&++this.pos,this.readInt(10)===null&&this.raise(i,"Invalid number")),Ds(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var c=VA(this.input.slice(i,this.pos),t);return this.finishToken(_.num,c)};z.readCodePoint=function(){var s=this.input.charCodeAt(this.pos),i;if(s===123){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;i=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,i>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else i=this.readHexChar(4);return i};z.readString=function(s){for(var i="",t=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var r=this.input.charCodeAt(this.pos);if(r===s)break;r===92?(i+=this.input.slice(t,this.pos),i+=this.readEscapedChar(!1),t=this.pos):r===8232||r===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(ll(r)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return i+=this.input.slice(t,this.pos++),this.finishToken(_.string,i)};var oC={};z.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(s){if(s===oC)this.readInvalidTemplateToken();else throw s}this.inTemplateElement=!1};z.invalidStringToken=function(s,i){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw oC;this.raise(s,i)};z.readTmplToken=function(){for(var s="",i=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var t=this.input.charCodeAt(this.pos);if(t===96||t===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===_.template||this.type===_.invalidTemplate)?t===36?(this.pos+=2,this.finishToken(_.dollarBraceL)):(++this.pos,this.finishToken(_.backQuote)):(s+=this.input.slice(i,this.pos),this.finishToken(_.template,s));if(t===92)s+=this.input.slice(i,this.pos),s+=this.readEscapedChar(!0),i=this.pos;else if(ll(t)){switch(s+=this.input.slice(i,this.pos),++this.pos,t){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:s+=`
`;break;default:s+=String.fromCharCode(t);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),i=this.pos}else++this.pos}};z.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(_.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};z.readEscapedChar=function(s){var i=this.input.charCodeAt(++this.pos);switch(++this.pos,i){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ur(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),s){var t=this.pos-1;this.invalidStringToken(t,"Invalid escape sequence in template string")}default:if(i>=48&&i<=55){var r=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(r,8);return n>255&&(r=r.slice(0,-1),n=parseInt(r,8)),this.pos+=r.length-1,i=this.input.charCodeAt(this.pos),(r!=="0"||i===56||i===57)&&(this.strict||s)&&this.invalidStringToken(this.pos-1-r.length,s?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return ll(i)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(i)}};z.readHexChar=function(s){var i=this.pos,t=this.readInt(16,s);return t===null&&this.invalidStringToken(i,"Bad character escape sequence"),t};z.readWord1=function(){this.containsEsc=!1;for(var s="",i=!0,t=this.pos,r=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if(cl(n,r))this.pos+=n<=65535?1:2;else if(n===92){this.containsEsc=!0,s+=this.input.slice(t,this.pos);var c=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var u=this.readCodePoint();(i?Ds:cl)(u,r)||this.invalidStringToken(c,"Invalid Unicode escape"),s+=ur(u),t=this.pos}else break;i=!1}return s+this.input.slice(t,this.pos)};z.readWord=function(){var s=this.readWord1(),i=_.name;return this.keywords.test(s)&&(i=w1[s]),this.finishToken(i,s)};var UA="8.12.1";St.acorn={Parser:St,version:UA,defaultOptions:b1,Position:vh,SourceLocation:VI,getLineInfo:NS,Node:FI,TokenType:Z,tokTypes:_,keywordTypes:w1,TokContext:ei,tokContexts:mt,isIdentifierChar:cl,isIdentifierStart:Ds,Token:C1,isNewLine:ll,lineBreak:Ye,lineBreakG:uA,nonASCIIwhitespace:SS};function nC(s,i){return St.parse(s,i)}o(nC,"parse");var aC={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var FA="Utils",N1,R1=class R1{static load(i){N1=i}static get shim(){if(!N1)throw new Error("Platform is not loaded");return N1}};o(R1,"Platform");var H=R1,M1=class M1 extends Error{constructor(t,r){super(t);e(this,"date");e(this,"version");e(this,"info");r&&(this.info=r),this.date=new Date,this.version=Wt.version}};o(M1,"InnertubeError");var w=M1,D1=class D1 extends w{};o(D1,"ParsingError");var Ee=D1,B1=class B1 extends w{};o(B1,"MissingParamError");var jI=B1,L1=class L1 extends w{};o(L1,"OAuth2Error");var A1=L1,O1=class O1 extends Error{};o(O1,"PlayerError");var ki=O1,Y1=class Y1 extends Error{};o(Y1,"SessionError");var ml=Y1,V1=class V1 extends Error{};o(V1,"ChannelError");var oh=V1;function Lh(s,i){return Reflect.ownKeys(s).some(r=>{let n=i[r]instanceof l;return!n&&typeof i[r]=="object"?JSON.stringify(s[r])===JSON.stringify(i[r]):s[r]===(n?i[r].toString():i[r])})}o(Lh,"deepCompare");function se(s,i,t){let r=new RegExp(`${P1(i)}(.*?)${P1(t)}`,"s"),n=s.match(r);return n?n[1]:void 0}o(se,"getStringBetweenStrings");function P1(s){return s.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}o(P1,"escapeStringRegexp");function Ch(s){let i=aC[s],t=Math.floor(Math.random()*i.length);return i[t]}o(Ch,"getRandomUserAgent");async function WA(s){let i="https://www.youtube.com",t=Math.floor(new Date().getTime()/1e3),r=[t,s,i].join(" "),n=await H.shim.sha1Hash(r);return["SAPISIDHASH",[t,n].join("_")].join(" ")}o(WA,"generateSidAuth");function fr(s){let i=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let r=0;r<s;r++)i.push(t.charAt(Math.floor(Math.random()*t.length)));return i.join("")}o(fr,"generateRandomString");function Nt(s){let i=s.split(":").map(t=>parseInt(t.replace(/\D/g,"")));switch(i.length){case 1:return i[0];case 2:return i[0]*60+i[1];case 3:return i[0]*3600+i[1]*60+i[2];default:throw new Error("Invalid time string")}}o(Nt,"timeToSeconds");function t1(...s){let i=new xr;for(let t of s)if(t)for(let r of t){let n=i.get(r[0]);if(n){i.set(r[0],[...n,...r[1]]);continue}i.set(...r)}return i}o(t1,"concatMemos");function fl(s){for(let[i,t]of Object.entries(s))if(!t)throw new jI(`${i} is missing`)}o(fl,"throwIfMissing");function jA(s,...i){for(let t of i)if(!Reflect.has(s,t)||s[t]===void 0)return!1;return!0}o(jA,"hasKeys");async function*sk(s){let i=s.getReader();try{for(;;){let{done:t,value:r}=await i.read();if(t)return;yield r}}finally{i.releaseLock()}}o(sk,"streamToIterable");var HA=o((s,i)=>{let t=typeof s=="string"?new URL(s):s instanceof URL?s:new URL(s.url),r=i!=null&&i.headers?new Headers(i.headers):s instanceof Request?s.headers:new Headers,n=[...r],c=i!=null&&i.body?typeof i.body=="string"?r.get("content-type")==="application/json"?JSON.stringify(JSON.parse(i.body),null,2):i.body:"    <binary>":"    (none)",u=n.length>0?`${n.map(([m,h])=>`    ${m}: ${h}`).join(`
`)}`:"    (none)";return Ci(FA,`Fetch:
  url: ${t.toString()}
  method: ${(i==null?void 0:i.method)||"GET"}
  headers:
${u}
' + 
    '  body:
${c}`),H.shim.fetch(s,i)},"debugFetch");function Mi(s){return btoa(String.fromCharCode.apply(null,Array.from(s)))}o(Mi,"u8ToBase64");function kl(s){let i=s.replace(/-/g,"+").replace(/_/g,"/"),t=i.padEnd(i.length+(4-i.length%4)%4,"=");return new Uint8Array(atob(t).split("").map(r=>r.charCodeAt(0)))}o(kl,"base64ToU8");function Xt(s){return!("emoji"in s)}o(Xt,"isTextRun");function $A(s,i,t=!1){let r=t?`(^|\\s?)\\b${i}\\b=([^;]+)`:`(^|s?)${i}=([^;]+)`,n=s.match(new RegExp(r));return n?n[2]:void 0}o($A,"getCookie");function Nh(s,i){return nC(s,{ecmaVersion:2020,...i})}o(Nh,"parseScript");function hr(s,i){let{name:t,includes:r,regexp:n,ast:c}=i,m=[c||Nh(s,{ecmaVersion:2020})];for(let h=0;h<m.length;h++){let x=m[h];if(x.type==="ExpressionStatement"&&x.expression.type==="AssignmentExpression"&&x.expression.left.type==="Identifier"&&x.expression.right.type==="FunctionExpression"){let b=s.substring(x.start,x.end);if(t&&x.expression.left.name===t||r&&b.includes(r)||n&&n.test(b))return{start:x.start,end:x.end,name:x.expression.left.name,node:x,result:b}}for(let b in x){let g=x[b];Array.isArray(g)?m.push(...g):typeof g=="object"&&g!==null&&m.push(g)}}}o(hr,"findFunction");function Vc(s,i){let t=i.ast?i.ast:Nh(s,{ecmaVersion:"latest",ranges:!0}),r;function n(c){var u;if(!r){if(c.type==="VariableDeclarator"){let[m,h]=c.range,x=s.slice(m,h);if(c.id.type==="Identifier"){let b=c.id.name;if(i.name&&b===i.name){r={start:m,end:h,name:b,node:c,result:x};return}}if(i.includes&&x.includes(i.includes)||i.regexp&&i.regexp.test(x)){r={start:m,end:h,name:(u=c==null?void 0:c.id)==null?void 0:u.name,node:c,result:x};return}}for(let m in c)if(Object.prototype.hasOwnProperty.call(c,m)){let h=c[m];if(Array.isArray(h)){for(let x of h)if(x&&typeof x.type=="string"&&(n(x),r))return}else if(h&&typeof h.type=="string"&&(n(h),r))return}}}return o(n,"walk"),n(t),r}o(Vc,"findVariable");async function U1(s){let i=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function t(r){let n=new Uint8Array(r),c=[];for(let u=0;u<n.length;++u)c.push(i[n[u]]);return c.join("")}return o(t,"hex"),t(await crypto.subtle.digest("SHA-1",new TextEncoder().encode(s)))}o(U1,"sha1Hash");var dl,cC,lC,F1=class F1{constructor(i){E(this,dl);e(this,"session");this.session=i}async stats(i,t,r){let n=new URL(i);n.searchParams.set("ver","2"),n.searchParams.set("c",t.client_name.toLowerCase()),n.searchParams.set("cbrver",t.client_version),n.searchParams.set("cver",t.client_version);for(let c of Object.keys(r))n.searchParams.set(c,r[c]);return await this.session.http.fetch(n)}async execute(i,t){var u,m;let r;if(t&&!t.protobuf){if(r={...t},Reflect.has(r,"browseId")&&!t.skip_auth_check&&P(this,dl,lC).call(this,r.browseId)&&!this.session.logged_in)throw new w("You must be signed in to perform this operation.");Reflect.has(r,"skip_auth_check")&&delete r.skip_auth_check,Reflect.has(r,"override_endpoint")&&delete r.override_endpoint,Reflect.has(r,"parse")&&delete r.parse,Reflect.has(r,"request")&&delete r.request,Reflect.has(r,"clientActions")&&delete r.clientActions,Reflect.has(r,"settingItemIdForClient")&&delete r.settingItemIdForClient,Reflect.has(r,"action")&&(r.actions=[r.action],delete r.action),Reflect.has(r,"boolValue")&&(r.newValue={boolValue:r.boolValue},delete r.boolValue),Reflect.has(r,"token")&&(r.continuation=r.token,delete r.token),(r==null?void 0:r.client)==="YTMUSIC"&&(r.isAudioOnly=!0)}else t&&(r=t.serialized_data);let n=Reflect.has(t||{},"override_endpoint")?t==null?void 0:t.override_endpoint:i,c=await this.session.http.fetch(n,{method:"POST",body:t!=null&&t.protobuf?r:JSON.stringify(r||{}),headers:{"Content-Type":t!=null&&t.protobuf?"application/x-protobuf":"application/json"}});if(t!=null&&t.parse){let h=p.parseResponse(await c.json());if(P(this,dl,cC).call(this,h)&&((m=(u=h.on_response_received_actions)==null?void 0:u[0])==null?void 0:m.type)==="navigateAction"){let x=h.on_response_received_actions.firstOfType(Qc);x&&(h=await x.endpoint.call(this,{parse:!0}))}return h}return{success:c.ok,status_code:c.status,data:await c.json()}}};dl=new WeakSet,cC=o(function(i){return"on_response_received_actions"in i},"#isBrowse"),lC=o(function(i){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(i)},"#needsLogin"),o(F1,"Actions");var hl=F1;var Ft="Player",Uc=class Uc{constructor(i,t,r,n,c){e(this,"player_id");e(this,"sts");e(this,"nsig_sc");e(this,"sig_sc");e(this,"po_token");e(this,"evaluator");this.player_id=i,this.sts=t,this.nsig_sc=c,this.sig_sc=n,this.evaluator=r}static async create(i,t,r=H.shim.fetch,n,c){if(!c){let k=new URL("/iframe_api",et.URLS.YT_BASE),A=await r(k);if(!A.ok)throw new ki(`Failed to get player id: ${A.status} (${A.statusText})`);let N=await A.text();c=se(N,"player\\/","\\/")}if(Y.info(Ft,`Using player id (${c}). Checking for cached players..`),!c)throw new ki("Failed to get player id");if(i){let k=await Uc.fromCache(i,c,t);if(k)return Y.info(Ft,"Found up-to-date player data in cache."),k.po_token=n,k}let u=new URL(`/s/player/${c}/player_ias.vflset/en_US/base.js`,et.URLS.YT_BASE);Y.info(Ft,`Could not find any cached player. Will download a new player from ${u}.`);let m=await r(u,{headers:{"user-agent":Ch("desktop")}});if(!m.ok)throw new ki(`Failed to get player data: ${m.status}`);let h=await m.text(),x=Nh(h,{ecmaVersion:"latest",ranges:!0}),b=this.extractSigTimestamp(h),g=this.extractGlobalVariable(h,x),T=this.extractSigSourceCode(h,g),I=this.extractNSigSourceCode(h,x,g);Y.info(Ft,`Got signature timestamp (${b}) and algorithms needed to decipher signatures.`),Y.info(Ft,T),Y.info(Ft,I);let C=await Uc.fromSource(c,b,t,i,T,I);return C.po_token=n,Y.info(Ft,`Got ptoken (${n})`),C}async decipher(i,t,r,n){if(i=i||t||r,!i)throw new ki("No valid URL to decipher");let c=new URLSearchParams(i),u=new URL(c.get("url")||i);if(this.sig_sc&&(t||r)){let b=await this.evaluator(this.sig_sc,{sig:c.get("s")});if(Y.info(Ft,`Transformed signature from ${c.get("s")} to ${b}.`),typeof b!="string")throw new ki("Failed to decipher signature");let g=c.get("sp");g?u.searchParams.set(g,b):u.searchParams.set("signature",b)}let m=u.searchParams.get("n");if(this.nsig_sc&&m){let b;if(n&&n.has(m))b=n.get(m);else{if(b=await this.evaluator(this.nsig_sc,{nsig:m}),Y.info(Ft,`Transformed n signature from ${m} to ${b}.`),m===b&&(Y.info(Ft,this.nsig_sc),Y.warn(Ft,"Nsig was not transformed. This is likely a sign that the player has been updated.")),typeof b!="string")throw new ki("Failed to decipher nsig");b.startsWith("enhanced_except_")?Y.warn(Ft,"Something went wrong while deciphering nsig."):n&&n.set(m,b)}u.searchParams.set("n",b)}switch(u.searchParams.get("sabr")!=="1"&&this.po_token&&u.searchParams.set("pot",this.po_token),u.searchParams.get("c")){case"WEB":u.searchParams.set("cver",et.CLIENTS.WEB.VERSION);break;case"MWEB":u.searchParams.set("cver",et.CLIENTS.MWEB.VERSION);break;case"WEB_REMIX":u.searchParams.set("cver",et.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":u.searchParams.set("cver",et.CLIENTS.WEB_KIDS.VERSION);break;case"TVHTML5":u.searchParams.set("cver",et.CLIENTS.TV.VERSION);break;case"TVHTML5_SIMPLY":u.searchParams.set("cver",et.CLIENTS.TV_SIMPLY.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":u.searchParams.set("cver",et.CLIENTS.TV_EMBEDDED.VERSION);break;case"WEB_EMBEDDED_PLAYER":u.searchParams.set("cver",et.CLIENTS.WEB_EMBEDDED.VERSION);break}let x=u.toString();return Y.info(Ft,`Deciphered URL: ${x}`),u.toString()}static async fromCache(i,t,r){let n=await i.get(t);if(!n)return null;try{let c=Ri.deserialize(new Uint8Array(n));return c.library_version!==Wt.version?(Y.warn(Ft,`Cached player data is from a different library version (${c.library_version}). Ignoring it.`),null):new Uc(c.player_id,c.sts,r,c.sig_sc,c.nsig_sc)}catch(c){return Y.error(Ft,"Failed to deserialize player data from cache:",c),null}}static async fromSource(i,t,r,n,c,u){let m=new Uc(i,t,r,c,u);return await m.cache(n),m}async cache(i){if(!i||!this.sig_sc||!this.nsig_sc)return;let t=Ri.serialize({player_id:this.player_id,sts:this.sts,sig_sc:this.sig_sc,nsig_sc:this.nsig_sc,library_version:Wt.version});await i.set(this.player_id,t)}static extractSigTimestamp(i){return parseInt(se(i,"signatureTimestamp:",",")||"0")}static extractGlobalVariable(i,t){let r=Vc(i,{includes:"-_w8_",ast:t});return r||(r=Vc(i,{includes:"Untrusted URL{",ast:t})),r||(r=Vc(i,{includes:"1969",ast:t})),r||(r=Vc(i,{includes:"1970",ast:t})),r||(r=Vc(i,{includes:"playerfallback",ast:t})),r}static fixSource(i){return i=i.replace(/if\(typeof [a-zA-Z0-9_$]*===.*?\)return [a-zA-Z0-9_$]*;/g,""),i}static extractSigSourceCode(i,t){var b,g;let r=/function\(([A-Za-z_0-9]+)\)\{([A-Za-z_0-9]+=[A-Za-z_0-9]+\.split\((?:[^)]+)\)(.+?)\.join\((?:[^)]+)\))\}/,n=(b=t==null?void 0:t.name)==null?void 0:b.replace(/[$^\\.*+?()[\]{}|]/g,"\\$&"),c=n?new RegExp(`function\\(([A-Za-z_0-9]+)\\)\\{([A-Za-z_0-9]+=[A-Za-z_0-9]+\\[${n}\\[\\d+\\]\\]\\([^)]*\\)([\\s\\S]+?)\\[${n}\\[\\d+\\]\\]\\([^)]*\\))\\}`):null,u=i.match(r)||(c?i.match(c):null);if(!u){Y.warn(Ft,"Failed to extract signature decipher algorithm.");return}let m=u[1],h=(g=u[3].split(/\.|\[/)[0])==null?void 0:g.replace(";","").trim(),x=se(i,`var ${h}={`,"};");return(!x||!m)&&Y.warn(Ft,"Failed to extract signature decipher algorithm."),`function sig_fn(sig) {${t!=null&&t.result?`var ${t.result};`:""} function descramble_sig(${m}) { let ${h}={${x}}; ${u[2]} } return descramble_sig(sig);}`}static extractNSigSourceCode(i,t,r){let n;if(r&&(n=hr(i,{includes:`new Date(${r.name}`,ast:t}),n||(n=hr(i,{includes:".push(String.fromCharCode(",ast:t})),n||(n=hr(i,{includes:".reverse().forEach(function",ast:t})),n))return`function nsig_fn(nsig) { var ${r.result}; var ${this.fixSource(n.result)} return ${n.name}(nsig); }`;if(n=hr(i,{includes:"-_w8_",ast:t}),n||(n=hr(i,{includes:"1969",ast:t})),n||(n=hr(i,{includes:"enhanced_except",ast:t})),n)return`function nsig_fn(nsig) {let ${this.fixSource(n.result)} return ${n.name}(nsig);}`}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,et.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 14}};o(Uc,"Player");var _l=Uc;var HI=class HI{constructor(i){e(this,"listeners");e(this,"runnerFrame");e(this,"readyPromise");e(this,"timeout");e(this,"listenerBind",this.listener.bind(this));this.listeners=new Map;let t=window.location.origin,r=new URL(i).origin;if(t===r)throw new Error("Current frame must not share same origin as the runner frame");this.runnerFrame=document.createElement("iframe"),this.runnerFrame.credentialless=!0,this.runnerFrame.src=i,this.runnerFrame.style.display="none",document.body.appendChild(this.runnerFrame),window.addEventListener("message",this.listenerBind),this.readyPromise=new Promise(n=>{this.runnerFrame.addEventListener("load",()=>{n(),this.emit("ready")})}),this.timeout=null}async load(){return this.readyPromise}on(i,t){var r;this.listeners.has(i)||this.listeners.set(i,[]),(r=this.listeners.get(i))==null||r.push(t)}off(i,t){var c;if(!this.listeners.has(i))return;let r=this.listeners.get(i),n=(c=r==null?void 0:r.indexOf(t))!=null?c:-1;n!==-1&&(r==null||r.splice(n,1))}emit(i,...t){var n;if(!this.listeners.has(i))return;let r=(n=this.listeners.get(i))!=null?n:[];for(let c of r)c(...t)}setTimeout(i){this.timeout&&clearTimeout(this.timeout),i&&(this.timeout=window.setTimeout(()=>{this.close()},i))}listener(i){var t;i.source===((t=this.runnerFrame)==null?void 0:t.contentWindow)&&(i.data.type==="sandboxResult"?this.emit("result",i.data.result):i.data.type==="sandboxError"&&this.emit("error",i.data.error))}close(){this.runnerFrame&&(this.runnerFrame.remove(),window.removeEventListener("message",this.listenerBind),this.timeout&&clearTimeout(this.timeout),this.emit("close"))}async evaluate(i,t=[],r=[]){var n;return await this.readyPromise,(n=this.runnerFrame.contentWindow)==null||n.postMessage({type:"sandboxEvaluate",body:i,argNames:t,argValues:r},"*"),new Promise((c,u)=>{let m=null,h=null,x=null,b=o(()=>{m&&this.off("result",m),h&&this.off("error",h),x&&this.off("close",x)},"cleanup");m=o(g=>{b(),c(g)},"resultHandler"),h=o(g=>{b(),u(g)},"errorHandler"),x=o(()=>{b(),u(new Error("SandboxedEvaluator closed"))},"closeHandler"),this.on("result",m),this.on("error",h),this.on("close",x)})}static async evaluateOnce(i,t,r,n,c=5e3){let u=new HI(i);c&&u.setTimeout(c);try{let m=await u.evaluate(t,r,n);return u.close(),m}catch(m){throw u.close(),m}}static extractFnBodyAndArgs(i){let t=i.substring(i.indexOf("{")+1,i.lastIndexOf("}")),r=i.substring(i.indexOf("(")+1,i.indexOf(")")).split(",").map(n=>n.trim());return{body:t,argNames:r}}static matchArgValues(i,t){return i.map(r=>{if(Object.hasOwn(t,r))return t[r]})}};o(HI,"SandboxedEvaluator");var Os=HI;var pC="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36(KHTML, like Gecko)",dr=class dr{static base64ToU8(i){let t={"-":"+",_:"/",".":"="},r;return/[-_.]/g.test(i)?r=i.replace(/[-_.]/g,c=>t[c]):r=i,r=atob(r),new Uint8Array([...r].map(c=>c.charCodeAt(0)))}static u8ToBase64(i,t=!1){let r=btoa(String.fromCharCode(...i));return t?r.replace(/\+/g,"-").replace(/\//g,"_"):r}static async createChallenge(i,t,r,n){let c=[t];r&&c.push(r);let u=await i(et.URLS.YT_IT_BASE+et.URLS.YT_IT_CREATE,{method:"POST",headers:{"Content-Type":"application/json+protobuf","User-Agent":pC,"x-goog-api-key":n,"x-user-agent":"grpc-web-javascript/0.1"},body:JSON.stringify(c)});if(!u.ok)throw new Error(`Failed to fetch: ${u.status}`);let m=await u.json();if(m.length>1&&m[1]){let h=dr.parseChallenge(m[1]);if(h)return h}}static b64ToBuf(i){let t=dr.base64ToU8(i);return t.length?new TextDecoder().decode(t.map(r=>r+97)):""}static stringToB64(i){let t=new TextEncoder().encode(i);return t=t.map(r=>r-97),dr.u8ToBase64(t)}static parseChallenge(i){let t=dr.b64ToBuf(i);if(t.length){let[r,n,,c,u,m]=JSON.parse(t);return{script:n,interpreterHash:c,globalName:m,challenge:u,messageId:r}}}static generateColdStartToken(i,t){let r=new TextEncoder().encode(i);if(r.length>118)throw new Error("Content binding is too long.");let n=Math.floor(Date.now()/1e3),c=[Math.floor(Math.random()*256),Math.floor(Math.random()*256)],u=c.concat([0,t!=null?t:1],[n>>24&255,n>>16&255,n>>8&255,n&255]),m=new Uint8Array(2+u.length+r.length);m[0]=34,m[1]=u.length+r.length,m.set(u,2),m.set(r,2+u.length);let h=m.subarray(2),x=c.length;for(let b=x;b<h.length;b++)h[b]^=h[b%x];return this.u8ToBase64(m,!0)}static getFn1(){return Os.extractFnBodyAndArgs('(n){return(async()=>{const r=window[n.globalName];if(!r)throw new Error("V not found");const o={fn1:null,fn2:null,fn3:null,fn4:null};if(!r.a)throw new Error("Init failed");try{await r.a(n.challenge,(function(n,r,t,f){o.fn1=n,o.fn2=r,o.fn3=t,o.fn4=f}),!0,void 0,((...n)=>{}))}catch(n){throw new Error("Failed to load")}if(!o.fn1)throw new Error("fn1 unavailable.");let t=null;const f=[];if(await o.fn1((n=>{t=n}),[,,f]),!t)throw new Error("[BG]: No response");if(!f.length)throw new Error("No ppf");return window.ppf=f,t})()}')}static getFn2(){return Os.extractFnBodyAndArgs('a(n,r){const t=window.ppf[0];if(!t)throw new Error("PP:Undefined");return(async()=>{function e(n,r=!1){const t=btoa(String.fromCharCode(...n));return r?t.replace(/\\+/g,"-").replace(/\\//g,"_"):t}const o=await t(function(n){const r=/[-_.]/g,t={"-":"+",_:"/",".":"="};let e;return e=r.test(n)?n.replace(r,(function(n){return t[n]})):n,e=atob(e),new Uint8Array([...e].map((n=>n.charCodeAt(0))))}(n));if("function"!=typeof o)throw new Error("PP:failed");const c=[];for(const n of r){const r=await o((new TextEncoder).encode(n));if(!r)throw new Error("YNJ:Undefined");if(!(r instanceof Uint8Array))throw new Error("ODM:Invalid");c.push(e(r,!0))}return c})()}'.toString())}static async getPot(i=H.shim.fetch,t,r,n,c,u=!1){n||(n=et.URLS.API.KEY2),c||(c=et.URLS.API.KEY),r=Array.isArray(r)?r:[r];let m=new Os(t),h=null,x=null,b=null,g=[];try{u||m.setTimeout(5e3),await m.load(),u||m.setTimeout(null);let T=await dr.createChallenge(i,n,null,c);if(!T)throw new Error("C is incorrect");if(!T.script)throw new Error("CS is bad");let I=T.script.find(O=>O!==null);if(!I)throw new Error("CS is null");u||m.setTimeout(5e3),await m.evaluate(I,[],[]),u||m.setTimeout(5e3);let C=this.getFn1(),k=await m.evaluate(C.body,C.argNames,[T]);u||m.setTimeout(null);let A=[n,k],N=await i(et.URLS.YT_IT_BASE+et.URLS.YT_IT_GEN,{method:"POST",headers:{"Content-Type":"application/json+protobuf","x-goog-api-key":c,"x-user-agent":"grpc-web-javascript/0.1","User-Agent":pC,Accept:"*/*"},body:JSON.stringify(A)});if(!N.ok)throw new Error("It failed");let L=await N.json();if(!L.length||!L[0])throw new Error("It none");let G=L[0];x=L[1],b=L[2],u||m.setTimeout(5e3);let ot=this.getFn2();h=await m.evaluate(ot.body,ot.argNames,[G,r]);for(let O=0;O<h.length;O++)g.push({id:r[O],pot:h[O]});u||m.close()}catch(T){throw u||m.close(),T}return{result:g,requestToken:n,ttl:x,refresh:b}}};o(dr,"BGUtils");var $I=dr;var GA={WEB:"WEB",MWEB:"MWEB",KIDS:"WEB_KIDS",MUSIC:"WEB_REMIX",IOS:"iOS",ANDROID:"ANDROID",ANDROID_MUSIC:"ANDROID_MUSIC",ANDROID_CREATOR:"ANDROID_CREATOR",TV:"TVHTML5",TV_SIMPLY:"TVHTML5_SIMPLY",TV_EMBEDDED:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",WEB_EMBEDDED:"WEB_EMBEDDED_PLAYER",WEB_CREATOR:"WEB_CREATOR"},Ei="Session",Si,uC,mC,fC,hC,xl=class xl extends Us{constructor(t,r,n,c,u,m,h,x,b,g,T){super();e(this,"context");e(this,"api_key");e(this,"api_version");e(this,"account_index");e(this,"config_data");e(this,"player");e(this,"cookie");e(this,"cache");e(this,"po_token");e(this,"runner_location");e(this,"http");e(this,"logged_in");e(this,"actions");e(this,"user_agent");this.context=t,this.api_key=r,this.api_version=n,this.account_index=c,this.config_data=u,this.player=m,this.cookie=h,this.cache=b,this.po_token=g,this.runner_location=T,this.http=new jc(this,h,x),this.actions=new hl(this),this.logged_in=!!h,this.user_agent=t.client.userAgent}on(t,r){super.on(t,r)}once(t,r){super.once(t,r)}async getPot(t){return await $I.getPot(fetch,this.runner_location||"",t)}static async create(t){let{context:r,api_key:n,api_version:c,account_index:u,config_data:m}=await xl.getSessionData(t.lang,t.location,t.account_index,t.visitor_data,t.user_agent,t.enable_safety_mode,t.generate_session_locally,t.device_category,t.client_type,t.timezone,t.fetch,t.on_behalf_of_user,t.cache,t.enable_session_cache,t.po_token,t.retrieve_innertube_config),h=t.runner_location,x=new Map;return t.evaluator=async(b,g)=>{let T=`${b}|${JSON.stringify(g)}`,I=x.get(T);if(I)return await I;let C=Os.extractFnBodyAndArgs(b),k=Os.evaluateOnce(h,C.body,C.argNames,Object.values(g));x.set(T,k);try{return await k}catch(A){console.error("Failed to fetch params"),console.error(A)}},new xl(r,n,c,u,m,t.retrieve_player===!1?void 0:await _l.create(t.cache,t.evaluator,t.fetch,t.po_token,t.player_id),t.cookie,t.fetch,t.cache,t.po_token,h)}static async fromCache(t,r){let n=await t.get("innertube_session_data");if(!n)return null;try{let c=Ri.deserialize(new Uint8Array(n));if(c.library_version!==parseInt(Wt.version.split(".",1)[0]))return Y.warn(Ei,`Cached session data is from a different library version (${c.library_version}). Regenerating session data.`),null;if(r.visitor_data&&(c.context.client.visitorData=r.visitor_data),r.lang&&(c.context.client.hl=r.lang),r.location&&(c.context.client.gl=r.location),r.on_behalf_of_user&&(c.context.user.onBehalfOfUser=r.on_behalf_of_user),r.user_agent&&(c.context.client.userAgent=r.user_agent),r.client_name){let u=Object.values(V).find(m=>m.NAME===r.client_name);u?(c.context.client.clientName=u.NAME,c.context.client.clientVersion=u.VERSION):Y.warn(Ei,`Unknown client name: ${r.client_name}.`)}return c.context.client.timeZone=r.time_zone,c.context.client.platform=r.device_category.toUpperCase(),c.context.user.enableSafetyMode=r.enable_safety_mode,c}catch(c){return Y.error(Ei,"Failed to deserialize session data from cache.",c),null}}static async getSessionData(t="",r="",n=0,c="",u=Ch("desktop"),m=!1,h=!1,x="desktop",b=GA.WEB,g=Intl.DateTimeFormat().resolvedOptions().timeZone,T=H.shim.fetch,I,C,k=!0,A,N=!0){var ot,O,pt,F,at,It,j,W,nt;let L={lang:t,location:r,time_zone:g,user_agent:u,device_category:x,client_name:b,enable_safety_mode:m,visitor_data:c,on_behalf_of_user:I,po_token:A},G;if(C&&k){let tt=await this.fromCache(C,L);tt&&(Y.info(Ei,"Found session data in cache."),G=tt)}if(!G){Y.info(Ei,"Generating session data.");let tt=V.WEB.API_KEY,Rt=V.WEB.API_VERSION,Mt={hl:t||"en",gl:r||"US",remote_host:"",user_agent:u,visitor_data:c||wr.encodeVisitorData(fr(11),Math.floor(Date.now()/1e3)),client_name:b,client_version:(O=(ot=Object.values(V).find(ct=>ct.NAME===b))==null?void 0:ot.VERSION)!=null?O:V.WEB.VERSION,device_category:x.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:g,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:m};if(!h)try{let ct=await P(this,Si,mC).call(this,L,T);tt=ct.api_key,Rt=ct.api_version,Mt=ct.context_data}catch(ct){Y.error(Ei,"Failed to retrieve session data from server. Session data generated locally will be used instead.",ct)}if(I&&(Mt.on_behalf_of_user=I),G={api_key:tt,api_version:Rt,context:P(this,Si,fC).call(this,Mt)},N)try{Y.info(Ei,"Retrieving InnerTube config data.");let ct={"Accept-Language":t,Accept:"*/*",Referer:Ct.YT_BASE,"X-Goog-Visitor-Id":Mt.visitor_data,"X-Origin":Ct.YT_BASE,"X-Youtube-Client-Version":Mt.client_version};H.shim.server&&(ct["User-Agent"]=u,ct.Origin=Ct.YT_BASE);let le=await(await T(`${Ct.API.PRODUCTION_1}v1/config?prettyPrint=false`,{headers:ct,method:"POST",body:JSON.stringify({context:G.context})})).json(),si=(at=(F=(pt=le.responseContext)==null?void 0:pt.globalConfigGroup)==null?void 0:F.rawColdConfigGroup)==null?void 0:at.configData,ri=(j=(It=le.responseContext)==null?void 0:It.globalConfigGroup)==null?void 0:j.coldHashData,Ue=(nt=(W=le.responseContext)==null?void 0:W.globalConfigGroup)==null?void 0:nt.hotHashData;G.config_data=le.configData,G.context.client.configInfo={...G.context.client.configInfo,coldConfigData:si,coldHashData:ri,hotHashData:Ue}}catch(ct){Y.error(Ei,"Failed to retrieve config data.",ct)}k&&await P(this,Si,uC).call(this,G,C)}return Y.debug(Ei,"Session data:",G),{...G,account_index:n}}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};Si=new WeakSet,uC=o(async function(t,r){if(!r)return;Y.info(Ei,"Compressing and caching session data.");let n=Ri.serialize({...t,library_version:parseInt(Wt.version)});await r.set("innertube_session_data",n)},"#storeSession"),mC=o(async function(t,r=H.shim.fetch){var A;let n=fr(11);t.visitor_data&&(n=P(this,Si,hC).call(this,t.visitor_data));let c=new URL("/sw.js_data",Ct.YT_BASE),u=await r(c,{headers:{"Accept-Language":t.lang||"en-US","User-Agent":t.user_agent,Accept:"*/*",Referer:`${Ct.YT_BASE}/sw.js`,Cookie:`PREF=tz=${t.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${n};`}});if(!u.ok)throw new ml(`Failed to retrieve session data: ${u.status}`);let m=await u.text();if(!m.startsWith(")]}'"))throw new ml("Invalid JSPB response");let x=JSON.parse(m.replace(/^\)\]\}'/,""))[0][2],b=V.WEB.API_VERSION,[[g],T]=x,I=g[61],C=I[I.length-1];return{context_data:{hl:t.lang||g[0],gl:t.location||g[1],remote_host:g[3],visitor_data:t.visitor_data||g[13],user_agent:t.user_agent,client_name:t.client_name,client_version:t.client_name==="WEB"?g[16]:((A=Object.values(V).find(N=>N.NAME===t.client_name))==null?void 0:A.VERSION)||g[16],os_name:g[17],os_version:g[18],time_zone:g[79]||t.time_zone,device_category:t.device_category,browser_name:g[86],browser_version:g[87],device_make:g[11],device_model:g[12],app_install_data:C,device_experiment_id:g[103],rollout_token:g[107],enable_safety_mode:t.enable_safety_mode},api_key:T,api_version:b}},"#getSessionData"),fC=o(function(t){let r={client:{hl:t.hl||"en",gl:t.gl||"US",remoteHost:t.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:t.visitor_data,clientName:t.client_name,clientVersion:t.client_version,osName:t.os_name,osVersion:t.os_version,userAgent:t.user_agent,platform:t.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:t.time_zone,originalUrl:Ct.YT_BASE,deviceMake:t.device_make,deviceModel:t.device_model,browserName:t.browser_name,browserVersion:t.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",rolloutToken:t.rollout_token,deviceExperimentId:t.device_experiment_id,mainAppWebInfo:{graftUrl:Ct.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:t.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return t.app_install_data&&(r.client.configInfo={appInstallData:t.app_install_data}),t.on_behalf_of_user&&(r.user.onBehalfOfUser=t.on_behalf_of_user),r},"#buildContext"),hC=o(function(t){return wr.decodeVisitorData(t).id},"#getVisitorID"),E(xl,Si),o(xl,"Session");var bl=xl;var _r,W1=class W1 extends Ns{constructor(t,r,n,c){var u;super(t,r,n);E(this,_r);e(this,"watch_next_feed");e(this,"current_video_endpoint");e(this,"player_overlays");if(c){let m=p.parseResponse(c.data);m.entries&&(this.watch_next_feed=m.entries),m.continuation_endpoint&&S(this,_r,(u=m.continuation_endpoint)==null?void 0:u.as(wc))}}async getWatchNextContinuation(){var r;if(!f(this,_r))throw new w("Continuation not found");let t=await this.actions.execute("/reel/reel_watch_sequence",{sequenceParams:f(this,_r).token,parse:!0});return t.entries&&(this.watch_next_feed=t.entries),S(this,_r,(r=t.continuation_endpoint)==null?void 0:r.as(wc)),this}get wn_has_continuation(){return!!f(this,_r)}};_r=new WeakMap,o(W1,"ShortFormVideoInfo");var yl=W1;var ii,GI=class GI{constructor(i){E(this,ii);S(this,ii,i)}static async create(i){return new GI(await bl.create(i))}async getInfo(i,t,r){var I,C,k,A,N;fl({target:i});let n={videoId:i instanceof d?(I=i.payload)==null?void 0:I.videoId:i,playlistId:i instanceof d?(C=i.payload)==null?void 0:C.playlistId:void 0,playlistIndex:i instanceof d?(k=i.payload)==null?void 0:k.playlistIndex:void 0,params:i instanceof d?(A=i.payload)==null?void 0:A.params:void 0,racyCheckOk:!0,contentCheckOk:!0},c=new d({watchEndpoint:n}),u=new d({watchNextEndpoint:n}),m=f(this,ii),h={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(N=m.player)==null?void 0:N.sts},adPlaybackContext:{pyv:!0}},client:t==null?void 0:t.client};r&&(h.playbackContext.reloadPlaybackContext=r),t!=null&&t.po_token?h.serviceIntegrityDimensions={poToken:t.po_token}:m.po_token&&(h.serviceIntegrityDimensions={poToken:m.po_token});let x=c.call(m.actions,h),b=u.call(m.actions),g=await Promise.all([x,b]),T=fr(16);return new lr(g,m.actions,T)}async getBasicInfo(i,t){var h;fl({video_id:i});let r=new d({watchEndpoint:{videoId:i,racyCheckOk:!0,contentCheckOk:!0}}),n=f(this,ii),c={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(h=n.player)==null?void 0:h.sts}},client:t==null?void 0:t.client};t!=null&&t.po_token?c.serviceIntegrityDimensions={poToken:t.po_token}:n.po_token&&(c.serviceIntegrityDimensions={poToken:n.po_token});let u=await r.call(n.actions,c),m=fr(16);return new lr([u],n.actions,m)}async getShortsVideoInfo(i,t){fl({video_id:i});let r=new d({reelWatchEndpoint:{disablePlayerResponse:!1,params:"CAUwAg%3D%3D",videoId:i}}),n=f(this,ii).actions,c=r.call(n,{client:t}),u=UE.encode({shortId:i,params:{number:5},feature2:25,feature3:0}),m=encodeURIComponent(Mi(u.finish())),h=n.execute("/reel/reel_watch_sequence",{sequenceParams:m}),x=await Promise.all([c,h]),b=fr(16);return new yl([x[0]],n,b,x[1])}async getPlaylist(i){fl({id:i}),i.startsWith("VL")||(i=`VL${i}`);let r=await new d({browseEndpoint:{browseId:i}}).call(f(this,ii).actions);return new As(this.actions,r)}async getStreamingData(i,t={}){let n=(await this.getBasicInfo(i,t)).chooseFormat(t);return n.url=await n.decipher(f(this,ii).player),n}async download(i,t){return(await this.getBasicInfo(i,t)).download(t)}async resolveURL(i){let t=await this.actions.execute("/navigation/resolve_url",{url:i,parse:!0});if(!t.endpoint)throw new w("Failed to resolve URL. Expected a NavigationEndpoint but got undefined",t);return t.endpoint}async getAttestationChallenge(i,t){let r={engagementType:i};return t&&(r.ids=t),this.actions.execute("/att/get",{parse:!0,...r})}call(i,t){return i.call(this.actions,t)}get actions(){return f(this,ii).actions}get session(){return f(this,ii)}};ii=new WeakMap,o(GI,"Innertube");var gl=GI;var dC={};var _C=gl;var qA="Cache",Ah,Ph,wl,qI,H1=class H1{constructor(i=!1,t){E(this,wl);E(this,Ah);E(this,Ph);S(this,Ah,t||""),S(this,Ph,i)}get cache_dir(){return f(this,Ph)?f(this,Ah):""}async get(i){let t=await P(this,wl,qI).call(this);if(t)return new Promise((r,n)=>{let c=t.transaction("kv-store","readonly").objectStore("kv-store").get(i);c.onerror=n,c.onsuccess=function(){var m;let u=(m=this.result)==null?void 0:m.v;u instanceof ArrayBuffer?r(u):ArrayBuffer.isView(u)?r(u.buffer):r(void 0)}})}async set(i,t){let r=await P(this,wl,qI).call(this);if(r)return new Promise((n,c)=>{let u=r.transaction("kv-store","readwrite").objectStore("kv-store").put({k:i,v:t});u.onerror=c,u.onsuccess=()=>n()})}async remove(i){let t=await P(this,wl,qI).call(this);if(t)return new Promise((r,n)=>{let c=t.transaction("kv-store","readwrite").objectStore("kv-store").delete(i);c.onerror=n,c.onsuccess=()=>r()})}};Ah=new WeakMap,Ph=new WeakMap,wl=new WeakSet,qI=o(function(){let i=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return i?new Promise((t,r)=>{let n=i.open("youtubei.js",1);n.onsuccess=function(){t(this.result)},n.onerror=function(c){r("indexedDB request error"),console.error(c)},n.onupgradeneeded=function(){let c=this.result.createObjectStore("kv-store",{keyPath:"k"});c.transaction.oncomplete=function(){t(this.db)}}}):Ci(qA,"IndexedDB is not supported. No cache will be used.")},"#getBrowserDB"),o(H1,"Cache");var j1=H1;H.load({runtime:"browser",server:!1,Cache:j1,sha1Hash:U1,uuidv4(){var s;return(s=globalThis.crypto)!=null&&s.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>{let t=parseInt(i);return(t^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})},fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var POt=_C;export{bS as APIResponseTypes,hl as Actions,Bt as AppendContinuationItemsAction,Ri as BinarySerializer,GA as ClientType,et as Constants,Zf as Continuation,wc as ContinuationCommand,Us as EventEmitter,gr as FormatUtils,jk as Generator,oI as GridContinuation,jc as HTTPClient,XI as Helpers,gl as Innertube,tI as ItemSectionContinuation,ak as LZW,Jc as LiveChatContinuation,Y as Log,m1 as Misc,s1 as Mixins,sI as MusicPlaylistShelfContinuation,rI as MusicShelfContinuation,Qc as NavigateAction,p as Parser,H as Platform,_l as Player,nI as PlaylistPanelContinuation,wr as ProtoUtils,we as ReloadContinuationItemsCommand,iI as SectionListContinuation,bl as Session,eI as ShowMiniplayerCommand,dC as Types,Vh as UniversalCache,wk as Utils,u1 as YT,qn as YTNodes,POt as default};
