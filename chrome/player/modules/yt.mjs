/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var y0=Object.defineProperty;var n=(t,e)=>y0(t,"name",{value:e,configurable:!0});var ye=(t,e)=>{for(var i in e)y0(t,i,{get:e[i],enumerable:!0})};function w0(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]]);return i}n(w0,"__rest");function T0(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n(T0,"__setFunctionName");function k(t,e,i,o){function r(a){return a instanceof i?a:new i(function(c){c(a)})}return n(r,"adopt"),new(i||(i=Promise))(function(a,c){function p(_){try{h(o.next(_))}catch(x){c(x)}}n(p,"fulfilled");function d(_){try{h(o.throw(_))}catch(x){c(x)}}n(d,"rejected");function h(_){_.done?a(_.value):r(_.value).then(p,d)}n(h,"step"),h((o=o.apply(t,e||[])).next())})}n(k,"__awaiter");function b0(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(b0,"__values");function Li(t){return this instanceof Li?(this.v=t,this):new Li(t)}n(Li,"__await");function k0(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),r,a=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(y){o[y]&&(r[y]=function(w){return new Promise(function(I,S){a.push([y,w,I,S])>1||p(y,w)})})}function p(y,w){try{d(o[y](w))}catch(I){x(a[0][3],I)}}function d(y){y.value instanceof Li?Promise.resolve(y.value.v).then(h,_):x(a[0][2],y)}function h(y){p("next",y)}function _(y){p("throw",y)}function x(y,w){y(w),a.shift(),a.length&&p(a[0][0],a[0][1])}}n(k0,"__asyncGenerator");function I0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof b0=="function"?b0(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(a){i[a]=t[a]&&function(c){return new Promise(function(p,d){c=t[a](c),r(p,d,c.done,c.value)})}}function r(a,c,p,d){Promise.resolve(d).then(function(h){a({value:h,done:p})},c)}}n(I0,"__asyncValues");function f(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(f,"__classPrivateFieldGet");function E(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i}n(E,"__classPrivateFieldSet");var fg={};ye(fg,{ChannelError:()=>Ln,InnertubeError:()=>b,MissingParamError:()=>ym,OAuth2Error:()=>Fx,ParsingError:()=>rt,Platform:()=>U,PlayerError:()=>Tt,SessionError:()=>bo,base64ToU8:()=>Sg,concatMemos:()=>Yg,debugFetch:()=>dS,deepCompare:()=>Mm,escapeStringRegexp:()=>zg,generateRandomString:()=>wo,generateSidAuth:()=>cS,getCookie:()=>fS,getRandomUserAgent:()=>Ui,getStringBetweenStrings:()=>Re,hasKeys:()=>pS,isTextRun:()=>We,streamToIterable:()=>lg,throwIfMissing:()=>bm,timeToSeconds:()=>Se,u8ToBase64:()=>ze});var ug={};ye(ug,{Maybe:()=>Oi,Memo:()=>Zt,SuperParsedResult:()=>Et,YTNode:()=>s,observe:()=>oe});var Ie,je=class{static doLog(e,i,o){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let r=[`[${this.YTJS_TAG}]`];i&&r.push(`[${i}]`),this.log_map_[e](`${r.join("")}:`,...o||[])}static setLevel(...e){this.log_level_=e}};n(je,"Log");Ie=je;je.YTJS_TAG="YOUTUBEJS";je.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};je.log_map_={[Ie.Level.ERROR]:(...t)=>console.error(...t),[Ie.Level.WARNING]:(...t)=>console.warn(...t),[Ie.Level.INFO]:(...t)=>console.info(...t),[Ie.Level.DEBUG]:(...t)=>console.debug(...t)};je.log_level_=[Ie.Level.WARNING];je.one_time_warnings_issued_=new Set;je.warnOnce=(t,...e)=>{Ie.one_time_warnings_issued_.has(t)||(Ie.doLog(Ie.Level.WARNING,t,e),Ie.one_time_warnings_issued_.add(t))};je.warn=(t,...e)=>Ie.doLog(Ie.Level.WARNING,t,e);je.error=(t,...e)=>Ie.doLog(Ie.Level.ERROR,t,e);je.info=(t,...e)=>Ie.doLog(Ie.Level.INFO,t,e);je.debug=(t,...e)=>Ie.doLog(Ie.Level.DEBUG,t,e);var F=je;var sg,S0,we,ag,le,Ct,Ft,Di,C0=Symbol("ObservedArray.isObserved"),s=class{constructor(){sg.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>f(this,sg,"m",S0).call(this,i))}as(...e){if(!this.is(...e))throw new rt(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new rt(`Missing key ${e}`);return new Oi(this[e])}};n(s,"YTNode");sg=new WeakSet,S0=n(function(e){return this.type===e.type},"_YTNode_is");s.type="YTNode";var Oi=class{constructor(e){we.add(this),ag.set(this,"Maybe"),le.set(this,void 0),E(this,le,e,"f")}get typeof(){return typeof f(this,le,"f")}string(){return f(this,we,"m",Ft).call(this,"string")}isString(){return f(this,we,"m",Ct).call(this,"string")}number(){return f(this,we,"m",Ft).call(this,"number")}isNumber(){return f(this,we,"m",Ct).call(this,"number")}bigint(){return f(this,we,"m",Ft).call(this,"bigint")}isBigint(){return f(this,we,"m",Ct).call(this,"bigint")}boolean(){return f(this,we,"m",Ft).call(this,"boolean")}isBoolean(){return f(this,we,"m",Ct).call(this,"boolean")}symbol(){return f(this,we,"m",Ft).call(this,"symbol")}isSymbol(){return f(this,we,"m",Ct).call(this,"symbol")}undefined(){return f(this,we,"m",Ft).call(this,"undefined")}isUndefined(){return f(this,we,"m",Ct).call(this,"undefined")}null(){if(f(this,le,"f")!==null)throw new TypeError(`Expected null, got ${typeof f(this,le,"f")}`);return f(this,le,"f")}isNull(){return f(this,le,"f")===null}object(){return f(this,we,"m",Ft).call(this,"object")}isObject(){return f(this,we,"m",Ct).call(this,"object")}function(){return f(this,we,"m",Ft).call(this,"function")}isFunction(){return f(this,we,"m",Ct).call(this,"function")}array(){if(!Array.isArray(f(this,le,"f")))throw new TypeError(`Expected array, got ${typeof f(this,le,"f")}`);return f(this,le,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new Oi(Reflect.get(i,o))}})}isArray(){return Array.isArray(f(this,le,"f"))}node(){if(!(f(this,le,"f")instanceof s))throw new TypeError(`Expected YTNode, got ${f(this,le,"f").constructor.name}`);return f(this,le,"f")}isNode(){return f(this,le,"f")instanceof s}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof f(this,le,"f")}`);return f(this,le,"f")}isObserved(){var e;return(e=f(this,le,"f"))===null||e===void 0?void 0:e[C0]}parsed(){if(!(f(this,le,"f")instanceof Et))throw new TypeError(`Expected SuperParsedResult, got ${typeof f(this,le,"f")}`);return f(this,le,"f")}isParsed(){return f(this,le,"f")instanceof Et}any(){return F.warn(f(this,ag,"f"),"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),f(this,le,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${f(this,le,"f").constructor.name}`);return f(this,le,"f")}isInstanceof(e){return f(this,le,"f")instanceof e}};n(Oi,"Maybe");ag=new WeakMap,le=new WeakMap,we=new WeakSet,Ct=n(function(e){return typeof f(this,le,"f")===e},"_Maybe_checkPrimative"),Ft=n(function(e){if(!f(this,we,"m",Ct).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return f(this,le,"f")},"_Maybe_assertPrimative");var Et=class{constructor(e){Di.set(this,void 0),E(this,Di,e,"f")}get is_null(){return f(this,Di,"f")===null}get is_array(){return!this.is_null&&Array.isArray(f(this,Di,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return f(this,Di,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return f(this,Di,"f")}};n(Et,"SuperParsedResult");Di=new WeakMap;function oe(t){return new Proxy(t,{get(e,i){return i=="get"?(o,r)=>e.find((a,c)=>{let p=Mm(o,a);return p&&r&&e.splice(c,1),p}):i==C0?!0:i=="getAll"?(o,r)=>e.filter((a,c)=>{let p=Mm(o,a);return p&&r&&e.splice(c,1),p}):i=="matchCondition"?o=>e.find(r=>o(r)):i=="filterType"?(...o)=>oe(e.filter(r=>!!r.is(...o))):i=="firstOfType"?(...o)=>e.find(r=>!!r.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>oe(e.map(r=>{if(r.is(...o))return r;throw new rt(`Expected node of any type ${o.map(a=>a.type).join(", ")}, got ${r.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n(oe,"observe");var Zt=class extends Map{getType(...e){return e=e.flat(),oe(e.flatMap(i=>this.get(i.type)||[]))}};n(Zt,"Memo");var Gg={};ye(Gg,{Author:()=>B,ChildElement:()=>b_,EmojiRun:()=>ii,Format:()=>fx,Text:()=>u,TextRun:()=>oi,Thumbnail:()=>g,VideoDetails:()=>wi});var xe={};ye(xe,{CLIENTS:()=>ne,INNERTUBE_HEADERS_BASE:()=>Yk,OAUTH:()=>jk,STREAM_HEADERS:()=>jt,URLS:()=>tt});var tt=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),jk=Object.freeze({REGEX:Object.freeze({TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')})}),ne=Object.freeze({iOS:{NAME_ID:"5",NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME_ID:"1",NAME:"WEB",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME_ID:"76",NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME_ID:"67",NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME_ID:"3",NAME:"ANDROID",VERSION:"18.48.37",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/18.48.37(Linux; U; Android 13; en_US; sdk_gphone64_x86_64 Build/UPB4.230623.005) gzip"},YTSTUDIO_ANDROID:{NAME_ID:"14",NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME_ID:"21",NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME_ID:"85",NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),jt=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),Yk=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var l={};ye(l,{addRuntimeParser:()=>Lg,applyCommentsMutations:()=>w1,applyMutations:()=>b1,getDynamicParsers:()=>sS,getParserByName:()=>tm,hasParser:()=>cx,parse:()=>De,parseActions:()=>y1,parseArray:()=>Le,parseC:()=>g1,parseFormats:()=>Og,parseItem:()=>ee,parseLC:()=>Dg,parseRR:()=>mx,parseResponse:()=>aS,sanitizeClassName:()=>om,setParserErrorHandler:()=>nS,shouldIgnore:()=>x1});var Zi={};ye(Zi,{AboutChannel:()=>Gm,AboutChannelView:()=>Hm,AccountChannel:()=>zm,AccountItemSection:()=>Km,AccountItemSectionHeader:()=>$m,AccountSectionList:()=>qm,AddBannerToLiveChatCommand:()=>Lb,AddChatItemAction:()=>z_,AddLiveChatTickerItemAction:()=>Db,Alert:()=>Yo,AlertWithButton:()=>oh,AnalyticsMainAppKeyMetrics:()=>U0,AnalyticsRoot:()=>W0,AnalyticsShortsCarouselCard:()=>J0,AnalyticsVideo:()=>rh,AnalyticsVodCarouselCard:()=>H0,AnchoredSection:()=>rx,AppendContinuationItemsAction:()=>Ji,AttributionView:()=>sh,AudioOnlyPlayability:()=>ah,AuthorCommentBadge:()=>Qh,AutomixPreviewVideo:()=>uh,AvatarView:()=>lh,BackstageImage:()=>ch,BackstagePost:()=>ni,BackstagePostThread:()=>$0,BrowseFeedActions:()=>dh,BrowserMediaSession:()=>K0,Button:()=>T,ButtonView:()=>Hi,C4TabbedHeader:()=>Xo,CallToActionButton:()=>q0,Card:()=>X0,CardCollection:()=>Fh,CarouselHeader:()=>jh,CarouselItem:()=>Q0,CarouselLockup:()=>Mh,Channel:()=>Yh,ChannelAboutFullMetadata:()=>Ea,ChannelAgeGate:()=>Z0,ChannelExternalLinkView:()=>Jm,ChannelFeaturedContent:()=>ey,ChannelHeaderLinks:()=>fh,ChannelHeaderLinksView:()=>mh,ChannelMetadata:()=>Uh,ChannelMobileHeader:()=>ty,ChannelOptions:()=>Wh,ChannelOwnerEmptyState:()=>iy,ChannelSubMenu:()=>La,ChannelTagline:()=>Dh,ChannelThumbnailWithLink:()=>oy,ChannelVideoPlayer:()=>ny,Chapter:()=>Jh,ChildVideo:()=>ry,ChipBarView:()=>sy,ChipCloud:()=>Qo,ChipCloudChip:()=>Ye,ChipView:()=>Hh,ClipAdState:()=>vh,ClipCreation:()=>xh,ClipCreationScrubber:()=>_h,ClipCreationTextInput:()=>hh,ClipSection:()=>gh,CollaboratorInfoCardContent:()=>ay,CollageHeroImage:()=>uy,CollectionThumbnailView:()=>qh,Command:()=>ly,Comment:()=>nn,CommentActionButtons:()=>Uo,CommentDialog:()=>ob,CommentReplies:()=>r_,CommentReplyDialog:()=>Zo,CommentSimplebox:()=>l_,CommentThread:()=>c_,CommentView:()=>fi,CommentsEntryPointHeader:()=>u_,CommentsEntryPointTeaser:()=>a_,CommentsHeader:()=>di,CommentsSimplebox:()=>s_,CompactChannel:()=>nb,CompactLink:()=>rn,CompactMix:()=>rb,CompactMovie:()=>sb,CompactPlaylist:()=>ab,CompactStation:()=>ub,CompactVideo:()=>$o,ConfirmDialog:()=>lb,ContentMetadataView:()=>un,ContentPreviewImageView:()=>Go,ContinuationItem:()=>pe,ConversationBar:()=>cb,CopyLink:()=>p_,CreatePlaylistDialog:()=>jm,CreatorHeart:()=>ph,CtaGoToCreatorStudio:()=>G0,DataModelSection:()=>nh,DecoratedAvatarView:()=>d_,DecoratedPlayerBar:()=>__,DefaultPromoPanel:()=>pb,DescriptionPreviewView:()=>v_,DidYouMean:()=>db,DimChatItemAction:()=>Ob,DislikeButtonView:()=>x_,DownloadButton:()=>g_,Dropdown:()=>ti,DropdownItem:()=>Fm,DynamicTextView:()=>y_,Element:()=>ln,EmergencyOnebox:()=>fb,EmojiPicker:()=>n_,EmojiPickerCategory:()=>mb,EmojiPickerCategoryButton:()=>hb,EmojiPickerUpsellCategory:()=>_b,EndScreenPlaylist:()=>T_,EndScreenVideo:()=>k_,Endscreen:()=>w_,EndscreenElement:()=>vb,EngagementPanelSectionList:()=>ai,EngagementPanelTitleHeader:()=>yh,ExpandableMetadata:()=>Ch,ExpandableTab:()=>cn,ExpandableVideoDescriptionBody:()=>kh,ExpandedShelfContents:()=>xb,Factoid:()=>si,FancyDismissibleDialog:()=>gb,FeedFilterChipBar:()=>Ut,FeedNudge:()=>yb,FeedTabbedHeader:()=>I_,FlexibleActionsView:()=>S_,GameCard:()=>Ih,GameDetails:()=>bb,Grid:()=>wb,GridChannel:()=>C_,GridHeader:()=>Tb,GridMix:()=>kb,GridMovie:()=>Ib,GridPlaylist:()=>E_,GridShow:()=>Sb,GridVideo:()=>R_,GuideCollapsibleEntry:()=>Cb,GuideCollapsibleSectionEntry:()=>Eb,GuideDownloadsEntry:()=>Nb,GuideEntry:()=>Qi,GuideSection:()=>pn,GuideSubscriptionsSection:()=>A_,HashtagHeader:()=>V_,HashtagTile:()=>Pb,HeatMarker:()=>f_,Heatmap:()=>m_,HeroPlaylistThumbnail:()=>Rb,HighlightsCarousel:()=>Ab,HistorySuggestion:()=>Vb,HorizontalCardList:()=>ri,HorizontalList:()=>Sh,HorizontalMovieList:()=>Mb,IconLink:()=>B_,ImageBannerView:()=>L_,IncludingResultsFor:()=>Bb,InfoPanelContainer:()=>O_,InfoPanelContent:()=>D_,InfoRow:()=>Vh,InteractiveTabbedHeader:()=>F_,ItemSection:()=>$e,ItemSectionHeader:()=>dn,ItemSectionTab:()=>j_,ItemSectionTabbedHeader:()=>fn,KidsBlocklistPicker:()=>n1,KidsBlocklistPickerItem:()=>sx,KidsCategoriesHeader:()=>r1,KidsCategoryTab:()=>ax,KidsHomeScreen:()=>s1,LikeButton:()=>U_,LikeButtonView:()=>W_,LiveChat:()=>J_,LiveChatActionPanel:()=>K_,LiveChatAuthorBadge:()=>lw,LiveChatAutoModMessage:()=>Fb,LiveChatBanner:()=>G_,LiveChatBannerHeader:()=>H_,LiveChatBannerPoll:()=>jb,LiveChatDialog:()=>cw,LiveChatHeader:()=>tv,LiveChatItemList:()=>iv,LiveChatMembershipItem:()=>Yb,LiveChatMessageInput:()=>pw,LiveChatPaidMessage:()=>Ub,LiveChatPaidSticker:()=>Wb,LiveChatParticipant:()=>ov,LiveChatParticipantsList:()=>nv,LiveChatPlaceholderItem:()=>Jb,LiveChatProductItem:()=>Hb,LiveChatRestrictedParticipation:()=>Gb,LiveChatTextMessage:()=>zb,LiveChatTickerPaidMessageItem:()=>$_,LiveChatTickerPaidStickerItem:()=>$b,LiveChatTickerSponsorItem:()=>Kb,LiveChatViewerEngagementMessage:()=>qb,LockupMetadataView:()=>rv,LockupView:()=>sv,MacroMarkersInfoItem:()=>bh,MacroMarkersList:()=>wh,MacroMarkersListItem:()=>Jo,MarkChatItemAsDeletedAction:()=>Qb,MarkChatItemsByAuthorAsDeletedAction:()=>Zb,Menu:()=>O,MenuNavigationItem:()=>av,MenuPopup:()=>dw,MenuServiceItem:()=>_i,MenuServiceItemDownload:()=>fw,MerchandiseItem:()=>_w,MerchandiseShelf:()=>pv,Message:()=>mi,MetadataBadge:()=>Ge,MetadataRow:()=>vw,MetadataRowContainer:()=>dv,MetadataRowHeader:()=>xw,MetadataScreen:()=>gw,MicroformatData:()=>hn,Mix:()=>yw,ModalWithTitleAndButton:()=>bw,Movie:()=>ww,MovingThumbnail:()=>Tw,MultiMarkersPlayerBar:()=>h_,MultiPageMenu:()=>mw,MultiPageMenuNotificationSection:()=>hw,MusicCardShelf:()=>kw,MusicCardShelfHeaderBasic:()=>fv,MusicCarouselShelf:()=>Mw,MusicCarouselShelfBasicHeader:()=>mv,MusicDescriptionShelf:()=>yv,MusicDetailHeader:()=>Bw,MusicDownloadStateBadge:()=>Lw,MusicEditablePlaylistDetailHeader:()=>Dw,MusicElementHeader:()=>Ow,MusicHeader:()=>Fw,MusicImmersiveHeader:()=>jw,MusicInlineBadge:()=>_n,MusicItemThumbnailOverlay:()=>Pt,MusicLargeCardItemCarousel:()=>Yw,MusicMenuItemDivider:()=>uv,MusicMultiRowListItem:()=>hv,MusicMultiSelectMenu:()=>lv,MusicMultiSelectMenuItem:()=>mn,MusicNavigationButton:()=>_v,MusicPlayButton:()=>vn,MusicPlaylistEditHeader:()=>Uw,MusicPlaylistShelf:()=>Ww,MusicQueue:()=>Tv,MusicResponsiveHeader:()=>Jw,MusicResponsiveListItem:()=>vi,MusicResponsiveListItemFixedColumn:()=>vv,MusicResponsiveListItemFlexColumn:()=>xv,MusicShelf:()=>Hw,MusicSideAlignedItem:()=>Gw,MusicSortFilterButton:()=>zw,MusicTastebuilderShelf:()=>$w,MusicTastebuilderShelfThumbnail:()=>kv,MusicThumbnail:()=>Ae,MusicTwoRowItem:()=>gv,MusicVisualHeader:()=>Kw,NavigationEndpoint:()=>v,Notification:()=>Iv,OpenPopupAction:()=>Ym,PageHeader:()=>Rt,PageHeaderView:()=>Sv,PageIntroduction:()=>Cv,PdgCommentChip:()=>Zh,PivotButton:()=>Ev,PlayerAnnotationsExpanded:()=>Nv,PlayerCaptionsTracklist:()=>Pv,PlayerControlsOverlay:()=>qw,PlayerErrorMessage:()=>Xw,PlayerLegacyDesktopYpcOffer:()=>Qw,PlayerLegacyDesktopYpcTrailer:()=>qp,PlayerLiveStoryboardSpec:()=>Vv,PlayerMicroformat:()=>st,PlayerOverflow:()=>Rv,PlayerOverlay:()=>Lv,PlayerOverlayAutoplay:()=>Mv,PlayerStoryboardSpec:()=>ji,Playlist:()=>Nt,PlaylistCustomThumbnail:()=>sn,PlaylistHeader:()=>Dv,PlaylistInfoCardContent:()=>Zw,PlaylistMetadata:()=>Ov,PlaylistPanel:()=>wv,PlaylistPanelVideo:()=>Wt,PlaylistPanelVideoWrapper:()=>bv,PlaylistSidebar:()=>eT,PlaylistSidebarPrimaryInfo:()=>Fv,PlaylistSidebarSecondaryInfo:()=>jv,PlaylistVideo:()=>gn,PlaylistVideoList:()=>tT,PlaylistVideoThumbnail:()=>an,Poll:()=>iT,PollHeader:()=>Xb,Post:()=>Yv,PostMultiImage:()=>oT,ProductList:()=>Th,ProductListHeader:()=>nT,ProductListItem:()=>rT,ProfileColumn:()=>sT,ProfileColumnStats:()=>aT,ProfileColumnStatsEntry:()=>uT,ProfileColumnUserInfo:()=>lT,Quiz:()=>cT,RecognitionShelf:()=>pT,ReelItem:()=>yn,ReelPlayerHeader:()=>Uv,ReelPlayerOverlay:()=>dT,ReelShelf:()=>qo,RelatedChipCloud:()=>Wv,RemoveBannerForLiveChatCommand:()=>ew,RemoveChatItemAction:()=>tw,RemoveChatItemByAuthorAction:()=>iw,ReplaceChatItemAction:()=>ow,ReplayChatItemAction:()=>nw,RichGrid:()=>xi,RichItem:()=>fT,RichListHeader:()=>mT,RichMetadata:()=>Nd,RichMetadataRow:()=>Rd,RichSection:()=>hT,RichShelf:()=>Jv,SearchBox:()=>_T,SearchFilter:()=>Hv,SearchFilterGroup:()=>bn,SearchFilterOptionsDialog:()=>vT,SearchHeader:()=>Gv,SearchRefinementCard:()=>Gi,SearchSubMenu:()=>zv,SearchSuggestion:()=>M_,SearchSuggestionsSection:()=>xT,SecondarySearchContainer:()=>gT,SectionList:()=>be,SegmentedLikeDislikeButton:()=>to,SegmentedLikeDislikeButtonView:()=>io,SettingBoolean:()=>yT,SettingsCheckbox:()=>$v,SettingsOptions:()=>Tn,SettingsSidebar:()=>Kv,SettingsSwitch:()=>wn,SharedPost:()=>qv,Shelf:()=>kn,ShowCustomThumbnail:()=>N_,ShowLiveChatActionPanelAction:()=>rw,ShowLiveChatDialogAction:()=>sw,ShowLiveChatTooltipCommand:()=>aw,ShowingResultsFor:()=>bT,SimpleCardContent:()=>wT,SimpleCardTeaser:()=>TT,SimpleMenuHeader:()=>cv,SimpleTextSection:()=>kT,SingleActionEmergencySupport:()=>IT,SingleColumnBrowseResults:()=>Xv,SingleColumnMusicWatchNextResults:()=>ST,SingleHeroImage:()=>CT,SlimOwner:()=>ET,SlimVideoMetadata:()=>NT,SortFilterHeader:()=>Y_,SortFilterSubMenu:()=>_t,SponsorCommentBadge:()=>e_,StatRow:()=>z0,StructuredDescriptionContent:()=>$i,StructuredDescriptionPlaylistLockup:()=>Bh,SubFeedOption:()=>Qv,SubFeedSelector:()=>PT,SubscribeButton:()=>Be,SubscriptionNotificationToggleButton:()=>Oh,Tab:()=>Ve,Tabbed:()=>RT,TabbedSearchResults:()=>AT,TextHeader:()=>VT,ThumbnailBadgeView:()=>zh,ThumbnailHoverOverlayView:()=>Gh,ThumbnailLandscapePortrait:()=>MT,ThumbnailOverlayBadgeView:()=>$h,ThumbnailOverlayBottomPanel:()=>P_,ThumbnailOverlayEndorsement:()=>BT,ThumbnailOverlayHoverText:()=>LT,ThumbnailOverlayInlineUnplayable:()=>DT,ThumbnailOverlayLoadingPreview:()=>OT,ThumbnailOverlayNowPlaying:()=>FT,ThumbnailOverlayPinking:()=>jT,ThumbnailOverlayPlaybackStatus:()=>YT,ThumbnailOverlayResumePlayback:()=>UT,ThumbnailOverlaySidePanel:()=>WT,ThumbnailOverlayTimeStatus:()=>zi,ThumbnailOverlayToggleButton:()=>JT,ThumbnailView:()=>Kh,TimedMarkerDecoration:()=>HT,TitleAndButtonListHeader:()=>GT,ToggleButton:()=>ge,ToggleButtonView:()=>hi,ToggleMenuServiceItem:()=>zT,Tooltip:()=>$T,TopicChannelDetails:()=>KT,Transcript:()=>jo,TranscriptFooter:()=>Xm,TranscriptSearchBox:()=>Qm,TranscriptSearchPanel:()=>ih,TranscriptSectionHeader:()=>Zm,TranscriptSegment:()=>eh,TranscriptSegmentList:()=>th,TwoColumnBrowseResults:()=>At,TwoColumnSearchResults:()=>Zv,TwoColumnWatchNextResults:()=>tx,UniversalWatchCard:()=>ix,UpdateDateTextAction:()=>q_,UpdateDescriptionAction:()=>X_,UpdateEngagementPanelAction:()=>Y0,UpdateLiveChatPollAction:()=>uw,UpdateTitleAction:()=>Q_,UpdateToggleButtonTextAction:()=>Z_,UpdateViewershipAction:()=>ev,UploadTimeFactoid:()=>Nh,UpsellDialog:()=>qT,VerticalList:()=>XT,VerticalWatchCardList:()=>QT,Video:()=>Ho,VideoAttributeView:()=>zo,VideoCard:()=>Eh,VideoDescriptionCourseSection:()=>Lh,VideoDescriptionHeader:()=>Rh,VideoDescriptionInfocardsSection:()=>Ah,VideoDescriptionMusicSection:()=>Ko,VideoDescriptionTranscriptSection:()=>fa,VideoInfoCardContent:()=>ZT,VideoOwner:()=>In,VideoPrimaryInfo:()=>ox,VideoSecondaryInfo:()=>Yf,ViewCountFactoid:()=>Ph,WatchCardCompactVideo:()=>nx,WatchCardHeroVideo:()=>e1,WatchCardRichHeader:()=>t1,WatchCardSectionSequence:()=>i1,WatchNextEndScreen:()=>Bv,WatchNextTabbedResults:()=>o1,YpcTrailer:()=>Av});var Fi,Bm=class{constructor(e,i){Fi.set(this,void 0),E(this,Fi,new U.shim.Cache(e,i),"f")}get cache_dir(){return f(this,Fi,"f").cache_dir}get(e){return f(this,Fi,"f").get(e)}set(e,i){return f(this,Fi,"f").set(e,i)}remove(e){return f(this,Fi,"f").remove(e)}};n(Bm,"UniversalCache");Fi=new WeakMap;var Uk=Bm;var Fo,Lm=class extends EventTarget{constructor(){super(),Fo.set(this,new Map)}emit(e,...i){let o=new U.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(r=>{r instanceof U.shim.CustomEvent?i(...r.detail):i(r)},"wrapper");f(this,Fo,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(r=>{r instanceof U.shim.CustomEvent?i(...r.detail):i(r),this.off(e,i)},"wrapper");f(this,Fo,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=f(this,Fo,"f").get(i);o&&(this.removeEventListener(e,o),f(this,Fo,"f").delete(i))}};n(Lm,"EventEmitterLike");Fo=new WeakMap;var Mr=Lm;var Yi={};ye(Yi,{chooseFormat:()=>F0,download:()=>mI,toDash:()=>O0});var Wk={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function E0(t){return t.replace(/([&"<>'])/g,(e,i)=>Wk[i])}n(E0,"escapeXMLString");function Jk(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}n(Jk,"normalizeTag");function re(t,e,...i){let o=i.flat().map(r=>typeof r=="string"?Hk(r):r);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:o})):{type:Jk(t),props:Object.assign(Object.assign({},e),{children:o})}}n(re,"createElement");function Hk(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}n(Hk,"createTextElement");function N0(t){return k(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return E0(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(o=>!["children","nodeValue"].includes(o)&&t.props[o]!==void 0).map(o=>`${o}="${E0(`${t.props[o]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(o=>!!o).map(o=>N0(o)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}n(N0,"renderElementToString");function P0(t){return k(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield N0(yield t)}`})}n(P0,"renderToString");function R0(t){return t.children}n(R0,"Fragment");var Br=class extends s{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((r,a)=>{let[c,p,d,h,_,x,y,w]=r.split("#");o.searchParams.set("sigh",w);let I=Math.ceil(parseInt(d,10)/(parseInt(h,10)*parseInt(_,10)));return{type:"vod",template_url:o.toString().replace("$L",a).replace("$N",y),thumbnail_width:parseInt(c,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(d,10),interval:parseInt(x,10),columns:parseInt(h,10),rows:parseInt(_,10),storyboard_count:I}})}};n(Br,"PlayerStoryboardSpec");Br.type="PlayerStoryboardSpec";var ji=Br;var zk="StreamingInfo";function $k(t,e){var i,o,r;let a=new Map,c=t.some(p=>!!p.audio_track);for(let p of t){if((!p.index_range||!p.init_range)&&!p.is_type_otf&&!e)continue;let d=p.mime_type.split(";")[0],h=(i=Re(p.mime_type,'codecs="','"'))===null||i===void 0?void 0:i.split(".")[0],_=p.color_info?Object.values(p.color_info).join("-"):"",x=((o=p.audio_track)===null||o===void 0?void 0:o.id)||"",y=p.is_drc?"drc":"",w=`${d}-${h}-${_}-${x}-${y}`;a.has(w)||a.set(w,[]),(r=a.get(w))===null||r===void 0||r.push(p)}return{groups:Array.from(a.values()),has_multiple_audio_tracks:c}}n($k,"getFormatGroupings");function V0(t,e){if(t.length>1&&new Set(t.map(i=>Re(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),Re(t[0].mime_type,'codecs="','"')}n(V0,"hoistCodecsIfPossible");function M0(t,e,i){if(t.length>1&&new Set(t.map(o=>o.fps)).size===1)return i.push(e),Number(t[0][e])}n(M0,"hoistNumberAttributeIfPossible");function Kk(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}n(Kk,"hoistAudioChannelsIfPossible");function qk(t,e){return k(this,void 0,void 0,function*(){var i;let o=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:jt,redirect:"follow"}),r=o.url.replace("&rn=0","").replace("&sq=0",""),a=yield o.text(),c=(i=Re(a,"Segment-Durations-Ms:",`\r
  `))===null||i===void 0?void 0:i.split(",");if(!c)throw new b("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let d of c){let h=d.trim();if(h.length===0)continue;let _,x=Re(h,"(r=",")");x&&(_=parseInt(x)),p.push({duration:parseInt(h),repeat_count:_})}return{init_url:`${r}&sq=0`,media_url:`${r}&sq=$Number$`,timeline:p}})}n(qk,"getOTFSegmentTemplate");function B0(t,e){return k(this,void 0,void 0,function*(){let i=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:jt,redirect:"follow"}),o=parseInt(i.headers.get("X-Head-Time-Millis")||""),r=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(o)||isNaN(r))throw new b("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:o/1e3,segment_count:r}})}n(B0,"getPostLiveDvrInfo");function Xk(t,e,i,o,r,a){return k(this,void 0,void 0,function*(){if(!t.item){let c=new URL(e.decipher(r));c.searchParams.set("cpn",a||"");let p=i(c).toString();t.item=yield B0(p,o)}return t.item.duration})}n(Xk,"getPostLiveDvrDuration");function L0(t,e,i,o,r,a){let c=new URL(t.decipher(o));c.searchParams.set("cpn",r||"");let p=e(c).toString();if(t.is_type_otf){if(!i)throw new b("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return qk(p,i)}}}if(a){if(!i)throw new b("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let h=t.target_duration_dec;if(typeof h!="number")throw new b("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,getSegmentTemplate(){return k(this,void 0,void 0,function*(){return a.item||(a.item=yield B0(p,i)),{media_url:`${p}&sq=$Number$`,timeline:[{duration:h*1e3,repeat_count:a.item.segment_count}]}})}}}if(!t.index_range||!t.init_range)throw new b("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:p,index_range:t.index_range,init_range:t.init_range}}n(L0,"getSegmentInfo");function Qk(t,e,i,o,r,a,c){new URL(t.decipher(r)).searchParams.set("cpn",a||"");let d=[t.itag.toString()];return t.audio_track&&d.push(t.audio_track.id),t.is_drc&&d.push("drc"),{uid:d.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Re(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:L0(t,i,o,r,a,c)}}n(Qk,"getAudioRepresentation");function Zk(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return t.is_dubbed&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}n(Zk,"getTrackRoles");function eI(t,e,i,o,r,a,c){var p;let d=t[0],{audio_track:h}=d,_=[],x=!!c,y;return h?x&&d.is_drc?y=c.label_drc_mutiple(h.display_name):y=h.display_name:x&&(y=d.is_drc?c.label_drc:c.label_original),{mime_type:d.mime_type.split(";")[0],language:(p=d.language)!==null&&p!==void 0?p:void 0,codecs:V0(t,_),audio_sample_rate:M0(t,"audio_sample_rate",_),track_name:y,track_roles:Zk(d,x),channels:Kk(t,_),representations:t.map(I=>Qk(I,_,e,i,o,r,a))}}n(eI,"getAudioSet");var tI={BT709:"1",BT2020:"9"},A0={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},iI={BT709:"1",BT2020_NCL:"14"};function oI(t){var e;let i=t.color_info,o,r,a;if(i){if(i.primaries&&(o=tI[i.primaries]),i.transfer_characteristics&&(r=A0[i.transfer_characteristics]),i.matrix_coefficients&&(a=iI[i.matrix_coefficients],!a)){let p=new URL(t.url),d=JSON.parse(JSON.stringify(t));d.url="REDACTED",d.signature_cipher="REDACTED",d.cipher="REDACTED",F.warn(zk,`Unknown matrix coefficients "${i.matrix_coefficients}", the DASH manifest is still usuable without this.
  Please report it at ${U.shim.info.bugs_url} so we can add support for it.
  InnerTube client: ${p.searchParams.get("c")}
  format:`,d)}}else!((e=Re(t.mime_type,'codecs="','"'))===null||e===void 0)&&e.startsWith("avc1")&&(r=A0.BT709);return{primaries:o,transfer_characteristics:r,matrix_coefficients:a}}n(oI,"getColorInfo");function nI(t,e,i,o,r,a,c){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Re(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:L0(t,e,r,o,a,c)}}n(nI,"getVideoRepresentation");function rI(t,e,i,o,r,a){let c=t[0],p=oI(c),d=[];return{mime_type:c.mime_type.split(";")[0],color_info:p,codecs:V0(t,d),fps:M0(t,"fps",d),representations:t.map(_=>nI(_,e,d,i,o,r,a))}}n(rI,"getVideoSet");function sI(t){var e;let i=new Map,o=t.is(ji)?t.boards:[t.board];for(let r of o){let a=new URL(r.template_url).pathname.split(".").pop(),c=`image/${a==="jpg"?"jpeg":a}`;i.has(c)||i.set(c,[]),(e=i.get(c))===null||e===void 0||e.push(r)}return i}n(sI,"getStoryboardInfo");function aI(t,e,i,o,r){return k(this,void 0,void 0,function*(){let a=e.template_url,c=i(new URL(a.replace("$M","0"))),p=r.response?r.response:t.session.http.fetch_function(c,{method:"HEAD",headers:jt});return r.response=p,(yield p).headers.get("Content-Type")||o})}n(aI,"getStoryboardMimeType");function uI(t,e,i){return k(this,void 0,void 0,function*(){let o=e.template_url,r=[],a=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let h=0;h<a;h++){let _=new URL(o.replace("$M",h.toString())),x=h===0&&i.response?i.response:t.session.http.fetch_function(_,{method:"HEAD",headers:jt});h===0&&(i.response=x),r.push(x)}let c=yield Promise.all(r),p=[];for(let h of c)p.push(parseInt(h.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}n(uI,"getStoryboardBitrate");function lI(t,e,i,o,r){let a=i.template_url,c=new URL(a.replace("$M","$Number$")),p;return i.type==="vod"?p=t/i.storyboard_count:p=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return uI(e,i,r)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(p),template_url:o(c).toString(),getURL(h){return c.toString().replace("$Number$",h.toString())}}}n(lI,"getImageRepresentation");function cI(t,e,i,o){let r=sI(i),a={};return Array.from(r.entries()).map(([c,p])=>({probable_mime_type:c,getMimeType(){return aI(e,p[0],o,c,a)},representations:p.map(d=>lI(t,e,d,o,a))}))}n(cI,"getImageSets");function pI(t,e,i){let o=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(r=>{let a=new URL(r.base_url);a.searchParams.set("fmt",e);let c=["caption"];return a.searchParams.has("tlang")&&c.push("dub"),{mime_type:o,language:r.language_code,track_name:r.name.toString(),track_roles:c,representation:{uid:`text-${r.vss_id}`,base_url:i(a).toString()}}})}n(pI,"getTextSets");function Dm(t,e=!1,i=_=>_,o,r,a,c,p,d,h){if(!t)throw new b("Streaming data not available");let _=o?t.adaptive_formats.filter(G=>!o(G)):t.adaptive_formats,x,y;if(e){if(y={},!c)throw new b("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");x=n(()=>y?Xk(y,_[0],i,c,a,r):Promise.resolve(0),"getDuration")}else{let G=_[0].approx_duration_ms/1e3;x=n(()=>Promise.resolve(G),"getDuration")}let{groups:w,has_multiple_audio_tracks:I}=$k(_,e),{video_groups:S,audio_groups:N}=w.reduce((G,de)=>de[0].has_audio?(I&&!de[0].audio_track||G.audio_groups.push(de),G):(G.video_groups.push(de),G),{video_groups:[],audio_groups:[]}),V;N.flat().some(G=>G.is_drc)&&(V={label_original:(h==null?void 0:h.label_original)||"Original",label_drc:(h==null?void 0:h.label_drc)||"Stable Volume",label_drc_mutiple:(h==null?void 0:h.label_drc_mutiple)||(G=>`${G} (Stable Volume)`)});let M=N.map(G=>eI(G,i,c,a,r,y,V)),Y=S.map(G=>rI(G,i,a,c,r,y)),ce=[];if(p&&c){let G;if(p.is(ji))G=_[0].approx_duration_ms/1e3;else{let de=_[0].target_duration_dec;if(typeof de!="number")throw new b("Format is missing target_duration_dec",{format:_[0]});G=de}ce=cI(G,c,p,i)}let ue=[];if(d&&(h==null?void 0:h.captions_format)){if(h.captions_format!=="vtt"&&h.captions_format!=="ttml")throw new b("Invalid captions format",h.captions_format);ue=pI(d,h.captions_format,i)}return{getDuration:x,audio_sets:M,video_sets:Y,image_sets:ce,text_sets:ue}}n(Dm,"getStreamingInfo");function dI(t){return k(this,arguments,void 0,function*({info:e}){if(!e.is_oft&&!e.is_post_live_dvr)return null;let i=yield e.getSegmentTemplate();return re("segment-template",{startNumber:i.init_url?"1":"0",timescale:"1000",initialization:i.init_url,media:i.media_url},re("segment-timeline",null,i.timeline.map(o=>re("s",{d:o.duration,r:o.repeat_count}))))})}n(dI,"OTFPostLiveDvrSegmentInfo");function D0({info:t}){return t.is_oft||t.is_post_live_dvr?re(dI,{info:t}):re(R0,null,re("base-url",null,t.base_url),re("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},re("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}n(D0,"SegmentInfo");function fI(t){return k(this,arguments,void 0,function*({streamingData:e,isPostLiveDvr:i,transformURL:o,rejectFormat:r,cpn:a,player:c,actions:p,storyboards:d,captionTracks:h,options:_}){let{getDuration:x,audio_sets:y,video_sets:w,image_sets:I,text_sets:S}=Dm(e,i,o,r,a,c,p,d,h,_);return re("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${yield x()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},re("period",null,y.map((N,V)=>re("adaptation-set",{id:V,mimeType:N.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:N.language,codecs:N.codecs,audioSamplingRate:N.audio_sample_rate,contentType:"audio"},N.track_roles&&N.track_roles.map(M=>re("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:M})),N.track_name&&re("label",{id:V},N.track_name),N.channels&&re("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:N.channels}),N.representations.map(M=>re("representation",{id:M.uid,bandwidth:M.bitrate,codecs:M.codecs,audioSamplingRate:M.audio_sample_rate},M.channels&&re("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:M.channels}),re(D0,{info:M.segment_info}))))),w.map((N,V)=>re("adaptation-set",{id:V+y.length,mimeType:N.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:N.codecs,maxPlayoutRate:"1",frameRate:N.fps,contentType:"video"},N.color_info.primaries&&re("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:N.color_info.primaries}),N.color_info.transfer_characteristics&&re("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:N.color_info.transfer_characteristics}),N.color_info.matrix_coefficients&&re("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:N.color_info.matrix_coefficients}),N.representations.map(M=>re("representation",{id:M.uid,bandwidth:M.bitrate,width:M.width,height:M.height,codecs:M.codecs,frameRate:M.fps},re(D0,{info:M.segment_info}))))),I.map((N,V)=>k(this,void 0,void 0,function*(){return re("adaptation-set",{id:V+y.length+w.length,mimeType:yield N.getMimeType(),contentType:"image"},N.representations.map(M=>k(this,void 0,void 0,function*(){return re("representation",{id:`thumbnails_${M.thumbnail_width}x${M.thumbnail_height}`,bandwidth:yield M.getBitrate(),width:M.sheet_width,height:M.sheet_height},re("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${M.columns}x${M.rows}`}),re("segment-template",{media:M.template_url,duration:M.template_duration,startNumber:"0"}))})))})),S.map((N,V)=>re("adaptation-set",{id:V+y.length+w.length+I.length,mimeType:N.mime_type,lang:N.language,contentType:"text"},N.track_roles.map(M=>re("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:M})),re("label",{id:V+y.length},N.track_name),re("representation",{id:N.representation.uid,bandwidth:"0"},re("base-url",null,N.representation.base_url))))))})}n(fI,"DashManifest");function O0(t,e=!1,i=_=>_,o,r,a,c,p,d,h){if(!t)throw new b("Streaming data not available");return P0(re(fI,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:h,rejectFormat:o,cpn:r,player:a,actions:c,storyboards:p,captionTracks:d}))}n(O0,"toDash");function mI(t,e,i,o,r,a){return k(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new b("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new b("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!o)throw new b("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let c=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=F0(c,o),d=p.decipher(r);if(c.type==="video+audio"&&!t.range){let S=yield e.session.http.fetch_function(`${d}&cpn=${a}`,{method:"GET",headers:jt,redirect:"follow"});if(!S.ok)throw new b("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:S});let N=S.body;if(!N)throw new b("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:S});return N}let h=1048576*10,_=t.range?t.range.start:0,x=t.range?t.range.end:h,y=!1,w;return new U.shim.ReadableStream({start(){},pull:S=>k(this,void 0,void 0,function*(){if(y){S.close();return}return(x>=(p.content_length?p.content_length:0)||t.range)&&(y=!0),new Promise((N,V)=>k(this,void 0,void 0,function*(){var M,Y,ce,ue;try{w=new AbortController;let $=yield e.session.http.fetch_function(`${d}&cpn=${a}&range=${_}-${x||""}`,{method:"GET",headers:Object.assign({},jt),signal:w.signal});if(!$.ok)throw new b("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:$});let z=$.body;if(!z)throw new b("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:$});try{for(var he=!0,G=I0(lg(z)),de;de=yield G.next(),M=de.done,!M;he=!0){ue=de.value,he=!1;let q=ue;S.enqueue(q)}}catch(q){Y={error:q}}finally{try{!he&&!M&&(ce=G.return)&&(yield ce.call(G))}finally{if(Y)throw Y.error}}_=x+1,x+=h,N()}catch($){V($)}}))}),cancel(S){return k(this,void 0,void 0,function*(){w.abort(S)})}},{highWaterMark:1,size(S){return S.byteLength}})})}n(mI,"download");function F0(t,e){if(!e)throw new b("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],o=t.type?t.type.includes("audio"):!0,r=t.type?t.type.includes("video"):!0,a=t.language||"original",c=t.quality||"best",p=-1,d=["best","bestefficiency"].includes(c),h=c!=="best",_=i.filter(x=>o&&!x.has_audio||r&&!x.has_video||t.format!=="any"&&!x.mime_type.includes(t.format||"mp4")||!d&&x.quality_label!==c?!1:(x.width&&p<x.width&&(p=x.width),!0));if(!_.length)throw new b("No matching formats found",{options:t});if(d&&r&&(_=_.filter(x=>x.width===p)),o&&!r){let x=_.filter(y=>a!=="original"?!y.has_video&&!y.has_text&&y.language===a:!y.has_video&&!y.has_text&&y.is_original);x.length>0&&(_=x)}return h?_.sort((x,y)=>x.bitrate-y.bitrate):_.sort((x,y)=>y.bitrate-x.bitrate),_[0]}n(F0,"chooseFormat");var cg,ei,pg,Lr,j0,Om=class{constructor(e,i,o){cg.add(this),ei.set(this,void 0),pg.set(this,void 0),Lr.set(this,void 0),E(this,ei,e,"f"),E(this,pg,i,"f"),E(this,Lr,o||U.shim.fetch,"f")}get fetch_function(){return f(this,Lr,"f")}fetch(e,i){return k(this,void 0,void 0,function*(){let o=tt.API.PRODUCTION_1+f(this,ei,"f").api_version,r=(i==null?void 0:i.baseURL)||o,a=typeof e=="string"?!r.endsWith("/")&&!e.startsWith("/")?new URL(`${r}/${e}`):new URL(r+e):e instanceof URL?e:new URL(e.url,r),c=(i==null?void 0:i.headers)||(e instanceof U.shim.Request?e.headers:new U.shim.Headers)||new U.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof U.shim.Request?e.body:void 0),d=new U.shim.Headers(c);d.set("Accept","*/*"),d.set("Accept-Language","*"),d.set("X-Goog-Visitor-Id",f(this,ei,"f").context.client.visitorData||""),d.set("X-Youtube-Client-Version",f(this,ei,"f").context.client.clientVersion||"");let h=Object.values(ne).find(S=>S.NAME===f(this,ei,"f").context.client.clientName);h&&d.set("X-Youtube-Client-Name",h.NAME_ID),U.shim.server&&(d.set("User-Agent",Ui("desktop")),d.set("Origin",a.origin)),a.searchParams.set("prettyPrint","false"),a.searchParams.set("alt","json");let _=d.get("Content-Type"),x=p,y=r===o||r===tt.YT_UPLOAD;if(_==="application/json"&&y&&typeof p=="string"){let S=JSON.parse(p),N=Object.assign(Object.assign({},S),{context:JSON.parse(JSON.stringify(f(this,ei,"f").context))});f(this,cg,"m",j0).call(this,N.context,N.client),d.set("X-Youtube-Client-Version",N.context.client.clientVersion);let V=Object.values(ne).find(M=>M.NAME===N.context.client.clientName);V&&d.set("X-Youtube-Client-Name",V.NAME_ID),delete N.client,N.context.client.clientName==="ANDROID"||N.context.client.clientName==="ANDROID_MUSIC"?(d.set("User-Agent",ne.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2")):N.context.client.clientName==="iOS"&&d.set("User-Agent",ne.iOS.USER_AGENT),x=JSON.stringify(N)}else _==="application/x-protobuf"&&U.shim.server&&(d.set("User-Agent",ne.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2"),d.delete("X-Youtube-Client-Version"));let w=new U.shim.Request(a,e instanceof U.shim.Request?e:i),I=yield f(this,Lr,"f").call(this,w,Object.assign({body:x,headers:d,redirect:e instanceof U.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"},U.shim.runtime!=="cf-worker"?{credentials:"include"}:{}));if(I.ok)return I;throw new b(`Request to ${I.url} failed with status ${I.status}`,yield I.text())})}};n(Om,"HTTPClient");ei=new WeakMap,pg=new WeakMap,Lr=new WeakMap,cg=new WeakSet,j0=n(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=ne.ANDROID.SDK_VERSION,e.client.userAgent=ne.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i){case"iOS":e.client.deviceModel=ne.iOS.DEVICE_MODEL,e.client.clientVersion=ne.iOS.VERSION,e.client.clientName=ne.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=ne.YTMUSIC.VERSION,e.client.clientName=ne.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=ne.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=ne.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=ne.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=ne.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=ne.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=ne.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=ne.TV_EMBEDDED.NAME,e.client.clientVersion=ne.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:tt.YT_BASE};break;case"YTKIDS":e.client.clientVersion=ne.WEB_KIDS.VERSION,e.client.clientName=ne.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var dg=Om;var ht={};ye(ht,{compress:()=>hI,decompress:()=>_I});function hI(t){let e=[],i={};for(let a=0;a<256;a++)i[String.fromCharCode(a)]=a;let o="",r=256;for(let a=0;a<t.length;a++){let c=t[a],p=o+c;i.hasOwnProperty(p)?o=p:(e.push(i[o]),i[p]=r++,o=c)}return o!==""&&e.push(i[o]),e.map(a=>String.fromCharCode(a)).join("")}n(hI,"compress");function _I(t){let e={},i=t.split(""),o=[i.shift()],r=i.length>>>0,a=256,c=o[0],p=c;for(let d=0;d<r;++d){let h=i[d].charCodeAt(0),_=h<256?i[d]:e[h]?e[h]:p+c;o.push(_),c=_.charAt(0),e[a++]=p+c,p=_}return o.join("")}n(_I,"decompress");var Dr=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(Dr,"Button");Dr.type="Button";var T=Dr;var Or=class extends s{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new v(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};n(Or,"DropdownItem");Or.type="DropdownItem";var Fm=Or;var Fr=class extends s{constructor(e){super(),this.label=e.label||"",this.entries=l.parseArray(e.entries,Fm)}};n(Fr,"Dropdown");Fr.type="Dropdown";var ti=Fr;var jr=class extends s{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=l.parseItem(e.privacyOption,ti),this.create_button=l.parseItem(e.cancelButton,T),this.cancel_button=l.parseItem(e.cancelButton,T)}};n(jr,"CreatePlaylistDialog");jr.type="CreatePlaylistDialog";var jm=jr;var Yr=class extends s{constructor(e){super(),this.popup=l.parseItem(e.popup),this.popup_type=e.popupType}};n(Yr,"OpenPopupAction");Yr.type="OpenPopupAction";var Ym=Yr;var Wi=class extends s{constructor(e){var i,o,r,a,c,p,d,h;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new Ym(e.openPopupAction));let _=Object.keys(e||{}).find(x=>x.endsWith("Endpoint")||x.endsWith("Command"));this.payload=_?Reflect.get(e,_):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=l.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=l.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Wi(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((a=(r=e==null?void 0:e.commandMetadata)===null||r===void 0?void 0:r.webCommandMetadata)===null||a===void 0)&&a.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(c=e==null?void 0:e.commandMetadata)===null||c===void 0?void 0:c.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):_&&(this.metadata.api_url=this.getEndpoint(_)),!((h=(d=e==null?void 0:e.commandMetadata)===null||d===void 0?void 0:d.webCommandMetadata)===null||h===void 0)&&h.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=l.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,jm))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(Wi,"NavigationEndpoint");Wi.type="NavigationEndpoint";var v=Wi;var g=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(o=>new g(o)).sort((o,r)=>r.width-o.width):[]}};n(g,"Thumbnail");var ii=class{constructor(e){var i,o,r,a,c,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((r=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||r===void 0?void 0:r[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((a=e.emoji)===null||a===void 0?void 0:a.shortcuts)||[],search_terms:((c=e.emoji)===null||c===void 0?void 0:c.searchTerms)||[],image:g.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=Um(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(ii,"EmojiRun");var oi=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=Um(this.text),r=`<span style="white-space: pre-wrap;">${e.map(a=>`<${a}>`).join("")+i+e.map(a=>`</${a}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:a}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let c=this.endpoint.toURL();if(c)return`<a href="${c}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${a}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${r}</a>`}}if(this.endpoint){let a=this.endpoint.toURL();if(a)return`<a href="${a}">${r}</a>`}return r}};n(oi,"TextRun");function Um(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(Um,"escape");var Ur="Text",u=class{constructor(e){var i,o,r,a;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(c=>c.emoji?new ii(c):new oi(c)),this.text=this.runs.map(c=>c.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new v(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(a=(r=this.runs)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.endpoint)}static fromAttributed(e){var i,o,r;let{content:a,styleRuns:c,commandRuns:p,attachmentRuns:d}=e,h=[{text:a,startIndex:0}];if(c||p||d){if(c)for(let _ of c)if(_.italic||_.strikethrough==="LINE_STYLE_SINGLE"||_.weightLabel==="FONT_WEIGHT_MEDIUM"||_.weightLabel==="FONT_WEIGHT_BOLD"){let x=mg(h,_);if(!x){F.warn(Ur,"Unable to find matching run for style run. Skipping...",{style_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}Wm(h,x,_,{bold:_.weightLabel==="FONT_WEIGHT_MEDIUM"||_.weightLabel==="FONT_WEIGHT_BOLD",italics:_.italic,strikethrough:_.strikethrough==="LINE_STYLE_SINGLE"})}else F.debug(Ur,"Skipping style run as it is doesn't have any information that we parse.",{style_run:_,input_data:e});if(p)for(let _ of p)if(_.onTap){let x=mg(h,_);if(!x){F.warn(Ur,"Unable to find matching run for command run. Skipping...",{command_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}Wm(h,x,_,{navigationEndpoint:_.onTap})}else F.debug(Ur,'Skipping command run as it is missing the "doTap" property.',{command_run:_,input_data:e});if(d)for(let _ of d){let x=mg(h,_);if(!x){F.warn(Ur,"Unable to find matching run for attachment run. Skipping...",{attachment_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}if(_.length===0)x.attachment=_;else{let y=_.startIndex-x.startIndex,w=x.text.substring(y,y+_.length),I=/^:[^:]+:$/.test(w);if(((r=(o=(i=_.element)===null||i===void 0?void 0:i.type)===null||o===void 0?void 0:o.imageType)===null||r===void 0?void 0:r.image)&&(I||new RegExp("^(?:\\p{Emoji}|\\u200d)+$","u").test(w))){let S={image:_.element.type.imageType.image,isCustomEmoji:I,shortcuts:I?[w]:void 0};Wm(h,x,_,{emoji:S})}else Wm(h,x,_,{attachment:_})}}}return new u({runs:h})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(u,"Text");function mg(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}n(mg,"findMatchingRun");function Wm(t,e,i,o){let r=t.indexOf(e),a=[],c=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&a.push(Object.assign(Object.assign({},e),{text:e.text.substring(0,c)})),a.push(Object.assign(Object.assign(Object.assign({},e),{text:e.text.substring(c,c+i.length),startIndex:i.startIndex}),o)),i.startIndex+i.length<e.startIndex+e.text.length&&a.push(Object.assign(Object.assign({},e),{text:e.text.substring(c+i.length),startIndex:i.startIndex+i.length})),t.splice(r,1,...a)}n(Wm,"insertSubRun");var Wr=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=g.fromResponse(e.favicon)}};n(Wr,"ChannelExternalLinkView");Wr.type="ChannelExternalLinkView";var Jm=Wr;var Jr=class extends s{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new v(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=l.parseArray(e.links,Jm):this.links=[]}};n(Jr,"AboutChannelView");Jr.type="AboutChannelView";var Hm=Jr;var Hr=class extends s{constructor(e){super(),this.metadata=l.parseItem(e.metadata,Hm),this.share_channel=l.parseItem(e.shareChannel,T)}};n(Hr,"AboutChannel");Hr.type="AboutChannel";var Gm=Hr;var Gr=class extends s{constructor(e){super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint)}};n(Gr,"AccountChannel");Gr.type="AccountChannel";var zm=Gr;var zr=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(zr,"AccountItemSectionHeader");zr.type="AccountItemSectionHeader";var $m=zr;var $r=class extends s{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=g.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new v(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};n($r,"AccountItem");$r.type="AccountItem";var Kr=class extends s{constructor(e){super(),this.contents=oe(e.contents.map(i=>new $r(i.accountItem))),this.header=l.parseItem(e.header,$m)}};n(Kr,"AccountItemSection");Kr.type="AccountItemSection";var Km=Kr;var qr=class extends s{constructor(e){super(),this.contents=l.parseItem(e.contents[0],Km),this.footers=l.parseItem(e.footers[0],zm)}};n(qr,"AccountSectionList");qr.type="AccountSectionList";var qm=qr;var Xr=class extends s{constructor(e){super(),this.contents=l.parseArray(e.continuationItems),this.target=e.target}};n(Xr,"AppendContinuationItemsAction");Xr.type="AppendContinuationItemsAction";var Ji=Xr;var Qr=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,r;return{title:i.title,selected:i.selected,continuation:(r=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||r===void 0?void 0:r.continuation,endpoint:new v(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(Qr,"SortFilterSubMenu");Qr.type="SortFilterSubMenu";var _t=Qr;var Zr=class extends s{constructor(e){super(),this.language_menu=l.parseItem(e.languageMenu,_t)}};n(Zr,"TranscriptFooter");Zr.type="TranscriptFooter";var Xm=Zr;var es=class extends s{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=l.parseItem(e.clearButton,T),this.endpoint=new v(e.onTextChangeCommand),this.search_button=l.parseItem(e.searchButton,T)}};n(es,"TranscriptSearchBox");es.type="TranscriptSearchBox";var Qm=es;var ts=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};n(ts,"TranscriptSectionHeader");ts.type="TranscriptSectionHeader";var Zm=ts;var is=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};n(is,"TranscriptSegment");is.type="TranscriptSegment";var eh=is;var os=class extends s{constructor(e){super(),this.initial_segments=l.parseArray(e.initialSegments,[eh,Zm]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};n(os,"TranscriptSegmentList");os.type="TranscriptSegmentList";var th=os;var ns=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,Qm),this.body=l.parseItem(e.body,th),this.footer=l.parseItem(e.footer,Xm),this.target_id=e.targetId}};n(ns,"TranscriptSearchPanel");ns.type="TranscriptSearchPanel";var ih=ns;var rs=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,ih)}};n(rs,"Transcript");rs.type="Transcript";var jo=rs;var ss=class extends s{constructor(e){super(),this.target_id=e.targetId,this.content=l.parseItem(e.content,jo)}};n(ss,"UpdateEngagementPanelAction");ss.type="UpdateEngagementPanelAction";var Y0=ss;var as=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};n(as,"Alert");as.type="Alert";var Yo=as;var us=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=l.parseItem(e.dismissButton,T)}};n(us,"AlertWithButton");us.type="AlertWithButton";var oh=us;var ls=class extends s{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(ls,"DataModelSection");ls.type="DataModelSection";var nh=ls;var cs=class extends s{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new nh(o))}};n(cs,"AnalyticsMainAppKeyMetrics");cs.type="AnalyticsMainAppKeyMetrics";var U0=cs;var ps=class extends s{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(r=>({label:r.label,display_value:r.displayValue,display_value_a11y:r.displayValueA11y,bar_ratio:r.barRatio,bar_color:r.barColor,bar_opacity:r.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(ps,"AnalyticsRoot");ps.type="AnalyticsRoot";var W0=ps;var ds=class extends s{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new v(i.videoEndpoint)}))}};n(ds,"AnalyticsShortsCarouselCard");ds.type="AnalyticsShortsCarouselCard";var J0=ds;var fs=class extends s{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:g.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(fs,"AnalyticsVideo");fs.type="AnalyticsVideo";var rh=fs;var ms=class extends s{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new rh(i)))}};n(ms,"AnalyticsVodCarouselCard");ms.type="AnalyticsVodCarouselCard";var H0=ms;var hs=class extends s{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(hs,"CtaGoToCreatorStudio");hs.type="CtaGoToCreatorStudio";var G0=hs;var _s=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};n(_s,"StatRow");_s.type="StatRow";var z0=_s;var vs=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.suffix=u.fromAttributed(e.suffix)}};n(vs,"AttributionView");vs.type="AttributionView";var sh=vs;var xs=class extends s{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n(xs,"AudioOnlyPlayability");xs.type="AudioOnlyPlayability";var ah=xs;var gs=class extends s{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new v(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(gs,"AutomixPreviewVideo");gs.type="AutomixPreviewVideo";var uh=gs;var ys=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}},this.avatar_image_size=e.avatarImageSize}};n(ys,"AvatarView");ys.type="AvatarView";var lh=ys;var bs=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.endpoint=new v(e.command)}};n(bs,"BackstageImage");bs.type="BackstageImage";var ch=bs;var ws=class extends s{constructor(e){var i,o,r,a,c,p,d,h,_;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let x=((a=(r=(o=e==null?void 0:e.defaultText)===null||o===void 0?void 0:o.accessibility)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label)||((p=(c=e==null?void 0:e.accessibilityData)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label)||((d=e==null?void 0:e.accessibility)===null||d===void 0?void 0:d.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(x.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((_=(h=e.defaultServiceEndpoint)===null||h===void 0?void 0:h.commandExecutorCommand)===null||_===void 0)&&_.commands?new v(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(ws,"ToggleButton");ws.type="ToggleButton";var ge=ws;var Ts=class extends s{constructor(e){var i,o;super(),this.creator_thumbnail=g.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n(Ts,"CreatorHeart");Ts.type="CreatorHeart";var ph=Ts;var ks=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,ge),this.dislike_button=l.parseItem(e.dislikeButton,ge),this.reply_button=l.parseItem(e.replyButton,T),this.creator_heart=l.parseItem(e.creatorHeart,ph)}};n(ks,"CommentActionButtons");ks.type="CommentActionButtons";var Uo=ks;var Is=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.top_level_buttons=l.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(Is,"Menu");Is.type="Menu";var O=Is;var Ss=class extends s{constructor(e){super(),this.id=e.postId,this.author=new B(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=l.parseItem(e.actionMenu,O)),Reflect.has(e,"actionButtons")&&(this.action_buttons=l.parseItem(e.actionButtons,Uo)),Reflect.has(e,"voteButton")&&(this.vote_button=l.parseItem(e.voteButton,T)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=l.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(Ss,"BackstagePost");Ss.type="BackstagePost";var ni=Ss;var Cs=class extends s{constructor(e){super(),this.post=l.parseItem(e.post)}};n(Cs,"BackstagePostThread");Cs.type="BackstagePostThread";var $0=Cs;var Es=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Es,"BrowseFeedActions");Es.type="BrowseFeedActions";var dh=Es;var Ns=class extends s{constructor(e){super(),this.album=new u(e.album),this.thumbnails=g.fromResponse(e.thumbnailDetails)}};n(Ns,"BrowserMediaSession");Ns.type="BrowserMediaSession";var K0=Ns;var Ps=class extends s{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.button_type=e.type,this.button_size=e.buttonSize,this.on_tap=new v(e.onTap)}};n(Ps,"ButtonView");Ps.type="ButtonView";var Hi=Ps;var Wo=class extends s{constructor(e){super(),this.endpoint=new v(e.navigationEndpoint),this.icon=g.fromResponse(e.icon),this.title=new u(e.title)}};n(Wo,"HeaderLink");Wo.type="HeaderLink";var Rs=class extends s{constructor(e){var i,o;super(),this.primary=oe(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>new Wo(r)))||[]),this.secondary=oe(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(r=>new Wo(r)))||[])}};n(Rs,"ChannelHeaderLinks");Rs.type="ChannelHeaderLinks";var fh=Rs;var As=class extends s{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};n(As,"ChannelHeaderLinksView");As.type="ChannelHeaderLinksView";var mh=As;var Vs=class extends s{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};n(Vs,"ClipCreationTextInput");Vs.type="ClipCreationTextInput";var hh=Vs;var Ms=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(o=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label,this.end_label=(a=(r=e.endAccessibility)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label,this.duration_label=(p=(c=e.durationAccessibility)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label}};n(Ms,"ClipCreationScrubber");Ms.type="ClipCreationScrubber";var _h=Ms;var Bs=class extends s{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};n(Bs,"ClipAdState");Bs.type="ClipAdState";var vh=Bs;var Ls=class extends s{constructor(e){super(),this.user_avatar=g.fromResponse(e.userAvatar),this.title_input=l.parseItem(e.titleInput,[hh]),this.scrubber=l.parseItem(e.scrubber,[_h]),this.save_button=l.parseItem(e.saveButton,[T]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=l.parseItem(e.cancelButton,[T]),this.ad_state_overlay=l.parseItem(e.adStateOverlay,[vh]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};n(Ls,"ClipCreation");Ls.type="ClipCreation";var xh=Ls;var Ds=class extends s{constructor(e){super(),this.contents=l.parse(e.contents,!0,[xh])}};n(Ds,"ClipSection");Ds.type="ClipSection";var gh=Ds;var Os=class extends s{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,T)),this.endpoint=new v(e.continuationEndpoint)}};n(Os,"ContinuationItem");Os.type="ContinuationItem";var pe=Os;var Fs=class extends s{constructor(e){super(),this.title=new u(e.title),this.visibility_button=l.parseItem(e.visibilityButton,T)}};n(Fs,"EngagementPanelTitleHeader");Fs.type="EngagementPanelTitleHeader";var yh=Fs;var js=class extends s{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=l.parseItem(e.menu,O)}};n(js,"MacroMarkersInfoItem");js.type="MacroMarkersInfoItem";var bh=js;var Ys=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=g.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(Ys,"MacroMarkersListItem");Ys.type="MacroMarkersListItem";var Jo=Ys;var Us=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,[bh,Jo]),this.sync_button_label=new u(e.syncButtonLabel)}};n(Us,"MacroMarkersList");Us.type="MacroMarkersList";var wh=Us;var Ws=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Ws,"ProductList");Ws.type="ProductList";var Th=Ws;var Js=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=l.parseItem(e.subMenu))}};n(Js,"SectionList");Js.type="SectionList";var be=Js;var Hs=class extends s{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};n(Hs,"ExpandableVideoDescriptionBody");Hs.type="ExpandableVideoDescriptionBody";var kh=Hs;var Gs=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.endpoint=new v(e.searchEndpoint),this.query=new u(e.query).toString()}};n(Gs,"SearchRefinementCard");Gs.type="SearchRefinementCard";var Gi=Gs;var zs=class extends s{constructor(e){super(),this.game=l.parseItem(e.game)}};n(zs,"GameCard");zs.type="GameCard";var Ih=zs;var $s=class extends s{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=l.parseArray(e.items)}get contents(){return this.items}};n($s,"HorizontalList");$s.type="HorizontalList";var Sh=$s;var Ks=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:g.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=l.parseItem(e.expandedContent,[ri,Sh]),this.expand_button=l.parseItem(e.expandButton,T),this.collapse_button=l.parseItem(e.collapseButton,T)}};n(Ks,"ExpandableMetadata");Ks.type="ExpandableMetadata";var Ch=Ks;var qs=class extends s{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(qs,"MetadataBadge");qs.type="MetadataBadge";var Ge=qs;var Xs=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};n(Xs,"ThumbnailOverlayTimeStatus");Xs.type="ThumbnailOverlayTimeStatus";var zi=Xs;var Qs=class extends s{constructor(e){var i,o,r;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(c=>({text:new u(c.snippetText),hover_text:new u(c.snippetHoverText)}))),this.expandable_metadata=l.parseItem(e.expandableMetadata,Ch),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.author=new B(e.ownerText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.badges=l.parseArray(e.badges,Ge),this.endpoint=new v(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:Se(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=l.parseItem(e.menu,O),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(zi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(Qs,"Video");Qs.type="Video";var Ho=Qs;var Zs=class extends Ho{constructor(e){super(e)}};n(Zs,"VideoCard");Zs.type="VideoCard";var Eh=Zs;var ea=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.style=e.style}};n(ea,"ContentPreviewImageView");ea.type="ContentPreviewImageView";var Go=ea;var ta=class extends s{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image=g.fromResponse(e.image):this.image=l.parseItem(e.image,Go),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new v(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};n(ta,"VideoAttributeView");ta.type="VideoAttributeView";var zo=ta;var ia=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards,[zo,Gi,Jo,Ih,Eh]),this.header=l.parseItem(e.header),this.previous_button=l.parseItem(e.previousButton,T),this.next_button=l.parseItem(e.nextButton,T)}};n(ia,"HorizontalCardList");ia.type="HorizontalCardList";var ri=ia;var oa=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};n(oa,"Factoid");oa.type="Factoid";var si=oa;var na=class extends s{constructor(e){super(),this.factoid=l.parseItem(e.factoid,si)}};n(na,"UploadTimeFactoid");na.type="UploadTimeFactoid";var Nh=na;var ra=class extends s{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=l.parseItem(e.factoid,[si]),this.view_count_type=e.viewCountType}};n(ra,"ViewCountFactoid");ra.type="ViewCountFactoid";var Ph=ra;var sa=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new v(e.channelNavigationEndpoint),this.channel_thumbnail=g.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=l.parseArray(e.factoid,[si,Ph,Nh])}};n(sa,"VideoDescriptionHeader");sa.type="VideoDescriptionHeader";var Rh=sa;var aa=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=l.parseItem(e.creatorVideosButton,T),this.creator_about_button=l.parseItem(e.creatorAboutButton,T),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=g.fromResponse(e.channelAvatar),this.channel_endpoint=new v(e.channelEndpoint)}};n(aa,"VideoDescriptionInfocardsSection");aa.type="VideoDescriptionInfocardsSection";var Ah=aa;var ua=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};n(ua,"InfoRow");ua.type="InfoRow";var Vh=ua;var la=class extends s{constructor(e){super(),this.id=e.videoId,this.thumbnails=g.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parse(e.richThumbnail)),this.title=new u(e.title),this.author=new B(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=l.parseArray(e.badges,Ge),this.duration={text:new u(e.lengthText).toString(),seconds:Se(new u(e.lengthText).toString())},this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.endpoint=new v(e.navigationEndpoint),this.menu=l.parseItem(e.menu,O)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(la,"CompactVideo");la.type="CompactVideo";var $o=la;var ca=class extends s{constructor(e){super(),this.info_rows=l.parseArray(e.infoRows,Vh),this.video_lockup=l.parseItem(e.videoLockup,$o)}};n(ca,"CarouselLockup");ca.type="CarouselLockup";var Mh=ca;var pa=class extends s{constructor(e){super(),this.carousel_lockups=l.parseArray(e.carouselLockups,Mh),this.section_title=new u(e.sectionTitle)}};n(pa,"VideoDescriptionMusicSection");pa.type="VideoDescriptionMusicSection";var Ko=pa;var da=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=l.parseItem(e.primaryButton,T)}};n(da,"VideoDescriptionTranscriptSection");da.type="VideoDescriptionTranscriptSection";var fa=da;var ma=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};n(ma,"StructuredDescriptionPlaylistLockup");ma.type="StructuredDescriptionPlaylistLockup";var Bh=ma;var ha=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=l.parseArray(e.mediaLockups,[Bh])}};n(ha,"VideoDescriptionCourseSection");ha.type="VideoDescriptionCourseSection";var Lh=ha;var _a=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}get contents(){return this.items}};n(_a,"ReelShelf");_a.type="ReelShelf";var qo=_a;var va=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[Rh,kh,Ko,Ah,Lh,fa,fa,ri,qo])}};n(va,"StructuredDescriptionContent");va.type="StructuredDescriptionContent";var $i=va;var xa=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,yh),this.content=l.parseItem(e.content,[zo,be,pe,gh,$i,wh,Th]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};n(xa,"EngagementPanelSectionList");xa.type="EngagementPanelSectionList";var ai=xa;var ga=class extends s{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:l.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,ai),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new v(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};n(ga,"ChannelTagline");ga.type="ChannelTagline";var Dh=ga;var ya=class extends s{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:l.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(ya,"SubscriptionNotificationToggleButton");ya.type="SubscriptionNotificationToggleButton";var Oh=ya;var ba=class extends s{constructor(e){var i,o;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=l.parseItem(e.notificationPreferenceButton,Oh),this.endpoint=new v(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(ba,"SubscribeButton");ba.type="SubscribeButton";var Be=ba;var wa=class extends s{constructor(e){super(),this.author=new B({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=g.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=g.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=g.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=l.parseItem(e.sponsorButton,T)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=l.parseItem(e.subscribeButton,[Be,T])),Reflect.has(e,"headerLinks")&&(this.header_links=l.parseItem(e.headerLinks,[fh,mh])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=l.parseItem(e.tagline,Dh))}};n(wa,"C4TabbedHeader");wa.type="C4TabbedHeader";var Xo=wa;var Ta=class extends s{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(Ta,"CallToActionButton");Ta.type="CallToActionButton";var q0=Ta;var ka=class extends s{constructor(e){super(),this.teaser=l.parseItem(e.teaser),this.content=l.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(ka,"Card");ka.type="Card";var X0=ka;var Ia=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(Ia,"CardCollection");Ia.type="CardCollection";var Fh=Ia;var Sa=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Sa,"CarouselHeader");Sa.type="CarouselHeader";var jh=Sa;var Ca=class extends s{constructor(e){super(),this.items=l.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=g.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(Ca,"CarouselItem");Ca.type="CarouselItem";var Q0=Ca;var ui=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new B(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,[Be,T]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return F.warnOnce(ui.type,"Channel#subscribers is deprecated. Please use Channel#subscriber_count instead."),this.subscriber_count}get videos(){return F.warnOnce(ui.type,"Channel#videos is deprecated. Please use Channel#video_count instead."),this.video_count}};n(ui,"Channel");ui.type="Channel";var Yh=ui;var li=class extends s{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=g.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>({endpoint:new v(r.navigationEndpoint),icon:g.fromResponse(r.icon),title:new u(r.title)})))!==null&&o!==void 0?o:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new v(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=l.parseArray(e.actionButtons,T)}get views(){return F.warnOnce(li.type,"ChannelAboutFullMetadata#views is deprecated. Please use ChannelAboutFullMetadata#view_count instead."),this.view_count}get joined(){return F.warnOnce(li.type,"ChannelAboutFullMetadata#joined is deprecated. Please use ChannelAboutFullMetadata#joined_date instead."),this.joined_date}};n(li,"ChannelAboutFullMetadata");li.type="ChannelAboutFullMetadata";var Ea=li;var Na=class extends s{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=g.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=l.parseItem(e.signInButton,T),this.secondary_text=new u(e.secondaryText)}};n(Na,"ChannelAgeGate");Na.type="ChannelAgeGate";var Z0=Na;var Pa=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items)}};n(Pa,"ChannelFeaturedContent");Pa.type="ChannelFeaturedContent";var ey=Pa;var Ra=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=g.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(Ra,"ChannelMetadata");Ra.type="ChannelMetadata";var Uh=Ra;var Aa=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Aa,"ChannelMobileHeader");Aa.type="ChannelMobileHeader";var ty=Aa;var Va=class extends s{constructor(e){super(),this.avatar=g.fromResponse(e.avatar),this.endpoint=new v(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};n(Va,"ChannelOptions");Va.type="ChannelOptions";var Wh=Va;var Ma=class extends s{constructor(e){super(),this.illustration=g.fromResponse(e.illustration),this.description=new u(e.description)}};n(Ma,"ChannelOwnerEmptyState");Ma.type="ChannelOwnerEmptyState";var iy=Ma;var Ba=class extends s{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new v(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=l.parseItem(e.sortSetting)}};n(Ba,"ChannelSubMenu");Ba.type="ChannelSubMenu";var La=Ba;var Da=class extends s{constructor(e){var i,o;super(),this.thumbnails=g.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(Da,"ChannelThumbnailWithLink");Da.type="ChannelThumbnailWithLink";var oy=Da;var ci=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return F.warnOnce(ci.type,"ChannelVideoPlayer#views is deprecated. Please use ChannelVideoPlayer#view_count instead."),this.view_count}get published(){return F.warnOnce(ci.type,"ChannelVideoPlayer#published is deprecated. Please use ChannelVideoPlayer#published_time instead."),this.published_time}};n(ci,"ChannelVideoPlayer");ci.type="ChannelVideoPlayer";var ny=ci;var Oa=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=g.fromResponse(e.thumbnail)}};n(Oa,"Chapter");Oa.type="Chapter";var Jh=Oa;var Fa=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:Se(e.lengthText.simpleText)},this.endpoint=new v(e.navigationEndpoint)}};n(Fa,"ChildVideo");Fa.type="ChildVideo";var ry=Fa;var ja=class extends s{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new v(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};n(ja,"ChipView");ja.type="ChipView";var Hh=ja;var Ya=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Hh)}};n(Ya,"ChipBarView");Ya.type="ChipBarView";var sy=Ya;var Ua=class extends s{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.text=new u(e.text).toString()}};n(Ua,"ChipCloudChip");Ua.type="ChipCloudChip";var Ye=Ua;var Wa=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Ye),this.next_button=l.parseItem(e.nextButton,T),this.previous_button=l.parseItem(e.previousButton,T),this.horizontal_scrollable=e.horizontalScrollable}};n(Wa,"ChipCloud");Wa.type="ChipCloud";var Qo=Wa;var Ja=class extends s{constructor(e){super(),this.channel_avatar=g.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.endpoint)}};n(Ja,"CollaboratorInfoCardContent");Ja.type="CollaboratorInfoCardContent";var ay=Ja;var Ha=class extends s{constructor(e){super(),this.left=g.fromResponse(e.leftThumbnail),this.top_right=g.fromResponse(e.topRightThumbnail),this.bottom_right=g.fromResponse(e.bottomRightThumbnail),this.endpoint=new v(e.navigationEndpoint)}};n(Ha,"CollageHeroImage");Ha.type="CollageHeroImage";var uy=Ha;var Ga=class extends s{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=u.fromAttributed(e.text),this.style=e.style}};n(Ga,"ThumbnailHoverOverlayView");Ga.type="ThumbnailHoverOverlayView";var Gh=Ga;var za=class extends s{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=e.text,this.badge_style=e.badgeStyle,e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};n(za,"ThumbnailBadgeView");za.type="ThumbnailBadgeView";var zh=za;var $a=class extends s{constructor(e){super(),this.badges=l.parseArray(e.thumbnailBadges,zh),this.position=e.position}};n($a,"ThumbnailOverlayBadgeView");$a.type="ThumbnailOverlayBadgeView";var $h=$a;var Ka=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.overlays=l.parseArray(e.overlays,[$h,Gh]),e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};n(Ka,"ThumbnailView");Ka.type="ThumbnailView";var Kh=Ka;var qa=class extends s{constructor(e){super(),this.primary_thumbnail=l.parseItem(e.primaryThumbnail,Kh),e.stackColor&&(this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme})}};n(qa,"CollectionThumbnailView");qa.type="CollectionThumbnailView";var qh=qa;var Xa=class extends s{constructor(e){super(),this.endpoint=new v(e)}};n(Xa,"Command");Xa.type="Command";var ly=Xa;var Xh,Qa=class extends s{constructor(e){super(),Xh.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),E(this,Xh,e,"f")}get orig_badge(){return f(this,Xh,"f")}};n(Qa,"AuthorCommentBadge");Xh=new WeakMap;Qa.type="AuthorCommentBadge";var Qh=Qa;var Za=class extends s{constructor(e){super(),this.reply_button=l.parseItem(e.replyButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.author_thumbnail=g.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};n(Za,"CommentReplyDialog");Za.type="CommentReplyDialog";var Zo=Za;var eu=class extends s{constructor(e){var i,o;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(eu,"PdgCommentChip");eu.type="PdgCommentChip";var Zh=eu;var tu=class extends s{constructor(e){super(),this.custom_badge=g.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n(tu,"SponsorCommentBadge");tu.type="SponsorCommentBadge";var e_=tu;var pi={};ye(pi,{decodeVisitorData:()=>Tg,encodeChannelAnalyticsParams:()=>WI,encodeCommentActionParams:()=>iu,encodeCommentParams:()=>zI,encodeCommentsSectionParams:()=>GI,encodeCustomThumbnailPayload:()=>qI,encodeHashtag:()=>XI,encodeMessageParams:()=>kg,encodeMusicSearchFilters:()=>HI,encodeNotificationPref:()=>$I,encodeReelSequence:()=>Ig,encodeSearchFilters:()=>JI,encodeShortsParam:()=>QI,encodeVideoMetadataPayload:()=>KI,encodeVisitorData:()=>wg});var P;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(P||(P={}));var j=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+i_(hg(this),t_).toString(!1);let r=[],a=new j(i,o);for(;gI(a,vI);){let[c,p]=xI(a);r.push(p),a=c}return r.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new j(0);if(e.length<10)return i<0?i_(hg(new j(-i)),t_):new j(i);let r=new j,a=t_;for(let c of e.split("").reverse())parseInt(c)&&(r=i_(r,cy(new j(parseInt(c)),a))),a=cy(a,new j(10));return o?i_(hg(r),t_):r}};n(j,"Long");var vI=new j(0),t_=new j(1);function o_(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(o_,"makeChunk");function i_(t,e){let[i,o,r,a]=o_(t),[c,p,d,h]=o_(e),_=0,x=0,y=0,w=0;return w+=i+c,y+=w>>>16,w&=65535,y+=o+p,x+=y>>>16,y&=65535,x+=r+d,_+=x>>>16,x&=65535,_+=a+h,_&=65535,new j(y<<16|w,_<<16|x)}n(i_,"add");function cy(t,e){let[i,o,r,a]=o_(t),[c,p,d,h]=o_(e),_=0,x=0,y=0,w=0;return w+=i*c,y+=w>>>16,w&=65535,y+=i*p+o*c,x+=y>>>16,y&=65535,x+=i*d+r*c+o*p,_+=x>>>16,x&=65535,_+=i*h+o*d+r*p+a*c,_&=65535,new j(y<<16|w,_<<16|x)}n(cy,"mul");function xI(t){let[e,i]=t;return[new j((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n(xI,"divByTen");function gI(t,e){let[i,o]=t,[r,a]=e;return o!==a?o-a:i-r}n(gI,"compare");function hg(t){let[e,i]=t;return new j(~e,~i)}n(hg,"negate");function en(t){let e=[],r=typeof t=="number"?new j(t):t;for(;r[0]||r[1];){let[a,c]=r,p=a&127,d=c>>>7,h=a>>>7|(c&127)<<32-7;r=new j(h,d);let _=r[0]||r[1]?p|128:p;e.push(_)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(en,"encode");function tn(t){let e=new j(0),i=0;for(;;){let o=t.getUint8(i);if(e=yI(e,bI(new j(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(tn,"decode");function yI(t,e){return new j(t[0]|e[0],t[1]|e[1])}n(yI,"or");function bI(t,e){return e===0?t:e>=32?new j(0,t[0]<<e-32):new j(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n(bI,"leftshift");function R(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(en(i<<3|o.type)),o.type){case P.Varint:e.push(en(o.value));break;case P.Fixed64:{let r=new Uint8Array(8),a=new DataView(r.buffer);a.setUint32(0,o.value[0],!0),a.setUint32(4,o.value[1],!0),e.push(r);break}case P.LengthDelimited:e.push(en(o.value.byteLength)),e.push(o.value);break;case P.Fixed32:{let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,o.value,!0),e.push(r);break}}}),_g(e)}n(R,"serialize");function _g(t){let e=t.reduce((o,r)=>o+r.byteLength,0),i=new Uint8Array(e);return t.reduce((o,r)=>(i.set(r,o),o+r.byteLength),0),i}n(_g,"concat");function vg(t){if(t instanceof j){let e=new j(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new j(4294967295,4294967295):new j;return new j(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(vg,"encode");function xg(t){if(t instanceof j){let e=new j(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new j(4294967295,4294967295):new j;return new j(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(xg,"decode");var gg={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>xg(t[0]),sint64:t=>xg(t).toString(!0),bool:t=>t[0]!==0},yg={int32:t=>new j(t),int64:t=>j.parse(t),uint32:t=>new j(t),uint64:t=>j.parse(t),sint32:t=>vg(new j(t)),sint64:t=>vg(j.parse(t)),bool:t=>new j(+t)},wI=Object.fromEntries(Object.entries(gg).map(([t,e])=>[t,i=>{if(i.type===P.Varint)return e(i.value)}])),TI=Object.fromEntries(Object.entries(yg).map(([t,e])=>[t,i=>({type:P.Varint,value:e(i)})])),W=Object.assign(Object.assign({},wI),{double:t=>t.type!==P.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==P.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===P.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===P.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===P.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===P.Fixed64)return t.value.toString(!0)},string:t=>t.type!==P.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===P.LengthDelimited)return t.value}}),C=Object.assign(Object.assign({},TI),{double:t=>{let e=new j;return new DataView(e.buffer).setFloat64(0,t,!0),{type:P.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:P.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:P.Fixed32,value:t>>>0}),fixed64:t=>({type:P.Fixed64,value:j.parse(t)}),sfixed32:t=>({type:P.Fixed32,value:t|0}),sfixed64:t=>({type:P.Fixed64,value:j.parse(t)}),string:t=>{let e=new TextEncoder;return{type:P.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:P.LengthDelimited,value:t})}),kI=Object.fromEntries(Object.keys(gg).map(t=>[t,function*(e){for(let i of e){let o=W[t](i);if(o!=null)yield o;else for(let r of EI(i))yield gg[t](r)}}])),WL=Object.assign(Object.assign({},kI),{*double(t){for(let e of t){let i=W.double(e);i!=null?yield i:yield*SI(e)}},*float(t){for(let e of t){let i=W.float(e);i!=null?yield i:yield*CI(e)}},*fixed32(t){for(let e of t){let i=W.fixed32(e);if(i!=null)yield i;else for(let o of py(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=W.fixed64(e);if(i!=null)yield i;else for(let o of dy(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=W.sfixed32(e);if(i!=null)yield i;else for(let o of py(e))yield o|0}},*sfixed64(t){for(let e of t){let i=W.sfixed64(e);if(i!=null)yield i;else for(let o of dy(e))yield o.toString(!0)}}}),II=Object.fromEntries(Object.keys(yg).map(t=>[t,function(e){return{type:P.LengthDelimited,value:_g(e.map(i=>{let o=yg[t](i);return en(o)}))}}]));function on(t,e){return n(function(o){let r=new Uint8Array(o.length*t),a=new DataView(r.buffer);for(let c=0;c<o.length;++c)e(a,c*t,o[c]);return{type:P.LengthDelimited,value:r}},"pack")}n(on,"getFixedPackFn");var JL=Object.assign(Object.assign({},II),{double:on(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:on(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:on(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:on(8,(t,e,i)=>{let o=j.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:on(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:on(8,(t,e,i)=>{let o=j.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*SI(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat64(i,!0);i+=4,yield r}}n(SI,"unpackDouble");function*CI(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat32(i,!0);i+=4,yield r}}n(CI,"unpackFloat");function*EI(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let r=tn(new DataView(e.buffer,o+i));i+=r[0],yield r[1]}}n(EI,"unpackVarint");function*py(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4,yield r}}n(py,"unpackFixed32");function*dy(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4;let a=o.getUint32(i,!0);i+=4,yield new j(r,a)}}n(dy,"unpackFixed64");function J(t){let e=0,i=t.byteOffset,o=[],r=new DataView(t.buffer,i);for(;e<t.length;){let a=tn(new DataView(t.buffer,i+e)),c=a[1][0];e+=a[0];let p=c&7,d=c>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case P.Varint:{let[x,y]=tn(new DataView(t.buffer,i+e));o.push([d,{type:p,value:y}]),e+=x;break}case P.Fixed64:let h=r.getUint32(e,!0),_=r.getUint32(e+=4,!0);e+=4,o.push([d,{type:p,value:new j(h,_)}]);break;case P.LengthDelimited:{let[x,y]=tn(new DataView(t.buffer,i+e));o.push([d,{type:p,value:t.subarray(e+=x,e+=y[0])}]);break}case P.StartGroup:case P.EndGroup:o.push([d,{type:p}]);break;case P.Fixed32:o.push([d,{type:p,value:r.getUint32(e,!0)}]),e+=4;break}}return o}n(J,"deserialize");function NI(){return{id:"",timestamp:0}}n(NI,"getDefaultValue");function fy(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,C.int32(i)])}return R(e)}n(fy,"encodeBinary");function my(t){let e=NI(),i=J(t),o=new Map(i);e:{let r=o.get(1);if(r===void 0)break e;let a=W.string(r);if(a===void 0)break e;e.id=a}e:{let r=o.get(5);if(r===void 0)break e;let a=W.int32(r);if(a===void 0)break e;e.timestamp=a}return e}n(my,"decodeBinary");function hy(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,C.string(i)])}return R(e)}n(hy,"encodeBinary");function _y(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:P.LengthDelimited,value:hy(i)}])}return R(e)}n(_y,"encodeBinary");function vy(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,C.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,C.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,C.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,C.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,C.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,C.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,C.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,C.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,C.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,C.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,C.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,C.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,C.int32(i)])}return R(e)}n(vy,"encodeBinary");function xy(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,C.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:P.LengthDelimited,value:vy(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,C.int32(i)])}return R(e)}n(xy,"encodeBinary");function gy(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,C.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,C.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,C.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,C.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,C.int32(i)])}return R(e)}n(gy,"encodeBinary");function yy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:P.LengthDelimited,value:gy(i)}])}return R(e)}n(yy,"encodeBinary");function by(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:P.LengthDelimited,value:yy(i)}])}return R(e)}n(by,"encodeBinary");function wy(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return R(e)}n(wy,"encodeBinary");function Ty(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:P.LengthDelimited,value:wy(i)}])}return R(e)}n(Ty,"encodeBinary");function ky(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:P.LengthDelimited,value:Ty(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,C.int32(i)])}return R(e)}n(ky,"encodeBinary");function Iy(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return R(e)}n(Iy,"encodeBinary");function Sy(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,C.int32(i)])}return R(e)}n(Sy,"encodeBinary");function Cy(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:P.LengthDelimited,value:Sy(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,C.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,C.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,C.int32(i)])}return R(e)}n(Cy,"encodeBinary");function Ey(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,C.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,C.int32(i)])}return R(e)}n(Ey,"encodeBinary");function Ny(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,C.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:P.LengthDelimited,value:Cy(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:P.LengthDelimited,value:Ey(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,C.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,C.string(i)])}return R(e)}n(Ny,"encodeBinary");function Py(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:P.LengthDelimited,value:Iy(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,C.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:P.LengthDelimited,value:Ny(i)}])}return R(e)}n(Py,"encodeBinary");function Ry(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return R(e)}n(Ry,"encodeBinary");function Ay(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:P.LengthDelimited,value:Ry(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,C.int32(i)])}return R(e)}n(Ay,"encodeBinary");function Vy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}n(Vy,"encodeBinary");function My(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:P.LengthDelimited,value:Vy(i)}])}return R(e)}n(My,"encodeBinary");function By(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:P.LengthDelimited,value:My(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,C.string(i)])}return R(e)}n(By,"encodeBinary");function Ly(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,C.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,C.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:P.LengthDelimited,value:By(i)}])}return R(e)}n(Ly,"encodeBinary");function Dy(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return R(e)}n(Dy,"encodeBinary");function Oy(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:P.LengthDelimited,value:Dy(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,C.int32(i)])}return R(e)}n(Oy,"encodeBinary");function Fy(t){let e=[];if(t.deviceMake!==void 0){let i=t.deviceMake;e.push([12,C.string(i)])}if(t.deviceModel!==void 0){let i=t.deviceModel;e.push([13,C.string(i)])}if(t.nameId!==void 0){let i=t.nameId;e.push([16,C.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,C.string(i)])}if(t.osName!==void 0){let i=t.osName;e.push([18,C.string(i)])}if(t.osVersion!==void 0){let i=t.osVersion;e.push([19,C.string(i)])}if(t.acceptLanguage!==void 0){let i=t.acceptLanguage;e.push([21,C.string(i)])}if(t.acceptRegion!==void 0){let i=t.acceptRegion;e.push([22,C.string(i)])}if(t.androidSdkVersion!==void 0){let i=t.androidSdkVersion;e.push([34,C.int32(i)])}if(t.windowWidthPoints!==void 0){let i=t.windowWidthPoints;e.push([37,C.int32(i)])}if(t.windowHeightPoints!==void 0){let i=t.windowHeightPoints;e.push([38,C.int32(i)])}return R(e)}n(Fy,"encodeBinary");function jy(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:P.LengthDelimited,value:Fy(i)}])}return R(e)}n(jy,"encodeBinary");function Yy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}n(Yy,"encodeBinary");function Uy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}n(Uy,"encodeBinary");function Wy(t){let e=[];for(let i of t.list)e.push([1,C.string(i)]);return R(e)}n(Wy,"encodeBinary");function Jy(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.int32(i)])}return R(e)}n(Jy,"encodeBinary");function Hy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.string(i)])}return R(e)}n(Hy,"encodeBinary");function Gy(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,C.bytes(i)])}return R(e)}n(Gy,"encodeBinary");function zy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:P.LengthDelimited,value:Gy(i)}])}return R(e)}n(zy,"encodeBinary");function $y(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}return R(e)}n($y,"encodeBinary");function Ky(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return R(e)}n(Ky,"encodeBinary");function qy(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return R(e)}n(qy,"encodeBinary");function bg(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:P.LengthDelimited,value:jy(i)}])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:P.LengthDelimited,value:Yy(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:P.LengthDelimited,value:Uy(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:P.LengthDelimited,value:Wy(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:P.LengthDelimited,value:Jy(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:P.LengthDelimited,value:Hy(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:P.LengthDelimited,value:zy(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:P.LengthDelimited,value:$y(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:P.LengthDelimited,value:Ky(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:P.LengthDelimited,value:qy(i)}])}return R(e)}n(bg,"encodeBinary");function Xy(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,C.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,C.int32(i)])}return R(e)}n(Xy,"encodeBinary");function Qy(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:P.LengthDelimited,value:Xy(i)}])}return R(e)}n(Qy,"encodeBinary");function Zy(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,C.int32(i)])}return R(e)}n(Zy,"encodeBinary");function eb(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:P.LengthDelimited,value:Zy(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,C.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,C.int32(i)])}return R(e)}n(eb,"encodeBinary");function tb(t){let e=[];if(t.p1!==void 0){let i=t.p1;e.push([1,C.int32(i)])}return R(e)}n(tb,"encodeBinary");function ib(t){let e=[];if(t.f1!==void 0){let i=t.f1;e.push([1,{type:P.LengthDelimited,value:tb(i)}])}if(t.p59!==void 0){let i=t.p59;e.push([59,C.int32(i)])}return R(e)}n(ib,"encodeBinary");function wg(t,e){let i=fy({id:t,timestamp:e});return encodeURIComponent(ze(i).replace(/\+/g,"-").replace(/\//g,"_"))}n(wg,"encodeVisitorData");function Tg(t){return my(Sg(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}n(Tg,"decodeVisitorData");function WI(t){let e=_y({params:{channelId:t}});return encodeURIComponent(ze(e))}n(WI,"encodeChannelAnalyticsParams");function JI(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},o={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},a={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},c={};if(t?c.filters={}:c.noFilter=0,c.filters&&(t.upload_date&&(c.filters.uploadDate=e[t.upload_date]),t.type&&(c.filters.type=i[t.type]),t.duration&&(c.filters.duration=o[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(c.sortBy=r[t.sort_by]),t.features))for(let d of t.features)c.filters[a[d]]=1;let p=xy(c);return encodeURIComponent(ze(p))}n(JI,"encodeSearchFilters");function HI(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let o=by(i);return encodeURIComponent(ze(o))}n(HI,"encodeMusicSearchFilters");function kg(t,e){let i=ky({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(ze(i)))}n(kg,"encodeMessageParams");function GI(t,e={}){let o=Py({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(ze(o))}n(GI,"encodeCommentsSectionParams");function zI(t){let e=Ay({videoId:t,params:{index:0},number:7});return encodeURIComponent(ze(e))}n(zI,"encodeCommentParams");function iu(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let o=Ly(i);return encodeURIComponent(ze(o))}n(iu,"encodeCommentActionParams");function $I(t,e){let i=Oy({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(ze(i))}n($I,"encodeNotificationPref");function KI(t,e){let i={context:{client:{nameId:3,osName:"Android",androidSdkVersion:ne.ANDROID.SDK_VERSION,osVersion:"13",acceptLanguage:"en-US",acceptRegion:"US",deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",windowHeightPoints:840,windowWidthPoints:432,clientVersion:ne.ANDROID.VERSION}},videoId:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),bg(i)}n(KI,"encodeVideoMetadataPayload");function qI(t,e){let i={context:{client:{nameId:3,osName:"Android",androidSdkVersion:ne.ANDROID.SDK_VERSION,osVersion:"13",acceptLanguage:"en-US",acceptRegion:"US",deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",windowHeightPoints:840,windowWidthPoints:432,clientVersion:ne.ANDROID.VERSION}},videoId:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return bg(i)}n(qI,"encodeCustomThumbnailPayload");function XI(t){let e=Qy({params:{hashtag:t,type:1}});return encodeURIComponent(ze(e))}n(XI,"encodeHashtag");function Ig(t){let e=eb({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent(ze(e))}n(Ig,"encodeReelSequence");function QI(){let t=ib({f1:{p1:1},p59:1});return encodeURIComponent(ze(t))}n(QI,"encodeShortsParam");var vt,ou=class extends s{constructor(e){var i,o,r,a,c,p,d;super(),vt.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=g.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=l.parseItem(e.sponsorCommentBadge,e_),this.paid_comment_chip=l.parseItem(e.paidCommentChipRenderer,Zh),this.author_badge=l.parseItem(e.authorCommentBadge,Qh),this.author=new B(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=l.parseItem(e.actionMenu,O),this.action_buttons=l.parseItem(e.actionButtons,Uo),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((r=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||r===void 0)&&r.is_toggled),this.is_disliked=!!(!((c=(a=this.action_buttons)===null||a===void 0?void 0:a.dislike_button)===null||c===void 0)&&c.is_toggled),this.is_hearted=!!(!((d=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||d===void 0)&&d.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){return k(this,void 0,void 0,function*(){var e;if(!f(this,vt,"f"))throw new b("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new b("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new b("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(f(this,vt,"f"),{parse:!1})})}dislike(){return k(this,void 0,void 0,function*(){var e;if(!f(this,vt,"f"))throw new b("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new b("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new b("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(f(this,vt,"f"),{parse:!1})})}reply(e){return k(this,void 0,void 0,function*(){var i,o,r;if(!f(this,vt,"f"))throw new b("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new b("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let a=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((r=a.endpoint)===null||r===void 0)&&r.dialog))throw new b("Reply button endpoint did not have a dialog.");let p=a.endpoint.dialog.as(Zo).reply_button;if(!p)throw new b("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new b("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(f(this,vt,"f"),{commentText:e})})}translate(e){return k(this,void 0,void 0,function*(){var i,o,r,a,c,p;if(!f(this,vt,"f"))throw new b("An active caller must be provide to perform this operation.");let h={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},_=iu(22,h),x=yield f(this,vt,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),y=(o=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,w=(p=(c=(a=(r=y==null?void 0:y[0])===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:w})})}setActions(e){E(this,vt,e,"f")}};n(ou,"Comment");vt=new WeakMap;ou.type="Comment";var nn=ou;var nu=class extends s{constructor(e){super(),this.id=e.id,this.categories=l.parseArray(e.categories),this.category_buttons=l.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(nu,"EmojiPicker");nu.type="EmojiPicker";var n_=nu;var ru=class extends s{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=g.fromResponse(e.authorThumbnail),this.submit_button=l.parseItem(e.submitButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.placeholder=new u(e.placeholderText),this.emoji_button=l.parseItem(e.emojiButton,T),this.emoji_picker=l.parseItem(e.emojiPicker,n_)}};n(ru,"CommentDialog");ru.type="CommentDialog";var ob=ru;var su=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),this.view_replies=l.parseItem(e.viewReplies,T),this.hide_replies=l.parseItem(e.hideReplies,T),this.view_replies_creator_thumbnail=g.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(su,"CommentReplies");su.type="CommentReplies";var r_=su;var au=class extends s{constructor(e){super(),this.simplebox_avatar=g.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};n(au,"CommentsSimplebox");au.type="CommentsSimplebox";var s_=au;var uu=class extends s{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=g.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};n(uu,"CommentsEntryPointTeaser");uu.type="CommentsEntryPointTeaser";var a_=uu;var lu=class extends s{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=g.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=l.parseItem(e.contentRenderer,[a_,s_])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};n(lu,"CommentsEntryPointHeader");lu.type="CommentsEntryPointHeader";var u_=lu;var cu=class extends s{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=l.parseItem(e.createRenderer),this.sort_menu=l.parseItem(e.sortMenu,_t),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:g.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(cu,"CommentsHeader");cu.type="CommentsHeader";var di=cu;var pu=class extends s{constructor(e){super(),this.submit_button=l.parseItem(e.submitButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.author_thumbnail=g.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};n(pu,"CommentSimplebox");pu.type="CommentSimplebox";var l_=pu;var Ue,du=class extends s{constructor(e){super(),Ue.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,o){e&&(this.content=u.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new B({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),o&&!Reflect.has(o,"prepareAccountCommand")&&(this.like_command=new v(o.likeCommand),this.dislike_command=new v(o.dislikeCommand),this.unlike_command=new v(o.unlikeCommand),this.undislike_command=new v(o.undislikeCommand),this.reply_command=new v(o.replyCommand))}like(){return k(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.like_command)throw new b("Like command not found.");if(this.is_liked)throw new b("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(f(this,Ue,"f"))})}dislike(){return k(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.dislike_command)throw new b("Dislike command not found.");if(this.is_disliked)throw new b("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(f(this,Ue,"f"))})}unlike(){return k(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.unlike_command)throw new b("Unlike command not found.");if(!this.is_liked)throw new b("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(f(this,Ue,"f"))})}undislike(){return k(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.undislike_command)throw new b("Undislike command not found.");if(!this.is_disliked)throw new b("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(f(this,Ue,"f"))})}reply(e){return k(this,void 0,void 0,function*(){var i;if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.reply_command)throw new b("Reply command not found.");let o=(i=this.reply_command.dialog)===null||i===void 0?void 0:i.as(Zo);if(!o)throw new b("Reply dialog not found.");let r=o.reply_button;if(!r)throw new b("Reply button not found in the dialog.");if(!r.endpoint)throw new b("Reply button endpoint not found.");return r.endpoint.call(f(this,Ue,"f"),{commentText:e})})}translate(e){return k(this,void 0,void 0,function*(){var i,o,r,a,c,p;if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.content)throw new b("Comment content not found.",{comment_id:this.comment_id});let h={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},_=iu(22,h),x=yield f(this,Ue,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),y=(o=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,w=(p=(c=(a=(r=y==null?void 0:y[0])===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:w})})}setActions(e){E(this,Ue,e,"f")}};n(du,"CommentView");Ue=new WeakMap;du.type="CommentView";var fi=du;var Yt,Ki,fu=class extends s{constructor(e){super(),Yt.set(this,void 0),Ki.set(this,void 0),Reflect.has(e,"commentViewModel")?this.comment=l.parseItem(e.commentViewModel,fi):this.comment=l.parseItem(e.comment,nn),this.comment_replies_data=l.parseItem(e.replies,r_),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){return k(this,void 0,void 0,function*(){var e;if(!f(this,Yt,"f"))throw new b("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new b("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(pe);if(!i)throw new b("Replies continuation not found.");let o=yield i.endpoint.call(f(this,Yt,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new b("Unexpected response.",o);return this.replies=oe(o.on_response_received_endpoints_memo.getType(nn,fi).map(r=>(r.setActions(f(this,Yt,"f")),r))),E(this,Ki,o==null?void 0:o.on_response_received_endpoints_memo.getType(pe).first(),"f"),this})}getContinuation(){return k(this,void 0,void 0,function*(){var e;if(!this.replies)throw new b("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!f(this,Ki,"f"))throw new b("Continuation not found.");if(!f(this,Yt,"f"))throw new b("Actions instance not set for this thread.");let i=(e=f(this,Ki,"f").button)===null||e===void 0?void 0:e.as(T);if(!i)throw new b('"Load more" button not found.');let o=yield i.endpoint.call(f(this,Yt,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new b("Unexpected response.",o);return this.replies=oe(o.on_response_received_endpoints_memo.getType(nn,fi).map(r=>(r.setActions(f(this,Yt,"f")),r))),E(this,Ki,o.on_response_received_endpoints_memo.getType(pe).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new b("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!f(this,Ki,"f")}setActions(e){E(this,Yt,e,"f")}};n(fu,"CommentThread");Yt=new WeakMap,Ki=new WeakMap;fu.type="CommentThread";var c_=fu;var mu=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=g.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.navigationEndpoint),this.tv_banner=g.fromResponse(e.tvBanner),this.menu=l.parseItem(e.menu,O)}};n(mu,"CompactChannel");mu.type="CompactChannel";var nb=mu;var hu=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new v(e.navigationEndpoint),this.style=e.style}};n(hu,"CompactLink");hu.type="CompactLink";var rn=hu;var _u=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(_u,"PlaylistCustomThumbnail");_u.type="PlaylistCustomThumbnail";var sn=_u;var vu=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(vu,"PlaylistVideoThumbnail");vu.type="PlaylistVideoThumbnail";var an=vu;var xu=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new B(e.longBylineText,e.ownerBadges,null),this.thumbnails=g.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=l.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=l.parseItem(e.menu),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer,[an,sn])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};n(xu,"Playlist");xu.type="Playlist";var Nt=xu;var gu=class extends Nt{constructor(e){super(e)}};n(gu,"CompactMix");gu.type="CompactMix";var rb=gu;var yu=class extends s{constructor(e){var i;super();let o=((i=e.thumbnailOverlays.find(a=>a.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new B(e.shortBylineText);let r=e.lengthText?new u(e.lengthText).toString():new u(o).toString();this.duration={text:r,seconds:Se(r)},this.endpoint=new v(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=l.parseItem(e.menu,O)}};n(yu,"CompactMovie");yu.type="CompactMovie";var sb=yu;var bu=class extends Nt{constructor(e){super(e)}};n(bu,"CompactPlaylist");bu.type="CompactPlaylist";var ab=bu;var wu=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail=g.fromResponse(e.thumbnail)}};n(wu,"CompactStation");wu.type="CompactStation";var ub=wu;var Tu=class extends s{constructor(e){super(),this.title=new u(e.title),this.confirm_button=l.parseItem(e.confirmButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(Tu,"ConfirmDialog");Tu.type="ConfirmDialog";var lb=Tu;var ku=class extends s{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var o;return{metadata_parts:(o=i.metadataParts)===null||o===void 0?void 0:o.map(r=>({text:u.fromAttributed(r.text)}))}}),this.delimiter=e.delimiter}};n(ku,"ContentMetadataView");ku.type="ContentMetadataView";var un=ku;var Iu=class extends s{constructor(e){super(),this.text=new u(e.text)}};n(Iu,"Message");Iu.type="Message";var mi=Iu;var Su=class extends s{constructor(e){super(),this.availability_message=l.parseItem(e.availabilityMessage,mi)}};n(Su,"ConversationBar");Su.type="ConversationBar";var cb=Su;var Cu=class extends s{constructor(e){super(),this.copy_button=l.parseItem(e.copyButton,T),this.short_url=e.shortUrl,this.style=e.style}};n(Cu,"CopyLink");Cu.type="CopyLink";var p_=Cu;var Eu=class extends s{constructor(e){var i,o;super(),this.avatar=l.parseItem(e.avatar,lh),this.a11y_label=e.a11yLabel,!((o=(i=e.rendererContext)===null||i===void 0?void 0:i.commandContext)===null||o===void 0)&&o.onTap&&(this.on_tap_endpoint=new v(e.rendererContext.commandContext.onTap))}};n(Eu,"DecoratedAvatarView");Eu.type="DecoratedAvatarView";var d_=Eu;var Nu=class extends s{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(Nu,"HeatMarker");Nu.type="HeatMarker";var f_=Nu;var Pu=class extends s{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=l.parseArray(e.heatMarkers,f_),this.heat_markers_decorations=l.parseArray(e.heatMarkersDecorations)}};n(Pu,"Heatmap");Pu.type="Heatmap";var m_=Pu;var Ru=class extends s{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=l.parseItem(e.value.heatmap,m_)),Reflect.has(e.value,"chapters")&&(this.value.chapters=l.parseArray(e.value.chapters,Jh)))}};n(Ru,"Marker");Ru.type="Marker";var Au=class extends s{constructor(e){var i;super(),this.markers_map=oe(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new Ru(o)))||[])}};n(Au,"MultiMarkersPlayerBar");Au.type="MultiMarkersPlayerBar";var h_=Au;var Vu=class extends s{constructor(e){super(),this.player_bar=l.parseItem(e.playerBar,h_),this.player_bar_action_button=l.parseItem(e.playerBarActionButton,T)}};n(Vu,"DecoratedPlayerBar");Vu.type="DecoratedPlayerBar";var __=Vu;var Mu=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new v(e.navigationEndpoint),this.large_form_factor_background_thumbnail=l.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=l.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(Mu,"DefaultPromoPanel");Mu.type="DefaultPromoPanel";var pb=Mu;var Bu=class extends s{constructor(e){var i,o,r,a,c,p;if(super(),this.description=u.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=u.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,!((r=(o=(i=e.rendererContext.commandContext)===null||i===void 0?void 0:i.onTap)===null||o===void 0?void 0:o.innertubeCommand)===null||r===void 0)&&r.showEngagementPanelEndpoint){let d=(p=(c=(a=e.rendererContext.commandContext)===null||a===void 0?void 0:a.onTap)===null||c===void 0?void 0:c.innertubeCommand)===null||p===void 0?void 0:p.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:l.parseItem(d.engagementPanel,ai),engagement_panel_popup_type:d.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:d.identifier.surface,tag:d.identifier.tag}}}}}};n(Bu,"DescriptionPreviewView");Bu.type="DescriptionPreviewView";var v_=Bu;var Lu=class extends s{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new v(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(Lu,"DidYouMean");Lu.type="DidYouMean";var db=Lu;var Du=class extends s{constructor(e){super(),this.default_button=l.parseItem(e.defaultButtonViewModel,Hi),this.toggled_button=l.parseItem(e.toggledButtonViewModel,Hi),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};n(Du,"ToggleButtonView");Du.type="ToggleButtonView";var hi=Du;var Ou=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,hi),this.dislike_entity_key=e.dislikeEntityKey}};n(Ou,"DislikeButtonView");Ou.type="DislikeButtonView";var x_=Ou;var Fu=class extends s{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new v(e.command),this.target_id=e.targetId}};n(Fu,"DownloadButton");Fu.type="DownloadButton";var g_=Fu;var ju=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};n(ju,"DynamicTextView");ju.type="DynamicTextView";var y_=ju;var qi=class extends s{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new qi(o)))}};n(qi,"ChildElement");qi.type="ChildElement";var b_=qi;var Xi=class extends s{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return l.parseItem(e,Xi);let o=e.newElement.type.componentType;this.model=l.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=oe(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(r=>new b_(r)))||[]))}};n(Xi,"Element");Xi.type="Element";var ln=Xi;var Yu=class extends s{constructor(e){super(),this.title=new u(e.title),this.first_option=l.parseItem(e.firstOption),this.menu=l.parseItem(e.menu,O)}};n(Yu,"EmergencyOnebox");Yu.type="EmergencyOnebox";var fb=Yu;var Uu=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n(Uu,"EmojiPickerCategory");Uu.type="EmojiPickerCategory";var mb=Uu;var Wu=class extends s{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(Wu,"EmojiPickerCategoryButton");Wu.type="EmojiPickerCategoryButton";var hb=Wu;var Ju=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new v(e.command),this.emoji_ids=e.emojiIds}};n(Ju,"EmojiPickerUpsellCategory");Ju.type="EmojiPickerUpsellCategory";var _b=Ju;var Hu=class extends s{constructor(e){super(),this.elements=l.parseArray(e.elements),this.start_ms=e.startMs}};n(Hu,"Endscreen");Hu.type="Endscreen";var w_=Hu;var Gu=class extends s{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new v(e.endpoint),Reflect.has(e,"image")&&(this.image=g.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=g.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=l.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(Gu,"EndscreenElement");Gu.type="EndscreenElement";var vb=Gu;var zu=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new v(e.navigationEndpoint),this.thumbnails=g.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};n(zu,"EndScreenPlaylist");zu.type="EndScreenPlaylist";var T_=zu;var $u=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new B(e.shortBylineText,e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=l.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n($u,"EndScreenVideo");$u.type="EndScreenVideo";var k_=$u;var Ku=class extends s{constructor(e){super(),this.title=e.title,this.endpoint=new v(e.endpoint),this.selected=e.selected,this.content=l.parseItem(e.content)}};n(Ku,"ExpandableTab");Ku.type="ExpandableTab";var cn=Ku;var qu=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(qu,"ExpandedShelfContents");qu.type="ExpandedShelfContents";var xb=qu;var Xu=class extends s{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};n(Xu,"FancyDismissibleDialog");Xu.type="FancyDismissibleDialog";var gb=Xu;var Qu=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,Ye)}};n(Qu,"FeedFilterChipBar");Qu.type="FeedFilterChipBar";var Ut=Qu;var Zu=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.endpoint=new v(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};n(Zu,"FeedNudge");Zu.type="FeedNudge";var yb=Zu;var el=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(el,"FeedTabbedHeader");el.type="FeedTabbedHeader";var I_=el;var tl=class extends s{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:l.parseArray(i.actions,[Hi,hi])})),this.style=e.style}};n(tl,"FlexibleActionsView");tl.type="FlexibleActionsView";var S_=tl;var il=class extends s{constructor(e){super(),this.title=new u(e.title),this.box_art=g.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new v(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(il,"GameDetails");il.type="GameDetails";var bb=il;var ol=class extends s{constructor(e){var i,o,r;super(),this.items=l.parseArray(e.items),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}get contents(){return this.items}};n(ol,"Grid");ol.type="Grid";var wb=ol;var nl=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new B(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton)}};n(nl,"GridChannel");nl.type="GridChannel";var C_=nl;var rl=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(rl,"GridHeader");rl.type="GridHeader";var Tb=rl;var sl=class extends s{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new u(e.longBylineText):null,this.thumbnails=g.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.secondary_endpoint=new v(e.secondaryNavigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};n(sl,"GridMix");sl.type="GridMix";var kb=sl;var al=class extends s{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):o!=null&&o.text?new u(o.text):null,this.endpoint=new v(e.navigationEndpoint),this.badges=l.parseArray(e.badges,Ge),this.metadata=new u(e.metadata),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};n(al,"GridMovie");al.type="GridMovie";var Ib=al;var ul=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new B(e.shortBylineText,e.ownerBadges)),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>g.fromResponse(o)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};n(ul,"GridPlaylist");ul.type="GridPlaylist";var E_=ul;var ll=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(ll,"ShowCustomThumbnail");ll.type="ShowCustomThumbnail";var N_=ll;var cl=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(cl,"ThumbnailOverlayBottomPanel");cl.type="ThumbnailOverlayBottomPanel";var P_=cl;var pl=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=ee(e.thumbnailRenderer,N_),this.endpoint=new v(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=Le(e.thumbnailOverlays,P_),this.author=new B(e.shortBylineText,void 0)}};n(pl,"GridShow");pl.type="GridShow";var Sb=pl;var dl=class extends s{constructor(e){var i,o;super();let r=(i=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.rich_thumbnail=l.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):r!=null&&r.text?new u(r.text):null,this.author=e.shortBylineText&&new B(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new v(e.navigationEndpoint),this.menu=l.parseItem(e.menu,O),Reflect.has(e,"buttons")&&(this.buttons=l.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(dl,"GridVideo");dl.type="GridVideo";var R_=dl;var fl=class extends s{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=g.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(fl,"GuideEntry");fl.type="GuideEntry";var Qi=fl;var ml=class extends s{constructor(e){super(),this.expander_item=ee(e.expanderItem,Qi),this.collapser_item=ee(e.collapserItem,Qi),this.expandable_items=Le(e.expandableItems)}};n(ml,"GuideCollapsibleEntry");ml.type="GuideCollapsibleEntry";var Cb=ml;var hl=class extends s{constructor(e){super(),this.header_entry=ee(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Le(e.sectionItems)}};n(hl,"GuideCollapsibleSectionEntry");hl.type="GuideCollapsibleSectionEntry";var Eb=hl;var _l=class extends Qi{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(_l,"GuideDownloadsEntry");_l.type="GuideDownloadsEntry";var Nb=_l;var vl=class extends s{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=Le(e.items)}};n(vl,"GuideSection");vl.type="GuideSection";var pn=vl;var xl=class extends pn{};n(xl,"GuideSubscriptionsSection");xl.type="GuideSubscriptionsSection";var A_=xl;var gl=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};n(gl,"HashtagHeader");gl.type="HashtagHeader";var V_=gl;var yl=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=g.fromResponse(e.hashtagThumbnail),this.endpoint=new v(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};n(yl,"HashtagTile");yl.type="HashtagTile";var Pb=yl;var bl=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap)}};n(bl,"HeroPlaylistThumbnail");bl.type="HeroPlaylistThumbnail";var Rb=bl;var wl=class extends s{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:g.fromResponse(e.thumbnail.image),endpoint:new v(e.thumbnail.onTap),on_long_press_endpoint:new v(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:g.fromResponse(e.backgroundImage.image),gradient_image:g.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new v(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new v(e.textOnTap)}};n(wl,"Panel");wl.type="Panel";var Tl=class extends s{constructor(e){super(),this.panels=oe(e.highlightsCarousel.panels.map(i=>new wl(i)))}};n(Tl,"HighlightsCarousel");Tl.type="HighlightsCarousel";var Ab=Tl;var kl=class extends s{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new v(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new v(e.serviceEndpoint))}};n(kl,"SearchSuggestion");kl.type="SearchSuggestion";var M_=kl;var Il=class extends M_{constructor(e){super(e)}};n(Il,"HistorySuggestion");Il.type="HistorySuggestion";var Vb=Il;var Sl=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.previous_button=l.parseItem(e.previousButton,T),this.next_button=l.parseItem(e.nextButton,T)}get contents(){return this.items}};n(Sl,"HorizontalMovieList");Sl.type="HorizontalMovieList";var Mb=Sl;var Cl=class extends s{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new v(e.navigationEndpoint)}};n(Cl,"IconLink");Cl.type="IconLink";var B_=Cl;var El=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.style=e.style}};n(El,"ImageBannerView");El.type="ImageBannerView";var L_=El;var Nl=class extends s{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new v(e.originalQueryEndpoint):void 0}};n(Nl,"IncludingResultsFor");Nl.type="IncludingResultsFor";var Bb=Nl;var Pl=class extends s{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(i=>new u(i))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(i=>u.fromAttributed(i))),this.thumbnail=g.fromResponse(e.thumbnail),this.source_endpoint=new v(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(Pl,"InfoPanelContent");Pl.type="InfoPanelContent";var D_=Pl;var Rl=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.menu=l.parseItem(e.menu,O),this.content=l.parseItem(e.content,D_),e.headerEndpoint&&(this.header_endpoint=new v(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(Rl,"InfoPanelContainer");Rl.type="InfoPanelContainer";var O_=Rl;var Al=class extends s{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=l.parseArray(e.badges,Ge),this.box_art=g.fromResponse(e.boxArt),this.banner=g.fromResponse(e.banner),this.buttons=l.parseArray(e.buttons,[Be,T]),this.auto_generated=new u(e.autoGenerated)}};n(Al,"InteractiveTabbedHeader");Al.type="InteractiveTabbedHeader";var F_=Al;var Vl=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Vl,"ItemSectionHeader");Vl.type="ItemSectionHeader";var dn=Vl;var Ml=class extends s{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new v(e.endpoint)}};n(Ml,"ItemSectionTab");Ml.type="Tab";var j_=Ml;var Bl=class extends s{constructor(e){super(),this.title=new u(e.title),this.tabs=l.parseArray(e.tabs,j_),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};n(Bl,"ItemSectionTabbedHeader");Bl.type="ItemSectionTabbedHeader";var fn=Bl;var Ll=class extends s{constructor(e){super(),this.filter_menu=l.parseItem(e.filterMenu,Zi.SortFilterSubMenu)}};n(Ll,"SortFilterHeader");Ll.type="SortFilterHeader";var Y_=Ll;var Dl=class extends s{constructor(e){var i,o,r;super(),this.header=l.parseItem(e.header,[di,dn,fn,Y_]),this.contents=l.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(Dl,"ItemSection");Dl.type="ItemSection";var $e=Dl;var Ol=class extends s{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new v(i)))}};n(Ol,"LikeButton");Ol.type="LikeButton";var U_=Ol;var Fl=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,hi),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};n(Fl,"LikeButtonView");Fl.type="LikeButtonView";var W_=Fl;var jl=class extends s{constructor(e){var i,o;super(),this.header=l.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(jl,"LiveChat");jl.type="LiveChat";var J_=jl;var Yl=class extends s{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};n(Yl,"LiveChatBannerHeader");Yl.type="LiveChatBannerHeader";var H_=Yl;var Ul=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,H_),this.contents=l.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(Ul,"LiveChatBanner");Ul.type="LiveChatBanner";var G_=Ul;var Wl=class extends s{constructor(e){super(),this.banner=l.parseItem(e.bannerRenderer,G_)}};n(Wl,"AddBannerToLiveChatCommand");Wl.type="AddBannerToLiveChatCommand";var Lb=Wl;var Jl=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(Jl,"AddChatItemAction");Jl.type="AddChatItemAction";var z_=Jl;var Hl=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),this.duration_sec=e.durationSec}};n(Hl,"AddLiveChatTickerItemAction");Hl.type="AddLiveChatTickerItemAction";var Db=Hl;var Gl=class extends s{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(Gl,"DimChatItemAction");Gl.type="DimChatItemAction";var Ob=Gl;var zl=class extends s{constructor(e){super(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.moderation_buttons=l.parseArray(e.moderationButtons,T),this.auto_moderated_item=l.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(zl,"LiveChatAutoModMessage");zl.type="LiveChatAutoModMessage";var Fb=zl;var $l=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=g.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};n($l,"LiveChatBannerPoll");$l.type="LiveChatBannerPoll";var jb=$l;var Kl=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(Kl,"LiveChatMembershipItem");Kl.type="LiveChatMembershipItem";var Yb=Kl;var ql=class extends s{constructor(e){super(),this.message=new u(e.message),this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};n(ql,"LiveChatPaidMessage");ql.type="LiveChatPaidMessage";var Ub=ql;var Xl=class extends s{constructor(e){super(),this.id=e.id,this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=g.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Xl,"LiveChatPaidSticker");Xl.type="LiveChatPaidSticker";var Wb=Xl;var Ql=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Ql,"LiveChatPlaceholderItem");Ql.type="LiveChatPlaceholderItem";var Jb=Ql;var Zl=class extends s{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=g.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=l.parseItem(e.informationButton),this.endpoint=new v(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=g.fromResponse(e.authorPhoto),this.information_dialog=l.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};n(Zl,"LiveChatProductItem");Zl.type="LiveChatProductItem";var Hb=Zl;var ec=class extends s{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(ec,"LiveChatRestrictedParticipation");ec.type="LiveChatRestrictedParticipation";var Gb=ec;var eo=class extends s{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=l.parseArray(e.inlineActionButtons,T),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(eo,"LiveChatMessageBase");eo.type="LiveChatMessageBase";var tc=class extends eo{constructor(e){super(e),this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(tc,"LiveChatTextMessage");tc.type="LiveChatTextMessage";var zb=tc;var ic=class extends s{constructor(e){var i,o;super(),this.author=new B(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=l.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new v(e.showItemEndpoint),this.id=e.id}};n(ic,"LiveChatTickerPaidMessageItem");ic.type="LiveChatTickerPaidMessageItem";var $_=ic;var oc=class extends $_{};n(oc,"LiveChatTickerPaidStickerItem");oc.type="LiveChatTickerPaidStickerItem";var $b=oc;var nc=class extends s{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new B(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(nc,"LiveChatTickerSponsorItem");nc.type="LiveChatTickerSponsorItem";var Kb=nc;var rc=class extends eo{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=l.parseItem(e.actionButton)}};n(rc,"LiveChatViewerEngagementMessage");rc.type="LiveChatViewerEngagementMessage";var qb=rc;var sc=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=g.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};n(sc,"PollHeader");sc.type="PollHeader";var Xb=sc;var ac=class extends s{constructor(e){super(),this.id=e.id,this.contents=l.parse(e.contents),this.target_id=e.targetId}};n(ac,"LiveChatActionPanel");ac.type="LiveChatActionPanel";var K_=ac;var uc=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(uc,"MarkChatItemAsDeletedAction");uc.type="MarkChatItemAsDeletedAction";var Qb=uc;var lc=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(lc,"MarkChatItemsByAuthorAsDeletedAction");lc.type="MarkChatItemsByAuthorAsDeletedAction";var Zb=lc;var cc=class extends s{constructor(e){super(),this.target_action_id=e.targetActionId}};n(cc,"RemoveBannerForLiveChatCommand");cc.type="RemoveBannerForLiveChatCommand";var ew=cc;var pc=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId}};n(pc,"RemoveChatItemAction");pc.type="RemoveChatItemAction";var tw=pc;var dc=class extends s{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(dc,"RemoveChatItemByAuthorAction");dc.type="RemoveChatItemByAuthorAction";var iw=dc;var fc=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=l.parseItem(e.replacementItem)}};n(fc,"ReplaceChatItemAction");fc.type="ReplaceChatItemAction";var ow=fc;var mc=class extends s{constructor(e){var i;super(),this.actions=l.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(mc,"ReplayChatItemAction");mc.type="ReplayChatItemAction";var nw=mc;var hc=class extends s{constructor(e){super(),this.panel_to_show=l.parseItem(e.panelToShow,K_)}};n(hc,"ShowLiveChatActionPanelAction");hc.type="ShowLiveChatActionPanelAction";var rw=hc;var _c=class extends s{constructor(e){super(),this.dialog=l.parseItem(e.dialog)}};n(_c,"ShowLiveChatDialogAction");_c.type="ShowLiveChatDialogAction";var sw=_c;var vc=class extends s{constructor(e){super(),this.tooltip=l.parseItem(e.tooltip)}};n(vc,"ShowLiveChatTooltipCommand");vc.type="ShowLiveChatTooltipCommand";var aw=vc;var xc=class extends s{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};n(xc,"UpdateDateTextAction");xc.type="UpdateDateTextAction";var q_=xc;var gc=class extends s{constructor(e){super(),this.description=new u(e.description)}};n(gc,"UpdateDescriptionAction");gc.type="UpdateDescriptionAction";var X_=gc;var yc=class extends s{constructor(e){super(),this.poll_to_update=l.parseItem(e.pollToUpdate)}};n(yc,"UpdateLiveChatPollAction");yc.type="UpdateLiveChatPollAction";var uw=yc;var bc=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(bc,"UpdateTitleAction");bc.type="UpdateTitleAction";var Q_=bc;var wc=class extends s{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};n(wc,"UpdateToggleButtonTextAction");wc.type="UpdateToggleButtonTextAction";var Z_=wc;var Tc=class extends s{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};n(Tc,"UpdateViewershipAction");Tc.type="UpdateViewershipAction";var ev=Tc;var kc=class extends Ge{constructor(e){super(e),this.custom_thumbnail=g.fromResponse(e.customThumbnail)}};n(kc,"LiveChatAuthorBadge");kc.type="LiveChatAuthorBadge";var lw=kc;var Ic=class extends s{constructor(e){super(),this.confirm_button=l.parseItem(e.confirmButton,T),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(Ic,"LiveChatDialog");Ic.type="LiveChatDialog";var cw=Ic;var Sc=class extends s{constructor(e){super(),this.overflow_menu=l.parseItem(e.overflowMenu,O),this.collapse_button=l.parseItem(e.collapseButton,T),this.view_selector=l.parseItem(e.viewSelector,_t)}};n(Sc,"LiveChatHeader");Sc.type="LiveChatHeader";var tv=Sc;var Cc=class extends s{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=l.parseItem(e.moreCommentsBelowButton,T)}};n(Cc,"LiveChatItemList");Cc.type="LiveChatItemList";var iv=Cc;var Ec=class extends s{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=g.fromResponse(e.authorPhoto),this.send_button=l.parseItem(e.sendButton,T),this.target_id=e.targetId}};n(Ec,"LiveChatMessageInput");Ec.type="LiveChatMessageInput";var pw=Ec;var Nc=class extends s{constructor(e){super(),this.name=new u(e.authorName),this.photo=g.fromResponse(e.authorPhoto),this.badges=l.parseArray(e.authorBadges)}};n(Nc,"LiveChatParticipant");Nc.type="LiveChatParticipant";var ov=Nc;var Pc=class extends s{constructor(e){super(),this.title=new u(e.title),this.participants=l.parseArray(e.participants,ov)}};n(Pc,"LiveChatParticipantsList");Pc.type="LiveChatParticipantsList";var nv=Pc;var Rc=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.metadata=l.parseItem(e.metadata,un)}};n(Rc,"LockupMetadataView");Rc.type="LockupMetadataView";var rv=Rc;var Ac=class extends s{constructor(e){super(),this.content_image=l.parseItem(e.contentImage,qh),this.metadata=l.parseItem(e.metadata,rv),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.on_tap_endpoint=new v(e.rendererContext.commandContext.onTap)}};n(Ac,"LockupView");Ac.type="LockupView";var sv=Ac;var Vc=class extends T{constructor(e){super(e)}};n(Vc,"MenuNavigationItem");Vc.type="MenuNavigationItem";var av=Vc;var Mc=class extends T{constructor(e){super(e)}};n(Mc,"MenuServiceItem");Mc.type="MenuServiceItem";var _i=Mc;var Bc=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[av,_i])}};n(Bc,"MenuPopup");Bc.type="MenuPopup";var dw=Bc;var Lc=class extends s{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint)}};n(Lc,"MenuServiceItemDownload");Lc.type="MenuServiceItemDownload";var fw=Lc;var Dc=class extends s{constructor(e){super(),this.header=l.parse(e.header),this.sections=l.parse(e.sections),this.style=e.style}};n(Dc,"MultiPageMenu");Dc.type="MultiPageMenu";var mw=Dc;var Oc=class extends s{constructor(e){super(),this.items=l.parse(e.items)}get contents(){return this.items}};n(Oc,"MultiPageMenuNotificationSection");Oc.type="MultiPageMenuNotificationSection";var hw=Oc;var Fc=class extends s{constructor(e){super()}};n(Fc,"MusicMenuItemDivider");Fc.type="MusicMenuItemDivider";var uv=Fc;var jc=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new v(e.selectedCommand)),this.selected=!!this.endpoint}};n(jc,"MusicMultiSelectMenuItem");jc.type="MusicMultiSelectMenuItem";var mn=jc;var Yc=class extends s{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=l.parseArray(e.options,[mn,uv])}};n(Yc,"MusicMultiSelectMenu");Yc.type="MusicMultiSelectMenu";var lv=Yc;var Uc=class extends s{constructor(e){super(),this.title=new u(e.title),this.buttons=l.parse(e.buttons)}};n(Uc,"SimpleMenuHeader");Uc.type="SimpleMenuHeader";var cv=Uc;var Wc=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=g.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new v(e.buttonCommand)}};n(Wc,"MerchandiseItem");Wc.type="MerchandiseItem";var _w=Wc;var Jc=class extends s{constructor(e){super(),this.title=e.title,this.menu=l.parseItem(e.actionButton),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(Jc,"MerchandiseShelf");Jc.type="MerchandiseShelf";var pv=Jc;var Hc=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};n(Hc,"MetadataRow");Hc.type="MetadataRow";var vw=Hc;var Gc=class extends s{constructor(e){super(),this.rows=l.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(Gc,"MetadataRowContainer");Gc.type="MetadataRowContainer";var dv=Gc;var zc=class extends s{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};n(zc,"MetadataRowHeader");zc.type="MetadataRowHeader";var xw=zc;var $c=class extends s{constructor(e){super(),this.section_list=l.parseItem(e)}};n($c,"MetadataScreen");$c.type="MetadataScreen";var gw=$c;var Kc=class extends s{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=g.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(Kc,"MicroformatData");Kc.type="MicroformatData";var hn=Kc;var qc=class extends Nt{constructor(e){super(e)}};n(qc,"Mix");qc.type="Mix";var yw=qc;var Xc=class extends s{constructor(e){super(),this.title=new u(e.title),this.content=new u(e.content),this.button=l.parseItem(e.button,T)}};n(Xc,"ModalWithTitleAndButton");Xc.type="ModalWithTitleAndButton";var bw=Xc;var Qc=class extends s{constructor(e){var i,o,r;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new B(e.longBylineText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:Se(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.endpoint=new v(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=l.parseItem(e.menu,O)}};n(Qc,"Movie");Qc.type="Movie";var ww=Qc;var Zc=class extends s{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new g(o)).sort((o,r)=>r.width-o.width)}};n(Zc,"MovingThumbnail");Zc.type="MovingThumbnail";var Tw=Zc;var ep=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(ep,"MusicCardShelfHeaderBasic");ep.type="MusicCardShelfHeaderBasic";var fv=ep;var tp=class extends s{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(tp,"MusicInlineBadge");tp.type="MusicInlineBadge";var _n=tp;var ip=class extends s{constructor(e){var i,o;super(),this.endpoint=new v(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(ip,"MusicPlayButton");ip.type="MusicPlayButton";var vn=ip;var op=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,vn),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(op,"MusicItemThumbnailOverlay");op.type="MusicItemThumbnailOverlay";var Pt=op;var np=class extends s{constructor(e){super(),this.contents=g.fromResponse(e.thumbnail)}};n(np,"MusicThumbnail");np.type="MusicThumbnail";var Ae=np;var rp=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ae),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=l.parseArray(e.buttons,T),this.menu=l.parseItem(e.menu,O),this.on_tap=new v(e.onTap),this.header=l.parseItem(e.header,fv),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=l.parseArray(e.subtitleBadges,_n),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Pt),Reflect.has(e,"contents")&&(this.contents=l.parseArray(e.contents))}};n(rp,"MusicCardShelf");rp.type="MusicCardShelf";var kw=rp;var sp=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Ae)),Reflect.has(e,"moreContentButton")&&(this.more_content=l.parseItem(e.moreContentButton,T)),Reflect.has(e,"endIcons")&&(this.end_icons=l.parseArray(e.endIcons,B_))}};n(sp,"MusicCarouselShelfBasicHeader");sp.type="MusicCarouselShelfBasicHeader";var mv=sp;var ap=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ae),this.overlay=l.parseItem(e.overlay,Pt),this.on_tap=new v(e.onTap),this.menu=l.parseItem(e.menu,O),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};n(ap,"MusicMultiRowListItem");ap.type="MusicMultiRowListItem";var hv=ap;var up=class extends s{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new v(e.clickCommand)}};n(up,"MusicNavigationButton");up.type="MusicNavigationButton";var _v=up;var lp=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(lp,"MusicResponsiveListItemFixedColumn");lp.type="musicResponsiveListItemFlexColumnRenderer";var vv=lp;var cp=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(cp,"MusicResponsiveListItemFlexColumn");cp.type="MusicResponsiveListItemFlexColumn";var xv=cp;var it,xn,Cg,Cw,Iw,Sw,Ew,Nw,Pw,Rw,Aw,Vw,pp=class extends s{constructor(e){var i,o,r,a,c,p;super(),it.add(this),xn.set(this,void 0),this.flex_columns=l.parseArray(e.flexColumns,xv),this.fixed_columns=l.parseArray(e.fixedColumns,vv),E(this,xn,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint));let d=(p=(c=(a=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseEndpointContextSupportedConfigs)===null||c===void 0?void 0:c.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(d||this.flex_columns.find(_=>{var x,y,w,I;return((I=(w=(y=(x=_.title.endpoint)===null||x===void 0?void 0:x.payload)===null||y===void 0?void 0:y.browseEndpointContextSupportedConfigs)===null||w===void 0?void 0:w.browseEndpointContextMusicConfig)===null||I===void 0?void 0:I.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(d="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),d){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",f(this,it,"m",Aw).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",f(this,it,"m",Vw).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",f(this,it,"m",Ew).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",f(this,it,"m",Nw).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",f(this,it,"m",Pw).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",f(this,it,"m",Rw).call(this);break;default:this.flex_columns[1]?f(this,it,"m",Cw).call(this):f(this,it,"m",Cg).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Ae)),Reflect.has(e,"badges")&&(this.badges=l.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu,O)),Reflect.has(e,"overlay")&&(this.overlay=l.parseItem(e.overlay,Pt))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n(pp,"MusicResponsiveListItem");xn=new WeakMap,it=new WeakSet,Cg=n(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),Cw=n(function(){var e,i,o,r,a,c,p;switch((p=(c=(a=(r=(o=(i=(e=this.flex_columns.at(0))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.watchEndpointMusicSupportedConfigs)===null||c===void 0?void 0:c.watchEndpointMusicConfig)===null||p===void 0?void 0:p.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",f(this,it,"m",Sw).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",f(this,it,"m",Iw).call(this);break;default:f(this,it,"m",Cg).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),Iw=n(function(){var e,i,o,r,a,c,p,d,h,_,x,y,w,I,S;this.id=f(this,xn,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let N=((a=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(Y=>/^\d+$/.test(Y.text.replace(/:/g,""))))===null||a===void 0?void 0:a.text)||((p=(c=this.fixed_columns.first())===null||c===void 0?void 0:c.title)===null||p===void 0?void 0:p.toString());N&&(this.duration={text:N,seconds:Se(N)});let V=((h=(d=this.flex_columns.at(1))===null||d===void 0?void 0:d.title.runs)===null||h===void 0?void 0:h.find(Y=>We(Y)&&Y.endpoint&&Y.endpoint.payload.browseId.startsWith("MPR")))||((x=(_=this.flex_columns.at(2))===null||_===void 0?void 0:_.title.runs)===null||x===void 0?void 0:x.find(Y=>We(Y)&&Y.endpoint&&Y.endpoint.payload.browseId.startsWith("MPR")));V&&We(V)&&(this.album={id:(w=(y=V.endpoint)===null||y===void 0?void 0:y.payload)===null||w===void 0?void 0:w.browseId,name:V.text,endpoint:V.endpoint});let M=(S=(I=this.flex_columns.at(1))===null||I===void 0?void 0:I.title.runs)===null||S===void 0?void 0:S.filter(Y=>We(Y)&&Y.endpoint&&Y.endpoint.payload.browseId.startsWith("UC"));M&&(this.artists=M.map(Y=>{var ce,ue;return{name:Y.text,channel_id:We(Y)?(ue=(ce=Y.endpoint)===null||ce===void 0?void 0:ce.payload)===null||ue===void 0?void 0:ue.browseId:void 0,endpoint:We(Y)?Y.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),Sw=n(function(){var e,i,o,r,a,c,p,d,h,_;this.id=f(this,xn,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(w=>w.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let x=(a=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||a===void 0?void 0:a.filter(w=>We(w)&&w.endpoint&&w.endpoint.payload.browseId.startsWith("UC"));x&&(this.authors=x.map(w=>{var I,S;return{name:w.text,channel_id:We(w)?(S=(I=w.endpoint)===null||I===void 0?void 0:I.payload)===null||S===void 0?void 0:S.browseId:void 0,endpoint:We(w)?w.endpoint:void 0}}));let y=((p=(c=this.flex_columns[1].title.runs)===null||c===void 0?void 0:c.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((_=(h=(d=this.fixed_columns.first())===null||d===void 0?void 0:d.title.runs)===null||h===void 0?void 0:h.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||_===void 0?void 0:_.text);y&&(this.duration={text:y,seconds:Se(y)})},"_MusicResponsiveListItem_parseVideo"),Ew=n(function(){var e,i,o,r,a,c;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title,this.subscribers=((c=(a=(r=this.subtitle)===null||r===void 0?void 0:r.runs)===null||a===void 0?void 0:a.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||c===void 0?void 0:c.text)||""},"_MusicResponsiveListItem_parseArtist"),Nw=n(function(){var e,i,o,r;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((r=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(a=>/^\d+(,\d+)? songs?$/i.test(a.text)))===null||r===void 0?void 0:r.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),Pw=n(function(){var e,i;this.id=f(this,xn,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),Rw=n(function(){var e,i;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),Aw=n(function(){var e,i,o,r,a,c,p,d,h;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let _=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(x=>We(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));_&&We(_)&&(this.author={name:_.text,channel_id:(c=(a=_.endpoint)===null||a===void 0?void 0:a.payload)===null||c===void 0?void 0:c.browseId,endpoint:_.endpoint}),this.year=(h=(d=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||d===void 0?void 0:d.find(x=>/^[12][0-9]{3}$/.test(x.text)))===null||h===void 0?void 0:h.text},"_MusicResponsiveListItem_parseAlbum"),Vw=n(function(){var e,i,o,r,a,c,p,d;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let h=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(x=>x.text.match(/\d+ (song|songs)/));this.item_count=h?h.text:void 0;let _=(c=(a=this.flex_columns.at(1))===null||a===void 0?void 0:a.title.runs)===null||c===void 0?void 0:c.find(x=>We(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));_&&We(_)&&(this.author={name:_.text,channel_id:(d=(p=_.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId,endpoint:_.endpoint})},"_MusicResponsiveListItem_parsePlaylist");pp.type="MusicResponsiveListItem";var vi=pp;var dp=class extends s{constructor(e){var i,o,r,a,c,p,d,h,_,x,y,w,I,S,N,V,M,Y,ce,ue,he,G;switch(super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((a=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.videoId),this.subtitle=new u(e.subtitle),this.badges=l.parse(e.subtitleBadges),(h=(d=(p=(c=this.endpoint)===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||d===void 0?void 0:d.browseEndpointContextMusicConfig)===null||h===void 0?void 0:h.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((x=(_=this.endpoint)===null||_===void 0?void 0:_.metadata)===null||x===void 0?void 0:x.api_url)==="/next"?this.item_type="endpoint":!((y=this.subtitle.runs)===null||y===void 0)&&y[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((I=(w=this.subtitle.runs)===null||w===void 0?void 0:w.find($=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test($.text)))===null||I===void 0?void 0:I.text)||"";else if(this.item_type=="playlist"){let $=(S=this.subtitle.runs)===null||S===void 0?void 0:S.find(z=>z.text.match(/\d+ songs|song/));this.item_count=$?$.text:null}else if(this.item_type=="album"){let $=(N=this.subtitle.runs)===null||N===void 0?void 0:N.filter(z=>{var q,ie;return(ie=(q=z.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId.startsWith("UC")});$&&(this.artists=$.map(z=>{var q,ie;return{name:z.text,channel_id:(ie=(q=z.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId,endpoint:z.endpoint}})),this.year=(V=this.subtitle.runs)===null||V===void 0?void 0:V.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((Y=(M=this===null||this===void 0?void 0:this.subtitle.runs)===null||M===void 0?void 0:M.find(z=>z==null?void 0:z.text.match(/(.*?) views/)))===null||Y===void 0?void 0:Y.text)||"N/A";let $=(ce=this.subtitle.runs)===null||ce===void 0?void 0:ce.find(z=>{var q,ie,ke;return(ke=(ie=(q=z.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId)===null||ke===void 0?void 0:ke.startsWith("UC")});$&&(this.author={name:$==null?void 0:$.text,channel_id:(he=(ue=$==null?void 0:$.endpoint)===null||ue===void 0?void 0:ue.payload)===null||he===void 0?void 0:he.browseId,endpoint:$==null?void 0:$.endpoint})}else if(this.item_type=="song"){let $=(G=this.subtitle.runs)===null||G===void 0?void 0:G.filter(z=>{var q,ie;return(ie=(q=z.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId.startsWith("UC")});$&&(this.artists=$.map(z=>{var q,ie;return{name:z==null?void 0:z.text,channel_id:(ie=(q=z==null?void 0:z.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId,endpoint:z==null?void 0:z.endpoint}}))}this.thumbnail=g.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Pt),this.menu=l.parseItem(e.menu,O)}};n(dp,"MusicTwoRowItem");dp.type="MusicTwoRowItem";var gv=dp;var fp=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,mv),this.contents=l.parseArray(e.contents,[gv,vi,hv,_v]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(fp,"MusicCarouselShelf");fp.type="MusicCarouselShelf";var Mw=fp;var mp=class extends s{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};n(mp,"MusicDescriptionShelf");mp.type="MusicDescriptionShelf";var yv=mp;var hp=class extends s{constructor(e){var i,o,r,a,c,p,d,h,_;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(y=>/^[12][0-9]{3}$/.test(y.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((a=(r=this.second_subtitle.runs)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.text)||"",this.total_duration=((p=(c=this.second_subtitle.runs)===null||c===void 0?void 0:c[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=g.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=l.parseArray(e.subtitleBadges);let x=(d=this.subtitle.runs)===null||d===void 0?void 0:d.find(y=>{var w,I;return(I=(w=y==null?void 0:y.endpoint)===null||w===void 0?void 0:w.payload)===null||I===void 0?void 0:I.browseId.startsWith("UC")});x&&(this.author={name:x.text,channel_id:(_=(h=x.endpoint)===null||h===void 0?void 0:h.payload)===null||_===void 0?void 0:_.browseId,endpoint:x.endpoint}),this.menu=l.parseItem(e.menu)}};n(hp,"MusicDetailHeader");hp.type="MusicDetailHeader";var Bw=hp;var _p=class extends s{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n(_p,"MusicDownloadStateBadge");_p.type="MusicDownloadStateBadge";var Lw=_p;var vp=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.edit_header=l.parseItem(e.editHeader),this.playlist_id=e.playlistId}};n(vp,"MusicEditablePlaylistDetailHeader");vp.type="MusicEditablePlaylistDetailHeader";var Dw=vp;var xp=class extends s{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?l.parseItem(e,ln):null}};n(xp,"MusicElementHeader");xp.type="MusicElementHeader";var Ow=xp;var gp=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};n(gp,"MusicHeader");gp.type="MusicHeader";var Fw=gp;var yp=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=l.parseItem(e.thumbnail,Ae)}};n(yp,"MusicImmersiveHeader");yp.type="MusicImmersiveHeader";var jw=yp;var bp=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new v(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(bp,"ActionButton");bp.type="ActionButton";var wp=class{constructor(e){this.image=g.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new bp(i))}};n(wp,"Panel");wp.type="Panel";var Tp=class extends s{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new wp(i))}};n(Tp,"MusicLargeCardItemCarousel");Tp.type="MusicLargeCardItemCarousel";var Yw=Tp;var kp=class extends s{constructor(e){super(),this.title=new u(e.title),this.edit_title=new u(e.editTitle),this.edit_description=new u(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new v(e.collaborationSettingsCommand),this.privacy_dropdown=l.parseItem(e.privacyDropdown,ti)}};n(kp,"MusicPlaylistEditHeader");kp.type="MusicPlaylistEditHeader";var Uw=kp;var Ip=class extends s{constructor(e){var i,o,r;super(),this.playlist_id=e.playlistId,this.contents=l.parseArray(e.contents,vi),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(Ip,"MusicPlaylistShelf");Ip.type="MusicPlaylistShelf";var Ww=Ip;var Sp=class extends s{constructor(e){var i,o,r,a,c;super(),this.title=new u(e.title),this.thumbnail=g.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:Se(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(h=>{var _,x,y;return(y=(x=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId)===null||y===void 0?void 0:y.startsWith("MPR")}),d=(o=new u(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(h=>{var _,x,y;return(y=(x=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId)===null||y===void 0?void 0:y.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(a=(r=p.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseId,name:p.text,year:(c=new u(e.longBylineText).runs)===null||c===void 0?void 0:c.slice(-1)[0].text,endpoint:p.endpoint}),d&&(this.artists=d.map(h=>{var _,x;return{name:h.text,channel_id:(x=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId,endpoint:h.endpoint}})),this.badges=l.parseArray(e.badges),this.menu=l.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};n(Sp,"PlaylistPanelVideo");Sp.type="PlaylistPanelVideo";var Wt=Sp;var Cp=class extends s{constructor(e){super(),this.primary=l.parseItem(e.primaryRenderer,Wt),Reflect.has(e,"counterpart")&&(this.counterpart=oe(e.counterpart.map(i=>l.parseItem(i.counterpartRenderer,Wt))||[]))}};n(Cp,"PlaylistPanelVideoWrapper");Cp.type="PlaylistPanelVideoWrapper";var bv=Cp;var Ep=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=l.parseArray(e.contents,[bv,Wt,uh]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(Ep,"PlaylistPanel");Ep.type="PlaylistPanel";var wv=Ep;var Np=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,wv)}};n(Np,"MusicQueue");Np.type="MusicQueue";var Tv=Np;var Pp=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ae),this.buttons=l.parseArray(e.buttons,[g_,ge,vn,T,O]),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.strapline_text_one=new u(e.straplineTextOne),this.strapline_thumbnail=l.parseItem(e.straplineThumbnail,Ae),this.second_subtitle=new u(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=l.parseArray(e.subtitleBadge,_n)),Reflect.has(e,"description")&&(this.description=l.parseItem(e.description,yv))}};n(Pp,"MusicResponsiveHeader");Pp.type="MusicResponsiveHeader";var Jw=Pp;var Rp=class extends s{constructor(e){var i,o,r,a;super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents,vi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new v(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((a=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=l.parseItem(e.bottomButton,T)),Reflect.has(e,"subheaders")&&(this.subheaders=l.parseArray(e.subheaders))}};n(Rp,"MusicShelf");Rp.type="MusicShelf";var Hw=Rp;var Ap=class extends s{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=l.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};n(Ap,"MusicSideAlignedItem");Ap.type="MusicSideAlignedItem";var Gw=Ap;var Vp=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=l.parseItem(e.menu,lv)}};n(Vp,"MusicSortFilterButton");Vp.type="MusicSortFilterButton";var zw=Vp;var Mp=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(Mp,"MusicTastebuilderShelfThumbnail");Mp.type="MusicTastebuilderShelfThumbnail";var kv=Mp;var Bp=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,kv),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=l.parseItem(e.actionButton,T),this.is_visible=e.isVisible}};n(Bp,"MusicTasteBuilderShelf");Bp.type="MusicTasteBuilderShelf";var $w=Bp;var Lp=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?g.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=l.parseItem(e.menu,O),this.foreground_thumbnail=e.foregroundThumbnail?g.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(Lp,"MusicVisualHeader");Lp.type="MusicVisualHeader";var Kw=Lp;var Dp=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.video_thumbnails=g.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new v(e.navigationEndpoint),this.record_click_endpoint=new v(e.recordClickEndpoint),this.menu=l.parseItem(e.contextualMenu),this.read=e.read}};n(Dp,"Notification");Dp.type="Notification";var Iv=Dp;var Op=class extends s{constructor(e){super(),this.title=l.parseItem(e.title,y_),this.image=l.parseItem(e.image,[Go,d_]),this.metadata=l.parseItem(e.metadata,un),this.actions=l.parseItem(e.actions,S_),this.description=l.parseItem(e.description,v_),this.attributation=l.parseItem(e.attributation,sh),this.banner=l.parseItem(e.banner,L_)}};n(Op,"PageHeaderView");Op.type="PageHeaderView";var Sv=Op;var Fp=class extends s{constructor(e){super(),this.page_title=e.pageTitle,this.content=l.parseItem(e.content,Sv)}};n(Fp,"PageHeader");Fp.type="PageHeader";var Rt=Fp;var jp=class extends s{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(jp,"PageIntroduction");jp.type="PageIntroduction";var Cv=jp;var Yp=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.endpoint=new v(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};n(Yp,"PivotButton");Yp.type="PivotButton";var Ev=Yp;var Up=class extends s{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:g.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new v(e.featuredChannel.navigationEndpoint),subscribe_button:l.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(Up,"PlayerAnnotationsExpanded");Up.type="PlayerAnnotationsExpanded";var Nv=Up;var Wp=class extends s{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};n(Wp,"PlayerCaptionsTracklist");Wp.type="PlayerCaptionsTracklist";var Pv=Wp;var Jp=class extends s{constructor(e){super(),this.endpoint=new v(e.endpoint),this.enable_listen_first=e.enableListenFirst}};n(Jp,"PlayerOverflow");Jp.type="PlayerOverflow";var Rv=Jp;var Hp=class extends s{constructor(e){super(),this.overflow=l.parseItem(e.overflow,Rv)}};n(Hp,"PlayerControlsOverlay");Hp.type="PlayerControlsOverlay";var qw=Hp;var Gp=class extends s{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=l.parseItem(e.proceedButton,T),this.thumbnails=g.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Gp,"PlayerErrorMessage");Gp.type="PlayerErrorMessage";var Xw=Gp;var zp=class extends s{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(zp,"PlayerLegacyDesktopYpcOffer");zp.type="PlayerLegacyDesktopYpcOffer";var Qw=zp;var $p=class extends s{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n($p,"YpcTrailer");$p.type="YpcTrailer";var Av=$p;var Kp=class extends s{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=l.parseItem(e.ypcTrailer,Av)}};n(Kp,"PlayerLegacyDesktopYpcTrailer");Kp.type="PlayerLegacyDesktopYpcTrailer";var qp=Kp;var Xp=class extends s{constructor(e){super();let[i,o,r,a,c]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(o,10),thumbnail_height:parseInt(r,10),columns:parseInt(a,10),rows:parseInt(c,10)}}};n(Xp,"PlayerLiveStoryboardSpec");Xp.type="PlayerLiveStoryboardSpec";var Vv=Xp;var Qp=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=g.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=!((o=e.liveBroadcastDetails)===null||o===void 0)&&o.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};n(Qp,"PlayerMicroformat");Qp.type="PlayerMicroformat";var st=Qp;var Zp=class extends s{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=g.fromResponse(e.background),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new B(e.byline),this.cancel_button=l.parseItem(e.cancelButton,T),this.next_button=l.parseItem(e.nextButton,T),this.close_button=l.parseItem(e.closeButton,T)}};n(Zp,"PlayerOverlayAutoplay");Zp.type="PlayerOverlayAutoplay";var Mv=Zp;var ed=class extends s{constructor(e){super(),this.results=l.parseArray(e.results,[k_,T_]),this.title=new u(e.title).toString()}};n(ed,"WatchNextEndScreen");ed.type="WatchNextEndScreen";var Bv=ed;var td=class extends s{constructor(e){super(),this.end_screen=l.parseItem(e.endScreen,Bv),this.autoplay=l.parseItem(e.autoplay,Mv),this.share_button=l.parseItem(e.shareButton,T),this.add_to_menu=l.parseItem(e.addToMenu,O),this.fullscreen_engagement=l.parseItem(e.fullscreenEngagement),this.actions=l.parseArray(e.actions),this.browser_media_session=l.parseItem(e.browserMediaSession),this.decorated_player_bar=l.parseItem(e.decoratedPlayerBarRenderer,__)}};n(td,"PlayerOverlay");td.type="PlayerOverlay";var Lv=td;var id=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new B(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=l.parseItem(e.saveButton),this.shuffle_play_button=l.parseItem(e.shufflePlayButton),this.menu=l.parseItem(e.moreActionsMenu),this.banner=l.parseItem(e.playlistHeaderBanner)}};n(id,"PlaylistHeader");id.type="PlaylistHeader";var Dv=id;var od=class extends s{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=g.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new v(e.action)}};n(od,"PlaylistInfoCardContent");od.type="PlaylistInfoCardContent";var Zw=od;var nd=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(nd,"PlaylistMetadata");nd.type="PlaylistMetadata";var Ov=nd;var rd=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(rd,"PlaylistSidebar");rd.type="PlaylistSidebar";var eT=rd;var sd=class extends s{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=l.parseItem(e.menu),this.endpoint=new v(e.navigationEndpoint),this.description=new u(e.description)}};n(sd,"PlaylistSidebarPrimaryInfo");sd.type="PlaylistSidebarPrimaryInfo";var Fv=sd;var ad=class extends s{constructor(e){super(),this.owner=l.parseItem(e.videoOwner),this.button=l.parseItem(e.button)}};n(ad,"PlaylistSidebarSecondaryInfo");ad.type="PlaylistSidebarSecondaryInfo";var jv=ad;var ud=class extends s{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new B(e.shortBylineText),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new v(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=l.parseItem(e.menu,O),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(zi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(zi))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(ud,"PlaylistVideo");ud.type="PlaylistVideo";var gn=ud;var ld=class extends s{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=l.parseArray(e.contents)}};n(ld,"PlaylistVideoList");ld.type="PlaylistVideoList";var tT=ld;var cd=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new v(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new v(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?g.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(cd,"Poll");cd.type="Poll";var iT=cd;var pd=class extends ni{constructor(e){super(e)}};n(pd,"Post");pd.type="Post";var Yv=pd;var dd=class extends s{constructor(e){super(),this.images=l.parseArray(e.images,ch)}};n(dd,"PostMultiImage");dd.type="PostMultiImage";var oT=dd;var fd=class extends s{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};n(fd,"ProductListHeader");fd.type="ProductListHeader";var nT=fd;var md=class extends s{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=g.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new v(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=l.parseItem(e.viewButton,T)}};n(md,"ProductListItem");md.type="ProductListItem";var rT=md;var hd=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(hd,"ProfileColumn");hd.type="ProfileColumn";var sT=hd;var _d=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(_d,"ProfileColumnStats");_d.type="ProfileColumnStats";var aT=_d;var vd=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};n(vd,"ProfileColumnStatsEntry");vd.type="ProfileColumnStatsEntry";var uT=vd;var xd=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail)}};n(xd,"ProfileColumnUserInfo");xd.type="ProfileColumnUserInfo";var lT=xd;var gd=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};n(gd,"Quiz");gd.type="Quiz";var cT=gd;var yd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new g(i)),this.button=l.parseItem(e.button,T),this.surface=e.surface}};n(yd,"RecognitionShelf");yd.type="RecognitionShelf";var pT=yd;var bd=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=g.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new v(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(bd,"ReelItem");bd.type="ReelItem";var yn=bd;var wd=class extends s{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=g.fromResponse(e.channelThumbnail),this.author=new B(e.channelNavigationEndpoint,void 0)}};n(wd,"ReelPlayerHeader");wd.type="ReelPlayerHeader";var Uv=wd;var Td=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,U_),this.reel_player_header_supported_renderers=l.parseItem(e.reelPlayerHeaderSupportedRenderers,Uv),this.menu=l.parseItem(e.menu,O),this.next_item_button=l.parseItem(e.nextItemButton,T),this.prev_item_button=l.parseItem(e.prevItemButton,T),this.subscribe_button_renderer=l.parseItem(e.subscribeButtonRenderer,T),this.style=e.style,this.view_comments_button=l.parseItem(e.viewCommentsButton,T),this.share_button=l.parseItem(e.shareButton,T),this.pivot_button=l.parseItem(e.pivotButton,Ev),this.info_panel=l.parseItem(e.infoPanel,O_)}};n(Td,"ReelPlayerOverlay");Td.type="ReelPlayerOverlay";var dT=Td;var kd=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};n(kd,"RelatedChipCloud");kd.type="RelatedChipCloud";var Wv=kd;var Id=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.contents=l.parseArray(e.contents)}};n(Id,"RichGrid");Id.type="RichGrid";var xi=Id;var Sd=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};n(Sd,"RichItem");Sd.type="RichItem";var fT=Sd;var Cd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Cd,"RichListHeader");Cd.type="RichListHeader";var mT=Cd;var Ed=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new v(e.endpoint)}};n(Ed,"RichMetadata");Ed.type="RichMetadata";var Nd=Ed;var Pd=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Pd,"RichMetadataRow");Pd.type="RichMetadataRow";var Rd=Pd;var Ad=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};n(Ad,"RichSection");Ad.type="RichSection";var hT=Ad;var Vd=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}};n(Vd,"RichShelf");Vd.type="RichShelf";var Jv=Vd;var Md=class extends s{constructor(e){super(),this.endpoint=new v(e.endpoint),this.search_button=l.parseItem(e.searchButton,T),this.clear_button=l.parseItem(e.clearButton,T),this.placeholder_text=new u(e.placeholderText)}};n(Md,"SearchBox");Md.type="SearchBox";var _T=Md;var Bd=class extends s{constructor(e){super(),this.label=new u(e.label),this.endpoint=new v(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(Bd,"SearchFilter");Bd.type="SearchFilter";var Hv=Bd;var Ld=class extends s{constructor(e){super(),this.title=new u(e.title),this.filters=l.parseArray(e.filters,Hv)}};n(Ld,"SearchFilterGroup");Ld.type="SearchFilterGroup";var bn=Ld;var Dd=class extends s{constructor(e){super(),this.title=new u(e.title),this.groups=l.parseArray(e.groups,bn)}};n(Dd,"SearchFilterOptionsDialog");Dd.type="SearchFilterOptionsDialog";var vT=Dd;var Od=class extends s{constructor(e){super(),this.chip_bar=l.parseItem(e.chipBar,Qo),this.search_filter_button=l.parseItem(e.searchFilterButton,T)}};n(Od,"SearchHeader");Od.type="SearchHeader";var Gv=Od;var Fd=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=l.parseArray(e.groups,bn)),Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,ge))}};n(Fd,"SearchSubMenu");Fd.type="SearchSubMenu";var zv=Fd;var jd=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(jd,"SearchSuggestionsSection");jd.type="SearchSuggestionsSection";var xT=jd;var Yd=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Yd,"SecondarySearchContainer");Yd.type="SecondarySearchContainer";var gT=Yd;var Ud=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,[ge,T]),this.dislike_button=l.parseItem(e.dislikeButton,[ge,T])}};n(Ud,"SegmentedLikeDislikeButton");Ud.type="SegmentedLikeDislikeButton";var to=Ud;var Wd=class extends s{constructor(e){if(super(),this.like_button=l.parseItem(e.likeButtonViewModel,W_),this.dislike_button=l.parseItem(e.dislikeButtonViewModel,x_),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};n(Wd,"SegmentedLikeDislikeButtonView");Wd.type="SegmentedLikeDislikeButtonView";var io=Wd;var Jd=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new v(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new v(e.disableServiceEndpoint)),this.item_id=e.itemId}};n(Jd,"SettingBoolean");Jd.type="SettingBoolean";var yT=Jd;var Hd=class extends s{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(Hd,"SettingsCheckbox");Hd.type="SettingsCheckbox";var $v=Hd;var Gd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new v(e.enableServiceEndpoint),this.disable_endpoint=new v(e.disableServiceEndpoint)}};n(Gd,"SettingsSwitch");Gd.type="SettingsSwitch";var wn=Gd;var zd=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=l.parseArray(e.options,[wn,ti,p_,$v,Wh]))}};n(zd,"SettingsOptions");zd.type="SettingsOptions";var Tn=zd;var $d=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items,rn)}get contents(){return this.items}};n($d,"SettingsSidebar");$d.type="SettingsSidebar";var Kv=$d;var Kd=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=ee(e.actionMenu,O),this.original_post=ee(e.originalPost,ni),this.id=e.postId,this.endpoint=new v(e.navigationEndpoint),this.expand_button=ee(e.expandButton,T),this.author=new B(e.displayName,void 0)}};n(Kd,"SharedPost");Kd.type="SharedPost";var qv=Kd;var qd=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint)),this.content=l.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=l.parseItem(e.playAllButton,T))}};n(qd,"Shelf");qd.type="Shelf";var kn=qd;var Xd=class extends s{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.original_query_endpoint=new v(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};n(Xd,"ShowingResultsFor");Xd.type="ShowingResultsFor";var bT=Xd;var Qd=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new v(e.command)}};n(Qd,"SimpleCardContent");Qd.type="SimpleCardContent";var wT=Qd;var Zd=class extends s{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};n(Zd,"SimpleCardTeaser");Zd.type="SimpleCardTeaser";var TT=Zd;var ef=class extends s{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};n(ef,"SimpleTextSection");ef.type="SimpleTextSection";var kT=ef;var tf=class extends s{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new v(e.navigationEndpoint)}};n(tf,"SingleActionEmergencySupport");tf.type="SingleActionEmergencySupport";var IT=tf;var of=class extends s{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new v(e.endpoint),this.content=l.parseItem(e.content,[be,Tv,xi])}};n(of,"Tab");of.type="Tab";var Ve=of;var nf=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ve)}};n(nf,"SingleColumnBrowseResults");nf.type="SingleColumnBrowseResults";var Xv=nf;var rf=class extends s{constructor(e){super(),this.contents=l.parse(e)}};n(rf,"SingleColumnMusicWatchNextResults");rf.type="SingleColumnMusicWatchNextResults";var ST=rf;var sf=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.style=e.style}};n(sf,"SingleHeroImage");sf.type="SingleHeroImage";var CT=sf;var af=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,Be)}};n(af,"SlimOwner");af.type="SlimOwner";var ET=af;var uf=class extends s{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=l.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};n(uf,"SlimVideoMetadata");uf.type="SlimVideoMetadata";var NT=uf;var lf=class extends s{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new v(e.navigationEndpoint)}};n(lf,"SubFeedOption");lf.type="SubFeedOption";var Qv=lf;var cf=class extends s{constructor(e){super(),this.title=new u(e.title),this.options=l.parseArray(e.options,Qv)}};n(cf,"SubFeedSelector");cf.type="SubFeedSelector";var PT=cf;var pf=class extends s{constructor(e){super(),this.contents=l.parse(e)}};n(pf,"Tabbed");pf.type="Tabbed";var RT=pf;var df=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ve)}};n(df,"TabbedSearchResults");df.type="TabbedSearchResults";var AT=df;var ff=class extends s{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};n(ff,"TextHeader");ff.type="TextHeader";var VT=ff;var mf=class extends s{constructor(e){super(),this.landscape=g.fromResponse(e.landscape),this.portrait=g.fromResponse(e.portrait)}};n(mf,"ThumbnailLandscapePortrait");mf.type="ThumbnailLandscapePortrait";var MT=mf;var hf=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};n(hf,"ThumbnailOverlayEndorsement");hf.type="ThumbnailOverlayEndorsement";var BT=hf;var _f=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(_f,"ThumbnailOverlayHoverText");_f.type="ThumbnailOverlayHoverText";var LT=_f;var vf=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};n(vf,"ThumbnailOverlayInlineUnplayable");vf.type="ThumbnailOverlayInlineUnplayable";var DT=vf;var xf=class extends s{constructor(e){super(),this.text=new u(e.text)}};n(xf,"ThumbnailOverlayLoadingPreview");xf.type="ThumbnailOverlayLoadingPreview";var OT=xf;var gf=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};n(gf,"ThumbnailOverlayNowPlaying");gf.type="ThumbnailOverlayNowPlaying";var FT=gf;var yf=class extends s{constructor(e){super(),this.hack=e.hack}};n(yf,"ThumbnailOverlayPinking");yf.type="ThumbnailOverlayPinking";var jT=yf;var bf=class extends s{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};n(bf,"ThumbnailOverlayPlaybackStatus");bf.type="ThumbnailOverlayPlaybackStatus";var YT=bf;var wf=class extends s{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(wf,"ThumbnailOverlayResumePlayback");wf.type="ThumbnailOverlayResumePlayback";var UT=wf;var Tf=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(Tf,"ThumbnailOverlaySidePanel");Tf.type="ThumbnailOverlaySidePanel";var WT=Tf;var kf=class extends s{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new v(e.toggledServiceEndpoint),this.untoggled_endpoint=new v(e.untoggledServiceEndpoint)}};n(kf,"ThumbnailOverlayToggleButton");kf.type="ThumbnailOverlayToggleButton";var JT=kf;var If=class extends s{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};n(If,"TimedMarkerDecoration");If.type="TimedMarkerDecoration";var HT=If;var Sf=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Sf,"TitleAndButtonListHeader");Sf.type="TitleAndButtonListHeader";var GT=Sf;var Cf=class extends s{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint)}};n(Cf,"ToggleMenuServiceItem");Cf.type="ToggleMenuServiceItem";var zT=Cf;var Ef=class extends s{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new v(i)),accept:new v(e.promoConfig.acceptCommand),dismiss:new v(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(Ef,"Tooltip");Ef.type="Tooltip";var $T=Ef;var Nf=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=g.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=l.parseItem(e.subscribeButton,Be),this.endpoint=new v(e.navigationEndpoint)}};n(Nf,"TopicChannelDetails");Nf.type="TopicChannelDetails";var KT=Nf;var Pf=class extends s{constructor(e){super(),this.tabs=l.parse(e.tabs),this.secondary_contents=l.parse(e.secondaryContents)}};n(Pf,"TwoColumnBrowseResults");Pf.type="TwoColumnBrowseResults";var At=Pf;var Rf=class extends s{constructor(e){super(),this.primary_contents=l.parse(e.primaryContents),this.secondary_contents=l.parse(e.secondaryContents)}};n(Rf,"TwoColumnSearchResults");Rf.type="TwoColumnSearchResults";var Zv=Rf;var ex,Eg,Af=class extends s{constructor(e){var i,o,r,a,c;super(),ex.add(this),this.results=l.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=l.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=l.parseItem(e==null?void 0:e.conversationBar);let p=(r=e.playlist)===null||r===void 0?void 0:r.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((a=p.shortBylineText)===null||a===void 0)&&a.simpleText?new u(p.shortBylineText):new B(p.longBylineText),contents:l.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:l.parseItem(p.menu,O)});let d=(c=e.autoplay)===null||c===void 0?void 0:c.autoplay;d&&(this.autoplay={sets:d.sets.map(h=>f(this,ex,"m",Eg).call(this,h))},d.modifiedSets&&(this.autoplay.modified_sets=d.modifiedSets.map(h=>f(this,ex,"m",Eg).call(this,h))),d.countDownSecs&&(this.autoplay.count_down_secs=d.countDownSecs))}};n(Af,"TwoColumnWatchNextResults");ex=new WeakSet,Eg=n(function(e){let i={autoplay_video:new v(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new v(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Af.type="TwoColumnWatchNextResults";var tx=Af;var Vf=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.call_to_action=l.parseItem(e.callToAction),this.sections=l.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};n(Vf,"UniversalWatchCard");Vf.type="UniversalWatchCard";var ix=Vf;var Mf=class extends s{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=l.parseItem(e.actionButton,T),this.dismiss_button=l.parseItem(e.dismissButton,T),this.is_visible=e.isVisible}};n(Mf,"UpsellDialog");Mf.type="UpsellDialog";var qT=Mf;var Bf=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};n(Bf,"VerticalList");Bf.type="VerticalList";var XT=Bf;var Lf=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new v(e.viewAllEndpoint)}get contents(){return this.items}};n(Lf,"VerticalWatchCardList");Lf.type="VerticalWatchCardList";var QT=Lf;var Df=class extends s{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=g.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new v(e.action)}};n(Df,"VideoInfoCardContent");Df.type="VideoInfoCardContent";var ZT=Df;var Of=class extends s{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new B(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(Of,"VideoOwner");Of.type="VideoOwner";var In=Of;var Ff=class extends s{constructor(e){var i,o,r,a;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new u((a=(r=e.viewCount)===null||r===void 0?void 0:r.videoViewCountRenderer)===null||a===void 0?void 0:a.shortViewCount),this.badges=l.parseArray(e.badges,Ge),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=l.parseItem(e.videoActions,O)}};n(Ff,"VideoPrimaryInfo");Ff.type="VideoPrimaryInfo";var ox=Ff;var jf=class extends s{constructor(e){super(),this.owner=l.parseItem(e.owner,In),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=l.parseItem(e.subscribeButton,[Be,T]),this.metadata=l.parseItem(e.metadataRowContainer,dv),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(jf,"VideoSecondaryInfo");jf.type="VideoSecondaryInfo";var Yf=jf;var Uf=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:Se(e.lengthText.simpleText)},this.style=e.style}};n(Uf,"WatchCardCompactVideo");Uf.type="WatchCardCompactVideo";var nx=Uf;var Wf=class extends s{constructor(e){var i;super(),this.endpoint=new v(e.navigationEndpoint),this.call_to_action_button=l.parseItem(e.callToActionButton),this.hero_image=l.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(Wf,"WatchCardHeroVideo");Wf.type="WatchCardHeroVideo";var e1=Wf;var Jf=class extends s{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new v(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new B(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(Jf,"WatchCardRichHeader");Jf.type="WatchCardRichHeader";var t1=Jf;var Hf=class extends s{constructor(e){super(),this.lists=l.parseArray(e.lists)}};n(Hf,"WatchCardSectionSequence");Hf.type="WatchCardSectionSequence";var i1=Hf;var Gf=class extends At{constructor(e){super(e)}};n(Gf,"WatchNextTabbedResults");Gf.type="WatchNextTabbedResults";var o1=Gf;var zf=class extends s{constructor(e){var i,o;super(),this.title=e.title,this.content=l.parseItem(e.content,be),this.endpoint=new v(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n(zf,"AnchoredSection");zf.type="AnchoredSection";var rx=zf;var $f,Kf=class extends s{constructor(e){super(),$f.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=g.fromResponse(e.avatar),this.block_button=l.parseItem(e.blockButton,[ge]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return k(this,void 0,void 0,function*(){if(!f(this,$f,"f"))throw new b("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new b("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new b("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(f(this,$f,"f"),{parse:!1})})}setActions(e){E(this,$f,e,"f")}};n(Kf,"KidsBlocklistPickerItem");$f=new WeakMap;Kf.type="KidsBlocklistPickerItem";var sx=Kf;var qf=class extends s{constructor(e){super(),this.title=new u(e.title),this.child_rows=l.parse(e.childRows,!0,[sx]),this.done_button=l.parseItem(e.doneButton,[T]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};n(qf,"KidsBlocklistPicker");qf.type="KidsBlocklistPicker";var n1=qf;var Xf=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new v(e.endpoint)}};n(Xf,"KidsCategoryTab");Xf.type="KidsCategoryTab";var ax=Xf;var Qf=class extends s{constructor(e){super(),this.category_tabs=l.parseArray(e.categoryTabs,ax),this.privacy_button=l.parseItem(e.privacyButtonRenderer,T)}};n(Qf,"KidsCategoriesHeader");Qf.type="kidsCategoriesHeader";var r1=Qf;var Zf=class extends s{constructor(e){super(),this.anchors=l.parseArray(e.anchors,rx)}};n(Zf,"KidsHomeScreen");Zf.type="kidsHomeScreen";var s1=Zf;var Bg={};ye(Bg,{camelToSnake:()=>oo,createRuntimeClass:()=>_1,generateRuntimeClass:()=>im,generateTypescriptClass:()=>lx,inferType:()=>ux,introspect:()=>Rg,isArrayType:()=>m1,isIgnoredKey:()=>h1,isMiscType:()=>f1,isRenderer:()=>Pg,isRendererList:()=>d1,mergeKeyInfo:()=>em,parse:()=>Mg,toParser:()=>Vg,toTypeDeclaration:()=>Ag});var ZI=new Set(["trackingParams","accessibility","accessibilityData"]),Ng={};function oo(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(oo,"camelToSnake");function ux(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=Pg(e))return Ng[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=d1(e)){for(let[r,a]of Object.entries(i))Ng[r]=a;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=f1(t,e))||(i=m1(e)))return i}let o=typeof e;return o==="object"?{type:"object",keys:Object.entries(e).map(([r,a])=>[r,ux(r,a)]),optional:!1}:{type:"primative",typeof:[o],optional:!1}}n(ux,"inferType");function d1(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(o=>Pg(o))?Object.fromEntries(t.map(o=>{let r=Reflect.ownKeys(o)[0].toString();return[om(r),o[r]]})):!1}n(d1,"isRendererList");function f1(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new v(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}n(f1,"isMiscType");function Pg(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let o=i[0].toString();if(o.endsWith("Renderer")||o.endsWith("Model"))return om(o)}return!1}n(Pg,"isRenderer");function m1(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["never"],optional:!1},optional:!1};let e=t.map(a=>typeof a);if(!e.every(a=>a===e[0]))return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!1},optional:!1};let o=e[0];if(o!=="object")return{type:"array",array_type:"primitive",items:{type:"primative",typeof:[o],optional:!1},optional:!1};let r=[];for(let a=0;a<t.length;a++){let c=Object.entries(t[a]).map(([p,d])=>[p,ux(p,d)]);if(a===0){r=c;continue}r=em(r,c).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:r,optional:!1},optional:!1}}n(m1,"isArrayType");function eS(t){if(typeof t!="object"||t===null)throw new b("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!h1(i)).filter(i=>typeof i=="string").map(i=>{let o=Reflect.get(t,i),r=ux(i,o);return[i,r]})}n(eS,"introspectKeysFirstPass");function tS(t){var e;let o=t.filter(([,p])=>{var d;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((d=p.endpoint)===null||d===void 0?void 0:d.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,d])=>p.type!=="misc"||d.type!=="misc"||p.misc_type!=="Text"||d.misc_type!=="Text"?0:d.text.length-p.text.length),r=new Set,a=o[0],c;if(a){r.add(a[0]);let d=t.map(([w])=>w).filter(w=>w.endsWith("Badges")||w==="badges"),_=(e=d.filter(w=>w.startsWith("owner")||w.startsWith("author"))[0])!==null&&e!==void 0?e:d[0],x=t.find(([w])=>w===_),y=x?x[1].type==="array"&&x[1].array_type==="renderer"&&Reflect.has(x[1].renderers,"MetadataBadge"):!1;y&&_&&r.add(_),c={type:"misc",misc_type:"Author",optional:!1,params:[a[0],y?_:void 0]}}return c&&t.push(["author",c]),t.filter(([p])=>!r.has(p))}n(tS,"introspectKeysSecondPass");function iS(t){let e=eS(t);return tS(e)}n(iS,"introspect2");function Rg(t){let e=iS(t),i=new Map;for(let[,r]of e)if(r.type==="renderer"||r.type==="array"&&r.array_type==="renderer")for(let a of r.renderers){let c=Ng[a];c&&i.set(a,c)}let o=Array.from(i).filter(([r])=>!cx(r));return{key_info:e,unimplemented_dependencies:o}}n(Rg,"introspect");function h1(t){return typeof t=="string"&&ZI.has(t)}n(h1,"isIgnoredKey");function _1(t,e,i){var o,r;i({error_type:"class_not_found",classname:t,key_info:e});let a=(o=n(class extends s{static set key_info(c){E(this,o,new Map(c),"f",r)}static get key_info(){return[...f(this,o,"f",r).entries()]}constructor(c){super();let{key_info:p,unimplemented_dependencies:d}=Rg(c),{resolved_key_info:h,changed_keys:_}=em(a.key_info,p);_.length>0&&(a.key_info=h,i({error_type:"class_changed",classname:t,key_info:a.key_info,changed_keys:_}));for(let[y,w]of d)im(y,w,i);for(let[y,w]of p){let I=oo(y);w.type==="misc"&&w.misc_type==="NavigationEndpoint"&&(I="endpoint"),Reflect.set(this,I,Mg(y,w,c))}}},"_a"),T0(o,"node"),o.type=t,r={value:new Map},o);return a.key_info=e,Object.defineProperty(a,"name",{value:t,writable:!1}),a}n(_1,"createRuntimeClass");function im(t,e,i){let{key_info:o,unimplemented_dependencies:r}=Rg(e),a=_1(t,o,i);Lg(t,a);for(let[c,p]of r)im(c,p,i);return a}n(im,"generateRuntimeClass");function lx(t,e){let i=[],o=["super();"];for(let[r,a]of e){let c=oo(r);a.type==="misc"&&a.misc_type==="NavigationEndpoint"&&(c="endpoint"),i.push(`${c}${a.optional?"?":""}: ${Ag(a)};`),o.push(`this.${c} = ${Vg(r,a)};`)}return`class ${t} extends YTNode {
    static type = '${t}';
  
    ${i.join(`
    `)}
  
    constructor(data: RawNode) {
      ${o.join(`
      `)}
    }
  }
  `}n(lx,"generateTypescriptClass");function a1(t,e){return`{
  ${e.map(([i,o])=>`${" ".repeat((t+2)*2)}${oo(i)}${o.optional?"?":""}: ${Ag(o,t+1)}`).join(`,
  `)}
  ${" ".repeat((t+1)*2)}}`}n(a1,"toTypeDeclarationObject");function Ag(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${a1(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return a1(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ")}}n(Ag,"toTypeDeclaration");function u1(t,e,i,o){let r=[...i,o];return`{
  ${e.map(([a,c])=>`${" ".repeat((t+2)*2)}${oo(a)}: ${Vg(a,c,r,t+1)}`).join(`,
  `)}
  ${" ".repeat((t+1)*2)}}`}n(u1,"toParserObject");function Vg(t,e,i=["data"],o=1){let r="undefined";switch(e.type){case"renderer":r=`Parser.parseItem(${i.join(".")}.${t}, ${l1(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":r=`Parser.parse(${i.join(".")}.${t}, true, ${l1(e.renderers)})`;break;case"object":r=`${i.join(".")}.${t}.map((item: any) => (${u1(o,e.items.keys,[],"item")}))`;break;case"primitive":r=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":r=u1(o,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let a=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${a} : undefined`:a}default:r=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":r=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${r} : undefined`:r}n(Vg,"toParser");function l1(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}n(l1,"toParserValidTypes");function Vt(t,e){let i=t;for(let o of e)i=i[o];return i}n(Vt,"accessDataFromKeyPath");function c1(t,e){let i=t;for(let o of e)if(Reflect.has(i,o))i=i[o];else return!1;return!0}n(c1,"hasDataFromKeyPath");function p1(t,e,i,o,r){let a={},c=[...i,t];for(let[p,d]of o)a[p]=r?Mg(p,d,e,c):void 0;return a}n(p1,"parseObject");function Mg(t,e,i,o=["data"]){let r=!e.optional||c1({data:i},[...o,t]);switch(e.type){case"renderer":return r?ee(Vt({data:i},[...o,t]),e.renderers.map(a=>tm(a))):void 0;case"array":{switch(e.array_type){case"renderer":return r?De(Vt({data:i},[...o,t]),!0,e.renderers.map(a=>tm(a))):void 0;case"object":return r?Vt({data:i},[...o,t]).map((a,c)=>p1(`${c}`,i,[...o,t],e.items.keys,r)):void 0;case"primitive":return r?Vt({data:i},[...o,t]):void 0}throw new Error("Unreachable code reached! Switch missing case!")}case"object":return p1(t,i,o,e.keys,r);case"misc":switch(e.misc_type){case"NavigationEndpoint":return r?new v(Vt({data:i},[...o,t])):void 0;case"Text":return r?new u(Vt({data:i},[...o,t])):void 0;case"Thumbnail":return r?g.fromResponse(Vt({data:i},[...o,t])):void 0;case"Author":return!e.optional||c1({data:i},[...o,e.params[0]])?new B(Vt({data:i},[...o,e.params[0]]),e.params[1]?Vt({data:i},[...o,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":return Vt({data:i},[...o,t])}}n(Mg,"parse");function em(t,e){let i=new Map,o=new Set(t.map(([y])=>y)),r=new Set(e.map(([y])=>y)),a=e.filter(([y])=>!o.has(y)),c=t.filter(([y])=>!r.has(y)),p=t.filter(([y])=>r.has(y)),d=new Map(e);for(let[y,w]of p){let I=d.get(y);if(!!I){if(w.type!==I.type){i.set(y,{type:"primative",typeof:["unknown"],optional:!0});continue}switch(w.type){case"object":{if(I.type!=="object")continue;let{resolved_key_info:S}=em(w.keys,I.keys),N={type:"object",keys:S,optional:w.optional||I.optional};JSON.stringify(N)!==JSON.stringify(w)&&i.set(y,N)}break;case"renderer":{if(I.type!=="renderer")continue;let S=Object.assign(Object.assign({},w.renderers),I.renderers),N=w.optional||I.optional,V={type:"renderer",renderers:S,optional:N};JSON.stringify(Object.assign(Object.assign({},V),{renderers:Object.keys(V.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(y,V)}break;case"array":{if(I.type!=="array")continue;switch(w.array_type){case"renderer":{if(I.array_type!=="renderer"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let S=Object.assign(Object.assign({},w.renderers),I.renderers),N=w.optional||I.optional,V={type:"array",array_type:"renderer",renderers:S,optional:N};JSON.stringify(Object.assign(Object.assign({},V),{renderers:Object.keys(V.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(y,V)}break;case"object":{if(I.array_type==="primitive"&&I.items.typeof.length==1&&I.items.typeof[0]==="never")continue;if(I.array_type!=="object"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:S}=em(w.items.keys,I.items.keys),N={type:"array",array_type:"object",items:{type:"object",keys:S,optional:w.items.optional||I.items.optional},optional:w.optional||I.optional};JSON.stringify(N)!==JSON.stringify(w)&&i.set(y,N)}break;case"primitive":{if(w.items.typeof.includes("never")&&I.array_type==="object"){i.set(y,I);continue}if(I.array_type!=="primitive"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let S=new Set([...I.items.typeof,...w.items.typeof]);S.size>1&&S.has("never")&&S.delete("never");let N={type:"array",array_type:"primitive",items:{type:"primative",typeof:Array.from(S),optional:w.items.optional||I.items.optional},optional:w.optional||I.optional};JSON.stringify(N)!==JSON.stringify(w)&&i.set(y,N)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}}break;case"misc":{if(I.type!=="misc")continue;switch(w.misc_type!==I.misc_type&&i.set(y,{type:"primative",typeof:["unknown"],optional:!0}),w.misc_type){case"Author":{if(I.misc_type!=="Author")break;let S=w.params[1]||I.params[1],N=w.optional||I.optional,V={type:"misc",misc_type:"Author",optional:N,params:[I.params[0],S]};JSON.stringify(V)!==JSON.stringify(w)&&i.set(y,V)}break}}break;case"primative":{if(I.type!=="primative")continue;let S={type:"primative",typeof:Array.from(new Set([...I.typeof,...w.typeof])),optional:w.optional||I.optional};JSON.stringify(S)!==JSON.stringify(w)&&i.set(y,S)}break}}}for(let[y,w]of a)i.set(y,Object.assign(Object.assign({},w),{optional:!0}));for(let[y,w]of c)i.set(y,Object.assign(Object.assign({},w),{optional:!0}));let h=t.filter(([y])=>!i.has(y));return{resolved_key_info:[...new Map([...h,...i]).entries()],changed_keys:[...i.entries()]}}n(em,"mergeKeyInfo");var Sn=class extends s{constructor(e){var i,o,r;super(),this.contents=Le(e.contents),Array.isArray(e.continuations)&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(Sn,"ItemSectionContinuation");Sn.type="itemSectionContinuation";var gi=class extends s{constructor(e){super(),this.endpoint=new v(e.endpoint)}};n(gi,"NavigateAction");gi.type="navigateAction";var Cn=class extends s{constructor(e){super(),this.miniplayer_command=new v(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};n(Cn,"ShowMiniplayerCommand");Cn.type="showMiniplayerCommand";var yi=class extends s{constructor(e){super(),this.target_id=e.targetId,this.contents=De(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(yi,"ReloadContinuationItemsCommand");yi.type="reloadContinuationItemsCommand";var En=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.contents=De(e.contents,!0),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(En,"SectionListContinuation");En.type="sectionListContinuation";var Nn=class extends s{constructor(e){var i;super(),this.contents=De(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(Nn,"MusicPlaylistShelfContinuation");Nn.type="musicPlaylistShelfContinuation";var Pn=class extends s{constructor(e){var i,o,r,a;super(),this.contents=Le(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((a=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)||null}};n(Pn,"MusicShelfContinuation");Pn.type="musicShelfContinuation";var Rn=class extends s{constructor(e){var i;super(),this.items=De(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n(Rn,"GridContinuation");Rn.type="gridContinuation";var An=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.contents=Le(e.contents),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(An,"PlaylistPanelContinuation");An.type="playlistPanelContinuation";var no=class extends s{constructor(e){var i,o,r;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(r=e.continuation)===null||r===void 0?void 0:r.continuation}};n(no,"Continuation");no.type="continuation";var bi=class extends s{constructor(e){var i,o,r,a,c,p,d,h;super(),this.actions=De((i=e.actions)===null||i===void 0?void 0:i.map(y=>(delete y.clickTrackingParams,y)),!0)||oe([]),this.action_panel=ee(e.actionPanel),this.item_list=ee(e.itemList,iv),this.header=ee(e.header,tv),this.participants_list=ee(e.participantsList,nv),this.popout_message=ee(e.popoutMessage,mi),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(y=>({emoji_id:y.emojiId,shortcuts:y.shortcuts,search_terms:y.searchTerms,image:g.fromResponse(y.image),is_custom_emoji:y.isCustomEmoji})))||[];let _,x;!((r=e.continuations)===null||r===void 0)&&r[0].timedContinuationData?(x="timed",_=(a=e.continuations)===null||a===void 0?void 0:a[0].timedContinuationData):!((c=e.continuations)===null||c===void 0)&&c[0].invalidationContinuationData?(x="invalidation",_=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((d=e.continuations)===null||d===void 0)&&d[0].liveChatReplayContinuationData&&(x="replay",_=(h=e.continuations)===null||h===void 0?void 0:h[0].liveChatReplayContinuationData),this.continuation=new no({continuation:_,type:x}),this.viewer_name=e.viewerName}};n(bi,"LiveChatContinuation");bi.type="liveChatContinuation";var Jt=class extends s{constructor(e){super(),this.request=e.request,this.token=e.token}};n(Jt,"ContinuationCommand");Jt.type="ContinuationCommand";var px,dx=class{constructor(e,i){var o,r,a,c,p,d,h,_;if(px.set(this,void 0),i&&E(this,px,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=(o=e.stereoLayout)===null||o===void 0?void 0:o.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=(r=e.spatialAudioType)===null||r===void 0?void 0:r.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:(a=e.colorInfo.primaries)===null||a===void 0?void 0:a.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(c=e.colorInfo.transferCharacteristics)===null||c===void 0?void 0:c.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(p=e.colorInfo.matrixCoefficients)===null||p===void 0?void 0:p.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let x=new URLSearchParams(this.cipher||this.signature_cipher),w=(d=new URLSearchParams(x.get("url")||this.url).get("xtags"))===null||d===void 0?void 0:d.split(":");if(this.language=((h=w==null?void 0:w.find(I=>I.startsWith("lang=")))===null||h===void 0?void 0:h.split("=")[1])||null,this.has_audio){this.is_drc=!!e.isDrc||!!(w!=null&&w.includes("drc=1"));let I=(_=w==null?void 0:w.find(S=>S.startsWith("acont=")))===null||_===void 0?void 0:_.split("=")[1];this.is_dubbed=I==="dubbed",this.is_descriptive=I==="descriptive",this.is_original=I==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(e){if(!e)throw new b("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,f(this,px,"f"))}};n(dx,"Format");px=new WeakMap;var fx=dx;var wi=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=g.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};n(wi,"VideoDetails");var ro="Parser",oS=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),Fg=new Map(Object.entries(Zi)),v1=new Map,so=null,Ti=n(t=>{var{classname:e}=t,i=w0(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&F.warn(ro,new b(`Something went wrong at ${e}!
  This is a bug, please report it at ${U.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":F.warn(ro,new rt(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":F.warn(ro,new b(`Mutation data required for processing ${e}, but none found.
  This is a bug, please report it at ${U.shim.info.bugs_url}`));break;case"mutation_data_invalid":F.warn(ro,new b(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
  This is a bug, please report it at ${U.shim.info.bugs_url}`));break;case"class_not_found":F.warn(ro,new b(`${e} not found!
  This is a bug, want to help us fix it? Follow the instructions at ${U.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${U.shim.info.bugs_url}!
  Introspected and JIT generated this class in the meantime:
  ${lx(e,i.key_info)}`));break;case"class_changed":F.warn(ro,`${e} changed!
  The following keys where altered: ${i.changed_keys.map(([o])=>oo(o)).join(", ")}
  The class has changed to:
  ${lx(e,i.key_info)}`);break;default:F.warn(ro,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function nS(t){Ti=t}n(nS,"setParserErrorHandler");function xt(){so=null}n(xt,"_clearMemo");function gt(){so=new Zt}n(gt,"_createMemo");function rS(t,e){if(!so)return;let i=so.get(t);if(!i)return so.set(t,[e]);i.push(e)}n(rS,"_addToMemo");function yt(){if(!so)throw new Error("Parser#getMemo() called before Parser#createMemo()");return so}n(yt,"_getMemo");function x1(t){return oS.has(t)}n(x1,"shouldIgnore");function om(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}n(om,"sanitizeClassName");function tm(t){let e=Fg.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}n(tm,"getParserByName");function cx(t){return Fg.has(t)}n(cx,"hasParser");function Lg(t,e){Fg.set(t,e),v1.set(t,e)}n(Lg,"addRuntimeParser");function sS(){return Object.fromEntries(v1)}n(sS,"getDynamicParsers");function aS(t){var e,i,o,r,a,c,p,d,h,_,x,y,w,I;let S={};gt();let N=De(t.contents),V=yt();N&&(S.contents=N,S.contents_memo=V),xt(),gt();let M=t.onResponseReceivedActions?mx(t.onResponseReceivedActions):null,Y=yt();M&&(S.on_response_received_actions=M,S.on_response_received_actions_memo=Y),xt(),gt();let ce=t.onResponseReceivedEndpoints?mx(t.onResponseReceivedEndpoints):null,ue=yt();ce&&(S.on_response_received_endpoints=ce,S.on_response_received_endpoints_memo=ue),xt(),gt();let he=t.onResponseReceivedCommands?mx(t.onResponseReceivedCommands):null,G=yt();he&&(S.on_response_received_commands=he,S.on_response_received_commands_memo=G),xt(),gt();let de=t.continuationContents?Dg(t.continuationContents):null,$=yt();de&&(S.continuation_contents=de,S.continuation_contents_memo=$),xt(),gt();let z=t.actions?y1(t.actions):null,q=yt();z&&(S.actions=z,S.actions_memo=q),xt(),gt();let ie=t.liveChatItemContextMenuSupportedRenderers?ee(t.liveChatItemContextMenuSupportedRenderers):null,ke=yt();ie&&(S.live_chat_item_context_menu_supported_renderers=ie,S.live_chat_item_context_menu_supported_renderers_memo=ke),xt(),gt();let Ze=t.header?De(t.header):null,ot=yt();Ze&&(S.header=Ze,S.header_memo=ot),xt(),gt();let K=t.sidebar?ee(t.sidebar):null,Me=yt();K&&(S.sidebar=K,S.sidebar_memo=Me),xt(),gt();let It=De(t.items);It&&(S.items=It,S.items_memo=yt()),xt(),gt();let St=De(t.entries);St&&(S.entries=St,S.entries_memo=yt()),xt(),b1(V,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations),ue&&w1(ue,(r=(o=t.frameworkUpdates)===null||o===void 0?void 0:o.entityBatchUpdate)===null||r===void 0?void 0:r.mutations);let _e=t.continuation?g1(t.continuation):null;_e&&(S.continuation=_e);let He=t.continuationEndpoint?Dg(t.continuationEndpoint):null;He&&(S.continuation_endpoint=He);let Eo=De(t.metadata);Eo&&(S.metadata=Eo);let No=ee(t.microformat);No&&(S.microformat=No);let Po=ee(t.overlay);Po&&(S.overlay=Po);let Ro=Le(t.alerts,[Yo,oh]);Ro.length&&(S.alerts=Ro);let Ao=t.refinements;Ao&&(S.refinements=Ao);let Vo=t.estimatedResults?parseInt(t.estimatedResults):null;Vo&&(S.estimated_results=Vo);let Mo=De(t.playerOverlays);Mo&&(S.player_overlays=Mo);let Bo=ee(t.background,Ae);Bo&&(S.background=Bo);let Lo=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Lo&&(S.playback_tracking=Lo);let Do=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:ee(t.playabilityStatus.audioOnlyPlayability,ah),error_screen:ee(t.playabilityStatus.errorScreen)}:null;if(Do&&(S.playability_status=Do),t.streamingData){let fe=new Map,Fk={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:Og(t.streamingData.formats,fe),adaptive_formats:Og(t.streamingData.adaptiveFormats,fe),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};S.streaming_data=Fk}if(t.playerConfig){let fe={audio_config:{loudness_db:(a=t.playerConfig.audioConfig)===null||a===void 0?void 0:a.loudnessDb,perceptual_loudness_db:(c=t.playerConfig.audioConfig)===null||c===void 0?void 0:c.perceptualLoudnessDb,enable_per_format_loudness:(p=t.playerConfig.audioConfig)===null||p===void 0?void 0:p.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((d=t.playerConfig.streamSelectionConfig)===null||d===void 0?void 0:d.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((_=(h=t.playerConfig.mediaCommonConfig)===null||h===void 0?void 0:h.dynamicReadaheadConfig)===null||_===void 0?void 0:_.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((y=(x=t.playerConfig.mediaCommonConfig)===null||x===void 0?void 0:x.dynamicReadaheadConfig)===null||y===void 0?void 0:y.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((I=(w=t.playerConfig.mediaCommonConfig)===null||w===void 0?void 0:w.dynamicReadaheadConfig)===null||I===void 0?void 0:I.readAheadGrowthRateMs)||0}}};S.player_config=fe}let Oo=t.currentVideoEndpoint?new v(t.currentVideoEndpoint):null;Oo&&(S.current_video_endpoint=Oo);let ae=t.endpoint?new v(t.endpoint):null;ae&&(S.endpoint=ae);let nt=ee(t.captions,Pv);nt&&(S.captions=nt);let Pe=t.videoDetails?new wi(t.videoDetails):null;Pe&&(S.video_details=Pe);let Ot=Le(t.annotations,Nv);Ot.length&&(S.annotations=Ot);let Bi=ee(t.storyboards,[ji,Vv]);Bi&&(S.storyboards=Bi);let ve=ee(t.endscreen,w_);ve&&(S.endscreen=ve);let Fe=ee(t.cards,Fh);Fe&&(S.cards=Fe);let et=Le(t.engagementPanels,ai);return et.length&&(S.engagement_panels=et),S}n(aS,"parseResponse");function ee(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let o=om(i[0]);if(!x1(o))try{let a=cx(o)?tm(o):im(o,t[i[0]],Ti);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===a.type))return Ti({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(a.type!==e.type)return Ti({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.type}),null}let c=new a(t[i[0]]);return rS(o,c),c}catch(r){return Ti({classname:o,classdata:t[i[0]],error:r,error_type:"parse"}),null}return null}n(ee,"parseItem");function Le(t,e){if(Array.isArray(t)){let i=[];for(let o of t){let r=ee(o,e);r&&i.push(r)}return oe(i)}else if(!t)return oe([]);throw new rt("Expected array but got a single item")}n(Le,"parseArray");function De(t,e,i){if(!t)return null;if(Array.isArray(t)){let o=[];for(let a of t){let c=ee(a,i);c&&o.push(c)}let r=oe(o);return e?r:new Et(r)}else if(e)throw new rt("Expected array but got a single item");return new Et(ee(t,i))}n(De,"parse");function g1(t){return t.timedContinuationData?new no({continuation:t.timedContinuationData,type:"timed"}):null}n(g1,"parseC");function Dg(t){return t.itemSectionContinuation?new Sn(t.itemSectionContinuation):t.sectionListContinuation?new En(t.sectionListContinuation):t.liveChatContinuation?new bi(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new Nn(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new Pn(t.musicShelfContinuation):t.gridContinuation?new Rn(t.gridContinuation):t.playlistPanelContinuation?new An(t.playlistPanelContinuation):t.continuationCommand?new Jt(t.continuationCommand):null}n(Dg,"parseLC");function mx(t){return oe(t.map(e=>{if(e.navigateAction)return new gi(e.navigateAction);if(e.showMiniplayerCommand)return new Cn(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new yi(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Ji(e.appendContinuationItemsAction)}).filter(e=>e))}n(mx,"parseRR");function y1(t){return Array.isArray(t)?De(t.map(e=>(delete e.clickTrackingParams,e))):new Et(ee(t))}n(y1,"parseActions");function Og(t,e){return(t==null?void 0:t.map(i=>new fx(i,e)))||[]}n(Og,"parseFormats");function b1(t,e){let i=t.getType(mn);if(i.length>0&&!e)Ti({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let o=[];for(let r of i){let a=e.find(p=>{var d,h;return((h=(d=p.payload)===null||d===void 0?void 0:d.musicFormBooleanChoice)===null||h===void 0?void 0:h.id)===r.form_item_entity_key}),c=a==null?void 0:a.payload.musicFormBooleanChoice;(c==null?void 0:c.selected)!==void 0&&(c==null?void 0:c.opaqueToken)?r.selected=c.selected:o.push(`'${r.title}'`)}o.length>0&&Ti({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:o.length,titles:o})}}n(b1,"applyMutations");function w1(t,e){var i,o,r,a,c,p;let d=t.getType(fi);if(d.length>0){e||Ti({error_type:"mutation_data_missing",classname:"CommentView"});for(let h of d){let _=(o=(i=e.find(w=>{var I,S;return((S=(I=w.payload)===null||I===void 0?void 0:I.commentEntityPayload)===null||S===void 0?void 0:S.key)===h.keys.comment}))===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.commentEntityPayload,x=(a=(r=e.find(w=>{var I,S;return((S=(I=w.payload)===null||I===void 0?void 0:I.engagementToolbarStateEntityPayload)===null||S===void 0?void 0:S.key)===h.keys.toolbar_state}))===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.engagementToolbarStateEntityPayload,y=(p=(c=e.find(w=>w.entityKey===h.keys.toolbar_surface))===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.engagementToolbarSurfaceEntityPayload;h.applyMutations(_,x,y)}}}n(w1,"applyCommentsMutations");var Hg={};ye(Hg,{AccountInfo:()=>T1,Analytics:()=>k1,Channel:()=>Ee,ChannelListContinuation:()=>po,Comments:()=>S1,FilteredChannelList:()=>Ci,Guide:()=>C1,HashtagFeed:()=>Ei,History:()=>wx,HomeFeed:()=>Ht,ItemMenu:()=>Sx,Library:()=>N1,LiveChat:()=>Lx,NotificationsMenu:()=>R1,Playlist:()=>Ex,Search:()=>A1,Settings:()=>V1,SmoothedQueue:()=>Ax,TimeWatched:()=>M1,TranscriptInfo:()=>yx,VideoInfo:()=>vm});var Vn,hx=class{constructor(e){if(Vn.set(this,void 0),E(this,Vn,l.parseResponse(e.data),"f"),!f(this,Vn,"f").contents)throw new b("Page contents not found");let i=f(this,Vn,"f").contents.array().as(qm).first();if(!i)throw new b("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return f(this,Vn,"f")}};n(hx,"AccountInfo");Vn=new WeakMap;var T1=hx;var nm,_x=class{constructor(e){var i;nm.set(this,void 0),E(this,nm,l.parseResponse(e.data),"f"),this.sections=(i=f(this,nm,"f").contents_memo)===null||i===void 0?void 0:i.getType(ln).map(o=>o.model).flatMap(o=>o||[])}get page(){return f(this,nm,"f")}};n(_x,"Analytics");nm=new WeakMap;var k1=_x;var rm,Oe,ao,sm,Ke,I1,jg,ki=class{constructor(e,i,o=!1){rm.add(this),Oe.set(this,void 0),ao.set(this,void 0),sm.set(this,void 0),Ke.set(this,void 0),f(this,rm,"m",I1).call(this,i)||o?E(this,Oe,i,"f"):E(this,Oe,l.parseResponse(i.data),"f");let r=Yg(f(this,Oe,"f").contents_memo,f(this,Oe,"f").continuation_contents_memo,f(this,Oe,"f").on_response_received_commands_memo,f(this,Oe,"f").on_response_received_endpoints_memo,f(this,Oe,"f").on_response_received_actions_memo,f(this,Oe,"f").sidebar_memo,f(this,Oe,"f").header_memo);if(!r)throw new b("No memo found in feed");E(this,Ke,r,"f"),E(this,sm,e,"f")}static getVideosFromMemo(e){return e.getType(Ho,R_,yn,$o,gn,Wt,nx)}static getPlaylistsFromMemo(e){let i=e.getType(Nt,E_),o=e.getType(sv).filter(r=>["PLAYLIST","ALBUM","PODCAST"].includes(r.content_type));return o.length>0&&i.push(...o),i}get videos(){return ki.getVideosFromMemo(f(this,Ke,"f"))}get posts(){return f(this,Ke,"f").getType(ni,Yv,qv)}get channels(){return f(this,Ke,"f").getType(Yh,C_)}get playlists(){return ki.getPlaylistsFromMemo(f(this,Ke,"f"))}get memo(){return f(this,Ke,"f")}get page_contents(){var e;let i=(e=f(this,Ke,"f").getType(Ve))===null||e===void 0?void 0:e.first().content,o=f(this,Ke,"f").getType(yi).first(),r=f(this,Ke,"f").getType(Ji).first();return i||o||r}get shelves(){return f(this,Ke,"f").getType(kn,Jv,qo)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=f(this,Oe,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=f(this,Oe,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(At,Zv))return o.secondary_contents}get actions(){return f(this,sm,"f")}get page(){return f(this,Oe,"f")}get has_continuation(){return f(this,rm,"m",jg).call(this).length>0}getContinuationData(){return k(this,void 0,void 0,function*(){if(f(this,ao,"f")){if(f(this,ao,"f").length===0)throw new b("There are no continuations.");return yield f(this,ao,"f")[0].endpoint.call(f(this,sm,"f"),{parse:!0})}if(E(this,ao,f(this,rm,"m",jg).call(this),"f"),f(this,ao,"f"))return this.getContinuationData()})}getContinuation(){return k(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new ki(this.actions,e,!0)})}};n(ki,"Feed");Oe=new WeakMap,ao=new WeakMap,sm=new WeakMap,Ke=new WeakMap,rm=new WeakSet,I1=n(function(e){return!("data"in e)},"_Feed_isParsed"),jg=n(function(){if(f(this,Oe,"f").header_memo){let e=f(this,Oe,"f").header_memo.getType(pe);return f(this,Ke,"f").getType(pe).filter(i=>!e.includes(i))}return f(this,Ke,"f").getType(pe)},"_Feed_getBodyContinuations");var Ce=ki;var Mn,vx=class extends Ce{constructor(e,i,o=!1){super(e,i,o),Mn.set(this,void 0)}get filter_chips(){var e,i;if(f(this,Mn,"f"))return f(this,Mn,"f")||[];if(((e=this.memo.getType(Ut))===null||e===void 0?void 0:e.length)>1)throw new b("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(Ut))===null||i===void 0?void 0:i.length)===0)throw new b("There are no feed filter chipbars");return E(this,Mn,this.memo.getType(Ye),"f"),f(this,Mn,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){return k(this,void 0,void 0,function*(){var i;let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new b("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(a=>a.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new b("Invalid filter");if(!o)throw new b("Filter not found");if(o.is_selected)return this;let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new b("Failed to get filtered feed");return new Ce(this.actions,r,!0)})}};n(vx,"FilterableFeed");Mn=new WeakMap;var Ii=vx;var Ug={};ye(Ug,{Feed:()=>Ce,FilterableFeed:()=>Ii,MediaInfo:()=>gx,TabbedFeed:()=>um});var Si,bt,Bn,am,xx=class{constructor(e,i,o){var r,a;Si.set(this,void 0),bt.set(this,void 0),Bn.set(this,void 0),am.set(this,void 0),E(this,bt,i,"f");let c=l.parseResponse(e[0].data),p=!((r=e==null?void 0:e[1])===null||r===void 0)&&r.data?l.parseResponse(e[1].data):void 0;if(E(this,Si,[c,p],"f"),E(this,Bn,o,"f"),((a=c.playability_status)===null||a===void 0?void 0:a.status)==="ERROR")throw new b("This video is unavailable",c.playability_status);this.streaming_data=c.streaming_data,this.playability_status=c.playability_status,this.player_config=c.player_config,E(this,am,c.playback_tracking,"f")}toDash(e,i){return k(this,arguments,void 0,function*(o,r,a={include_thumbnails:!1}){var c,p;let d=f(this,Si,"f")[0];if(d.video_details&&d.video_details.is_live)throw new b("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let h,_;return a.include_thumbnails&&d.storyboards&&(h=d.storyboards),typeof a.captions_format=="string"&&((c=d.captions)===null||c===void 0?void 0:c.caption_tracks)&&(_=d.captions.caption_tracks),Yi.toDash(this.streaming_data,(p=this.page[0].video_details)===null||p===void 0?void 0:p.is_post_live_dvr,o,r,f(this,Bn,"f"),f(this,bt,"f").session.player,f(this,bt,"f"),h,_,a)})}getStreamingInfo(e,i){var o;return Dm(this.streaming_data,(o=this.page[0].video_details)===null||o===void 0?void 0:o.is_post_live_dvr,e,i,this.cpn,f(this,bt,"f").session.player,f(this,bt,"f"),f(this,Si,"f")[0].storyboards?f(this,Si,"f")[0].storyboards:void 0)}chooseFormat(e){return Yi.chooseFormat(e,this.streaming_data)}download(){return k(this,arguments,void 0,function*(e={}){let i=f(this,Si,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new b("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Yi.download(e,f(this,bt,"f"),this.playability_status,this.streaming_data,f(this,bt,"f").session.player,this.cpn)})}getTranscript(){return k(this,void 0,void 0,function*(){var e;let i=this.page[1];if(!i)throw new b("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new b("Engagement panels not found. Video likely has no transcript.");let o=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!o)throw new b("Transcript panel not found. Video likely has no transcript.");let r=(e=o.content)===null||e===void 0?void 0:e.as(pe);if(!r)throw new b("Transcript continuation not found.");let a=yield r.endpoint.call(this.actions);return new yx(this.actions,a)})}addToWatchHistory(){return k(this,arguments,void 0,function*(e=xe.CLIENTS.WEB.NAME,i=xe.CLIENTS.WEB.VERSION,o="https://www."){if(!f(this,am,"f"))throw new b("Playback tracking not available");let r={cpn:f(this,Bn,"f"),fmt:251,rtn:0,rt:0},a=f(this,am,"f").videostats_playback_url.replace("https://s.",o);return yield f(this,bt,"f").stats(a,{client_name:e,client_version:i},r)})}get actions(){return f(this,bt,"f")}get cpn(){return f(this,Bn,"f")}get page(){return f(this,Si,"f")}};n(xx,"MediaInfo");Si=new WeakMap,bt=new WeakMap,Bn=new WeakMap,am=new WeakMap;var gx=xx;var uo,lo,co=class extends Ce{constructor(e,i,o=!1){var r;super(e,i,o),uo.set(this,void 0),lo.set(this,void 0),E(this,lo,e,"f"),E(this,uo,(r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(Ve),"f")}get tabs(){var e,i;return(i=(e=f(this,uo,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){return k(this,void 0,void 0,function*(){var i;let o=(i=f(this,uo,"f"))===null||i===void 0?void 0:i.find(a=>a.title.toLowerCase()===e.toLowerCase());if(!o)throw new b(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(f(this,lo,"f"));return new co(f(this,lo,"f"),r,!1)})}getTabByURL(e){return k(this,void 0,void 0,function*(){var i;let o=(i=f(this,uo,"f"))===null||i===void 0?void 0:i.find(a=>{var c;return((c=a.endpoint.metadata.url)===null||c===void 0?void 0:c.split("/").pop())===e});if(!o)throw new b(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(f(this,lo,"f"));return new co(f(this,lo,"f"),r,!1)})}hasTabWithURL(e){var i,o;return(o=(i=f(this,uo,"f"))===null||i===void 0?void 0:i.some(r=>{var a;return((a=r.endpoint.metadata.url)===null||a===void 0?void 0:a.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(Ve))===null||i===void 0?void 0:i.find(r=>r.selected))===null||o===void 0?void 0:o.title.toString()}};n(co,"TabbedFeed");uo=new WeakMap,lo=new WeakMap;var um=co;var Ee=class extends um{constructor(e,i,o=!1){var r,a,c,p,d,h;super(e,i,o),this.header=(a=(r=this.page.header)===null||r===void 0?void 0:r.item())===null||a===void 0?void 0:a.as(Xo,jh,F_,Rt);let _=(c=this.page.metadata)===null||c===void 0?void 0:c.item().as(Uh),x=(p=this.page.microformat)===null||p===void 0?void 0:p.as(hn);if(this.page.alerts){let y=this.page.alerts.first();if((y==null?void 0:y.alert_type)==="ERROR")throw new Ln(y.text.toString())}if(!_&&!this.page.contents)throw new b("Invalid channel",this);this.metadata=Object.assign(Object.assign({},_),x||{}),this.subscribe_button=(d=this.page.header_memo)===null||d===void 0?void 0:d.getType(Be).first(),this.current_tab=(h=this.page.contents)===null||h===void 0?void 0:h.item().as(At).tabs.array().filterType(Ve,cn).get({selected:!0})}applyFilter(e){return k(this,void 0,void 0,function*(){var i;let o,r=this.memo.getType(Ut).first();if(typeof e=="string"){if(o=r==null?void 0:r.contents.get({text:e}),!o)throw new b(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof Ye&&(o=e);if(!o)throw new b("Invalid filter",e);let a=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!a)throw new b("No page returned",{filter:o});return new Ci(this.actions,a,!0)})}applySort(e){return k(this,void 0,void 0,function*(){var i,o;let r=this.memo.getType(_t).first();if(!r)throw new b("No sort filter sub menu found");let a=(i=r==null?void 0:r.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!a)throw new b(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(a.selected)return this;let c=yield(o=a.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Ee(this.actions,c,!0)})}applyContentTypeFilter(e){return k(this,void 0,void 0,function*(){var i,o,r,a;let c=(r=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(be).sub_menu)===null||r===void 0?void 0:r.as(La);if(!c)throw new b("Sub menu not found");let p=c.content_type_sub_menu_items.find(h=>h.title===e);if(!p)throw new b(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let d=yield(a=p.endpoint)===null||a===void 0?void 0:a.call(this.actions,{parse:!0});return new Ee(this.actions,d,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(Ut))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(Ye).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(_t).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let r=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(be).sub_menu)===null||o===void 0?void 0:o.as(La);return(r==null?void 0:r.content_type_sub_menu_items.map(a=>a.title))||[]}getHome(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Ee(this.actions,e.page,!0)})}getVideos(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Ee(this.actions,e.page,!0)})}getShorts(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Ee(this.actions,e.page,!0)})}getLiveStreams(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Ee(this.actions,e.page,!0)})}getReleases(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Ee(this.actions,e.page,!0)})}getPodcasts(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Ee(this.actions,e.page,!0)})}getPlaylists(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Ee(this.actions,e.page,!0)})}getCommunity(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Ee(this.actions,e.page,!0)})}getAbout(){return k(this,void 0,void 0,function*(){var e,i,o,r,a;if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(Ea)[0];let c=((e=this.header)===null||e===void 0?void 0:e.is(Xo))&&this.header.tagline;if(c||((i=this.header)===null||i===void 0?void 0:i.is(Rt))&&((o=this.header.content)===null||o===void 0?void 0:o.description)){if(c&&c.more_endpoint instanceof v){let h=yield c.more_endpoint.call(this.actions);return new um(this.actions,h,!1).memo.getType(Ea)[0]}let p=(a=(r=this.page.header_memo)===null||r===void 0?void 0:r.getType(pe)[0])===null||a===void 0?void 0:a.endpoint;if(!p)throw new b("Failed to extract continuation to get channel about");let d=yield p.call(this.actions,{parse:!0});if(!d.on_response_received_endpoints_memo)throw new b("Unexpected response while fetching channel about",{response:d});return d.on_response_received_endpoints_memo.getType(Gm)[0]}throw new b("About not found")})}search(e){return k(this,void 0,void 0,function*(){var i,o;let r=(i=this.memo.getType(cn))===null||i===void 0?void 0:i[0];if(!r)throw new b("Search tab not found",this);let a=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Ee(this.actions,a,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,o,r,a;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(Xo))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))||!!(((o=this.header)===null||o===void 0?void 0:o.is(Rt))&&((a=(r=this.header.content)===null||r===void 0?void 0:r.description)===null||a===void 0?void 0:a.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(cn))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return k(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new b("Could not get continuation data");return new po(this.actions,i,!0)})}};n(Ee,"Channel");var po=class extends Ce{constructor(e,i,o=!1){var r,a;super(e,i,o),this.contents=((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())||((a=this.page.on_response_received_endpoints)===null||a===void 0?void 0:a.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return k(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new b("Could not get continuation data");return new po(this.actions,i,!0)})}};n(po,"ChannelListContinuation");var Ci=class extends Ii{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(Ye).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return k(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Ci(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return k(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new b("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(Ut)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(Ye)),new Ci(this.actions,i,!0)})}};n(Ci,"FilteredChannelList");var Dn,Mt,On,fo=class{constructor(e,i,o=!1){var r,a,c;Dn.set(this,void 0),Mt.set(this,void 0),On.set(this,void 0),E(this,Dn,o?i:l.parseResponse(i),"f"),E(this,Mt,e,"f");let p=f(this,Dn,"f").on_response_received_endpoints;if(!p)throw new b("Comments page did not have any content.");let d=p.at(0),h=p.at(1);this.header=(r=d==null?void 0:d.contents)===null||r===void 0?void 0:r.firstOfType(di);let _=((a=h==null?void 0:h.contents)===null||a===void 0?void 0:a.filterType(c_))||[];this.contents=oe(_.map(x=>{var y;return(y=x.comment)===null||y===void 0||y.setActions(f(this,Mt,"f")),x.setActions(f(this,Mt,"f")),x})),E(this,On,(c=h==null?void 0:h.contents)===null||c===void 0?void 0:c.firstOfType(pe),"f")}applySort(e){return k(this,void 0,void 0,function*(){var i,o,r,a;if(!this.header)throw new b("Page header is missing. Cannot apply sort option.");let c;if(e==="TOP_COMMENTS"?c=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(c=(a=(r=this.header.sort_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||a===void 0?void 0:a.at(1)),!c)throw new b("Could not find target button.");if(c.selected)return this;let p=yield c.endpoint.call(f(this,Mt,"f"),{parse:!0});return new fo(f(this,Mt,"f"),p,!0)})}createComment(e){return k(this,void 0,void 0,function*(){var i;if(!this.header)throw new b("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(l_).submit_button;if(!o)throw new b("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new b("Button does not have an endpoint.");return yield o.endpoint.call(f(this,Mt,"f"),{commentText:e})})}getContinuation(){return k(this,void 0,void 0,function*(){if(!f(this,On,"f"))throw new b("Continuation not found");let e=yield f(this,On,"f").endpoint.call(f(this,Mt,"f"),{parse:!0}),i=Object.assign({},f(this,Dn,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new b("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new fo(f(this,Mt,"f"),i,!0)})}get has_continuation(){return!!f(this,On,"f")}get page(){return f(this,Dn,"f")}};n(fo,"Comments");Dn=new WeakMap,Mt=new WeakMap,On=new WeakMap;var S1=fo;var lm,bx=class{constructor(e){lm.set(this,void 0),E(this,lm,l.parseResponse(e),"f"),this.contents=f(this,lm,"f").items.array().as(pn,A_)}get page(){return f(this,lm,"f")}};n(bx,"Guide");lm=new WeakMap;var C1=bx;var Fn=class extends Ce{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType($e),this.feed_actions=this.memo.getType(dh).first()}getContinuation(){return k(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Fn(this.actions,e,!0)})}};n(Fn,"History");var wx=Fn;var Ht=class extends Ii{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(I_).first(),this.contents=this.memo.getType(xi).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return k(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Ht(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});return k(this,void 0,void 0,function*(){var i;let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Ht(this.actions,o.page,!0)})}};n(Ht,"HomeFeed");var Ei=class extends Ii{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new b("Unexpected response",this.page);let o=this.page.contents_memo.getType(Ve).first();if(!o.content)throw new b("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(V_,Rt)),this.contents=o.content.as(xi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return k(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Ei(this.actions,o.page)})}};n(Ei,"HashtagFeed");var Tx,kx,cm,Ix=class{constructor(e,i){Tx.set(this,void 0),kx.set(this,void 0),cm.set(this,void 0),E(this,Tx,e,"f"),E(this,kx,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(O))throw new b('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');E(this,cm,o.as(O).items,"f")}selectItem(e){return k(this,void 0,void 0,function*(){let i;if(e instanceof T){if(!e.endpoint)throw new b("Item does not have an endpoint.");i=e.endpoint}else{let r=f(this,cm,"f").find(a=>a.is(_i)?a.as(_i).icon_type===e:!1);if(!r||!r.is(_i))throw new b(`Button "${e}" not found.`);i=r.endpoint}if(!i)throw new b("Target button does not have an endpoint.");return yield i.call(f(this,kx,"f"),{parse:!0})})}items(){return f(this,cm,"f")}page(){return f(this,Tx,"f")}};n(Ix,"ItemMenu");Tx=new WeakMap,kx=new WeakMap,cm=new WeakMap;var Sx=Ix;var pm,Cx,jn=class extends Ce{constructor(e,i,o=!1){var r,a,c,p,d;super(e,i,o),pm.add(this);let h=this.memo.getType(Dv).first(),_=this.memo.getType(Fv).first(),x=this.memo.getType(jv).first(),y=(r=this.page.alerts)===null||r===void 0?void 0:r.firstOfType(Yo);if(y&&y.alert_type==="ERROR")throw new b(y.text.toString(),y);if(!_&&!x&&Object.keys(this.page).length===0)throw new b("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(a=this.page.metadata)===null||a===void 0?void 0:a.item().as(Ov)),{subtitle:h?h.subtitle:null,author:(p=(c=x==null?void 0:x.owner)===null||c===void 0?void 0:c.as(In).author)!==null&&p!==void 0?p:h==null?void 0:h.author,thumbnails:(d=_==null?void 0:_.thumbnail_renderer)===null||d===void 0?void 0:d.as(an,sn).thumbnail,total_items:f(this,pm,"m",Cx).call(this,0,_),views:f(this,pm,"m",Cx).call(this,1,_),last_updated:f(this,pm,"m",Cx).call(this,2,_),can_share:h==null?void 0:h.can_share,can_delete:h==null?void 0:h.can_delete,is_editable:h==null?void 0:h.is_editable,privacy:h==null?void 0:h.privacy}),this.menu=_==null?void 0:_.menu,this.endpoint=_==null?void 0:_.endpoint,this.messages=this.memo.getType(mi)}get items(){return oe(this.videos.as(gn,yn).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(be).first();return e?!!this.memo.getType(pe).find(i=>!e.contents.includes(i)):super.has_continuation}getContinuationData(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return k(this,void 0,void 0,function*(){let i=this.memo.getType(be).first();if(!i)return yield e.getContinuationData.call(this);let o=this.memo.getType(pe).find(a=>!i.contents.includes(a));if(!o)throw new b("There are no continuations.");return yield o.endpoint.call(this.actions,{parse:!0})})}getContinuation(){return k(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new jn(this.actions,e,!0)})}};n(jn,"Playlist");pm=new WeakSet,Cx=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var Ex=jn;var Wg,E1,Nx=class extends Ce{constructor(e,i){if(super(e,i),Wg.add(this),!this.page.contents_memo)throw new b("Page contents not found");this.header=this.memo.getType(Rt).first();let o=this.page.contents_memo.getType(kn);this.sections=o.map(r=>{var a;return{type:r.icon_type,title:r.title,contents:((a=r.content)===null||a===void 0?void 0:a.key("items").array())||[],getAll:()=>f(this,Wg,"m",E1).call(this,r)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(Nx,"Library");Wg=new WeakSet,E1=n(function(e){return k(this,void 0,void 0,function*(){var i;if(!(!((i=e.menu)===null||i===void 0)&&i.as(O).hasKey("top_level_buttons")))throw new b(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(O).top_level_buttons.firstOfType(T);if(!o)throw new b("Did not find target button.");let r=yield o.as(T).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new Ex(this.actions,r,!0);case"WATCH_HISTORY":return new wx(this.actions,r,!0);case"CONTENT_CUT":return new Ce(this.actions,r,!0);default:throw new b("Target shelf not implemented.")}})},"_Library_getAll");var N1=Nx;var Gt,Ni,mo,at,wt,qe;function uS(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n(uS,"flattenQueue");var Px=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(Px,"DelayQueue");var Rx=class{constructor(){Gt.set(this,void 0),Ni.set(this,void 0),mo.set(this,void 0),at.set(this,void 0),wt.set(this,void 0),qe.set(this,void 0),E(this,Gt,null,"f"),E(this,Ni,null,"f"),E(this,mo,null,"f"),E(this,at,[],"f"),E(this,wt,null,"f"),E(this,qe,new Px,"f")}enqueueActionGroup(e){if(f(this,Gt,"f")!==null){let i=Date.now()-f(this,Gt,"f");f(this,qe,"f").back.push(i),5<f(this,qe,"f").front.length+f(this,qe,"f").back.length&&(f(this,qe,"f").front.length||(f(this,qe,"f").front=f(this,qe,"f").back,f(this,qe,"f").front.reverse(),f(this,qe,"f").back=[]),f(this,qe,"f").front.pop()),E(this,Ni,Math.max(...f(this,qe,"f").getValues()),"f")}E(this,Gt,Date.now(),"f"),f(this,at,"f").push(e),f(this,wt,"f")===null&&E(this,wt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(E(this,wt,null,"f"),f(this,at,"f").length){let e=1e4;f(this,Ni,"f")!==null&&f(this,Gt,"f")!==null&&(e=f(this,Ni,"f")-Date.now()+f(this,Gt,"f")),e=f(this,at,"f").length<e/80?1:Math.ceil(f(this,at,"f").length/(e/80));let i=uS(f(this,at,"f").splice(0,e));f(this,mo,"f")&&f(this,mo,"f").call(this,i),f(this,at,"f")!==null&&(e==1?(e=f(this,Ni,"f")/f(this,at,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,E(this,wt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){f(this,wt,"f")!==null&&(clearTimeout(f(this,wt,"f")),E(this,wt,null,"f")),E(this,at,[],"f")}set callback(e){E(this,mo,e,"f")}get callback(){return f(this,mo,"f")}get action_queue(){return f(this,at,"f")}get estimated_update_interval(){return f(this,Ni,"f")}get last_update_time(){return f(this,Gt,"f")}get next_update_id(){return f(this,wt,"f")}get poll_response_delay_queue(){return f(this,qe,"f")}};n(Rx,"SmoothedQueue");Gt=new WeakMap,Ni=new WeakMap,mo=new WeakMap,at=new WeakMap,wt=new WeakMap,qe=new WeakMap;var Ax=Rx;var Ne,zt,mm,Vx,_o,dm,fm,Jg,Mx,P1,ho,Bx=class extends Mr{constructor(e){var i,o;super(),Ne.add(this),zt.set(this,void 0),mm.set(this,void 0),Vx.set(this,void 0),_o.set(this,void 0),dm.set(this,void 0),fm.set(this,0),this.running=!1,this.is_replay=!1,E(this,mm,e.basic_info.id,"f"),E(this,Vx,e.basic_info.channel_id,"f"),E(this,zt,e.actions,"f"),E(this,_o,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new Ax,this.smoothed_queue.callback=r=>k(this,void 0,void 0,function*(){r.length?r.length<10?yield f(this,Ne,"m",Mx).call(this,r):this.is_replay?(f(this,Ne,"m",Mx).call(this,r),yield f(this,Ne,"m",ho).call(this,2e3)):f(this,Ne,"m",Mx).call(this,r):yield f(this,Ne,"m",ho).call(this,2e3),this.running&&f(this,Ne,"m",Jg).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,f(this,Ne,"m",Jg).call(this),f(this,Ne,"m",P1).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return k(this,void 0,void 0,function*(){let i=yield f(this,zt,"f").execute("/live_chat/send_message",{params:kg(f(this,Vx,"f"),f(this,mm,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:U.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new b("Unexpected response from send_message",i);return i.actions.array().as(z_)})}applyFilter(e){var i,o,r,a,c,p,d;if(!this.initial_info)throw new b("Cannot apply filter before initial info is retrieved.");let h=(r=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||r===void 0?void 0:r.sub_menu_items;if(e==="TOP_CHAT"){if(!((a=h==null?void 0:h.at(0))===null||a===void 0)&&a.selected)return;E(this,_o,(c=h==null?void 0:h.at(0))===null||c===void 0?void 0:c.continuation,"f")}else{if(!((p=h==null?void 0:h.at(1))===null||p===void 0)&&p.selected)return;E(this,_o,(d=h==null?void 0:h.at(1))===null||d===void 0?void 0:d.continuation,"f")}}getItemMenu(e){return k(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(v))throw new b("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(v).call(f(this,zt,"f"),{parse:!0});if(!i)throw new b("Could not retrieve item menu.",e);return new Sx(i,f(this,zt,"f"))})}selectButton(e){return k(this,void 0,void 0,function*(){return yield e.endpoint.call(f(this,zt,"f"),{parse:!0})})}};n(Bx,"LiveChat");zt=new WeakMap,mm=new WeakMap,Vx=new WeakMap,_o=new WeakMap,dm=new WeakMap,fm=new WeakMap,Ne=new WeakSet,Jg=n(function t(){k(this,void 0,void 0,function*(){var e,i;try{let o=yield f(this,zt,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:f(this,_o,"f"),parse:!0}),r=o.continuation_contents;if(r||(this.emit("error",new b("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(r instanceof bi)){this.stop(),this.emit("end");return}E(this,_o,r.continuation.token,"f"),r.header?(this.initial_info=r,this.emit("start",r),this.running&&f(this,Ne,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(r.actions),E(this,fm,0,"f")}catch(o){this.emit("error",o),E(this,fm,(i=f(this,fm,"f"),e=i++,i),"f"),e<10?(yield f(this,Ne,"m",ho).call(this,2e3),f(this,Ne,"m",t).call(this)):(this.emit("error",new b("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),Mx=n(function(e){return k(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),r=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let a of e)yield f(this,Ne,"m",ho).call(this,r),this.emit("chat-update",a)})},"_LiveChat_emitSmoothedActions"),P1=n(function t(){k(this,void 0,void 0,function*(){var e,i,o,r,a,c,p,d,h,_,x;try{let y={videoId:f(this,mm,"f")};f(this,dm,"f")&&(y.continuation=f(this,dm,"f"));let w=yield f(this,zt,"f").execute("/updated_metadata",y),I=l.parseResponse(w.data);E(this,dm,(e=I.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=I.actions)===null||i===void 0?void 0:i.array().firstOfType(Q_))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((r=I.actions)===null||r===void 0?void 0:r.array().firstOfType(X_))||((a=this.metadata)===null||a===void 0?void 0:a.description),views:((c=I.actions)===null||c===void 0?void 0:c.array().firstOfType(ev))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((d=I.actions)===null||d===void 0?void 0:d.array().firstOfType(Z_))||((h=this.metadata)===null||h===void 0?void 0:h.likes),date:((_=I.actions)===null||_===void 0?void 0:_.array().firstOfType(q_))||((x=this.metadata)===null||x===void 0?void 0:x.date)},this.emit("metadata-update",this.metadata),yield f(this,Ne,"m",ho).call(this,5e3),this.running&&f(this,Ne,"m",t).call(this)}catch(y){yield f(this,Ne,"m",ho).call(this,2e3),this.running&&f(this,Ne,"m",t).call(this)}})},"_LiveChat_pollMetadata"),ho=n(function(e){return k(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var Lx=Bx;var vo,hm,Yn=class{constructor(e,i){vo.set(this,void 0),hm.set(this,void 0),E(this,hm,e,"f"),E(this,vo,l.parseResponse(i.data),"f"),this.header=f(this,vo,"f").actions_memo.getType(cv).first(),this.contents=f(this,vo,"f").actions_memo.getType(Iv)}getContinuation(){return k(this,void 0,void 0,function*(){let e=f(this,vo,"f").actions_memo.getType(pe).first();if(!e)throw new b("Continuation not found");let i=yield e.endpoint.call(f(this,hm,"f"),{parse:!1});return new Yn(f(this,hm,"f"),i)})}get page(){return f(this,vo,"f")}};n(Yn,"NotificationsMenu");vo=new WeakMap,hm=new WeakMap;var R1=Yn;var xo=class extends Ce{constructor(e,i,o=!1){var r,a,c,p,d,h;super(e,i,o);let _=((r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(be).first().contents)||((a=this.page.on_response_received_commands)===null||a===void 0?void 0:a.first().contents);if(!_)throw new b("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(Gv)),this.results=(c=_.find(x=>x.is($e)&&x.contents&&x.contents.length>0))===null||c===void 0?void 0:c.as($e).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(zv).first(),this.watch_card=(d=this.page.contents_memo)===null||d===void 0?void 0:d.getType(ix).first(),this.refinement_cards=(h=this.results)===null||h===void 0?void 0:h.firstOfType(ri)}selectRefinementCard(e){return k(this,void 0,void 0,function*(){var i,o;let r;if(typeof e=="string"){if(!this.refinement_cards)throw new b("No refinement cards found.");if(r=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(Gi),!r)throw new b(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")r=e;else throw new b("Invalid refinement card!");let a=yield r.endpoint.call(this.actions,{parse:!0});return new xo(this.actions,a,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(Gi).map(i=>i.query))||[]}getContinuation(){return k(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new xo(this.actions,e,!0)})}};n(xo,"Search");var A1=xo;var go,_m,Un=class{constructor(e,i){var o,r,a,c;if(go.set(this,void 0),_m.set(this,void 0),E(this,_m,e,"f"),E(this,go,l.parseResponse(i.data),"f"),this.sidebar=(o=f(this,go,"f").sidebar)===null||o===void 0?void 0:o.as(Kv),!f(this,go,"f").contents)throw new b("Page contents not found");let p=f(this,go,"f").contents.item().as(At).tabs.array().as(Ve).get({selected:!0});if(!p)throw new b("Target tab not found");let d=(r=p.content)===null||r===void 0?void 0:r.as(be).contents.as($e);this.introduction=(c=(a=d==null?void 0:d.shift())===null||a===void 0?void 0:a.contents)===null||c===void 0?void 0:c.firstOfType(Cv),this.sections=d==null?void 0:d.map(h=>{var _;return{title:!((_=h.header)===null||_===void 0)&&_.is(di,dn,fn)?h.header.title.toString():null,contents:h.contents}})}selectSidebarItem(e){return k(this,void 0,void 0,function*(){if(!this.sidebar)throw new b("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new b(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(rn))i=e;else throw new b("Invalid item",{target_item:e});let o=yield i.endpoint.call(f(this,_m,"f"),{parse:!1});return new Un(f(this,_m,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new b("Sections not available");for(let o of this.sections)if(!!o.contents)for(let r of o.contents){let a=r.as(Tn).options;if(a){for(let c of a)if(c.is(wn)&&((i=c.title)===null||i===void 0?void 0:i.toString())===e)return c}}throw new b(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new b("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(Tn).options&&(e=e.concat(o.as(Tn).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new b("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return f(this,go,"f")}};n(Un,"Settings");go=new WeakMap,_m=new WeakMap;var V1=Un;var Wn,Dx=class{constructor(e){var i;if(Wn.set(this,void 0),E(this,Wn,l.parseResponse(e.data),"f"),!f(this,Wn,"f").contents)throw new b("Page contents not found");let o=f(this,Wn,"f").contents.item().as(Xv).tabs.get({selected:!0});if(!o)throw new b("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(be).contents.as($e)}get page(){return f(this,Wn,"f")}};n(Dx,"TimeWatched");Wn=new WeakMap;var M1=Dx;var Pi,Jn=class extends gx{constructor(e,i,o){var r,a,c,p,d,h,_,x,y,w,I,S,N,V,M,Y,ce,ue,he,G,de,$,z,q,ie,ke,Ze,ot,K,Me,It,St,_e,He,Eo,No,Po,Ro,Ao,Vo,Mo,Bo,Lo,Do,Oo;super(e,i,o),Pi.set(this,void 0);let[ae,nt]=this.page;if(ae.microformat&&!(!((r=ae.microformat)===null||r===void 0)&&r.is(st,hn)))throw new b("Invalid microformat",ae.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},ae.video_details),{embed:!((a=ae.microformat)===null||a===void 0)&&a.is(st)?(c=ae.microformat)===null||c===void 0?void 0:c.embed:null,channel:!((p=ae.microformat)===null||p===void 0)&&p.is(st)?(d=ae.microformat)===null||d===void 0?void 0:d.channel:null,is_unlisted:(h=ae.microformat)===null||h===void 0?void 0:h.is_unlisted,is_family_safe:(_=ae.microformat)===null||_===void 0?void 0:_.is_family_safe,category:!((x=ae.microformat)===null||x===void 0)&&x.is(st)?(y=ae.microformat)===null||y===void 0?void 0:y.category:null,has_ypc_metadata:!((w=ae.microformat)===null||w===void 0)&&w.is(st)?(I=ae.microformat)===null||I===void 0?void 0:I.has_ypc_metadata:null,start_timestamp:!((S=ae.microformat)===null||S===void 0)&&S.is(st)?ae.microformat.start_timestamp:null,end_timestamp:!((N=ae.microformat)===null||N===void 0)&&N.is(st)?ae.microformat.end_timestamp:null,view_count:((V=ae.microformat)===null||V===void 0?void 0:V.is(st))&&isNaN((M=ae.video_details)===null||M===void 0?void 0:M.view_count)?ae.microformat.view_count:(Y=ae.video_details)===null||Y===void 0?void 0:Y.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=ae.annotations,this.storyboards=ae.storyboards,this.endscreen=ae.endscreen,this.captions=ae.captions,this.cards=ae.cards,this.streaming_data){let ve=this.streaming_data.adaptive_formats.find(Fe=>{var et;return(et=Fe.audio_track)===null||et===void 0?void 0:et.audio_is_default});if(ve)this.streaming_data.formats.forEach(Fe=>Fe.language=ve.language);else if(((ce=this.captions)===null||ce===void 0?void 0:ce.caption_tracks)&&((ue=this.captions)===null||ue===void 0?void 0:ue.caption_tracks.length)>0){let Fe=this.captions.caption_tracks.find(fe=>fe.kind==="asr"),et=Fe==null?void 0:Fe.language_code;this.streaming_data.adaptive_formats.forEach(fe=>{fe.has_audio&&(fe.language=et)}),this.streaming_data.formats.forEach(fe=>fe.language=et)}}let Pe=(he=nt==null?void 0:nt.contents)===null||he===void 0?void 0:he.item().as(tx),Ot=Pe==null?void 0:Pe.results,Bi=Pe==null?void 0:Pe.secondary_results;if(Ot&&Bi){if(((G=ae.microformat)===null||G===void 0?void 0:G.is(st))&&((de=ae.microformat)===null||de===void 0?void 0:de.category)==="Gaming"){let fe=(q=(z=($=Ot.firstOfType(Yf))===null||$===void 0?void 0:$.metadata)===null||z===void 0?void 0:z.rows)===null||q===void 0?void 0:q.firstOfType(Rd);fe!=null&&fe.is(Rd)&&(this.game_info={title:(ke=(ie=fe==null?void 0:fe.contents)===null||ie===void 0?void 0:ie.firstOfType(Nd))===null||ke===void 0?void 0:ke.title,release_year:(ot=(Ze=fe==null?void 0:fe.contents)===null||Ze===void 0?void 0:Ze.firstOfType(Nd))===null||ot===void 0?void 0:ot.subtitle})}this.primary_info=Ot.firstOfType(ox),this.secondary_info=Ot.firstOfType(Yf),this.merchandise=Ot.firstOfType(pv),this.related_chip_cloud=(K=Bi.firstOfType(Wv))===null||K===void 0?void 0:K.content.as(Qo),Pe!=null&&Pe.playlist&&(this.playlist=Pe.playlist),this.watch_next_feed=((Me=Bi.firstOfType($e))===null||Me===void 0?void 0:Me.contents)||Bi,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((It=this.watch_next_feed.at(-1))===null||It===void 0?void 0:It.is(pe))&&E(this,Pi,(St=this.watch_next_feed.pop())===null||St===void 0?void 0:St.as(pe),"f"),this.player_overlays=(_e=nt==null?void 0:nt.player_overlays)===null||_e===void 0?void 0:_e.item().as(Lv),Pe!=null&&Pe.autoplay&&(this.autoplay=Pe.autoplay);let ve=(Eo=(He=this.primary_info)===null||He===void 0?void 0:He.menu)===null||Eo===void 0?void 0:Eo.top_level_buttons.firstOfType(to);((No=ve==null?void 0:ve.like_button)===null||No===void 0?void 0:No.is(ge))&&((Po=ve==null?void 0:ve.dislike_button)===null||Po===void 0?void 0:Po.is(ge))&&(this.basic_info.like_count=(Ro=ve==null?void 0:ve.like_button)===null||Ro===void 0?void 0:Ro.like_count,this.basic_info.is_liked=(Ao=ve==null?void 0:ve.like_button)===null||Ao===void 0?void 0:Ao.is_toggled,this.basic_info.is_disliked=(Vo=ve==null?void 0:ve.dislike_button)===null||Vo===void 0?void 0:Vo.is_toggled);let Fe=(Bo=(Mo=this.primary_info)===null||Mo===void 0?void 0:Mo.menu)===null||Bo===void 0?void 0:Bo.top_level_buttons.firstOfType(io);if(Fe&&(this.basic_info.like_count=Fe.like_count,Fe.like_button)){let fe=Fe.like_button.like_status_entity.like_status;this.basic_info.is_liked=fe==="LIKE",this.basic_info.is_disliked=fe==="DISLIKE"}let et=(Lo=Ot.get({target_id:"comments-entry-point"}))===null||Lo===void 0?void 0:Lo.as($e);this.comments_entry_point_header=(Do=et==null?void 0:et.contents)===null||Do===void 0?void 0:Do.firstOfType(u_),this.livechat=(Oo=nt==null?void 0:nt.contents_memo)===null||Oo===void 0?void 0:Oo.getType(J_).first()}}selectFilter(e){return k(this,void 0,void 0,function*(){var i,o,r,a;if(!this.related_chip_cloud)throw new b("Chip cloud not found, cannot apply filter");let c;if(typeof e=="string"){let h=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!h)throw new b("Invalid filter",{available_filters:this.filters});c=h}else if(e!=null&&e.is(Ye))c=e;else throw new b("Invalid cloud chip",e);if(c.is_selected)return this;let p=yield(r=c.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0}),d=(a=p==null?void 0:p.on_response_received_endpoints)===null||a===void 0?void 0:a.get({target_id:"watch-next-feed"});return this.watch_next_feed=d==null?void 0:d.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return k(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){return k(this,void 0,void 0,function*(){var e,i,o,r,a;if(!f(this,Pi,"f"))throw new b("Watch next feed continuation not found");let c=yield(e=f(this,Pi,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=c==null?void 0:c.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"AppendContinuationItemsAction"});if(!p)throw new b("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((r=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||r===void 0)&&r.is(pe)?E(this,Pi,(a=this.watch_next_feed.pop())===null||a===void 0?void 0:a.as(pe),"f"):E(this,Pi,void 0,"f"),this})}like(){return k(this,void 0,void 0,function*(){var e,i,o,r,a;let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(io);if(c){let _=(o=c==null?void 0:c.like_button)===null||o===void 0?void 0:o.toggle_button;if(!_||!_.default_button||!c.like_button)throw new b("Like button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="LIKE")throw new b("This video is already liked",{video_id:this.basic_info.id});return yield new v(_.default_button.on_tap.payload.commands.find(I=>I.innertubeCommand)).call(this.actions)}let p=(a=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType(to),d=p==null?void 0:p.like_button;if(!d)throw new b("Like button not found",{video_id:this.basic_info.id});if(!d.is(ge))throw new b("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new b("This video is already liked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}dislike(){return k(this,void 0,void 0,function*(){var e,i,o,r,a;let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(io);if(c){let _=(o=c==null?void 0:c.dislike_button)===null||o===void 0?void 0:o.toggle_button;if(!_||!_.default_button||!c.dislike_button||!c.like_button)throw new b("Dislike button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="DISLIKE")throw new b("This video is already disliked",{video_id:this.basic_info.id});return yield new v(_.default_button.on_tap.payload.commands.find(I=>I.innertubeCommand)).call(this.actions)}let p=(a=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType(to),d=p==null?void 0:p.dislike_button;if(!d)throw new b("Dislike button not found",{video_id:this.basic_info.id});if(!d.is(ge))throw new b("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new b("This video is already disliked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}removeRating(){return k(this,void 0,void 0,function*(){var e,i,o,r,a,c,p;let d,h=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(io);if(h){let I=(o=h==null?void 0:h.like_button)===null||o===void 0?void 0:o.toggle_button;if(!I||!I.default_button||!h.like_button)throw new b("Like button not found",{video_id:this.basic_info.id});let S=h.like_button.like_status_entity.like_status;if(S==="LIKE")d=(r=h==null?void 0:h.like_button)===null||r===void 0?void 0:r.toggle_button;else if(S==="DISLIKE")d=(a=h==null?void 0:h.dislike_button)===null||a===void 0?void 0:a.toggle_button;else throw new b("This video is not liked/disliked",{video_id:this.basic_info.id});if(!d||!d.toggled_button)throw new b("Like/Dislike button not found",{video_id:this.basic_info.id});return yield new v(d.toggled_button.on_tap.payload.commands.find(M=>M.innertubeCommand)).call(this.actions)}let _=(p=(c=this.primary_info)===null||c===void 0?void 0:c.menu)===null||p===void 0?void 0:p.top_level_buttons.firstOfType(to),x=_==null?void 0:_.like_button,y=_==null?void 0:_.dislike_button;if(!(x!=null&&x.is(ge))||!(y!=null&&y.is(ge)))throw new b("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(x!=null&&x.is_toggled?d=x:y!=null&&y.is_toggled&&(d=y),!d)throw new b("This video is not liked/disliked",{video_id:this.basic_info.id});return yield d.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new b("Live Chat is not available",{video_id:this.basic_info.id});return new Lx(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(qp).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new Jn([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var r;return(r=o.text)===null||r===void 0?void 0:r.toString()}))||[]}get wn_has_continuation(){return!!f(this,Pi,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(qp))}get music_tracks(){var e,i,o,r,a,c;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(d=>{var h;return(h=d.content)===null||h===void 0?void 0:h.is($i)});if(p!==void 0&&p.length>0){let d=(a=(r=(o=p[0].content)===null||o===void 0?void 0:o.as($i))===null||r===void 0?void 0:r.items)===null||a===void 0?void 0:a.filterType(Ko);if(d!==void 0&&d.length>0)return(c=d[0].carousel_lockups)===null||c===void 0?void 0:c.map(h=>{var _,x,y,w,I,S,N,V,M,Y,ce,ue,he,G,de,$,z,q,ie;let ke,Ze,ot,K,Me,It;ke=(x=(_=h.video_lockup)===null||_===void 0?void 0:_.title)===null||x===void 0?void 0:x.toString(),Me=(y=h.video_lockup)===null||y===void 0?void 0:y.endpoint.payload.videoId;for(let St=0;St<h.info_rows.length;St++){let _e=h.info_rows[St];if(_e.info_row_expand_status_key===void 0)if(ke===void 0){if(ke=((w=_e.default_metadata)===null||w===void 0?void 0:w.toString())||((I=_e.expanded_metadata)===null||I===void 0?void 0:I.toString()),Me===void 0){let He=((S=_e.default_metadata)===null||S===void 0?void 0:S.endpoint)||((N=_e.expanded_metadata)===null||N===void 0?void 0:N.endpoint);Me=(V=He==null?void 0:He.payload)===null||V===void 0?void 0:V.videoId}}else ot=((M=_e.default_metadata)===null||M===void 0?void 0:M.toString())||((Y=_e.expanded_metadata)===null||Y===void 0?void 0:Y.toString());else{if(((ce=_e.info_row_expand_status_key)===null||ce===void 0?void 0:ce.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(Ze=((ue=_e.default_metadata)===null||ue===void 0?void 0:ue.toString())||((he=_e.expanded_metadata)===null||he===void 0?void 0:he.toString()),It===void 0)){let He=((G=_e.default_metadata)===null||G===void 0?void 0:G.endpoint)||((de=_e.expanded_metadata)===null||de===void 0?void 0:de.endpoint);It=($=He==null?void 0:He.payload)===null||$===void 0?void 0:$.browseId}((z=_e.info_row_expand_status_key)===null||z===void 0?void 0:z.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(K=((q=_e.default_metadata)===null||q===void 0?void 0:q.toString())||((ie=_e.expanded_metadata)===null||ie===void 0?void 0:ie.toString()))}}return{song:ke,artist:Ze,album:ot,license:K,videoId:Me,channelId:It}})}return[]}};n(Jn,"VideoInfo");Pi=new WeakMap;var vm=Jn;var xm,gm,Hn=class{constructor(e,i){xm.set(this,void 0),gm.set(this,void 0),E(this,xm,l.parseResponse(i.data),"f"),E(this,gm,e,"f"),this.transcript=f(this,xm,"f").actions_memo.getType(jo).first()}selectLanguage(e){return k(this,void 0,void 0,function*(){var i,o,r,a;let c=(a=(r=(o=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||o===void 0?void 0:o.language_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||a===void 0?void 0:a.find(d=>d.title.toString()===e);if(!c)throw new Error(`Language not found: ${e}`);if(c.selected)return this;let p=yield f(this,gm,"f").execute("/get_transcript",{params:c.continuation});return new Hn(f(this,gm,"f"),p)})}get languages(){var e,i,o,r;return((r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.map(a=>a.title.toString()))||[]}get selectedLanguage(){var e,i,o,r,a;return((a=(r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.find(c=>c.selected))===null||a===void 0?void 0:a.title.toString())||""}get page(){return f(this,xm,"f")}};n(Hn,"TranscriptInfo");xm=new WeakMap,gm=new WeakMap;var yx=Hn;var B=class{constructor(e,i,o,r){var a,c,p,d,h,_,x,y,w,I,S,N,V,M,Y,ce,ue,he,G,de,$,z,q,ie,ke,Ze,ot;let K=new u(e);this.id=r||((d=(p=(c=(a=K==null?void 0:K.runs)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId)||((_=(h=K==null?void 0:K.endpoint)===null||h===void 0?void 0:h.payload)===null||_===void 0?void 0:_.browseId)||"N/A",this.name=(K==null?void 0:K.text)||"N/A",this.thumbnails=o?g.fromResponse(o):[],this.endpoint=((y=(x=K==null?void 0:K.runs)===null||x===void 0?void 0:x[0])===null||y===void 0?void 0:y.endpoint)||(K==null?void 0:K.endpoint),i?Array.isArray(i)?(this.badges=l.parseArray(i),this.is_moderator=(w=this.badges)===null||w===void 0?void 0:w.some(Me=>Me.icon_type=="MODERATOR"),this.is_verified=(I=this.badges)===null||I===void 0?void 0:I.some(Me=>Me.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(S=this.badges)===null||S===void 0?void 0:S.some(Me=>Me.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=oe([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=oe([]),this.url=((Y=(M=(V=(N=K==null?void 0:K.runs)===null||N===void 0?void 0:N[0])===null||V===void 0?void 0:V.endpoint)===null||M===void 0?void 0:M.metadata)===null||Y===void 0?void 0:Y.api_url)==="/browse"&&`${tt.YT_BASE}${((G=(he=(ue=(ce=K==null?void 0:K.runs)===null||ce===void 0?void 0:ce[0])===null||ue===void 0?void 0:ue.endpoint)===null||he===void 0?void 0:he.payload)===null||G===void 0?void 0:G.canonicalBaseUrl)||`/u/${(q=(z=($=(de=K==null?void 0:K.runs)===null||de===void 0?void 0:de[0])===null||$===void 0?void 0:$.endpoint)===null||z===void 0?void 0:z.payload)===null||q===void 0?void 0:q.browseId}`}`||`${tt.YT_BASE}${((ke=(ie=K==null?void 0:K.endpoint)===null||ie===void 0?void 0:ie.payload)===null||ke===void 0?void 0:ke.canonicalBaseUrl)||`/u/${(ot=(Ze=K==null?void 0:K.endpoint)===null||Ze===void 0?void 0:Ze.payload)===null||ot===void 0?void 0:ot.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(B,"Author");var B1={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var yo,Ox,lS="Utils",U=class{static load(e){E(yo,yo,e,"f",Ox)}static get shim(){if(!f(yo,yo,"f",Ox))throw new Error("Platform is not loaded");return f(yo,yo,"f",Ox)}};n(U,"Platform");yo=U;Ox={value:void 0};var b=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=U.shim.info.version}};n(b,"InnertubeError");var rt=class extends b{};n(rt,"ParsingError");var ym=class extends b{};n(ym,"MissingParamError");var Fx=class extends b{};n(Fx,"OAuth2Error");var Tt=class extends Error{};n(Tt,"PlayerError");var bo=class extends Error{};n(bo,"SessionError");var Ln=class extends Error{};n(Ln,"ChannelError");function Mm(t,e){return Reflect.ownKeys(t).some(o=>{let r=e[o]instanceof u;return!r&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(r?e[o].toString():e[o])})}n(Mm,"deepCompare");function Re(t,e,i){let o=new RegExp(`${zg(e)}(.*?)${zg(i)}`,"s"),r=t.match(o);return r?r[1]:void 0}n(Re,"getStringBetweenStrings");function zg(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(zg,"escapeStringRegexp");function Ui(t){let e=B1[t],i=Math.floor(Math.random()*e.length);return e[i]}n(Ui,"getRandomUserAgent");function cS(t){return k(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),r=yield U.shim.sha1Hash(o);return["SAPISIDHASH",[i,r].join("_")].join(" ")})}n(cS,"generateSidAuth");function wo(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(wo,"generateRandomString");function Se(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(Se,"timeToSeconds");function Yg(...t){let e=new Zt;for(let i of t)if(!!i)for(let o of i){let r=e.get(o[0]);if(r){e.set(o[0],[...r,...o[1]]);continue}e.set(...o)}return e}n(Yg,"concatMemos");function bm(t){for(let[e,i]of Object.entries(t))if(!i)throw new ym(`${e} is missing`)}n(bm,"throwIfMissing");function pS(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(pS,"hasKeys");function lg(t){return k0(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:r}=yield Li(i.read());if(o)return yield Li(void 0);yield yield Li(r)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(lg,"streamToIterable");var dS=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,r=[...o],a=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",c=r.length>0?`${r.map(([p,d])=>`    ${p}: ${d}`).join(`
  `)}`:"    (none)";return F.warn(lS,`Fetch:
    url: ${i.toString()}
    method: ${(e==null?void 0:e.method)||"GET"}
    headers:
  ${c}
  ' + 
      '  body:
  ${a}`),U.shim.fetch(t,e)},"debugFetch");function ze(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n(ze,"u8ToBase64");function Sg(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(Sg,"base64ToU8");function We(t){return!("emoji"in t)}n(We,"isTextRun");function fS(t,e,i=!1){let o=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,r=t.match(new RegExp(o));return r?r[2]:void 0}n(fS,"getCookie");function $g(t){return k(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let r=new Uint8Array(o),a=[];for(let c=0;c<r.length;++c)a.push(e[r[c]]);return a.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n($g,"sha1Hash");var jx={name:"youtubei.js",version:"10.1.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"react-native":["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"],"cf-worker":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js","react-native":"./dist/src/platform/react-native.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./react-native":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/react-native.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"},"./cf-worker":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/cf-worker.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",clean:"npx rimraf ./dist/src ./dist/package.json ./bundle/browser.js ./bundle/browser.js.map ./bundle/browser.min.js ./bundle/browser.min.js.map ./bundle/node.cjs ./bundle/node.cjs.map ./bundle/cf-worker.js ./bundle/cf-worker.js.map ./bundle/react-native.js ./bundle/react-native.js.map ./deno",build:"npm run clean && npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod && npm run bundle:cf-worker && npm run bundle:react-native","build:parser-map":"node ./dev-scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:react-native":"npx esbuild ./dist/src/platform/react-native.js --bundle --target=es2020 --keep-names --format=esm --platform=neutral --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/react-native.js","bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify","bundle:cf-worker":'npx esbuild ./dist/src/platform/cf-worker.js --banner:js="/* eslint-disable */" --bundle --target=es2020 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/cf-worker.js --platform=node',prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^2.0.0",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^29.7.0",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^29.1.4","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var km={};ye(km,{ArrayExpression:()=>Gn,ArrowFunctionExpression:()=>zn,AssignmentExpression:()=>$n,BinaryExpression:()=>Kn,BlockStatement:()=>qn,BreakStatement:()=>Xn,CallExpression:()=>Qn,ConditionalExpression:()=>er,ContinueStatement:()=>tr,ExpressionStatement:()=>ir,ForOfStatement:()=>or,ForStatement:()=>nr,FunctionDeclaration:()=>rr,FunctionExpression:()=>sr,Identifier:()=>ar,IfStatement:()=>ur,Literal:()=>lr,LogicalExpression:()=>cr,MemberExpression:()=>pr,NewExpression:()=>dr,ObjectExpression:()=>fr,Property:()=>mr,ReturnStatement:()=>hr,SequenceExpression:()=>_r,SwitchCase:()=>vr,SwitchStatement:()=>xr,ThisExpression:()=>gr,ThrowStatement:()=>yr,TryStatement:()=>br,UnaryExpression:()=>wr,UpdateExpression:()=>Tr,VariableDeclaration:()=>kr,WhileStatement:()=>Ir});var A=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(A,"BaseJSNode");var Gn=class extends A{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(Gn,"ArrayExpression");var Kg={};ye(Kg,{JinterError:()=>$t,namedFunction:()=>To});var To=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction"),$t=class extends Error{constructor(e,i){super(e),i&&(this.info=i)}};n($t,"JinterError");var zn=class extends A{run(){let{params:e,body:i}=this.node;return To("anonymous function",r=>{let a=0;for(let c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,r[a]):console.warn("Unhandled param type",c.type),a++;return this.visitor.visitNode(i)})}};n(zn,"ArrowFunctionExpression");var $n=class extends A{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n($n,"AssignmentExpression");var Kn=class extends A{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n(Kn,"BinaryExpression");var qn=class extends A{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(qn,"BlockStatement");var Xn=class extends A{run(){return"break"}};n(Xn,"BreakStatement");var wm=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},ko,Yx,L1,Qn=class extends A{constructor(){super(...arguments),ko.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let a=this.visitor.listeners[e](this.node,this.visitor);if(a!=="__continue_exec")return a}if(i&&i!=="toString"&&this.visitor.listeners[i]){let a=this.visitor.listeners[i](this.node,this.visitor);if(a!=="__continue_exec")return a}if(this.node.callee.type==="MemberExpression"){if(Zn.has(this.node,this.visitor))return Zn.execute(this.node,this.visitor);let a=this.visitor.visitNode(this.node.callee.object),c=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(d=>this.visitor.visitNode(d));return a||wm(this,ko,"m",Yx).call(this),typeof a[c]!="function"&&wm(this,ko,"m",Yx).call(this),a[c].toString().includes("[native code]")?a[c](...p):a[c](p)}let o=this.visitor.visitNode(this.node.callee),r=this.node.arguments.map(a=>this.visitor.visitNode(a));return typeof o!="function"&&wm(this,ko,"m",Yx).call(this),o(r)}};n(Qn,"CallExpression");ko=new WeakSet,Yx=n(function(){if(this.node.callee.type==="MemberExpression"||this.node.callee.type==="Identifier"){let e=wm(this,ko,"m",L1).call(this,this.node.callee);throw new $t(`${e} is not a function`)}else if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new $t(`${e.join("")} is not a function`)}},"_CallExpression_throwError"),L1=n(function t(e){if(e.type==="Identifier")return e.name;if(e.type==="MemberExpression"){let i=wm(this,ko,"m",t).call(this,e.object),o=e.computed?`[${this.visitor.getName(e.property)||"..."}]`:`.${this.visitor.getName(e.property)}`;return`${i}${o}`}return"<unknown>"},"_CallExpression_getCalleeString");var Zn=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(Zn,"Builtins");Zn.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let r=0;for(let a of o)i[0]([a,r++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var er=class extends A{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(er,"ConditionalExpression");var tr=class extends A{run(){return"continue"}};n(tr,"ContinueStatement");var ir=class extends A{run(){return this.visitor.visitNode(this.node.expression)}};n(ir,"ExpressionStatement");var or=class extends A{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let r of this.node.left.declarations[0].id.properties)r.type==="Property"&&r.value.type==="Identifier"&&r.key.type==="Identifier"&&this.visitor.scope.set(r.value.name,i[r.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};n(or,"ForOfStatement");var nr=class extends A{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n(nr,"ForStatement");var rr=class extends A{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),r=To(o,a=>{let c=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,a[c]):console.warn("Unhandled param type",p.type),c++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,r)}};n(rr,"FunctionDeclaration");var sr=class extends A{run(){let{params:e,body:i}=this.node;return To("anonymous function",r=>{let a=0;for(let c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,r[a]):console.warn("Unhandled param type",c.type),a++;return this.visitor.visitNode(i)})}};n(sr,"FunctionExpression");var ar=class extends A{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="__continue_exec")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(ar,"Identifier");var ur=class extends A{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n(ur,"IfStatement");var lr=class extends A{run(){return this.node.value}};n(lr,"Literal");var cr=class extends A{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(cr,"LogicalExpression");var pr=class extends A{run(){let{object:e,property:i,computed:o}=this.node,r=this.visitor.visitNode(e),a=o?this.visitor.visitNode(i):this.visitor.getName(i);if(a!==void 0||a!==null){if(this.visitor.listeners[a]){let c=this.visitor.listeners[a](this.node,this.visitor);if(c!=="__continue_exec")return c}return r==null?void 0:r[a]}}};n(pr,"MemberExpression");var dr=class extends A{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return i.length?new e(i):new e}};n(dr,"NewExpression");var fr=class extends A{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(fr,"ObjectExpression");var qg=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Tm,D1,O1,F1,mr=class extends A{constructor(){super(...arguments),Tm.add(this)}run(){switch(this.node.kind){case"init":return qg(this,Tm,"m",D1).call(this);case"get":return qg(this,Tm,"m",O1).call(this);case"set":return qg(this,Tm,"m",F1).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(mr,"Property");Tm=new WeakSet,D1=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),O1=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),F1=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var hr=class extends A{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(hr,"ReturnStatement");var _r=class extends A{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n(_r,"SequenceExpression");var vr=class extends A{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(vr,"SwitchCase");var xr=class extends A{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,r=0;for(;;){let a=this.node.cases[r];if(i){let c=this.visitor.visitNode(a);if(c==="break")break;if(c==="continue")return c;if(++r,r>=this.node.cases.length){r=0;break}else continue}if(i=a&&e===this.visitor.visitNode(a.test),i===void 0&&r>this.node.cases.length)break;if(a&&!i&&!a.test){o=r,r+=1;continue}if(!a&&!i&&o!==-1){i=!0,r=o;continue}i||++r}}};n(xr,"SwitchStatement");var gr=class extends A{run(){return this.visitor.scope.get("_this")}};n(gr,"ThisExpression");var yr=class extends A{run(){throw this.visitor.visitNode(this.node.argument)}};n(yr,"ThrowStatement");var br=class extends A{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(br,"TryStatement");var wr=class extends A{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(wr,"UnaryExpression");var Tr=class extends A{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(Tr,"UpdateExpression");var kr=class extends A{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,r=this.visitor.getName(i),a=o?this.visitor.visitNode(o):void 0;r&&this.visitor.scope.set(r,a),typeof a=="object"&&a!==null&&this.visitor.scope.set("_this",a)})}};n(kr,"VariableDeclaration");var Ir=class extends A{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n(Ir,"WhileStatement");var hS=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Xg,j1,Sr=class{constructor(){Xg.add(this),this.scope=new Map,this.listeners={},this.ast=[]}setAST(e){this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=hS(this,Xg,"m",j1).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(Sr,"Visitor");Xg=new WeakSet,j1=n(function(e){let i=km[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
  If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var _S=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],G1=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],vS="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",z1="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Qg={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"arguments"},Zg="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",xS={5:Zg,"5module":Zg+" export import",6:Zg+" const class extends export import super"},gS=/^in(stanceof)?$/,yS=new RegExp("["+z1+"]"),bS=new RegExp("["+z1+vS+"]");function t0(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}return!1}n(t0,"isInAstralSet");function Kt(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&yS.test(String.fromCharCode(t)):e===!1?!1:t0(t,G1)}n(Kt,"isIdentifierStart");function Cr(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&bS.test(String.fromCharCode(t)):e===!1?!1:t0(t,G1)||t0(t,_S)}n(Cr,"isIdentifierChar");var se=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function ut(t,e){return new se(t,{beforeExpr:!0,binop:e})}n(ut,"binop");var lt={beforeExpr:!0},Xe={startsExpr:!0},n0={};function te(t,e){return e===void 0&&(e={}),e.keyword=t,n0[t]=new se(t,e)}n(te,"kw");var m={num:new se("num",Xe),regexp:new se("regexp",Xe),string:new se("string",Xe),name:new se("name",Xe),privateId:new se("privateId",Xe),eof:new se("eof"),bracketL:new se("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new se("]"),braceL:new se("{",{beforeExpr:!0,startsExpr:!0}),braceR:new se("}"),parenL:new se("(",{beforeExpr:!0,startsExpr:!0}),parenR:new se(")"),comma:new se(",",lt),semi:new se(";",lt),colon:new se(":",lt),dot:new se("."),question:new se("?",lt),questionDot:new se("?."),arrow:new se("=>",lt),template:new se("template"),invalidTemplate:new se("invalidTemplate"),ellipsis:new se("...",lt),backQuote:new se("`",Xe),dollarBraceL:new se("${",{beforeExpr:!0,startsExpr:!0}),eq:new se("=",{beforeExpr:!0,isAssign:!0}),assign:new se("_=",{beforeExpr:!0,isAssign:!0}),incDec:new se("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new se("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ut("||",1),logicalAND:ut("&&",2),bitwiseOR:ut("|",3),bitwiseXOR:ut("^",4),bitwiseAND:ut("&",5),equality:ut("==/!=/===/!==",6),relational:ut("</>/<=/>=",7),bitShift:ut("<</>>/>>>",8),plusMin:new se("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ut("%",10),star:ut("*",10),slash:ut("/",10),starstar:new se("**",{beforeExpr:!0}),coalesce:ut("??",1),_break:te("break"),_case:te("case",lt),_catch:te("catch"),_continue:te("continue"),_debugger:te("debugger"),_default:te("default",lt),_do:te("do",{isLoop:!0,beforeExpr:!0}),_else:te("else",lt),_finally:te("finally"),_for:te("for",{isLoop:!0}),_function:te("function",Xe),_if:te("if"),_return:te("return",lt),_switch:te("switch"),_throw:te("throw",lt),_try:te("try"),_var:te("var"),_const:te("const"),_while:te("while",{isLoop:!0}),_with:te("with"),_new:te("new",{beforeExpr:!0,startsExpr:!0}),_this:te("this",Xe),_super:te("super",Xe),_class:te("class",Xe),_extends:te("extends",lt),_export:te("export"),_import:te("import",Xe),_null:te("null",Xe),_true:te("true",Xe),_false:te("false",Xe),_in:te("in",{beforeExpr:!0,binop:7}),_instanceof:te("instanceof",{beforeExpr:!0,binop:7}),_typeof:te("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:te("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:te("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},dt=/\r\n?|\n|\u2028|\u2029/,wS=new RegExp(dt.source,"g");function Er(t){return t===10||t===13||t===8232||t===8233}n(Er,"isNewLine");function $1(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var r=t.charCodeAt(o);if(Er(r))return o<i-1&&r===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n($1,"nextLineBreak");var K1=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ct=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,q1=Object.prototype,TS=q1.hasOwnProperty,kS=q1.toString,Em=Object.hasOwn||function(t,e){return TS.call(t,e)},Y1=Array.isArray||function(t){return kS.call(t)==="[object Array]"},U1=Object.create(null);function Ri(t){return U1[t]||(U1[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}n(Ri,"wordsRegexp");function Ai(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(Ai,"codePointToString");var IS=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Sm=n(function(e,i){this.line=e,this.column=i},"Position");Sm.prototype.offset=n(function(e){return new Sm(this.line,this.column+e)},"offset");var Gx=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function X1(t,e){for(var i=1,o=0;;){var r=$1(t,o,e);if(r<0)return new Sm(i,e-o);++i,o=r}}n(X1,"getLineInfo");var i0={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},W1=!1;function SS(t){var e={};for(var i in i0)e[i]=t&&Em(t,i)?t[i]:i0[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!W1&&typeof console=="object"&&console.warn&&(W1=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
  Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),Y1(e.onToken)){var o=e.onToken;e.onToken=function(r){return o.push(r)}}return Y1(e.onComment)&&(e.onComment=CS(e,e.onComment)),e}n(SS,"getOptions");function CS(t,e){return function(i,o,r,a,c,p){var d={type:i?"Block":"Line",value:o,start:r,end:a};t.locations&&(d.loc=new Gx(this,c,p)),t.ranges&&(d.range=[r,a]),e.push(d)}}n(CS,"pushComment");var Cm=1,Nr=2,r0=4,Q1=8,Z1=16,ek=32,s0=64,tk=128,Nm=256,a0=Cm|Nr|Nm;function u0(t,e){return Nr|(t?r0:0)|(e?Q1:0)}n(u0,"functionFlags");var Wx=0,l0=1,Xt=2,ik=3,ok=4,nk=5,Te=n(function(e,i,o){this.options=e=SS(e),this.sourceFile=e.sourceFile,this.keywords=Ri(xS[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var r="";e.allowReserved!==!0&&(r=Qg[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(r+=" await")),this.reservedWords=Ri(r);var a=(r?r+" ":"")+Qg.strict;this.reservedWordsStrict=Ri(a),this.reservedWordsStrictBind=Ri(a+" "+Qg.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
  `,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(dt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Cm),this.regexpState=null,this.privateNameStack=[]},"Parser"),Bt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Te.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");Bt.inFunction.get=function(){return(this.currentVarScope().flags&Nr)>0};Bt.inGenerator.get=function(){return(this.currentVarScope().flags&Q1)>0&&!this.currentVarScope().inClassFieldInit};Bt.inAsync.get=function(){return(this.currentVarScope().flags&r0)>0&&!this.currentVarScope().inClassFieldInit};Bt.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Nm)return!1;if(e.flags&Nr)return(e.flags&r0)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Bt.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&s0)>0||i||this.options.allowSuperOutsideMethod};Bt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&tk)>0};Bt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Bt.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Nr|Nm))>0||i};Bt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Nm)>0};Te.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,r=0;r<e.length;r++)o=e[r](o);return o},"extend");Te.parse=n(function(e,i){return new this(i,e).parse()},"parse");Te.parseExpressionAt=n(function(e,i,o){var r=new this(o,e,i);return r.nextToken(),r.parseExpression()},"parseExpressionAt");Te.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Te.prototype,Bt);var Je=Te.prototype,ES=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Je.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){ct.lastIndex=t,t+=ct.exec(this.input)[0].length;var e=ES.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){ct.lastIndex=t+e[0].length;var i=ct.exec(this.input),o=i.index+i[0].length,r=this.input.charAt(o);return r===";"||r==="}"||dt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,ct.lastIndex=t,t+=ct.exec(this.input)[0].length,this.input[t]===";"&&t++}};Je.eat=function(t){return this.type===t?(this.next(),!0):!1};Je.isContextual=function(t){return this.type===m.name&&this.value===t&&!this.containsEsc};Je.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Je.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Je.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||dt.test(this.input.slice(this.lastTokEnd,this.start))};Je.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Je.semicolon=function(){!this.eat(m.semi)&&!this.insertSemicolon()&&this.unexpected()};Je.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Je.expect=function(t){this.eat(t)||this.unexpected()};Je.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var zx=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Je.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};Je.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};Je.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Je.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var D=Te.prototype;D.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==m.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,r=Object.keys(this.undefinedExports);o<r.length;o+=1){var a=r[o];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var c0={kind:"loop"},NS={kind:"switch"};D.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ct.lastIndex=this.pos;var e=ct.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if(Kt(o,!0)){for(var r=i+1;Cr(o=this.input.charCodeAt(r),!0);)++r;if(o===92||o>55295&&o<56320)return!0;var a=this.input.slice(i,r);if(!gS.test(a))return!0}return!1};D.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ct.lastIndex=this.pos;var t=ct.exec(this.input),e=this.pos+t[0].length,i;return!dt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Cr(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};D.parseStatement=function(t,e,i){var o=this.type,r=this.startNode(),a;switch(this.isLet(t)&&(o=m._var,a="let"),o){case m._break:case m._continue:return this.parseBreakContinueStatement(r,o.keyword);case m._debugger:return this.parseDebuggerStatement(r);case m._do:return this.parseDoStatement(r);case m._for:return this.parseForStatement(r);case m._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case m._class:return t&&this.unexpected(),this.parseClass(r,!0);case m._if:return this.parseIfStatement(r);case m._return:return this.parseReturnStatement(r);case m._switch:return this.parseSwitchStatement(r);case m._throw:return this.parseThrowStatement(r);case m._try:return this.parseTryStatement(r);case m._const:case m._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(r,a);case m._while:return this.parseWhileStatement(r);case m._with:return this.parseWithStatement(r);case m.braceL:return this.parseBlock(!0,r);case m.semi:return this.parseEmptyStatement(r);case m._export:case m._import:if(this.options.ecmaVersion>10&&o===m._import){ct.lastIndex=this.pos;var c=ct.exec(this.input),p=this.pos+c[0].length,d=this.input.charCodeAt(p);if(d===40||d===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===m._import?this.parseImport(r):this.parseExport(r,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var h=this.value,_=this.parseExpression();return o===m.name&&_.type==="Identifier"&&this.eat(m.colon)?this.parseLabeledStatement(r,h,_,t):this.parseExpressionStatement(r,_)}};D.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(m.semi)||this.insertSemicolon()?t.label=null:this.type!==m.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var r=this.labels[o];if((t.label==null||r.name===t.label.name)&&(r.kind!=null&&(i||r.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};D.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};D.parseDoStatement=function(t){return this.next(),this.labels.push(c0),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(m.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};D.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(c0),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===m._var||this.type===m._const||i){var o=this.startNode(),r=i?"let":this.value;return this.next(),this.parseVar(o,!0,r),this.finishNode(o,"VariableDeclaration"),(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var a=this.isContextual("let"),c=!1,p=new zx,d=this.parseExpression(e>-1?"await":!0,p);return this.type===m._in||(c=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),a&&c&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,p),this.checkLValPattern(d),this.parseForIn(t,d)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,d))};D.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,Im|(i?0:o0),!1,e)};D.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};D.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};D.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(m.braceL),this.labels.push(NS),this.enterScope(0);for(var e,i=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var o=this.type===m._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(m.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};D.parseThrowStatement=function(t){return this.next(),dt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var PS=[];D.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?ek:0),this.checkLValPattern(t,e?ok:Xt),this.expect(m.parenR),t};D.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===m._catch){var e=this.startNode();this.next(),this.eat(m.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(m._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};D.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};D.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(c0),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};D.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};D.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};D.parseLabeledStatement=function(t,e,i,o){for(var r=0,a=this.labels;r<a.length;r+=1){var c=a[r];c.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===m._switch?"switch":null,d=this.labels.length-1;d>=0;d--){var h=this.labels[d];if(h.statementStart===t.start)h.statementStart=this.start,h.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};D.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};D.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(m.braceL),t&&this.enterScope(0);this.type!==m.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};D.parseFor=function(t,e){return t.init=e,this.expect(m.semi),t.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),t.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};D.parseForIn=function(t,e){var i=this.type===m._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};D.parseVar=function(t,e,i,o){for(t.declarations=[],t.kind=i;;){var r=this.startNode();if(this.parseVarId(r,i),this.eat(m.eq)?r.init=this.parseMaybeAssign(e):!o&&i==="const"&&!(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&r.id.type!=="Identifier"&&!(e&&(this.type===m._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(m.comma))break}return t};D.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?l0:Xt,!1)};var Im=1,o0=2,rk=4;D.parseFunction=function(t,e,i,o,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===m.star&&e&o0&&this.unexpected(),t.generator=this.eat(m.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&Im&&(t.id=e&rk&&this.type!==m.name?null:this.parseIdent(),t.id&&!(e&o0)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?l0:Xt:ik));var a=this.yieldPos,c=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(u0(t.async,t.generator)),e&Im||(t.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,r),this.yieldPos=a,this.awaitPos=c,this.awaitIdentPos=p,this.finishNode(t,e&Im?"FunctionDeclaration":"FunctionExpression")};D.parseFunctionParams=function(t){this.expect(m.parenL),t.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};D.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),r=this.startNode(),a=!1;for(r.body=[],this.expect(m.braceL);this.type!==m.braceR;){var c=this.parseClassElement(t.superClass!==null);c&&(r.body.push(c),c.type==="MethodDefinition"&&c.kind==="constructor"?(a&&this.raiseRecoverable(c.start,"Duplicate constructor in the same class"),a=!0):c.key&&c.key.type==="PrivateIdentifier"&&RS(o,c)&&this.raiseRecoverable(c.key.start,"Identifier '#"+c.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};D.parseClassElement=function(t){if(this.eat(m.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",r=!1,a=!1,c="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(m.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===m.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===m.star)&&!this.canInsertSemicolon()?a=!0:o="async"),!o&&(e>=9||!a)&&this.eat(m.star)&&(r=!0),!o&&!a&&!r){var d=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=d:o=d)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===m.parenL||c!=="method"||r||a){var h=!i.static&&Jx(i,"constructor"),_=h&&t;h&&c!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=h?"constructor":c,this.parseClassMethod(i,r,a,_)}else this.parseClassField(i);return i};D.isClassElementNameStart=function(){return this.type===m.name||this.type===m.privateId||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword};D.parseClassElementName=function(t){this.type===m.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};D.parseClassMethod=function(t,e,i,o){var r=t.key;t.kind==="constructor"?(e&&this.raise(r.start,"Constructor can't be a generator"),i&&this.raise(r.start,"Constructor can't be an async method")):t.static&&Jx(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};D.parseClassField=function(t){if(Jx(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Jx(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(m.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};D.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Nm|s0);this.type!==m.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};D.parseClassId=function(t,e){this.type===m.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Xt,!1)):(e===!0&&this.unexpected(),t.id=null)};D.parseClassSuper=function(t){t.superClass=this.eat(m._extends)?this.parseExprSubscripts(null,!1):null};D.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};D.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var o=this.privateNameStack.length,r=o===0?null:this.privateNameStack[o-1],a=0;a<i.length;++a){var c=i[a];Em(e,c.name)||(r?r.used.push(c):this.raiseRecoverable(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"))}};function RS(t,e){var i=e.key.name,o=t[i],r="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(r=(e.static?"s":"i")+e.kind),o==="iget"&&r==="iset"||o==="iset"&&r==="iget"||o==="sget"&&r==="sset"||o==="sset"&&r==="sget"?(t[i]="true",!1):o?!0:(t[i]=r,!1)}n(RS,"isPrivateNameConflicted");function Jx(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(Jx,"checkKeyName");D.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};D.parseExport=function(t,e){if(this.next(),this.eat(m.star))return this.parseExportAllDeclaration(t,e);if(this.eat(m._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var r=o[i];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};D.parseExportDeclaration=function(t){return this.parseStatement(null)};D.parseExportDefaultDeclaration=function(){var t;if(this.type===m._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,Im|rk,!1,t)}else if(this.type===m._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};D.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Em(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};D.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,r=e.properties;o<r.length;o+=1){var a=r[o];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var c=0,p=e.elements;c<p.length;c+=1){var d=p[c];d&&this.checkPatternExport(t,d)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};D.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var r=o[i];this.checkPatternExport(t,r.id)}};D.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};D.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};D.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(i)i=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;e.push(this.parseExportSpecifier(t))}return e};D.parseImport=function(t){return this.next(),this.type===m.string?(t.specifiers=PS,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};D.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Xt),this.finishNode(t,"ImportSpecifier")};D.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Xt),this.finishNode(t,"ImportDefaultSpecifier")};D.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Xt),this.finishNode(t,"ImportNamespaceSpecifier")};D.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===m.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(m.comma)))return t;if(this.type===m.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(m.braceL);!this.eat(m.braceR);){if(e)e=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;t.push(this.parseImportSpecifier())}return t};D.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===m.string){var t=this.parseLiteral(this.value);return IS.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};D.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};D.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var ft=Te.prototype;ft.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,r=t.properties;o<r.length;o+=1){var a=r[o];this.toAssignable(a,e),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};ft.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var r=t[o];r&&this.toAssignable(r,e)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&e&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};ft.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};ft.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==m.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};ft.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case m.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()};ft.parseBindingList=function(t,e,i,o){for(var r=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(m.comma),e&&this.type===m.comma)r.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===m.ellipsis){var c=this.parseRestBinding();this.parseBindingListItem(c),r.push(c),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else r.push(this.parseAssignableListItem(o))}return r};ft.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};ft.parseBindingListItem=function(t){return t};ft.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};ft.checkLValSimple=function(t,e,i){e===void 0&&(e=Wx);var o=e!==Wx;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===Xt&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Em(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==nk&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};ft.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=Wx),t.type){case"ObjectPattern":for(var o=0,r=t.properties;o<r.length;o+=1){var a=r[o];this.checkLValInnerPattern(a,e,i)}break;case"ArrayPattern":for(var c=0,p=t.elements;c<p.length;c+=1){var d=p[c];d&&this.checkLValInnerPattern(d,e,i)}break;default:this.checkLValSimple(t,e,i)}};ft.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=Wx),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var kt=n(function(e,i,o,r,a){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=r,this.generator=!!a},"TokContext"),me={b_stat:new kt("{",!1),b_expr:new kt("{",!0),b_tmpl:new kt("${",!1),p_stat:new kt("(",!1),p_expr:new kt("(",!0),q_tmpl:new kt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new kt("function",!1),f_expr:new kt("function",!0),f_expr_gen:new kt("function",!0,!1,null,!0),f_gen:new kt("function",!1,!1,null,!0)},Pr=Te.prototype;Pr.initialContext=function(){return[me.b_stat]};Pr.curContext=function(){return this.context[this.context.length-1]};Pr.braceIsBlock=function(t){var e=this.curContext();return e===me.f_expr||e===me.f_stat?!0:t===m.colon&&(e===me.b_stat||e===me.b_expr)?!e.isExpr:t===m._return||t===m.name&&this.exprAllowed?dt.test(this.input.slice(this.lastTokEnd,this.start)):t===m._else||t===m.semi||t===m.eof||t===m.parenR||t===m.arrow?!0:t===m.braceL?e===me.b_stat:t===m._var||t===m._const||t===m.name?!1:!this.exprAllowed};Pr.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Pr.updateContext=function(t){var e,i=this.type;i.keyword&&t===m.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Pr.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};m.parenR.updateContext=m.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===me.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};m.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?me.b_stat:me.b_expr),this.exprAllowed=!0};m.dollarBraceL.updateContext=function(){this.context.push(me.b_tmpl),this.exprAllowed=!0};m.parenL.updateContext=function(t){var e=t===m._if||t===m._for||t===m._with||t===m._while;this.context.push(e?me.p_stat:me.p_expr),this.exprAllowed=!0};m.incDec.updateContext=function(){};m._function.updateContext=m._class.updateContext=function(t){t.beforeExpr&&t!==m._else&&!(t===m.semi&&this.curContext()!==me.p_stat)&&!(t===m._return&&dt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===m.colon||t===m.braceL)&&this.curContext()===me.b_stat)?this.context.push(me.f_expr):this.context.push(me.f_stat),this.exprAllowed=!1};m.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};m.backQuote.updateContext=function(){this.curContext()===me.q_tmpl?this.context.pop():this.context.push(me.q_tmpl),this.exprAllowed=!1};m.star.updateContext=function(t){if(t===m._function){var e=this.context.length-1;this.context[e]===me.f_expr?this.context[e]=me.f_expr_gen:this.context[e]=me.f_gen}this.exprAllowed=!0};m.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==m.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var H=Te.prototype;H.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,r;switch(o.type){case"Identifier":r=o.name;break;case"Literal":r=String(o.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&a==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}r="$"+r;var c=e[r];if(c){var p;a==="init"?p=this.strict&&c.init||c.get||c.set:p=c.init||c[a],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else c=e[r]={init:!1,get:!1,set:!1};c[a]=!0}};H.parseExpression=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===m.comma){var a=this.startNodeAt(i,o);for(a.expressions=[r];this.eat(m.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return r};H.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,r=-1,a=-1,c=-1;e?(r=e.parenthesizedAssign,a=e.trailingComma,c=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new zx,o=!0);var p=this.start,d=this.startLoc;(this.type===m.parenL||this.type===m.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var h=this.parseMaybeConditional(t,e);if(i&&(h=i.call(this,h,p,d)),this.type.isAssign){var _=this.startNodeAt(p,d);return _.operator=this.value,this.type===m.eq&&(h=this.toAssignable(h,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=h.start&&(e.shorthandAssign=-1),this.type===m.eq?this.checkLValPattern(h):this.checkLValSimple(h),_.left=h,this.next(),_.right=this.parseMaybeAssign(t),c>-1&&(e.doubleProto=c),this.finishNode(_,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return r>-1&&(e.parenthesizedAssign=r),a>-1&&(e.trailingComma=a),h};H.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(m.question)){var a=this.startNodeAt(i,o);return a.test=r,a.consequent=this.parseMaybeAssign(),this.expect(m.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return r};H.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||r.start===i&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,i,o,-1,t)};H.parseExprOp=function(t,e,i,o,r){var a=this.type.binop;if(a!=null&&(!r||this.type!==m._in)&&a>o){var c=this.type===m.logicalOR||this.type===m.logicalAND,p=this.type===m.coalesce;p&&(a=m.logicalAND.binop);var d=this.value;this.next();var h=this.start,_=this.startLoc,x=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),h,_,a,r),y=this.buildBinary(e,i,t,x,d,c||p);return(c&&this.type===m.coalesce||p&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(y,e,i,o,r)}return t};H.buildBinary=function(t,e,i,o,r,a){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var c=this.startNodeAt(t,e);return c.left=i,c.operator=r,c.right=o,this.finishNode(c,a?"LogicalExpression":"BinaryExpression")};H.parseMaybeUnary=function(t,e,i,o){var r=this.start,a=this.startLoc,c;if(this.isContextual("await")&&this.canAwait)c=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),d=this.type===m.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,d,o),this.checkExpressionErrors(t,!0),d?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&sk(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,c=this.finishNode(p,d?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===m.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),c=this.parsePrivateIdent(),this.type!==m._in&&this.unexpected();else{if(c=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return c;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(r,a);h.operator=this.value,h.prefix=!1,h.argument=c,this.checkLValSimple(c),this.next(),c=this.finishNode(h,"UpdateExpression")}}if(!i&&this.eat(m.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(r,a,c,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return c};function sk(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&sk(t.expression)}n(sk,"isPrivateFieldAccess");H.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprAtom(t,e);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var a=this.parseSubscripts(r,i,o,!1,e);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};H.parseSubscripts=function(t,e,i,o,r){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,c=!1;;){var p=this.parseSubscript(t,e,i,o,a,c,r);if(p.optional&&(c=!0),p===t||p.type==="ArrowFunctionExpression"){if(c){var d=this.startNodeAt(e,i);d.expression=p,p=this.finishNode(d,"ChainExpression")}return p}t=p}};H.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(m.arrow)};H.parseSubscriptAsyncArrow=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,o)};H.parseSubscript=function(t,e,i,o,r,a,c){var p=this.options.ecmaVersion>=11,d=p&&this.eat(m.questionDot);o&&d&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(m.bracketL);if(h||d&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var _=this.startNodeAt(e,i);_.object=t,h?(_.property=this.parseExpression(),this.expect(m.bracketR)):this.type===m.privateId&&t.type!=="Super"?_.property=this.parsePrivateIdent():_.property=this.parseIdent(this.options.allowReserved!=="never"),_.computed=!!h,p&&(_.optional=d),t=this.finishNode(_,"MemberExpression")}else if(!o&&this.eat(m.parenL)){var x=new zx,y=this.yieldPos,w=this.awaitPos,I=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var S=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1,x);if(r&&!d&&this.shouldParseAsyncArrow())return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=y,this.awaitPos=w,this.awaitIdentPos=I,this.parseSubscriptAsyncArrow(e,i,S,c);this.checkExpressionErrors(x,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=w||this.awaitPos,this.awaitIdentPos=I||this.awaitIdentPos;var N=this.startNodeAt(e,i);N.callee=t,N.arguments=S,p&&(N.optional=d),t=this.finishNode(N,"CallExpression")}else if(this.type===m.backQuote){(d||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var V=this.startNodeAt(e,i);V.tag=t,V.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(V,"TaggedTemplateExpression")}return t};H.parseExprAtom=function(t,e,i){this.type===m.slash&&this.readRegexp();var o,r=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===m.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(o,"Super");case m._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case m.name:var a=this.start,c=this.startLoc,p=this.containsEsc,d=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&d.name==="async"&&!this.canInsertSemicolon()&&this.eat(m._function))return this.overrideContext(me.f_expr),this.parseFunction(this.startNodeAt(a,c),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(a,c),[d],!1,e);if(this.options.ecmaVersion>=8&&d.name==="async"&&this.type===m.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return d=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(m.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,c),[d],!0,e)}return d;case m.regexp:var h=this.value;return o=this.parseLiteral(h.value),o.regex={pattern:h.pattern,flags:h.flags},o;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return o=this.startNode(),o.value=this.type===m._null?null:this.type===m._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case m.parenL:var _=this.start,x=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(x)&&(t.parenthesizedAssign=_),t.parenthesizedBind<0&&(t.parenthesizedBind=_)),x;case m.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(m.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case m.braceL:return this.overrideContext(me.b_expr),this.parseObj(!1,t);case m._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};H.parseExprAtomDefault=function(){this.unexpected()};H.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===m.parenL&&!t)return this.parseDynamicImport(e);if(this.type===m.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};H.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var e=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};H.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};H.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};H.parseParenExpression=function(){this.expect(m.parenL);var t=this.parseExpression();return this.expect(m.parenR),t};H.shouldParseArrow=function(t){return!this.canInsertSemicolon()};H.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,r,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var c=this.start,p=this.startLoc,d=[],h=!0,_=!1,x=new zx,y=this.yieldPos,w=this.awaitPos,I;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;)if(h?h=!1:this.expect(m.comma),a&&this.afterTrailingComma(m.parenR,!0)){_=!0;break}else if(this.type===m.ellipsis){I=this.start,d.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else d.push(this.parseMaybeAssign(!1,x,this.parseParenItem));var S=this.lastTokEnd,N=this.lastTokEndLoc;if(this.expect(m.parenR),t&&this.shouldParseArrow(d)&&this.eat(m.arrow))return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=y,this.awaitPos=w,this.parseParenArrowList(i,o,d,e);(!d.length||_)&&this.unexpected(this.lastTokStart),I&&this.unexpected(I),this.checkExpressionErrors(x,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=w||this.awaitPos,d.length>1?(r=this.startNodeAt(c,p),r.expressions=d,this.finishNodeAt(r,"SequenceExpression",S,N)):r=d[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var V=this.startNodeAt(i,o);return V.expression=r,this.finishNode(V,"ParenthesizedExpression")}else return r};H.parseParenItem=function(t){return t};H.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var AS=[];H.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===m.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,r,!0,!1),this.eat(m.parenL)?t.arguments=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1):t.arguments=AS,this.finishNode(t,"NewExpression")};H.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===m.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
  `),cooked:this.value},this.next(),i.tail=this.type===m.backQuote,this.finishNode(i,"TemplateElement")};H.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(m.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};H.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===m.star)&&!dt.test(this.input.slice(this.lastTokEnd,this.start))};H.parseObj=function(t,e){var i=this.startNode(),o=!0,r={};for(i.properties=[],this.next();!this.eat(m.braceR);){if(o)o=!1;else if(this.expect(m.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(m.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,r,e),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};H.parseProperty=function(t,e){var i=this.startNode(),o,r,a,c;if(this.options.ecmaVersion>=9&&this.eat(m.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===m.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(a=this.start,c=this.startLoc),t||(o=this.eat(m.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(r=!0,o=this.options.ecmaVersion>=9&&this.eat(m.star),this.parsePropertyName(i)):r=!1,this.parsePropertyValue(i,t,o,r,a,c,e,p),this.finishNode(i,"Property")};H.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};H.parsePropertyValue=function(t,e,i,o,r,a,c,p){(i||o)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,c),t.kind="init"):this.options.ecmaVersion>=6&&this.type===m.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==m.comma&&this.type!==m.braceR&&this.type!==m.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,a,this.copyNode(t.key)):this.type===m.eq&&c?(c.shorthandAssign<0&&(c.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};H.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(m.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(m.bracketR),t.key;t.computed=!1}return t.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};H.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};H.parseMethod=function(t,e,i){var o=this.startNode(),r=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(u0(e,o.generator)|s0|(i?tk:0)),this.expect(m.parenL),o.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(o,"FunctionExpression")};H.parseArrowExpression=function(t,e,i,o){var r=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.enterScope(u0(i,!1)|Z1),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(t,"ArrowFunctionExpression")};H.parseFunctionBody=function(t,e,i,o){var r=e&&this.type!==m.braceL,a=this.strict,c=!1;if(r)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||p)&&(c=this.strictDirective(this.end),c&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var d=this.labels;this.labels=[],c&&(this.strict=!0),this.checkParams(t,!a&&!c&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,nk),t.body=this.parseBlock(!1,void 0,c&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=d}this.exitScope()};H.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};H.checkParams=function(t,e){for(var i=Object.create(null),o=0,r=t.params;o<r.length;o+=1){var a=r[o];this.checkLValInnerPattern(a,l0,e?null:i)}};H.parseExprList=function(t,e,i,o){for(var r=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(m.comma),e&&this.afterTrailingComma(t))break;var c=void 0;i&&this.type===m.comma?c=null:this.type===m.ellipsis?(c=this.parseSpread(o),o&&this.type===m.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):c=this.parseMaybeAssign(!1,o),r.push(c)}return r};H.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};H.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};H.parseIdentNode=function(){var t=this.startNode();return this.type===m.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=m.name):this.unexpected(),t};H.parsePrivateIdent=function(){var t=this.startNode();return this.type===m.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};H.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(m.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};H.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Hx=Te.prototype;Hx.raise=function(t,e){var i=X1(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};Hx.raiseRecoverable=Hx.raise;Hx.curPosition=function(){if(this.options.locations)return new Sm(this.curLine,this.pos-this.lineStart)};var Vi=Te.prototype,VS=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Vi.enterScope=function(t){this.scopeStack.push(new VS(t))};Vi.exitScope=function(){this.scopeStack.pop()};Vi.treatFunctionsAsVarInScope=function(t){return t.flags&Nr||!this.inModule&&t.flags&Cm};Vi.declareName=function(t,e,i){var o=!1;if(e===Xt){var r=this.currentScope();o=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&r.flags&Cm&&delete this.undefinedExports[t]}else if(e===ok){var a=this.currentScope();a.lexical.push(t)}else if(e===ik){var c=this.currentScope();this.treatFunctionsAsVar?o=c.lexical.indexOf(t)>-1:o=c.lexical.indexOf(t)>-1||c.var.indexOf(t)>-1,c.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var d=this.scopeStack[p];if(d.lexical.indexOf(t)>-1&&!(d.flags&ek&&d.lexical[0]===t)||!this.treatFunctionsAsVarInScope(d)&&d.functions.indexOf(t)>-1){o=!0;break}if(d.var.push(t),this.inModule&&d.flags&Cm&&delete this.undefinedExports[t],d.flags&a0)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Vi.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Vi.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Vi.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&a0)return e}};Vi.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&a0&&!(e.flags&Z1))return e}};var $x=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Gx(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Pm=Te.prototype;Pm.startNode=function(){return new $x(this,this.start,this.startLoc)};Pm.startNodeAt=function(t,e){return new $x(this,t,e)};function ak(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(ak,"finishNodeAt");Pm.finishNode=function(t,e){return ak.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Pm.finishNodeAt=function(t,e,i,o){return ak.call(this,t,e,i,o)};Pm.copyNode=function(t){var e=new $x(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var uk="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",lk=uk+" Extended_Pictographic",ck=lk,pk=ck+" EBase EComp EMod EPres ExtPict",dk=pk,MS=dk,BS={9:uk,10:lk,11:ck,12:pk,13:dk,14:MS},LS="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",DS={9:"",10:"",11:"",12:"",13:"",14:LS},J1="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",fk="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",mk=fk+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",hk=mk+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",_k=hk+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",vk=_k+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",OS=vk+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",FS={9:fk,10:mk,11:hk,12:_k,13:vk,14:OS},xk={};function jS(t){var e=xk[t]={binary:Ri(BS[t]+" "+J1),binaryOfStrings:Ri(DS[t]),nonBinary:{General_Category:Ri(J1),Script:Ri(FS[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(jS,"buildUnicodeData");for(Ux=0,e0=[9,10,11,12,13,14];Ux<e0.length;Ux+=1)H1=e0[Ux],jS(H1);var H1,Ux,e0,L=Te.prototype,Lt=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=xk[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");Lt.prototype.reset=n(function(e,i,o){var r=o.indexOf("v")!==-1,a=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)},"reset");Lt.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Lt.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return-1;var a=o.charCodeAt(e);if(!(i||this.switchU)||a<=55295||a>=57344||e+1>=r)return a;var c=o.charCodeAt(e+1);return c>=56320&&c<=57343?(a<<10)+c-56613888:a},"at");Lt.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return r;var a=o.charCodeAt(e),c;return!(i||this.switchU)||a<=55295||a>=57344||e+1>=r||(c=o.charCodeAt(e+1))<56320||c>57343?e+1:e+2},"nextIndex");Lt.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Lt.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Lt.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Lt.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");Lt.prototype.eatChars=n(function(e,i){i===void 0&&(i=!1);for(var o=this.pos,r=0,a=e;r<a.length;r+=1){var c=a[r],p=this.at(o,i);if(p===-1||p!==c)return!1;o=this.nextIndex(o,i)}return this.pos=o,!0},"eatChars");L.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=!1,r=!1,a=0;a<i.length;a++){var c=i.charAt(a);e.indexOf(c)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(c,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),c==="u"&&(o=!0),c==="v"&&(r=!0)}this.options.ecmaVersion>=15&&o&&r&&this.raise(t.start,"Invalid regular expression flag")};L.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};L.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};L.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};L.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};L.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};L.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};L.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};L.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};L.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return r!==-1&&r<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};L.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};L.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};L.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};L.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};L.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};L.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};L.regexp_eatSyntaxCharacter=function(t){var e=t.current();return gk(e)?(t.lastIntValue=e,t.advance(),!0):!1};function gk(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(gk,"isSyntaxCharacter");L.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!gk(i);)t.advance();return t.pos!==e};L.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};L.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};L.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};L.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Ai(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Ai(t.lastIntValue);return!0}return!1};L.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),YS(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function YS(t){return Kt(t,!0)||t===36||t===95}n(YS,"isRegExpIdentifierStart");L.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),US(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function US(t){return Cr(t,!0)||t===36||t===95||t===8204||t===8205}n(US,"isRegExpIdentifierPart");L.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};L.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};L.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};L.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};L.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};L.regexp_eatZero=function(t){return t.current()===48&&!Kx(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};L.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};L.regexp_eatControlLetter=function(t){var e=t.current();return yk(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function yk(t){return t>=65&&t<=90||t>=97&&t<=122}n(yk,"isControlLetter");L.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(o&&r>=55296&&r<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var c=t.lastIntValue;if(c>=56320&&c<=57343)return t.lastIntValue=(r-55296)*1024+(c-56320)+65536,!0}t.pos=a,t.lastIntValue=r}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&WS(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function WS(t){return t>=0&&t<=1114111}n(WS,"isValidUnicode");L.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};L.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var bk=0,qt=1,pt=2;L.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(JS(e))return t.lastIntValue=-1,t.advance(),qt;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===pt&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return bk};function JS(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(JS,"isCharacterClassEscape");L.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),qt}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r)}return bk};L.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Em(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};L.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return qt;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return pt;t.raise("Invalid property name")};L.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";wk(e=t.current());)t.lastStringValue+=Ai(e),t.advance();return t.lastStringValue!==""};function wk(t){return yk(t)||t===95}n(wk,"isUnicodePropertyNameCharacter");L.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";HS(e=t.current());)t.lastStringValue+=Ai(e),t.advance();return t.lastStringValue!==""};function HS(t){return wk(t)||Kx(t)}n(HS,"isUnicodePropertyValueCharacter");L.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};L.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===pt&&t.raise("Negated character class may contain strings"),!0}return!1};L.regexp_classContents=function(t){return t.current()===93?qt:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),qt)};L.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};L.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||Ik(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};L.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};L.regexp_classSetExpression=function(t){var e=qt,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===pt&&(e=pt);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==pt&&(e=qt);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===pt&&(e=pt)}};L.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};L.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?qt:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};L.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===pt&&t.raise("Negated character class may contain strings"),o;t.pos=e}if(t.eat(92)){var r=this.regexp_eatCharacterClassEscape(t);if(r)return r;t.pos=e}return null};L.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};L.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===pt&&(e=pt);return e};L.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?qt:pt};L.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&GS(i)||zS(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function GS(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}n(GS,"isClassSetReservedDoublePunctuatorCharacter");function zS(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}n(zS,"isClassSetSyntaxCharacter");L.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return $S(e)?(t.lastIntValue=e,t.advance(),!0):!1};function $S(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}n($S,"isClassSetReservedPunctuator");L.regexp_eatClassControlLetter=function(t){var e=t.current();return Kx(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};L.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};L.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Kx(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Kx(t){return t>=48&&t<=57}n(Kx,"isDecimalDigit");L.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Tk(i=t.current());)t.lastIntValue=16*t.lastIntValue+kk(i),t.advance();return t.pos!==e};function Tk(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n(Tk,"isHexDigit");function kk(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n(kk,"hexToInt");L.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};L.regexp_eatOctalDigit=function(t){var e=t.current();return Ik(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function Ik(t){return t>=48&&t<=55}n(Ik,"isOctalDigit");L.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var r=t.current();if(!Tk(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+kk(r),t.advance()}return!0};var p0=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Gx(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),Z=Te.prototype;Z.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new p0(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Z.getToken=function(){return this.next(),new p0(this)};typeof Symbol<"u"&&(Z[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===m.eof,value:e}}}});Z.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(m.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};Z.readToken=function(t){return Kt(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};Z.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};Z.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,r=e;(o=$1(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};Z.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Er(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};Z.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&K1.test(String.fromCharCode(t)))++this.pos;else break e}}};Z.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};Z.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))};Z.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(m.assign,2):this.finishOp(m.slash,1)};Z.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?m.star:m.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=m.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(m.assign,i+1):this.finishOp(o,i)};Z.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(m.assign,3)}return this.finishOp(t===124?m.logicalOR:m.logicalAND,2)}return e===61?this.finishOp(m.assign,2):this.finishOp(t===124?m.bitwiseOR:m.bitwiseAND,1)};Z.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)};Z.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||dt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(m.incDec,2):e===61?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)};Z.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(m.assign,i+1):this.finishOp(m.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(m.relational,i))};Z.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(m.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(t===61?m.eq:m.prefix,1)};Z.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(m.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(m.assign,3)}return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)};Z.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Kt(e,!0)||e===92))return this.finishToken(m.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Ai(e)+"'")};Z.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Ai(t)+"'")};Z.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};Z.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(dt.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var r=this.input.slice(i,this.pos);++this.pos;var a=this.pos,c=this.readWord1();this.containsEsc&&this.unexpected(a);var p=this.regexpState||(this.regexpState=new Lt(this));p.reset(i,r,c),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var d=null;try{d=new RegExp(r,c)}catch(h){}return this.finishToken(m.regexp,{pattern:r,flags:c,value:d})};Z.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,r=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,c=0,p=0,d=0,h=e==null?1/0:e;d<h;++d,++this.pos){var _=this.input.charCodeAt(this.pos),x=void 0;if(o&&_===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),d===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=_;continue}if(_>=97?x=_-97+10:_>=65?x=_-65+10:_>=48&&_<=57?x=_-48:x=1/0,x>=t)break;p=_,c=c*t+x}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||e!=null&&this.pos-a!==e?null:c};function KS(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n(KS,"stringToNumber");function Sk(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(Sk,"stringToBigInt");Z.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=Sk(this.input.slice(e,this.pos)),++this.pos):Kt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,i)};Z.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var r=Sk(this.input.slice(e,this.pos));return++this.pos,Kt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,r)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Kt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=KS(this.input.slice(e,this.pos),i);return this.finishToken(m.num,a)};Z.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};Z.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Er(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(m.string,e)};var Ck={};Z.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===Ck)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};Z.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Ck;this.raise(t,e)};Z.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===m.template||this.type===m.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(m.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Er(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
  `;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};Z.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Z.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
  `;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Ai(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(o,8);return r>255&&(o=o.slice(0,-1),r=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return Er(e)?"":String.fromCharCode(e)}};Z.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};Z.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(Cr(r,o))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var c=this.readCodePoint();(e?Kt:Cr)(c,o)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=Ai(c),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};Z.readWord=function(){var t=this.readWord1(),e=m.name;return this.keywords.test(t)&&(e=n0[t]),this.finishToken(e,t)};var qS="8.11.3";Te.acorn={Parser:Te,version:qS,defaultOptions:i0,Position:Sm,SourceLocation:Gx,getLineInfo:X1,Node:$x,TokenType:se,tokTypes:m,keywordTypes:n0,TokContext:kt,tokContexts:me,isIdentifierChar:Cr,isIdentifierStart:Kt,Token:p0,isNewLine:Er,lineBreak:dt,lineBreakG:wS,nonASCIIwhitespace:K1};function Ek(t,e){return Te.parse(t,e)}n(Ek,"parse");var XS=function(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i},QS=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},qx,Io=class{constructor(){qx.set(this,[]),this.visitor=new Sr,this.scope=this.visitor.scope,this.scope.set("print",e=>console.log(...e)),this.defineObject("console",console),this.defineObject("Math",Math),this.defineObject("String",String),this.defineObject("Array",Array),this.defineObject("Date",Date)}defineObject(e,i){this.visitor.on(e,(o,r)=>{if(o.type==="Identifier")return i;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=r.visitNode(o.callee.property),c=o.arguments.map(d=>r.visitNode(d)),p=i[a];return p?p.apply(i,c):"__continue_exec"}return"__continue_exec"})}calculate2(e){try{let i=Ek(e,{ecmaVersion:2020});XS(this,qx,i.body,"f")}catch(i){throw new $t(i.message)}return this.visitor.setAST(QS(this,qx,"f")),this.visitor.run()}};n(Io,"Jinter");qx=new WeakMap;var Rm,Nk,Pk,Rk,Xx=class{constructor(e){Rm.add(this),this.session=e}stats(e,i,o){return k(this,void 0,void 0,function*(){let r=new URL(e);r.searchParams.set("ver","2"),r.searchParams.set("c",i.client_name.toLowerCase()),r.searchParams.set("cbrver",i.client_version),r.searchParams.set("cver",i.client_version);for(let c of Object.keys(o))r.searchParams.set(c,o[c]);return yield this.session.http.fetch(r)})}execute(e,i){return k(this,void 0,void 0,function*(){var o,r;let a;if(i&&!i.protobuf){if(a=Object.assign({},i),Reflect.has(a,"browseId")&&f(this,Rm,"m",Rk).call(this,a.browseId)&&!this.session.logged_in)throw new b("You must be signed in to perform this operation.");Reflect.has(a,"override_endpoint")&&delete a.override_endpoint,Reflect.has(a,"parse")&&delete a.parse,Reflect.has(a,"request")&&delete a.request,Reflect.has(a,"clientActions")&&delete a.clientActions,Reflect.has(a,"settingItemIdForClient")&&delete a.settingItemIdForClient,Reflect.has(a,"action")&&(a.actions=[a.action],delete a.action),Reflect.has(a,"boolValue")&&(a.newValue={boolValue:a.boolValue},delete a.boolValue),Reflect.has(a,"token")&&(a.continuation=a.token,delete a.token),(a==null?void 0:a.client)==="YTMUSIC"&&(a.isAudioOnly=!0)}else i&&(a=i.serialized_data);let c=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield this.session.http.fetch(c,{method:"POST",body:i!=null&&i.protobuf?a:JSON.stringify(a||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let d=l.parseResponse(yield p.json());if(f(this,Rm,"m",Pk).call(this,d)&&((r=(o=d.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||r===void 0?void 0:r.type)==="navigateAction"){let h=d.on_response_received_actions.firstOfType(gi);h&&(d=yield h.endpoint.call(this,{parse:!0}))}return d}return f(this,Rm,"m",Nk).call(this,p)})}};n(Xx,"Actions");Rm=new WeakSet,Nk=n(function(e){return k(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),Pk=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),Rk=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var d0=Xx;var Dt="Player",Qe=class{constructor(e,i,o,r){this.nsig_sc=o,this.sig_sc=i,this.sts=e,this.player_id=r}static create(e){return k(this,arguments,void 0,function*(i,o=U.shim.fetch){let r=new URL("/iframe_api",xe.URLS.YT_BASE),a=yield o(r);if(a.status!==200)throw new Tt("Failed to request player id");let c=yield a.text(),p=Re(c,"player\\/","\\/");if(F.info(Dt,`Got player id (${p}). Checking for cached players..`),!p)throw new Tt("Failed to get player id");if(i){let I=yield Qe.fromCache(i,p);if(I)return F.info(Dt,"Found up-to-date player data in cache."),I}let d=new URL(`/s/player/${p}/player_ias.vflset/en_US/base.js`,xe.URLS.YT_BASE);F.info(Dt,`Could not find any cached player. Will download a new player from ${d}.`);let h=yield o(d,{headers:{"user-agent":Ui("desktop")}});if(!h.ok)throw new Tt(`Failed to get player data: ${h.status}`);let _=yield h.text(),x=this.extractSigTimestamp(_),y=this.extractSigSourceCode(_),w=this.extractNSigSourceCode(_);return F.info(Dt,`Got signature timestamp (${x}) and algorithms needed to decipher signatures.`),yield Qe.fromSource(i,x,y,w,p)})}decipher(e,i,o,r){if(e=e||i||o,!e)throw new Tt("No valid URL to decipher");let a=new URLSearchParams(e),c=new URL(a.get("url")||e);if(i||o){let _=U.shim.calculate(this.sig_sc,{sig:a.get("s")});if(F.info(Dt,`Transformed signature from ${a.get("s")} to ${_}.`),typeof _!="string")throw new Tt("Failed to decipher signature");let x=a.get("sp");x?c.searchParams.set(x,_):c.searchParams.set("signature",_)}let p=c.searchParams.get("n");if(p){let _;if(r&&r.has(p))_=r.get(p);else{if(_=U.shim.calculate(this.nsig_sc,{nsig:p}),F.info(Dt,`Transformed n signature from ${p} to ${_}.`),typeof _!="string")throw new Tt("Failed to decipher nsig");_.startsWith("enhanced_except_")?F.warn(Dt,"Could not transform nsig, download may be throttled."):r&&r.set(p,_)}c.searchParams.set("n",_)}switch(c.searchParams.get("c")){case"WEB":c.searchParams.set("cver",xe.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":c.searchParams.set("cver",xe.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":c.searchParams.set("cver",xe.CLIENTS.WEB_KIDS.VERSION);break;case"ANDROID":c.searchParams.set("cver",xe.CLIENTS.ANDROID.VERSION);break;case"ANDROID_MUSIC":c.searchParams.set("cver",xe.CLIENTS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":c.searchParams.set("cver",xe.CLIENTS.TV_EMBEDDED.VERSION);break}let h=c.toString();return F.info(Dt,`Deciphered URL: ${h}`),c.toString()}static fromCache(e,i){return k(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let r=new DataView(o);if(r.getUint32(0,!0)!==Qe.LIBRARY_VERSION)return null;let c=r.getUint32(4,!0),p=r.getUint32(8,!0),d=o.slice(12,12+p),h=o.slice(12+p),_=ht.decompress(new TextDecoder().decode(d)),x=ht.decompress(new TextDecoder().decode(h));return new Qe(c,_,x,i)})}static fromSource(e,i,o,r,a){return k(this,void 0,void 0,function*(){let c=new Qe(i,o,r,a);return yield c.cache(e),c})}cache(e){return k(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(ht.compress(this.sig_sc)),r=i.encode(ht.compress(this.nsig_sc)),a=new ArrayBuffer(12+o.byteLength+r.byteLength),c=new DataView(a);c.setUint32(0,Qe.LIBRARY_VERSION,!0),c.setUint32(4,this.sts,!0),c.setUint32(8,o.byteLength,!0),new Uint8Array(a).set(o,12),new Uint8Array(a).set(r,12+o.byteLength),yield e.set(this.player_id,new Uint8Array(a))})}static extractSigTimestamp(e){return parseInt(Re(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,r;let a=Re(e,'function(a){a=a.split("")','return a.join("")}'),c=(r=(o=(i=a==null?void 0:a.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||r===void 0?void 0:r.trim(),p=Re(e,`var ${c}={`,"};");return(!p||!a)&&F.warn(Dt,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${c}={${p}}${a} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=Re(e,'b=a.split("")','}return b.join("")}');return i?`function descramble_nsig(a) { let b=a.split("")${i}} return b.join(""); } descramble_nsig(nsig)`:(i=Re(e,'b=String.prototype.split.call(a,"")','}return Array.prototype.join.call(b,"")}'),i?`function descramble_nsig(a) { let b=String.prototype.split.call(a, "")${i}} return Array.prototype.join.call(b, ""); } descramble_nsig(nsig)`:(F.warn(Dt,"Failed to extract n-token decipher algorithm"),"function descramble_nsig(a) { return a; } descramble_nsig(nsig)"))}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,xe.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 10}};n(Qe,"Player");var So,Vk,Mk,Bk,Ak,f0;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(f0||(f0={}));var Rr="Session",Am=class extends Mr{constructor(e,i,o,r,a,c,p,d){super(),this.http=new dg(this,c,p),this.actions=new d0(this),this.logged_in=!!c,this.cache=d,this.account_index=r,this.key=i,this.api_version=o,this.context=e,this.player=a}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(){return k(this,arguments,void 0,function*(e={}){let{context:i,api_key:o,api_version:r,account_index:a}=yield So.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache);return new So(i,o,r,a,e.retrieve_player===!1?void 0:yield Qe.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static fromCache(e,i){return k(this,void 0,void 0,function*(){let o=yield e.get("innertube_session_data");if(!o)return null;let r=new TextDecoder().decode(o.slice(4));try{let a=JSON.parse(ht.decompress(r));return i.visitor_data&&(a.context.client.visitorData=i.visitor_data),i.lang&&(a.context.client.hl=i.lang),i.location&&(a.context.client.gl=i.location),i.on_behalf_of_user&&(a.context.user.onBehalfOfUser=i.on_behalf_of_user),a.context.client.timeZone=i.time_zone,a.context.client.platform=i.device_category.toUpperCase(),a.context.client.clientName=i.client_name,a.context.user.enableSafetyMode=i.enable_safety_mode,a}catch(a){return F.error(Rr,"Failed to parse session data from cache.",a),null}})}static getSessionData(){return k(this,arguments,void 0,function*(e="",i="",o=0,r="",a=!1,c=!1,p="desktop",d=f0.WEB,h=Intl.DateTimeFormat().resolvedOptions().timeZone,_=U.shim.fetch,x,y,w=!0){let I={lang:e,location:i,time_zone:h,device_category:p,client_name:d,enable_safety_mode:a,visitor_data:r,on_behalf_of_user:x},S;if(y&&w){let N=yield this.fromCache(y,I);N&&(F.info(Rr,"Found session data in cache."),S=N)}if(!S){F.info(Rr,"Generating session data.");let N=ne.WEB.API_KEY,V=ne.WEB.API_VERSION,M={hl:e||"en",gl:i||"US",remote_host:"",visitor_data:r||wg(wo(11),Math.floor(Date.now()/1e3)),client_name:d,client_version:ne.WEB.VERSION,device_category:p.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:h,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:a};if(!c)try{let Y=yield f(this,So,"m",Mk).call(this,I,_);N=Y.api_key,V=Y.api_version,M=Y.context_data}catch(Y){F.error(Rr,"Failed to retrieve session data from server. Session data generated locally will be used instead.",Y)}S={api_key:N,api_version:V,context:f(this,So,"m",Bk).call(this,M)},w&&(yield f(this,So,"m",Vk).call(this,S,y))}return F.debug(Rr,"Session data:",S),Object.assign(Object.assign({},S),{account_index:o})})}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};n(Am,"Session");So=Am,Vk=n(function(e,i){return k(this,void 0,void 0,function*(){if(!i)return;F.info(Rr,"Compressing and caching session data.");let o=new TextEncoder().encode(ht.compress(JSON.stringify(e))),r=new ArrayBuffer(4+o.byteLength);new DataView(r).setUint32(0,o.byteLength,!0),new Uint8Array(r).set(o,4),yield i.set("innertube_session_data",new Uint8Array(r))})},"_Session_storeSession"),Mk=n(function(e){return k(this,arguments,void 0,function*(i,o=U.shim.fetch){let r=wo(11);i.visitor_data&&(r=f(this,So,"m",Ak).call(this,i.visitor_data));let a=new URL("/sw.js_data",tt.YT_BASE),c=yield o(a,{headers:{"Accept-Language":i.lang||"en-US","User-Agent":Ui("desktop"),Accept:"*/*",Referer:`${tt.YT_BASE}/sw.js`,Cookie:`PREF=tz=${i.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${r};`}});if(!c.ok)throw new bo(`Failed to retrieve session data: ${c.status}`);let p=yield c.text();if(!p.startsWith(")]}'"))throw new bo("Invalid JSPB response");let h=JSON.parse(p.replace(/^\)\]\}'/,""))[0][2],_=ne.WEB.API_VERSION,[[x],y]=h,w=x[61],I=w[w.length-1];return{context_data:{hl:i.lang||x[0],gl:i.location||x[2],remote_host:x[3],visitor_data:x[13],client_name:i.client_name,client_version:x[16],os_name:x[17],os_version:x[18],time_zone:x[79]||i.time_zone,device_category:i.device_category,browser_name:x[86],browser_version:x[87],device_make:x[11],device_model:x[12],app_install_data:I,enable_safety_mode:i.enable_safety_mode},api_key:y,api_version:_}})},"_Session_getSessionData"),Bk=n(function(e){let i={client:{hl:e.hl,gl:e.gl,remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:tt.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",mainAppWebInfo:{graftUrl:tt.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(i.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},"_Session_buildContext"),Ak=n(function(e){return Tg(e).id},"_Session_getVisitorID");var m0=Am;var h0={};ye(h0,{NextEndpoint:()=>Mi,PlayerEndpoint:()=>Qt,Reel:()=>mt});var Mi={};ye(Mi,{PATH:()=>ZS,build:()=>eC});var ZS="/next";function eC(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(eC,"build");var Qt={};ye(Qt,{PATH:()=>tC,build:()=>iC});var tC="/player";function iC(t){return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:t.params})}n(iC,"build");var mt={};ye(mt,{WatchEndpoint:()=>Qx,WatchSequenceEndpoint:()=>Zx});var Qx={};ye(Qx,{PATH:()=>oC,build:()=>nC});var oC="/reel/reel_item_watch";function nC(t){var e,i;return{playerRequest:{videoId:t.short_id,params:(e=t.params)!==null&&e!==void 0?e:"CAUwAg%3D%3D"},params:(i=t.params)!==null&&i!==void 0?i:"CAUwAg%3D%3D"}}n(nC,"build");var Zx={};ye(Zx,{PATH:()=>rC,build:()=>sC});var rC="/reel/reel_watch_sequence";function sC(t){return{sequenceParams:t.sequenceParams}}n(sC,"build");var Ar,eg,tg=class{constructor(e,i){var o,r;Ar.set(this,void 0),eg.set(this,void 0),E(this,eg,i,"f");let a=l.parseResponse(e[0].data),c=l.parseResponse(e[1].data);this.basic_info=a.video_details,this.watch_next_feed=(o=c.entries)===null||o===void 0?void 0:o.array(),E(this,Ar,(r=c.continuation_endpoint)===null||r===void 0?void 0:r.as(Jt),"f")}getWatchNextContinuation(){return k(this,void 0,void 0,function*(){var e,i;if(!f(this,Ar,"f"))throw new b("Watch next feed continuation not found");let o=yield f(this,eg,"f").execute(mt.WatchSequenceEndpoint.PATH,mt.WatchSequenceEndpoint.build({sequenceParams:f(this,Ar,"f").token}));if(!o.success)throw new b("Continue failed ",o.status_code);let r=l.parseResponse(o.data);return this.watch_next_feed=(e=r.entries)===null||e===void 0?void 0:e.array(),E(this,Ar,(i=r.continuation_endpoint)===null||i===void 0?void 0:i.as(Jt),"f"),this})}};n(tg,"VideoInfo");Ar=new WeakMap,eg=new WeakMap;var _0=tg;var Co,Vr=class{constructor(e){Co.set(this,void 0),E(this,Co,e,"f")}static create(){return k(this,arguments,void 0,function*(e={}){return new Vr(yield m0.create(e))})}getInfo(e,i){return k(this,void 0,void 0,function*(){var o,r,a,c,p;bm({target:e});let d;if(e instanceof v)d=Mi.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(r=e.payload)===null||r===void 0?void 0:r.playlistId,params:(a=e.payload)===null||a===void 0?void 0:a.params,playlist_index:(c=e.payload)===null||c===void 0?void 0:c.index});else if(typeof e=="string")d=Mi.build({video_id:e});else throw new b("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!d.videoId)throw new b("Video id cannot be empty",d);let h=Qt.build({video_id:d.videoId,playlist_id:d==null?void 0:d.playlistId,client:i,sts:(p=f(this,Co,"f").player)===null||p===void 0?void 0:p.sts}),_=this.actions.execute(Qt.PATH,h),x=this.actions.execute(Mi.PATH,d),y=yield Promise.all([_,x]),w=wo(16);return new vm(y,this.actions,w)})}getBasicInfo(e,i){return k(this,void 0,void 0,function*(){var o;bm({video_id:e});let r=yield this.actions.execute(Qt.PATH,Qt.build({video_id:e,client:i,sts:(o=f(this,Co,"f").player)===null||o===void 0?void 0:o.sts})),a=wo(16);return new vm([r],this.actions,a)})}getShortsWatchItem(e,i){return k(this,void 0,void 0,function*(){bm({short_id:e});let o=this.actions.execute(mt.WatchEndpoint.PATH,mt.WatchEndpoint.build({short_id:e,client:i})),r=this.actions.execute(mt.WatchSequenceEndpoint.PATH,mt.WatchSequenceEndpoint.build({sequenceParams:Ig(e)})),a=yield Promise.all([o,r]);return new _0(a,this.actions)})}getStreamingData(e){return k(this,arguments,void 0,function*(i,o={}){return(yield this.getBasicInfo(i)).chooseFormat(o)})}download(e,i){return k(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}call(e,i){return e.call(this.actions,i)}get actions(){return f(this,Co,"f").actions}get session(){return f(this,Co,"f")}};n(Vr,"Innertube");Co=new WeakMap;var v0=Vr;var Lk={};var Dk=v0;var Ok="JsRuntime";function x0(t,e){F.debug(Ok,`Evaluating JavaScript:
  `,t);let i=new Io;for(let[r,a]of Object.entries(e))i.scope.set(r,a);let o=i.calculate2(t);return F.debug(Ok,"Done. Result:",o),o}n(x0,"calculate");var Vm,g0,ig,og,ng,rg=class{constructor(e=!1,i){Vm.add(this),g0.set(this,"Cache"),ig.set(this,void 0),og.set(this,void 0),E(this,ig,i||"","f"),E(this,og,e,"f")}get cache_dir(){return f(this,og,"f")?f(this,ig,"f"):""}get(e){return k(this,void 0,void 0,function*(){let i=yield f(this,Vm,"m",ng).call(this);if(!!i)return new Promise((o,r)=>{let a=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);a.onerror=r,a.onsuccess=function(){var c;let p=(c=this.result)===null||c===void 0?void 0:c.v;p instanceof ArrayBuffer?o(p):ArrayBuffer.isView(p)?o(p.buffer):o(void 0)}})})}set(e,i){return k(this,void 0,void 0,function*(){let o=yield f(this,Vm,"m",ng).call(this);if(!!o)return new Promise((r,a)=>{let c=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});c.onerror=a,c.onsuccess=()=>r()})})}remove(e){return k(this,void 0,void 0,function*(){let i=yield f(this,Vm,"m",ng).call(this);if(!!i)return new Promise((o,r)=>{let a=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);a.onerror=r,a.onsuccess=()=>o()})})}};n(rg,"Cache");g0=new WeakMap,ig=new WeakMap,og=new WeakMap,Vm=new WeakSet,ng=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let r=e.open("youtubei.js",1);r.onsuccess=function(){i(this.result)},r.onerror=function(a){o("indexedDB request error"),console.error(a)},r.onupgradeneeded=function(){let a=this.result.createObjectStore("kv-store",{keyPath:"k"});a.transaction.oncomplete=function(){i(this.db)}}}):F.warn(f(this,g0,"f"),"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");U.load({runtime:"browser",server:!1,info:{version:jx.version,bugs_url:jx.bugs.url,repo_url:jx.homepage.split("#")[0]},Cache:rg,sha1Hash:$g,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},calculate:x0,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var ike=Dk;export{d0 as Actions,Ji as AppendContinuationItemsAction,f0 as ClientType,xe as Constants,no as Continuation,Jt as ContinuationCommand,h0 as Endpoints,Mr as EventEmitter,Yi as FormatUtils,Bg as Generator,Rn as GridContinuation,dg as HTTPClient,ug as Helpers,v0 as Innertube,Sn as ItemSectionContinuation,ht as LZW,bi as LiveChatContinuation,F as Log,Gg as Misc,Ug as Mixins,Nn as MusicPlaylistShelfContinuation,Pn as MusicShelfContinuation,gi as NavigateAction,l as Parser,U as Platform,Qe as Player,An as PlaylistPanelContinuation,pi as Proto,yi as ReloadContinuationItemsCommand,En as SectionListContinuation,m0 as Session,Cn as ShowMiniplayerCommand,Lk as Types,Uk as UniversalCache,fg as Utils,Hg as YT,Zi as YTNodes,ike as default};  