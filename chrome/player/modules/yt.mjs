/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var Ey=Object.defineProperty;var n=(t,e)=>Ey(t,"name",{value:e,configurable:!0});var xe=(t,e)=>{for(var i in e)Ey(t,i,{get:e[i],enumerable:!0})};function Py(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]]);return i}n(Py,"__rest");function Ry(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n(Ry,"__setFunctionName");function k(t,e,i,o){function r(a){return a instanceof i?a:new i(function(c){c(a)})}return n(r,"adopt"),new(i||(i=Promise))(function(a,c){function p(_){try{h(o.next(_))}catch(x){c(x)}}n(p,"fulfilled");function d(_){try{h(o.throw(_))}catch(x){c(x)}}n(d,"rejected");function h(_){_.done?a(_.value):r(_.value).then(p,d)}n(h,"step"),h((o=o.apply(t,e||[])).next())})}n(k,"__awaiter");function Ny(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(Ny,"__values");function Yi(t){return this instanceof Yi?(this.v=t,this):new Yi(t)}n(Yi,"__await");function Ay(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),r,a=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(y){o[y]&&(r[y]=function(w){return new Promise(function(I,S){a.push([y,w,I,S])>1||p(y,w)})})}function p(y,w){try{d(o[y](w))}catch(I){x(a[0][3],I)}}function d(y){y.value instanceof Yi?Promise.resolve(y.value.v).then(h,_):x(a[0][2],y)}function h(y){p("next",y)}function _(y){p("throw",y)}function x(y,w){y(w),a.shift(),a.length&&p(a[0][0],a[0][1])}}n(Ay,"__asyncGenerator");function Vy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Ny=="function"?Ny(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(a){i[a]=t[a]&&function(c){return new Promise(function(p,d){c=t[a](c),r(p,d,c.done,c.value)})}}function r(a,c,p,d){Promise.resolve(d).then(function(h){a({value:h,done:p})},c)}}n(Vy,"__asyncValues");function f(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(f,"__classPrivateFieldGet");function N(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i}n(N,"__classPrivateFieldSet");var og={};xe(og,{ChannelError:()=>In,InnertubeError:()=>b,MissingParamError:()=>bm,OAuth2Error:()=>jx,ParsingError:()=>st,Platform:()=>W,PlayerError:()=>bt,SessionError:()=>Io,base64ToU8:()=>_g,concatMemos:()=>Ag,debugFetch:()=>iC,deepCompare:()=>Im,escapeStringRegexp:()=>oy,findFunction:()=>ny,generateRandomString:()=>Fi,generateSidAuth:()=>eC,getCookie:()=>oC,getRandomUserAgent:()=>zi,getStringBetweenStrings:()=>je,hasKeys:()=>tC,isTextRun:()=>We,streamToIterable:()=>Zx,throwIfMissing:()=>Tr,timeToSeconds:()=>Se,u8ToBase64:()=>ze});var Qx={};xe(Qx,{Maybe:()=>Wi,Memo:()=>ti,SuperParsedResult:()=>Tt,YTNode:()=>s,observe:()=>Q});var Ie,Fe=class{static doLog(e,i,o){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let r=[`[${this.YTJS_TAG}]`];i&&r.push(`[${i}]`),this.log_map_[e](`${r.join("")}:`,...o||[])}static setLevel(...e){this.log_level_=e}};n(Fe,"Log");Ie=Fe;Fe.YTJS_TAG="YOUTUBEJS";Fe.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};Fe.log_map_={[Ie.Level.ERROR]:(...t)=>console.error(...t),[Ie.Level.WARNING]:(...t)=>console.warn(...t),[Ie.Level.INFO]:(...t)=>console.info(...t),[Ie.Level.DEBUG]:(...t)=>console.debug(...t)};Fe.log_level_=[Ie.Level.WARNING];Fe.one_time_warnings_issued_=new Set;Fe.warnOnce=(t,...e)=>{Ie.one_time_warnings_issued_.has(t)||(Ie.doLog(Ie.Level.WARNING,t,e),Ie.one_time_warnings_issued_.add(t))};Fe.warn=(t,...e)=>Ie.doLog(Ie.Level.WARNING,t,e);Fe.error=(t,...e)=>Ie.doLog(Ie.Level.ERROR,t,e);Fe.info=(t,...e)=>Ie.doLog(Ie.Level.INFO,t,e);Fe.debug=(t,...e)=>Ie.doLog(Ie.Level.DEBUG,t,e);var Y=Fe;var qx,My,we,Xx,ce,wt,Ft,Ui,By=Symbol("ObservedArray.isObserved"),s=class{constructor(){qx.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>f(this,qx,"m",My).call(this,i))}as(...e){if(!this.is(...e))throw new st(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new st(`Missing key ${e}`);return new Wi(this[e])}};n(s,"YTNode");qx=new WeakSet,My=n(function(e){return this.type===e.type},"_YTNode_is");s.type="YTNode";var Wi=class{constructor(e){we.add(this),Xx.set(this,"Maybe"),ce.set(this,void 0),N(this,ce,e,"f")}get typeof(){return typeof f(this,ce,"f")}string(){return f(this,we,"m",Ft).call(this,"string")}isString(){return f(this,we,"m",wt).call(this,"string")}number(){return f(this,we,"m",Ft).call(this,"number")}isNumber(){return f(this,we,"m",wt).call(this,"number")}bigint(){return f(this,we,"m",Ft).call(this,"bigint")}isBigint(){return f(this,we,"m",wt).call(this,"bigint")}boolean(){return f(this,we,"m",Ft).call(this,"boolean")}isBoolean(){return f(this,we,"m",wt).call(this,"boolean")}symbol(){return f(this,we,"m",Ft).call(this,"symbol")}isSymbol(){return f(this,we,"m",wt).call(this,"symbol")}undefined(){return f(this,we,"m",Ft).call(this,"undefined")}isUndefined(){return f(this,we,"m",wt).call(this,"undefined")}null(){if(f(this,ce,"f")!==null)throw new TypeError(`Expected null, got ${typeof f(this,ce,"f")}`);return f(this,ce,"f")}isNull(){return f(this,ce,"f")===null}object(){return f(this,we,"m",Ft).call(this,"object")}isObject(){return f(this,we,"m",wt).call(this,"object")}function(){return f(this,we,"m",Ft).call(this,"function")}isFunction(){return f(this,we,"m",wt).call(this,"function")}array(){if(!Array.isArray(f(this,ce,"f")))throw new TypeError(`Expected array, got ${typeof f(this,ce,"f")}`);return f(this,ce,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new Wi(Reflect.get(i,o))}})}isArray(){return Array.isArray(f(this,ce,"f"))}node(){if(!(f(this,ce,"f")instanceof s))throw new TypeError(`Expected YTNode, got ${f(this,ce,"f").constructor.name}`);return f(this,ce,"f")}isNode(){return f(this,ce,"f")instanceof s}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof f(this,ce,"f")}`);return f(this,ce,"f")}isObserved(){var e;return(e=f(this,ce,"f"))===null||e===void 0?void 0:e[By]}parsed(){if(!(f(this,ce,"f")instanceof Tt))throw new TypeError(`Expected SuperParsedResult, got ${typeof f(this,ce,"f")}`);return f(this,ce,"f")}isParsed(){return f(this,ce,"f")instanceof Tt}any(){return Y.warn(f(this,Xx,"f"),"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),f(this,ce,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${f(this,ce,"f").constructor.name}`);return f(this,ce,"f")}isInstanceof(e){return f(this,ce,"f")instanceof e}};n(Wi,"Maybe");Xx=new WeakMap,ce=new WeakMap,we=new WeakSet,wt=n(function(e){return typeof f(this,ce,"f")===e},"_Maybe_checkPrimative"),Ft=n(function(e){if(!f(this,we,"m",wt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return f(this,ce,"f")},"_Maybe_assertPrimative");var Tt=class{constructor(e){Ui.set(this,void 0),N(this,Ui,e,"f")}get is_null(){return f(this,Ui,"f")===null}get is_array(){return!this.is_null&&Array.isArray(f(this,Ui,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return f(this,Ui,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return f(this,Ui,"f")}};n(Tt,"SuperParsedResult");Ui=new WeakMap;function Q(t){return new Proxy(t,{get(e,i){return i=="get"?(o,r)=>e.find((a,c)=>{let p=Im(o,a);return p&&r&&e.splice(c,1),p}):i==By?!0:i=="getAll"?(o,r)=>e.filter((a,c)=>{let p=Im(o,a);return p&&r&&e.splice(c,1),p}):i=="matchCondition"?o=>e.find(r=>o(r)):i=="filterType"?(...o)=>Q(e.filter(r=>!!r.is(...o))):i=="firstOfType"?(...o)=>e.find(r=>!!r.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>Q(e.map(r=>{if(r.is(...o))return r;throw new st(`Expected node of any type ${o.map(a=>a.type).join(", ")}, got ${r.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n(Q,"observe");var ti=class extends Map{getType(...e){return e=e.flat(),Q(e.flatMap(i=>this.get(i.type)||[]))}};n(ti,"Memo");var Lg={};xe(Lg,{Author:()=>D,ChildElement:()=>m_,EmojiRun:()=>ni,Format:()=>sx,Text:()=>u,TextRun:()=>ri,Thumbnail:()=>g,VideoDetails:()=>Si});var ge={};xe(ge,{CLIENTS:()=>re,INNERTUBE_HEADERS_BASE:()=>zk,OAUTH:()=>Gk,STREAM_HEADERS:()=>jt,SUPPORTED_CLIENTS:()=>Sm,URLS:()=>et});var et=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),Gk=Object.freeze({REGEX:Object.freeze({TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')})}),re=Object.freeze({IOS:{NAME_ID:"5",NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME_ID:"1",NAME:"WEB",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME_ID:"76",NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME_ID:"67",NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME_ID:"3",NAME:"ANDROID",VERSION:"18.48.37",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/18.48.37(Linux; U; Android 13; en_US; sdk_gphone64_x86_64 Build/UPB4.230623.005) gzip"},YTSTUDIO_ANDROID:{NAME_ID:"14",NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME_ID:"21",NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME_ID:"85",NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),jt=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),zk=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"}),Sm=["IOS","WEB","YTKIDS","YTMUSIC","ANDROID","YTSTUDIO_ANDROID","YTMUSIC_ANDROID","TV_EMBEDDED"];var l={};xe(l,{addRuntimeParser:()=>Sg,applyCommentsMutations:()=>P1,applyMutations:()=>N1,getDynamicParsers:()=>dS,getParserByName:()=>Kf,hasParser:()=>ox,parse:()=>Je,parseActions:()=>E1,parseArray:()=>Me,parseC:()=>C1,parseFormats:()=>Ng,parseItem:()=>ie,parseLC:()=>Eg,parseRR:()=>ax,parseResponse:()=>Cg,sanitizeClassName:()=>Xf,setParserErrorHandler:()=>cS,shouldIgnore:()=>S1});var oo={};xe(oo,{AboutChannel:()=>Om,AboutChannelView:()=>Lm,AccountChannel:()=>Fm,AccountItemSection:()=>Ym,AccountItemSectionHeader:()=>jm,AccountSectionList:()=>Um,AddBannerToLiveChatCommand:()=>Jb,AddChatItemAction:()=>j_,AddLiveChatTickerItemAction:()=>Hb,Alert:()=>Ro,AlertWithButton:()=>Km,AnalyticsMainAppKeyMetrics:()=>qy,AnalyticsRoot:()=>Xy,AnalyticsShortsCarouselCard:()=>Qy,AnalyticsVideo:()=>Xm,AnalyticsVodCarouselCard:()=>Zy,AnchoredSection:()=>Qv,AppendContinuationItemsAction:()=>Ki,AttributionView:()=>Qm,AudioOnlyPlayability:()=>Zm,AuthorCommentBadge:()=>Hh,AutomixPreviewVideo:()=>eh,AvatarView:()=>th,BackstageImage:()=>ih,BackstagePost:()=>si,BackstagePostThread:()=>i0,BrowseFeedActions:()=>nh,BrowserMediaSession:()=>o0,Button:()=>T,ButtonView:()=>kt,C4TabbedHeader:()=>jo,CallToActionButton:()=>n0,Card:()=>r0,CardCollection:()=>Ah,CarouselHeader:()=>Vh,CarouselItem:()=>s0,CarouselLockup:()=>Sh,Channel:()=>Mh,ChannelAboutFullMetadata:()=>wa,ChannelAgeGate:()=>a0,ChannelExternalLinkView:()=>Dm,ChannelFeaturedContent:()=>u0,ChannelHeaderLinks:()=>rh,ChannelHeaderLinksView:()=>sh,ChannelMetadata:()=>Bh,ChannelMobileHeader:()=>l0,ChannelOptions:()=>Dh,ChannelOwnerEmptyState:()=>c0,ChannelSubMenu:()=>Pa,ChannelTagline:()=>Ph,ChannelThumbnailWithLink:()=>p0,ChannelVideoPlayer:()=>d0,Chapter:()=>Lh,ChildVideo:()=>f0,ChipBarView:()=>m0,ChipCloud:()=>Yo,ChipCloudChip:()=>Ye,ChipView:()=>Oh,ClipAdState:()=>lh,ClipCreation:()=>ch,ClipCreationScrubber:()=>uh,ClipCreationTextInput:()=>ah,ClipSection:()=>ph,CollaboratorInfoCardContent:()=>h0,CollageHeroImage:()=>_0,CollectionThumbnailView:()=>Wh,Comment:()=>Go,CommentActionButtons:()=>Ao,CommentDialog:()=>cb,CommentReplies:()=>Qh,CommentReplyDialog:()=>Uo,CommentSimplebox:()=>i_,CommentThread:()=>o_,CommentView:()=>_i,CommentsEntryPointHeader:()=>t_,CommentsEntryPointTeaser:()=>e_,CommentsHeader:()=>hi,CommentsSimplebox:()=>Zh,CompactChannel:()=>pb,CompactLink:()=>zo,CompactMix:()=>db,CompactMovie:()=>fb,CompactPlaylist:()=>mb,CompactStation:()=>hb,CompactVideo:()=>Lo,ConfirmDialog:()=>_b,ContentMetadataView:()=>qo,ContentPreviewImageView:()=>Do,ContinuationItem:()=>pe,ConversationBar:()=>vb,CopyLink:()=>n_,CreatePlaylistDialog:()=>Am,CreatorHeart:()=>oh,CtaGoToCreatorStudio:()=>e0,DataModelSection:()=>qm,DecoratedAvatarView:()=>r_,DecoratedPlayerBar:()=>l_,DefaultPromoPanel:()=>xb,DescriptionPreviewView:()=>c_,DidYouMean:()=>gb,DimChatItemAction:()=>Gb,DislikeButtonView:()=>p_,DownloadButton:()=>d_,Dropdown:()=>oi,DropdownItem:()=>Rm,DynamicTextView:()=>f_,Element:()=>Xo,EmergencyOnebox:()=>yb,EmojiPicker:()=>Xh,EmojiPickerCategory:()=>bb,EmojiPickerCategoryButton:()=>wb,EmojiPickerUpsellCategory:()=>Tb,EndScreenPlaylist:()=>__,EndScreenVideo:()=>v_,Endscreen:()=>h_,EndscreenElement:()=>kb,EngagementPanelSectionList:()=>ci,EngagementPanelTitleHeader:()=>dh,EomSettingsDisclaimer:()=>Ib,ExpandableMetadata:()=>gh,ExpandableTab:()=>Qo,ExpandableVideoDescriptionBody:()=>_h,ExpandedShelfContents:()=>Sb,Factoid:()=>li,FancyDismissibleDialog:()=>Cb,FeedFilterChipBar:()=>Ut,FeedNudge:()=>Eb,FeedTabbedHeader:()=>x_,FlexibleActionsView:()=>g_,GameCard:()=>vh,GameDetails:()=>Nb,Grid:()=>Pb,GridChannel:()=>y_,GridHeader:()=>Rb,GridMix:()=>Ab,GridMovie:()=>Vb,GridPlaylist:()=>b_,GridShow:()=>Mb,GridVideo:()=>k_,GuideCollapsibleEntry:()=>Bb,GuideCollapsibleSectionEntry:()=>Db,GuideDownloadsEntry:()=>Lb,GuideEntry:()=>io,GuideSection:()=>Zo,GuideSubscriptionsSection:()=>I_,HashtagHeader:()=>S_,HashtagTile:()=>Ob,HeatMarker:()=>s_,Heatmap:()=>a_,HeroPlaylistThumbnail:()=>Fb,HighlightsCarousel:()=>jb,HistorySuggestion:()=>Yb,HorizontalCardList:()=>ai,HorizontalList:()=>xh,HorizontalMovieList:()=>Ub,IconLink:()=>E_,ImageBannerView:()=>N_,IncludingResultsFor:()=>Wb,InfoPanelContainer:()=>R_,InfoPanelContent:()=>P_,InfoRow:()=>Ih,InteractiveTabbedHeader:()=>A_,ItemSection:()=>tt,ItemSectionHeader:()=>en,ItemSectionTab:()=>V_,ItemSectionTabbedHeader:()=>tn,KidsBlocklistPicker:()=>d1,KidsBlocklistPickerItem:()=>Zv,KidsCategoriesHeader:()=>f1,KidsCategoryTab:()=>ex,KidsHomeScreen:()=>m1,LikeButton:()=>B_,LikeButtonView:()=>D_,LiveChat:()=>L_,LiveChatActionPanel:()=>U_,LiveChatAuthorBadge:()=>vw,LiveChatAutoModMessage:()=>zb,LiveChatBanner:()=>F_,LiveChatBannerHeader:()=>O_,LiveChatBannerPoll:()=>$b,LiveChatDialog:()=>xw,LiveChatHeader:()=>$_,LiveChatItemList:()=>K_,LiveChatMembershipItem:()=>Kb,LiveChatMessageInput:()=>gw,LiveChatPaidMessage:()=>qb,LiveChatPaidSticker:()=>Xb,LiveChatParticipant:()=>q_,LiveChatParticipantsList:()=>X_,LiveChatPlaceholderItem:()=>Qb,LiveChatProductItem:()=>Zb,LiveChatRestrictedParticipation:()=>ew,LiveChatTextMessage:()=>tw,LiveChatTickerPaidMessageItem:()=>Y_,LiveChatTickerPaidStickerItem:()=>iw,LiveChatTickerSponsorItem:()=>ow,LiveChatViewerEngagementMessage:()=>nw,LockupMetadataView:()=>Q_,LockupView:()=>Z_,MacroMarkersInfoItem:()=>fh,MacroMarkersList:()=>mh,MacroMarkersListItem:()=>Mo,MarkChatItemAsDeletedAction:()=>sw,MarkChatItemsByAuthorAsDeletedAction:()=>aw,Menu:()=>F,MenuNavigationItem:()=>ev,MenuPopup:()=>yw,MenuServiceItem:()=>gi,MenuServiceItemDownload:()=>bw,MerchandiseItem:()=>kw,MerchandiseShelf:()=>nv,Message:()=>vi,MetadataBadge:()=>Ge,MetadataRow:()=>Iw,MetadataRowContainer:()=>rv,MetadataRowHeader:()=>Sw,MetadataScreen:()=>Cw,MicroformatData:()=>yi,Mix:()=>Ew,ModalWithTitleAndButton:()=>Nw,Movie:()=>Pw,MovingThumbnail:()=>Rw,MultiMarkersPlayerBar:()=>u_,MultiPageMenu:()=>ww,MultiPageMenuNotificationSection:()=>Tw,MusicCardShelf:()=>Aw,MusicCardShelfHeaderBasic:()=>sv,MusicCarouselShelf:()=>Uw,MusicCarouselShelfBasicHeader:()=>av,MusicDescriptionShelf:()=>fv,MusicDetailHeader:()=>Ww,MusicDownloadStateBadge:()=>Jw,MusicEditablePlaylistDetailHeader:()=>Hw,MusicElementHeader:()=>Gw,MusicHeader:()=>zw,MusicImmersiveHeader:()=>$w,MusicInlineBadge:()=>nn,MusicItemThumbnailOverlay:()=>St,MusicLargeCardItemCarousel:()=>Kw,MusicMenuItemDivider:()=>tv,MusicMultiRowListItem:()=>uv,MusicMultiSelectMenu:()=>iv,MusicMultiSelectMenuItem:()=>on,MusicNavigationButton:()=>lv,MusicPlayButton:()=>rn,MusicPlaylistEditHeader:()=>qw,MusicPlaylistShelf:()=>Xw,MusicQueue:()=>_v,MusicResponsiveHeader:()=>Qw,MusicResponsiveListItem:()=>bi,MusicResponsiveListItemFixedColumn:()=>cv,MusicResponsiveListItemFlexColumn:()=>pv,MusicShelf:()=>Zw,MusicSideAlignedItem:()=>eT,MusicSortFilterButton:()=>tT,MusicTastebuilderShelf:()=>iT,MusicTastebuilderShelfThumbnail:()=>vv,MusicThumbnail:()=>Re,MusicTwoRowItem:()=>dv,MusicVisualHeader:()=>oT,NavigationEndpoint:()=>v,Notification:()=>xv,OpenPopupAction:()=>Vm,PageHeader:()=>Ct,PageHeaderView:()=>gv,PageIntroduction:()=>yv,PdgCommentChip:()=>Gh,PivotButton:()=>bv,PlayerAnnotationsExpanded:()=>wv,PlayerCaptionsTracklist:()=>Tv,PlayerControlsOverlay:()=>nT,PlayerErrorMessage:()=>rT,PlayerLegacyDesktopYpcOffer:()=>sT,PlayerLegacyDesktopYpcTrailer:()=>Jp,PlayerLiveStoryboardSpec:()=>Sv,PlayerMicroformat:()=>ot,PlayerOverflow:()=>kv,PlayerOverlay:()=>Nv,PlayerOverlayAutoplay:()=>Cv,PlayerStoryboardSpec:()=>Hi,Playlist:()=>It,PlaylistCustomThumbnail:()=>$o,PlaylistHeader:()=>Pv,PlaylistInfoCardContent:()=>aT,PlaylistMetadata:()=>Rv,PlaylistPanel:()=>hv,PlaylistPanelVideo:()=>Wt,PlaylistPanelVideoWrapper:()=>mv,PlaylistSidebar:()=>uT,PlaylistSidebarPrimaryInfo:()=>Av,PlaylistSidebarSecondaryInfo:()=>Vv,PlaylistVideo:()=>an,PlaylistVideoList:()=>lT,PlaylistVideoThumbnail:()=>Ko,Poll:()=>cT,PollHeader:()=>rw,Post:()=>Mv,PostMultiImage:()=>pT,ProductList:()=>hh,ProductListHeader:()=>dT,ProductListItem:()=>fT,ProfileColumn:()=>mT,ProfileColumnStats:()=>hT,ProfileColumnStatsEntry:()=>_T,ProfileColumnUserInfo:()=>vT,Quiz:()=>xT,RecognitionShelf:()=>gT,ReelItem:()=>un,ReelPlayerHeader:()=>Bv,ReelPlayerOverlay:()=>yT,ReelShelf:()=>Fo,RelatedChipCloud:()=>Dv,RemoveBannerForLiveChatCommand:()=>uw,RemoveChatItemAction:()=>lw,RemoveChatItemByAuthorAction:()=>cw,ReplaceChatItemAction:()=>pw,ReplayChatItemAction:()=>dw,RichGrid:()=>wi,RichItem:()=>bT,RichListHeader:()=>wT,RichMetadata:()=>Td,RichMetadataRow:()=>Id,RichSection:()=>TT,RichShelf:()=>Lv,SearchBox:()=>kT,SearchFilter:()=>Ov,SearchFilterGroup:()=>ln,SearchFilterOptionsDialog:()=>IT,SearchHeader:()=>Fv,SearchRefinementCard:()=>qi,SearchSubMenu:()=>jv,SearchSuggestion:()=>C_,SearchSuggestionsSection:()=>ST,SecondarySearchContainer:()=>CT,SectionList:()=>be,SegmentedLikeDislikeButton:()=>ro,SegmentedLikeDislikeButtonView:()=>so,SettingBoolean:()=>ET,SettingsCheckbox:()=>Yv,SettingsOptions:()=>pn,SettingsSidebar:()=>Uv,SettingsSwitch:()=>cn,SharedPost:()=>Wv,Shelf:()=>dn,ShowCustomThumbnail:()=>w_,ShowLiveChatActionPanelAction:()=>fw,ShowLiveChatDialogAction:()=>mw,ShowLiveChatTooltipCommand:()=>hw,ShowingResultsFor:()=>NT,SimpleCardContent:()=>PT,SimpleCardTeaser:()=>RT,SimpleMenuHeader:()=>ov,SimpleTextSection:()=>AT,SingleActionEmergencySupport:()=>VT,SingleColumnBrowseResults:()=>Jv,SingleColumnMusicWatchNextResults:()=>MT,SingleHeroImage:()=>BT,SlimOwner:()=>DT,SlimVideoMetadata:()=>LT,SortFilterHeader:()=>M_,SortFilterSubMenu:()=>_t,SponsorCommentBadge:()=>zh,StatRow:()=>t0,StructuredDescriptionContent:()=>Qi,StructuredDescriptionPlaylistLockup:()=>Ch,SubFeedOption:()=>Hv,SubFeedSelector:()=>OT,SubscribeButton:()=>Ce,SubscriptionNotificationToggleButton:()=>Rh,Tab:()=>Ae,Tabbed:()=>FT,TabbedSearchResults:()=>jT,TextHeader:()=>YT,ThumbnailBadgeView:()=>jh,ThumbnailHoverOverlayView:()=>Fh,ThumbnailLandscapePortrait:()=>UT,ThumbnailOverlayBadgeView:()=>Yh,ThumbnailOverlayBottomPanel:()=>T_,ThumbnailOverlayEndorsement:()=>WT,ThumbnailOverlayHoverText:()=>JT,ThumbnailOverlayInlineUnplayable:()=>HT,ThumbnailOverlayLoadingPreview:()=>GT,ThumbnailOverlayNowPlaying:()=>zT,ThumbnailOverlayPinking:()=>$T,ThumbnailOverlayPlaybackStatus:()=>KT,ThumbnailOverlayResumePlayback:()=>qT,ThumbnailOverlaySidePanel:()=>XT,ThumbnailOverlayTimeStatus:()=>Xi,ThumbnailOverlayToggleButton:()=>QT,ThumbnailView:()=>Uh,TimedMarkerDecoration:()=>ZT,TitleAndButtonListHeader:()=>e1,ToggleButton:()=>ye,ToggleButtonView:()=>xi,ToggleMenuServiceItem:()=>t1,Tooltip:()=>i1,TopicChannelDetails:()=>o1,Transcript:()=>Po,TranscriptFooter:()=>Wm,TranscriptSearchBox:()=>Jm,TranscriptSearchPanel:()=>$m,TranscriptSectionHeader:()=>Hm,TranscriptSegment:()=>Gm,TranscriptSegmentList:()=>zm,TwoColumnBrowseResults:()=>Et,TwoColumnSearchResults:()=>Gv,TwoColumnWatchNextResults:()=>$v,UniversalWatchCard:()=>Kv,UpdateDateTextAction:()=>W_,UpdateDescriptionAction:()=>J_,UpdateEngagementPanelAction:()=>Ky,UpdateLiveChatPollAction:()=>_w,UpdateTitleAction:()=>H_,UpdateToggleButtonTextAction:()=>G_,UpdateViewershipAction:()=>z_,UploadTimeFactoid:()=>bh,UpsellDialog:()=>n1,VerticalList:()=>r1,VerticalWatchCardList:()=>s1,Video:()=>Bo,VideoAttributeView:()=>ui,VideoAttributesSectionView:()=>Nh,VideoCard:()=>yh,VideoDescriptionCourseSection:()=>Eh,VideoDescriptionHeader:()=>Th,VideoDescriptionInfocardsSection:()=>kh,VideoDescriptionMusicSection:()=>Oo,VideoDescriptionTranscriptSection:()=>sa,VideoInfoCardContent:()=>a1,VideoOwner:()=>fn,VideoPrimaryInfo:()=>qv,VideoSecondaryInfo:()=>Bf,ViewCountFactoid:()=>wh,WatchCardCompactVideo:()=>Xv,WatchCardHeroVideo:()=>u1,WatchCardRichHeader:()=>l1,WatchCardSectionSequence:()=>c1,WatchNextEndScreen:()=>Ev,WatchNextTabbedResults:()=>p1,YpcTrailer:()=>Iv});var Ji,Cm=class{constructor(e,i){Ji.set(this,void 0),N(this,Ji,new W.shim.Cache(e,i),"f")}get cache_dir(){return f(this,Ji,"f").cache_dir}get(e){return f(this,Ji,"f").get(e)}set(e,i){return f(this,Ji,"f").set(e,i)}remove(e){return f(this,Ji,"f").remove(e)}};n(Cm,"UniversalCache");Ji=new WeakMap;var $k=Cm;var No,Em=class extends EventTarget{constructor(){super(),No.set(this,new Map)}emit(e,...i){let o=new W.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(r=>{r instanceof W.shim.CustomEvent?i(...r.detail):i(r)},"wrapper");f(this,No,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(r=>{r instanceof W.shim.CustomEvent?i(...r.detail):i(r),this.off(e,i)},"wrapper");f(this,No,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=f(this,No,"f").get(i);o&&(this.removeEventListener(e,o),f(this,No,"f").delete(i))}};n(Em,"EventEmitterLike");No=new WeakMap;var Sr=Em;var Gi={};xe(Gi,{chooseFormat:()=>zy,download:()=>yI,toDash:()=>Gy});var Kk={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function Dy(t){return t.replace(/([&"<>'])/g,(e,i)=>Kk[i])}n(Dy,"escapeXMLString");function qk(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}n(qk,"normalizeTag");function se(t,e,...i){let o=i.flat().map(r=>typeof r=="string"?Xk(r):r);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:o})):{type:qk(t),props:Object.assign(Object.assign({},e),{children:o})}}n(se,"createElement");function Xk(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}n(Xk,"createTextElement");function Ly(t){return k(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return Dy(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(o=>!["children","nodeValue"].includes(o)&&t.props[o]!==void 0).map(o=>`${o}="${Dy(`${t.props[o]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(o=>!!o).map(o=>Ly(o)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}n(Ly,"renderElementToString");function Oy(t){return k(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield Ly(yield t)}`})}n(Oy,"renderToString");function Fy(t){return t.children}n(Fy,"Fragment");var Cr=class extends s{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((r,a)=>{let[c,p,d,h,_,x,y,w]=r.split("#");o.searchParams.set("sigh",w);let I=Math.ceil(parseInt(d,10)/(parseInt(h,10)*parseInt(_,10)));return{type:"vod",template_url:o.toString().replace("$L",a).replace("$N",y),thumbnail_width:parseInt(c,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(d,10),interval:parseInt(x,10),columns:parseInt(h,10),rows:parseInt(_,10),storyboard_count:I}})}};n(Cr,"PlayerStoryboardSpec");Cr.type="PlayerStoryboardSpec";var Hi=Cr;var Zk="StreamingInfo";function eI(t,e){var i,o,r;let a=new Map,c=t.some(p=>!!p.audio_track);for(let p of t){if((!p.index_range||!p.init_range)&&!p.is_type_otf&&!e)continue;let d=p.mime_type.split(";")[0],h=(i=je(p.mime_type,'codecs="','"'))===null||i===void 0?void 0:i.split(".")[0],_=p.color_info?Object.values(p.color_info).join("-"):"",x=((o=p.audio_track)===null||o===void 0?void 0:o.id)||"",y=p.is_drc?"drc":"",w=`${d}-${h}-${_}-${x}-${y}`;a.has(w)||a.set(w,[]),(r=a.get(w))===null||r===void 0||r.push(p)}return{groups:Array.from(a.values()),has_multiple_audio_tracks:c}}n(eI,"getFormatGroupings");function Yy(t,e){if(t.length>1&&new Set(t.map(i=>je(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),je(t[0].mime_type,'codecs="','"')}n(Yy,"hoistCodecsIfPossible");function Uy(t,e,i){if(t.length>1&&new Set(t.map(o=>o.fps)).size===1)return i.push(e),Number(t[0][e])}n(Uy,"hoistNumberAttributeIfPossible");function tI(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}n(tI,"hoistAudioChannelsIfPossible");function iI(t,e){return k(this,void 0,void 0,function*(){var i;let o=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:jt,redirect:"follow"}),r=o.url.replace("&rn=0","").replace("&sq=0",""),a=yield o.text(),c=(i=je(a,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!c)throw new b("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let d of c){let h=d.trim();if(h.length===0)continue;let _,x=je(h,"(r=",")");x&&(_=parseInt(x)),p.push({duration:parseInt(h),repeat_count:_})}return{init_url:`${r}&sq=0`,media_url:`${r}&sq=$Number$`,timeline:p}})}n(iI,"getOTFSegmentTemplate");function Wy(t,e){return k(this,void 0,void 0,function*(){let i=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:jt,redirect:"follow"}),o=parseInt(i.headers.get("X-Head-Time-Millis")||""),r=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(o)||isNaN(r))throw new b("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:o/1e3,segment_count:r}})}n(Wy,"getPostLiveDvrInfo");function oI(t,e,i,o,r,a){return k(this,void 0,void 0,function*(){if(!t.item){let c=new URL(e.decipher(r));c.searchParams.set("cpn",a||"");let p=i(c).toString();t.item=yield Wy(p,o)}return t.item.duration})}n(oI,"getPostLiveDvrDuration");function Jy(t,e,i,o,r,a){let c=new URL(t.decipher(o));c.searchParams.set("cpn",r||"");let p=e(c).toString();if(t.is_type_otf){if(!i)throw new b("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return iI(p,i)}}}if(a){if(!i)throw new b("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let h=t.target_duration_dec;if(typeof h!="number")throw new b("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,getSegmentTemplate(){return k(this,void 0,void 0,function*(){return a.item||(a.item=yield Wy(p,i)),{media_url:`${p}&sq=$Number$`,timeline:[{duration:h*1e3,repeat_count:a.item.segment_count}]}})}}}if(!t.index_range||!t.init_range)throw new b("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:p,index_range:t.index_range,init_range:t.init_range}}n(Jy,"getSegmentInfo");function nI(t,e,i,o,r,a,c){new URL(t.decipher(r)).searchParams.set("cpn",a||"");let d=[t.itag.toString()];return t.audio_track&&d.push(t.audio_track.id),t.is_drc&&d.push("drc"),{uid:d.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:je(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:Jy(t,i,o,r,a,c)}}n(nI,"getAudioRepresentation");function rI(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return t.is_dubbed&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}n(rI,"getTrackRoles");function sI(t,e,i,o,r,a,c){var p;let d=t[0],{audio_track:h}=d,_=[],x=!!c,y;return h?x&&d.is_drc?y=c.label_drc_mutiple(h.display_name):y=h.display_name:x&&(y=d.is_drc?c.label_drc:c.label_original),{mime_type:d.mime_type.split(";")[0],language:(p=d.language)!==null&&p!==void 0?p:void 0,codecs:Yy(t,_),audio_sample_rate:Uy(t,"audio_sample_rate",_),track_name:y,track_roles:rI(d,x),channels:tI(t,_),representations:t.map(I=>nI(I,_,e,i,o,r,a))}}n(sI,"getAudioSet");var aI={BT709:"1",BT2020:"9"},jy={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},uI={BT709:"1",BT2020_NCL:"14"};function lI(t){var e;let i=t.color_info,o,r,a;if(i){if(i.primaries&&(o=aI[i.primaries]),i.transfer_characteristics&&(r=jy[i.transfer_characteristics]),i.matrix_coefficients&&(a=uI[i.matrix_coefficients],!a)){let p=new URL(t.url),d=JSON.parse(JSON.stringify(t));d.url="REDACTED",d.signature_cipher="REDACTED",d.cipher="REDACTED",Y.warn(Zk,`Unknown matrix coefficients "${i.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${W.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${p.searchParams.get("c")}
format:`,d)}}else!((e=je(t.mime_type,'codecs="','"'))===null||e===void 0)&&e.startsWith("avc1")&&(r=jy.BT709);return{primaries:o,transfer_characteristics:r,matrix_coefficients:a}}n(lI,"getColorInfo");function cI(t,e,i,o,r,a,c){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:je(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:Jy(t,e,r,o,a,c)}}n(cI,"getVideoRepresentation");function pI(t,e,i,o,r,a){let c=t[0],p=lI(c),d=[];return{mime_type:c.mime_type.split(";")[0],color_info:p,codecs:Yy(t,d),fps:Uy(t,"fps",d),representations:t.map(_=>cI(_,e,d,i,o,r,a))}}n(pI,"getVideoSet");function dI(t){var e;let i=new Map,o=t.is(Hi)?t.boards:[t.board];for(let r of o){let a=new URL(r.template_url).pathname.split(".").pop(),c=`image/${a==="jpg"?"jpeg":a}`;i.has(c)||i.set(c,[]),(e=i.get(c))===null||e===void 0||e.push(r)}return i}n(dI,"getStoryboardInfo");function fI(t,e,i,o,r){return k(this,void 0,void 0,function*(){let a=e.template_url,c=i(new URL(a.replace("$M","0"))),p=r.response?r.response:t.session.http.fetch_function(c,{method:"HEAD",headers:jt});return r.response=p,(yield p).headers.get("Content-Type")||o})}n(fI,"getStoryboardMimeType");function mI(t,e,i){return k(this,void 0,void 0,function*(){let o=e.template_url,r=[],a=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let h=0;h<a;h++){let _=new URL(o.replace("$M",h.toString())),x=h===0&&i.response?i.response:t.session.http.fetch_function(_,{method:"HEAD",headers:jt});h===0&&(i.response=x),r.push(x)}let c=yield Promise.all(r),p=[];for(let h of c)p.push(parseInt(h.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}n(mI,"getStoryboardBitrate");function hI(t,e,i,o,r){let a=i.template_url,c=new URL(a.replace("$M","$Number$")),p;return i.type==="vod"?p=t/i.storyboard_count:p=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return mI(e,i,r)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(p),template_url:o(c).toString(),getURL(h){return c.toString().replace("$Number$",h.toString())}}}n(hI,"getImageRepresentation");function _I(t,e,i,o){let r=dI(i),a={};return Array.from(r.entries()).map(([c,p])=>({probable_mime_type:c,getMimeType(){return fI(e,p[0],o,c,a)},representations:p.map(d=>hI(t,e,d,o,a))}))}n(_I,"getImageSets");function vI(t,e,i){let o=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(r=>{let a=new URL(r.base_url);a.searchParams.set("fmt",e);let c=["caption"];return a.searchParams.has("tlang")&&c.push("dub"),{mime_type:o,language:r.language_code,track_name:r.name.toString(),track_roles:c,representation:{uid:`text-${r.vss_id}`,base_url:i(a).toString()}}})}n(vI,"getTextSets");function Nm(t,e=!1,i=_=>_,o,r,a,c,p,d,h){if(!t)throw new b("Streaming data not available");let _=o?t.adaptive_formats.filter(J=>!o(J)):t.adaptive_formats,x,y;if(e){if(y={},!c)throw new b("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");x=n(()=>y?oI(y,_[0],i,c,a,r):Promise.resolve(0),"getDuration")}else{let J=_[0].approx_duration_ms/1e3;x=n(()=>Promise.resolve(J),"getDuration")}let{groups:w,has_multiple_audio_tracks:I}=eI(_,e),{video_groups:S,audio_groups:E}=w.reduce((J,le)=>le[0].has_audio?(I&&!le[0].audio_track||J.audio_groups.push(le),J):(J.video_groups.push(le),J),{video_groups:[],audio_groups:[]}),V;E.flat().some(J=>J.is_drc)&&(V={label_original:(h==null?void 0:h.label_original)||"Original",label_drc:(h==null?void 0:h.label_drc)||"Stable Volume",label_drc_mutiple:(h==null?void 0:h.label_drc_mutiple)||(J=>`${J} (Stable Volume)`)});let B=E.map(J=>sI(J,i,c,a,r,y,V)),U=S.map(J=>pI(J,i,a,c,r,y)),X=[];if(p&&c){let J;if(p.is(Hi))J=_[0].approx_duration_ms/1e3;else{let le=_[0].target_duration_dec;if(typeof le!="number")throw new b("Format is missing target_duration_dec",{format:_[0]});J=le}X=_I(J,c,p,i)}let ae=[];if(d&&(h==null?void 0:h.captions_format)){if(h.captions_format!=="vtt"&&h.captions_format!=="ttml")throw new b("Invalid captions format",h.captions_format);ae=vI(d,h.captions_format,i)}return{getDuration:x,audio_sets:B,video_sets:U,image_sets:X,text_sets:ae}}n(Nm,"getStreamingInfo");function xI(t){return k(this,arguments,void 0,function*({info:e}){if(!e.is_oft&&!e.is_post_live_dvr)return null;let i=yield e.getSegmentTemplate();return se("segment-template",{startNumber:i.init_url?"1":"0",timescale:"1000",initialization:i.init_url,media:i.media_url},se("segment-timeline",null,i.timeline.map(o=>se("s",{d:o.duration,r:o.repeat_count}))))})}n(xI,"OTFPostLiveDvrSegmentInfo");function Hy({info:t}){return t.is_oft||t.is_post_live_dvr?se(xI,{info:t}):se(Fy,null,se("base-url",null,t.base_url),se("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},se("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}n(Hy,"SegmentInfo");function gI(t){return k(this,arguments,void 0,function*({streamingData:e,isPostLiveDvr:i,transformURL:o,rejectFormat:r,cpn:a,player:c,actions:p,storyboards:d,captionTracks:h,options:_}){let{getDuration:x,audio_sets:y,video_sets:w,image_sets:I,text_sets:S}=Nm(e,i,o,r,a,c,p,d,h,_);return se("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${yield x()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},se("period",null,y.map((E,V)=>se("adaptation-set",{id:V,mimeType:E.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:E.language,codecs:E.codecs,audioSamplingRate:E.audio_sample_rate,contentType:"audio"},E.track_roles&&E.track_roles.map(B=>se("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:B})),E.track_name&&se("label",{id:V},E.track_name),E.channels&&se("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:E.channels}),E.representations.map(B=>se("representation",{id:B.uid,bandwidth:B.bitrate,codecs:B.codecs,audioSamplingRate:B.audio_sample_rate},B.channels&&se("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:B.channels}),se(Hy,{info:B.segment_info}))))),w.map((E,V)=>se("adaptation-set",{id:V+y.length,mimeType:E.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:E.codecs,maxPlayoutRate:"1",frameRate:E.fps,contentType:"video"},E.color_info.primaries&&se("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:E.color_info.primaries}),E.color_info.transfer_characteristics&&se("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:E.color_info.transfer_characteristics}),E.color_info.matrix_coefficients&&se("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:E.color_info.matrix_coefficients}),E.representations.map(B=>se("representation",{id:B.uid,bandwidth:B.bitrate,width:B.width,height:B.height,codecs:B.codecs,frameRate:B.fps},se(Hy,{info:B.segment_info}))))),I.map((E,V)=>k(this,void 0,void 0,function*(){return se("adaptation-set",{id:V+y.length+w.length,mimeType:yield E.getMimeType(),contentType:"image"},E.representations.map(B=>k(this,void 0,void 0,function*(){return se("representation",{id:`thumbnails_${B.thumbnail_width}x${B.thumbnail_height}`,bandwidth:yield B.getBitrate(),width:B.sheet_width,height:B.sheet_height},se("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${B.columns}x${B.rows}`}),se("segment-template",{media:B.template_url,duration:B.template_duration,startNumber:"0"}))})))})),S.map((E,V)=>se("adaptation-set",{id:V+y.length+w.length+I.length,mimeType:E.mime_type,lang:E.language,contentType:"text"},E.track_roles.map(B=>se("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:B})),se("label",{id:V+y.length},E.track_name),se("representation",{id:E.representation.uid,bandwidth:"0"},se("base-url",null,E.representation.base_url))))))})}n(gI,"DashManifest");function Gy(t,e=!1,i=_=>_,o,r,a,c,p,d,h){if(!t)throw new b("Streaming data not available");return Oy(se(gI,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:h,rejectFormat:o,cpn:r,player:a,actions:c,storyboards:p,captionTracks:d}))}n(Gy,"toDash");function yI(t,e,i,o,r,a){return k(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new b("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new b("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!o)throw new b("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let c=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=zy(c,o),d=p.decipher(r);if(c.type==="video+audio"&&!t.range){let S=yield e.session.http.fetch_function(`${d}&cpn=${a}`,{method:"GET",headers:jt,redirect:"follow"});if(!S.ok)throw new b("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:S});let E=S.body;if(!E)throw new b("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:S});return E}let h=1048576*10,_=t.range?t.range.start:0,x=t.range?t.range.end:h,y=!1,w;return new W.shim.ReadableStream({start(){},pull:S=>k(this,void 0,void 0,function*(){if(y){S.close();return}return(x>=(p.content_length?p.content_length:0)||t.range)&&(y=!0),new Promise((E,V)=>k(this,void 0,void 0,function*(){var B,U,X,ae;try{w=new AbortController;let H=yield e.session.http.fetch_function(`${d}&cpn=${a}&range=${_}-${x||""}`,{method:"GET",headers:Object.assign({},jt),signal:w.signal});if(!H.ok)throw new b("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:H});let A=H.body;if(!A)throw new b("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:H});try{for(var de=!0,J=Vy(Zx(A)),le;le=yield J.next(),B=le.done,!B;de=!0){ae=le.value,de=!1;let q=ae;S.enqueue(q)}}catch(q){U={error:q}}finally{try{!de&&!B&&(X=J.return)&&(yield X.call(J))}finally{if(U)throw U.error}}_=x+1,x+=h,E()}catch(H){V(H)}}))}),cancel(S){return k(this,void 0,void 0,function*(){w.abort(S)})}},{highWaterMark:1,size(S){return S.byteLength}})})}n(yI,"download");function zy(t,e){if(!e)throw new b("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],o=t.type?t.type.includes("audio"):!0,r=t.type?t.type.includes("video"):!0,a=t.language||"original",c=t.quality||"best",p=-1,d=["best","bestefficiency"].includes(c),h=c!=="best",_=i.filter(x=>o&&!x.has_audio||r&&!x.has_video||t.format!=="any"&&!x.mime_type.includes(t.format||"mp4")||!d&&x.quality_label!==c?!1:(x.width&&p<x.width&&(p=x.width),!0));if(!_.length)throw new b("No matching formats found",{options:t});if(d&&r&&(_=_.filter(x=>x.width===p)),o&&!r){let x=_.filter(y=>a!=="original"?!y.has_video&&!y.has_text&&y.language===a:!y.has_video&&!y.has_text&&y.is_original);x.length>0&&(_=x)}return h?_.sort((x,y)=>x.bitrate-y.bitrate):_.sort((x,y)=>y.bitrate-x.bitrate),_[0]}n(zy,"chooseFormat");var eg,ii,tg,Er,$y,Pm=class{constructor(e,i,o){eg.add(this),ii.set(this,void 0),tg.set(this,void 0),Er.set(this,void 0),N(this,ii,e,"f"),N(this,tg,i,"f"),N(this,Er,o||W.shim.fetch,"f")}get fetch_function(){return f(this,Er,"f")}fetch(e,i){return k(this,void 0,void 0,function*(){let o=et.API.PRODUCTION_1+f(this,ii,"f").api_version,r=(i==null?void 0:i.baseURL)||o,a=typeof e=="string"?!r.endsWith("/")&&!e.startsWith("/")?new URL(`${r}/${e}`):new URL(r+e):e instanceof URL?e:new URL(e.url,r),c=(i==null?void 0:i.headers)||(e instanceof W.shim.Request?e.headers:new W.shim.Headers)||new W.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof W.shim.Request?e.body:void 0),d=new W.shim.Headers(c);d.set("Accept","*/*"),d.set("Accept-Language","*"),d.set("X-Goog-Visitor-Id",f(this,ii,"f").context.client.visitorData||""),d.set("X-Youtube-Client-Version",f(this,ii,"f").context.client.clientVersion||"");let h=Object.values(re).find(S=>S.NAME===f(this,ii,"f").context.client.clientName);h&&d.set("X-Youtube-Client-Name",h.NAME_ID),W.shim.server&&(d.set("User-Agent",zi("desktop")),d.set("Origin",a.origin)),a.searchParams.set("prettyPrint","false"),a.searchParams.set("alt","json");let _=d.get("Content-Type"),x=p,y=r===o||r===et.YT_UPLOAD;if(_==="application/json"&&y&&typeof p=="string"){let S=JSON.parse(p),E=Object.assign(Object.assign({},S),{context:JSON.parse(JSON.stringify(f(this,ii,"f").context))});f(this,eg,"m",$y).call(this,E.context,E.client),d.set("X-Youtube-Client-Version",E.context.client.clientVersion);let V=Object.values(re).find(B=>B.NAME===E.context.client.clientName);V&&d.set("X-Youtube-Client-Name",V.NAME_ID),delete E.client,E.context.client.clientName==="ANDROID"||E.context.client.clientName==="ANDROID_MUSIC"?(d.set("User-Agent",re.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2")):E.context.client.clientName==="iOS"&&d.set("User-Agent",re.IOS.USER_AGENT),x=JSON.stringify(E)}else _==="application/x-protobuf"&&W.shim.server&&(d.set("User-Agent",re.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2"),d.delete("X-Youtube-Client-Version"));let w=new W.shim.Request(a,e instanceof W.shim.Request?e:i),I=yield f(this,Er,"f").call(this,w,Object.assign({body:x,headers:d,redirect:e instanceof W.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"},W.shim.runtime!=="cf-worker"?{credentials:"include"}:{}));if(I.ok)return I;throw new b(`Request to ${I.url} failed with status ${I.status}`,yield I.text())})}};n(Pm,"HTTPClient");ii=new WeakMap,tg=new WeakMap,Er=new WeakMap,eg=new WeakSet,$y=n(function(e,i){if(!!i){if(!Sm.includes(i.toUpperCase()))throw new b(`Invalid client: ${i}`,{available_innertube_clients:Sm});switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=re.ANDROID.SDK_VERSION,e.client.userAgent=re.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i.toUpperCase()){case"IOS":e.client.deviceMake="Apple",e.client.deviceModel=re.IOS.DEVICE_MODEL,e.client.clientVersion=re.IOS.VERSION,e.client.clientName=re.IOS.NAME,e.client.platform="MOBILE",e.client.osName="iOS",delete e.client.browserName,delete e.client.browserVersion;break;case"YTMUSIC":e.client.clientVersion=re.YTMUSIC.VERSION,e.client.clientName=re.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=re.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=re.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=re.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=re.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=re.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=re.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=re.TV_EMBEDDED.NAME,e.client.clientVersion=re.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:et.YT_BASE};break;case"YTKIDS":e.client.clientVersion=re.WEB_KIDS.VERSION,e.client.clientName=re.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}}},"_HTTPClient_adjustContext");var ig=Pm;var ht={};xe(ht,{compress:()=>bI,decompress:()=>wI});function bI(t){let e=[],i={};for(let a=0;a<256;a++)i[String.fromCharCode(a)]=a;let o="",r=256;for(let a=0;a<t.length;a++){let c=t[a],p=o+c;i.hasOwnProperty(p)?o=p:(e.push(i[o]),i[p]=r++,o=c)}return o!==""&&e.push(i[o]),e.map(a=>String.fromCharCode(a)).join("")}n(bI,"compress");function wI(t){let e={},i=t.split(""),o=[i.shift()],r=i.length>>>0,a=256,c=o[0],p=c;for(let d=0;d<r;++d){let h=i[d].charCodeAt(0),_=h<256?i[d]:e[h]?e[h]:p+c;o.push(_),c=_.charAt(0),e[a++]=p+c,p=_}return o.join("")}n(wI,"decompress");var Nr=class{constructor(e){this.buffer=e,this.offset=0}readVarInt(){let e=this.buffer[this.offset],i=this.varintSize(e),o=0,r=0;if(i!==5){r=8-i;let a=(1<<r)-1;o|=e&a}for(let a=1;a<i;a++)o|=this.buffer[this.offset+a]<<r,r+=8;return this.offset+=i,o}varintSize(e){let i=0;for(let o=7;o>=4&&e&1<<o;o--)i++;return Math.min(i+1,5)}parse(){let e=[];for(;this.offset<this.buffer.length;){let i=this.readVarInt(),o=this.readVarInt(),r=this.buffer.slice(this.offset,this.offset+o);this.offset+=o,e.push({type:i,size:o,data:r})}return e}};n(Nr,"UMP");var Pr=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(Pr,"Button");Pr.type="Button";var T=Pr;var Rr=class extends s{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new v(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};n(Rr,"DropdownItem");Rr.type="DropdownItem";var Rm=Rr;var Ar=class extends s{constructor(e){super(),this.label=e.label||"",this.entries=l.parseArray(e.entries,Rm)}};n(Ar,"Dropdown");Ar.type="Dropdown";var oi=Ar;var Vr=class extends s{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=l.parseItem(e.privacyOption,oi),this.create_button=l.parseItem(e.cancelButton,T),this.cancel_button=l.parseItem(e.cancelButton,T)}};n(Vr,"CreatePlaylistDialog");Vr.type="CreatePlaylistDialog";var Am=Vr;var Mr=class extends s{constructor(e){super(),this.popup=l.parseItem(e.popup),this.popup_type=e.popupType}};n(Mr,"OpenPopupAction");Mr.type="OpenPopupAction";var Vm=Mr;var $i=class extends s{constructor(e){var i,o,r,a,c,p,d,h;super(),e&&(e.innertubeCommand||e.command)&&(e=e.innertubeCommand||e.command),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new Vm(e.openPopupAction));let _=Object.keys(e||{}).find(x=>x.endsWith("Endpoint")||x.endsWith("Command"));this.payload=_?Reflect.get(e,_):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=l.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=l.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new $i(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((a=(r=e==null?void 0:e.commandMetadata)===null||r===void 0?void 0:r.webCommandMetadata)===null||a===void 0)&&a.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(c=e==null?void 0:e.commandMetadata)===null||c===void 0?void 0:c.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):_&&(this.metadata.api_url=this.getEndpoint(_)),!((h=(d=e==null?void 0:e.commandMetadata)===null||d===void 0?void 0:d.webCommandMetadata)===null||h===void 0)&&h.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=l.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Am))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n($i,"NavigationEndpoint");$i.type="NavigationEndpoint";var v=$i;var g=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(o=>new g(o)).sort((o,r)=>r.width-o.width):[]}};n(g,"Thumbnail");var ni=class{constructor(e){var i,o,r,a,c,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((r=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||r===void 0?void 0:r[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((a=e.emoji)===null||a===void 0?void 0:a.shortcuts)||[],search_terms:((c=e.emoji)===null||c===void 0?void 0:c.searchTerms)||[],image:g.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=Mm(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(ni,"EmojiRun");var ri=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=Mm(this.text),r=`<span style="white-space: pre-wrap;">${e.map(a=>`<${a}>`).join("")+i+e.map(a=>`</${a}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:a}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let c=this.endpoint.toURL();if(c)return`<a href="${c}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${a}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${r}</a>`}}if(this.endpoint){let a=this.endpoint.toURL();if(a)return`<a href="${a}">${r}</a>`}return r}};n(ri,"TextRun");function Mm(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(Mm,"escape");var Br="Text",u=class{constructor(e){var i,o,r,a;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(c=>c.emoji?new ni(c):new ri(c)),this.text=this.runs.map(c=>c.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new v(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(a=(r=this.runs)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.endpoint)}static fromAttributed(e){var i,o,r;let{content:a,styleRuns:c,commandRuns:p,attachmentRuns:d}=e,h=[{text:a,startIndex:0}];if(c||p||d){if(c)for(let _ of c)if(_.italic||_.strikethrough==="LINE_STYLE_SINGLE"||_.weightLabel==="FONT_WEIGHT_MEDIUM"||_.weightLabel==="FONT_WEIGHT_BOLD"){let x=ng(h,_);if(!x){Y.warn(Br,"Unable to find matching run for style run. Skipping...",{style_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}Bm(h,x,_,{bold:_.weightLabel==="FONT_WEIGHT_MEDIUM"||_.weightLabel==="FONT_WEIGHT_BOLD",italics:_.italic,strikethrough:_.strikethrough==="LINE_STYLE_SINGLE"})}else Y.debug(Br,"Skipping style run as it is doesn't have any information that we parse.",{style_run:_,input_data:e});if(p)for(let _ of p)if(_.onTap){let x=ng(h,_);if(!x){Y.warn(Br,"Unable to find matching run for command run. Skipping...",{command_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}Bm(h,x,_,{navigationEndpoint:_.onTap})}else Y.debug(Br,'Skipping command run as it is missing the "doTap" property.',{command_run:_,input_data:e});if(d)for(let _ of d){let x=ng(h,_);if(!x){Y.warn(Br,"Unable to find matching run for attachment run. Skipping...",{attachment_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}if(_.length===0)x.attachment=_;else{let y=_.startIndex-x.startIndex,w=x.text.substring(y,y+_.length),I=/^:[^:]+:$/.test(w);if(((r=(o=(i=_.element)===null||i===void 0?void 0:i.type)===null||o===void 0?void 0:o.imageType)===null||r===void 0?void 0:r.image)&&(I||new RegExp("^(?:\\p{Emoji}|\\u200d)+$","u").test(w))){let S={image:_.element.type.imageType.image,isCustomEmoji:I,shortcuts:I?[w]:void 0};Bm(h,x,_,{emoji:S})}else Bm(h,x,_,{attachment:_})}}}return new u({runs:h})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(u,"Text");function ng(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}n(ng,"findMatchingRun");function Bm(t,e,i,o){let r=t.indexOf(e),a=[],c=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&a.push(Object.assign(Object.assign({},e),{text:e.text.substring(0,c)})),a.push(Object.assign(Object.assign(Object.assign({},e),{text:e.text.substring(c,c+i.length),startIndex:i.startIndex}),o)),i.startIndex+i.length<e.startIndex+e.text.length&&a.push(Object.assign(Object.assign({},e),{text:e.text.substring(c+i.length),startIndex:i.startIndex+i.length})),t.splice(r,1,...a)}n(Bm,"insertSubRun");var Dr=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=g.fromResponse(e.favicon)}};n(Dr,"ChannelExternalLinkView");Dr.type="ChannelExternalLinkView";var Dm=Dr;var Lr=class extends s{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new v(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=l.parseArray(e.links,Dm):this.links=[]}};n(Lr,"AboutChannelView");Lr.type="AboutChannelView";var Lm=Lr;var Or=class extends s{constructor(e){super(),this.metadata=l.parseItem(e.metadata,Lm),this.share_channel=l.parseItem(e.shareChannel,T)}};n(Or,"AboutChannel");Or.type="AboutChannel";var Om=Or;var Fr=class extends s{constructor(e){super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint)}};n(Fr,"AccountChannel");Fr.type="AccountChannel";var Fm=Fr;var jr=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(jr,"AccountItemSectionHeader");jr.type="AccountItemSectionHeader";var jm=jr;var Yr=class extends s{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=g.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new v(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};n(Yr,"AccountItem");Yr.type="AccountItem";var Ur=class extends s{constructor(e){super(),this.contents=Q(e.contents.map(i=>new Yr(i.accountItem))),this.header=l.parseItem(e.header,jm)}};n(Ur,"AccountItemSection");Ur.type="AccountItemSection";var Ym=Ur;var Wr=class extends s{constructor(e){super(),this.contents=l.parseItem(e.contents[0],Ym),this.footers=l.parseItem(e.footers[0],Fm)}};n(Wr,"AccountSectionList");Wr.type="AccountSectionList";var Um=Wr;var Jr=class extends s{constructor(e){super(),this.contents=l.parseArray(e.continuationItems),this.target=e.target}};n(Jr,"AppendContinuationItemsAction");Jr.type="AppendContinuationItemsAction";var Ki=Jr;var Hr=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,r;return{title:i.title,selected:i.selected,continuation:(r=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||r===void 0?void 0:r.continuation,endpoint:new v(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(Hr,"SortFilterSubMenu");Hr.type="SortFilterSubMenu";var _t=Hr;var Gr=class extends s{constructor(e){super(),this.language_menu=l.parseItem(e.languageMenu,_t)}};n(Gr,"TranscriptFooter");Gr.type="TranscriptFooter";var Wm=Gr;var zr=class extends s{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=l.parseItem(e.clearButton,T),this.endpoint=new v(e.onTextChangeCommand),this.search_button=l.parseItem(e.searchButton,T)}};n(zr,"TranscriptSearchBox");zr.type="TranscriptSearchBox";var Jm=zr;var $r=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};n($r,"TranscriptSectionHeader");$r.type="TranscriptSectionHeader";var Hm=$r;var Kr=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};n(Kr,"TranscriptSegment");Kr.type="TranscriptSegment";var Gm=Kr;var qr=class extends s{constructor(e){super(),this.initial_segments=l.parseArray(e.initialSegments,[Gm,Hm]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};n(qr,"TranscriptSegmentList");qr.type="TranscriptSegmentList";var zm=qr;var Xr=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,Jm),this.body=l.parseItem(e.body,zm),this.footer=l.parseItem(e.footer,Wm),this.target_id=e.targetId}};n(Xr,"TranscriptSearchPanel");Xr.type="TranscriptSearchPanel";var $m=Xr;var Qr=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,$m)}};n(Qr,"Transcript");Qr.type="Transcript";var Po=Qr;var Zr=class extends s{constructor(e){super(),this.target_id=e.targetId,this.content=l.parseItem(e.content,Po)}};n(Zr,"UpdateEngagementPanelAction");Zr.type="UpdateEngagementPanelAction";var Ky=Zr;var es=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};n(es,"Alert");es.type="Alert";var Ro=es;var ts=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=l.parseItem(e.dismissButton,T)}};n(ts,"AlertWithButton");ts.type="AlertWithButton";var Km=ts;var is=class extends s{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(is,"DataModelSection");is.type="DataModelSection";var qm=is;var os=class extends s{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new qm(o))}};n(os,"AnalyticsMainAppKeyMetrics");os.type="AnalyticsMainAppKeyMetrics";var qy=os;var ns=class extends s{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(r=>({label:r.label,display_value:r.displayValue,display_value_a11y:r.displayValueA11y,bar_ratio:r.barRatio,bar_color:r.barColor,bar_opacity:r.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(ns,"AnalyticsRoot");ns.type="AnalyticsRoot";var Xy=ns;var rs=class extends s{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new v(i.videoEndpoint)}))}};n(rs,"AnalyticsShortsCarouselCard");rs.type="AnalyticsShortsCarouselCard";var Qy=rs;var ss=class extends s{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:g.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(ss,"AnalyticsVideo");ss.type="AnalyticsVideo";var Xm=ss;var as=class extends s{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new Xm(i)))}};n(as,"AnalyticsVodCarouselCard");as.type="AnalyticsVodCarouselCard";var Zy=as;var us=class extends s{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(us,"CtaGoToCreatorStudio");us.type="CtaGoToCreatorStudio";var e0=us;var ls=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};n(ls,"StatRow");ls.type="StatRow";var t0=ls;var cs=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.suffix=u.fromAttributed(e.suffix)}};n(cs,"AttributionView");cs.type="AttributionView";var Qm=cs;var ps=class extends s{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n(ps,"AudioOnlyPlayability");ps.type="AudioOnlyPlayability";var Zm=ps;var ds=class extends s{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new v(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(ds,"AutomixPreviewVideo");ds.type="AutomixPreviewVideo";var eh=ds;var fs=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}},this.avatar_image_size=e.avatarImageSize}};n(fs,"AvatarView");fs.type="AvatarView";var th=fs;var ms=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.endpoint=new v(e.command)}};n(ms,"BackstageImage");ms.type="BackstageImage";var ih=ms;var hs=class extends s{constructor(e){var i,o,r,a,c,p,d,h,_;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let x=((a=(r=(o=e==null?void 0:e.defaultText)===null||o===void 0?void 0:o.accessibility)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label)||((p=(c=e==null?void 0:e.accessibilityData)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label)||((d=e==null?void 0:e.accessibility)===null||d===void 0?void 0:d.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(x.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((_=(h=e.defaultServiceEndpoint)===null||h===void 0?void 0:h.commandExecutorCommand)===null||_===void 0)&&_.commands?new v(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(hs,"ToggleButton");hs.type="ToggleButton";var ye=hs;var _s=class extends s{constructor(e){var i,o;super(),this.creator_thumbnail=g.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n(_s,"CreatorHeart");_s.type="CreatorHeart";var oh=_s;var vs=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,ye),this.dislike_button=l.parseItem(e.dislikeButton,ye),this.reply_button=l.parseItem(e.replyButton,T),this.creator_heart=l.parseItem(e.creatorHeart,oh)}};n(vs,"CommentActionButtons");vs.type="CommentActionButtons";var Ao=vs;var xs=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.top_level_buttons=l.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(xs,"Menu");xs.type="Menu";var F=xs;var gs=class extends s{constructor(e){super(),this.id=e.postId,this.author=new D(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=l.parseItem(e.actionMenu,F)),Reflect.has(e,"actionButtons")&&(this.action_buttons=l.parseItem(e.actionButtons,Ao)),Reflect.has(e,"voteButton")&&(this.vote_button=l.parseItem(e.voteButton,T)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=l.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(gs,"BackstagePost");gs.type="BackstagePost";var si=gs;var ys=class extends s{constructor(e){super(),this.post=l.parseItem(e.post)}};n(ys,"BackstagePostThread");ys.type="BackstagePostThread";var i0=ys;var bs=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(bs,"BrowseFeedActions");bs.type="BrowseFeedActions";var nh=bs;var ws=class extends s{constructor(e){super(),this.album=new u(e.album),this.thumbnails=g.fromResponse(e.thumbnailDetails)}};n(ws,"BrowserMediaSession");ws.type="BrowserMediaSession";var o0=ws;var Ts=class extends s{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.button_type=e.type,this.button_size=e.buttonSize,this.on_tap=new v(e.onTap)}};n(Ts,"ButtonView");Ts.type="ButtonView";var kt=Ts;var Vo=class extends s{constructor(e){super(),this.endpoint=new v(e.navigationEndpoint),this.icon=g.fromResponse(e.icon),this.title=new u(e.title)}};n(Vo,"HeaderLink");Vo.type="HeaderLink";var ks=class extends s{constructor(e){var i,o;super(),this.primary=Q(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>new Vo(r)))||[]),this.secondary=Q(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(r=>new Vo(r)))||[])}};n(ks,"ChannelHeaderLinks");ks.type="ChannelHeaderLinks";var rh=ks;var Is=class extends s{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};n(Is,"ChannelHeaderLinksView");Is.type="ChannelHeaderLinksView";var sh=Is;var Ss=class extends s{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};n(Ss,"ClipCreationTextInput");Ss.type="ClipCreationTextInput";var ah=Ss;var Cs=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(o=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label,this.end_label=(a=(r=e.endAccessibility)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label,this.duration_label=(p=(c=e.durationAccessibility)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label}};n(Cs,"ClipCreationScrubber");Cs.type="ClipCreationScrubber";var uh=Cs;var Es=class extends s{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};n(Es,"ClipAdState");Es.type="ClipAdState";var lh=Es;var Ns=class extends s{constructor(e){super(),this.user_avatar=g.fromResponse(e.userAvatar),this.title_input=l.parseItem(e.titleInput,[ah]),this.scrubber=l.parseItem(e.scrubber,[uh]),this.save_button=l.parseItem(e.saveButton,[T]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=l.parseItem(e.cancelButton,[T]),this.ad_state_overlay=l.parseItem(e.adStateOverlay,[lh]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};n(Ns,"ClipCreation");Ns.type="ClipCreation";var ch=Ns;var Ps=class extends s{constructor(e){super(),this.contents=l.parse(e.contents,!0,[ch])}};n(Ps,"ClipSection");Ps.type="ClipSection";var ph=Ps;var Rs=class extends s{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,T)),this.endpoint=new v(e.continuationEndpoint)}};n(Rs,"ContinuationItem");Rs.type="ContinuationItem";var pe=Rs;var As=class extends s{constructor(e){super(),this.title=new u(e.title),this.visibility_button=l.parseItem(e.visibilityButton,T)}};n(As,"EngagementPanelTitleHeader");As.type="EngagementPanelTitleHeader";var dh=As;var Vs=class extends s{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=l.parseItem(e.menu,F)}};n(Vs,"MacroMarkersInfoItem");Vs.type="MacroMarkersInfoItem";var fh=Vs;var Ms=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=g.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(Ms,"MacroMarkersListItem");Ms.type="MacroMarkersListItem";var Mo=Ms;var Bs=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,[fh,Mo]),this.sync_button_label=new u(e.syncButtonLabel)}};n(Bs,"MacroMarkersList");Bs.type="MacroMarkersList";var mh=Bs;var Ds=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Ds,"ProductList");Ds.type="ProductList";var hh=Ds;var Ls=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=l.parseItem(e.subMenu))}};n(Ls,"SectionList");Ls.type="SectionList";var be=Ls;var Os=class extends s{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};n(Os,"ExpandableVideoDescriptionBody");Os.type="ExpandableVideoDescriptionBody";var _h=Os;var Fs=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.endpoint=new v(e.searchEndpoint),this.query=new u(e.query).toString()}};n(Fs,"SearchRefinementCard");Fs.type="SearchRefinementCard";var qi=Fs;var js=class extends s{constructor(e){super(),this.game=l.parseItem(e.game)}};n(js,"GameCard");js.type="GameCard";var vh=js;var Ys=class extends s{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=l.parseArray(e.items)}get contents(){return this.items}};n(Ys,"HorizontalList");Ys.type="HorizontalList";var xh=Ys;var Us=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:g.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=l.parseItem(e.expandedContent,[ai,xh]),this.expand_button=l.parseItem(e.expandButton,T),this.collapse_button=l.parseItem(e.collapseButton,T)}};n(Us,"ExpandableMetadata");Us.type="ExpandableMetadata";var gh=Us;var Ws=class extends s{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(Ws,"MetadataBadge");Ws.type="MetadataBadge";var Ge=Ws;var Js=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};n(Js,"ThumbnailOverlayTimeStatus");Js.type="ThumbnailOverlayTimeStatus";var Xi=Js;var Hs=class extends s{constructor(e){var i,o,r;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(c=>({text:new u(c.snippetText),hover_text:new u(c.snippetHoverText)}))),this.expandable_metadata=l.parseItem(e.expandableMetadata,gh),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.author=new D(e.ownerText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.badges=l.parseArray(e.badges,Ge),this.endpoint=new v(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:Se(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=l.parseItem(e.menu,F),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Xi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(Hs,"Video");Hs.type="Video";var Bo=Hs;var Gs=class extends Bo{constructor(e){super(e)}};n(Gs,"VideoCard");Gs.type="VideoCard";var yh=Gs;var zs=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.style=e.style}};n(zs,"ContentPreviewImageView");zs.type="ContentPreviewImageView";var Do=zs;var $s=class extends s{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image=g.fromResponse(e.image):this.image=l.parseItem(e.image,Do),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new v(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};n($s,"VideoAttributeView");$s.type="VideoAttributeView";var ui=$s;var Ks=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards,[ui,qi,Mo,vh,yh]),this.header=l.parseItem(e.header),this.previous_button=l.parseItem(e.previousButton,T),this.next_button=l.parseItem(e.nextButton,T)}};n(Ks,"HorizontalCardList");Ks.type="HorizontalCardList";var ai=Ks;var qs=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};n(qs,"Factoid");qs.type="Factoid";var li=qs;var Xs=class extends s{constructor(e){super(),this.factoid=l.parseItem(e.factoid,li)}};n(Xs,"UploadTimeFactoid");Xs.type="UploadTimeFactoid";var bh=Xs;var Qs=class extends s{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=l.parseItem(e.factoid,[li]),this.view_count_type=e.viewCountType}};n(Qs,"ViewCountFactoid");Qs.type="ViewCountFactoid";var wh=Qs;var Zs=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new v(e.channelNavigationEndpoint),this.channel_thumbnail=g.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=l.parseArray(e.factoid,[li,wh,bh])}};n(Zs,"VideoDescriptionHeader");Zs.type="VideoDescriptionHeader";var Th=Zs;var ea=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=l.parseItem(e.creatorVideosButton,T),this.creator_about_button=l.parseItem(e.creatorAboutButton,T),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=g.fromResponse(e.channelAvatar),this.channel_endpoint=new v(e.channelEndpoint)}};n(ea,"VideoDescriptionInfocardsSection");ea.type="VideoDescriptionInfocardsSection";var kh=ea;var ta=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};n(ta,"InfoRow");ta.type="InfoRow";var Ih=ta;var ia=class extends s{constructor(e){super(),this.id=e.videoId,this.thumbnails=g.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.title=new u(e.title),this.author=new D(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=l.parseArray(e.badges,Ge),this.duration={text:new u(e.lengthText).toString(),seconds:Se(new u(e.lengthText).toString())},this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.endpoint=new v(e.navigationEndpoint),this.menu=l.parseItem(e.menu,F)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(ia,"CompactVideo");ia.type="CompactVideo";var Lo=ia;var oa=class extends s{constructor(e){super(),this.info_rows=l.parseArray(e.infoRows,Ih),this.video_lockup=l.parseItem(e.videoLockup,Lo)}};n(oa,"CarouselLockup");oa.type="CarouselLockup";var Sh=oa;var na=class extends s{constructor(e){super(),this.carousel_lockups=l.parseArray(e.carouselLockups,Sh),this.section_title=new u(e.sectionTitle)}};n(na,"VideoDescriptionMusicSection");na.type="VideoDescriptionMusicSection";var Oo=na;var ra=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=l.parseItem(e.primaryButton,T)}};n(ra,"VideoDescriptionTranscriptSection");ra.type="VideoDescriptionTranscriptSection";var sa=ra;var aa=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};n(aa,"StructuredDescriptionPlaylistLockup");aa.type="StructuredDescriptionPlaylistLockup";var Ch=aa;var ua=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=l.parseArray(e.mediaLockups,[Ch])}};n(ua,"VideoDescriptionCourseSection");ua.type="VideoDescriptionCourseSection";var Eh=ua;var la=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}get contents(){return this.items}};n(la,"ReelShelf");la.type="ReelShelf";var Fo=la;var ca=class extends s{constructor(e){super(),this.header_title=e.headerTitle,this.header_subtitle=e.headerSubtitle,this.video_attributes=l.parseArray(e.videoAttributeViewModels,ui),this.previous_button=l.parseItem(e.previousButton,kt),this.next_button=l.parseItem(e.nextButton,kt)}};n(ca,"VideoAttributesSectionView");ca.type="VideoAttributesSectionView";var Nh=ca;var pa=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[Th,_h,Oo,kh,Eh,sa,sa,ai,Fo,Nh])}};n(pa,"StructuredDescriptionContent");pa.type="StructuredDescriptionContent";var Qi=pa;var da=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,dh),this.content=l.parseItem(e.content,[ui,be,pe,ph,Qi,mh,hh]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};n(da,"EngagementPanelSectionList");da.type="EngagementPanelSectionList";var ci=da;var fa=class extends s{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:l.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,ci),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new v(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};n(fa,"ChannelTagline");fa.type="ChannelTagline";var Ph=fa;var ma=class extends s{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:l.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(ma,"SubscriptionNotificationToggleButton");ma.type="SubscriptionNotificationToggleButton";var Rh=ma;var ha=class extends s{constructor(e){var i,o;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=l.parseItem(e.notificationPreferenceButton,Rh),this.endpoint=new v(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(ha,"SubscribeButton");ha.type="SubscribeButton";var Ce=ha;var _a=class extends s{constructor(e){super(),this.author=new D({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=g.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=g.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=g.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=l.parseItem(e.sponsorButton,T)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=l.parseItem(e.subscribeButton,[Ce,T])),Reflect.has(e,"headerLinks")&&(this.header_links=l.parseItem(e.headerLinks,[rh,sh])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=l.parseItem(e.tagline,Ph))}};n(_a,"C4TabbedHeader");_a.type="C4TabbedHeader";var jo=_a;var va=class extends s{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(va,"CallToActionButton");va.type="CallToActionButton";var n0=va;var xa=class extends s{constructor(e){super(),this.teaser=l.parseItem(e.teaser),this.content=l.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(xa,"Card");xa.type="Card";var r0=xa;var ga=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(ga,"CardCollection");ga.type="CardCollection";var Ah=ga;var ya=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(ya,"CarouselHeader");ya.type="CarouselHeader";var Vh=ya;var ba=class extends s{constructor(e){super(),this.items=l.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=g.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(ba,"CarouselItem");ba.type="CarouselItem";var s0=ba;var pi=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new D(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,[Ce,T]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return Y.warnOnce(pi.type,"Channel#subscribers is deprecated. Please use Channel#subscriber_count instead."),this.subscriber_count}get videos(){return Y.warnOnce(pi.type,"Channel#videos is deprecated. Please use Channel#video_count instead."),this.video_count}};n(pi,"Channel");pi.type="Channel";var Mh=pi;var di=class extends s{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=g.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>({endpoint:new v(r.navigationEndpoint),icon:g.fromResponse(r.icon),title:new u(r.title)})))!==null&&o!==void 0?o:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new v(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=l.parseArray(e.actionButtons,T)}get views(){return Y.warnOnce(di.type,"ChannelAboutFullMetadata#views is deprecated. Please use ChannelAboutFullMetadata#view_count instead."),this.view_count}get joined(){return Y.warnOnce(di.type,"ChannelAboutFullMetadata#joined is deprecated. Please use ChannelAboutFullMetadata#joined_date instead."),this.joined_date}};n(di,"ChannelAboutFullMetadata");di.type="ChannelAboutFullMetadata";var wa=di;var Ta=class extends s{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=g.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=l.parseItem(e.signInButton,T),this.secondary_text=new u(e.secondaryText)}};n(Ta,"ChannelAgeGate");Ta.type="ChannelAgeGate";var a0=Ta;var ka=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items)}};n(ka,"ChannelFeaturedContent");ka.type="ChannelFeaturedContent";var u0=ka;var Ia=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=g.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(Ia,"ChannelMetadata");Ia.type="ChannelMetadata";var Bh=Ia;var Sa=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Sa,"ChannelMobileHeader");Sa.type="ChannelMobileHeader";var l0=Sa;var Ca=class extends s{constructor(e){super(),this.avatar=g.fromResponse(e.avatar),this.endpoint=new v(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};n(Ca,"ChannelOptions");Ca.type="ChannelOptions";var Dh=Ca;var Ea=class extends s{constructor(e){super(),this.illustration=g.fromResponse(e.illustration),this.description=new u(e.description)}};n(Ea,"ChannelOwnerEmptyState");Ea.type="ChannelOwnerEmptyState";var c0=Ea;var Na=class extends s{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new v(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=l.parseItem(e.sortSetting)}};n(Na,"ChannelSubMenu");Na.type="ChannelSubMenu";var Pa=Na;var Ra=class extends s{constructor(e){var i,o;super(),this.thumbnails=g.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(Ra,"ChannelThumbnailWithLink");Ra.type="ChannelThumbnailWithLink";var p0=Ra;var fi=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return Y.warnOnce(fi.type,"ChannelVideoPlayer#views is deprecated. Please use ChannelVideoPlayer#view_count instead."),this.view_count}get published(){return Y.warnOnce(fi.type,"ChannelVideoPlayer#published is deprecated. Please use ChannelVideoPlayer#published_time instead."),this.published_time}};n(fi,"ChannelVideoPlayer");fi.type="ChannelVideoPlayer";var d0=fi;var Aa=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=g.fromResponse(e.thumbnail)}};n(Aa,"Chapter");Aa.type="Chapter";var Lh=Aa;var Va=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:Se(e.lengthText.simpleText)},this.endpoint=new v(e.navigationEndpoint)}};n(Va,"ChildVideo");Va.type="ChildVideo";var f0=Va;var Ma=class extends s{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new v(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};n(Ma,"ChipView");Ma.type="ChipView";var Oh=Ma;var Ba=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Oh)}};n(Ba,"ChipBarView");Ba.type="ChipBarView";var m0=Ba;var Da=class extends s{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.text=new u(e.text).toString()}};n(Da,"ChipCloudChip");Da.type="ChipCloudChip";var Ye=Da;var La=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Ye),this.next_button=l.parseItem(e.nextButton,T),this.previous_button=l.parseItem(e.previousButton,T),this.horizontal_scrollable=e.horizontalScrollable}};n(La,"ChipCloud");La.type="ChipCloud";var Yo=La;var Oa=class extends s{constructor(e){super(),this.channel_avatar=g.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.endpoint)}};n(Oa,"CollaboratorInfoCardContent");Oa.type="CollaboratorInfoCardContent";var h0=Oa;var Fa=class extends s{constructor(e){super(),this.left=g.fromResponse(e.leftThumbnail),this.top_right=g.fromResponse(e.topRightThumbnail),this.bottom_right=g.fromResponse(e.bottomRightThumbnail),this.endpoint=new v(e.navigationEndpoint)}};n(Fa,"CollageHeroImage");Fa.type="CollageHeroImage";var _0=Fa;var ja=class extends s{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=u.fromAttributed(e.text),this.style=e.style}};n(ja,"ThumbnailHoverOverlayView");ja.type="ThumbnailHoverOverlayView";var Fh=ja;var Ya=class extends s{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=e.text,this.badge_style=e.badgeStyle,e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};n(Ya,"ThumbnailBadgeView");Ya.type="ThumbnailBadgeView";var jh=Ya;var Ua=class extends s{constructor(e){super(),this.badges=l.parseArray(e.thumbnailBadges,jh),this.position=e.position}};n(Ua,"ThumbnailOverlayBadgeView");Ua.type="ThumbnailOverlayBadgeView";var Yh=Ua;var Wa=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.overlays=l.parseArray(e.overlays,[Yh,Fh]),e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};n(Wa,"ThumbnailView");Wa.type="ThumbnailView";var Uh=Wa;var Ja=class extends s{constructor(e){super(),this.primary_thumbnail=l.parseItem(e.primaryThumbnail,Uh),e.stackColor&&(this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme})}};n(Ja,"CollectionThumbnailView");Ja.type="CollectionThumbnailView";var Wh=Ja;var Jh,Ha=class extends s{constructor(e){super(),Jh.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),N(this,Jh,e,"f")}get orig_badge(){return f(this,Jh,"f")}};n(Ha,"AuthorCommentBadge");Jh=new WeakMap;Ha.type="AuthorCommentBadge";var Hh=Ha;var Ga=class extends s{constructor(e){super(),this.reply_button=l.parseItem(e.replyButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.author_thumbnail=g.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};n(Ga,"CommentReplyDialog");Ga.type="CommentReplyDialog";var Uo=Ga;var za=class extends s{constructor(e){var i,o;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(za,"PdgCommentChip");za.type="PdgCommentChip";var Gh=za;var $a=class extends s{constructor(e){super(),this.custom_badge=g.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n($a,"SponsorCommentBadge");$a.type="SponsorCommentBadge";var zh=$a;var mi={};xe(mi,{decodeVisitorData:()=>fg,encodeChannelAnalyticsParams:()=>KI,encodeCommentActionParams:()=>Ka,encodeCommentParams:()=>ZI,encodeCommentsSectionParams:()=>QI,encodeCustomThumbnailPayload:()=>iS,encodeHashtag:()=>oS,encodeMessageParams:()=>mg,encodeMusicSearchFilters:()=>XI,encodeNotificationPref:()=>eS,encodeReelSequence:()=>hg,encodeSearchFilters:()=>qI,encodeShortsParam:()=>nS,encodeVideoMetadataPayload:()=>tS,encodeVisitorData:()=>dg});var P;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(P||(P={}));var j=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+Kh(rg(this),$h).toString(!1);let r=[],a=new j(i,o);for(;II(a,TI);){let[c,p]=kI(a);r.push(p),a=c}return r.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new j(0);if(e.length<10)return i<0?Kh(rg(new j(-i)),$h):new j(i);let r=new j,a=$h;for(let c of e.split("").reverse())parseInt(c)&&(r=Kh(r,v0(new j(parseInt(c)),a))),a=v0(a,new j(10));return o?Kh(rg(r),$h):r}};n(j,"Long");var TI=new j(0),$h=new j(1);function qh(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(qh,"makeChunk");function Kh(t,e){let[i,o,r,a]=qh(t),[c,p,d,h]=qh(e),_=0,x=0,y=0,w=0;return w+=i+c,y+=w>>>16,w&=65535,y+=o+p,x+=y>>>16,y&=65535,x+=r+d,_+=x>>>16,x&=65535,_+=a+h,_&=65535,new j(y<<16|w,_<<16|x)}n(Kh,"add");function v0(t,e){let[i,o,r,a]=qh(t),[c,p,d,h]=qh(e),_=0,x=0,y=0,w=0;return w+=i*c,y+=w>>>16,w&=65535,y+=i*p+o*c,x+=y>>>16,y&=65535,x+=i*d+r*c+o*p,_+=x>>>16,x&=65535,_+=i*h+o*d+r*p+a*c,_&=65535,new j(y<<16|w,_<<16|x)}n(v0,"mul");function kI(t){let[e,i]=t;return[new j((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n(kI,"divByTen");function II(t,e){let[i,o]=t,[r,a]=e;return o!==a?o-a:i-r}n(II,"compare");function rg(t){let[e,i]=t;return new j(~e,~i)}n(rg,"negate");function Wo(t){let e=[],r=typeof t=="number"?new j(t):t;for(;r[0]||r[1];){let[a,c]=r,p=a&127,d=c>>>7,h=a>>>7|(c&127)<<32-7;r=new j(h,d);let _=r[0]||r[1]?p|128:p;e.push(_)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(Wo,"encode");function Jo(t){let e=new j(0),i=0;for(;;){let o=t.getUint8(i);if(e=SI(e,CI(new j(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(Jo,"decode");function SI(t,e){return new j(t[0]|e[0],t[1]|e[1])}n(SI,"or");function CI(t,e){return e===0?t:e>=32?new j(0,t[0]<<e-32):new j(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n(CI,"leftshift");function R(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(Wo(i<<3|o.type)),o.type){case P.Varint:e.push(Wo(o.value));break;case P.Fixed64:{let r=new Uint8Array(8),a=new DataView(r.buffer);a.setUint32(0,o.value[0],!0),a.setUint32(4,o.value[1],!0),e.push(r);break}case P.LengthDelimited:e.push(Wo(o.value.byteLength)),e.push(o.value);break;case P.Fixed32:{let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,o.value,!0),e.push(r);break}}}),sg(e)}n(R,"serialize");function sg(t){let e=t.reduce((o,r)=>o+r.byteLength,0),i=new Uint8Array(e);return t.reduce((o,r)=>(i.set(r,o),o+r.byteLength),0),i}n(sg,"concat");function ag(t){if(t instanceof j){let e=new j(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new j(4294967295,4294967295):new j;return new j(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(ag,"encode");function ug(t){if(t instanceof j){let e=new j(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new j(4294967295,4294967295):new j;return new j(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(ug,"decode");var lg={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>ug(t[0]),sint64:t=>ug(t).toString(!0),bool:t=>t[0]!==0},cg={int32:t=>new j(t),int64:t=>j.parse(t),uint32:t=>new j(t),uint64:t=>j.parse(t),sint32:t=>ag(new j(t)),sint64:t=>ag(j.parse(t)),bool:t=>new j(+t)},EI=Object.fromEntries(Object.entries(lg).map(([t,e])=>[t,i=>{if(i.type===P.Varint)return e(i.value)}])),NI=Object.fromEntries(Object.entries(cg).map(([t,e])=>[t,i=>({type:P.Varint,value:e(i)})])),G=Object.assign(Object.assign({},EI),{double:t=>t.type!==P.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==P.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===P.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===P.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===P.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===P.Fixed64)return t.value.toString(!0)},string:t=>t.type!==P.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===P.LengthDelimited)return t.value}}),C=Object.assign(Object.assign({},NI),{double:t=>{let e=new j;return new DataView(e.buffer).setFloat64(0,t,!0),{type:P.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:P.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:P.Fixed32,value:t>>>0}),fixed64:t=>({type:P.Fixed64,value:j.parse(t)}),sfixed32:t=>({type:P.Fixed32,value:t|0}),sfixed64:t=>({type:P.Fixed64,value:j.parse(t)}),string:t=>{let e=new TextEncoder;return{type:P.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:P.LengthDelimited,value:t})}),PI=Object.fromEntries(Object.keys(lg).map(t=>[t,function*(e){for(let i of e){let o=G[t](i);if(o!=null)yield o;else for(let r of MI(i))yield lg[t](r)}}])),oL=Object.assign(Object.assign({},PI),{*double(t){for(let e of t){let i=G.double(e);i!=null?yield i:yield*AI(e)}},*float(t){for(let e of t){let i=G.float(e);i!=null?yield i:yield*VI(e)}},*fixed32(t){for(let e of t){let i=G.fixed32(e);if(i!=null)yield i;else for(let o of x0(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=G.fixed64(e);if(i!=null)yield i;else for(let o of g0(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=G.sfixed32(e);if(i!=null)yield i;else for(let o of x0(e))yield o|0}},*sfixed64(t){for(let e of t){let i=G.sfixed64(e);if(i!=null)yield i;else for(let o of g0(e))yield o.toString(!0)}}}),RI=Object.fromEntries(Object.keys(cg).map(t=>[t,function(e){return{type:P.LengthDelimited,value:sg(e.map(i=>{let o=cg[t](i);return Wo(o)}))}}]));function Ho(t,e){return n(function(o){let r=new Uint8Array(o.length*t),a=new DataView(r.buffer);for(let c=0;c<o.length;++c)e(a,c*t,o[c]);return{type:P.LengthDelimited,value:r}},"pack")}n(Ho,"getFixedPackFn");var nL=Object.assign(Object.assign({},RI),{double:Ho(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:Ho(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:Ho(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:Ho(8,(t,e,i)=>{let o=j.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:Ho(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:Ho(8,(t,e,i)=>{let o=j.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*AI(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat64(i,!0);i+=4,yield r}}n(AI,"unpackDouble");function*VI(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat32(i,!0);i+=4,yield r}}n(VI,"unpackFloat");function*MI(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let r=Jo(new DataView(e.buffer,o+i));i+=r[0],yield r[1]}}n(MI,"unpackVarint");function*x0(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4,yield r}}n(x0,"unpackFixed32");function*g0(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4;let a=o.getUint32(i,!0);i+=4,yield new j(r,a)}}n(g0,"unpackFixed64");function z(t){let e=0,i=t.byteOffset,o=[],r=new DataView(t.buffer,i);for(;e<t.length;){let a=Jo(new DataView(t.buffer,i+e)),c=a[1][0];e+=a[0];let p=c&7,d=c>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case P.Varint:{let[x,y]=Jo(new DataView(t.buffer,i+e));o.push([d,{type:p,value:y}]),e+=x;break}case P.Fixed64:let h=r.getUint32(e,!0),_=r.getUint32(e+=4,!0);e+=4,o.push([d,{type:p,value:new j(h,_)}]);break;case P.LengthDelimited:{let[x,y]=Jo(new DataView(t.buffer,i+e));o.push([d,{type:p,value:t.subarray(e+=x,e+=y[0])}]);break}case P.StartGroup:case P.EndGroup:o.push([d,{type:p}]);break;case P.Fixed32:o.push([d,{type:p,value:r.getUint32(e,!0)}]),e+=4;break}}return o}n(z,"deserialize");function BI(){return{id:"",timestamp:0}}n(BI,"getDefaultValue");function y0(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,C.int32(i)])}return R(e)}n(y0,"encodeBinary");function b0(t){let e=BI(),i=z(t),o=new Map(i);e:{let r=o.get(1);if(r===void 0)break e;let a=G.string(r);if(a===void 0)break e;e.id=a}e:{let r=o.get(5);if(r===void 0)break e;let a=G.int32(r);if(a===void 0)break e;e.timestamp=a}return e}n(b0,"decodeBinary");function w0(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,C.string(i)])}return R(e)}n(w0,"encodeBinary");function T0(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:P.LengthDelimited,value:w0(i)}])}return R(e)}n(T0,"encodeBinary");function k0(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,C.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,C.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,C.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,C.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,C.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,C.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,C.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,C.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,C.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,C.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,C.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,C.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,C.int32(i)])}return R(e)}n(k0,"encodeBinary");function I0(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,C.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:P.LengthDelimited,value:k0(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,C.int32(i)])}return R(e)}n(I0,"encodeBinary");function S0(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,C.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,C.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,C.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,C.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,C.int32(i)])}return R(e)}n(S0,"encodeBinary");function C0(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:P.LengthDelimited,value:S0(i)}])}return R(e)}n(C0,"encodeBinary");function E0(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:P.LengthDelimited,value:C0(i)}])}return R(e)}n(E0,"encodeBinary");function N0(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return R(e)}n(N0,"encodeBinary");function P0(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:P.LengthDelimited,value:N0(i)}])}return R(e)}n(P0,"encodeBinary");function R0(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:P.LengthDelimited,value:P0(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,C.int32(i)])}return R(e)}n(R0,"encodeBinary");function A0(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return R(e)}n(A0,"encodeBinary");function V0(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,C.int32(i)])}return R(e)}n(V0,"encodeBinary");function M0(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:P.LengthDelimited,value:V0(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,C.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,C.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,C.int32(i)])}return R(e)}n(M0,"encodeBinary");function B0(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,C.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([16,C.string(i)])}return R(e)}n(B0,"encodeBinary");function D0(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,C.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:P.LengthDelimited,value:M0(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:P.LengthDelimited,value:B0(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,C.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,C.string(i)])}return R(e)}n(D0,"encodeBinary");function L0(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:P.LengthDelimited,value:A0(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,C.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:P.LengthDelimited,value:D0(i)}])}return R(e)}n(L0,"encodeBinary");function O0(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return R(e)}n(O0,"encodeBinary");function F0(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:P.LengthDelimited,value:O0(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,C.int32(i)])}return R(e)}n(F0,"encodeBinary");function j0(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}n(j0,"encodeBinary");function Y0(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:P.LengthDelimited,value:j0(i)}])}return R(e)}n(Y0,"encodeBinary");function U0(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:P.LengthDelimited,value:Y0(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,C.string(i)])}return R(e)}n(U0,"encodeBinary");function W0(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,C.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,C.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:P.LengthDelimited,value:U0(i)}])}return R(e)}n(W0,"encodeBinary");function J0(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return R(e)}n(J0,"encodeBinary");function H0(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:P.LengthDelimited,value:J0(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,C.int32(i)])}return R(e)}n(H0,"encodeBinary");function G0(t){let e=[];if(t.deviceMake!==void 0){let i=t.deviceMake;e.push([12,C.string(i)])}if(t.deviceModel!==void 0){let i=t.deviceModel;e.push([13,C.string(i)])}if(t.nameId!==void 0){let i=t.nameId;e.push([16,C.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,C.string(i)])}if(t.osName!==void 0){let i=t.osName;e.push([18,C.string(i)])}if(t.osVersion!==void 0){let i=t.osVersion;e.push([19,C.string(i)])}if(t.acceptLanguage!==void 0){let i=t.acceptLanguage;e.push([21,C.string(i)])}if(t.acceptRegion!==void 0){let i=t.acceptRegion;e.push([22,C.string(i)])}if(t.androidSdkVersion!==void 0){let i=t.androidSdkVersion;e.push([34,C.int32(i)])}if(t.windowWidthPoints!==void 0){let i=t.windowWidthPoints;e.push([37,C.int32(i)])}if(t.windowHeightPoints!==void 0){let i=t.windowHeightPoints;e.push([38,C.int32(i)])}return R(e)}n(G0,"encodeBinary");function z0(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:P.LengthDelimited,value:G0(i)}])}return R(e)}n(z0,"encodeBinary");function $0(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}n($0,"encodeBinary");function K0(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}n(K0,"encodeBinary");function q0(t){let e=[];for(let i of t.list)e.push([1,C.string(i)]);return R(e)}n(q0,"encodeBinary");function X0(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.int32(i)])}return R(e)}n(X0,"encodeBinary");function Q0(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.string(i)])}return R(e)}n(Q0,"encodeBinary");function Z0(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,C.bytes(i)])}return R(e)}n(Z0,"encodeBinary");function eb(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:P.LengthDelimited,value:Z0(i)}])}return R(e)}n(eb,"encodeBinary");function tb(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}return R(e)}n(tb,"encodeBinary");function ib(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return R(e)}n(ib,"encodeBinary");function ob(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return R(e)}n(ob,"encodeBinary");function pg(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:P.LengthDelimited,value:z0(i)}])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:P.LengthDelimited,value:$0(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:P.LengthDelimited,value:K0(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:P.LengthDelimited,value:q0(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:P.LengthDelimited,value:X0(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:P.LengthDelimited,value:Q0(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:P.LengthDelimited,value:eb(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:P.LengthDelimited,value:tb(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:P.LengthDelimited,value:ib(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:P.LengthDelimited,value:ob(i)}])}return R(e)}n(pg,"encodeBinary");function nb(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,C.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,C.int32(i)])}return R(e)}n(nb,"encodeBinary");function rb(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:P.LengthDelimited,value:nb(i)}])}return R(e)}n(rb,"encodeBinary");function sb(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,C.int32(i)])}return R(e)}n(sb,"encodeBinary");function ab(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:P.LengthDelimited,value:sb(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,C.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,C.int32(i)])}return R(e)}n(ab,"encodeBinary");function ub(t){let e=[];if(t.p1!==void 0){let i=t.p1;e.push([1,C.int32(i)])}return R(e)}n(ub,"encodeBinary");function lb(t){let e=[];if(t.f1!==void 0){let i=t.f1;e.push([1,{type:P.LengthDelimited,value:ub(i)}])}if(t.p59!==void 0){let i=t.p59;e.push([59,C.int32(i)])}return R(e)}n(lb,"encodeBinary");function dg(t,e){let i=y0({id:t,timestamp:e});return encodeURIComponent(ze(i).replace(/\+/g,"-").replace(/\//g,"_"))}n(dg,"encodeVisitorData");function fg(t){return b0(_g(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}n(fg,"decodeVisitorData");function KI(t){let e=T0({params:{channelId:t}});return encodeURIComponent(ze(e))}n(KI,"encodeChannelAnalyticsParams");function qI(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},o={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},a={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},c={};if(t?c.filters={}:c.noFilter=0,c.filters&&(t.upload_date&&(c.filters.uploadDate=e[t.upload_date]),t.type&&(c.filters.type=i[t.type]),t.duration&&(c.filters.duration=o[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(c.sortBy=r[t.sort_by]),t.features))for(let d of t.features)c.filters[a[d]]=1;let p=I0(c);return encodeURIComponent(ze(p))}n(qI,"encodeSearchFilters");function XI(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let o=E0(i);return encodeURIComponent(ze(o))}n(XI,"encodeMusicSearchFilters");function mg(t,e){let i=R0({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(ze(i)))}n(mg,"encodeMessageParams");function QI(t,e={}){let o=L0({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2,commentId:e.comment_id||""},target:"comments-section"}});return encodeURIComponent(ze(o))}n(QI,"encodeCommentsSectionParams");function ZI(t){let e=F0({videoId:t,params:{index:0},number:7});return encodeURIComponent(ze(e))}n(ZI,"encodeCommentParams");function Ka(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let o=W0(i);return encodeURIComponent(ze(o))}n(Ka,"encodeCommentActionParams");function eS(t,e){let i=H0({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(ze(i))}n(eS,"encodeNotificationPref");function tS(t,e){let i={context:{client:{nameId:3,osName:"Android",androidSdkVersion:re.ANDROID.SDK_VERSION,osVersion:"13",acceptLanguage:"en-US",acceptRegion:"US",deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",windowHeightPoints:840,windowWidthPoints:432,clientVersion:re.ANDROID.VERSION}},videoId:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),pg(i)}n(tS,"encodeVideoMetadataPayload");function iS(t,e){let i={context:{client:{nameId:3,osName:"Android",androidSdkVersion:re.ANDROID.SDK_VERSION,osVersion:"13",acceptLanguage:"en-US",acceptRegion:"US",deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",windowHeightPoints:840,windowWidthPoints:432,clientVersion:re.ANDROID.VERSION}},videoId:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return pg(i)}n(iS,"encodeCustomThumbnailPayload");function oS(t){let e=rb({params:{hashtag:t,type:1}});return encodeURIComponent(ze(e))}n(oS,"encodeHashtag");function hg(t){let e=ab({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent(ze(e))}n(hg,"encodeReelSequence");function nS(){let t=lb({f1:{p1:1},p59:1});return encodeURIComponent(ze(t))}n(nS,"encodeShortsParam");var vt,qa=class extends s{constructor(e){var i,o,r,a,c,p,d;super(),vt.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=g.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=l.parseItem(e.sponsorCommentBadge,zh),this.paid_comment_chip=l.parseItem(e.paidCommentChipRenderer,Gh),this.author_badge=l.parseItem(e.authorCommentBadge,Hh),this.author=new D(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=l.parseItem(e.actionMenu,F),this.action_buttons=l.parseItem(e.actionButtons,Ao),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((r=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||r===void 0)&&r.is_toggled),this.is_disliked=!!(!((c=(a=this.action_buttons)===null||a===void 0?void 0:a.dislike_button)===null||c===void 0)&&c.is_toggled),this.is_hearted=!!(!((d=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||d===void 0)&&d.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){return k(this,void 0,void 0,function*(){var e;if(!f(this,vt,"f"))throw new b("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new b("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new b("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(f(this,vt,"f"),{parse:!1})})}dislike(){return k(this,void 0,void 0,function*(){var e;if(!f(this,vt,"f"))throw new b("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new b("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new b("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(f(this,vt,"f"),{parse:!1})})}reply(e){return k(this,void 0,void 0,function*(){var i,o,r;if(!f(this,vt,"f"))throw new b("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new b("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let a=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((r=a.endpoint)===null||r===void 0)&&r.dialog))throw new b("Reply button endpoint did not have a dialog.");let p=a.endpoint.dialog.as(Uo).reply_button;if(!p)throw new b("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new b("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(f(this,vt,"f"),{commentText:e})})}translate(e){return k(this,void 0,void 0,function*(){var i,o,r,a,c,p;if(!f(this,vt,"f"))throw new b("An active caller must be provide to perform this operation.");let h={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},_=Ka(22,h),x=yield f(this,vt,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),y=(o=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,w=(p=(c=(a=(r=y==null?void 0:y[0])===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:w})})}setActions(e){N(this,vt,e,"f")}};n(qa,"Comment");vt=new WeakMap;qa.type="Comment";var Go=qa;var Xa=class extends s{constructor(e){super(),this.id=e.id,this.categories=l.parseArray(e.categories),this.category_buttons=l.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(Xa,"EmojiPicker");Xa.type="EmojiPicker";var Xh=Xa;var Qa=class extends s{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=g.fromResponse(e.authorThumbnail),this.submit_button=l.parseItem(e.submitButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.placeholder=new u(e.placeholderText),this.emoji_button=l.parseItem(e.emojiButton,T),this.emoji_picker=l.parseItem(e.emojiPicker,Xh)}};n(Qa,"CommentDialog");Qa.type="CommentDialog";var cb=Qa;var Za=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),this.view_replies=l.parseItem(e.viewReplies,T),this.hide_replies=l.parseItem(e.hideReplies,T),this.view_replies_creator_thumbnail=g.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(Za,"CommentReplies");Za.type="CommentReplies";var Qh=Za;var eu=class extends s{constructor(e){super(),this.simplebox_avatar=g.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};n(eu,"CommentsSimplebox");eu.type="CommentsSimplebox";var Zh=eu;var tu=class extends s{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=g.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};n(tu,"CommentsEntryPointTeaser");tu.type="CommentsEntryPointTeaser";var e_=tu;var iu=class extends s{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=g.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=l.parseItem(e.contentRenderer,[e_,Zh])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};n(iu,"CommentsEntryPointHeader");iu.type="CommentsEntryPointHeader";var t_=iu;var ou=class extends s{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=l.parseItem(e.createRenderer),this.sort_menu=l.parseItem(e.sortMenu,_t),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:g.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(ou,"CommentsHeader");ou.type="CommentsHeader";var hi=ou;var nu=class extends s{constructor(e){super(),this.submit_button=l.parseItem(e.submitButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.author_thumbnail=g.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};n(nu,"CommentSimplebox");nu.type="CommentSimplebox";var i_=nu;var Ue,ru=class extends s{constructor(e){super(),Ue.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,o){e&&(this.content=u.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new D({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),o&&!Reflect.has(o,"prepareAccountCommand")&&(this.like_command=new v(o.likeCommand),this.dislike_command=new v(o.dislikeCommand),this.unlike_command=new v(o.unlikeCommand),this.undislike_command=new v(o.undislikeCommand),this.reply_command=new v(o.replyCommand))}like(){return k(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.like_command)throw new b("Like command not found.");if(this.is_liked)throw new b("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(f(this,Ue,"f"))})}dislike(){return k(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.dislike_command)throw new b("Dislike command not found.");if(this.is_disliked)throw new b("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(f(this,Ue,"f"))})}unlike(){return k(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.unlike_command)throw new b("Unlike command not found.");if(!this.is_liked)throw new b("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(f(this,Ue,"f"))})}undislike(){return k(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.undislike_command)throw new b("Undislike command not found.");if(!this.is_disliked)throw new b("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(f(this,Ue,"f"))})}reply(e){return k(this,void 0,void 0,function*(){var i;if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.reply_command)throw new b("Reply command not found.");let o=(i=this.reply_command.dialog)===null||i===void 0?void 0:i.as(Uo);if(!o)throw new b("Reply dialog not found.");let r=o.reply_button;if(!r)throw new b("Reply button not found in the dialog.");if(!r.endpoint)throw new b("Reply button endpoint not found.");return r.endpoint.call(f(this,Ue,"f"),{commentText:e})})}translate(e){return k(this,void 0,void 0,function*(){var i,o,r,a,c,p;if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.content)throw new b("Comment content not found.",{comment_id:this.comment_id});let h={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},_=Ka(22,h),x=yield f(this,Ue,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),y=(o=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,w=(p=(c=(a=(r=y==null?void 0:y[0])===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:w})})}setActions(e){N(this,Ue,e,"f")}};n(ru,"CommentView");Ue=new WeakMap;ru.type="CommentView";var _i=ru;var Yt,Zi,su=class extends s{constructor(e){super(),Yt.set(this,void 0),Zi.set(this,void 0),Reflect.has(e,"commentViewModel")?this.comment=l.parseItem(e.commentViewModel,_i):this.comment=l.parseItem(e.comment,Go),this.comment_replies_data=l.parseItem(e.replies,Qh),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){return k(this,void 0,void 0,function*(){var e;if(!f(this,Yt,"f"))throw new b("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new b("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(pe);if(!i)throw new b("Replies continuation not found.");let o=yield i.endpoint.call(f(this,Yt,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new b("Unexpected response.",o);return this.replies=Q(o.on_response_received_endpoints_memo.getType(Go,_i).map(r=>(r.setActions(f(this,Yt,"f")),r))),N(this,Zi,o==null?void 0:o.on_response_received_endpoints_memo.getType(pe).first(),"f"),this})}getContinuation(){return k(this,void 0,void 0,function*(){var e;if(!this.replies)throw new b("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!f(this,Zi,"f"))throw new b("Continuation not found.");if(!f(this,Yt,"f"))throw new b("Actions instance not set for this thread.");let i=(e=f(this,Zi,"f").button)===null||e===void 0?void 0:e.as(T);if(!i)throw new b('"Load more" button not found.');let o=yield i.endpoint.call(f(this,Yt,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new b("Unexpected response.",o);return this.replies=Q(o.on_response_received_endpoints_memo.getType(Go,_i).map(r=>(r.setActions(f(this,Yt,"f")),r))),N(this,Zi,o.on_response_received_endpoints_memo.getType(pe).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new b("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!f(this,Zi,"f")}setActions(e){N(this,Yt,e,"f")}};n(su,"CommentThread");Yt=new WeakMap,Zi=new WeakMap;su.type="CommentThread";var o_=su;var au=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=g.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.navigationEndpoint),this.tv_banner=g.fromResponse(e.tvBanner),this.menu=l.parseItem(e.menu,F)}};n(au,"CompactChannel");au.type="CompactChannel";var pb=au;var uu=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new v(e.navigationEndpoint),this.style=e.style}};n(uu,"CompactLink");uu.type="CompactLink";var zo=uu;var lu=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(lu,"PlaylistCustomThumbnail");lu.type="PlaylistCustomThumbnail";var $o=lu;var cu=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(cu,"PlaylistVideoThumbnail");cu.type="PlaylistVideoThumbnail";var Ko=cu;var pu=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new D(e.longBylineText,e.ownerBadges,null),this.thumbnails=g.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=l.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=l.parseItem(e.menu),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer,[Ko,$o])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};n(pu,"Playlist");pu.type="Playlist";var It=pu;var du=class extends It{constructor(e){super(e)}};n(du,"CompactMix");du.type="CompactMix";var db=du;var fu=class extends s{constructor(e){var i;super();let o=((i=e.thumbnailOverlays.find(a=>a.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new D(e.shortBylineText);let r=e.lengthText?new u(e.lengthText).toString():new u(o).toString();this.duration={text:r,seconds:Se(r)},this.endpoint=new v(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=l.parseItem(e.menu,F)}};n(fu,"CompactMovie");fu.type="CompactMovie";var fb=fu;var mu=class extends It{constructor(e){super(e)}};n(mu,"CompactPlaylist");mu.type="CompactPlaylist";var mb=mu;var hu=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail=g.fromResponse(e.thumbnail)}};n(hu,"CompactStation");hu.type="CompactStation";var hb=hu;var _u=class extends s{constructor(e){super(),this.title=new u(e.title),this.confirm_button=l.parseItem(e.confirmButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(_u,"ConfirmDialog");_u.type="ConfirmDialog";var _b=_u;var vu=class extends s{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var o;return{metadata_parts:(o=i.metadataParts)===null||o===void 0?void 0:o.map(r=>({text:u.fromAttributed(r.text)}))}}),this.delimiter=e.delimiter}};n(vu,"ContentMetadataView");vu.type="ContentMetadataView";var qo=vu;var xu=class extends s{constructor(e){super(),this.text=new u(e.text)}};n(xu,"Message");xu.type="Message";var vi=xu;var gu=class extends s{constructor(e){super(),this.availability_message=l.parseItem(e.availabilityMessage,vi)}};n(gu,"ConversationBar");gu.type="ConversationBar";var vb=gu;var yu=class extends s{constructor(e){super(),this.copy_button=l.parseItem(e.copyButton,T),this.short_url=e.shortUrl,this.style=e.style}};n(yu,"CopyLink");yu.type="CopyLink";var n_=yu;var bu=class extends s{constructor(e){var i,o;super(),this.avatar=l.parseItem(e.avatar,th),this.a11y_label=e.a11yLabel,!((o=(i=e.rendererContext)===null||i===void 0?void 0:i.commandContext)===null||o===void 0)&&o.onTap&&(this.on_tap_endpoint=new v(e.rendererContext.commandContext.onTap))}};n(bu,"DecoratedAvatarView");bu.type="DecoratedAvatarView";var r_=bu;var wu=class extends s{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(wu,"HeatMarker");wu.type="HeatMarker";var s_=wu;var Tu=class extends s{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=l.parseArray(e.heatMarkers,s_),this.heat_markers_decorations=l.parseArray(e.heatMarkersDecorations)}};n(Tu,"Heatmap");Tu.type="Heatmap";var a_=Tu;var ku=class extends s{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=l.parseItem(e.value.heatmap,a_)),Reflect.has(e.value,"chapters")&&(this.value.chapters=l.parseArray(e.value.chapters,Lh)))}};n(ku,"Marker");ku.type="Marker";var Iu=class extends s{constructor(e){var i;super(),this.markers_map=Q(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new ku(o)))||[])}};n(Iu,"MultiMarkersPlayerBar");Iu.type="MultiMarkersPlayerBar";var u_=Iu;var Su=class extends s{constructor(e){super(),this.player_bar=l.parseItem(e.playerBar,u_),this.player_bar_action_button=l.parseItem(e.playerBarActionButton,T)}};n(Su,"DecoratedPlayerBar");Su.type="DecoratedPlayerBar";var l_=Su;var Cu=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new v(e.navigationEndpoint),this.large_form_factor_background_thumbnail=l.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=l.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(Cu,"DefaultPromoPanel");Cu.type="DefaultPromoPanel";var xb=Cu;var Eu=class extends s{constructor(e){var i,o,r,a,c,p;if(super(),this.description=u.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=u.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,!((r=(o=(i=e.rendererContext.commandContext)===null||i===void 0?void 0:i.onTap)===null||o===void 0?void 0:o.innertubeCommand)===null||r===void 0)&&r.showEngagementPanelEndpoint){let d=(p=(c=(a=e.rendererContext.commandContext)===null||a===void 0?void 0:a.onTap)===null||c===void 0?void 0:c.innertubeCommand)===null||p===void 0?void 0:p.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:l.parseItem(d.engagementPanel,ci),engagement_panel_popup_type:d.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:d.identifier.surface,tag:d.identifier.tag}}}}}};n(Eu,"DescriptionPreviewView");Eu.type="DescriptionPreviewView";var c_=Eu;var Nu=class extends s{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new v(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(Nu,"DidYouMean");Nu.type="DidYouMean";var gb=Nu;var Pu=class extends s{constructor(e){super(),this.default_button=l.parseItem(e.defaultButtonViewModel,kt),this.toggled_button=l.parseItem(e.toggledButtonViewModel,kt),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};n(Pu,"ToggleButtonView");Pu.type="ToggleButtonView";var xi=Pu;var Ru=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,xi),this.dislike_entity_key=e.dislikeEntityKey}};n(Ru,"DislikeButtonView");Ru.type="DislikeButtonView";var p_=Ru;var Au=class extends s{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new v(e.command),this.target_id=e.targetId}};n(Au,"DownloadButton");Au.type="DownloadButton";var d_=Au;var Vu=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};n(Vu,"DynamicTextView");Vu.type="DynamicTextView";var f_=Vu;var eo=class extends s{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new eo(o)))}};n(eo,"ChildElement");eo.type="ChildElement";var m_=eo;var to=class extends s{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return l.parseItem(e,to);let o=e.newElement.type.componentType;this.model=l.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=Q(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(r=>new m_(r)))||[]))}};n(to,"Element");to.type="Element";var Xo=to;var Mu=class extends s{constructor(e){super(),this.title=new u(e.title),this.first_option=l.parseItem(e.firstOption),this.menu=l.parseItem(e.menu,F)}};n(Mu,"EmergencyOnebox");Mu.type="EmergencyOnebox";var yb=Mu;var Bu=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n(Bu,"EmojiPickerCategory");Bu.type="EmojiPickerCategory";var bb=Bu;var Du=class extends s{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(Du,"EmojiPickerCategoryButton");Du.type="EmojiPickerCategoryButton";var wb=Du;var Lu=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new v(e.command),this.emoji_ids=e.emojiIds}};n(Lu,"EmojiPickerUpsellCategory");Lu.type="EmojiPickerUpsellCategory";var Tb=Lu;var Ou=class extends s{constructor(e){super(),this.elements=l.parseArray(e.elements),this.start_ms=e.startMs}};n(Ou,"Endscreen");Ou.type="Endscreen";var h_=Ou;var Fu=class extends s{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new v(e.endpoint),Reflect.has(e,"image")&&(this.image=g.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=g.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=l.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(Fu,"EndscreenElement");Fu.type="EndscreenElement";var kb=Fu;var ju=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new v(e.navigationEndpoint),this.thumbnails=g.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};n(ju,"EndScreenPlaylist");ju.type="EndScreenPlaylist";var __=ju;var Yu=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new D(e.shortBylineText,e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=l.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(Yu,"EndScreenVideo");Yu.type="EndScreenVideo";var v_=Yu;var Uu=class extends s{constructor(e){super(),this.disclaimer=new u(e.disclaimer),this.info_icon={icon_type:e.infoIcon.iconType},this.usage_scenario=e.usageScenario}};n(Uu,"EomSettingsDisclaimer");Uu.type="EomSettingsDisclaimer";var Ib=Uu;var Wu=class extends s{constructor(e){super(),this.title=e.title,this.endpoint=new v(e.endpoint),this.selected=e.selected,this.content=l.parseItem(e.content)}};n(Wu,"ExpandableTab");Wu.type="ExpandableTab";var Qo=Wu;var Ju=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(Ju,"ExpandedShelfContents");Ju.type="ExpandedShelfContents";var Sb=Ju;var Hu=class extends s{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};n(Hu,"FancyDismissibleDialog");Hu.type="FancyDismissibleDialog";var Cb=Hu;var Gu=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,Ye)}};n(Gu,"FeedFilterChipBar");Gu.type="FeedFilterChipBar";var Ut=Gu;var zu=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.endpoint=new v(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};n(zu,"FeedNudge");zu.type="FeedNudge";var Eb=zu;var $u=class extends s{constructor(e){super(),this.title=new u(e.title)}};n($u,"FeedTabbedHeader");$u.type="FeedTabbedHeader";var x_=$u;var Ku=class extends s{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:l.parseArray(i.actions,[kt,xi])})),this.style=e.style}};n(Ku,"FlexibleActionsView");Ku.type="FlexibleActionsView";var g_=Ku;var qu=class extends s{constructor(e){super(),this.title=new u(e.title),this.box_art=g.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new v(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(qu,"GameDetails");qu.type="GameDetails";var Nb=qu;var Xu=class extends s{constructor(e){var i,o,r;super(),this.items=l.parseArray(e.items),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}get contents(){return this.items}};n(Xu,"Grid");Xu.type="Grid";var Pb=Xu;var Qu=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new D(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton)}};n(Qu,"GridChannel");Qu.type="GridChannel";var y_=Qu;var Zu=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Zu,"GridHeader");Zu.type="GridHeader";var Rb=Zu;var el=class extends s{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new u(e.longBylineText):null,this.thumbnails=g.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.secondary_endpoint=new v(e.secondaryNavigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};n(el,"GridMix");el.type="GridMix";var Ab=el;var tl=class extends s{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):o!=null&&o.text?new u(o.text):null,this.endpoint=new v(e.navigationEndpoint),this.badges=l.parseArray(e.badges,Ge),this.metadata=new u(e.metadata),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};n(tl,"GridMovie");tl.type="GridMovie";var Vb=tl;var il=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new D(e.shortBylineText,e.ownerBadges)),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>g.fromResponse(o)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};n(il,"GridPlaylist");il.type="GridPlaylist";var b_=il;var ol=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(ol,"ShowCustomThumbnail");ol.type="ShowCustomThumbnail";var w_=ol;var nl=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(nl,"ThumbnailOverlayBottomPanel");nl.type="ThumbnailOverlayBottomPanel";var T_=nl;var rl=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=ie(e.thumbnailRenderer,w_),this.endpoint=new v(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=Me(e.thumbnailOverlays,T_),this.author=new D(e.shortBylineText,void 0)}};n(rl,"GridShow");rl.type="GridShow";var Mb=rl;var sl=class extends s{constructor(e){var i,o;super();let r=(i=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.rich_thumbnail=l.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):r!=null&&r.text?new u(r.text):null,this.author=e.shortBylineText&&new D(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new v(e.navigationEndpoint),this.menu=l.parseItem(e.menu,F),Reflect.has(e,"buttons")&&(this.buttons=l.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(sl,"GridVideo");sl.type="GridVideo";var k_=sl;var al=class extends s{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=g.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(al,"GuideEntry");al.type="GuideEntry";var io=al;var ul=class extends s{constructor(e){super(),this.expander_item=ie(e.expanderItem,io),this.collapser_item=ie(e.collapserItem,io),this.expandable_items=Me(e.expandableItems)}};n(ul,"GuideCollapsibleEntry");ul.type="GuideCollapsibleEntry";var Bb=ul;var ll=class extends s{constructor(e){super(),this.header_entry=ie(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Me(e.sectionItems)}};n(ll,"GuideCollapsibleSectionEntry");ll.type="GuideCollapsibleSectionEntry";var Db=ll;var cl=class extends io{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(cl,"GuideDownloadsEntry");cl.type="GuideDownloadsEntry";var Lb=cl;var pl=class extends s{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=Me(e.items)}};n(pl,"GuideSection");pl.type="GuideSection";var Zo=pl;var dl=class extends Zo{};n(dl,"GuideSubscriptionsSection");dl.type="GuideSubscriptionsSection";var I_=dl;var fl=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};n(fl,"HashtagHeader");fl.type="HashtagHeader";var S_=fl;var ml=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=g.fromResponse(e.hashtagThumbnail),this.endpoint=new v(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};n(ml,"HashtagTile");ml.type="HashtagTile";var Ob=ml;var hl=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap)}};n(hl,"HeroPlaylistThumbnail");hl.type="HeroPlaylistThumbnail";var Fb=hl;var _l=class extends s{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:g.fromResponse(e.thumbnail.image),endpoint:new v(e.thumbnail.onTap),on_long_press_endpoint:new v(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:g.fromResponse(e.backgroundImage.image),gradient_image:g.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new v(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new v(e.textOnTap)}};n(_l,"Panel");_l.type="Panel";var vl=class extends s{constructor(e){super(),this.panels=Q(e.highlightsCarousel.panels.map(i=>new _l(i)))}};n(vl,"HighlightsCarousel");vl.type="HighlightsCarousel";var jb=vl;var xl=class extends s{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new v(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new v(e.serviceEndpoint))}};n(xl,"SearchSuggestion");xl.type="SearchSuggestion";var C_=xl;var gl=class extends C_{constructor(e){super(e)}};n(gl,"HistorySuggestion");gl.type="HistorySuggestion";var Yb=gl;var yl=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.previous_button=l.parseItem(e.previousButton,T),this.next_button=l.parseItem(e.nextButton,T)}get contents(){return this.items}};n(yl,"HorizontalMovieList");yl.type="HorizontalMovieList";var Ub=yl;var bl=class extends s{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new v(e.navigationEndpoint)}};n(bl,"IconLink");bl.type="IconLink";var E_=bl;var wl=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.style=e.style}};n(wl,"ImageBannerView");wl.type="ImageBannerView";var N_=wl;var Tl=class extends s{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new v(e.originalQueryEndpoint):void 0}};n(Tl,"IncludingResultsFor");Tl.type="IncludingResultsFor";var Wb=Tl;var kl=class extends s{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(i=>new u(i))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(i=>u.fromAttributed(i))),this.thumbnail=g.fromResponse(e.thumbnail),this.source_endpoint=new v(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(kl,"InfoPanelContent");kl.type="InfoPanelContent";var P_=kl;var Il=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.menu=l.parseItem(e.menu,F),this.content=l.parseItem(e.content,P_),e.headerEndpoint&&(this.header_endpoint=new v(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(Il,"InfoPanelContainer");Il.type="InfoPanelContainer";var R_=Il;var Sl=class extends s{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=l.parseArray(e.badges,Ge),this.box_art=g.fromResponse(e.boxArt),this.banner=g.fromResponse(e.banner),this.buttons=l.parseArray(e.buttons,[Ce,T]),this.auto_generated=new u(e.autoGenerated)}};n(Sl,"InteractiveTabbedHeader");Sl.type="InteractiveTabbedHeader";var A_=Sl;var Cl=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Cl,"ItemSectionHeader");Cl.type="ItemSectionHeader";var en=Cl;var El=class extends s{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new v(e.endpoint)}};n(El,"ItemSectionTab");El.type="Tab";var V_=El;var Nl=class extends s{constructor(e){super(),this.title=new u(e.title),this.tabs=l.parseArray(e.tabs,V_),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};n(Nl,"ItemSectionTabbedHeader");Nl.type="ItemSectionTabbedHeader";var tn=Nl;var Pl=class extends s{constructor(e){super(),this.filter_menu=l.parseItem(e.filterMenu,oo.SortFilterSubMenu)}};n(Pl,"SortFilterHeader");Pl.type="SortFilterHeader";var M_=Pl;var Rl=class extends s{constructor(e){var i,o,r;super(),this.header=l.parseItem(e.header,[hi,en,tn,M_]),this.contents=l.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(Rl,"ItemSection");Rl.type="ItemSection";var tt=Rl;var Al=class extends s{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new v(i)))}};n(Al,"LikeButton");Al.type="LikeButton";var B_=Al;var Vl=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,xi),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};n(Vl,"LikeButtonView");Vl.type="LikeButtonView";var D_=Vl;var Ml=class extends s{constructor(e){var i,o;super(),this.header=l.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(Ml,"LiveChat");Ml.type="LiveChat";var L_=Ml;var Bl=class extends s{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};n(Bl,"LiveChatBannerHeader");Bl.type="LiveChatBannerHeader";var O_=Bl;var Dl=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,O_),this.contents=l.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(Dl,"LiveChatBanner");Dl.type="LiveChatBanner";var F_=Dl;var Ll=class extends s{constructor(e){super(),this.banner=l.parseItem(e.bannerRenderer,F_)}};n(Ll,"AddBannerToLiveChatCommand");Ll.type="AddBannerToLiveChatCommand";var Jb=Ll;var Ol=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(Ol,"AddChatItemAction");Ol.type="AddChatItemAction";var j_=Ol;var Fl=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),this.duration_sec=e.durationSec}};n(Fl,"AddLiveChatTickerItemAction");Fl.type="AddLiveChatTickerItemAction";var Hb=Fl;var jl=class extends s{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(jl,"DimChatItemAction");jl.type="DimChatItemAction";var Gb=jl;var Yl=class extends s{constructor(e){super(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.moderation_buttons=l.parseArray(e.moderationButtons,T),this.auto_moderated_item=l.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Yl,"LiveChatAutoModMessage");Yl.type="LiveChatAutoModMessage";var zb=Yl;var Ul=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=g.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};n(Ul,"LiveChatBannerPoll");Ul.type="LiveChatBannerPoll";var $b=Ul;var Wl=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(Wl,"LiveChatMembershipItem");Wl.type="LiveChatMembershipItem";var Kb=Wl;var Jl=class extends s{constructor(e){super(),this.message=new u(e.message),this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};n(Jl,"LiveChatPaidMessage");Jl.type="LiveChatPaidMessage";var qb=Jl;var Hl=class extends s{constructor(e){super(),this.id=e.id,this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=g.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Hl,"LiveChatPaidSticker");Hl.type="LiveChatPaidSticker";var Xb=Hl;var Gl=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Gl,"LiveChatPlaceholderItem");Gl.type="LiveChatPlaceholderItem";var Qb=Gl;var zl=class extends s{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=g.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=l.parseItem(e.informationButton),this.endpoint=new v(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=g.fromResponse(e.authorPhoto),this.information_dialog=l.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};n(zl,"LiveChatProductItem");zl.type="LiveChatProductItem";var Zb=zl;var $l=class extends s{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n($l,"LiveChatRestrictedParticipation");$l.type="LiveChatRestrictedParticipation";var ew=$l;var no=class extends s{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=l.parseArray(e.inlineActionButtons,T),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(no,"LiveChatMessageBase");no.type="LiveChatMessageBase";var Kl=class extends no{constructor(e){super(e),this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(Kl,"LiveChatTextMessage");Kl.type="LiveChatTextMessage";var tw=Kl;var ql=class extends s{constructor(e){var i,o;super(),this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=l.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new v(e.showItemEndpoint),this.id=e.id}};n(ql,"LiveChatTickerPaidMessageItem");ql.type="LiveChatTickerPaidMessageItem";var Y_=ql;var Xl=class extends Y_{};n(Xl,"LiveChatTickerPaidStickerItem");Xl.type="LiveChatTickerPaidStickerItem";var iw=Xl;var Ql=class extends s{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new D(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(Ql,"LiveChatTickerSponsorItem");Ql.type="LiveChatTickerSponsorItem";var ow=Ql;var Zl=class extends no{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=l.parseItem(e.actionButton)}};n(Zl,"LiveChatViewerEngagementMessage");Zl.type="LiveChatViewerEngagementMessage";var nw=Zl;var ec=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=g.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};n(ec,"PollHeader");ec.type="PollHeader";var rw=ec;var tc=class extends s{constructor(e){super(),this.id=e.id,this.contents=l.parse(e.contents),this.target_id=e.targetId}};n(tc,"LiveChatActionPanel");tc.type="LiveChatActionPanel";var U_=tc;var ic=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(ic,"MarkChatItemAsDeletedAction");ic.type="MarkChatItemAsDeletedAction";var sw=ic;var oc=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(oc,"MarkChatItemsByAuthorAsDeletedAction");oc.type="MarkChatItemsByAuthorAsDeletedAction";var aw=oc;var nc=class extends s{constructor(e){super(),this.target_action_id=e.targetActionId}};n(nc,"RemoveBannerForLiveChatCommand");nc.type="RemoveBannerForLiveChatCommand";var uw=nc;var rc=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId}};n(rc,"RemoveChatItemAction");rc.type="RemoveChatItemAction";var lw=rc;var sc=class extends s{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(sc,"RemoveChatItemByAuthorAction");sc.type="RemoveChatItemByAuthorAction";var cw=sc;var ac=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=l.parseItem(e.replacementItem)}};n(ac,"ReplaceChatItemAction");ac.type="ReplaceChatItemAction";var pw=ac;var uc=class extends s{constructor(e){var i;super(),this.actions=l.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(uc,"ReplayChatItemAction");uc.type="ReplayChatItemAction";var dw=uc;var lc=class extends s{constructor(e){super(),this.panel_to_show=l.parseItem(e.panelToShow,U_)}};n(lc,"ShowLiveChatActionPanelAction");lc.type="ShowLiveChatActionPanelAction";var fw=lc;var cc=class extends s{constructor(e){super(),this.dialog=l.parseItem(e.dialog)}};n(cc,"ShowLiveChatDialogAction");cc.type="ShowLiveChatDialogAction";var mw=cc;var pc=class extends s{constructor(e){super(),this.tooltip=l.parseItem(e.tooltip)}};n(pc,"ShowLiveChatTooltipCommand");pc.type="ShowLiveChatTooltipCommand";var hw=pc;var dc=class extends s{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};n(dc,"UpdateDateTextAction");dc.type="UpdateDateTextAction";var W_=dc;var fc=class extends s{constructor(e){super(),this.description=new u(e.description)}};n(fc,"UpdateDescriptionAction");fc.type="UpdateDescriptionAction";var J_=fc;var mc=class extends s{constructor(e){super(),this.poll_to_update=l.parseItem(e.pollToUpdate)}};n(mc,"UpdateLiveChatPollAction");mc.type="UpdateLiveChatPollAction";var _w=mc;var hc=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(hc,"UpdateTitleAction");hc.type="UpdateTitleAction";var H_=hc;var _c=class extends s{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};n(_c,"UpdateToggleButtonTextAction");_c.type="UpdateToggleButtonTextAction";var G_=_c;var vc=class extends s{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};n(vc,"UpdateViewershipAction");vc.type="UpdateViewershipAction";var z_=vc;var xc=class extends Ge{constructor(e){super(e),this.custom_thumbnail=g.fromResponse(e.customThumbnail)}};n(xc,"LiveChatAuthorBadge");xc.type="LiveChatAuthorBadge";var vw=xc;var gc=class extends s{constructor(e){super(),this.confirm_button=l.parseItem(e.confirmButton,T),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(gc,"LiveChatDialog");gc.type="LiveChatDialog";var xw=gc;var yc=class extends s{constructor(e){super(),this.overflow_menu=l.parseItem(e.overflowMenu,F),this.collapse_button=l.parseItem(e.collapseButton,T),this.view_selector=l.parseItem(e.viewSelector,_t)}};n(yc,"LiveChatHeader");yc.type="LiveChatHeader";var $_=yc;var bc=class extends s{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=l.parseItem(e.moreCommentsBelowButton,T)}};n(bc,"LiveChatItemList");bc.type="LiveChatItemList";var K_=bc;var wc=class extends s{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=g.fromResponse(e.authorPhoto),this.send_button=l.parseItem(e.sendButton,T),this.target_id=e.targetId}};n(wc,"LiveChatMessageInput");wc.type="LiveChatMessageInput";var gw=wc;var Tc=class extends s{constructor(e){super(),this.name=new u(e.authorName),this.photo=g.fromResponse(e.authorPhoto),this.badges=l.parseArray(e.authorBadges)}};n(Tc,"LiveChatParticipant");Tc.type="LiveChatParticipant";var q_=Tc;var kc=class extends s{constructor(e){super(),this.title=new u(e.title),this.participants=l.parseArray(e.participants,q_)}};n(kc,"LiveChatParticipantsList");kc.type="LiveChatParticipantsList";var X_=kc;var Ic=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.metadata=l.parseItem(e.metadata,qo)}};n(Ic,"LockupMetadataView");Ic.type="LockupMetadataView";var Q_=Ic;var Sc=class extends s{constructor(e){super(),this.content_image=l.parseItem(e.contentImage,Wh),this.metadata=l.parseItem(e.metadata,Q_),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.on_tap_endpoint=new v(e.rendererContext.commandContext.onTap)}};n(Sc,"LockupView");Sc.type="LockupView";var Z_=Sc;var Cc=class extends T{constructor(e){super(e)}};n(Cc,"MenuNavigationItem");Cc.type="MenuNavigationItem";var ev=Cc;var Ec=class extends T{constructor(e){super(e)}};n(Ec,"MenuServiceItem");Ec.type="MenuServiceItem";var gi=Ec;var Nc=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[ev,gi])}};n(Nc,"MenuPopup");Nc.type="MenuPopup";var yw=Nc;var Pc=class extends s{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint)}};n(Pc,"MenuServiceItemDownload");Pc.type="MenuServiceItemDownload";var bw=Pc;var Rc=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.sections=l.parseArray(e.sections),this.style=e.style}};n(Rc,"MultiPageMenu");Rc.type="MultiPageMenu";var ww=Rc;var Ac=class extends s{constructor(e){super(),this.items=l.parse(e.items)}get contents(){return this.items}};n(Ac,"MultiPageMenuNotificationSection");Ac.type="MultiPageMenuNotificationSection";var Tw=Ac;var Vc=class extends s{constructor(e){super()}};n(Vc,"MusicMenuItemDivider");Vc.type="MusicMenuItemDivider";var tv=Vc;var Mc=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new v(e.selectedCommand)),this.selected=!!this.endpoint}};n(Mc,"MusicMultiSelectMenuItem");Mc.type="MusicMultiSelectMenuItem";var on=Mc;var Bc=class extends s{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=l.parseArray(e.options,[on,tv])}};n(Bc,"MusicMultiSelectMenu");Bc.type="MusicMultiSelectMenu";var iv=Bc;var Dc=class extends s{constructor(e){super(),this.title=new u(e.title),this.buttons=l.parseArray(e.buttons,T)}};n(Dc,"SimpleMenuHeader");Dc.type="SimpleMenuHeader";var ov=Dc;var Lc=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=g.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new v(e.buttonCommand)}};n(Lc,"MerchandiseItem");Lc.type="MerchandiseItem";var kw=Lc;var Oc=class extends s{constructor(e){super(),this.title=e.title,this.menu=l.parseItem(e.actionButton),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(Oc,"MerchandiseShelf");Oc.type="MerchandiseShelf";var nv=Oc;var Fc=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};n(Fc,"MetadataRow");Fc.type="MetadataRow";var Iw=Fc;var jc=class extends s{constructor(e){super(),this.rows=l.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(jc,"MetadataRowContainer");jc.type="MetadataRowContainer";var rv=jc;var Yc=class extends s{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};n(Yc,"MetadataRowHeader");Yc.type="MetadataRowHeader";var Sw=Yc;var Uc=class extends s{constructor(e){super(),this.section_list=l.parseItem(e)}};n(Uc,"MetadataScreen");Uc.type="MetadataScreen";var Cw=Uc;var Wc=class extends s{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=g.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(Wc,"MicroformatData");Wc.type="MicroformatData";var yi=Wc;var Jc=class extends It{constructor(e){super(e)}};n(Jc,"Mix");Jc.type="Mix";var Ew=Jc;var Hc=class extends s{constructor(e){super(),this.title=new u(e.title),this.content=new u(e.content),this.button=l.parseItem(e.button,T)}};n(Hc,"ModalWithTitleAndButton");Hc.type="ModalWithTitleAndButton";var Nw=Hc;var Gc=class extends s{constructor(e){var i,o,r;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new D(e.longBylineText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:Se(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.endpoint=new v(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=l.parseItem(e.menu,F)}};n(Gc,"Movie");Gc.type="Movie";var Pw=Gc;var zc=class extends s{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new g(o)).sort((o,r)=>r.width-o.width)}};n(zc,"MovingThumbnail");zc.type="MovingThumbnail";var Rw=zc;var $c=class extends s{constructor(e){super(),this.title=new u(e.title)}};n($c,"MusicCardShelfHeaderBasic");$c.type="MusicCardShelfHeaderBasic";var sv=$c;var Kc=class extends s{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(Kc,"MusicInlineBadge");Kc.type="MusicInlineBadge";var nn=Kc;var qc=class extends s{constructor(e){var i,o;super(),this.endpoint=new v(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(qc,"MusicPlayButton");qc.type="MusicPlayButton";var rn=qc;var Xc=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,rn),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(Xc,"MusicItemThumbnailOverlay");Xc.type="MusicItemThumbnailOverlay";var St=Xc;var Qc=class extends s{constructor(e){super(),this.contents=g.fromResponse(e.thumbnail)}};n(Qc,"MusicThumbnail");Qc.type="MusicThumbnail";var Re=Qc;var Zc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Re),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=l.parseArray(e.buttons,T),this.menu=l.parseItem(e.menu,F),this.on_tap=new v(e.onTap),this.header=l.parseItem(e.header,sv),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=l.parseArray(e.subtitleBadges,nn),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,St),Reflect.has(e,"contents")&&(this.contents=l.parseArray(e.contents))}};n(Zc,"MusicCardShelf");Zc.type="MusicCardShelf";var Aw=Zc;var ep=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Re)),Reflect.has(e,"moreContentButton")&&(this.more_content=l.parseItem(e.moreContentButton,T)),Reflect.has(e,"endIcons")&&(this.end_icons=l.parseArray(e.endIcons,E_))}};n(ep,"MusicCarouselShelfBasicHeader");ep.type="MusicCarouselShelfBasicHeader";var av=ep;var tp=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Re),this.overlay=l.parseItem(e.overlay,St),this.on_tap=new v(e.onTap),this.menu=l.parseItem(e.menu,F),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};n(tp,"MusicMultiRowListItem");tp.type="MusicMultiRowListItem";var uv=tp;var ip=class extends s{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new v(e.clickCommand)}};n(ip,"MusicNavigationButton");ip.type="MusicNavigationButton";var lv=ip;var op=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(op,"MusicResponsiveListItemFixedColumn");op.type="musicResponsiveListItemFlexColumnRenderer";var cv=op;var np=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(np,"MusicResponsiveListItemFlexColumn");np.type="MusicResponsiveListItemFlexColumn";var pv=np;var it,sn,vg,Bw,Vw,Mw,Dw,Lw,Ow,Fw,jw,Yw,rp=class extends s{constructor(e){var i,o,r,a,c,p;super(),it.add(this),sn.set(this,void 0),this.flex_columns=l.parseArray(e.flexColumns,pv),this.fixed_columns=l.parseArray(e.fixedColumns,cv),N(this,sn,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint));let d=(p=(c=(a=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseEndpointContextSupportedConfigs)===null||c===void 0?void 0:c.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(d||this.flex_columns.find(_=>{var x,y,w,I;return((I=(w=(y=(x=_.title.endpoint)===null||x===void 0?void 0:x.payload)===null||y===void 0?void 0:y.browseEndpointContextSupportedConfigs)===null||w===void 0?void 0:w.browseEndpointContextMusicConfig)===null||I===void 0?void 0:I.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(d="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),d){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",f(this,it,"m",jw).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",f(this,it,"m",Yw).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",f(this,it,"m",Dw).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",f(this,it,"m",Lw).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",f(this,it,"m",Ow).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",f(this,it,"m",Fw).call(this);break;default:this.flex_columns[1]?f(this,it,"m",Bw).call(this):f(this,it,"m",vg).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Re)),Reflect.has(e,"badges")&&(this.badges=l.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu,F)),Reflect.has(e,"overlay")&&(this.overlay=l.parseItem(e.overlay,St))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n(rp,"MusicResponsiveListItem");sn=new WeakMap,it=new WeakSet,vg=n(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),Bw=n(function(){var e,i,o,r,a,c,p;switch((p=(c=(a=(r=(o=(i=(e=this.flex_columns.at(0))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.watchEndpointMusicSupportedConfigs)===null||c===void 0?void 0:c.watchEndpointMusicConfig)===null||p===void 0?void 0:p.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",f(this,it,"m",Mw).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",f(this,it,"m",Vw).call(this);break;default:f(this,it,"m",vg).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),Vw=n(function(){var e,i,o,r,a,c,p,d,h,_,x,y,w,I,S;this.id=f(this,sn,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let E=((a=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(U=>/^\d+$/.test(U.text.replace(/:/g,""))))===null||a===void 0?void 0:a.text)||((p=(c=this.fixed_columns.first())===null||c===void 0?void 0:c.title)===null||p===void 0?void 0:p.toString());E&&(this.duration={text:E,seconds:Se(E)});let V=((h=(d=this.flex_columns.at(1))===null||d===void 0?void 0:d.title.runs)===null||h===void 0?void 0:h.find(U=>We(U)&&U.endpoint&&U.endpoint.payload.browseId.startsWith("MPR")))||((x=(_=this.flex_columns.at(2))===null||_===void 0?void 0:_.title.runs)===null||x===void 0?void 0:x.find(U=>We(U)&&U.endpoint&&U.endpoint.payload.browseId.startsWith("MPR")));V&&We(V)&&(this.album={id:(w=(y=V.endpoint)===null||y===void 0?void 0:y.payload)===null||w===void 0?void 0:w.browseId,name:V.text,endpoint:V.endpoint});let B=(S=(I=this.flex_columns.at(1))===null||I===void 0?void 0:I.title.runs)===null||S===void 0?void 0:S.filter(U=>We(U)&&U.endpoint&&U.endpoint.payload.browseId.startsWith("UC"));B&&(this.artists=B.map(U=>{var X,ae;return{name:U.text,channel_id:We(U)?(ae=(X=U.endpoint)===null||X===void 0?void 0:X.payload)===null||ae===void 0?void 0:ae.browseId:void 0,endpoint:We(U)?U.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),Mw=n(function(){var e,i,o,r,a,c,p,d,h,_;this.id=f(this,sn,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(w=>w.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let x=(a=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||a===void 0?void 0:a.filter(w=>We(w)&&w.endpoint&&w.endpoint.payload.browseId.startsWith("UC"));x&&(this.authors=x.map(w=>{var I,S;return{name:w.text,channel_id:We(w)?(S=(I=w.endpoint)===null||I===void 0?void 0:I.payload)===null||S===void 0?void 0:S.browseId:void 0,endpoint:We(w)?w.endpoint:void 0}}));let y=((p=(c=this.flex_columns[1].title.runs)===null||c===void 0?void 0:c.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((_=(h=(d=this.fixed_columns.first())===null||d===void 0?void 0:d.title.runs)===null||h===void 0?void 0:h.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||_===void 0?void 0:_.text);y&&(this.duration={text:y,seconds:Se(y)})},"_MusicResponsiveListItem_parseVideo"),Dw=n(function(){var e,i,o,r,a,c;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title,this.subscribers=((c=(a=(r=this.subtitle)===null||r===void 0?void 0:r.runs)===null||a===void 0?void 0:a.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||c===void 0?void 0:c.text)||""},"_MusicResponsiveListItem_parseArtist"),Lw=n(function(){var e,i,o,r;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((r=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(a=>/^\d+(,\d+)? songs?$/i.test(a.text)))===null||r===void 0?void 0:r.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),Ow=n(function(){var e,i;this.id=f(this,sn,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),Fw=n(function(){var e,i;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),jw=n(function(){var e,i,o,r,a,c,p,d,h;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let _=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(x=>We(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));_&&We(_)&&(this.author={name:_.text,channel_id:(c=(a=_.endpoint)===null||a===void 0?void 0:a.payload)===null||c===void 0?void 0:c.browseId,endpoint:_.endpoint}),this.year=(h=(d=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||d===void 0?void 0:d.find(x=>/^[12][0-9]{3}$/.test(x.text)))===null||h===void 0?void 0:h.text},"_MusicResponsiveListItem_parseAlbum"),Yw=n(function(){var e,i,o,r,a,c,p,d;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let h=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(x=>x.text.match(/\d+ (song|songs)/));this.item_count=h?h.text:void 0;let _=(c=(a=this.flex_columns.at(1))===null||a===void 0?void 0:a.title.runs)===null||c===void 0?void 0:c.find(x=>We(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));_&&We(_)&&(this.author={name:_.text,channel_id:(d=(p=_.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId,endpoint:_.endpoint})},"_MusicResponsiveListItem_parsePlaylist");rp.type="MusicResponsiveListItem";var bi=rp;var sp=class extends s{constructor(e){var i,o,r,a,c,p,d,h,_,x,y,w,I,S,E,V,B,U,X,ae,de,J;switch(super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((a=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.videoId),this.subtitle=new u(e.subtitle),this.badges=l.parse(e.subtitleBadges),(h=(d=(p=(c=this.endpoint)===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||d===void 0?void 0:d.browseEndpointContextMusicConfig)===null||h===void 0?void 0:h.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((x=(_=this.endpoint)===null||_===void 0?void 0:_.metadata)===null||x===void 0?void 0:x.api_url)==="/next"?this.item_type="endpoint":!((y=this.subtitle.runs)===null||y===void 0)&&y[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((I=(w=this.subtitle.runs)===null||w===void 0?void 0:w.find(H=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(H.text)))===null||I===void 0?void 0:I.text)||"";else if(this.item_type=="playlist"){let H=(S=this.subtitle.runs)===null||S===void 0?void 0:S.find(A=>A.text.match(/\d+ songs|song/));this.item_count=H?H.text:null}else if(this.item_type=="album"){let H=(E=this.subtitle.runs)===null||E===void 0?void 0:E.filter(A=>{var q,ne;return(ne=(q=A.endpoint)===null||q===void 0?void 0:q.payload)===null||ne===void 0?void 0:ne.browseId.startsWith("UC")});H&&(this.artists=H.map(A=>{var q,ne;return{name:A.text,channel_id:(ne=(q=A.endpoint)===null||q===void 0?void 0:q.payload)===null||ne===void 0?void 0:ne.browseId,endpoint:A.endpoint}})),this.year=(V=this.subtitle.runs)===null||V===void 0?void 0:V.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((U=(B=this===null||this===void 0?void 0:this.subtitle.runs)===null||B===void 0?void 0:B.find(A=>A==null?void 0:A.text.match(/(.*?) views/)))===null||U===void 0?void 0:U.text)||"N/A";let H=(X=this.subtitle.runs)===null||X===void 0?void 0:X.find(A=>{var q,ne,ke;return(ke=(ne=(q=A.endpoint)===null||q===void 0?void 0:q.payload)===null||ne===void 0?void 0:ne.browseId)===null||ke===void 0?void 0:ke.startsWith("UC")});H&&(this.author={name:H==null?void 0:H.text,channel_id:(de=(ae=H==null?void 0:H.endpoint)===null||ae===void 0?void 0:ae.payload)===null||de===void 0?void 0:de.browseId,endpoint:H==null?void 0:H.endpoint})}else if(this.item_type=="song"){let H=(J=this.subtitle.runs)===null||J===void 0?void 0:J.filter(A=>{var q,ne;return(ne=(q=A.endpoint)===null||q===void 0?void 0:q.payload)===null||ne===void 0?void 0:ne.browseId.startsWith("UC")});H&&(this.artists=H.map(A=>{var q,ne;return{name:A==null?void 0:A.text,channel_id:(ne=(q=A==null?void 0:A.endpoint)===null||q===void 0?void 0:q.payload)===null||ne===void 0?void 0:ne.browseId,endpoint:A==null?void 0:A.endpoint}}))}this.thumbnail=g.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,St),this.menu=l.parseItem(e.menu,F)}};n(sp,"MusicTwoRowItem");sp.type="MusicTwoRowItem";var dv=sp;var ap=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,av),this.contents=l.parseArray(e.contents,[dv,bi,uv,lv]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(ap,"MusicCarouselShelf");ap.type="MusicCarouselShelf";var Uw=ap;var up=class extends s{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};n(up,"MusicDescriptionShelf");up.type="MusicDescriptionShelf";var fv=up;var lp=class extends s{constructor(e){var i,o,r,a,c,p,d,h,_;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(y=>/^[12][0-9]{3}$/.test(y.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((a=(r=this.second_subtitle.runs)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.text)||"",this.total_duration=((p=(c=this.second_subtitle.runs)===null||c===void 0?void 0:c[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=g.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=l.parseArray(e.subtitleBadges);let x=(d=this.subtitle.runs)===null||d===void 0?void 0:d.find(y=>{var w,I;return(I=(w=y==null?void 0:y.endpoint)===null||w===void 0?void 0:w.payload)===null||I===void 0?void 0:I.browseId.startsWith("UC")});x&&(this.author={name:x.text,channel_id:(_=(h=x.endpoint)===null||h===void 0?void 0:h.payload)===null||_===void 0?void 0:_.browseId,endpoint:x.endpoint}),this.menu=l.parseItem(e.menu)}};n(lp,"MusicDetailHeader");lp.type="MusicDetailHeader";var Ww=lp;var cp=class extends s{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n(cp,"MusicDownloadStateBadge");cp.type="MusicDownloadStateBadge";var Jw=cp;var pp=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.edit_header=l.parseItem(e.editHeader),this.playlist_id=e.playlistId}};n(pp,"MusicEditablePlaylistDetailHeader");pp.type="MusicEditablePlaylistDetailHeader";var Hw=pp;var dp=class extends s{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?l.parseItem(e,Xo):null}};n(dp,"MusicElementHeader");dp.type="MusicElementHeader";var Gw=dp;var fp=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};n(fp,"MusicHeader");fp.type="MusicHeader";var zw=fp;var mp=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=l.parseItem(e.thumbnail,Re)}};n(mp,"MusicImmersiveHeader");mp.type="MusicImmersiveHeader";var $w=mp;var hp=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new v(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(hp,"ActionButton");hp.type="ActionButton";var _p=class{constructor(e){this.image=g.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new hp(i))}};n(_p,"Panel");_p.type="Panel";var vp=class extends s{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new _p(i))}};n(vp,"MusicLargeCardItemCarousel");vp.type="MusicLargeCardItemCarousel";var Kw=vp;var xp=class extends s{constructor(e){super(),this.title=new u(e.title),this.edit_title=new u(e.editTitle),this.edit_description=new u(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new v(e.collaborationSettingsCommand),this.privacy_dropdown=l.parseItem(e.privacyDropdown,oi)}};n(xp,"MusicPlaylistEditHeader");xp.type="MusicPlaylistEditHeader";var qw=xp;var gp=class extends s{constructor(e){var i,o,r;super(),this.playlist_id=e.playlistId,this.contents=l.parseArray(e.contents,bi),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(gp,"MusicPlaylistShelf");gp.type="MusicPlaylistShelf";var Xw=gp;var yp=class extends s{constructor(e){var i,o,r,a,c;super(),this.title=new u(e.title),this.thumbnail=g.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:Se(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(h=>{var _,x,y;return(y=(x=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId)===null||y===void 0?void 0:y.startsWith("MPR")}),d=(o=new u(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(h=>{var _,x,y;return(y=(x=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId)===null||y===void 0?void 0:y.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(a=(r=p.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseId,name:p.text,year:(c=new u(e.longBylineText).runs)===null||c===void 0?void 0:c.slice(-1)[0].text,endpoint:p.endpoint}),d&&(this.artists=d.map(h=>{var _,x;return{name:h.text,channel_id:(x=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId,endpoint:h.endpoint}})),this.badges=l.parseArray(e.badges),this.menu=l.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};n(yp,"PlaylistPanelVideo");yp.type="PlaylistPanelVideo";var Wt=yp;var bp=class extends s{constructor(e){super(),this.primary=l.parseItem(e.primaryRenderer,Wt),Reflect.has(e,"counterpart")&&(this.counterpart=Q(e.counterpart.map(i=>l.parseItem(i.counterpartRenderer,Wt))||[]))}};n(bp,"PlaylistPanelVideoWrapper");bp.type="PlaylistPanelVideoWrapper";var mv=bp;var wp=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=l.parseArray(e.contents,[mv,Wt,eh]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(wp,"PlaylistPanel");wp.type="PlaylistPanel";var hv=wp;var Tp=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,hv)}};n(Tp,"MusicQueue");Tp.type="MusicQueue";var _v=Tp;var kp=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Re),this.buttons=l.parseArray(e.buttons,[d_,ye,rn,T,F]),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.strapline_text_one=new u(e.straplineTextOne),this.strapline_thumbnail=l.parseItem(e.straplineThumbnail,Re),this.second_subtitle=new u(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=l.parseArray(e.subtitleBadge,nn)),Reflect.has(e,"description")&&(this.description=l.parseItem(e.description,fv))}};n(kp,"MusicResponsiveHeader");kp.type="MusicResponsiveHeader";var Qw=kp;var Ip=class extends s{constructor(e){var i,o,r,a;super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents,bi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new v(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((a=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=l.parseItem(e.bottomButton,T)),Reflect.has(e,"subheaders")&&(this.subheaders=l.parseArray(e.subheaders))}};n(Ip,"MusicShelf");Ip.type="MusicShelf";var Zw=Ip;var Sp=class extends s{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=l.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};n(Sp,"MusicSideAlignedItem");Sp.type="MusicSideAlignedItem";var eT=Sp;var Cp=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=l.parseItem(e.menu,iv)}};n(Cp,"MusicSortFilterButton");Cp.type="MusicSortFilterButton";var tT=Cp;var Ep=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(Ep,"MusicTastebuilderShelfThumbnail");Ep.type="MusicTastebuilderShelfThumbnail";var vv=Ep;var Np=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,vv),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=l.parseItem(e.actionButton,T),this.is_visible=e.isVisible}};n(Np,"MusicTasteBuilderShelf");Np.type="MusicTasteBuilderShelf";var iT=Np;var Pp=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?g.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=l.parseItem(e.menu,F),this.foreground_thumbnail=e.foregroundThumbnail?g.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(Pp,"MusicVisualHeader");Pp.type="MusicVisualHeader";var oT=Pp;var Rp=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.video_thumbnails=g.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new v(e.navigationEndpoint),this.record_click_endpoint=new v(e.recordClickEndpoint),this.menu=l.parseItem(e.contextualMenu),this.read=e.read}};n(Rp,"Notification");Rp.type="Notification";var xv=Rp;var Ap=class extends s{constructor(e){super(),this.title=l.parseItem(e.title,f_),this.image=l.parseItem(e.image,[Do,r_]),this.metadata=l.parseItem(e.metadata,qo),this.actions=l.parseItem(e.actions,g_),this.description=l.parseItem(e.description,c_),this.attributation=l.parseItem(e.attributation,Qm),this.banner=l.parseItem(e.banner,N_)}};n(Ap,"PageHeaderView");Ap.type="PageHeaderView";var gv=Ap;var Vp=class extends s{constructor(e){super(),this.page_title=e.pageTitle,this.content=l.parseItem(e.content,gv)}};n(Vp,"PageHeader");Vp.type="PageHeader";var Ct=Vp;var Mp=class extends s{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(Mp,"PageIntroduction");Mp.type="PageIntroduction";var yv=Mp;var Bp=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.endpoint=new v(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};n(Bp,"PivotButton");Bp.type="PivotButton";var bv=Bp;var Dp=class extends s{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:g.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new v(e.featuredChannel.navigationEndpoint),subscribe_button:l.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(Dp,"PlayerAnnotationsExpanded");Dp.type="PlayerAnnotationsExpanded";var wv=Dp;var Lp=class extends s{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};n(Lp,"PlayerCaptionsTracklist");Lp.type="PlayerCaptionsTracklist";var Tv=Lp;var Op=class extends s{constructor(e){super(),this.endpoint=new v(e.endpoint),this.enable_listen_first=e.enableListenFirst}};n(Op,"PlayerOverflow");Op.type="PlayerOverflow";var kv=Op;var Fp=class extends s{constructor(e){super(),this.overflow=l.parseItem(e.overflow,kv)}};n(Fp,"PlayerControlsOverlay");Fp.type="PlayerControlsOverlay";var nT=Fp;var jp=class extends s{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=l.parseItem(e.proceedButton,T),this.thumbnails=g.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(jp,"PlayerErrorMessage");jp.type="PlayerErrorMessage";var rT=jp;var Yp=class extends s{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(Yp,"PlayerLegacyDesktopYpcOffer");Yp.type="PlayerLegacyDesktopYpcOffer";var sT=Yp;var Up=class extends s{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n(Up,"YpcTrailer");Up.type="YpcTrailer";var Iv=Up;var Wp=class extends s{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=l.parseItem(e.ypcTrailer,Iv)}};n(Wp,"PlayerLegacyDesktopYpcTrailer");Wp.type="PlayerLegacyDesktopYpcTrailer";var Jp=Wp;var Hp=class extends s{constructor(e){super();let[i,o,r,a,c]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(o,10),thumbnail_height:parseInt(r,10),columns:parseInt(a,10),rows:parseInt(c,10)}}};n(Hp,"PlayerLiveStoryboardSpec");Hp.type="PlayerLiveStoryboardSpec";var Sv=Hp;var Gp=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=g.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=!((o=e.liveBroadcastDetails)===null||o===void 0)&&o.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};n(Gp,"PlayerMicroformat");Gp.type="PlayerMicroformat";var ot=Gp;var zp=class extends s{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=g.fromResponse(e.background),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new D(e.byline),this.cancel_button=l.parseItem(e.cancelButton,T),this.next_button=l.parseItem(e.nextButton,T),this.close_button=l.parseItem(e.closeButton,T)}};n(zp,"PlayerOverlayAutoplay");zp.type="PlayerOverlayAutoplay";var Cv=zp;var $p=class extends s{constructor(e){super(),this.results=l.parseArray(e.results,[v_,__]),this.title=new u(e.title).toString()}};n($p,"WatchNextEndScreen");$p.type="WatchNextEndScreen";var Ev=$p;var Kp=class extends s{constructor(e){super(),this.end_screen=l.parseItem(e.endScreen,Ev),this.autoplay=l.parseItem(e.autoplay,Cv),this.share_button=l.parseItem(e.shareButton,T),this.add_to_menu=l.parseItem(e.addToMenu,F),this.fullscreen_engagement=l.parseItem(e.fullscreenEngagement),this.actions=l.parseArray(e.actions),this.browser_media_session=l.parseItem(e.browserMediaSession),this.decorated_player_bar=l.parseItem(e.decoratedPlayerBarRenderer,l_)}};n(Kp,"PlayerOverlay");Kp.type="PlayerOverlay";var Nv=Kp;var qp=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new D(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=l.parseItem(e.saveButton),this.shuffle_play_button=l.parseItem(e.shufflePlayButton),this.menu=l.parseItem(e.moreActionsMenu),this.banner=l.parseItem(e.playlistHeaderBanner)}};n(qp,"PlaylistHeader");qp.type="PlaylistHeader";var Pv=qp;var Xp=class extends s{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=g.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new v(e.action)}};n(Xp,"PlaylistInfoCardContent");Xp.type="PlaylistInfoCardContent";var aT=Xp;var Qp=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(Qp,"PlaylistMetadata");Qp.type="PlaylistMetadata";var Rv=Qp;var Zp=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(Zp,"PlaylistSidebar");Zp.type="PlaylistSidebar";var uT=Zp;var ed=class extends s{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=l.parseItem(e.menu),this.endpoint=new v(e.navigationEndpoint),this.description=new u(e.description)}};n(ed,"PlaylistSidebarPrimaryInfo");ed.type="PlaylistSidebarPrimaryInfo";var Av=ed;var td=class extends s{constructor(e){super(),this.owner=l.parseItem(e.videoOwner),this.button=l.parseItem(e.button)}};n(td,"PlaylistSidebarSecondaryInfo");td.type="PlaylistSidebarSecondaryInfo";var Vv=td;var id=class extends s{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new D(e.shortBylineText),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new v(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=l.parseItem(e.menu,F),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Xi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Xi))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(id,"PlaylistVideo");id.type="PlaylistVideo";var an=id;var od=class extends s{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=l.parseArray(e.contents)}};n(od,"PlaylistVideoList");od.type="PlaylistVideoList";var lT=od;var nd=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new v(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new v(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?g.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(nd,"Poll");nd.type="Poll";var cT=nd;var rd=class extends si{constructor(e){super(e)}};n(rd,"Post");rd.type="Post";var Mv=rd;var sd=class extends s{constructor(e){super(),this.images=l.parseArray(e.images,ih)}};n(sd,"PostMultiImage");sd.type="PostMultiImage";var pT=sd;var ad=class extends s{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};n(ad,"ProductListHeader");ad.type="ProductListHeader";var dT=ad;var ud=class extends s{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=g.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new v(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=l.parseItem(e.viewButton,T)}};n(ud,"ProductListItem");ud.type="ProductListItem";var fT=ud;var ld=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(ld,"ProfileColumn");ld.type="ProfileColumn";var mT=ld;var cd=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(cd,"ProfileColumnStats");cd.type="ProfileColumnStats";var hT=cd;var pd=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};n(pd,"ProfileColumnStatsEntry");pd.type="ProfileColumnStatsEntry";var _T=pd;var dd=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail)}};n(dd,"ProfileColumnUserInfo");dd.type="ProfileColumnUserInfo";var vT=dd;var fd=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};n(fd,"Quiz");fd.type="Quiz";var xT=fd;var md=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new g(i)),this.button=l.parseItem(e.button,T),this.surface=e.surface}};n(md,"RecognitionShelf");md.type="RecognitionShelf";var gT=md;var hd=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=g.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new v(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(hd,"ReelItem");hd.type="ReelItem";var un=hd;var _d=class extends s{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=g.fromResponse(e.channelThumbnail),this.author=new D(e.channelNavigationEndpoint,void 0)}};n(_d,"ReelPlayerHeader");_d.type="ReelPlayerHeader";var Bv=_d;var vd=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,B_),this.reel_player_header_supported_renderers=l.parseItem(e.reelPlayerHeaderSupportedRenderers,Bv),this.menu=l.parseItem(e.menu,F),this.next_item_button=l.parseItem(e.nextItemButton,T),this.prev_item_button=l.parseItem(e.prevItemButton,T),this.subscribe_button_renderer=l.parseItem(e.subscribeButtonRenderer,[T,Ce]),this.style=e.style,this.view_comments_button=l.parseItem(e.viewCommentsButton,T),this.share_button=l.parseItem(e.shareButton,T),this.pivot_button=l.parseItem(e.pivotButton,bv),this.info_panel=l.parseItem(e.infoPanel,R_)}};n(vd,"ReelPlayerOverlay");vd.type="ReelPlayerOverlay";var yT=vd;var xd=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};n(xd,"RelatedChipCloud");xd.type="RelatedChipCloud";var Dv=xd;var gd=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.contents=l.parseArray(e.contents)}};n(gd,"RichGrid");gd.type="RichGrid";var wi=gd;var yd=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};n(yd,"RichItem");yd.type="RichItem";var bT=yd;var bd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(bd,"RichListHeader");bd.type="RichListHeader";var wT=bd;var wd=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new v(e.endpoint)}};n(wd,"RichMetadata");wd.type="RichMetadata";var Td=wd;var kd=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(kd,"RichMetadataRow");kd.type="RichMetadataRow";var Id=kd;var Sd=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};n(Sd,"RichSection");Sd.type="RichSection";var TT=Sd;var Cd=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}};n(Cd,"RichShelf");Cd.type="RichShelf";var Lv=Cd;var Ed=class extends s{constructor(e){super(),this.endpoint=new v(e.endpoint),this.search_button=l.parseItem(e.searchButton,T),this.clear_button=l.parseItem(e.clearButton,T),this.placeholder_text=new u(e.placeholderText)}};n(Ed,"SearchBox");Ed.type="SearchBox";var kT=Ed;var Nd=class extends s{constructor(e){super(),this.label=new u(e.label),this.endpoint=new v(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(Nd,"SearchFilter");Nd.type="SearchFilter";var Ov=Nd;var Pd=class extends s{constructor(e){super(),this.title=new u(e.title),this.filters=l.parseArray(e.filters,Ov)}};n(Pd,"SearchFilterGroup");Pd.type="SearchFilterGroup";var ln=Pd;var Rd=class extends s{constructor(e){super(),this.title=new u(e.title),this.groups=l.parseArray(e.groups,ln)}};n(Rd,"SearchFilterOptionsDialog");Rd.type="SearchFilterOptionsDialog";var IT=Rd;var Ad=class extends s{constructor(e){super(),this.chip_bar=l.parseItem(e.chipBar,Yo),this.search_filter_button=l.parseItem(e.searchFilterButton,T)}};n(Ad,"SearchHeader");Ad.type="SearchHeader";var Fv=Ad;var Vd=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=l.parseArray(e.groups,ln)),Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,ye))}};n(Vd,"SearchSubMenu");Vd.type="SearchSubMenu";var jv=Vd;var Md=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Md,"SearchSuggestionsSection");Md.type="SearchSuggestionsSection";var ST=Md;var Bd=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Bd,"SecondarySearchContainer");Bd.type="SecondarySearchContainer";var CT=Bd;var Dd=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,[ye,T]),this.dislike_button=l.parseItem(e.dislikeButton,[ye,T])}};n(Dd,"SegmentedLikeDislikeButton");Dd.type="SegmentedLikeDislikeButton";var ro=Dd;var Ld=class extends s{constructor(e){if(super(),this.like_button=l.parseItem(e.likeButtonViewModel,D_),this.dislike_button=l.parseItem(e.dislikeButtonViewModel,p_),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};n(Ld,"SegmentedLikeDislikeButtonView");Ld.type="SegmentedLikeDislikeButtonView";var so=Ld;var Od=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new v(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new v(e.disableServiceEndpoint)),this.item_id=e.itemId}};n(Od,"SettingBoolean");Od.type="SettingBoolean";var ET=Od;var Fd=class extends s{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(Fd,"SettingsCheckbox");Fd.type="SettingsCheckbox";var Yv=Fd;var jd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new v(e.enableServiceEndpoint),this.disable_endpoint=new v(e.disableServiceEndpoint)}};n(jd,"SettingsSwitch");jd.type="SettingsSwitch";var cn=jd;var Yd=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=l.parseArray(e.options,[cn,oi,n_,Yv,Dh]))}};n(Yd,"SettingsOptions");Yd.type="SettingsOptions";var pn=Yd;var Ud=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items,zo)}get contents(){return this.items}};n(Ud,"SettingsSidebar");Ud.type="SettingsSidebar";var Uv=Ud;var Wd=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=ie(e.actionMenu,F),this.original_post=ie(e.originalPost,si),this.id=e.postId,this.endpoint=new v(e.navigationEndpoint),this.expand_button=ie(e.expandButton,T),this.author=new D(e.displayName,void 0)}};n(Wd,"SharedPost");Wd.type="SharedPost";var Wv=Wd;var Jd=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint)),this.content=l.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=l.parseItem(e.playAllButton,T))}};n(Jd,"Shelf");Jd.type="Shelf";var dn=Jd;var Hd=class extends s{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.original_query_endpoint=new v(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};n(Hd,"ShowingResultsFor");Hd.type="ShowingResultsFor";var NT=Hd;var Gd=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new v(e.command)}};n(Gd,"SimpleCardContent");Gd.type="SimpleCardContent";var PT=Gd;var zd=class extends s{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};n(zd,"SimpleCardTeaser");zd.type="SimpleCardTeaser";var RT=zd;var $d=class extends s{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};n($d,"SimpleTextSection");$d.type="SimpleTextSection";var AT=$d;var Kd=class extends s{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new v(e.navigationEndpoint)}};n(Kd,"SingleActionEmergencySupport");Kd.type="SingleActionEmergencySupport";var VT=Kd;var qd=class extends s{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new v(e.endpoint),this.content=l.parseItem(e.content,[be,_v,wi])}};n(qd,"Tab");qd.type="Tab";var Ae=qd;var Xd=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ae)}};n(Xd,"SingleColumnBrowseResults");Xd.type="SingleColumnBrowseResults";var Jv=Xd;var Qd=class extends s{constructor(e){super(),this.contents=l.parse(e)}};n(Qd,"SingleColumnMusicWatchNextResults");Qd.type="SingleColumnMusicWatchNextResults";var MT=Qd;var Zd=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.style=e.style}};n(Zd,"SingleHeroImage");Zd.type="SingleHeroImage";var BT=Zd;var ef=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,Ce)}};n(ef,"SlimOwner");ef.type="SlimOwner";var DT=ef;var tf=class extends s{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=l.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};n(tf,"SlimVideoMetadata");tf.type="SlimVideoMetadata";var LT=tf;var of=class extends s{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new v(e.navigationEndpoint)}};n(of,"SubFeedOption");of.type="SubFeedOption";var Hv=of;var nf=class extends s{constructor(e){super(),this.title=new u(e.title),this.options=l.parseArray(e.options,Hv)}};n(nf,"SubFeedSelector");nf.type="SubFeedSelector";var OT=nf;var rf=class extends s{constructor(e){super(),this.contents=l.parse(e)}};n(rf,"Tabbed");rf.type="Tabbed";var FT=rf;var sf=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ae)}};n(sf,"TabbedSearchResults");sf.type="TabbedSearchResults";var jT=sf;var af=class extends s{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};n(af,"TextHeader");af.type="TextHeader";var YT=af;var uf=class extends s{constructor(e){super(),this.landscape=g.fromResponse(e.landscape),this.portrait=g.fromResponse(e.portrait)}};n(uf,"ThumbnailLandscapePortrait");uf.type="ThumbnailLandscapePortrait";var UT=uf;var lf=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};n(lf,"ThumbnailOverlayEndorsement");lf.type="ThumbnailOverlayEndorsement";var WT=lf;var cf=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(cf,"ThumbnailOverlayHoverText");cf.type="ThumbnailOverlayHoverText";var JT=cf;var pf=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};n(pf,"ThumbnailOverlayInlineUnplayable");pf.type="ThumbnailOverlayInlineUnplayable";var HT=pf;var df=class extends s{constructor(e){super(),this.text=new u(e.text)}};n(df,"ThumbnailOverlayLoadingPreview");df.type="ThumbnailOverlayLoadingPreview";var GT=df;var ff=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};n(ff,"ThumbnailOverlayNowPlaying");ff.type="ThumbnailOverlayNowPlaying";var zT=ff;var mf=class extends s{constructor(e){super(),this.hack=e.hack}};n(mf,"ThumbnailOverlayPinking");mf.type="ThumbnailOverlayPinking";var $T=mf;var hf=class extends s{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};n(hf,"ThumbnailOverlayPlaybackStatus");hf.type="ThumbnailOverlayPlaybackStatus";var KT=hf;var _f=class extends s{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(_f,"ThumbnailOverlayResumePlayback");_f.type="ThumbnailOverlayResumePlayback";var qT=_f;var vf=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(vf,"ThumbnailOverlaySidePanel");vf.type="ThumbnailOverlaySidePanel";var XT=vf;var xf=class extends s{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},e.toggledServiceEndpoint&&(this.toggled_endpoint=new v(e.toggledServiceEndpoint)),e.untoggledServiceEndpoint&&(this.untoggled_endpoint=new v(e.untoggledServiceEndpoint))}};n(xf,"ThumbnailOverlayToggleButton");xf.type="ThumbnailOverlayToggleButton";var QT=xf;var gf=class extends s{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};n(gf,"TimedMarkerDecoration");gf.type="TimedMarkerDecoration";var ZT=gf;var yf=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(yf,"TitleAndButtonListHeader");yf.type="TitleAndButtonListHeader";var e1=yf;var bf=class extends s{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint)}};n(bf,"ToggleMenuServiceItem");bf.type="ToggleMenuServiceItem";var t1=bf;var wf=class extends s{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new v(i)),accept:new v(e.promoConfig.acceptCommand),dismiss:new v(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(wf,"Tooltip");wf.type="Tooltip";var i1=wf;var Tf=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=g.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=l.parseItem(e.subscribeButton,Ce),this.endpoint=new v(e.navigationEndpoint)}};n(Tf,"TopicChannelDetails");Tf.type="TopicChannelDetails";var o1=Tf;var kf=class extends s{constructor(e){super(),this.tabs=l.parse(e.tabs),this.secondary_contents=l.parse(e.secondaryContents)}};n(kf,"TwoColumnBrowseResults");kf.type="TwoColumnBrowseResults";var Et=kf;var If=class extends s{constructor(e){super(),this.primary_contents=l.parse(e.primaryContents),this.secondary_contents=l.parse(e.secondaryContents)}};n(If,"TwoColumnSearchResults");If.type="TwoColumnSearchResults";var Gv=If;var zv,xg,Sf=class extends s{constructor(e){var i,o,r,a,c;super(),zv.add(this),this.results=l.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=l.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=l.parseItem(e==null?void 0:e.conversationBar);let p=(r=e.playlist)===null||r===void 0?void 0:r.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((a=p.shortBylineText)===null||a===void 0)&&a.simpleText?new u(p.shortBylineText):new D(p.longBylineText),contents:l.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:l.parseItem(p.menu,F)});let d=(c=e.autoplay)===null||c===void 0?void 0:c.autoplay;d&&(this.autoplay={sets:d.sets.map(h=>f(this,zv,"m",xg).call(this,h))},d.modifiedSets&&(this.autoplay.modified_sets=d.modifiedSets.map(h=>f(this,zv,"m",xg).call(this,h))),d.countDownSecs&&(this.autoplay.count_down_secs=d.countDownSecs))}};n(Sf,"TwoColumnWatchNextResults");zv=new WeakSet,xg=n(function(e){let i={autoplay_video:new v(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new v(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Sf.type="TwoColumnWatchNextResults";var $v=Sf;var Cf=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.call_to_action=l.parseItem(e.callToAction),this.sections=l.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};n(Cf,"UniversalWatchCard");Cf.type="UniversalWatchCard";var Kv=Cf;var Ef=class extends s{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=l.parseItem(e.actionButton,T),this.dismiss_button=l.parseItem(e.dismissButton,T),this.is_visible=e.isVisible}};n(Ef,"UpsellDialog");Ef.type="UpsellDialog";var n1=Ef;var Nf=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};n(Nf,"VerticalList");Nf.type="VerticalList";var r1=Nf;var Pf=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new v(e.viewAllEndpoint)}get contents(){return this.items}};n(Pf,"VerticalWatchCardList");Pf.type="VerticalWatchCardList";var s1=Pf;var Rf=class extends s{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=g.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new v(e.action)}};n(Rf,"VideoInfoCardContent");Rf.type="VideoInfoCardContent";var a1=Rf;var Af=class extends s{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new D(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(Af,"VideoOwner");Af.type="VideoOwner";var fn=Af;var Vf=class extends s{constructor(e){var i,o,r,a;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new u((a=(r=e.viewCount)===null||r===void 0?void 0:r.videoViewCountRenderer)===null||a===void 0?void 0:a.shortViewCount),this.badges=l.parseArray(e.badges,Ge),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=l.parseItem(e.videoActions,F)}};n(Vf,"VideoPrimaryInfo");Vf.type="VideoPrimaryInfo";var qv=Vf;var Mf=class extends s{constructor(e){super(),this.owner=l.parseItem(e.owner,fn),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=l.parseItem(e.subscribeButton,[Ce,T]),this.metadata=l.parseItem(e.metadataRowContainer,rv),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(Mf,"VideoSecondaryInfo");Mf.type="VideoSecondaryInfo";var Bf=Mf;var Df=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:Se(e.lengthText.simpleText)},this.style=e.style}};n(Df,"WatchCardCompactVideo");Df.type="WatchCardCompactVideo";var Xv=Df;var Lf=class extends s{constructor(e){var i;super(),this.endpoint=new v(e.navigationEndpoint),this.call_to_action_button=l.parseItem(e.callToActionButton),this.hero_image=l.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(Lf,"WatchCardHeroVideo");Lf.type="WatchCardHeroVideo";var u1=Lf;var Of=class extends s{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new v(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new D(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(Of,"WatchCardRichHeader");Of.type="WatchCardRichHeader";var l1=Of;var Ff=class extends s{constructor(e){super(),this.lists=l.parseArray(e.lists)}};n(Ff,"WatchCardSectionSequence");Ff.type="WatchCardSectionSequence";var c1=Ff;var jf=class extends Et{constructor(e){super(e)}};n(jf,"WatchNextTabbedResults");jf.type="WatchNextTabbedResults";var p1=jf;var Yf=class extends s{constructor(e){var i,o;super(),this.title=e.title,this.content=l.parseItem(e.content,be),this.endpoint=new v(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n(Yf,"AnchoredSection");Yf.type="AnchoredSection";var Qv=Yf;var Uf,Wf=class extends s{constructor(e){super(),Uf.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=g.fromResponse(e.avatar),this.block_button=l.parseItem(e.blockButton,[ye]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return k(this,void 0,void 0,function*(){if(!f(this,Uf,"f"))throw new b("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new b("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new b("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(f(this,Uf,"f"),{parse:!1})})}setActions(e){N(this,Uf,e,"f")}};n(Wf,"KidsBlocklistPickerItem");Uf=new WeakMap;Wf.type="KidsBlocklistPickerItem";var Zv=Wf;var Jf=class extends s{constructor(e){super(),this.title=new u(e.title),this.child_rows=l.parse(e.childRows,!0,[Zv]),this.done_button=l.parseItem(e.doneButton,[T]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};n(Jf,"KidsBlocklistPicker");Jf.type="KidsBlocklistPicker";var d1=Jf;var Hf=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new v(e.endpoint)}};n(Hf,"KidsCategoryTab");Hf.type="KidsCategoryTab";var ex=Hf;var Gf=class extends s{constructor(e){super(),this.category_tabs=l.parseArray(e.categoryTabs,ex),this.privacy_button=l.parseItem(e.privacyButtonRenderer,T)}};n(Gf,"KidsCategoriesHeader");Gf.type="kidsCategoriesHeader";var f1=Gf;var zf=class extends s{constructor(e){super(),this.anchors=l.parseArray(e.anchors,Qv)}};n(zf,"KidsHomeScreen");zf.type="kidsHomeScreen";var m1=zf;var Ig={};xe(Ig,{camelToSnake:()=>ao,createRuntimeClass:()=>k1,generateRuntimeClass:()=>qf,generateTypescriptClass:()=>ix,inferType:()=>tx,introspect:()=>bg,isArrayType:()=>w1,isIgnoredKey:()=>T1,isMiscType:()=>b1,isRenderer:()=>yg,isRendererList:()=>y1,mergeKeyInfo:()=>$f,parse:()=>kg,toParser:()=>Tg,toTypeDeclaration:()=>wg});var rS=new Set(["trackingParams","accessibility","accessibilityData"]),gg={};function ao(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(ao,"camelToSnake");function tx(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=yg(e))return gg[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=y1(e)){for(let[r,a]of Object.entries(i))gg[r]=a;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=b1(t,e))||(i=w1(e)))return i}let o=typeof e;return o==="object"?{type:"object",keys:Object.entries(e).map(([r,a])=>[r,tx(r,a)]),optional:!1}:{type:"primative",typeof:[o],optional:!1}}n(tx,"inferType");function y1(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(o=>yg(o))?Object.fromEntries(t.map(o=>{let r=Reflect.ownKeys(o)[0].toString();return[Xf(r),o[r]]})):!1}n(y1,"isRendererList");function b1(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new v(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}n(b1,"isMiscType");function yg(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let o=i[0].toString();if(o.endsWith("Renderer")||o.endsWith("Model"))return Xf(o)}return!1}n(yg,"isRenderer");function w1(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["never"],optional:!1},optional:!1};let e=t.map(a=>typeof a);if(!e.every(a=>a===e[0]))return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!1},optional:!1};let o=e[0];if(o!=="object")return{type:"array",array_type:"primitive",items:{type:"primative",typeof:[o],optional:!1},optional:!1};let r=[];for(let a=0;a<t.length;a++){let c=Object.entries(t[a]).map(([p,d])=>[p,tx(p,d)]);if(a===0){r=c;continue}r=$f(r,c).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:r,optional:!1},optional:!1}}n(w1,"isArrayType");function sS(t){if(typeof t!="object"||t===null)throw new b("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!T1(i)).filter(i=>typeof i=="string").map(i=>{let o=Reflect.get(t,i),r=tx(i,o);return[i,r]})}n(sS,"introspectKeysFirstPass");function aS(t){var e;let o=t.filter(([,p])=>{var d;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((d=p.endpoint)===null||d===void 0?void 0:d.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,d])=>p.type!=="misc"||d.type!=="misc"||p.misc_type!=="Text"||d.misc_type!=="Text"?0:d.text.length-p.text.length),r=new Set,a=o[0],c;if(a){r.add(a[0]);let d=t.map(([w])=>w).filter(w=>w.endsWith("Badges")||w==="badges"),_=(e=d.filter(w=>w.startsWith("owner")||w.startsWith("author"))[0])!==null&&e!==void 0?e:d[0],x=t.find(([w])=>w===_),y=x?x[1].type==="array"&&x[1].array_type==="renderer"&&Reflect.has(x[1].renderers,"MetadataBadge"):!1;y&&_&&r.add(_),c={type:"misc",misc_type:"Author",optional:!1,params:[a[0],y?_:void 0]}}return c&&t.push(["author",c]),t.filter(([p])=>!r.has(p))}n(aS,"introspectKeysSecondPass");function uS(t){let e=sS(t);return aS(e)}n(uS,"introspect2");function bg(t){let e=uS(t),i=new Map;for(let[,r]of e)if(r.type==="renderer"||r.type==="array"&&r.array_type==="renderer")for(let a of r.renderers){let c=gg[a];c&&i.set(a,c)}let o=Array.from(i).filter(([r])=>!ox(r));return{key_info:e,unimplemented_dependencies:o}}n(bg,"introspect");function T1(t){return typeof t=="string"&&rS.has(t)}n(T1,"isIgnoredKey");function k1(t,e,i){var o,r;i({error_type:"class_not_found",classname:t,key_info:e});let a=(o=n(class extends s{static set key_info(c){N(this,o,new Map(c),"f",r)}static get key_info(){return[...f(this,o,"f",r).entries()]}constructor(c){super();let{key_info:p,unimplemented_dependencies:d}=bg(c),{resolved_key_info:h,changed_keys:_}=$f(a.key_info,p);_.length>0&&(a.key_info=h,i({error_type:"class_changed",classname:t,key_info:a.key_info,changed_keys:_}));for(let[y,w]of d)qf(y,w,i);for(let[y,w]of p){let I=ao(y);w.type==="misc"&&w.misc_type==="NavigationEndpoint"&&(I="endpoint"),Reflect.set(this,I,kg(y,w,c))}}},"_a"),Ry(o,"node"),o.type=t,r={value:new Map},o);return a.key_info=e,Object.defineProperty(a,"name",{value:t,writable:!1}),a}n(k1,"createRuntimeClass");function qf(t,e,i){let{key_info:o,unimplemented_dependencies:r}=bg(e),a=k1(t,o,i);Sg(t,a);for(let[c,p]of r)qf(c,p,i);return a}n(qf,"generateRuntimeClass");function ix(t,e){let i=[],o=["super();"];for(let[r,a]of e){let c=ao(r);a.type==="misc"&&a.misc_type==="NavigationEndpoint"&&(c="endpoint"),i.push(`${c}${a.optional?"?":""}: ${wg(a)};`),o.push(`this.${c} = ${Tg(r,a)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${o.join(`
    `)}
  }
}
`}n(ix,"generateTypescriptClass");function h1(t,e){return`{
${e.map(([i,o])=>`${" ".repeat((t+2)*2)}${ao(i)}${o.optional?"?":""}: ${wg(o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(h1,"toTypeDeclarationObject");function wg(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${h1(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return h1(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ")}}n(wg,"toTypeDeclaration");function _1(t,e,i,o){let r=[...i,o];return`{
${e.map(([a,c])=>`${" ".repeat((t+2)*2)}${ao(a)}: ${Tg(a,c,r,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(_1,"toParserObject");function Tg(t,e,i=["data"],o=1){let r="undefined";switch(e.type){case"renderer":r=`Parser.parseItem(${i.join(".")}.${t}, ${v1(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":r=`Parser.parse(${i.join(".")}.${t}, true, ${v1(e.renderers)})`;break;case"object":r=`${i.join(".")}.${t}.map((item: any) => (${_1(o,e.items.keys,[],"item")}))`;break;case"primitive":r=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":r=_1(o,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let a=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${a} : undefined`:a}default:r=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":r=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${r} : undefined`:r}n(Tg,"toParser");function v1(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}n(v1,"toParserValidTypes");function Nt(t,e){let i=t;for(let o of e)i=i[o];return i}n(Nt,"accessDataFromKeyPath");function x1(t,e){let i=t;for(let o of e)if(Reflect.has(i,o))i=i[o];else return!1;return!0}n(x1,"hasDataFromKeyPath");function g1(t,e,i,o,r){let a={},c=[...i,t];for(let[p,d]of o)a[p]=r?kg(p,d,e,c):void 0;return a}n(g1,"parseObject");function kg(t,e,i,o=["data"]){let r=!e.optional||x1({data:i},[...o,t]);switch(e.type){case"renderer":return r?ie(Nt({data:i},[...o,t]),e.renderers.map(a=>Kf(a))):void 0;case"array":{switch(e.array_type){case"renderer":return r?Je(Nt({data:i},[...o,t]),!0,e.renderers.map(a=>Kf(a))):void 0;case"object":return r?Nt({data:i},[...o,t]).map((a,c)=>g1(`${c}`,i,[...o,t],e.items.keys,r)):void 0;case"primitive":return r?Nt({data:i},[...o,t]):void 0}throw new Error("Unreachable code reached! Switch missing case!")}case"object":return g1(t,i,o,e.keys,r);case"misc":switch(e.misc_type){case"NavigationEndpoint":return r?new v(Nt({data:i},[...o,t])):void 0;case"Text":return r?new u(Nt({data:i},[...o,t])):void 0;case"Thumbnail":return r?g.fromResponse(Nt({data:i},[...o,t])):void 0;case"Author":return!e.optional||x1({data:i},[...o,e.params[0]])?new D(Nt({data:i},[...o,e.params[0]]),e.params[1]?Nt({data:i},[...o,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":return Nt({data:i},[...o,t])}}n(kg,"parse");function $f(t,e){let i=new Map,o=new Set(t.map(([y])=>y)),r=new Set(e.map(([y])=>y)),a=e.filter(([y])=>!o.has(y)),c=t.filter(([y])=>!r.has(y)),p=t.filter(([y])=>r.has(y)),d=new Map(e);for(let[y,w]of p){let I=d.get(y);if(!!I){if(w.type!==I.type){i.set(y,{type:"primative",typeof:["unknown"],optional:!0});continue}switch(w.type){case"object":{if(I.type!=="object")continue;let{resolved_key_info:S}=$f(w.keys,I.keys),E={type:"object",keys:S,optional:w.optional||I.optional};JSON.stringify(E)!==JSON.stringify(w)&&i.set(y,E)}break;case"renderer":{if(I.type!=="renderer")continue;let S=Object.assign(Object.assign({},w.renderers),I.renderers),E=w.optional||I.optional,V={type:"renderer",renderers:S,optional:E};JSON.stringify(Object.assign(Object.assign({},V),{renderers:Object.keys(V.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(y,V)}break;case"array":{if(I.type!=="array")continue;switch(w.array_type){case"renderer":{if(I.array_type!=="renderer"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let S=Object.assign(Object.assign({},w.renderers),I.renderers),E=w.optional||I.optional,V={type:"array",array_type:"renderer",renderers:S,optional:E};JSON.stringify(Object.assign(Object.assign({},V),{renderers:Object.keys(V.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(y,V)}break;case"object":{if(I.array_type==="primitive"&&I.items.typeof.length==1&&I.items.typeof[0]==="never")continue;if(I.array_type!=="object"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:S}=$f(w.items.keys,I.items.keys),E={type:"array",array_type:"object",items:{type:"object",keys:S,optional:w.items.optional||I.items.optional},optional:w.optional||I.optional};JSON.stringify(E)!==JSON.stringify(w)&&i.set(y,E)}break;case"primitive":{if(w.items.typeof.includes("never")&&I.array_type==="object"){i.set(y,I);continue}if(I.array_type!=="primitive"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let S=new Set([...I.items.typeof,...w.items.typeof]);S.size>1&&S.has("never")&&S.delete("never");let E={type:"array",array_type:"primitive",items:{type:"primative",typeof:Array.from(S),optional:w.items.optional||I.items.optional},optional:w.optional||I.optional};JSON.stringify(E)!==JSON.stringify(w)&&i.set(y,E)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}}break;case"misc":{if(I.type!=="misc")continue;switch(w.misc_type!==I.misc_type&&i.set(y,{type:"primative",typeof:["unknown"],optional:!0}),w.misc_type){case"Author":{if(I.misc_type!=="Author")break;let S=w.params[1]||I.params[1],E=w.optional||I.optional,V={type:"misc",misc_type:"Author",optional:E,params:[I.params[0],S]};JSON.stringify(V)!==JSON.stringify(w)&&i.set(y,V)}break}}break;case"primative":{if(I.type!=="primative")continue;let S={type:"primative",typeof:Array.from(new Set([...I.typeof,...w.typeof])),optional:w.optional||I.optional};JSON.stringify(S)!==JSON.stringify(w)&&i.set(y,S)}break}}}for(let[y,w]of a)i.set(y,Object.assign(Object.assign({},w),{optional:!0}));for(let[y,w]of c)i.set(y,Object.assign(Object.assign({},w),{optional:!0}));let h=t.filter(([y])=>!i.has(y));return{resolved_key_info:[...new Map([...h,...i]).entries()],changed_keys:[...i.entries()]}}n($f,"mergeKeyInfo");var mn=class extends s{constructor(e){var i,o,r;super(),this.contents=Me(e.contents),Array.isArray(e.continuations)&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(mn,"ItemSectionContinuation");mn.type="itemSectionContinuation";var Ti=class extends s{constructor(e){super(),this.endpoint=new v(e.endpoint)}};n(Ti,"NavigateAction");Ti.type="navigateAction";var hn=class extends s{constructor(e){super(),this.miniplayer_command=new v(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};n(hn,"ShowMiniplayerCommand");hn.type="showMiniplayerCommand";var ki=class extends s{constructor(e){super(),this.target_id=e.targetId,this.contents=Je(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(ki,"ReloadContinuationItemsCommand");ki.type="reloadContinuationItemsCommand";var _n=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.contents=Je(e.contents,!0),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(_n,"SectionListContinuation");_n.type="sectionListContinuation";var vn=class extends s{constructor(e){var i;super(),this.contents=Je(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(vn,"MusicPlaylistShelfContinuation");vn.type="musicPlaylistShelfContinuation";var xn=class extends s{constructor(e){var i,o,r,a;super(),this.contents=Me(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((a=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)||null}};n(xn,"MusicShelfContinuation");xn.type="musicShelfContinuation";var gn=class extends s{constructor(e){var i;super(),this.items=Je(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n(gn,"GridContinuation");gn.type="gridContinuation";var yn=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.contents=Me(e.contents),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(yn,"PlaylistPanelContinuation");yn.type="playlistPanelContinuation";var uo=class extends s{constructor(e){var i,o,r;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(r=e.continuation)===null||r===void 0?void 0:r.continuation}};n(uo,"Continuation");uo.type="continuation";var Ii=class extends s{constructor(e){var i,o,r,a,c,p,d,h;super(),this.actions=Je((i=e.actions)===null||i===void 0?void 0:i.map(y=>(delete y.clickTrackingParams,y)),!0)||Q([]),this.action_panel=ie(e.actionPanel),this.item_list=ie(e.itemList,K_),this.header=ie(e.header,$_),this.participants_list=ie(e.participantsList,X_),this.popout_message=ie(e.popoutMessage,vi),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(y=>({emoji_id:y.emojiId,shortcuts:y.shortcuts,search_terms:y.searchTerms,image:g.fromResponse(y.image),is_custom_emoji:y.isCustomEmoji})))||[];let _,x;!((r=e.continuations)===null||r===void 0)&&r[0].timedContinuationData?(x="timed",_=(a=e.continuations)===null||a===void 0?void 0:a[0].timedContinuationData):!((c=e.continuations)===null||c===void 0)&&c[0].invalidationContinuationData?(x="invalidation",_=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((d=e.continuations)===null||d===void 0)&&d[0].liveChatReplayContinuationData&&(x="replay",_=(h=e.continuations)===null||h===void 0?void 0:h[0].liveChatReplayContinuationData),this.continuation=new uo({continuation:_,type:x}),this.viewer_name=e.viewerName}};n(Ii,"LiveChatContinuation");Ii.type="liveChatContinuation";var Jt=class extends s{constructor(e){super(),this.request=e.request,this.token=e.token}};n(Jt,"ContinuationCommand");Jt.type="ContinuationCommand";var nx,rx=class{constructor(e,i){var o,r,a,c,p,d,h,_;if(nx.set(this,void 0),i&&N(this,nx,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=(o=e.stereoLayout)===null||o===void 0?void 0:o.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=(r=e.spatialAudioType)===null||r===void 0?void 0:r.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:(a=e.colorInfo.primaries)===null||a===void 0?void 0:a.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(c=e.colorInfo.transferCharacteristics)===null||c===void 0?void 0:c.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(p=e.colorInfo.matrixCoefficients)===null||p===void 0?void 0:p.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let x=new URLSearchParams(this.cipher||this.signature_cipher),w=(d=new URLSearchParams(x.get("url")||this.url).get("xtags"))===null||d===void 0?void 0:d.split(":");if(this.language=((h=w==null?void 0:w.find(I=>I.startsWith("lang=")))===null||h===void 0?void 0:h.split("=")[1])||null,this.has_audio){this.is_drc=!!e.isDrc||!!(w!=null&&w.includes("drc=1"));let I=(_=w==null?void 0:w.find(S=>S.startsWith("acont=")))===null||_===void 0?void 0:_.split("=")[1];this.is_dubbed=I==="dubbed",this.is_descriptive=I==="descriptive",this.is_secondary=I==="secondary",this.is_original=I==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(e){if(!e)throw new b("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,f(this,nx,"f"))}};n(rx,"Format");nx=new WeakMap;var sx=rx;var Si=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=g.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};n(Si,"VideoDetails");var lo="Parser",lS=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),Pg=new Map(Object.entries(oo)),I1=new Map,co=null,Ci=n(t=>{var{classname:e}=t,i=Py(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&Y.warn(lo,new b(`Something went wrong at ${e}!
This is a bug, please report it at ${W.shim.info.bugs_url}`,{stack:i.error.stack,classdata:JSON.stringify(i.classdata,null,2)}));break;case"typecheck":Y.warn(lo,new st(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":Y.warn(lo,new b(`Mutation data required for processing ${e}, but none found.
This is a bug, please report it at ${W.shim.info.bugs_url}`));break;case"mutation_data_invalid":Y.warn(lo,new b(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${W.shim.info.bugs_url}`));break;case"class_not_found":Y.warn(lo,new b(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${W.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${W.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${ix(e,i.key_info)}`));break;case"class_changed":Y.warn(lo,`${e} changed!
The following keys where altered: ${i.changed_keys.map(([o])=>ao(o)).join(", ")}
The class has changed to:
${ix(e,i.key_info)}`);break;default:Y.warn(lo,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function cS(t){Ci=t}n(cS,"setParserErrorHandler");function Pt(){co=null}n(Pt,"_clearMemo");function Rt(){co=new ti}n(Rt,"_createMemo");function pS(t,e){if(!co)return;let i=co.get(t);if(!i)return co.set(t,[e]);i.push(e)}n(pS,"_addToMemo");function At(){if(!co)throw new Error("Parser#getMemo() called before Parser#createMemo()");return co}n(At,"_getMemo");function S1(t){return lS.has(t)}n(S1,"shouldIgnore");function Xf(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}n(Xf,"sanitizeClassName");function Kf(t){let e=Pg.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}n(Kf,"getParserByName");function ox(t){return Pg.has(t)}n(ox,"hasParser");function Sg(t,e){Pg.set(t,e),I1.set(t,e)}n(Sg,"addRuntimeParser");function dS(){return Object.fromEntries(I1)}n(dS,"getDynamicParsers");function Cg(t){var e,i,o,r,a,c,p,d,h,_,x,y,w,I;let S={};Rt();let E=Je(t.contents),V=At();E&&(S.contents=E,S.contents_memo=V),Pt(),Rt();let B=t.onResponseReceivedActions?ax(t.onResponseReceivedActions):null,U=At();B&&(S.on_response_received_actions=B,S.on_response_received_actions_memo=U),Pt(),Rt();let X=t.onResponseReceivedEndpoints?ax(t.onResponseReceivedEndpoints):null,ae=At();X&&(S.on_response_received_endpoints=X,S.on_response_received_endpoints_memo=ae),Pt(),Rt();let de=t.onResponseReceivedCommands?ax(t.onResponseReceivedCommands):null,J=At();de&&(S.on_response_received_commands=de,S.on_response_received_commands_memo=J),Pt(),Rt();let le=t.continuationContents?Eg(t.continuationContents):null,H=At();le&&(S.continuation_contents=le,S.continuation_contents_memo=H),Pt(),Rt();let A=t.actions?E1(t.actions):null,q=At();A&&(S.actions=A,S.actions_memo=q),Pt(),Rt();let ne=t.liveChatItemContextMenuSupportedRenderers?ie(t.liveChatItemContextMenuSupportedRenderers):null,ke=At();ne&&(S.live_chat_item_context_menu_supported_renderers=ne,S.live_chat_item_context_menu_supported_renderers_memo=ke),Pt(),Rt();let Qe=t.header?Je(t.header):null,nt=At();Qe&&(S.header=Qe,S.header_memo=nt),Pt(),Rt();let K=t.sidebar?ie(t.sidebar):null,De=At();K&&(S.sidebar=K,S.sidebar_memo=De),Pt(),Rt();let Ve=Je(t.items);Ve&&(S.items=Ve,S.items_memo=At()),Pt(),N1(V,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations),ae&&P1(ae,(r=(o=t.frameworkUpdates)===null||o===void 0?void 0:o.entityBatchUpdate)===null||r===void 0?void 0:r.mutations);let _e=t.continuation?C1(t.continuation):null;_e&&(S.continuation=_e);let fe=t.continuationEndpoint?Eg(t.continuationEndpoint):null;fe&&(S.continuation_endpoint=fe);let Le=Je(t.metadata);Le&&(S.metadata=Le);let ve=ie(t.microformat);ve&&(S.microformat=ve);let Oe=ie(t.overlay);Oe&&(S.overlay=Oe);let Ze=Me(t.alerts,[Ro,Km]);Ze.length&&(S.alerts=Ze);let he=t.refinements;he&&(S.refinements=he);let my=t.estimatedResults?parseInt(t.estimatedResults):null;my&&(S.estimated_results=my);let hy=Je(t.playerOverlays);hy&&(S.player_overlays=hy);let _y=ie(t.background,Re);_y&&(S.background=_y);let vy=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;vy&&(S.playback_tracking=vy);let xy=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:ie(t.playabilityStatus.audioOnlyPlayability,Zm),error_screen:ie(t.playabilityStatus.errorScreen)}:null;if(xy&&(S.playability_status=xy),t.streamingData){let rt=new Map,Hk={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:Ng(t.streamingData.formats,rt),adaptive_formats:Ng(t.streamingData.adaptiveFormats,rt),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};S.streaming_data=Hk}if(t.playerConfig){let rt={audio_config:{loudness_db:(a=t.playerConfig.audioConfig)===null||a===void 0?void 0:a.loudnessDb,perceptual_loudness_db:(c=t.playerConfig.audioConfig)===null||c===void 0?void 0:c.perceptualLoudnessDb,enable_per_format_loudness:(p=t.playerConfig.audioConfig)===null||p===void 0?void 0:p.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((d=t.playerConfig.streamSelectionConfig)===null||d===void 0?void 0:d.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((_=(h=t.playerConfig.mediaCommonConfig)===null||h===void 0?void 0:h.dynamicReadaheadConfig)===null||_===void 0?void 0:_.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((y=(x=t.playerConfig.mediaCommonConfig)===null||x===void 0?void 0:x.dynamicReadaheadConfig)===null||y===void 0?void 0:y.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((I=(w=t.playerConfig.mediaCommonConfig)===null||w===void 0?void 0:w.dynamicReadaheadConfig)===null||I===void 0?void 0:I.readAheadGrowthRateMs)||0}}};S.player_config=rt}let gy=t.currentVideoEndpoint?new v(t.currentVideoEndpoint):null;gy&&(S.current_video_endpoint=gy);let yy=t.endpoint?new v(t.endpoint):null;yy&&(S.endpoint=yy);let by=ie(t.captions,Tv);by&&(S.captions=by);let wy=t.videoDetails?new Si(t.videoDetails):null;wy&&(S.video_details=wy);let Ty=Me(t.annotations,wv);Ty.length&&(S.annotations=Ty);let ky=ie(t.storyboards,[Hi,Sv]);ky&&(S.storyboards=ky);let Iy=ie(t.endscreen,h_);Iy&&(S.endscreen=Iy);let Sy=ie(t.cards,Ah);Sy&&(S.cards=Sy);let Cy=Me(t.engagementPanels,ci);if(Cy.length&&(S.engagement_panels=Cy),t.playerResponse){let rt=Cg(t.playerResponse);S.player_response=rt}if(t.watchNextResponse){let rt=Cg(t.watchNextResponse);S.watch_next_response=rt}if(t.cpnInfo){let rt={cpn:t.cpnInfo.cpn,cpn_source:t.cpnInfo.cpnSource};S.cpn_info=rt}return t.entries&&(S.entries=t.entries.map(rt=>new v(rt))),S}n(Cg,"parseResponse");function ie(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let o=Xf(i[0]);if(!S1(o))try{let a=ox(o)?Kf(o):qf(o,t[i[0]],Ci);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===a.type))return Ci({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(a.type!==e.type)return Ci({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.type}),null}let c=new a(t[i[0]]);return pS(o,c),c}catch(r){return Ci({classname:o,classdata:t[i[0]],error:r,error_type:"parse"}),null}return null}n(ie,"parseItem");function Me(t,e){if(Array.isArray(t)){let i=[];for(let o of t){let r=ie(o,e);r&&i.push(r)}return Q(i)}else if(!t)return Q([]);throw new st("Expected array but got a single item")}n(Me,"parseArray");function Je(t,e,i){if(!t)return null;if(Array.isArray(t)){let o=[];for(let a of t){let c=ie(a,i);c&&o.push(c)}let r=Q(o);return e?r:new Tt(r)}else if(e)throw new st("Expected array but got a single item");return new Tt(ie(t,i))}n(Je,"parse");function C1(t){return t.timedContinuationData?new uo({continuation:t.timedContinuationData,type:"timed"}):null}n(C1,"parseC");function Eg(t){return t.itemSectionContinuation?new mn(t.itemSectionContinuation):t.sectionListContinuation?new _n(t.sectionListContinuation):t.liveChatContinuation?new Ii(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new vn(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new xn(t.musicShelfContinuation):t.gridContinuation?new gn(t.gridContinuation):t.playlistPanelContinuation?new yn(t.playlistPanelContinuation):t.continuationCommand?new Jt(t.continuationCommand):null}n(Eg,"parseLC");function ax(t){return Q(t.map(e=>{if(e.navigateAction)return new Ti(e.navigateAction);if(e.showMiniplayerCommand)return new hn(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new ki(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Ki(e.appendContinuationItemsAction)}).filter(e=>e))}n(ax,"parseRR");function E1(t){return Array.isArray(t)?Je(t.map(e=>(delete e.clickTrackingParams,e))):new Tt(ie(t))}n(E1,"parseActions");function Ng(t,e){return(t==null?void 0:t.map(i=>new sx(i,e)))||[]}n(Ng,"parseFormats");function N1(t,e){let i=t.getType(on);if(i.length>0&&!e)Ci({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let o=[];for(let r of i){let a=e.find(p=>{var d,h;return((h=(d=p.payload)===null||d===void 0?void 0:d.musicFormBooleanChoice)===null||h===void 0?void 0:h.id)===r.form_item_entity_key}),c=a==null?void 0:a.payload.musicFormBooleanChoice;(c==null?void 0:c.selected)!==void 0&&(c==null?void 0:c.opaqueToken)?r.selected=c.selected:o.push(`'${r.title}'`)}o.length>0&&Ci({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:o.length,titles:o})}}n(N1,"applyMutations");function P1(t,e){var i,o,r,a,c,p;let d=t.getType(_i);if(d.length>0){e||Ci({error_type:"mutation_data_missing",classname:"CommentView"});for(let h of d){let _=(o=(i=e.find(w=>{var I,S;return((S=(I=w.payload)===null||I===void 0?void 0:I.commentEntityPayload)===null||S===void 0?void 0:S.key)===h.keys.comment}))===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.commentEntityPayload,x=(a=(r=e.find(w=>{var I,S;return((S=(I=w.payload)===null||I===void 0?void 0:I.engagementToolbarStateEntityPayload)===null||S===void 0?void 0:S.key)===h.keys.toolbar_state}))===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.engagementToolbarStateEntityPayload,y=(p=(c=e.find(w=>w.entityKey===h.keys.toolbar_surface))===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.engagementToolbarSurfaceEntityPayload;h.applyMutations(_,x,y)}}}n(P1,"applyCommentsMutations");var Dg={};xe(Dg,{AccountInfo:()=>R1,Analytics:()=>A1,Channel:()=>Ne,ChannelListContinuation:()=>_o,Comments:()=>M1,FilteredChannelList:()=>Ri,Guide:()=>B1,HashtagFeed:()=>Ai,History:()=>Mt,HomeFeed:()=>Ht,ItemMenu:()=>vx,Library:()=>L1,LiveChat:()=>Sx,NotificationsMenu:()=>F1,Playlist:()=>Pn,Search:()=>$t,Settings:()=>j1,SmoothedQueue:()=>wx,TimeWatched:()=>Y1,TranscriptInfo:()=>dx,VideoInfo:()=>cm});var bn,ux=class{constructor(e){if(bn.set(this,void 0),N(this,bn,l.parseResponse(e.data),"f"),!f(this,bn,"f").contents)throw new b("Page contents not found");let i=f(this,bn,"f").contents.array().as(Um).first();if(!i)throw new b("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return f(this,bn,"f")}};n(ux,"AccountInfo");bn=new WeakMap;var R1=ux;var Qf,lx=class{constructor(e){var i;Qf.set(this,void 0),N(this,Qf,l.parseResponse(e.data),"f"),this.sections=(i=f(this,Qf,"f").contents_memo)===null||i===void 0?void 0:i.getType(Xo).map(o=>o.model).flatMap(o=>o||[])}get page(){return f(this,Qf,"f")}};n(lx,"Analytics");Qf=new WeakMap;var A1=lx;var Zf,Be,po,em,$e,V1,Rg,Ei=class{constructor(e,i,o=!1){Zf.add(this),Be.set(this,void 0),po.set(this,void 0),em.set(this,void 0),$e.set(this,void 0),f(this,Zf,"m",V1).call(this,i)||o?N(this,Be,i,"f"):N(this,Be,l.parseResponse(i.data),"f");let r=Ag(f(this,Be,"f").contents_memo,f(this,Be,"f").continuation_contents_memo,f(this,Be,"f").on_response_received_commands_memo,f(this,Be,"f").on_response_received_endpoints_memo,f(this,Be,"f").on_response_received_actions_memo,f(this,Be,"f").sidebar_memo,f(this,Be,"f").header_memo);if(!r)throw new b("No memo found in feed");N(this,$e,r,"f"),N(this,em,e,"f")}static getVideosFromMemo(e){return e.getType(Bo,k_,un,Lo,an,Wt,Xv)}static getPlaylistsFromMemo(e){let i=e.getType(It,b_),o=e.getType(Z_).filter(r=>["PLAYLIST","ALBUM","PODCAST"].includes(r.content_type));return o.length>0&&i.push(...o),i}get videos(){return Ei.getVideosFromMemo(f(this,$e,"f"))}get posts(){return f(this,$e,"f").getType(si,Mv,Wv)}get channels(){return f(this,$e,"f").getType(Mh,y_)}get playlists(){return Ei.getPlaylistsFromMemo(f(this,$e,"f"))}get memo(){return f(this,$e,"f")}get page_contents(){var e;let i=(e=f(this,$e,"f").getType(Ae))===null||e===void 0?void 0:e.first().content,o=f(this,$e,"f").getType(ki).first(),r=f(this,$e,"f").getType(Ki).first();return i||o||r}get shelves(){return f(this,$e,"f").getType(dn,Lv,Fo)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=f(this,Be,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=f(this,Be,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(Et,Gv))return o.secondary_contents}get actions(){return f(this,em,"f")}get page(){return f(this,Be,"f")}get has_continuation(){return f(this,Zf,"m",Rg).call(this).length>0}getContinuationData(){return k(this,void 0,void 0,function*(){if(f(this,po,"f")){if(f(this,po,"f").length===0)throw new b("There are no continuations.");return yield f(this,po,"f")[0].endpoint.call(f(this,em,"f"),{parse:!0})}if(N(this,po,f(this,Zf,"m",Rg).call(this),"f"),f(this,po,"f"))return this.getContinuationData()})}getContinuation(){return k(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new Ei(this.actions,e,!0)})}};n(Ei,"Feed");Be=new WeakMap,po=new WeakMap,em=new WeakMap,$e=new WeakMap,Zf=new WeakSet,V1=n(function(e){return!("data"in e)},"_Feed_isParsed"),Rg=n(function(){if(f(this,Be,"f").header_memo){let e=f(this,Be,"f").header_memo.getType(pe);return f(this,$e,"f").getType(pe).filter(i=>!e.includes(i))}return f(this,$e,"f").getType(pe)},"_Feed_getBodyContinuations");var Ee=Ei;var wn,cx=class extends Ee{constructor(e,i,o=!1){super(e,i,o),wn.set(this,void 0)}get filter_chips(){var e,i;if(f(this,wn,"f"))return f(this,wn,"f")||[];if(((e=this.memo.getType(Ut))===null||e===void 0?void 0:e.length)>1)throw new b("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(Ut))===null||i===void 0?void 0:i.length)===0)throw new b("There are no feed filter chipbars");return N(this,wn,this.memo.getType(Ye),"f"),f(this,wn,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){return k(this,void 0,void 0,function*(){var i;let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new b("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(a=>a.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new b("Invalid filter");if(!o)throw new b("Filter not found");if(o.is_selected)return this;let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new b("Failed to get filtered feed");return new Ee(this.actions,r,!0)})}};n(cx,"FilterableFeed");wn=new WeakMap;var Ni=cx;var Vg={};xe(Vg,{Feed:()=>Ee,FilterableFeed:()=>Ni,MediaInfo:()=>kn,TabbedFeed:()=>im});var Pi,xt,Tn,tm,px=class{constructor(e,i,o){var r,a,c,p,d,h,_,x,y,w,I,S,E,V,B,U,X,ae,de,J,le,H;Pi.set(this,void 0),xt.set(this,void 0),Tn.set(this,void 0),tm.set(this,void 0),N(this,xt,i,"f");let A=l.parseResponse(e[0].data.playerResponse?e[0].data.playerResponse:e[0].data),q=!((r=e[1])===null||r===void 0)&&r.data?l.parseResponse(e[1].data):void 0;if(N(this,Pi,[A,q],"f"),N(this,Tn,o,"f"),((a=A.playability_status)===null||a===void 0?void 0:a.status)==="ERROR")throw new b("This video is unavailable",A.playability_status);if(A.microformat&&!(!((c=A.microformat)===null||c===void 0)&&c.is(ot,yi)))throw new b("Unsupported microformat",A.microformat);this.basic_info=Object.assign(Object.assign(Object.assign({},A.video_details),{embed:!((p=A.microformat)===null||p===void 0)&&p.is(ot)?(d=A.microformat)===null||d===void 0?void 0:d.embed:null,channel:!((h=A.microformat)===null||h===void 0)&&h.is(ot)?(_=A.microformat)===null||_===void 0?void 0:_.channel:null,is_unlisted:(x=A.microformat)===null||x===void 0?void 0:x.is_unlisted,is_family_safe:(y=A.microformat)===null||y===void 0?void 0:y.is_family_safe,category:!((w=A.microformat)===null||w===void 0)&&w.is(ot)?(I=A.microformat)===null||I===void 0?void 0:I.category:null,has_ypc_metadata:!((S=A.microformat)===null||S===void 0)&&S.is(ot)?(E=A.microformat)===null||E===void 0?void 0:E.has_ypc_metadata:null,start_timestamp:!((V=A.microformat)===null||V===void 0)&&V.is(ot)?A.microformat.start_timestamp:null,end_timestamp:!((B=A.microformat)===null||B===void 0)&&B.is(ot)?A.microformat.end_timestamp:null,view_count:((U=A.microformat)===null||U===void 0?void 0:U.is(ot))&&isNaN((X=A.video_details)===null||X===void 0?void 0:X.view_count)?A.microformat.view_count:(ae=A.video_details)===null||ae===void 0?void 0:ae.view_count,url_canonical:!((de=A.microformat)===null||de===void 0)&&de.is(yi)?(J=A.microformat)===null||J===void 0?void 0:J.url_canonical:null,tags:!((le=A.microformat)===null||le===void 0)&&le.is(yi)?(H=A.microformat)===null||H===void 0?void 0:H.tags:null}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=A.annotations,this.storyboards=A.storyboards,this.endscreen=A.endscreen,this.captions=A.captions,this.cards=A.cards,this.streaming_data=A.streaming_data,this.playability_status=A.playability_status,this.player_config=A.player_config,N(this,tm,A.playback_tracking,"f")}toDash(e,i){return k(this,arguments,void 0,function*(o,r,a={include_thumbnails:!1}){var c,p;let d=f(this,Pi,"f")[0];if(d.video_details&&d.video_details.is_live)throw new b("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let h,_;return a.include_thumbnails&&d.storyboards&&(h=d.storyboards),typeof a.captions_format=="string"&&((c=d.captions)===null||c===void 0?void 0:c.caption_tracks)&&(_=d.captions.caption_tracks),Gi.toDash(this.streaming_data,(p=this.page[0].video_details)===null||p===void 0?void 0:p.is_post_live_dvr,o,r,f(this,Tn,"f"),f(this,xt,"f").session.player,f(this,xt,"f"),h,_,a)})}getStreamingInfo(e,i){var o;return Nm(this.streaming_data,(o=this.page[0].video_details)===null||o===void 0?void 0:o.is_post_live_dvr,e,i,this.cpn,f(this,xt,"f").session.player,f(this,xt,"f"),f(this,Pi,"f")[0].storyboards?f(this,Pi,"f")[0].storyboards:void 0)}chooseFormat(e){return Gi.chooseFormat(e,this.streaming_data)}download(){return k(this,arguments,void 0,function*(e={}){let i=f(this,Pi,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new b("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Gi.download(e,f(this,xt,"f"),this.playability_status,this.streaming_data,f(this,xt,"f").session.player,this.cpn)})}getTranscript(){return k(this,void 0,void 0,function*(){var e;let i=this.page[1];if(!i)throw new b("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new b("Engagement panels not found. Video likely has no transcript.");let o=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!o)throw new b("Transcript panel not found. Video likely has no transcript.");let r=(e=o.content)===null||e===void 0?void 0:e.as(pe);if(!r)throw new b("Transcript continuation not found.");let a=yield r.endpoint.call(this.actions);return new dx(this.actions,a)})}addToWatchHistory(){return k(this,arguments,void 0,function*(e=ge.CLIENTS.WEB.NAME,i=ge.CLIENTS.WEB.VERSION,o="https://www."){if(!f(this,tm,"f"))throw new b("Playback tracking not available");let r={cpn:f(this,Tn,"f"),fmt:251,rtn:0,rt:0},a=f(this,tm,"f").videostats_playback_url.replace("https://s.",o);return yield f(this,xt,"f").stats(a,{client_name:e,client_version:i},r)})}get actions(){return f(this,xt,"f")}get cpn(){return f(this,Tn,"f")}get page(){return f(this,Pi,"f")}};n(px,"MediaInfo");Pi=new WeakMap,xt=new WeakMap,Tn=new WeakMap,tm=new WeakMap;var kn=px;var fo,mo,ho=class extends Ee{constructor(e,i,o=!1){var r;super(e,i,o),fo.set(this,void 0),mo.set(this,void 0),N(this,mo,e,"f"),N(this,fo,(r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(Ae),"f")}get tabs(){var e,i;return(i=(e=f(this,fo,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){return k(this,void 0,void 0,function*(){var i;let o=(i=f(this,fo,"f"))===null||i===void 0?void 0:i.find(a=>a.title.toLowerCase()===e.toLowerCase());if(!o)throw new b(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(f(this,mo,"f"));return new ho(f(this,mo,"f"),r,!1)})}getTabByURL(e){return k(this,void 0,void 0,function*(){var i;let o=(i=f(this,fo,"f"))===null||i===void 0?void 0:i.find(a=>{var c;return((c=a.endpoint.metadata.url)===null||c===void 0?void 0:c.split("/").pop())===e});if(!o)throw new b(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(f(this,mo,"f"));return new ho(f(this,mo,"f"),r,!1)})}hasTabWithURL(e){var i,o;return(o=(i=f(this,fo,"f"))===null||i===void 0?void 0:i.some(r=>{var a;return((a=r.endpoint.metadata.url)===null||a===void 0?void 0:a.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(Ae))===null||i===void 0?void 0:i.find(r=>r.selected))===null||o===void 0?void 0:o.title.toString()}};n(ho,"TabbedFeed");fo=new WeakMap,mo=new WeakMap;var im=ho;var Ne=class extends im{constructor(e,i,o=!1){var r,a,c,p,d,h;super(e,i,o),this.header=(a=(r=this.page.header)===null||r===void 0?void 0:r.item())===null||a===void 0?void 0:a.as(jo,Vh,A_,Ct);let _=(c=this.page.metadata)===null||c===void 0?void 0:c.item().as(Bh),x=(p=this.page.microformat)===null||p===void 0?void 0:p.as(yi);if(this.page.alerts){let y=this.page.alerts.first();if((y==null?void 0:y.alert_type)==="ERROR")throw new In(y.text.toString())}if(!_&&!this.page.contents)throw new b("Invalid channel",this);this.metadata=Object.assign(Object.assign({},_),x||{}),this.subscribe_button=(d=this.page.header_memo)===null||d===void 0?void 0:d.getType(Ce).first(),this.current_tab=(h=this.page.contents)===null||h===void 0?void 0:h.item().as(Et).tabs.array().filterType(Ae,Qo).get({selected:!0})}applyFilter(e){return k(this,void 0,void 0,function*(){var i;let o,r=this.memo.getType(Ut).first();if(typeof e=="string"){if(o=r==null?void 0:r.contents.get({text:e}),!o)throw new b(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof Ye&&(o=e);if(!o)throw new b("Invalid filter",e);let a=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!a)throw new b("No page returned",{filter:o});return new Ri(this.actions,a,!0)})}applySort(e){return k(this,void 0,void 0,function*(){var i,o;let r=this.memo.getType(_t).first();if(!r)throw new b("No sort filter sub menu found");let a=(i=r==null?void 0:r.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!a)throw new b(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(a.selected)return this;let c=yield(o=a.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Ne(this.actions,c,!0)})}applyContentTypeFilter(e){return k(this,void 0,void 0,function*(){var i,o,r,a;let c=(r=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(be).sub_menu)===null||r===void 0?void 0:r.as(Pa);if(!c)throw new b("Sub menu not found");let p=c.content_type_sub_menu_items.find(h=>h.title===e);if(!p)throw new b(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let d=yield(a=p.endpoint)===null||a===void 0?void 0:a.call(this.actions,{parse:!0});return new Ne(this.actions,d,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(Ut))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(Ye).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(_t).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let r=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(be).sub_menu)===null||o===void 0?void 0:o.as(Pa);return(r==null?void 0:r.content_type_sub_menu_items.map(a=>a.title))||[]}getHome(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Ne(this.actions,e.page,!0)})}getVideos(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Ne(this.actions,e.page,!0)})}getShorts(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Ne(this.actions,e.page,!0)})}getLiveStreams(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Ne(this.actions,e.page,!0)})}getReleases(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Ne(this.actions,e.page,!0)})}getPodcasts(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Ne(this.actions,e.page,!0)})}getPlaylists(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Ne(this.actions,e.page,!0)})}getCommunity(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Ne(this.actions,e.page,!0)})}getAbout(){return k(this,void 0,void 0,function*(){var e,i,o,r,a;if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(wa)[0];let c=((e=this.header)===null||e===void 0?void 0:e.is(jo))&&this.header.tagline;if(c||((i=this.header)===null||i===void 0?void 0:i.is(Ct))&&((o=this.header.content)===null||o===void 0?void 0:o.description)){if(c&&c.more_endpoint instanceof v){let h=yield c.more_endpoint.call(this.actions);return new im(this.actions,h,!1).memo.getType(wa)[0]}let p=(a=(r=this.page.header_memo)===null||r===void 0?void 0:r.getType(pe)[0])===null||a===void 0?void 0:a.endpoint;if(!p)throw new b("Failed to extract continuation to get channel about");let d=yield p.call(this.actions,{parse:!0});if(!d.on_response_received_endpoints_memo)throw new b("Unexpected response while fetching channel about",{response:d});return d.on_response_received_endpoints_memo.getType(Om)[0]}throw new b("About not found")})}search(e){return k(this,void 0,void 0,function*(){var i,o;let r=(i=this.memo.getType(Qo))===null||i===void 0?void 0:i[0];if(!r)throw new b("Search tab not found",this);let a=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Ne(this.actions,a,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,o,r,a;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(jo))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))||!!(((o=this.header)===null||o===void 0?void 0:o.is(Ct))&&((a=(r=this.header.content)===null||r===void 0?void 0:r.description)===null||a===void 0?void 0:a.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(Qo))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return k(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new b("Could not get continuation data");return new _o(this.actions,i,!0)})}};n(Ne,"Channel");var _o=class extends Ee{constructor(e,i,o=!1){var r,a;super(e,i,o),this.contents=((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())||((a=this.page.on_response_received_endpoints)===null||a===void 0?void 0:a.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return k(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new b("Could not get continuation data");return new _o(this.actions,i,!0)})}};n(_o,"ChannelListContinuation");var Ri=class extends Ni{constructor(e,i,o=!1){var r;super(e,i,o),this.applied_filter=this.memo.getType(Ye).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=(r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return k(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Ri(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return k(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new b("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(Ut)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(Ye)),new Ri(this.actions,i,!0)})}};n(Ri,"FilteredChannelList");var Sn,Vt,Cn,vo=class{constructor(e,i,o=!1){var r,a,c;Sn.set(this,void 0),Vt.set(this,void 0),Cn.set(this,void 0),N(this,Sn,o?i:l.parseResponse(i),"f"),N(this,Vt,e,"f");let p=f(this,Sn,"f").on_response_received_endpoints;if(!p)throw new b("Comments page did not have any content.");let d=p.at(0),h=p.at(1);this.header=(r=d==null?void 0:d.contents)===null||r===void 0?void 0:r.firstOfType(hi);let _=((a=h==null?void 0:h.contents)===null||a===void 0?void 0:a.filterType(o_))||[];this.contents=Q(_.map(x=>{var y;return(y=x.comment)===null||y===void 0||y.setActions(f(this,Vt,"f")),x.setActions(f(this,Vt,"f")),x})),N(this,Cn,(c=h==null?void 0:h.contents)===null||c===void 0?void 0:c.firstOfType(pe),"f")}applySort(e){return k(this,void 0,void 0,function*(){var i,o,r,a;if(!this.header)throw new b("Page header is missing. Cannot apply sort option.");let c;if(e==="TOP_COMMENTS"?c=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(c=(a=(r=this.header.sort_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||a===void 0?void 0:a.at(1)),!c)throw new b("Could not find target button.");if(c.selected)return this;let p=yield c.endpoint.call(f(this,Vt,"f"),{parse:!0});return new vo(f(this,Vt,"f"),p,!0)})}createComment(e){return k(this,void 0,void 0,function*(){var i;if(!this.header)throw new b("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(i_).submit_button;if(!o)throw new b("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new b("Button does not have an endpoint.");return yield o.endpoint.call(f(this,Vt,"f"),{commentText:e})})}getContinuation(){return k(this,void 0,void 0,function*(){if(!f(this,Cn,"f"))throw new b("Continuation not found");let e=yield f(this,Cn,"f").endpoint.call(f(this,Vt,"f"),{parse:!0}),i=Object.assign({},f(this,Sn,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new b("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new vo(f(this,Vt,"f"),i,!0)})}get has_continuation(){return!!f(this,Cn,"f")}get page(){return f(this,Sn,"f")}};n(vo,"Comments");Sn=new WeakMap,Vt=new WeakMap,Cn=new WeakMap;var M1=vo;var En,fx=class{constructor(e){En.set(this,void 0),N(this,En,l.parseResponse(e),"f"),f(this,En,"f").items&&(this.contents=f(this,En,"f").items.array().as(Zo,I_))}get page(){return f(this,En,"f")}};n(fx,"Guide");En=new WeakMap;var B1=fx;var Mt=class extends Ee{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(tt),this.feed_actions=this.memo.getType(nh).first()}getContinuation(){return k(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Mt(this.actions,e,!0)})}};n(Mt,"History");var Ht=class extends Ni{constructor(e,i,o=!1){var r;super(e,i,o),this.header=this.memo.getType(x_).first(),this.contents=this.memo.getType(wi).first()||((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return k(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Ht(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});return k(this,void 0,void 0,function*(){var i;let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,this.header&&((i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header])),new Ht(this.actions,o.page,!0)})}};n(Ht,"HomeFeed");var Ai=class extends Ni{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new b("Unexpected response",this.page);let o=this.page.contents_memo.getType(Ae).first();if(!o.content)throw new b("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(S_,Ct)),this.contents=o.content.as(wi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return k(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Ai(this.actions,o.page)})}};n(Ai,"HashtagFeed");var mx,hx,om,_x=class{constructor(e,i){mx.set(this,void 0),hx.set(this,void 0),om.set(this,void 0),N(this,mx,e,"f"),N(this,hx,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(F))throw new b('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');N(this,om,o.as(F).items,"f")}selectItem(e){return k(this,void 0,void 0,function*(){let i;if(e instanceof T){if(!e.endpoint)throw new b("Item does not have an endpoint.");i=e.endpoint}else{let r=f(this,om,"f").find(a=>a.is(gi)?a.as(gi).icon_type===e:!1);if(!r||!r.is(gi))throw new b(`Button "${e}" not found.`);i=r.endpoint}if(!i)throw new b("Target button does not have an endpoint.");return yield i.call(f(this,hx,"f"),{parse:!0})})}items(){return f(this,om,"f")}page(){return f(this,mx,"f")}};n(_x,"ItemMenu");mx=new WeakMap,hx=new WeakMap,om=new WeakMap;var vx=_x;var nm,xx,Nn=class extends Ee{constructor(e,i,o=!1){var r,a,c,p,d;super(e,i,o),nm.add(this);let h=this.memo.getType(Pv).first(),_=this.memo.getType(Av).first(),x=this.memo.getType(Vv).first(),y=(r=this.page.alerts)===null||r===void 0?void 0:r.firstOfType(Ro);if(y&&y.alert_type==="ERROR")throw new b(y.text.toString(),y);if(!_&&!x&&Object.keys(this.page).length===0)throw new b("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(a=this.page.metadata)===null||a===void 0?void 0:a.item().as(Rv)),{subtitle:h?h.subtitle:null,author:(p=(c=x==null?void 0:x.owner)===null||c===void 0?void 0:c.as(fn).author)!==null&&p!==void 0?p:h==null?void 0:h.author,thumbnails:(d=_==null?void 0:_.thumbnail_renderer)===null||d===void 0?void 0:d.as(Ko,$o).thumbnail,total_items:f(this,nm,"m",xx).call(this,0,_),views:f(this,nm,"m",xx).call(this,1,_),last_updated:f(this,nm,"m",xx).call(this,2,_),can_share:h==null?void 0:h.can_share,can_delete:h==null?void 0:h.can_delete,is_editable:h==null?void 0:h.is_editable,privacy:h==null?void 0:h.privacy}),this.menu=_==null?void 0:_.menu,this.endpoint=_==null?void 0:_.endpoint,this.messages=this.memo.getType(vi)}get items(){return Q(this.videos.as(an,un).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(be).first();return e?!!this.memo.getType(pe).find(i=>!e.contents.includes(i)):super.has_continuation}getContinuationData(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return k(this,void 0,void 0,function*(){let i=this.memo.getType(be).first();if(!i)return yield e.getContinuationData.call(this);let o=this.memo.getType(pe).find(a=>!i.contents.includes(a));if(!o)throw new b("There are no continuations.");return yield o.endpoint.call(this.actions,{parse:!0})})}getContinuation(){return k(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new Nn(this.actions,e,!0)})}};n(Nn,"Playlist");nm=new WeakSet,xx=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var Pn=Nn;var Mg,D1,gx=class extends Ee{constructor(e,i){if(super(e,i),Mg.add(this),!this.page.contents_memo)throw new b("Page contents not found");this.header=this.memo.getType(Ct).first();let o=this.page.contents_memo.getType(dn);this.sections=o.map(r=>{var a;return{type:r.icon_type,title:r.title,contents:((a=r.content)===null||a===void 0?void 0:a.key("items").array())||[],getAll:()=>f(this,Mg,"m",D1).call(this,r)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(gx,"Library");Mg=new WeakSet,D1=n(function(e){return k(this,void 0,void 0,function*(){var i;if(!(!((i=e.menu)===null||i===void 0)&&i.as(F).hasKey("top_level_buttons")))throw new b(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(F).top_level_buttons.firstOfType(T);if(!o)throw new b("Did not find target button.");let r=yield o.as(T).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new Pn(this.actions,r,!0);case"WATCH_HISTORY":return new Mt(this.actions,r,!0);case"CONTENT_CUT":return new Ee(this.actions,r,!0);default:throw new b("Target shelf not implemented.")}})},"_Library_getAll");var L1=gx;var Gt,Vi,xo,at,gt,Ke;function fS(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n(fS,"flattenQueue");var yx=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(yx,"DelayQueue");var bx=class{constructor(){Gt.set(this,void 0),Vi.set(this,void 0),xo.set(this,void 0),at.set(this,void 0),gt.set(this,void 0),Ke.set(this,void 0),N(this,Gt,null,"f"),N(this,Vi,null,"f"),N(this,xo,null,"f"),N(this,at,[],"f"),N(this,gt,null,"f"),N(this,Ke,new yx,"f")}enqueueActionGroup(e){if(f(this,Gt,"f")!==null){let i=Date.now()-f(this,Gt,"f");f(this,Ke,"f").back.push(i),5<f(this,Ke,"f").front.length+f(this,Ke,"f").back.length&&(f(this,Ke,"f").front.length||(f(this,Ke,"f").front=f(this,Ke,"f").back,f(this,Ke,"f").front.reverse(),f(this,Ke,"f").back=[]),f(this,Ke,"f").front.pop()),N(this,Vi,Math.max(...f(this,Ke,"f").getValues()),"f")}N(this,Gt,Date.now(),"f"),f(this,at,"f").push(e),f(this,gt,"f")===null&&N(this,gt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(N(this,gt,null,"f"),f(this,at,"f").length){let e=1e4;f(this,Vi,"f")!==null&&f(this,Gt,"f")!==null&&(e=f(this,Vi,"f")-Date.now()+f(this,Gt,"f")),e=f(this,at,"f").length<e/80?1:Math.ceil(f(this,at,"f").length/(e/80));let i=fS(f(this,at,"f").splice(0,e));f(this,xo,"f")&&f(this,xo,"f").call(this,i),f(this,at,"f")!==null&&(e==1?(e=f(this,Vi,"f")/f(this,at,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,N(this,gt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){f(this,gt,"f")!==null&&(clearTimeout(f(this,gt,"f")),N(this,gt,null,"f")),N(this,at,[],"f")}set callback(e){N(this,xo,e,"f")}get callback(){return f(this,xo,"f")}get action_queue(){return f(this,at,"f")}get estimated_update_interval(){return f(this,Vi,"f")}get last_update_time(){return f(this,Gt,"f")}get next_update_id(){return f(this,gt,"f")}get poll_response_delay_queue(){return f(this,Ke,"f")}};n(bx,"SmoothedQueue");Gt=new WeakMap,Vi=new WeakMap,xo=new WeakMap,at=new WeakMap,gt=new WeakMap,Ke=new WeakMap;var wx=bx;var Pe,zt,am,Tx,yo,rm,sm,Bg,kx,O1,go,Ix=class extends Sr{constructor(e){var i,o;super(),Pe.add(this),zt.set(this,void 0),am.set(this,void 0),Tx.set(this,void 0),yo.set(this,void 0),rm.set(this,void 0),sm.set(this,0),this.running=!1,this.is_replay=!1,N(this,am,e.basic_info.id,"f"),N(this,Tx,e.basic_info.channel_id,"f"),N(this,zt,e.actions,"f"),N(this,yo,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new wx,this.smoothed_queue.callback=r=>k(this,void 0,void 0,function*(){r.length?r.length<10?yield f(this,Pe,"m",kx).call(this,r):this.is_replay?(f(this,Pe,"m",kx).call(this,r),yield f(this,Pe,"m",go).call(this,2e3)):f(this,Pe,"m",kx).call(this,r):yield f(this,Pe,"m",go).call(this,2e3),this.running&&f(this,Pe,"m",Bg).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,f(this,Pe,"m",Bg).call(this),f(this,Pe,"m",O1).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return k(this,void 0,void 0,function*(){let i=yield f(this,zt,"f").execute("/live_chat/send_message",{params:mg(f(this,Tx,"f"),f(this,am,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:W.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new b("Unexpected response from send_message",i);return i.actions.array().as(j_)})}applyFilter(e){var i,o,r,a,c,p,d;if(!this.initial_info)throw new b("Cannot apply filter before initial info is retrieved.");let h=(r=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||r===void 0?void 0:r.sub_menu_items;if(e==="TOP_CHAT"){if(!((a=h==null?void 0:h.at(0))===null||a===void 0)&&a.selected)return;N(this,yo,(c=h==null?void 0:h.at(0))===null||c===void 0?void 0:c.continuation,"f")}else{if(!((p=h==null?void 0:h.at(1))===null||p===void 0)&&p.selected)return;N(this,yo,(d=h==null?void 0:h.at(1))===null||d===void 0?void 0:d.continuation,"f")}}getItemMenu(e){return k(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(v))throw new b("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(v).call(f(this,zt,"f"),{parse:!0});if(!i)throw new b("Could not retrieve item menu.",e);return new vx(i,f(this,zt,"f"))})}selectButton(e){return k(this,void 0,void 0,function*(){return yield e.endpoint.call(f(this,zt,"f"),{parse:!0})})}};n(Ix,"LiveChat");zt=new WeakMap,am=new WeakMap,Tx=new WeakMap,yo=new WeakMap,rm=new WeakMap,sm=new WeakMap,Pe=new WeakSet,Bg=n(function t(){k(this,void 0,void 0,function*(){var e,i;try{let o=yield f(this,zt,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:f(this,yo,"f"),parse:!0}),r=o.continuation_contents;if(r||(this.emit("error",new b("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(r instanceof Ii)){this.stop(),this.emit("end");return}N(this,yo,r.continuation.token,"f"),r.header?(this.initial_info=r,this.emit("start",r),this.running&&f(this,Pe,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(r.actions),N(this,sm,0,"f")}catch(o){this.emit("error",o),N(this,sm,(i=f(this,sm,"f"),e=i++,i),"f"),e<10?(yield f(this,Pe,"m",go).call(this,2e3),f(this,Pe,"m",t).call(this)):(this.emit("error",new b("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),kx=n(function(e){return k(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),r=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let a of e)yield f(this,Pe,"m",go).call(this,r),this.emit("chat-update",a)})},"_LiveChat_emitSmoothedActions"),O1=n(function t(){k(this,void 0,void 0,function*(){var e,i,o,r,a,c,p,d,h,_,x;try{let y={videoId:f(this,am,"f")};f(this,rm,"f")&&(y.continuation=f(this,rm,"f"));let w=yield f(this,zt,"f").execute("/updated_metadata",y),I=l.parseResponse(w.data);N(this,rm,(e=I.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=I.actions)===null||i===void 0?void 0:i.array().firstOfType(H_))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((r=I.actions)===null||r===void 0?void 0:r.array().firstOfType(J_))||((a=this.metadata)===null||a===void 0?void 0:a.description),views:((c=I.actions)===null||c===void 0?void 0:c.array().firstOfType(z_))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((d=I.actions)===null||d===void 0?void 0:d.array().firstOfType(G_))||((h=this.metadata)===null||h===void 0?void 0:h.likes),date:((_=I.actions)===null||_===void 0?void 0:_.array().firstOfType(W_))||((x=this.metadata)===null||x===void 0?void 0:x.date)},this.emit("metadata-update",this.metadata),yield f(this,Pe,"m",go).call(this,5e3),this.running&&f(this,Pe,"m",t).call(this)}catch(y){yield f(this,Pe,"m",go).call(this,2e3),this.running&&f(this,Pe,"m",t).call(this)}})},"_LiveChat_pollMetadata"),go=n(function(e){return k(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var Sx=Ix;var Mi,um,Rn=class{constructor(e,i){if(Mi.set(this,void 0),um.set(this,void 0),N(this,um,e,"f"),N(this,Mi,l.parseResponse(i.data),"f"),!f(this,Mi,"f").actions_memo)throw new b("Page actions not found");this.header=f(this,Mi,"f").actions_memo.getType(ov).first(),this.contents=f(this,Mi,"f").actions_memo.getType(xv)}getContinuation(){return k(this,void 0,void 0,function*(){var e;let i=(e=f(this,Mi,"f").actions_memo)===null||e===void 0?void 0:e.getType(pe).first();if(!i)throw new b("Continuation not found");let o=yield i.endpoint.call(f(this,um,"f"),{parse:!1});return new Rn(f(this,um,"f"),o)})}get page(){return f(this,Mi,"f")}};n(Rn,"NotificationsMenu");Mi=new WeakMap,um=new WeakMap;var F1=Rn;var $t=class extends Ee{constructor(e,i,o=!1){var r,a,c;super(e,i,o);let p=((r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(be).first().contents)||((a=this.page.on_response_received_commands)===null||a===void 0?void 0:a.first().contents);if(!p)throw new b("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(Fv)),this.results=Q(p.filterType(tt).flatMap(d=>d.contents)),this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType(jv).first(),this.watch_card=this.page.contents_memo.getType(Kv).first()),this.refinement_cards=(c=this.results)===null||c===void 0?void 0:c.firstOfType(ai)}selectRefinementCard(e){return k(this,void 0,void 0,function*(){var i,o;let r;if(typeof e=="string"){if(!this.refinement_cards)throw new b("No refinement cards found.");if(r=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(qi),!r)throw new b(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")r=e;else throw new b("Invalid refinement card!");let a=yield r.endpoint.call(this.actions,{parse:!0});return new $t(this.actions,a,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(qi).map(i=>i.query))||[]}getContinuation(){return k(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new $t(this.actions,e,!0)})}};n($t,"Search");var bo,lm,An=class{constructor(e,i){var o,r,a,c;if(bo.set(this,void 0),lm.set(this,void 0),N(this,lm,e,"f"),N(this,bo,l.parseResponse(i.data),"f"),this.sidebar=(o=f(this,bo,"f").sidebar)===null||o===void 0?void 0:o.as(Uv),!f(this,bo,"f").contents)throw new b("Page contents not found");let p=f(this,bo,"f").contents.item().as(Et).tabs.array().as(Ae).get({selected:!0});if(!p)throw new b("Target tab not found");let d=(r=p.content)===null||r===void 0?void 0:r.as(be).contents.as(tt);this.introduction=(c=(a=d==null?void 0:d.shift())===null||a===void 0?void 0:a.contents)===null||c===void 0?void 0:c.firstOfType(yv),this.sections=d==null?void 0:d.map(h=>{var _;return{title:!((_=h.header)===null||_===void 0)&&_.is(hi,en,tn)?h.header.title.toString():null,contents:h.contents}})}selectSidebarItem(e){return k(this,void 0,void 0,function*(){if(!this.sidebar)throw new b("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new b(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(zo))i=e;else throw new b("Invalid item",{target_item:e});let o=yield i.endpoint.call(f(this,lm,"f"),{parse:!1});return new An(f(this,lm,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new b("Sections not available");for(let o of this.sections)if(!!o.contents)for(let r of o.contents){let a=r.as(pn).options;if(a){for(let c of a)if(c.is(cn)&&((i=c.title)===null||i===void 0?void 0:i.toString())===e)return c}}throw new b(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new b("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(pn).options&&(e=e.concat(o.as(pn).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new b("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return f(this,bo,"f")}};n(An,"Settings");bo=new WeakMap,lm=new WeakMap;var j1=An;var Vn,Cx=class{constructor(e){var i;if(Vn.set(this,void 0),N(this,Vn,l.parseResponse(e.data),"f"),!f(this,Vn,"f").contents)throw new b("Page contents not found");let o=f(this,Vn,"f").contents.item().as(Jv).tabs.get({selected:!0});if(!o)throw new b("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(be).contents.as(tt)}get page(){return f(this,Vn,"f")}};n(Cx,"TimeWatched");Vn=new WeakMap;var Y1=Cx;var Bi,Mn=class extends kn{constructor(e,i,o){var r,a,c,p,d,h,_,x,y,w,I,S,E,V,B,U,X,ae,de,J,le,H,A,q,ne,ke,Qe,nt,K;super(e,i,o),Bi.set(this,void 0);let[De,Ve]=this.page;if(this.streaming_data){let ve=this.streaming_data.adaptive_formats.find(Oe=>{var Ze;return(Ze=Oe.audio_track)===null||Ze===void 0?void 0:Ze.audio_is_default});if(ve)this.streaming_data.formats.forEach(Oe=>Oe.language=ve.language);else if(((r=this.captions)===null||r===void 0?void 0:r.caption_tracks)&&((a=this.captions)===null||a===void 0?void 0:a.caption_tracks.length)>0){let Oe=this.captions.caption_tracks.find(he=>he.kind==="asr"),Ze=Oe==null?void 0:Oe.language_code;this.streaming_data.adaptive_formats.forEach(he=>{he.has_audio&&(he.language=Ze)}),this.streaming_data.formats.forEach(he=>he.language=Ze)}}let _e=(c=Ve==null?void 0:Ve.contents)===null||c===void 0?void 0:c.item().as($v),fe=_e==null?void 0:_e.results,Le=_e==null?void 0:_e.secondary_results;if(fe&&Le){if(((p=De.microformat)===null||p===void 0?void 0:p.is(ot))&&((d=De.microformat)===null||d===void 0?void 0:d.category)==="Gaming"){let he=(x=(_=(h=fe.firstOfType(Bf))===null||h===void 0?void 0:h.metadata)===null||_===void 0?void 0:_.rows)===null||x===void 0?void 0:x.firstOfType(Id);he!=null&&he.is(Id)&&(this.game_info={title:(w=(y=he==null?void 0:he.contents)===null||y===void 0?void 0:y.firstOfType(Td))===null||w===void 0?void 0:w.title,release_year:(S=(I=he==null?void 0:he.contents)===null||I===void 0?void 0:I.firstOfType(Td))===null||S===void 0?void 0:S.subtitle})}this.primary_info=fe.firstOfType(qv),this.secondary_info=fe.firstOfType(Bf),this.merchandise=fe.firstOfType(nv),this.related_chip_cloud=(E=Le.firstOfType(Dv))===null||E===void 0?void 0:E.content.as(Yo),_e!=null&&_e.playlist&&(this.playlist=_e.playlist),this.watch_next_feed=((V=Le.firstOfType(tt))===null||V===void 0?void 0:V.contents)||Le,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((B=this.watch_next_feed.at(-1))===null||B===void 0?void 0:B.is(pe))&&N(this,Bi,(U=this.watch_next_feed.pop())===null||U===void 0?void 0:U.as(pe),"f"),this.player_overlays=(X=Ve==null?void 0:Ve.player_overlays)===null||X===void 0?void 0:X.item().as(Nv),_e!=null&&_e.autoplay&&(this.autoplay=_e.autoplay);let ve=(de=(ae=this.primary_info)===null||ae===void 0?void 0:ae.menu)===null||de===void 0?void 0:de.top_level_buttons.firstOfType(ro);((J=ve==null?void 0:ve.like_button)===null||J===void 0?void 0:J.is(ye))&&((le=ve==null?void 0:ve.dislike_button)===null||le===void 0?void 0:le.is(ye))&&(this.basic_info.like_count=(H=ve==null?void 0:ve.like_button)===null||H===void 0?void 0:H.like_count,this.basic_info.is_liked=(A=ve==null?void 0:ve.like_button)===null||A===void 0?void 0:A.is_toggled,this.basic_info.is_disliked=(q=ve==null?void 0:ve.dislike_button)===null||q===void 0?void 0:q.is_toggled);let Oe=(ke=(ne=this.primary_info)===null||ne===void 0?void 0:ne.menu)===null||ke===void 0?void 0:ke.top_level_buttons.firstOfType(so);if(Oe&&(this.basic_info.like_count=Oe.like_count,Oe.like_button)){let he=Oe.like_button.like_status_entity.like_status;this.basic_info.is_liked=he==="LIKE",this.basic_info.is_disliked=he==="DISLIKE"}let Ze=(Qe=fe.get({target_id:"comments-entry-point"}))===null||Qe===void 0?void 0:Qe.as(tt);this.comments_entry_point_header=(nt=Ze==null?void 0:Ze.contents)===null||nt===void 0?void 0:nt.firstOfType(t_),this.livechat=(K=Ve==null?void 0:Ve.contents_memo)===null||K===void 0?void 0:K.getType(L_).first()}}selectFilter(e){return k(this,void 0,void 0,function*(){var i,o,r,a;if(!this.related_chip_cloud)throw new b("Chip cloud not found, cannot apply filter");let c;if(typeof e=="string"){let h=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!h)throw new b("Invalid filter",{available_filters:this.filters});c=h}else if(e!=null&&e.is(Ye))c=e;else throw new b("Invalid cloud chip",e);if(c.is_selected)return this;let p=yield(r=c.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0}),d=(a=p==null?void 0:p.on_response_received_endpoints)===null||a===void 0?void 0:a.get({target_id:"watch-next-feed"});return this.watch_next_feed=d==null?void 0:d.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return k(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){return k(this,void 0,void 0,function*(){var e,i,o,r,a;if(!f(this,Bi,"f"))throw new b("Watch next feed continuation not found");let c=yield(e=f(this,Bi,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=c==null?void 0:c.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"AppendContinuationItemsAction"});if(!p)throw new b("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((r=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||r===void 0)&&r.is(pe)?N(this,Bi,(a=this.watch_next_feed.pop())===null||a===void 0?void 0:a.as(pe),"f"):N(this,Bi,void 0,"f"),this})}like(){return k(this,void 0,void 0,function*(){var e,i,o,r,a;let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(so);if(c){let _=(o=c==null?void 0:c.like_button)===null||o===void 0?void 0:o.toggle_button;if(!_||!_.default_button||!c.like_button)throw new b("Like button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="LIKE")throw new b("This video is already liked",{video_id:this.basic_info.id});return yield new v(_.default_button.on_tap.payload.commands.find(I=>I.innertubeCommand)).call(this.actions)}let p=(a=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType(ro),d=p==null?void 0:p.like_button;if(!d)throw new b("Like button not found",{video_id:this.basic_info.id});if(!d.is(ye))throw new b("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new b("This video is already liked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}dislike(){return k(this,void 0,void 0,function*(){var e,i,o,r,a;let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(so);if(c){let _=(o=c==null?void 0:c.dislike_button)===null||o===void 0?void 0:o.toggle_button;if(!_||!_.default_button||!c.dislike_button||!c.like_button)throw new b("Dislike button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="DISLIKE")throw new b("This video is already disliked",{video_id:this.basic_info.id});return yield new v(_.default_button.on_tap.payload.commands.find(I=>I.innertubeCommand)).call(this.actions)}let p=(a=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType(ro),d=p==null?void 0:p.dislike_button;if(!d)throw new b("Dislike button not found",{video_id:this.basic_info.id});if(!d.is(ye))throw new b("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new b("This video is already disliked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}removeRating(){return k(this,void 0,void 0,function*(){var e,i,o,r,a,c,p;let d,h=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(so);if(h){let I=(o=h==null?void 0:h.like_button)===null||o===void 0?void 0:o.toggle_button;if(!I||!I.default_button||!h.like_button)throw new b("Like button not found",{video_id:this.basic_info.id});let S=h.like_button.like_status_entity.like_status;if(S==="LIKE")d=(r=h==null?void 0:h.like_button)===null||r===void 0?void 0:r.toggle_button;else if(S==="DISLIKE")d=(a=h==null?void 0:h.dislike_button)===null||a===void 0?void 0:a.toggle_button;else throw new b("This video is not liked/disliked",{video_id:this.basic_info.id});if(!d||!d.toggled_button)throw new b("Like/Dislike button not found",{video_id:this.basic_info.id});return yield new v(d.toggled_button.on_tap.payload.commands.find(B=>B.innertubeCommand)).call(this.actions)}let _=(p=(c=this.primary_info)===null||c===void 0?void 0:c.menu)===null||p===void 0?void 0:p.top_level_buttons.firstOfType(ro),x=_==null?void 0:_.like_button,y=_==null?void 0:_.dislike_button;if(!(x!=null&&x.is(ye))||!(y!=null&&y.is(ye)))throw new b("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(x!=null&&x.is_toggled?d=x:y!=null&&y.is_toggled&&(d=y),!d)throw new b("This video is not liked/disliked",{video_id:this.basic_info.id});return yield d.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new b("Live Chat is not available",{video_id:this.basic_info.id});return new Sx(this)}getTrailerInfo(){var e,i;if(this.has_trailer&&this.playability_status){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(Jp).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new Mn([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var r;return(r=o.text)===null||r===void 0?void 0:r.toString()}))||[]}get wn_has_continuation(){return!!f(this,Bi,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e,i;return!!(!((i=(e=this.playability_status)===null||e===void 0?void 0:e.error_screen)===null||i===void 0)&&i.is(Jp))}get music_tracks(){var e,i,o,r,a,c;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(d=>{var h;return(h=d.content)===null||h===void 0?void 0:h.is(Qi)});if(p!==void 0&&p.length>0){let d=(a=(r=(o=p[0].content)===null||o===void 0?void 0:o.as(Qi))===null||r===void 0?void 0:r.items)===null||a===void 0?void 0:a.filterType(Oo);if(d!==void 0&&d.length>0)return(c=d[0].carousel_lockups)===null||c===void 0?void 0:c.map(h=>{var _,x,y,w,I,S,E,V,B,U,X,ae,de,J,le,H,A,q,ne;let ke,Qe,nt,K,De,Ve;ke=(x=(_=h.video_lockup)===null||_===void 0?void 0:_.title)===null||x===void 0?void 0:x.toString(),De=(y=h.video_lockup)===null||y===void 0?void 0:y.endpoint.payload.videoId;for(let _e=0;_e<h.info_rows.length;_e++){let fe=h.info_rows[_e];if(fe.info_row_expand_status_key===void 0)if(ke===void 0){if(ke=((w=fe.default_metadata)===null||w===void 0?void 0:w.toString())||((I=fe.expanded_metadata)===null||I===void 0?void 0:I.toString()),De===void 0){let Le=((S=fe.default_metadata)===null||S===void 0?void 0:S.endpoint)||((E=fe.expanded_metadata)===null||E===void 0?void 0:E.endpoint);De=(V=Le==null?void 0:Le.payload)===null||V===void 0?void 0:V.videoId}}else nt=((B=fe.default_metadata)===null||B===void 0?void 0:B.toString())||((U=fe.expanded_metadata)===null||U===void 0?void 0:U.toString());else{if(((X=fe.info_row_expand_status_key)===null||X===void 0?void 0:X.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(Qe=((ae=fe.default_metadata)===null||ae===void 0?void 0:ae.toString())||((de=fe.expanded_metadata)===null||de===void 0?void 0:de.toString()),Ve===void 0)){let Le=((J=fe.default_metadata)===null||J===void 0?void 0:J.endpoint)||((le=fe.expanded_metadata)===null||le===void 0?void 0:le.endpoint);Ve=(H=Le==null?void 0:Le.payload)===null||H===void 0?void 0:H.browseId}((A=fe.info_row_expand_status_key)===null||A===void 0?void 0:A.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(K=((q=fe.default_metadata)===null||q===void 0?void 0:q.toString())||((ne=fe.expanded_metadata)===null||ne===void 0?void 0:ne.toString()))}}return{song:ke,artist:Qe,album:nt,license:K,videoId:De,channelId:Ve}})}return[]}};n(Mn,"VideoInfo");Bi=new WeakMap;var cm=Mn;var Bn,pm,Dn=class{constructor(e,i){if(Bn.set(this,void 0),pm.set(this,void 0),N(this,Bn,l.parseResponse(i.data),"f"),N(this,pm,e,"f"),!f(this,Bn,"f").actions_memo)throw new Error("Page actions not found");this.transcript=f(this,Bn,"f").actions_memo.getType(Po).first()}selectLanguage(e){return k(this,void 0,void 0,function*(){var i,o,r,a;let c=(a=(r=(o=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||o===void 0?void 0:o.language_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||a===void 0?void 0:a.find(d=>d.title.toString()===e);if(!c)throw new Error(`Language not found: ${e}`);if(c.selected)return this;let p=yield f(this,pm,"f").execute("/get_transcript",{params:c.continuation});return new Dn(f(this,pm,"f"),p)})}get languages(){var e,i,o,r;return((r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.map(a=>a.title.toString()))||[]}get selectedLanguage(){var e,i,o,r,a;return((a=(r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.find(c=>c.selected))===null||a===void 0?void 0:a.title.toString())||""}get page(){return f(this,Bn,"f")}};n(Dn,"TranscriptInfo");Bn=new WeakMap,pm=new WeakMap;var dx=Dn;var D=class{constructor(e,i,o,r){var a,c,p,d,h,_,x,y,w,I,S,E,V,B,U,X,ae,de,J,le,H,A,q,ne,ke,Qe,nt;let K=new u(e);this.id=r||((d=(p=(c=(a=K==null?void 0:K.runs)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId)||((_=(h=K==null?void 0:K.endpoint)===null||h===void 0?void 0:h.payload)===null||_===void 0?void 0:_.browseId)||"N/A",this.name=(K==null?void 0:K.text)||"N/A",this.thumbnails=o?g.fromResponse(o):[],this.endpoint=((y=(x=K==null?void 0:K.runs)===null||x===void 0?void 0:x[0])===null||y===void 0?void 0:y.endpoint)||(K==null?void 0:K.endpoint),i?Array.isArray(i)?(this.badges=l.parseArray(i),this.is_moderator=(w=this.badges)===null||w===void 0?void 0:w.some(De=>De.icon_type=="MODERATOR"),this.is_verified=(I=this.badges)===null||I===void 0?void 0:I.some(De=>De.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(S=this.badges)===null||S===void 0?void 0:S.some(De=>De.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=Q([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=Q([]),this.url=((U=(B=(V=(E=K==null?void 0:K.runs)===null||E===void 0?void 0:E[0])===null||V===void 0?void 0:V.endpoint)===null||B===void 0?void 0:B.metadata)===null||U===void 0?void 0:U.api_url)==="/browse"&&`${et.YT_BASE}${((J=(de=(ae=(X=K==null?void 0:K.runs)===null||X===void 0?void 0:X[0])===null||ae===void 0?void 0:ae.endpoint)===null||de===void 0?void 0:de.payload)===null||J===void 0?void 0:J.canonicalBaseUrl)||`/u/${(q=(A=(H=(le=K==null?void 0:K.runs)===null||le===void 0?void 0:le[0])===null||H===void 0?void 0:H.endpoint)===null||A===void 0?void 0:A.payload)===null||q===void 0?void 0:q.browseId}`}`||`${et.YT_BASE}${((ke=(ne=K==null?void 0:K.endpoint)===null||ne===void 0?void 0:ne.payload)===null||ke===void 0?void 0:ke.canonicalBaseUrl)||`/u/${(nt=(Qe=K==null?void 0:K.endpoint)===null||Qe===void 0?void 0:Qe.payload)===null||nt===void 0?void 0:nt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(D,"Author");var U1={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var mm={};xe(mm,{ArrayExpression:()=>Ln,ArrowFunctionExpression:()=>On,AssignmentExpression:()=>Fn,BinaryExpression:()=>jn,BlockStatement:()=>Yn,BreakStatement:()=>Un,CallExpression:()=>Wn,ConditionalExpression:()=>Hn,ContinueStatement:()=>Gn,ExpressionStatement:()=>zn,ForOfStatement:()=>$n,ForStatement:()=>Kn,FunctionDeclaration:()=>qn,FunctionExpression:()=>Xn,Identifier:()=>Qn,IfStatement:()=>Zn,Literal:()=>er,LogicalExpression:()=>tr,MemberExpression:()=>ir,NewExpression:()=>or,ObjectExpression:()=>nr,Property:()=>rr,ReturnStatement:()=>sr,SequenceExpression:()=>ar,SwitchCase:()=>ur,SwitchStatement:()=>lr,TemplateLiteral:()=>cr,ThisExpression:()=>pr,ThrowStatement:()=>dr,TryStatement:()=>fr,UnaryExpression:()=>mr,UpdateExpression:()=>hr,VariableDeclaration:()=>_r,WhileStatement:()=>vr});var M=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(M,"BaseJSNode");var Ln=class extends M{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(Ln,"ArrayExpression");var Og={};xe(Og,{JinterError:()=>Bt,namedFunction:()=>wo});var wo=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction"),Bt=class extends Error{constructor(e,i){super(e),i&&(this.info=i)}};n(Bt,"JinterError");var On=class extends M{run(){let{params:e,body:i}=this.node;return wo("anonymous function",r=>{let a=0;for(let c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,r[a]):console.warn("Unhandled param type",c.type),a++;return this.visitor.visitNode(i)})}};n(On,"ArrowFunctionExpression");var Fn=class extends M{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n(Fn,"AssignmentExpression");var jn=class extends M{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n(jn,"BinaryExpression");var Yn=class extends M{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(Yn,"BlockStatement");var Un=class extends M{run(){return"break"}};n(Un,"BreakStatement");var dm=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},To,Ex,W1,Wn=class extends M{constructor(){super(...arguments),To.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let a=this.visitor.listeners[e](this.node,this.visitor);if(a!=="__continue_exec")return a}if(i&&i!=="toString"&&this.visitor.listeners[i]){let a=this.visitor.listeners[i](this.node,this.visitor);if(a!=="__continue_exec")return a}if(this.node.callee.type==="MemberExpression"){if(Jn.has(this.node,this.visitor))return Jn.execute(this.node,this.visitor);let a=this.visitor.visitNode(this.node.callee.object),c=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(d=>this.visitor.visitNode(d));return a||dm(this,To,"m",Ex).call(this),typeof a[c]!="function"&&dm(this,To,"m",Ex).call(this),a[c].toString().includes("[native code]")?a[c](...p):a[c](p)}let o=this.visitor.visitNode(this.node.callee),r=this.node.arguments.map(a=>this.visitor.visitNode(a));return typeof o!="function"&&dm(this,To,"m",Ex).call(this),o(r)}};n(Wn,"CallExpression");To=new WeakSet,Ex=n(function(){if(this.node.callee.type==="MemberExpression"||this.node.callee.type==="Identifier"){let e=dm(this,To,"m",W1).call(this,this.node.callee);throw new Bt(`${e} is not a function`)}else if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Bt(`${e.join("")} is not a function`)}},"_CallExpression_throwError"),W1=n(function t(e){if(e.type==="Identifier")return e.name;if(e.type==="MemberExpression"){let i=dm(this,To,"m",t).call(this,e.object),o=e.computed?`[${this.visitor.getName(e.property)||"..."}]`:`.${this.visitor.getName(e.property)}`;return`${i}${o}`}return"<unknown>"},"_CallExpression_getCalleeString");var Jn=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(Jn,"Builtins");Jn.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let r=0;for(let a of o)i[0]([a,r++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var Hn=class extends M{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(Hn,"ConditionalExpression");var Gn=class extends M{run(){return"continue"}};n(Gn,"ContinueStatement");var zn=class extends M{run(){return this.visitor.visitNode(this.node.expression)}};n(zn,"ExpressionStatement");var $n=class extends M{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let r of this.node.left.declarations[0].id.properties)r.type==="Property"&&r.value.type==="Identifier"&&r.key.type==="Identifier"&&this.visitor.scope.set(r.value.name,i[r.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};n($n,"ForOfStatement");var Kn=class extends M{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n(Kn,"ForStatement");var qn=class extends M{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),r=wo(o,a=>{let c=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,a[c]):console.warn("Unhandled param type",p.type),c++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,r)}};n(qn,"FunctionDeclaration");var Xn=class extends M{run(){let{params:e,body:i}=this.node;return wo("anonymous function",r=>{let a=0;for(let c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,r[a]):console.warn("Unhandled param type",c.type),a++;return this.visitor.visitNode(i)})}};n(Xn,"FunctionExpression");var Qn=class extends M{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="__continue_exec")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(Qn,"Identifier");var Zn=class extends M{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n(Zn,"IfStatement");var er=class extends M{run(){return this.node.value}};n(er,"Literal");var tr=class extends M{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(tr,"LogicalExpression");var ir=class extends M{run(){let{object:e,property:i,computed:o}=this.node,r=this.visitor.visitNode(e),a=o?this.visitor.visitNode(i):this.visitor.getName(i);if(a!==void 0||a!==null){if(this.visitor.listeners[a]){let c=this.visitor.listeners[a](this.node,this.visitor);if(c!=="__continue_exec")return c}return r==null?void 0:r[a]}}};n(ir,"MemberExpression");var or=class extends M{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return i.length?new e(i):new e}};n(or,"NewExpression");var nr=class extends M{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(nr,"ObjectExpression");var Fg=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},fm,J1,H1,G1,rr=class extends M{constructor(){super(...arguments),fm.add(this)}run(){switch(this.node.kind){case"init":return Fg(this,fm,"m",J1).call(this);case"get":return Fg(this,fm,"m",H1).call(this);case"set":return Fg(this,fm,"m",G1).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(rr,"Property");fm=new WeakSet,J1=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),H1=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),G1=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var sr=class extends M{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(sr,"ReturnStatement");var ar=class extends M{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n(ar,"SequenceExpression");var ur=class extends M{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(ur,"SwitchCase");var lr=class extends M{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,r=0;for(;;){let a=this.node.cases[r];if(i){let c=this.visitor.visitNode(a);if(c==="break")break;if(c==="continue")return c;if(++r,r>=this.node.cases.length){r=0;break}else continue}if(i=a&&e===this.visitor.visitNode(a.test),i===void 0&&r>this.node.cases.length)break;if(a&&!i&&!a.test){o=r,r+=1;continue}if(!a&&!i&&o!==-1){i=!0,r=o;continue}i||++r}}};n(lr,"SwitchStatement");var cr=class extends M{run(){let e="";for(let i=0;i<this.node.quasis.length;++i){let o=this.node.quasis[i];if(o.type==="TemplateElement"){if(o.value.cooked===null)throw new Error(`Invalid template literal: ${o.value.raw}`);if(o.value.cooked!==void 0&&(e+=o.value.cooked),!o.tail){let r=this.node.expressions[i];if(r!==void 0)e+=this.visitor.visitNode(r);else throw new Error(`Expected expression after: ${o.value}`)}}else throw new Error(`Unhandled quasi type: ${o.type}`)}return e}};n(cr,"TemplateLiteral");var pr=class extends M{run(){return this.visitor.scope.get("_this")}};n(pr,"ThisExpression");var dr=class extends M{run(){throw this.visitor.visitNode(this.node.argument)}};n(dr,"ThrowStatement");var fr=class extends M{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(fr,"TryStatement");var mr=class extends M{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(mr,"UnaryExpression");var hr=class extends M{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(hr,"UpdateExpression");var _r=class extends M{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,r=this.visitor.getName(i),a=o?this.visitor.visitNode(o):void 0;r&&this.visitor.scope.set(r,a),typeof a=="object"&&a!==null&&this.visitor.scope.set("_this",a)})}};n(_r,"VariableDeclaration");var vr=class extends M{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n(vr,"WhileStatement");var mS=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},jg,z1,xr=class{constructor(){jg.add(this),this.scope=new Map,this.listeners={},this.ast=[]}setAST(e){this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=mS(this,jg,"m",z1).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(xr,"Visitor");jg=new WeakSet,z1=n(function(e){let i=mm[e];return i||console.warn("[JINTER]:",`node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var hS=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Z1=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],_S="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",ek="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Yg={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"arguments"},Ug="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",vS={5:Ug,"5module":Ug+" export import",6:Ug+" const class extends export import super"},xS=/^in(stanceof)?$/,gS=new RegExp("["+ek+"]"),yS=new RegExp("["+ek+_S+"]");function Jg(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}return!1}n(Jg,"isInAstralSet");function Kt(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&gS.test(String.fromCharCode(t)):e===!1?!1:Jg(t,Z1)}n(Kt,"isIdentifierStart");function gr(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&yS.test(String.fromCharCode(t)):e===!1?!1:Jg(t,Z1)||Jg(t,hS)}n(gr,"isIdentifierChar");var ue=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function ut(t,e){return new ue(t,{beforeExpr:!0,binop:e})}n(ut,"binop");var lt={beforeExpr:!0},qe={startsExpr:!0},$g={};function oe(t,e){return e===void 0&&(e={}),e.keyword=t,$g[t]=new ue(t,e)}n(oe,"kw");var m={num:new ue("num",qe),regexp:new ue("regexp",qe),string:new ue("string",qe),name:new ue("name",qe),privateId:new ue("privateId",qe),eof:new ue("eof"),bracketL:new ue("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ue("]"),braceL:new ue("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ue("}"),parenL:new ue("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ue(")"),comma:new ue(",",lt),semi:new ue(";",lt),colon:new ue(":",lt),dot:new ue("."),question:new ue("?",lt),questionDot:new ue("?."),arrow:new ue("=>",lt),template:new ue("template"),invalidTemplate:new ue("invalidTemplate"),ellipsis:new ue("...",lt),backQuote:new ue("`",qe),dollarBraceL:new ue("${",{beforeExpr:!0,startsExpr:!0}),eq:new ue("=",{beforeExpr:!0,isAssign:!0}),assign:new ue("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ue("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ue("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ut("||",1),logicalAND:ut("&&",2),bitwiseOR:ut("|",3),bitwiseXOR:ut("^",4),bitwiseAND:ut("&",5),equality:ut("==/!=/===/!==",6),relational:ut("</>/<=/>=",7),bitShift:ut("<</>>/>>>",8),plusMin:new ue("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ut("%",10),star:ut("*",10),slash:ut("/",10),starstar:new ue("**",{beforeExpr:!0}),coalesce:ut("??",1),_break:oe("break"),_case:oe("case",lt),_catch:oe("catch"),_continue:oe("continue"),_debugger:oe("debugger"),_default:oe("default",lt),_do:oe("do",{isLoop:!0,beforeExpr:!0}),_else:oe("else",lt),_finally:oe("finally"),_for:oe("for",{isLoop:!0}),_function:oe("function",qe),_if:oe("if"),_return:oe("return",lt),_switch:oe("switch"),_throw:oe("throw",lt),_try:oe("try"),_var:oe("var"),_const:oe("const"),_while:oe("while",{isLoop:!0}),_with:oe("with"),_new:oe("new",{beforeExpr:!0,startsExpr:!0}),_this:oe("this",qe),_super:oe("super",qe),_class:oe("class",qe),_extends:oe("extends",lt),_export:oe("export"),_import:oe("import",qe),_null:oe("null",qe),_true:oe("true",qe),_false:oe("false",qe),_in:oe("in",{beforeExpr:!0,binop:7}),_instanceof:oe("instanceof",{beforeExpr:!0,binop:7}),_typeof:oe("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:oe("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:oe("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},dt=/\r\n?|\n|\u2028|\u2029/,bS=new RegExp(dt.source,"g");function yr(t){return t===10||t===13||t===8232||t===8233}n(yr,"isNewLine");function tk(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var r=t.charCodeAt(o);if(yr(r))return o<i-1&&r===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n(tk,"nextLineBreak");var ik=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ct=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ok=Object.prototype,wS=ok.hasOwnProperty,TS=ok.toString,xm=Object.hasOwn||function(t,e){return wS.call(t,e)},$1=Array.isArray||function(t){return TS.call(t)==="[object Array]"},K1=Object.create(null);function Di(t){return K1[t]||(K1[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}n(Di,"wordsRegexp");function Li(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(Li,"codePointToString");var kS=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,_m=n(function(e,i){this.line=e,this.column=i},"Position");_m.prototype.offset=n(function(e){return new _m(this.line,this.column+e)},"offset");var Mx=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function nk(t,e){for(var i=1,o=0;;){var r=tk(t,o,e);if(r<0)return new _m(i,e-o);++i,o=r}}n(nk,"getLineInfo");var Hg={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},q1=!1;function IS(t){var e={};for(var i in Hg)e[i]=t&&xm(t,i)?t[i]:Hg[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!q1&&typeof console=="object"&&console.warn&&(q1=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),$1(e.onToken)){var o=e.onToken;e.onToken=function(r){return o.push(r)}}return $1(e.onComment)&&(e.onComment=SS(e,e.onComment)),e}n(IS,"getOptions");function SS(t,e){return function(i,o,r,a,c,p){var d={type:i?"Block":"Line",value:o,start:r,end:a};t.locations&&(d.loc=new Mx(this,c,p)),t.ranges&&(d.range=[r,a]),e.push(d)}}n(SS,"pushComment");var vm=1,br=2,Kg=4,rk=8,sk=16,ak=32,qg=64,uk=128,gm=256,Xg=vm|br|gm;function Qg(t,e){return br|(t?Kg:0)|(e?rk:0)}n(Qg,"functionFlags");var Px=0,Zg=1,Xt=2,lk=3,ck=4,pk=5,Te=n(function(e,i,o){this.options=e=IS(e),this.sourceFile=e.sourceFile,this.keywords=Di(vS[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var r="";e.allowReserved!==!0&&(r=Yg[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(r+=" await")),this.reservedWords=Di(r);var a=(r?r+" ":"")+Yg.strict;this.reservedWordsStrict=Di(a),this.reservedWordsStrictBind=Di(a+" "+Yg.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(dt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(vm),this.regexpState=null,this.privateNameStack=[]},"Parser"),Dt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Te.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");Dt.inFunction.get=function(){return(this.currentVarScope().flags&br)>0};Dt.inGenerator.get=function(){return(this.currentVarScope().flags&rk)>0&&!this.currentVarScope().inClassFieldInit};Dt.inAsync.get=function(){return(this.currentVarScope().flags&Kg)>0&&!this.currentVarScope().inClassFieldInit};Dt.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&gm)return!1;if(e.flags&br)return(e.flags&Kg)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Dt.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&qg)>0||i||this.options.allowSuperOutsideMethod};Dt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&uk)>0};Dt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Dt.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(br|gm))>0||i};Dt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&gm)>0};Te.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,r=0;r<e.length;r++)o=e[r](o);return o},"extend");Te.parse=n(function(e,i){return new this(i,e).parse()},"parse");Te.parseExpressionAt=n(function(e,i,o){var r=new this(o,e,i);return r.nextToken(),r.parseExpression()},"parseExpressionAt");Te.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Te.prototype,Dt);var He=Te.prototype,CS=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;He.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){ct.lastIndex=t,t+=ct.exec(this.input)[0].length;var e=CS.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){ct.lastIndex=t+e[0].length;var i=ct.exec(this.input),o=i.index+i[0].length,r=this.input.charAt(o);return r===";"||r==="}"||dt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,ct.lastIndex=t,t+=ct.exec(this.input)[0].length,this.input[t]===";"&&t++}};He.eat=function(t){return this.type===t?(this.next(),!0):!1};He.isContextual=function(t){return this.type===m.name&&this.value===t&&!this.containsEsc};He.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};He.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};He.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||dt.test(this.input.slice(this.lastTokEnd,this.start))};He.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};He.semicolon=function(){!this.eat(m.semi)&&!this.insertSemicolon()&&this.unexpected()};He.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};He.expect=function(t){this.eat(t)||this.unexpected()};He.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Bx=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");He.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};He.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};He.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};He.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var O=Te.prototype;O.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==m.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,r=Object.keys(this.undefinedExports);o<r.length;o+=1){var a=r[o];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var ey={kind:"loop"},ES={kind:"switch"};O.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ct.lastIndex=this.pos;var e=ct.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if(Kt(o,!0)){for(var r=i+1;gr(o=this.input.charCodeAt(r),!0);)++r;if(o===92||o>55295&&o<56320)return!0;var a=this.input.slice(i,r);if(!xS.test(a))return!0}return!1};O.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ct.lastIndex=this.pos;var t=ct.exec(this.input),e=this.pos+t[0].length,i;return!dt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(gr(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};O.parseStatement=function(t,e,i){var o=this.type,r=this.startNode(),a;switch(this.isLet(t)&&(o=m._var,a="let"),o){case m._break:case m._continue:return this.parseBreakContinueStatement(r,o.keyword);case m._debugger:return this.parseDebuggerStatement(r);case m._do:return this.parseDoStatement(r);case m._for:return this.parseForStatement(r);case m._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case m._class:return t&&this.unexpected(),this.parseClass(r,!0);case m._if:return this.parseIfStatement(r);case m._return:return this.parseReturnStatement(r);case m._switch:return this.parseSwitchStatement(r);case m._throw:return this.parseThrowStatement(r);case m._try:return this.parseTryStatement(r);case m._const:case m._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(r,a);case m._while:return this.parseWhileStatement(r);case m._with:return this.parseWithStatement(r);case m.braceL:return this.parseBlock(!0,r);case m.semi:return this.parseEmptyStatement(r);case m._export:case m._import:if(this.options.ecmaVersion>10&&o===m._import){ct.lastIndex=this.pos;var c=ct.exec(this.input),p=this.pos+c[0].length,d=this.input.charCodeAt(p);if(d===40||d===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===m._import?this.parseImport(r):this.parseExport(r,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var h=this.value,_=this.parseExpression();return o===m.name&&_.type==="Identifier"&&this.eat(m.colon)?this.parseLabeledStatement(r,h,_,t):this.parseExpressionStatement(r,_)}};O.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(m.semi)||this.insertSemicolon()?t.label=null:this.type!==m.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var r=this.labels[o];if((t.label==null||r.name===t.label.name)&&(r.kind!=null&&(i||r.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};O.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};O.parseDoStatement=function(t){return this.next(),this.labels.push(ey),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(m.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};O.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(ey),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===m._var||this.type===m._const||i){var o=this.startNode(),r=i?"let":this.value;return this.next(),this.parseVar(o,!0,r),this.finishNode(o,"VariableDeclaration"),(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var a=this.isContextual("let"),c=!1,p=this.containsEsc,d=new Bx,h=this.start,_=e>-1?this.parseExprSubscripts(d,"await"):this.parseExpression(!0,d);return this.type===m._in||(c=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===m._in&&this.unexpected(e),t.await=!0):c&&this.options.ecmaVersion>=8&&(_.start===h&&!p&&_.type==="Identifier"&&_.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),a&&c&&this.raise(_.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(_,!1,d),this.checkLValPattern(_),this.parseForIn(t,_)):(this.checkExpressionErrors(d,!0),e>-1&&this.unexpected(e),this.parseFor(t,_))};O.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,hm|(i?0:Gg),!1,e)};O.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};O.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};O.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(m.braceL),this.labels.push(ES),this.enterScope(0);for(var e,i=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var o=this.type===m._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(m.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};O.parseThrowStatement=function(t){return this.next(),dt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var NS=[];O.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?ak:0),this.checkLValPattern(t,e?ck:Xt),this.expect(m.parenR),t};O.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===m._catch){var e=this.startNode();this.next(),this.eat(m.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(m._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};O.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};O.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(ey),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};O.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};O.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};O.parseLabeledStatement=function(t,e,i,o){for(var r=0,a=this.labels;r<a.length;r+=1){var c=a[r];c.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===m._switch?"switch":null,d=this.labels.length-1;d>=0;d--){var h=this.labels[d];if(h.statementStart===t.start)h.statementStart=this.start,h.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};O.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};O.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(m.braceL),t&&this.enterScope(0);this.type!==m.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};O.parseFor=function(t,e){return t.init=e,this.expect(m.semi),t.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),t.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};O.parseForIn=function(t,e){var i=this.type===m._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};O.parseVar=function(t,e,i,o){for(t.declarations=[],t.kind=i;;){var r=this.startNode();if(this.parseVarId(r,i),this.eat(m.eq)?r.init=this.parseMaybeAssign(e):!o&&i==="const"&&!(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&r.id.type!=="Identifier"&&!(e&&(this.type===m._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(m.comma))break}return t};O.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?Zg:Xt,!1)};var hm=1,Gg=2,dk=4;O.parseFunction=function(t,e,i,o,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===m.star&&e&Gg&&this.unexpected(),t.generator=this.eat(m.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&hm&&(t.id=e&dk&&this.type!==m.name?null:this.parseIdent(),t.id&&!(e&Gg)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Zg:Xt:lk));var a=this.yieldPos,c=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Qg(t.async,t.generator)),e&hm||(t.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,r),this.yieldPos=a,this.awaitPos=c,this.awaitIdentPos=p,this.finishNode(t,e&hm?"FunctionDeclaration":"FunctionExpression")};O.parseFunctionParams=function(t){this.expect(m.parenL),t.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};O.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),r=this.startNode(),a=!1;for(r.body=[],this.expect(m.braceL);this.type!==m.braceR;){var c=this.parseClassElement(t.superClass!==null);c&&(r.body.push(c),c.type==="MethodDefinition"&&c.kind==="constructor"?(a&&this.raiseRecoverable(c.start,"Duplicate constructor in the same class"),a=!0):c.key&&c.key.type==="PrivateIdentifier"&&PS(o,c)&&this.raiseRecoverable(c.key.start,"Identifier '#"+c.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};O.parseClassElement=function(t){if(this.eat(m.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",r=!1,a=!1,c="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(m.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===m.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===m.star)&&!this.canInsertSemicolon()?a=!0:o="async"),!o&&(e>=9||!a)&&this.eat(m.star)&&(r=!0),!o&&!a&&!r){var d=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=d:o=d)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===m.parenL||c!=="method"||r||a){var h=!i.static&&Rx(i,"constructor"),_=h&&t;h&&c!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=h?"constructor":c,this.parseClassMethod(i,r,a,_)}else this.parseClassField(i);return i};O.isClassElementNameStart=function(){return this.type===m.name||this.type===m.privateId||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword};O.parseClassElementName=function(t){this.type===m.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};O.parseClassMethod=function(t,e,i,o){var r=t.key;t.kind==="constructor"?(e&&this.raise(r.start,"Constructor can't be a generator"),i&&this.raise(r.start,"Constructor can't be an async method")):t.static&&Rx(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};O.parseClassField=function(t){if(Rx(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Rx(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(m.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};O.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(gm|qg);this.type!==m.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};O.parseClassId=function(t,e){this.type===m.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Xt,!1)):(e===!0&&this.unexpected(),t.id=null)};O.parseClassSuper=function(t){t.superClass=this.eat(m._extends)?this.parseExprSubscripts(null,!1):null};O.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};O.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var o=this.privateNameStack.length,r=o===0?null:this.privateNameStack[o-1],a=0;a<i.length;++a){var c=i[a];xm(e,c.name)||(r?r.used.push(c):this.raiseRecoverable(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"))}};function PS(t,e){var i=e.key.name,o=t[i],r="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(r=(e.static?"s":"i")+e.kind),o==="iget"&&r==="iset"||o==="iset"&&r==="iget"||o==="sget"&&r==="sset"||o==="sset"&&r==="sget"?(t[i]="true",!1):o?!0:(t[i]=r,!1)}n(PS,"isPrivateNameConflicted");function Rx(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(Rx,"checkKeyName");O.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};O.parseExport=function(t,e){if(this.next(),this.eat(m.star))return this.parseExportAllDeclaration(t,e);if(this.eat(m._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var r=o[i];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};O.parseExportDeclaration=function(t){return this.parseStatement(null)};O.parseExportDefaultDeclaration=function(){var t;if(this.type===m._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,hm|dk,!1,t)}else if(this.type===m._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};O.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),xm(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};O.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,r=e.properties;o<r.length;o+=1){var a=r[o];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var c=0,p=e.elements;c<p.length;c+=1){var d=p[c];d&&this.checkPatternExport(t,d)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};O.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var r=o[i];this.checkPatternExport(t,r.id)}};O.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};O.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};O.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(i)i=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;e.push(this.parseExportSpecifier(t))}return e};O.parseImport=function(t){return this.next(),this.type===m.string?(t.specifiers=NS,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};O.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Xt),this.finishNode(t,"ImportSpecifier")};O.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Xt),this.finishNode(t,"ImportDefaultSpecifier")};O.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Xt),this.finishNode(t,"ImportNamespaceSpecifier")};O.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===m.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(m.comma)))return t;if(this.type===m.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(m.braceL);!this.eat(m.braceR);){if(e)e=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;t.push(this.parseImportSpecifier())}return t};O.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===m.string){var t=this.parseLiteral(this.value);return kS.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};O.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};O.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var ft=Te.prototype;ft.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,r=t.properties;o<r.length;o+=1){var a=r[o];this.toAssignable(a,e),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};ft.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var r=t[o];r&&this.toAssignable(r,e)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&e&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};ft.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};ft.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==m.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};ft.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case m.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()};ft.parseBindingList=function(t,e,i,o){for(var r=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(m.comma),e&&this.type===m.comma)r.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===m.ellipsis){var c=this.parseRestBinding();this.parseBindingListItem(c),r.push(c),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else r.push(this.parseAssignableListItem(o))}return r};ft.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};ft.parseBindingListItem=function(t){return t};ft.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};ft.checkLValSimple=function(t,e,i){e===void 0&&(e=Px);var o=e!==Px;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===Xt&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(xm(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==pk&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};ft.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=Px),t.type){case"ObjectPattern":for(var o=0,r=t.properties;o<r.length;o+=1){var a=r[o];this.checkLValInnerPattern(a,e,i)}break;case"ArrayPattern":for(var c=0,p=t.elements;c<p.length;c+=1){var d=p[c];d&&this.checkLValInnerPattern(d,e,i)}break;default:this.checkLValSimple(t,e,i)}};ft.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=Px),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var yt=n(function(e,i,o,r,a){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=r,this.generator=!!a},"TokContext"),me={b_stat:new yt("{",!1),b_expr:new yt("{",!0),b_tmpl:new yt("${",!1),p_stat:new yt("(",!1),p_expr:new yt("(",!0),q_tmpl:new yt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new yt("function",!1),f_expr:new yt("function",!0),f_expr_gen:new yt("function",!0,!1,null,!0),f_gen:new yt("function",!1,!1,null,!0)},wr=Te.prototype;wr.initialContext=function(){return[me.b_stat]};wr.curContext=function(){return this.context[this.context.length-1]};wr.braceIsBlock=function(t){var e=this.curContext();return e===me.f_expr||e===me.f_stat?!0:t===m.colon&&(e===me.b_stat||e===me.b_expr)?!e.isExpr:t===m._return||t===m.name&&this.exprAllowed?dt.test(this.input.slice(this.lastTokEnd,this.start)):t===m._else||t===m.semi||t===m.eof||t===m.parenR||t===m.arrow?!0:t===m.braceL?e===me.b_stat:t===m._var||t===m._const||t===m.name?!1:!this.exprAllowed};wr.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};wr.updateContext=function(t){var e,i=this.type;i.keyword&&t===m.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};wr.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};m.parenR.updateContext=m.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===me.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};m.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?me.b_stat:me.b_expr),this.exprAllowed=!0};m.dollarBraceL.updateContext=function(){this.context.push(me.b_tmpl),this.exprAllowed=!0};m.parenL.updateContext=function(t){var e=t===m._if||t===m._for||t===m._with||t===m._while;this.context.push(e?me.p_stat:me.p_expr),this.exprAllowed=!0};m.incDec.updateContext=function(){};m._function.updateContext=m._class.updateContext=function(t){t.beforeExpr&&t!==m._else&&!(t===m.semi&&this.curContext()!==me.p_stat)&&!(t===m._return&&dt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===m.colon||t===m.braceL)&&this.curContext()===me.b_stat)?this.context.push(me.f_expr):this.context.push(me.f_stat),this.exprAllowed=!1};m.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};m.backQuote.updateContext=function(){this.curContext()===me.q_tmpl?this.context.pop():this.context.push(me.q_tmpl),this.exprAllowed=!1};m.star.updateContext=function(t){if(t===m._function){var e=this.context.length-1;this.context[e]===me.f_expr?this.context[e]=me.f_expr_gen:this.context[e]=me.f_gen}this.exprAllowed=!0};m.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==m.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var $=Te.prototype;$.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,r;switch(o.type){case"Identifier":r=o.name;break;case"Literal":r=String(o.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&a==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}r="$"+r;var c=e[r];if(c){var p;a==="init"?p=this.strict&&c.init||c.get||c.set:p=c.init||c[a],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else c=e[r]={init:!1,get:!1,set:!1};c[a]=!0}};$.parseExpression=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===m.comma){var a=this.startNodeAt(i,o);for(a.expressions=[r];this.eat(m.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return r};$.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,r=-1,a=-1,c=-1;e?(r=e.parenthesizedAssign,a=e.trailingComma,c=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Bx,o=!0);var p=this.start,d=this.startLoc;(this.type===m.parenL||this.type===m.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var h=this.parseMaybeConditional(t,e);if(i&&(h=i.call(this,h,p,d)),this.type.isAssign){var _=this.startNodeAt(p,d);return _.operator=this.value,this.type===m.eq&&(h=this.toAssignable(h,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=h.start&&(e.shorthandAssign=-1),this.type===m.eq?this.checkLValPattern(h):this.checkLValSimple(h),_.left=h,this.next(),_.right=this.parseMaybeAssign(t),c>-1&&(e.doubleProto=c),this.finishNode(_,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return r>-1&&(e.parenthesizedAssign=r),a>-1&&(e.trailingComma=a),h};$.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(m.question)){var a=this.startNodeAt(i,o);return a.test=r,a.consequent=this.parseMaybeAssign(),this.expect(m.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return r};$.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||r.start===i&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,i,o,-1,t)};$.parseExprOp=function(t,e,i,o,r){var a=this.type.binop;if(a!=null&&(!r||this.type!==m._in)&&a>o){var c=this.type===m.logicalOR||this.type===m.logicalAND,p=this.type===m.coalesce;p&&(a=m.logicalAND.binop);var d=this.value;this.next();var h=this.start,_=this.startLoc,x=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),h,_,a,r),y=this.buildBinary(e,i,t,x,d,c||p);return(c&&this.type===m.coalesce||p&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(y,e,i,o,r)}return t};$.buildBinary=function(t,e,i,o,r,a){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var c=this.startNodeAt(t,e);return c.left=i,c.operator=r,c.right=o,this.finishNode(c,a?"LogicalExpression":"BinaryExpression")};$.parseMaybeUnary=function(t,e,i,o){var r=this.start,a=this.startLoc,c;if(this.isContextual("await")&&this.canAwait)c=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),d=this.type===m.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,d,o),this.checkExpressionErrors(t,!0),d?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&fk(p.argument)?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&zg(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,c=this.finishNode(p,d?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===m.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),c=this.parsePrivateIdent(),this.type!==m._in&&this.unexpected();else{if(c=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return c;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(r,a);h.operator=this.value,h.prefix=!1,h.argument=c,this.checkLValSimple(c),this.next(),c=this.finishNode(h,"UpdateExpression")}}if(!i&&this.eat(m.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(r,a,c,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return c};function fk(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&fk(t.expression)}n(fk,"isLocalVariableAccess");function zg(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&zg(t.expression)||t.type==="ParenthesizedExpression"&&zg(t.expression)}n(zg,"isPrivateFieldAccess");$.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprAtom(t,e);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var a=this.parseSubscripts(r,i,o,!1,e);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};$.parseSubscripts=function(t,e,i,o,r){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,c=!1;;){var p=this.parseSubscript(t,e,i,o,a,c,r);if(p.optional&&(c=!0),p===t||p.type==="ArrowFunctionExpression"){if(c){var d=this.startNodeAt(e,i);d.expression=p,p=this.finishNode(d,"ChainExpression")}return p}t=p}};$.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(m.arrow)};$.parseSubscriptAsyncArrow=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,o)};$.parseSubscript=function(t,e,i,o,r,a,c){var p=this.options.ecmaVersion>=11,d=p&&this.eat(m.questionDot);o&&d&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(m.bracketL);if(h||d&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var _=this.startNodeAt(e,i);_.object=t,h?(_.property=this.parseExpression(),this.expect(m.bracketR)):this.type===m.privateId&&t.type!=="Super"?_.property=this.parsePrivateIdent():_.property=this.parseIdent(this.options.allowReserved!=="never"),_.computed=!!h,p&&(_.optional=d),t=this.finishNode(_,"MemberExpression")}else if(!o&&this.eat(m.parenL)){var x=new Bx,y=this.yieldPos,w=this.awaitPos,I=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var S=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1,x);if(r&&!d&&this.shouldParseAsyncArrow())return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=y,this.awaitPos=w,this.awaitIdentPos=I,this.parseSubscriptAsyncArrow(e,i,S,c);this.checkExpressionErrors(x,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=w||this.awaitPos,this.awaitIdentPos=I||this.awaitIdentPos;var E=this.startNodeAt(e,i);E.callee=t,E.arguments=S,p&&(E.optional=d),t=this.finishNode(E,"CallExpression")}else if(this.type===m.backQuote){(d||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var V=this.startNodeAt(e,i);V.tag=t,V.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(V,"TaggedTemplateExpression")}return t};$.parseExprAtom=function(t,e,i){this.type===m.slash&&this.readRegexp();var o,r=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===m.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(o,"Super");case m._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case m.name:var a=this.start,c=this.startLoc,p=this.containsEsc,d=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&d.name==="async"&&!this.canInsertSemicolon()&&this.eat(m._function))return this.overrideContext(me.f_expr),this.parseFunction(this.startNodeAt(a,c),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(a,c),[d],!1,e);if(this.options.ecmaVersion>=8&&d.name==="async"&&this.type===m.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return d=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(m.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,c),[d],!0,e)}return d;case m.regexp:var h=this.value;return o=this.parseLiteral(h.value),o.regex={pattern:h.pattern,flags:h.flags},o;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return o=this.startNode(),o.value=this.type===m._null?null:this.type===m._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case m.parenL:var _=this.start,x=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(x)&&(t.parenthesizedAssign=_),t.parenthesizedBind<0&&(t.parenthesizedBind=_)),x;case m.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(m.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case m.braceL:return this.overrideContext(me.b_expr),this.parseObj(!1,t);case m._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};$.parseExprAtomDefault=function(){this.unexpected()};$.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===m.parenL&&!t)return this.parseDynamicImport(e);if(this.type===m.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};$.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var e=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};$.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};$.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};$.parseParenExpression=function(){this.expect(m.parenL);var t=this.parseExpression();return this.expect(m.parenR),t};$.shouldParseArrow=function(t){return!this.canInsertSemicolon()};$.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,r,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var c=this.start,p=this.startLoc,d=[],h=!0,_=!1,x=new Bx,y=this.yieldPos,w=this.awaitPos,I;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;)if(h?h=!1:this.expect(m.comma),a&&this.afterTrailingComma(m.parenR,!0)){_=!0;break}else if(this.type===m.ellipsis){I=this.start,d.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else d.push(this.parseMaybeAssign(!1,x,this.parseParenItem));var S=this.lastTokEnd,E=this.lastTokEndLoc;if(this.expect(m.parenR),t&&this.shouldParseArrow(d)&&this.eat(m.arrow))return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=y,this.awaitPos=w,this.parseParenArrowList(i,o,d,e);(!d.length||_)&&this.unexpected(this.lastTokStart),I&&this.unexpected(I),this.checkExpressionErrors(x,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=w||this.awaitPos,d.length>1?(r=this.startNodeAt(c,p),r.expressions=d,this.finishNodeAt(r,"SequenceExpression",S,E)):r=d[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var V=this.startNodeAt(i,o);return V.expression=r,this.finishNode(V,"ParenthesizedExpression")}else return r};$.parseParenItem=function(t){return t};$.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var RS=[];$.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===m.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,r,!0,!1),this.eat(m.parenL)?t.arguments=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1):t.arguments=RS,this.finishNode(t,"NewExpression")};$.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===m.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===m.backQuote,this.finishNode(i,"TemplateElement")};$.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(m.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};$.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===m.star)&&!dt.test(this.input.slice(this.lastTokEnd,this.start))};$.parseObj=function(t,e){var i=this.startNode(),o=!0,r={};for(i.properties=[],this.next();!this.eat(m.braceR);){if(o)o=!1;else if(this.expect(m.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(m.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,r,e),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};$.parseProperty=function(t,e){var i=this.startNode(),o,r,a,c;if(this.options.ecmaVersion>=9&&this.eat(m.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===m.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(a=this.start,c=this.startLoc),t||(o=this.eat(m.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(r=!0,o=this.options.ecmaVersion>=9&&this.eat(m.star),this.parsePropertyName(i)):r=!1,this.parsePropertyValue(i,t,o,r,a,c,e,p),this.finishNode(i,"Property")};$.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};$.parsePropertyValue=function(t,e,i,o,r,a,c,p){(i||o)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,c),t.kind="init"):this.options.ecmaVersion>=6&&this.type===m.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==m.comma&&this.type!==m.braceR&&this.type!==m.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,a,this.copyNode(t.key)):this.type===m.eq&&c?(c.shorthandAssign<0&&(c.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};$.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(m.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(m.bracketR),t.key;t.computed=!1}return t.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};$.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};$.parseMethod=function(t,e,i){var o=this.startNode(),r=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Qg(e,o.generator)|qg|(i?uk:0)),this.expect(m.parenL),o.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(o,"FunctionExpression")};$.parseArrowExpression=function(t,e,i,o){var r=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.enterScope(Qg(i,!1)|sk),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(t,"ArrowFunctionExpression")};$.parseFunctionBody=function(t,e,i,o){var r=e&&this.type!==m.braceL,a=this.strict,c=!1;if(r)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||p)&&(c=this.strictDirective(this.end),c&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var d=this.labels;this.labels=[],c&&(this.strict=!0),this.checkParams(t,!a&&!c&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,pk),t.body=this.parseBlock(!1,void 0,c&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=d}this.exitScope()};$.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};$.checkParams=function(t,e){for(var i=Object.create(null),o=0,r=t.params;o<r.length;o+=1){var a=r[o];this.checkLValInnerPattern(a,Zg,e?null:i)}};$.parseExprList=function(t,e,i,o){for(var r=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(m.comma),e&&this.afterTrailingComma(t))break;var c=void 0;i&&this.type===m.comma?c=null:this.type===m.ellipsis?(c=this.parseSpread(o),o&&this.type===m.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):c=this.parseMaybeAssign(!1,o),r.push(c)}return r};$.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};$.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};$.parseIdentNode=function(){var t=this.startNode();return this.type===m.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=m.name):this.unexpected(),t};$.parsePrivateIdent=function(){var t=this.startNode();return this.type===m.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};$.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(m.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};$.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Ax=Te.prototype;Ax.raise=function(t,e){var i=nk(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};Ax.raiseRecoverable=Ax.raise;Ax.curPosition=function(){if(this.options.locations)return new _m(this.curLine,this.pos-this.lineStart)};var Oi=Te.prototype,AS=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Oi.enterScope=function(t){this.scopeStack.push(new AS(t))};Oi.exitScope=function(){this.scopeStack.pop()};Oi.treatFunctionsAsVarInScope=function(t){return t.flags&br||!this.inModule&&t.flags&vm};Oi.declareName=function(t,e,i){var o=!1;if(e===Xt){var r=this.currentScope();o=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&r.flags&vm&&delete this.undefinedExports[t]}else if(e===ck){var a=this.currentScope();a.lexical.push(t)}else if(e===lk){var c=this.currentScope();this.treatFunctionsAsVar?o=c.lexical.indexOf(t)>-1:o=c.lexical.indexOf(t)>-1||c.var.indexOf(t)>-1,c.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var d=this.scopeStack[p];if(d.lexical.indexOf(t)>-1&&!(d.flags&ak&&d.lexical[0]===t)||!this.treatFunctionsAsVarInScope(d)&&d.functions.indexOf(t)>-1){o=!0;break}if(d.var.push(t),this.inModule&&d.flags&vm&&delete this.undefinedExports[t],d.flags&Xg)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Oi.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Oi.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Oi.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Xg)return e}};Oi.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Xg&&!(e.flags&sk))return e}};var Dx=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Mx(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),ym=Te.prototype;ym.startNode=function(){return new Dx(this,this.start,this.startLoc)};ym.startNodeAt=function(t,e){return new Dx(this,t,e)};function mk(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(mk,"finishNodeAt");ym.finishNode=function(t,e){return mk.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};ym.finishNodeAt=function(t,e,i,o){return mk.call(this,t,e,i,o)};ym.copyNode=function(t){var e=new Dx(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var hk="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",_k=hk+" Extended_Pictographic",vk=_k,xk=vk+" EBase EComp EMod EPres ExtPict",gk=xk,VS=gk,MS={9:hk,10:_k,11:vk,12:xk,13:gk,14:VS},BS="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",DS={9:"",10:"",11:"",12:"",13:"",14:BS},X1="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",yk="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",bk=yk+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",wk=bk+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",Tk=wk+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",kk=Tk+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",LS=kk+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",OS={9:yk,10:bk,11:wk,12:Tk,13:kk,14:LS},Ik={};function FS(t){var e=Ik[t]={binary:Di(MS[t]+" "+X1),binaryOfStrings:Di(DS[t]),nonBinary:{General_Category:Di(X1),Script:Di(OS[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(FS,"buildUnicodeData");for(Nx=0,Wg=[9,10,11,12,13,14];Nx<Wg.length;Nx+=1)Q1=Wg[Nx],FS(Q1);var Q1,Nx,Wg,L=Te.prototype,Vx=n(function(e,i){this.parent=e,this.base=i||this},"BranchID");Vx.prototype.separatedFrom=n(function(e){for(var i=this;i;i=i.parent)for(var o=e;o;o=o.parent)if(i.base===o.base&&i!==o)return!0;return!1},"separatedFrom");Vx.prototype.sibling=n(function(){return new Vx(this.parent,this.base)},"sibling");var Lt=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=Ik[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null},"RegExpValidationState");Lt.prototype.reset=n(function(e,i,o){var r=o.indexOf("v")!==-1,a=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)},"reset");Lt.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Lt.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return-1;var a=o.charCodeAt(e);if(!(i||this.switchU)||a<=55295||a>=57344||e+1>=r)return a;var c=o.charCodeAt(e+1);return c>=56320&&c<=57343?(a<<10)+c-56613888:a},"at");Lt.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return r;var a=o.charCodeAt(e),c;return!(i||this.switchU)||a<=55295||a>=57344||e+1>=r||(c=o.charCodeAt(e+1))<56320||c>57343?e+1:e+2},"nextIndex");Lt.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Lt.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Lt.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Lt.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");Lt.prototype.eatChars=n(function(e,i){i===void 0&&(i=!1);for(var o=this.pos,r=0,a=e;r<a.length;r+=1){var c=a[r],p=this.at(o,i);if(p===-1||p!==c)return!1;o=this.nextIndex(o,i)}return this.pos=o,!0},"eatChars");L.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=!1,r=!1,a=0;a<i.length;a++){var c=i.charAt(a);e.indexOf(c)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(c,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),c==="u"&&(o=!0),c==="v"&&(r=!0)}this.options.ecmaVersion>=15&&o&&r&&this.raise(t.start,"Invalid regular expression flag")};function jS(t){for(var e in t)return!0;return!1}n(jS,"hasProp");L.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&jS(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};L.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames[o]||t.raise("Invalid named capture referenced")}};L.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new Vx(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};L.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};L.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};L.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};L.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};L.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};L.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return r!==-1&&r<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};L.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};L.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};L.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};L.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};L.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};L.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};L.regexp_eatSyntaxCharacter=function(t){var e=t.current();return Sk(e)?(t.lastIntValue=e,t.advance(),!0):!1};function Sk(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(Sk,"isSyntaxCharacter");L.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!Sk(i);)t.advance();return t.pos!==e};L.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};L.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(e)for(var o=0,r=i;o<r.length;o+=1){var a=r[o];a.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};L.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};L.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Li(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Li(t.lastIntValue);return!0}return!1};L.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),YS(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function YS(t){return Kt(t,!0)||t===36||t===95}n(YS,"isRegExpIdentifierStart");L.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),US(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function US(t){return gr(t,!0)||t===36||t===95||t===8204||t===8205}n(US,"isRegExpIdentifierPart");L.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};L.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};L.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};L.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};L.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};L.regexp_eatZero=function(t){return t.current()===48&&!Lx(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};L.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};L.regexp_eatControlLetter=function(t){var e=t.current();return Ck(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function Ck(t){return t>=65&&t<=90||t>=97&&t<=122}n(Ck,"isControlLetter");L.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(o&&r>=55296&&r<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var c=t.lastIntValue;if(c>=56320&&c<=57343)return t.lastIntValue=(r-55296)*1024+(c-56320)+65536,!0}t.pos=a,t.lastIntValue=r}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&WS(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function WS(t){return t>=0&&t<=1114111}n(WS,"isValidUnicode");L.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};L.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var Ek=0,qt=1,pt=2;L.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(JS(e))return t.lastIntValue=-1,t.advance(),qt;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===pt&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return Ek};function JS(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(JS,"isCharacterClassEscape");L.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),qt}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r)}return Ek};L.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){xm(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};L.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return qt;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return pt;t.raise("Invalid property name")};L.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";Nk(e=t.current());)t.lastStringValue+=Li(e),t.advance();return t.lastStringValue!==""};function Nk(t){return Ck(t)||t===95}n(Nk,"isUnicodePropertyNameCharacter");L.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";HS(e=t.current());)t.lastStringValue+=Li(e),t.advance();return t.lastStringValue!==""};function HS(t){return Nk(t)||Lx(t)}n(HS,"isUnicodePropertyValueCharacter");L.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};L.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===pt&&t.raise("Negated character class may contain strings"),!0}return!1};L.regexp_classContents=function(t){return t.current()===93?qt:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),qt)};L.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};L.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||Ak(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};L.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};L.regexp_classSetExpression=function(t){var e=qt,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===pt&&(e=pt);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==pt&&(e=qt);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===pt&&(e=pt)}};L.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};L.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?qt:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};L.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===pt&&t.raise("Negated character class may contain strings"),o;t.pos=e}if(t.eat(92)){var r=this.regexp_eatCharacterClassEscape(t);if(r)return r;t.pos=e}return null};L.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};L.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===pt&&(e=pt);return e};L.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?qt:pt};L.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&GS(i)||zS(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function GS(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}n(GS,"isClassSetReservedDoublePunctuatorCharacter");function zS(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}n(zS,"isClassSetSyntaxCharacter");L.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return $S(e)?(t.lastIntValue=e,t.advance(),!0):!1};function $S(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}n($S,"isClassSetReservedPunctuator");L.regexp_eatClassControlLetter=function(t){var e=t.current();return Lx(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};L.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};L.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Lx(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Lx(t){return t>=48&&t<=57}n(Lx,"isDecimalDigit");L.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Pk(i=t.current());)t.lastIntValue=16*t.lastIntValue+Rk(i),t.advance();return t.pos!==e};function Pk(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n(Pk,"isHexDigit");function Rk(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n(Rk,"hexToInt");L.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};L.regexp_eatOctalDigit=function(t){var e=t.current();return Ak(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function Ak(t){return t>=48&&t<=55}n(Ak,"isOctalDigit");L.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var r=t.current();if(!Pk(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+Rk(r),t.advance()}return!0};var ty=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Mx(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),te=Te.prototype;te.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new ty(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};te.getToken=function(){return this.next(),new ty(this)};typeof Symbol<"u"&&(te[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===m.eof,value:e}}}});te.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(m.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};te.readToken=function(t){return Kt(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};te.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};te.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,r=e;(o=tk(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};te.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!yr(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};te.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&ik.test(String.fromCharCode(t)))++this.pos;else break e}}};te.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};te.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))};te.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(m.assign,2):this.finishOp(m.slash,1)};te.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?m.star:m.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=m.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(m.assign,i+1):this.finishOp(o,i)};te.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(m.assign,3)}return this.finishOp(t===124?m.logicalOR:m.logicalAND,2)}return e===61?this.finishOp(m.assign,2):this.finishOp(t===124?m.bitwiseOR:m.bitwiseAND,1)};te.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)};te.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||dt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(m.incDec,2):e===61?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)};te.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(m.assign,i+1):this.finishOp(m.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(m.relational,i))};te.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(m.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(t===61?m.eq:m.prefix,1)};te.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(m.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(m.assign,3)}return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)};te.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Kt(e,!0)||e===92))return this.finishToken(m.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Li(e)+"'")};te.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Li(t)+"'")};te.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};te.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(dt.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var r=this.input.slice(i,this.pos);++this.pos;var a=this.pos,c=this.readWord1();this.containsEsc&&this.unexpected(a);var p=this.regexpState||(this.regexpState=new Lt(this));p.reset(i,r,c),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var d=null;try{d=new RegExp(r,c)}catch(h){}return this.finishToken(m.regexp,{pattern:r,flags:c,value:d})};te.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,r=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,c=0,p=0,d=0,h=e==null?1/0:e;d<h;++d,++this.pos){var _=this.input.charCodeAt(this.pos),x=void 0;if(o&&_===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),d===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=_;continue}if(_>=97?x=_-97+10:_>=65?x=_-65+10:_>=48&&_<=57?x=_-48:x=1/0,x>=t)break;p=_,c=c*t+x}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||e!=null&&this.pos-a!==e?null:c};function KS(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n(KS,"stringToNumber");function Vk(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(Vk,"stringToBigInt");te.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=Vk(this.input.slice(e,this.pos)),++this.pos):Kt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,i)};te.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var r=Vk(this.input.slice(e,this.pos));return++this.pos,Kt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,r)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Kt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=KS(this.input.slice(e,this.pos),i);return this.finishToken(m.num,a)};te.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};te.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(yr(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(m.string,e)};var Mk={};te.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===Mk)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};te.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Mk;this.raise(t,e)};te.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===m.template||this.type===m.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(m.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(yr(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};te.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};te.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Li(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(o,8);return r>255&&(o=o.slice(0,-1),r=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return yr(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};te.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};te.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(gr(r,o))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var c=this.readCodePoint();(e?Kt:gr)(c,o)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=Li(c),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};te.readWord=function(){var t=this.readWord1(),e=m.name;return this.keywords.test(t)&&(e=$g[t]),this.finishToken(e,t)};var qS="8.12.1";Te.acorn={Parser:Te,version:qS,defaultOptions:Hg,Position:_m,SourceLocation:Mx,getLineInfo:nk,Node:Dx,TokenType:ue,tokTypes:m,keywordTypes:$g,TokContext:yt,tokContexts:me,isIdentifierChar:gr,isIdentifierStart:Kt,Token:ty,isNewLine:yr,lineBreak:dt,lineBreakG:bS,nonASCIIwhitespace:ik};function iy(t,e){return Te.parse(t,e)}n(iy,"parse");var XS=function(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i},QS=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Ox,Qt=class{constructor(){Ox.set(this,[]),this.visitor=new xr,this.scope=this.visitor.scope,this.scope.set("print",e=>console.log(...e)),this.defineObject("console",console),this.defineObject("Math",Math),this.defineObject("String",String),this.defineObject("Array",Array),this.defineObject("Date",Date)}defineObject(e,i){this.visitor.on(e,(o,r)=>{if(o.type==="Identifier")return i;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=r.visitNode(o.callee.property),c=o.arguments.map(d=>r.visitNode(d)),p=i[a];return p?p.apply(i,c):"__continue_exec"}return"__continue_exec"})}calc2(e){try{let i=iy(e,{ecmaVersion:2020});XS(this,Ox,i.body,"f")}catch(i){throw new Bt(i.message)}return this.visitor.setAST(QS(this,Ox,"f")),this.visitor.run()}static parseScript(e){try{return iy(e,{ecmaVersion:2020})}catch(i){throw new Bt(i.message)}}};n(Qt,"Jinter");Ox=new WeakMap;var ko,Fx,ZS="Utils",W=class{static load(e){N(ko,ko,e,"f",Fx)}static get shim(){if(!f(ko,ko,"f",Fx))throw new Error("Platform is not loaded");return f(ko,ko,"f",Fx)}};n(W,"Platform");ko=W;Fx={value:void 0};var b=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=W.shim.info.version}};n(b,"InnertubeError");var st=class extends b{};n(st,"ParsingError");var bm=class extends b{};n(bm,"MissingParamError");var jx=class extends b{};n(jx,"OAuth2Error");var bt=class extends Error{};n(bt,"PlayerError");var Io=class extends Error{};n(Io,"SessionError");var In=class extends Error{};n(In,"ChannelError");function Im(t,e){return Reflect.ownKeys(t).some(o=>{let r=e[o]instanceof u;return!r&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(r?e[o].toString():e[o])})}n(Im,"deepCompare");function je(t,e,i){let o=new RegExp(`${oy(e)}(.*?)${oy(i)}`,"s"),r=t.match(o);return r?r[1]:void 0}n(je,"getStringBetweenStrings");function oy(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(oy,"escapeStringRegexp");function zi(t){let e=U1[t],i=Math.floor(Math.random()*e.length);return e[i]}n(zi,"getRandomUserAgent");function eC(t){return k(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),r=yield W.shim.sha1Hash(o);return["SAPISIDHASH",[i,r].join("_")].join(" ")})}n(eC,"generateSidAuth");function Fi(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(Fi,"generateRandomString");function Se(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(Se,"timeToSeconds");function Ag(...t){let e=new ti;for(let i of t)if(!!i)for(let o of i){let r=e.get(o[0]);if(r){e.set(o[0],[...r,...o[1]]);continue}e.set(...o)}return e}n(Ag,"concatMemos");function Tr(t){for(let[e,i]of Object.entries(t))if(!i)throw new bm(`${e} is missing`)}n(Tr,"throwIfMissing");function tC(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(tC,"hasKeys");function Zx(t){return Ay(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:r}=yield Yi(i.read());if(o)return yield Yi(void 0);yield yield Yi(r)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(Zx,"streamToIterable");var iC=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,r=[...o],a=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",c=r.length>0?`${r.map(([p,d])=>`    ${p}: ${d}`).join(`
`)}`:"    (none)";return Y.warn(ZS,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${c}
' + 
    '  body:
${a}`),W.shim.fetch(t,e)},"debugFetch");function ze(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n(ze,"u8ToBase64");function _g(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(_g,"base64ToU8");function We(t){return!("emoji"in t)}n(We,"isTextRun");function oC(t,e,i=!1){let o=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,r=t.match(new RegExp(o));return r?r[2]:void 0}n(oC,"getCookie");function ny(t,e){let{name:i,includes:o,regexp:r}=e,c=[Qt.parseScript(t)];for(let p=0;p<c.length;p++){let d=c[p];if(d.type==="ExpressionStatement"&&d.expression.type==="AssignmentExpression"&&d.expression.left.type==="Identifier"&&d.expression.right.type==="FunctionExpression"){let h=t.substring(d.start,d.end);if(i&&d.expression.left.name===i||o&&h.indexOf(o)>-1||r&&r.test(h))return{start:d.start,end:d.end,name:d.expression.left.name,node:d,result:h}}for(let h in d){let _=d[h];Array.isArray(_)?c.push(..._):typeof _=="object"&&_!==null&&c.push(_)}}}n(ny,"findFunction");function ry(t){return k(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let r=new Uint8Array(o),a=[];for(let c=0;c<r.length;++c)a.push(e[r[c]]);return a.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n(ry,"sha1Hash");var Yx={name:"youtubei.js",version:"10.3.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"react-native":["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"],"cf-worker":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js","react-native":"./dist/src/platform/react-native.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./react-native":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/react-native.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"},"./cf-worker":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/cf-worker.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",clean:"npx rimraf ./dist/src ./dist/package.json ./bundle/browser.js ./bundle/browser.js.map ./bundle/browser.min.js ./bundle/browser.min.js.map ./bundle/node.cjs ./bundle/node.cjs.map ./bundle/cf-worker.js ./bundle/cf-worker.js.map ./bundle/react-native.js ./bundle/react-native.js.map ./deno",build:"npm run clean && npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod && npm run bundle:cf-worker && npm run bundle:react-native","build:parser-map":"node ./dev-scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:react-native":"npx esbuild ./dist/src/platform/react-native.js --bundle --target=es2020 --keep-names --format=esm --platform=neutral --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/react-native.js","bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify","bundle:cf-worker":'npx esbuild ./dist/src/platform/cf-worker.js --banner:js="/* eslint-disable */" --bundle --target=es2020 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/cf-worker.js --platform=node',prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^2.1.1",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^29.7.0",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^29.1.4","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var wm,Bk,Dk,Lk,Ux=class{constructor(e){wm.add(this),this.session=e}stats(e,i,o){return k(this,void 0,void 0,function*(){let r=new URL(e);r.searchParams.set("ver","2"),r.searchParams.set("c",i.client_name.toLowerCase()),r.searchParams.set("cbrver",i.client_version),r.searchParams.set("cver",i.client_version);for(let c of Object.keys(o))r.searchParams.set(c,o[c]);return yield this.session.http.fetch(r)})}execute(e,i){return k(this,void 0,void 0,function*(){var o,r;let a;if(i&&!i.protobuf){if(a=Object.assign({},i),Reflect.has(a,"browseId")&&f(this,wm,"m",Lk).call(this,a.browseId)&&!this.session.logged_in)throw new b("You must be signed in to perform this operation.");Reflect.has(a,"override_endpoint")&&delete a.override_endpoint,Reflect.has(a,"parse")&&delete a.parse,Reflect.has(a,"request")&&delete a.request,Reflect.has(a,"clientActions")&&delete a.clientActions,Reflect.has(a,"settingItemIdForClient")&&delete a.settingItemIdForClient,Reflect.has(a,"action")&&(a.actions=[a.action],delete a.action),Reflect.has(a,"boolValue")&&(a.newValue={boolValue:a.boolValue},delete a.boolValue),Reflect.has(a,"token")&&(a.continuation=a.token,delete a.token),(a==null?void 0:a.client)==="YTMUSIC"&&(a.isAudioOnly=!0)}else i&&(a=i.serialized_data);let c=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield this.session.http.fetch(c,{method:"POST",body:i!=null&&i.protobuf?a:JSON.stringify(a||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let d=l.parseResponse(yield p.json());if(f(this,wm,"m",Dk).call(this,d)&&((r=(o=d.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||r===void 0?void 0:r.type)==="navigateAction"){let h=d.on_response_received_actions.firstOfType(Ti);h&&(d=yield h.endpoint.call(this,{parse:!0}))}return d}return f(this,wm,"m",Bk).call(this,p)})}};n(Ux,"Actions");wm=new WeakSet,Bk=n(function(e){return k(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),Dk=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),Lk=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var sy=Ux;var Zt="Player",Xe=class{constructor(e,i,o,r){this.player_id=e,this.sts=i,this.nsig_sc=r,this.sig_sc=o}static create(e){return k(this,arguments,void 0,function*(i,o=W.shim.fetch,r){let a=new URL("/iframe_api",ge.URLS.YT_BASE),c=yield o(a);if(c.status!==200)throw new bt("Failed to request player id");let p=yield c.text(),d=je(p,"player\\/","\\/");if(Y.info(Zt,`Got player id (${d}). Checking for cached players..`),!d)throw new bt("Failed to get player id");if(i){let E=yield Xe.fromCache(i,d);if(E)return Y.info(Zt,"Found up-to-date player data in cache."),E.po_token=r,E}let h=new URL(`/s/player/${d}/player_ias.vflset/en_US/base.js`,ge.URLS.YT_BASE);Y.info(Zt,`Could not find any cached player. Will download a new player from ${h}.`);let _=yield o(h,{headers:{"user-agent":zi("desktop")}});if(!_.ok)throw new bt(`Failed to get player data: ${_.status}`);let x=yield _.text(),y=this.extractSigTimestamp(x),w=this.extractSigSourceCode(x),I=this.extractNSigSourceCode(x);Y.info(Zt,`Got signature timestamp (${y}) and algorithms needed to decipher signatures.`);let S=yield Xe.fromSource(d,y,i,w,I);return S.po_token=r,S})}decipher(e,i,o,r){if(e=e||i||o,!e)throw new bt("No valid URL to decipher");let a=new URLSearchParams(e),c=new URL(a.get("url")||e);if(this.sig_sc&&(i||o)){let _=W.shim.calculate(this.sig_sc,{sig:a.get("s")});if(Y.info(Zt,`Transformed signature from ${a.get("s")} to ${_}.`),typeof _!="string")throw new bt("Failed to decipher signature");let x=a.get("sp");x?c.searchParams.set(x,_):c.searchParams.set("signature",_)}let p=c.searchParams.get("n");if(this.nsig_sc&&p){let _;if(r&&r.has(p))_=r.get(p);else{if(_=W.shim.calculate(this.nsig_sc,{nsig:p}),Y.info(Zt,`Transformed n signature from ${p} to ${_}.`),typeof _!="string")throw new bt("Failed to decipher nsig");_.startsWith("enhanced_except_")?Y.warn(Zt,"Could not transform nsig, download may be throttled."):r&&r.set(p,_)}c.searchParams.set("n",_)}switch(c.searchParams.get("sabr")!=="1"&&this.po_token&&c.searchParams.set("pot",this.po_token),c.searchParams.get("c")){case"WEB":c.searchParams.set("cver",ge.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":c.searchParams.set("cver",ge.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":c.searchParams.set("cver",ge.CLIENTS.WEB_KIDS.VERSION);break;case"ANDROID":c.searchParams.set("cver",ge.CLIENTS.ANDROID.VERSION);break;case"ANDROID_MUSIC":c.searchParams.set("cver",ge.CLIENTS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":c.searchParams.set("cver",ge.CLIENTS.TV_EMBEDDED.VERSION);break}let h=c.toString();return Y.info(Zt,`Deciphered URL: ${h}`),c.toString()}static fromCache(e,i){return k(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let r=new DataView(o);if(r.getUint32(0,!0)!==Xe.LIBRARY_VERSION)return null;let c=r.getUint32(4,!0),p=r.getUint32(8,!0),d=o.slice(12,12+p),h=o.slice(12+p),_=ht.decompress(new TextDecoder().decode(d)),x=ht.decompress(new TextDecoder().decode(h));return new Xe(i,c,_,x)})}static fromSource(e,i,o,r,a){return k(this,void 0,void 0,function*(){let c=new Xe(e,i,r,a);return yield c.cache(o),c})}cache(e){return k(this,void 0,void 0,function*(){if(!e||!this.sig_sc||!this.nsig_sc)return;let i=new TextEncoder,o=i.encode(ht.compress(this.sig_sc)),r=i.encode(ht.compress(this.nsig_sc)),a=new ArrayBuffer(12+o.byteLength+r.byteLength),c=new DataView(a);c.setUint32(0,Xe.LIBRARY_VERSION,!0),c.setUint32(4,this.sts,!0),c.setUint32(8,o.byteLength,!0),new Uint8Array(a).set(o,12),new Uint8Array(a).set(r,12+o.byteLength),yield e.set(this.player_id,new Uint8Array(a))})}static extractSigTimestamp(e){return parseInt(je(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,r;let a=je(e,'function(a){a=a.split("")','return a.join("")}'),c=(r=(o=(i=a==null?void 0:a.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||r===void 0?void 0:r.trim(),p=je(e,`var ${c}={`,"};");return(!p||!a)&&Y.warn(Zt,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${c}={${p}}${a} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=ny(e,{includes:"enhanced_except"});if(i)return`${i.result} ${i.name}(nsig);`}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,ge.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 11}};n(Xe,"Player");var So,Fk,jk,Yk,Ok,ay;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(ay||(ay={}));var kr="Session",Tm=class extends Sr{constructor(e,i,o,r,a,c,p,d,h){super(),this.http=new ig(this,c,p),this.actions=new sy(this),this.logged_in=!!c,this.cache=d,this.account_index=r,this.key=i,this.api_version=o,this.context=e,this.player=a,this.po_token=h}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(){return k(this,arguments,void 0,function*(e={}){let{context:i,api_key:o,api_version:r,account_index:a}=yield So.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache,e.po_token);return new So(i,o,r,a,e.retrieve_player===!1?void 0:yield Xe.create(e.cache,e.fetch,e.po_token),e.cookie,e.fetch,e.cache,e.po_token)})}static fromCache(e,i){return k(this,void 0,void 0,function*(){let o=yield e.get("innertube_session_data");if(!o)return null;let r=new TextDecoder().decode(o.slice(4));try{let a=JSON.parse(ht.decompress(r));return i.visitor_data&&(a.context.client.visitorData=i.visitor_data),i.lang&&(a.context.client.hl=i.lang),i.location&&(a.context.client.gl=i.location),i.on_behalf_of_user&&(a.context.user.onBehalfOfUser=i.on_behalf_of_user),a.context.client.timeZone=i.time_zone,a.context.client.platform=i.device_category.toUpperCase(),a.context.client.clientName=i.client_name,a.context.user.enableSafetyMode=i.enable_safety_mode,a}catch(a){return Y.error(kr,"Failed to parse session data from cache.",a),null}})}static getSessionData(){return k(this,arguments,void 0,function*(e="",i="",o=0,r="",a=!1,c=!1,p="desktop",d=ay.WEB,h=Intl.DateTimeFormat().resolvedOptions().timeZone,_=W.shim.fetch,x,y,w=!0,I){let S={lang:e,location:i,time_zone:h,device_category:p,client_name:d,enable_safety_mode:a,visitor_data:r,on_behalf_of_user:x,po_token:I},E;if(y&&w){let V=yield this.fromCache(y,S);V&&(Y.info(kr,"Found session data in cache."),E=V)}if(!E){Y.info(kr,"Generating session data.");let V=re.WEB.API_KEY,B=re.WEB.API_VERSION,U={hl:e||"en",gl:i||"US",remote_host:"",visitor_data:r||dg(Fi(11),Math.floor(Date.now()/1e3)),client_name:d,client_version:re.WEB.VERSION,device_category:p.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:h,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:a};if(!c)try{let X=yield f(this,So,"m",jk).call(this,S,_);V=X.api_key,B=X.api_version,U=X.context_data}catch(X){Y.error(kr,"Failed to retrieve session data from server. Session data generated locally will be used instead.",X)}E={api_key:V,api_version:B,context:f(this,So,"m",Yk).call(this,U)},w&&(yield f(this,So,"m",Fk).call(this,E,y))}return Y.debug(kr,"Session data:",E),Object.assign(Object.assign({},E),{account_index:o})})}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};n(Tm,"Session");So=Tm,Fk=n(function(e,i){return k(this,void 0,void 0,function*(){if(!i)return;Y.info(kr,"Compressing and caching session data.");let o=new TextEncoder().encode(ht.compress(JSON.stringify(e))),r=new ArrayBuffer(4+o.byteLength);new DataView(r).setUint32(0,o.byteLength,!0),new Uint8Array(r).set(o,4),yield i.set("innertube_session_data",new Uint8Array(r))})},"_Session_storeSession"),jk=n(function(e){return k(this,arguments,void 0,function*(i,o=W.shim.fetch){let r=Fi(11);i.visitor_data&&(r=f(this,So,"m",Ok).call(this,i.visitor_data));let a=new URL("/sw.js_data",et.YT_BASE),c=yield o(a,{headers:{"Accept-Language":i.lang||"en-US","User-Agent":zi("desktop"),Accept:"*/*",Referer:`${et.YT_BASE}/sw.js`,Cookie:`PREF=tz=${i.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${r};`}});if(!c.ok)throw new Io(`Failed to retrieve session data: ${c.status}`);let p=yield c.text();if(!p.startsWith(")]}'"))throw new Io("Invalid JSPB response");let h=JSON.parse(p.replace(/^\)\]\}'/,""))[0][2],_=re.WEB.API_VERSION,[[x],y]=h,w=x[61],I=w[w.length-1];return{context_data:{hl:i.lang||x[0],gl:i.location||x[2],remote_host:x[3],visitor_data:i.visitor_data||x[13],client_name:i.client_name,client_version:x[16],os_name:x[17],os_version:x[18],time_zone:x[79]||i.time_zone,device_category:i.device_category,browser_name:x[86],browser_version:x[87],device_make:x[11],device_model:x[12],app_install_data:I,enable_safety_mode:i.enable_safety_mode},api_key:y,api_version:_}})},"_Session_getSessionData"),Yk=n(function(e){let i={client:{hl:e.hl,gl:e.gl,remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:et.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",mainAppWebInfo:{graftUrl:et.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(i.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},"_Session_buildContext"),Ok=n(function(e){return fg(e).id},"_Session_getVisitorID");var uy=Tm;var ly={};xe(ly,{BrowseEndpoint:()=>Co,NextEndpoint:()=>ji,PlayerEndpoint:()=>ei,Reel:()=>mt});var Co={};xe(Co,{PATH:()=>rC,build:()=>sC});var rC="/browse";function sC(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}n(sC,"build");var ji={};xe(ji,{PATH:()=>aC,build:()=>uC});var aC="/next";function uC(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(uC,"build");var ei={};xe(ei,{PATH:()=>lC,build:()=>cC});var lC="/player";function cC(t){let e={playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id};return t.client&&(e.client=t.client),t.playlist_id&&(e.playlistId=t.playlist_id),t.params&&(e.params=t.params),t.po_token&&(e.serviceIntegrityDimensions={poToken:t.po_token}),e}n(cC,"build");var mt={};xe(mt,{ReelItemWatchEndpoint:()=>Wx,ReelWatchSequenceEndpoint:()=>Jx});var Wx={};xe(Wx,{PATH:()=>pC,build:()=>dC});var pC="/reel/reel_item_watch";function dC(t){var e,i;return{disablePlayerResponse:!1,playerRequest:{videoId:t.video_id,params:(e=t.params)!==null&&e!==void 0?e:"CAUwAg%3D%3D"},params:(i=t.params)!==null&&i!==void 0?i:"CAUwAg%3D%3D",client:t.client}}n(dC,"build");var Jx={};xe(Jx,{PATH:()=>fC,build:()=>mC});var fC="/reel/reel_watch_sequence";function mC(t){return{sequenceParams:t.sequence_params}}n(mC,"build");var Eo,Hx=class extends kn{constructor(e,i,o,r){var a;if(super(e,i,o),Eo.set(this,void 0),r){let c=l.parseResponse(r.data);c.entries&&(this.watch_next_feed=c.entries),c.continuation_endpoint&&N(this,Eo,(a=c.continuation_endpoint)===null||a===void 0?void 0:a.as(Jt),"f")}}getWatchNextContinuation(){return k(this,void 0,void 0,function*(){var e;if(!f(this,Eo,"f"))throw new b("Continuation not found");let i=yield this.actions.execute(mt.ReelWatchSequenceEndpoint.PATH,Object.assign(Object.assign({},mt.ReelWatchSequenceEndpoint.build({sequence_params:f(this,Eo,"f").token})),{parse:!0}));return i.entries&&(this.watch_next_feed=i.entries),N(this,Eo,(e=i.continuation_endpoint)===null||e===void 0?void 0:e.as(Jt),"f"),this})}get wn_has_continuation(){return!!f(this,Eo,"f")}};n(Hx,"ShortFormVideoInfo");Eo=new WeakMap;var cy=Hx;var Ot,Ir=class{constructor(e){Ot.set(this,void 0),N(this,Ot,e,"f")}static create(){return k(this,arguments,void 0,function*(e={}){return new Ir(yield uy.create(e))})}getInfo(e,i){return k(this,void 0,void 0,function*(){var o,r,a,c,p;Tr({target:e});let d;if(e instanceof v)d=ji.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(r=e.payload)===null||r===void 0?void 0:r.playlistId,params:(a=e.payload)===null||a===void 0?void 0:a.params,playlist_index:(c=e.payload)===null||c===void 0?void 0:c.index});else if(typeof e=="string")d=ji.build({video_id:e});else throw new b("Invalid target. Expected a video id or NavigationEndpoint.",e);if(!d.videoId)throw new b("Video id cannot be empty",d);let h=ei.build({video_id:d.videoId,playlist_id:d==null?void 0:d.playlistId,client:i,sts:(p=f(this,Ot,"f").player)===null||p===void 0?void 0:p.sts,po_token:f(this,Ot,"f").po_token}),_=this.actions.execute(ei.PATH,h),x=this.actions.execute(ji.PATH,d),y=yield Promise.all([_,x]),w=Fi(16);return new cm(y,this.actions,w)})}getBasicInfo(e,i){return k(this,void 0,void 0,function*(){var o;Tr({video_id:e});let r=yield this.actions.execute(ei.PATH,ei.build({video_id:e,client:i,sts:(o=f(this,Ot,"f").player)===null||o===void 0?void 0:o.sts,po_token:f(this,Ot,"f").po_token})),a=Fi(16);return new cm([r],this.actions,a)})}getShortsVideoInfo(e,i){return k(this,void 0,void 0,function*(){Tr({video_id:e});let o=this.actions.execute(mt.ReelItemWatchEndpoint.PATH,mt.ReelItemWatchEndpoint.build({video_id:e,client:i})),r=this.actions.execute(mt.ReelWatchSequenceEndpoint.PATH,mt.ReelWatchSequenceEndpoint.build({sequence_params:hg(e)})),a=yield Promise.all([o,r]),c=Fi(16);return new cy([a[0]],this.actions,c,a[1])})}getPlaylist(e){return k(this,void 0,void 0,function*(){Tr({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute(Co.PATH,Co.build({browse_id:e}));return new Pn(this.actions,i)})}getStreamingData(e){return k(this,arguments,void 0,function*(i,o={}){let a=(yield this.getBasicInfo(i)).chooseFormat(o);return a.url=a.decipher(f(this,Ot,"f").player),a})}download(e,i){return k(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}call(e,i){return e.call(this.actions,i)}get actions(){return f(this,Ot,"f").actions}get session(){return f(this,Ot,"f")}};n(Ir,"Innertube");Ot=new WeakMap;var py=Ir;var Uk={};var Wk=py;var Jk="JsRuntime";function dy(t,e){Y.debug(Jk,`Calculating:
`,t);let i=new Qt;for(let[r,a]of Object.entries(e))i.scope.set(r,a);let o=i.calc2(t);return Y.debug(Jk,"Done. Result:",o),o}n(dy,"calc2");var km,fy,Gx,zx,$x,Kx=class{constructor(e=!1,i){km.add(this),fy.set(this,"Cache"),Gx.set(this,void 0),zx.set(this,void 0),N(this,Gx,i||"","f"),N(this,zx,e,"f")}get cache_dir(){return f(this,zx,"f")?f(this,Gx,"f"):""}get(e){return k(this,void 0,void 0,function*(){let i=yield f(this,km,"m",$x).call(this);if(!!i)return new Promise((o,r)=>{let a=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);a.onerror=r,a.onsuccess=function(){var c;let p=(c=this.result)===null||c===void 0?void 0:c.v;p instanceof ArrayBuffer?o(p):ArrayBuffer.isView(p)?o(p.buffer):o(void 0)}})})}set(e,i){return k(this,void 0,void 0,function*(){let o=yield f(this,km,"m",$x).call(this);if(!!o)return new Promise((r,a)=>{let c=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});c.onerror=a,c.onsuccess=()=>r()})})}remove(e){return k(this,void 0,void 0,function*(){let i=yield f(this,km,"m",$x).call(this);if(!!i)return new Promise((o,r)=>{let a=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);a.onerror=r,a.onsuccess=()=>o()})})}};n(Kx,"Cache");fy=new WeakMap,Gx=new WeakMap,zx=new WeakMap,km=new WeakSet,$x=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let r=e.open("youtubei.js",1);r.onsuccess=function(){i(this.result)},r.onerror=function(a){o("indexedDB request error"),console.error(a)},r.onupgradeneeded=function(){let a=this.result.createObjectStore("kv-store",{keyPath:"k"});a.transaction.oncomplete=function(){i(this.db)}}}):Y.warn(f(this,fy,"f"),"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");W.load({runtime:"browser",server:!1,info:{version:Yx.version,bugs_url:Yx.bugs.url,repo_url:Yx.homepage.split("#")[0]},Cache:Kx,sha1Hash:ry,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},calculate:dy,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var Nke=Wk;export{sy as Actions,Ki as AppendContinuationItemsAction,ay as ClientType,ge as Constants,uo as Continuation,Jt as ContinuationCommand,ly as Endpoints,Sr as EventEmitter,Gi as FormatUtils,Ig as Generator,gn as GridContinuation,ig as HTTPClient,Qx as Helpers,py as Innertube,mn as ItemSectionContinuation,ht as LZW,Ii as LiveChatContinuation,Y as Log,Lg as Misc,Vg as Mixins,vn as MusicPlaylistShelfContinuation,xn as MusicShelfContinuation,Ti as NavigateAction,l as Parser,W as Platform,Xe as Player,yn as PlaylistPanelContinuation,mi as Proto,ki as ReloadContinuationItemsCommand,_n as SectionListContinuation,uy as Session,hn as ShowMiniplayerCommand,Uk as Types,Nr as UMP,$k as UniversalCache,og as Utils,Dg as YT,oo as YTNodes,Nke as default};