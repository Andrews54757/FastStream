/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var x0=Object.defineProperty;var n=(t,e)=>x0(t,"name",{value:e,configurable:!0});var ye=(t,e)=>{for(var i in e)x0(t,i,{get:e[i],enumerable:!0})};function y0(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]]);return i}n(y0,"__rest");function b0(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n(b0,"__setFunctionName");function I(t,e,i,o){function r(a){return a instanceof i?a:new i(function(c){c(a)})}return n(r,"adopt"),new(i||(i=Promise))(function(a,c){function p(_){try{h(o.next(_))}catch(x){c(x)}}n(p,"fulfilled");function d(_){try{h(o.throw(_))}catch(x){c(x)}}n(d,"rejected");function h(_){_.done?a(_.value):r(_.value).then(p,d)}n(h,"step"),h((o=o.apply(t,e||[])).next())})}n(I,"__awaiter");function g0(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(g0,"__values");function Oi(t){return this instanceof Oi?(this.v=t,this):new Oi(t)}n(Oi,"__await");function w0(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),r,a=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(y){o[y]&&(r[y]=function(w){return new Promise(function(k,S){a.push([y,w,k,S])>1||p(y,w)})})}function p(y,w){try{d(o[y](w))}catch(k){x(a[0][3],k)}}function d(y){y.value instanceof Oi?Promise.resolve(y.value.v).then(h,_):x(a[0][2],y)}function h(y){p("next",y)}function _(y){p("throw",y)}function x(y,w){y(w),a.shift(),a.length&&p(a[0][0],a[0][1])}}n(w0,"__asyncGenerator");function T0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof g0=="function"?g0(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(a){i[a]=t[a]&&function(c){return new Promise(function(p,d){c=t[a](c),r(p,d,c.done,c.value)})}}function r(a,c,p,d){Promise.resolve(d).then(function(h){a({value:h,done:p})},c)}}n(T0,"__asyncValues");function f(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(f,"__classPrivateFieldGet");function E(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i}n(E,"__classPrivateFieldSet");var qx={};ye(qx,{ChannelError:()=>kn,InnertubeError:()=>b,MissingParamError:()=>sm,OAuth2Error:()=>Tx,ParsingError:()=>st,Platform:()=>W,PlayerError:()=>yt,SessionError:()=>bo,base64ToU8:()=>lg,concatMemos:()=>Ig,debugFetch:()=>uS,deepCompare:()=>ym,escapeStringRegexp:()=>Rg,generateRandomString:()=>Ai,generateSidAuth:()=>sS,getCookie:()=>lS,getRandomUserAgent:()=>Ji,getStringBetweenStrings:()=>je,hasKeys:()=>aS,isTextRun:()=>We,streamToIterable:()=>Gx,throwIfMissing:()=>am,timeToSeconds:()=>Se,u8ToBase64:()=>ze});var Hx={};ye(Hx,{Maybe:()=>ji,Memo:()=>Qt,SuperParsedResult:()=>Tt,YTNode:()=>s,observe:()=>oe});var Ie,Fe=class{static doLog(e,i,o){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let r=[`[${this.YTJS_TAG}]`];i&&r.push(`[${i}]`),this.log_map_[e](`${r.join("")}:`,...o||[])}static setLevel(...e){this.log_level_=e}};n(Fe,"Log");Ie=Fe;Fe.YTJS_TAG="YOUTUBEJS";Fe.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};Fe.log_map_={[Ie.Level.ERROR]:(...t)=>console.error(...t),[Ie.Level.WARNING]:(...t)=>console.warn(...t),[Ie.Level.INFO]:(...t)=>console.info(...t),[Ie.Level.DEBUG]:(...t)=>console.debug(...t)};Fe.log_level_=[Ie.Level.WARNING];Fe.one_time_warnings_issued_=new Set;Fe.warnOnce=(t,...e)=>{Ie.one_time_warnings_issued_.has(t)||(Ie.doLog(Ie.Level.WARNING,t,e),Ie.one_time_warnings_issued_.add(t))};Fe.warn=(t,...e)=>Ie.doLog(Ie.Level.WARNING,t,e);Fe.error=(t,...e)=>Ie.doLog(Ie.Level.ERROR,t,e);Fe.info=(t,...e)=>Ie.doLog(Ie.Level.INFO,t,e);Fe.debug=(t,...e)=>Ie.doLog(Ie.Level.DEBUG,t,e);var Y=Fe;var Wx,k0,we,Jx,ce,wt,Dt,Fi,I0=Symbol("ObservedArray.isObserved"),s=class{constructor(){Wx.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>f(this,Wx,"m",k0).call(this,i))}as(...e){if(!this.is(...e))throw new st(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new st(`Missing key ${e}`);return new ji(this[e])}};n(s,"YTNode");Wx=new WeakSet,k0=n(function(e){return this.type===e.type},"_YTNode_is");s.type="YTNode";var ji=class{constructor(e){we.add(this),Jx.set(this,"Maybe"),ce.set(this,void 0),E(this,ce,e,"f")}get typeof(){return typeof f(this,ce,"f")}string(){return f(this,we,"m",Dt).call(this,"string")}isString(){return f(this,we,"m",wt).call(this,"string")}number(){return f(this,we,"m",Dt).call(this,"number")}isNumber(){return f(this,we,"m",wt).call(this,"number")}bigint(){return f(this,we,"m",Dt).call(this,"bigint")}isBigint(){return f(this,we,"m",wt).call(this,"bigint")}boolean(){return f(this,we,"m",Dt).call(this,"boolean")}isBoolean(){return f(this,we,"m",wt).call(this,"boolean")}symbol(){return f(this,we,"m",Dt).call(this,"symbol")}isSymbol(){return f(this,we,"m",wt).call(this,"symbol")}undefined(){return f(this,we,"m",Dt).call(this,"undefined")}isUndefined(){return f(this,we,"m",wt).call(this,"undefined")}null(){if(f(this,ce,"f")!==null)throw new TypeError(`Expected null, got ${typeof f(this,ce,"f")}`);return f(this,ce,"f")}isNull(){return f(this,ce,"f")===null}object(){return f(this,we,"m",Dt).call(this,"object")}isObject(){return f(this,we,"m",wt).call(this,"object")}function(){return f(this,we,"m",Dt).call(this,"function")}isFunction(){return f(this,we,"m",wt).call(this,"function")}array(){if(!Array.isArray(f(this,ce,"f")))throw new TypeError(`Expected array, got ${typeof f(this,ce,"f")}`);return f(this,ce,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new ji(Reflect.get(i,o))}})}isArray(){return Array.isArray(f(this,ce,"f"))}node(){if(!(f(this,ce,"f")instanceof s))throw new TypeError(`Expected YTNode, got ${f(this,ce,"f").constructor.name}`);return f(this,ce,"f")}isNode(){return f(this,ce,"f")instanceof s}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof f(this,ce,"f")}`);return f(this,ce,"f")}isObserved(){var e;return(e=f(this,ce,"f"))===null||e===void 0?void 0:e[I0]}parsed(){if(!(f(this,ce,"f")instanceof Tt))throw new TypeError(`Expected SuperParsedResult, got ${typeof f(this,ce,"f")}`);return f(this,ce,"f")}isParsed(){return f(this,ce,"f")instanceof Tt}any(){return Y.warn(f(this,Jx,"f"),"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),f(this,ce,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${f(this,ce,"f").constructor.name}`);return f(this,ce,"f")}isInstanceof(e){return f(this,ce,"f")instanceof e}};n(ji,"Maybe");Jx=new WeakMap,ce=new WeakMap,we=new WeakSet,wt=n(function(e){return typeof f(this,ce,"f")===e},"_Maybe_checkPrimative"),Dt=n(function(e){if(!f(this,we,"m",wt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return f(this,ce,"f")},"_Maybe_assertPrimative");var Tt=class{constructor(e){Fi.set(this,void 0),E(this,Fi,e,"f")}get is_null(){return f(this,Fi,"f")===null}get is_array(){return!this.is_null&&Array.isArray(f(this,Fi,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return f(this,Fi,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return f(this,Fi,"f")}};n(Tt,"SuperParsedResult");Fi=new WeakMap;function oe(t){return new Proxy(t,{get(e,i){return i=="get"?(o,r)=>e.find((a,c)=>{let p=ym(o,a);return p&&r&&e.splice(c,1),p}):i==I0?!0:i=="getAll"?(o,r)=>e.filter((a,c)=>{let p=ym(o,a);return p&&r&&e.splice(c,1),p}):i=="matchCondition"?o=>e.find(r=>o(r)):i=="filterType"?(...o)=>oe(e.filter(r=>!!r.is(...o))):i=="firstOfType"?(...o)=>e.find(r=>!!r.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>oe(e.map(r=>{if(r.is(...o))return r;throw new st(`Expected node of any type ${o.map(a=>a.type).join(", ")}, got ${r.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n(oe,"observe");var Qt=class extends Map{getType(...e){return e=e.flat(),oe(e.flatMap(i=>this.get(i.type)||[]))}};n(Qt,"Memo");var Pg={};ye(Pg,{Author:()=>L,ChildElement:()=>a_,EmojiRun:()=>ti,Format:()=>Zv,Text:()=>u,TextRun:()=>ii,Thumbnail:()=>g,VideoDetails:()=>wi});var xe={};ye(xe,{CLIENTS:()=>ne,INNERTUBE_HEADERS_BASE:()=>Ok,OAUTH:()=>Dk,STREAM_HEADERS:()=>Ot,URLS:()=>tt});var tt=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),Dk=Object.freeze({REGEX:Object.freeze({TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')})}),ne=Object.freeze({iOS:{NAME_ID:"5",NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME_ID:"1",NAME:"WEB",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME_ID:"76",NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME_ID:"67",NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME_ID:"3",NAME:"ANDROID",VERSION:"18.48.37",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/18.48.37(Linux; U; Android 13; en_US; sdk_gphone64_x86_64 Build/UPB4.230623.005) gzip"},YTSTUDIO_ANDROID:{NAME_ID:"14",NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME_ID:"21",NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME_ID:"85",NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),Ot=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),Ok=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var l={};ye(l,{addRuntimeParser:()=>gg,applyCommentsMutations:()=>y1,applyMutations:()=>g1,getDynamicParsers:()=>oS,getParserByName:()=>Wf,hasParser:()=>qv,parse:()=>Je,parseActions:()=>x1,parseArray:()=>Me,parseC:()=>v1,parseFormats:()=>wg,parseItem:()=>ee,parseLC:()=>bg,parseRR:()=>ex,parseResponse:()=>yg,sanitizeClassName:()=>Hf,setParserErrorHandler:()=>tS,shouldIgnore:()=>_1});var to={};ye(to,{AboutChannel:()=>Am,AboutChannelView:()=>Rm,AccountChannel:()=>Vm,AccountItemSection:()=>Bm,AccountItemSectionHeader:()=>Mm,AccountSectionList:()=>Lm,AddBannerToLiveChatCommand:()=>Mb,AddChatItemAction:()=>V_,AddLiveChatTickerItemAction:()=>Bb,Alert:()=>No,AlertWithButton:()=>Wm,AnalyticsMainAppKeyMetrics:()=>j0,AnalyticsRoot:()=>Y0,AnalyticsShortsCarouselCard:()=>U0,AnalyticsVideo:()=>Hm,AnalyticsVodCarouselCard:()=>W0,AnchoredSection:()=>Hv,AppendContinuationItemsAction:()=>Gi,AttributionView:()=>Gm,AudioOnlyPlayability:()=>zm,AuthorCommentBadge:()=>Oh,AutomixPreviewVideo:()=>$m,AvatarView:()=>Km,BackstageImage:()=>qm,BackstagePost:()=>oi,BackstagePostThread:()=>G0,BrowseFeedActions:()=>Qm,BrowserMediaSession:()=>z0,Button:()=>T,ButtonView:()=>zi,C4TabbedHeader:()=>Fo,CallToActionButton:()=>$0,Card:()=>K0,CardCollection:()=>Ih,CarouselHeader:()=>Sh,CarouselItem:()=>q0,CarouselLockup:()=>yh,Channel:()=>Ch,ChannelAboutFullMetadata:()=>_a,ChannelAgeGate:()=>X0,ChannelExternalLinkView:()=>Pm,ChannelFeaturedContent:()=>Q0,ChannelHeaderLinks:()=>Zm,ChannelHeaderLinksView:()=>eh,ChannelMetadata:()=>Eh,ChannelMobileHeader:()=>Z0,ChannelOptions:()=>Nh,ChannelOwnerEmptyState:()=>ey,ChannelSubMenu:()=>ka,ChannelTagline:()=>Th,ChannelThumbnailWithLink:()=>ty,ChannelVideoPlayer:()=>iy,Chapter:()=>Ph,ChildVideo:()=>oy,ChipBarView:()=>ny,ChipCloud:()=>jo,ChipCloudChip:()=>Ye,ChipView:()=>Rh,ClipAdState:()=>oh,ClipCreation:()=>nh,ClipCreationScrubber:()=>ih,ClipCreationTextInput:()=>th,ClipSection:()=>rh,CollaboratorInfoCardContent:()=>ry,CollageHeroImage:()=>sy,CollectionThumbnailView:()=>Lh,Comment:()=>Ho,CommentActionButtons:()=>Po,CommentDialog:()=>eb,CommentReplies:()=>Hh,CommentReplyDialog:()=>Yo,CommentSimplebox:()=>Kh,CommentThread:()=>qh,CommentView:()=>di,CommentsEntryPointHeader:()=>$h,CommentsEntryPointTeaser:()=>zh,CommentsHeader:()=>pi,CommentsSimplebox:()=>Gh,CompactChannel:()=>tb,CompactLink:()=>Go,CompactMix:()=>ib,CompactMovie:()=>ob,CompactPlaylist:()=>nb,CompactStation:()=>rb,CompactVideo:()=>Lo,ConfirmDialog:()=>sb,ContentMetadataView:()=>Ko,ContentPreviewImageView:()=>Mo,ContinuationItem:()=>pe,ConversationBar:()=>ab,CopyLink:()=>Xh,CreatePlaylistDialog:()=>Sm,CreatorHeart:()=>Xm,CtaGoToCreatorStudio:()=>J0,DataModelSection:()=>Jm,DecoratedAvatarView:()=>Qh,DecoratedPlayerBar:()=>i_,DefaultPromoPanel:()=>ub,DescriptionPreviewView:()=>o_,DidYouMean:()=>lb,DimChatItemAction:()=>Lb,DislikeButtonView:()=>n_,DownloadButton:()=>r_,Dropdown:()=>ei,DropdownItem:()=>Im,DynamicTextView:()=>s_,Element:()=>qo,EmergencyOnebox:()=>cb,EmojiPicker:()=>Jh,EmojiPickerCategory:()=>pb,EmojiPickerCategoryButton:()=>db,EmojiPickerUpsellCategory:()=>fb,EndScreenPlaylist:()=>l_,EndScreenVideo:()=>c_,Endscreen:()=>u_,EndscreenElement:()=>mb,EngagementPanelSectionList:()=>si,EngagementPanelTitleHeader:()=>sh,EomSettingsDisclaimer:()=>hb,ExpandableMetadata:()=>fh,ExpandableTab:()=>Xo,ExpandableVideoDescriptionBody:()=>ch,ExpandedShelfContents:()=>_b,Factoid:()=>ri,FancyDismissibleDialog:()=>vb,FeedFilterChipBar:()=>jt,FeedNudge:()=>xb,FeedTabbedHeader:()=>p_,FlexibleActionsView:()=>d_,GameCard:()=>ph,GameDetails:()=>gb,Grid:()=>yb,GridChannel:()=>f_,GridHeader:()=>bb,GridMix:()=>wb,GridMovie:()=>Tb,GridPlaylist:()=>m_,GridShow:()=>kb,GridVideo:()=>v_,GuideCollapsibleEntry:()=>Ib,GuideCollapsibleSectionEntry:()=>Sb,GuideDownloadsEntry:()=>Cb,GuideEntry:()=>eo,GuideSection:()=>Qo,GuideSubscriptionsSection:()=>x_,HashtagHeader:()=>g_,HashtagTile:()=>Eb,HeatMarker:()=>Zh,Heatmap:()=>e_,HeroPlaylistThumbnail:()=>Nb,HighlightsCarousel:()=>Pb,HistorySuggestion:()=>Rb,HorizontalCardList:()=>ni,HorizontalList:()=>dh,HorizontalMovieList:()=>Ab,IconLink:()=>b_,ImageBannerView:()=>w_,IncludingResultsFor:()=>Vb,InfoPanelContainer:()=>k_,InfoPanelContent:()=>T_,InfoRow:()=>gh,InteractiveTabbedHeader:()=>I_,ItemSection:()=>$e,ItemSectionHeader:()=>Zo,ItemSectionTab:()=>S_,ItemSectionTabbedHeader:()=>en,KidsBlocklistPicker:()=>i1,KidsBlocklistPickerItem:()=>Gv,KidsCategoriesHeader:()=>o1,KidsCategoryTab:()=>zv,KidsHomeScreen:()=>n1,LikeButton:()=>E_,LikeButtonView:()=>N_,LiveChat:()=>P_,LiveChatActionPanel:()=>B_,LiveChatAuthorBadge:()=>aw,LiveChatAutoModMessage:()=>Db,LiveChatBanner:()=>A_,LiveChatBannerHeader:()=>R_,LiveChatBannerPoll:()=>Ob,LiveChatDialog:()=>uw,LiveChatHeader:()=>Y_,LiveChatItemList:()=>U_,LiveChatMembershipItem:()=>Fb,LiveChatMessageInput:()=>lw,LiveChatPaidMessage:()=>jb,LiveChatPaidSticker:()=>Yb,LiveChatParticipant:()=>W_,LiveChatParticipantsList:()=>J_,LiveChatPlaceholderItem:()=>Ub,LiveChatProductItem:()=>Wb,LiveChatRestrictedParticipation:()=>Jb,LiveChatTextMessage:()=>Hb,LiveChatTickerPaidMessageItem:()=>M_,LiveChatTickerPaidStickerItem:()=>Gb,LiveChatTickerSponsorItem:()=>zb,LiveChatViewerEngagementMessage:()=>$b,LockupMetadataView:()=>H_,LockupView:()=>G_,MacroMarkersInfoItem:()=>ah,MacroMarkersList:()=>uh,MacroMarkersListItem:()=>Ao,MarkChatItemAsDeletedAction:()=>qb,MarkChatItemsByAuthorAsDeletedAction:()=>Xb,Menu:()=>F,MenuNavigationItem:()=>z_,MenuPopup:()=>cw,MenuServiceItem:()=>hi,MenuServiceItemDownload:()=>pw,MerchandiseItem:()=>mw,MerchandiseShelf:()=>X_,Message:()=>fi,MetadataBadge:()=>Ge,MetadataRow:()=>hw,MetadataRowContainer:()=>Q_,MetadataRowHeader:()=>_w,MetadataScreen:()=>vw,MicroformatData:()=>_i,Mix:()=>xw,ModalWithTitleAndButton:()=>gw,Movie:()=>yw,MovingThumbnail:()=>bw,MultiMarkersPlayerBar:()=>t_,MultiPageMenu:()=>dw,MultiPageMenuNotificationSection:()=>fw,MusicCardShelf:()=>ww,MusicCardShelfHeaderBasic:()=>Z_,MusicCarouselShelf:()=>Aw,MusicCarouselShelfBasicHeader:()=>ev,MusicDescriptionShelf:()=>sv,MusicDetailHeader:()=>Vw,MusicDownloadStateBadge:()=>Mw,MusicEditablePlaylistDetailHeader:()=>Bw,MusicElementHeader:()=>Lw,MusicHeader:()=>Dw,MusicImmersiveHeader:()=>Ow,MusicInlineBadge:()=>on,MusicItemThumbnailOverlay:()=>It,MusicLargeCardItemCarousel:()=>Fw,MusicMenuItemDivider:()=>$_,MusicMultiRowListItem:()=>tv,MusicMultiSelectMenu:()=>K_,MusicMultiSelectMenuItem:()=>tn,MusicNavigationButton:()=>iv,MusicPlayButton:()=>nn,MusicPlaylistEditHeader:()=>jw,MusicPlaylistShelf:()=>Yw,MusicQueue:()=>lv,MusicResponsiveHeader:()=>Uw,MusicResponsiveListItem:()=>vi,MusicResponsiveListItemFixedColumn:()=>ov,MusicResponsiveListItemFlexColumn:()=>nv,MusicShelf:()=>Ww,MusicSideAlignedItem:()=>Jw,MusicSortFilterButton:()=>Hw,MusicTastebuilderShelf:()=>Gw,MusicTastebuilderShelfThumbnail:()=>cv,MusicThumbnail:()=>Re,MusicTwoRowItem:()=>rv,MusicVisualHeader:()=>zw,NavigationEndpoint:()=>v,Notification:()=>pv,OpenPopupAction:()=>Cm,PageHeader:()=>St,PageHeaderView:()=>dv,PageIntroduction:()=>fv,PdgCommentChip:()=>Fh,PivotButton:()=>mv,PlayerAnnotationsExpanded:()=>hv,PlayerCaptionsTracklist:()=>_v,PlayerControlsOverlay:()=>$w,PlayerErrorMessage:()=>Kw,PlayerLegacyDesktopYpcOffer:()=>qw,PlayerLegacyDesktopYpcTrailer:()=>Op,PlayerLiveStoryboardSpec:()=>gv,PlayerMicroformat:()=>ot,PlayerOverflow:()=>vv,PlayerOverlay:()=>wv,PlayerOverlayAutoplay:()=>yv,PlayerStoryboardSpec:()=>Ui,Playlist:()=>kt,PlaylistCustomThumbnail:()=>zo,PlaylistHeader:()=>Tv,PlaylistInfoCardContent:()=>Xw,PlaylistMetadata:()=>kv,PlaylistPanel:()=>uv,PlaylistPanelVideo:()=>Yt,PlaylistPanelVideoWrapper:()=>av,PlaylistSidebar:()=>Qw,PlaylistSidebarPrimaryInfo:()=>Iv,PlaylistSidebarSecondaryInfo:()=>Sv,PlaylistVideo:()=>sn,PlaylistVideoList:()=>Zw,PlaylistVideoThumbnail:()=>$o,Poll:()=>eT,PollHeader:()=>Kb,Post:()=>Cv,PostMultiImage:()=>tT,ProductList:()=>lh,ProductListHeader:()=>iT,ProductListItem:()=>oT,ProfileColumn:()=>nT,ProfileColumnStats:()=>rT,ProfileColumnStatsEntry:()=>sT,ProfileColumnUserInfo:()=>aT,Quiz:()=>uT,RecognitionShelf:()=>lT,ReelItem:()=>an,ReelPlayerHeader:()=>Ev,ReelPlayerOverlay:()=>cT,ReelShelf:()=>Oo,RelatedChipCloud:()=>Nv,RemoveBannerForLiveChatCommand:()=>Qb,RemoveChatItemAction:()=>Zb,RemoveChatItemByAuthorAction:()=>ew,ReplaceChatItemAction:()=>tw,ReplayChatItemAction:()=>iw,RichGrid:()=>xi,RichItem:()=>pT,RichListHeader:()=>dT,RichMetadata:()=>vd,RichMetadataRow:()=>gd,RichSection:()=>fT,RichShelf:()=>Pv,SearchBox:()=>mT,SearchFilter:()=>Rv,SearchFilterGroup:()=>un,SearchFilterOptionsDialog:()=>hT,SearchHeader:()=>Av,SearchRefinementCard:()=>$i,SearchSubMenu:()=>Vv,SearchSuggestion:()=>y_,SearchSuggestionsSection:()=>_T,SecondarySearchContainer:()=>vT,SectionList:()=>be,SegmentedLikeDislikeButton:()=>oo,SegmentedLikeDislikeButtonView:()=>no,SettingBoolean:()=>xT,SettingsCheckbox:()=>Mv,SettingsOptions:()=>cn,SettingsSidebar:()=>Bv,SettingsSwitch:()=>ln,SharedPost:()=>Lv,Shelf:()=>pn,ShowCustomThumbnail:()=>h_,ShowLiveChatActionPanelAction:()=>ow,ShowLiveChatDialogAction:()=>nw,ShowLiveChatTooltipCommand:()=>rw,ShowingResultsFor:()=>gT,SimpleCardContent:()=>yT,SimpleCardTeaser:()=>bT,SimpleMenuHeader:()=>q_,SimpleTextSection:()=>wT,SingleActionEmergencySupport:()=>TT,SingleColumnBrowseResults:()=>Dv,SingleColumnMusicWatchNextResults:()=>kT,SingleHeroImage:()=>IT,SlimOwner:()=>ST,SlimVideoMetadata:()=>CT,SortFilterHeader:()=>C_,SortFilterSubMenu:()=>_t,SponsorCommentBadge:()=>jh,StatRow:()=>H0,StructuredDescriptionContent:()=>qi,StructuredDescriptionPlaylistLockup:()=>bh,SubFeedOption:()=>Ov,SubFeedSelector:()=>ET,SubscribeButton:()=>Ce,SubscriptionNotificationToggleButton:()=>kh,Tab:()=>Ae,Tabbed:()=>NT,TabbedSearchResults:()=>PT,TextHeader:()=>RT,ThumbnailBadgeView:()=>Vh,ThumbnailHoverOverlayView:()=>Ah,ThumbnailLandscapePortrait:()=>AT,ThumbnailOverlayBadgeView:()=>Mh,ThumbnailOverlayBottomPanel:()=>__,ThumbnailOverlayEndorsement:()=>VT,ThumbnailOverlayHoverText:()=>MT,ThumbnailOverlayInlineUnplayable:()=>BT,ThumbnailOverlayLoadingPreview:()=>LT,ThumbnailOverlayNowPlaying:()=>DT,ThumbnailOverlayPinking:()=>OT,ThumbnailOverlayPlaybackStatus:()=>FT,ThumbnailOverlayResumePlayback:()=>jT,ThumbnailOverlaySidePanel:()=>YT,ThumbnailOverlayTimeStatus:()=>Ki,ThumbnailOverlayToggleButton:()=>UT,ThumbnailView:()=>Bh,TimedMarkerDecoration:()=>WT,TitleAndButtonListHeader:()=>JT,ToggleButton:()=>ge,ToggleButtonView:()=>mi,ToggleMenuServiceItem:()=>HT,Tooltip:()=>GT,TopicChannelDetails:()=>zT,Transcript:()=>Eo,TranscriptFooter:()=>Dm,TranscriptSearchBox:()=>Om,TranscriptSearchPanel:()=>Um,TranscriptSectionHeader:()=>Fm,TranscriptSegment:()=>jm,TranscriptSegmentList:()=>Ym,TwoColumnBrowseResults:()=>Ct,TwoColumnSearchResults:()=>Fv,TwoColumnWatchNextResults:()=>Yv,UniversalWatchCard:()=>Uv,UpdateDateTextAction:()=>L_,UpdateDescriptionAction:()=>D_,UpdateEngagementPanelAction:()=>F0,UpdateLiveChatPollAction:()=>sw,UpdateTitleAction:()=>O_,UpdateToggleButtonTextAction:()=>F_,UpdateViewershipAction:()=>j_,UploadTimeFactoid:()=>hh,UpsellDialog:()=>$T,VerticalList:()=>KT,VerticalWatchCardList:()=>qT,Video:()=>Vo,VideoAttributeView:()=>Bo,VideoCard:()=>mh,VideoDescriptionCourseSection:()=>wh,VideoDescriptionHeader:()=>vh,VideoDescriptionInfocardsSection:()=>xh,VideoDescriptionMusicSection:()=>Do,VideoDescriptionTranscriptSection:()=>ta,VideoInfoCardContent:()=>XT,VideoOwner:()=>dn,VideoPrimaryInfo:()=>Wv,VideoSecondaryInfo:()=>Nf,ViewCountFactoid:()=>_h,WatchCardCompactVideo:()=>Jv,WatchCardHeroVideo:()=>QT,WatchCardRichHeader:()=>ZT,WatchCardSectionSequence:()=>e1,WatchNextEndScreen:()=>bv,WatchNextTabbedResults:()=>t1,YpcTrailer:()=>xv});var Yi,bm=class{constructor(e,i){Yi.set(this,void 0),E(this,Yi,new W.shim.Cache(e,i),"f")}get cache_dir(){return f(this,Yi,"f").cache_dir}get(e){return f(this,Yi,"f").get(e)}set(e,i){return f(this,Yi,"f").set(e,i)}remove(e){return f(this,Yi,"f").remove(e)}};n(bm,"UniversalCache");Yi=new WeakMap;var Fk=bm;var Co,wm=class extends EventTarget{constructor(){super(),Co.set(this,new Map)}emit(e,...i){let o=new W.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(r=>{r instanceof W.shim.CustomEvent?i(...r.detail):i(r)},"wrapper");f(this,Co,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(r=>{r instanceof W.shim.CustomEvent?i(...r.detail):i(r),this.off(e,i)},"wrapper");f(this,Co,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=f(this,Co,"f").get(i);o&&(this.removeEventListener(e,o),f(this,Co,"f").delete(i))}};n(wm,"EventEmitterLike");Co=new WeakMap;var wr=wm;var Wi={};ye(Wi,{chooseFormat:()=>D0,download:()=>pI,toDash:()=>L0});var jk={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function S0(t){return t.replace(/([&"<>'])/g,(e,i)=>jk[i])}n(S0,"escapeXMLString");function Yk(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}n(Yk,"normalizeTag");function re(t,e,...i){let o=i.flat().map(r=>typeof r=="string"?Uk(r):r);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:o})):{type:Yk(t),props:Object.assign(Object.assign({},e),{children:o})}}n(re,"createElement");function Uk(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}n(Uk,"createTextElement");function C0(t){return I(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return S0(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(o=>!["children","nodeValue"].includes(o)&&t.props[o]!==void 0).map(o=>`${o}="${S0(`${t.props[o]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(o=>!!o).map(o=>C0(o)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}n(C0,"renderElementToString");function E0(t){return I(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield C0(yield t)}`})}n(E0,"renderToString");function N0(t){return t.children}n(N0,"Fragment");var Tr=class extends s{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((r,a)=>{let[c,p,d,h,_,x,y,w]=r.split("#");o.searchParams.set("sigh",w);let k=Math.ceil(parseInt(d,10)/(parseInt(h,10)*parseInt(_,10)));return{type:"vod",template_url:o.toString().replace("$L",a).replace("$N",y),thumbnail_width:parseInt(c,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(d,10),interval:parseInt(x,10),columns:parseInt(h,10),rows:parseInt(_,10),storyboard_count:k}})}};n(Tr,"PlayerStoryboardSpec");Tr.type="PlayerStoryboardSpec";var Ui=Tr;var Jk="StreamingInfo";function Hk(t,e){var i,o,r;let a=new Map,c=t.some(p=>!!p.audio_track);for(let p of t){if((!p.index_range||!p.init_range)&&!p.is_type_otf&&!e)continue;let d=p.mime_type.split(";")[0],h=(i=je(p.mime_type,'codecs="','"'))===null||i===void 0?void 0:i.split(".")[0],_=p.color_info?Object.values(p.color_info).join("-"):"",x=((o=p.audio_track)===null||o===void 0?void 0:o.id)||"",y=p.is_drc?"drc":"",w=`${d}-${h}-${_}-${x}-${y}`;a.has(w)||a.set(w,[]),(r=a.get(w))===null||r===void 0||r.push(p)}return{groups:Array.from(a.values()),has_multiple_audio_tracks:c}}n(Hk,"getFormatGroupings");function R0(t,e){if(t.length>1&&new Set(t.map(i=>je(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),je(t[0].mime_type,'codecs="','"')}n(R0,"hoistCodecsIfPossible");function A0(t,e,i){if(t.length>1&&new Set(t.map(o=>o.fps)).size===1)return i.push(e),Number(t[0][e])}n(A0,"hoistNumberAttributeIfPossible");function Gk(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}n(Gk,"hoistAudioChannelsIfPossible");function zk(t,e){return I(this,void 0,void 0,function*(){var i;let o=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Ot,redirect:"follow"}),r=o.url.replace("&rn=0","").replace("&sq=0",""),a=yield o.text(),c=(i=je(a,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!c)throw new b("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let d of c){let h=d.trim();if(h.length===0)continue;let _,x=je(h,"(r=",")");x&&(_=parseInt(x)),p.push({duration:parseInt(h),repeat_count:_})}return{init_url:`${r}&sq=0`,media_url:`${r}&sq=$Number$`,timeline:p}})}n(zk,"getOTFSegmentTemplate");function V0(t,e){return I(this,void 0,void 0,function*(){let i=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:Ot,redirect:"follow"}),o=parseInt(i.headers.get("X-Head-Time-Millis")||""),r=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(o)||isNaN(r))throw new b("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:o/1e3,segment_count:r}})}n(V0,"getPostLiveDvrInfo");function $k(t,e,i,o,r,a){return I(this,void 0,void 0,function*(){if(!t.item){let c=new URL(e.decipher(r));c.searchParams.set("cpn",a||"");let p=i(c).toString();t.item=yield V0(p,o)}return t.item.duration})}n($k,"getPostLiveDvrDuration");function M0(t,e,i,o,r,a){let c=new URL(t.decipher(o));c.searchParams.set("cpn",r||"");let p=e(c).toString();if(t.is_type_otf){if(!i)throw new b("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return zk(p,i)}}}if(a){if(!i)throw new b("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let h=t.target_duration_dec;if(typeof h!="number")throw new b("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,getSegmentTemplate(){return I(this,void 0,void 0,function*(){return a.item||(a.item=yield V0(p,i)),{media_url:`${p}&sq=$Number$`,timeline:[{duration:h*1e3,repeat_count:a.item.segment_count}]}})}}}if(!t.index_range||!t.init_range)throw new b("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:p,index_range:t.index_range,init_range:t.init_range}}n(M0,"getSegmentInfo");function Kk(t,e,i,o,r,a,c){new URL(t.decipher(r)).searchParams.set("cpn",a||"");let d=[t.itag.toString()];return t.audio_track&&d.push(t.audio_track.id),t.is_drc&&d.push("drc"),{uid:d.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:je(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:M0(t,i,o,r,a,c)}}n(Kk,"getAudioRepresentation");function qk(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return t.is_dubbed&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}n(qk,"getTrackRoles");function Xk(t,e,i,o,r,a,c){var p;let d=t[0],{audio_track:h}=d,_=[],x=!!c,y;return h?x&&d.is_drc?y=c.label_drc_mutiple(h.display_name):y=h.display_name:x&&(y=d.is_drc?c.label_drc:c.label_original),{mime_type:d.mime_type.split(";")[0],language:(p=d.language)!==null&&p!==void 0?p:void 0,codecs:R0(t,_),audio_sample_rate:A0(t,"audio_sample_rate",_),track_name:y,track_roles:qk(d,x),channels:Gk(t,_),representations:t.map(k=>Kk(k,_,e,i,o,r,a))}}n(Xk,"getAudioSet");var Qk={BT709:"1",BT2020:"9"},P0={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},Zk={BT709:"1",BT2020_NCL:"14"};function eI(t){var e;let i=t.color_info,o,r,a;if(i){if(i.primaries&&(o=Qk[i.primaries]),i.transfer_characteristics&&(r=P0[i.transfer_characteristics]),i.matrix_coefficients&&(a=Zk[i.matrix_coefficients],!a)){let p=new URL(t.url),d=JSON.parse(JSON.stringify(t));d.url="REDACTED",d.signature_cipher="REDACTED",d.cipher="REDACTED",Y.warn(Jk,`Unknown matrix coefficients "${i.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${W.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${p.searchParams.get("c")}
format:`,d)}}else!((e=je(t.mime_type,'codecs="','"'))===null||e===void 0)&&e.startsWith("avc1")&&(r=P0.BT709);return{primaries:o,transfer_characteristics:r,matrix_coefficients:a}}n(eI,"getColorInfo");function tI(t,e,i,o,r,a,c){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:je(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:M0(t,e,r,o,a,c)}}n(tI,"getVideoRepresentation");function iI(t,e,i,o,r,a){let c=t[0],p=eI(c),d=[];return{mime_type:c.mime_type.split(";")[0],color_info:p,codecs:R0(t,d),fps:A0(t,"fps",d),representations:t.map(_=>tI(_,e,d,i,o,r,a))}}n(iI,"getVideoSet");function oI(t){var e;let i=new Map,o=t.is(Ui)?t.boards:[t.board];for(let r of o){let a=new URL(r.template_url).pathname.split(".").pop(),c=`image/${a==="jpg"?"jpeg":a}`;i.has(c)||i.set(c,[]),(e=i.get(c))===null||e===void 0||e.push(r)}return i}n(oI,"getStoryboardInfo");function nI(t,e,i,o,r){return I(this,void 0,void 0,function*(){let a=e.template_url,c=i(new URL(a.replace("$M","0"))),p=r.response?r.response:t.session.http.fetch_function(c,{method:"HEAD",headers:Ot});return r.response=p,(yield p).headers.get("Content-Type")||o})}n(nI,"getStoryboardMimeType");function rI(t,e,i){return I(this,void 0,void 0,function*(){let o=e.template_url,r=[],a=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let h=0;h<a;h++){let _=new URL(o.replace("$M",h.toString())),x=h===0&&i.response?i.response:t.session.http.fetch_function(_,{method:"HEAD",headers:Ot});h===0&&(i.response=x),r.push(x)}let c=yield Promise.all(r),p=[];for(let h of c)p.push(parseInt(h.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}n(rI,"getStoryboardBitrate");function sI(t,e,i,o,r){let a=i.template_url,c=new URL(a.replace("$M","$Number$")),p;return i.type==="vod"?p=t/i.storyboard_count:p=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return rI(e,i,r)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(p),template_url:o(c).toString(),getURL(h){return c.toString().replace("$Number$",h.toString())}}}n(sI,"getImageRepresentation");function aI(t,e,i,o){let r=oI(i),a={};return Array.from(r.entries()).map(([c,p])=>({probable_mime_type:c,getMimeType(){return nI(e,p[0],o,c,a)},representations:p.map(d=>sI(t,e,d,o,a))}))}n(aI,"getImageSets");function uI(t,e,i){let o=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(r=>{let a=new URL(r.base_url);a.searchParams.set("fmt",e);let c=["caption"];return a.searchParams.has("tlang")&&c.push("dub"),{mime_type:o,language:r.language_code,track_name:r.name.toString(),track_roles:c,representation:{uid:`text-${r.vss_id}`,base_url:i(a).toString()}}})}n(uI,"getTextSets");function Tm(t,e=!1,i=_=>_,o,r,a,c,p,d,h){if(!t)throw new b("Streaming data not available");let _=o?t.adaptive_formats.filter(J=>!o(J)):t.adaptive_formats,x,y;if(e){if(y={},!c)throw new b("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");x=n(()=>y?$k(y,_[0],i,c,a,r):Promise.resolve(0),"getDuration")}else{let J=_[0].approx_duration_ms/1e3;x=n(()=>Promise.resolve(J),"getDuration")}let{groups:w,has_multiple_audio_tracks:k}=Hk(_,e),{video_groups:S,audio_groups:N}=w.reduce((J,le)=>le[0].has_audio?(k&&!le[0].audio_track||J.audio_groups.push(le),J):(J.video_groups.push(le),J),{video_groups:[],audio_groups:[]}),V;N.flat().some(J=>J.is_drc)&&(V={label_original:(h==null?void 0:h.label_original)||"Original",label_drc:(h==null?void 0:h.label_drc)||"Stable Volume",label_drc_mutiple:(h==null?void 0:h.label_drc_mutiple)||(J=>`${J} (Stable Volume)`)});let M=N.map(J=>Xk(J,i,c,a,r,y,V)),j=S.map(J=>iI(J,i,a,c,r,y)),ue=[];if(p&&c){let J;if(p.is(Ui))J=_[0].approx_duration_ms/1e3;else{let le=_[0].target_duration_dec;if(typeof le!="number")throw new b("Format is missing target_duration_dec",{format:_[0]});J=le}ue=aI(J,c,p,i)}let se=[];if(d&&(h==null?void 0:h.captions_format)){if(h.captions_format!=="vtt"&&h.captions_format!=="ttml")throw new b("Invalid captions format",h.captions_format);se=uI(d,h.captions_format,i)}return{getDuration:x,audio_sets:M,video_sets:j,image_sets:ue,text_sets:se}}n(Tm,"getStreamingInfo");function lI(t){return I(this,arguments,void 0,function*({info:e}){if(!e.is_oft&&!e.is_post_live_dvr)return null;let i=yield e.getSegmentTemplate();return re("segment-template",{startNumber:i.init_url?"1":"0",timescale:"1000",initialization:i.init_url,media:i.media_url},re("segment-timeline",null,i.timeline.map(o=>re("s",{d:o.duration,r:o.repeat_count}))))})}n(lI,"OTFPostLiveDvrSegmentInfo");function B0({info:t}){return t.is_oft||t.is_post_live_dvr?re(lI,{info:t}):re(N0,null,re("base-url",null,t.base_url),re("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},re("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}n(B0,"SegmentInfo");function cI(t){return I(this,arguments,void 0,function*({streamingData:e,isPostLiveDvr:i,transformURL:o,rejectFormat:r,cpn:a,player:c,actions:p,storyboards:d,captionTracks:h,options:_}){let{getDuration:x,audio_sets:y,video_sets:w,image_sets:k,text_sets:S}=Tm(e,i,o,r,a,c,p,d,h,_);return re("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${yield x()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},re("period",null,y.map((N,V)=>re("adaptation-set",{id:V,mimeType:N.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:N.language,codecs:N.codecs,audioSamplingRate:N.audio_sample_rate,contentType:"audio"},N.track_roles&&N.track_roles.map(M=>re("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:M})),N.track_name&&re("label",{id:V},N.track_name),N.channels&&re("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:N.channels}),N.representations.map(M=>re("representation",{id:M.uid,bandwidth:M.bitrate,codecs:M.codecs,audioSamplingRate:M.audio_sample_rate},M.channels&&re("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:M.channels}),re(B0,{info:M.segment_info}))))),w.map((N,V)=>re("adaptation-set",{id:V+y.length,mimeType:N.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:N.codecs,maxPlayoutRate:"1",frameRate:N.fps,contentType:"video"},N.color_info.primaries&&re("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:N.color_info.primaries}),N.color_info.transfer_characteristics&&re("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:N.color_info.transfer_characteristics}),N.color_info.matrix_coefficients&&re("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:N.color_info.matrix_coefficients}),N.representations.map(M=>re("representation",{id:M.uid,bandwidth:M.bitrate,width:M.width,height:M.height,codecs:M.codecs,frameRate:M.fps},re(B0,{info:M.segment_info}))))),k.map((N,V)=>I(this,void 0,void 0,function*(){return re("adaptation-set",{id:V+y.length+w.length,mimeType:yield N.getMimeType(),contentType:"image"},N.representations.map(M=>I(this,void 0,void 0,function*(){return re("representation",{id:`thumbnails_${M.thumbnail_width}x${M.thumbnail_height}`,bandwidth:yield M.getBitrate(),width:M.sheet_width,height:M.sheet_height},re("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${M.columns}x${M.rows}`}),re("segment-template",{media:M.template_url,duration:M.template_duration,startNumber:"0"}))})))})),S.map((N,V)=>re("adaptation-set",{id:V+y.length+w.length+k.length,mimeType:N.mime_type,lang:N.language,contentType:"text"},N.track_roles.map(M=>re("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:M})),re("label",{id:V+y.length},N.track_name),re("representation",{id:N.representation.uid,bandwidth:"0"},re("base-url",null,N.representation.base_url))))))})}n(cI,"DashManifest");function L0(t,e=!1,i=_=>_,o,r,a,c,p,d,h){if(!t)throw new b("Streaming data not available");return E0(re(cI,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:h,rejectFormat:o,cpn:r,player:a,actions:c,storyboards:p,captionTracks:d}))}n(L0,"toDash");function pI(t,e,i,o,r,a){return I(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new b("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new b("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!o)throw new b("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let c=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=D0(c,o),d=p.decipher(r);if(c.type==="video+audio"&&!t.range){let S=yield e.session.http.fetch_function(`${d}&cpn=${a}`,{method:"GET",headers:Ot,redirect:"follow"});if(!S.ok)throw new b("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:S});let N=S.body;if(!N)throw new b("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:S});return N}let h=1048576*10,_=t.range?t.range.start:0,x=t.range?t.range.end:h,y=!1,w;return new W.shim.ReadableStream({start(){},pull:S=>I(this,void 0,void 0,function*(){if(y){S.close();return}return(x>=(p.content_length?p.content_length:0)||t.range)&&(y=!0),new Promise((N,V)=>I(this,void 0,void 0,function*(){var M,j,ue,se;try{w=new AbortController;let H=yield e.session.http.fetch_function(`${d}&cpn=${a}&range=${_}-${x||""}`,{method:"GET",headers:Object.assign({},Ot),signal:w.signal});if(!H.ok)throw new b("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:H});let A=H.body;if(!A)throw new b("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:H});try{for(var de=!0,J=T0(Gx(A)),le;le=yield J.next(),M=le.done,!M;de=!0){se=le.value,de=!1;let q=se;S.enqueue(q)}}catch(q){j={error:q}}finally{try{!de&&!M&&(ue=J.return)&&(yield ue.call(J))}finally{if(j)throw j.error}}_=x+1,x+=h,N()}catch(H){V(H)}}))}),cancel(S){return I(this,void 0,void 0,function*(){w.abort(S)})}},{highWaterMark:1,size(S){return S.byteLength}})})}n(pI,"download");function D0(t,e){if(!e)throw new b("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],o=t.type?t.type.includes("audio"):!0,r=t.type?t.type.includes("video"):!0,a=t.language||"original",c=t.quality||"best",p=-1,d=["best","bestefficiency"].includes(c),h=c!=="best",_=i.filter(x=>o&&!x.has_audio||r&&!x.has_video||t.format!=="any"&&!x.mime_type.includes(t.format||"mp4")||!d&&x.quality_label!==c?!1:(x.width&&p<x.width&&(p=x.width),!0));if(!_.length)throw new b("No matching formats found",{options:t});if(d&&r&&(_=_.filter(x=>x.width===p)),o&&!r){let x=_.filter(y=>a!=="original"?!y.has_video&&!y.has_text&&y.language===a:!y.has_video&&!y.has_text&&y.is_original);x.length>0&&(_=x)}return h?_.sort((x,y)=>x.bitrate-y.bitrate):_.sort((x,y)=>y.bitrate-x.bitrate),_[0]}n(D0,"chooseFormat");var zx,Zt,$x,kr,O0,km=class{constructor(e,i,o){zx.add(this),Zt.set(this,void 0),$x.set(this,void 0),kr.set(this,void 0),E(this,Zt,e,"f"),E(this,$x,i,"f"),E(this,kr,o||W.shim.fetch,"f")}get fetch_function(){return f(this,kr,"f")}fetch(e,i){return I(this,void 0,void 0,function*(){let o=tt.API.PRODUCTION_1+f(this,Zt,"f").api_version,r=(i==null?void 0:i.baseURL)||o,a=typeof e=="string"?!r.endsWith("/")&&!e.startsWith("/")?new URL(`${r}/${e}`):new URL(r+e):e instanceof URL?e:new URL(e.url,r),c=(i==null?void 0:i.headers)||(e instanceof W.shim.Request?e.headers:new W.shim.Headers)||new W.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof W.shim.Request?e.body:void 0),d=new W.shim.Headers(c);d.set("Accept","*/*"),d.set("Accept-Language","*"),d.set("X-Goog-Visitor-Id",f(this,Zt,"f").context.client.visitorData||""),d.set("X-Youtube-Client-Version",f(this,Zt,"f").context.client.clientVersion||"");let h=Object.values(ne).find(S=>S.NAME===f(this,Zt,"f").context.client.clientName);h&&d.set("X-Youtube-Client-Name",h.NAME_ID),W.shim.server&&(d.set("User-Agent",Ji("desktop")),d.set("Origin",a.origin)),a.searchParams.set("prettyPrint","false"),a.searchParams.set("alt","json");let _=d.get("Content-Type"),x=p,y=r===o||r===tt.YT_UPLOAD;if(_==="application/json"&&y&&typeof p=="string"){let S=JSON.parse(p),N=Object.assign(Object.assign({},S),{context:JSON.parse(JSON.stringify(f(this,Zt,"f").context))});f(this,zx,"m",O0).call(this,N.context,N.client),d.set("X-Youtube-Client-Version",N.context.client.clientVersion);let V=Object.values(ne).find(M=>M.NAME===N.context.client.clientName);V&&d.set("X-Youtube-Client-Name",V.NAME_ID),delete N.client,N.context.client.clientName==="ANDROID"||N.context.client.clientName==="ANDROID_MUSIC"?(d.set("User-Agent",ne.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2")):N.context.client.clientName==="iOS"&&d.set("User-Agent",ne.iOS.USER_AGENT),x=JSON.stringify(N)}else _==="application/x-protobuf"&&W.shim.server&&(d.set("User-Agent",ne.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2"),d.delete("X-Youtube-Client-Version"));let w=new W.shim.Request(a,e instanceof W.shim.Request?e:i),k=yield f(this,kr,"f").call(this,w,Object.assign({body:x,headers:d,redirect:e instanceof W.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"},W.shim.runtime!=="cf-worker"?{credentials:"include"}:{}));if(k.ok)return k;throw new b(`Request to ${k.url} failed with status ${k.status}`,yield k.text())})}};n(km,"HTTPClient");Zt=new WeakMap,$x=new WeakMap,kr=new WeakMap,zx=new WeakSet,O0=n(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=ne.ANDROID.SDK_VERSION,e.client.userAgent=ne.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i){case"iOS":e.client.deviceMake="Apple",e.client.deviceModel=ne.iOS.DEVICE_MODEL,e.client.clientVersion=ne.iOS.VERSION,e.client.clientName=ne.iOS.NAME,e.client.platform="MOBILE",e.client.osName="iOS",delete e.client.browserName,delete e.client.browserVersion;break;case"YTMUSIC":e.client.clientVersion=ne.YTMUSIC.VERSION,e.client.clientName=ne.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=ne.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=ne.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=ne.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=ne.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=ne.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=ne.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=ne.TV_EMBEDDED.NAME,e.client.clientVersion=ne.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:tt.YT_BASE};break;case"YTKIDS":e.client.clientVersion=ne.WEB_KIDS.VERSION,e.client.clientName=ne.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var Kx=km;var ht={};ye(ht,{compress:()=>dI,decompress:()=>fI});function dI(t){let e=[],i={};for(let a=0;a<256;a++)i[String.fromCharCode(a)]=a;let o="",r=256;for(let a=0;a<t.length;a++){let c=t[a],p=o+c;i.hasOwnProperty(p)?o=p:(e.push(i[o]),i[p]=r++,o=c)}return o!==""&&e.push(i[o]),e.map(a=>String.fromCharCode(a)).join("")}n(dI,"compress");function fI(t){let e={},i=t.split(""),o=[i.shift()],r=i.length>>>0,a=256,c=o[0],p=c;for(let d=0;d<r;++d){let h=i[d].charCodeAt(0),_=h<256?i[d]:e[h]?e[h]:p+c;o.push(_),c=_.charAt(0),e[a++]=p+c,p=_}return o.join("")}n(fI,"decompress");var Ir=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(Ir,"Button");Ir.type="Button";var T=Ir;var Sr=class extends s{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new v(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};n(Sr,"DropdownItem");Sr.type="DropdownItem";var Im=Sr;var Cr=class extends s{constructor(e){super(),this.label=e.label||"",this.entries=l.parseArray(e.entries,Im)}};n(Cr,"Dropdown");Cr.type="Dropdown";var ei=Cr;var Er=class extends s{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=l.parseItem(e.privacyOption,ei),this.create_button=l.parseItem(e.cancelButton,T),this.cancel_button=l.parseItem(e.cancelButton,T)}};n(Er,"CreatePlaylistDialog");Er.type="CreatePlaylistDialog";var Sm=Er;var Nr=class extends s{constructor(e){super(),this.popup=l.parseItem(e.popup),this.popup_type=e.popupType}};n(Nr,"OpenPopupAction");Nr.type="OpenPopupAction";var Cm=Nr;var Hi=class extends s{constructor(e){var i,o,r,a,c,p,d,h;super(),e&&(e.innertubeCommand||e.command)&&(e=e.innertubeCommand||e.command),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new Cm(e.openPopupAction));let _=Object.keys(e||{}).find(x=>x.endsWith("Endpoint")||x.endsWith("Command"));this.payload=_?Reflect.get(e,_):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=l.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=l.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Hi(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((a=(r=e==null?void 0:e.commandMetadata)===null||r===void 0?void 0:r.webCommandMetadata)===null||a===void 0)&&a.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(c=e==null?void 0:e.commandMetadata)===null||c===void 0?void 0:c.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):_&&(this.metadata.api_url=this.getEndpoint(_)),!((h=(d=e==null?void 0:e.commandMetadata)===null||d===void 0?void 0:d.webCommandMetadata)===null||h===void 0)&&h.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=l.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Sm))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(Hi,"NavigationEndpoint");Hi.type="NavigationEndpoint";var v=Hi;var g=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(o=>new g(o)).sort((o,r)=>r.width-o.width):[]}};n(g,"Thumbnail");var ti=class{constructor(e){var i,o,r,a,c,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((r=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||r===void 0?void 0:r[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((a=e.emoji)===null||a===void 0?void 0:a.shortcuts)||[],search_terms:((c=e.emoji)===null||c===void 0?void 0:c.searchTerms)||[],image:g.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=Em(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(ti,"EmojiRun");var ii=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=Em(this.text),r=`<span style="white-space: pre-wrap;">${e.map(a=>`<${a}>`).join("")+i+e.map(a=>`</${a}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:a}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let c=this.endpoint.toURL();if(c)return`<a href="${c}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${a}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${r}</a>`}}if(this.endpoint){let a=this.endpoint.toURL();if(a)return`<a href="${a}">${r}</a>`}return r}};n(ii,"TextRun");function Em(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(Em,"escape");var Pr="Text",u=class{constructor(e){var i,o,r,a;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(c=>c.emoji?new ti(c):new ii(c)),this.text=this.runs.map(c=>c.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new v(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(a=(r=this.runs)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.endpoint)}static fromAttributed(e){var i,o,r;let{content:a,styleRuns:c,commandRuns:p,attachmentRuns:d}=e,h=[{text:a,startIndex:0}];if(c||p||d){if(c)for(let _ of c)if(_.italic||_.strikethrough==="LINE_STYLE_SINGLE"||_.weightLabel==="FONT_WEIGHT_MEDIUM"||_.weightLabel==="FONT_WEIGHT_BOLD"){let x=Xx(h,_);if(!x){Y.warn(Pr,"Unable to find matching run for style run. Skipping...",{style_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}Nm(h,x,_,{bold:_.weightLabel==="FONT_WEIGHT_MEDIUM"||_.weightLabel==="FONT_WEIGHT_BOLD",italics:_.italic,strikethrough:_.strikethrough==="LINE_STYLE_SINGLE"})}else Y.debug(Pr,"Skipping style run as it is doesn't have any information that we parse.",{style_run:_,input_data:e});if(p)for(let _ of p)if(_.onTap){let x=Xx(h,_);if(!x){Y.warn(Pr,"Unable to find matching run for command run. Skipping...",{command_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}Nm(h,x,_,{navigationEndpoint:_.onTap})}else Y.debug(Pr,'Skipping command run as it is missing the "doTap" property.',{command_run:_,input_data:e});if(d)for(let _ of d){let x=Xx(h,_);if(!x){Y.warn(Pr,"Unable to find matching run for attachment run. Skipping...",{attachment_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(h))});continue}if(_.length===0)x.attachment=_;else{let y=_.startIndex-x.startIndex,w=x.text.substring(y,y+_.length),k=/^:[^:]+:$/.test(w);if(((r=(o=(i=_.element)===null||i===void 0?void 0:i.type)===null||o===void 0?void 0:o.imageType)===null||r===void 0?void 0:r.image)&&(k||new RegExp("^(?:\\p{Emoji}|\\u200d)+$","u").test(w))){let S={image:_.element.type.imageType.image,isCustomEmoji:k,shortcuts:k?[w]:void 0};Nm(h,x,_,{emoji:S})}else Nm(h,x,_,{attachment:_})}}}return new u({runs:h})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(u,"Text");function Xx(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}n(Xx,"findMatchingRun");function Nm(t,e,i,o){let r=t.indexOf(e),a=[],c=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&a.push(Object.assign(Object.assign({},e),{text:e.text.substring(0,c)})),a.push(Object.assign(Object.assign(Object.assign({},e),{text:e.text.substring(c,c+i.length),startIndex:i.startIndex}),o)),i.startIndex+i.length<e.startIndex+e.text.length&&a.push(Object.assign(Object.assign({},e),{text:e.text.substring(c+i.length),startIndex:i.startIndex+i.length})),t.splice(r,1,...a)}n(Nm,"insertSubRun");var Rr=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=g.fromResponse(e.favicon)}};n(Rr,"ChannelExternalLinkView");Rr.type="ChannelExternalLinkView";var Pm=Rr;var Ar=class extends s{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new v(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=l.parseArray(e.links,Pm):this.links=[]}};n(Ar,"AboutChannelView");Ar.type="AboutChannelView";var Rm=Ar;var Vr=class extends s{constructor(e){super(),this.metadata=l.parseItem(e.metadata,Rm),this.share_channel=l.parseItem(e.shareChannel,T)}};n(Vr,"AboutChannel");Vr.type="AboutChannel";var Am=Vr;var Mr=class extends s{constructor(e){super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint)}};n(Mr,"AccountChannel");Mr.type="AccountChannel";var Vm=Mr;var Br=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Br,"AccountItemSectionHeader");Br.type="AccountItemSectionHeader";var Mm=Br;var Lr=class extends s{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=g.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new v(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};n(Lr,"AccountItem");Lr.type="AccountItem";var Dr=class extends s{constructor(e){super(),this.contents=oe(e.contents.map(i=>new Lr(i.accountItem))),this.header=l.parseItem(e.header,Mm)}};n(Dr,"AccountItemSection");Dr.type="AccountItemSection";var Bm=Dr;var Or=class extends s{constructor(e){super(),this.contents=l.parseItem(e.contents[0],Bm),this.footers=l.parseItem(e.footers[0],Vm)}};n(Or,"AccountSectionList");Or.type="AccountSectionList";var Lm=Or;var Fr=class extends s{constructor(e){super(),this.contents=l.parseArray(e.continuationItems),this.target=e.target}};n(Fr,"AppendContinuationItemsAction");Fr.type="AppendContinuationItemsAction";var Gi=Fr;var jr=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,r;return{title:i.title,selected:i.selected,continuation:(r=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||r===void 0?void 0:r.continuation,endpoint:new v(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(jr,"SortFilterSubMenu");jr.type="SortFilterSubMenu";var _t=jr;var Yr=class extends s{constructor(e){super(),this.language_menu=l.parseItem(e.languageMenu,_t)}};n(Yr,"TranscriptFooter");Yr.type="TranscriptFooter";var Dm=Yr;var Ur=class extends s{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=l.parseItem(e.clearButton,T),this.endpoint=new v(e.onTextChangeCommand),this.search_button=l.parseItem(e.searchButton,T)}};n(Ur,"TranscriptSearchBox");Ur.type="TranscriptSearchBox";var Om=Ur;var Wr=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};n(Wr,"TranscriptSectionHeader");Wr.type="TranscriptSectionHeader";var Fm=Wr;var Jr=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};n(Jr,"TranscriptSegment");Jr.type="TranscriptSegment";var jm=Jr;var Hr=class extends s{constructor(e){super(),this.initial_segments=l.parseArray(e.initialSegments,[jm,Fm]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};n(Hr,"TranscriptSegmentList");Hr.type="TranscriptSegmentList";var Ym=Hr;var Gr=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,Om),this.body=l.parseItem(e.body,Ym),this.footer=l.parseItem(e.footer,Dm),this.target_id=e.targetId}};n(Gr,"TranscriptSearchPanel");Gr.type="TranscriptSearchPanel";var Um=Gr;var zr=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,Um)}};n(zr,"Transcript");zr.type="Transcript";var Eo=zr;var $r=class extends s{constructor(e){super(),this.target_id=e.targetId,this.content=l.parseItem(e.content,Eo)}};n($r,"UpdateEngagementPanelAction");$r.type="UpdateEngagementPanelAction";var F0=$r;var Kr=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};n(Kr,"Alert");Kr.type="Alert";var No=Kr;var qr=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=l.parseItem(e.dismissButton,T)}};n(qr,"AlertWithButton");qr.type="AlertWithButton";var Wm=qr;var Xr=class extends s{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(Xr,"DataModelSection");Xr.type="DataModelSection";var Jm=Xr;var Qr=class extends s{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new Jm(o))}};n(Qr,"AnalyticsMainAppKeyMetrics");Qr.type="AnalyticsMainAppKeyMetrics";var j0=Qr;var Zr=class extends s{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(r=>({label:r.label,display_value:r.displayValue,display_value_a11y:r.displayValueA11y,bar_ratio:r.barRatio,bar_color:r.barColor,bar_opacity:r.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(Zr,"AnalyticsRoot");Zr.type="AnalyticsRoot";var Y0=Zr;var es=class extends s{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new v(i.videoEndpoint)}))}};n(es,"AnalyticsShortsCarouselCard");es.type="AnalyticsShortsCarouselCard";var U0=es;var ts=class extends s{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:g.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(ts,"AnalyticsVideo");ts.type="AnalyticsVideo";var Hm=ts;var is=class extends s{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new Hm(i)))}};n(is,"AnalyticsVodCarouselCard");is.type="AnalyticsVodCarouselCard";var W0=is;var os=class extends s{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(os,"CtaGoToCreatorStudio");os.type="CtaGoToCreatorStudio";var J0=os;var ns=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};n(ns,"StatRow");ns.type="StatRow";var H0=ns;var rs=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.suffix=u.fromAttributed(e.suffix)}};n(rs,"AttributionView");rs.type="AttributionView";var Gm=rs;var ss=class extends s{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n(ss,"AudioOnlyPlayability");ss.type="AudioOnlyPlayability";var zm=ss;var as=class extends s{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new v(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(as,"AutomixPreviewVideo");as.type="AutomixPreviewVideo";var $m=as;var us=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}},this.avatar_image_size=e.avatarImageSize}};n(us,"AvatarView");us.type="AvatarView";var Km=us;var ls=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.endpoint=new v(e.command)}};n(ls,"BackstageImage");ls.type="BackstageImage";var qm=ls;var cs=class extends s{constructor(e){var i,o,r,a,c,p,d,h,_;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let x=((a=(r=(o=e==null?void 0:e.defaultText)===null||o===void 0?void 0:o.accessibility)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label)||((p=(c=e==null?void 0:e.accessibilityData)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label)||((d=e==null?void 0:e.accessibility)===null||d===void 0?void 0:d.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(x.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((_=(h=e.defaultServiceEndpoint)===null||h===void 0?void 0:h.commandExecutorCommand)===null||_===void 0)&&_.commands?new v(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(cs,"ToggleButton");cs.type="ToggleButton";var ge=cs;var ps=class extends s{constructor(e){var i,o;super(),this.creator_thumbnail=g.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n(ps,"CreatorHeart");ps.type="CreatorHeart";var Xm=ps;var ds=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,ge),this.dislike_button=l.parseItem(e.dislikeButton,ge),this.reply_button=l.parseItem(e.replyButton,T),this.creator_heart=l.parseItem(e.creatorHeart,Xm)}};n(ds,"CommentActionButtons");ds.type="CommentActionButtons";var Po=ds;var fs=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.top_level_buttons=l.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(fs,"Menu");fs.type="Menu";var F=fs;var ms=class extends s{constructor(e){super(),this.id=e.postId,this.author=new L(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=l.parseItem(e.actionMenu,F)),Reflect.has(e,"actionButtons")&&(this.action_buttons=l.parseItem(e.actionButtons,Po)),Reflect.has(e,"voteButton")&&(this.vote_button=l.parseItem(e.voteButton,T)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=l.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(ms,"BackstagePost");ms.type="BackstagePost";var oi=ms;var hs=class extends s{constructor(e){super(),this.post=l.parseItem(e.post)}};n(hs,"BackstagePostThread");hs.type="BackstagePostThread";var G0=hs;var _s=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(_s,"BrowseFeedActions");_s.type="BrowseFeedActions";var Qm=_s;var vs=class extends s{constructor(e){super(),this.album=new u(e.album),this.thumbnails=g.fromResponse(e.thumbnailDetails)}};n(vs,"BrowserMediaSession");vs.type="BrowserMediaSession";var z0=vs;var xs=class extends s{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.button_type=e.type,this.button_size=e.buttonSize,this.on_tap=new v(e.onTap)}};n(xs,"ButtonView");xs.type="ButtonView";var zi=xs;var Ro=class extends s{constructor(e){super(),this.endpoint=new v(e.navigationEndpoint),this.icon=g.fromResponse(e.icon),this.title=new u(e.title)}};n(Ro,"HeaderLink");Ro.type="HeaderLink";var gs=class extends s{constructor(e){var i,o;super(),this.primary=oe(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>new Ro(r)))||[]),this.secondary=oe(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(r=>new Ro(r)))||[])}};n(gs,"ChannelHeaderLinks");gs.type="ChannelHeaderLinks";var Zm=gs;var ys=class extends s{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};n(ys,"ChannelHeaderLinksView");ys.type="ChannelHeaderLinksView";var eh=ys;var bs=class extends s{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};n(bs,"ClipCreationTextInput");bs.type="ClipCreationTextInput";var th=bs;var ws=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(o=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label,this.end_label=(a=(r=e.endAccessibility)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label,this.duration_label=(p=(c=e.durationAccessibility)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label}};n(ws,"ClipCreationScrubber");ws.type="ClipCreationScrubber";var ih=ws;var Ts=class extends s{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};n(Ts,"ClipAdState");Ts.type="ClipAdState";var oh=Ts;var ks=class extends s{constructor(e){super(),this.user_avatar=g.fromResponse(e.userAvatar),this.title_input=l.parseItem(e.titleInput,[th]),this.scrubber=l.parseItem(e.scrubber,[ih]),this.save_button=l.parseItem(e.saveButton,[T]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=l.parseItem(e.cancelButton,[T]),this.ad_state_overlay=l.parseItem(e.adStateOverlay,[oh]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};n(ks,"ClipCreation");ks.type="ClipCreation";var nh=ks;var Is=class extends s{constructor(e){super(),this.contents=l.parse(e.contents,!0,[nh])}};n(Is,"ClipSection");Is.type="ClipSection";var rh=Is;var Ss=class extends s{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,T)),this.endpoint=new v(e.continuationEndpoint)}};n(Ss,"ContinuationItem");Ss.type="ContinuationItem";var pe=Ss;var Cs=class extends s{constructor(e){super(),this.title=new u(e.title),this.visibility_button=l.parseItem(e.visibilityButton,T)}};n(Cs,"EngagementPanelTitleHeader");Cs.type="EngagementPanelTitleHeader";var sh=Cs;var Es=class extends s{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=l.parseItem(e.menu,F)}};n(Es,"MacroMarkersInfoItem");Es.type="MacroMarkersInfoItem";var ah=Es;var Ns=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=g.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(Ns,"MacroMarkersListItem");Ns.type="MacroMarkersListItem";var Ao=Ns;var Ps=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,[ah,Ao]),this.sync_button_label=new u(e.syncButtonLabel)}};n(Ps,"MacroMarkersList");Ps.type="MacroMarkersList";var uh=Ps;var Rs=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Rs,"ProductList");Rs.type="ProductList";var lh=Rs;var As=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=l.parseItem(e.subMenu))}};n(As,"SectionList");As.type="SectionList";var be=As;var Vs=class extends s{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};n(Vs,"ExpandableVideoDescriptionBody");Vs.type="ExpandableVideoDescriptionBody";var ch=Vs;var Ms=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.endpoint=new v(e.searchEndpoint),this.query=new u(e.query).toString()}};n(Ms,"SearchRefinementCard");Ms.type="SearchRefinementCard";var $i=Ms;var Bs=class extends s{constructor(e){super(),this.game=l.parseItem(e.game)}};n(Bs,"GameCard");Bs.type="GameCard";var ph=Bs;var Ls=class extends s{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=l.parseArray(e.items)}get contents(){return this.items}};n(Ls,"HorizontalList");Ls.type="HorizontalList";var dh=Ls;var Ds=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:g.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=l.parseItem(e.expandedContent,[ni,dh]),this.expand_button=l.parseItem(e.expandButton,T),this.collapse_button=l.parseItem(e.collapseButton,T)}};n(Ds,"ExpandableMetadata");Ds.type="ExpandableMetadata";var fh=Ds;var Os=class extends s{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(Os,"MetadataBadge");Os.type="MetadataBadge";var Ge=Os;var Fs=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};n(Fs,"ThumbnailOverlayTimeStatus");Fs.type="ThumbnailOverlayTimeStatus";var Ki=Fs;var js=class extends s{constructor(e){var i,o,r;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(c=>({text:new u(c.snippetText),hover_text:new u(c.snippetHoverText)}))),this.expandable_metadata=l.parseItem(e.expandableMetadata,fh),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.author=new L(e.ownerText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.badges=l.parseArray(e.badges,Ge),this.endpoint=new v(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:Se(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=l.parseItem(e.menu,F),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Ki))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(js,"Video");js.type="Video";var Vo=js;var Ys=class extends Vo{constructor(e){super(e)}};n(Ys,"VideoCard");Ys.type="VideoCard";var mh=Ys;var Us=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.style=e.style}};n(Us,"ContentPreviewImageView");Us.type="ContentPreviewImageView";var Mo=Us;var Ws=class extends s{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image=g.fromResponse(e.image):this.image=l.parseItem(e.image,Mo),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new v(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};n(Ws,"VideoAttributeView");Ws.type="VideoAttributeView";var Bo=Ws;var Js=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards,[Bo,$i,Ao,ph,mh]),this.header=l.parseItem(e.header),this.previous_button=l.parseItem(e.previousButton,T),this.next_button=l.parseItem(e.nextButton,T)}};n(Js,"HorizontalCardList");Js.type="HorizontalCardList";var ni=Js;var Hs=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};n(Hs,"Factoid");Hs.type="Factoid";var ri=Hs;var Gs=class extends s{constructor(e){super(),this.factoid=l.parseItem(e.factoid,ri)}};n(Gs,"UploadTimeFactoid");Gs.type="UploadTimeFactoid";var hh=Gs;var zs=class extends s{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=l.parseItem(e.factoid,[ri]),this.view_count_type=e.viewCountType}};n(zs,"ViewCountFactoid");zs.type="ViewCountFactoid";var _h=zs;var $s=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new v(e.channelNavigationEndpoint),this.channel_thumbnail=g.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=l.parseArray(e.factoid,[ri,_h,hh])}};n($s,"VideoDescriptionHeader");$s.type="VideoDescriptionHeader";var vh=$s;var Ks=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=l.parseItem(e.creatorVideosButton,T),this.creator_about_button=l.parseItem(e.creatorAboutButton,T),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=g.fromResponse(e.channelAvatar),this.channel_endpoint=new v(e.channelEndpoint)}};n(Ks,"VideoDescriptionInfocardsSection");Ks.type="VideoDescriptionInfocardsSection";var xh=Ks;var qs=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};n(qs,"InfoRow");qs.type="InfoRow";var gh=qs;var Xs=class extends s{constructor(e){super(),this.id=e.videoId,this.thumbnails=g.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.title=new u(e.title),this.author=new L(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=l.parseArray(e.badges,Ge),this.duration={text:new u(e.lengthText).toString(),seconds:Se(new u(e.lengthText).toString())},this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.endpoint=new v(e.navigationEndpoint),this.menu=l.parseItem(e.menu,F)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(Xs,"CompactVideo");Xs.type="CompactVideo";var Lo=Xs;var Qs=class extends s{constructor(e){super(),this.info_rows=l.parseArray(e.infoRows,gh),this.video_lockup=l.parseItem(e.videoLockup,Lo)}};n(Qs,"CarouselLockup");Qs.type="CarouselLockup";var yh=Qs;var Zs=class extends s{constructor(e){super(),this.carousel_lockups=l.parseArray(e.carouselLockups,yh),this.section_title=new u(e.sectionTitle)}};n(Zs,"VideoDescriptionMusicSection");Zs.type="VideoDescriptionMusicSection";var Do=Zs;var ea=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=l.parseItem(e.primaryButton,T)}};n(ea,"VideoDescriptionTranscriptSection");ea.type="VideoDescriptionTranscriptSection";var ta=ea;var ia=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};n(ia,"StructuredDescriptionPlaylistLockup");ia.type="StructuredDescriptionPlaylistLockup";var bh=ia;var oa=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=l.parseArray(e.mediaLockups,[bh])}};n(oa,"VideoDescriptionCourseSection");oa.type="VideoDescriptionCourseSection";var wh=oa;var na=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}get contents(){return this.items}};n(na,"ReelShelf");na.type="ReelShelf";var Oo=na;var ra=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[vh,ch,Do,xh,wh,ta,ta,ni,Oo])}};n(ra,"StructuredDescriptionContent");ra.type="StructuredDescriptionContent";var qi=ra;var sa=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,sh),this.content=l.parseItem(e.content,[Bo,be,pe,rh,qi,uh,lh]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};n(sa,"EngagementPanelSectionList");sa.type="EngagementPanelSectionList";var si=sa;var aa=class extends s{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:l.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,si),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new v(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};n(aa,"ChannelTagline");aa.type="ChannelTagline";var Th=aa;var ua=class extends s{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:l.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(ua,"SubscriptionNotificationToggleButton");ua.type="SubscriptionNotificationToggleButton";var kh=ua;var la=class extends s{constructor(e){var i,o;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=l.parseItem(e.notificationPreferenceButton,kh),this.endpoint=new v(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(la,"SubscribeButton");la.type="SubscribeButton";var Ce=la;var ca=class extends s{constructor(e){super(),this.author=new L({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=g.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=g.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=g.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=l.parseItem(e.sponsorButton,T)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=l.parseItem(e.subscribeButton,[Ce,T])),Reflect.has(e,"headerLinks")&&(this.header_links=l.parseItem(e.headerLinks,[Zm,eh])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=l.parseItem(e.tagline,Th))}};n(ca,"C4TabbedHeader");ca.type="C4TabbedHeader";var Fo=ca;var pa=class extends s{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(pa,"CallToActionButton");pa.type="CallToActionButton";var $0=pa;var da=class extends s{constructor(e){super(),this.teaser=l.parseItem(e.teaser),this.content=l.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(da,"Card");da.type="Card";var K0=da;var fa=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(fa,"CardCollection");fa.type="CardCollection";var Ih=fa;var ma=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(ma,"CarouselHeader");ma.type="CarouselHeader";var Sh=ma;var ha=class extends s{constructor(e){super(),this.items=l.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=g.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(ha,"CarouselItem");ha.type="CarouselItem";var q0=ha;var ai=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new L(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,[Ce,T]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return Y.warnOnce(ai.type,"Channel#subscribers is deprecated. Please use Channel#subscriber_count instead."),this.subscriber_count}get videos(){return Y.warnOnce(ai.type,"Channel#videos is deprecated. Please use Channel#video_count instead."),this.video_count}};n(ai,"Channel");ai.type="Channel";var Ch=ai;var ui=class extends s{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=g.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>({endpoint:new v(r.navigationEndpoint),icon:g.fromResponse(r.icon),title:new u(r.title)})))!==null&&o!==void 0?o:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new v(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=l.parseArray(e.actionButtons,T)}get views(){return Y.warnOnce(ui.type,"ChannelAboutFullMetadata#views is deprecated. Please use ChannelAboutFullMetadata#view_count instead."),this.view_count}get joined(){return Y.warnOnce(ui.type,"ChannelAboutFullMetadata#joined is deprecated. Please use ChannelAboutFullMetadata#joined_date instead."),this.joined_date}};n(ui,"ChannelAboutFullMetadata");ui.type="ChannelAboutFullMetadata";var _a=ui;var va=class extends s{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=g.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=l.parseItem(e.signInButton,T),this.secondary_text=new u(e.secondaryText)}};n(va,"ChannelAgeGate");va.type="ChannelAgeGate";var X0=va;var xa=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items)}};n(xa,"ChannelFeaturedContent");xa.type="ChannelFeaturedContent";var Q0=xa;var ga=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=g.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(ga,"ChannelMetadata");ga.type="ChannelMetadata";var Eh=ga;var ya=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(ya,"ChannelMobileHeader");ya.type="ChannelMobileHeader";var Z0=ya;var ba=class extends s{constructor(e){super(),this.avatar=g.fromResponse(e.avatar),this.endpoint=new v(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};n(ba,"ChannelOptions");ba.type="ChannelOptions";var Nh=ba;var wa=class extends s{constructor(e){super(),this.illustration=g.fromResponse(e.illustration),this.description=new u(e.description)}};n(wa,"ChannelOwnerEmptyState");wa.type="ChannelOwnerEmptyState";var ey=wa;var Ta=class extends s{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new v(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=l.parseItem(e.sortSetting)}};n(Ta,"ChannelSubMenu");Ta.type="ChannelSubMenu";var ka=Ta;var Ia=class extends s{constructor(e){var i,o;super(),this.thumbnails=g.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(Ia,"ChannelThumbnailWithLink");Ia.type="ChannelThumbnailWithLink";var ty=Ia;var li=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return Y.warnOnce(li.type,"ChannelVideoPlayer#views is deprecated. Please use ChannelVideoPlayer#view_count instead."),this.view_count}get published(){return Y.warnOnce(li.type,"ChannelVideoPlayer#published is deprecated. Please use ChannelVideoPlayer#published_time instead."),this.published_time}};n(li,"ChannelVideoPlayer");li.type="ChannelVideoPlayer";var iy=li;var Sa=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=g.fromResponse(e.thumbnail)}};n(Sa,"Chapter");Sa.type="Chapter";var Ph=Sa;var Ca=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:Se(e.lengthText.simpleText)},this.endpoint=new v(e.navigationEndpoint)}};n(Ca,"ChildVideo");Ca.type="ChildVideo";var oy=Ca;var Ea=class extends s{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new v(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};n(Ea,"ChipView");Ea.type="ChipView";var Rh=Ea;var Na=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Rh)}};n(Na,"ChipBarView");Na.type="ChipBarView";var ny=Na;var Pa=class extends s{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint)),this.text=new u(e.text).toString()}};n(Pa,"ChipCloudChip");Pa.type="ChipCloudChip";var Ye=Pa;var Ra=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Ye),this.next_button=l.parseItem(e.nextButton,T),this.previous_button=l.parseItem(e.previousButton,T),this.horizontal_scrollable=e.horizontalScrollable}};n(Ra,"ChipCloud");Ra.type="ChipCloud";var jo=Ra;var Aa=class extends s{constructor(e){super(),this.channel_avatar=g.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.endpoint)}};n(Aa,"CollaboratorInfoCardContent");Aa.type="CollaboratorInfoCardContent";var ry=Aa;var Va=class extends s{constructor(e){super(),this.left=g.fromResponse(e.leftThumbnail),this.top_right=g.fromResponse(e.topRightThumbnail),this.bottom_right=g.fromResponse(e.bottomRightThumbnail),this.endpoint=new v(e.navigationEndpoint)}};n(Va,"CollageHeroImage");Va.type="CollageHeroImage";var sy=Va;var Ma=class extends s{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=u.fromAttributed(e.text),this.style=e.style}};n(Ma,"ThumbnailHoverOverlayView");Ma.type="ThumbnailHoverOverlayView";var Ah=Ma;var Ba=class extends s{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=e.text,this.badge_style=e.badgeStyle,e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};n(Ba,"ThumbnailBadgeView");Ba.type="ThumbnailBadgeView";var Vh=Ba;var La=class extends s{constructor(e){super(),this.badges=l.parseArray(e.thumbnailBadges,Vh),this.position=e.position}};n(La,"ThumbnailOverlayBadgeView");La.type="ThumbnailOverlayBadgeView";var Mh=La;var Da=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.overlays=l.parseArray(e.overlays,[Mh,Ah]),e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};n(Da,"ThumbnailView");Da.type="ThumbnailView";var Bh=Da;var Oa=class extends s{constructor(e){super(),this.primary_thumbnail=l.parseItem(e.primaryThumbnail,Bh),e.stackColor&&(this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme})}};n(Oa,"CollectionThumbnailView");Oa.type="CollectionThumbnailView";var Lh=Oa;var Dh,Fa=class extends s{constructor(e){super(),Dh.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),E(this,Dh,e,"f")}get orig_badge(){return f(this,Dh,"f")}};n(Fa,"AuthorCommentBadge");Dh=new WeakMap;Fa.type="AuthorCommentBadge";var Oh=Fa;var ja=class extends s{constructor(e){super(),this.reply_button=l.parseItem(e.replyButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.author_thumbnail=g.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};n(ja,"CommentReplyDialog");ja.type="CommentReplyDialog";var Yo=ja;var Ya=class extends s{constructor(e){var i,o;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(Ya,"PdgCommentChip");Ya.type="PdgCommentChip";var Fh=Ya;var Ua=class extends s{constructor(e){super(),this.custom_badge=g.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n(Ua,"SponsorCommentBadge");Ua.type="SponsorCommentBadge";var jh=Ua;var ci={};ye(ci,{decodeVisitorData:()=>sg,encodeChannelAnalyticsParams:()=>jI,encodeCommentActionParams:()=>Wa,encodeCommentParams:()=>JI,encodeCommentsSectionParams:()=>WI,encodeCustomThumbnailPayload:()=>zI,encodeHashtag:()=>$I,encodeMessageParams:()=>ag,encodeMusicSearchFilters:()=>UI,encodeNotificationPref:()=>HI,encodeReelSequence:()=>ug,encodeSearchFilters:()=>YI,encodeShortsParam:()=>KI,encodeVideoMetadataPayload:()=>GI,encodeVisitorData:()=>rg});var P;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(P||(P={}));var U=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+Uh(Qx(this),Yh).toString(!1);let r=[],a=new U(i,o);for(;_I(a,mI);){let[c,p]=hI(a);r.push(p),a=c}return r.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new U(0);if(e.length<10)return i<0?Uh(Qx(new U(-i)),Yh):new U(i);let r=new U,a=Yh;for(let c of e.split("").reverse())parseInt(c)&&(r=Uh(r,ay(new U(parseInt(c)),a))),a=ay(a,new U(10));return o?Uh(Qx(r),Yh):r}};n(U,"Long");var mI=new U(0),Yh=new U(1);function Wh(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(Wh,"makeChunk");function Uh(t,e){let[i,o,r,a]=Wh(t),[c,p,d,h]=Wh(e),_=0,x=0,y=0,w=0;return w+=i+c,y+=w>>>16,w&=65535,y+=o+p,x+=y>>>16,y&=65535,x+=r+d,_+=x>>>16,x&=65535,_+=a+h,_&=65535,new U(y<<16|w,_<<16|x)}n(Uh,"add");function ay(t,e){let[i,o,r,a]=Wh(t),[c,p,d,h]=Wh(e),_=0,x=0,y=0,w=0;return w+=i*c,y+=w>>>16,w&=65535,y+=i*p+o*c,x+=y>>>16,y&=65535,x+=i*d+r*c+o*p,_+=x>>>16,x&=65535,_+=i*h+o*d+r*p+a*c,_&=65535,new U(y<<16|w,_<<16|x)}n(ay,"mul");function hI(t){let[e,i]=t;return[new U((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n(hI,"divByTen");function _I(t,e){let[i,o]=t,[r,a]=e;return o!==a?o-a:i-r}n(_I,"compare");function Qx(t){let[e,i]=t;return new U(~e,~i)}n(Qx,"negate");function Uo(t){let e=[],r=typeof t=="number"?new U(t):t;for(;r[0]||r[1];){let[a,c]=r,p=a&127,d=c>>>7,h=a>>>7|(c&127)<<32-7;r=new U(h,d);let _=r[0]||r[1]?p|128:p;e.push(_)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(Uo,"encode");function Wo(t){let e=new U(0),i=0;for(;;){let o=t.getUint8(i);if(e=vI(e,xI(new U(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(Wo,"decode");function vI(t,e){return new U(t[0]|e[0],t[1]|e[1])}n(vI,"or");function xI(t,e){return e===0?t:e>=32?new U(0,t[0]<<e-32):new U(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n(xI,"leftshift");function R(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(Uo(i<<3|o.type)),o.type){case P.Varint:e.push(Uo(o.value));break;case P.Fixed64:{let r=new Uint8Array(8),a=new DataView(r.buffer);a.setUint32(0,o.value[0],!0),a.setUint32(4,o.value[1],!0),e.push(r);break}case P.LengthDelimited:e.push(Uo(o.value.byteLength)),e.push(o.value);break;case P.Fixed32:{let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,o.value,!0),e.push(r);break}}}),Zx(e)}n(R,"serialize");function Zx(t){let e=t.reduce((o,r)=>o+r.byteLength,0),i=new Uint8Array(e);return t.reduce((o,r)=>(i.set(r,o),o+r.byteLength),0),i}n(Zx,"concat");function eg(t){if(t instanceof U){let e=new U(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new U(4294967295,4294967295):new U;return new U(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(eg,"encode");function tg(t){if(t instanceof U){let e=new U(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new U(4294967295,4294967295):new U;return new U(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(tg,"decode");var ig={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>tg(t[0]),sint64:t=>tg(t).toString(!0),bool:t=>t[0]!==0},og={int32:t=>new U(t),int64:t=>U.parse(t),uint32:t=>new U(t),uint64:t=>U.parse(t),sint32:t=>eg(new U(t)),sint64:t=>eg(U.parse(t)),bool:t=>new U(+t)},gI=Object.fromEntries(Object.entries(ig).map(([t,e])=>[t,i=>{if(i.type===P.Varint)return e(i.value)}])),yI=Object.fromEntries(Object.entries(og).map(([t,e])=>[t,i=>({type:P.Varint,value:e(i)})])),G=Object.assign(Object.assign({},gI),{double:t=>t.type!==P.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==P.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===P.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===P.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===P.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===P.Fixed64)return t.value.toString(!0)},string:t=>t.type!==P.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===P.LengthDelimited)return t.value}}),C=Object.assign(Object.assign({},yI),{double:t=>{let e=new U;return new DataView(e.buffer).setFloat64(0,t,!0),{type:P.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:P.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:P.Fixed32,value:t>>>0}),fixed64:t=>({type:P.Fixed64,value:U.parse(t)}),sfixed32:t=>({type:P.Fixed32,value:t|0}),sfixed64:t=>({type:P.Fixed64,value:U.parse(t)}),string:t=>{let e=new TextEncoder;return{type:P.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:P.LengthDelimited,value:t})}),bI=Object.fromEntries(Object.keys(ig).map(t=>[t,function*(e){for(let i of e){let o=G[t](i);if(o!=null)yield o;else for(let r of II(i))yield ig[t](r)}}])),LL=Object.assign(Object.assign({},bI),{*double(t){for(let e of t){let i=G.double(e);i!=null?yield i:yield*TI(e)}},*float(t){for(let e of t){let i=G.float(e);i!=null?yield i:yield*kI(e)}},*fixed32(t){for(let e of t){let i=G.fixed32(e);if(i!=null)yield i;else for(let o of uy(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=G.fixed64(e);if(i!=null)yield i;else for(let o of ly(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=G.sfixed32(e);if(i!=null)yield i;else for(let o of uy(e))yield o|0}},*sfixed64(t){for(let e of t){let i=G.sfixed64(e);if(i!=null)yield i;else for(let o of ly(e))yield o.toString(!0)}}}),wI=Object.fromEntries(Object.keys(og).map(t=>[t,function(e){return{type:P.LengthDelimited,value:Zx(e.map(i=>{let o=og[t](i);return Uo(o)}))}}]));function Jo(t,e){return n(function(o){let r=new Uint8Array(o.length*t),a=new DataView(r.buffer);for(let c=0;c<o.length;++c)e(a,c*t,o[c]);return{type:P.LengthDelimited,value:r}},"pack")}n(Jo,"getFixedPackFn");var DL=Object.assign(Object.assign({},wI),{double:Jo(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:Jo(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:Jo(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:Jo(8,(t,e,i)=>{let o=U.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:Jo(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:Jo(8,(t,e,i)=>{let o=U.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*TI(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat64(i,!0);i+=4,yield r}}n(TI,"unpackDouble");function*kI(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat32(i,!0);i+=4,yield r}}n(kI,"unpackFloat");function*II(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let r=Wo(new DataView(e.buffer,o+i));i+=r[0],yield r[1]}}n(II,"unpackVarint");function*uy(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4,yield r}}n(uy,"unpackFixed32");function*ly(t){if(t.type!==P.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4;let a=o.getUint32(i,!0);i+=4,yield new U(r,a)}}n(ly,"unpackFixed64");function z(t){let e=0,i=t.byteOffset,o=[],r=new DataView(t.buffer,i);for(;e<t.length;){let a=Wo(new DataView(t.buffer,i+e)),c=a[1][0];e+=a[0];let p=c&7,d=c>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case P.Varint:{let[x,y]=Wo(new DataView(t.buffer,i+e));o.push([d,{type:p,value:y}]),e+=x;break}case P.Fixed64:let h=r.getUint32(e,!0),_=r.getUint32(e+=4,!0);e+=4,o.push([d,{type:p,value:new U(h,_)}]);break;case P.LengthDelimited:{let[x,y]=Wo(new DataView(t.buffer,i+e));o.push([d,{type:p,value:t.subarray(e+=x,e+=y[0])}]);break}case P.StartGroup:case P.EndGroup:o.push([d,{type:p}]);break;case P.Fixed32:o.push([d,{type:p,value:r.getUint32(e,!0)}]),e+=4;break}}return o}n(z,"deserialize");function SI(){return{id:"",timestamp:0}}n(SI,"getDefaultValue");function cy(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,C.int32(i)])}return R(e)}n(cy,"encodeBinary");function py(t){let e=SI(),i=z(t),o=new Map(i);e:{let r=o.get(1);if(r===void 0)break e;let a=G.string(r);if(a===void 0)break e;e.id=a}e:{let r=o.get(5);if(r===void 0)break e;let a=G.int32(r);if(a===void 0)break e;e.timestamp=a}return e}n(py,"decodeBinary");function dy(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,C.string(i)])}return R(e)}n(dy,"encodeBinary");function fy(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:P.LengthDelimited,value:dy(i)}])}return R(e)}n(fy,"encodeBinary");function my(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,C.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,C.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,C.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,C.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,C.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,C.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,C.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,C.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,C.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,C.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,C.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,C.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,C.int32(i)])}return R(e)}n(my,"encodeBinary");function hy(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,C.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:P.LengthDelimited,value:my(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,C.int32(i)])}return R(e)}n(hy,"encodeBinary");function _y(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,C.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,C.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,C.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,C.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,C.int32(i)])}return R(e)}n(_y,"encodeBinary");function vy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:P.LengthDelimited,value:_y(i)}])}return R(e)}n(vy,"encodeBinary");function xy(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:P.LengthDelimited,value:vy(i)}])}return R(e)}n(xy,"encodeBinary");function gy(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return R(e)}n(gy,"encodeBinary");function yy(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:P.LengthDelimited,value:gy(i)}])}return R(e)}n(yy,"encodeBinary");function by(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:P.LengthDelimited,value:yy(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,C.int32(i)])}return R(e)}n(by,"encodeBinary");function wy(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return R(e)}n(wy,"encodeBinary");function Ty(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,C.int32(i)])}return R(e)}n(Ty,"encodeBinary");function ky(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:P.LengthDelimited,value:Ty(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,C.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,C.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,C.int32(i)])}return R(e)}n(ky,"encodeBinary");function Iy(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,C.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([16,C.string(i)])}return R(e)}n(Iy,"encodeBinary");function Sy(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,C.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:P.LengthDelimited,value:ky(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:P.LengthDelimited,value:Iy(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,C.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,C.string(i)])}return R(e)}n(Sy,"encodeBinary");function Cy(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:P.LengthDelimited,value:wy(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,C.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:P.LengthDelimited,value:Sy(i)}])}return R(e)}n(Cy,"encodeBinary");function Ey(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return R(e)}n(Ey,"encodeBinary");function Ny(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:P.LengthDelimited,value:Ey(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,C.int32(i)])}return R(e)}n(Ny,"encodeBinary");function Py(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}n(Py,"encodeBinary");function Ry(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:P.LengthDelimited,value:Py(i)}])}return R(e)}n(Ry,"encodeBinary");function Ay(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:P.LengthDelimited,value:Ry(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,C.string(i)])}return R(e)}n(Ay,"encodeBinary");function Vy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,C.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,C.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:P.LengthDelimited,value:Ay(i)}])}return R(e)}n(Vy,"encodeBinary");function My(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return R(e)}n(My,"encodeBinary");function By(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:P.LengthDelimited,value:My(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,C.int32(i)])}return R(e)}n(By,"encodeBinary");function Ly(t){let e=[];if(t.deviceMake!==void 0){let i=t.deviceMake;e.push([12,C.string(i)])}if(t.deviceModel!==void 0){let i=t.deviceModel;e.push([13,C.string(i)])}if(t.nameId!==void 0){let i=t.nameId;e.push([16,C.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,C.string(i)])}if(t.osName!==void 0){let i=t.osName;e.push([18,C.string(i)])}if(t.osVersion!==void 0){let i=t.osVersion;e.push([19,C.string(i)])}if(t.acceptLanguage!==void 0){let i=t.acceptLanguage;e.push([21,C.string(i)])}if(t.acceptRegion!==void 0){let i=t.acceptRegion;e.push([22,C.string(i)])}if(t.androidSdkVersion!==void 0){let i=t.androidSdkVersion;e.push([34,C.int32(i)])}if(t.windowWidthPoints!==void 0){let i=t.windowWidthPoints;e.push([37,C.int32(i)])}if(t.windowHeightPoints!==void 0){let i=t.windowHeightPoints;e.push([38,C.int32(i)])}return R(e)}n(Ly,"encodeBinary");function Dy(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:P.LengthDelimited,value:Ly(i)}])}return R(e)}n(Dy,"encodeBinary");function Oy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}n(Oy,"encodeBinary");function Fy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}n(Fy,"encodeBinary");function jy(t){let e=[];for(let i of t.list)e.push([1,C.string(i)]);return R(e)}n(jy,"encodeBinary");function Yy(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.int32(i)])}return R(e)}n(Yy,"encodeBinary");function Uy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.string(i)])}return R(e)}n(Uy,"encodeBinary");function Wy(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,C.bytes(i)])}return R(e)}n(Wy,"encodeBinary");function Jy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:P.LengthDelimited,value:Wy(i)}])}return R(e)}n(Jy,"encodeBinary");function Hy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}return R(e)}n(Hy,"encodeBinary");function Gy(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return R(e)}n(Gy,"encodeBinary");function zy(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return R(e)}n(zy,"encodeBinary");function ng(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:P.LengthDelimited,value:Dy(i)}])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:P.LengthDelimited,value:Oy(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:P.LengthDelimited,value:Fy(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:P.LengthDelimited,value:jy(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:P.LengthDelimited,value:Yy(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:P.LengthDelimited,value:Uy(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:P.LengthDelimited,value:Jy(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:P.LengthDelimited,value:Hy(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:P.LengthDelimited,value:Gy(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:P.LengthDelimited,value:zy(i)}])}return R(e)}n(ng,"encodeBinary");function $y(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,C.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,C.int32(i)])}return R(e)}n($y,"encodeBinary");function Ky(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:P.LengthDelimited,value:$y(i)}])}return R(e)}n(Ky,"encodeBinary");function qy(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,C.int32(i)])}return R(e)}n(qy,"encodeBinary");function Xy(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:P.LengthDelimited,value:qy(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,C.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,C.int32(i)])}return R(e)}n(Xy,"encodeBinary");function Qy(t){let e=[];if(t.p1!==void 0){let i=t.p1;e.push([1,C.int32(i)])}return R(e)}n(Qy,"encodeBinary");function Zy(t){let e=[];if(t.f1!==void 0){let i=t.f1;e.push([1,{type:P.LengthDelimited,value:Qy(i)}])}if(t.p59!==void 0){let i=t.p59;e.push([59,C.int32(i)])}return R(e)}n(Zy,"encodeBinary");function rg(t,e){let i=cy({id:t,timestamp:e});return encodeURIComponent(ze(i).replace(/\+/g,"-").replace(/\//g,"_"))}n(rg,"encodeVisitorData");function sg(t){return py(lg(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}n(sg,"decodeVisitorData");function jI(t){let e=fy({params:{channelId:t}});return encodeURIComponent(ze(e))}n(jI,"encodeChannelAnalyticsParams");function YI(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},o={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},a={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},c={};if(t?c.filters={}:c.noFilter=0,c.filters&&(t.upload_date&&(c.filters.uploadDate=e[t.upload_date]),t.type&&(c.filters.type=i[t.type]),t.duration&&(c.filters.duration=o[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(c.sortBy=r[t.sort_by]),t.features))for(let d of t.features)c.filters[a[d]]=1;let p=hy(c);return encodeURIComponent(ze(p))}n(YI,"encodeSearchFilters");function UI(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let o=xy(i);return encodeURIComponent(ze(o))}n(UI,"encodeMusicSearchFilters");function ag(t,e){let i=by({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(ze(i)))}n(ag,"encodeMessageParams");function WI(t,e={}){let o=Cy({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2,commentId:e.comment_id||""},target:"comments-section"}});return encodeURIComponent(ze(o))}n(WI,"encodeCommentsSectionParams");function JI(t){let e=Ny({videoId:t,params:{index:0},number:7});return encodeURIComponent(ze(e))}n(JI,"encodeCommentParams");function Wa(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let o=Vy(i);return encodeURIComponent(ze(o))}n(Wa,"encodeCommentActionParams");function HI(t,e){let i=By({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(ze(i))}n(HI,"encodeNotificationPref");function GI(t,e){let i={context:{client:{nameId:3,osName:"Android",androidSdkVersion:ne.ANDROID.SDK_VERSION,osVersion:"13",acceptLanguage:"en-US",acceptRegion:"US",deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",windowHeightPoints:840,windowWidthPoints:432,clientVersion:ne.ANDROID.VERSION}},videoId:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),ng(i)}n(GI,"encodeVideoMetadataPayload");function zI(t,e){let i={context:{client:{nameId:3,osName:"Android",androidSdkVersion:ne.ANDROID.SDK_VERSION,osVersion:"13",acceptLanguage:"en-US",acceptRegion:"US",deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",windowHeightPoints:840,windowWidthPoints:432,clientVersion:ne.ANDROID.VERSION}},videoId:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return ng(i)}n(zI,"encodeCustomThumbnailPayload");function $I(t){let e=Ky({params:{hashtag:t,type:1}});return encodeURIComponent(ze(e))}n($I,"encodeHashtag");function ug(t){let e=Xy({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent(ze(e))}n(ug,"encodeReelSequence");function KI(){let t=Zy({f1:{p1:1},p59:1});return encodeURIComponent(ze(t))}n(KI,"encodeShortsParam");var vt,Ja=class extends s{constructor(e){var i,o,r,a,c,p,d;super(),vt.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=g.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=l.parseItem(e.sponsorCommentBadge,jh),this.paid_comment_chip=l.parseItem(e.paidCommentChipRenderer,Fh),this.author_badge=l.parseItem(e.authorCommentBadge,Oh),this.author=new L(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=l.parseItem(e.actionMenu,F),this.action_buttons=l.parseItem(e.actionButtons,Po),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((r=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||r===void 0)&&r.is_toggled),this.is_disliked=!!(!((c=(a=this.action_buttons)===null||a===void 0?void 0:a.dislike_button)===null||c===void 0)&&c.is_toggled),this.is_hearted=!!(!((d=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||d===void 0)&&d.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){return I(this,void 0,void 0,function*(){var e;if(!f(this,vt,"f"))throw new b("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new b("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new b("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(f(this,vt,"f"),{parse:!1})})}dislike(){return I(this,void 0,void 0,function*(){var e;if(!f(this,vt,"f"))throw new b("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new b("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new b("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(f(this,vt,"f"),{parse:!1})})}reply(e){return I(this,void 0,void 0,function*(){var i,o,r;if(!f(this,vt,"f"))throw new b("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new b("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let a=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((r=a.endpoint)===null||r===void 0)&&r.dialog))throw new b("Reply button endpoint did not have a dialog.");let p=a.endpoint.dialog.as(Yo).reply_button;if(!p)throw new b("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new b("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(f(this,vt,"f"),{commentText:e})})}translate(e){return I(this,void 0,void 0,function*(){var i,o,r,a,c,p;if(!f(this,vt,"f"))throw new b("An active caller must be provide to perform this operation.");let h={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},_=Wa(22,h),x=yield f(this,vt,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),y=(o=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,w=(p=(c=(a=(r=y==null?void 0:y[0])===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:w})})}setActions(e){E(this,vt,e,"f")}};n(Ja,"Comment");vt=new WeakMap;Ja.type="Comment";var Ho=Ja;var Ha=class extends s{constructor(e){super(),this.id=e.id,this.categories=l.parseArray(e.categories),this.category_buttons=l.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(Ha,"EmojiPicker");Ha.type="EmojiPicker";var Jh=Ha;var Ga=class extends s{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=g.fromResponse(e.authorThumbnail),this.submit_button=l.parseItem(e.submitButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.placeholder=new u(e.placeholderText),this.emoji_button=l.parseItem(e.emojiButton,T),this.emoji_picker=l.parseItem(e.emojiPicker,Jh)}};n(Ga,"CommentDialog");Ga.type="CommentDialog";var eb=Ga;var za=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),this.view_replies=l.parseItem(e.viewReplies,T),this.hide_replies=l.parseItem(e.hideReplies,T),this.view_replies_creator_thumbnail=g.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(za,"CommentReplies");za.type="CommentReplies";var Hh=za;var $a=class extends s{constructor(e){super(),this.simplebox_avatar=g.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};n($a,"CommentsSimplebox");$a.type="CommentsSimplebox";var Gh=$a;var Ka=class extends s{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=g.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};n(Ka,"CommentsEntryPointTeaser");Ka.type="CommentsEntryPointTeaser";var zh=Ka;var qa=class extends s{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=g.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=l.parseItem(e.contentRenderer,[zh,Gh])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};n(qa,"CommentsEntryPointHeader");qa.type="CommentsEntryPointHeader";var $h=qa;var Xa=class extends s{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=l.parseItem(e.createRenderer),this.sort_menu=l.parseItem(e.sortMenu,_t),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:g.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(Xa,"CommentsHeader");Xa.type="CommentsHeader";var pi=Xa;var Qa=class extends s{constructor(e){super(),this.submit_button=l.parseItem(e.submitButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.author_thumbnail=g.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};n(Qa,"CommentSimplebox");Qa.type="CommentSimplebox";var Kh=Qa;var Ue,Za=class extends s{constructor(e){super(),Ue.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,o){e&&(this.content=u.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new L({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),o&&!Reflect.has(o,"prepareAccountCommand")&&(this.like_command=new v(o.likeCommand),this.dislike_command=new v(o.dislikeCommand),this.unlike_command=new v(o.unlikeCommand),this.undislike_command=new v(o.undislikeCommand),this.reply_command=new v(o.replyCommand))}like(){return I(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.like_command)throw new b("Like command not found.");if(this.is_liked)throw new b("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(f(this,Ue,"f"))})}dislike(){return I(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.dislike_command)throw new b("Dislike command not found.");if(this.is_disliked)throw new b("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(f(this,Ue,"f"))})}unlike(){return I(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.unlike_command)throw new b("Unlike command not found.");if(!this.is_liked)throw new b("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(f(this,Ue,"f"))})}undislike(){return I(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.undislike_command)throw new b("Undislike command not found.");if(!this.is_disliked)throw new b("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(f(this,Ue,"f"))})}reply(e){return I(this,void 0,void 0,function*(){var i;if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.reply_command)throw new b("Reply command not found.");let o=(i=this.reply_command.dialog)===null||i===void 0?void 0:i.as(Yo);if(!o)throw new b("Reply dialog not found.");let r=o.reply_button;if(!r)throw new b("Reply button not found in the dialog.");if(!r.endpoint)throw new b("Reply button endpoint not found.");return r.endpoint.call(f(this,Ue,"f"),{commentText:e})})}translate(e){return I(this,void 0,void 0,function*(){var i,o,r,a,c,p;if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.content)throw new b("Comment content not found.",{comment_id:this.comment_id});let h={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},_=Wa(22,h),x=yield f(this,Ue,"f").execute("comment/perform_comment_action",{action:_,client:"ANDROID"}),y=(o=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,w=(p=(c=(a=(r=y==null?void 0:y[0])===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:w})})}setActions(e){E(this,Ue,e,"f")}};n(Za,"CommentView");Ue=new WeakMap;Za.type="CommentView";var di=Za;var Ft,Xi,eu=class extends s{constructor(e){super(),Ft.set(this,void 0),Xi.set(this,void 0),Reflect.has(e,"commentViewModel")?this.comment=l.parseItem(e.commentViewModel,di):this.comment=l.parseItem(e.comment,Ho),this.comment_replies_data=l.parseItem(e.replies,Hh),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){return I(this,void 0,void 0,function*(){var e;if(!f(this,Ft,"f"))throw new b("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new b("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(pe);if(!i)throw new b("Replies continuation not found.");let o=yield i.endpoint.call(f(this,Ft,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new b("Unexpected response.",o);return this.replies=oe(o.on_response_received_endpoints_memo.getType(Ho,di).map(r=>(r.setActions(f(this,Ft,"f")),r))),E(this,Xi,o==null?void 0:o.on_response_received_endpoints_memo.getType(pe).first(),"f"),this})}getContinuation(){return I(this,void 0,void 0,function*(){var e;if(!this.replies)throw new b("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!f(this,Xi,"f"))throw new b("Continuation not found.");if(!f(this,Ft,"f"))throw new b("Actions instance not set for this thread.");let i=(e=f(this,Xi,"f").button)===null||e===void 0?void 0:e.as(T);if(!i)throw new b('"Load more" button not found.');let o=yield i.endpoint.call(f(this,Ft,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new b("Unexpected response.",o);return this.replies=oe(o.on_response_received_endpoints_memo.getType(Ho,di).map(r=>(r.setActions(f(this,Ft,"f")),r))),E(this,Xi,o.on_response_received_endpoints_memo.getType(pe).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new b("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!f(this,Xi,"f")}setActions(e){E(this,Ft,e,"f")}};n(eu,"CommentThread");Ft=new WeakMap,Xi=new WeakMap;eu.type="CommentThread";var qh=eu;var tu=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=g.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new v(e.navigationEndpoint),this.tv_banner=g.fromResponse(e.tvBanner),this.menu=l.parseItem(e.menu,F)}};n(tu,"CompactChannel");tu.type="CompactChannel";var tb=tu;var iu=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new v(e.navigationEndpoint),this.style=e.style}};n(iu,"CompactLink");iu.type="CompactLink";var Go=iu;var ou=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(ou,"PlaylistCustomThumbnail");ou.type="PlaylistCustomThumbnail";var zo=ou;var nu=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(nu,"PlaylistVideoThumbnail");nu.type="PlaylistVideoThumbnail";var $o=nu;var ru=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new L(e.longBylineText,e.ownerBadges,null),this.thumbnails=g.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=l.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=l.parseItem(e.menu),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer,[$o,zo])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};n(ru,"Playlist");ru.type="Playlist";var kt=ru;var su=class extends kt{constructor(e){super(e)}};n(su,"CompactMix");su.type="CompactMix";var ib=su;var au=class extends s{constructor(e){var i;super();let o=((i=e.thumbnailOverlays.find(a=>a.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new L(e.shortBylineText);let r=e.lengthText?new u(e.lengthText).toString():new u(o).toString();this.duration={text:r,seconds:Se(r)},this.endpoint=new v(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=l.parseItem(e.menu,F)}};n(au,"CompactMovie");au.type="CompactMovie";var ob=au;var uu=class extends kt{constructor(e){super(e)}};n(uu,"CompactPlaylist");uu.type="CompactPlaylist";var nb=uu;var lu=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.thumbnail=g.fromResponse(e.thumbnail)}};n(lu,"CompactStation");lu.type="CompactStation";var rb=lu;var cu=class extends s{constructor(e){super(),this.title=new u(e.title),this.confirm_button=l.parseItem(e.confirmButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(cu,"ConfirmDialog");cu.type="ConfirmDialog";var sb=cu;var pu=class extends s{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var o;return{metadata_parts:(o=i.metadataParts)===null||o===void 0?void 0:o.map(r=>({text:u.fromAttributed(r.text)}))}}),this.delimiter=e.delimiter}};n(pu,"ContentMetadataView");pu.type="ContentMetadataView";var Ko=pu;var du=class extends s{constructor(e){super(),this.text=new u(e.text)}};n(du,"Message");du.type="Message";var fi=du;var fu=class extends s{constructor(e){super(),this.availability_message=l.parseItem(e.availabilityMessage,fi)}};n(fu,"ConversationBar");fu.type="ConversationBar";var ab=fu;var mu=class extends s{constructor(e){super(),this.copy_button=l.parseItem(e.copyButton,T),this.short_url=e.shortUrl,this.style=e.style}};n(mu,"CopyLink");mu.type="CopyLink";var Xh=mu;var hu=class extends s{constructor(e){var i,o;super(),this.avatar=l.parseItem(e.avatar,Km),this.a11y_label=e.a11yLabel,!((o=(i=e.rendererContext)===null||i===void 0?void 0:i.commandContext)===null||o===void 0)&&o.onTap&&(this.on_tap_endpoint=new v(e.rendererContext.commandContext.onTap))}};n(hu,"DecoratedAvatarView");hu.type="DecoratedAvatarView";var Qh=hu;var _u=class extends s{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(_u,"HeatMarker");_u.type="HeatMarker";var Zh=_u;var vu=class extends s{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=l.parseArray(e.heatMarkers,Zh),this.heat_markers_decorations=l.parseArray(e.heatMarkersDecorations)}};n(vu,"Heatmap");vu.type="Heatmap";var e_=vu;var xu=class extends s{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=l.parseItem(e.value.heatmap,e_)),Reflect.has(e.value,"chapters")&&(this.value.chapters=l.parseArray(e.value.chapters,Ph)))}};n(xu,"Marker");xu.type="Marker";var gu=class extends s{constructor(e){var i;super(),this.markers_map=oe(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new xu(o)))||[])}};n(gu,"MultiMarkersPlayerBar");gu.type="MultiMarkersPlayerBar";var t_=gu;var yu=class extends s{constructor(e){super(),this.player_bar=l.parseItem(e.playerBar,t_),this.player_bar_action_button=l.parseItem(e.playerBarActionButton,T)}};n(yu,"DecoratedPlayerBar");yu.type="DecoratedPlayerBar";var i_=yu;var bu=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new v(e.navigationEndpoint),this.large_form_factor_background_thumbnail=l.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=l.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(bu,"DefaultPromoPanel");bu.type="DefaultPromoPanel";var ub=bu;var wu=class extends s{constructor(e){var i,o,r,a,c,p;if(super(),this.description=u.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=u.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,!((r=(o=(i=e.rendererContext.commandContext)===null||i===void 0?void 0:i.onTap)===null||o===void 0?void 0:o.innertubeCommand)===null||r===void 0)&&r.showEngagementPanelEndpoint){let d=(p=(c=(a=e.rendererContext.commandContext)===null||a===void 0?void 0:a.onTap)===null||c===void 0?void 0:c.innertubeCommand)===null||p===void 0?void 0:p.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:l.parseItem(d.engagementPanel,si),engagement_panel_popup_type:d.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:d.identifier.surface,tag:d.identifier.tag}}}}}};n(wu,"DescriptionPreviewView");wu.type="DescriptionPreviewView";var o_=wu;var Tu=class extends s{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new v(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(Tu,"DidYouMean");Tu.type="DidYouMean";var lb=Tu;var ku=class extends s{constructor(e){super(),this.default_button=l.parseItem(e.defaultButtonViewModel,zi),this.toggled_button=l.parseItem(e.toggledButtonViewModel,zi),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};n(ku,"ToggleButtonView");ku.type="ToggleButtonView";var mi=ku;var Iu=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,mi),this.dislike_entity_key=e.dislikeEntityKey}};n(Iu,"DislikeButtonView");Iu.type="DislikeButtonView";var n_=Iu;var Su=class extends s{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new v(e.command),this.target_id=e.targetId}};n(Su,"DownloadButton");Su.type="DownloadButton";var r_=Su;var Cu=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};n(Cu,"DynamicTextView");Cu.type="DynamicTextView";var s_=Cu;var Qi=class extends s{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new Qi(o)))}};n(Qi,"ChildElement");Qi.type="ChildElement";var a_=Qi;var Zi=class extends s{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return l.parseItem(e,Zi);let o=e.newElement.type.componentType;this.model=l.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=oe(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(r=>new a_(r)))||[]))}};n(Zi,"Element");Zi.type="Element";var qo=Zi;var Eu=class extends s{constructor(e){super(),this.title=new u(e.title),this.first_option=l.parseItem(e.firstOption),this.menu=l.parseItem(e.menu,F)}};n(Eu,"EmergencyOnebox");Eu.type="EmergencyOnebox";var cb=Eu;var Nu=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n(Nu,"EmojiPickerCategory");Nu.type="EmojiPickerCategory";var pb=Nu;var Pu=class extends s{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(Pu,"EmojiPickerCategoryButton");Pu.type="EmojiPickerCategoryButton";var db=Pu;var Ru=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new v(e.command),this.emoji_ids=e.emojiIds}};n(Ru,"EmojiPickerUpsellCategory");Ru.type="EmojiPickerUpsellCategory";var fb=Ru;var Au=class extends s{constructor(e){super(),this.elements=l.parseArray(e.elements),this.start_ms=e.startMs}};n(Au,"Endscreen");Au.type="Endscreen";var u_=Au;var Vu=class extends s{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new v(e.endpoint),Reflect.has(e,"image")&&(this.image=g.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=g.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=l.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(Vu,"EndscreenElement");Vu.type="EndscreenElement";var mb=Vu;var Mu=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new v(e.navigationEndpoint),this.thumbnails=g.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};n(Mu,"EndScreenPlaylist");Mu.type="EndScreenPlaylist";var l_=Mu;var Bu=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new L(e.shortBylineText,e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=l.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(Bu,"EndScreenVideo");Bu.type="EndScreenVideo";var c_=Bu;var Lu=class extends s{constructor(e){super(),this.disclaimer=new u(e.disclaimer),this.info_icon={icon_type:e.infoIcon.iconType},this.usage_scenario=e.usageScenario}};n(Lu,"EomSettingsDisclaimer");Lu.type="EomSettingsDisclaimer";var hb=Lu;var Du=class extends s{constructor(e){super(),this.title=e.title,this.endpoint=new v(e.endpoint),this.selected=e.selected,this.content=l.parseItem(e.content)}};n(Du,"ExpandableTab");Du.type="ExpandableTab";var Xo=Du;var Ou=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(Ou,"ExpandedShelfContents");Ou.type="ExpandedShelfContents";var _b=Ou;var Fu=class extends s{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};n(Fu,"FancyDismissibleDialog");Fu.type="FancyDismissibleDialog";var vb=Fu;var ju=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,Ye)}};n(ju,"FeedFilterChipBar");ju.type="FeedFilterChipBar";var jt=ju;var Yu=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.endpoint=new v(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};n(Yu,"FeedNudge");Yu.type="FeedNudge";var xb=Yu;var Uu=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Uu,"FeedTabbedHeader");Uu.type="FeedTabbedHeader";var p_=Uu;var Wu=class extends s{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:l.parseArray(i.actions,[zi,mi])})),this.style=e.style}};n(Wu,"FlexibleActionsView");Wu.type="FlexibleActionsView";var d_=Wu;var Ju=class extends s{constructor(e){super(),this.title=new u(e.title),this.box_art=g.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new v(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(Ju,"GameDetails");Ju.type="GameDetails";var gb=Ju;var Hu=class extends s{constructor(e){var i,o,r;super(),this.items=l.parseArray(e.items),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}get contents(){return this.items}};n(Hu,"Grid");Hu.type="Grid";var yb=Hu;var Gu=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new L(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton)}};n(Gu,"GridChannel");Gu.type="GridChannel";var f_=Gu;var zu=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(zu,"GridHeader");zu.type="GridHeader";var bb=zu;var $u=class extends s{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new u(e.longBylineText):null,this.thumbnails=g.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new v(e.navigationEndpoint),this.secondary_endpoint=new v(e.secondaryNavigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};n($u,"GridMix");$u.type="GridMix";var wb=$u;var Ku=class extends s{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):o!=null&&o.text?new u(o.text):null,this.endpoint=new v(e.navigationEndpoint),this.badges=l.parseArray(e.badges,Ge),this.metadata=new u(e.metadata),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};n(Ku,"GridMovie");Ku.type="GridMovie";var Tb=Ku;var qu=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new L(e.shortBylineText,e.ownerBadges)),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new v(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>g.fromResponse(o)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};n(qu,"GridPlaylist");qu.type="GridPlaylist";var m_=qu;var Xu=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(Xu,"ShowCustomThumbnail");Xu.type="ShowCustomThumbnail";var h_=Xu;var Qu=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(Qu,"ThumbnailOverlayBottomPanel");Qu.type="ThumbnailOverlayBottomPanel";var __=Qu;var Zu=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=ee(e.thumbnailRenderer,h_),this.endpoint=new v(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=Me(e.thumbnailOverlays,__),this.author=new L(e.shortBylineText,void 0)}};n(Zu,"GridShow");Zu.type="GridShow";var kb=Zu;var el=class extends s{constructor(e){var i,o;super();let r=(i=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.rich_thumbnail=l.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):r!=null&&r.text?new u(r.text):null,this.author=e.shortBylineText&&new L(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new v(e.navigationEndpoint),this.menu=l.parseItem(e.menu,F),Reflect.has(e,"buttons")&&(this.buttons=l.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(el,"GridVideo");el.type="GridVideo";var v_=el;var tl=class extends s{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=g.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(tl,"GuideEntry");tl.type="GuideEntry";var eo=tl;var il=class extends s{constructor(e){super(),this.expander_item=ee(e.expanderItem,eo),this.collapser_item=ee(e.collapserItem,eo),this.expandable_items=Me(e.expandableItems)}};n(il,"GuideCollapsibleEntry");il.type="GuideCollapsibleEntry";var Ib=il;var ol=class extends s{constructor(e){super(),this.header_entry=ee(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Me(e.sectionItems)}};n(ol,"GuideCollapsibleSectionEntry");ol.type="GuideCollapsibleSectionEntry";var Sb=ol;var nl=class extends eo{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(nl,"GuideDownloadsEntry");nl.type="GuideDownloadsEntry";var Cb=nl;var rl=class extends s{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=Me(e.items)}};n(rl,"GuideSection");rl.type="GuideSection";var Qo=rl;var sl=class extends Qo{};n(sl,"GuideSubscriptionsSection");sl.type="GuideSubscriptionsSection";var x_=sl;var al=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};n(al,"HashtagHeader");al.type="HashtagHeader";var g_=al;var ul=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=g.fromResponse(e.hashtagThumbnail),this.endpoint=new v(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};n(ul,"HashtagTile");ul.type="HashtagTile";var Eb=ul;var ll=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.on_tap_endpoint=new v(e.onTap)}};n(ll,"HeroPlaylistThumbnail");ll.type="HeroPlaylistThumbnail";var Nb=ll;var cl=class extends s{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:g.fromResponse(e.thumbnail.image),endpoint:new v(e.thumbnail.onTap),on_long_press_endpoint:new v(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:g.fromResponse(e.backgroundImage.image),gradient_image:g.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new v(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new v(e.textOnTap)}};n(cl,"Panel");cl.type="Panel";var pl=class extends s{constructor(e){super(),this.panels=oe(e.highlightsCarousel.panels.map(i=>new cl(i)))}};n(pl,"HighlightsCarousel");pl.type="HighlightsCarousel";var Pb=pl;var dl=class extends s{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new v(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new v(e.serviceEndpoint))}};n(dl,"SearchSuggestion");dl.type="SearchSuggestion";var y_=dl;var fl=class extends y_{constructor(e){super(e)}};n(fl,"HistorySuggestion");fl.type="HistorySuggestion";var Rb=fl;var ml=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.previous_button=l.parseItem(e.previousButton,T),this.next_button=l.parseItem(e.nextButton,T)}get contents(){return this.items}};n(ml,"HorizontalMovieList");ml.type="HorizontalMovieList";var Ab=ml;var hl=class extends s{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new v(e.navigationEndpoint)}};n(hl,"IconLink");hl.type="IconLink";var b_=hl;var _l=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.style=e.style}};n(_l,"ImageBannerView");_l.type="ImageBannerView";var w_=_l;var vl=class extends s{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new v(e.originalQueryEndpoint):void 0}};n(vl,"IncludingResultsFor");vl.type="IncludingResultsFor";var Vb=vl;var xl=class extends s{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(i=>new u(i))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(i=>u.fromAttributed(i))),this.thumbnail=g.fromResponse(e.thumbnail),this.source_endpoint=new v(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(xl,"InfoPanelContent");xl.type="InfoPanelContent";var T_=xl;var gl=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.menu=l.parseItem(e.menu,F),this.content=l.parseItem(e.content,T_),e.headerEndpoint&&(this.header_endpoint=new v(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(gl,"InfoPanelContainer");gl.type="InfoPanelContainer";var k_=gl;var yl=class extends s{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=l.parseArray(e.badges,Ge),this.box_art=g.fromResponse(e.boxArt),this.banner=g.fromResponse(e.banner),this.buttons=l.parseArray(e.buttons,[Ce,T]),this.auto_generated=new u(e.autoGenerated)}};n(yl,"InteractiveTabbedHeader");yl.type="InteractiveTabbedHeader";var I_=yl;var bl=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(bl,"ItemSectionHeader");bl.type="ItemSectionHeader";var Zo=bl;var wl=class extends s{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new v(e.endpoint)}};n(wl,"ItemSectionTab");wl.type="Tab";var S_=wl;var Tl=class extends s{constructor(e){super(),this.title=new u(e.title),this.tabs=l.parseArray(e.tabs,S_),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};n(Tl,"ItemSectionTabbedHeader");Tl.type="ItemSectionTabbedHeader";var en=Tl;var kl=class extends s{constructor(e){super(),this.filter_menu=l.parseItem(e.filterMenu,to.SortFilterSubMenu)}};n(kl,"SortFilterHeader");kl.type="SortFilterHeader";var C_=kl;var Il=class extends s{constructor(e){var i,o,r;super(),this.header=l.parseItem(e.header,[pi,Zo,en,C_]),this.contents=l.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(Il,"ItemSection");Il.type="ItemSection";var $e=Il;var Sl=class extends s{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new v(i)))}};n(Sl,"LikeButton");Sl.type="LikeButton";var E_=Sl;var Cl=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,mi),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};n(Cl,"LikeButtonView");Cl.type="LikeButtonView";var N_=Cl;var El=class extends s{constructor(e){var i,o;super(),this.header=l.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(El,"LiveChat");El.type="LiveChat";var P_=El;var Nl=class extends s{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};n(Nl,"LiveChatBannerHeader");Nl.type="LiveChatBannerHeader";var R_=Nl;var Pl=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,R_),this.contents=l.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(Pl,"LiveChatBanner");Pl.type="LiveChatBanner";var A_=Pl;var Rl=class extends s{constructor(e){super(),this.banner=l.parseItem(e.bannerRenderer,A_)}};n(Rl,"AddBannerToLiveChatCommand");Rl.type="AddBannerToLiveChatCommand";var Mb=Rl;var Al=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(Al,"AddChatItemAction");Al.type="AddChatItemAction";var V_=Al;var Vl=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),this.duration_sec=e.durationSec}};n(Vl,"AddLiveChatTickerItemAction");Vl.type="AddLiveChatTickerItemAction";var Bb=Vl;var Ml=class extends s{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(Ml,"DimChatItemAction");Ml.type="DimChatItemAction";var Lb=Ml;var Bl=class extends s{constructor(e){super(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.moderation_buttons=l.parseArray(e.moderationButtons,T),this.auto_moderated_item=l.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Bl,"LiveChatAutoModMessage");Bl.type="LiveChatAutoModMessage";var Db=Bl;var Ll=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=g.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};n(Ll,"LiveChatBannerPoll");Ll.type="LiveChatBannerPoll";var Ob=Ll;var Dl=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new L(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(Dl,"LiveChatMembershipItem");Dl.type="LiveChatMembershipItem";var Fb=Dl;var Ol=class extends s{constructor(e){super(),this.message=new u(e.message),this.author=new L(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};n(Ol,"LiveChatPaidMessage");Ol.type="LiveChatPaidMessage";var jb=Ol;var Fl=class extends s{constructor(e){super(),this.id=e.id,this.author=new L(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=g.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new v(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Fl,"LiveChatPaidSticker");Fl.type="LiveChatPaidSticker";var Yb=Fl;var jl=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(jl,"LiveChatPlaceholderItem");jl.type="LiveChatPlaceholderItem";var Ub=jl;var Yl=class extends s{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=g.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=l.parseItem(e.informationButton),this.endpoint=new v(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=g.fromResponse(e.authorPhoto),this.information_dialog=l.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};n(Yl,"LiveChatProductItem");Yl.type="LiveChatProductItem";var Wb=Yl;var Ul=class extends s{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(Ul,"LiveChatRestrictedParticipation");Ul.type="LiveChatRestrictedParticipation";var Jb=Ul;var io=class extends s{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=l.parseArray(e.inlineActionButtons,T),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(io,"LiveChatMessageBase");io.type="LiveChatMessageBase";var Wl=class extends io{constructor(e){super(e),this.author=new L(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new v(e.contextMenuEndpoint)}};n(Wl,"LiveChatTextMessage");Wl.type="LiveChatTextMessage";var Hb=Wl;var Jl=class extends s{constructor(e){var i,o;super(),this.author=new L(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=l.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new v(e.showItemEndpoint),this.id=e.id}};n(Jl,"LiveChatTickerPaidMessageItem");Jl.type="LiveChatTickerPaidMessageItem";var M_=Jl;var Hl=class extends M_{};n(Hl,"LiveChatTickerPaidStickerItem");Hl.type="LiveChatTickerPaidStickerItem";var Gb=Hl;var Gl=class extends s{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new L(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(Gl,"LiveChatTickerSponsorItem");Gl.type="LiveChatTickerSponsorItem";var zb=Gl;var zl=class extends io{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=l.parseItem(e.actionButton)}};n(zl,"LiveChatViewerEngagementMessage");zl.type="LiveChatViewerEngagementMessage";var $b=zl;var $l=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=g.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};n($l,"PollHeader");$l.type="PollHeader";var Kb=$l;var Kl=class extends s{constructor(e){super(),this.id=e.id,this.contents=l.parse(e.contents),this.target_id=e.targetId}};n(Kl,"LiveChatActionPanel");Kl.type="LiveChatActionPanel";var B_=Kl;var ql=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(ql,"MarkChatItemAsDeletedAction");ql.type="MarkChatItemAsDeletedAction";var qb=ql;var Xl=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(Xl,"MarkChatItemsByAuthorAsDeletedAction");Xl.type="MarkChatItemsByAuthorAsDeletedAction";var Xb=Xl;var Ql=class extends s{constructor(e){super(),this.target_action_id=e.targetActionId}};n(Ql,"RemoveBannerForLiveChatCommand");Ql.type="RemoveBannerForLiveChatCommand";var Qb=Ql;var Zl=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId}};n(Zl,"RemoveChatItemAction");Zl.type="RemoveChatItemAction";var Zb=Zl;var ec=class extends s{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(ec,"RemoveChatItemByAuthorAction");ec.type="RemoveChatItemByAuthorAction";var ew=ec;var tc=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=l.parseItem(e.replacementItem)}};n(tc,"ReplaceChatItemAction");tc.type="ReplaceChatItemAction";var tw=tc;var ic=class extends s{constructor(e){var i;super(),this.actions=l.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(ic,"ReplayChatItemAction");ic.type="ReplayChatItemAction";var iw=ic;var oc=class extends s{constructor(e){super(),this.panel_to_show=l.parseItem(e.panelToShow,B_)}};n(oc,"ShowLiveChatActionPanelAction");oc.type="ShowLiveChatActionPanelAction";var ow=oc;var nc=class extends s{constructor(e){super(),this.dialog=l.parseItem(e.dialog)}};n(nc,"ShowLiveChatDialogAction");nc.type="ShowLiveChatDialogAction";var nw=nc;var rc=class extends s{constructor(e){super(),this.tooltip=l.parseItem(e.tooltip)}};n(rc,"ShowLiveChatTooltipCommand");rc.type="ShowLiveChatTooltipCommand";var rw=rc;var sc=class extends s{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};n(sc,"UpdateDateTextAction");sc.type="UpdateDateTextAction";var L_=sc;var ac=class extends s{constructor(e){super(),this.description=new u(e.description)}};n(ac,"UpdateDescriptionAction");ac.type="UpdateDescriptionAction";var D_=ac;var uc=class extends s{constructor(e){super(),this.poll_to_update=l.parseItem(e.pollToUpdate)}};n(uc,"UpdateLiveChatPollAction");uc.type="UpdateLiveChatPollAction";var sw=uc;var lc=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(lc,"UpdateTitleAction");lc.type="UpdateTitleAction";var O_=lc;var cc=class extends s{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};n(cc,"UpdateToggleButtonTextAction");cc.type="UpdateToggleButtonTextAction";var F_=cc;var pc=class extends s{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};n(pc,"UpdateViewershipAction");pc.type="UpdateViewershipAction";var j_=pc;var dc=class extends Ge{constructor(e){super(e),this.custom_thumbnail=g.fromResponse(e.customThumbnail)}};n(dc,"LiveChatAuthorBadge");dc.type="LiveChatAuthorBadge";var aw=dc;var fc=class extends s{constructor(e){super(),this.confirm_button=l.parseItem(e.confirmButton,T),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(fc,"LiveChatDialog");fc.type="LiveChatDialog";var uw=fc;var mc=class extends s{constructor(e){super(),this.overflow_menu=l.parseItem(e.overflowMenu,F),this.collapse_button=l.parseItem(e.collapseButton,T),this.view_selector=l.parseItem(e.viewSelector,_t)}};n(mc,"LiveChatHeader");mc.type="LiveChatHeader";var Y_=mc;var hc=class extends s{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=l.parseItem(e.moreCommentsBelowButton,T)}};n(hc,"LiveChatItemList");hc.type="LiveChatItemList";var U_=hc;var _c=class extends s{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=g.fromResponse(e.authorPhoto),this.send_button=l.parseItem(e.sendButton,T),this.target_id=e.targetId}};n(_c,"LiveChatMessageInput");_c.type="LiveChatMessageInput";var lw=_c;var vc=class extends s{constructor(e){super(),this.name=new u(e.authorName),this.photo=g.fromResponse(e.authorPhoto),this.badges=l.parseArray(e.authorBadges)}};n(vc,"LiveChatParticipant");vc.type="LiveChatParticipant";var W_=vc;var xc=class extends s{constructor(e){super(),this.title=new u(e.title),this.participants=l.parseArray(e.participants,W_)}};n(xc,"LiveChatParticipantsList");xc.type="LiveChatParticipantsList";var J_=xc;var gc=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.metadata=l.parseItem(e.metadata,Ko)}};n(gc,"LockupMetadataView");gc.type="LockupMetadataView";var H_=gc;var yc=class extends s{constructor(e){super(),this.content_image=l.parseItem(e.contentImage,Lh),this.metadata=l.parseItem(e.metadata,H_),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.on_tap_endpoint=new v(e.rendererContext.commandContext.onTap)}};n(yc,"LockupView");yc.type="LockupView";var G_=yc;var bc=class extends T{constructor(e){super(e)}};n(bc,"MenuNavigationItem");bc.type="MenuNavigationItem";var z_=bc;var wc=class extends T{constructor(e){super(e)}};n(wc,"MenuServiceItem");wc.type="MenuServiceItem";var hi=wc;var Tc=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[z_,hi])}};n(Tc,"MenuPopup");Tc.type="MenuPopup";var cw=Tc;var kc=class extends s{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new v(e.navigationEndpoint||e.serviceEndpoint)}};n(kc,"MenuServiceItemDownload");kc.type="MenuServiceItemDownload";var pw=kc;var Ic=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.sections=l.parseArray(e.sections),this.style=e.style}};n(Ic,"MultiPageMenu");Ic.type="MultiPageMenu";var dw=Ic;var Sc=class extends s{constructor(e){super(),this.items=l.parse(e.items)}get contents(){return this.items}};n(Sc,"MultiPageMenuNotificationSection");Sc.type="MultiPageMenuNotificationSection";var fw=Sc;var Cc=class extends s{constructor(e){super()}};n(Cc,"MusicMenuItemDivider");Cc.type="MusicMenuItemDivider";var $_=Cc;var Ec=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new v(e.selectedCommand)),this.selected=!!this.endpoint}};n(Ec,"MusicMultiSelectMenuItem");Ec.type="MusicMultiSelectMenuItem";var tn=Ec;var Nc=class extends s{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=l.parseArray(e.options,[tn,$_])}};n(Nc,"MusicMultiSelectMenu");Nc.type="MusicMultiSelectMenu";var K_=Nc;var Pc=class extends s{constructor(e){super(),this.title=new u(e.title),this.buttons=l.parseArray(e.buttons,T)}};n(Pc,"SimpleMenuHeader");Pc.type="SimpleMenuHeader";var q_=Pc;var Rc=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=g.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new v(e.buttonCommand)}};n(Rc,"MerchandiseItem");Rc.type="MerchandiseItem";var mw=Rc;var Ac=class extends s{constructor(e){super(),this.title=e.title,this.menu=l.parseItem(e.actionButton),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(Ac,"MerchandiseShelf");Ac.type="MerchandiseShelf";var X_=Ac;var Vc=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};n(Vc,"MetadataRow");Vc.type="MetadataRow";var hw=Vc;var Mc=class extends s{constructor(e){super(),this.rows=l.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(Mc,"MetadataRowContainer");Mc.type="MetadataRowContainer";var Q_=Mc;var Bc=class extends s{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};n(Bc,"MetadataRowHeader");Bc.type="MetadataRowHeader";var _w=Bc;var Lc=class extends s{constructor(e){super(),this.section_list=l.parseItem(e)}};n(Lc,"MetadataScreen");Lc.type="MetadataScreen";var vw=Lc;var Dc=class extends s{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=g.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(Dc,"MicroformatData");Dc.type="MicroformatData";var _i=Dc;var Oc=class extends kt{constructor(e){super(e)}};n(Oc,"Mix");Oc.type="Mix";var xw=Oc;var Fc=class extends s{constructor(e){super(),this.title=new u(e.title),this.content=new u(e.content),this.button=l.parseItem(e.button,T)}};n(Fc,"ModalWithTitleAndButton");Fc.type="ModalWithTitleAndButton";var gw=Fc;var jc=class extends s{constructor(e){var i,o,r;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new L(e.longBylineText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:Se(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.endpoint=new v(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=l.parseItem(e.menu,F)}};n(jc,"Movie");jc.type="Movie";var yw=jc;var Yc=class extends s{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new g(o)).sort((o,r)=>r.width-o.width)}};n(Yc,"MovingThumbnail");Yc.type="MovingThumbnail";var bw=Yc;var Uc=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Uc,"MusicCardShelfHeaderBasic");Uc.type="MusicCardShelfHeaderBasic";var Z_=Uc;var Wc=class extends s{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(Wc,"MusicInlineBadge");Wc.type="MusicInlineBadge";var on=Wc;var Jc=class extends s{constructor(e){var i,o;super(),this.endpoint=new v(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(Jc,"MusicPlayButton");Jc.type="MusicPlayButton";var nn=Jc;var Hc=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,nn),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(Hc,"MusicItemThumbnailOverlay");Hc.type="MusicItemThumbnailOverlay";var It=Hc;var Gc=class extends s{constructor(e){super(),this.contents=g.fromResponse(e.thumbnail)}};n(Gc,"MusicThumbnail");Gc.type="MusicThumbnail";var Re=Gc;var zc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Re),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=l.parseArray(e.buttons,T),this.menu=l.parseItem(e.menu,F),this.on_tap=new v(e.onTap),this.header=l.parseItem(e.header,Z_),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=l.parseArray(e.subtitleBadges,on),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,It),Reflect.has(e,"contents")&&(this.contents=l.parseArray(e.contents))}};n(zc,"MusicCardShelf");zc.type="MusicCardShelf";var ww=zc;var $c=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Re)),Reflect.has(e,"moreContentButton")&&(this.more_content=l.parseItem(e.moreContentButton,T)),Reflect.has(e,"endIcons")&&(this.end_icons=l.parseArray(e.endIcons,b_))}};n($c,"MusicCarouselShelfBasicHeader");$c.type="MusicCarouselShelfBasicHeader";var ev=$c;var Kc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Re),this.overlay=l.parseItem(e.overlay,It),this.on_tap=new v(e.onTap),this.menu=l.parseItem(e.menu,F),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};n(Kc,"MusicMultiRowListItem");Kc.type="MusicMultiRowListItem";var tv=Kc;var qc=class extends s{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new v(e.clickCommand)}};n(qc,"MusicNavigationButton");qc.type="MusicNavigationButton";var iv=qc;var Xc=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(Xc,"MusicResponsiveListItemFixedColumn");Xc.type="musicResponsiveListItemFlexColumnRenderer";var ov=Xc;var Qc=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(Qc,"MusicResponsiveListItemFlexColumn");Qc.type="MusicResponsiveListItemFlexColumn";var nv=Qc;var it,rn,cg,Iw,Tw,kw,Sw,Cw,Ew,Nw,Pw,Rw,Zc=class extends s{constructor(e){var i,o,r,a,c,p;super(),it.add(this),rn.set(this,void 0),this.flex_columns=l.parseArray(e.flexColumns,nv),this.fixed_columns=l.parseArray(e.fixedColumns,ov),E(this,rn,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new v(e.navigationEndpoint));let d=(p=(c=(a=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseEndpointContextSupportedConfigs)===null||c===void 0?void 0:c.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(d||this.flex_columns.find(_=>{var x,y,w,k;return((k=(w=(y=(x=_.title.endpoint)===null||x===void 0?void 0:x.payload)===null||y===void 0?void 0:y.browseEndpointContextSupportedConfigs)===null||w===void 0?void 0:w.browseEndpointContextMusicConfig)===null||k===void 0?void 0:k.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(d="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),d){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",f(this,it,"m",Pw).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",f(this,it,"m",Rw).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",f(this,it,"m",Sw).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",f(this,it,"m",Cw).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",f(this,it,"m",Ew).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",f(this,it,"m",Nw).call(this);break;default:this.flex_columns[1]?f(this,it,"m",Iw).call(this):f(this,it,"m",cg).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Re)),Reflect.has(e,"badges")&&(this.badges=l.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu,F)),Reflect.has(e,"overlay")&&(this.overlay=l.parseItem(e.overlay,It))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n(Zc,"MusicResponsiveListItem");rn=new WeakMap,it=new WeakSet,cg=n(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),Iw=n(function(){var e,i,o,r,a,c,p;switch((p=(c=(a=(r=(o=(i=(e=this.flex_columns.at(0))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.watchEndpointMusicSupportedConfigs)===null||c===void 0?void 0:c.watchEndpointMusicConfig)===null||p===void 0?void 0:p.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",f(this,it,"m",kw).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",f(this,it,"m",Tw).call(this);break;default:f(this,it,"m",cg).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),Tw=n(function(){var e,i,o,r,a,c,p,d,h,_,x,y,w,k,S;this.id=f(this,rn,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let N=((a=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(j=>/^\d+$/.test(j.text.replace(/:/g,""))))===null||a===void 0?void 0:a.text)||((p=(c=this.fixed_columns.first())===null||c===void 0?void 0:c.title)===null||p===void 0?void 0:p.toString());N&&(this.duration={text:N,seconds:Se(N)});let V=((h=(d=this.flex_columns.at(1))===null||d===void 0?void 0:d.title.runs)===null||h===void 0?void 0:h.find(j=>We(j)&&j.endpoint&&j.endpoint.payload.browseId.startsWith("MPR")))||((x=(_=this.flex_columns.at(2))===null||_===void 0?void 0:_.title.runs)===null||x===void 0?void 0:x.find(j=>We(j)&&j.endpoint&&j.endpoint.payload.browseId.startsWith("MPR")));V&&We(V)&&(this.album={id:(w=(y=V.endpoint)===null||y===void 0?void 0:y.payload)===null||w===void 0?void 0:w.browseId,name:V.text,endpoint:V.endpoint});let M=(S=(k=this.flex_columns.at(1))===null||k===void 0?void 0:k.title.runs)===null||S===void 0?void 0:S.filter(j=>We(j)&&j.endpoint&&j.endpoint.payload.browseId.startsWith("UC"));M&&(this.artists=M.map(j=>{var ue,se;return{name:j.text,channel_id:We(j)?(se=(ue=j.endpoint)===null||ue===void 0?void 0:ue.payload)===null||se===void 0?void 0:se.browseId:void 0,endpoint:We(j)?j.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),kw=n(function(){var e,i,o,r,a,c,p,d,h,_;this.id=f(this,rn,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(w=>w.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let x=(a=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||a===void 0?void 0:a.filter(w=>We(w)&&w.endpoint&&w.endpoint.payload.browseId.startsWith("UC"));x&&(this.authors=x.map(w=>{var k,S;return{name:w.text,channel_id:We(w)?(S=(k=w.endpoint)===null||k===void 0?void 0:k.payload)===null||S===void 0?void 0:S.browseId:void 0,endpoint:We(w)?w.endpoint:void 0}}));let y=((p=(c=this.flex_columns[1].title.runs)===null||c===void 0?void 0:c.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((_=(h=(d=this.fixed_columns.first())===null||d===void 0?void 0:d.title.runs)===null||h===void 0?void 0:h.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||_===void 0?void 0:_.text);y&&(this.duration={text:y,seconds:Se(y)})},"_MusicResponsiveListItem_parseVideo"),Sw=n(function(){var e,i,o,r,a,c;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title,this.subscribers=((c=(a=(r=this.subtitle)===null||r===void 0?void 0:r.runs)===null||a===void 0?void 0:a.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||c===void 0?void 0:c.text)||""},"_MusicResponsiveListItem_parseArtist"),Cw=n(function(){var e,i,o,r;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((r=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(a=>/^\d+(,\d+)? songs?$/i.test(a.text)))===null||r===void 0?void 0:r.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),Ew=n(function(){var e,i;this.id=f(this,rn,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),Nw=n(function(){var e,i;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),Pw=n(function(){var e,i,o,r,a,c,p,d,h;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let _=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(x=>We(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));_&&We(_)&&(this.author={name:_.text,channel_id:(c=(a=_.endpoint)===null||a===void 0?void 0:a.payload)===null||c===void 0?void 0:c.browseId,endpoint:_.endpoint}),this.year=(h=(d=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||d===void 0?void 0:d.find(x=>/^[12][0-9]{3}$/.test(x.text)))===null||h===void 0?void 0:h.text},"_MusicResponsiveListItem_parseAlbum"),Rw=n(function(){var e,i,o,r,a,c,p,d;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let h=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(x=>x.text.match(/\d+ (song|songs)/));this.item_count=h?h.text:void 0;let _=(c=(a=this.flex_columns.at(1))===null||a===void 0?void 0:a.title.runs)===null||c===void 0?void 0:c.find(x=>We(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));_&&We(_)&&(this.author={name:_.text,channel_id:(d=(p=_.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId,endpoint:_.endpoint})},"_MusicResponsiveListItem_parsePlaylist");Zc.type="MusicResponsiveListItem";var vi=Zc;var ep=class extends s{constructor(e){var i,o,r,a,c,p,d,h,_,x,y,w,k,S,N,V,M,j,ue,se,de,J;switch(super(),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((a=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.videoId),this.subtitle=new u(e.subtitle),this.badges=l.parse(e.subtitleBadges),(h=(d=(p=(c=this.endpoint)===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||d===void 0?void 0:d.browseEndpointContextMusicConfig)===null||h===void 0?void 0:h.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((x=(_=this.endpoint)===null||_===void 0?void 0:_.metadata)===null||x===void 0?void 0:x.api_url)==="/next"?this.item_type="endpoint":!((y=this.subtitle.runs)===null||y===void 0)&&y[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((k=(w=this.subtitle.runs)===null||w===void 0?void 0:w.find(H=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(H.text)))===null||k===void 0?void 0:k.text)||"";else if(this.item_type=="playlist"){let H=(S=this.subtitle.runs)===null||S===void 0?void 0:S.find(A=>A.text.match(/\d+ songs|song/));this.item_count=H?H.text:null}else if(this.item_type=="album"){let H=(N=this.subtitle.runs)===null||N===void 0?void 0:N.filter(A=>{var q,ie;return(ie=(q=A.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId.startsWith("UC")});H&&(this.artists=H.map(A=>{var q,ie;return{name:A.text,channel_id:(ie=(q=A.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId,endpoint:A.endpoint}})),this.year=(V=this.subtitle.runs)===null||V===void 0?void 0:V.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((j=(M=this===null||this===void 0?void 0:this.subtitle.runs)===null||M===void 0?void 0:M.find(A=>A==null?void 0:A.text.match(/(.*?) views/)))===null||j===void 0?void 0:j.text)||"N/A";let H=(ue=this.subtitle.runs)===null||ue===void 0?void 0:ue.find(A=>{var q,ie,ke;return(ke=(ie=(q=A.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId)===null||ke===void 0?void 0:ke.startsWith("UC")});H&&(this.author={name:H==null?void 0:H.text,channel_id:(de=(se=H==null?void 0:H.endpoint)===null||se===void 0?void 0:se.payload)===null||de===void 0?void 0:de.browseId,endpoint:H==null?void 0:H.endpoint})}else if(this.item_type=="song"){let H=(J=this.subtitle.runs)===null||J===void 0?void 0:J.filter(A=>{var q,ie;return(ie=(q=A.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId.startsWith("UC")});H&&(this.artists=H.map(A=>{var q,ie;return{name:A==null?void 0:A.text,channel_id:(ie=(q=A==null?void 0:A.endpoint)===null||q===void 0?void 0:q.payload)===null||ie===void 0?void 0:ie.browseId,endpoint:A==null?void 0:A.endpoint}}))}this.thumbnail=g.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,It),this.menu=l.parseItem(e.menu,F)}};n(ep,"MusicTwoRowItem");ep.type="MusicTwoRowItem";var rv=ep;var tp=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,ev),this.contents=l.parseArray(e.contents,[rv,vi,tv,iv]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(tp,"MusicCarouselShelf");tp.type="MusicCarouselShelf";var Aw=tp;var ip=class extends s{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};n(ip,"MusicDescriptionShelf");ip.type="MusicDescriptionShelf";var sv=ip;var op=class extends s{constructor(e){var i,o,r,a,c,p,d,h,_;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(y=>/^[12][0-9]{3}$/.test(y.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((a=(r=this.second_subtitle.runs)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.text)||"",this.total_duration=((p=(c=this.second_subtitle.runs)===null||c===void 0?void 0:c[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=g.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=l.parseArray(e.subtitleBadges);let x=(d=this.subtitle.runs)===null||d===void 0?void 0:d.find(y=>{var w,k;return(k=(w=y==null?void 0:y.endpoint)===null||w===void 0?void 0:w.payload)===null||k===void 0?void 0:k.browseId.startsWith("UC")});x&&(this.author={name:x.text,channel_id:(_=(h=x.endpoint)===null||h===void 0?void 0:h.payload)===null||_===void 0?void 0:_.browseId,endpoint:x.endpoint}),this.menu=l.parseItem(e.menu)}};n(op,"MusicDetailHeader");op.type="MusicDetailHeader";var Vw=op;var np=class extends s{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n(np,"MusicDownloadStateBadge");np.type="MusicDownloadStateBadge";var Mw=np;var rp=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.edit_header=l.parseItem(e.editHeader),this.playlist_id=e.playlistId}};n(rp,"MusicEditablePlaylistDetailHeader");rp.type="MusicEditablePlaylistDetailHeader";var Bw=rp;var sp=class extends s{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?l.parseItem(e,qo):null}};n(sp,"MusicElementHeader");sp.type="MusicElementHeader";var Lw=sp;var ap=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};n(ap,"MusicHeader");ap.type="MusicHeader";var Dw=ap;var up=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=l.parseItem(e.thumbnail,Re)}};n(up,"MusicImmersiveHeader");up.type="MusicImmersiveHeader";var Ow=up;var lp=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new v(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(lp,"ActionButton");lp.type="ActionButton";var cp=class{constructor(e){this.image=g.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new lp(i))}};n(cp,"Panel");cp.type="Panel";var pp=class extends s{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new cp(i))}};n(pp,"MusicLargeCardItemCarousel");pp.type="MusicLargeCardItemCarousel";var Fw=pp;var dp=class extends s{constructor(e){super(),this.title=new u(e.title),this.edit_title=new u(e.editTitle),this.edit_description=new u(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new v(e.collaborationSettingsCommand),this.privacy_dropdown=l.parseItem(e.privacyDropdown,ei)}};n(dp,"MusicPlaylistEditHeader");dp.type="MusicPlaylistEditHeader";var jw=dp;var fp=class extends s{constructor(e){var i,o,r;super(),this.playlist_id=e.playlistId,this.contents=l.parseArray(e.contents,vi),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(fp,"MusicPlaylistShelf");fp.type="MusicPlaylistShelf";var Yw=fp;var mp=class extends s{constructor(e){var i,o,r,a,c;super(),this.title=new u(e.title),this.thumbnail=g.fromResponse(e.thumbnail),this.endpoint=new v(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:Se(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(h=>{var _,x,y;return(y=(x=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId)===null||y===void 0?void 0:y.startsWith("MPR")}),d=(o=new u(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(h=>{var _,x,y;return(y=(x=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId)===null||y===void 0?void 0:y.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(a=(r=p.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseId,name:p.text,year:(c=new u(e.longBylineText).runs)===null||c===void 0?void 0:c.slice(-1)[0].text,endpoint:p.endpoint}),d&&(this.artists=d.map(h=>{var _,x;return{name:h.text,channel_id:(x=(_=h.endpoint)===null||_===void 0?void 0:_.payload)===null||x===void 0?void 0:x.browseId,endpoint:h.endpoint}})),this.badges=l.parseArray(e.badges),this.menu=l.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};n(mp,"PlaylistPanelVideo");mp.type="PlaylistPanelVideo";var Yt=mp;var hp=class extends s{constructor(e){super(),this.primary=l.parseItem(e.primaryRenderer,Yt),Reflect.has(e,"counterpart")&&(this.counterpart=oe(e.counterpart.map(i=>l.parseItem(i.counterpartRenderer,Yt))||[]))}};n(hp,"PlaylistPanelVideoWrapper");hp.type="PlaylistPanelVideoWrapper";var av=hp;var _p=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=l.parseArray(e.contents,[av,Yt,$m]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(_p,"PlaylistPanel");_p.type="PlaylistPanel";var uv=_p;var vp=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,uv)}};n(vp,"MusicQueue");vp.type="MusicQueue";var lv=vp;var xp=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Re),this.buttons=l.parseArray(e.buttons,[r_,ge,nn,T,F]),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.strapline_text_one=new u(e.straplineTextOne),this.strapline_thumbnail=l.parseItem(e.straplineThumbnail,Re),this.second_subtitle=new u(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=l.parseArray(e.subtitleBadge,on)),Reflect.has(e,"description")&&(this.description=l.parseItem(e.description,sv))}};n(xp,"MusicResponsiveHeader");xp.type="MusicResponsiveHeader";var Uw=xp;var gp=class extends s{constructor(e){var i,o,r,a;super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents,vi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new v(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((a=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=l.parseItem(e.bottomButton,T)),Reflect.has(e,"subheaders")&&(this.subheaders=l.parseArray(e.subheaders))}};n(gp,"MusicShelf");gp.type="MusicShelf";var Ww=gp;var yp=class extends s{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=l.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};n(yp,"MusicSideAlignedItem");yp.type="MusicSideAlignedItem";var Jw=yp;var bp=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=l.parseItem(e.menu,K_)}};n(bp,"MusicSortFilterButton");bp.type="MusicSortFilterButton";var Hw=bp;var wp=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail)}};n(wp,"MusicTastebuilderShelfThumbnail");wp.type="MusicTastebuilderShelfThumbnail";var cv=wp;var Tp=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,cv),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=l.parseItem(e.actionButton,T),this.is_visible=e.isVisible}};n(Tp,"MusicTasteBuilderShelf");Tp.type="MusicTasteBuilderShelf";var Gw=Tp;var kp=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?g.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=l.parseItem(e.menu,F),this.foreground_thumbnail=e.foregroundThumbnail?g.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(kp,"MusicVisualHeader");kp.type="MusicVisualHeader";var zw=kp;var Ip=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.video_thumbnails=g.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new v(e.navigationEndpoint),this.record_click_endpoint=new v(e.recordClickEndpoint),this.menu=l.parseItem(e.contextualMenu),this.read=e.read}};n(Ip,"Notification");Ip.type="Notification";var pv=Ip;var Sp=class extends s{constructor(e){super(),this.title=l.parseItem(e.title,s_),this.image=l.parseItem(e.image,[Mo,Qh]),this.metadata=l.parseItem(e.metadata,Ko),this.actions=l.parseItem(e.actions,d_),this.description=l.parseItem(e.description,o_),this.attributation=l.parseItem(e.attributation,Gm),this.banner=l.parseItem(e.banner,w_)}};n(Sp,"PageHeaderView");Sp.type="PageHeaderView";var dv=Sp;var Cp=class extends s{constructor(e){super(),this.page_title=e.pageTitle,this.content=l.parseItem(e.content,dv)}};n(Cp,"PageHeader");Cp.type="PageHeader";var St=Cp;var Ep=class extends s{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(Ep,"PageIntroduction");Ep.type="PageIntroduction";var fv=Ep;var Np=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.endpoint=new v(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};n(Np,"PivotButton");Np.type="PivotButton";var mv=Np;var Pp=class extends s{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:g.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new v(e.featuredChannel.navigationEndpoint),subscribe_button:l.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(Pp,"PlayerAnnotationsExpanded");Pp.type="PlayerAnnotationsExpanded";var hv=Pp;var Rp=class extends s{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};n(Rp,"PlayerCaptionsTracklist");Rp.type="PlayerCaptionsTracklist";var _v=Rp;var Ap=class extends s{constructor(e){super(),this.endpoint=new v(e.endpoint),this.enable_listen_first=e.enableListenFirst}};n(Ap,"PlayerOverflow");Ap.type="PlayerOverflow";var vv=Ap;var Vp=class extends s{constructor(e){super(),this.overflow=l.parseItem(e.overflow,vv)}};n(Vp,"PlayerControlsOverlay");Vp.type="PlayerControlsOverlay";var $w=Vp;var Mp=class extends s{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=l.parseItem(e.proceedButton,T),this.thumbnails=g.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Mp,"PlayerErrorMessage");Mp.type="PlayerErrorMessage";var Kw=Mp;var Bp=class extends s{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(Bp,"PlayerLegacyDesktopYpcOffer");Bp.type="PlayerLegacyDesktopYpcOffer";var qw=Bp;var Lp=class extends s{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n(Lp,"YpcTrailer");Lp.type="YpcTrailer";var xv=Lp;var Dp=class extends s{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=l.parseItem(e.ypcTrailer,xv)}};n(Dp,"PlayerLegacyDesktopYpcTrailer");Dp.type="PlayerLegacyDesktopYpcTrailer";var Op=Dp;var Fp=class extends s{constructor(e){super();let[i,o,r,a,c]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(o,10),thumbnail_height:parseInt(r,10),columns:parseInt(a,10),rows:parseInt(c,10)}}};n(Fp,"PlayerLiveStoryboardSpec");Fp.type="PlayerLiveStoryboardSpec";var gv=Fp;var jp=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=g.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=!((o=e.liveBroadcastDetails)===null||o===void 0)&&o.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};n(jp,"PlayerMicroformat");jp.type="PlayerMicroformat";var ot=jp;var Yp=class extends s{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=g.fromResponse(e.background),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new L(e.byline),this.cancel_button=l.parseItem(e.cancelButton,T),this.next_button=l.parseItem(e.nextButton,T),this.close_button=l.parseItem(e.closeButton,T)}};n(Yp,"PlayerOverlayAutoplay");Yp.type="PlayerOverlayAutoplay";var yv=Yp;var Up=class extends s{constructor(e){super(),this.results=l.parseArray(e.results,[c_,l_]),this.title=new u(e.title).toString()}};n(Up,"WatchNextEndScreen");Up.type="WatchNextEndScreen";var bv=Up;var Wp=class extends s{constructor(e){super(),this.end_screen=l.parseItem(e.endScreen,bv),this.autoplay=l.parseItem(e.autoplay,yv),this.share_button=l.parseItem(e.shareButton,T),this.add_to_menu=l.parseItem(e.addToMenu,F),this.fullscreen_engagement=l.parseItem(e.fullscreenEngagement),this.actions=l.parseArray(e.actions),this.browser_media_session=l.parseItem(e.browserMediaSession),this.decorated_player_bar=l.parseItem(e.decoratedPlayerBarRenderer,i_)}};n(Wp,"PlayerOverlay");Wp.type="PlayerOverlay";var wv=Wp;var Jp=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new L(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=l.parseItem(e.saveButton),this.shuffle_play_button=l.parseItem(e.shufflePlayButton),this.menu=l.parseItem(e.moreActionsMenu),this.banner=l.parseItem(e.playlistHeaderBanner)}};n(Jp,"PlaylistHeader");Jp.type="PlaylistHeader";var Tv=Jp;var Hp=class extends s{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=g.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new v(e.action)}};n(Hp,"PlaylistInfoCardContent");Hp.type="PlaylistInfoCardContent";var Xw=Hp;var Gp=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(Gp,"PlaylistMetadata");Gp.type="PlaylistMetadata";var kv=Gp;var zp=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(zp,"PlaylistSidebar");zp.type="PlaylistSidebar";var Qw=zp;var $p=class extends s{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=l.parseItem(e.menu),this.endpoint=new v(e.navigationEndpoint),this.description=new u(e.description)}};n($p,"PlaylistSidebarPrimaryInfo");$p.type="PlaylistSidebarPrimaryInfo";var Iv=$p;var Kp=class extends s{constructor(e){super(),this.owner=l.parseItem(e.videoOwner),this.button=l.parseItem(e.button)}};n(Kp,"PlaylistSidebarSecondaryInfo");Kp.type="PlaylistSidebarSecondaryInfo";var Sv=Kp;var qp=class extends s{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new L(e.shortBylineText),this.thumbnails=g.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new v(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=l.parseItem(e.menu,F),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Ki))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Ki))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(qp,"PlaylistVideo");qp.type="PlaylistVideo";var sn=qp;var Xp=class extends s{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=l.parseArray(e.contents)}};n(Xp,"PlaylistVideoList");Xp.type="PlaylistVideoList";var Zw=Xp;var Qp=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new v(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new v(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?g.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(Qp,"Poll");Qp.type="Poll";var eT=Qp;var Zp=class extends oi{constructor(e){super(e)}};n(Zp,"Post");Zp.type="Post";var Cv=Zp;var ed=class extends s{constructor(e){super(),this.images=l.parseArray(e.images,qm)}};n(ed,"PostMultiImage");ed.type="PostMultiImage";var tT=ed;var td=class extends s{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};n(td,"ProductListHeader");td.type="ProductListHeader";var iT=td;var id=class extends s{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=g.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new v(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=l.parseItem(e.viewButton,T)}};n(id,"ProductListItem");id.type="ProductListItem";var oT=id;var od=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(od,"ProfileColumn");od.type="ProfileColumn";var nT=od;var nd=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};n(nd,"ProfileColumnStats");nd.type="ProfileColumnStats";var rT=nd;var rd=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};n(rd,"ProfileColumnStatsEntry");rd.type="ProfileColumnStatsEntry";var sT=rd;var sd=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnails=g.fromResponse(e.thumbnail)}};n(sd,"ProfileColumnUserInfo");sd.type="ProfileColumnUserInfo";var aT=sd;var ad=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};n(ad,"Quiz");ad.type="Quiz";var uT=ad;var ud=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new g(i)),this.button=l.parseItem(e.button,T),this.surface=e.surface}};n(ud,"RecognitionShelf");ud.type="RecognitionShelf";var lT=ud;var ld=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=g.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new v(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(ld,"ReelItem");ld.type="ReelItem";var an=ld;var cd=class extends s{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=g.fromResponse(e.channelThumbnail),this.author=new L(e.channelNavigationEndpoint,void 0)}};n(cd,"ReelPlayerHeader");cd.type="ReelPlayerHeader";var Ev=cd;var pd=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,E_),this.reel_player_header_supported_renderers=l.parseItem(e.reelPlayerHeaderSupportedRenderers,Ev),this.menu=l.parseItem(e.menu,F),this.next_item_button=l.parseItem(e.nextItemButton,T),this.prev_item_button=l.parseItem(e.prevItemButton,T),this.subscribe_button_renderer=l.parseItem(e.subscribeButtonRenderer,[T,Ce]),this.style=e.style,this.view_comments_button=l.parseItem(e.viewCommentsButton,T),this.share_button=l.parseItem(e.shareButton,T),this.pivot_button=l.parseItem(e.pivotButton,mv),this.info_panel=l.parseItem(e.infoPanel,k_)}};n(pd,"ReelPlayerOverlay");pd.type="ReelPlayerOverlay";var cT=pd;var dd=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};n(dd,"RelatedChipCloud");dd.type="RelatedChipCloud";var Nv=dd;var fd=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.contents=l.parseArray(e.contents)}};n(fd,"RichGrid");fd.type="RichGrid";var xi=fd;var md=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};n(md,"RichItem");md.type="RichItem";var pT=md;var hd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(hd,"RichListHeader");hd.type="RichListHeader";var dT=hd;var _d=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new v(e.endpoint)}};n(_d,"RichMetadata");_d.type="RichMetadata";var vd=_d;var xd=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(xd,"RichMetadataRow");xd.type="RichMetadataRow";var gd=xd;var yd=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};n(yd,"RichSection");yd.type="RichSection";var fT=yd;var bd=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint))}};n(bd,"RichShelf");bd.type="RichShelf";var Pv=bd;var wd=class extends s{constructor(e){super(),this.endpoint=new v(e.endpoint),this.search_button=l.parseItem(e.searchButton,T),this.clear_button=l.parseItem(e.clearButton,T),this.placeholder_text=new u(e.placeholderText)}};n(wd,"SearchBox");wd.type="SearchBox";var mT=wd;var Td=class extends s{constructor(e){super(),this.label=new u(e.label),this.endpoint=new v(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(Td,"SearchFilter");Td.type="SearchFilter";var Rv=Td;var kd=class extends s{constructor(e){super(),this.title=new u(e.title),this.filters=l.parseArray(e.filters,Rv)}};n(kd,"SearchFilterGroup");kd.type="SearchFilterGroup";var un=kd;var Id=class extends s{constructor(e){super(),this.title=new u(e.title),this.groups=l.parseArray(e.groups,un)}};n(Id,"SearchFilterOptionsDialog");Id.type="SearchFilterOptionsDialog";var hT=Id;var Sd=class extends s{constructor(e){super(),this.chip_bar=l.parseItem(e.chipBar,jo),this.search_filter_button=l.parseItem(e.searchFilterButton,T)}};n(Sd,"SearchHeader");Sd.type="SearchHeader";var Av=Sd;var Cd=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=l.parseArray(e.groups,un)),Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,ge))}};n(Cd,"SearchSubMenu");Cd.type="SearchSubMenu";var Vv=Cd;var Ed=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Ed,"SearchSuggestionsSection");Ed.type="SearchSuggestionsSection";var _T=Ed;var Nd=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};n(Nd,"SecondarySearchContainer");Nd.type="SecondarySearchContainer";var vT=Nd;var Pd=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,[ge,T]),this.dislike_button=l.parseItem(e.dislikeButton,[ge,T])}};n(Pd,"SegmentedLikeDislikeButton");Pd.type="SegmentedLikeDislikeButton";var oo=Pd;var Rd=class extends s{constructor(e){if(super(),this.like_button=l.parseItem(e.likeButtonViewModel,N_),this.dislike_button=l.parseItem(e.dislikeButtonViewModel,n_),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};n(Rd,"SegmentedLikeDislikeButtonView");Rd.type="SegmentedLikeDislikeButtonView";var no=Rd;var Ad=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new v(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new v(e.disableServiceEndpoint)),this.item_id=e.itemId}};n(Ad,"SettingBoolean");Ad.type="SettingBoolean";var xT=Ad;var Vd=class extends s{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(Vd,"SettingsCheckbox");Vd.type="SettingsCheckbox";var Mv=Vd;var Md=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new v(e.enableServiceEndpoint),this.disable_endpoint=new v(e.disableServiceEndpoint)}};n(Md,"SettingsSwitch");Md.type="SettingsSwitch";var ln=Md;var Bd=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=l.parseArray(e.options,[ln,ei,Xh,Mv,Nh]))}};n(Bd,"SettingsOptions");Bd.type="SettingsOptions";var cn=Bd;var Ld=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items,Go)}get contents(){return this.items}};n(Ld,"SettingsSidebar");Ld.type="SettingsSidebar";var Bv=Ld;var Dd=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=ee(e.actionMenu,F),this.original_post=ee(e.originalPost,oi),this.id=e.postId,this.endpoint=new v(e.navigationEndpoint),this.expand_button=ee(e.expandButton,T),this.author=new L(e.displayName,void 0)}};n(Dd,"SharedPost");Dd.type="SharedPost";var Lv=Dd;var Od=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new v(e.endpoint)),this.content=l.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=l.parseItem(e.playAllButton,T))}};n(Od,"Shelf");Od.type="Shelf";var pn=Od;var Fd=class extends s{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new v(e.correctedQueryEndpoint),this.original_query_endpoint=new v(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};n(Fd,"ShowingResultsFor");Fd.type="ShowingResultsFor";var gT=Fd;var jd=class extends s{constructor(e){super(),this.image=g.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new v(e.command)}};n(jd,"SimpleCardContent");jd.type="SimpleCardContent";var yT=jd;var Yd=class extends s{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};n(Yd,"SimpleCardTeaser");Yd.type="SimpleCardTeaser";var bT=Yd;var Ud=class extends s{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};n(Ud,"SimpleTextSection");Ud.type="SimpleTextSection";var wT=Ud;var Wd=class extends s{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new v(e.navigationEndpoint)}};n(Wd,"SingleActionEmergencySupport");Wd.type="SingleActionEmergencySupport";var TT=Wd;var Jd=class extends s{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new v(e.endpoint),this.content=l.parseItem(e.content,[be,lv,xi])}};n(Jd,"Tab");Jd.type="Tab";var Ae=Jd;var Hd=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ae)}};n(Hd,"SingleColumnBrowseResults");Hd.type="SingleColumnBrowseResults";var Dv=Hd;var Gd=class extends s{constructor(e){super(),this.contents=l.parse(e)}};n(Gd,"SingleColumnMusicWatchNextResults");Gd.type="SingleColumnMusicWatchNextResults";var kT=Gd;var zd=class extends s{constructor(e){super(),this.thumbnails=g.fromResponse(e.thumbnail),this.style=e.style}};n(zd,"SingleHeroImage");zd.type="SingleHeroImage";var IT=zd;var $d=class extends s{constructor(e){super(),this.thumbnail=g.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new v(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,Ce)}};n($d,"SlimOwner");$d.type="SlimOwner";var ST=$d;var Kd=class extends s{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=l.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};n(Kd,"SlimVideoMetadata");Kd.type="SlimVideoMetadata";var CT=Kd;var qd=class extends s{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new v(e.navigationEndpoint)}};n(qd,"SubFeedOption");qd.type="SubFeedOption";var Ov=qd;var Xd=class extends s{constructor(e){super(),this.title=new u(e.title),this.options=l.parseArray(e.options,Ov)}};n(Xd,"SubFeedSelector");Xd.type="SubFeedSelector";var ET=Xd;var Qd=class extends s{constructor(e){super(),this.contents=l.parse(e)}};n(Qd,"Tabbed");Qd.type="Tabbed";var NT=Qd;var Zd=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ae)}};n(Zd,"TabbedSearchResults");Zd.type="TabbedSearchResults";var PT=Zd;var ef=class extends s{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};n(ef,"TextHeader");ef.type="TextHeader";var RT=ef;var tf=class extends s{constructor(e){super(),this.landscape=g.fromResponse(e.landscape),this.portrait=g.fromResponse(e.portrait)}};n(tf,"ThumbnailLandscapePortrait");tf.type="ThumbnailLandscapePortrait";var AT=tf;var of=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};n(of,"ThumbnailOverlayEndorsement");of.type="ThumbnailOverlayEndorsement";var VT=of;var nf=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(nf,"ThumbnailOverlayHoverText");nf.type="ThumbnailOverlayHoverText";var MT=nf;var rf=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};n(rf,"ThumbnailOverlayInlineUnplayable");rf.type="ThumbnailOverlayInlineUnplayable";var BT=rf;var sf=class extends s{constructor(e){super(),this.text=new u(e.text)}};n(sf,"ThumbnailOverlayLoadingPreview");sf.type="ThumbnailOverlayLoadingPreview";var LT=sf;var af=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};n(af,"ThumbnailOverlayNowPlaying");af.type="ThumbnailOverlayNowPlaying";var DT=af;var uf=class extends s{constructor(e){super(),this.hack=e.hack}};n(uf,"ThumbnailOverlayPinking");uf.type="ThumbnailOverlayPinking";var OT=uf;var lf=class extends s{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};n(lf,"ThumbnailOverlayPlaybackStatus");lf.type="ThumbnailOverlayPlaybackStatus";var FT=lf;var cf=class extends s{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(cf,"ThumbnailOverlayResumePlayback");cf.type="ThumbnailOverlayResumePlayback";var jT=cf;var pf=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(pf,"ThumbnailOverlaySidePanel");pf.type="ThumbnailOverlaySidePanel";var YT=pf;var df=class extends s{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},e.toggledServiceEndpoint&&(this.toggled_endpoint=new v(e.toggledServiceEndpoint)),e.untoggledServiceEndpoint&&(this.untoggled_endpoint=new v(e.untoggledServiceEndpoint))}};n(df,"ThumbnailOverlayToggleButton");df.type="ThumbnailOverlayToggleButton";var UT=df;var ff=class extends s{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};n(ff,"TimedMarkerDecoration");ff.type="TimedMarkerDecoration";var WT=ff;var mf=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(mf,"TitleAndButtonListHeader");mf.type="TitleAndButtonListHeader";var JT=mf;var hf=class extends s{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new v(e.defaultServiceEndpoint),this.toggled_endpoint=new v(e.toggledServiceEndpoint)}};n(hf,"ToggleMenuServiceItem");hf.type="ToggleMenuServiceItem";var HT=hf;var _f=class extends s{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new v(i)),accept:new v(e.promoConfig.acceptCommand),dismiss:new v(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(_f,"Tooltip");_f.type="Tooltip";var GT=_f;var vf=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=g.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=l.parseItem(e.subscribeButton,Ce),this.endpoint=new v(e.navigationEndpoint)}};n(vf,"TopicChannelDetails");vf.type="TopicChannelDetails";var zT=vf;var xf=class extends s{constructor(e){super(),this.tabs=l.parse(e.tabs),this.secondary_contents=l.parse(e.secondaryContents)}};n(xf,"TwoColumnBrowseResults");xf.type="TwoColumnBrowseResults";var Ct=xf;var gf=class extends s{constructor(e){super(),this.primary_contents=l.parse(e.primaryContents),this.secondary_contents=l.parse(e.secondaryContents)}};n(gf,"TwoColumnSearchResults");gf.type="TwoColumnSearchResults";var Fv=gf;var jv,pg,yf=class extends s{constructor(e){var i,o,r,a,c;super(),jv.add(this),this.results=l.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=l.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=l.parseItem(e==null?void 0:e.conversationBar);let p=(r=e.playlist)===null||r===void 0?void 0:r.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((a=p.shortBylineText)===null||a===void 0)&&a.simpleText?new u(p.shortBylineText):new L(p.longBylineText),contents:l.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:l.parseItem(p.menu,F)});let d=(c=e.autoplay)===null||c===void 0?void 0:c.autoplay;d&&(this.autoplay={sets:d.sets.map(h=>f(this,jv,"m",pg).call(this,h))},d.modifiedSets&&(this.autoplay.modified_sets=d.modifiedSets.map(h=>f(this,jv,"m",pg).call(this,h))),d.countDownSecs&&(this.autoplay.count_down_secs=d.countDownSecs))}};n(yf,"TwoColumnWatchNextResults");jv=new WeakSet,pg=n(function(e){let i={autoplay_video:new v(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new v(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");yf.type="TwoColumnWatchNextResults";var Yv=yf;var bf=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.call_to_action=l.parseItem(e.callToAction),this.sections=l.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};n(bf,"UniversalWatchCard");bf.type="UniversalWatchCard";var Uv=bf;var wf=class extends s{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=l.parseItem(e.actionButton,T),this.dismiss_button=l.parseItem(e.dismissButton,T),this.is_visible=e.isVisible}};n(wf,"UpsellDialog");wf.type="UpsellDialog";var $T=wf;var Tf=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};n(Tf,"VerticalList");Tf.type="VerticalList";var KT=Tf;var kf=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new v(e.viewAllEndpoint)}get contents(){return this.items}};n(kf,"VerticalWatchCardList");kf.type="VerticalWatchCardList";var qT=kf;var If=class extends s{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=g.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new v(e.action)}};n(If,"VideoInfoCardContent");If.type="VideoInfoCardContent";var XT=If;var Sf=class extends s{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new L(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(Sf,"VideoOwner");Sf.type="VideoOwner";var dn=Sf;var Cf=class extends s{constructor(e){var i,o,r,a;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new u((a=(r=e.viewCount)===null||r===void 0?void 0:r.videoViewCountRenderer)===null||a===void 0?void 0:a.shortViewCount),this.badges=l.parseArray(e.badges,Ge),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=l.parseItem(e.videoActions,F)}};n(Cf,"VideoPrimaryInfo");Cf.type="VideoPrimaryInfo";var Wv=Cf;var Ef=class extends s{constructor(e){super(),this.owner=l.parseItem(e.owner,dn),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=l.parseItem(e.subscribeButton,[Ce,T]),this.metadata=l.parseItem(e.metadataRowContainer,Q_),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(Ef,"VideoSecondaryInfo");Ef.type="VideoSecondaryInfo";var Nf=Ef;var Pf=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:Se(e.lengthText.simpleText)},this.style=e.style}};n(Pf,"WatchCardCompactVideo");Pf.type="WatchCardCompactVideo";var Jv=Pf;var Rf=class extends s{constructor(e){var i;super(),this.endpoint=new v(e.navigationEndpoint),this.call_to_action_button=l.parseItem(e.callToActionButton),this.hero_image=l.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(Rf,"WatchCardHeroVideo");Rf.type="WatchCardHeroVideo";var QT=Rf;var Af=class extends s{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new v(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new L(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(Af,"WatchCardRichHeader");Af.type="WatchCardRichHeader";var ZT=Af;var Vf=class extends s{constructor(e){super(),this.lists=l.parseArray(e.lists)}};n(Vf,"WatchCardSectionSequence");Vf.type="WatchCardSectionSequence";var e1=Vf;var Mf=class extends Ct{constructor(e){super(e)}};n(Mf,"WatchNextTabbedResults");Mf.type="WatchNextTabbedResults";var t1=Mf;var Bf=class extends s{constructor(e){var i,o;super(),this.title=e.title,this.content=l.parseItem(e.content,be),this.endpoint=new v(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n(Bf,"AnchoredSection");Bf.type="AnchoredSection";var Hv=Bf;var Lf,Df=class extends s{constructor(e){super(),Lf.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=g.fromResponse(e.avatar),this.block_button=l.parseItem(e.blockButton,[ge]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return I(this,void 0,void 0,function*(){if(!f(this,Lf,"f"))throw new b("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new b("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new b("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(f(this,Lf,"f"),{parse:!1})})}setActions(e){E(this,Lf,e,"f")}};n(Df,"KidsBlocklistPickerItem");Lf=new WeakMap;Df.type="KidsBlocklistPickerItem";var Gv=Df;var Of=class extends s{constructor(e){super(),this.title=new u(e.title),this.child_rows=l.parse(e.childRows,!0,[Gv]),this.done_button=l.parseItem(e.doneButton,[T]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};n(Of,"KidsBlocklistPicker");Of.type="KidsBlocklistPicker";var i1=Of;var Ff=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new v(e.endpoint)}};n(Ff,"KidsCategoryTab");Ff.type="KidsCategoryTab";var zv=Ff;var jf=class extends s{constructor(e){super(),this.category_tabs=l.parseArray(e.categoryTabs,zv),this.privacy_button=l.parseItem(e.privacyButtonRenderer,T)}};n(jf,"KidsCategoriesHeader");jf.type="kidsCategoriesHeader";var o1=jf;var Yf=class extends s{constructor(e){super(),this.anchors=l.parseArray(e.anchors,Hv)}};n(Yf,"KidsHomeScreen");Yf.type="kidsHomeScreen";var n1=Yf;var xg={};ye(xg,{camelToSnake:()=>ro,createRuntimeClass:()=>m1,generateRuntimeClass:()=>Jf,generateTypescriptClass:()=>Kv,inferType:()=>$v,introspect:()=>mg,isArrayType:()=>d1,isIgnoredKey:()=>f1,isMiscType:()=>p1,isRenderer:()=>fg,isRendererList:()=>c1,mergeKeyInfo:()=>Uf,parse:()=>vg,toParser:()=>_g,toTypeDeclaration:()=>hg});var qI=new Set(["trackingParams","accessibility","accessibilityData"]),dg={};function ro(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(ro,"camelToSnake");function $v(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=fg(e))return dg[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=c1(e)){for(let[r,a]of Object.entries(i))dg[r]=a;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=p1(t,e))||(i=d1(e)))return i}let o=typeof e;return o==="object"?{type:"object",keys:Object.entries(e).map(([r,a])=>[r,$v(r,a)]),optional:!1}:{type:"primative",typeof:[o],optional:!1}}n($v,"inferType");function c1(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(o=>fg(o))?Object.fromEntries(t.map(o=>{let r=Reflect.ownKeys(o)[0].toString();return[Hf(r),o[r]]})):!1}n(c1,"isRendererList");function p1(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new v(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}n(p1,"isMiscType");function fg(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let o=i[0].toString();if(o.endsWith("Renderer")||o.endsWith("Model"))return Hf(o)}return!1}n(fg,"isRenderer");function d1(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["never"],optional:!1},optional:!1};let e=t.map(a=>typeof a);if(!e.every(a=>a===e[0]))return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!1},optional:!1};let o=e[0];if(o!=="object")return{type:"array",array_type:"primitive",items:{type:"primative",typeof:[o],optional:!1},optional:!1};let r=[];for(let a=0;a<t.length;a++){let c=Object.entries(t[a]).map(([p,d])=>[p,$v(p,d)]);if(a===0){r=c;continue}r=Uf(r,c).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:r,optional:!1},optional:!1}}n(d1,"isArrayType");function XI(t){if(typeof t!="object"||t===null)throw new b("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!f1(i)).filter(i=>typeof i=="string").map(i=>{let o=Reflect.get(t,i),r=$v(i,o);return[i,r]})}n(XI,"introspectKeysFirstPass");function QI(t){var e;let o=t.filter(([,p])=>{var d;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((d=p.endpoint)===null||d===void 0?void 0:d.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,d])=>p.type!=="misc"||d.type!=="misc"||p.misc_type!=="Text"||d.misc_type!=="Text"?0:d.text.length-p.text.length),r=new Set,a=o[0],c;if(a){r.add(a[0]);let d=t.map(([w])=>w).filter(w=>w.endsWith("Badges")||w==="badges"),_=(e=d.filter(w=>w.startsWith("owner")||w.startsWith("author"))[0])!==null&&e!==void 0?e:d[0],x=t.find(([w])=>w===_),y=x?x[1].type==="array"&&x[1].array_type==="renderer"&&Reflect.has(x[1].renderers,"MetadataBadge"):!1;y&&_&&r.add(_),c={type:"misc",misc_type:"Author",optional:!1,params:[a[0],y?_:void 0]}}return c&&t.push(["author",c]),t.filter(([p])=>!r.has(p))}n(QI,"introspectKeysSecondPass");function ZI(t){let e=XI(t);return QI(e)}n(ZI,"introspect2");function mg(t){let e=ZI(t),i=new Map;for(let[,r]of e)if(r.type==="renderer"||r.type==="array"&&r.array_type==="renderer")for(let a of r.renderers){let c=dg[a];c&&i.set(a,c)}let o=Array.from(i).filter(([r])=>!qv(r));return{key_info:e,unimplemented_dependencies:o}}n(mg,"introspect");function f1(t){return typeof t=="string"&&qI.has(t)}n(f1,"isIgnoredKey");function m1(t,e,i){var o,r;i({error_type:"class_not_found",classname:t,key_info:e});let a=(o=n(class extends s{static set key_info(c){E(this,o,new Map(c),"f",r)}static get key_info(){return[...f(this,o,"f",r).entries()]}constructor(c){super();let{key_info:p,unimplemented_dependencies:d}=mg(c),{resolved_key_info:h,changed_keys:_}=Uf(a.key_info,p);_.length>0&&(a.key_info=h,i({error_type:"class_changed",classname:t,key_info:a.key_info,changed_keys:_}));for(let[y,w]of d)Jf(y,w,i);for(let[y,w]of p){let k=ro(y);w.type==="misc"&&w.misc_type==="NavigationEndpoint"&&(k="endpoint"),Reflect.set(this,k,vg(y,w,c))}}},"_a"),b0(o,"node"),o.type=t,r={value:new Map},o);return a.key_info=e,Object.defineProperty(a,"name",{value:t,writable:!1}),a}n(m1,"createRuntimeClass");function Jf(t,e,i){let{key_info:o,unimplemented_dependencies:r}=mg(e),a=m1(t,o,i);gg(t,a);for(let[c,p]of r)Jf(c,p,i);return a}n(Jf,"generateRuntimeClass");function Kv(t,e){let i=[],o=["super();"];for(let[r,a]of e){let c=ro(r);a.type==="misc"&&a.misc_type==="NavigationEndpoint"&&(c="endpoint"),i.push(`${c}${a.optional?"?":""}: ${hg(a)};`),o.push(`this.${c} = ${_g(r,a)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${o.join(`
    `)}
  }
}
`}n(Kv,"generateTypescriptClass");function r1(t,e){return`{
${e.map(([i,o])=>`${" ".repeat((t+2)*2)}${ro(i)}${o.optional?"?":""}: ${hg(o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(r1,"toTypeDeclarationObject");function hg(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${r1(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return r1(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ")}}n(hg,"toTypeDeclaration");function s1(t,e,i,o){let r=[...i,o];return`{
${e.map(([a,c])=>`${" ".repeat((t+2)*2)}${ro(a)}: ${_g(a,c,r,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(s1,"toParserObject");function _g(t,e,i=["data"],o=1){let r="undefined";switch(e.type){case"renderer":r=`Parser.parseItem(${i.join(".")}.${t}, ${a1(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":r=`Parser.parse(${i.join(".")}.${t}, true, ${a1(e.renderers)})`;break;case"object":r=`${i.join(".")}.${t}.map((item: any) => (${s1(o,e.items.keys,[],"item")}))`;break;case"primitive":r=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":r=s1(o,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let a=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${a} : undefined`:a}default:r=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":r=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${r} : undefined`:r}n(_g,"toParser");function a1(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}n(a1,"toParserValidTypes");function Et(t,e){let i=t;for(let o of e)i=i[o];return i}n(Et,"accessDataFromKeyPath");function u1(t,e){let i=t;for(let o of e)if(Reflect.has(i,o))i=i[o];else return!1;return!0}n(u1,"hasDataFromKeyPath");function l1(t,e,i,o,r){let a={},c=[...i,t];for(let[p,d]of o)a[p]=r?vg(p,d,e,c):void 0;return a}n(l1,"parseObject");function vg(t,e,i,o=["data"]){let r=!e.optional||u1({data:i},[...o,t]);switch(e.type){case"renderer":return r?ee(Et({data:i},[...o,t]),e.renderers.map(a=>Wf(a))):void 0;case"array":{switch(e.array_type){case"renderer":return r?Je(Et({data:i},[...o,t]),!0,e.renderers.map(a=>Wf(a))):void 0;case"object":return r?Et({data:i},[...o,t]).map((a,c)=>l1(`${c}`,i,[...o,t],e.items.keys,r)):void 0;case"primitive":return r?Et({data:i},[...o,t]):void 0}throw new Error("Unreachable code reached! Switch missing case!")}case"object":return l1(t,i,o,e.keys,r);case"misc":switch(e.misc_type){case"NavigationEndpoint":return r?new v(Et({data:i},[...o,t])):void 0;case"Text":return r?new u(Et({data:i},[...o,t])):void 0;case"Thumbnail":return r?g.fromResponse(Et({data:i},[...o,t])):void 0;case"Author":return!e.optional||u1({data:i},[...o,e.params[0]])?new L(Et({data:i},[...o,e.params[0]]),e.params[1]?Et({data:i},[...o,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":return Et({data:i},[...o,t])}}n(vg,"parse");function Uf(t,e){let i=new Map,o=new Set(t.map(([y])=>y)),r=new Set(e.map(([y])=>y)),a=e.filter(([y])=>!o.has(y)),c=t.filter(([y])=>!r.has(y)),p=t.filter(([y])=>r.has(y)),d=new Map(e);for(let[y,w]of p){let k=d.get(y);if(!!k){if(w.type!==k.type){i.set(y,{type:"primative",typeof:["unknown"],optional:!0});continue}switch(w.type){case"object":{if(k.type!=="object")continue;let{resolved_key_info:S}=Uf(w.keys,k.keys),N={type:"object",keys:S,optional:w.optional||k.optional};JSON.stringify(N)!==JSON.stringify(w)&&i.set(y,N)}break;case"renderer":{if(k.type!=="renderer")continue;let S=Object.assign(Object.assign({},w.renderers),k.renderers),N=w.optional||k.optional,V={type:"renderer",renderers:S,optional:N};JSON.stringify(Object.assign(Object.assign({},V),{renderers:Object.keys(V.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(y,V)}break;case"array":{if(k.type!=="array")continue;switch(w.array_type){case"renderer":{if(k.array_type!=="renderer"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let S=Object.assign(Object.assign({},w.renderers),k.renderers),N=w.optional||k.optional,V={type:"array",array_type:"renderer",renderers:S,optional:N};JSON.stringify(Object.assign(Object.assign({},V),{renderers:Object.keys(V.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(y,V)}break;case"object":{if(k.array_type==="primitive"&&k.items.typeof.length==1&&k.items.typeof[0]==="never")continue;if(k.array_type!=="object"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:S}=Uf(w.items.keys,k.items.keys),N={type:"array",array_type:"object",items:{type:"object",keys:S,optional:w.items.optional||k.items.optional},optional:w.optional||k.optional};JSON.stringify(N)!==JSON.stringify(w)&&i.set(y,N)}break;case"primitive":{if(w.items.typeof.includes("never")&&k.array_type==="object"){i.set(y,k);continue}if(k.array_type!=="primitive"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let S=new Set([...k.items.typeof,...w.items.typeof]);S.size>1&&S.has("never")&&S.delete("never");let N={type:"array",array_type:"primitive",items:{type:"primative",typeof:Array.from(S),optional:w.items.optional||k.items.optional},optional:w.optional||k.optional};JSON.stringify(N)!==JSON.stringify(w)&&i.set(y,N)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}}break;case"misc":{if(k.type!=="misc")continue;switch(w.misc_type!==k.misc_type&&i.set(y,{type:"primative",typeof:["unknown"],optional:!0}),w.misc_type){case"Author":{if(k.misc_type!=="Author")break;let S=w.params[1]||k.params[1],N=w.optional||k.optional,V={type:"misc",misc_type:"Author",optional:N,params:[k.params[0],S]};JSON.stringify(V)!==JSON.stringify(w)&&i.set(y,V)}break}}break;case"primative":{if(k.type!=="primative")continue;let S={type:"primative",typeof:Array.from(new Set([...k.typeof,...w.typeof])),optional:w.optional||k.optional};JSON.stringify(S)!==JSON.stringify(w)&&i.set(y,S)}break}}}for(let[y,w]of a)i.set(y,Object.assign(Object.assign({},w),{optional:!0}));for(let[y,w]of c)i.set(y,Object.assign(Object.assign({},w),{optional:!0}));let h=t.filter(([y])=>!i.has(y));return{resolved_key_info:[...new Map([...h,...i]).entries()],changed_keys:[...i.entries()]}}n(Uf,"mergeKeyInfo");var fn=class extends s{constructor(e){var i,o,r;super(),this.contents=Me(e.contents),Array.isArray(e.continuations)&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(fn,"ItemSectionContinuation");fn.type="itemSectionContinuation";var gi=class extends s{constructor(e){super(),this.endpoint=new v(e.endpoint)}};n(gi,"NavigateAction");gi.type="navigateAction";var mn=class extends s{constructor(e){super(),this.miniplayer_command=new v(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};n(mn,"ShowMiniplayerCommand");mn.type="showMiniplayerCommand";var yi=class extends s{constructor(e){super(),this.target_id=e.targetId,this.contents=Je(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(yi,"ReloadContinuationItemsCommand");yi.type="reloadContinuationItemsCommand";var hn=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.contents=Je(e.contents,!0),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(hn,"SectionListContinuation");hn.type="sectionListContinuation";var _n=class extends s{constructor(e){var i;super(),this.contents=Je(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(_n,"MusicPlaylistShelfContinuation");_n.type="musicPlaylistShelfContinuation";var vn=class extends s{constructor(e){var i,o,r,a;super(),this.contents=Me(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((a=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)||null}};n(vn,"MusicShelfContinuation");vn.type="musicShelfContinuation";var xn=class extends s{constructor(e){var i;super(),this.items=Je(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n(xn,"GridContinuation");xn.type="gridContinuation";var gn=class extends s{constructor(e){var i,o,r,a,c,p;super(),this.contents=Me(e.contents),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(gn,"PlaylistPanelContinuation");gn.type="playlistPanelContinuation";var so=class extends s{constructor(e){var i,o,r;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(r=e.continuation)===null||r===void 0?void 0:r.continuation}};n(so,"Continuation");so.type="continuation";var bi=class extends s{constructor(e){var i,o,r,a,c,p,d,h;super(),this.actions=Je((i=e.actions)===null||i===void 0?void 0:i.map(y=>(delete y.clickTrackingParams,y)),!0)||oe([]),this.action_panel=ee(e.actionPanel),this.item_list=ee(e.itemList,U_),this.header=ee(e.header,Y_),this.participants_list=ee(e.participantsList,J_),this.popout_message=ee(e.popoutMessage,fi),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(y=>({emoji_id:y.emojiId,shortcuts:y.shortcuts,search_terms:y.searchTerms,image:g.fromResponse(y.image),is_custom_emoji:y.isCustomEmoji})))||[];let _,x;!((r=e.continuations)===null||r===void 0)&&r[0].timedContinuationData?(x="timed",_=(a=e.continuations)===null||a===void 0?void 0:a[0].timedContinuationData):!((c=e.continuations)===null||c===void 0)&&c[0].invalidationContinuationData?(x="invalidation",_=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((d=e.continuations)===null||d===void 0)&&d[0].liveChatReplayContinuationData&&(x="replay",_=(h=e.continuations)===null||h===void 0?void 0:h[0].liveChatReplayContinuationData),this.continuation=new so({continuation:_,type:x}),this.viewer_name=e.viewerName}};n(bi,"LiveChatContinuation");bi.type="liveChatContinuation";var Ut=class extends s{constructor(e){super(),this.request=e.request,this.token=e.token}};n(Ut,"ContinuationCommand");Ut.type="ContinuationCommand";var Xv,Qv=class{constructor(e,i){var o,r,a,c,p,d,h,_;if(Xv.set(this,void 0),i&&E(this,Xv,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=(o=e.stereoLayout)===null||o===void 0?void 0:o.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=(r=e.spatialAudioType)===null||r===void 0?void 0:r.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:(a=e.colorInfo.primaries)===null||a===void 0?void 0:a.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(c=e.colorInfo.transferCharacteristics)===null||c===void 0?void 0:c.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(p=e.colorInfo.matrixCoefficients)===null||p===void 0?void 0:p.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let x=new URLSearchParams(this.cipher||this.signature_cipher),w=(d=new URLSearchParams(x.get("url")||this.url).get("xtags"))===null||d===void 0?void 0:d.split(":");if(this.language=((h=w==null?void 0:w.find(k=>k.startsWith("lang=")))===null||h===void 0?void 0:h.split("=")[1])||null,this.has_audio){this.is_drc=!!e.isDrc||!!(w!=null&&w.includes("drc=1"));let k=(_=w==null?void 0:w.find(S=>S.startsWith("acont=")))===null||_===void 0?void 0:_.split("=")[1];this.is_dubbed=k==="dubbed",this.is_descriptive=k==="descriptive",this.is_secondary=k==="secondary",this.is_original=k==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(e){if(!e)throw new b("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,f(this,Xv,"f"))}};n(Qv,"Format");Xv=new WeakMap;var Zv=Qv;var wi=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=g.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};n(wi,"VideoDetails");var ao="Parser",eS=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),Tg=new Map(Object.entries(to)),h1=new Map,uo=null,Ti=n(t=>{var{classname:e}=t,i=y0(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&Y.warn(ao,new b(`Something went wrong at ${e}!
This is a bug, please report it at ${W.shim.info.bugs_url}`,{stack:i.error.stack,classdata:JSON.stringify(i.classdata,null,2)}));break;case"typecheck":Y.warn(ao,new st(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":Y.warn(ao,new b(`Mutation data required for processing ${e}, but none found.
This is a bug, please report it at ${W.shim.info.bugs_url}`));break;case"mutation_data_invalid":Y.warn(ao,new b(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${W.shim.info.bugs_url}`));break;case"class_not_found":Y.warn(ao,new b(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${W.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${W.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${Kv(e,i.key_info)}`));break;case"class_changed":Y.warn(ao,`${e} changed!
The following keys where altered: ${i.changed_keys.map(([o])=>ro(o)).join(", ")}
The class has changed to:
${Kv(e,i.key_info)}`);break;default:Y.warn(ao,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function tS(t){Ti=t}n(tS,"setParserErrorHandler");function Nt(){uo=null}n(Nt,"_clearMemo");function Pt(){uo=new Qt}n(Pt,"_createMemo");function iS(t,e){if(!uo)return;let i=uo.get(t);if(!i)return uo.set(t,[e]);i.push(e)}n(iS,"_addToMemo");function Rt(){if(!uo)throw new Error("Parser#getMemo() called before Parser#createMemo()");return uo}n(Rt,"_getMemo");function _1(t){return eS.has(t)}n(_1,"shouldIgnore");function Hf(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}n(Hf,"sanitizeClassName");function Wf(t){let e=Tg.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}n(Wf,"getParserByName");function qv(t){return Tg.has(t)}n(qv,"hasParser");function gg(t,e){Tg.set(t,e),h1.set(t,e)}n(gg,"addRuntimeParser");function oS(){return Object.fromEntries(h1)}n(oS,"getDynamicParsers");function yg(t){var e,i,o,r,a,c,p,d,h,_,x,y,w,k;let S={};Pt();let N=Je(t.contents),V=Rt();N&&(S.contents=N,S.contents_memo=V),Nt(),Pt();let M=t.onResponseReceivedActions?ex(t.onResponseReceivedActions):null,j=Rt();M&&(S.on_response_received_actions=M,S.on_response_received_actions_memo=j),Nt(),Pt();let ue=t.onResponseReceivedEndpoints?ex(t.onResponseReceivedEndpoints):null,se=Rt();ue&&(S.on_response_received_endpoints=ue,S.on_response_received_endpoints_memo=se),Nt(),Pt();let de=t.onResponseReceivedCommands?ex(t.onResponseReceivedCommands):null,J=Rt();de&&(S.on_response_received_commands=de,S.on_response_received_commands_memo=J),Nt(),Pt();let le=t.continuationContents?bg(t.continuationContents):null,H=Rt();le&&(S.continuation_contents=le,S.continuation_contents_memo=H),Nt(),Pt();let A=t.actions?x1(t.actions):null,q=Rt();A&&(S.actions=A,S.actions_memo=q),Nt(),Pt();let ie=t.liveChatItemContextMenuSupportedRenderers?ee(t.liveChatItemContextMenuSupportedRenderers):null,ke=Rt();ie&&(S.live_chat_item_context_menu_supported_renderers=ie,S.live_chat_item_context_menu_supported_renderers_memo=ke),Nt(),Pt();let Ze=t.header?Je(t.header):null,nt=Rt();Ze&&(S.header=Ze,S.header_memo=nt),Nt(),Pt();let K=t.sidebar?ee(t.sidebar):null,Le=Rt();K&&(S.sidebar=K,S.sidebar_memo=Le),Nt(),Pt();let Ve=Je(t.items);Ve&&(S.items=Ve,S.items_memo=Rt()),Nt(),g1(V,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations),se&&y1(se,(r=(o=t.frameworkUpdates)===null||o===void 0?void 0:o.entityBatchUpdate)===null||r===void 0?void 0:r.mutations);let _e=t.continuation?v1(t.continuation):null;_e&&(S.continuation=_e);let fe=t.continuationEndpoint?bg(t.continuationEndpoint):null;fe&&(S.continuation_endpoint=fe);let De=Je(t.metadata);De&&(S.metadata=De);let ve=ee(t.microformat);ve&&(S.microformat=ve);let Oe=ee(t.overlay);Oe&&(S.overlay=Oe);let et=Me(t.alerts,[No,Wm]);et.length&&(S.alerts=et);let he=t.refinements;he&&(S.refinements=he);let n0=t.estimatedResults?parseInt(t.estimatedResults):null;n0&&(S.estimated_results=n0);let r0=Je(t.playerOverlays);r0&&(S.player_overlays=r0);let s0=ee(t.background,Re);s0&&(S.background=s0);let a0=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;a0&&(S.playback_tracking=a0);let u0=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:ee(t.playabilityStatus.audioOnlyPlayability,zm),error_screen:ee(t.playabilityStatus.errorScreen)}:null;if(u0&&(S.playability_status=u0),t.streamingData){let rt=new Map,Lk={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:wg(t.streamingData.formats,rt),adaptive_formats:wg(t.streamingData.adaptiveFormats,rt),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};S.streaming_data=Lk}if(t.playerConfig){let rt={audio_config:{loudness_db:(a=t.playerConfig.audioConfig)===null||a===void 0?void 0:a.loudnessDb,perceptual_loudness_db:(c=t.playerConfig.audioConfig)===null||c===void 0?void 0:c.perceptualLoudnessDb,enable_per_format_loudness:(p=t.playerConfig.audioConfig)===null||p===void 0?void 0:p.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((d=t.playerConfig.streamSelectionConfig)===null||d===void 0?void 0:d.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((_=(h=t.playerConfig.mediaCommonConfig)===null||h===void 0?void 0:h.dynamicReadaheadConfig)===null||_===void 0?void 0:_.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((y=(x=t.playerConfig.mediaCommonConfig)===null||x===void 0?void 0:x.dynamicReadaheadConfig)===null||y===void 0?void 0:y.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((k=(w=t.playerConfig.mediaCommonConfig)===null||w===void 0?void 0:w.dynamicReadaheadConfig)===null||k===void 0?void 0:k.readAheadGrowthRateMs)||0}}};S.player_config=rt}let l0=t.currentVideoEndpoint?new v(t.currentVideoEndpoint):null;l0&&(S.current_video_endpoint=l0);let c0=t.endpoint?new v(t.endpoint):null;c0&&(S.endpoint=c0);let p0=ee(t.captions,_v);p0&&(S.captions=p0);let d0=t.videoDetails?new wi(t.videoDetails):null;d0&&(S.video_details=d0);let f0=Me(t.annotations,hv);f0.length&&(S.annotations=f0);let m0=ee(t.storyboards,[Ui,gv]);m0&&(S.storyboards=m0);let h0=ee(t.endscreen,u_);h0&&(S.endscreen=h0);let _0=ee(t.cards,Ih);_0&&(S.cards=_0);let v0=Me(t.engagementPanels,si);if(v0.length&&(S.engagement_panels=v0),t.playerResponse){let rt=yg(t.playerResponse);S.player_response=rt}if(t.watchNextResponse){let rt=yg(t.watchNextResponse);S.watch_next_response=rt}if(t.cpnInfo){let rt={cpn:t.cpnInfo.cpn,cpn_source:t.cpnInfo.cpnSource};S.cpn_info=rt}return t.entries&&(S.entries=t.entries.map(rt=>new v(rt))),S}n(yg,"parseResponse");function ee(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let o=Hf(i[0]);if(!_1(o))try{let a=qv(o)?Wf(o):Jf(o,t[i[0]],Ti);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===a.type))return Ti({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(a.type!==e.type)return Ti({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.type}),null}let c=new a(t[i[0]]);return iS(o,c),c}catch(r){return Ti({classname:o,classdata:t[i[0]],error:r,error_type:"parse"}),null}return null}n(ee,"parseItem");function Me(t,e){if(Array.isArray(t)){let i=[];for(let o of t){let r=ee(o,e);r&&i.push(r)}return oe(i)}else if(!t)return oe([]);throw new st("Expected array but got a single item")}n(Me,"parseArray");function Je(t,e,i){if(!t)return null;if(Array.isArray(t)){let o=[];for(let a of t){let c=ee(a,i);c&&o.push(c)}let r=oe(o);return e?r:new Tt(r)}else if(e)throw new st("Expected array but got a single item");return new Tt(ee(t,i))}n(Je,"parse");function v1(t){return t.timedContinuationData?new so({continuation:t.timedContinuationData,type:"timed"}):null}n(v1,"parseC");function bg(t){return t.itemSectionContinuation?new fn(t.itemSectionContinuation):t.sectionListContinuation?new hn(t.sectionListContinuation):t.liveChatContinuation?new bi(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new _n(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new vn(t.musicShelfContinuation):t.gridContinuation?new xn(t.gridContinuation):t.playlistPanelContinuation?new gn(t.playlistPanelContinuation):t.continuationCommand?new Ut(t.continuationCommand):null}n(bg,"parseLC");function ex(t){return oe(t.map(e=>{if(e.navigateAction)return new gi(e.navigateAction);if(e.showMiniplayerCommand)return new mn(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new yi(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Gi(e.appendContinuationItemsAction)}).filter(e=>e))}n(ex,"parseRR");function x1(t){return Array.isArray(t)?Je(t.map(e=>(delete e.clickTrackingParams,e))):new Tt(ee(t))}n(x1,"parseActions");function wg(t,e){return(t==null?void 0:t.map(i=>new Zv(i,e)))||[]}n(wg,"parseFormats");function g1(t,e){let i=t.getType(tn);if(i.length>0&&!e)Ti({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let o=[];for(let r of i){let a=e.find(p=>{var d,h;return((h=(d=p.payload)===null||d===void 0?void 0:d.musicFormBooleanChoice)===null||h===void 0?void 0:h.id)===r.form_item_entity_key}),c=a==null?void 0:a.payload.musicFormBooleanChoice;(c==null?void 0:c.selected)!==void 0&&(c==null?void 0:c.opaqueToken)?r.selected=c.selected:o.push(`'${r.title}'`)}o.length>0&&Ti({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:o.length,titles:o})}}n(g1,"applyMutations");function y1(t,e){var i,o,r,a,c,p;let d=t.getType(di);if(d.length>0){e||Ti({error_type:"mutation_data_missing",classname:"CommentView"});for(let h of d){let _=(o=(i=e.find(w=>{var k,S;return((S=(k=w.payload)===null||k===void 0?void 0:k.commentEntityPayload)===null||S===void 0?void 0:S.key)===h.keys.comment}))===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.commentEntityPayload,x=(a=(r=e.find(w=>{var k,S;return((S=(k=w.payload)===null||k===void 0?void 0:k.engagementToolbarStateEntityPayload)===null||S===void 0?void 0:S.key)===h.keys.toolbar_state}))===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.engagementToolbarStateEntityPayload,y=(p=(c=e.find(w=>w.entityKey===h.keys.toolbar_surface))===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.engagementToolbarSurfaceEntityPayload;h.applyMutations(_,x,y)}}}n(y1,"applyCommentsMutations");var Ng={};ye(Ng,{AccountInfo:()=>b1,Analytics:()=>w1,Channel:()=>Ne,ChannelListContinuation:()=>mo,Comments:()=>k1,FilteredChannelList:()=>Ci,Guide:()=>I1,HashtagFeed:()=>Ei,History:()=>Vt,HomeFeed:()=>Wt,ItemMenu:()=>cx,Library:()=>C1,LiveChat:()=>yx,NotificationsMenu:()=>N1,Playlist:()=>dx,Search:()=>Gt,Settings:()=>P1,SmoothedQueue:()=>_x,TimeWatched:()=>R1,TranscriptInfo:()=>rx,VideoInfo:()=>nm});var yn,tx=class{constructor(e){if(yn.set(this,void 0),E(this,yn,l.parseResponse(e.data),"f"),!f(this,yn,"f").contents)throw new b("Page contents not found");let i=f(this,yn,"f").contents.array().as(Lm).first();if(!i)throw new b("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return f(this,yn,"f")}};n(tx,"AccountInfo");yn=new WeakMap;var b1=tx;var Gf,ix=class{constructor(e){var i;Gf.set(this,void 0),E(this,Gf,l.parseResponse(e.data),"f"),this.sections=(i=f(this,Gf,"f").contents_memo)===null||i===void 0?void 0:i.getType(qo).map(o=>o.model).flatMap(o=>o||[])}get page(){return f(this,Gf,"f")}};n(ix,"Analytics");Gf=new WeakMap;var w1=ix;var zf,Be,lo,$f,Ke,T1,kg,ki=class{constructor(e,i,o=!1){zf.add(this),Be.set(this,void 0),lo.set(this,void 0),$f.set(this,void 0),Ke.set(this,void 0),f(this,zf,"m",T1).call(this,i)||o?E(this,Be,i,"f"):E(this,Be,l.parseResponse(i.data),"f");let r=Ig(f(this,Be,"f").contents_memo,f(this,Be,"f").continuation_contents_memo,f(this,Be,"f").on_response_received_commands_memo,f(this,Be,"f").on_response_received_endpoints_memo,f(this,Be,"f").on_response_received_actions_memo,f(this,Be,"f").sidebar_memo,f(this,Be,"f").header_memo);if(!r)throw new b("No memo found in feed");E(this,Ke,r,"f"),E(this,$f,e,"f")}static getVideosFromMemo(e){return e.getType(Vo,v_,an,Lo,sn,Yt,Jv)}static getPlaylistsFromMemo(e){let i=e.getType(kt,m_),o=e.getType(G_).filter(r=>["PLAYLIST","ALBUM","PODCAST"].includes(r.content_type));return o.length>0&&i.push(...o),i}get videos(){return ki.getVideosFromMemo(f(this,Ke,"f"))}get posts(){return f(this,Ke,"f").getType(oi,Cv,Lv)}get channels(){return f(this,Ke,"f").getType(Ch,f_)}get playlists(){return ki.getPlaylistsFromMemo(f(this,Ke,"f"))}get memo(){return f(this,Ke,"f")}get page_contents(){var e;let i=(e=f(this,Ke,"f").getType(Ae))===null||e===void 0?void 0:e.first().content,o=f(this,Ke,"f").getType(yi).first(),r=f(this,Ke,"f").getType(Gi).first();return i||o||r}get shelves(){return f(this,Ke,"f").getType(pn,Pv,Oo)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=f(this,Be,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=f(this,Be,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(Ct,Fv))return o.secondary_contents}get actions(){return f(this,$f,"f")}get page(){return f(this,Be,"f")}get has_continuation(){return f(this,zf,"m",kg).call(this).length>0}getContinuationData(){return I(this,void 0,void 0,function*(){if(f(this,lo,"f")){if(f(this,lo,"f").length===0)throw new b("There are no continuations.");return yield f(this,lo,"f")[0].endpoint.call(f(this,$f,"f"),{parse:!0})}if(E(this,lo,f(this,zf,"m",kg).call(this),"f"),f(this,lo,"f"))return this.getContinuationData()})}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new ki(this.actions,e,!0)})}};n(ki,"Feed");Be=new WeakMap,lo=new WeakMap,$f=new WeakMap,Ke=new WeakMap,zf=new WeakSet,T1=n(function(e){return!("data"in e)},"_Feed_isParsed"),kg=n(function(){if(f(this,Be,"f").header_memo){let e=f(this,Be,"f").header_memo.getType(pe);return f(this,Ke,"f").getType(pe).filter(i=>!e.includes(i))}return f(this,Ke,"f").getType(pe)},"_Feed_getBodyContinuations");var Ee=ki;var bn,ox=class extends Ee{constructor(e,i,o=!1){super(e,i,o),bn.set(this,void 0)}get filter_chips(){var e,i;if(f(this,bn,"f"))return f(this,bn,"f")||[];if(((e=this.memo.getType(jt))===null||e===void 0?void 0:e.length)>1)throw new b("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(jt))===null||i===void 0?void 0:i.length)===0)throw new b("There are no feed filter chipbars");return E(this,bn,this.memo.getType(Ye),"f"),f(this,bn,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){return I(this,void 0,void 0,function*(){var i;let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new b("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(a=>a.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new b("Invalid filter");if(!o)throw new b("Filter not found");if(o.is_selected)return this;let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new b("Failed to get filtered feed");return new Ee(this.actions,r,!0)})}};n(ox,"FilterableFeed");bn=new WeakMap;var Ii=ox;var Sg={};ye(Sg,{Feed:()=>Ee,FilterableFeed:()=>Ii,MediaInfo:()=>Tn,TabbedFeed:()=>qf});var Si,xt,wn,Kf,nx=class{constructor(e,i,o){var r,a,c,p,d,h,_,x,y,w,k,S,N,V,M,j,ue,se,de,J,le,H;Si.set(this,void 0),xt.set(this,void 0),wn.set(this,void 0),Kf.set(this,void 0),E(this,xt,i,"f");let A=l.parseResponse(e[0].data.playerResponse?e[0].data.playerResponse:e[0].data),q=!((r=e[1])===null||r===void 0)&&r.data?l.parseResponse(e[1].data):void 0;if(E(this,Si,[A,q],"f"),E(this,wn,o,"f"),((a=A.playability_status)===null||a===void 0?void 0:a.status)==="ERROR")throw new b("This video is unavailable",A.playability_status);if(A.microformat&&!(!((c=A.microformat)===null||c===void 0)&&c.is(ot,_i)))throw new b("Unsupported microformat",A.microformat);this.basic_info=Object.assign(Object.assign(Object.assign({},A.video_details),{embed:!((p=A.microformat)===null||p===void 0)&&p.is(ot)?(d=A.microformat)===null||d===void 0?void 0:d.embed:null,channel:!((h=A.microformat)===null||h===void 0)&&h.is(ot)?(_=A.microformat)===null||_===void 0?void 0:_.channel:null,is_unlisted:(x=A.microformat)===null||x===void 0?void 0:x.is_unlisted,is_family_safe:(y=A.microformat)===null||y===void 0?void 0:y.is_family_safe,category:!((w=A.microformat)===null||w===void 0)&&w.is(ot)?(k=A.microformat)===null||k===void 0?void 0:k.category:null,has_ypc_metadata:!((S=A.microformat)===null||S===void 0)&&S.is(ot)?(N=A.microformat)===null||N===void 0?void 0:N.has_ypc_metadata:null,start_timestamp:!((V=A.microformat)===null||V===void 0)&&V.is(ot)?A.microformat.start_timestamp:null,end_timestamp:!((M=A.microformat)===null||M===void 0)&&M.is(ot)?A.microformat.end_timestamp:null,view_count:((j=A.microformat)===null||j===void 0?void 0:j.is(ot))&&isNaN((ue=A.video_details)===null||ue===void 0?void 0:ue.view_count)?A.microformat.view_count:(se=A.video_details)===null||se===void 0?void 0:se.view_count,url_canonical:!((de=A.microformat)===null||de===void 0)&&de.is(_i)?(J=A.microformat)===null||J===void 0?void 0:J.url_canonical:null,tags:!((le=A.microformat)===null||le===void 0)&&le.is(_i)?(H=A.microformat)===null||H===void 0?void 0:H.tags:null}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=A.annotations,this.storyboards=A.storyboards,this.endscreen=A.endscreen,this.captions=A.captions,this.cards=A.cards,this.streaming_data=A.streaming_data,this.playability_status=A.playability_status,this.player_config=A.player_config,E(this,Kf,A.playback_tracking,"f")}toDash(e,i){return I(this,arguments,void 0,function*(o,r,a={include_thumbnails:!1}){var c,p;let d=f(this,Si,"f")[0];if(d.video_details&&d.video_details.is_live)throw new b("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let h,_;return a.include_thumbnails&&d.storyboards&&(h=d.storyboards),typeof a.captions_format=="string"&&((c=d.captions)===null||c===void 0?void 0:c.caption_tracks)&&(_=d.captions.caption_tracks),Wi.toDash(this.streaming_data,(p=this.page[0].video_details)===null||p===void 0?void 0:p.is_post_live_dvr,o,r,f(this,wn,"f"),f(this,xt,"f").session.player,f(this,xt,"f"),h,_,a)})}getStreamingInfo(e,i){var o;return Tm(this.streaming_data,(o=this.page[0].video_details)===null||o===void 0?void 0:o.is_post_live_dvr,e,i,this.cpn,f(this,xt,"f").session.player,f(this,xt,"f"),f(this,Si,"f")[0].storyboards?f(this,Si,"f")[0].storyboards:void 0)}chooseFormat(e){return Wi.chooseFormat(e,this.streaming_data)}download(){return I(this,arguments,void 0,function*(e={}){let i=f(this,Si,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new b("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Wi.download(e,f(this,xt,"f"),this.playability_status,this.streaming_data,f(this,xt,"f").session.player,this.cpn)})}getTranscript(){return I(this,void 0,void 0,function*(){var e;let i=this.page[1];if(!i)throw new b("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new b("Engagement panels not found. Video likely has no transcript.");let o=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!o)throw new b("Transcript panel not found. Video likely has no transcript.");let r=(e=o.content)===null||e===void 0?void 0:e.as(pe);if(!r)throw new b("Transcript continuation not found.");let a=yield r.endpoint.call(this.actions);return new rx(this.actions,a)})}addToWatchHistory(){return I(this,arguments,void 0,function*(e=xe.CLIENTS.WEB.NAME,i=xe.CLIENTS.WEB.VERSION,o="https://www."){if(!f(this,Kf,"f"))throw new b("Playback tracking not available");let r={cpn:f(this,wn,"f"),fmt:251,rtn:0,rt:0},a=f(this,Kf,"f").videostats_playback_url.replace("https://s.",o);return yield f(this,xt,"f").stats(a,{client_name:e,client_version:i},r)})}get actions(){return f(this,xt,"f")}get cpn(){return f(this,wn,"f")}get page(){return f(this,Si,"f")}};n(nx,"MediaInfo");Si=new WeakMap,xt=new WeakMap,wn=new WeakMap,Kf=new WeakMap;var Tn=nx;var co,po,fo=class extends Ee{constructor(e,i,o=!1){var r;super(e,i,o),co.set(this,void 0),po.set(this,void 0),E(this,po,e,"f"),E(this,co,(r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(Ae),"f")}get tabs(){var e,i;return(i=(e=f(this,co,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){return I(this,void 0,void 0,function*(){var i;let o=(i=f(this,co,"f"))===null||i===void 0?void 0:i.find(a=>a.title.toLowerCase()===e.toLowerCase());if(!o)throw new b(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(f(this,po,"f"));return new fo(f(this,po,"f"),r,!1)})}getTabByURL(e){return I(this,void 0,void 0,function*(){var i;let o=(i=f(this,co,"f"))===null||i===void 0?void 0:i.find(a=>{var c;return((c=a.endpoint.metadata.url)===null||c===void 0?void 0:c.split("/").pop())===e});if(!o)throw new b(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(f(this,po,"f"));return new fo(f(this,po,"f"),r,!1)})}hasTabWithURL(e){var i,o;return(o=(i=f(this,co,"f"))===null||i===void 0?void 0:i.some(r=>{var a;return((a=r.endpoint.metadata.url)===null||a===void 0?void 0:a.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(Ae))===null||i===void 0?void 0:i.find(r=>r.selected))===null||o===void 0?void 0:o.title.toString()}};n(fo,"TabbedFeed");co=new WeakMap,po=new WeakMap;var qf=fo;var Ne=class extends qf{constructor(e,i,o=!1){var r,a,c,p,d,h;super(e,i,o),this.header=(a=(r=this.page.header)===null||r===void 0?void 0:r.item())===null||a===void 0?void 0:a.as(Fo,Sh,I_,St);let _=(c=this.page.metadata)===null||c===void 0?void 0:c.item().as(Eh),x=(p=this.page.microformat)===null||p===void 0?void 0:p.as(_i);if(this.page.alerts){let y=this.page.alerts.first();if((y==null?void 0:y.alert_type)==="ERROR")throw new kn(y.text.toString())}if(!_&&!this.page.contents)throw new b("Invalid channel",this);this.metadata=Object.assign(Object.assign({},_),x||{}),this.subscribe_button=(d=this.page.header_memo)===null||d===void 0?void 0:d.getType(Ce).first(),this.current_tab=(h=this.page.contents)===null||h===void 0?void 0:h.item().as(Ct).tabs.array().filterType(Ae,Xo).get({selected:!0})}applyFilter(e){return I(this,void 0,void 0,function*(){var i;let o,r=this.memo.getType(jt).first();if(typeof e=="string"){if(o=r==null?void 0:r.contents.get({text:e}),!o)throw new b(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof Ye&&(o=e);if(!o)throw new b("Invalid filter",e);let a=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!a)throw new b("No page returned",{filter:o});return new Ci(this.actions,a,!0)})}applySort(e){return I(this,void 0,void 0,function*(){var i,o;let r=this.memo.getType(_t).first();if(!r)throw new b("No sort filter sub menu found");let a=(i=r==null?void 0:r.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!a)throw new b(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(a.selected)return this;let c=yield(o=a.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Ne(this.actions,c,!0)})}applyContentTypeFilter(e){return I(this,void 0,void 0,function*(){var i,o,r,a;let c=(r=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(be).sub_menu)===null||r===void 0?void 0:r.as(ka);if(!c)throw new b("Sub menu not found");let p=c.content_type_sub_menu_items.find(h=>h.title===e);if(!p)throw new b(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let d=yield(a=p.endpoint)===null||a===void 0?void 0:a.call(this.actions,{parse:!0});return new Ne(this.actions,d,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(jt))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(Ye).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(_t).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let r=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(be).sub_menu)===null||o===void 0?void 0:o.as(ka);return(r==null?void 0:r.content_type_sub_menu_items.map(a=>a.title))||[]}getHome(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Ne(this.actions,e.page,!0)})}getVideos(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Ne(this.actions,e.page,!0)})}getShorts(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Ne(this.actions,e.page,!0)})}getLiveStreams(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Ne(this.actions,e.page,!0)})}getReleases(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Ne(this.actions,e.page,!0)})}getPodcasts(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Ne(this.actions,e.page,!0)})}getPlaylists(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Ne(this.actions,e.page,!0)})}getCommunity(){return I(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Ne(this.actions,e.page,!0)})}getAbout(){return I(this,void 0,void 0,function*(){var e,i,o,r,a;if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(_a)[0];let c=((e=this.header)===null||e===void 0?void 0:e.is(Fo))&&this.header.tagline;if(c||((i=this.header)===null||i===void 0?void 0:i.is(St))&&((o=this.header.content)===null||o===void 0?void 0:o.description)){if(c&&c.more_endpoint instanceof v){let h=yield c.more_endpoint.call(this.actions);return new qf(this.actions,h,!1).memo.getType(_a)[0]}let p=(a=(r=this.page.header_memo)===null||r===void 0?void 0:r.getType(pe)[0])===null||a===void 0?void 0:a.endpoint;if(!p)throw new b("Failed to extract continuation to get channel about");let d=yield p.call(this.actions,{parse:!0});if(!d.on_response_received_endpoints_memo)throw new b("Unexpected response while fetching channel about",{response:d});return d.on_response_received_endpoints_memo.getType(Am)[0]}throw new b("About not found")})}search(e){return I(this,void 0,void 0,function*(){var i,o;let r=(i=this.memo.getType(Xo))===null||i===void 0?void 0:i[0];if(!r)throw new b("Search tab not found",this);let a=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Ne(this.actions,a,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,o,r,a;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(Fo))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))||!!(((o=this.header)===null||o===void 0?void 0:o.is(St))&&((a=(r=this.header.content)===null||r===void 0?void 0:r.description)===null||a===void 0?void 0:a.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(Xo))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new b("Could not get continuation data");return new mo(this.actions,i,!0)})}};n(Ne,"Channel");var mo=class extends Ee{constructor(e,i,o=!1){var r,a;super(e,i,o),this.contents=((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())||((a=this.page.on_response_received_endpoints)===null||a===void 0?void 0:a.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new b("Could not get continuation data");return new mo(this.actions,i,!0)})}};n(mo,"ChannelListContinuation");var Ci=class extends Ii{constructor(e,i,o=!1){var r;super(e,i,o),this.applied_filter=this.memo.getType(Ye).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=(r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return I(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Ci(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new b("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(jt)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(Ye)),new Ci(this.actions,i,!0)})}};n(Ci,"FilteredChannelList");var In,At,Sn,ho=class{constructor(e,i,o=!1){var r,a,c;In.set(this,void 0),At.set(this,void 0),Sn.set(this,void 0),E(this,In,o?i:l.parseResponse(i),"f"),E(this,At,e,"f");let p=f(this,In,"f").on_response_received_endpoints;if(!p)throw new b("Comments page did not have any content.");let d=p.at(0),h=p.at(1);this.header=(r=d==null?void 0:d.contents)===null||r===void 0?void 0:r.firstOfType(pi);let _=((a=h==null?void 0:h.contents)===null||a===void 0?void 0:a.filterType(qh))||[];this.contents=oe(_.map(x=>{var y;return(y=x.comment)===null||y===void 0||y.setActions(f(this,At,"f")),x.setActions(f(this,At,"f")),x})),E(this,Sn,(c=h==null?void 0:h.contents)===null||c===void 0?void 0:c.firstOfType(pe),"f")}applySort(e){return I(this,void 0,void 0,function*(){var i,o,r,a;if(!this.header)throw new b("Page header is missing. Cannot apply sort option.");let c;if(e==="TOP_COMMENTS"?c=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(c=(a=(r=this.header.sort_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||a===void 0?void 0:a.at(1)),!c)throw new b("Could not find target button.");if(c.selected)return this;let p=yield c.endpoint.call(f(this,At,"f"),{parse:!0});return new ho(f(this,At,"f"),p,!0)})}createComment(e){return I(this,void 0,void 0,function*(){var i;if(!this.header)throw new b("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(Kh).submit_button;if(!o)throw new b("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new b("Button does not have an endpoint.");return yield o.endpoint.call(f(this,At,"f"),{commentText:e})})}getContinuation(){return I(this,void 0,void 0,function*(){if(!f(this,Sn,"f"))throw new b("Continuation not found");let e=yield f(this,Sn,"f").endpoint.call(f(this,At,"f"),{parse:!0}),i=Object.assign({},f(this,In,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new b("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new ho(f(this,At,"f"),i,!0)})}get has_continuation(){return!!f(this,Sn,"f")}get page(){return f(this,In,"f")}};n(ho,"Comments");In=new WeakMap,At=new WeakMap,Sn=new WeakMap;var k1=ho;var Cn,sx=class{constructor(e){Cn.set(this,void 0),E(this,Cn,l.parseResponse(e),"f"),f(this,Cn,"f").items&&(this.contents=f(this,Cn,"f").items.array().as(Qo,x_))}get page(){return f(this,Cn,"f")}};n(sx,"Guide");Cn=new WeakMap;var I1=sx;var Vt=class extends Ee{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType($e),this.feed_actions=this.memo.getType(Qm).first()}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Vt(this.actions,e,!0)})}};n(Vt,"History");var Wt=class extends Ii{constructor(e,i,o=!1){var r;super(e,i,o),this.header=this.memo.getType(p_).first(),this.contents=this.memo.getType(xi).first()||((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return I(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Wt(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});return I(this,void 0,void 0,function*(){var i;let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,this.header&&((i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header])),new Wt(this.actions,o.page,!0)})}};n(Wt,"HomeFeed");var Ei=class extends Ii{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new b("Unexpected response",this.page);let o=this.page.contents_memo.getType(Ae).first();if(!o.content)throw new b("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(g_,St)),this.contents=o.content.as(xi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return I(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Ei(this.actions,o.page)})}};n(Ei,"HashtagFeed");var ax,ux,Xf,lx=class{constructor(e,i){ax.set(this,void 0),ux.set(this,void 0),Xf.set(this,void 0),E(this,ax,e,"f"),E(this,ux,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(F))throw new b('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');E(this,Xf,o.as(F).items,"f")}selectItem(e){return I(this,void 0,void 0,function*(){let i;if(e instanceof T){if(!e.endpoint)throw new b("Item does not have an endpoint.");i=e.endpoint}else{let r=f(this,Xf,"f").find(a=>a.is(hi)?a.as(hi).icon_type===e:!1);if(!r||!r.is(hi))throw new b(`Button "${e}" not found.`);i=r.endpoint}if(!i)throw new b("Target button does not have an endpoint.");return yield i.call(f(this,ux,"f"),{parse:!0})})}items(){return f(this,Xf,"f")}page(){return f(this,ax,"f")}};n(lx,"ItemMenu");ax=new WeakMap,ux=new WeakMap,Xf=new WeakMap;var cx=lx;var Qf,px,En=class extends Ee{constructor(e,i,o=!1){var r,a,c,p,d;super(e,i,o),Qf.add(this);let h=this.memo.getType(Tv).first(),_=this.memo.getType(Iv).first(),x=this.memo.getType(Sv).first(),y=(r=this.page.alerts)===null||r===void 0?void 0:r.firstOfType(No);if(y&&y.alert_type==="ERROR")throw new b(y.text.toString(),y);if(!_&&!x&&Object.keys(this.page).length===0)throw new b("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(a=this.page.metadata)===null||a===void 0?void 0:a.item().as(kv)),{subtitle:h?h.subtitle:null,author:(p=(c=x==null?void 0:x.owner)===null||c===void 0?void 0:c.as(dn).author)!==null&&p!==void 0?p:h==null?void 0:h.author,thumbnails:(d=_==null?void 0:_.thumbnail_renderer)===null||d===void 0?void 0:d.as($o,zo).thumbnail,total_items:f(this,Qf,"m",px).call(this,0,_),views:f(this,Qf,"m",px).call(this,1,_),last_updated:f(this,Qf,"m",px).call(this,2,_),can_share:h==null?void 0:h.can_share,can_delete:h==null?void 0:h.can_delete,is_editable:h==null?void 0:h.is_editable,privacy:h==null?void 0:h.privacy}),this.menu=_==null?void 0:_.menu,this.endpoint=_==null?void 0:_.endpoint,this.messages=this.memo.getType(fi)}get items(){return oe(this.videos.as(sn,an).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(be).first();return e?!!this.memo.getType(pe).find(i=>!e.contents.includes(i)):super.has_continuation}getContinuationData(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return I(this,void 0,void 0,function*(){let i=this.memo.getType(be).first();if(!i)return yield e.getContinuationData.call(this);let o=this.memo.getType(pe).find(a=>!i.contents.includes(a));if(!o)throw new b("There are no continuations.");return yield o.endpoint.call(this.actions,{parse:!0})})}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new En(this.actions,e,!0)})}};n(En,"Playlist");Qf=new WeakSet,px=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var dx=En;var Cg,S1,fx=class extends Ee{constructor(e,i){if(super(e,i),Cg.add(this),!this.page.contents_memo)throw new b("Page contents not found");this.header=this.memo.getType(St).first();let o=this.page.contents_memo.getType(pn);this.sections=o.map(r=>{var a;return{type:r.icon_type,title:r.title,contents:((a=r.content)===null||a===void 0?void 0:a.key("items").array())||[],getAll:()=>f(this,Cg,"m",S1).call(this,r)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(fx,"Library");Cg=new WeakSet,S1=n(function(e){return I(this,void 0,void 0,function*(){var i;if(!(!((i=e.menu)===null||i===void 0)&&i.as(F).hasKey("top_level_buttons")))throw new b(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(F).top_level_buttons.firstOfType(T);if(!o)throw new b("Did not find target button.");let r=yield o.as(T).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new dx(this.actions,r,!0);case"WATCH_HISTORY":return new Vt(this.actions,r,!0);case"CONTENT_CUT":return new Ee(this.actions,r,!0);default:throw new b("Target shelf not implemented.")}})},"_Library_getAll");var C1=fx;var Jt,Ni,_o,at,gt,qe;function nS(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n(nS,"flattenQueue");var mx=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(mx,"DelayQueue");var hx=class{constructor(){Jt.set(this,void 0),Ni.set(this,void 0),_o.set(this,void 0),at.set(this,void 0),gt.set(this,void 0),qe.set(this,void 0),E(this,Jt,null,"f"),E(this,Ni,null,"f"),E(this,_o,null,"f"),E(this,at,[],"f"),E(this,gt,null,"f"),E(this,qe,new mx,"f")}enqueueActionGroup(e){if(f(this,Jt,"f")!==null){let i=Date.now()-f(this,Jt,"f");f(this,qe,"f").back.push(i),5<f(this,qe,"f").front.length+f(this,qe,"f").back.length&&(f(this,qe,"f").front.length||(f(this,qe,"f").front=f(this,qe,"f").back,f(this,qe,"f").front.reverse(),f(this,qe,"f").back=[]),f(this,qe,"f").front.pop()),E(this,Ni,Math.max(...f(this,qe,"f").getValues()),"f")}E(this,Jt,Date.now(),"f"),f(this,at,"f").push(e),f(this,gt,"f")===null&&E(this,gt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(E(this,gt,null,"f"),f(this,at,"f").length){let e=1e4;f(this,Ni,"f")!==null&&f(this,Jt,"f")!==null&&(e=f(this,Ni,"f")-Date.now()+f(this,Jt,"f")),e=f(this,at,"f").length<e/80?1:Math.ceil(f(this,at,"f").length/(e/80));let i=nS(f(this,at,"f").splice(0,e));f(this,_o,"f")&&f(this,_o,"f").call(this,i),f(this,at,"f")!==null&&(e==1?(e=f(this,Ni,"f")/f(this,at,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,E(this,gt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){f(this,gt,"f")!==null&&(clearTimeout(f(this,gt,"f")),E(this,gt,null,"f")),E(this,at,[],"f")}set callback(e){E(this,_o,e,"f")}get callback(){return f(this,_o,"f")}get action_queue(){return f(this,at,"f")}get estimated_update_interval(){return f(this,Ni,"f")}get last_update_time(){return f(this,Jt,"f")}get next_update_id(){return f(this,gt,"f")}get poll_response_delay_queue(){return f(this,qe,"f")}};n(hx,"SmoothedQueue");Jt=new WeakMap,Ni=new WeakMap,_o=new WeakMap,at=new WeakMap,gt=new WeakMap,qe=new WeakMap;var _x=hx;var Pe,Ht,tm,vx,xo,Zf,em,Eg,xx,E1,vo,gx=class extends wr{constructor(e){var i,o;super(),Pe.add(this),Ht.set(this,void 0),tm.set(this,void 0),vx.set(this,void 0),xo.set(this,void 0),Zf.set(this,void 0),em.set(this,0),this.running=!1,this.is_replay=!1,E(this,tm,e.basic_info.id,"f"),E(this,vx,e.basic_info.channel_id,"f"),E(this,Ht,e.actions,"f"),E(this,xo,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new _x,this.smoothed_queue.callback=r=>I(this,void 0,void 0,function*(){r.length?r.length<10?yield f(this,Pe,"m",xx).call(this,r):this.is_replay?(f(this,Pe,"m",xx).call(this,r),yield f(this,Pe,"m",vo).call(this,2e3)):f(this,Pe,"m",xx).call(this,r):yield f(this,Pe,"m",vo).call(this,2e3),this.running&&f(this,Pe,"m",Eg).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,f(this,Pe,"m",Eg).call(this),f(this,Pe,"m",E1).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return I(this,void 0,void 0,function*(){let i=yield f(this,Ht,"f").execute("/live_chat/send_message",{params:ag(f(this,vx,"f"),f(this,tm,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:W.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new b("Unexpected response from send_message",i);return i.actions.array().as(V_)})}applyFilter(e){var i,o,r,a,c,p,d;if(!this.initial_info)throw new b("Cannot apply filter before initial info is retrieved.");let h=(r=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||r===void 0?void 0:r.sub_menu_items;if(e==="TOP_CHAT"){if(!((a=h==null?void 0:h.at(0))===null||a===void 0)&&a.selected)return;E(this,xo,(c=h==null?void 0:h.at(0))===null||c===void 0?void 0:c.continuation,"f")}else{if(!((p=h==null?void 0:h.at(1))===null||p===void 0)&&p.selected)return;E(this,xo,(d=h==null?void 0:h.at(1))===null||d===void 0?void 0:d.continuation,"f")}}getItemMenu(e){return I(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(v))throw new b("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(v).call(f(this,Ht,"f"),{parse:!0});if(!i)throw new b("Could not retrieve item menu.",e);return new cx(i,f(this,Ht,"f"))})}selectButton(e){return I(this,void 0,void 0,function*(){return yield e.endpoint.call(f(this,Ht,"f"),{parse:!0})})}};n(gx,"LiveChat");Ht=new WeakMap,tm=new WeakMap,vx=new WeakMap,xo=new WeakMap,Zf=new WeakMap,em=new WeakMap,Pe=new WeakSet,Eg=n(function t(){I(this,void 0,void 0,function*(){var e,i;try{let o=yield f(this,Ht,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:f(this,xo,"f"),parse:!0}),r=o.continuation_contents;if(r||(this.emit("error",new b("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(r instanceof bi)){this.stop(),this.emit("end");return}E(this,xo,r.continuation.token,"f"),r.header?(this.initial_info=r,this.emit("start",r),this.running&&f(this,Pe,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(r.actions),E(this,em,0,"f")}catch(o){this.emit("error",o),E(this,em,(i=f(this,em,"f"),e=i++,i),"f"),e<10?(yield f(this,Pe,"m",vo).call(this,2e3),f(this,Pe,"m",t).call(this)):(this.emit("error",new b("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),xx=n(function(e){return I(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),r=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let a of e)yield f(this,Pe,"m",vo).call(this,r),this.emit("chat-update",a)})},"_LiveChat_emitSmoothedActions"),E1=n(function t(){I(this,void 0,void 0,function*(){var e,i,o,r,a,c,p,d,h,_,x;try{let y={videoId:f(this,tm,"f")};f(this,Zf,"f")&&(y.continuation=f(this,Zf,"f"));let w=yield f(this,Ht,"f").execute("/updated_metadata",y),k=l.parseResponse(w.data);E(this,Zf,(e=k.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=k.actions)===null||i===void 0?void 0:i.array().firstOfType(O_))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((r=k.actions)===null||r===void 0?void 0:r.array().firstOfType(D_))||((a=this.metadata)===null||a===void 0?void 0:a.description),views:((c=k.actions)===null||c===void 0?void 0:c.array().firstOfType(j_))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((d=k.actions)===null||d===void 0?void 0:d.array().firstOfType(F_))||((h=this.metadata)===null||h===void 0?void 0:h.likes),date:((_=k.actions)===null||_===void 0?void 0:_.array().firstOfType(L_))||((x=this.metadata)===null||x===void 0?void 0:x.date)},this.emit("metadata-update",this.metadata),yield f(this,Pe,"m",vo).call(this,5e3),this.running&&f(this,Pe,"m",t).call(this)}catch(y){yield f(this,Pe,"m",vo).call(this,2e3),this.running&&f(this,Pe,"m",t).call(this)}})},"_LiveChat_pollMetadata"),vo=n(function(e){return I(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var yx=gx;var Pi,im,Nn=class{constructor(e,i){if(Pi.set(this,void 0),im.set(this,void 0),E(this,im,e,"f"),E(this,Pi,l.parseResponse(i.data),"f"),!f(this,Pi,"f").actions_memo)throw new b("Page actions not found");this.header=f(this,Pi,"f").actions_memo.getType(q_).first(),this.contents=f(this,Pi,"f").actions_memo.getType(pv)}getContinuation(){return I(this,void 0,void 0,function*(){var e;let i=(e=f(this,Pi,"f").actions_memo)===null||e===void 0?void 0:e.getType(pe).first();if(!i)throw new b("Continuation not found");let o=yield i.endpoint.call(f(this,im,"f"),{parse:!1});return new Nn(f(this,im,"f"),o)})}get page(){return f(this,Pi,"f")}};n(Nn,"NotificationsMenu");Pi=new WeakMap,im=new WeakMap;var N1=Nn;var Gt=class extends Ee{constructor(e,i,o=!1){var r,a,c,p,d;super(e,i,o);let h=((r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(be).first().contents)||((a=this.page.on_response_received_commands)===null||a===void 0?void 0:a.first().contents);if(!h)throw new b("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(Av)),this.results=(p=(c=h.find(_=>_.is($e)&&_.contents&&_.contents.length>0))===null||c===void 0?void 0:c.as($e))===null||p===void 0?void 0:p.contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType(Vv).first(),this.watch_card=this.page.contents_memo.getType(Uv).first()),this.refinement_cards=(d=this.results)===null||d===void 0?void 0:d.firstOfType(ni)}selectRefinementCard(e){return I(this,void 0,void 0,function*(){var i,o;let r;if(typeof e=="string"){if(!this.refinement_cards)throw new b("No refinement cards found.");if(r=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as($i),!r)throw new b(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")r=e;else throw new b("Invalid refinement card!");let a=yield r.endpoint.call(this.actions,{parse:!0});return new Gt(this.actions,a,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as($i).map(i=>i.query))||[]}getContinuation(){return I(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new Gt(this.actions,e,!0)})}};n(Gt,"Search");var go,om,Pn=class{constructor(e,i){var o,r,a,c;if(go.set(this,void 0),om.set(this,void 0),E(this,om,e,"f"),E(this,go,l.parseResponse(i.data),"f"),this.sidebar=(o=f(this,go,"f").sidebar)===null||o===void 0?void 0:o.as(Bv),!f(this,go,"f").contents)throw new b("Page contents not found");let p=f(this,go,"f").contents.item().as(Ct).tabs.array().as(Ae).get({selected:!0});if(!p)throw new b("Target tab not found");let d=(r=p.content)===null||r===void 0?void 0:r.as(be).contents.as($e);this.introduction=(c=(a=d==null?void 0:d.shift())===null||a===void 0?void 0:a.contents)===null||c===void 0?void 0:c.firstOfType(fv),this.sections=d==null?void 0:d.map(h=>{var _;return{title:!((_=h.header)===null||_===void 0)&&_.is(pi,Zo,en)?h.header.title.toString():null,contents:h.contents}})}selectSidebarItem(e){return I(this,void 0,void 0,function*(){if(!this.sidebar)throw new b("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new b(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(Go))i=e;else throw new b("Invalid item",{target_item:e});let o=yield i.endpoint.call(f(this,om,"f"),{parse:!1});return new Pn(f(this,om,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new b("Sections not available");for(let o of this.sections)if(!!o.contents)for(let r of o.contents){let a=r.as(cn).options;if(a){for(let c of a)if(c.is(ln)&&((i=c.title)===null||i===void 0?void 0:i.toString())===e)return c}}throw new b(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new b("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(cn).options&&(e=e.concat(o.as(cn).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new b("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return f(this,go,"f")}};n(Pn,"Settings");go=new WeakMap,om=new WeakMap;var P1=Pn;var Rn,bx=class{constructor(e){var i;if(Rn.set(this,void 0),E(this,Rn,l.parseResponse(e.data),"f"),!f(this,Rn,"f").contents)throw new b("Page contents not found");let o=f(this,Rn,"f").contents.item().as(Dv).tabs.get({selected:!0});if(!o)throw new b("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(be).contents.as($e)}get page(){return f(this,Rn,"f")}};n(bx,"TimeWatched");Rn=new WeakMap;var R1=bx;var Ri,An=class extends Tn{constructor(e,i,o){var r,a,c,p,d,h,_,x,y,w,k,S,N,V,M,j,ue,se,de,J,le,H,A,q,ie,ke,Ze,nt,K;super(e,i,o),Ri.set(this,void 0);let[Le,Ve]=this.page;if(this.streaming_data){let ve=this.streaming_data.adaptive_formats.find(Oe=>{var et;return(et=Oe.audio_track)===null||et===void 0?void 0:et.audio_is_default});if(ve)this.streaming_data.formats.forEach(Oe=>Oe.language=ve.language);else if(((r=this.captions)===null||r===void 0?void 0:r.caption_tracks)&&((a=this.captions)===null||a===void 0?void 0:a.caption_tracks.length)>0){let Oe=this.captions.caption_tracks.find(he=>he.kind==="asr"),et=Oe==null?void 0:Oe.language_code;this.streaming_data.adaptive_formats.forEach(he=>{he.has_audio&&(he.language=et)}),this.streaming_data.formats.forEach(he=>he.language=et)}}let _e=(c=Ve==null?void 0:Ve.contents)===null||c===void 0?void 0:c.item().as(Yv),fe=_e==null?void 0:_e.results,De=_e==null?void 0:_e.secondary_results;if(fe&&De){if(((p=Le.microformat)===null||p===void 0?void 0:p.is(ot))&&((d=Le.microformat)===null||d===void 0?void 0:d.category)==="Gaming"){let he=(x=(_=(h=fe.firstOfType(Nf))===null||h===void 0?void 0:h.metadata)===null||_===void 0?void 0:_.rows)===null||x===void 0?void 0:x.firstOfType(gd);he!=null&&he.is(gd)&&(this.game_info={title:(w=(y=he==null?void 0:he.contents)===null||y===void 0?void 0:y.firstOfType(vd))===null||w===void 0?void 0:w.title,release_year:(S=(k=he==null?void 0:he.contents)===null||k===void 0?void 0:k.firstOfType(vd))===null||S===void 0?void 0:S.subtitle})}this.primary_info=fe.firstOfType(Wv),this.secondary_info=fe.firstOfType(Nf),this.merchandise=fe.firstOfType(X_),this.related_chip_cloud=(N=De.firstOfType(Nv))===null||N===void 0?void 0:N.content.as(jo),_e!=null&&_e.playlist&&(this.playlist=_e.playlist),this.watch_next_feed=((V=De.firstOfType($e))===null||V===void 0?void 0:V.contents)||De,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((M=this.watch_next_feed.at(-1))===null||M===void 0?void 0:M.is(pe))&&E(this,Ri,(j=this.watch_next_feed.pop())===null||j===void 0?void 0:j.as(pe),"f"),this.player_overlays=(ue=Ve==null?void 0:Ve.player_overlays)===null||ue===void 0?void 0:ue.item().as(wv),_e!=null&&_e.autoplay&&(this.autoplay=_e.autoplay);let ve=(de=(se=this.primary_info)===null||se===void 0?void 0:se.menu)===null||de===void 0?void 0:de.top_level_buttons.firstOfType(oo);((J=ve==null?void 0:ve.like_button)===null||J===void 0?void 0:J.is(ge))&&((le=ve==null?void 0:ve.dislike_button)===null||le===void 0?void 0:le.is(ge))&&(this.basic_info.like_count=(H=ve==null?void 0:ve.like_button)===null||H===void 0?void 0:H.like_count,this.basic_info.is_liked=(A=ve==null?void 0:ve.like_button)===null||A===void 0?void 0:A.is_toggled,this.basic_info.is_disliked=(q=ve==null?void 0:ve.dislike_button)===null||q===void 0?void 0:q.is_toggled);let Oe=(ke=(ie=this.primary_info)===null||ie===void 0?void 0:ie.menu)===null||ke===void 0?void 0:ke.top_level_buttons.firstOfType(no);if(Oe&&(this.basic_info.like_count=Oe.like_count,Oe.like_button)){let he=Oe.like_button.like_status_entity.like_status;this.basic_info.is_liked=he==="LIKE",this.basic_info.is_disliked=he==="DISLIKE"}let et=(Ze=fe.get({target_id:"comments-entry-point"}))===null||Ze===void 0?void 0:Ze.as($e);this.comments_entry_point_header=(nt=et==null?void 0:et.contents)===null||nt===void 0?void 0:nt.firstOfType($h),this.livechat=(K=Ve==null?void 0:Ve.contents_memo)===null||K===void 0?void 0:K.getType(P_).first()}}selectFilter(e){return I(this,void 0,void 0,function*(){var i,o,r,a;if(!this.related_chip_cloud)throw new b("Chip cloud not found, cannot apply filter");let c;if(typeof e=="string"){let h=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!h)throw new b("Invalid filter",{available_filters:this.filters});c=h}else if(e!=null&&e.is(Ye))c=e;else throw new b("Invalid cloud chip",e);if(c.is_selected)return this;let p=yield(r=c.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0}),d=(a=p==null?void 0:p.on_response_received_endpoints)===null||a===void 0?void 0:a.get({target_id:"watch-next-feed"});return this.watch_next_feed=d==null?void 0:d.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return I(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){return I(this,void 0,void 0,function*(){var e,i,o,r,a;if(!f(this,Ri,"f"))throw new b("Watch next feed continuation not found");let c=yield(e=f(this,Ri,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=c==null?void 0:c.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"AppendContinuationItemsAction"});if(!p)throw new b("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((r=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||r===void 0)&&r.is(pe)?E(this,Ri,(a=this.watch_next_feed.pop())===null||a===void 0?void 0:a.as(pe),"f"):E(this,Ri,void 0,"f"),this})}like(){return I(this,void 0,void 0,function*(){var e,i,o,r,a;let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(no);if(c){let _=(o=c==null?void 0:c.like_button)===null||o===void 0?void 0:o.toggle_button;if(!_||!_.default_button||!c.like_button)throw new b("Like button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="LIKE")throw new b("This video is already liked",{video_id:this.basic_info.id});return yield new v(_.default_button.on_tap.payload.commands.find(k=>k.innertubeCommand)).call(this.actions)}let p=(a=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType(oo),d=p==null?void 0:p.like_button;if(!d)throw new b("Like button not found",{video_id:this.basic_info.id});if(!d.is(ge))throw new b("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new b("This video is already liked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}dislike(){return I(this,void 0,void 0,function*(){var e,i,o,r,a;let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(no);if(c){let _=(o=c==null?void 0:c.dislike_button)===null||o===void 0?void 0:o.toggle_button;if(!_||!_.default_button||!c.dislike_button||!c.like_button)throw new b("Dislike button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="DISLIKE")throw new b("This video is already disliked",{video_id:this.basic_info.id});return yield new v(_.default_button.on_tap.payload.commands.find(k=>k.innertubeCommand)).call(this.actions)}let p=(a=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType(oo),d=p==null?void 0:p.dislike_button;if(!d)throw new b("Dislike button not found",{video_id:this.basic_info.id});if(!d.is(ge))throw new b("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new b("This video is already disliked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}removeRating(){return I(this,void 0,void 0,function*(){var e,i,o,r,a,c,p;let d,h=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(no);if(h){let k=(o=h==null?void 0:h.like_button)===null||o===void 0?void 0:o.toggle_button;if(!k||!k.default_button||!h.like_button)throw new b("Like button not found",{video_id:this.basic_info.id});let S=h.like_button.like_status_entity.like_status;if(S==="LIKE")d=(r=h==null?void 0:h.like_button)===null||r===void 0?void 0:r.toggle_button;else if(S==="DISLIKE")d=(a=h==null?void 0:h.dislike_button)===null||a===void 0?void 0:a.toggle_button;else throw new b("This video is not liked/disliked",{video_id:this.basic_info.id});if(!d||!d.toggled_button)throw new b("Like/Dislike button not found",{video_id:this.basic_info.id});return yield new v(d.toggled_button.on_tap.payload.commands.find(M=>M.innertubeCommand)).call(this.actions)}let _=(p=(c=this.primary_info)===null||c===void 0?void 0:c.menu)===null||p===void 0?void 0:p.top_level_buttons.firstOfType(oo),x=_==null?void 0:_.like_button,y=_==null?void 0:_.dislike_button;if(!(x!=null&&x.is(ge))||!(y!=null&&y.is(ge)))throw new b("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(x!=null&&x.is_toggled?d=x:y!=null&&y.is_toggled&&(d=y),!d)throw new b("This video is not liked/disliked",{video_id:this.basic_info.id});return yield d.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new b("Live Chat is not available",{video_id:this.basic_info.id});return new yx(this)}getTrailerInfo(){var e,i;if(this.has_trailer&&this.playability_status){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(Op).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new An([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var r;return(r=o.text)===null||r===void 0?void 0:r.toString()}))||[]}get wn_has_continuation(){return!!f(this,Ri,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e,i;return!!(!((i=(e=this.playability_status)===null||e===void 0?void 0:e.error_screen)===null||i===void 0)&&i.is(Op))}get music_tracks(){var e,i,o,r,a,c;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(d=>{var h;return(h=d.content)===null||h===void 0?void 0:h.is(qi)});if(p!==void 0&&p.length>0){let d=(a=(r=(o=p[0].content)===null||o===void 0?void 0:o.as(qi))===null||r===void 0?void 0:r.items)===null||a===void 0?void 0:a.filterType(Do);if(d!==void 0&&d.length>0)return(c=d[0].carousel_lockups)===null||c===void 0?void 0:c.map(h=>{var _,x,y,w,k,S,N,V,M,j,ue,se,de,J,le,H,A,q,ie;let ke,Ze,nt,K,Le,Ve;ke=(x=(_=h.video_lockup)===null||_===void 0?void 0:_.title)===null||x===void 0?void 0:x.toString(),Le=(y=h.video_lockup)===null||y===void 0?void 0:y.endpoint.payload.videoId;for(let _e=0;_e<h.info_rows.length;_e++){let fe=h.info_rows[_e];if(fe.info_row_expand_status_key===void 0)if(ke===void 0){if(ke=((w=fe.default_metadata)===null||w===void 0?void 0:w.toString())||((k=fe.expanded_metadata)===null||k===void 0?void 0:k.toString()),Le===void 0){let De=((S=fe.default_metadata)===null||S===void 0?void 0:S.endpoint)||((N=fe.expanded_metadata)===null||N===void 0?void 0:N.endpoint);Le=(V=De==null?void 0:De.payload)===null||V===void 0?void 0:V.videoId}}else nt=((M=fe.default_metadata)===null||M===void 0?void 0:M.toString())||((j=fe.expanded_metadata)===null||j===void 0?void 0:j.toString());else{if(((ue=fe.info_row_expand_status_key)===null||ue===void 0?void 0:ue.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(Ze=((se=fe.default_metadata)===null||se===void 0?void 0:se.toString())||((de=fe.expanded_metadata)===null||de===void 0?void 0:de.toString()),Ve===void 0)){let De=((J=fe.default_metadata)===null||J===void 0?void 0:J.endpoint)||((le=fe.expanded_metadata)===null||le===void 0?void 0:le.endpoint);Ve=(H=De==null?void 0:De.payload)===null||H===void 0?void 0:H.browseId}((A=fe.info_row_expand_status_key)===null||A===void 0?void 0:A.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(K=((q=fe.default_metadata)===null||q===void 0?void 0:q.toString())||((ie=fe.expanded_metadata)===null||ie===void 0?void 0:ie.toString()))}}return{song:ke,artist:Ze,album:nt,license:K,videoId:Le,channelId:Ve}})}return[]}};n(An,"VideoInfo");Ri=new WeakMap;var nm=An;var Vn,rm,Mn=class{constructor(e,i){if(Vn.set(this,void 0),rm.set(this,void 0),E(this,Vn,l.parseResponse(i.data),"f"),E(this,rm,e,"f"),!f(this,Vn,"f").actions_memo)throw new Error("Page actions not found");this.transcript=f(this,Vn,"f").actions_memo.getType(Eo).first()}selectLanguage(e){return I(this,void 0,void 0,function*(){var i,o,r,a;let c=(a=(r=(o=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||o===void 0?void 0:o.language_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||a===void 0?void 0:a.find(d=>d.title.toString()===e);if(!c)throw new Error(`Language not found: ${e}`);if(c.selected)return this;let p=yield f(this,rm,"f").execute("/get_transcript",{params:c.continuation});return new Mn(f(this,rm,"f"),p)})}get languages(){var e,i,o,r;return((r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.map(a=>a.title.toString()))||[]}get selectedLanguage(){var e,i,o,r,a;return((a=(r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.find(c=>c.selected))===null||a===void 0?void 0:a.title.toString())||""}get page(){return f(this,Vn,"f")}};n(Mn,"TranscriptInfo");Vn=new WeakMap,rm=new WeakMap;var rx=Mn;var L=class{constructor(e,i,o,r){var a,c,p,d,h,_,x,y,w,k,S,N,V,M,j,ue,se,de,J,le,H,A,q,ie,ke,Ze,nt;let K=new u(e);this.id=r||((d=(p=(c=(a=K==null?void 0:K.runs)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId)||((_=(h=K==null?void 0:K.endpoint)===null||h===void 0?void 0:h.payload)===null||_===void 0?void 0:_.browseId)||"N/A",this.name=(K==null?void 0:K.text)||"N/A",this.thumbnails=o?g.fromResponse(o):[],this.endpoint=((y=(x=K==null?void 0:K.runs)===null||x===void 0?void 0:x[0])===null||y===void 0?void 0:y.endpoint)||(K==null?void 0:K.endpoint),i?Array.isArray(i)?(this.badges=l.parseArray(i),this.is_moderator=(w=this.badges)===null||w===void 0?void 0:w.some(Le=>Le.icon_type=="MODERATOR"),this.is_verified=(k=this.badges)===null||k===void 0?void 0:k.some(Le=>Le.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(S=this.badges)===null||S===void 0?void 0:S.some(Le=>Le.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=oe([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=oe([]),this.url=((j=(M=(V=(N=K==null?void 0:K.runs)===null||N===void 0?void 0:N[0])===null||V===void 0?void 0:V.endpoint)===null||M===void 0?void 0:M.metadata)===null||j===void 0?void 0:j.api_url)==="/browse"&&`${tt.YT_BASE}${((J=(de=(se=(ue=K==null?void 0:K.runs)===null||ue===void 0?void 0:ue[0])===null||se===void 0?void 0:se.endpoint)===null||de===void 0?void 0:de.payload)===null||J===void 0?void 0:J.canonicalBaseUrl)||`/u/${(q=(A=(H=(le=K==null?void 0:K.runs)===null||le===void 0?void 0:le[0])===null||H===void 0?void 0:H.endpoint)===null||A===void 0?void 0:A.payload)===null||q===void 0?void 0:q.browseId}`}`||`${tt.YT_BASE}${((ke=(ie=K==null?void 0:K.endpoint)===null||ie===void 0?void 0:ie.payload)===null||ke===void 0?void 0:ke.canonicalBaseUrl)||`/u/${(nt=(Ze=K==null?void 0:K.endpoint)===null||Ze===void 0?void 0:Ze.payload)===null||nt===void 0?void 0:nt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(L,"Author");var A1={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var yo,wx,rS="Utils",W=class{static load(e){E(yo,yo,e,"f",wx)}static get shim(){if(!f(yo,yo,"f",wx))throw new Error("Platform is not loaded");return f(yo,yo,"f",wx)}};n(W,"Platform");yo=W;wx={value:void 0};var b=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=W.shim.info.version}};n(b,"InnertubeError");var st=class extends b{};n(st,"ParsingError");var sm=class extends b{};n(sm,"MissingParamError");var Tx=class extends b{};n(Tx,"OAuth2Error");var yt=class extends Error{};n(yt,"PlayerError");var bo=class extends Error{};n(bo,"SessionError");var kn=class extends Error{};n(kn,"ChannelError");function ym(t,e){return Reflect.ownKeys(t).some(o=>{let r=e[o]instanceof u;return!r&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(r?e[o].toString():e[o])})}n(ym,"deepCompare");function je(t,e,i){let o=new RegExp(`${Rg(e)}(.*?)${Rg(i)}`,"s"),r=t.match(o);return r?r[1]:void 0}n(je,"getStringBetweenStrings");function Rg(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(Rg,"escapeStringRegexp");function Ji(t){let e=A1[t],i=Math.floor(Math.random()*e.length);return e[i]}n(Ji,"getRandomUserAgent");function sS(t){return I(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),r=yield W.shim.sha1Hash(o);return["SAPISIDHASH",[i,r].join("_")].join(" ")})}n(sS,"generateSidAuth");function Ai(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(Ai,"generateRandomString");function Se(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(Se,"timeToSeconds");function Ig(...t){let e=new Qt;for(let i of t)if(!!i)for(let o of i){let r=e.get(o[0]);if(r){e.set(o[0],[...r,...o[1]]);continue}e.set(...o)}return e}n(Ig,"concatMemos");function am(t){for(let[e,i]of Object.entries(t))if(!i)throw new sm(`${e} is missing`)}n(am,"throwIfMissing");function aS(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(aS,"hasKeys");function Gx(t){return w0(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:r}=yield Oi(i.read());if(o)return yield Oi(void 0);yield yield Oi(r)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(Gx,"streamToIterable");var uS=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,r=[...o],a=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",c=r.length>0?`${r.map(([p,d])=>`    ${p}: ${d}`).join(`
`)}`:"    (none)";return Y.warn(rS,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${c}
' + 
    '  body:
${a}`),W.shim.fetch(t,e)},"debugFetch");function ze(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n(ze,"u8ToBase64");function lg(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(lg,"base64ToU8");function We(t){return!("emoji"in t)}n(We,"isTextRun");function lS(t,e,i=!1){let o=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,r=t.match(new RegExp(o));return r?r[2]:void 0}n(lS,"getCookie");function Ag(t){return I(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let r=new Uint8Array(o),a=[];for(let c=0;c<r.length;++c)a.push(e[r[c]]);return a.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n(Ag,"sha1Hash");var kx={name:"youtubei.js",version:"10.2.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"react-native":["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"],"cf-worker":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js","react-native":"./dist/src/platform/react-native.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./react-native":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/react-native.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"},"./cf-worker":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/cf-worker.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",clean:"npx rimraf ./dist/src ./dist/package.json ./bundle/browser.js ./bundle/browser.js.map ./bundle/browser.min.js ./bundle/browser.min.js.map ./bundle/node.cjs ./bundle/node.cjs.map ./bundle/cf-worker.js ./bundle/cf-worker.js.map ./bundle/react-native.js ./bundle/react-native.js.map ./deno",build:"npm run clean && npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod && npm run bundle:cf-worker && npm run bundle:react-native","build:parser-map":"node ./dev-scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:react-native":"npx esbuild ./dist/src/platform/react-native.js --bundle --target=es2020 --keep-names --format=esm --platform=neutral --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/react-native.js","bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify","bundle:cf-worker":'npx esbuild ./dist/src/platform/cf-worker.js --banner:js="/* eslint-disable */" --bundle --target=es2020 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/cf-worker.js --platform=node',prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^2.0.0",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^29.7.0",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^29.1.4","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var cm={};ye(cm,{ArrayExpression:()=>Bn,ArrowFunctionExpression:()=>Ln,AssignmentExpression:()=>Dn,BinaryExpression:()=>On,BlockStatement:()=>Fn,BreakStatement:()=>jn,CallExpression:()=>Yn,ConditionalExpression:()=>Wn,ContinueStatement:()=>Jn,ExpressionStatement:()=>Hn,ForOfStatement:()=>Gn,ForStatement:()=>zn,FunctionDeclaration:()=>$n,FunctionExpression:()=>Kn,Identifier:()=>qn,IfStatement:()=>Xn,Literal:()=>Qn,LogicalExpression:()=>Zn,MemberExpression:()=>er,NewExpression:()=>tr,ObjectExpression:()=>ir,Property:()=>or,ReturnStatement:()=>nr,SequenceExpression:()=>rr,SwitchCase:()=>sr,SwitchStatement:()=>ar,ThisExpression:()=>ur,ThrowStatement:()=>lr,TryStatement:()=>cr,UnaryExpression:()=>pr,UpdateExpression:()=>dr,VariableDeclaration:()=>fr,WhileStatement:()=>mr});var B=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(B,"BaseJSNode");var Bn=class extends B{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(Bn,"ArrayExpression");var Vg={};ye(Vg,{JinterError:()=>zt,namedFunction:()=>wo});var wo=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction"),zt=class extends Error{constructor(e,i){super(e),i&&(this.info=i)}};n(zt,"JinterError");var Ln=class extends B{run(){let{params:e,body:i}=this.node;return wo("anonymous function",r=>{let a=0;for(let c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,r[a]):console.warn("Unhandled param type",c.type),a++;return this.visitor.visitNode(i)})}};n(Ln,"ArrowFunctionExpression");var Dn=class extends B{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n(Dn,"AssignmentExpression");var On=class extends B{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n(On,"BinaryExpression");var Fn=class extends B{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(Fn,"BlockStatement");var jn=class extends B{run(){return"break"}};n(jn,"BreakStatement");var um=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},To,Ix,V1,Yn=class extends B{constructor(){super(...arguments),To.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let a=this.visitor.listeners[e](this.node,this.visitor);if(a!=="__continue_exec")return a}if(i&&i!=="toString"&&this.visitor.listeners[i]){let a=this.visitor.listeners[i](this.node,this.visitor);if(a!=="__continue_exec")return a}if(this.node.callee.type==="MemberExpression"){if(Un.has(this.node,this.visitor))return Un.execute(this.node,this.visitor);let a=this.visitor.visitNode(this.node.callee.object),c=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(d=>this.visitor.visitNode(d));return a||um(this,To,"m",Ix).call(this),typeof a[c]!="function"&&um(this,To,"m",Ix).call(this),a[c].toString().includes("[native code]")?a[c](...p):a[c](p)}let o=this.visitor.visitNode(this.node.callee),r=this.node.arguments.map(a=>this.visitor.visitNode(a));return typeof o!="function"&&um(this,To,"m",Ix).call(this),o(r)}};n(Yn,"CallExpression");To=new WeakSet,Ix=n(function(){if(this.node.callee.type==="MemberExpression"||this.node.callee.type==="Identifier"){let e=um(this,To,"m",V1).call(this,this.node.callee);throw new zt(`${e} is not a function`)}else if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new zt(`${e.join("")} is not a function`)}},"_CallExpression_throwError"),V1=n(function t(e){if(e.type==="Identifier")return e.name;if(e.type==="MemberExpression"){let i=um(this,To,"m",t).call(this,e.object),o=e.computed?`[${this.visitor.getName(e.property)||"..."}]`:`.${this.visitor.getName(e.property)}`;return`${i}${o}`}return"<unknown>"},"_CallExpression_getCalleeString");var Un=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(Un,"Builtins");Un.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let r=0;for(let a of o)i[0]([a,r++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var Wn=class extends B{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(Wn,"ConditionalExpression");var Jn=class extends B{run(){return"continue"}};n(Jn,"ContinueStatement");var Hn=class extends B{run(){return this.visitor.visitNode(this.node.expression)}};n(Hn,"ExpressionStatement");var Gn=class extends B{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let r of this.node.left.declarations[0].id.properties)r.type==="Property"&&r.value.type==="Identifier"&&r.key.type==="Identifier"&&this.visitor.scope.set(r.value.name,i[r.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};n(Gn,"ForOfStatement");var zn=class extends B{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n(zn,"ForStatement");var $n=class extends B{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),r=wo(o,a=>{let c=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,a[c]):console.warn("Unhandled param type",p.type),c++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,r)}};n($n,"FunctionDeclaration");var Kn=class extends B{run(){let{params:e,body:i}=this.node;return wo("anonymous function",r=>{let a=0;for(let c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,r[a]):console.warn("Unhandled param type",c.type),a++;return this.visitor.visitNode(i)})}};n(Kn,"FunctionExpression");var qn=class extends B{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="__continue_exec")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(qn,"Identifier");var Xn=class extends B{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n(Xn,"IfStatement");var Qn=class extends B{run(){return this.node.value}};n(Qn,"Literal");var Zn=class extends B{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(Zn,"LogicalExpression");var er=class extends B{run(){let{object:e,property:i,computed:o}=this.node,r=this.visitor.visitNode(e),a=o?this.visitor.visitNode(i):this.visitor.getName(i);if(a!==void 0||a!==null){if(this.visitor.listeners[a]){let c=this.visitor.listeners[a](this.node,this.visitor);if(c!=="__continue_exec")return c}return r==null?void 0:r[a]}}};n(er,"MemberExpression");var tr=class extends B{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return i.length?new e(i):new e}};n(tr,"NewExpression");var ir=class extends B{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(ir,"ObjectExpression");var Mg=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},lm,M1,B1,L1,or=class extends B{constructor(){super(...arguments),lm.add(this)}run(){switch(this.node.kind){case"init":return Mg(this,lm,"m",M1).call(this);case"get":return Mg(this,lm,"m",B1).call(this);case"set":return Mg(this,lm,"m",L1).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(or,"Property");lm=new WeakSet,M1=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),B1=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),L1=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var nr=class extends B{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(nr,"ReturnStatement");var rr=class extends B{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n(rr,"SequenceExpression");var sr=class extends B{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(sr,"SwitchCase");var ar=class extends B{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,r=0;for(;;){let a=this.node.cases[r];if(i){let c=this.visitor.visitNode(a);if(c==="break")break;if(c==="continue")return c;if(++r,r>=this.node.cases.length){r=0;break}else continue}if(i=a&&e===this.visitor.visitNode(a.test),i===void 0&&r>this.node.cases.length)break;if(a&&!i&&!a.test){o=r,r+=1;continue}if(!a&&!i&&o!==-1){i=!0,r=o;continue}i||++r}}};n(ar,"SwitchStatement");var ur=class extends B{run(){return this.visitor.scope.get("_this")}};n(ur,"ThisExpression");var lr=class extends B{run(){throw this.visitor.visitNode(this.node.argument)}};n(lr,"ThrowStatement");var cr=class extends B{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(cr,"TryStatement");var pr=class extends B{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(pr,"UnaryExpression");var dr=class extends B{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(dr,"UpdateExpression");var fr=class extends B{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,r=this.visitor.getName(i),a=o?this.visitor.visitNode(o):void 0;r&&this.visitor.scope.set(r,a),typeof a=="object"&&a!==null&&this.visitor.scope.set("_this",a)})}};n(fr,"VariableDeclaration");var mr=class extends B{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n(mr,"WhileStatement");var pS=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Bg,D1,hr=class{constructor(){Bg.add(this),this.scope=new Map,this.listeners={},this.ast=[]}setAST(e){this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=pS(this,Bg,"m",D1).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(hr,"Visitor");Bg=new WeakSet,D1=n(function(e){let i=cm[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var dS=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],W1=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],fS="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",J1="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Lg={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"arguments"},Dg="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",mS={5:Dg,"5module":Dg+" export import",6:Dg+" const class extends export import super"},hS=/^in(stanceof)?$/,_S=new RegExp("["+J1+"]"),vS=new RegExp("["+J1+fS+"]");function Fg(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}return!1}n(Fg,"isInAstralSet");function $t(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&_S.test(String.fromCharCode(t)):e===!1?!1:Fg(t,W1)}n($t,"isIdentifierStart");function _r(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&vS.test(String.fromCharCode(t)):e===!1?!1:Fg(t,W1)||Fg(t,dS)}n(_r,"isIdentifierChar");var ae=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function ut(t,e){return new ae(t,{beforeExpr:!0,binop:e})}n(ut,"binop");var lt={beforeExpr:!0},Xe={startsExpr:!0},Ug={};function te(t,e){return e===void 0&&(e={}),e.keyword=t,Ug[t]=new ae(t,e)}n(te,"kw");var m={num:new ae("num",Xe),regexp:new ae("regexp",Xe),string:new ae("string",Xe),name:new ae("name",Xe),privateId:new ae("privateId",Xe),eof:new ae("eof"),bracketL:new ae("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ae("]"),braceL:new ae("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ae("}"),parenL:new ae("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ae(")"),comma:new ae(",",lt),semi:new ae(";",lt),colon:new ae(":",lt),dot:new ae("."),question:new ae("?",lt),questionDot:new ae("?."),arrow:new ae("=>",lt),template:new ae("template"),invalidTemplate:new ae("invalidTemplate"),ellipsis:new ae("...",lt),backQuote:new ae("`",Xe),dollarBraceL:new ae("${",{beforeExpr:!0,startsExpr:!0}),eq:new ae("=",{beforeExpr:!0,isAssign:!0}),assign:new ae("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ae("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ae("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ut("||",1),logicalAND:ut("&&",2),bitwiseOR:ut("|",3),bitwiseXOR:ut("^",4),bitwiseAND:ut("&",5),equality:ut("==/!=/===/!==",6),relational:ut("</>/<=/>=",7),bitShift:ut("<</>>/>>>",8),plusMin:new ae("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ut("%",10),star:ut("*",10),slash:ut("/",10),starstar:new ae("**",{beforeExpr:!0}),coalesce:ut("??",1),_break:te("break"),_case:te("case",lt),_catch:te("catch"),_continue:te("continue"),_debugger:te("debugger"),_default:te("default",lt),_do:te("do",{isLoop:!0,beforeExpr:!0}),_else:te("else",lt),_finally:te("finally"),_for:te("for",{isLoop:!0}),_function:te("function",Xe),_if:te("if"),_return:te("return",lt),_switch:te("switch"),_throw:te("throw",lt),_try:te("try"),_var:te("var"),_const:te("const"),_while:te("while",{isLoop:!0}),_with:te("with"),_new:te("new",{beforeExpr:!0,startsExpr:!0}),_this:te("this",Xe),_super:te("super",Xe),_class:te("class",Xe),_extends:te("extends",lt),_export:te("export"),_import:te("import",Xe),_null:te("null",Xe),_true:te("true",Xe),_false:te("false",Xe),_in:te("in",{beforeExpr:!0,binop:7}),_instanceof:te("instanceof",{beforeExpr:!0,binop:7}),_typeof:te("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:te("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:te("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},dt=/\r\n?|\n|\u2028|\u2029/,xS=new RegExp(dt.source,"g");function vr(t){return t===10||t===13||t===8232||t===8233}n(vr,"isNewLine");function H1(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var r=t.charCodeAt(o);if(vr(r))return o<i-1&&r===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n(H1,"nextLineBreak");var G1=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ct=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,z1=Object.prototype,gS=z1.hasOwnProperty,yS=z1.toString,mm=Object.hasOwn||function(t,e){return gS.call(t,e)},O1=Array.isArray||function(t){return yS.call(t)==="[object Array]"},F1=Object.create(null);function Vi(t){return F1[t]||(F1[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}n(Vi,"wordsRegexp");function Mi(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(Mi,"codePointToString");var bS=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,dm=n(function(e,i){this.line=e,this.column=i},"Position");dm.prototype.offset=n(function(e){return new dm(this.line,this.column+e)},"offset");var Px=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function $1(t,e){for(var i=1,o=0;;){var r=H1(t,o,e);if(r<0)return new dm(i,e-o);++i,o=r}}n($1,"getLineInfo");var jg={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},j1=!1;function wS(t){var e={};for(var i in jg)e[i]=t&&mm(t,i)?t[i]:jg[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!j1&&typeof console=="object"&&console.warn&&(j1=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),O1(e.onToken)){var o=e.onToken;e.onToken=function(r){return o.push(r)}}return O1(e.onComment)&&(e.onComment=TS(e,e.onComment)),e}n(wS,"getOptions");function TS(t,e){return function(i,o,r,a,c,p){var d={type:i?"Block":"Line",value:o,start:r,end:a};t.locations&&(d.loc=new Px(this,c,p)),t.ranges&&(d.range=[r,a]),e.push(d)}}n(TS,"pushComment");var fm=1,xr=2,Wg=4,K1=8,q1=16,X1=32,Jg=64,Q1=128,hm=256,Hg=fm|xr|hm;function Gg(t,e){return xr|(t?Wg:0)|(e?K1:0)}n(Gg,"functionFlags");var Cx=0,zg=1,qt=2,Z1=3,ek=4,tk=5,Te=n(function(e,i,o){this.options=e=wS(e),this.sourceFile=e.sourceFile,this.keywords=Vi(mS[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var r="";e.allowReserved!==!0&&(r=Lg[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(r+=" await")),this.reservedWords=Vi(r);var a=(r?r+" ":"")+Lg.strict;this.reservedWordsStrict=Vi(a),this.reservedWordsStrictBind=Vi(a+" "+Lg.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(dt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(fm),this.regexpState=null,this.privateNameStack=[]},"Parser"),Mt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Te.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");Mt.inFunction.get=function(){return(this.currentVarScope().flags&xr)>0};Mt.inGenerator.get=function(){return(this.currentVarScope().flags&K1)>0&&!this.currentVarScope().inClassFieldInit};Mt.inAsync.get=function(){return(this.currentVarScope().flags&Wg)>0&&!this.currentVarScope().inClassFieldInit};Mt.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&hm)return!1;if(e.flags&xr)return(e.flags&Wg)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Mt.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&Jg)>0||i||this.options.allowSuperOutsideMethod};Mt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Q1)>0};Mt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Mt.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(xr|hm))>0||i};Mt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&hm)>0};Te.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,r=0;r<e.length;r++)o=e[r](o);return o},"extend");Te.parse=n(function(e,i){return new this(i,e).parse()},"parse");Te.parseExpressionAt=n(function(e,i,o){var r=new this(o,e,i);return r.nextToken(),r.parseExpression()},"parseExpressionAt");Te.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Te.prototype,Mt);var He=Te.prototype,kS=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;He.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){ct.lastIndex=t,t+=ct.exec(this.input)[0].length;var e=kS.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){ct.lastIndex=t+e[0].length;var i=ct.exec(this.input),o=i.index+i[0].length,r=this.input.charAt(o);return r===";"||r==="}"||dt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,ct.lastIndex=t,t+=ct.exec(this.input)[0].length,this.input[t]===";"&&t++}};He.eat=function(t){return this.type===t?(this.next(),!0):!1};He.isContextual=function(t){return this.type===m.name&&this.value===t&&!this.containsEsc};He.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};He.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};He.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||dt.test(this.input.slice(this.lastTokEnd,this.start))};He.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};He.semicolon=function(){!this.eat(m.semi)&&!this.insertSemicolon()&&this.unexpected()};He.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};He.expect=function(t){this.eat(t)||this.unexpected()};He.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Rx=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");He.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};He.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};He.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};He.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var O=Te.prototype;O.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==m.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,r=Object.keys(this.undefinedExports);o<r.length;o+=1){var a=r[o];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var $g={kind:"loop"},IS={kind:"switch"};O.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ct.lastIndex=this.pos;var e=ct.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if($t(o,!0)){for(var r=i+1;_r(o=this.input.charCodeAt(r),!0);)++r;if(o===92||o>55295&&o<56320)return!0;var a=this.input.slice(i,r);if(!hS.test(a))return!0}return!1};O.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ct.lastIndex=this.pos;var t=ct.exec(this.input),e=this.pos+t[0].length,i;return!dt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(_r(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};O.parseStatement=function(t,e,i){var o=this.type,r=this.startNode(),a;switch(this.isLet(t)&&(o=m._var,a="let"),o){case m._break:case m._continue:return this.parseBreakContinueStatement(r,o.keyword);case m._debugger:return this.parseDebuggerStatement(r);case m._do:return this.parseDoStatement(r);case m._for:return this.parseForStatement(r);case m._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case m._class:return t&&this.unexpected(),this.parseClass(r,!0);case m._if:return this.parseIfStatement(r);case m._return:return this.parseReturnStatement(r);case m._switch:return this.parseSwitchStatement(r);case m._throw:return this.parseThrowStatement(r);case m._try:return this.parseTryStatement(r);case m._const:case m._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(r,a);case m._while:return this.parseWhileStatement(r);case m._with:return this.parseWithStatement(r);case m.braceL:return this.parseBlock(!0,r);case m.semi:return this.parseEmptyStatement(r);case m._export:case m._import:if(this.options.ecmaVersion>10&&o===m._import){ct.lastIndex=this.pos;var c=ct.exec(this.input),p=this.pos+c[0].length,d=this.input.charCodeAt(p);if(d===40||d===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===m._import?this.parseImport(r):this.parseExport(r,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var h=this.value,_=this.parseExpression();return o===m.name&&_.type==="Identifier"&&this.eat(m.colon)?this.parseLabeledStatement(r,h,_,t):this.parseExpressionStatement(r,_)}};O.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(m.semi)||this.insertSemicolon()?t.label=null:this.type!==m.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var r=this.labels[o];if((t.label==null||r.name===t.label.name)&&(r.kind!=null&&(i||r.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};O.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};O.parseDoStatement=function(t){return this.next(),this.labels.push($g),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(m.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};O.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push($g),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===m._var||this.type===m._const||i){var o=this.startNode(),r=i?"let":this.value;return this.next(),this.parseVar(o,!0,r),this.finishNode(o,"VariableDeclaration"),(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var a=this.isContextual("let"),c=!1,p=new Rx,d=this.parseExpression(e>-1?"await":!0,p);return this.type===m._in||(c=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),a&&c&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,p),this.checkLValPattern(d),this.parseForIn(t,d)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,d))};O.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,pm|(i?0:Yg),!1,e)};O.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};O.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};O.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(m.braceL),this.labels.push(IS),this.enterScope(0);for(var e,i=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var o=this.type===m._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(m.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};O.parseThrowStatement=function(t){return this.next(),dt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var SS=[];O.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?X1:0),this.checkLValPattern(t,e?ek:qt),this.expect(m.parenR),t};O.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===m._catch){var e=this.startNode();this.next(),this.eat(m.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(m._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};O.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};O.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push($g),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};O.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};O.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};O.parseLabeledStatement=function(t,e,i,o){for(var r=0,a=this.labels;r<a.length;r+=1){var c=a[r];c.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===m._switch?"switch":null,d=this.labels.length-1;d>=0;d--){var h=this.labels[d];if(h.statementStart===t.start)h.statementStart=this.start,h.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};O.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};O.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(m.braceL),t&&this.enterScope(0);this.type!==m.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};O.parseFor=function(t,e){return t.init=e,this.expect(m.semi),t.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),t.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};O.parseForIn=function(t,e){var i=this.type===m._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};O.parseVar=function(t,e,i,o){for(t.declarations=[],t.kind=i;;){var r=this.startNode();if(this.parseVarId(r,i),this.eat(m.eq)?r.init=this.parseMaybeAssign(e):!o&&i==="const"&&!(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&r.id.type!=="Identifier"&&!(e&&(this.type===m._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(m.comma))break}return t};O.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?zg:qt,!1)};var pm=1,Yg=2,ik=4;O.parseFunction=function(t,e,i,o,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===m.star&&e&Yg&&this.unexpected(),t.generator=this.eat(m.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&pm&&(t.id=e&ik&&this.type!==m.name?null:this.parseIdent(),t.id&&!(e&Yg)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?zg:qt:Z1));var a=this.yieldPos,c=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Gg(t.async,t.generator)),e&pm||(t.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,r),this.yieldPos=a,this.awaitPos=c,this.awaitIdentPos=p,this.finishNode(t,e&pm?"FunctionDeclaration":"FunctionExpression")};O.parseFunctionParams=function(t){this.expect(m.parenL),t.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};O.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),r=this.startNode(),a=!1;for(r.body=[],this.expect(m.braceL);this.type!==m.braceR;){var c=this.parseClassElement(t.superClass!==null);c&&(r.body.push(c),c.type==="MethodDefinition"&&c.kind==="constructor"?(a&&this.raiseRecoverable(c.start,"Duplicate constructor in the same class"),a=!0):c.key&&c.key.type==="PrivateIdentifier"&&CS(o,c)&&this.raiseRecoverable(c.key.start,"Identifier '#"+c.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};O.parseClassElement=function(t){if(this.eat(m.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",r=!1,a=!1,c="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(m.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===m.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===m.star)&&!this.canInsertSemicolon()?a=!0:o="async"),!o&&(e>=9||!a)&&this.eat(m.star)&&(r=!0),!o&&!a&&!r){var d=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=d:o=d)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===m.parenL||c!=="method"||r||a){var h=!i.static&&Ex(i,"constructor"),_=h&&t;h&&c!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=h?"constructor":c,this.parseClassMethod(i,r,a,_)}else this.parseClassField(i);return i};O.isClassElementNameStart=function(){return this.type===m.name||this.type===m.privateId||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword};O.parseClassElementName=function(t){this.type===m.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};O.parseClassMethod=function(t,e,i,o){var r=t.key;t.kind==="constructor"?(e&&this.raise(r.start,"Constructor can't be a generator"),i&&this.raise(r.start,"Constructor can't be an async method")):t.static&&Ex(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};O.parseClassField=function(t){if(Ex(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Ex(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(m.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};O.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(hm|Jg);this.type!==m.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};O.parseClassId=function(t,e){this.type===m.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,qt,!1)):(e===!0&&this.unexpected(),t.id=null)};O.parseClassSuper=function(t){t.superClass=this.eat(m._extends)?this.parseExprSubscripts(null,!1):null};O.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};O.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var o=this.privateNameStack.length,r=o===0?null:this.privateNameStack[o-1],a=0;a<i.length;++a){var c=i[a];mm(e,c.name)||(r?r.used.push(c):this.raiseRecoverable(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"))}};function CS(t,e){var i=e.key.name,o=t[i],r="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(r=(e.static?"s":"i")+e.kind),o==="iget"&&r==="iset"||o==="iset"&&r==="iget"||o==="sget"&&r==="sset"||o==="sset"&&r==="sget"?(t[i]="true",!1):o?!0:(t[i]=r,!1)}n(CS,"isPrivateNameConflicted");function Ex(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(Ex,"checkKeyName");O.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};O.parseExport=function(t,e){if(this.next(),this.eat(m.star))return this.parseExportAllDeclaration(t,e);if(this.eat(m._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var r=o[i];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};O.parseExportDeclaration=function(t){return this.parseStatement(null)};O.parseExportDefaultDeclaration=function(){var t;if(this.type===m._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,pm|ik,!1,t)}else if(this.type===m._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};O.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),mm(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};O.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,r=e.properties;o<r.length;o+=1){var a=r[o];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var c=0,p=e.elements;c<p.length;c+=1){var d=p[c];d&&this.checkPatternExport(t,d)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};O.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var r=o[i];this.checkPatternExport(t,r.id)}};O.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};O.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};O.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(i)i=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;e.push(this.parseExportSpecifier(t))}return e};O.parseImport=function(t){return this.next(),this.type===m.string?(t.specifiers=SS,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};O.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,qt),this.finishNode(t,"ImportSpecifier")};O.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,qt),this.finishNode(t,"ImportDefaultSpecifier")};O.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,qt),this.finishNode(t,"ImportNamespaceSpecifier")};O.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===m.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(m.comma)))return t;if(this.type===m.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(m.braceL);!this.eat(m.braceR);){if(e)e=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;t.push(this.parseImportSpecifier())}return t};O.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===m.string){var t=this.parseLiteral(this.value);return bS.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};O.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};O.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var ft=Te.prototype;ft.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,r=t.properties;o<r.length;o+=1){var a=r[o];this.toAssignable(a,e),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};ft.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var r=t[o];r&&this.toAssignable(r,e)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&e&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};ft.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};ft.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==m.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};ft.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case m.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()};ft.parseBindingList=function(t,e,i,o){for(var r=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(m.comma),e&&this.type===m.comma)r.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===m.ellipsis){var c=this.parseRestBinding();this.parseBindingListItem(c),r.push(c),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else r.push(this.parseAssignableListItem(o))}return r};ft.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};ft.parseBindingListItem=function(t){return t};ft.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};ft.checkLValSimple=function(t,e,i){e===void 0&&(e=Cx);var o=e!==Cx;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===qt&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(mm(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==tk&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};ft.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=Cx),t.type){case"ObjectPattern":for(var o=0,r=t.properties;o<r.length;o+=1){var a=r[o];this.checkLValInnerPattern(a,e,i)}break;case"ArrayPattern":for(var c=0,p=t.elements;c<p.length;c+=1){var d=p[c];d&&this.checkLValInnerPattern(d,e,i)}break;default:this.checkLValSimple(t,e,i)}};ft.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=Cx),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var bt=n(function(e,i,o,r,a){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=r,this.generator=!!a},"TokContext"),me={b_stat:new bt("{",!1),b_expr:new bt("{",!0),b_tmpl:new bt("${",!1),p_stat:new bt("(",!1),p_expr:new bt("(",!0),q_tmpl:new bt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new bt("function",!1),f_expr:new bt("function",!0),f_expr_gen:new bt("function",!0,!1,null,!0),f_gen:new bt("function",!1,!1,null,!0)},gr=Te.prototype;gr.initialContext=function(){return[me.b_stat]};gr.curContext=function(){return this.context[this.context.length-1]};gr.braceIsBlock=function(t){var e=this.curContext();return e===me.f_expr||e===me.f_stat?!0:t===m.colon&&(e===me.b_stat||e===me.b_expr)?!e.isExpr:t===m._return||t===m.name&&this.exprAllowed?dt.test(this.input.slice(this.lastTokEnd,this.start)):t===m._else||t===m.semi||t===m.eof||t===m.parenR||t===m.arrow?!0:t===m.braceL?e===me.b_stat:t===m._var||t===m._const||t===m.name?!1:!this.exprAllowed};gr.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};gr.updateContext=function(t){var e,i=this.type;i.keyword&&t===m.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};gr.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};m.parenR.updateContext=m.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===me.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};m.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?me.b_stat:me.b_expr),this.exprAllowed=!0};m.dollarBraceL.updateContext=function(){this.context.push(me.b_tmpl),this.exprAllowed=!0};m.parenL.updateContext=function(t){var e=t===m._if||t===m._for||t===m._with||t===m._while;this.context.push(e?me.p_stat:me.p_expr),this.exprAllowed=!0};m.incDec.updateContext=function(){};m._function.updateContext=m._class.updateContext=function(t){t.beforeExpr&&t!==m._else&&!(t===m.semi&&this.curContext()!==me.p_stat)&&!(t===m._return&&dt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===m.colon||t===m.braceL)&&this.curContext()===me.b_stat)?this.context.push(me.f_expr):this.context.push(me.f_stat),this.exprAllowed=!1};m.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};m.backQuote.updateContext=function(){this.curContext()===me.q_tmpl?this.context.pop():this.context.push(me.q_tmpl),this.exprAllowed=!1};m.star.updateContext=function(t){if(t===m._function){var e=this.context.length-1;this.context[e]===me.f_expr?this.context[e]=me.f_expr_gen:this.context[e]=me.f_gen}this.exprAllowed=!0};m.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==m.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var $=Te.prototype;$.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,r;switch(o.type){case"Identifier":r=o.name;break;case"Literal":r=String(o.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&a==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}r="$"+r;var c=e[r];if(c){var p;a==="init"?p=this.strict&&c.init||c.get||c.set:p=c.init||c[a],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else c=e[r]={init:!1,get:!1,set:!1};c[a]=!0}};$.parseExpression=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===m.comma){var a=this.startNodeAt(i,o);for(a.expressions=[r];this.eat(m.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return r};$.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,r=-1,a=-1,c=-1;e?(r=e.parenthesizedAssign,a=e.trailingComma,c=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Rx,o=!0);var p=this.start,d=this.startLoc;(this.type===m.parenL||this.type===m.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var h=this.parseMaybeConditional(t,e);if(i&&(h=i.call(this,h,p,d)),this.type.isAssign){var _=this.startNodeAt(p,d);return _.operator=this.value,this.type===m.eq&&(h=this.toAssignable(h,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=h.start&&(e.shorthandAssign=-1),this.type===m.eq?this.checkLValPattern(h):this.checkLValSimple(h),_.left=h,this.next(),_.right=this.parseMaybeAssign(t),c>-1&&(e.doubleProto=c),this.finishNode(_,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return r>-1&&(e.parenthesizedAssign=r),a>-1&&(e.trailingComma=a),h};$.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(m.question)){var a=this.startNodeAt(i,o);return a.test=r,a.consequent=this.parseMaybeAssign(),this.expect(m.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return r};$.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||r.start===i&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,i,o,-1,t)};$.parseExprOp=function(t,e,i,o,r){var a=this.type.binop;if(a!=null&&(!r||this.type!==m._in)&&a>o){var c=this.type===m.logicalOR||this.type===m.logicalAND,p=this.type===m.coalesce;p&&(a=m.logicalAND.binop);var d=this.value;this.next();var h=this.start,_=this.startLoc,x=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),h,_,a,r),y=this.buildBinary(e,i,t,x,d,c||p);return(c&&this.type===m.coalesce||p&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(y,e,i,o,r)}return t};$.buildBinary=function(t,e,i,o,r,a){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var c=this.startNodeAt(t,e);return c.left=i,c.operator=r,c.right=o,this.finishNode(c,a?"LogicalExpression":"BinaryExpression")};$.parseMaybeUnary=function(t,e,i,o){var r=this.start,a=this.startLoc,c;if(this.isContextual("await")&&this.canAwait)c=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),d=this.type===m.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,d,o),this.checkExpressionErrors(t,!0),d?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&ok(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,c=this.finishNode(p,d?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===m.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),c=this.parsePrivateIdent(),this.type!==m._in&&this.unexpected();else{if(c=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return c;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(r,a);h.operator=this.value,h.prefix=!1,h.argument=c,this.checkLValSimple(c),this.next(),c=this.finishNode(h,"UpdateExpression")}}if(!i&&this.eat(m.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(r,a,c,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return c};function ok(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&ok(t.expression)}n(ok,"isPrivateFieldAccess");$.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprAtom(t,e);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var a=this.parseSubscripts(r,i,o,!1,e);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};$.parseSubscripts=function(t,e,i,o,r){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,c=!1;;){var p=this.parseSubscript(t,e,i,o,a,c,r);if(p.optional&&(c=!0),p===t||p.type==="ArrowFunctionExpression"){if(c){var d=this.startNodeAt(e,i);d.expression=p,p=this.finishNode(d,"ChainExpression")}return p}t=p}};$.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(m.arrow)};$.parseSubscriptAsyncArrow=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,o)};$.parseSubscript=function(t,e,i,o,r,a,c){var p=this.options.ecmaVersion>=11,d=p&&this.eat(m.questionDot);o&&d&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(m.bracketL);if(h||d&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var _=this.startNodeAt(e,i);_.object=t,h?(_.property=this.parseExpression(),this.expect(m.bracketR)):this.type===m.privateId&&t.type!=="Super"?_.property=this.parsePrivateIdent():_.property=this.parseIdent(this.options.allowReserved!=="never"),_.computed=!!h,p&&(_.optional=d),t=this.finishNode(_,"MemberExpression")}else if(!o&&this.eat(m.parenL)){var x=new Rx,y=this.yieldPos,w=this.awaitPos,k=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var S=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1,x);if(r&&!d&&this.shouldParseAsyncArrow())return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=y,this.awaitPos=w,this.awaitIdentPos=k,this.parseSubscriptAsyncArrow(e,i,S,c);this.checkExpressionErrors(x,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=w||this.awaitPos,this.awaitIdentPos=k||this.awaitIdentPos;var N=this.startNodeAt(e,i);N.callee=t,N.arguments=S,p&&(N.optional=d),t=this.finishNode(N,"CallExpression")}else if(this.type===m.backQuote){(d||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var V=this.startNodeAt(e,i);V.tag=t,V.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(V,"TaggedTemplateExpression")}return t};$.parseExprAtom=function(t,e,i){this.type===m.slash&&this.readRegexp();var o,r=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===m.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(o,"Super");case m._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case m.name:var a=this.start,c=this.startLoc,p=this.containsEsc,d=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&d.name==="async"&&!this.canInsertSemicolon()&&this.eat(m._function))return this.overrideContext(me.f_expr),this.parseFunction(this.startNodeAt(a,c),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(a,c),[d],!1,e);if(this.options.ecmaVersion>=8&&d.name==="async"&&this.type===m.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return d=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(m.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,c),[d],!0,e)}return d;case m.regexp:var h=this.value;return o=this.parseLiteral(h.value),o.regex={pattern:h.pattern,flags:h.flags},o;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return o=this.startNode(),o.value=this.type===m._null?null:this.type===m._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case m.parenL:var _=this.start,x=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(x)&&(t.parenthesizedAssign=_),t.parenthesizedBind<0&&(t.parenthesizedBind=_)),x;case m.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(m.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case m.braceL:return this.overrideContext(me.b_expr),this.parseObj(!1,t);case m._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};$.parseExprAtomDefault=function(){this.unexpected()};$.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===m.parenL&&!t)return this.parseDynamicImport(e);if(this.type===m.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};$.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var e=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};$.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};$.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};$.parseParenExpression=function(){this.expect(m.parenL);var t=this.parseExpression();return this.expect(m.parenR),t};$.shouldParseArrow=function(t){return!this.canInsertSemicolon()};$.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,r,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var c=this.start,p=this.startLoc,d=[],h=!0,_=!1,x=new Rx,y=this.yieldPos,w=this.awaitPos,k;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;)if(h?h=!1:this.expect(m.comma),a&&this.afterTrailingComma(m.parenR,!0)){_=!0;break}else if(this.type===m.ellipsis){k=this.start,d.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else d.push(this.parseMaybeAssign(!1,x,this.parseParenItem));var S=this.lastTokEnd,N=this.lastTokEndLoc;if(this.expect(m.parenR),t&&this.shouldParseArrow(d)&&this.eat(m.arrow))return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=y,this.awaitPos=w,this.parseParenArrowList(i,o,d,e);(!d.length||_)&&this.unexpected(this.lastTokStart),k&&this.unexpected(k),this.checkExpressionErrors(x,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=w||this.awaitPos,d.length>1?(r=this.startNodeAt(c,p),r.expressions=d,this.finishNodeAt(r,"SequenceExpression",S,N)):r=d[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var V=this.startNodeAt(i,o);return V.expression=r,this.finishNode(V,"ParenthesizedExpression")}else return r};$.parseParenItem=function(t){return t};$.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var ES=[];$.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===m.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,r,!0,!1),this.eat(m.parenL)?t.arguments=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1):t.arguments=ES,this.finishNode(t,"NewExpression")};$.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===m.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===m.backQuote,this.finishNode(i,"TemplateElement")};$.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(m.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};$.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===m.star)&&!dt.test(this.input.slice(this.lastTokEnd,this.start))};$.parseObj=function(t,e){var i=this.startNode(),o=!0,r={};for(i.properties=[],this.next();!this.eat(m.braceR);){if(o)o=!1;else if(this.expect(m.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(m.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,r,e),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};$.parseProperty=function(t,e){var i=this.startNode(),o,r,a,c;if(this.options.ecmaVersion>=9&&this.eat(m.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===m.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(a=this.start,c=this.startLoc),t||(o=this.eat(m.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(r=!0,o=this.options.ecmaVersion>=9&&this.eat(m.star),this.parsePropertyName(i)):r=!1,this.parsePropertyValue(i,t,o,r,a,c,e,p),this.finishNode(i,"Property")};$.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};$.parsePropertyValue=function(t,e,i,o,r,a,c,p){(i||o)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,c),t.kind="init"):this.options.ecmaVersion>=6&&this.type===m.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==m.comma&&this.type!==m.braceR&&this.type!==m.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,a,this.copyNode(t.key)):this.type===m.eq&&c?(c.shorthandAssign<0&&(c.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};$.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(m.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(m.bracketR),t.key;t.computed=!1}return t.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};$.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};$.parseMethod=function(t,e,i){var o=this.startNode(),r=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Gg(e,o.generator)|Jg|(i?Q1:0)),this.expect(m.parenL),o.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(o,"FunctionExpression")};$.parseArrowExpression=function(t,e,i,o){var r=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.enterScope(Gg(i,!1)|q1),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(t,"ArrowFunctionExpression")};$.parseFunctionBody=function(t,e,i,o){var r=e&&this.type!==m.braceL,a=this.strict,c=!1;if(r)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||p)&&(c=this.strictDirective(this.end),c&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var d=this.labels;this.labels=[],c&&(this.strict=!0),this.checkParams(t,!a&&!c&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,tk),t.body=this.parseBlock(!1,void 0,c&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=d}this.exitScope()};$.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};$.checkParams=function(t,e){for(var i=Object.create(null),o=0,r=t.params;o<r.length;o+=1){var a=r[o];this.checkLValInnerPattern(a,zg,e?null:i)}};$.parseExprList=function(t,e,i,o){for(var r=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(m.comma),e&&this.afterTrailingComma(t))break;var c=void 0;i&&this.type===m.comma?c=null:this.type===m.ellipsis?(c=this.parseSpread(o),o&&this.type===m.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):c=this.parseMaybeAssign(!1,o),r.push(c)}return r};$.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};$.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};$.parseIdentNode=function(){var t=this.startNode();return this.type===m.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=m.name):this.unexpected(),t};$.parsePrivateIdent=function(){var t=this.startNode();return this.type===m.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};$.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(m.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};$.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Nx=Te.prototype;Nx.raise=function(t,e){var i=$1(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};Nx.raiseRecoverable=Nx.raise;Nx.curPosition=function(){if(this.options.locations)return new dm(this.curLine,this.pos-this.lineStart)};var Bi=Te.prototype,NS=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Bi.enterScope=function(t){this.scopeStack.push(new NS(t))};Bi.exitScope=function(){this.scopeStack.pop()};Bi.treatFunctionsAsVarInScope=function(t){return t.flags&xr||!this.inModule&&t.flags&fm};Bi.declareName=function(t,e,i){var o=!1;if(e===qt){var r=this.currentScope();o=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&r.flags&fm&&delete this.undefinedExports[t]}else if(e===ek){var a=this.currentScope();a.lexical.push(t)}else if(e===Z1){var c=this.currentScope();this.treatFunctionsAsVar?o=c.lexical.indexOf(t)>-1:o=c.lexical.indexOf(t)>-1||c.var.indexOf(t)>-1,c.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var d=this.scopeStack[p];if(d.lexical.indexOf(t)>-1&&!(d.flags&X1&&d.lexical[0]===t)||!this.treatFunctionsAsVarInScope(d)&&d.functions.indexOf(t)>-1){o=!0;break}if(d.var.push(t),this.inModule&&d.flags&fm&&delete this.undefinedExports[t],d.flags&Hg)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Bi.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Bi.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Bi.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Hg)return e}};Bi.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Hg&&!(e.flags&q1))return e}};var Ax=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Px(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),_m=Te.prototype;_m.startNode=function(){return new Ax(this,this.start,this.startLoc)};_m.startNodeAt=function(t,e){return new Ax(this,t,e)};function nk(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(nk,"finishNodeAt");_m.finishNode=function(t,e){return nk.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};_m.finishNodeAt=function(t,e,i,o){return nk.call(this,t,e,i,o)};_m.copyNode=function(t){var e=new Ax(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var rk="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",sk=rk+" Extended_Pictographic",ak=sk,uk=ak+" EBase EComp EMod EPres ExtPict",lk=uk,PS=lk,RS={9:rk,10:sk,11:ak,12:uk,13:lk,14:PS},AS="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",VS={9:"",10:"",11:"",12:"",13:"",14:AS},Y1="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ck="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",pk=ck+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",dk=pk+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",fk=dk+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",mk=fk+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",MS=mk+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",BS={9:ck,10:pk,11:dk,12:fk,13:mk,14:MS},hk={};function LS(t){var e=hk[t]={binary:Vi(RS[t]+" "+Y1),binaryOfStrings:Vi(VS[t]),nonBinary:{General_Category:Vi(Y1),Script:Vi(BS[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(LS,"buildUnicodeData");for(Sx=0,Og=[9,10,11,12,13,14];Sx<Og.length;Sx+=1)U1=Og[Sx],LS(U1);var U1,Sx,Og,D=Te.prototype,Bt=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=hk[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");Bt.prototype.reset=n(function(e,i,o){var r=o.indexOf("v")!==-1,a=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)},"reset");Bt.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Bt.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return-1;var a=o.charCodeAt(e);if(!(i||this.switchU)||a<=55295||a>=57344||e+1>=r)return a;var c=o.charCodeAt(e+1);return c>=56320&&c<=57343?(a<<10)+c-56613888:a},"at");Bt.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return r;var a=o.charCodeAt(e),c;return!(i||this.switchU)||a<=55295||a>=57344||e+1>=r||(c=o.charCodeAt(e+1))<56320||c>57343?e+1:e+2},"nextIndex");Bt.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Bt.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Bt.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Bt.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");Bt.prototype.eatChars=n(function(e,i){i===void 0&&(i=!1);for(var o=this.pos,r=0,a=e;r<a.length;r+=1){var c=a[r],p=this.at(o,i);if(p===-1||p!==c)return!1;o=this.nextIndex(o,i)}return this.pos=o,!0},"eatChars");D.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=!1,r=!1,a=0;a<i.length;a++){var c=i.charAt(a);e.indexOf(c)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(c,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),c==="u"&&(o=!0),c==="v"&&(r=!0)}this.options.ecmaVersion>=15&&o&&r&&this.raise(t.start,"Invalid regular expression flag")};D.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};D.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};D.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};D.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};D.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};D.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};D.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};D.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};D.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return r!==-1&&r<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};D.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};D.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};D.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};D.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};D.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};D.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};D.regexp_eatSyntaxCharacter=function(t){var e=t.current();return _k(e)?(t.lastIntValue=e,t.advance(),!0):!1};function _k(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(_k,"isSyntaxCharacter");D.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!_k(i);)t.advance();return t.pos!==e};D.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};D.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};D.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};D.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Mi(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Mi(t.lastIntValue);return!0}return!1};D.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),DS(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function DS(t){return $t(t,!0)||t===36||t===95}n(DS,"isRegExpIdentifierStart");D.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),OS(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function OS(t){return _r(t,!0)||t===36||t===95||t===8204||t===8205}n(OS,"isRegExpIdentifierPart");D.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};D.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};D.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};D.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};D.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};D.regexp_eatZero=function(t){return t.current()===48&&!Vx(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};D.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};D.regexp_eatControlLetter=function(t){var e=t.current();return vk(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function vk(t){return t>=65&&t<=90||t>=97&&t<=122}n(vk,"isControlLetter");D.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(o&&r>=55296&&r<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var c=t.lastIntValue;if(c>=56320&&c<=57343)return t.lastIntValue=(r-55296)*1024+(c-56320)+65536,!0}t.pos=a,t.lastIntValue=r}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&FS(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function FS(t){return t>=0&&t<=1114111}n(FS,"isValidUnicode");D.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};D.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var xk=0,Kt=1,pt=2;D.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(jS(e))return t.lastIntValue=-1,t.advance(),Kt;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===pt&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return xk};function jS(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(jS,"isCharacterClassEscape");D.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),Kt}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r)}return xk};D.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){mm(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};D.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Kt;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return pt;t.raise("Invalid property name")};D.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";gk(e=t.current());)t.lastStringValue+=Mi(e),t.advance();return t.lastStringValue!==""};function gk(t){return vk(t)||t===95}n(gk,"isUnicodePropertyNameCharacter");D.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";YS(e=t.current());)t.lastStringValue+=Mi(e),t.advance();return t.lastStringValue!==""};function YS(t){return gk(t)||Vx(t)}n(YS,"isUnicodePropertyValueCharacter");D.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};D.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===pt&&t.raise("Negated character class may contain strings"),!0}return!1};D.regexp_classContents=function(t){return t.current()===93?Kt:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Kt)};D.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};D.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||wk(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};D.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};D.regexp_classSetExpression=function(t){var e=Kt,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===pt&&(e=pt);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==pt&&(e=Kt);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===pt&&(e=pt)}};D.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};D.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Kt:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};D.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===pt&&t.raise("Negated character class may contain strings"),o;t.pos=e}if(t.eat(92)){var r=this.regexp_eatCharacterClassEscape(t);if(r)return r;t.pos=e}return null};D.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};D.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===pt&&(e=pt);return e};D.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Kt:pt};D.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&US(i)||WS(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function US(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}n(US,"isClassSetReservedDoublePunctuatorCharacter");function WS(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}n(WS,"isClassSetSyntaxCharacter");D.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return JS(e)?(t.lastIntValue=e,t.advance(),!0):!1};function JS(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}n(JS,"isClassSetReservedPunctuator");D.regexp_eatClassControlLetter=function(t){var e=t.current();return Vx(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};D.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};D.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Vx(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Vx(t){return t>=48&&t<=57}n(Vx,"isDecimalDigit");D.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;yk(i=t.current());)t.lastIntValue=16*t.lastIntValue+bk(i),t.advance();return t.pos!==e};function yk(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n(yk,"isHexDigit");function bk(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n(bk,"hexToInt");D.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};D.regexp_eatOctalDigit=function(t){var e=t.current();return wk(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function wk(t){return t>=48&&t<=55}n(wk,"isOctalDigit");D.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var r=t.current();if(!yk(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+bk(r),t.advance()}return!0};var Kg=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Px(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),Z=Te.prototype;Z.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Kg(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};Z.getToken=function(){return this.next(),new Kg(this)};typeof Symbol<"u"&&(Z[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===m.eof,value:e}}}});Z.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(m.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};Z.readToken=function(t){return $t(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};Z.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};Z.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,r=e;(o=H1(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};Z.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!vr(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};Z.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&G1.test(String.fromCharCode(t)))++this.pos;else break e}}};Z.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};Z.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))};Z.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(m.assign,2):this.finishOp(m.slash,1)};Z.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?m.star:m.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=m.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(m.assign,i+1):this.finishOp(o,i)};Z.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(m.assign,3)}return this.finishOp(t===124?m.logicalOR:m.logicalAND,2)}return e===61?this.finishOp(m.assign,2):this.finishOp(t===124?m.bitwiseOR:m.bitwiseAND,1)};Z.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)};Z.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||dt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(m.incDec,2):e===61?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)};Z.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(m.assign,i+1):this.finishOp(m.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(m.relational,i))};Z.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(m.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(t===61?m.eq:m.prefix,1)};Z.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(m.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(m.assign,3)}return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)};Z.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),$t(e,!0)||e===92))return this.finishToken(m.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Mi(e)+"'")};Z.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Mi(t)+"'")};Z.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};Z.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(dt.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var r=this.input.slice(i,this.pos);++this.pos;var a=this.pos,c=this.readWord1();this.containsEsc&&this.unexpected(a);var p=this.regexpState||(this.regexpState=new Bt(this));p.reset(i,r,c),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var d=null;try{d=new RegExp(r,c)}catch(h){}return this.finishToken(m.regexp,{pattern:r,flags:c,value:d})};Z.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,r=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,c=0,p=0,d=0,h=e==null?1/0:e;d<h;++d,++this.pos){var _=this.input.charCodeAt(this.pos),x=void 0;if(o&&_===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),d===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=_;continue}if(_>=97?x=_-97+10:_>=65?x=_-65+10:_>=48&&_<=57?x=_-48:x=1/0,x>=t)break;p=_,c=c*t+x}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||e!=null&&this.pos-a!==e?null:c};function HS(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n(HS,"stringToNumber");function Tk(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(Tk,"stringToBigInt");Z.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=Tk(this.input.slice(e,this.pos)),++this.pos):$t(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,i)};Z.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var r=Tk(this.input.slice(e,this.pos));return++this.pos,$t(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,r)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),$t(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=HS(this.input.slice(e,this.pos),i);return this.finishToken(m.num,a)};Z.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};Z.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(vr(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(m.string,e)};var kk={};Z.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===kk)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};Z.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw kk;this.raise(t,e)};Z.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===m.template||this.type===m.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(m.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(vr(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};Z.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};Z.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Mi(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(o,8);return r>255&&(o=o.slice(0,-1),r=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return vr(e)?"":String.fromCharCode(e)}};Z.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};Z.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(_r(r,o))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var c=this.readCodePoint();(e?$t:_r)(c,o)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=Mi(c),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};Z.readWord=function(){var t=this.readWord1(),e=m.name;return this.keywords.test(t)&&(e=Ug[t]),this.finishToken(e,t)};var GS="8.11.3";Te.acorn={Parser:Te,version:GS,defaultOptions:jg,Position:dm,SourceLocation:Px,getLineInfo:$1,Node:Ax,TokenType:ae,tokTypes:m,keywordTypes:Ug,TokContext:bt,tokContexts:me,isIdentifierChar:_r,isIdentifierStart:$t,Token:Kg,isNewLine:vr,lineBreak:dt,lineBreakG:xS,nonASCIIwhitespace:G1};function Ik(t,e){return Te.parse(t,e)}n(Ik,"parse");var zS=function(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i},$S=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Mx,ko=class{constructor(){Mx.set(this,[]),this.visitor=new hr,this.scope=this.visitor.scope,this.scope.set("print",e=>console.log(...e)),this.defineObject("console",console),this.defineObject("Math",Math),this.defineObject("String",String),this.defineObject("Array",Array),this.defineObject("Date",Date)}defineObject(e,i){this.visitor.on(e,(o,r)=>{if(o.type==="Identifier")return i;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=r.visitNode(o.callee.property),c=o.arguments.map(d=>r.visitNode(d)),p=i[a];return p?p.apply(i,c):"__continue_exec"}return"__continue_exec"})}calc2(e){try{let i=Ik(e,{ecmaVersion:2020});zS(this,Mx,i.body,"f")}catch(i){throw new zt(i.message)}return this.visitor.setAST($S(this,Mx,"f")),this.visitor.run()}};n(ko,"Jinter");Mx=new WeakMap;var vm,Sk,Ck,Ek,Bx=class{constructor(e){vm.add(this),this.session=e}stats(e,i,o){return I(this,void 0,void 0,function*(){let r=new URL(e);r.searchParams.set("ver","2"),r.searchParams.set("c",i.client_name.toLowerCase()),r.searchParams.set("cbrver",i.client_version),r.searchParams.set("cver",i.client_version);for(let c of Object.keys(o))r.searchParams.set(c,o[c]);return yield this.session.http.fetch(r)})}execute(e,i){return I(this,void 0,void 0,function*(){var o,r;let a;if(i&&!i.protobuf){if(a=Object.assign({},i),Reflect.has(a,"browseId")&&f(this,vm,"m",Ek).call(this,a.browseId)&&!this.session.logged_in)throw new b("You must be signed in to perform this operation.");Reflect.has(a,"override_endpoint")&&delete a.override_endpoint,Reflect.has(a,"parse")&&delete a.parse,Reflect.has(a,"request")&&delete a.request,Reflect.has(a,"clientActions")&&delete a.clientActions,Reflect.has(a,"settingItemIdForClient")&&delete a.settingItemIdForClient,Reflect.has(a,"action")&&(a.actions=[a.action],delete a.action),Reflect.has(a,"boolValue")&&(a.newValue={boolValue:a.boolValue},delete a.boolValue),Reflect.has(a,"token")&&(a.continuation=a.token,delete a.token),(a==null?void 0:a.client)==="YTMUSIC"&&(a.isAudioOnly=!0)}else i&&(a=i.serialized_data);let c=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield this.session.http.fetch(c,{method:"POST",body:i!=null&&i.protobuf?a:JSON.stringify(a||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let d=l.parseResponse(yield p.json());if(f(this,vm,"m",Ck).call(this,d)&&((r=(o=d.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||r===void 0?void 0:r.type)==="navigateAction"){let h=d.on_response_received_actions.firstOfType(gi);h&&(d=yield h.endpoint.call(this,{parse:!0}))}return d}return f(this,vm,"m",Sk).call(this,p)})}};n(Bx,"Actions");vm=new WeakSet,Sk=n(function(e){return I(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),Ck=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),Ek=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var qg=Bx;var Lt="Player",Qe=class{constructor(e,i,o,r){this.nsig_sc=o,this.sig_sc=i,this.sts=e,this.player_id=r}static create(e){return I(this,arguments,void 0,function*(i,o=W.shim.fetch){let r=new URL("/iframe_api",xe.URLS.YT_BASE),a=yield o(r);if(a.status!==200)throw new yt("Failed to request player id");let c=yield a.text(),p=je(c,"player\\/","\\/");if(Y.info(Lt,`Got player id (${p}). Checking for cached players..`),!p)throw new yt("Failed to get player id");if(i){let k=yield Qe.fromCache(i,p);if(k)return Y.info(Lt,"Found up-to-date player data in cache."),k}let d=new URL(`/s/player/${p}/player_ias.vflset/en_US/base.js`,xe.URLS.YT_BASE);Y.info(Lt,`Could not find any cached player. Will download a new player from ${d}.`);let h=yield o(d,{headers:{"user-agent":Ji("desktop")}});if(!h.ok)throw new yt(`Failed to get player data: ${h.status}`);let _=yield h.text(),x=this.extractSigTimestamp(_),y=this.extractSigSourceCode(_),w=this.extractNSigSourceCode(_);return Y.info(Lt,`Got signature timestamp (${x}) and algorithms needed to decipher signatures.`),yield Qe.fromSource(i,x,y,w,p)})}decipher(e,i,o,r){if(e=e||i||o,!e)throw new yt("No valid URL to decipher");let a=new URLSearchParams(e),c=new URL(a.get("url")||e);if(i||o){let _=W.shim.calculate(this.sig_sc,{sig:a.get("s")});if(Y.info(Lt,`Transformed signature from ${a.get("s")} to ${_}.`),typeof _!="string")throw new yt("Failed to decipher signature");let x=a.get("sp");x?c.searchParams.set(x,_):c.searchParams.set("signature",_)}let p=c.searchParams.get("n");if(p){let _;if(r&&r.has(p))_=r.get(p);else{if(_=W.shim.calculate(this.nsig_sc,{nsig:p}),Y.info(Lt,`Transformed n signature from ${p} to ${_}.`),typeof _!="string")throw new yt("Failed to decipher nsig");_.startsWith("enhanced_except_")?Y.warn(Lt,"Could not transform nsig, download may be throttled."):r&&r.set(p,_)}c.searchParams.set("n",_)}switch(c.searchParams.get("c")){case"WEB":c.searchParams.set("cver",xe.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":c.searchParams.set("cver",xe.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":c.searchParams.set("cver",xe.CLIENTS.WEB_KIDS.VERSION);break;case"ANDROID":c.searchParams.set("cver",xe.CLIENTS.ANDROID.VERSION);break;case"ANDROID_MUSIC":c.searchParams.set("cver",xe.CLIENTS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":c.searchParams.set("cver",xe.CLIENTS.TV_EMBEDDED.VERSION);break}let h=c.toString();return Y.info(Lt,`Deciphered URL: ${h}`),c.toString()}static fromCache(e,i){return I(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let r=new DataView(o);if(r.getUint32(0,!0)!==Qe.LIBRARY_VERSION)return null;let c=r.getUint32(4,!0),p=r.getUint32(8,!0),d=o.slice(12,12+p),h=o.slice(12+p),_=ht.decompress(new TextDecoder().decode(d)),x=ht.decompress(new TextDecoder().decode(h));return new Qe(c,_,x,i)})}static fromSource(e,i,o,r,a){return I(this,void 0,void 0,function*(){let c=new Qe(i,o,r,a);return yield c.cache(e),c})}cache(e){return I(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(ht.compress(this.sig_sc)),r=i.encode(ht.compress(this.nsig_sc)),a=new ArrayBuffer(12+o.byteLength+r.byteLength),c=new DataView(a);c.setUint32(0,Qe.LIBRARY_VERSION,!0),c.setUint32(4,this.sts,!0),c.setUint32(8,o.byteLength,!0),new Uint8Array(a).set(o,12),new Uint8Array(a).set(r,12+o.byteLength),yield e.set(this.player_id,new Uint8Array(a))})}static extractSigTimestamp(e){return parseInt(je(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,r;let a=je(e,'function(a){a=a.split("")','return a.join("")}'),c=(r=(o=(i=a==null?void 0:a.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||r===void 0?void 0:r.trim(),p=je(e,`var ${c}={`,"};");return(!p||!a)&&Y.warn(Lt,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${c}={${p}}${a} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=e.match(new RegExp('b=(?:a\\.split\\(|String\\.prototype\\.split\\.call\\(a,)\\n?(?:""|\\("",""\\))\\).*?\\}return (?:b\\.join\\(|Array\\.prototype\\.join\\.call\\(b,)\\n?(?:""|\\("",""\\))\\)\\}',"s"));return i?`function descramble_nsig(a) { let ${i[0]} descramble_nsig(nsig)`:(Y.warn(Lt,"Failed to extract nsig decipher algorithm."),"function descramble_nsig(a) { return a } descramble_nsig(nsig);")}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,xe.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 11}};n(Qe,"Player");var Io,Pk,Rk,Ak,Nk,Xg;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(Xg||(Xg={}));var yr="Session",xm=class extends wr{constructor(e,i,o,r,a,c,p,d){super(),this.http=new Kx(this,c,p),this.actions=new qg(this),this.logged_in=!!c,this.cache=d,this.account_index=r,this.key=i,this.api_version=o,this.context=e,this.player=a}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(){return I(this,arguments,void 0,function*(e={}){let{context:i,api_key:o,api_version:r,account_index:a}=yield Io.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache);return new Io(i,o,r,a,e.retrieve_player===!1?void 0:yield Qe.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static fromCache(e,i){return I(this,void 0,void 0,function*(){let o=yield e.get("innertube_session_data");if(!o)return null;let r=new TextDecoder().decode(o.slice(4));try{let a=JSON.parse(ht.decompress(r));return i.visitor_data&&(a.context.client.visitorData=i.visitor_data),i.lang&&(a.context.client.hl=i.lang),i.location&&(a.context.client.gl=i.location),i.on_behalf_of_user&&(a.context.user.onBehalfOfUser=i.on_behalf_of_user),a.context.client.timeZone=i.time_zone,a.context.client.platform=i.device_category.toUpperCase(),a.context.client.clientName=i.client_name,a.context.user.enableSafetyMode=i.enable_safety_mode,a}catch(a){return Y.error(yr,"Failed to parse session data from cache.",a),null}})}static getSessionData(){return I(this,arguments,void 0,function*(e="",i="",o=0,r="",a=!1,c=!1,p="desktop",d=Xg.WEB,h=Intl.DateTimeFormat().resolvedOptions().timeZone,_=W.shim.fetch,x,y,w=!0){let k={lang:e,location:i,time_zone:h,device_category:p,client_name:d,enable_safety_mode:a,visitor_data:r,on_behalf_of_user:x},S;if(y&&w){let N=yield this.fromCache(y,k);N&&(Y.info(yr,"Found session data in cache."),S=N)}if(!S){Y.info(yr,"Generating session data.");let N=ne.WEB.API_KEY,V=ne.WEB.API_VERSION,M={hl:e||"en",gl:i||"US",remote_host:"",visitor_data:r||rg(Ai(11),Math.floor(Date.now()/1e3)),client_name:d,client_version:ne.WEB.VERSION,device_category:p.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:h,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:a};if(!c)try{let j=yield f(this,Io,"m",Rk).call(this,k,_);N=j.api_key,V=j.api_version,M=j.context_data}catch(j){Y.error(yr,"Failed to retrieve session data from server. Session data generated locally will be used instead.",j)}S={api_key:N,api_version:V,context:f(this,Io,"m",Ak).call(this,M)},w&&(yield f(this,Io,"m",Pk).call(this,S,y))}return Y.debug(yr,"Session data:",S),Object.assign(Object.assign({},S),{account_index:o})})}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};n(xm,"Session");Io=xm,Pk=n(function(e,i){return I(this,void 0,void 0,function*(){if(!i)return;Y.info(yr,"Compressing and caching session data.");let o=new TextEncoder().encode(ht.compress(JSON.stringify(e))),r=new ArrayBuffer(4+o.byteLength);new DataView(r).setUint32(0,o.byteLength,!0),new Uint8Array(r).set(o,4),yield i.set("innertube_session_data",new Uint8Array(r))})},"_Session_storeSession"),Rk=n(function(e){return I(this,arguments,void 0,function*(i,o=W.shim.fetch){let r=Ai(11);i.visitor_data&&(r=f(this,Io,"m",Nk).call(this,i.visitor_data));let a=new URL("/sw.js_data",tt.YT_BASE),c=yield o(a,{headers:{"Accept-Language":i.lang||"en-US","User-Agent":Ji("desktop"),Accept:"*/*",Referer:`${tt.YT_BASE}/sw.js`,Cookie:`PREF=tz=${i.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${r};`}});if(!c.ok)throw new bo(`Failed to retrieve session data: ${c.status}`);let p=yield c.text();if(!p.startsWith(")]}'"))throw new bo("Invalid JSPB response");let h=JSON.parse(p.replace(/^\)\]\}'/,""))[0][2],_=ne.WEB.API_VERSION,[[x],y]=h,w=x[61],k=w[w.length-1];return{context_data:{hl:i.lang||x[0],gl:i.location||x[2],remote_host:x[3],visitor_data:x[13],client_name:i.client_name,client_version:x[16],os_name:x[17],os_version:x[18],time_zone:x[79]||i.time_zone,device_category:i.device_category,browser_name:x[86],browser_version:x[87],device_make:x[11],device_model:x[12],app_install_data:k,enable_safety_mode:i.enable_safety_mode},api_key:y,api_version:_}})},"_Session_getSessionData"),Ak=n(function(e){let i={client:{hl:e.hl,gl:e.gl,remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:tt.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",mainAppWebInfo:{graftUrl:tt.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(i.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},"_Session_buildContext"),Nk=n(function(e){return sg(e).id},"_Session_getVisitorID");var Qg=xm;var Zg={};ye(Zg,{NextEndpoint:()=>Li,PlayerEndpoint:()=>Xt,Reel:()=>mt});var Li={};ye(Li,{PATH:()=>KS,build:()=>qS});var KS="/next";function qS(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(qS,"build");var Xt={};ye(Xt,{PATH:()=>XS,build:()=>QS});var XS="/player";function QS(t){return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:t.params})}n(QS,"build");var mt={};ye(mt,{ReelItemWatchEndpoint:()=>Lx,ReelWatchSequenceEndpoint:()=>Dx});var Lx={};ye(Lx,{PATH:()=>ZS,build:()=>eC});var ZS="/reel/reel_item_watch";function eC(t){var e,i;return{disablePlayerResponse:!1,playerRequest:{videoId:t.video_id,params:(e=t.params)!==null&&e!==void 0?e:"CAUwAg%3D%3D"},params:(i=t.params)!==null&&i!==void 0?i:"CAUwAg%3D%3D",client:t.client}}n(eC,"build");var Dx={};ye(Dx,{PATH:()=>tC,build:()=>iC});var tC="/reel/reel_watch_sequence";function iC(t){return{sequenceParams:t.sequence_params}}n(iC,"build");var So,Ox=class extends Tn{constructor(e,i,o,r){var a;if(super(e,i,o),So.set(this,void 0),r){let c=l.parseResponse(r.data);c.entries&&(this.watch_next_feed=c.entries),c.continuation_endpoint&&E(this,So,(a=c.continuation_endpoint)===null||a===void 0?void 0:a.as(Ut),"f")}}getWatchNextContinuation(){return I(this,void 0,void 0,function*(){var e;if(!f(this,So,"f"))throw new b("Continuation not found");let i=yield this.actions.execute(mt.ReelWatchSequenceEndpoint.PATH,Object.assign(Object.assign({},mt.ReelWatchSequenceEndpoint.build({sequence_params:f(this,So,"f").token})),{parse:!0}));return i.entries&&(this.watch_next_feed=i.entries),E(this,So,(e=i.continuation_endpoint)===null||e===void 0?void 0:e.as(Ut),"f"),this})}get wn_has_continuation(){return!!f(this,So,"f")}};n(Ox,"ShortFormVideoInfo");So=new WeakMap;var e0=Ox;var Di,br=class{constructor(e){Di.set(this,void 0),E(this,Di,e,"f")}static create(){return I(this,arguments,void 0,function*(e={}){return new br(yield Qg.create(e))})}getInfo(e,i){return I(this,void 0,void 0,function*(){var o,r,a,c,p;am({target:e});let d;if(e instanceof v)d=Li.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(r=e.payload)===null||r===void 0?void 0:r.playlistId,params:(a=e.payload)===null||a===void 0?void 0:a.params,playlist_index:(c=e.payload)===null||c===void 0?void 0:c.index});else if(typeof e=="string")d=Li.build({video_id:e});else throw new b("Invalid target. Expected a video id or NavigationEndpoint.",e);if(!d.videoId)throw new b("Video id cannot be empty",d);let h=Xt.build({video_id:d.videoId,playlist_id:d==null?void 0:d.playlistId,client:i,sts:(p=f(this,Di,"f").player)===null||p===void 0?void 0:p.sts}),_=this.actions.execute(Xt.PATH,h),x=this.actions.execute(Li.PATH,d),y=yield Promise.all([_,x]),w=Ai(16);return new nm(y,this.actions,w)})}getBasicInfo(e,i){return I(this,void 0,void 0,function*(){var o;am({video_id:e});let r=yield this.actions.execute(Xt.PATH,Xt.build({video_id:e,client:i,sts:(o=f(this,Di,"f").player)===null||o===void 0?void 0:o.sts})),a=Ai(16);return new nm([r],this.actions,a)})}getShortsVideoInfo(e,i){return I(this,void 0,void 0,function*(){am({video_id:e});let o=this.actions.execute(mt.ReelItemWatchEndpoint.PATH,mt.ReelItemWatchEndpoint.build({video_id:e,client:i})),r=this.actions.execute(mt.ReelWatchSequenceEndpoint.PATH,mt.ReelWatchSequenceEndpoint.build({sequence_params:ug(e)})),a=yield Promise.all([o,r]),c=Ai(16);return new e0([a[0]],this.actions,c,a[1])})}getStreamingData(e){return I(this,arguments,void 0,function*(i,o={}){let a=(yield this.getBasicInfo(i)).chooseFormat(o);return a.url=a.decipher(f(this,Di,"f").player),a})}download(e,i){return I(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}call(e,i){return e.call(this.actions,i)}get actions(){return f(this,Di,"f").actions}get session(){return f(this,Di,"f")}};n(br,"Innertube");Di=new WeakMap;var t0=br;var Vk={};var Mk=t0;var Bk="JsRuntime";function i0(t,e){Y.debug(Bk,`Evaluating JavaScript:
`,t);let i=new ko;for(let[r,a]of Object.entries(e))i.scope.set(r,a);let o=i.calc2(t);return Y.debug(Bk,"Done. Result:",o),o}n(i0,"calc2");var gm,o0,Fx,jx,Yx,Ux=class{constructor(e=!1,i){gm.add(this),o0.set(this,"Cache"),Fx.set(this,void 0),jx.set(this,void 0),E(this,Fx,i||"","f"),E(this,jx,e,"f")}get cache_dir(){return f(this,jx,"f")?f(this,Fx,"f"):""}get(e){return I(this,void 0,void 0,function*(){let i=yield f(this,gm,"m",Yx).call(this);if(!!i)return new Promise((o,r)=>{let a=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);a.onerror=r,a.onsuccess=function(){var c;let p=(c=this.result)===null||c===void 0?void 0:c.v;p instanceof ArrayBuffer?o(p):ArrayBuffer.isView(p)?o(p.buffer):o(void 0)}})})}set(e,i){return I(this,void 0,void 0,function*(){let o=yield f(this,gm,"m",Yx).call(this);if(!!o)return new Promise((r,a)=>{let c=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});c.onerror=a,c.onsuccess=()=>r()})})}remove(e){return I(this,void 0,void 0,function*(){let i=yield f(this,gm,"m",Yx).call(this);if(!!i)return new Promise((o,r)=>{let a=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);a.onerror=r,a.onsuccess=()=>o()})})}};n(Ux,"Cache");o0=new WeakMap,Fx=new WeakMap,jx=new WeakMap,gm=new WeakSet,Yx=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let r=e.open("youtubei.js",1);r.onsuccess=function(){i(this.result)},r.onerror=function(a){o("indexedDB request error"),console.error(a)},r.onupgradeneeded=function(){let a=this.result.createObjectStore("kv-store",{keyPath:"k"});a.transaction.oncomplete=function(){i(this.db)}}}):Y.warn(f(this,o0,"f"),"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");W.load({runtime:"browser",server:!1,info:{version:kx.version,bugs_url:kx.bugs.url,repo_url:kx.homepage.split("#")[0]},Cache:Ux,sha1Hash:Ag,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},calculate:i0,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var ike=Mk;export{qg as Actions,Gi as AppendContinuationItemsAction,Xg as ClientType,xe as Constants,so as Continuation,Ut as ContinuationCommand,Zg as Endpoints,wr as EventEmitter,Wi as FormatUtils,xg as Generator,xn as GridContinuation,Kx as HTTPClient,Hx as Helpers,t0 as Innertube,fn as ItemSectionContinuation,ht as LZW,bi as LiveChatContinuation,Y as Log,Pg as Misc,Sg as Mixins,_n as MusicPlaylistShelfContinuation,vn as MusicShelfContinuation,gi as NavigateAction,l as Parser,W as Platform,Qe as Player,gn as PlaylistPanelContinuation,ci as Proto,yi as ReloadContinuationItemsCommand,hn as SectionListContinuation,Qg as Session,mn as ShowMiniplayerCommand,Vk as Types,Fk as UniversalCache,qx as Utils,Ng as YT,to as YTNodes,ike as default};