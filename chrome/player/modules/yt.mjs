/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var e0=Object.defineProperty;var r=(t,e)=>e0(t,"name",{value:e,configurable:!0});var we=(t,e)=>{for(var i in e)e0(t,i,{get:e[i],enumerable:!0})};function i0(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,o=Object.getOwnPropertySymbols(t);n<o.length;n++)e.indexOf(o[n])<0&&Object.prototype.propertyIsEnumerable.call(t,o[n])&&(i[o[n]]=t[o[n]]);return i}r(i0,"__rest");function o0(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}r(o0,"__setFunctionName");function k(t,e,i,o){function n(a){return a instanceof i?a:new i(function(c){c(a)})}return r(n,"adopt"),new(i||(i=Promise))(function(a,c){function p(v){try{_(o.next(v))}catch(y){c(y)}}r(p,"fulfilled");function d(v){try{_(o.throw(v))}catch(y){c(y)}}r(d,"rejected");function _(v){v.done?a(v.value):n(v.value).then(p,d)}r(_,"step"),_((o=o.apply(t,e||[])).next())})}r(k,"__awaiter");function t0(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}r(t0,"__values");function Ei(t){return this instanceof Ei?(this.v=t,this):new Ei(t)}r(Ei,"__await");function r0(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),n,a=[];return n={},c("next"),c("throw"),c("return"),n[Symbol.asyncIterator]=function(){return this},n;function c(g){o[g]&&(n[g]=function(b){return new Promise(function(I,P){a.push([g,b,I,P])>1||p(g,b)})})}function p(g,b){try{d(o[g](b))}catch(I){y(a[0][3],I)}}function d(g){g.value instanceof Ei?Promise.resolve(g.value.v).then(_,v):y(a[0][2],g)}function _(g){p("next",g)}function v(g){p("throw",g)}function y(g,b){g(b),a.shift(),a.length&&p(a[0][0],a[0][1])}}r(r0,"__asyncGenerator");function n0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof t0=="function"?t0(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(a){i[a]=t[a]&&function(c){return new Promise(function(p,d){c=t[a](c),n(p,d,c.done,c.value)})}}function n(a,c,p,d){Promise.resolve(d).then(function(_){a({value:_,done:p})},c)}}r(n0,"__asyncValues");function f(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}r(f,"__classPrivateFieldGet");function S(t,e,i,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i}r(S,"__classPrivateFieldSet");var Jx={};we(Jx,{ChannelError:()=>Ir,InnertubeError:()=>w,MissingParamError:()=>Zf,OAuthError:()=>dx,ParsingError:()=>et,Platform:()=>F,PlayerError:()=>yt,SessionError:()=>Br,base64ToU8:()=>og,concatMemos:()=>vg,debugFetch:()=>AI,deepCompare:()=>fm,escapeStringRegexp:()=>Tg,generateRandomString:()=>mo,generateSidAuth:()=>PI,getRandomUserAgent:()=>ji,getStringBetweenStrings:()=>Be,hasKeys:()=>RI,isTextRun:()=>je,streamToIterable:()=>jx,throwIfMissing:()=>em,timeToSeconds:()=>Ce,u8ToBase64:()=>qe});var Fx={};we(Fx,{Maybe:()=>Pi,Memo:()=>qt,SuperParsedResult:()=>St,YTNode:()=>s,observe:()=>ie});var Kt,ce=class{static doLog(e,i,o){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let n=[`[${this.YTJS_TAG}]`];i&&n.push(`[${i}]`),this.log_map_[e](`${n.join("")}:`,...o||[])}static setLevel(...e){this.log_level_=e}};r(ce,"Log");Kt=ce;ce.YTJS_TAG="YOUTUBEJS";ce.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};ce.log_map_={[ce.Level.ERROR]:(...t)=>console.error(...t),[ce.Level.WARNING]:(...t)=>console.warn(...t),[ce.Level.INFO]:(...t)=>console.info(...t),[ce.Level.DEBUG]:(...t)=>console.debug(...t)};ce.log_level_=[ce.Level.WARNING];ce.one_time_warnings_issued_=new Set;ce.warnOnce=(t,...e)=>{Kt.one_time_warnings_issued_.has(t)||(Kt.doLog(ce.Level.WARNING,t,e),Kt.one_time_warnings_issued_.add(t))};ce.warn=(t,...e)=>Kt.doLog(ce.Level.WARNING,t,e);ce.error=(t,...e)=>Kt.doLog(ce.Level.ERROR,t,e);ce.info=(t,...e)=>Kt.doLog(ce.Level.INFO,t,e);ce.debug=(t,...e)=>Kt.doLog(ce.Level.DEBUG,t,e);var U=ce;var Lx,s0,Te,Ox,ae,It,Dt,Ni,a0=Symbol("ObservedArray.isObserved"),s=class{constructor(){Lx.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>f(this,Lx,"m",s0).call(this,i))}as(...e){if(!this.is(...e))throw new et(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new et(`Missing key ${e}`);return new Pi(this[e])}};r(s,"YTNode");Lx=new WeakSet,s0=r(function(e){return this.type===e.type},"_YTNode_is");s.type="YTNode";var Pi=class{constructor(e){Te.add(this),Ox.set(this,"Maybe"),ae.set(this,void 0),S(this,ae,e,"f")}get typeof(){return typeof f(this,ae,"f")}string(){return f(this,Te,"m",Dt).call(this,"string")}isString(){return f(this,Te,"m",It).call(this,"string")}number(){return f(this,Te,"m",Dt).call(this,"number")}isNumber(){return f(this,Te,"m",It).call(this,"number")}bigint(){return f(this,Te,"m",Dt).call(this,"bigint")}isBigint(){return f(this,Te,"m",It).call(this,"bigint")}boolean(){return f(this,Te,"m",Dt).call(this,"boolean")}isBoolean(){return f(this,Te,"m",It).call(this,"boolean")}symbol(){return f(this,Te,"m",Dt).call(this,"symbol")}isSymbol(){return f(this,Te,"m",It).call(this,"symbol")}undefined(){return f(this,Te,"m",Dt).call(this,"undefined")}isUndefined(){return f(this,Te,"m",It).call(this,"undefined")}null(){if(f(this,ae,"f")!==null)throw new TypeError(`Expected null, got ${typeof f(this,ae,"f")}`);return f(this,ae,"f")}isNull(){return f(this,ae,"f")===null}object(){return f(this,Te,"m",Dt).call(this,"object")}isObject(){return f(this,Te,"m",It).call(this,"object")}function(){return f(this,Te,"m",Dt).call(this,"function")}isFunction(){return f(this,Te,"m",It).call(this,"function")}array(){if(!Array.isArray(f(this,ae,"f")))throw new TypeError(`Expected array, got ${typeof f(this,ae,"f")}`);return f(this,ae,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new Pi(Reflect.get(i,o))}})}isArray(){return Array.isArray(f(this,ae,"f"))}node(){if(!(f(this,ae,"f")instanceof s))throw new TypeError(`Expected YTNode, got ${f(this,ae,"f").constructor.name}`);return f(this,ae,"f")}isNode(){return f(this,ae,"f")instanceof s}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof f(this,ae,"f")}`);return f(this,ae,"f")}isObserved(){var e;return(e=f(this,ae,"f"))===null||e===void 0?void 0:e[a0]}parsed(){if(!(f(this,ae,"f")instanceof St))throw new TypeError(`Expected SuperParsedResult, got ${typeof f(this,ae,"f")}`);return f(this,ae,"f")}isParsed(){return f(this,ae,"f")instanceof St}any(){return U.warn(f(this,Ox,"f"),"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),f(this,ae,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${f(this,ae,"f").constructor.name}`);return f(this,ae,"f")}isInstanceof(e){return f(this,ae,"f")instanceof e}};r(Pi,"Maybe");Ox=new WeakMap,ae=new WeakMap,Te=new WeakSet,It=r(function(e){return typeof f(this,ae,"f")===e},"_Maybe_checkPrimative"),Dt=r(function(e){if(!f(this,Te,"m",It).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return f(this,ae,"f")},"_Maybe_assertPrimative");var St=class{constructor(e){Ni.set(this,void 0),S(this,Ni,e,"f")}get is_null(){return f(this,Ni,"f")===null}get is_array(){return!this.is_null&&Array.isArray(f(this,Ni,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return f(this,Ni,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return f(this,Ni,"f")}};r(St,"SuperParsedResult");Ni=new WeakMap;function ie(t){return new Proxy(t,{get(e,i){return i=="get"?(o,n)=>e.find((a,c)=>{let p=fm(o,a);return p&&n&&e.splice(c,1),p}):i==a0?!0:i=="getAll"?(o,n)=>e.filter((a,c)=>{let p=fm(o,a);return p&&n&&e.splice(c,1),p}):i=="matchCondition"?o=>e.find(n=>o(n)):i=="filterType"?(...o)=>ie(e.filter(n=>!!n.is(...o))):i=="firstOfType"?(...o)=>e.find(n=>!!n.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>ie(e.map(n=>{if(n.is(...o))return n;throw new et(`Expected node of any type ${o.map(a=>a.type).join(", ")}, got ${n.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}r(ie,"observe");var qt=class extends Map{getType(...e){return e=e.flat(),ie(e.flatMap(i=>this.get(i.type)||[]))}};r(qt,"Memo");var wg={};we(wg,{Author:()=>A,ChildElement:()=>$h,EmojiRun:()=>Xt,Format:()=>Fv,Text:()=>u,TextRun:()=>Qt,Thumbnail:()=>x,VideoDetails:()=>hi});var xe={};we(xe,{CLIENTS:()=>se,INNERTUBE_HEADERS_BASE:()=>dk,OAUTH:()=>pk,STREAM_HEADERS:()=>Lt,URLS:()=>tt});var tt=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),pk=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),se=Object.freeze({iOS:{NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME:"WEB",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),Lt=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),dk=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var l={};we(l,{addRuntimeParser:()=>dg,applyMutations:()=>QT,getDynamicParsers:()=>SI,getParserByName:()=>Mf,hasParser:()=>Dv,parse:()=>Le,parseActions:()=>XT,parseArray:()=>De,parseC:()=>qT,parseFormats:()=>mg,parseItem:()=>ee,parseLC:()=>fg,parseRR:()=>jv,parseResponse:()=>CI,sanitizeClassName:()=>Df,setParserErrorHandler:()=>kI,shouldIgnore:()=>KT});var Hi={};we(Hi,{AboutChannel:()=>ym,AboutChannelView:()=>gm,AccountChannel:()=>bm,AccountItemSection:()=>Tm,AccountItemSectionHeader:()=>wm,AccountSectionList:()=>km,AddBannerToLiveChatCommand:()=>mb,AddChatItemAction:()=>y_,AddLiveChatTickerItemAction:()=>hb,Alert:()=>Vo,AlertWithButton:()=>Rm,AnalyticsMainAppKeyMetrics:()=>l0,AnalyticsRoot:()=>c0,AnalyticsShortsCarouselCard:()=>p0,AnalyticsVideo:()=>Vm,AnalyticsVodCarouselCard:()=>d0,AnchoredSection:()=>Rv,AppendContinuationItemsAction:()=>Ai,AttributionView:()=>Mm,AudioOnlyPlayability:()=>Bm,AuthorCommentBadge:()=>kh,AutomixPreviewVideo:()=>Dm,AvatarView:()=>Lm,BackstageImage:()=>Om,BackstagePost:()=>Zt,BackstagePostThread:()=>h0,BrowseFeedActions:()=>jm,BrowserMediaSession:()=>_0,Button:()=>T,ButtonView:()=>Vi,C4TabbedHeader:()=>Wo,CallToActionButton:()=>v0,Card:()=>x0,CardCollection:()=>fh,CarouselHeader:()=>mh,CarouselItem:()=>g0,CarouselLockup:()=>uh,Channel:()=>gh,ChannelAboutFullMetadata:()=>ya,ChannelAgeGate:()=>V0,ChannelExternalLinkView:()=>xm,ChannelFeaturedContent:()=>M0,ChannelHeaderLinks:()=>Ym,ChannelHeaderLinksView:()=>Um,ChannelMetadata:()=>yh,ChannelMobileHeader:()=>B0,ChannelOptions:()=>bh,ChannelOwnerEmptyState:()=>D0,ChannelSubMenu:()=>Ea,ChannelTagline:()=>ph,ChannelThumbnailWithLink:()=>L0,ChannelVideoPlayer:()=>O0,Chapter:()=>wh,ChildVideo:()=>F0,ChipCloud:()=>Go,ChipCloudChip:()=>Fe,ClipAdState:()=>Gm,ClipCreation:()=>Hm,ClipCreationScrubber:()=>Jm,ClipCreationTextInput:()=>Wm,ClipSection:()=>zm,CollaboratorInfoCardContent:()=>j0,CollageHeroImage:()=>Y0,Command:()=>U0,Comment:()=>Ko,CommentActionButtons:()=>Mo,CommentDialog:()=>My,CommentReplies:()=>Ah,CommentReplyDialog:()=>Ih,CommentSimplebox:()=>Dh,CommentThread:()=>Lh,CommentsEntryPointHeader:()=>Bh,CommentsEntryPointTeaser:()=>Mh,CommentsHeader:()=>ai,CommentsSimplebox:()=>Vh,CompactChannel:()=>By,CompactLink:()=>qo,CompactMix:()=>Dy,CompactMovie:()=>Ly,CompactPlaylist:()=>Oy,CompactStation:()=>Fy,CompactVideo:()=>jo,ConfirmDialog:()=>jy,ContentMetadataView:()=>Oh,ContentPreviewImageView:()=>Oo,ContinuationItem:()=>le,ConversationBar:()=>Yy,CopyLink:()=>Fh,CreatePlaylistDialog:()=>hm,CreatorHeart:()=>Fm,CtaGoToCreatorStudio:()=>f0,DataModelSection:()=>Am,DecoratedAvatarView:()=>jh,DecoratedPlayerBar:()=>Jh,DefaultPromoPanel:()=>Uy,DescriptionPreviewView:()=>Gh,DidYouMean:()=>Wy,DimChatItemAction:()=>_b,DislikeButtonView:()=>Hh,DownloadButton:()=>Jy,Dropdown:()=>Ro,DropdownItem:()=>mm,DynamicTextView:()=>zh,Element:()=>er,EmergencyOnebox:()=>Gy,EmojiPicker:()=>Rh,EmojiPickerCategory:()=>Hy,EmojiPickerCategoryButton:()=>zy,EmojiPickerUpsellCategory:()=>$y,EndScreenPlaylist:()=>qh,EndScreenVideo:()=>Xh,Endscreen:()=>Kh,EndscreenElement:()=>Ky,EngagementPanelSectionList:()=>ii,EngagementPanelTitleHeader:()=>$m,ExpandableMetadata:()=>th,ExpandableTab:()=>tr,ExpandableVideoDescriptionBody:()=>Qm,ExpandedShelfContents:()=>qy,Factoid:()=>ti,FancyDismissibleDialog:()=>Xy,FeedFilterChipBar:()=>Ft,FeedNudge:()=>Qy,FeedTabbedHeader:()=>Qh,FlexibleActionsView:()=>Zh,GameCard:()=>Zm,GameDetails:()=>Zy,Grid:()=>eb,GridChannel:()=>e_,GridHeader:()=>tb,GridMix:()=>ib,GridMovie:()=>ob,GridPlaylist:()=>t_,GridShow:()=>rb,GridVideo:()=>r_,GuideCollapsibleEntry:()=>nb,GuideCollapsibleSectionEntry:()=>sb,GuideDownloadsEntry:()=>ab,GuideEntry:()=>Gi,GuideSection:()=>ir,GuideSubscriptionsSection:()=>n_,HashtagHeader:()=>s_,HashtagTile:()=>ub,HeatMarker:()=>Yh,Heatmap:()=>Uh,HeroPlaylistThumbnail:()=>lb,HighlightsCarousel:()=>cb,HistorySuggestion:()=>pb,HorizontalCardList:()=>ei,HorizontalList:()=>eh,HorizontalMovieList:()=>db,IconLink:()=>u_,ImageBannerView:()=>l_,IncludingResultsFor:()=>fb,InfoPanelContainer:()=>p_,InfoPanelContent:()=>c_,InfoRow:()=>ah,InteractiveTabbedHeader:()=>d_,ItemSection:()=>Ge,ItemSectionHeader:()=>or,ItemSectionTab:()=>f_,ItemSectionTabbedHeader:()=>rr,KidsBlocklistPicker:()=>BT,KidsBlocklistPickerItem:()=>Av,KidsCategoriesHeader:()=>DT,KidsCategoryTab:()=>Vv,KidsHomeScreen:()=>LT,LikeButton:()=>h_,LikeButtonView:()=>__,LiveChat:()=>v_,LiveChatActionPanel:()=>w_,LiveChatAuthorBadge:()=>Yb,LiveChatAutoModMessage:()=>vb,LiveChatBanner:()=>g_,LiveChatBannerHeader:()=>x_,LiveChatBannerPoll:()=>xb,LiveChatDialog:()=>Ub,LiveChatHeader:()=>E_,LiveChatItemList:()=>N_,LiveChatMembershipItem:()=>gb,LiveChatMessageInput:()=>Wb,LiveChatPaidMessage:()=>yb,LiveChatPaidSticker:()=>bb,LiveChatParticipant:()=>P_,LiveChatParticipantsList:()=>R_,LiveChatPlaceholderItem:()=>wb,LiveChatProductItem:()=>Tb,LiveChatRestrictedParticipation:()=>kb,LiveChatTextMessage:()=>Ib,LiveChatTickerPaidMessageItem:()=>b_,LiveChatTickerPaidStickerItem:()=>Sb,LiveChatTickerSponsorItem:()=>Cb,LiveChatViewerEngagementMessage:()=>Eb,MacroMarkersInfoItem:()=>Km,MacroMarkersList:()=>qm,MacroMarkersListItem:()=>Do,MarkChatItemAsDeletedAction:()=>Pb,MarkChatItemsByAuthorAsDeletedAction:()=>Rb,Menu:()=>L,MenuNavigationItem:()=>A_,MenuPopup:()=>Jb,MenuServiceItem:()=>li,MenuServiceItemDownload:()=>Gb,MerchandiseItem:()=>$b,MerchandiseShelf:()=>D_,Message:()=>ui,MetadataBadge:()=>Je,MetadataRow:()=>Kb,MetadataRowContainer:()=>L_,MetadataRowHeader:()=>qb,MetadataScreen:()=>Xb,MicroformatData:()=>sr,Mix:()=>Qb,ModalWithTitleAndButton:()=>Zb,Movie:()=>ew,MovingThumbnail:()=>tw,MultiMarkersPlayerBar:()=>Wh,MultiPageMenu:()=>Hb,MultiPageMenuNotificationSection:()=>zb,MusicCardShelf:()=>iw,MusicCardShelfHeaderBasic:()=>O_,MusicCarouselShelf:()=>dw,MusicCarouselShelfBasicHeader:()=>Y_,MusicDescriptionShelf:()=>fw,MusicDetailHeader:()=>mw,MusicDownloadStateBadge:()=>hw,MusicEditablePlaylistDetailHeader:()=>_w,MusicElementHeader:()=>vw,MusicHeader:()=>xw,MusicImmersiveHeader:()=>gw,MusicInlineBadge:()=>F_,MusicItemThumbnailOverlay:()=>Et,MusicLargeCardItemCarousel:()=>yw,MusicMenuItemDivider:()=>V_,MusicMultiRowListItem:()=>U_,MusicMultiSelectMenu:()=>M_,MusicMultiSelectMenuItem:()=>nr,MusicNavigationButton:()=>W_,MusicPlayButton:()=>j_,MusicPlaylistShelf:()=>bw,MusicQueue:()=>K_,MusicResponsiveListItem:()=>ci,MusicResponsiveListItemFixedColumn:()=>J_,MusicResponsiveListItemFlexColumn:()=>G_,MusicShelf:()=>ww,MusicSideAlignedItem:()=>Tw,MusicSortFilterButton:()=>kw,MusicTastebuilderShelf:()=>Iw,MusicTastebuilderShelfThumbnail:()=>q_,MusicThumbnail:()=>it,MusicTwoRowItem:()=>H_,MusicVisualHeader:()=>Sw,NavigationEndpoint:()=>h,Notification:()=>X_,OpenPopupAction:()=>_m,PageHeader:()=>Nt,PageHeaderView:()=>Q_,PageIntroduction:()=>Z_,PdgCommentChip:()=>Sh,PivotButton:()=>ev,PlayerAnnotationsExpanded:()=>tv,PlayerCaptionsTracklist:()=>iv,PlayerControlsOverlay:()=>Cw,PlayerErrorMessage:()=>Ew,PlayerLegacyDesktopYpcOffer:()=>Nw,PlayerLegacyDesktopYpcTrailer:()=>Np,PlayerLiveStoryboardSpec:()=>nv,PlayerMicroformat:()=>ot,PlayerOverflow:()=>ov,PlayerOverlay:()=>uv,PlayerOverlayAutoplay:()=>sv,PlayerStoryboardSpec:()=>Oi,Playlist:()=>Ct,PlaylistCustomThumbnail:()=>Xo,PlaylistHeader:()=>lv,PlaylistInfoCardContent:()=>Pw,PlaylistMetadata:()=>cv,PlaylistPanel:()=>$_,PlaylistPanelVideo:()=>jt,PlaylistPanelVideoWrapper:()=>z_,PlaylistSidebar:()=>Rw,PlaylistSidebarPrimaryInfo:()=>pv,PlaylistSidebarSecondaryInfo:()=>dv,PlaylistVideo:()=>ur,PlaylistVideoList:()=>Aw,PlaylistVideoThumbnail:()=>Qo,Poll:()=>Vw,PollHeader:()=>Nb,Post:()=>fv,PostMultiImage:()=>Mw,ProductList:()=>Xm,ProductListHeader:()=>Bw,ProductListItem:()=>Dw,ProfileColumn:()=>Lw,ProfileColumnStats:()=>Ow,ProfileColumnStatsEntry:()=>Fw,ProfileColumnUserInfo:()=>jw,Quiz:()=>Yw,RecognitionShelf:()=>Uw,ReelItem:()=>lr,ReelPlayerHeader:()=>mv,ReelPlayerOverlay:()=>Ww,ReelShelf:()=>Uo,RelatedChipCloud:()=>hv,RemoveBannerForLiveChatCommand:()=>Ab,RemoveChatItemAction:()=>Vb,RemoveChatItemByAuthorAction:()=>Mb,ReplaceChatItemAction:()=>Bb,ReplayChatItemAction:()=>Db,RichGrid:()=>pi,RichItem:()=>Jw,RichListHeader:()=>Gw,RichMetadata:()=>ud,RichMetadataRow:()=>cd,RichSection:()=>Hw,RichShelf:()=>_v,SearchBox:()=>zw,SearchFilter:()=>vv,SearchFilterGroup:()=>cr,SearchFilterOptionsDialog:()=>$w,SearchHeader:()=>xv,SearchRefinementCard:()=>Mi,SearchSubMenu:()=>gv,SearchSuggestion:()=>a_,SearchSuggestionsSection:()=>Kw,SecondarySearchContainer:()=>qw,SectionList:()=>ge,SegmentedLikeDislikeButton:()=>$i,SegmentedLikeDislikeButtonView:()=>Ki,SettingBoolean:()=>Xw,SettingsCheckbox:()=>yv,SettingsOptions:()=>dr,SettingsSidebar:()=>bv,SettingsSwitch:()=>pr,SharedPost:()=>wv,Shelf:()=>fr,ShowCustomThumbnail:()=>i_,ShowLiveChatActionPanelAction:()=>Lb,ShowLiveChatDialogAction:()=>Ob,ShowLiveChatTooltipCommand:()=>Fb,ShowingResultsFor:()=>Qw,SimpleCardContent:()=>Zw,SimpleCardTeaser:()=>eT,SimpleMenuHeader:()=>B_,SimpleTextSection:()=>tT,SingleActionEmergencySupport:()=>iT,SingleColumnBrowseResults:()=>Tv,SingleColumnMusicWatchNextResults:()=>oT,SingleHeroImage:()=>rT,SlimOwner:()=>nT,SlimVideoMetadata:()=>sT,SortFilterHeader:()=>m_,SortFilterSubMenu:()=>dt,SponsorCommentBadge:()=>Ch,StatRow:()=>m0,StructuredDescriptionContent:()=>Di,StructuredDescriptionPlaylistLockup:()=>lh,SubFeedOption:()=>kv,SubFeedSelector:()=>aT,SubscribeButton:()=>Me,SubscriptionNotificationToggleButton:()=>dh,Tab:()=>Ve,Tabbed:()=>uT,TabbedSearchResults:()=>lT,TextHeader:()=>cT,ThumbnailLandscapePortrait:()=>pT,ThumbnailOverlayBottomPanel:()=>o_,ThumbnailOverlayEndorsement:()=>dT,ThumbnailOverlayHoverText:()=>fT,ThumbnailOverlayInlineUnplayable:()=>mT,ThumbnailOverlayLoadingPreview:()=>hT,ThumbnailOverlayNowPlaying:()=>_T,ThumbnailOverlayPinking:()=>vT,ThumbnailOverlayPlaybackStatus:()=>xT,ThumbnailOverlayResumePlayback:()=>gT,ThumbnailOverlaySidePanel:()=>yT,ThumbnailOverlayTimeStatus:()=>Bi,ThumbnailOverlayToggleButton:()=>bT,TimedMarkerDecoration:()=>wT,TitleAndButtonListHeader:()=>TT,ToggleButton:()=>ke,ToggleButtonView:()=>Zo,ToggleMenuServiceItem:()=>kT,Tooltip:()=>IT,TopicChannelDetails:()=>ST,Transcript:()=>Ao,TranscriptFooter:()=>Im,TranscriptSearchBox:()=>Sm,TranscriptSearchPanel:()=>Pm,TranscriptSectionHeader:()=>Cm,TranscriptSegment:()=>Em,TranscriptSegmentList:()=>Nm,TwoColumnBrowseResults:()=>Pt,TwoColumnSearchResults:()=>Iv,TwoColumnWatchNextResults:()=>Cv,UniversalWatchCard:()=>Ev,UpdateDateTextAction:()=>T_,UpdateDescriptionAction:()=>k_,UpdateEngagementPanelAction:()=>u0,UpdateLiveChatPollAction:()=>jb,UpdateTitleAction:()=>I_,UpdateToggleButtonTextAction:()=>S_,UpdateViewershipAction:()=>C_,UploadTimeFactoid:()=>oh,UpsellDialog:()=>CT,VerticalList:()=>ET,VerticalWatchCardList:()=>NT,Video:()=>Lo,VideoAttributeView:()=>Fo,VideoCard:()=>ih,VideoDescriptionCourseSection:()=>ch,VideoDescriptionHeader:()=>nh,VideoDescriptionInfocardsSection:()=>sh,VideoDescriptionMusicSection:()=>Yo,VideoDescriptionTranscriptSection:()=>ia,VideoInfoCardContent:()=>PT,VideoOwner:()=>mr,VideoPrimaryInfo:()=>Nv,VideoSecondaryInfo:()=>yf,ViewCountFactoid:()=>rh,WatchCardCompactVideo:()=>Pv,WatchCardHeroVideo:()=>RT,WatchCardRichHeader:()=>AT,WatchCardSectionSequence:()=>VT,WatchNextEndScreen:()=>av,WatchNextTabbedResults:()=>MT,YpcTrailer:()=>rv});var Cn=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint||e.command)}};r(Cn,"Button");Cn.type="Button";var T=Cn;var En=class extends s{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new h(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};r(En,"DropdownItem");En.type="DropdownItem";var mm=En;var Nn=class extends s{constructor(e){super(),this.label=e.label||"",this.entries=l.parseArray(e.entries,mm)}};r(Nn,"Dropdown");Nn.type="Dropdown";var Ro=Nn;var Pn=class extends s{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=l.parseItem(e.privacyOption,Ro),this.create_button=l.parseItem(e.cancelButton,T),this.cancel_button=l.parseItem(e.cancelButton,T)}};r(Pn,"CreatePlaylistDialog");Pn.type="CreatePlaylistDialog";var hm=Pn;var Rn=class extends s{constructor(e){super(),this.popup=l.parseItem(e.popup),this.popup_type=e.popupType}};r(Rn,"OpenPopupAction");Rn.type="OpenPopupAction";var _m=Rn;var Ri=class extends s{constructor(e){var i,o,n,a,c,p,d,_;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new _m(e.openPopupAction));let v=Object.keys(e||{}).find(y=>y.endsWith("Endpoint")||y.endsWith("Command"));this.payload=v?Reflect.get(e,v):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=l.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=l.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Ri(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((a=(n=e==null?void 0:e.commandMetadata)===null||n===void 0?void 0:n.webCommandMetadata)===null||a===void 0)&&a.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(c=e==null?void 0:e.commandMetadata)===null||c===void 0?void 0:c.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):v&&(this.metadata.api_url=this.getEndpoint(v)),!((_=(d=e==null?void 0:e.commandMetadata)===null||d===void 0?void 0:d.webCommandMetadata)===null||_===void 0)&&_.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=l.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,hm))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};r(Ri,"NavigationEndpoint");Ri.type="NavigationEndpoint";var h=Ri;var x=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(o=>new x(o)).sort((o,n)=>n.width-o.width):[]}};r(x,"Thumbnail");var Xt=class{constructor(e){var i,o,n,a,c,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((n=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||n===void 0?void 0:n[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((a=e.emoji)===null||a===void 0?void 0:a.shortcuts)||[],search_terms:((c=e.emoji)===null||c===void 0?void 0:c.searchTerms)||[],image:x.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=vm(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};r(Xt,"EmojiRun");var Qt=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=vm(this.text),n=`<span style="white-space: pre-wrap;">${e.map(a=>`<${a}>`).join("")+i+e.map(a=>`</${a}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:a}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let c=this.endpoint.toURL();if(c)return`<a href="${c}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${a}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${n}</a>`}}if(this.endpoint){let a=this.endpoint.toURL();if(a)return`<a href="${a}">${n}</a>`}return n}};r(Qt,"TextRun");function vm(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}r(vm,"escape");var u=class{constructor(e){var i,o,n,a;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(c=>c.emoji?new Xt(c):new Qt(c)),this.text=this.runs.map(c=>c.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new h(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(a=(n=this.runs)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.endpoint)}static fromAttributed(e){let i=[],o=e.content,n=e.commandRuns,a=0;if(n){for(let c of n){let p=c.length,d=c.startIndex;if(d>a&&i.push({text:o.slice(a,d)}),Reflect.has(c,"onTap")){let _=null;if(Reflect.has(e,"attachmentRuns")){let v=e.attachmentRuns;for(let y of v)if(y.startIndex-2==d){_=y;break}}_?i.push({text:o.slice(d,d+p),navigationEndpoint:c.onTap,attachment:_}):i.push({text:o.slice(d,d+p),navigationEndpoint:c.onTap})}a=d+p}a<o.length&&i.push({text:o.slice(a)})}else i.push({text:o});return new u({runs:i})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};r(u,"Text");var An=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=x.fromResponse(e.favicon)}};r(An,"ChannelExternalLinkView");An.type="ChannelExternalLinkView";var xm=An;var Vn=class extends s{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new h(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=l.parseArray(e.links,xm):this.links=[]}};r(Vn,"AboutChannelView");Vn.type="AboutChannelView";var gm=Vn;var Mn=class extends s{constructor(e){super(),this.metadata=l.parseItem(e.metadata,gm),this.share_channel=l.parseItem(e.shareChannel,T)}};r(Mn,"AboutChannel");Mn.type="AboutChannel";var ym=Mn;var Bn=class extends s{constructor(e){super(),this.title=new u(e.title),this.endpoint=new h(e.navigationEndpoint)}};r(Bn,"AccountChannel");Bn.type="AccountChannel";var bm=Bn;var Dn=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(Dn,"AccountItemSectionHeader");Dn.type="AccountItemSectionHeader";var wm=Dn;var Ln=class extends s{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=x.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new h(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};r(Ln,"AccountItem");Ln.type="AccountItem";var On=class extends s{constructor(e){super(),this.contents=ie(e.contents.map(i=>new Ln(i.accountItem))),this.header=l.parseItem(e.header,wm)}};r(On,"AccountItemSection");On.type="AccountItemSection";var Tm=On;var Fn=class extends s{constructor(e){super(),this.contents=l.parseItem(e.contents[0],Tm),this.footers=l.parseItem(e.footers[0],bm)}};r(Fn,"AccountSectionList");Fn.type="AccountSectionList";var km=Fn;var jn=class extends s{constructor(e){super(),this.contents=l.parseArray(e.continuationItems),this.target=e.target}};r(jn,"AppendContinuationItemsAction");jn.type="AppendContinuationItemsAction";var Ai=jn;var Yn=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,n;return{title:i.title,selected:i.selected,continuation:(n=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||n===void 0?void 0:n.continuation,endpoint:new h(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};r(Yn,"SortFilterSubMenu");Yn.type="SortFilterSubMenu";var dt=Yn;var Un=class extends s{constructor(e){super(),this.language_menu=l.parseItem(e.languageMenu,dt)}};r(Un,"TranscriptFooter");Un.type="TranscriptFooter";var Im=Un;var Wn=class extends s{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=l.parseItem(e.clearButton,T),this.endpoint=new h(e.onTextChangeCommand),this.search_button=l.parseItem(e.searchButton,T)}};r(Wn,"TranscriptSearchBox");Wn.type="TranscriptSearchBox";var Sm=Wn;var Jn=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};r(Jn,"TranscriptSectionHeader");Jn.type="TranscriptSectionHeader";var Cm=Jn;var Gn=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};r(Gn,"TranscriptSegment");Gn.type="TranscriptSegment";var Em=Gn;var Hn=class extends s{constructor(e){super(),this.initial_segments=l.parseArray(e.initialSegments,[Em,Cm]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};r(Hn,"TranscriptSegmentList");Hn.type="TranscriptSegmentList";var Nm=Hn;var zn=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,Sm),this.body=l.parseItem(e.body,Nm),this.footer=l.parseItem(e.footer,Im),this.target_id=e.targetId}};r(zn,"TranscriptSearchPanel");zn.type="TranscriptSearchPanel";var Pm=zn;var $n=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,Pm)}};r($n,"Transcript");$n.type="Transcript";var Ao=$n;var Kn=class extends s{constructor(e){super(),this.target_id=e.targetId,this.content=l.parseItem(e.content,Ao)}};r(Kn,"UpdateEngagementPanelAction");Kn.type="UpdateEngagementPanelAction";var u0=Kn;var qn=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};r(qn,"Alert");qn.type="Alert";var Vo=qn;var Xn=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=l.parseItem(e.dismissButton,T)}};r(Xn,"AlertWithButton");Xn.type="AlertWithButton";var Rm=Xn;var Qn=class extends s{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};r(Qn,"DataModelSection");Qn.type="DataModelSection";var Am=Qn;var Zn=class extends s{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new Am(o))}};r(Zn,"AnalyticsMainAppKeyMetrics");Zn.type="AnalyticsMainAppKeyMetrics";var l0=Zn;var es=class extends s{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(n=>({label:n.label,display_value:n.displayValue,display_value_a11y:n.displayValueA11y,bar_ratio:n.barRatio,bar_color:n.barColor,bar_opacity:n.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};r(es,"AnalyticsRoot");es.type="AnalyticsRoot";var c0=es;var ts=class extends s{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new h(i.videoEndpoint)}))}};r(ts,"AnalyticsShortsCarouselCard");ts.type="AnalyticsShortsCarouselCard";var p0=ts;var is=class extends s{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:x.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};r(is,"AnalyticsVideo");is.type="AnalyticsVideo";var Vm=is;var os=class extends s{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new Vm(i)))}};r(os,"AnalyticsVodCarouselCard");os.type="AnalyticsVodCarouselCard";var d0=os;var rs=class extends s{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};r(rs,"CtaGoToCreatorStudio");rs.type="CtaGoToCreatorStudio";var f0=rs;var ns=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};r(ns,"StatRow");ns.type="StatRow";var m0=ns;var ss=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.suffix=u.fromAttributed(e.suffix)}};r(ss,"AttributionView");ss.type="AttributionView";var Mm=ss;var as=class extends s{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};r(as,"AudioOnlyPlayability");as.type="AudioOnlyPlayability";var Bm=as;var us=class extends s{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new h(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};r(us,"AutomixPreviewVideo");us.type="AutomixPreviewVideo";var Dm=us;var ls=class extends s{constructor(e){super(),this.image=x.fromResponse(e.image),this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}},this.avatar_image_size=e.avatarImageSize}};r(ls,"AvatarView");ls.type="AvatarView";var Lm=ls;var cs=class extends s{constructor(e){super(),this.image=x.fromResponse(e.image),this.endpoint=new h(e.command)}};r(cs,"BackstageImage");cs.type="BackstageImage";var Om=cs;var ps=class extends s{constructor(e){var i,o,n,a,c,p,d,_,v;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let y=((a=(n=(o=e==null?void 0:e.defaultText)===null||o===void 0?void 0:o.accessibility)===null||n===void 0?void 0:n.accessibilityData)===null||a===void 0?void 0:a.label)||((p=(c=e==null?void 0:e.accessibilityData)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label)||((d=e==null?void 0:e.accessibility)===null||d===void 0?void 0:d.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(y.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((v=(_=e.defaultServiceEndpoint)===null||_===void 0?void 0:_.commandExecutorCommand)===null||v===void 0)&&v.commands?new h(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new h(e.defaultServiceEndpoint),this.toggled_endpoint=new h(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};r(ps,"ToggleButton");ps.type="ToggleButton";var ke=ps;var ds=class extends s{constructor(e){var i,o;super(),this.creator_thumbnail=x.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};r(ds,"CreatorHeart");ds.type="CreatorHeart";var Fm=ds;var fs=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,ke),this.dislike_button=l.parseItem(e.dislikeButton,ke),this.reply_button=l.parseItem(e.replyButton,T),this.creator_heart=l.parseItem(e.creatorHeart,Fm)}};r(fs,"CommentActionButtons");fs.type="CommentActionButtons";var Mo=fs;var ms=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.top_level_buttons=l.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};r(ms,"Menu");ms.type="Menu";var L=ms;var hs=class extends s{constructor(e){super(),this.id=e.postId,this.author=new A(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=l.parseItem(e.actionMenu,L)),Reflect.has(e,"actionButtons")&&(this.action_buttons=l.parseItem(e.actionButtons,Mo)),Reflect.has(e,"voteButton")&&(this.vote_button=l.parseItem(e.voteButton,T)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=l.parseItem(e.backstageAttachment)),this.surface=e.surface}};r(hs,"BackstagePost");hs.type="BackstagePost";var Zt=hs;var _s=class extends s{constructor(e){super(),this.post=l.parseItem(e.post)}};r(_s,"BackstagePostThread");_s.type="BackstagePostThread";var h0=_s;var vs=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(vs,"BrowseFeedActions");vs.type="BrowseFeedActions";var jm=vs;var xs=class extends s{constructor(e){super(),this.album=new u(e.album),this.thumbnails=x.fromResponse(e.thumbnailDetails)}};r(xs,"BrowserMediaSession");xs.type="BrowserMediaSession";var _0=xs;var gs=class extends s{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.type=e.type,this.button_size=e.buttonSize,this.on_tap=new h(e.onTap)}};r(gs,"ButtonView");gs.type="ButtonView";var Vi=gs;var Bo=class extends s{constructor(e){super(),this.endpoint=new h(e.navigationEndpoint),this.icon=x.fromResponse(e.icon),this.title=new u(e.title)}};r(Bo,"HeaderLink");Bo.type="HeaderLink";var ys=class extends s{constructor(e){var i,o;super(),this.primary=ie(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(n=>new Bo(n)))||[]),this.secondary=ie(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(n=>new Bo(n)))||[])}};r(ys,"ChannelHeaderLinks");ys.type="ChannelHeaderLinks";var Ym=ys;var bs=class extends s{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};r(bs,"ChannelHeaderLinksView");bs.type="ChannelHeaderLinksView";var Um=bs;var ws=class extends s{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};r(ws,"ClipCreationTextInput");ws.type="ClipCreationTextInput";var Wm=ws;var Ts=class extends s{constructor(e){var i,o,n,a,c,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(o=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label,this.end_label=(a=(n=e.endAccessibility)===null||n===void 0?void 0:n.accessibilityData)===null||a===void 0?void 0:a.label,this.duration_label=(p=(c=e.durationAccessibility)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label}};r(Ts,"ClipCreationScrubber");Ts.type="ClipCreationScrubber";var Jm=Ts;var ks=class extends s{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};r(ks,"ClipAdState");ks.type="ClipAdState";var Gm=ks;var Is=class extends s{constructor(e){super(),this.user_avatar=x.fromResponse(e.userAvatar),this.title_input=l.parseItem(e.titleInput,[Wm]),this.scrubber=l.parseItem(e.scrubber,[Jm]),this.save_button=l.parseItem(e.saveButton,[T]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=l.parseItem(e.cancelButton,[T]),this.ad_state_overlay=l.parseItem(e.adStateOverlay,[Gm]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};r(Is,"ClipCreation");Is.type="ClipCreation";var Hm=Is;var Ss=class extends s{constructor(e){super(),this.contents=l.parse(e.contents,!0,[Hm])}};r(Ss,"ClipSection");Ss.type="ClipSection";var zm=Ss;var Cs=class extends s{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,T)),this.endpoint=new h(e.continuationEndpoint)}};r(Cs,"ContinuationItem");Cs.type="ContinuationItem";var le=Cs;var Es=class extends s{constructor(e){super(),this.title=new u(e.title),this.visibility_button=l.parseItem(e.visibilityButton,T)}};r(Es,"EngagementPanelTitleHeader");Es.type="EngagementPanelTitleHeader";var $m=Es;var Ns=class extends s{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=l.parseItem(e.menu,L)}};r(Ns,"MacroMarkersInfoItem");Ns.type="MacroMarkersInfoItem";var Km=Ns;var Ps=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=x.fromResponse(e.thumbnail),this.on_tap_endpoint=new h(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};r(Ps,"MacroMarkersListItem");Ps.type="MacroMarkersListItem";var Do=Ps;var Rs=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,[Km,Do]),this.sync_button_label=new u(e.syncButtonLabel)}};r(Rs,"MacroMarkersList");Rs.type="MacroMarkersList";var qm=Rs;var As=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(As,"ProductList");As.type="ProductList";var Xm=As;var Vs=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=l.parseItem(e.subMenu))}};r(Vs,"SectionList");Vs.type="SectionList";var ge=Vs;var Ms=class extends s{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};r(Ms,"ExpandableVideoDescriptionBody");Ms.type="ExpandableVideoDescriptionBody";var Qm=Ms;var Bs=class extends s{constructor(e){super(),this.thumbnails=x.fromResponse(e.thumbnail),this.endpoint=new h(e.searchEndpoint),this.query=new u(e.query).toString()}};r(Bs,"SearchRefinementCard");Bs.type="SearchRefinementCard";var Mi=Bs;var Ds=class extends s{constructor(e){super(),this.game=l.parseItem(e.game)}};r(Ds,"GameCard");Ds.type="GameCard";var Zm=Ds;var Ls=class extends s{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Ls,"HorizontalList");Ls.type="HorizontalList";var eh=Ls;var Os=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:x.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=l.parseItem(e.expandedContent,[ei,eh]),this.expand_button=l.parseItem(e.expandButton,T),this.collapse_button=l.parseItem(e.collapseButton,T)}};r(Os,"ExpandableMetadata");Os.type="ExpandableMetadata";var th=Os;var Fs=class extends s{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};r(Fs,"MetadataBadge");Fs.type="MetadataBadge";var Je=Fs;var js=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};r(js,"ThumbnailOverlayTimeStatus");js.type="ThumbnailOverlayTimeStatus";var Bi=js;var Ys=class extends s{constructor(e){var i,o,n;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(c=>({text:new u(c.snippetText),hover_text:new u(c.snippetHoverText)}))),this.expandable_metadata=l.parseItem(e.expandableMetadata,th),this.thumbnails=x.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.author=new A(e.ownerText,e.ownerBadges,(n=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||n===void 0?void 0:n.thumbnail),this.badges=l.parseArray(e.badges,Je),this.endpoint=new h(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:Ce(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=l.parseItem(e.menu,L),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Bi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};r(Ys,"Video");Ys.type="Video";var Lo=Ys;var Us=class extends Lo{constructor(e){super(e)}};r(Us,"VideoCard");Us.type="VideoCard";var ih=Us;var Ws=class extends s{constructor(e){super(),this.image=x.fromResponse(e.image),this.style=e.style}};r(Ws,"ContentPreviewImageView");Ws.type="ContentPreviewImageView";var Oo=Ws;var Js=class extends s{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image=x.fromResponse(e.image):this.image=l.parseItem(e.image,Oo),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new h(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};r(Js,"VideoAttributeView");Js.type="VideoAttributeView";var Fo=Js;var Gs=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards,[Fo,Mi,Do,Zm,ih]),this.header=l.parseItem(e.header),this.previous_button=l.parseItem(e.previousButton,T),this.next_button=l.parseItem(e.nextButton,T)}};r(Gs,"HorizontalCardList");Gs.type="HorizontalCardList";var ei=Gs;var Hs=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};r(Hs,"Factoid");Hs.type="Factoid";var ti=Hs;var zs=class extends s{constructor(e){super(),this.factoid=l.parseItem(e.factoid,ti)}};r(zs,"UploadTimeFactoid");zs.type="UploadTimeFactoid";var oh=zs;var $s=class extends s{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=l.parseItem(e.factoid,[ti]),this.view_count_type=e.viewCountType}};r($s,"ViewCountFactoid");$s.type="ViewCountFactoid";var rh=$s;var Ks=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new h(e.channelNavigationEndpoint),this.channel_thumbnail=x.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=l.parseArray(e.factoid,[ti,rh,oh])}};r(Ks,"VideoDescriptionHeader");Ks.type="VideoDescriptionHeader";var nh=Ks;var qs=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=l.parseItem(e.creatorVideosButton,T),this.creator_about_button=l.parseItem(e.creatorAboutButton,T),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=x.fromResponse(e.channelAvatar),this.channel_endpoint=new h(e.channelEndpoint)}};r(qs,"VideoDescriptionInfocardsSection");qs.type="VideoDescriptionInfocardsSection";var sh=qs;var Xs=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};r(Xs,"InfoRow");Xs.type="InfoRow";var ah=Xs;var Qs=class extends s{constructor(e){super(),this.id=e.videoId,this.thumbnails=x.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parse(e.richThumbnail)),this.title=new u(e.title),this.author=new A(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=l.parseArray(e.badges,Je),this.duration={text:new u(e.lengthText).toString(),seconds:Ce(new u(e.lengthText).toString())},this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.endpoint=new h(e.navigationEndpoint),this.menu=l.parseItem(e.menu,L)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};r(Qs,"CompactVideo");Qs.type="CompactVideo";var jo=Qs;var Zs=class extends s{constructor(e){super(),this.info_rows=l.parseArray(e.infoRows,ah),this.video_lockup=l.parseItem(e.videoLockup,jo)}};r(Zs,"CarouselLockup");Zs.type="CarouselLockup";var uh=Zs;var ea=class extends s{constructor(e){super(),this.carousel_lockups=l.parseArray(e.carouselLockups,uh),this.section_title=new u(e.sectionTitle)}};r(ea,"VideoDescriptionMusicSection");ea.type="VideoDescriptionMusicSection";var Yo=ea;var ta=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=l.parseItem(e.primaryButton,T)}};r(ta,"VideoDescriptionTranscriptSection");ta.type="VideoDescriptionTranscriptSection";var ia=ta;var oa=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new h(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};r(oa,"StructuredDescriptionPlaylistLockup");oa.type="StructuredDescriptionPlaylistLockup";var lh=oa;var ra=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=l.parseArray(e.mediaLockups,[lh])}};r(ra,"VideoDescriptionCourseSection");ra.type="VideoDescriptionCourseSection";var ch=ra;var na=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new h(e.endpoint))}get contents(){return this.items}};r(na,"ReelShelf");na.type="ReelShelf";var Uo=na;var sa=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[nh,Qm,Yo,sh,ch,ia,ia,ei,Uo])}};r(sa,"StructuredDescriptionContent");sa.type="StructuredDescriptionContent";var Di=sa;var aa=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,$m),this.content=l.parseItem(e.content,[Fo,ge,le,zm,Di,qm,Xm]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};r(aa,"EngagementPanelSectionList");aa.type="EngagementPanelSectionList";var ii=aa;var ua=class extends s{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:l.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,ii),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new h(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};r(ua,"ChannelTagline");ua.type="ChannelTagline";var ph=ua;var la=class extends s{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:l.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};r(la,"SubscriptionNotificationToggleButton");la.type="SubscriptionNotificationToggleButton";var dh=la;var ca=class extends s{constructor(e){var i,o;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=l.parseItem(e.notificationPreferenceButton,dh),this.endpoint=new h(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};r(ca,"SubscribeButton");ca.type="SubscribeButton";var Me=ca;var pa=class extends s{constructor(e){super(),this.author=new A({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=x.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=x.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=x.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=l.parseItem(e.sponsorButton,T)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=l.parseItem(e.subscribeButton,[Me,T])),Reflect.has(e,"headerLinks")&&(this.header_links=l.parseItem(e.headerLinks,[Ym,Um])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=l.parseItem(e.tagline,ph))}};r(pa,"C4TabbedHeader");pa.type="C4TabbedHeader";var Wo=pa;var da=class extends s{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};r(da,"CallToActionButton");da.type="CallToActionButton";var v0=da;var fa=class extends s{constructor(e){super(),this.teaser=l.parseItem(e.teaser),this.content=l.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};r(fa,"Card");fa.type="Card";var x0=fa;var ma=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};r(ma,"CardCollection");ma.type="CardCollection";var fh=ma;var ha=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(ha,"CarouselHeader");ha.type="CarouselHeader";var mh=ha;var _a=class extends s{constructor(e){super(),this.items=l.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=x.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};r(_a,"CarouselItem");_a.type="CarouselItem";var g0=_a;var Li,hh=class{constructor(e,i){Li.set(this,void 0),S(this,Li,new F.shim.Cache(e,i),"f")}get cache_dir(){return f(this,Li,"f").cache_dir}get(e){return f(this,Li,"f").get(e)}set(e,i){return f(this,Li,"f").set(e,i)}remove(e){return f(this,Li,"f").remove(e)}};r(hh,"UniversalCache");Li=new WeakMap;var fk=hh;var Jo,_h=class extends EventTarget{constructor(){super(),Jo.set(this,new Map)}emit(e,...i){let o=new F.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=r(n=>{n instanceof F.shim.CustomEvent?i(...n.detail):i(n)},"wrapper");f(this,Jo,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=r(n=>{n instanceof F.shim.CustomEvent?i(...n.detail):i(n),this.off(e,i)},"wrapper");f(this,Jo,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=f(this,Jo,"f").get(i);o&&(this.removeEventListener(e,o),f(this,Jo,"f").delete(i))}};r(_h,"EventEmitterLike");Jo=new WeakMap;var va=_h;var Fi={};we(Fi,{chooseFormat:()=>R0,download:()=>Ok,toDash:()=>P0});var mk={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function y0(t){return t.replace(/([&"<>'])/g,(e,i)=>mk[i])}r(y0,"escapeXMLString");function hk(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}r(hk,"normalizeTag");function ue(t,e,...i){let o=i.flat().map(n=>typeof n=="string"?_k(n):n);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:o})):{type:hk(t),props:Object.assign(Object.assign({},e),{children:o})}}r(ue,"createElement");function _k(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}r(_k,"createTextElement");function b0(t){return k(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return y0(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(o=>!["children","nodeValue"].includes(o)&&t.props[o]!==void 0).map(o=>`${o}="${y0(`${t.props[o]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(o=>!!o).map(o=>b0(o)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}r(b0,"renderElementToString");function w0(t){return k(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield b0(yield t)}`})}r(w0,"renderToString");function T0(t){return t.children}r(T0,"Fragment");var xa=class extends s{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((n,a)=>{let[c,p,d,_,v,y,g,b]=n.split("#");o.searchParams.set("sigh",b);let I=Math.ceil(parseInt(d,10)/(parseInt(_,10)*parseInt(v,10)));return{type:"vod",template_url:o.toString().replace("$L",a).replace("$N",g),thumbnail_width:parseInt(c,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(d,10),interval:parseInt(y,10),columns:parseInt(_,10),rows:parseInt(v,10),storyboard_count:I}})}};r(xa,"PlayerStoryboardSpec");xa.type="PlayerStoryboardSpec";var Oi=xa;var xk="StreamingInfo";function gk(t,e){var i,o,n;let a=new Map,c=t.some(p=>!!p.audio_track);for(let p of t){if((!p.index_range||!p.init_range)&&!p.is_type_otf&&!e)continue;let d=p.mime_type.split(";")[0],_=(i=Be(p.mime_type,'codecs="','"'))===null||i===void 0?void 0:i.split(".")[0],v=p.color_info?Object.values(p.color_info).join("-"):"",y=((o=p.audio_track)===null||o===void 0?void 0:o.id)||"",g=`${d}-${_}-${v}-${y}`;a.has(g)||a.set(g,[]),(n=a.get(g))===null||n===void 0||n.push(p)}return{groups:Array.from(a.values()),has_multiple_audio_tracks:c}}r(gk,"getFormatGroupings");function I0(t,e){if(t.length>1&&new Set(t.map(i=>Be(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),Be(t[0].mime_type,'codecs="','"')}r(I0,"hoistCodecsIfPossible");function S0(t,e,i){if(t.length>1&&new Set(t.map(o=>o.fps)).size===1)return i.push(e),Number(t[0][e])}r(S0,"hoistNumberAttributeIfPossible");function yk(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}r(yk,"hoistAudioChannelsIfPossible");function bk(t,e){var i;return k(this,void 0,void 0,function*(){let o=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Lt,redirect:"follow"}),n=o.url.replace("&rn=0","").replace("&sq=0",""),a=yield o.text(),c=(i=Be(a,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!c)throw new w("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let d of c){let _=d.trim();if(_.length===0)continue;let v,y=Be(_,"(r=",")");y&&(v=parseInt(y)),p.push({duration:parseInt(_),repeat_count:v})}return{init_url:`${n}&sq=0`,media_url:`${n}&sq=$Number$`,timeline:p}})}r(bk,"getOTFSegmentTemplate");function C0(t,e){return k(this,void 0,void 0,function*(){let i=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:Lt,redirect:"follow"}),o=parseInt(i.headers.get("X-Head-Time-Millis")||""),n=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(o)||isNaN(n))throw new w("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:o/1e3,segment_count:n}})}r(C0,"getPostLiveDvrInfo");function wk(t,e,i,o,n,a){return k(this,void 0,void 0,function*(){if(!t.item){let c=new URL(e.decipher(n));c.searchParams.set("cpn",a||"");let p=i(c).toString();t.item=yield C0(p,o)}return t.item.duration})}r(wk,"getPostLiveDvrDuration");function E0(t,e,i,o,n,a){let c=new URL(t.decipher(o));c.searchParams.set("cpn",n||"");let p=e(c).toString();if(t.is_type_otf){if(!i)throw new w("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return bk(p,i)}}}if(a){if(!i)throw new w("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let _=t.target_duration_dec;if(typeof _!="number")throw new w("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,getSegmentTemplate(){return k(this,void 0,void 0,function*(){return a.item||(a.item=yield C0(p,i)),{media_url:`${p}&sq=$Number$`,timeline:[{duration:_*1e3,repeat_count:a.item.segment_count}]}})}}}if(!t.index_range||!t.init_range)throw new w("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:p,index_range:t.index_range,init_range:t.init_range}}r(E0,"getSegmentInfo");function Tk(t,e,i,o,n,a,c){return new URL(t.decipher(n)).searchParams.set("cpn",a||""),{uid:t.audio_track?`${t.itag}-${t.audio_track.id}`:t.itag.toString(),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Be(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:E0(t,i,o,n,a,c)}}r(Tk,"getAudioRepresentation");function kk(t){let{audio_track:e}=t;if(!!e)return e.audio_is_default?"main":t.is_dubbed?"dub":t.is_descriptive?"description":"alternate"}r(kk,"getTrackRole");function Ik(t,e,i,o,n,a){var c;let p=t[0],{audio_track:d}=p,_=[];return{mime_type:p.mime_type.split(";")[0],language:(c=p.language)!==null&&c!==void 0?c:void 0,codecs:I0(t,_),audio_sample_rate:S0(t,"audio_sample_rate",_),track_name:d==null?void 0:d.display_name,track_role:kk(p),channels:yk(t,_),representations:t.map(y=>Tk(y,_,e,i,o,n,a))}}r(Ik,"getAudioSet");var Sk={BT709:"1",BT2020:"9"},k0={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},Ck={BT709:"1",BT2020_NCL:"14"};function Ek(t){var e;let i=t.color_info,o,n,a;if(i&&(i.primaries&&(o=Sk[i.primaries]),i.transfer_characteristics?n=k0[i.transfer_characteristics]:!((e=Be(t.mime_type,'codecs="','"'))===null||e===void 0)&&e.startsWith("avc1")&&(n=k0.BT709),i.matrix_coefficients&&(a=Ck[i.matrix_coefficients],!a))){let p=new URL(t.url),d=JSON.parse(JSON.stringify(t));d.url="REDACTED",d.signature_cipher="REDACTED",d.cipher="REDACTED",U.warn(xk,`Unknown matrix coefficients "${i.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${F.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${p.searchParams.get("c")}
format:`,d)}return{primaries:o,transfer_characteristics:n,matrix_coefficients:a}}r(Ek,"getColorInfo");function Nk(t,e,i,o,n,a,c){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Be(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:E0(t,e,n,o,a,c)}}r(Nk,"getVideoRepresentation");function Pk(t,e,i,o,n,a){let c=t[0],p=Ek(c),d=[];return{mime_type:c.mime_type.split(";")[0],color_info:p,codecs:I0(t,d),fps:S0(t,"fps",d),representations:t.map(v=>Nk(v,e,d,i,o,n,a))}}r(Pk,"getVideoSet");function Rk(t){var e;let i=new Map,o=t.is(Oi)?t.boards:[t.board];for(let n of o){let a=new URL(n.template_url).pathname.split(".").pop(),c=`image/${a==="jpg"?"jpeg":a}`;i.has(c)||i.set(c,[]),(e=i.get(c))===null||e===void 0||e.push(n)}return i}r(Rk,"getStoryboardInfo");function Ak(t,e,i,o,n){return k(this,void 0,void 0,function*(){let a=e.template_url,c=i(new URL(a.replace("$M","0"))),p=n.response?n.response:t.session.http.fetch_function(c,{method:"HEAD",headers:Lt});return n.response=p,(yield p).headers.get("Content-Type")||o})}r(Ak,"getStoryboardMimeType");function Vk(t,e,i){return k(this,void 0,void 0,function*(){let o=e.template_url,n=[],a=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let _=0;_<a;_++){let v=new URL(o.replace("$M",_.toString())),y=_===0&&i.response?i.response:t.session.http.fetch_function(v,{method:"HEAD",headers:Lt});_===0&&(i.response=y),n.push(y)}let c=yield Promise.all(n),p=[];for(let _ of c)p.push(parseInt(_.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}r(Vk,"getStoryboardBitrate");function Mk(t,e,i,o,n){let a=i.template_url,c=new URL(a.replace("$M","$Number$")),p;return i.type==="vod"?p=t/i.storyboard_count:p=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return Vk(e,i,n)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:p,template_url:o(c).toString(),getURL(_){return c.toString().replace("$Number$",_.toString())}}}r(Mk,"getImageRepresentation");function Bk(t,e,i,o){let n=Rk(i),a={};return Array.from(n.entries()).map(([c,p])=>({probable_mime_type:c,getMimeType(){return Ak(e,p[0],o,c,a)},representations:p.map(d=>Mk(t,e,d,o,a))}))}r(Bk,"getImageSets");function vh(t,e=!1,i=d=>d,o,n,a,c,p){if(!t)throw new w("Streaming data not available");let d=o?t.adaptive_formats.filter(B=>!o(B)):t.adaptive_formats,_,v;if(e){if(v={},!c)throw new w("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");_=r(()=>v?wk(v,d[0],i,c,a,n):Promise.resolve(0),"getDuration")}else{let B=d[0].approx_duration_ms/1e3;_=r(()=>Promise.resolve(B),"getDuration")}let{groups:y,has_multiple_audio_tracks:g}=gk(d,e),{video_groups:b,audio_groups:I}=y.reduce((B,te)=>te[0].has_audio?(g&&!te[0].audio_track||B.audio_groups.push(te),B):(B.video_groups.push(te),B),{video_groups:[],audio_groups:[]}),P=I.map(B=>Ik(B,i,c,a,n,v)),M=b.map(B=>Pk(B,i,a,c,n,v)),j=[];if(p&&c){let B;if(p.is(Oi))B=d[0].approx_duration_ms/1e3;else{let te=d[0].target_duration_dec;if(typeof te!="number")throw new w("Format is missing target_duration_dec",{format:d[0]});B=te}j=Bk(B,c,p,i)}return{getDuration:_,audio_sets:P,video_sets:M,image_sets:j}}r(vh,"getStreamingInfo");function Dk({info:t}){return k(this,void 0,void 0,function*(){if(!t.is_oft&&!t.is_post_live_dvr)return null;let e=yield t.getSegmentTemplate();return ue("segment-template",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},ue("segment-timeline",null,e.timeline.map(i=>ue("s",{d:i.duration,r:i.repeat_count}))))})}r(Dk,"OTFPostLiveDvrSegmentInfo");function N0({info:t}){return t.is_oft||t.is_post_live_dvr?ue(Dk,{info:t}):ue(T0,null,ue("base-url",null,t.base_url),ue("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},ue("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}r(N0,"SegmentInfo");function Lk({streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:o,cpn:n,player:a,actions:c,storyboards:p}){return k(this,void 0,void 0,function*(){let{getDuration:d,audio_sets:_,video_sets:v,image_sets:y}=vh(t,e,i,o,n,a,c,p);return ue("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${yield d()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},ue("period",null,_.map((g,b)=>ue("adaptation-set",{id:b,mimeType:g.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:g.language,codecs:g.codecs,audioSamplingRate:g.audio_sample_rate,contentType:"audio"},g.track_role&&ue("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:g.track_role}),g.track_name&&ue("label",{id:b},g.track_name),g.channels&&ue("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:g.channels}),g.representations.map(I=>ue("representation",{id:I.uid,bandwidth:I.bitrate,codecs:I.codecs,audioSamplingRate:I.audio_sample_rate},I.channels&&ue("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:I.channels}),ue(N0,{info:I.segment_info}))))),v.map((g,b)=>ue("adaptation-set",{id:b+_.length,mimeType:g.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:g.codecs,maxPlayoutRate:"1",frameRate:g.fps,contentType:"video"},g.color_info.primaries&&ue("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:g.color_info.primaries}),g.color_info.transfer_characteristics&&ue("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:g.color_info.transfer_characteristics}),g.color_info.matrix_coefficients&&ue("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:g.color_info.matrix_coefficients}),g.representations.map(I=>ue("representation",{id:I.uid,bandwidth:I.bitrate,width:I.width,height:I.height,codecs:I.codecs,frameRate:I.fps},ue(N0,{info:I.segment_info}))))),y.map((g,b)=>k(this,void 0,void 0,function*(){return ue("adaptation-set",{id:b+_.length+v.length,mimeType:yield g.getMimeType(),contentType:"image"},g.representations.map(I=>k(this,void 0,void 0,function*(){return ue("representation",{id:`thumbnails_${I.thumbnail_width}x${I.thumbnail_height}`,bandwidth:yield I.getBitrate(),width:I.sheet_width,height:I.sheet_height},ue("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${I.columns}x${I.rows}`}),ue("segment-template",{media:I.template_url,duration:I.template_duration,startNumber:"0"}))})))}))))})}r(Lk,"DashManifest");function P0(t,e=!1,i=d=>d,o,n,a,c,p){if(!t)throw new w("Streaming data not available");return w0(ue(Lk,{streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:o,cpn:n,player:a,actions:c,storyboards:p}))}r(P0,"toDash");function Ok(t,e,i,o,n,a){return k(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new w("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new w("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!o)throw new w("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let c=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=R0(c,o),d=p.decipher(n);if(c.type==="video+audio"&&!t.range){let P=yield e.session.http.fetch_function(`${d}&cpn=${a}`,{method:"GET",headers:Lt,redirect:"follow"});if(!P.ok)throw new w("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:P});let M=P.body;if(!M)throw new w("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:P});return M}let _=1048576*10,v=t.range?t.range.start:0,y=t.range?t.range.end:_,g=!1,b;return new F.shim.ReadableStream({start(){},pull:P=>k(this,void 0,void 0,function*(){if(g){P.close();return}return(y>=(p.content_length?p.content_length:0)||t.range)&&(g=!0),new Promise((M,j)=>k(this,void 0,void 0,function*(){var ne,B,te,pe;try{b=new AbortController;let H=yield e.session.http.fetch_function(`${d}&cpn=${a}&range=${v}-${y||""}`,{method:"GET",headers:Object.assign({},Lt),signal:b.signal}),G=H.body;if(!G)throw new w("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:H});try{for(var me=!0,ve=n0(jx(G)),ye;ye=yield ve.next(),ne=ye.done,!ne;me=!0){pe=ye.value,me=!1;let $=pe;P.enqueue($)}}catch($){B={error:$}}finally{try{!me&&!ne&&(te=ve.return)&&(yield te.call(ve))}finally{if(B)throw B.error}}v=y+1,y+=_,M()}catch(H){j(H)}}))}),cancel(P){return k(this,void 0,void 0,function*(){b.abort(P)})}},{highWaterMark:1,size(P){return P.byteLength}})})}r(Ok,"download");function R0(t,e){if(!e)throw new w("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],o=t.type?t.type.includes("audio"):!0,n=t.type?t.type.includes("video"):!0,a=t.language||"original",c=t.quality||"best",p=-1,d=["best","bestefficiency"].includes(c),_=c!=="best",v=i.filter(y=>o&&!y.has_audio||n&&!y.has_video||t.format!=="any"&&!y.mime_type.includes(t.format||"mp4")||!d&&y.quality_label!==c?!1:(p<y.width&&(p=y.width),!0));if(!v.length)throw new w("No matching formats found",{options:t});if(d&&n&&(v=v.filter(y=>y.width===p)),o&&!n){let y=v.filter(g=>a!=="original"?!g.has_video&&g.language===a:!g.has_video&&g.is_original);y.length>0&&(v=y)}return _?v.sort((y,g)=>y.bitrate-g.bitrate):v.sort((y,g)=>g.bitrate-y.bitrate),v[0]}r(R0,"chooseFormat");var Yx,oi,Ux,ga,A0,xh=class{constructor(e,i,o){Yx.add(this),oi.set(this,void 0),Ux.set(this,void 0),ga.set(this,void 0),S(this,oi,e,"f"),S(this,Ux,i,"f"),S(this,ga,o||F.shim.fetch,"f")}get fetch_function(){return f(this,ga,"f")}fetch(e,i){return k(this,void 0,void 0,function*(){let o=tt.API.PRODUCTION_1+f(this,oi,"f").api_version,n=(i==null?void 0:i.baseURL)||o,a=typeof e=="string"?!n.endsWith("/")&&!e.startsWith("/")?new URL(`${n}/${e}`):new URL(n+e):e instanceof URL?e:new URL(e.url,n),c=(i==null?void 0:i.headers)||(e instanceof F.shim.Request?e.headers:new F.shim.Headers)||new F.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof F.shim.Request?e.body:void 0),d=new F.shim.Headers(c);d.set("Accept","*/*"),d.set("Accept-Language","*"),d.set("X-Goog-Visitor-Id",f(this,oi,"f").context.client.visitorData||""),d.set("X-Origin",a.origin),d.set("X-Youtube-Client-Version",f(this,oi,"f").context.client.clientVersion||""),F.shim.server&&(d.set("User-Agent",ji("desktop")),d.set("origin",a.origin)),a.searchParams.set("key",f(this,oi,"f").key),a.searchParams.set("prettyPrint","false"),a.searchParams.set("alt","json");let _=d.get("Content-Type"),v=p,y=!1,g=n===o||n===tt.YT_UPLOAD;if(_==="application/json"&&g&&typeof p=="string"){let P=JSON.parse(p),M=Object.assign(Object.assign({},P),{context:JSON.parse(JSON.stringify(f(this,oi,"f").context))});f(this,Yx,"m",A0).call(this,M.context,M.client),d.set("x-youtube-client-version",M.context.client.clientVersion),delete M.client,F.shim.server&&(M.context.client.clientName==="ANDROID"||M.context.client.clientName==="ANDROID_MUSIC"?d.set("User-Agent",se.ANDROID.USER_AGENT):M.context.client.clientName==="iOS"&&d.set("User-Agent",se.iOS.USER_AGENT)),v=JSON.stringify(M)}let b=new F.shim.Request(a,e instanceof F.shim.Request?e:i),I=yield f(this,ga,"f").call(this,b,{body:v,headers:d,credentials:"include",redirect:e instanceof F.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"});if(I.ok)return I;throw new w(`Request to ${I.url} failed with status ${I.status}`,yield I.text())})}};r(xh,"HTTPClient");oi=new WeakMap,Ux=new WeakMap,ga=new WeakMap,Yx=new WeakSet,A0=r(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=se.ANDROID.SDK_VERSION,e.client.userAgent=se.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="10",e.client.platform="MOBILE"),i){case"iOS":e.client.deviceModel=se.iOS.DEVICE_MODEL,e.client.clientVersion=se.iOS.VERSION,e.client.clientName=se.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=se.YTMUSIC.VERSION,e.client.clientName=se.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=se.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=se.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=se.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=se.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=se.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=se.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=se.TV_EMBEDDED.NAME,e.client.clientVersion=se.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:tt.YT_BASE};break;case"YTKIDS":e.client.clientVersion=se.WEB_KIDS.VERSION,e.client.clientName=se.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var Wx=xh;var ri=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new A(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,[Me,T]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return U.warnOnce(ri.type,"Channel#subscribers is deprecated. Please use Channel#subscriber_count instead."),this.subscriber_count}get videos(){return U.warnOnce(ri.type,"Channel#videos is deprecated. Please use Channel#video_count instead."),this.video_count}};r(ri,"Channel");ri.type="Channel";var gh=ri;var ni=class extends s{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=x.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(n=>({endpoint:new h(n.navigationEndpoint),icon:x.fromResponse(n.icon),title:new u(n.title)})))!==null&&o!==void 0?o:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new h(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=l.parseArray(e.actionButtons,T)}get views(){return U.warnOnce(ni.type,"ChannelAboutFullMetadata#views is deprecated. Please use ChannelAboutFullMetadata#view_count instead."),this.view_count}get joined(){return U.warnOnce(ni.type,"ChannelAboutFullMetadata#joined is deprecated. Please use ChannelAboutFullMetadata#joined_date instead."),this.joined_date}};r(ni,"ChannelAboutFullMetadata");ni.type="ChannelAboutFullMetadata";var ya=ni;var ba=class extends s{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=x.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=l.parseItem(e.signInButton,T),this.secondary_text=new u(e.secondaryText)}};r(ba,"ChannelAgeGate");ba.type="ChannelAgeGate";var V0=ba;var wa=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items)}};r(wa,"ChannelFeaturedContent");wa.type="ChannelFeaturedContent";var M0=wa;var Ta=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=x.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};r(Ta,"ChannelMetadata");Ta.type="ChannelMetadata";var yh=Ta;var ka=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(ka,"ChannelMobileHeader");ka.type="ChannelMobileHeader";var B0=ka;var Ia=class extends s{constructor(e){super(),this.avatar=x.fromResponse(e.avatar),this.endpoint=new h(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};r(Ia,"ChannelOptions");Ia.type="ChannelOptions";var bh=Ia;var Sa=class extends s{constructor(e){super(),this.illustration=x.fromResponse(e.illustration),this.description=new u(e.description)}};r(Sa,"ChannelOwnerEmptyState");Sa.type="ChannelOwnerEmptyState";var D0=Sa;var Ca=class extends s{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new h(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=l.parseItem(e.sortSetting)}};r(Ca,"ChannelSubMenu");Ca.type="ChannelSubMenu";var Ea=Ca;var Na=class extends s{constructor(e){var i,o;super(),this.thumbnails=x.fromResponse(e.thumbnail),this.endpoint=new h(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};r(Na,"ChannelThumbnailWithLink");Na.type="ChannelThumbnailWithLink";var L0=Na;var si=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return U.warnOnce(si.type,"ChannelVideoPlayer#views is deprecated. Please use ChannelVideoPlayer#view_count instead."),this.view_count}get published(){return U.warnOnce(si.type,"ChannelVideoPlayer#published is deprecated. Please use ChannelVideoPlayer#published_time instead."),this.published_time}};r(si,"ChannelVideoPlayer");si.type="ChannelVideoPlayer";var O0=si;var Pa=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=x.fromResponse(e.thumbnail)}};r(Pa,"Chapter");Pa.type="Chapter";var wh=Pa;var Ra=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:Ce(e.lengthText.simpleText)},this.endpoint=new h(e.navigationEndpoint)}};r(Ra,"ChildVideo");Ra.type="ChildVideo";var F0=Ra;var Aa=class extends s{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),this.text=new u(e.text).toString()}};r(Aa,"ChipCloudChip");Aa.type="ChipCloudChip";var Fe=Aa;var Va=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Fe),this.next_button=l.parseItem(e.nextButton,T),this.previous_button=l.parseItem(e.previousButton,T),this.horizontal_scrollable=e.horizontalScrollable}};r(Va,"ChipCloud");Va.type="ChipCloud";var Go=Va;var Ma=class extends s{constructor(e){super(),this.channel_avatar=x.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new h(e.endpoint)}};r(Ma,"CollaboratorInfoCardContent");Ma.type="CollaboratorInfoCardContent";var j0=Ma;var Ba=class extends s{constructor(e){super(),this.left=x.fromResponse(e.leftThumbnail),this.top_right=x.fromResponse(e.topRightThumbnail),this.bottom_right=x.fromResponse(e.bottomRightThumbnail),this.endpoint=new h(e.navigationEndpoint)}};r(Ba,"CollageHeroImage");Ba.type="CollageHeroImage";var Y0=Ba;var Da=class extends s{constructor(e){super(),this.endpoint=new h(e)}};r(Da,"Command");Da.type="Command";var U0=Da;var Th,La=class extends s{constructor(e){super(),Th.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),S(this,Th,e,"f")}get orig_badge(){return f(this,Th,"f")}};r(La,"AuthorCommentBadge");Th=new WeakMap;La.type="AuthorCommentBadge";var kh=La;var Oa=class extends s{constructor(e){super(),this.reply_button=l.parseItem(e.replyButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.author_thumbnail=x.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};r(Oa,"CommentReplyDialog");Oa.type="CommentReplyDialog";var Ih=Oa;var Fa=class extends s{constructor(e){var i,o;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};r(Fa,"PdgCommentChip");Fa.type="PdgCommentChip";var Sh=Fa;var ja=class extends s{constructor(e){super(),this.custom_badge=x.fromResponse(e.customBadge),this.tooltip=e.tooltip}};r(ja,"SponsorCommentBadge");ja.type="SponsorCommentBadge";var Ch=ja;var Yi={};we(Yi,{decodeVisitorData:()=>Zx,encodeChannelAnalyticsParams:()=>cI,encodeCommentActionParams:()=>tg,encodeCommentParams:()=>mI,encodeCommentsSectionParams:()=>fI,encodeCustomThumbnailPayload:()=>vI,encodeHashtag:()=>xI,encodeMessageParams:()=>eg,encodeMusicSearchFilters:()=>dI,encodeNotificationPref:()=>hI,encodeReelSequence:()=>ig,encodeSearchFilters:()=>pI,encodeVideoMetadataPayload:()=>_I,encodeVisitorData:()=>Qx});var E;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(E||(E={}));var O=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+Nh(Gx(this),Eh).toString(!1);let n=[],a=new O(i,o);for(;Yk(a,Fk);){let[c,p]=jk(a);n.push(p),a=c}return n.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new O(0);if(e.length<10)return i<0?Nh(Gx(new O(-i)),Eh):new O(i);let n=new O,a=Eh;for(let c of e.split("").reverse())parseInt(c)&&(n=Nh(n,W0(new O(parseInt(c)),a))),a=W0(a,new O(10));return o?Nh(Gx(n),Eh):n}};r(O,"Long");var Fk=new O(0),Eh=new O(1);function Ph(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}r(Ph,"makeChunk");function Nh(t,e){let[i,o,n,a]=Ph(t),[c,p,d,_]=Ph(e),v=0,y=0,g=0,b=0;return b+=i+c,g+=b>>>16,b&=65535,g+=o+p,y+=g>>>16,g&=65535,y+=n+d,v+=y>>>16,y&=65535,v+=a+_,v&=65535,new O(g<<16|b,v<<16|y)}r(Nh,"add");function W0(t,e){let[i,o,n,a]=Ph(t),[c,p,d,_]=Ph(e),v=0,y=0,g=0,b=0;return b+=i*c,g+=b>>>16,b&=65535,g+=i*p+o*c,y+=g>>>16,g&=65535,y+=i*d+n*c+o*p,v+=y>>>16,y&=65535,v+=i*_+o*d+n*p+a*c,v&=65535,new O(g<<16|b,v<<16|y)}r(W0,"mul");function jk(t){let[e,i]=t;return[new O((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}r(jk,"divByTen");function Yk(t,e){let[i,o]=t,[n,a]=e;return o!==a?o-a:i-n}r(Yk,"compare");function Gx(t){let[e,i]=t;return new O(~e,~i)}r(Gx,"negate");function Ho(t){let e=[],n=typeof t=="number"?new O(t):t;for(;n[0]||n[1];){let[a,c]=n,p=a&127,d=c>>>7,_=a>>>7|(c&127)<<32-7;n=new O(_,d);let v=n[0]||n[1]?p|128:p;e.push(v)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}r(Ho,"encode");function zo(t){let e=new O(0),i=0;for(;;){let o=t.getUint8(i);if(e=Uk(e,Wk(new O(o&127),i*7)),++i,!(o>>>7))return[i,e]}}r(zo,"decode");function Uk(t,e){return new O(t[0]|e[0],t[1]|e[1])}r(Uk,"or");function Wk(t,e){return e===0?t:e>=32?new O(0,t[0]<<e-32):new O(t[0]<<e,t[1]<<e|t[0]>>>32-e)}r(Wk,"leftshift");function N(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(Ho(i<<3|o.type)),o.type){case E.Varint:e.push(Ho(o.value));break;case E.Fixed64:{let n=new Uint8Array(8),a=new DataView(n.buffer);a.setUint32(0,o.value[0],!0),a.setUint32(4,o.value[1],!0),e.push(n);break}case E.LengthDelimited:e.push(Ho(o.value.byteLength)),e.push(o.value);break;case E.Fixed32:{let n=new Uint8Array(4);new DataView(n.buffer).setUint32(0,o.value,!0),e.push(n);break}}}),Hx(e)}r(N,"serialize");function Hx(t){let e=t.reduce((o,n)=>o+n.byteLength,0),i=new Uint8Array(e);return t.reduce((o,n)=>(i.set(n,o),o+n.byteLength),0),i}r(Hx,"concat");function zx(t){if(t instanceof O){let e=new O(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new O(4294967295,4294967295):new O;return new O(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}r(zx,"encode");function $x(t){if(t instanceof O){let e=new O(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new O(4294967295,4294967295):new O;return new O(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}r($x,"decode");var Kx={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>$x(t[0]),sint64:t=>$x(t).toString(!0),bool:t=>t[0]!==0},qx={int32:t=>new O(t),int64:t=>O.parse(t),uint32:t=>new O(t),uint64:t=>O.parse(t),sint32:t=>zx(new O(t)),sint64:t=>zx(O.parse(t)),bool:t=>new O(+t)},Jk=Object.fromEntries(Object.entries(Kx).map(([t,e])=>[t,i=>{if(i.type===E.Varint)return e(i.value)}])),Gk=Object.fromEntries(Object.entries(qx).map(([t,e])=>[t,i=>({type:E.Varint,value:e(i)})])),W=Object.assign(Object.assign({},Jk),{double:t=>t.type!==E.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==E.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===E.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===E.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===E.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===E.Fixed64)return t.value.toString(!0)},string:t=>t.type!==E.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===E.LengthDelimited)return t.value}}),C=Object.assign(Object.assign({},Gk),{double:t=>{let e=new O;return new DataView(e.buffer).setFloat64(0,t,!0),{type:E.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:E.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:E.Fixed32,value:t>>>0}),fixed64:t=>({type:E.Fixed64,value:O.parse(t)}),sfixed32:t=>({type:E.Fixed32,value:t|0}),sfixed64:t=>({type:E.Fixed64,value:O.parse(t)}),string:t=>{let e=new TextEncoder;return{type:E.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:E.LengthDelimited,value:t})}),Hk=Object.fromEntries(Object.keys(Kx).map(t=>[t,function*(e){for(let i of e){let o=W[t](i);if(o!=null)yield o;else for(let n of qk(i))yield Kx[t](n)}}])),BB=Object.assign(Object.assign({},Hk),{*double(t){for(let e of t){let i=W.double(e);i!=null?yield i:yield*$k(e)}},*float(t){for(let e of t){let i=W.float(e);i!=null?yield i:yield*Kk(e)}},*fixed32(t){for(let e of t){let i=W.fixed32(e);if(i!=null)yield i;else for(let o of J0(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=W.fixed64(e);if(i!=null)yield i;else for(let o of G0(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=W.sfixed32(e);if(i!=null)yield i;else for(let o of J0(e))yield o|0}},*sfixed64(t){for(let e of t){let i=W.sfixed64(e);if(i!=null)yield i;else for(let o of G0(e))yield o.toString(!0)}}}),zk=Object.fromEntries(Object.keys(qx).map(t=>[t,function(e){return{type:E.LengthDelimited,value:Hx(e.map(i=>{let o=qx[t](i);return Ho(o)}))}}]));function $o(t,e){return r(function(o){let n=new Uint8Array(o.length*t),a=new DataView(n.buffer);for(let c=0;c<o.length;++c)e(a,c*t,o[c]);return{type:E.LengthDelimited,value:n}},"pack")}r($o,"getFixedPackFn");var DB=Object.assign(Object.assign({},zk),{double:$o(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:$o(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:$o(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:$o(8,(t,e,i)=>{let o=O.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:$o(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:$o(8,(t,e,i)=>{let o=O.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*$k(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=o.getFloat64(i,!0);i+=4,yield n}}r($k,"unpackDouble");function*Kk(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=o.getFloat32(i,!0);i+=4,yield n}}r(Kk,"unpackFloat");function*qk(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let n=zo(new DataView(e.buffer,o+i));i+=n[0],yield n[1]}}r(qk,"unpackVarint");function*J0(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=o.getUint32(i,!0);i+=4,yield n}}r(J0,"unpackFixed32");function*G0(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let n=o.getUint32(i,!0);i+=4;let a=o.getUint32(i,!0);i+=4,yield new O(n,a)}}r(G0,"unpackFixed64");function J(t){let e=0,i=t.byteOffset,o=[],n=new DataView(t.buffer,i);for(;e<t.length;){let a=zo(new DataView(t.buffer,i+e)),c=a[1][0];e+=a[0];let p=c&7,d=c>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case E.Varint:{let[y,g]=zo(new DataView(t.buffer,i+e));o.push([d,{type:p,value:g}]),e+=y;break}case E.Fixed64:let _=n.getUint32(e,!0),v=n.getUint32(e+=4,!0);e+=4,o.push([d,{type:p,value:new O(_,v)}]);break;case E.LengthDelimited:{let[y,g]=zo(new DataView(t.buffer,i+e));o.push([d,{type:p,value:t.subarray(e+=y,e+=g[0])}]);break}case E.StartGroup:case E.EndGroup:o.push([d,{type:p}]);break;case E.Fixed32:o.push([d,{type:p,value:n.getUint32(e,!0)}]),e+=4;break}}return o}r(J,"deserialize");function Xk(){return{id:"",timestamp:0}}r(Xk,"getDefaultValue");function H0(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,C.int32(i)])}return N(e)}r(H0,"encodeBinary");function z0(t){let e=Xk(),i=J(t),o=new Map(i);e:{let n=o.get(1);if(n===void 0)break e;let a=W.string(n);if(a===void 0)break e;e.id=a}e:{let n=o.get(5);if(n===void 0)break e;let a=W.int32(n);if(a===void 0)break e;e.timestamp=a}return e}r(z0,"decodeBinary");function $0(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,C.string(i)])}return N(e)}r($0,"encodeBinary");function K0(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:E.LengthDelimited,value:$0(i)}])}return N(e)}r(K0,"encodeBinary");function q0(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,C.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,C.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,C.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,C.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,C.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,C.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,C.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,C.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,C.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,C.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,C.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,C.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,C.int32(i)])}return N(e)}r(q0,"encodeBinary");function X0(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,C.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:E.LengthDelimited,value:q0(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,C.int32(i)])}return N(e)}r(X0,"encodeBinary");function Q0(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,C.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,C.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,C.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,C.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,C.int32(i)])}return N(e)}r(Q0,"encodeBinary");function Z0(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:E.LengthDelimited,value:Q0(i)}])}return N(e)}r(Z0,"encodeBinary");function ey(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:E.LengthDelimited,value:Z0(i)}])}return N(e)}r(ey,"encodeBinary");function ty(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return N(e)}r(ty,"encodeBinary");function iy(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:E.LengthDelimited,value:ty(i)}])}return N(e)}r(iy,"encodeBinary");function oy(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:E.LengthDelimited,value:iy(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,C.int32(i)])}return N(e)}r(oy,"encodeBinary");function ry(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return N(e)}r(ry,"encodeBinary");function ny(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,C.int32(i)])}return N(e)}r(ny,"encodeBinary");function sy(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:E.LengthDelimited,value:ny(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,C.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,C.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,C.int32(i)])}return N(e)}r(sy,"encodeBinary");function ay(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,C.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,C.int32(i)])}return N(e)}r(ay,"encodeBinary");function uy(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,C.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:E.LengthDelimited,value:sy(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:E.LengthDelimited,value:ay(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,C.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,C.string(i)])}return N(e)}r(uy,"encodeBinary");function ly(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:E.LengthDelimited,value:ry(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,C.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:E.LengthDelimited,value:uy(i)}])}return N(e)}r(ly,"encodeBinary");function cy(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return N(e)}r(cy,"encodeBinary");function py(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:E.LengthDelimited,value:cy(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,C.int32(i)])}return N(e)}r(py,"encodeBinary");function dy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return N(e)}r(dy,"encodeBinary");function fy(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:E.LengthDelimited,value:dy(i)}])}return N(e)}r(fy,"encodeBinary");function my(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:E.LengthDelimited,value:fy(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,C.string(i)])}return N(e)}r(my,"encodeBinary");function hy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,C.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,C.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:E.LengthDelimited,value:my(i)}])}return N(e)}r(hy,"encodeBinary");function _y(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return N(e)}r(_y,"encodeBinary");function vy(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:E.LengthDelimited,value:_y(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,C.int32(i)])}return N(e)}r(vy,"encodeBinary");function xy(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,C.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,C.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,C.string(i)])}return N(e)}r(xy,"encodeBinary");function gy(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:E.LengthDelimited,value:xy(i)}])}return N(e)}r(gy,"encodeBinary");function yy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return N(e)}r(yy,"encodeBinary");function by(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return N(e)}r(by,"encodeBinary");function wy(t){let e=[];for(let i of t.list)e.push([1,C.string(i)]);return N(e)}r(wy,"encodeBinary");function Ty(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.int32(i)])}return N(e)}r(Ty,"encodeBinary");function ky(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.string(i)])}return N(e)}r(ky,"encodeBinary");function Iy(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,C.bytes(i)])}return N(e)}r(Iy,"encodeBinary");function Sy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:E.LengthDelimited,value:Iy(i)}])}return N(e)}r(Sy,"encodeBinary");function Cy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}return N(e)}r(Cy,"encodeBinary");function Ey(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return N(e)}r(Ey,"encodeBinary");function Ny(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return N(e)}r(Ny,"encodeBinary");function Xx(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:E.LengthDelimited,value:gy(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,C.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:E.LengthDelimited,value:yy(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:E.LengthDelimited,value:by(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:E.LengthDelimited,value:wy(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:E.LengthDelimited,value:Ty(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:E.LengthDelimited,value:ky(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:E.LengthDelimited,value:Sy(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:E.LengthDelimited,value:Cy(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:E.LengthDelimited,value:Ey(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:E.LengthDelimited,value:Ny(i)}])}return N(e)}r(Xx,"encodeBinary");function Py(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,C.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,C.int32(i)])}return N(e)}r(Py,"encodeBinary");function Ry(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:E.LengthDelimited,value:Py(i)}])}return N(e)}r(Ry,"encodeBinary");function Ay(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,C.int32(i)])}return N(e)}r(Ay,"encodeBinary");function Vy(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:E.LengthDelimited,value:Ay(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,C.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,C.int32(i)])}return N(e)}r(Vy,"encodeBinary");function Qx(t,e){let i=H0({id:t,timestamp:e});return encodeURIComponent(qe(i).replace(/\+/g,"-").replace(/\//g,"_"))}r(Qx,"encodeVisitorData");function Zx(t){return z0(og(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}r(Zx,"decodeVisitorData");function cI(t){let e=K0({params:{channelId:t}});return encodeURIComponent(qe(e))}r(cI,"encodeChannelAnalyticsParams");function pI(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},o={all:void 0,short:1,long:2,medium:3},n={relevance:void 0,rating:1,upload_date:2,view_count:3},a={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},c={};if(t?c.filters={}:c.noFilter=0,c.filters&&(t.upload_date&&(c.filters.uploadDate=e[t.upload_date]),t.type&&(c.filters.type=i[t.type]),t.duration&&(c.filters.duration=o[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(c.sortBy=n[t.sort_by]),t.features))for(let d of t.features)c.filters[a[d]]=1;let p=X0(c);return encodeURIComponent(qe(p))}r(pI,"encodeSearchFilters");function dI(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let o=ey(i);return encodeURIComponent(qe(o))}r(dI,"encodeMusicSearchFilters");function eg(t,e){let i=oy({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(qe(i)))}r(eg,"encodeMessageParams");function fI(t,e={}){let o=ly({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(qe(o))}r(fI,"encodeCommentsSectionParams");function mI(t){let e=py({videoId:t,params:{index:0},number:7});return encodeURIComponent(qe(e))}r(mI,"encodeCommentParams");function tg(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let o=hy(i);return encodeURIComponent(qe(o))}r(tg,"encodeCommentActionParams");function hI(t,e){let i=vy({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(qe(i))}r(hI,"encodeNotificationPref");function _I(t,e){let i={context:{client:{unkparam:14,clientName:se.ANDROID.NAME,clientVersion:se.YTSTUDIO_ANDROID.VERSION}},target:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),Xx(i)}r(_I,"encodeVideoMetadataPayload");function vI(t,e){let i={context:{client:{unkparam:14,clientName:se.ANDROID.NAME,clientVersion:se.YTSTUDIO_ANDROID.VERSION}},target:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return Xx(i)}r(vI,"encodeCustomThumbnailPayload");function xI(t){let e=Ry({params:{hashtag:t,type:1}});return encodeURIComponent(qe(e))}r(xI,"encodeHashtag");function ig(t){let e=Vy({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent(qe(e))}r(ig,"encodeReelSequence");var ft,Ya=class extends s{constructor(e){var i,o,n,a,c,p,d;super(),ft.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=x.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=l.parseItem(e.sponsorCommentBadge,Ch),this.paid_comment_chip=l.parseItem(e.paidCommentChipRenderer,Sh),this.author_badge=l.parseItem(e.authorCommentBadge,kh),this.author=new A(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=l.parseItem(e.actionMenu,L),this.action_buttons=l.parseItem(e.actionButtons,Mo),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((n=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||n===void 0)&&n.is_toggled),this.is_disliked=!!(!((c=(a=this.action_buttons)===null||a===void 0?void 0:a.dislike_button)===null||c===void 0)&&c.is_toggled),this.is_hearted=!!(!((d=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||d===void 0)&&d.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return k(this,void 0,void 0,function*(){if(!f(this,ft,"f"))throw new w("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new w("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new w("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(f(this,ft,"f"),{parse:!1})})}dislike(){var e;return k(this,void 0,void 0,function*(){if(!f(this,ft,"f"))throw new w("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new w("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new w("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(f(this,ft,"f"),{parse:!1})})}reply(e){var i,o,n;return k(this,void 0,void 0,function*(){if(!f(this,ft,"f"))throw new w("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new w("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let a=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((n=a.endpoint)===null||n===void 0)&&n.dialog))throw new w("Reply button endpoint did not have a dialog.");let p=a.endpoint.dialog.as(Ih).reply_button;if(!p)throw new w("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new w("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(f(this,ft,"f"),{commentText:e})})}translate(e){var i,o,n,a,c,p;return k(this,void 0,void 0,function*(){if(!f(this,ft,"f"))throw new w("An active caller must be provide to perform this operation.");let _={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},v=tg(22,_),y=yield f(this,ft,"f").execute("comment/perform_comment_action",{action:v,client:"ANDROID"}),g=(o=(i=y.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,b=(p=(c=(a=(n=g==null?void 0:g[0])===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},y),{content:b})})}setActions(e){S(this,ft,e,"f")}};r(Ya,"Comment");ft=new WeakMap;Ya.type="Comment";var Ko=Ya;var Ua=class extends s{constructor(e){super(),this.id=e.id,this.categories=l.parseArray(e.categories),this.category_buttons=l.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};r(Ua,"EmojiPicker");Ua.type="EmojiPicker";var Rh=Ua;var Wa=class extends s{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=x.fromResponse(e.authorThumbnail),this.submit_button=l.parseItem(e.submitButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.placeholder=new u(e.placeholderText),this.emoji_button=l.parseItem(e.emojiButton,T),this.emoji_picker=l.parseItem(e.emojiPicker,Rh)}};r(Wa,"CommentDialog");Wa.type="CommentDialog";var My=Wa;var Ja=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),this.view_replies=l.parseItem(e.viewReplies,T),this.hide_replies=l.parseItem(e.hideReplies,T),this.view_replies_creator_thumbnail=x.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};r(Ja,"CommentReplies");Ja.type="CommentReplies";var Ah=Ja;var Ga=class extends s{constructor(e){super(),this.simplebox_avatar=x.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};r(Ga,"CommentsSimplebox");Ga.type="CommentsSimplebox";var Vh=Ga;var Ha=class extends s{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=x.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};r(Ha,"CommentsEntryPointTeaser");Ha.type="CommentsEntryPointTeaser";var Mh=Ha;var za=class extends s{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=x.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=l.parseItem(e.contentRenderer,[Mh,Vh])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};r(za,"CommentsEntryPointHeader");za.type="CommentsEntryPointHeader";var Bh=za;var $a=class extends s{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=l.parseItem(e.createRenderer),this.sort_menu=l.parseItem(e.sortMenu,dt),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:x.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};r($a,"CommentsHeader");$a.type="CommentsHeader";var ai=$a;var Ka=class extends s{constructor(e){super(),this.submit_button=l.parseItem(e.submitButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.author_thumbnail=x.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};r(Ka,"CommentSimplebox");Ka.type="CommentSimplebox";var Dh=Ka;var Ot,Ui,qa=class extends s{constructor(e){super(),Ot.set(this,void 0),Ui.set(this,void 0),this.comment=l.parseItem(e.comment,Ko),this.comment_replies_data=l.parseItem(e.replies,Ah),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return k(this,void 0,void 0,function*(){if(!f(this,Ot,"f"))throw new w("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new w("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(le);if(!i)throw new w("Replies continuation not found.");let o=yield i.endpoint.call(f(this,Ot,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new w("Unexpected response.",o);return this.replies=ie(o.on_response_received_endpoints_memo.getType(Ko).map(n=>(n.setActions(f(this,Ot,"f")),n))),S(this,Ui,o==null?void 0:o.on_response_received_endpoints_memo.getType(le).first(),"f"),this})}getContinuation(){var e;return k(this,void 0,void 0,function*(){if(!this.replies)throw new w("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!f(this,Ui,"f"))throw new w("Continuation not found.");if(!f(this,Ot,"f"))throw new w("Actions instance not set for this thread.");let i=(e=f(this,Ui,"f").button)===null||e===void 0?void 0:e.as(T);if(!i)throw new w('"Load more" button not found.');let o=yield i.endpoint.call(f(this,Ot,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new w("Unexpected response.",o);return this.replies=ie(o.on_response_received_endpoints_memo.getType(Ko).map(n=>(n.setActions(f(this,Ot,"f")),n))),S(this,Ui,o.on_response_received_endpoints_memo.getType(le).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new w("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!f(this,Ui,"f")}setActions(e){S(this,Ot,e,"f")}};r(qa,"CommentThread");Ot=new WeakMap,Ui=new WeakMap;qa.type="CommentThread";var Lh=qa;var Xa=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=x.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new h(e.navigationEndpoint),this.tv_banner=x.fromResponse(e.tvBanner),this.menu=l.parseItem(e.menu,L)}};r(Xa,"CompactChannel");Xa.type="CompactChannel";var By=Xa;var Qa=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new h(e.navigationEndpoint),this.style=e.style}};r(Qa,"CompactLink");Qa.type="CompactLink";var qo=Qa;var Za=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail)}};r(Za,"PlaylistCustomThumbnail");Za.type="PlaylistCustomThumbnail";var Xo=Za;var eu=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail)}};r(eu,"PlaylistVideoThumbnail");eu.type="PlaylistVideoThumbnail";var Qo=eu;var tu=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new A(e.longBylineText,e.ownerBadges,null),this.thumbnails=x.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=l.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=l.parseItem(e.menu),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer,[Qo,Xo])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};r(tu,"Playlist");tu.type="Playlist";var Ct=tu;var iu=class extends Ct{constructor(e){super(e)}};r(iu,"CompactMix");iu.type="CompactMix";var Dy=iu;var ou=class extends s{constructor(e){var i;super();let o=((i=e.thumbnailOverlays.find(a=>a.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=x.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new A(e.shortBylineText);let n=e.lengthText?new u(e.lengthText).toString():new u(o).toString();this.duration={text:n,seconds:Ce(n)},this.endpoint=new h(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=l.parseItem(e.menu,L)}};r(ou,"CompactMovie");ou.type="CompactMovie";var Ly=ou;var ru=class extends Ct{constructor(e){super(e)}};r(ru,"CompactPlaylist");ru.type="CompactPlaylist";var Oy=ru;var nu=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new h(e.navigationEndpoint),this.thumbnail=x.fromResponse(e.thumbnail)}};r(nu,"CompactStation");nu.type="CompactStation";var Fy=nu;var su=class extends s{constructor(e){super(),this.title=new u(e.title),this.confirm_button=l.parseItem(e.confirmButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};r(su,"ConfirmDialog");su.type="ConfirmDialog";var jy=su;var au=class extends s{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>({metadata_parts:i.metadataParts.map(o=>({text:u.fromAttributed(o.text)}))})),this.delimiter=e.delimiter}};r(au,"ContentMetadataView");au.type="ContentMetadataView";var Oh=au;var uu=class extends s{constructor(e){super(),this.text=new u(e.text)}};r(uu,"Message");uu.type="Message";var ui=uu;var lu=class extends s{constructor(e){super(),this.availability_message=l.parseItem(e.availabilityMessage,ui)}};r(lu,"ConversationBar");lu.type="ConversationBar";var Yy=lu;var cu=class extends s{constructor(e){super(),this.copy_button=l.parseItem(e.copyButton,T),this.short_url=e.shortUrl,this.style=e.style}};r(cu,"CopyLink");cu.type="CopyLink";var Fh=cu;var pu=class extends s{constructor(e){var i,o;super(),this.avatar=l.parseItem(e.avatar,Lm),this.a11y_label=e.a11yLabel,!((o=(i=e.rendererContext)===null||i===void 0?void 0:i.commandContext)===null||o===void 0)&&o.onTap&&(this.on_tap_endpoint=new h(e.rendererContext.commandContext.onTap))}};r(pu,"DecoratedAvatarView");pu.type="DecoratedAvatarView";var jh=pu;var du=class extends s{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};r(du,"HeatMarker");du.type="HeatMarker";var Yh=du;var fu=class extends s{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=l.parseArray(e.heatMarkers,Yh),this.heat_markers_decorations=l.parseArray(e.heatMarkersDecorations)}};r(fu,"Heatmap");fu.type="Heatmap";var Uh=fu;var mu=class extends s{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=l.parseItem(e.value.heatmap,Uh)),Reflect.has(e.value,"chapters")&&(this.value.chapters=l.parseArray(e.value.chapters,wh)))}};r(mu,"Marker");mu.type="Marker";var hu=class extends s{constructor(e){var i;super(),this.markers_map=ie(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new mu(o)))||[])}};r(hu,"MultiMarkersPlayerBar");hu.type="MultiMarkersPlayerBar";var Wh=hu;var _u=class extends s{constructor(e){super(),this.player_bar=l.parseItem(e.playerBar,Wh),this.player_bar_action_button=l.parseItem(e.playerBarActionButton,T)}};r(_u,"DecoratedPlayerBar");_u.type="DecoratedPlayerBar";var Jh=_u;var vu=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new h(e.navigationEndpoint),this.large_form_factor_background_thumbnail=l.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=l.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};r(vu,"DefaultPromoPanel");vu.type="DefaultPromoPanel";var Uy=vu;var xu=class extends s{constructor(e){var i,o,n,a,c,p;if(super(),this.description=u.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=u.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,!((n=(o=(i=e.rendererContext.commandContext)===null||i===void 0?void 0:i.onTap)===null||o===void 0?void 0:o.innertubeCommand)===null||n===void 0)&&n.showEngagementPanelEndpoint){let d=(p=(c=(a=e.rendererContext.commandContext)===null||a===void 0?void 0:a.onTap)===null||c===void 0?void 0:c.innertubeCommand)===null||p===void 0?void 0:p.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:l.parseItem(d.engagementPanel,ii),engagement_panel_popup_type:d.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:d.identifier.surface,tag:d.identifier.tag}}}}}};r(xu,"DescriptionPreviewView");xu.type="DescriptionPreviewView";var Gh=xu;var gu=class extends s{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new h(e.navigationEndpoint||e.correctedQueryEndpoint)}};r(gu,"DidYouMean");gu.type="DidYouMean";var Wy=gu;var yu=class extends s{constructor(e){super(),this.default_button=l.parseItem(e.defaultButtonViewModel,Vi),this.toggled_button=l.parseItem(e.toggledButtonViewModel,Vi),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};r(yu,"ToggleButtonView");yu.type="ToggleButtonView";var Zo=yu;var bu=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,Zo),this.dislike_entity_key=e.dislikeEntityKey}};r(bu,"DislikeButtonView");bu.type="DislikeButtonView";var Hh=bu;var wu=class extends s{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new h(e.command),this.target_id=e.targetId}};r(wu,"DownloadButton");wu.type="DownloadButton";var Jy=wu;var Tu=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};r(Tu,"DynamicTextView");Tu.type="DynamicTextView";var zh=Tu;var Wi=class extends s{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new Wi(o)))}};r(Wi,"ChildElement");Wi.type="ChildElement";var $h=Wi;var Ji=class extends s{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return l.parseItem(e,Ji);let o=e.newElement.type.componentType;this.model=l.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=ie(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(n=>new $h(n)))||[]))}};r(Ji,"Element");Ji.type="Element";var er=Ji;var ku=class extends s{constructor(e){super(),this.title=new u(e.title),this.first_option=l.parseItem(e.firstOption),this.menu=l.parseItem(e.menu,L)}};r(ku,"EmergencyOnebox");ku.type="EmergencyOnebox";var Gy=ku;var Iu=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};r(Iu,"EmojiPickerCategory");Iu.type="EmojiPickerCategory";var Hy=Iu;var Su=class extends s{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};r(Su,"EmojiPickerCategoryButton");Su.type="EmojiPickerCategoryButton";var zy=Su;var Cu=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new h(e.command),this.emoji_ids=e.emojiIds}};r(Cu,"EmojiPickerUpsellCategory");Cu.type="EmojiPickerUpsellCategory";var $y=Cu;var Eu=class extends s{constructor(e){super(),this.elements=l.parseArray(e.elements),this.start_ms=e.startMs}};r(Eu,"Endscreen");Eu.type="Endscreen";var Kh=Eu;var Nu=class extends s{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new h(e.endpoint),Reflect.has(e,"image")&&(this.image=x.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=x.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=l.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};r(Nu,"EndscreenElement");Nu.type="EndscreenElement";var Ky=Nu;var Pu=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new h(e.navigationEndpoint),this.thumbnails=x.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};r(Pu,"EndScreenPlaylist");Pu.type="EndScreenPlaylist";var qh=Pu;var Ru=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=x.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new A(e.shortBylineText,e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=l.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};r(Ru,"EndScreenVideo");Ru.type="EndScreenVideo";var Xh=Ru;var Au=class extends s{constructor(e){super(),this.title=e.title,this.endpoint=new h(e.endpoint),this.selected=e.selected,this.content=l.parseItem(e.content)}};r(Au,"ExpandableTab");Au.type="ExpandableTab";var tr=Au;var Vu=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Vu,"ExpandedShelfContents");Vu.type="ExpandedShelfContents";var qy=Vu;var Mu=class extends s{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};r(Mu,"FancyDismissibleDialog");Mu.type="FancyDismissibleDialog";var Xy=Mu;var Bu=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,Fe)}};r(Bu,"FeedFilterChipBar");Bu.type="FeedFilterChipBar";var Ft=Bu;var Du=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.endpoint=new h(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};r(Du,"FeedNudge");Du.type="FeedNudge";var Qy=Du;var Lu=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(Lu,"FeedTabbedHeader");Lu.type="FeedTabbedHeader";var Qh=Lu;var Ou=class extends s{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:l.parseArray(i.actions,Vi)})),this.style=e.style}};r(Ou,"FlexibleActionsView");Ou.type="FlexibleActionsView";var Zh=Ou;var Fu=class extends s{constructor(e){super(),this.title=new u(e.title),this.box_art=x.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new h(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};r(Fu,"GameDetails");Fu.type="GameDetails";var Zy=Fu;var ju=class extends s{constructor(e){var i,o,n;super(),this.items=l.parseArray(e.items),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)||null}get contents(){return this.items}};r(ju,"Grid");ju.type="Grid";var eb=ju;var Yu=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new A(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton)}};r(Yu,"GridChannel");Yu.type="GridChannel";var e_=Yu;var Uu=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(Uu,"GridHeader");Uu.type="GridHeader";var tb=Uu;var Wu=class extends s{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new u(e.longBylineText):null,this.thumbnails=x.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new h(e.navigationEndpoint),this.secondary_endpoint=new h(e.secondaryNavigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};r(Wu,"GridMix");Wu.type="GridMix";var ib=Wu;var Ju=class extends s{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(n=>n.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=x.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):o!=null&&o.text?new u(o.text):null,this.endpoint=new h(e.navigationEndpoint),this.badges=l.parseArray(e.badges,Je),this.metadata=new u(e.metadata),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};r(Ju,"GridMovie");Ju.type="GridMovie";var ob=Ju;var Gu=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new A(e.shortBylineText,e.ownerBadges)),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=x.fromResponse(e.thumbnail),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>x.fromResponse(o)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};r(Gu,"GridPlaylist");Gu.type="GridPlaylist";var t_=Gu;var Hu=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail)}};r(Hu,"ShowCustomThumbnail");Hu.type="ShowCustomThumbnail";var i_=Hu;var zu=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};r(zu,"ThumbnailOverlayBottomPanel");zu.type="ThumbnailOverlayBottomPanel";var o_=zu;var $u=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=ee(e.thumbnailRenderer,i_),this.endpoint=new h(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=De(e.thumbnailOverlays,o_),this.author=new A(e.shortBylineText,void 0)}};r($u,"GridShow");$u.type="GridShow";var rb=$u;var Ku=class extends s{constructor(e){var i,o;super();let n=(i=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=x.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.rich_thumbnail=l.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):n!=null&&n.text?new u(n.text):null,this.author=e.shortBylineText&&new A(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new h(e.navigationEndpoint),this.menu=l.parseItem(e.menu,L),Reflect.has(e,"buttons")&&(this.buttons=l.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};r(Ku,"GridVideo");Ku.type="GridVideo";var r_=Ku;var qu=class extends s{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=x.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};r(qu,"GuideEntry");qu.type="GuideEntry";var Gi=qu;var Xu=class extends s{constructor(e){super(),this.expander_item=ee(e.expanderItem,Gi),this.collapser_item=ee(e.collapserItem,Gi),this.expandable_items=De(e.expandableItems)}};r(Xu,"GuideCollapsibleEntry");Xu.type="GuideCollapsibleEntry";var nb=Xu;var Qu=class extends s{constructor(e){super(),this.header_entry=ee(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=De(e.sectionItems)}};r(Qu,"GuideCollapsibleSectionEntry");Qu.type="GuideCollapsibleSectionEntry";var sb=Qu;var Zu=class extends Gi{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};r(Zu,"GuideDownloadsEntry");Zu.type="GuideDownloadsEntry";var ab=Zu;var el=class extends s{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=De(e.items)}};r(el,"GuideSection");el.type="GuideSection";var ir=el;var tl=class extends ir{};r(tl,"GuideSubscriptionsSection");tl.type="GuideSubscriptionsSection";var n_=tl;var il=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};r(il,"HashtagHeader");il.type="HashtagHeader";var s_=il;var ol=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=x.fromResponse(e.hashtagThumbnail),this.endpoint=new h(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};r(ol,"HashtagTile");ol.type="HashtagTile";var ub=ol;var rl=class extends s{constructor(e){super(),this.thumbnails=x.fromResponse(e.thumbnail),this.on_tap_endpoint=new h(e.onTap)}};r(rl,"HeroPlaylistThumbnail");rl.type="HeroPlaylistThumbnail";var lb=rl;var nl=class extends s{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:x.fromResponse(e.thumbnail.image),endpoint:new h(e.thumbnail.onTap),on_long_press_endpoint:new h(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:x.fromResponse(e.backgroundImage.image),gradient_image:x.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new h(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new h(e.textOnTap)}};r(nl,"Panel");nl.type="Panel";var sl=class extends s{constructor(e){super(),this.panels=ie(e.highlightsCarousel.panels.map(i=>new nl(i)))}};r(sl,"HighlightsCarousel");sl.type="HighlightsCarousel";var cb=sl;var al=class extends s{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new h(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new h(e.serviceEndpoint))}};r(al,"SearchSuggestion");al.type="SearchSuggestion";var a_=al;var ul=class extends a_{constructor(e){super(e)}};r(ul,"HistorySuggestion");ul.type="HistorySuggestion";var pb=ul;var ll=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.previous_button=l.parseItem(e.previousButton,T),this.next_button=l.parseItem(e.nextButton,T)}get contents(){return this.items}};r(ll,"HorizontalMovieList");ll.type="HorizontalMovieList";var db=ll;var cl=class extends s{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new h(e.navigationEndpoint)}};r(cl,"IconLink");cl.type="IconLink";var u_=cl;var pl=class extends s{constructor(e){super(),this.image=x.fromResponse(e.image),this.style=e.style}};r(pl,"ImageBannerView");pl.type="ImageBannerView";var l_=pl;var dl=class extends s{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new h(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new h(e.originalQueryEndpoint):void 0}};r(dl,"IncludingResultsFor");dl.type="IncludingResultsFor";var fb=dl;var fl=class extends s{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),this.paragraphs=e.paragraphs.map(i=>new u(i)),this.thumbnail=x.fromResponse(e.thumbnail),this.source_endpoint=new h(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};r(fl,"InfoPanelContent");fl.type="InfoPanelContent";var c_=fl;var ml=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.menu=l.parseItem(e.menu,L),this.content=l.parseItem(e.content,c_),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};r(ml,"InfoPanelContainer");ml.type="InfoPanelContainer";var p_=ml;var hl=class extends s{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=l.parseArray(e.badges,Je),this.box_art=x.fromResponse(e.boxArt),this.banner=x.fromResponse(e.banner),this.buttons=l.parseArray(e.buttons,[Me,T]),this.auto_generated=new u(e.autoGenerated)}};r(hl,"InteractiveTabbedHeader");hl.type="InteractiveTabbedHeader";var d_=hl;var _l=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(_l,"ItemSectionHeader");_l.type="ItemSectionHeader";var or=_l;var vl=class extends s{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new h(e.endpoint)}};r(vl,"ItemSectionTab");vl.type="Tab";var f_=vl;var xl=class extends s{constructor(e){super(),this.title=new u(e.title),this.tabs=l.parseArray(e.tabs,f_),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};r(xl,"ItemSectionTabbedHeader");xl.type="ItemSectionTabbedHeader";var rr=xl;var gl=class extends s{constructor(e){super(),this.filter_menu=l.parseItem(e.filterMenu,Hi.SortFilterSubMenu)}};r(gl,"SortFilterHeader");gl.type="SortFilterHeader";var m_=gl;var yl=class extends s{constructor(e){var i,o,n;super(),this.header=l.parseItem(e.header,[ai,or,rr,m_]),this.contents=l.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=(n=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)}};r(yl,"ItemSection");yl.type="ItemSection";var Ge=yl;var bl=class extends s{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new h(i)))}};r(bl,"LikeButton");bl.type="LikeButton";var h_=bl;var wl=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,Zo),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};r(wl,"LikeButtonView");wl.type="LikeButtonView";var __=wl;var Tl=class extends s{constructor(e){var i,o;super(),this.header=l.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};r(Tl,"LiveChat");Tl.type="LiveChat";var v_=Tl;var kl=class extends s{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};r(kl,"LiveChatBannerHeader");kl.type="LiveChatBannerHeader";var x_=kl;var Il=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,x_),this.contents=l.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};r(Il,"LiveChatBanner");Il.type="LiveChatBanner";var g_=Il;var Sl=class extends s{constructor(e){super(),this.banner=l.parseItem(e.bannerRenderer,g_)}};r(Sl,"AddBannerToLiveChatCommand");Sl.type="AddBannerToLiveChatCommand";var mb=Sl;var Cl=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};r(Cl,"AddChatItemAction");Cl.type="AddChatItemAction";var y_=Cl;var El=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),this.duration_sec=e.durationSec}};r(El,"AddLiveChatTickerItemAction");El.type="AddLiveChatTickerItemAction";var hb=El;var Nl=class extends s{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};r(Nl,"DimChatItemAction");Nl.type="DimChatItemAction";var _b=Nl;var Pl=class extends s{constructor(e){super(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.moderation_buttons=l.parseArray(e.moderationButtons,T),this.auto_moderated_item=l.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};r(Pl,"LiveChatAutoModMessage");Pl.type="LiveChatAutoModMessage";var vb=Pl;var Rl=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=x.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};r(Rl,"LiveChatBannerPoll");Rl.type="LiveChatBannerPoll";var xb=Rl;var Al=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new h(e.contextMenuEndpoint)}};r(Al,"LiveChatMembershipItem");Al.type="LiveChatMembershipItem";var gb=Al;var Vl=class extends s{constructor(e){super(),this.message=new u(e.message),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};r(Vl,"LiveChatPaidMessage");Vl.type="LiveChatPaidMessage";var yb=Vl;var Ml=class extends s{constructor(e){super(),this.id=e.id,this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=x.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};r(Ml,"LiveChatPaidSticker");Ml.type="LiveChatPaidSticker";var bb=Ml;var Bl=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};r(Bl,"LiveChatPlaceholderItem");Bl.type="LiveChatPlaceholderItem";var wb=Bl;var Dl=class extends s{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=x.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=l.parseItem(e.informationButton),this.endpoint=new h(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=x.fromResponse(e.authorPhoto),this.information_dialog=l.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};r(Dl,"LiveChatProductItem");Dl.type="LiveChatProductItem";var Tb=Dl;var Ll=class extends s{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};r(Ll,"LiveChatRestrictedParticipation");Ll.type="LiveChatRestrictedParticipation";var kb=Ll;var zi=class extends s{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=l.parseArray(e.inlineActionButtons,T),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};r(zi,"LiveChatMessageBase");zi.type="LiveChatMessageBase";var Ol=class extends zi{constructor(e){super(e),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new h(e.contextMenuEndpoint)}};r(Ol,"LiveChatTextMessage");Ol.type="LiveChatTextMessage";var Ib=Ol;var Fl=class extends s{constructor(e){var i,o;super(),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=l.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new h(e.showItemEndpoint),this.id=e.id}};r(Fl,"LiveChatTickerPaidMessageItem");Fl.type="LiveChatTickerPaidMessageItem";var b_=Fl;var jl=class extends b_{};r(jl,"LiveChatTickerPaidStickerItem");jl.type="LiveChatTickerPaidStickerItem";var Sb=jl;var Yl=class extends s{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new A(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};r(Yl,"LiveChatTickerSponsorItem");Yl.type="LiveChatTickerSponsorItem";var Cb=Yl;var Ul=class extends zi{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=l.parseItem(e.actionButton)}};r(Ul,"LiveChatViewerEngagementMessage");Ul.type="LiveChatViewerEngagementMessage";var Eb=Ul;var Wl=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=x.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};r(Wl,"PollHeader");Wl.type="PollHeader";var Nb=Wl;var Jl=class extends s{constructor(e){super(),this.id=e.id,this.contents=l.parse(e.contents),this.target_id=e.targetId}};r(Jl,"LiveChatActionPanel");Jl.type="LiveChatActionPanel";var w_=Jl;var Gl=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};r(Gl,"MarkChatItemAsDeletedAction");Gl.type="MarkChatItemAsDeletedAction";var Pb=Gl;var Hl=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};r(Hl,"MarkChatItemsByAuthorAsDeletedAction");Hl.type="MarkChatItemsByAuthorAsDeletedAction";var Rb=Hl;var zl=class extends s{constructor(e){super(),this.target_action_id=e.targetActionId}};r(zl,"RemoveBannerForLiveChatCommand");zl.type="RemoveBannerForLiveChatCommand";var Ab=zl;var $l=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId}};r($l,"RemoveChatItemAction");$l.type="RemoveChatItemAction";var Vb=$l;var Kl=class extends s{constructor(e){super(),this.external_channel_id=e.externalChannelId}};r(Kl,"RemoveChatItemByAuthorAction");Kl.type="RemoveChatItemByAuthorAction";var Mb=Kl;var ql=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=l.parseItem(e.replacementItem)}};r(ql,"ReplaceChatItemAction");ql.type="ReplaceChatItemAction";var Bb=ql;var Xl=class extends s{constructor(e){var i;super(),this.actions=l.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};r(Xl,"ReplayChatItemAction");Xl.type="ReplayChatItemAction";var Db=Xl;var Ql=class extends s{constructor(e){super(),this.panel_to_show=l.parseItem(e.panelToShow,w_)}};r(Ql,"ShowLiveChatActionPanelAction");Ql.type="ShowLiveChatActionPanelAction";var Lb=Ql;var Zl=class extends s{constructor(e){super(),this.dialog=l.parseItem(e.dialog)}};r(Zl,"ShowLiveChatDialogAction");Zl.type="ShowLiveChatDialogAction";var Ob=Zl;var ec=class extends s{constructor(e){super(),this.tooltip=l.parseItem(e.tooltip)}};r(ec,"ShowLiveChatTooltipCommand");ec.type="ShowLiveChatTooltipCommand";var Fb=ec;var tc=class extends s{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};r(tc,"UpdateDateTextAction");tc.type="UpdateDateTextAction";var T_=tc;var ic=class extends s{constructor(e){super(),this.description=new u(e.description)}};r(ic,"UpdateDescriptionAction");ic.type="UpdateDescriptionAction";var k_=ic;var oc=class extends s{constructor(e){super(),this.poll_to_update=l.parseItem(e.pollToUpdate)}};r(oc,"UpdateLiveChatPollAction");oc.type="UpdateLiveChatPollAction";var jb=oc;var rc=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(rc,"UpdateTitleAction");rc.type="UpdateTitleAction";var I_=rc;var nc=class extends s{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};r(nc,"UpdateToggleButtonTextAction");nc.type="UpdateToggleButtonTextAction";var S_=nc;var sc=class extends s{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};r(sc,"UpdateViewershipAction");sc.type="UpdateViewershipAction";var C_=sc;var ac=class extends Je{constructor(e){super(e),this.custom_thumbnail=x.fromResponse(e.customThumbnail)}};r(ac,"LiveChatAuthorBadge");ac.type="LiveChatAuthorBadge";var Yb=ac;var uc=class extends s{constructor(e){super(),this.confirm_button=l.parseItem(e.confirmButton,T),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};r(uc,"LiveChatDialog");uc.type="LiveChatDialog";var Ub=uc;var lc=class extends s{constructor(e){super(),this.overflow_menu=l.parseItem(e.overflowMenu,L),this.collapse_button=l.parseItem(e.collapseButton,T),this.view_selector=l.parseItem(e.viewSelector,dt)}};r(lc,"LiveChatHeader");lc.type="LiveChatHeader";var E_=lc;var cc=class extends s{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=l.parseItem(e.moreCommentsBelowButton,T)}};r(cc,"LiveChatItemList");cc.type="LiveChatItemList";var N_=cc;var pc=class extends s{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=x.fromResponse(e.authorPhoto),this.send_button=l.parseItem(e.sendButton,T),this.target_id=e.targetId}};r(pc,"LiveChatMessageInput");pc.type="LiveChatMessageInput";var Wb=pc;var dc=class extends s{constructor(e){super(),this.name=new u(e.authorName),this.photo=x.fromResponse(e.authorPhoto),this.badges=l.parseArray(e.authorBadges)}};r(dc,"LiveChatParticipant");dc.type="LiveChatParticipant";var P_=dc;var fc=class extends s{constructor(e){super(),this.title=new u(e.title),this.participants=l.parseArray(e.participants,P_)}};r(fc,"LiveChatParticipantsList");fc.type="LiveChatParticipantsList";var R_=fc;var mc=class extends T{constructor(e){super(e)}};r(mc,"MenuNavigationItem");mc.type="MenuNavigationItem";var A_=mc;var hc=class extends T{constructor(e){super(e)}};r(hc,"MenuServiceItem");hc.type="MenuServiceItem";var li=hc;var _c=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[A_,li])}};r(_c,"MenuPopup");_c.type="MenuPopup";var Jb=_c;var vc=class extends s{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint)}};r(vc,"MenuServiceItemDownload");vc.type="MenuServiceItemDownload";var Gb=vc;var xc=class extends s{constructor(e){super(),this.header=l.parse(e.header),this.sections=l.parse(e.sections),this.style=e.style}};r(xc,"MultiPageMenu");xc.type="MultiPageMenu";var Hb=xc;var gc=class extends s{constructor(e){super(),this.items=l.parse(e.items)}get contents(){return this.items}};r(gc,"MultiPageMenuNotificationSection");gc.type="MultiPageMenuNotificationSection";var zb=gc;var yc=class extends s{constructor(e){super()}};r(yc,"MusicMenuItemDivider");yc.type="MusicMenuItemDivider";var V_=yc;var bc=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new h(e.selectedCommand)),this.selected=!!this.endpoint}};r(bc,"MusicMultiSelectMenuItem");bc.type="MusicMultiSelectMenuItem";var nr=bc;var wc=class extends s{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=l.parseArray(e.options,[nr,V_])}};r(wc,"MusicMultiSelectMenu");wc.type="MusicMultiSelectMenu";var M_=wc;var Tc=class extends s{constructor(e){super(),this.title=new u(e.title),this.buttons=l.parse(e.buttons)}};r(Tc,"SimpleMenuHeader");Tc.type="SimpleMenuHeader";var B_=Tc;var kc=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=x.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new h(e.buttonCommand)}};r(kc,"MerchandiseItem");kc.type="MerchandiseItem";var $b=kc;var Ic=class extends s{constructor(e){super(),this.title=e.title,this.menu=l.parseItem(e.actionButton),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Ic,"MerchandiseShelf");Ic.type="MerchandiseShelf";var D_=Ic;var Sc=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};r(Sc,"MetadataRow");Sc.type="MetadataRow";var Kb=Sc;var Cc=class extends s{constructor(e){super(),this.rows=l.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};r(Cc,"MetadataRowContainer");Cc.type="MetadataRowContainer";var L_=Cc;var Ec=class extends s{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};r(Ec,"MetadataRowHeader");Ec.type="MetadataRowHeader";var qb=Ec;var Nc=class extends s{constructor(e){super(),this.section_list=l.parseItem(e)}};r(Nc,"MetadataScreen");Nc.type="MetadataScreen";var Xb=Nc;var Pc=class extends s{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=x.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};r(Pc,"MicroformatData");Pc.type="MicroformatData";var sr=Pc;var Rc=class extends Ct{constructor(e){super(e)}};r(Rc,"Mix");Rc.type="Mix";var Qb=Rc;var Ac=class extends s{constructor(e){super(),this.title=new u(e.title),this.content=new u(e.content),this.button=l.parseItem(e.button,T)}};r(Ac,"ModalWithTitleAndButton");Ac.type="ModalWithTitleAndButton";var Zb=Ac;var Vc=class extends s{constructor(e){var i,o,n;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=x.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new A(e.longBylineText,e.ownerBadges,(n=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||n===void 0?void 0:n.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:Ce(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.endpoint=new h(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=l.parseItem(e.menu,L)}};r(Vc,"Movie");Vc.type="Movie";var ew=Vc;var Mc=class extends s{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new x(o)).sort((o,n)=>n.width-o.width)}};r(Mc,"MovingThumbnail");Mc.type="MovingThumbnail";var tw=Mc;var Bc=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(Bc,"MusicCardShelfHeaderBasic");Bc.type="MusicCardShelfHeaderBasic";var O_=Bc;var Dc=class extends s{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};r(Dc,"MusicInlineBadge");Dc.type="MusicInlineBadge";var F_=Dc;var Lc=class extends s{constructor(e){var i,o;super(),this.endpoint=new h(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};r(Lc,"MusicPlayButton");Lc.type="MusicPlayButton";var j_=Lc;var Oc=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,j_),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};r(Oc,"MusicItemThumbnailOverlay");Oc.type="MusicItemThumbnailOverlay";var Et=Oc;var Fc=class extends s{constructor(e){super(),this.contents=x.fromResponse(e.thumbnail)}};r(Fc,"MusicThumbnail");Fc.type="MusicThumbnail";var it=Fc;var jc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,it),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=l.parseArray(e.buttons,T),this.menu=l.parseItem(e.menu,L),this.on_tap=new h(e.onTap),this.header=l.parseItem(e.header,O_),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=l.parseArray(e.subtitleBadges,F_),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Et),Reflect.has(e,"contents")&&(this.contents=l.parseArray(e.contents))}};r(jc,"MusicCardShelf");jc.type="MusicCardShelf";var iw=jc;var Yc=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,it)),Reflect.has(e,"moreContentButton")&&(this.more_content=l.parseItem(e.moreContentButton,T)),Reflect.has(e,"endIcons")&&(this.end_icons=l.parseArray(e.endIcons,u_))}};r(Yc,"MusicCarouselShelfBasicHeader");Yc.type="MusicCarouselShelfBasicHeader";var Y_=Yc;var Uc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,it),this.overlay=l.parseItem(e.overlay,Et),this.on_tap=new h(e.onTap),this.menu=l.parseItem(e.menu,L),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};r(Uc,"MusicMultiRowListItem");Uc.type="MusicMultiRowListItem";var U_=Uc;var Wc=class extends s{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new h(e.clickCommand)}};r(Wc,"MusicNavigationButton");Wc.type="MusicNavigationButton";var W_=Wc;var Jc=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};r(Jc,"MusicResponsiveListItemFixedColumn");Jc.type="musicResponsiveListItemFlexColumnRenderer";var J_=Jc;var Gc=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};r(Gc,"MusicResponsiveListItemFlexColumn");Gc.type="MusicResponsiveListItemFlexColumn";var G_=Gc;var mt,ar,nw,sw,ow,rw,aw,uw,lw,cw,pw,Hc=class extends s{constructor(e){var i,o,n,a,c,p;super(),mt.add(this),ar.set(this,void 0),this.flex_columns=l.parseArray(e.flexColumns,G_),this.fixed_columns=l.parseArray(e.fixedColumns,J_),S(this,ar,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint));let d=(p=(c=(a=(n=this.endpoint)===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.browseEndpointContextSupportedConfigs)===null||c===void 0?void 0:c.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(d||this.flex_columns.find(v=>{var y,g,b,I;return((I=(b=(g=(y=v.title.endpoint)===null||y===void 0?void 0:y.payload)===null||g===void 0?void 0:g.browseEndpointContextSupportedConfigs)===null||b===void 0?void 0:b.browseEndpointContextMusicConfig)===null||I===void 0?void 0:I.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(d="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),d){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",f(this,mt,"m",cw).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",f(this,mt,"m",pw).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",f(this,mt,"m",aw).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",f(this,mt,"m",uw).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",f(this,mt,"m",lw).call(this);break;default:this.flex_columns[1]?f(this,mt,"m",sw).call(this):f(this,mt,"m",nw).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,it)),Reflect.has(e,"badges")&&(this.badges=l.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu,L)),Reflect.has(e,"overlay")&&(this.overlay=l.parseItem(e.overlay,Et))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};r(Hc,"MusicResponsiveListItem");ar=new WeakMap,mt=new WeakSet,nw=r(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),sw=r(function(){var e,i;((i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.some(n=>n.text.match(/(.*?) views/)))?(this.item_type="video",f(this,mt,"m",rw).call(this)):(this.item_type="song",f(this,mt,"m",ow).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),ow=r(function(){var e,i,o,n,a,c,p,d,_,v,y,g,b,I,P;this.id=f(this,ar,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let M=((a=(n=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||n===void 0?void 0:n.find(B=>/^\d+$/.test(B.text.replace(/:/g,""))))===null||a===void 0?void 0:a.text)||((p=(c=this.fixed_columns.first())===null||c===void 0?void 0:c.title)===null||p===void 0?void 0:p.toString());M&&(this.duration={text:M,seconds:Ce(M)});let j=((_=(d=this.flex_columns.at(1))===null||d===void 0?void 0:d.title.runs)===null||_===void 0?void 0:_.find(B=>je(B)&&B.endpoint&&B.endpoint.payload.browseId.startsWith("MPR")))||((y=(v=this.flex_columns.at(2))===null||v===void 0?void 0:v.title.runs)===null||y===void 0?void 0:y.find(B=>je(B)&&B.endpoint&&B.endpoint.payload.browseId.startsWith("MPR")));j&&je(j)&&(this.album={id:(b=(g=j.endpoint)===null||g===void 0?void 0:g.payload)===null||b===void 0?void 0:b.browseId,name:j.text,endpoint:j.endpoint});let ne=(P=(I=this.flex_columns.at(1))===null||I===void 0?void 0:I.title.runs)===null||P===void 0?void 0:P.filter(B=>je(B)&&B.endpoint&&B.endpoint.payload.browseId.startsWith("UC"));ne&&(this.artists=ne.map(B=>{var te,pe;return{name:B.text,channel_id:je(B)?(pe=(te=B.endpoint)===null||te===void 0?void 0:te.payload)===null||pe===void 0?void 0:pe.browseId:void 0,endpoint:je(B)?B.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),rw=r(function(){var e,i,o,n,a,c,p,d,_,v;this.id=f(this,ar,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(b=>b.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let y=(a=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title.runs)===null||a===void 0?void 0:a.filter(b=>je(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));y&&(this.authors=y.map(b=>{var I,P;return{name:b.text,channel_id:je(b)?(P=(I=b.endpoint)===null||I===void 0?void 0:I.payload)===null||P===void 0?void 0:P.browseId:void 0,endpoint:je(b)?b.endpoint:void 0}}));let g=((p=(c=this.flex_columns[1].title.runs)===null||c===void 0?void 0:c.find(b=>/^\d+$/.test(b.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((v=(_=(d=this.fixed_columns.first())===null||d===void 0?void 0:d.title.runs)===null||_===void 0?void 0:_.find(b=>/^\d+$/.test(b.text.replace(/:/g,""))))===null||v===void 0?void 0:v.text);g&&(this.duration={text:g,seconds:Ce(g)})},"_MusicResponsiveListItem_parseVideo"),aw=r(function(){var e,i,o,n,a,c;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title,this.subscribers=((c=(a=(n=this.subtitle)===null||n===void 0?void 0:n.runs)===null||a===void 0?void 0:a.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||c===void 0?void 0:c.text)||""},"_MusicResponsiveListItem_parseArtist"),uw=r(function(){var e,i,o,n;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((n=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(a=>/^\d+(,\d+)? songs?$/i.test(a.text)))===null||n===void 0?void 0:n.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),lw=r(function(){var e,i;this.id=f(this,ar,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),cw=r(function(){var e,i,o,n,a,c,p,d,_;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let v=(n=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||n===void 0?void 0:n.find(y=>je(y)&&y.endpoint&&y.endpoint.payload.browseId.startsWith("UC"));v&&je(v)&&(this.author={name:v.text,channel_id:(c=(a=v.endpoint)===null||a===void 0?void 0:a.payload)===null||c===void 0?void 0:c.browseId,endpoint:v.endpoint}),this.year=(_=(d=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||d===void 0?void 0:d.find(y=>/^[12][0-9]{3}$/.test(y.text)))===null||_===void 0?void 0:_.text},"_MusicResponsiveListItem_parseAlbum"),pw=r(function(){var e,i,o,n,a,c,p,d;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let _=(n=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||n===void 0?void 0:n.find(y=>y.text.match(/\d+ (song|songs)/));this.item_count=_?_.text:void 0;let v=(c=(a=this.flex_columns.at(1))===null||a===void 0?void 0:a.title.runs)===null||c===void 0?void 0:c.find(y=>je(y)&&y.endpoint&&y.endpoint.payload.browseId.startsWith("UC"));v&&je(v)&&(this.author={name:v.text,channel_id:(d=(p=v.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId,endpoint:v.endpoint})},"_MusicResponsiveListItem_parsePlaylist");Hc.type="MusicResponsiveListItem";var ci=Hc;var zc=class extends s{constructor(e){var i,o,n,a,c,p,d,_,v,y,g,b,I,P,M,j,ne,B,te,pe,me,ve;switch(super(),this.title=new u(e.title),this.endpoint=new h(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((a=(n=this.endpoint)===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.videoId),this.subtitle=new u(e.subtitle),this.badges=l.parse(e.subtitleBadges),(_=(d=(p=(c=this.endpoint)===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||d===void 0?void 0:d.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((y=(v=this.endpoint)===null||v===void 0?void 0:v.metadata)===null||y===void 0?void 0:y.api_url)==="/next"?this.item_type="endpoint":!((g=this.subtitle.runs)===null||g===void 0)&&g[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((I=(b=this.subtitle.runs)===null||b===void 0?void 0:b.find(H=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(H.text)))===null||I===void 0?void 0:I.text)||"";else if(this.item_type=="playlist"){let H=(P=this.subtitle.runs)===null||P===void 0?void 0:P.find(G=>G.text.match(/\d+ songs|song/));this.item_count=H?H.text:null}else if(this.item_type=="album"){let H=(M=this.subtitle.runs)===null||M===void 0?void 0:M.filter(G=>{var $,X;return(X=($=G.endpoint)===null||$===void 0?void 0:$.payload)===null||X===void 0?void 0:X.browseId.startsWith("UC")});H&&(this.artists=H.map(G=>{var $,X;return{name:G.text,channel_id:(X=($=G.endpoint)===null||$===void 0?void 0:$.payload)===null||X===void 0?void 0:X.browseId,endpoint:G.endpoint}})),this.year=(j=this.subtitle.runs)===null||j===void 0?void 0:j.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((B=(ne=this===null||this===void 0?void 0:this.subtitle.runs)===null||ne===void 0?void 0:ne.find(G=>G==null?void 0:G.text.match(/(.*?) views/)))===null||B===void 0?void 0:B.text)||"N/A";let H=(te=this.subtitle.runs)===null||te===void 0?void 0:te.find(G=>{var $,X,Se;return(Se=(X=($=G.endpoint)===null||$===void 0?void 0:$.payload)===null||X===void 0?void 0:X.browseId)===null||Se===void 0?void 0:Se.startsWith("UC")});H&&(this.author={name:H==null?void 0:H.text,channel_id:(me=(pe=H==null?void 0:H.endpoint)===null||pe===void 0?void 0:pe.payload)===null||me===void 0?void 0:me.browseId,endpoint:H==null?void 0:H.endpoint})}else if(this.item_type=="song"){let H=(ve=this.subtitle.runs)===null||ve===void 0?void 0:ve.filter(G=>{var $,X;return(X=($=G.endpoint)===null||$===void 0?void 0:$.payload)===null||X===void 0?void 0:X.browseId.startsWith("UC")});H&&(this.artists=H.map(G=>{var $,X;return{name:G==null?void 0:G.text,channel_id:(X=($=G==null?void 0:G.endpoint)===null||$===void 0?void 0:$.payload)===null||X===void 0?void 0:X.browseId,endpoint:G==null?void 0:G.endpoint}}))}this.thumbnail=x.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Et),this.menu=l.parseItem(e.menu,L)}};r(zc,"MusicTwoRowItem");zc.type="MusicTwoRowItem";var H_=zc;var $c=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,Y_),this.contents=l.parseArray(e.contents,[H_,ci,U_,W_]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};r($c,"MusicCarouselShelf");$c.type="MusicCarouselShelf";var dw=$c;var Kc=class extends s{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};r(Kc,"MusicDescriptionShelf");Kc.type="MusicDescriptionShelf";var fw=Kc;var qc=class extends s{constructor(e){var i,o,n,a,c,p,d,_,v;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(g=>/^[12][0-9]{3}$/.test(g.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((a=(n=this.second_subtitle.runs)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.text)||"",this.total_duration=((p=(c=this.second_subtitle.runs)===null||c===void 0?void 0:c[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=x.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=l.parseArray(e.subtitleBadges);let y=(d=this.subtitle.runs)===null||d===void 0?void 0:d.find(g=>{var b,I;return(I=(b=g==null?void 0:g.endpoint)===null||b===void 0?void 0:b.payload)===null||I===void 0?void 0:I.browseId.startsWith("UC")});y&&(this.author={name:y.text,channel_id:(v=(_=y.endpoint)===null||_===void 0?void 0:_.payload)===null||v===void 0?void 0:v.browseId,endpoint:y.endpoint}),this.menu=l.parseItem(e.menu)}};r(qc,"MusicDetailHeader");qc.type="MusicDetailHeader";var mw=qc;var Xc=class extends s{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};r(Xc,"MusicDownloadStateBadge");Xc.type="MusicDownloadStateBadge";var hw=Xc;var Qc=class extends s{constructor(e){super(),this.header=l.parseItem(e.header)}};r(Qc,"MusicEditablePlaylistDetailHeader");Qc.type="MusicEditablePlaylistDetailHeader";var _w=Qc;var Zc=class extends s{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?l.parseItem(e,er):null}};r(Zc,"MusicElementHeader");Zc.type="MusicElementHeader";var vw=Zc;var ep=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};r(ep,"MusicHeader");ep.type="MusicHeader";var xw=ep;var tp=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=l.parseItem(e.thumbnail,it)}};r(tp,"MusicImmersiveHeader");tp.type="MusicImmersiveHeader";var gw=tp;var ip=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new h(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};r(ip,"ActionButton");ip.type="ActionButton";var op=class{constructor(e){this.image=x.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new ip(i))}};r(op,"Panel");op.type="Panel";var rp=class extends s{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new op(i))}};r(rp,"MusicLargeCardItemCarousel");rp.type="MusicLargeCardItemCarousel";var yw=rp;var np=class extends s{constructor(e){var i,o,n;super(),this.playlist_id=e.playlistId,this.contents=l.parseArray(e.contents,ci),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)||null}};r(np,"MusicPlaylistShelf");np.type="MusicPlaylistShelf";var bw=np;var sp=class extends s{constructor(e){var i,o,n,a,c;super(),this.title=new u(e.title),this.thumbnail=x.fromResponse(e.thumbnail),this.endpoint=new h(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:Ce(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(_=>{var v,y,g;return(g=(y=(v=_.endpoint)===null||v===void 0?void 0:v.payload)===null||y===void 0?void 0:y.browseId)===null||g===void 0?void 0:g.startsWith("MPR")}),d=(o=new u(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(_=>{var v,y,g;return(g=(y=(v=_.endpoint)===null||v===void 0?void 0:v.payload)===null||y===void 0?void 0:y.browseId)===null||g===void 0?void 0:g.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(a=(n=p.endpoint)===null||n===void 0?void 0:n.payload)===null||a===void 0?void 0:a.browseId,name:p.text,year:(c=new u(e.longBylineText).runs)===null||c===void 0?void 0:c.slice(-1)[0].text,endpoint:p.endpoint}),d&&(this.artists=d.map(_=>{var v,y;return{name:_.text,channel_id:(y=(v=_.endpoint)===null||v===void 0?void 0:v.payload)===null||y===void 0?void 0:y.browseId,endpoint:_.endpoint}})),this.badges=l.parseArray(e.badges),this.menu=l.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};r(sp,"PlaylistPanelVideo");sp.type="PlaylistPanelVideo";var jt=sp;var ap=class extends s{constructor(e){super(),this.primary=l.parseItem(e.primaryRenderer,jt),Reflect.has(e,"counterpart")&&(this.counterpart=ie(e.counterpart.map(i=>l.parseItem(i.counterpartRenderer,jt))||[]))}};r(ap,"PlaylistPanelVideoWrapper");ap.type="PlaylistPanelVideoWrapper";var z_=ap;var up=class extends s{constructor(e){var i,o,n,a,c,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=l.parseArray(e.contents,[z_,jt,Dm]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||n===void 0?void 0:n.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};r(up,"PlaylistPanel");up.type="PlaylistPanel";var $_=up;var lp=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,$_)}};r(lp,"MusicQueue");lp.type="MusicQueue";var K_=lp;var cp=class extends s{constructor(e){var i,o,n,a;super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents,ci),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new h(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((a=(n=e.continuations)===null||n===void 0?void 0:n[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=l.parseItem(e.bottomButton,T)),Reflect.has(e,"subheaders")&&(this.subheaders=l.parseArray(e.subheaders))}};r(cp,"MusicShelf");cp.type="MusicShelf";var ww=cp;var pp=class extends s{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=l.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};r(pp,"MusicSideAlignedItem");pp.type="MusicSideAlignedItem";var Tw=pp;var dp=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=l.parseItem(e.menu,M_)}};r(dp,"MusicSortFilterButton");dp.type="MusicSortFilterButton";var kw=dp;var fp=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail)}};r(fp,"MusicTastebuilderShelfThumbnail");fp.type="MusicTastebuilderShelfThumbnail";var q_=fp;var mp=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,q_),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=l.parseItem(e.actionButton,T),this.is_visible=e.isVisible}};r(mp,"MusicTasteBuilderShelf");mp.type="MusicTasteBuilderShelf";var Iw=mp;var hp=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?x.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=l.parseItem(e.menu,L),this.foreground_thumbnail=e.foregroundThumbnail?x.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};r(hp,"MusicVisualHeader");hp.type="MusicVisualHeader";var Sw=hp;var _p=class extends s{constructor(e){super(),this.thumbnails=x.fromResponse(e.thumbnail),this.video_thumbnails=x.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new h(e.navigationEndpoint),this.record_click_endpoint=new h(e.recordClickEndpoint),this.menu=l.parseItem(e.contextualMenu),this.read=e.read}};r(_p,"Notification");_p.type="Notification";var X_=_p;var vp=class extends s{constructor(e){super(),this.title=l.parseItem(e.title,zh),this.image=l.parseItem(e.image,[Oo,jh]),this.metadata=l.parseItem(e.metadata,Oh),this.actions=l.parseItem(e.actions,Zh),this.description=l.parseItem(e.description,Gh),this.attributation=l.parseItem(e.attributation,Mm),this.banner=l.parseItem(e.banner,l_)}};r(vp,"PageHeaderView");vp.type="PageHeaderView";var Q_=vp;var xp=class extends s{constructor(e){super(),this.page_title=e.pageTitle,this.content=l.parseItem(e.content,Q_)}};r(xp,"PageHeader");xp.type="PageHeader";var Nt=xp;var gp=class extends s{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};r(gp,"PageIntroduction");gp.type="PageIntroduction";var Z_=gp;var yp=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail),this.endpoint=new h(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};r(yp,"PivotButton");yp.type="PivotButton";var ev=yp;var bp=class extends s{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:x.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new h(e.featuredChannel.navigationEndpoint),subscribe_button:l.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};r(bp,"PlayerAnnotationsExpanded");bp.type="PlayerAnnotationsExpanded";var tv=bp;var wp=class extends s{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};r(wp,"PlayerCaptionsTracklist");wp.type="PlayerCaptionsTracklist";var iv=wp;var Tp=class extends s{constructor(e){super(),this.endpoint=new h(e.endpoint),this.enable_listen_first=e.enableListenFirst}};r(Tp,"PlayerOverflow");Tp.type="PlayerOverflow";var ov=Tp;var kp=class extends s{constructor(e){super(),this.overflow=l.parseItem(e.overflow,ov)}};r(kp,"PlayerControlsOverlay");kp.type="PlayerControlsOverlay";var Cw=kp;var Ip=class extends s{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=l.parseItem(e.proceedButton,T),this.thumbnails=x.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};r(Ip,"PlayerErrorMessage");Ip.type="PlayerErrorMessage";var Ew=Ip;var Sp=class extends s{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};r(Sp,"PlayerLegacyDesktopYpcOffer");Sp.type="PlayerLegacyDesktopYpcOffer";var Nw=Sp;var Cp=class extends s{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};r(Cp,"YpcTrailer");Cp.type="YpcTrailer";var rv=Cp;var Ep=class extends s{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=l.parseItem(e.ypcTrailer,rv)}};r(Ep,"PlayerLegacyDesktopYpcTrailer");Ep.type="PlayerLegacyDesktopYpcTrailer";var Np=Ep;var Pp=class extends s{constructor(e){super();let[i,o,n,a,c]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(o,10),thumbnail_height:parseInt(n,10),columns:parseInt(a,10),rows:parseInt(c,10)}}};r(Pp,"PlayerLiveStoryboardSpec");Pp.type="PlayerLiveStoryboardSpec";var nv=Pp;var Rp=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=x.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=!((o=e.liveBroadcastDetails)===null||o===void 0)&&o.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};r(Rp,"PlayerMicroformat");Rp.type="PlayerMicroformat";var ot=Rp;var Ap=class extends s{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=x.fromResponse(e.background),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new A(e.byline),this.cancel_button=l.parseItem(e.cancelButton,T),this.next_button=l.parseItem(e.nextButton,T),this.close_button=l.parseItem(e.closeButton,T)}};r(Ap,"PlayerOverlayAutoplay");Ap.type="PlayerOverlayAutoplay";var sv=Ap;var Vp=class extends s{constructor(e){super(),this.results=l.parseArray(e.results,[Xh,qh]),this.title=new u(e.title).toString()}};r(Vp,"WatchNextEndScreen");Vp.type="WatchNextEndScreen";var av=Vp;var Mp=class extends s{constructor(e){super(),this.end_screen=l.parseItem(e.endScreen,av),this.autoplay=l.parseItem(e.autoplay,sv),this.share_button=l.parseItem(e.shareButton,T),this.add_to_menu=l.parseItem(e.addToMenu,L),this.fullscreen_engagement=l.parseItem(e.fullscreenEngagement),this.actions=l.parseArray(e.actions),this.browser_media_session=l.parseItem(e.browserMediaSession),this.decorated_player_bar=l.parseItem(e.decoratedPlayerBarRenderer,Jh)}};r(Mp,"PlayerOverlay");Mp.type="PlayerOverlay";var uv=Mp;var Bp=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new A(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=l.parseItem(e.saveButton),this.shuffle_play_button=l.parseItem(e.shufflePlayButton),this.menu=l.parseItem(e.moreActionsMenu),this.banner=l.parseItem(e.playlistHeaderBanner)}};r(Bp,"PlaylistHeader");Bp.type="PlaylistHeader";var lv=Bp;var Dp=class extends s{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=x.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new h(e.action)}};r(Dp,"PlaylistInfoCardContent");Dp.type="PlaylistInfoCardContent";var Pw=Dp;var Lp=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description||null}};r(Lp,"PlaylistMetadata");Lp.type="PlaylistMetadata";var cv=Lp;var Op=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Op,"PlaylistSidebar");Op.type="PlaylistSidebar";var Rw=Op;var Fp=class extends s{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=l.parseItem(e.menu),this.endpoint=new h(e.navigationEndpoint),this.description=new u(e.description)}};r(Fp,"PlaylistSidebarPrimaryInfo");Fp.type="PlaylistSidebarPrimaryInfo";var pv=Fp;var jp=class extends s{constructor(e){super(),this.owner=l.parseItem(e.videoOwner),this.button=l.parseItem(e.button)}};r(jp,"PlaylistSidebarSecondaryInfo");jp.type="PlaylistSidebarSecondaryInfo";var dv=jp;var Yp=class extends s{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new A(e.shortBylineText),this.thumbnails=x.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new h(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=l.parseItem(e.menu,L),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Bi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Bi))===null||e===void 0?void 0:e.style)==="UPCOMING"}};r(Yp,"PlaylistVideo");Yp.type="PlaylistVideo";var ur=Yp;var Up=class extends s{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=l.parseArray(e.contents)}};r(Up,"PlaylistVideoList");Up.type="PlaylistVideoList";var Aw=Up;var Wp=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new h(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new h(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?x.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};r(Wp,"Poll");Wp.type="Poll";var Vw=Wp;var Jp=class extends Zt{constructor(e){super(e)}};r(Jp,"Post");Jp.type="Post";var fv=Jp;var Gp=class extends s{constructor(e){super(),this.images=l.parseArray(e.images,Om)}};r(Gp,"PostMultiImage");Gp.type="PostMultiImage";var Mw=Gp;var Hp=class extends s{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};r(Hp,"ProductListHeader");Hp.type="ProductListHeader";var Bw=Hp;var zp=class extends s{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=x.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new h(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=l.parseItem(e.viewButton,T)}};r(zp,"ProductListItem");zp.type="ProductListItem";var Dw=zp;var $p=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r($p,"ProfileColumn");$p.type="ProfileColumn";var Lw=$p;var Kp=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Kp,"ProfileColumnStats");Kp.type="ProfileColumnStats";var Ow=Kp;var qp=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};r(qp,"ProfileColumnStatsEntry");qp.type="ProfileColumnStatsEntry";var Fw=qp;var Xp=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnails=x.fromResponse(e.thumbnail)}};r(Xp,"ProfileColumnUserInfo");Xp.type="ProfileColumnUserInfo";var jw=Xp;var Qp=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};r(Qp,"Quiz");Qp.type="Quiz";var Yw=Qp;var Zp=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new x(i)),this.button=l.parseItem(e.button,T),this.surface=e.surface}};r(Zp,"RecognitionShelf");Zp.type="RecognitionShelf";var Uw=Zp;var ed=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=x.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new h(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};r(ed,"ReelItem");ed.type="ReelItem";var lr=ed;var td=class extends s{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=x.fromResponse(e.channelThumbnail),this.author=new A(e.channelNavigationEndpoint,void 0)}};r(td,"ReelPlayerHeader");td.type="ReelPlayerHeader";var mv=td;var id=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,h_),this.reel_player_header_supported_renderers=l.parseItem(e.reelPlayerHeaderSupportedRenderers,mv),this.menu=l.parseItem(e.menu,L),this.next_item_button=l.parseItem(e.nextItemButton,T),this.prev_item_button=l.parseItem(e.prevItemButton,T),this.subscribe_button_renderer=l.parseItem(e.subscribeButtonRenderer,T),this.style=e.style,this.view_comments_button=l.parseItem(e.viewCommentsButton,T),this.share_button=l.parseItem(e.shareButton,T),this.pivot_button=l.parseItem(e.pivotButton,ev),this.info_panel=l.parseItem(e.infoPanel,p_)}};r(id,"ReelPlayerOverlay");id.type="ReelPlayerOverlay";var Ww=id;var od=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};r(od,"RelatedChipCloud");od.type="RelatedChipCloud";var hv=od;var rd=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.contents=l.parseArray(e.contents)}};r(rd,"RichGrid");rd.type="RichGrid";var pi=rd;var nd=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};r(nd,"RichItem");nd.type="RichItem";var Jw=nd;var sd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};r(sd,"RichListHeader");sd.type="RichListHeader";var Gw=sd;var ad=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new h(e.endpoint)}};r(ad,"RichMetadata");ad.type="RichMetadata";var ud=ad;var ld=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(ld,"RichMetadataRow");ld.type="RichMetadataRow";var cd=ld;var pd=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};r(pd,"RichSection");pd.type="RichSection";var Hw=pd;var dd=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new h(e.endpoint))}};r(dd,"RichShelf");dd.type="RichShelf";var _v=dd;var fd=class extends s{constructor(e){super(),this.endpoint=new h(e.endpoint),this.search_button=l.parseItem(e.searchButton,T),this.clear_button=l.parseItem(e.clearButton,T),this.placeholder_text=new u(e.placeholderText)}};r(fd,"SearchBox");fd.type="SearchBox";var zw=fd;var md=class extends s{constructor(e){super(),this.label=new u(e.label),this.endpoint=new h(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};r(md,"SearchFilter");md.type="SearchFilter";var vv=md;var hd=class extends s{constructor(e){super(),this.title=new u(e.title),this.filters=l.parseArray(e.filters,vv)}};r(hd,"SearchFilterGroup");hd.type="SearchFilterGroup";var cr=hd;var _d=class extends s{constructor(e){super(),this.title=new u(e.title),this.groups=l.parseArray(e.groups,cr)}};r(_d,"SearchFilterOptionsDialog");_d.type="SearchFilterOptionsDialog";var $w=_d;var vd=class extends s{constructor(e){super(),this.chip_bar=l.parseItem(e.chipBar,Go),this.search_filter_button=l.parseItem(e.searchFilterButton,T)}};r(vd,"SearchHeader");vd.type="SearchHeader";var xv=vd;var xd=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=l.parseArray(e.groups,cr)),Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,ke))}};r(xd,"SearchSubMenu");xd.type="SearchSubMenu";var gv=xd;var gd=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(gd,"SearchSuggestionsSection");gd.type="SearchSuggestionsSection";var Kw=gd;var yd=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(yd,"SecondarySearchContainer");yd.type="SecondarySearchContainer";var qw=yd;var bd=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,[ke,T]),this.dislike_button=l.parseItem(e.dislikeButton,[ke,T])}};r(bd,"SegmentedLikeDislikeButton");bd.type="SegmentedLikeDislikeButton";var $i=bd;var wd=class extends s{constructor(e){if(super(),this.like_button=l.parseItem(e.likeButtonViewModel,__),this.dislike_button=l.parseItem(e.dislikeButtonViewModel,Hh),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};r(wd,"SegmentedLikeDislikeButtonView");wd.type="SegmentedLikeDislikeButtonView";var Ki=wd;var Td=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new h(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new h(e.disableServiceEndpoint)),this.item_id=e.itemId}};r(Td,"SettingBoolean");Td.type="SettingBoolean";var Xw=Td;var kd=class extends s{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};r(kd,"SettingsCheckbox");kd.type="SettingsCheckbox";var yv=kd;var Id=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new h(e.enableServiceEndpoint),this.disable_endpoint=new h(e.disableServiceEndpoint)}};r(Id,"SettingsSwitch");Id.type="SettingsSwitch";var pr=Id;var Sd=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=l.parseArray(e.options,[pr,Ro,Fh,yv,bh]))}};r(Sd,"SettingsOptions");Sd.type="SettingsOptions";var dr=Sd;var Cd=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items,qo)}get contents(){return this.items}};r(Cd,"SettingsSidebar");Cd.type="SettingsSidebar";var bv=Cd;var Ed=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=ee(e.actionMenu,L),this.original_post=ee(e.originalPost,Zt),this.id=e.postId,this.endpoint=new h(e.navigationEndpoint),this.expand_button=ee(e.expandButton,T),this.author=new A(e.displayName,void 0)}};r(Ed,"SharedPost");Ed.type="SharedPost";var wv=Ed;var Nd=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new h(e.endpoint)),this.content=l.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=l.parseItem(e.playAllButton,T))}};r(Nd,"Shelf");Nd.type="Shelf";var fr=Nd;var Pd=class extends s{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new h(e.correctedQueryEndpoint),this.original_query_endpoint=new h(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};r(Pd,"ShowingResultsFor");Pd.type="ShowingResultsFor";var Qw=Pd;var Rd=class extends s{constructor(e){super(),this.image=x.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new h(e.command)}};r(Rd,"SimpleCardContent");Rd.type="SimpleCardContent";var Zw=Rd;var Ad=class extends s{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};r(Ad,"SimpleCardTeaser");Ad.type="SimpleCardTeaser";var eT=Ad;var Vd=class extends s{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};r(Vd,"SimpleTextSection");Vd.type="SimpleTextSection";var tT=Vd;var Md=class extends s{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new h(e.navigationEndpoint)}};r(Md,"SingleActionEmergencySupport");Md.type="SingleActionEmergencySupport";var iT=Md;var Bd=class extends s{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new h(e.endpoint),this.content=l.parseItem(e.content,[ge,K_,pi])}};r(Bd,"Tab");Bd.type="Tab";var Ve=Bd;var Dd=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ve)}};r(Dd,"SingleColumnBrowseResults");Dd.type="SingleColumnBrowseResults";var Tv=Dd;var Ld=class extends s{constructor(e){super(),this.contents=l.parse(e)}};r(Ld,"SingleColumnMusicWatchNextResults");Ld.type="SingleColumnMusicWatchNextResults";var oT=Ld;var Od=class extends s{constructor(e){super(),this.thumbnails=x.fromResponse(e.thumbnail),this.style=e.style}};r(Od,"SingleHeroImage");Od.type="SingleHeroImage";var rT=Od;var Fd=class extends s{constructor(e){super(),this.thumbnail=x.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,Me)}};r(Fd,"SlimOwner");Fd.type="SlimOwner";var nT=Fd;var jd=class extends s{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=l.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};r(jd,"SlimVideoMetadata");jd.type="SlimVideoMetadata";var sT=jd;var Yd=class extends s{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new h(e.navigationEndpoint)}};r(Yd,"SubFeedOption");Yd.type="SubFeedOption";var kv=Yd;var Ud=class extends s{constructor(e){super(),this.title=new u(e.title),this.options=l.parseArray(e.options,kv)}};r(Ud,"SubFeedSelector");Ud.type="SubFeedSelector";var aT=Ud;var Wd=class extends s{constructor(e){super(),this.contents=l.parse(e)}};r(Wd,"Tabbed");Wd.type="Tabbed";var uT=Wd;var Jd=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ve)}};r(Jd,"TabbedSearchResults");Jd.type="TabbedSearchResults";var lT=Jd;var Gd=class extends s{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};r(Gd,"TextHeader");Gd.type="TextHeader";var cT=Gd;var Hd=class extends s{constructor(e){super(),this.landscape=x.fromResponse(e.landscape),this.portrait=x.fromResponse(e.portrait)}};r(Hd,"ThumbnailLandscapePortrait");Hd.type="ThumbnailLandscapePortrait";var pT=Hd;var zd=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};r(zd,"ThumbnailOverlayEndorsement");zd.type="ThumbnailOverlayEndorsement";var dT=zd;var $d=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};r($d,"ThumbnailOverlayHoverText");$d.type="ThumbnailOverlayHoverText";var fT=$d;var Kd=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};r(Kd,"ThumbnailOverlayInlineUnplayable");Kd.type="ThumbnailOverlayInlineUnplayable";var mT=Kd;var qd=class extends s{constructor(e){super(),this.text=new u(e.text)}};r(qd,"ThumbnailOverlayLoadingPreview");qd.type="ThumbnailOverlayLoadingPreview";var hT=qd;var Xd=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};r(Xd,"ThumbnailOverlayNowPlaying");Xd.type="ThumbnailOverlayNowPlaying";var _T=Xd;var Qd=class extends s{constructor(e){super(),this.hack=e.hack}};r(Qd,"ThumbnailOverlayPinking");Qd.type="ThumbnailOverlayPinking";var vT=Qd;var Zd=class extends s{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};r(Zd,"ThumbnailOverlayPlaybackStatus");Zd.type="ThumbnailOverlayPlaybackStatus";var xT=Zd;var ef=class extends s{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};r(ef,"ThumbnailOverlayResumePlayback");ef.type="ThumbnailOverlayResumePlayback";var gT=ef;var tf=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};r(tf,"ThumbnailOverlaySidePanel");tf.type="ThumbnailOverlaySidePanel";var yT=tf;var of=class extends s{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new h(e.toggledServiceEndpoint),this.untoggled_endpoint=new h(e.untoggledServiceEndpoint)}};r(of,"ThumbnailOverlayToggleButton");of.type="ThumbnailOverlayToggleButton";var bT=of;var rf=class extends s{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};r(rf,"TimedMarkerDecoration");rf.type="TimedMarkerDecoration";var wT=rf;var nf=class extends s{constructor(e){super(),this.title=new u(e.title)}};r(nf,"TitleAndButtonListHeader");nf.type="TitleAndButtonListHeader";var TT=nf;var sf=class extends s{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new h(e.defaultServiceEndpoint),this.toggled_endpoint=new h(e.toggledServiceEndpoint)}};r(sf,"ToggleMenuServiceItem");sf.type="ToggleMenuServiceItem";var kT=sf;var af=class extends s{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new h(i)),accept:new h(e.promoConfig.acceptCommand),dismiss:new h(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};r(af,"Tooltip");af.type="Tooltip";var IT=af;var uf=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=x.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=l.parseItem(e.subscribeButton,Me),this.endpoint=new h(e.navigationEndpoint)}};r(uf,"TopicChannelDetails");uf.type="TopicChannelDetails";var ST=uf;var lf=class extends s{constructor(e){super(),this.tabs=l.parse(e.tabs),this.secondary_contents=l.parse(e.secondaryContents)}};r(lf,"TwoColumnBrowseResults");lf.type="TwoColumnBrowseResults";var Pt=lf;var cf=class extends s{constructor(e){super(),this.primary_contents=l.parse(e.primaryContents),this.secondary_contents=l.parse(e.secondaryContents)}};r(cf,"TwoColumnSearchResults");cf.type="TwoColumnSearchResults";var Iv=cf;var Sv,rg,pf=class extends s{constructor(e){var i,o,n,a,c;super(),Sv.add(this),this.results=l.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=l.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=l.parseItem(e==null?void 0:e.conversationBar);let p=(n=e.playlist)===null||n===void 0?void 0:n.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((a=p.shortBylineText)===null||a===void 0)&&a.simpleText?new u(p.shortBylineText):new A(p.longBylineText),contents:l.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:l.parseItem(p.menu,L)});let d=(c=e.autoplay)===null||c===void 0?void 0:c.autoplay;d&&(this.autoplay={sets:d.sets.map(_=>f(this,Sv,"m",rg).call(this,_))},d.modifiedSets&&(this.autoplay.modified_sets=d.modifiedSets.map(_=>f(this,Sv,"m",rg).call(this,_))),d.countDownSecs&&(this.autoplay.count_down_secs=d.countDownSecs))}};r(pf,"TwoColumnWatchNextResults");Sv=new WeakSet,rg=r(function(e){let i={autoplay_video:new h(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new h(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");pf.type="TwoColumnWatchNextResults";var Cv=pf;var df=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.call_to_action=l.parseItem(e.callToAction),this.sections=l.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};r(df,"UniversalWatchCard");df.type="UniversalWatchCard";var Ev=df;var ff=class extends s{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=l.parseItem(e.actionButton,T),this.dismiss_button=l.parseItem(e.dismissButton,T),this.is_visible=e.isVisible}};r(ff,"UpsellDialog");ff.type="UpsellDialog";var CT=ff;var mf=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};r(mf,"VerticalList");mf.type="VerticalList";var ET=mf;var hf=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new h(e.viewAllEndpoint)}get contents(){return this.items}};r(hf,"VerticalWatchCardList");hf.type="VerticalWatchCardList";var NT=hf;var _f=class extends s{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=x.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new h(e.action)}};r(_f,"VideoInfoCardContent");_f.type="VideoInfoCardContent";var PT=_f;var vf=class extends s{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new A(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};r(vf,"VideoOwner");vf.type="VideoOwner";var mr=vf;var xf=class extends s{constructor(e){var i,o,n,a;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new u((a=(n=e.viewCount)===null||n===void 0?void 0:n.videoViewCountRenderer)===null||a===void 0?void 0:a.shortViewCount),this.badges=l.parseArray(e.badges,Je),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=l.parseItem(e.videoActions,L)}};r(xf,"VideoPrimaryInfo");xf.type="VideoPrimaryInfo";var Nv=xf;var gf=class extends s{constructor(e){super(),this.owner=l.parseItem(e.owner,mr),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=l.parseItem(e.subscribeButton,[Me,T]),this.metadata=l.parseItem(e.metadataRowContainer,L_),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};r(gf,"VideoSecondaryInfo");gf.type="VideoSecondaryInfo";var yf=gf;var bf=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:Ce(e.lengthText.simpleText)},this.style=e.style}};r(bf,"WatchCardCompactVideo");bf.type="WatchCardCompactVideo";var Pv=bf;var wf=class extends s{constructor(e){var i;super(),this.endpoint=new h(e.navigationEndpoint),this.call_to_action_button=l.parseItem(e.callToActionButton),this.hero_image=l.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};r(wf,"WatchCardHeroVideo");wf.type="WatchCardHeroVideo";var RT=wf;var Tf=class extends s{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new h(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new A(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};r(Tf,"WatchCardRichHeader");Tf.type="WatchCardRichHeader";var AT=Tf;var kf=class extends s{constructor(e){super(),this.lists=l.parseArray(e.lists)}};r(kf,"WatchCardSectionSequence");kf.type="WatchCardSectionSequence";var VT=kf;var If=class extends Pt{constructor(e){super(e)}};r(If,"WatchNextTabbedResults");If.type="WatchNextTabbedResults";var MT=If;var Sf=class extends s{constructor(e){var i,o;super(),this.title=e.title,this.content=l.parseItem(e.content,ge),this.endpoint=new h(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};r(Sf,"AnchoredSection");Sf.type="AnchoredSection";var Rv=Sf;var Cf,Ef=class extends s{constructor(e){super(),Cf.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=x.fromResponse(e.avatar),this.block_button=l.parseItem(e.blockButton,[ke]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return k(this,void 0,void 0,function*(){if(!f(this,Cf,"f"))throw new w("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new w("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new w("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(f(this,Cf,"f"),{parse:!1})})}setActions(e){S(this,Cf,e,"f")}};r(Ef,"KidsBlocklistPickerItem");Cf=new WeakMap;Ef.type="KidsBlocklistPickerItem";var Av=Ef;var Nf=class extends s{constructor(e){super(),this.title=new u(e.title),this.child_rows=l.parse(e.childRows,!0,[Av]),this.done_button=l.parseItem(e.doneButton,[T]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};r(Nf,"KidsBlocklistPicker");Nf.type="KidsBlocklistPicker";var BT=Nf;var Pf=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new h(e.endpoint)}};r(Pf,"KidsCategoryTab");Pf.type="KidsCategoryTab";var Vv=Pf;var Rf=class extends s{constructor(e){super(),this.category_tabs=l.parseArray(e.categoryTabs,Vv),this.privacy_button=l.parseItem(e.privacyButtonRenderer,T)}};r(Rf,"KidsCategoriesHeader");Rf.type="kidsCategoriesHeader";var DT=Rf;var Af=class extends s{constructor(e){super(),this.anchors=l.parseArray(e.anchors,Rv)}};r(Af,"KidsHomeScreen");Af.type="kidsHomeScreen";var LT=Af;var pg={};we(pg,{camelToSnake:()=>qi,createRuntimeClass:()=>zT,generateRuntimeClass:()=>Bf,generateTypescriptClass:()=>Bv,inferType:()=>Mv,introspect:()=>ag,isArrayType:()=>GT,isIgnoredKey:()=>HT,isMiscType:()=>JT,isRenderer:()=>sg,isRendererList:()=>WT,mergeKeyInfo:()=>Vf,parse:()=>cg,toParser:()=>lg,toTypeDeclaration:()=>ug});var gI=new Set(["trackingParams","accessibility","accessibilityData"]),ng={};function qi(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}r(qi,"camelToSnake");function Mv(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=sg(e))return ng[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=WT(e)){for(let[n,a]of Object.entries(i))ng[n]=a;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=JT(t,e))||(i=GT(e)))return i}let o=typeof e;return o==="object"?{type:"object",keys:Object.entries(e).map(([n,a])=>[n,Mv(n,a)]),optional:!1}:{type:"primative",typeof:[o],optional:!1}}r(Mv,"inferType");function WT(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(o=>sg(o))?Object.fromEntries(t.map(o=>{let n=Reflect.ownKeys(o)[0].toString();return[Df(n),o[n]]})):!1}r(WT,"isRendererList");function JT(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new h(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}r(JT,"isMiscType");function sg(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let o=i[0].toString();if(o.endsWith("Renderer")||o.endsWith("Model"))return Df(o)}return!1}r(sg,"isRenderer");function GT(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["never"],optional:!1},optional:!1};let e=t.map(a=>typeof a);if(!e.every(a=>a===e[0]))return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!1},optional:!1};let o=e[0];if(o!=="object")return{type:"array",array_type:"primitive",items:{type:"primative",typeof:[o],optional:!1},optional:!1};let n=[];for(let a=0;a<t.length;a++){let c=Object.entries(t[a]).map(([p,d])=>[p,Mv(p,d)]);if(a===0){n=c;continue}n=Vf(n,c).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:n,optional:!1},optional:!1}}r(GT,"isArrayType");function yI(t){if(typeof t!="object"||t===null)throw new w("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!HT(i)).filter(i=>typeof i=="string").map(i=>{let o=Reflect.get(t,i),n=Mv(i,o);return[i,n]})}r(yI,"introspectKeysFirstPass");function bI(t){var e;let o=t.filter(([,p])=>{var d;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((d=p.endpoint)===null||d===void 0?void 0:d.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,d])=>p.type!=="misc"||d.type!=="misc"||p.misc_type!=="Text"||d.misc_type!=="Text"?0:d.text.length-p.text.length),n=new Set,a=o[0],c;if(a){n.add(a[0]);let d=t.map(([b])=>b).filter(b=>b.endsWith("Badges")||b==="badges"),v=(e=d.filter(b=>b.startsWith("owner")||b.startsWith("author"))[0])!==null&&e!==void 0?e:d[0],y=t.find(([b])=>b===v),g=y?y[1].type==="array"&&y[1].array_type==="renderer"&&Reflect.has(y[1].renderers,"MetadataBadge"):!1;g&&v&&n.add(v),c={type:"misc",misc_type:"Author",optional:!1,params:[a[0],g?v:void 0]}}return c&&t.push(["author",c]),t.filter(([p])=>!n.has(p))}r(bI,"introspectKeysSecondPass");function wI(t){let e=yI(t);return bI(e)}r(wI,"introspect2");function ag(t){let e=wI(t),i=new Map;for(let[,n]of e)if(n.type==="renderer"||n.type==="array"&&n.array_type==="renderer")for(let a of n.renderers){let c=ng[a];c&&i.set(a,c)}let o=Array.from(i).filter(([n])=>!Dv(n));return{key_info:e,unimplemented_dependencies:o}}r(ag,"introspect");function HT(t){return typeof t=="string"&&gI.has(t)}r(HT,"isIgnoredKey");function zT(t,e,i){var o,n;i({error_type:"class_not_found",classname:t,key_info:e});let a=(o=r(class extends s{static set key_info(c){S(this,o,new Map(c),"f",n)}static get key_info(){return[...f(this,o,"f",n).entries()]}constructor(c){super();let{key_info:p,unimplemented_dependencies:d}=ag(c),{resolved_key_info:_,changed_keys:v}=Vf(a.key_info,p);v.length>0&&(a.key_info=_,i({error_type:"class_changed",classname:t,key_info:a.key_info,changed_keys:v}));for(let[g,b]of d)Bf(g,b,i);for(let[g,b]of p){let I=qi(g);b.type==="misc"&&b.misc_type==="NavigationEndpoint"&&(I="endpoint"),Reflect.set(this,I,cg(g,b,c))}}},"_a"),o0(o,"node"),o.type=t,n={value:new Map},o);return a.key_info=e,Object.defineProperty(a,"name",{value:t,writable:!1}),a}r(zT,"createRuntimeClass");function Bf(t,e,i){let{key_info:o,unimplemented_dependencies:n}=ag(e),a=zT(t,o,i);dg(t,a);for(let[c,p]of n)Bf(c,p,i);return a}r(Bf,"generateRuntimeClass");function Bv(t,e){let i=[],o=["super();"];for(let[n,a]of e){let c=qi(n);a.type==="misc"&&a.misc_type==="NavigationEndpoint"&&(c="endpoint"),i.push(`${c}${a.optional?"?":""}: ${ug(a)};`),o.push(`this.${c} = ${lg(n,a)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${o.join(`
    `)}
  }
}
`}r(Bv,"generateTypescriptClass");function OT(t,e){return`{
${e.map(([i,o])=>`${" ".repeat((t+2)*2)}${qi(i)}${o.optional?"?":""}: ${ug(o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}r(OT,"toTypeDeclarationObject");function ug(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${OT(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return OT(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ")}}r(ug,"toTypeDeclaration");function FT(t,e,i,o){let n=[...i,o];return`{
${e.map(([a,c])=>`${" ".repeat((t+2)*2)}${qi(a)}: ${lg(a,c,n,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}r(FT,"toParserObject");function lg(t,e,i=["data"],o=1){let n="undefined";switch(e.type){case"renderer":n=`Parser.parseItem(${i.join(".")}.${t}, ${jT(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":n=`Parser.parse(${i.join(".")}.${t}, true, ${jT(e.renderers)})`;break;case"object":n=`${i.join(".")}.${t}.map((item: any) => (${FT(o,e.items.keys,[],"item")}))`;break;case"primitive":n=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":n=FT(o,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":n=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let a=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${a} : undefined`:a}default:n=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(n==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":n=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${n} : undefined`:n}r(lg,"toParser");function jT(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}r(jT,"toParserValidTypes");function Rt(t,e){let i=t;for(let o of e)i=i[o];return i}r(Rt,"accessDataFromKeyPath");function YT(t,e){let i=t;for(let o of e)if(Reflect.has(i,o))i=i[o];else return!1;return!0}r(YT,"hasDataFromKeyPath");function UT(t,e,i,o,n){let a={},c=[...i,t];for(let[p,d]of o)a[p]=n?cg(p,d,e,c):void 0;return a}r(UT,"parseObject");function cg(t,e,i,o=["data"]){let n=!e.optional||YT({data:i},[...o,t]);switch(e.type){case"renderer":return n?ee(Rt({data:i},[...o,t]),e.renderers.map(a=>Mf(a))):void 0;case"array":{switch(e.array_type){case"renderer":return n?Le(Rt({data:i},[...o,t]),!0,e.renderers.map(a=>Mf(a))):void 0;case"object":return n?Rt({data:i},[...o,t]).map((a,c)=>UT(`${c}`,i,[...o,t],e.items.keys,n)):void 0;case"primitive":return n?Rt({data:i},[...o,t]):void 0}throw new Error("Unreachable code reached! Switch missing case!")}case"object":return UT(t,i,o,e.keys,n);case"misc":switch(e.misc_type){case"NavigationEndpoint":return n?new h(Rt({data:i},[...o,t])):void 0;case"Text":return n?new u(Rt({data:i},[...o,t])):void 0;case"Thumbnail":return n?x.fromResponse(Rt({data:i},[...o,t])):void 0;case"Author":return!e.optional||YT({data:i},[...o,e.params[0]])?new A(Rt({data:i},[...o,e.params[0]]),e.params[1]?Rt({data:i},[...o,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":return Rt({data:i},[...o,t])}}r(cg,"parse");function Vf(t,e){let i=new Map,o=new Set(t.map(([g])=>g)),n=new Set(e.map(([g])=>g)),a=e.filter(([g])=>!o.has(g)),c=t.filter(([g])=>!n.has(g)),p=t.filter(([g])=>n.has(g)),d=new Map(e);for(let[g,b]of p){let I=d.get(g);if(!!I){if(b.type!==I.type){i.set(g,{type:"primative",typeof:["unknown"],optional:!0});continue}switch(b.type){case"object":{if(I.type!=="object")continue;let{resolved_key_info:P}=Vf(b.keys,I.keys),M={type:"object",keys:P,optional:b.optional||I.optional};JSON.stringify(M)!==JSON.stringify(b)&&i.set(g,M)}break;case"renderer":{if(I.type!=="renderer")continue;let P=Object.assign(Object.assign({},b.renderers),I.renderers),M=b.optional||I.optional,j={type:"renderer",renderers:P,optional:M};JSON.stringify(Object.assign(Object.assign({},j),{renderers:Object.keys(j.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},b),{renderers:Object.keys(b.renderers)}))&&i.set(g,j)}break;case"array":{if(I.type!=="array")continue;switch(b.array_type){case"renderer":{if(I.array_type!=="renderer"){i.set(g,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let P=Object.assign(Object.assign({},b.renderers),I.renderers),M=b.optional||I.optional,j={type:"array",array_type:"renderer",renderers:P,optional:M};JSON.stringify(Object.assign(Object.assign({},j),{renderers:Object.keys(j.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},b),{renderers:Object.keys(b.renderers)}))&&i.set(g,j)}break;case"object":{if(I.array_type==="primitive"&&I.items.typeof.length==1&&I.items.typeof[0]==="never")continue;if(I.array_type!=="object"){i.set(g,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:P}=Vf(b.items.keys,I.items.keys),M={type:"array",array_type:"object",items:{type:"object",keys:P,optional:b.items.optional||I.items.optional},optional:b.optional||I.optional};JSON.stringify(M)!==JSON.stringify(b)&&i.set(g,M)}break;case"primitive":{if(b.items.typeof.includes("never")&&I.array_type==="object"){i.set(g,I);continue}if(I.array_type!=="primitive"){i.set(g,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let P=new Set([...I.items.typeof,...b.items.typeof]);P.size>1&&P.has("never")&&P.delete("never");let M={type:"array",array_type:"primitive",items:{type:"primative",typeof:Array.from(P),optional:b.items.optional||I.items.optional},optional:b.optional||I.optional};JSON.stringify(M)!==JSON.stringify(b)&&i.set(g,M)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}}break;case"misc":{if(I.type!=="misc")continue;switch(b.misc_type!==I.misc_type&&i.set(g,{type:"primative",typeof:["unknown"],optional:!0}),b.misc_type){case"Author":{if(I.misc_type!=="Author")break;let P=b.params[1]||I.params[1],M=b.optional||I.optional,j={type:"misc",misc_type:"Author",optional:M,params:[I.params[0],P]};JSON.stringify(j)!==JSON.stringify(b)&&i.set(g,j)}break}}break;case"primative":{if(I.type!=="primative")continue;let P={type:"primative",typeof:Array.from(new Set([...I.typeof,...b.typeof])),optional:b.optional||I.optional};JSON.stringify(P)!==JSON.stringify(b)&&i.set(g,P)}break}}}for(let[g,b]of a)i.set(g,Object.assign(Object.assign({},b),{optional:!0}));for(let[g,b]of c)i.set(g,Object.assign(Object.assign({},b),{optional:!0}));let _=t.filter(([g])=>!i.has(g));return{resolved_key_info:[...new Map([..._,...i]).entries()],changed_keys:[...i.entries()]}}r(Vf,"mergeKeyInfo");var hr=class extends s{constructor(e){var i,o,n;super(),this.contents=De(e.contents),Array.isArray(e.continuations)&&(this.continuation=(n=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)}};r(hr,"ItemSectionContinuation");hr.type="itemSectionContinuation";var di=class extends s{constructor(e){super(),this.endpoint=new h(e.endpoint)}};r(di,"NavigateAction");di.type="navigateAction";var _r=class extends s{constructor(e){super(),this.miniplayer_command=new h(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};r(_r,"ShowMiniplayerCommand");_r.type="showMiniplayerCommand";var fi=class extends s{constructor(e){super(),this.target_id=e.targetId,this.contents=Le(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};r(fi,"ReloadContinuationItemsCommand");fi.type="reloadContinuationItemsCommand";var vr=class extends s{constructor(e){var i,o,n,a,c,p;super(),this.contents=Le(e.contents,!0),this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};r(vr,"SectionListContinuation");vr.type="sectionListContinuation";var xr=class extends s{constructor(e){var i;super(),this.contents=Le(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};r(xr,"MusicPlaylistShelfContinuation");xr.type="musicPlaylistShelfContinuation";var gr=class extends s{constructor(e){var i,o,n,a;super(),this.contents=De(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((a=(n=e.continuations)===null||n===void 0?void 0:n[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)||null}};r(gr,"MusicShelfContinuation");gr.type="musicShelfContinuation";var yr=class extends s{constructor(e){var i;super(),this.items=Le(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};r(yr,"GridContinuation");yr.type="gridContinuation";var br=class extends s{constructor(e){var i,o,n,a,c,p;super(),this.contents=De(e.contents),this.continuation=((n=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||n===void 0?void 0:n.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};r(br,"PlaylistPanelContinuation");br.type="playlistPanelContinuation";var Xi=class extends s{constructor(e){var i,o,n;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(n=e.continuation)===null||n===void 0?void 0:n.continuation}};r(Xi,"Continuation");Xi.type="continuation";var mi=class extends s{constructor(e){var i,o,n,a,c,p,d,_;super(),this.actions=Le((i=e.actions)===null||i===void 0?void 0:i.map(g=>(delete g.clickTrackingParams,g)),!0)||ie([]),this.action_panel=ee(e.actionPanel),this.item_list=ee(e.itemList,N_),this.header=ee(e.header,E_),this.participants_list=ee(e.participantsList,R_),this.popout_message=ee(e.popoutMessage,ui),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(g=>({emoji_id:g.emojiId,shortcuts:g.shortcuts,search_terms:g.searchTerms,image:x.fromResponse(g.image),is_custom_emoji:g.isCustomEmoji})))||[];let v,y;!((n=e.continuations)===null||n===void 0)&&n[0].timedContinuationData?(y="timed",v=(a=e.continuations)===null||a===void 0?void 0:a[0].timedContinuationData):!((c=e.continuations)===null||c===void 0)&&c[0].invalidationContinuationData?(y="invalidation",v=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((d=e.continuations)===null||d===void 0)&&d[0].liveChatReplayContinuationData&&(y="replay",v=(_=e.continuations)===null||_===void 0?void 0:_[0].liveChatReplayContinuationData),this.continuation=new Xi({continuation:v,type:y}),this.viewer_name=e.viewerName}};r(mi,"LiveChatContinuation");mi.type="liveChatContinuation";var Yt=class extends s{constructor(e){super(),this.request=e.request,this.token=e.token}};r(Yt,"ContinuationCommand");Yt.type="ContinuationCommand";var Lv,Ov=class{constructor(e,i){var o,n,a,c,p,d;if(Lv.set(this,void 0),i&&S(this,Lv,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.max_dvr_duration_sec=e.maxDvrDurationSec,this.target_duration_dec=e.targetDurationSec,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.color_info=e.colorInfo?{primaries:(o=e.colorInfo.primaries)===null||o===void 0?void 0:o.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(n=e.colorInfo.transferCharacteristics)===null||n===void 0?void 0:n.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(a=e.colorInfo.matrixCoefficients)===null||a===void 0?void 0:a.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,this.has_audio){let _=new URLSearchParams(this.cipher||this.signature_cipher),y=(c=new URLSearchParams(_.get("url")||this.url).get("xtags"))===null||c===void 0?void 0:c.split(":"),g=(p=y==null?void 0:y.find(b=>b.startsWith("acont=")))===null||p===void 0?void 0:p.split("=")[1];this.language=((d=y==null?void 0:y.find(b=>b.startsWith("lang=")))===null||d===void 0?void 0:d.split("=")[1])||null,this.is_dubbed=g==="dubbed",this.is_descriptive=g==="descriptive",this.is_original=g==="original"||!this.is_dubbed&&!this.is_descriptive,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new w("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,f(this,Lv,"f"))}};r(Ov,"Format");Lv=new WeakMap;var Fv=Ov;var hi=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=x.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};r(hi,"VideoDetails");var Qi="Parser",TI=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),hg=new Map(Object.entries(Hi)),$T=new Map,eo=null,Zi=r(t=>{var{classname:e}=t,i=i0(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&U.warn(Qi,new w(`Something went wrong at ${e}!
This is a bug, please report it at ${F.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":U.warn(Qi,new et(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":U.warn(Qi,new w(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${F.shim.info.bugs_url}`));break;case"mutation_data_invalid":U.warn(Qi,new w(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${F.shim.info.bugs_url}`));break;case"class_not_found":U.warn(Qi,new w(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${F.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${F.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${Bv(e,i.key_info)}`));break;case"class_changed":U.warn(Qi,`${e} changed!
The following keys where altered: ${i.changed_keys.map(([o])=>qi(o)).join(", ")}
The class has changed to:
${Bv(e,i.key_info)}`);break;default:U.warn(Qi,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function kI(t){Zi=t}r(kI,"setParserErrorHandler");function ht(){eo=null}r(ht,"_clearMemo");function _t(){eo=new qt}r(_t,"_createMemo");function II(t,e){if(!eo)return;let i=eo.get(t);if(!i)return eo.set(t,[e]);i.push(e)}r(II,"_addToMemo");function vt(){if(!eo)throw new Error("Parser#getMemo() called before Parser#createMemo()");return eo}r(vt,"_getMemo");function KT(t){return TI.has(t)}r(KT,"shouldIgnore");function Df(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}r(Df,"sanitizeClassName");function Mf(t){let e=hg.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}r(Mf,"getParserByName");function Dv(t){return hg.has(t)}r(Dv,"hasParser");function dg(t,e){hg.set(t,e),$T.set(t,e)}r(dg,"addRuntimeParser");function SI(){return Object.fromEntries($T)}r(SI,"getDynamicParsers");function CI(t){var e,i,o,n,a,c,p,d,_,v,y,g;let b={};_t();let I=Le(t.contents),P=vt();I&&(b.contents=I,b.contents_memo=P),ht(),_t();let M=t.onResponseReceivedActions?jv(t.onResponseReceivedActions):null,j=vt();M&&(b.on_response_received_actions=M,b.on_response_received_actions_memo=j),ht(),_t();let ne=t.onResponseReceivedEndpoints?jv(t.onResponseReceivedEndpoints):null,B=vt();ne&&(b.on_response_received_endpoints=ne,b.on_response_received_endpoints_memo=B),ht(),_t();let te=t.onResponseReceivedCommands?jv(t.onResponseReceivedCommands):null,pe=vt();te&&(b.on_response_received_commands=te,b.on_response_received_commands_memo=pe),ht(),_t();let me=t.continuationContents?fg(t.continuationContents):null,ve=vt();me&&(b.continuation_contents=me,b.continuation_contents_memo=ve),ht(),_t();let ye=t.actions?XT(t.actions):null,H=vt();ye&&(b.actions=ye,b.actions_memo=H),ht(),_t();let G=t.liveChatItemContextMenuSupportedRenderers?ee(t.liveChatItemContextMenuSupportedRenderers):null,$=vt();G&&(b.live_chat_item_context_menu_supported_renderers=G,b.live_chat_item_context_menu_supported_renderers_memo=$),ht(),_t();let X=t.header?Le(t.header):null,Se=vt();X&&(b.header=X,b.header_memo=Se),ht(),_t();let Ke=t.sidebar?ee(t.sidebar):null,Qe=vt();Ke&&(b.sidebar=Ke,b.sidebar_memo=Qe),ht(),_t();let z=Le(t.items);z&&(b.items=z,b.items_memo=vt()),ht(),_t();let Re=Le(t.entries);Re&&(b.entries=Re,b.entries_memo=vt()),ht(),QT(P,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations);let wt=t.continuation?qT(t.continuation):null;wt&&(b.continuation=wt);let Tt=t.continuationEndpoint?fg(t.continuationEndpoint):null;Tt&&(b.continuation_endpoint=Tt);let he=Le(t.metadata);he&&(b.metadata=he);let Ue=ee(t.microformat);Ue&&(b.microformat=Ue);let yo=ee(t.overlay);yo&&(b.overlay=yo);let bo=De(t.alerts,[Vo,Rm]);bo.length&&(b.alerts=bo);let wo=t.refinements;wo&&(b.refinements=wo);let To=t.estimatedResults?parseInt(t.estimatedResults):null;To&&(b.estimated_results=To);let ko=Le(t.playerOverlays);ko&&(b.player_overlays=ko);let Io=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Io&&(b.playback_tracking=Io);let So=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:ee(t.playabilityStatus.audioOnlyPlayability,Bm),error_screen:ee(t.playabilityStatus.errorScreen)}:null;if(So&&(b.playability_status=So),t.streamingData){let fe=new Map,We={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:mg(t.streamingData.formats,fe),adaptive_formats:mg(t.streamingData.adaptiveFormats,fe),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};b.streaming_data=We}if(t.playerConfig){let fe={audio_config:{loudness_db:(o=t.playerConfig.audioConfig)===null||o===void 0?void 0:o.loudnessDb,perceptual_loudness_db:(n=t.playerConfig.audioConfig)===null||n===void 0?void 0:n.perceptualLoudnessDb,enable_per_format_loudness:(a=t.playerConfig.audioConfig)===null||a===void 0?void 0:a.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((c=t.playerConfig.streamSelectionConfig)===null||c===void 0?void 0:c.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((d=(p=t.playerConfig.mediaCommonConfig)===null||p===void 0?void 0:p.dynamicReadaheadConfig)===null||d===void 0?void 0:d.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((v=(_=t.playerConfig.mediaCommonConfig)===null||_===void 0?void 0:_.dynamicReadaheadConfig)===null||v===void 0?void 0:v.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((g=(y=t.playerConfig.mediaCommonConfig)===null||y===void 0?void 0:y.dynamicReadaheadConfig)===null||g===void 0?void 0:g.readAheadGrowthRateMs)||0}}};b.player_config=fe}let Co=t.currentVideoEndpoint?new h(t.currentVideoEndpoint):null;Co&&(b.current_video_endpoint=Co);let Eo=t.endpoint?new h(t.endpoint):null;Eo&&(b.endpoint=Eo);let No=ee(t.captions,iv);No&&(b.captions=No);let Po=t.videoDetails?new hi(t.videoDetails):null;Po&&(b.video_details=Po);let re=De(t.annotations,tv);re.length&&(b.annotations=re);let Ze=ee(t.storyboards,[Oi,nv]);Ze&&(b.storyboards=Ze);let Ae=ee(t.endscreen,Kh);Ae&&(b.endscreen=Ae);let Bt=ee(t.cards,fh);Bt&&(b.cards=Bt);let Ci=De(t.engagementPanels,ii);return Ci.length&&(b.engagement_panels=Ci),b}r(CI,"parseResponse");function ee(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let o=Df(i[0]);if(!KT(o))try{let a=Dv(o)?Mf(o):Bf(o,t[i[0]],Zi);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===a.type))return Zi({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(a.type!==e.type)return Zi({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.type}),null}let c=new a(t[i[0]]);return II(o,c),c}catch(n){return Zi({classname:o,classdata:t[i[0]],error:n,error_type:"parse"}),null}return null}r(ee,"parseItem");function De(t,e){if(Array.isArray(t)){let i=[];for(let o of t){let n=ee(o,e);n&&i.push(n)}return ie(i)}else if(!t)return ie([]);throw new et("Expected array but got a single item")}r(De,"parseArray");function Le(t,e,i){if(!t)return null;if(Array.isArray(t)){let o=[];for(let a of t){let c=ee(a,i);c&&o.push(c)}let n=ie(o);return e?n:new St(n)}else if(e)throw new et("Expected array but got a single item");return new St(ee(t,i))}r(Le,"parse");function qT(t){return t.timedContinuationData?new Xi({continuation:t.timedContinuationData,type:"timed"}):null}r(qT,"parseC");function fg(t){return t.itemSectionContinuation?new hr(t.itemSectionContinuation):t.sectionListContinuation?new vr(t.sectionListContinuation):t.liveChatContinuation?new mi(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new xr(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new gr(t.musicShelfContinuation):t.gridContinuation?new yr(t.gridContinuation):t.playlistPanelContinuation?new br(t.playlistPanelContinuation):t.continuationCommand?new Yt(t.continuationCommand):null}r(fg,"parseLC");function jv(t){return ie(t.map(e=>{if(e.navigateAction)return new di(e.navigateAction);if(e.showMiniplayerCommand)return new _r(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new fi(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Ai(e.appendContinuationItemsAction)}).filter(e=>e))}r(jv,"parseRR");function XT(t){return Array.isArray(t)?Le(t.map(e=>(delete e.clickTrackingParams,e))):new St(ee(t))}r(XT,"parseActions");function mg(t,e){return(t==null?void 0:t.map(i=>new Fv(i,e)))||[]}r(mg,"parseFormats");function QT(t,e){let i=t.getType(nr);if(i.length>0&&!e)Zi({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let o=[];for(let n of i){let a=e.find(p=>{var d,_;return((_=(d=p.payload)===null||d===void 0?void 0:d.musicFormBooleanChoice)===null||_===void 0?void 0:_.id)===n.form_item_entity_key}),c=a==null?void 0:a.payload.musicFormBooleanChoice;(c==null?void 0:c.selected)!==void 0&&(c==null?void 0:c.opaqueToken)?n.selected=c.selected:o.push(`'${n.title}'`)}o.length>0&&Zi({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:o.length,titles:o})}}r(QT,"applyMutations");var bg={};we(bg,{AccountInfo:()=>ZT,Analytics:()=>e1,Channel:()=>Ne,ChannelListContinuation:()=>no,Comments:()=>i1,FilteredChannelList:()=>gi,Guide:()=>o1,HashtagFeed:()=>yi,History:()=>$v,HomeFeed:()=>Ut,ItemMenu:()=>Qv,Library:()=>n1,LiveChat:()=>ux,NotificationsMenu:()=>a1,Playlist:()=>ex,Search:()=>u1,Settings:()=>l1,SmoothedQueue:()=>rx,TimeWatched:()=>c1,TranscriptInfo:()=>Hv,VideoInfo:()=>qf});var wr,Yv=class{constructor(e){if(wr.set(this,void 0),S(this,wr,l.parseResponse(e.data),"f"),!f(this,wr,"f").contents)throw new w("Page contents not found");let i=f(this,wr,"f").contents.array().as(km).first();if(!i)throw new w("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return f(this,wr,"f")}};r(Yv,"AccountInfo");wr=new WeakMap;var ZT=Yv;var Lf,Uv=class{constructor(e){var i;Lf.set(this,void 0),S(this,Lf,l.parseResponse(e.data),"f"),this.sections=(i=f(this,Lf,"f").contents_memo)===null||i===void 0?void 0:i.getType(er).map(o=>o.model).flatMap(o=>o||[])}get page(){return f(this,Lf,"f")}};r(Uv,"Analytics");Lf=new WeakMap;var e1=Uv;var Of,Oe,to,Ff,He,t1,_g,_i=class{constructor(e,i,o=!1){Of.add(this),Oe.set(this,void 0),to.set(this,void 0),Ff.set(this,void 0),He.set(this,void 0),f(this,Of,"m",t1).call(this,i)||o?S(this,Oe,i,"f"):S(this,Oe,l.parseResponse(i.data),"f");let n=vg(f(this,Oe,"f").contents_memo,f(this,Oe,"f").continuation_contents_memo,f(this,Oe,"f").on_response_received_commands_memo,f(this,Oe,"f").on_response_received_endpoints_memo,f(this,Oe,"f").on_response_received_actions_memo,f(this,Oe,"f").sidebar_memo,f(this,Oe,"f").header_memo);if(!n)throw new w("No memo found in feed");S(this,He,n,"f"),S(this,Ff,e,"f")}static getVideosFromMemo(e){return e.getType(Lo,r_,lr,jo,ur,jt,Pv)}static getPlaylistsFromMemo(e){return e.getType(Ct,t_)}get videos(){return _i.getVideosFromMemo(f(this,He,"f"))}get posts(){return f(this,He,"f").getType(Zt,fv,wv)}get channels(){return f(this,He,"f").getType(gh,e_)}get playlists(){return _i.getPlaylistsFromMemo(f(this,He,"f"))}get memo(){return f(this,He,"f")}get page_contents(){var e;let i=(e=f(this,He,"f").getType(Ve))===null||e===void 0?void 0:e.first().content,o=f(this,He,"f").getType(fi).first(),n=f(this,He,"f").getType(Ai).first();return i||o||n}get shelves(){return f(this,He,"f").getType(fr,_v,Uo)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=f(this,Oe,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=f(this,Oe,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(Pt,Iv))return o.secondary_contents}get actions(){return f(this,Ff,"f")}get page(){return f(this,Oe,"f")}get has_continuation(){return f(this,Of,"m",_g).call(this).length>0}getContinuationData(){return k(this,void 0,void 0,function*(){if(f(this,to,"f")){if(f(this,to,"f").length===0)throw new w("There are no continuations.");return yield f(this,to,"f")[0].endpoint.call(f(this,Ff,"f"),{parse:!0})}if(S(this,to,f(this,Of,"m",_g).call(this),"f"),f(this,to,"f"))return this.getContinuationData()})}getContinuation(){return k(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new w("Could not get continuation data");return new _i(this.actions,e,!0)})}};r(_i,"Feed");Oe=new WeakMap,to=new WeakMap,Ff=new WeakMap,He=new WeakMap,Of=new WeakSet,t1=r(function(e){return!("data"in e)},"_Feed_isParsed"),_g=r(function(){if(f(this,Oe,"f").header_memo){let e=f(this,Oe,"f").header_memo.getType(le);return f(this,He,"f").getType(le).filter(i=>!e.includes(i))}return f(this,He,"f").getType(le)},"_Feed_getBodyContinuations");var Ee=_i;var Tr,Wv=class extends Ee{constructor(e,i,o=!1){super(e,i,o),Tr.set(this,void 0)}get filter_chips(){var e,i;if(f(this,Tr,"f"))return f(this,Tr,"f")||[];if(((e=this.memo.getType(Ft))===null||e===void 0?void 0:e.length)>1)throw new w("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(Ft))===null||i===void 0?void 0:i.length)===0)throw new w("There are no feed filter chipbars");return S(this,Tr,this.memo.getType(Fe),"f"),f(this,Tr,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return k(this,void 0,void 0,function*(){let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new w("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(a=>a.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new w("Invalid filter");if(!o)throw new w("Filter not found");if(o.is_selected)return this;let n=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!n)throw new w("Failed to get filtered feed");return new Ee(this.actions,n,!0)})}};r(Wv,"FilterableFeed");Tr=new WeakMap;var vi=Wv;var xg={};we(xg,{Feed:()=>Ee,FilterableFeed:()=>vi,MediaInfo:()=>Gv,TabbedFeed:()=>Yf});var xi,xt,kr,jf,Jv=class{constructor(e,i,o){var n,a;xi.set(this,void 0),xt.set(this,void 0),kr.set(this,void 0),jf.set(this,void 0),S(this,xt,i,"f");let c=l.parseResponse(e[0].data),p=!((n=e==null?void 0:e[1])===null||n===void 0)&&n.data?l.parseResponse(e[1].data):void 0;if(S(this,xi,[c,p],"f"),S(this,kr,o,"f"),((a=c.playability_status)===null||a===void 0?void 0:a.status)==="ERROR")throw new w("This video is unavailable",c.playability_status);this.streaming_data=c.streaming_data,this.playability_status=c.playability_status,this.player_config=c.player_config,S(this,jf,c.playback_tracking,"f")}toDash(e,i,o={include_thumbnails:!1}){var n;return k(this,void 0,void 0,function*(){let a=f(this,xi,"f")[0];if(a.video_details&&a.video_details.is_live)throw new w("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let c;return o.include_thumbnails&&a.storyboards&&(c=a.storyboards),Fi.toDash(this.streaming_data,(n=this.page[0].video_details)===null||n===void 0?void 0:n.is_post_live_dvr,e,i,f(this,kr,"f"),f(this,xt,"f").session.player,f(this,xt,"f"),c)})}getStreamingInfo(e,i){var o;return vh(this.streaming_data,(o=this.page[0].video_details)===null||o===void 0?void 0:o.is_post_live_dvr,e,i,this.cpn,f(this,xt,"f").session.player,f(this,xt,"f"),f(this,xi,"f")[0].storyboards?f(this,xi,"f")[0].storyboards:void 0)}chooseFormat(e){return Fi.chooseFormat(e,this.streaming_data)}download(e={}){return k(this,void 0,void 0,function*(){let i=f(this,xi,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new w("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Fi.download(e,f(this,xt,"f"),this.playability_status,this.streaming_data,f(this,xt,"f").session.player,this.cpn)})}getTranscript(){var e;return k(this,void 0,void 0,function*(){let i=this.page[1];if(!i)throw new w("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new w("Engagement panels not found. Video likely has no transcript.");let o=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!o)throw new w("Transcript panel not found. Video likely has no transcript.");let n=(e=o.content)===null||e===void 0?void 0:e.as(le);if(!n)throw new w("Transcript continuation not found.");let a=yield n.endpoint.call(this.actions);return new Hv(this.actions,a)})}addToWatchHistory(e=xe.CLIENTS.WEB.NAME,i=xe.CLIENTS.WEB.VERSION,o="https://www."){return k(this,void 0,void 0,function*(){if(!f(this,jf,"f"))throw new w("Playback tracking not available");let n={cpn:f(this,kr,"f"),fmt:251,rtn:0,rt:0},a=f(this,jf,"f").videostats_playback_url.replace("https://s.",o);return yield f(this,xt,"f").stats(a,{client_name:e,client_version:i},n)})}get actions(){return f(this,xt,"f")}get cpn(){return f(this,kr,"f")}get page(){return f(this,xi,"f")}};r(Jv,"MediaInfo");xi=new WeakMap,xt=new WeakMap,kr=new WeakMap,jf=new WeakMap;var Gv=Jv;var io,oo,ro=class extends Ee{constructor(e,i,o=!1){var n;super(e,i,o),io.set(this,void 0),oo.set(this,void 0),S(this,oo,e,"f"),S(this,io,(n=this.page.contents_memo)===null||n===void 0?void 0:n.getType(Ve),"f")}get tabs(){var e,i;return(i=(e=f(this,io,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return k(this,void 0,void 0,function*(){let o=(i=f(this,io,"f"))===null||i===void 0?void 0:i.find(a=>a.title.toLowerCase()===e.toLowerCase());if(!o)throw new w(`Tab "${e}" not found`);if(o.selected)return this;let n=yield o.endpoint.call(f(this,oo,"f"));return new ro(f(this,oo,"f"),n,!1)})}getTabByURL(e){var i;return k(this,void 0,void 0,function*(){let o=(i=f(this,io,"f"))===null||i===void 0?void 0:i.find(a=>{var c;return((c=a.endpoint.metadata.url)===null||c===void 0?void 0:c.split("/").pop())===e});if(!o)throw new w(`Tab "${e}" not found`);if(o.selected)return this;let n=yield o.endpoint.call(f(this,oo,"f"));return new ro(f(this,oo,"f"),n,!1)})}hasTabWithURL(e){var i,o;return(o=(i=f(this,io,"f"))===null||i===void 0?void 0:i.some(n=>{var a;return((a=n.endpoint.metadata.url)===null||a===void 0?void 0:a.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(Ve))===null||i===void 0?void 0:i.find(n=>n.selected))===null||o===void 0?void 0:o.title.toString()}};r(ro,"TabbedFeed");io=new WeakMap,oo=new WeakMap;var Yf=ro;var Ne=class extends Yf{constructor(e,i,o=!1){var n,a,c,p,d,_;super(e,i,o),this.header=(a=(n=this.page.header)===null||n===void 0?void 0:n.item())===null||a===void 0?void 0:a.as(Wo,mh,d_,Nt);let v=(c=this.page.metadata)===null||c===void 0?void 0:c.item().as(yh),y=(p=this.page.microformat)===null||p===void 0?void 0:p.as(sr);if(this.page.alerts){let g=this.page.alerts.first();if((g==null?void 0:g.alert_type)==="ERROR")throw new Ir(g.text.toString())}if(!v&&!this.page.contents)throw new w("Invalid channel",this);this.metadata=Object.assign(Object.assign({},v),y||{}),this.subscribe_button=(d=this.page.header_memo)===null||d===void 0?void 0:d.getType(Me).first(),this.current_tab=(_=this.page.contents)===null||_===void 0?void 0:_.item().as(Pt).tabs.array().filterType(Ve,tr).get({selected:!0})}applyFilter(e){var i;return k(this,void 0,void 0,function*(){let o,n=this.memo.getType(Ft).first();if(typeof e=="string"){if(o=n==null?void 0:n.contents.get({text:e}),!o)throw new w(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof Fe&&(o=e);if(!o)throw new w("Invalid filter",e);let a=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!a)throw new w("No page returned",{filter:o});return new gi(this.actions,a,!0)})}applySort(e){var i,o;return k(this,void 0,void 0,function*(){let n=this.memo.getType(dt).first();if(!n)throw new w("No sort filter sub menu found");let a=(i=n==null?void 0:n.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!a)throw new w(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(a.selected)return this;let c=yield(o=a.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Ne(this.actions,c,!0)})}applyContentTypeFilter(e){var i,o,n,a;return k(this,void 0,void 0,function*(){let c=(n=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(ge).sub_menu)===null||n===void 0?void 0:n.as(Ea);if(!c)throw new w("Sub menu not found");let p=c.content_type_sub_menu_items.find(_=>_.title===e);if(!p)throw new w(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let d=yield(a=p.endpoint)===null||a===void 0?void 0:a.call(this.actions,{parse:!0});return new Ne(this.actions,d,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(Ft))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(Fe).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(dt).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let n=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(ge).sub_menu)===null||o===void 0?void 0:o.as(Ea);return(n==null?void 0:n.content_type_sub_menu_items.map(a=>a.title))||[]}getHome(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Ne(this.actions,e.page,!0)})}getVideos(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Ne(this.actions,e.page,!0)})}getShorts(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Ne(this.actions,e.page,!0)})}getLiveStreams(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Ne(this.actions,e.page,!0)})}getReleases(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Ne(this.actions,e.page,!0)})}getPodcasts(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Ne(this.actions,e.page,!0)})}getPlaylists(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Ne(this.actions,e.page,!0)})}getCommunity(){return k(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Ne(this.actions,e.page,!0)})}getAbout(){var e,i,o,n,a;return k(this,void 0,void 0,function*(){if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(ya)[0];let c=((e=this.header)===null||e===void 0?void 0:e.is(Wo))&&this.header.tagline;if(c||((i=this.header)===null||i===void 0?void 0:i.is(Nt))&&((o=this.header.content)===null||o===void 0?void 0:o.description)){if(c&&c.more_endpoint instanceof h){let _=yield c.more_endpoint.call(this.actions);return new Yf(this.actions,_,!1).memo.getType(ya)[0]}let p=(a=(n=this.page.header_memo)===null||n===void 0?void 0:n.getType(le)[0])===null||a===void 0?void 0:a.endpoint;if(!p)throw new w("Failed to extract continuation to get channel about");let d=yield p.call(this.actions,{parse:!0});if(!d.on_response_received_endpoints_memo)throw new w("Unexpected response while fetching channel about",{response:d});return d.on_response_received_endpoints_memo.getType(ym)[0]}throw new w("About not found")})}search(e){var i,o;return k(this,void 0,void 0,function*(){let n=(i=this.memo.getType(tr))===null||i===void 0?void 0:i[0];if(!n)throw new w("Search tab not found",this);let a=yield(o=n.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Ne(this.actions,a,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,o,n,a;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(Wo))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))||!!(((o=this.header)===null||o===void 0?void 0:o.is(Nt))&&((a=(n=this.header.content)===null||n===void 0?void 0:n.description)===null||a===void 0?void 0:a.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(tr))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return k(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new w("Could not get continuation data");return new no(this.actions,i,!0)})}};r(Ne,"Channel");var no=class extends Ee{constructor(e,i,o=!1){var n,a;super(e,i,o),this.contents=((n=this.page.on_response_received_actions)===null||n===void 0?void 0:n.first())||((a=this.page.on_response_received_endpoints)===null||a===void 0?void 0:a.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return k(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new w("Could not get continuation data");return new no(this.actions,i,!0)})}};r(no,"ChannelListContinuation");var gi=class extends vi{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(Fe).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return k(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new gi(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return k(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new w("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(Ft)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(Fe)),new gi(this.actions,i,!0)})}};r(gi,"FilteredChannelList");var Sr,At,Cr,so=class{constructor(e,i,o=!1){var n,a,c;Sr.set(this,void 0),At.set(this,void 0),Cr.set(this,void 0),S(this,Sr,o?i:l.parseResponse(i),"f"),S(this,At,e,"f");let p=f(this,Sr,"f").on_response_received_endpoints;if(!p)throw new w("Comments page did not have any content.");let d=p.at(0),_=p.at(1);this.header=(n=d==null?void 0:d.contents)===null||n===void 0?void 0:n.firstOfType(ai);let v=((a=_==null?void 0:_.contents)===null||a===void 0?void 0:a.filterType(Lh))||[];this.contents=ie(v.map(y=>{var g;return(g=y.comment)===null||g===void 0||g.setActions(f(this,At,"f")),y.setActions(f(this,At,"f")),y})),S(this,Cr,(c=_==null?void 0:_.contents)===null||c===void 0?void 0:c.firstOfType(le),"f")}applySort(e){var i,o,n,a;return k(this,void 0,void 0,function*(){if(!this.header)throw new w("Page header is missing. Cannot apply sort option.");let c;if(e==="TOP_COMMENTS"?c=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(c=(a=(n=this.header.sort_menu)===null||n===void 0?void 0:n.sub_menu_items)===null||a===void 0?void 0:a.at(1)),!c)throw new w("Could not find target button.");if(c.selected)return this;let p=yield c.endpoint.call(f(this,At,"f"),{parse:!0});return new so(f(this,At,"f"),p,!0)})}createComment(e){var i;return k(this,void 0,void 0,function*(){if(!this.header)throw new w("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(Dh).submit_button;if(!o)throw new w("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new w("Button does not have an endpoint.");return yield o.endpoint.call(f(this,At,"f"),{commentText:e})})}getContinuation(){return k(this,void 0,void 0,function*(){if(!f(this,Cr,"f"))throw new w("Continuation not found");let e=yield f(this,Cr,"f").endpoint.call(f(this,At,"f"),{parse:!0}),i=Object.assign({},f(this,Sr,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new w("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new so(f(this,At,"f"),i,!0)})}get has_continuation(){return!!f(this,Cr,"f")}get page(){return f(this,Sr,"f")}};r(so,"Comments");Sr=new WeakMap,At=new WeakMap,Cr=new WeakMap;var i1=so;var Uf,zv=class{constructor(e){Uf.set(this,void 0),S(this,Uf,l.parseResponse(e),"f"),this.contents=f(this,Uf,"f").items.array().as(ir,n_)}get page(){return f(this,Uf,"f")}};r(zv,"Guide");Uf=new WeakMap;var o1=zv;var Er=class extends Ee{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(Ge),this.feed_actions=this.memo.getType(jm).first()}getContinuation(){return k(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Er(this.actions,e,!0)})}};r(Er,"History");var $v=Er;var Ut=class extends vi{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(Qh).first(),this.contents=this.memo.getType(pi).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return k(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Ut(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return k(this,void 0,void 0,function*(){let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Ut(this.actions,o.page,!0)})}};r(Ut,"HomeFeed");var yi=class extends vi{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new w("Unexpected response",this.page);let o=this.page.contents_memo.getType(Ve).first();if(!o.content)throw new w("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(s_,Nt)),this.contents=o.content.as(pi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return k(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new yi(this.actions,o.page)})}};r(yi,"HashtagFeed");var Kv,qv,Wf,Xv=class{constructor(e,i){Kv.set(this,void 0),qv.set(this,void 0),Wf.set(this,void 0),S(this,Kv,e,"f"),S(this,qv,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(L))throw new w('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');S(this,Wf,o.as(L).items,"f")}selectItem(e){return k(this,void 0,void 0,function*(){let i;if(e instanceof T){if(!e.endpoint)throw new w("Item does not have an endpoint.");i=e.endpoint}else{let n=f(this,Wf,"f").find(a=>a.is(li)?a.as(li).icon_type===e:!1);if(!n||!n.is(li))throw new w(`Button "${e}" not found.`);i=n.endpoint}if(!i)throw new w("Target button does not have an endpoint.");return yield i.call(f(this,qv,"f"),{parse:!0})})}items(){return f(this,Wf,"f")}page(){return f(this,Kv,"f")}};r(Xv,"ItemMenu");Kv=new WeakMap,qv=new WeakMap,Wf=new WeakMap;var Qv=Xv;var Jf,Zv,Nr=class extends Ee{constructor(e,i,o=!1){var n,a,c,p,d;super(e,i,o),Jf.add(this);let _=this.memo.getType(lv).first(),v=this.memo.getType(pv).first(),y=this.memo.getType(dv).first(),g=(n=this.page.alerts)===null||n===void 0?void 0:n.firstOfType(Vo);if(g&&g.alert_type==="ERROR")throw new w(g.text.toString(),g);if(!v&&!y&&Object.keys(this.page).length===0)throw new w("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(a=this.page.metadata)===null||a===void 0?void 0:a.item().as(cv)),{subtitle:_?_.subtitle:null,author:(p=(c=y==null?void 0:y.owner)===null||c===void 0?void 0:c.as(mr).author)!==null&&p!==void 0?p:_==null?void 0:_.author,thumbnails:(d=v==null?void 0:v.thumbnail_renderer)===null||d===void 0?void 0:d.as(Qo,Xo).thumbnail,total_items:f(this,Jf,"m",Zv).call(this,0,v),views:f(this,Jf,"m",Zv).call(this,1,v),last_updated:f(this,Jf,"m",Zv).call(this,2,v),can_share:_==null?void 0:_.can_share,can_delete:_==null?void 0:_.can_delete,is_editable:_==null?void 0:_.is_editable,privacy:_==null?void 0:_.privacy}),this.menu=v==null?void 0:v.menu,this.endpoint=v==null?void 0:v.endpoint,this.messages=this.memo.getType(ui)}get items(){return ie(this.videos.as(ur,lr).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(ge).first();return e?!!this.memo.getType(le).find(i=>!e.contents.includes(i)):super.has_continuation}getContinuationData(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return k(this,void 0,void 0,function*(){let i=this.memo.getType(ge).first();if(!i)return yield e.getContinuationData.call(this);let o=this.memo.getType(le).find(a=>!i.contents.includes(a));if(!o)throw new w("There are no continuations.");return yield o.endpoint.call(this.actions,{parse:!0})})}getContinuation(){return k(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new w("Could not get continuation data");return new Nr(this.actions,e,!0)})}};r(Nr,"Playlist");Jf=new WeakSet,Zv=r(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var ex=Nr;var gg,r1,tx=class extends Ee{constructor(e,i){if(super(e,i),gg.add(this),!this.page.contents_memo)throw new w("Page contents not found");this.header=this.memo.getType(Nt).first();let o=this.page.contents_memo.getType(fr);this.sections=o.map(n=>{var a;return{type:n.icon_type,title:n.title,contents:((a=n.content)===null||a===void 0?void 0:a.key("items").array())||[],getAll:()=>f(this,gg,"m",r1).call(this,n)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};r(tx,"Library");gg=new WeakSet,r1=r(function(e){var i;return k(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(L).hasKey("top_level_buttons")))throw new w(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(L).top_level_buttons.firstOfType(T);if(!o)throw new w("Did not find target button.");let n=yield o.as(T).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new ex(this.actions,n,!0);case"WATCH_HISTORY":return new $v(this.actions,n,!0);case"CONTENT_CUT":return new Ee(this.actions,n,!0);default:throw new w("Target shelf not implemented.")}})},"_Library_getAll");var n1=tx;var Wt,bi,ao,rt,gt,ze;function EI(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}r(EI,"flattenQueue");var ix=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};r(ix,"DelayQueue");var ox=class{constructor(){Wt.set(this,void 0),bi.set(this,void 0),ao.set(this,void 0),rt.set(this,void 0),gt.set(this,void 0),ze.set(this,void 0),S(this,Wt,null,"f"),S(this,bi,null,"f"),S(this,ao,null,"f"),S(this,rt,[],"f"),S(this,gt,null,"f"),S(this,ze,new ix,"f")}enqueueActionGroup(e){if(f(this,Wt,"f")!==null){let i=Date.now()-f(this,Wt,"f");f(this,ze,"f").back.push(i),5<f(this,ze,"f").front.length+f(this,ze,"f").back.length&&(f(this,ze,"f").front.length||(f(this,ze,"f").front=f(this,ze,"f").back,f(this,ze,"f").front.reverse(),f(this,ze,"f").back=[]),f(this,ze,"f").front.pop()),S(this,bi,Math.max(...f(this,ze,"f").getValues()),"f")}S(this,Wt,Date.now(),"f"),f(this,rt,"f").push(e),f(this,gt,"f")===null&&S(this,gt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(S(this,gt,null,"f"),f(this,rt,"f").length){let e=1e4;f(this,bi,"f")!==null&&f(this,Wt,"f")!==null&&(e=f(this,bi,"f")-Date.now()+f(this,Wt,"f")),e=f(this,rt,"f").length<e/80?1:Math.ceil(f(this,rt,"f").length/(e/80));let i=EI(f(this,rt,"f").splice(0,e));f(this,ao,"f")&&f(this,ao,"f").call(this,i),f(this,rt,"f")!==null&&(e==1?(e=f(this,bi,"f")/f(this,rt,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,S(this,gt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){f(this,gt,"f")!==null&&(clearTimeout(f(this,gt,"f")),S(this,gt,null,"f")),S(this,rt,[],"f")}set callback(e){S(this,ao,e,"f")}get callback(){return f(this,ao,"f")}get action_queue(){return f(this,rt,"f")}get estimated_update_interval(){return f(this,bi,"f")}get last_update_time(){return f(this,Wt,"f")}get next_update_id(){return f(this,gt,"f")}get poll_response_delay_queue(){return f(this,ze,"f")}};r(ox,"SmoothedQueue");Wt=new WeakMap,bi=new WeakMap,ao=new WeakMap,rt=new WeakMap,gt=new WeakMap,ze=new WeakMap;var rx=ox;var Pe,Jt,zf,nx,lo,Gf,Hf,yg,sx,s1,uo,ax=class extends va{constructor(e){var i,o;super(),Pe.add(this),Jt.set(this,void 0),zf.set(this,void 0),nx.set(this,void 0),lo.set(this,void 0),Gf.set(this,void 0),Hf.set(this,0),this.running=!1,this.is_replay=!1,S(this,zf,e.basic_info.id,"f"),S(this,nx,e.basic_info.channel_id,"f"),S(this,Jt,e.actions,"f"),S(this,lo,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new rx,this.smoothed_queue.callback=n=>k(this,void 0,void 0,function*(){n.length?n.length<10?yield f(this,Pe,"m",sx).call(this,n):this.is_replay?(f(this,Pe,"m",sx).call(this,n),yield f(this,Pe,"m",uo).call(this,2e3)):f(this,Pe,"m",sx).call(this,n):yield f(this,Pe,"m",uo).call(this,2e3),this.running&&f(this,Pe,"m",yg).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,f(this,Pe,"m",yg).call(this),f(this,Pe,"m",s1).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return k(this,void 0,void 0,function*(){let i=yield f(this,Jt,"f").execute("/live_chat/send_message",{params:eg(f(this,nx,"f"),f(this,zf,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:F.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new w("Unexpected response from send_message",i);return i.actions.array().as(y_)})}applyFilter(e){var i,o,n,a,c,p,d;if(!this.initial_info)throw new w("Cannot apply filter before initial info is retrieved.");let _=(n=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||n===void 0?void 0:n.sub_menu_items;if(e==="TOP_CHAT"){if(!((a=_==null?void 0:_.at(0))===null||a===void 0)&&a.selected)return;S(this,lo,(c=_==null?void 0:_.at(0))===null||c===void 0?void 0:c.continuation,"f")}else{if(!((p=_==null?void 0:_.at(1))===null||p===void 0)&&p.selected)return;S(this,lo,(d=_==null?void 0:_.at(1))===null||d===void 0?void 0:d.continuation,"f")}}getItemMenu(e){return k(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(h))throw new w("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(h).call(f(this,Jt,"f"),{parse:!0});if(!i)throw new w("Could not retrieve item menu.",e);return new Qv(i,f(this,Jt,"f"))})}selectButton(e){return k(this,void 0,void 0,function*(){return yield e.endpoint.call(f(this,Jt,"f"),{parse:!0})})}};r(ax,"LiveChat");Jt=new WeakMap,zf=new WeakMap,nx=new WeakMap,lo=new WeakMap,Gf=new WeakMap,Hf=new WeakMap,Pe=new WeakSet,yg=r(function t(){k(this,void 0,void 0,function*(){var e,i;try{let o=yield f(this,Jt,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:f(this,lo,"f"),parse:!0}),n=o.continuation_contents;if(n||(this.emit("error",new w("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(n instanceof mi)){this.stop(),this.emit("end");return}S(this,lo,n.continuation.token,"f"),n.header?(this.initial_info=n,this.emit("start",n),this.running&&f(this,Pe,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(n.actions),S(this,Hf,0,"f")}catch(o){this.emit("error",o),S(this,Hf,(i=f(this,Hf,"f"),e=i++,i),"f"),e<10?(yield f(this,Pe,"m",uo).call(this,2e3),f(this,Pe,"m",t).call(this)):(this.emit("error",new w("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),sx=r(function(e){return k(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),n=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let a of e)yield f(this,Pe,"m",uo).call(this,n),this.emit("chat-update",a)})},"_LiveChat_emitSmoothedActions"),s1=r(function t(){k(this,void 0,void 0,function*(){var e,i,o,n,a,c,p,d,_,v,y;try{let g={videoId:f(this,zf,"f")};f(this,Gf,"f")&&(g.continuation=f(this,Gf,"f"));let b=yield f(this,Jt,"f").execute("/updated_metadata",g),I=l.parseResponse(b.data);S(this,Gf,(e=I.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=I.actions)===null||i===void 0?void 0:i.array().firstOfType(I_))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((n=I.actions)===null||n===void 0?void 0:n.array().firstOfType(k_))||((a=this.metadata)===null||a===void 0?void 0:a.description),views:((c=I.actions)===null||c===void 0?void 0:c.array().firstOfType(C_))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((d=I.actions)===null||d===void 0?void 0:d.array().firstOfType(S_))||((_=this.metadata)===null||_===void 0?void 0:_.likes),date:((v=I.actions)===null||v===void 0?void 0:v.array().firstOfType(T_))||((y=this.metadata)===null||y===void 0?void 0:y.date)},this.emit("metadata-update",this.metadata),yield f(this,Pe,"m",uo).call(this,5e3),this.running&&f(this,Pe,"m",t).call(this)}catch(g){yield f(this,Pe,"m",uo).call(this,2e3),this.running&&f(this,Pe,"m",t).call(this)}})},"_LiveChat_pollMetadata"),uo=r(function(e){return k(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var ux=ax;var co,$f,Pr=class{constructor(e,i){co.set(this,void 0),$f.set(this,void 0),S(this,$f,e,"f"),S(this,co,l.parseResponse(i.data),"f"),this.header=f(this,co,"f").actions_memo.getType(B_).first(),this.contents=f(this,co,"f").actions_memo.getType(X_)}getContinuation(){return k(this,void 0,void 0,function*(){let e=f(this,co,"f").actions_memo.getType(le).first();if(!e)throw new w("Continuation not found");let i=yield e.endpoint.call(f(this,$f,"f"),{parse:!1});return new Pr(f(this,$f,"f"),i)})}get page(){return f(this,co,"f")}};r(Pr,"NotificationsMenu");co=new WeakMap,$f=new WeakMap;var a1=Pr;var po=class extends Ee{constructor(e,i,o=!1){var n,a,c,p,d,_;super(e,i,o);let v=((n=this.page.contents_memo)===null||n===void 0?void 0:n.getType(ge).first().contents)||((a=this.page.on_response_received_commands)===null||a===void 0?void 0:a.first().contents);if(!v)throw new w("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(xv)),this.results=(c=v.find(y=>y.is(Ge)&&y.contents&&y.contents.length>0))===null||c===void 0?void 0:c.as(Ge).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(gv).first(),this.watch_card=(d=this.page.contents_memo)===null||d===void 0?void 0:d.getType(Ev).first(),this.refinement_cards=(_=this.results)===null||_===void 0?void 0:_.firstOfType(ei)}selectRefinementCard(e){var i,o;return k(this,void 0,void 0,function*(){let n;if(typeof e=="string"){if(!this.refinement_cards)throw new w("No refinement cards found.");if(n=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(Mi),!n)throw new w(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")n=e;else throw new w("Invalid refinement card!");let a=yield n.endpoint.call(this.actions,{parse:!0});return new po(this.actions,a,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(Mi).map(i=>i.query))||[]}getContinuation(){return k(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new w("Could not get continuation data");return new po(this.actions,e,!0)})}};r(po,"Search");var u1=po;var fo,Kf,Rr=class{constructor(e,i){var o,n,a,c;if(fo.set(this,void 0),Kf.set(this,void 0),S(this,Kf,e,"f"),S(this,fo,l.parseResponse(i.data),"f"),this.sidebar=(o=f(this,fo,"f").sidebar)===null||o===void 0?void 0:o.as(bv),!f(this,fo,"f").contents)throw new w("Page contents not found");let p=f(this,fo,"f").contents.item().as(Pt).tabs.array().as(Ve).get({selected:!0});if(!p)throw new w("Target tab not found");let d=(n=p.content)===null||n===void 0?void 0:n.as(ge).contents.as(Ge);this.introduction=(c=(a=d==null?void 0:d.shift())===null||a===void 0?void 0:a.contents)===null||c===void 0?void 0:c.firstOfType(Z_),this.sections=d==null?void 0:d.map(_=>{var v;return{title:!((v=_.header)===null||v===void 0)&&v.is(ai,or,rr)?_.header.title.toString():null,contents:_.contents}})}selectSidebarItem(e){return k(this,void 0,void 0,function*(){if(!this.sidebar)throw new w("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new w(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(qo))i=e;else throw new w("Invalid item",{target_item:e});let o=yield i.endpoint.call(f(this,Kf,"f"),{parse:!1});return new Rr(f(this,Kf,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new w("Sections not available");for(let o of this.sections)if(!!o.contents)for(let n of o.contents){let a=n.as(dr).options;if(a){for(let c of a)if(c.is(pr)&&((i=c.title)===null||i===void 0?void 0:i.toString())===e)return c}}throw new w(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new w("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(dr).options&&(e=e.concat(o.as(dr).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new w("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return f(this,fo,"f")}};r(Rr,"Settings");fo=new WeakMap,Kf=new WeakMap;var l1=Rr;var Ar,lx=class{constructor(e){var i;if(Ar.set(this,void 0),S(this,Ar,l.parseResponse(e.data),"f"),!f(this,Ar,"f").contents)throw new w("Page contents not found");let o=f(this,Ar,"f").contents.item().as(Tv).tabs.get({selected:!0});if(!o)throw new w("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(ge).contents.as(Ge)}get page(){return f(this,Ar,"f")}};r(lx,"TimeWatched");Ar=new WeakMap;var c1=lx;var wi,Vr=class extends Gv{constructor(e,i,o){var n,a,c,p,d,_,v,y,g,b,I,P,M,j,ne,B,te,pe,me,ve,ye,H,G,$,X,Se,Ke,Qe,z,Re,wt,Tt,he,Ue,yo,bo,wo,To,ko,Io,So,Co,Eo,No,Po;super(e,i,o),wi.set(this,void 0);let[re,Ze]=this.page;if(re.microformat&&!(!((n=re.microformat)===null||n===void 0)&&n.is(ot,sr)))throw new w("Invalid microformat",re.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},re.video_details),{embed:!((a=re.microformat)===null||a===void 0)&&a.is(ot)?(c=re.microformat)===null||c===void 0?void 0:c.embed:null,channel:!((p=re.microformat)===null||p===void 0)&&p.is(ot)?(d=re.microformat)===null||d===void 0?void 0:d.channel:null,is_unlisted:(_=re.microformat)===null||_===void 0?void 0:_.is_unlisted,is_family_safe:(v=re.microformat)===null||v===void 0?void 0:v.is_family_safe,category:!((y=re.microformat)===null||y===void 0)&&y.is(ot)?(g=re.microformat)===null||g===void 0?void 0:g.category:null,has_ypc_metadata:!((b=re.microformat)===null||b===void 0)&&b.is(ot)?(I=re.microformat)===null||I===void 0?void 0:I.has_ypc_metadata:null,start_timestamp:!((P=re.microformat)===null||P===void 0)&&P.is(ot)?re.microformat.start_timestamp:null,end_timestamp:!((M=re.microformat)===null||M===void 0)&&M.is(ot)?re.microformat.end_timestamp:null,view_count:((j=re.microformat)===null||j===void 0?void 0:j.is(ot))&&isNaN((ne=re.video_details)===null||ne===void 0?void 0:ne.view_count)?re.microformat.view_count:(B=re.video_details)===null||B===void 0?void 0:B.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=re.annotations,this.storyboards=re.storyboards,this.endscreen=re.endscreen,this.captions=re.captions,this.cards=re.cards,this.streaming_data){let fe=this.streaming_data.adaptive_formats.find(We=>{var kt;return(kt=We.audio_track)===null||kt===void 0?void 0:kt.audio_is_default});if(fe)this.streaming_data.formats.forEach(We=>We.language=fe.language);else if(((te=this.captions)===null||te===void 0?void 0:te.caption_tracks)&&((pe=this.captions)===null||pe===void 0?void 0:pe.caption_tracks.length)>0){let We=this.captions.caption_tracks.find(be=>be.kind==="asr"),kt=We==null?void 0:We.language_code;this.streaming_data.adaptive_formats.forEach(be=>{be.has_audio&&(be.language=kt)}),this.streaming_data.formats.forEach(be=>be.language=kt)}}let Ae=(me=Ze==null?void 0:Ze.contents)===null||me===void 0?void 0:me.item().as(Cv),Bt=Ae==null?void 0:Ae.results,Ci=Ae==null?void 0:Ae.secondary_results;if(Bt&&Ci){if(((ve=re.microformat)===null||ve===void 0?void 0:ve.is(ot))&&((ye=re.microformat)===null||ye===void 0?void 0:ye.category)==="Gaming"){let be=($=(G=(H=Bt.firstOfType(yf))===null||H===void 0?void 0:H.metadata)===null||G===void 0?void 0:G.rows)===null||$===void 0?void 0:$.firstOfType(cd);be!=null&&be.is(cd)&&(this.game_info={title:(Se=(X=be==null?void 0:be.contents)===null||X===void 0?void 0:X.firstOfType(ud))===null||Se===void 0?void 0:Se.title,release_year:(Qe=(Ke=be==null?void 0:be.contents)===null||Ke===void 0?void 0:Ke.firstOfType(ud))===null||Qe===void 0?void 0:Qe.subtitle})}this.primary_info=Bt.firstOfType(Nv),this.secondary_info=Bt.firstOfType(yf),this.merchandise=Bt.firstOfType(D_),this.related_chip_cloud=(z=Ci.firstOfType(hv))===null||z===void 0?void 0:z.content.as(Go),Ae!=null&&Ae.playlist&&(this.playlist=Ae.playlist),this.watch_next_feed=((Re=Ci.firstOfType(Ge))===null||Re===void 0?void 0:Re.contents)||Ci,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((wt=this.watch_next_feed.at(-1))===null||wt===void 0?void 0:wt.is(le))&&S(this,wi,(Tt=this.watch_next_feed.pop())===null||Tt===void 0?void 0:Tt.as(le),"f"),this.player_overlays=(he=Ze==null?void 0:Ze.player_overlays)===null||he===void 0?void 0:he.item().as(uv),Ae!=null&&Ae.autoplay&&(this.autoplay=Ae.autoplay);let fe=(yo=(Ue=this.primary_info)===null||Ue===void 0?void 0:Ue.menu)===null||yo===void 0?void 0:yo.top_level_buttons.firstOfType($i);((bo=fe==null?void 0:fe.like_button)===null||bo===void 0?void 0:bo.is(ke))&&((wo=fe==null?void 0:fe.dislike_button)===null||wo===void 0?void 0:wo.is(ke))&&(this.basic_info.like_count=(To=fe==null?void 0:fe.like_button)===null||To===void 0?void 0:To.like_count,this.basic_info.is_liked=(ko=fe==null?void 0:fe.like_button)===null||ko===void 0?void 0:ko.is_toggled,this.basic_info.is_disliked=(Io=fe==null?void 0:fe.dislike_button)===null||Io===void 0?void 0:Io.is_toggled);let We=(Co=(So=this.primary_info)===null||So===void 0?void 0:So.menu)===null||Co===void 0?void 0:Co.top_level_buttons.firstOfType(Ki);if(We&&(this.basic_info.like_count=We.like_count,We.like_button)){let be=We.like_button.like_status_entity.like_status;this.basic_info.is_liked=be==="LIKE",this.basic_info.is_disliked=be==="DISLIKE"}let kt=(Eo=Bt.get({target_id:"comments-entry-point"}))===null||Eo===void 0?void 0:Eo.as(Ge);this.comments_entry_point_header=(No=kt==null?void 0:kt.contents)===null||No===void 0?void 0:No.firstOfType(Bh),this.livechat=(Po=Ze==null?void 0:Ze.contents_memo)===null||Po===void 0?void 0:Po.getType(v_).first()}}selectFilter(e){var i,o,n,a;return k(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new w("Chip cloud not found, cannot apply filter");let c;if(typeof e=="string"){let _=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!_)throw new w("Invalid filter",{available_filters:this.filters});c=_}else if(e!=null&&e.is(Fe))c=e;else throw new w("Invalid cloud chip",e);if(c.is_selected)return this;let p=yield(n=c.endpoint)===null||n===void 0?void 0:n.call(this.actions,{parse:!0}),d=(a=p==null?void 0:p.on_response_received_endpoints)===null||a===void 0?void 0:a.get({target_id:"watch-next-feed"});return this.watch_next_feed=d==null?void 0:d.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return k(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,o,n,a;return k(this,void 0,void 0,function*(){if(!f(this,wi,"f"))throw new w("Watch next feed continuation not found");let c=yield(e=f(this,wi,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=c==null?void 0:c.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"AppendContinuationItemsAction"});if(!p)throw new w("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((n=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||n===void 0)&&n.is(le)?S(this,wi,(a=this.watch_next_feed.pop())===null||a===void 0?void 0:a.as(le),"f"):S(this,wi,void 0,"f"),this})}like(){var e,i,o,n,a;return k(this,void 0,void 0,function*(){let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Ki);if(c){let v=(o=c==null?void 0:c.like_button)===null||o===void 0?void 0:o.toggle_button;if(!v||!v.default_button||!c.like_button)throw new w("Like button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="LIKE")throw new w("This video is already liked",{video_id:this.basic_info.id});return yield new h(v.default_button.on_tap.payload.commands.find(I=>I.innertubeCommand)).call(this.actions)}let p=(a=(n=this.primary_info)===null||n===void 0?void 0:n.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType($i),d=p==null?void 0:p.like_button;if(!d)throw new w("Like button not found",{video_id:this.basic_info.id});if(!d.is(ke))throw new w("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new w("This video is already liked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}dislike(){var e,i,o,n,a;return k(this,void 0,void 0,function*(){let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Ki);if(c){let v=(o=c==null?void 0:c.dislike_button)===null||o===void 0?void 0:o.toggle_button;if(!v||!v.default_button||!c.dislike_button||!c.like_button)throw new w("Dislike button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="DISLIKE")throw new w("This video is already disliked",{video_id:this.basic_info.id});return yield new h(v.default_button.on_tap.payload.commands.find(I=>I.innertubeCommand)).call(this.actions)}let p=(a=(n=this.primary_info)===null||n===void 0?void 0:n.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType($i),d=p==null?void 0:p.dislike_button;if(!d)throw new w("Dislike button not found",{video_id:this.basic_info.id});if(!d.is(ke))throw new w("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new w("This video is already disliked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}removeRating(){var e,i,o,n,a,c,p;return k(this,void 0,void 0,function*(){let d,_=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(Ki);if(_){let I=(o=_==null?void 0:_.like_button)===null||o===void 0?void 0:o.toggle_button;if(!I||!I.default_button||!_.like_button)throw new w("Like button not found",{video_id:this.basic_info.id});let P=_.like_button.like_status_entity.like_status;if(P==="LIKE")d=(n=_==null?void 0:_.like_button)===null||n===void 0?void 0:n.toggle_button;else if(P==="DISLIKE")d=(a=_==null?void 0:_.dislike_button)===null||a===void 0?void 0:a.toggle_button;else throw new w("This video is not liked/disliked",{video_id:this.basic_info.id});if(!d||!d.toggled_button)throw new w("Like/Dislike button not found",{video_id:this.basic_info.id});return yield new h(d.toggled_button.on_tap.payload.commands.find(ne=>ne.innertubeCommand)).call(this.actions)}let v=(p=(c=this.primary_info)===null||c===void 0?void 0:c.menu)===null||p===void 0?void 0:p.top_level_buttons.firstOfType($i),y=v==null?void 0:v.like_button,g=v==null?void 0:v.dislike_button;if(!(y!=null&&y.is(ke))||!(g!=null&&g.is(ke)))throw new w("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(y!=null&&y.is_toggled?d=y:g!=null&&g.is_toggled&&(d=g),!d)throw new w("This video is not liked/disliked",{video_id:this.basic_info.id});return yield d.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new w("Live Chat is not available",{video_id:this.basic_info.id});return new ux(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(Np).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new Vr([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var n;return(n=o.text)===null||n===void 0?void 0:n.toString()}))||[]}get wn_has_continuation(){return!!f(this,wi,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(Np))}get music_tracks(){var e,i,o,n,a,c;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(d=>{var _;return(_=d.content)===null||_===void 0?void 0:_.is(Di)});if(p!==void 0&&p.length>0){let d=(a=(n=(o=p[0].content)===null||o===void 0?void 0:o.as(Di))===null||n===void 0?void 0:n.items)===null||a===void 0?void 0:a.filterType(Yo);if(d!==void 0&&d.length>0)return(c=d[0].carousel_lockups)===null||c===void 0?void 0:c.map(_=>{var v,y,g,b,I,P,M,j,ne,B,te,pe,me,ve,ye,H,G,$,X;let Se,Ke,Qe,z,Re,wt;Se=(y=(v=_.video_lockup)===null||v===void 0?void 0:v.title)===null||y===void 0?void 0:y.toString(),Re=(g=_.video_lockup)===null||g===void 0?void 0:g.endpoint.payload.videoId;for(let Tt=0;Tt<_.info_rows.length;Tt++){let he=_.info_rows[Tt];if(he.info_row_expand_status_key===void 0)if(Se===void 0){if(Se=((b=he.default_metadata)===null||b===void 0?void 0:b.toString())||((I=he.expanded_metadata)===null||I===void 0?void 0:I.toString()),Re===void 0){let Ue=((P=he.default_metadata)===null||P===void 0?void 0:P.endpoint)||((M=he.expanded_metadata)===null||M===void 0?void 0:M.endpoint);Re=(j=Ue==null?void 0:Ue.payload)===null||j===void 0?void 0:j.videoId}}else Qe=((ne=he.default_metadata)===null||ne===void 0?void 0:ne.toString())||((B=he.expanded_metadata)===null||B===void 0?void 0:B.toString());else{if(((te=he.info_row_expand_status_key)===null||te===void 0?void 0:te.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(Ke=((pe=he.default_metadata)===null||pe===void 0?void 0:pe.toString())||((me=he.expanded_metadata)===null||me===void 0?void 0:me.toString()),wt===void 0)){let Ue=((ve=he.default_metadata)===null||ve===void 0?void 0:ve.endpoint)||((ye=he.expanded_metadata)===null||ye===void 0?void 0:ye.endpoint);wt=(H=Ue==null?void 0:Ue.payload)===null||H===void 0?void 0:H.browseId}((G=he.info_row_expand_status_key)===null||G===void 0?void 0:G.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(z=(($=he.default_metadata)===null||$===void 0?void 0:$.toString())||((X=he.expanded_metadata)===null||X===void 0?void 0:X.toString()))}}return{song:Se,artist:Ke,album:Qe,license:z,videoId:Re,channelId:wt}})}return[]}};r(Vr,"VideoInfo");wi=new WeakMap;var qf=Vr;var Xf,Qf,Mr=class{constructor(e,i){Xf.set(this,void 0),Qf.set(this,void 0),S(this,Xf,l.parseResponse(i.data),"f"),S(this,Qf,e,"f"),this.transcript=f(this,Xf,"f").actions_memo.getType(Ao).first()}selectLanguage(e){var i,o,n,a;return k(this,void 0,void 0,function*(){let c=(a=(n=(o=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||o===void 0?void 0:o.language_menu)===null||n===void 0?void 0:n.sub_menu_items)===null||a===void 0?void 0:a.find(d=>d.title.toString()===e);if(!c)throw new Error(`Language not found: ${e}`);if(c.selected)return this;let p=yield f(this,Qf,"f").execute("/get_transcript",{params:c.continuation});return new Mr(f(this,Qf,"f"),p)})}get languages(){var e,i,o,n;return((n=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||n===void 0?void 0:n.map(a=>a.title.toString()))||[]}get selectedLanguage(){var e,i,o,n,a;return((a=(n=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||n===void 0?void 0:n.find(c=>c.selected))===null||a===void 0?void 0:a.title.toString())||""}get page(){return f(this,Xf,"f")}};r(Mr,"TranscriptInfo");Xf=new WeakMap,Qf=new WeakMap;var Hv=Mr;var A=class{constructor(e,i,o,n){var a,c,p,d,_,v,y,g,b,I,P,M,j,ne,B,te,pe,me,ve,ye,H,G,$,X,Se,Ke,Qe;let z=new u(e);this.id=n||((d=(p=(c=(a=z==null?void 0:z.runs)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId)||((v=(_=z==null?void 0:z.endpoint)===null||_===void 0?void 0:_.payload)===null||v===void 0?void 0:v.browseId)||"N/A",this.name=(z==null?void 0:z.text)||"N/A",this.thumbnails=o?x.fromResponse(o):[],this.endpoint=((g=(y=z==null?void 0:z.runs)===null||y===void 0?void 0:y[0])===null||g===void 0?void 0:g.endpoint)||(z==null?void 0:z.endpoint),this.badges=Array.isArray(i)?l.parseArray(i):ie([]),this.is_moderator=(b=this.badges)===null||b===void 0?void 0:b.some(Re=>Re.icon_type=="MODERATOR"),this.is_verified=(I=this.badges)===null||I===void 0?void 0:I.some(Re=>Re.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(P=this.badges)===null||P===void 0?void 0:P.some(Re=>Re.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"),this.url=((B=(ne=(j=(M=z==null?void 0:z.runs)===null||M===void 0?void 0:M[0])===null||j===void 0?void 0:j.endpoint)===null||ne===void 0?void 0:ne.metadata)===null||B===void 0?void 0:B.api_url)==="/browse"&&`${tt.YT_BASE}${((ve=(me=(pe=(te=z==null?void 0:z.runs)===null||te===void 0?void 0:te[0])===null||pe===void 0?void 0:pe.endpoint)===null||me===void 0?void 0:me.payload)===null||ve===void 0?void 0:ve.canonicalBaseUrl)||`/u/${($=(G=(H=(ye=z==null?void 0:z.runs)===null||ye===void 0?void 0:ye[0])===null||H===void 0?void 0:H.endpoint)===null||G===void 0?void 0:G.payload)===null||$===void 0?void 0:$.browseId}`}`||`${tt.YT_BASE}${((Se=(X=z==null?void 0:z.endpoint)===null||X===void 0?void 0:X.payload)===null||Se===void 0?void 0:Se.canonicalBaseUrl)||`/u/${(Qe=(Ke=z==null?void 0:z.endpoint)===null||Ke===void 0?void 0:Ke.payload)===null||Qe===void 0?void 0:Qe.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};r(A,"Author");var p1={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var cx,px,NI="Utils",F=class{static load(e){S(F,cx,e,"f",px)}static get shim(){if(!f(F,cx,"f",px))throw new Error("Platform is not loaded");return f(F,cx,"f",px)}};r(F,"Platform");cx=F;px={value:void 0};var w=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=F.shim.info.version}};r(w,"InnertubeError");var et=class extends w{};r(et,"ParsingError");var Zf=class extends w{};r(Zf,"MissingParamError");var dx=class extends w{};r(dx,"OAuthError");var yt=class extends Error{};r(yt,"PlayerError");var Br=class extends Error{};r(Br,"SessionError");var Ir=class extends Error{};r(Ir,"ChannelError");function fm(t,e){return Reflect.ownKeys(t).some(o=>{let n=e[o]instanceof u;return!n&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(n?e[o].toString():e[o])})}r(fm,"deepCompare");function Be(t,e,i){let o=new RegExp(`${Tg(e)}(.*?)${Tg(i)}`,"s"),n=t.match(o);return n?n[1]:void 0}r(Be,"getStringBetweenStrings");function Tg(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}r(Tg,"escapeStringRegexp");function ji(t){let e=p1[t],i=Math.floor(Math.random()*e.length);return e[i]}r(ji,"getRandomUserAgent");function PI(t){return k(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),n=yield F.shim.sha1Hash(o);return["SAPISIDHASH",[i,n].join("_")].join(" ")})}r(PI,"generateSidAuth");function mo(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}r(mo,"generateRandomString");function Ce(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}r(Ce,"timeToSeconds");function vg(...t){let e=new qt;for(let i of t)if(!!i)for(let o of i){let n=e.get(o[0]);if(n){e.set(o[0],[...n,...o[1]]);continue}e.set(...o)}return e}r(vg,"concatMemos");function em(t){for(let[e,i]of Object.entries(t))if(!i)throw new Zf(`${e} is missing`)}r(em,"throwIfMissing");function RI(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}r(RI,"hasKeys");function jx(t){return r0(this,arguments,r(function*(){let i=t.getReader();try{for(;;){let{done:o,value:n}=yield Ei(i.read());if(o)return yield Ei(void 0);yield yield Ei(n)}}finally{i.releaseLock()}},"streamToIterable_1"))}r(jx,"streamToIterable");var AI=r((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,n=[...o],a=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",c=n.length>0?`${n.map(([p,d])=>`    ${p}: ${d}`).join(`
`)}`:"    (none)";return U.warn(NI,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${c}
' + 
    '  body:
${a}`),F.shim.fetch(t,e)},"debugFetch");function qe(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}r(qe,"u8ToBase64");function og(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}r(og,"base64ToU8");function je(t){return!("emoji"in t)}r(je,"isTextRun");function kg(t){return k(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let n=new Uint8Array(o),a=[];for(let c=0;c<n.length;++c)a.push(e[n[c]]);return a.join("")}return r(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}r(kg,"sha1Hash");var fx={name:"youtubei.js",version:"9.0.2",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod","build:parser-map":"node ./scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^1.1.0",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var im={};we(im,{ArrayExpression:()=>Dr,ArrowFunctionExpression:()=>Lr,AssignmentExpression:()=>Or,BinaryExpression:()=>Fr,BlockStatement:()=>jr,BreakStatement:()=>Yr,CallExpression:()=>Ur,ConditionalExpression:()=>Jr,ContinueStatement:()=>Gr,ExpressionStatement:()=>Hr,ForOfStatement:()=>zr,ForStatement:()=>$r,FunctionDeclaration:()=>Kr,FunctionExpression:()=>qr,Identifier:()=>Xr,IfStatement:()=>Qr,Literal:()=>Zr,LogicalExpression:()=>en,MemberExpression:()=>tn,NewExpression:()=>on,ObjectExpression:()=>rn,Property:()=>nn,ReturnStatement:()=>sn,SequenceExpression:()=>an,SwitchCase:()=>un,SwitchStatement:()=>ln,ThisExpression:()=>cn,ThrowStatement:()=>pn,TryStatement:()=>dn,UnaryExpression:()=>fn,UpdateExpression:()=>mn,VariableDeclaration:()=>hn,WhileStatement:()=>_n});var R=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};r(R,"BaseJSNode");var Dr=class extends R{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};r(Dr,"ArrayExpression");var Ig={};we(Ig,{namedFunction:()=>ho});var ho=r((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction");var Lr=class extends R{run(){let{params:e,body:i}=this.node;return ho("anonymous function",n=>{let a=0;for(let c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,n[a]):console.warn("Unhandled param type",c.type),a++;return this.visitor.visitNode(i)})}};r(Lr,"ArrowFunctionExpression");var Or=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),n=this.visitor.visitNode(this.node.left.property);return o[n]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};r(Or,"AssignmentExpression");var Fr=class extends R{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};r(Fr,"BinaryExpression");var jr=class extends R{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};r(jr,"BlockStatement");var Yr=class extends R{run(){return"break"}};r(Yr,"BreakStatement");var d1=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},mx,Sg,Ur=class extends R{constructor(){super(...arguments),mx.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let a=this.visitor.listeners[e](this.node,this.visitor);if(a!=="proceed")return a}if(i&&i!=="toString"&&this.visitor.listeners[i]){let a=this.visitor.listeners[i](this.node,this.visitor);if(a!=="proceed")return a}if(this.node.callee.type==="MemberExpression"){if(Wr.has(this.node,this.visitor))return Wr.execute(this.node,this.visitor);let a=this.visitor.visitNode(this.node.callee.object),c=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(d=>this.visitor.visitNode(d));return typeof a[c]!="function"&&d1(this,mx,"m",Sg).call(this),a[c].toString().includes("[native code]")?a[c](...p):a[c](p)}let o=this.visitor.visitNode(this.node.callee),n=this.node.arguments.map(a=>this.visitor.visitNode(a));return typeof o!="function"&&d1(this,mx,"m",Sg).call(this),o(n)}};r(Ur,"CallExpression");mx=new WeakSet,Sg=r(function(){if(this.node.callee.type==="MemberExpression")throw new Error(`${this.node.callee.object.type==="Identifier"?this.node.callee.object.name:"<object>"}.${this.node.callee.property.type==="Identifier"?this.node.callee.property.name:"?"} is not a function`);if(this.node.callee.type==="Identifier")throw new Error(`${this.node.callee.name} is not a function`);if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var Wr=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};r(Wr,"Builtins");Wr.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let n=0;for(let a of o)i[0]([a,n++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var Jr=class extends R{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};r(Jr,"ConditionalExpression");var Gr=class extends R{run(){return"continue"}};r(Gr,"ContinueStatement");var Hr=class extends R{run(){return this.visitor.visitNode(this.node.expression)}};r(Hr,"ExpressionStatement");var zr=class extends R{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let n of this.node.left.declarations[0].id.properties)n.type==="Property"&&n.value.type==="Identifier"&&n.key.type==="Identifier"&&this.visitor.scope.set(n.value.name,i[n.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};r(zr,"ForOfStatement");var $r=class extends R{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=r(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};r($r,"ForStatement");var Kr=class extends R{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),n=ho(o,a=>{let c=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,a[c]):console.warn("Unhandled param type",p.type),c++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,n)}};r(Kr,"FunctionDeclaration");var qr=class extends R{run(){let{params:e,body:i}=this.node;return ho("anonymous function",n=>{let a=0;for(let c of e)this.visitor.visitNode(c),c.type==="Identifier"?this.visitor.scope.set(c.name,n[a]):console.warn("Unhandled param type",c.type),a++;return this.visitor.visitNode(i)})}};r(qr,"FunctionExpression");var Xr=class extends R{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="proceed")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};r(Xr,"Identifier");var Qr=class extends R{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};r(Qr,"IfStatement");var Zr=class extends R{run(){return this.node.value}};r(Zr,"Literal");var en=class extends R{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};r(en,"LogicalExpression");var tn=class extends R{run(){let{object:e,property:i,computed:o}=this.node,n=this.visitor.visitNode(e),a=o?this.visitor.visitNode(i):this.visitor.getName(i);if(a!==void 0||a!==null){if(this.visitor.listeners[a]){let c=this.visitor.listeners[a](this.node,this.visitor);if(c!=="proceed")return c}return n==null?void 0:n[a]}}};r(tn,"MemberExpression");var on=class extends R{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return new e(i)}};r(on,"NewExpression");var rn=class extends R{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};r(rn,"ObjectExpression");var Cg=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},tm,f1,m1,h1,nn=class extends R{constructor(){super(...arguments),tm.add(this)}run(){switch(this.node.kind){case"init":return Cg(this,tm,"m",f1).call(this);case"get":return Cg(this,tm,"m",m1).call(this);case"set":return Cg(this,tm,"m",h1).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};r(nn,"Property");tm=new WeakSet,f1=r(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),m1=r(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),h1=r(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var sn=class extends R{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};r(sn,"ReturnStatement");var an=class extends R{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};r(an,"SequenceExpression");var un=class extends R{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};r(un,"SwitchCase");var ln=class extends R{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,n=0;for(;;){let a=this.node.cases[n];if(i){let c=this.visitor.visitNode(a);if(c==="break")break;if(c==="continue")return c;if(++n,n>=this.node.cases.length){n=0;break}else continue}if(i=a&&e===this.visitor.visitNode(a.test),i===void 0&&n>this.node.cases.length)break;if(a&&!i&&!a.test){o=n,n+=1;continue}if(!a&&!i&&o!==-1){i=!0,n=o;continue}i||++n}}};r(ln,"SwitchStatement");var cn=class extends R{run(){return this.visitor.scope.get("_this")}};r(cn,"ThisExpression");var pn=class extends R{run(){throw this.visitor.visitNode(this.node.argument)}};r(pn,"ThrowStatement");var dn=class extends R{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};r(dn,"TryStatement");var fn=class extends R{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};r(fn,"UnaryExpression");var mn=class extends R{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};r(mn,"UpdateExpression");var hn=class extends R{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,n=this.visitor.getName(i),a=o?this.visitor.visitNode(o):void 0;n&&this.visitor.scope.set(n,a),typeof a=="object"&&a!==null&&this.visitor.scope.set("_this",a)})}};r(hn,"VariableDeclaration");var _n=class extends R{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};r(_n,"WhileStatement");var MI=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Eg,_1,vn=class{constructor(e){Eg.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=MI(this,Eg,"m",_1).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};r(vn,"Visitor");Eg=new WeakSet,_1=r(function(e){let i=im[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var BI=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],b1=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],DI="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",w1="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Ng={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Pg="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",LI={5:Pg,"5module":Pg+" export import",6:Pg+" const class extends export import super"},OI=/^in(stanceof)?$/,FI=new RegExp("["+w1+"]"),jI=new RegExp("["+w1+DI+"]");function Ag(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}return!1}r(Ag,"isInAstralSet");function Gt(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&FI.test(String.fromCharCode(t)):e===!1?!1:Ag(t,b1)}r(Gt,"isIdentifierStart");function xn(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&jI.test(String.fromCharCode(t)):e===!1?!1:Ag(t,b1)||Ag(t,BI)}r(xn,"isIdentifierChar");var oe=r(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function nt(t,e){return new oe(t,{beforeExpr:!0,binop:e})}r(nt,"binop");var st={beforeExpr:!0},$e={startsExpr:!0},Bg={};function q(t,e){return e===void 0&&(e={}),e.keyword=t,Bg[t]=new oe(t,e)}r(q,"kw");var m={num:new oe("num",$e),regexp:new oe("regexp",$e),string:new oe("string",$e),name:new oe("name",$e),privateId:new oe("privateId",$e),eof:new oe("eof"),bracketL:new oe("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new oe("]"),braceL:new oe("{",{beforeExpr:!0,startsExpr:!0}),braceR:new oe("}"),parenL:new oe("(",{beforeExpr:!0,startsExpr:!0}),parenR:new oe(")"),comma:new oe(",",st),semi:new oe(";",st),colon:new oe(":",st),dot:new oe("."),question:new oe("?",st),questionDot:new oe("?."),arrow:new oe("=>",st),template:new oe("template"),invalidTemplate:new oe("invalidTemplate"),ellipsis:new oe("...",st),backQuote:new oe("`",$e),dollarBraceL:new oe("${",{beforeExpr:!0,startsExpr:!0}),eq:new oe("=",{beforeExpr:!0,isAssign:!0}),assign:new oe("_=",{beforeExpr:!0,isAssign:!0}),incDec:new oe("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new oe("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:nt("||",1),logicalAND:nt("&&",2),bitwiseOR:nt("|",3),bitwiseXOR:nt("^",4),bitwiseAND:nt("&",5),equality:nt("==/!=/===/!==",6),relational:nt("</>/<=/>=",7),bitShift:nt("<</>>/>>>",8),plusMin:new oe("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:nt("%",10),star:nt("*",10),slash:nt("/",10),starstar:new oe("**",{beforeExpr:!0}),coalesce:nt("??",1),_break:q("break"),_case:q("case",st),_catch:q("catch"),_continue:q("continue"),_debugger:q("debugger"),_default:q("default",st),_do:q("do",{isLoop:!0,beforeExpr:!0}),_else:q("else",st),_finally:q("finally"),_for:q("for",{isLoop:!0}),_function:q("function",$e),_if:q("if"),_return:q("return",st),_switch:q("switch"),_throw:q("throw",st),_try:q("try"),_var:q("var"),_const:q("const"),_while:q("while",{isLoop:!0}),_with:q("with"),_new:q("new",{beforeExpr:!0,startsExpr:!0}),_this:q("this",$e),_super:q("super",$e),_class:q("class",$e),_extends:q("extends",st),_export:q("export"),_import:q("import",$e),_null:q("null",$e),_true:q("true",$e),_false:q("false",$e),_in:q("in",{beforeExpr:!0,binop:7}),_instanceof:q("instanceof",{beforeExpr:!0,binop:7}),_typeof:q("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:q("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:q("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lt=/\r\n?|\n|\u2028|\u2029/,YI=new RegExp(lt.source,"g");function gn(t){return t===10||t===13||t===8232||t===8233}r(gn,"isNewLine");function T1(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var n=t.charCodeAt(o);if(gn(n))return o<i-1&&n===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}r(T1,"nextLineBreak");var k1=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,at=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,I1=Object.prototype,UI=I1.hasOwnProperty,WI=I1.toString,sm=Object.hasOwn||function(t,e){return UI.call(t,e)},v1=Array.isArray||function(t){return WI.call(t)==="[object Array]"};function Ti(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}r(Ti,"wordsRegexp");function ki(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}r(ki,"codePointToString");var JI=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,rm=r(function(e,i){this.line=e,this.column=i},"Position");rm.prototype.offset=r(function(e){return new rm(this.line,this.column+e)},"offset");var gx=r(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function S1(t,e){for(var i=1,o=0;;){var n=T1(t,o,e);if(n<0)return new rm(i,e-o);++i,o=n}}r(S1,"getLineInfo");var Vg={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},x1=!1;function GI(t){var e={};for(var i in Vg)e[i]=t&&sm(t,i)?t[i]:Vg[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!x1&&typeof console=="object"&&console.warn&&(x1=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),v1(e.onToken)){var o=e.onToken;e.onToken=function(n){return o.push(n)}}return v1(e.onComment)&&(e.onComment=HI(e,e.onComment)),e}r(GI,"getOptions");function HI(t,e){return function(i,o,n,a,c,p){var d={type:i?"Block":"Line",value:o,start:n,end:a};t.locations&&(d.loc=new gx(this,c,p)),t.ranges&&(d.range=[n,a]),e.push(d)}}r(HI,"pushComment");var nm=1,yn=2,Dg=4,C1=8,E1=16,N1=32,Lg=64,P1=128,am=256,Og=nm|yn|am;function Fg(t,e){return yn|(t?Dg:0)|(e?C1:0)}r(Fg,"functionFlags");var _x=0,jg=1,zt=2,R1=3,A1=4,V1=5,Ie=r(function(e,i,o){this.options=e=GI(e),this.sourceFile=e.sourceFile,this.keywords=Ti(LI[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var n="";e.allowReserved!==!0&&(n=Ng[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(n+=" await")),this.reservedWords=Ti(n);var a=(n?n+" ":"")+Ng.strict;this.reservedWordsStrict=Ti(a),this.reservedWordsStrictBind=Ti(a+" "+Ng.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(lt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(nm),this.regexpState=null,this.privateNameStack=[]},"Parser"),Vt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Ie.prototype.parse=r(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");Vt.inFunction.get=function(){return(this.currentVarScope().flags&yn)>0};Vt.inGenerator.get=function(){return(this.currentVarScope().flags&C1)>0&&!this.currentVarScope().inClassFieldInit};Vt.inAsync.get=function(){return(this.currentVarScope().flags&Dg)>0&&!this.currentVarScope().inClassFieldInit};Vt.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&am)return!1;if(e.flags&yn)return(e.flags&Dg)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Vt.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&Lg)>0||i||this.options.allowSuperOutsideMethod};Vt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&P1)>0};Vt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Vt.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(yn|am))>0||i};Vt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&am)>0};Ie.extend=r(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,n=0;n<e.length;n++)o=e[n](o);return o},"extend");Ie.parse=r(function(e,i){return new this(i,e).parse()},"parse");Ie.parseExpressionAt=r(function(e,i,o){var n=new this(o,e,i);return n.nextToken(),n.parseExpression()},"parseExpressionAt");Ie.tokenizer=r(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Ie.prototype,Vt);var Ye=Ie.prototype,zI=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;Ye.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){at.lastIndex=t,t+=at.exec(this.input)[0].length;var e=zI.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){at.lastIndex=t+e[0].length;var i=at.exec(this.input),o=i.index+i[0].length,n=this.input.charAt(o);return n===";"||n==="}"||lt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||n==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,at.lastIndex=t,t+=at.exec(this.input)[0].length,this.input[t]===";"&&t++}};Ye.eat=function(t){return this.type===t?(this.next(),!0):!1};Ye.isContextual=function(t){return this.type===m.name&&this.value===t&&!this.containsEsc};Ye.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Ye.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Ye.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||lt.test(this.input.slice(this.lastTokEnd,this.start))};Ye.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Ye.semicolon=function(){!this.eat(m.semi)&&!this.insertSemicolon()&&this.unexpected()};Ye.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Ye.expect=function(t){this.eat(t)||this.unexpected()};Ye.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var yx=r(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Ye.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};Ye.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};Ye.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Ye.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var D=Ie.prototype;D.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==m.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,n=Object.keys(this.undefinedExports);o<n.length;o+=1){var a=n[o];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var Yg={kind:"loop"},$I={kind:"switch"};D.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;at.lastIndex=this.pos;var e=at.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if(Gt(o,!0)){for(var n=i+1;xn(o=this.input.charCodeAt(n),!0);)++n;if(o===92||o>55295&&o<56320)return!0;var a=this.input.slice(i,n);if(!OI.test(a))return!0}return!1};D.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;at.lastIndex=this.pos;var t=at.exec(this.input),e=this.pos+t[0].length,i;return!lt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(xn(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};D.parseStatement=function(t,e,i){var o=this.type,n=this.startNode(),a;switch(this.isLet(t)&&(o=m._var,a="let"),o){case m._break:case m._continue:return this.parseBreakContinueStatement(n,o.keyword);case m._debugger:return this.parseDebuggerStatement(n);case m._do:return this.parseDoStatement(n);case m._for:return this.parseForStatement(n);case m._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(n,!1,!t);case m._class:return t&&this.unexpected(),this.parseClass(n,!0);case m._if:return this.parseIfStatement(n);case m._return:return this.parseReturnStatement(n);case m._switch:return this.parseSwitchStatement(n);case m._throw:return this.parseThrowStatement(n);case m._try:return this.parseTryStatement(n);case m._const:case m._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(n,a);case m._while:return this.parseWhileStatement(n);case m._with:return this.parseWithStatement(n);case m.braceL:return this.parseBlock(!0,n);case m.semi:return this.parseEmptyStatement(n);case m._export:case m._import:if(this.options.ecmaVersion>10&&o===m._import){at.lastIndex=this.pos;var c=at.exec(this.input),p=this.pos+c[0].length,d=this.input.charCodeAt(p);if(d===40||d===46)return this.parseExpressionStatement(n,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===m._import?this.parseImport(n):this.parseExport(n,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(n,!0,!t);var _=this.value,v=this.parseExpression();return o===m.name&&v.type==="Identifier"&&this.eat(m.colon)?this.parseLabeledStatement(n,_,v,t):this.parseExpressionStatement(n,v)}};D.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(m.semi)||this.insertSemicolon()?t.label=null:this.type!==m.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var n=this.labels[o];if((t.label==null||n.name===t.label.name)&&(n.kind!=null&&(i||n.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};D.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};D.parseDoStatement=function(t){return this.next(),this.labels.push(Yg),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(m.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};D.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Yg),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===m._var||this.type===m._const||i){var o=this.startNode(),n=i?"let":this.value;return this.next(),this.parseVar(o,!0,n),this.finishNode(o,"VariableDeclaration"),(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var a=this.isContextual("let"),c=!1,p=new yx,d=this.parseExpression(e>-1?"await":!0,p);return this.type===m._in||(c=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),a&&c&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,p),this.checkLValPattern(d),this.parseForIn(t,d)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,d))};D.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,om|(i?0:Mg),!1,e)};D.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};D.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};D.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(m.braceL),this.labels.push($I),this.enterScope(0);for(var e,i=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var o=this.type===m._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(m.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};D.parseThrowStatement=function(t){return this.next(),lt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var KI=[];D.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?N1:0),this.checkLValPattern(t,e?A1:zt),this.expect(m.parenR),t};D.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===m._catch){var e=this.startNode();this.next(),this.eat(m.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(m._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};D.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};D.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(Yg),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};D.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};D.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};D.parseLabeledStatement=function(t,e,i,o){for(var n=0,a=this.labels;n<a.length;n+=1){var c=a[n];c.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===m._switch?"switch":null,d=this.labels.length-1;d>=0;d--){var _=this.labels[d];if(_.statementStart===t.start)_.statementStart=this.start,_.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};D.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};D.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(m.braceL),t&&this.enterScope(0);this.type!==m.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};D.parseFor=function(t,e){return t.init=e,this.expect(m.semi),t.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),t.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};D.parseForIn=function(t,e){var i=this.type===m._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};D.parseVar=function(t,e,i,o){for(t.declarations=[],t.kind=i;;){var n=this.startNode();if(this.parseVarId(n,i),this.eat(m.eq)?n.init=this.parseMaybeAssign(e):!o&&i==="const"&&!(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&n.id.type!=="Identifier"&&!(e&&(this.type===m._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):n.init=null,t.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(m.comma))break}return t};D.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?jg:zt,!1)};var om=1,Mg=2,M1=4;D.parseFunction=function(t,e,i,o,n){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===m.star&&e&Mg&&this.unexpected(),t.generator=this.eat(m.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&om&&(t.id=e&M1&&this.type!==m.name?null:this.parseIdent(),t.id&&!(e&Mg)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?jg:zt:R1));var a=this.yieldPos,c=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Fg(t.async,t.generator)),e&om||(t.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,n),this.yieldPos=a,this.awaitPos=c,this.awaitIdentPos=p,this.finishNode(t,e&om?"FunctionDeclaration":"FunctionExpression")};D.parseFunctionParams=function(t){this.expect(m.parenL),t.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};D.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),n=this.startNode(),a=!1;for(n.body=[],this.expect(m.braceL);this.type!==m.braceR;){var c=this.parseClassElement(t.superClass!==null);c&&(n.body.push(c),c.type==="MethodDefinition"&&c.kind==="constructor"?(a&&this.raiseRecoverable(c.start,"Duplicate constructor in the same class"),a=!0):c.key&&c.key.type==="PrivateIdentifier"&&qI(o,c)&&this.raiseRecoverable(c.key.start,"Identifier '#"+c.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(n,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};D.parseClassElement=function(t){if(this.eat(m.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",n=!1,a=!1,c="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(m.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===m.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===m.star)&&!this.canInsertSemicolon()?a=!0:o="async"),!o&&(e>=9||!a)&&this.eat(m.star)&&(n=!0),!o&&!a&&!n){var d=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=d:o=d)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===m.parenL||c!=="method"||n||a){var _=!i.static&&vx(i,"constructor"),v=_&&t;_&&c!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=_?"constructor":c,this.parseClassMethod(i,n,a,v)}else this.parseClassField(i);return i};D.isClassElementNameStart=function(){return this.type===m.name||this.type===m.privateId||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword};D.parseClassElementName=function(t){this.type===m.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};D.parseClassMethod=function(t,e,i,o){var n=t.key;t.kind==="constructor"?(e&&this.raise(n.start,"Constructor can't be a generator"),i&&this.raise(n.start,"Constructor can't be an async method")):t.static&&vx(t,"prototype")&&this.raise(n.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};D.parseClassField=function(t){if(vx(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&vx(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(m.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};D.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(am|Lg);this.type!==m.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};D.parseClassId=function(t,e){this.type===m.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,zt,!1)):(e===!0&&this.unexpected(),t.id=null)};D.parseClassSuper=function(t){t.superClass=this.eat(m._extends)?this.parseExprSubscripts(null,!1):null};D.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};D.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var o=this.privateNameStack.length,n=o===0?null:this.privateNameStack[o-1],a=0;a<i.length;++a){var c=i[a];sm(e,c.name)||(n?n.used.push(c):this.raiseRecoverable(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"))}};function qI(t,e){var i=e.key.name,o=t[i],n="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(n=(e.static?"s":"i")+e.kind),o==="iget"&&n==="iset"||o==="iset"&&n==="iget"||o==="sget"&&n==="sset"||o==="sset"&&n==="sget"?(t[i]="true",!1):o?!0:(t[i]=n,!1)}r(qI,"isPrivateNameConflicted");function vx(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}r(vx,"checkKeyName");D.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};D.parseExport=function(t,e){if(this.next(),this.eat(m.star))return this.parseExportAllDeclaration(t,e);if(this.eat(m._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var n=o[i];this.checkUnreserved(n.local),this.checkLocalExport(n.local),n.local.type==="Literal"&&this.raise(n.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};D.parseExportDeclaration=function(t){return this.parseStatement(null)};D.parseExportDefaultDeclaration=function(){var t;if(this.type===m._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,om|M1,!1,t)}else if(this.type===m._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};D.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),sm(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};D.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,n=e.properties;o<n.length;o+=1){var a=n[o];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var c=0,p=e.elements;c<p.length;c+=1){var d=p[c];d&&this.checkPatternExport(t,d)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};D.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var n=o[i];this.checkPatternExport(t,n.id)}};D.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};D.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};D.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(i)i=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;e.push(this.parseExportSpecifier(t))}return e};D.parseImport=function(t){return this.next(),this.type===m.string?(t.specifiers=KI,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};D.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,zt),this.finishNode(t,"ImportSpecifier")};D.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,zt),this.finishNode(t,"ImportDefaultSpecifier")};D.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,zt),this.finishNode(t,"ImportNamespaceSpecifier")};D.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===m.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(m.comma)))return t;if(this.type===m.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(m.braceL);!this.eat(m.braceR);){if(e)e=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;t.push(this.parseImportSpecifier())}return t};D.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===m.string){var t=this.parseLiteral(this.value);return JI.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};D.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};D.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var ct=Ie.prototype;ct.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,n=t.properties;o<n.length;o+=1){var a=n[o];this.toAssignable(a,e),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};ct.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var n=t[o];n&&this.toAssignable(n,e)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&e&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};ct.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};ct.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==m.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};ct.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case m.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()};ct.parseBindingList=function(t,e,i,o){for(var n=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(m.comma),e&&this.type===m.comma)n.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===m.ellipsis){var c=this.parseRestBinding();this.parseBindingListItem(c),n.push(c),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else n.push(this.parseAssignableListItem(o))}return n};ct.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};ct.parseBindingListItem=function(t){return t};ct.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};ct.checkLValSimple=function(t,e,i){e===void 0&&(e=_x);var o=e!==_x;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===zt&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(sm(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==V1&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};ct.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=_x),t.type){case"ObjectPattern":for(var o=0,n=t.properties;o<n.length;o+=1){var a=n[o];this.checkLValInnerPattern(a,e,i)}break;case"ArrayPattern":for(var c=0,p=t.elements;c<p.length;c+=1){var d=p[c];d&&this.checkLValInnerPattern(d,e,i)}break;default:this.checkLValSimple(t,e,i)}};ct.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=_x),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var bt=r(function(e,i,o,n,a){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=n,this.generator=!!a},"TokContext"),de={b_stat:new bt("{",!1),b_expr:new bt("{",!0),b_tmpl:new bt("${",!1),p_stat:new bt("(",!1),p_expr:new bt("(",!0),q_tmpl:new bt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new bt("function",!1),f_expr:new bt("function",!0),f_expr_gen:new bt("function",!0,!1,null,!0),f_gen:new bt("function",!1,!1,null,!0)},bn=Ie.prototype;bn.initialContext=function(){return[de.b_stat]};bn.curContext=function(){return this.context[this.context.length-1]};bn.braceIsBlock=function(t){var e=this.curContext();return e===de.f_expr||e===de.f_stat?!0:t===m.colon&&(e===de.b_stat||e===de.b_expr)?!e.isExpr:t===m._return||t===m.name&&this.exprAllowed?lt.test(this.input.slice(this.lastTokEnd,this.start)):t===m._else||t===m.semi||t===m.eof||t===m.parenR||t===m.arrow?!0:t===m.braceL?e===de.b_stat:t===m._var||t===m._const||t===m.name?!1:!this.exprAllowed};bn.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};bn.updateContext=function(t){var e,i=this.type;i.keyword&&t===m.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};bn.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};m.parenR.updateContext=m.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===de.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};m.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?de.b_stat:de.b_expr),this.exprAllowed=!0};m.dollarBraceL.updateContext=function(){this.context.push(de.b_tmpl),this.exprAllowed=!0};m.parenL.updateContext=function(t){var e=t===m._if||t===m._for||t===m._with||t===m._while;this.context.push(e?de.p_stat:de.p_expr),this.exprAllowed=!0};m.incDec.updateContext=function(){};m._function.updateContext=m._class.updateContext=function(t){t.beforeExpr&&t!==m._else&&!(t===m.semi&&this.curContext()!==de.p_stat)&&!(t===m._return&&lt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===m.colon||t===m.braceL)&&this.curContext()===de.b_stat)?this.context.push(de.f_expr):this.context.push(de.f_stat),this.exprAllowed=!1};m.backQuote.updateContext=function(){this.curContext()===de.q_tmpl?this.context.pop():this.context.push(de.q_tmpl),this.exprAllowed=!1};m.star.updateContext=function(t){if(t===m._function){var e=this.context.length-1;this.context[e]===de.f_expr?this.context[e]=de.f_expr_gen:this.context[e]=de.f_gen}this.exprAllowed=!0};m.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==m.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var Y=Ie.prototype;Y.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,n;switch(o.type){case"Identifier":n=o.name;break;case"Literal":n=String(o.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){n==="__proto__"&&a==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}n="$"+n;var c=e[n];if(c){var p;a==="init"?p=this.strict&&c.init||c.get||c.set:p=c.init||c[a],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else c=e[n]={init:!1,get:!1,set:!1};c[a]=!0}};Y.parseExpression=function(t,e){var i=this.start,o=this.startLoc,n=this.parseMaybeAssign(t,e);if(this.type===m.comma){var a=this.startNodeAt(i,o);for(a.expressions=[n];this.eat(m.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return n};Y.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,n=-1,a=-1,c=-1;e?(n=e.parenthesizedAssign,a=e.trailingComma,c=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new yx,o=!0);var p=this.start,d=this.startLoc;(this.type===m.parenL||this.type===m.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var _=this.parseMaybeConditional(t,e);if(i&&(_=i.call(this,_,p,d)),this.type.isAssign){var v=this.startNodeAt(p,d);return v.operator=this.value,this.type===m.eq&&(_=this.toAssignable(_,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=_.start&&(e.shorthandAssign=-1),this.type===m.eq?this.checkLValPattern(_):this.checkLValSimple(_),v.left=_,this.next(),v.right=this.parseMaybeAssign(t),c>-1&&(e.doubleProto=c),this.finishNode(v,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return n>-1&&(e.parenthesizedAssign=n),a>-1&&(e.trailingComma=a),_};Y.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,n=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return n;if(this.eat(m.question)){var a=this.startNodeAt(i,o);return a.test=n,a.consequent=this.parseMaybeAssign(),this.expect(m.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return n};Y.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,n=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||n.start===i&&n.type==="ArrowFunctionExpression"?n:this.parseExprOp(n,i,o,-1,t)};Y.parseExprOp=function(t,e,i,o,n){var a=this.type.binop;if(a!=null&&(!n||this.type!==m._in)&&a>o){var c=this.type===m.logicalOR||this.type===m.logicalAND,p=this.type===m.coalesce;p&&(a=m.logicalAND.binop);var d=this.value;this.next();var _=this.start,v=this.startLoc,y=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,n),_,v,a,n),g=this.buildBinary(e,i,t,y,d,c||p);return(c&&this.type===m.coalesce||p&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(g,e,i,o,n)}return t};Y.buildBinary=function(t,e,i,o,n,a){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var c=this.startNodeAt(t,e);return c.left=i,c.operator=n,c.right=o,this.finishNode(c,a?"LogicalExpression":"BinaryExpression")};Y.parseMaybeUnary=function(t,e,i,o){var n=this.start,a=this.startLoc,c;if(this.isContextual("await")&&this.canAwait)c=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),d=this.type===m.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,d,o),this.checkExpressionErrors(t,!0),d?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&B1(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,c=this.finishNode(p,d?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===m.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),c=this.parsePrivateIdent(),this.type!==m._in&&this.unexpected();else{if(c=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return c;for(;this.type.postfix&&!this.canInsertSemicolon();){var _=this.startNodeAt(n,a);_.operator=this.value,_.prefix=!1,_.argument=c,this.checkLValSimple(c),this.next(),c=this.finishNode(_,"UpdateExpression")}}if(!i&&this.eat(m.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(n,a,c,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return c};function B1(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&B1(t.expression)}r(B1,"isPrivateFieldAccess");Y.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,n=this.parseExprAtom(t,e);if(n.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return n;var a=this.parseSubscripts(n,i,o,!1,e);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};Y.parseSubscripts=function(t,e,i,o,n){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,c=!1;;){var p=this.parseSubscript(t,e,i,o,a,c,n);if(p.optional&&(c=!0),p===t||p.type==="ArrowFunctionExpression"){if(c){var d=this.startNodeAt(e,i);d.expression=p,p=this.finishNode(d,"ChainExpression")}return p}t=p}};Y.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(m.arrow)};Y.parseSubscriptAsyncArrow=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,o)};Y.parseSubscript=function(t,e,i,o,n,a,c){var p=this.options.ecmaVersion>=11,d=p&&this.eat(m.questionDot);o&&d&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var _=this.eat(m.bracketL);if(_||d&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var v=this.startNodeAt(e,i);v.object=t,_?(v.property=this.parseExpression(),this.expect(m.bracketR)):this.type===m.privateId&&t.type!=="Super"?v.property=this.parsePrivateIdent():v.property=this.parseIdent(this.options.allowReserved!=="never"),v.computed=!!_,p&&(v.optional=d),t=this.finishNode(v,"MemberExpression")}else if(!o&&this.eat(m.parenL)){var y=new yx,g=this.yieldPos,b=this.awaitPos,I=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var P=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1,y);if(n&&!d&&this.shouldParseAsyncArrow())return this.checkPatternErrors(y,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=g,this.awaitPos=b,this.awaitIdentPos=I,this.parseSubscriptAsyncArrow(e,i,P,c);this.checkExpressionErrors(y,!0),this.yieldPos=g||this.yieldPos,this.awaitPos=b||this.awaitPos,this.awaitIdentPos=I||this.awaitIdentPos;var M=this.startNodeAt(e,i);M.callee=t,M.arguments=P,p&&(M.optional=d),t=this.finishNode(M,"CallExpression")}else if(this.type===m.backQuote){(d||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var j=this.startNodeAt(e,i);j.tag=t,j.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(j,"TaggedTemplateExpression")}return t};Y.parseExprAtom=function(t,e,i){this.type===m.slash&&this.readRegexp();var o,n=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===m.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(o,"Super");case m._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case m.name:var a=this.start,c=this.startLoc,p=this.containsEsc,d=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&d.name==="async"&&!this.canInsertSemicolon()&&this.eat(m._function))return this.overrideContext(de.f_expr),this.parseFunction(this.startNodeAt(a,c),0,!1,!0,e);if(n&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(a,c),[d],!1,e);if(this.options.ecmaVersion>=8&&d.name==="async"&&this.type===m.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return d=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(m.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,c),[d],!0,e)}return d;case m.regexp:var _=this.value;return o=this.parseLiteral(_.value),o.regex={pattern:_.pattern,flags:_.flags},o;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return o=this.startNode(),o.value=this.type===m._null?null:this.type===m._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case m.parenL:var v=this.start,y=this.parseParenAndDistinguishExpression(n,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(y)&&(t.parenthesizedAssign=v),t.parenthesizedBind<0&&(t.parenthesizedBind=v)),y;case m.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(m.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case m.braceL:return this.overrideContext(de.b_expr),this.parseObj(!1,t);case m._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};Y.parseExprAtomDefault=function(){this.unexpected()};Y.parseExprImport=function(t){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);if(this.type===m.parenL&&!t)return this.parseDynamicImport(e);if(this.type===m.dot)return e.meta=i,this.parseImportMeta(e);this.unexpected()};Y.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var e=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};Y.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};Y.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};Y.parseParenExpression=function(){this.expect(m.parenL);var t=this.parseExpression();return this.expect(m.parenR),t};Y.shouldParseArrow=function(t){return!this.canInsertSemicolon()};Y.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,n,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var c=this.start,p=this.startLoc,d=[],_=!0,v=!1,y=new yx,g=this.yieldPos,b=this.awaitPos,I;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;)if(_?_=!1:this.expect(m.comma),a&&this.afterTrailingComma(m.parenR,!0)){v=!0;break}else if(this.type===m.ellipsis){I=this.start,d.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else d.push(this.parseMaybeAssign(!1,y,this.parseParenItem));var P=this.lastTokEnd,M=this.lastTokEndLoc;if(this.expect(m.parenR),t&&this.shouldParseArrow(d)&&this.eat(m.arrow))return this.checkPatternErrors(y,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=g,this.awaitPos=b,this.parseParenArrowList(i,o,d,e);(!d.length||v)&&this.unexpected(this.lastTokStart),I&&this.unexpected(I),this.checkExpressionErrors(y,!0),this.yieldPos=g||this.yieldPos,this.awaitPos=b||this.awaitPos,d.length>1?(n=this.startNodeAt(c,p),n.expressions=d,this.finishNodeAt(n,"SequenceExpression",P,M)):n=d[0]}else n=this.parseParenExpression();if(this.options.preserveParens){var j=this.startNodeAt(i,o);return j.expression=n,this.finishNode(j,"ParenthesizedExpression")}else return n};Y.parseParenItem=function(t){return t};Y.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var XI=[];Y.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(m.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,n=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,n,!0,!1),this.eat(m.parenL)?t.arguments=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1):t.arguments=XI,this.finishNode(t,"NewExpression")};Y.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===m.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===m.backQuote,this.finishNode(i,"TemplateElement")};Y.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(m.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};Y.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===m.star)&&!lt.test(this.input.slice(this.lastTokEnd,this.start))};Y.parseObj=function(t,e){var i=this.startNode(),o=!0,n={};for(i.properties=[],this.next();!this.eat(m.braceR);){if(o)o=!1;else if(this.expect(m.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(m.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,n,e),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};Y.parseProperty=function(t,e){var i=this.startNode(),o,n,a,c;if(this.options.ecmaVersion>=9&&this.eat(m.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===m.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(a=this.start,c=this.startLoc),t||(o=this.eat(m.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(n=!0,o=this.options.ecmaVersion>=9&&this.eat(m.star),this.parsePropertyName(i)):n=!1,this.parsePropertyValue(i,t,o,n,a,c,e,p),this.finishNode(i,"Property")};Y.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};Y.parsePropertyValue=function(t,e,i,o,n,a,c,p){(i||o)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,c),t.kind="init"):this.options.ecmaVersion>=6&&this.type===m.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==m.comma&&this.type!==m.braceR&&this.type!==m.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=n),t.kind="init",e?t.value=this.parseMaybeDefault(n,a,this.copyNode(t.key)):this.type===m.eq&&c?(c.shorthandAssign<0&&(c.shorthandAssign=this.start),t.value=this.parseMaybeDefault(n,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};Y.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(m.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(m.bracketR),t.key;t.computed=!1}return t.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Y.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};Y.parseMethod=function(t,e,i){var o=this.startNode(),n=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Fg(e,o.generator)|Lg|(i?P1:0)),this.expect(m.parenL),o.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=n,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(o,"FunctionExpression")};Y.parseArrowExpression=function(t,e,i,o){var n=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.enterScope(Fg(i,!1)|E1),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=n,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(t,"ArrowFunctionExpression")};Y.parseFunctionBody=function(t,e,i,o){var n=e&&this.type!==m.braceL,a=this.strict,c=!1;if(n)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||p)&&(c=this.strictDirective(this.end),c&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var d=this.labels;this.labels=[],c&&(this.strict=!0),this.checkParams(t,!a&&!c&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,V1),t.body=this.parseBlock(!1,void 0,c&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=d}this.exitScope()};Y.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};Y.checkParams=function(t,e){for(var i=Object.create(null),o=0,n=t.params;o<n.length;o+=1){var a=n[o];this.checkLValInnerPattern(a,jg,e?null:i)}};Y.parseExprList=function(t,e,i,o){for(var n=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(m.comma),e&&this.afterTrailingComma(t))break;var c=void 0;i&&this.type===m.comma?c=null:this.type===m.ellipsis?(c=this.parseSpread(o),o&&this.type===m.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):c=this.parseMaybeAssign(!1,o),n.push(c)}return n};Y.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var n=this.strict?this.reservedWordsStrict:this.reservedWords;n.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};Y.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};Y.parseIdentNode=function(){var t=this.startNode();return this.type===m.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),t};Y.parsePrivateIdent=function(){var t=this.startNode();return this.type===m.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};Y.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(m.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};Y.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var xx=Ie.prototype;xx.raise=function(t,e){var i=S1(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};xx.raiseRecoverable=xx.raise;xx.curPosition=function(){if(this.options.locations)return new rm(this.curLine,this.pos-this.lineStart)};var Ii=Ie.prototype,QI=r(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Ii.enterScope=function(t){this.scopeStack.push(new QI(t))};Ii.exitScope=function(){this.scopeStack.pop()};Ii.treatFunctionsAsVarInScope=function(t){return t.flags&yn||!this.inModule&&t.flags&nm};Ii.declareName=function(t,e,i){var o=!1;if(e===zt){var n=this.currentScope();o=n.lexical.indexOf(t)>-1||n.functions.indexOf(t)>-1||n.var.indexOf(t)>-1,n.lexical.push(t),this.inModule&&n.flags&nm&&delete this.undefinedExports[t]}else if(e===A1){var a=this.currentScope();a.lexical.push(t)}else if(e===R1){var c=this.currentScope();this.treatFunctionsAsVar?o=c.lexical.indexOf(t)>-1:o=c.lexical.indexOf(t)>-1||c.var.indexOf(t)>-1,c.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var d=this.scopeStack[p];if(d.lexical.indexOf(t)>-1&&!(d.flags&N1&&d.lexical[0]===t)||!this.treatFunctionsAsVarInScope(d)&&d.functions.indexOf(t)>-1){o=!0;break}if(d.var.push(t),this.inModule&&d.flags&nm&&delete this.undefinedExports[t],d.flags&Og)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Ii.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Ii.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Ii.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Og)return e}};Ii.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Og&&!(e.flags&E1))return e}};var bx=r(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new gx(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),um=Ie.prototype;um.startNode=function(){return new bx(this,this.start,this.startLoc)};um.startNodeAt=function(t,e){return new bx(this,t,e)};function D1(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}r(D1,"finishNodeAt");um.finishNode=function(t,e){return D1.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};um.finishNodeAt=function(t,e,i,o){return D1.call(this,t,e,i,o)};um.copyNode=function(t){var e=new bx(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var L1="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",O1=L1+" Extended_Pictographic",F1=O1,j1=F1+" EBase EComp EMod EPres ExtPict",Y1=j1,ZI=Y1,eS={9:L1,10:O1,11:F1,12:j1,13:Y1,14:ZI},tS="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",iS={9:"",10:"",11:"",12:"",13:"",14:tS},g1="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",U1="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",W1=U1+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",J1=W1+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",G1=J1+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",H1=G1+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",oS=H1+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",rS={9:U1,10:W1,11:J1,12:G1,13:H1,14:oS},z1={};function nS(t){var e=z1[t]={binary:Ti(eS[t]+" "+g1),binaryOfStrings:Ti(iS[t]),nonBinary:{General_Category:Ti(g1),Script:Ti(rS[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}r(nS,"buildUnicodeData");for(hx=0,Rg=[9,10,11,12,13,14];hx<Rg.length;hx+=1)y1=Rg[hx],nS(y1);var y1,hx,Rg,V=Ie.prototype,Mt=r(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=z1[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");Mt.prototype.reset=r(function(e,i,o){var n=o.indexOf("v")!==-1,a=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,n&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)},"reset");Mt.prototype.raise=r(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Mt.prototype.at=r(function(e,i){i===void 0&&(i=!1);var o=this.source,n=o.length;if(e>=n)return-1;var a=o.charCodeAt(e);if(!(i||this.switchU)||a<=55295||a>=57344||e+1>=n)return a;var c=o.charCodeAt(e+1);return c>=56320&&c<=57343?(a<<10)+c-56613888:a},"at");Mt.prototype.nextIndex=r(function(e,i){i===void 0&&(i=!1);var o=this.source,n=o.length;if(e>=n)return n;var a=o.charCodeAt(e),c;return!(i||this.switchU)||a<=55295||a>=57344||e+1>=n||(c=o.charCodeAt(e+1))<56320||c>57343?e+1:e+2},"nextIndex");Mt.prototype.current=r(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Mt.prototype.lookahead=r(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Mt.prototype.advance=r(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Mt.prototype.eat=r(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");Mt.prototype.eatChars=r(function(e,i){i===void 0&&(i=!1);for(var o=this.pos,n=0,a=e;n<a.length;n+=1){var c=a[n],p=this.at(o,i);if(p===-1||p!==c)return!1;o=this.nextIndex(o,i)}return this.pos=o,!0},"eatChars");V.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=!1,n=!1,a=0;a<i.length;a++){var c=i.charAt(a);e.indexOf(c)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(c,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),c==="u"&&(o=!0),c==="v"&&(n=!0)}this.options.ecmaVersion>=15&&o&&n&&this.raise(t.start,"Invalid regular expression flag")};V.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};V.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};V.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};V.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};V.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};V.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};V.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};V.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};V.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,n=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue),t.eat(125)))return n!==-1&&n<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};V.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};V.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};V.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};V.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};V.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};V.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};V.regexp_eatSyntaxCharacter=function(t){var e=t.current();return $1(e)?(t.lastIntValue=e,t.advance(),!0):!1};function $1(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}r($1,"isSyntaxCharacter");V.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!$1(i);)t.advance();return t.pos!==e};V.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};V.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};V.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};V.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=ki(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=ki(t.lastIntValue);return!0}return!1};V.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),sS(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function sS(t){return Gt(t,!0)||t===36||t===95}r(sS,"isRegExpIdentifierStart");V.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),aS(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function aS(t){return xn(t,!0)||t===36||t===95||t===8204||t===8205}r(aS,"isRegExpIdentifierPart");V.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};V.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};V.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};V.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};V.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};V.regexp_eatZero=function(t){return t.current()===48&&!wx(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};V.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};V.regexp_eatControlLetter=function(t){var e=t.current();return K1(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function K1(t){return t>=65&&t<=90||t>=97&&t<=122}r(K1,"isControlLetter");V.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var n=t.lastIntValue;if(o&&n>=55296&&n<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var c=t.lastIntValue;if(c>=56320&&c<=57343)return t.lastIntValue=(n-55296)*1024+(c-56320)+65536,!0}t.pos=a,t.lastIntValue=n}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&uS(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function uS(t){return t>=0&&t<=1114111}r(uS,"isValidUnicode");V.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};V.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var q1=0,Ht=1,ut=2;V.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(lS(e))return t.lastIntValue=-1,t.advance(),Ht;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===ut&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return q1};function lS(t){return t===100||t===68||t===115||t===83||t===119||t===87}r(lS,"isCharacterClassEscape");V.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),Ht}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,n)}return q1};V.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){sm(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};V.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Ht;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return ut;t.raise("Invalid property name")};V.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";X1(e=t.current());)t.lastStringValue+=ki(e),t.advance();return t.lastStringValue!==""};function X1(t){return K1(t)||t===95}r(X1,"isUnicodePropertyNameCharacter");V.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";cS(e=t.current());)t.lastStringValue+=ki(e),t.advance();return t.lastStringValue!==""};function cS(t){return X1(t)||wx(t)}r(cS,"isUnicodePropertyValueCharacter");V.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};V.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===ut&&t.raise("Negated character class may contain strings"),!0}return!1};V.regexp_classContents=function(t){return t.current()===93?Ht:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Ht)};V.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};V.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||ek(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};V.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};V.regexp_classSetExpression=function(t){var e=Ht,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===ut&&(e=ut);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==ut&&(e=Ht);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===ut&&(e=ut)}};V.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};V.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Ht:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};V.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===ut&&t.raise("Negated character class may contain strings"),o;t.pos=e}if(t.eat(92)){var n=this.regexp_eatCharacterClassEscape(t);if(n)return n;t.pos=e}return null};V.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};V.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===ut&&(e=ut);return e};V.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Ht:ut};V.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&pS(i)||dS(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function pS(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}r(pS,"isClassSetReservedDoublePunctuatorCharacter");function dS(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}r(dS,"isClassSetSyntaxCharacter");V.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return fS(e)?(t.lastIntValue=e,t.advance(),!0):!1};function fS(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}r(fS,"isClassSetReservedPunctuator");V.regexp_eatClassControlLetter=function(t){var e=t.current();return wx(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};V.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};V.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;wx(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function wx(t){return t>=48&&t<=57}r(wx,"isDecimalDigit");V.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Q1(i=t.current());)t.lastIntValue=16*t.lastIntValue+Z1(i),t.advance();return t.pos!==e};function Q1(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}r(Q1,"isHexDigit");function Z1(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}r(Z1,"hexToInt");V.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};V.regexp_eatOctalDigit=function(t){var e=t.current();return ek(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function ek(t){return t>=48&&t<=55}r(ek,"isOctalDigit");V.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var n=t.current();if(!Q1(n))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+Z1(n),t.advance()}return!0};var Ug=r(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new gx(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),K=Ie.prototype;K.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ug(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};K.getToken=function(){return this.next(),new Ug(this)};typeof Symbol<"u"&&(K[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===m.eof,value:e}}}});K.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(m.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};K.readToken=function(t){return Gt(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};K.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};K.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,n=e;(o=T1(this.input,n,this.pos))>-1;)++this.curLine,n=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};K.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!gn(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};K.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&k1.test(String.fromCharCode(t)))++this.pos;else break e}}};K.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};K.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))};K.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(m.assign,2):this.finishOp(m.slash,1)};K.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?m.star:m.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=m.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(m.assign,i+1):this.finishOp(o,i)};K.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(m.assign,3)}return this.finishOp(t===124?m.logicalOR:m.logicalAND,2)}return e===61?this.finishOp(m.assign,2):this.finishOp(t===124?m.bitwiseOR:m.bitwiseAND,1)};K.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)};K.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||lt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(m.incDec,2):e===61?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)};K.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(m.assign,i+1):this.finishOp(m.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(m.relational,i))};K.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(m.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(t===61?m.eq:m.prefix,1)};K.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(m.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(m.assign,3)}return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)};K.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Gt(e,!0)||e===92))return this.finishToken(m.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+ki(e)+"'")};K.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+ki(t)+"'")};K.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};K.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(lt.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var n=this.input.slice(i,this.pos);++this.pos;var a=this.pos,c=this.readWord1();this.containsEsc&&this.unexpected(a);var p=this.regexpState||(this.regexpState=new Mt(this));p.reset(i,n,c),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var d=null;try{d=new RegExp(n,c)}catch(_){}return this.finishToken(m.regexp,{pattern:n,flags:c,value:d})};K.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,n=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,c=0,p=0,d=0,_=e==null?1/0:e;d<_;++d,++this.pos){var v=this.input.charCodeAt(this.pos),y=void 0;if(o&&v===95){n&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),d===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=v;continue}if(v>=97?y=v-97+10:v>=65?y=v-65+10:v>=48&&v<=57?y=v-48:y=1/0,y>=t)break;p=v,c=c*t+y}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||e!=null&&this.pos-a!==e?null:c};function mS(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}r(mS,"stringToNumber");function tk(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}r(tk,"stringToBigInt");K.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=tk(this.input.slice(e,this.pos)),++this.pos):Gt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,i)};K.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var n=tk(this.input.slice(e,this.pos));return++this.pos,Gt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,n)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Gt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=mS(this.input.slice(e,this.pos),i);return this.finishToken(m.num,a)};K.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};K.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(gn(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(m.string,e)};var ik={};K.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===ik)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};K.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw ik;this.raise(t,e)};K.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===m.template||this.type===m.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(m.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(gn(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};K.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};K.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return ki(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(o,8);return n>255&&(o=o.slice(0,-1),n=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return gn(e)?"":String.fromCharCode(e)}};K.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};K.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if(xn(n,o))this.pos+=n<=65535?1:2;else if(n===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var c=this.readCodePoint();(e?Gt:xn)(c,o)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=ki(c),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};K.readWord=function(){var t=this.readWord1(),e=m.name;return this.keywords.test(t)&&(e=Bg[t]),this.finishToken(e,t)};var hS="8.10.0";Ie.acorn={Parser:Ie,version:hS,defaultOptions:Vg,Position:rm,SourceLocation:gx,getLineInfo:S1,Node:bx,TokenType:oe,tokTypes:m,keywordTypes:Bg,TokContext:bt,tokContexts:de,isIdentifierChar:xn,isIdentifierStart:Gt,Token:Ug,isNewLine:gn,lineBreak:lt,lineBreakG:YI,nonASCIIwhitespace:k1};function ok(t,e){return Ie.parse(t,e)}r(ok,"parse");var _S=function(t,e,i,o,n){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?n.call(t,i):n?n.value=i:e.set(t,i),i},vS=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Tx,_o=class{constructor(e){Tx.set(this,void 0);let i=ok(e,{ecmaVersion:2020});_S(this,Tx,i.body,"f"),this.visitor=new vn(vS(this,Tx,"f")),this.scope=this.visitor.scope,this.scope.set("print",o=>console.log(...o)),this.visitor.on("console",(o,n)=>{if(o.type==="Identifier")return console;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=n.visitNode(o.callee.property),c=o.arguments.map(d=>n.visitNode(d)),p=console[a];return p?p(...c):"proceed"}return"proceed"}),this.visitor.on("Math",(o,n)=>{if(o.type==="Identifier")return Math;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=n.visitNode(o.callee.property),c=o.arguments.map(d=>n.visitNode(d)),p=Math[a];return p?p(...c):"proceed"}return"proceed"}),this.visitor.on("String",(o,n)=>{if(o.type==="Identifier")return String;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=n.visitNode(o.callee.property),c=o.arguments.map(d=>n.visitNode(d)),p=String[a];return p?p(c):"proceed"}return"proceed"}),this.visitor.on("Date",o=>{if(o.type==="Identifier")return Date})}interpret(){return this.visitor.run()}};r(_o,"Jinter");Tx=new WeakMap;var lm,vo,rk,nk,sk,kx=class{constructor(e){lm.add(this),vo.set(this,void 0),S(this,vo,e,"f")}get session(){return f(this,vo,"f")}stats(e,i,o){return k(this,void 0,void 0,function*(){let n=new URL(e);n.searchParams.set("ver","2"),n.searchParams.set("c",i.client_name.toLowerCase()),n.searchParams.set("cbrver",i.client_version),n.searchParams.set("cver",i.client_version);for(let c of Object.keys(o))n.searchParams.set(c,o[c]);return yield f(this,vo,"f").http.fetch(n)})}execute(e,i){var o,n;return k(this,void 0,void 0,function*(){let a;if(i&&!i.protobuf){if(a=Object.assign({},i),Reflect.has(a,"browseId")&&f(this,lm,"m",sk).call(this,a.browseId)&&!f(this,vo,"f").logged_in)throw new w("You must be signed in to perform this operation.");Reflect.has(a,"override_endpoint")&&delete a.override_endpoint,Reflect.has(a,"parse")&&delete a.parse,Reflect.has(a,"request")&&delete a.request,Reflect.has(a,"clientActions")&&delete a.clientActions,Reflect.has(a,"settingItemIdForClient")&&delete a.settingItemIdForClient,Reflect.has(a,"action")&&(a.actions=[a.action],delete a.action),Reflect.has(a,"boolValue")&&(a.newValue={boolValue:a.boolValue},delete a.boolValue),Reflect.has(a,"token")&&(a.continuation=a.token,delete a.token),(a==null?void 0:a.client)==="YTMUSIC"&&(a.isAudioOnly=!0)}else i&&(a=i.serialized_data);let c=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield f(this,vo,"f").http.fetch(c,{method:"POST",body:i!=null&&i.protobuf?a:JSON.stringify(a||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let d=l.parseResponse(yield p.json());if(f(this,lm,"m",nk).call(this,d)&&((n=(o=d.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||n===void 0?void 0:n.type)==="navigateAction"){let _=d.on_response_received_actions.firstOfType(di);_&&(d=yield _.endpoint.call(this,{parse:!0}))}return d}return f(this,lm,"m",rk).call(this,p)})}};r(kx,"Actions");vo=new WeakMap,lm=new WeakSet,rk=r(function(e){return k(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),nk=r(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),sk=r(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var Wg=kx;var wn,Tn,cm,pm,_e=class{constructor(e,i,o,n){wn.set(this,void 0),Tn.set(this,void 0),cm.set(this,void 0),pm.set(this,void 0),S(this,wn,o,"f"),S(this,Tn,i,"f"),S(this,cm,e,"f"),S(this,pm,n,"f")}static create(e,i=F.shim.fetch){return k(this,void 0,void 0,function*(){let o=new URL("/iframe_api",xe.URLS.YT_BASE),n=yield i(o);if(n.status!==200)throw new yt("Failed to request player id");let a=yield n.text(),c=Be(a,"player\\/","\\/");if(U.info(_e.TAG,`Got player id (${c}). Checking for cached players..`),!c)throw new yt("Failed to get player id");if(e){U.info(_e.TAG,"Found a cached player.");let b=yield _e.fromCache(e,c);if(b)return b}let p=new URL(`/s/player/${c}/player_ias.vflset/en_US/base.js`,xe.URLS.YT_BASE);U.info(_e.TAG,`Could not find any cached player. Will download a new player from ${p}.`);let d=yield i(p,{headers:{"user-agent":ji("desktop")}});if(!d.ok)throw new yt(`Failed to get player data: ${d.status}`);let _=yield d.text(),v=this.extractSigTimestamp(_),y=this.extractSigSourceCode(_),g=this.extractNSigSourceCode(_);return U.info(_e.TAG,`Got signature timestamp (${v}) and algorithms needed to decipher signatures.`),yield _e.fromSource(e,v,y,g,c)})}decipher(e,i,o,n){if(e=e||i||o,!e)throw new yt("No valid URL to decipher");let a=new URLSearchParams(e),c=new URL(a.get("url")||e);if(i||o){let v=F.shim.calculate(f(this,Tn,"f"),{sig:a.get("s")});if(U.info(_e.TAG,`Transformed signature ${a.get("s")} to ${v}.`),typeof v!="string")throw new yt("Failed to decipher signature");let y=a.get("sp");y?c.searchParams.set(y,v):c.searchParams.set("signature",v)}let p=c.searchParams.get("n");if(p){let v;if(n&&n.has(p))v=n.get(p);else{if(v=F.shim.calculate(f(this,wn,"f"),{nsig:p}),U.info(_e.TAG,`Transformed nsig ${p} to ${v}.`),typeof v!="string")throw new yt("Failed to decipher nsig");v.startsWith("enhanced_except_")?U.warn(_e.TAG,`Could not transform nsig, download may be throttled.
Changing the InnerTube client to "ANDROID" might help!`):n&&n.set(p,v)}c.searchParams.set("n",v)}switch(c.searchParams.get("c")){case"WEB":c.searchParams.set("cver",xe.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":c.searchParams.set("cver",xe.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":c.searchParams.set("cver",xe.CLIENTS.WEB_KIDS.VERSION);break;case"ANDROID":c.searchParams.set("cver",xe.CLIENTS.ANDROID.VERSION);break;case"ANDROID_MUSIC":c.searchParams.set("cver",xe.CLIENTS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":c.searchParams.set("cver",xe.CLIENTS.TV_EMBEDDED.VERSION);break}let _=c.toString();return U.info(_e.TAG,`Full deciphered URL: ${_}`),c.toString()}static fromCache(e,i){return k(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let n=new DataView(o);if(n.getUint32(0,!0)!==_e.LIBRARY_VERSION)return null;let c=n.getUint32(4,!0),p=n.getUint32(8,!0),d=o.slice(12,12+p),_=o.slice(12+p),v=new TextDecoder,y=v.decode(d),g=v.decode(_);return new _e(c,y,g,i)})}static fromSource(e,i,o,n,a){return k(this,void 0,void 0,function*(){let c=new _e(i,o,n,a);return yield c.cache(e),c})}cache(e){return k(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(f(this,Tn,"f")),n=i.encode(f(this,wn,"f")),a=new ArrayBuffer(12+o.byteLength+n.byteLength),c=new DataView(a);c.setUint32(0,_e.LIBRARY_VERSION,!0),c.setUint32(4,f(this,cm,"f"),!0),c.setUint32(8,o.byteLength,!0),new Uint8Array(a).set(o,12),new Uint8Array(a).set(n,12+o.byteLength),yield e.set(f(this,pm,"f"),new Uint8Array(a))})}static extractSigTimestamp(e){return parseInt(Be(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,n;let a=Be(e,'function(a){a=a.split("")','return a.join("")}'),c=(n=(o=(i=a==null?void 0:a.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||n===void 0?void 0:n.trim(),p=Be(e,`var ${c}={`,"};");return(!p||!a)&&U.warn(_e.TAG,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${c}={${p}}${a} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=`function descramble_nsig(a) { let b=a.split("")${Be(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return i||U.warn(_e.TAG,"Failed to extract n-token decipher algorithm"),i}get url(){return new URL(`/s/player/${f(this,pm,"f")}/player_ias.vflset/en_US/base.js`,xe.URLS.YT_BASE).toString()}get sts(){return f(this,cm,"f")}get nsig_sc(){return f(this,wn,"f")}get sig_sc(){return f(this,Tn,"f")}static get LIBRARY_VERSION(){return 2}};r(_e,"Player");wn=new WeakMap,Tn=new WeakMap,cm=new WeakMap,pm=new WeakMap;_e.TAG="Player";var Jg=_e;var kn,Ix,Sx,xo,Cx,Ex,Gg,ak,Hg,zg;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(zg||(zg={}));var Xe=class extends va{constructor(e,i,o,n,a,c,p,d){super(),Ix.set(this,void 0),Sx.set(this,void 0),xo.set(this,void 0),Cx.set(this,void 0),Ex.set(this,void 0),S(this,xo,e,"f"),S(this,Cx,n,"f"),S(this,Sx,i,"f"),S(this,Ix,o,"f"),S(this,Ex,a,"f"),this.http=new Wx(this,c,p),this.actions=new Wg(this),this.logged_in=!!c,this.cache=d}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return k(this,void 0,void 0,function*(){let{context:i,api_key:o,api_version:n,account_index:a}=yield Xe.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user);return new Xe(i,o,n,a,e.retrieve_player===!1?void 0:yield Jg.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",i="",o=0,n="",a=!1,c=!1,p="desktop",d=zg.WEB,_=Intl.DateTimeFormat().resolvedOptions().timeZone,v=F.shim.fetch,y){return k(this,void 0,void 0,function*(){let g,b={lang:e,location:i,time_zone:_,device_category:p,client_name:d,enable_safety_mode:a,visitor_data:n,on_behalf_of_user:y};if(U.info(Xe.TAG,"Retrieving InnerTube session."),c)g=f(this,kn,"m",Hg).call(this,b);else try{g=yield f(this,kn,"m",ak).call(this,b,v)}catch(I){U.error(Xe.TAG,"Failed to retrieve session data from server. Will try to generate it locally."),g=f(this,kn,"m",Hg).call(this,b)}return U.info(Xe.TAG,`Got session data.
`,g),Object.assign(Object.assign({},g),{account_index:o})})}get key(){return f(this,Sx,"f")}get api_version(){return f(this,Ix,"f")}get client_version(){return f(this,xo,"f").client.clientVersion}get client_name(){return f(this,xo,"f").client.clientName}get account_index(){return f(this,Cx,"f")}get context(){return f(this,xo,"f")}get player(){return f(this,Ex,"f")}get lang(){return f(this,xo,"f").client.hl}};r(Xe,"Session");kn=Xe,Ix=new WeakMap,Sx=new WeakMap,xo=new WeakMap,Cx=new WeakMap,Ex=new WeakMap,Gg=r(function(e){let i=Zx(e);return U.info(Xe.TAG,`Custom visitor data decoded successfully.
`,i),i.id},"_Session_getVisitorID"),ak=r(function(e,i=F.shim.fetch){return k(this,void 0,void 0,function*(){let o=new URL("/sw.js_data",tt.YT_BASE),n=mo(11);e.visitor_data&&(n=f(this,kn,"m",Gg).call(this,e.visitor_data));let a=yield i(o,{headers:{"accept-language":e.lang||"en-US","user-agent":ji("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${n};`}});if(!a.ok)throw new Br(`Failed to retrieve session data: ${a.status}`);let c=yield a.text(),d=JSON.parse(c.replace(/^\)\]\}'/,""))[0][2],_="v1",[[v],y]=d;return{context:{client:{hl:v[0],gl:e.location||v[2],remoteHost:v[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:v[13],clientName:e.client_name,clientVersion:v[16],osName:v[17],osVersion:v[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:v[79]||e.time_zone,browserName:v[86],browserVersion:v[87],originalUrl:tt.YT_BASE,deviceMake:v[11],deviceModel:v[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:y,api_version:_}})},"_Session_retrieveSessionData"),Hg=r(function(e){let i=mo(11);return e.visitor_data&&(i=f(this,kn,"m",Gg).call(this,e.visitor_data)),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:Qx(i,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:se.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:tt.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:se.WEB.API_KEY,api_version:se.WEB.API_VERSION}},"_Session_generateSessionData");Xe.TAG="Session";var $g=Xe;var Kg={};we(Kg,{NextEndpoint:()=>Si,PlayerEndpoint:()=>$t,Reel:()=>pt});var Si={};we(Si,{PATH:()=>xS,build:()=>gS});var xS="/next";function gS(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}r(gS,"build");var $t={};we($t,{PATH:()=>yS,build:()=>bS});var yS="/player";function bS(t){let e=t.client==="ANDROID"||t.client==="YTMUSIC_ANDROID"||t.client==="YTSTUDIO_ANDROID";return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:e?"2AMBCgIQBg":t.params})}r(bS,"build");var pt={};we(pt,{WatchEndpoint:()=>Nx,WatchSequenceEndpoint:()=>Px});var Nx={};we(Nx,{PATH:()=>wS,build:()=>TS});var wS="/reel/reel_item_watch";function TS(t){var e,i;return{playerRequest:{videoId:t.short_id,params:(e=t.params)!==null&&e!==void 0?e:"CAUwAg%3D%3D"},params:(i=t.params)!==null&&i!==void 0?i:"CAUwAg%3D%3D"}}r(TS,"build");var Px={};we(Px,{PATH:()=>kS,build:()=>IS});var kS="/reel/reel_watch_sequence";function IS(t){return{sequenceParams:t.sequenceParams}}r(IS,"build");var In,Rx,Ax=class{constructor(e,i){var o,n;In.set(this,void 0),Rx.set(this,void 0),S(this,Rx,i,"f");let a=l.parseResponse(e[0].data),c=l.parseResponse(e[1].data);this.basic_info=a.video_details,this.watch_next_feed=(o=c.entries)===null||o===void 0?void 0:o.array(),S(this,In,(n=c.continuation_endpoint)===null||n===void 0?void 0:n.as(Yt),"f")}getWatchNextContinuation(){var e,i;return k(this,void 0,void 0,function*(){if(!f(this,In,"f"))throw new w("Watch next feed continuation not found");let o=yield f(this,Rx,"f").execute(pt.WatchSequenceEndpoint.PATH,pt.WatchSequenceEndpoint.build({sequenceParams:f(this,In,"f").token}));if(!o.success)throw new w("Continue failed ",o.status_code);let n=l.parseResponse(o.data);return this.watch_next_feed=(e=n.entries)===null||e===void 0?void 0:e.array(),S(this,In,(i=n.continuation_endpoint)===null||i===void 0?void 0:i.as(Yt),"f"),this})}};r(Ax,"VideoInfo");In=new WeakMap,Rx=new WeakMap;var qg=Ax;var go,Sn=class{constructor(e){go.set(this,void 0),S(this,go,e,"f")}static create(e={}){return k(this,void 0,void 0,function*(){return new Sn(yield $g.create(e))})}getInfo(e,i){var o,n,a,c,p;return k(this,void 0,void 0,function*(){em({target:e});let d;if(e instanceof h)d=Si.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(n=e.payload)===null||n===void 0?void 0:n.playlistId,params:(a=e.payload)===null||a===void 0?void 0:a.params,playlist_index:(c=e.payload)===null||c===void 0?void 0:c.index});else if(typeof e=="string")d=Si.build({video_id:e});else throw new w("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!d.videoId)throw new w("Video id cannot be empty",d);let _=$t.build({video_id:d.videoId,playlist_id:d==null?void 0:d.playlistId,client:i,sts:(p=f(this,go,"f").player)===null||p===void 0?void 0:p.sts}),v=this.actions.execute($t.PATH,_),y=this.actions.execute(Si.PATH,d),g=yield Promise.all([v,y]),b=mo(16);return new qf(g,this.actions,b)})}getBasicInfo(e,i){var o;return k(this,void 0,void 0,function*(){em({video_id:e});let n=yield this.actions.execute($t.PATH,$t.build({video_id:e,client:i,sts:(o=f(this,go,"f").player)===null||o===void 0?void 0:o.sts})),a=mo(16);return new qf([n],this.actions,a)})}getShortsWatchItem(e,i){return k(this,void 0,void 0,function*(){em({short_id:e});let o=this.actions.execute(pt.WatchEndpoint.PATH,pt.WatchEndpoint.build({short_id:e,client:i})),n=this.actions.execute(pt.WatchSequenceEndpoint.PATH,pt.WatchSequenceEndpoint.build({sequenceParams:ig(e)})),a=yield Promise.all([o,n]);return new qg(a,this.actions)})}getStreamingData(e,i={}){return k(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return k(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}call(e,i){return e.call(this.actions,i)}get actions(){return f(this,go,"f").actions}get session(){return f(this,go,"f")}};r(Sn,"Innertube");go=new WeakMap;var Xg=Sn;var uk={};var lk=Xg;var ck="JsRuntime";function Qg(t,e){U.info(ck,`Evaluating JavaScript.
`,t);let i=new _o(t);for(let[n,a]of Object.entries(e))i.scope.set(n,a);let o=i.interpret();return U.info(ck,"Done. Result:",o),o}r(Qg,"evaluate");var dm,Zg,Vx,Mx,Bx,Dx=class{constructor(e=!1,i){dm.add(this),Zg.set(this,"Cache"),Vx.set(this,void 0),Mx.set(this,void 0),S(this,Vx,i||"","f"),S(this,Mx,e,"f")}get cache_dir(){return f(this,Mx,"f")?f(this,Vx,"f"):""}get(e){return k(this,void 0,void 0,function*(){let i=yield f(this,dm,"m",Bx).call(this);if(!!i)return new Promise((o,n)=>{let a=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);a.onerror=n,a.onsuccess=function(){var c;let p=(c=this.result)===null||c===void 0?void 0:c.v;o(p?p.buffer:void 0)}})})}set(e,i){return k(this,void 0,void 0,function*(){let o=yield f(this,dm,"m",Bx).call(this);if(!!o)return new Promise((n,a)=>{let c=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});c.onerror=a,c.onsuccess=()=>n()})})}remove(e){return k(this,void 0,void 0,function*(){let i=yield f(this,dm,"m",Bx).call(this);if(!!i)return new Promise((o,n)=>{let a=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);a.onerror=n,a.onsuccess=()=>o()})})}};r(Dx,"Cache");Zg=new WeakMap,Vx=new WeakMap,Mx=new WeakMap,dm=new WeakSet,Bx=r(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let n=e.open("youtubei.js",1);n.onsuccess=function(){i(this.result)},n.onerror=function(a){o("indexedDB request error"),console.error(a)},n.onupgradeneeded=function(){let a=this.result.createObjectStore("kv-store",{keyPath:"k"});a.transaction.oncomplete=function(){i(this.db)}}}):U.warn(f(this,Zg,"f"),"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");F.load({runtime:"browser",server:!1,info:{version:fx.version,bugs_url:fx.bugs.url,repo_url:fx.homepage.split("#")[0]},Cache:Dx,sha1Hash:kg,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},calculate:Qg,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var Rwe=lk;export{Wg as Actions,Ai as AppendContinuationItemsAction,zg as ClientType,xe as Constants,Xi as Continuation,Yt as ContinuationCommand,Kg as Endpoints,va as EventEmitter,Fi as FormatUtils,pg as Generator,yr as GridContinuation,Wx as HTTPClient,Fx as Helpers,Xg as Innertube,hr as ItemSectionContinuation,mi as LiveChatContinuation,U as Log,wg as Misc,xg as Mixins,xr as MusicPlaylistShelfContinuation,gr as MusicShelfContinuation,di as NavigateAction,l as Parser,F as Platform,Jg as Player,br as PlaylistPanelContinuation,Yi as Proto,fi as ReloadContinuationItemsCommand,vr as SectionListContinuation,$g as Session,_r as ShowMiniplayerCommand,uk as Types,fk as UniversalCache,Jx as Utils,bg as YT,Hi as YTNodes,Rwe as default};