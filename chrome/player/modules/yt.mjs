/* eslint-disable */
// Minified to reduce loading time (https://minify-js.com/)
/* LuanRT/YouTube.js */
var t=Object.defineProperty,e=(e,i)=>t(e,"name",{value:i,configurable:!0}),i=(e,i)=>{for(var s in i)t(e,s,{get:i[s],enumerable:!0})};function s(t,e){var i={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(i[s]=t[s]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(i[s[n]]=t[s[n]])}return i}function n(t,e,i){return"symbol"==typeof e&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}function o(t,i,s,n){function o(t){return t instanceof s?t:new s((function(e){e(t)}))}return e(o,"adopt"),new(s||(s=Promise))((function(s,a){function r(t){try{c(n.next(t))}catch(t){a(t)}}function l(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){t.done?s(t.value):o(t.value).then(r,l)}e(r,"fulfilled"),e(l,"rejected"),e(c,"step"),c((n=n.apply(t,i||[])).next())}))}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,i=e&&t[e],s=0;if(i)return i.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function r(t){return this instanceof r?(this.v=t,this):new r(t)}function l(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,n=i.apply(t,e||[]),o=[];return s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s;function a(t){n[t]&&(s[t]=function(e){return new Promise((function(i,s){o.push([t,e,i,s])>1||l(t,e)}))})}function l(t,e){try{c(n[t](e))}catch(t){u(o[0][3],t)}}function c(t){t.value instanceof r?Promise.resolve(t.value.v).then(d,h):u(o[0][2],t)}function d(t){l("next",t)}function h(t){l("throw",t)}function u(t,e){t(e),o.shift(),o.length&&l(o[0][0],o[0][1])}}function c(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=a(t),e={},s("next"),s("throw"),s("return"),e[Symbol.asyncIterator]=function(){return this},e);function s(i){e[i]=t[i]&&function(e){return new Promise((function(s,o){n(s,o,(e=t[i](e)).done,e.value)}))}}function n(t,e,i,s){Promise.resolve(s).then((function(e){t({value:e,done:i})}),e)}}function d(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)}function h(t,e,i,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,i):n?n.value=i:e.set(t,i),i}e(s,"__rest"),e(n,"__setFunctionName"),e(o,"__awaiter"),e(a,"__values"),e(r,"__await"),e(l,"__asyncGenerator"),e(c,"__asyncValues"),e(d,"__classPrivateFieldGet"),e(h,"__classPrivateFieldSet");var u={};i(u,{ChannelError:()=>jw,InnertubeError:()=>Nw,MissingParamError:()=>Vw,OAuthError:()=>Uw,ParsingError:()=>Bw,Platform:()=>Ow,PlayerError:()=>Hw,SessionError:()=>Fw,base64ToU8:()=>ix,concatMemos:()=>Xw,debugFetch:()=>tx,deepCompare:()=>Ww,escapeStringRegexp:()=>$w,generateRandomString:()=>zw,generateSidAuth:()=>Kw,getRandomUserAgent:()=>Yw,getStringBetweenStrings:()=>Gw,hasKeys:()=>Jw,isTextRun:()=>sx,streamToIterable:()=>Zw,throwIfMissing:()=>Qw,timeToSeconds:()=>qw,u8ToBase64:()=>ex});var p,m,v,f,y,g,_,b={};i(b,{Maybe:()=>S,Memo:()=>I,SuperParsedResult:()=>T,YTNode:()=>x,observe:()=>C});var w=Symbol("ObservedArray.isObserved"),x=class{constructor(){p.add(this),this.type=this.constructor.type}is(...t){return t.some((t=>d(this,p,"m",m).call(this,t)))}as(...t){if(!this.is(...t))throw new Bw(`Cannot cast ${this.type} to one of ${t.map((t=>t.type)).join(", ")}`);return this}hasKey(t){return Reflect.has(this,t)}key(t){if(!this.hasKey(t))throw new Bw(`Missing key ${t}`);return new S(this[t])}};e(x,"YTNode"),p=new WeakSet,m=e((function(t){return this.type===t.type}),"_YTNode_is"),x.type="YTNode";var S=class{constructor(t){v.add(this),f.set(this,void 0),h(this,f,t,"f")}get typeof(){return typeof d(this,f,"f")}string(){return d(this,v,"m",g).call(this,"string")}isString(){return d(this,v,"m",y).call(this,"string")}number(){return d(this,v,"m",g).call(this,"number")}isNumber(){return d(this,v,"m",y).call(this,"number")}bigint(){return d(this,v,"m",g).call(this,"bigint")}isBigint(){return d(this,v,"m",y).call(this,"bigint")}boolean(){return d(this,v,"m",g).call(this,"boolean")}isBoolean(){return d(this,v,"m",y).call(this,"boolean")}symbol(){return d(this,v,"m",g).call(this,"symbol")}isSymbol(){return d(this,v,"m",y).call(this,"symbol")}undefined(){return d(this,v,"m",g).call(this,"undefined")}isUndefined(){return d(this,v,"m",y).call(this,"undefined")}null(){if(null!==d(this,f,"f"))throw new TypeError("Expected null, got "+typeof d(this,f,"f"));return d(this,f,"f")}isNull(){return null===d(this,f,"f")}object(){return d(this,v,"m",g).call(this,"object")}isObject(){return d(this,v,"m",y).call(this,"object")}function(){return d(this,v,"m",g).call(this,"function")}isFunction(){return d(this,v,"m",y).call(this,"function")}array(){if(!Array.isArray(d(this,f,"f")))throw new TypeError("Expected array, got "+typeof d(this,f,"f"));return d(this,f,"f")}arrayOfMaybe(){const t=[];return new Proxy(this.array(),{get:(e,i)=>Reflect.has(t,i)?Reflect.get(e,i):new S(Reflect.get(e,i))})}isArray(){return Array.isArray(d(this,f,"f"))}node(){if(!(d(this,f,"f")instanceof x))throw new TypeError(`Expected YTNode, got ${d(this,f,"f").constructor.name}`);return d(this,f,"f")}isNode(){return d(this,f,"f")instanceof x}nodeOfType(...t){return this.node().as(...t)}isNodeOfType(...t){return this.isNode()&&this.node().is(...t)}observed(){if(!this.isObserved())throw new TypeError("Expected ObservedArray, got "+typeof d(this,f,"f"));return d(this,f,"f")}isObserved(){var t;return null===(t=d(this,f,"f"))||void 0===t?void 0:t[w]}parsed(){if(!(d(this,f,"f")instanceof T))throw new TypeError("Expected SuperParsedResult, got "+typeof d(this,f,"f"));return d(this,f,"f")}isParsed(){return d(this,f,"f")instanceof T}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),d(this,f,"f")}instanceof(t){if(!this.isInstanceof(t))throw new TypeError(`Expected instance of ${t.name}, got ${d(this,f,"f").constructor.name}`);return d(this,f,"f")}isInstanceof(t){return d(this,f,"f")instanceof t}};e(S,"Maybe"),f=new WeakMap,v=new WeakSet,y=e((function(t){return typeof d(this,f,"f")===t}),"_Maybe_checkPrimative"),g=e((function(t){if(!d(this,v,"m",y).call(this,t))throw new TypeError(`Expected ${t}, got ${this.typeof}`);return d(this,f,"f")}),"_Maybe_assertPrimative");var T=class{constructor(t){_.set(this,void 0),h(this,_,t,"f")}get is_null(){return null===d(this,_,"f")}get is_array(){return!this.is_null&&Array.isArray(d(this,_,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return d(this,_,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return d(this,_,"f")}};function C(t){return new Proxy(t,{get:(t,e)=>"get"==e?(e,i)=>t.find(((s,n)=>{const o=Ww(e,s);return o&&i&&t.splice(n,1),o})):e==w||("getAll"==e?(e,i)=>t.filter(((s,n)=>{const o=Ww(e,s);return o&&i&&t.splice(n,1),o})):"matchCondition"==e?e=>t.find((t=>e(t))):"filterType"==e?(...e)=>C(t.filter((t=>!!t.is(...e)))):"firstOfType"==e?(...e)=>t.find((t=>!!t.is(...e))):"first"==e?()=>t[0]:"as"==e?(...e)=>C(t.map((t=>{if(t.is(...e))return t;throw new Bw(`Expected node of any type ${e.map((t=>t.type)).join(", ")}, got ${t.type}`)}))):"remove"==e?e=>t.splice(e,1):Reflect.get(t,e))})}e(T,"SuperParsedResult"),_=new WeakMap,e(C,"observe");var I=class extends Map{getType(...t){return C((t=t.flat()).flatMap((t=>this.get(t.type)||[])))}};e(I,"Memo");var k={};i(k,{Author:()=>Lw,ChildElement:()=>za,EmojiRun:()=>X,Format:()=>Re,Text:()=>Z,TextRun:()=>Q,Thumbnail:()=>q,VideoDetails:()=>Me});var E={};i(E,{CLIENTS:()=>M,INNERTUBE_HEADERS_BASE:()=>L,OAUTH:()=>R,STREAM_HEADERS:()=>P,URLS:()=>A});var A=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),R=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),M=Object.freeze({iOS:{NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME:"WEB",VERSION:"2.20230622.06.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),P=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),L=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"}),D={};i(D,{addRuntimeParser:()=>Iy,applyMutations:()=>By,getDynamicParsers:()=>ky,getParserByName:()=>Ty,hasParser:()=>Cy,parse:()=>My,parseActions:()=>Oy,parseArray:()=>Ry,parseC:()=>Py,parseFormats:()=>Ny,parseItem:()=>Ay,parseLC:()=>Ly,parseRR:()=>Dy,parseResponse:()=>Ey,sanitizeClassName:()=>Sy,setParserErrorHandler:()=>yy,shouldIgnore:()=>xy});var O=class extends x{constructor(t){super(),this.audio_only_availability=t.audioOnlyAvailability}};e(O,"AudioOnlyPlayability"),O.type="AudioOnlyPlayability";var N=O,B=class extends x{constructor(t){super(),Reflect.has(t,"text")&&(this.text=new Z(t.text).toString()),Reflect.has(t,"accessibility")&&Reflect.has(t.accessibility,"label")&&(this.label=t.accessibility.label),Reflect.has(t,"tooltip")&&(this.tooltip=t.tooltip),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"isDisabled")&&(this.is_disabled=t.isDisabled),this.endpoint=new z(t.navigationEndpoint||t.serviceEndpoint||t.command)}};e(B,"Button"),B.type="Button";var V=B,U=class extends x{constructor(t){var e;super(),this.label=new Z(t.label).toString(),this.selected=!!t.isSelected,Reflect.has(t,"int32Value")?this.value=t.int32Value:t.stringValue&&(this.value=t.stringValue),Reflect.has(t,"onSelectCommand")&&(this.endpoint=new z(t.onSelectCommand)),Reflect.has(t,"icon")&&(this.icon_type=null===(e=t.icon)||void 0===e?void 0:e.iconType),Reflect.has(t,"descriptionText")&&(this.description=new Z(t.descriptionText))}};e(U,"DropdownItem"),U.type="DropdownItem";var H=U,F=class extends x{constructor(t){super(),this.label=t.label||"",this.entries=Aw.parseArray(t.entries,H)}};e(F,"Dropdown"),F.type="Dropdown";var j=F,W=class extends x{constructor(t){super(),this.title=new Z(t.dialogTitle).toString(),this.title_placeholder=t.titlePlaceholder||"",this.privacy_option=Aw.parseItem(t.privacyOption,j),this.create_button=Aw.parseItem(t.cancelButton,V),this.cancel_button=Aw.parseItem(t.cancelButton,V)}};e(W,"CreatePlaylistDialog"),W.type="CreatePlaylistDialog";var G=W,$=class extends x{constructor(t){super(),this.popup=Aw.parseItem(t.popup),this.popup_type=t.popupType}};e($,"OpenPopupAction"),$.type="OpenPopupAction";var Y=$,K=class extends x{constructor(t){var e,i,s,n,o,a,r,l;super(),Reflect.has(t||{},"innertubeCommand")&&(t=t.innertubeCommand),Reflect.has(t||{},"openPopupAction")&&(this.open_popup=new Y(t.openPopupAction));const c=Object.keys(t||{}).find((t=>t.endsWith("Endpoint")||t.endsWith("Command")));this.payload=c?Reflect.get(t,c):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=Aw.parseItem(this.payload.dialog||this.payload.content)),(null==t?void 0:t.serviceEndpoint)&&(t=t.serviceEndpoint),this.metadata={},(null===(i=null===(e=null==t?void 0:t.commandMetadata)||void 0===e?void 0:e.webCommandMetadata)||void 0===i?void 0:i.url)&&(this.metadata.url=t.commandMetadata.webCommandMetadata.url),(null===(n=null===(s=null==t?void 0:t.commandMetadata)||void 0===s?void 0:s.webCommandMetadata)||void 0===n?void 0:n.webPageType)&&(this.metadata.page_type=t.commandMetadata.webCommandMetadata.webPageType),(null===(a=null===(o=null==t?void 0:t.commandMetadata)||void 0===o?void 0:o.webCommandMetadata)||void 0===a?void 0:a.apiUrl)?this.metadata.api_url=t.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):c&&(this.metadata.api_url=this.getEndpoint(c)),(null===(l=null===(r=null==t?void 0:t.commandMetadata)||void 0===r?void 0:r.webCommandMetadata)||void 0===l?void 0:l.sendPost)&&(this.metadata.send_post=t.commandMetadata.webCommandMetadata.sendPost),(null==t?void 0:t.createPlaylistEndpoint)&&(null==t?void 0:t.createPlaylistEndpoint.createPlaylistDialog)&&(this.dialog=Aw.parseItem(null==t?void 0:t.createPlaylistEndpoint.createPlaylistDialog,G))}getEndpoint(t){switch(t){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(t,e){if(!t)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return t.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),e))}toURL(){if(this.metadata.url&&this.metadata.page_type)return"WEB_PAGE_TYPE_UNKNOWN"===this.metadata.page_type?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};e(K,"NavigationEndpoint"),K.type="NavigationEndpoint";var z=K,q=class{constructor(t){this.url=t.url,this.width=t.width,this.height=t.height}static fromResponse(t){return t&&t.thumbnails?t.thumbnails.map((t=>new q(t))).sort(((t,e)=>e.width-t.width)):[]}};e(q,"Thumbnail");var X=class{constructor(t){var e,i,s,n,o,a;this.text=(null===(e=t.emoji)||void 0===e?void 0:e.emojiId)||(null===(s=null===(i=t.emoji)||void 0===i?void 0:i.shortcuts)||void 0===s?void 0:s[0])||"",this.emoji={emoji_id:t.emoji.emojiId,shortcuts:(null===(n=t.emoji)||void 0===n?void 0:n.shortcuts)||[],search_terms:(null===(o=t.emoji)||void 0===o?void 0:o.searchTerms)||[],image:q.fromResponse(t.emoji.image),is_custom:!!(null===(a=t.emoji)||void 0===a?void 0:a.isCustomEmoji)}}toString(){return this.text}toHTML(){const t=J(this.text);return`<img src="${this.emoji.image[0].url}" alt="${t}" title="${t}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};e(X,"EmojiRun");var Q=class{constructor(t){this.text=t.text,this.bold=Boolean(t.bold),this.italics=Boolean(t.italics),this.strikethrough=Boolean(t.strikethrough),Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new z(t.navigationEndpoint)),this.attachment=t.attachment}toString(){return this.text}toHTML(){const t=[];this.bold&&t.push("b"),this.italics&&t.push("i"),this.strikethrough&&t.push("s");const e=J(this.text),i=`<span style="white-space: pre-wrap;">${t.map((t=>`<${t}>`)).join("")+e+t.map((t=>`</${t}>`)).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){const{url:t}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){const e=this.endpoint.toURL();if(e)return`<a href="${e}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${t}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${i}</a>`}}if(this.endpoint){const t=this.endpoint.toURL();if(t)return`<a href="${t}">${i}</a>`}return i}};function J(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}e(Q,"TextRun"),e(J,"escape");var Z=class{constructor(t){var e,i,s,n;"object"==typeof t&&null!==t&&Reflect.has(t,"runs")&&Array.isArray(t.runs)?(this.runs=t.runs.map((t=>t.emoji?new X(t):new Q(t))),this.text=this.runs.map((t=>t.text)).join("")):this.text=null==t?void 0:t.simpleText,"object"==typeof t&&null!==t&&Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new z(t.navigationEndpoint)),"object"==typeof t&&null!==t&&Reflect.has(t,"titleNavigationEndpoint")&&(this.endpoint=new z(t.titleNavigationEndpoint)),this.endpoint||(null===(i=null===(e=this.runs)||void 0===e?void 0:e[0])||void 0===i?void 0:i.endpoint)&&(this.endpoint=null===(n=null===(s=this.runs)||void 0===s?void 0:s[0])||void 0===n?void 0:n.endpoint)}static fromAttributed(t){const e=[],i=t.content,s=t.commandRuns;let n=0;if(s){for(const o of s){const s=o.length,a=o.startIndex;if(a>n&&e.push({text:i.slice(n,a)}),Reflect.has(o,"onTap")){let n=null;if(Reflect.has(t,"attachmentRuns")){const e=t.attachmentRuns;for(const t of e)if(t.startIndex-2==a){n=t;break}}n?e.push({text:i.slice(a,a+s),navigationEndpoint:o.onTap,attachment:n}):e.push({text:i.slice(a,a+s),navigationEndpoint:o.onTap})}n=a+s}n<i.length&&e.push({text:i.slice(n)})}else e.push({text:i});return new Z({runs:e})}toHTML(){return this.runs?this.runs.map((t=>t.toHTML())).join(""):this.text}isEmpty(){return void 0===this.text}toString(){return this.text||"N/A"}};e(Z,"Text");var tt=class extends x{constructor(t){super(),this.cards=Aw.parseArray(t.cards),this.header=new Z(t.headerText),this.allow_teaser_dismiss=t.allowTeaserDismiss}};e(tt,"CardCollection"),tt.type="CardCollection";var et=tt,it=class extends x{constructor(t){super(),this.elements=Aw.parseArray(t.elements),this.start_ms=t.startMs}};e(it,"Endscreen"),it.type="Endscreen";var st=it,nt=class extends x{constructor(t){super(),Reflect.has(t,"featuredChannel")&&(this.featured_channel={start_time_ms:t.featuredChannel.startTimeMs,end_time_ms:t.featuredChannel.endTimeMs,watermark:q.fromResponse(t.featuredChannel.watermark),channel_name:t.featuredChannel.channelName,endpoint:new z(t.featuredChannel.navigationEndpoint),subscribe_button:Aw.parseItem(t.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=t.allowSwipeDismiss,this.annotation_id=t.annotationId}};e(nt,"PlayerAnnotationsExpanded"),nt.type="PlayerAnnotationsExpanded";var ot=nt,at=class extends x{constructor(t){super(),Reflect.has(t,"captionTracks")&&(this.caption_tracks=t.captionTracks.map((t=>({base_url:t.baseUrl,name:new Z(t.name),vss_id:t.vssId,language_code:t.languageCode,kind:t.kind,is_translatable:t.isTranslatable})))),Reflect.has(t,"audioTracks")&&(this.audio_tracks=t.audioTracks.map((t=>({audio_track_id:t.audioTrackId,captions_initial_state:t.captionsInitialState,default_caption_track_index:t.defaultCaptionTrackIndex,has_default_track:t.hasDefaultTrack,visibility:t.visibility,caption_track_indices:t.captionTrackIndices})))),Reflect.has(t,"defaultAudioTrackIndex")&&(this.default_audio_track_index=t.defaultAudioTrackIndex),Reflect.has(t,"translationLanguages")&&(this.translation_languages=t.translationLanguages.map((t=>({language_code:t.languageCode,language_name:new Z(t.languageName)}))))}};e(at,"PlayerCaptionsTracklist"),at.type="PlayerCaptionsTracklist";var rt=at,lt=class extends x{constructor(){super()}};e(lt,"PlayerLiveStoryboardSpec"),lt.type="PlayerLiveStoryboardSpec";var ct=lt,dt=class extends x{constructor(t){super();const e=t.spec.split("|"),i=new URL(e.shift());this.boards=e.map(((t,e)=>{const[s,n,o,a,r,l,c,d]=t.split("#");i.searchParams.set("sigh",d);const h=Math.ceil(parseInt(o,10)/(parseInt(a,10)*parseInt(r,10)));return{template_url:i.toString().replace("$L",e).replace("$N",c),thumbnail_width:parseInt(s,10),thumbnail_height:parseInt(n,10),thumbnail_count:parseInt(o,10),interval:parseInt(l,10),columns:parseInt(a,10),rows:parseInt(r,10),storyboard_count:h}}))}};e(dt,"PlayerStoryboardSpec"),dt.type="PlayerStoryboardSpec";var ht=dt,ut=class extends x{constructor(t){super(),this.text=new Z(t.text),this.alert_type=t.type}};e(ut,"Alert"),ut.type="Alert";var pt=ut,mt=class extends x{constructor(t){super(),this.text=new Z(t.text),this.alert_type=t.type,this.dismiss_button=D.parseItem(t.dismissButton,V)}};e(mt,"AlertWithButton"),mt.type="AlertWithButton";var vt=mt,ft=class extends x{constructor(t){super(),this.trigger=t.trigger,Reflect.has(t,"button")&&(this.button=Aw.parseItem(t.button,V)),this.endpoint=new z(t.continuationEndpoint)}};e(ft,"ContinuationItem"),ft.type="ContinuationItem";var yt=ft,gt=class extends x{constructor(t){super(),this.title=new Z(t.title),this.visibility_button=D.parseItem(t.visibilityButton,V)}};e(gt,"EngagementPanelTitleHeader"),gt.type="EngagementPanelTitleHeader";var _t=gt,bt=class extends x{constructor(t){super(),this.items=Aw.parseArray(t.items),this.top_level_buttons=Aw.parseArray(t.topLevelButtons),Reflect.has(t,"accessibility")&&Reflect.has(t.accessibility,"accessibilityData")&&(this.label=t.accessibility.accessibilityData.label)}get contents(){return this.items}};e(bt,"Menu"),bt.type="Menu";var wt=bt,xt=class extends x{constructor(t){super(),this.info_text=new Z(t.infoText),this.menu=D.parseItem(t.menu,wt)}};e(xt,"MacroMarkersInfoItem"),xt.type="MacroMarkersInfoItem";var St=xt,Tt=class extends x{constructor(t){super(),this.title=new Z(t.title),this.time_description=new Z(t.timeDescription),this.thumbnail=q.fromResponse(t.thumbnail),this.on_tap_endpoint=new z(t.onTap),this.layout=t.layout,this.is_highlighted=!!t.isHighlighted}};e(Tt,"MacroMarkersListItem"),Tt.type="MacroMarkersListItem";var Ct=Tt,It=class extends x{constructor(t){super(),this.contents=D.parseArray(t.contents,[St,Ct]),this.sync_button_label=new Z(t.syncButtonLabel)}};e(It,"MacroMarkersList"),It.type="MacroMarkersList";var kt=It,Et=class extends x{constructor(t){super(),this.contents=Aw.parseArray(t.contents)}};e(Et,"ProductList"),Et.type="ProductList";var At=Et,Rt=class extends x{constructor(t){super(),this.contents=Aw.parseArray(t.contents),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),Reflect.has(t,"continuations")&&(Reflect.has(t.continuations[0],"nextContinuationData")?this.continuation=t.continuations[0].nextContinuationData.continuation:Reflect.has(t.continuations[0],"reloadContinuationData")&&(this.continuation=t.continuations[0].reloadContinuationData.continuation)),Reflect.has(t,"header")&&(this.header=Aw.parseItem(t.header)),Reflect.has(t,"subMenu")&&(this.sub_menu=Aw.parseItem(t.subMenu))}};e(Rt,"SectionList"),Rt.type="SectionList";var Mt=Rt,Pt=class extends x{constructor(t){var e;super(),this.show_more_text=new Z(t.showMoreText),this.show_less_text=new Z(t.showLessText),Reflect.has(t,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=null===(e=t.attributedDescriptionBodyText)||void 0===e?void 0:e.content)}};e(Pt,"ExpandableVideoDescriptionBody"),Pt.type="ExpandableVideoDescriptionBody";var Lt=Pt,Dt=class extends x{constructor(t){super(),this.thumbnails=q.fromResponse(t.thumbnail),this.endpoint=new z(t.searchEndpoint),this.query=new Z(t.query).toString()}};e(Dt,"SearchRefinementCard"),Dt.type="SearchRefinementCard";var Ot=Dt,Nt=class extends x{constructor(t){super(),this.game=Aw.parseItem(t.game)}};e(Nt,"GameCard"),Nt.type="GameCard";var Bt=Nt,Vt=class extends x{constructor(t){super(),this.visible_item_count=t.visibleItemCount,this.items=Aw.parseArray(t.items)}get contents(){return this.items}};e(Vt,"HorizontalList"),Vt.type="HorizontalList";var Ut=Vt,Ht=class extends x{constructor(t){super(),Reflect.has(t,"header")&&(this.header={collapsed_title:new Z(t.header.collapsedTitle),collapsed_thumbnail:q.fromResponse(t.header.collapsedThumbnail),collapsed_label:new Z(t.header.collapsedLabel),expanded_title:new Z(t.header.expandedTitle)}),this.expanded_content=Aw.parseItem(t.expandedContent,[Qt,Ut]),this.expand_button=Aw.parseItem(t.expandButton,V),this.collapse_button=Aw.parseItem(t.collapseButton,V)}};e(Ht,"ExpandableMetadata"),Ht.type="ExpandableMetadata";var Ft=Ht,jt=class extends x{constructor(t){super(),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"style")&&(this.style=t.style),Reflect.has(t,"label")&&(this.label=t.label),(Reflect.has(t,"tooltip")||Reflect.has(t,"iconTooltip"))&&(this.tooltip=t.tooltip||t.iconTooltip)}};e(jt,"MetadataBadge"),jt.type="MetadataBadge";var Wt=jt,Gt=class extends x{constructor(t){super(),this.text=new Z(t.text).toString(),this.style=t.style}};e(Gt,"ThumbnailOverlayTimeStatus"),Gt.type="ThumbnailOverlayTimeStatus";var $t=Gt,Yt=class extends x{constructor(t){var e,i,s;super();const n=(null===(e=t.thumbnailOverlays.find((t=>t.thumbnailOverlayTimeStatusRenderer)))||void 0===e?void 0:e.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=t.videoId,this.title=new Z(t.title),Reflect.has(t,"descriptionSnippet")&&(this.description_snippet=new Z(t.descriptionSnippet)),Reflect.has(t,"detailedMetadataSnippets")&&(this.snippets=t.detailedMetadataSnippets.map((t=>({text:new Z(t.snippetText),hover_text:new Z(t.snippetHoverText)})))),this.expandable_metadata=Aw.parseItem(t.expandableMetadata,Ft),this.thumbnails=q.fromResponse(t.thumbnail),this.thumbnail_overlays=Aw.parseArray(t.thumbnailOverlays),Reflect.has(t,"richThumbnail")&&(this.rich_thumbnail=Aw.parseItem(t.richThumbnail)),this.author=new Lw(t.ownerText,t.ownerBadges,null===(s=null===(i=t.channelThumbnailSupportedRenderers)||void 0===i?void 0:i.channelThumbnailWithLinkRenderer)||void 0===s?void 0:s.thumbnail),this.badges=Aw.parseArray(t.badges,Wt),this.endpoint=new z(t.navigationEndpoint),this.published=new Z(t.publishedTimeText),this.view_count=new Z(t.viewCountText),this.short_view_count=new Z(t.shortViewCountText),Reflect.has(t,"upcomingEventData")&&(this.upcoming=new Date(Number(`${t.upcomingEventData.startTime}000`))),this.duration={text:t.lengthText?new Z(t.lengthText).toString():new Z(n).toString(),seconds:qw(t.lengthText?new Z(t.lengthText).toString():new Z(n).toString())},this.show_action_menu=!!t.showActionMenu,this.is_watched=!!t.isWatched,this.menu=Aw.parseItem(t.menu,wt),Reflect.has(t,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=t.searchVideoResultEntityKey)}get description(){var t;return this.snippets?this.snippets.map((t=>t.text.toString())).join(""):(null===(t=this.description_snippet)||void 0===t?void 0:t.toString())||""}get is_live(){var t;return this.badges.some((t=>{if("BADGE_STYLE_TYPE_LIVE_NOW"===t.style||"LIVE"===t.label)return!0}))||"LIVE"===(null===(t=this.thumbnail_overlays.firstOfType($t))||void 0===t?void 0:t.style)}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some((t=>"PREMIERE"===t.label))}get is_4k(){return this.badges.some((t=>"4K"===t.label))}get has_captions(){return this.badges.some((t=>"CC"===t.label))}get best_thumbnail(){return this.thumbnails[0]}};e(Yt,"Video"),Yt.type="Video";var Kt=Yt,zt=class extends Kt{constructor(t){super(t)}};e(zt,"VideoCard"),zt.type="VideoCard";var qt=zt,Xt=class extends x{constructor(t){super(),this.cards=Aw.parseArray(t.cards,[Ot,Ct,Bt,qt]),this.header=Aw.parseItem(t.header),this.previous_button=Aw.parseItem(t.previousButton,V),this.next_button=Aw.parseItem(t.nextButton,V)}};e(Xt,"HorizontalCardList"),Xt.type="HorizontalCardList";var Qt=Xt,Jt=class extends x{constructor(t){super(),this.label=new Z(t.label),this.value=new Z(t.value),this.accessibility_text=t.accessibilityText}};e(Jt,"Factoid"),Jt.type="Factoid";var Zt=Jt,te=class extends x{constructor(t){super(),this.factoid=Aw.parseItem(t.factoid,Zt)}};e(te,"UploadTimeFactoid"),te.type="UploadTimeFactoid";var ee=te,ie=class extends x{constructor(t){super(),this.view_count_entity_key=t.viewCountEntityKey,this.factoid=Aw.parseItem(t.factoid,[Zt]),this.view_count_type=t.viewCountType}};e(ie,"ViewCountFactoid"),ie.type="ViewCountFactoid";var se=ie,ne=class extends x{constructor(t){super(),this.title=new Z(t.title),this.channel=new Z(t.channel),this.channel_navigation_endpoint=new z(t.channelNavigationEndpoint),this.channel_thumbnail=q.fromResponse(t.channelThumbnail),this.publish_date=new Z(t.publishDate),this.views=new Z(t.views),this.factoids=Aw.parseArray(t.factoid,[Zt,se,ee])}};e(ne,"VideoDescriptionHeader"),ne.type="VideoDescriptionHeader";var oe=ne,ae=class extends x{constructor(t){super(),this.section_title=new Z(t.sectionTitle),this.creator_videos_button=Aw.parseItem(t.creatorVideosButton,V),this.creator_about_button=Aw.parseItem(t.creatorAboutButton,V),this.section_subtitle=new Z(t.sectionSubtitle),this.channel_avatar=q.fromResponse(t.channelAvatar),this.channel_endpoint=new z(t.channelEndpoint)}};e(ae,"VideoDescriptionInfocardsSection"),ae.type="VideoDescriptionInfocardsSection";var re=ae,le=class extends x{constructor(t){super(),this.title=new Z(t.title),Reflect.has(t,"defaultMetadata")&&(this.default_metadata=new Z(t.defaultMetadata)),Reflect.has(t,"expandedMetadata")&&(this.expanded_metadata=new Z(t.expandedMetadata)),Reflect.has(t,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=t.infoRowExpandStatusKey)}};e(le,"InfoRow"),le.type="InfoRow";var ce=le,de=class extends x{constructor(t){super(),this.id=t.videoId,this.thumbnails=q.fromResponse(t.thumbnail)||null,Reflect.has(t,"richThumbnail")&&(this.rich_thumbnail=Aw.parse(t.richThumbnail)),this.title=new Z(t.title),this.author=new Lw(t.longBylineText,t.ownerBadges,t.channelThumbnail),this.view_count=new Z(t.viewCountText),this.short_view_count=new Z(t.shortViewCountText),this.published=new Z(t.publishedTimeText),this.badges=Aw.parseArray(t.badges,Wt),this.duration={text:new Z(t.lengthText).toString(),seconds:qw(new Z(t.lengthText).toString())},this.thumbnail_overlays=Aw.parseArray(t.thumbnailOverlays),this.endpoint=new z(t.navigationEndpoint),this.menu=Aw.parseItem(t.menu,wt)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some((t=>"Fundraiser"===t.label))}get is_live(){return this.badges.some((t=>{if("BADGE_STYLE_TYPE_LIVE_NOW"===t.style||"LIVE"===t.label)return!0}))}get is_new(){return this.badges.some((t=>"New"===t.label))}get is_premiere(){return this.badges.some((t=>"PREMIERE"===t.style))}};e(de,"CompactVideo"),de.type="CompactVideo";var he=de,ue=class extends x{constructor(t){super(),this.info_rows=Aw.parseArray(t.infoRows,ce),this.video_lockup=Aw.parseItem(t.videoLockup,he)}};e(ue,"CarouselLockup"),ue.type="CarouselLockup";var pe=ue,me=class extends x{constructor(t){super(),this.carousel_lockups=Aw.parseArray(t.carouselLockups,pe),this.section_title=new Z(t.sectionTitle)}};e(me,"VideoDescriptionMusicSection"),me.type="VideoDescriptionMusicSection";var ve=me,fe=class extends x{constructor(t){super(),this.section_title=new Z(t.sectionTitle),this.sub_header_text=new Z(t.subHeaderText),this.primary_button=Aw.parseItem(t.primaryButton,V)}};e(fe,"VideoDescriptionTranscriptSection"),fe.type="VideoDescriptionTranscriptSection";var ye=fe,ge=class extends x{constructor(t){super(),this.thumbnail=q.fromResponse(t.thumbnail),this.title=new Z(t.title),this.short_byline_text=new Z(t.shortBylineText),this.video_count_short_text=new Z(t.videoCountShortText),this.endpoint=new z(t.navigationEndpoint),this.thumbnail_width=t.thumbnailWidth,this.aspect_ratio=t.aspectRatio,this.max_lines_title=t.maxLinesTitle,this.max_lines_short_byline_text=t.maxLinesShortBylineText,this.overlay_position=t.overlayPosition}};e(ge,"StructuredDescriptionPlaylistLockup"),ge.type="StructuredDescriptionPlaylistLockup";var _e=ge,be=class extends x{constructor(t){super(),this.section_title=new Z(t.sectionTitle),this.media_lockups=Aw.parseArray(t.mediaLockups,[_e])}};e(be,"VideoDescriptionCourseSection"),be.type="VideoDescriptionCourseSection";var we=be,xe=class extends x{constructor(t){super(),this.items=Aw.parseArray(t.items,[oe,Lt,ve,re,we,ye,ye,Qt])}};e(xe,"StructuredDescriptionContent"),xe.type="StructuredDescriptionContent";var Se=xe,Te=class extends x{constructor(t){super(),this.header=Aw.parseItem(t.header,_t),this.content=Aw.parseItem(t.content,[Mt,yt,Se,kt,At]),this.panel_identifier=t.panelIdentifier,this.target_id=t.targetId,this.visibility=t.visibility}};e(Te,"EngagementPanelSectionList"),Te.type="EngagementPanelSectionList";var Ce=Te,Ie=class extends x{constructor(t){super(),this.title=new Z(t.title).toString(),this.form_item_entity_key=t.formItemEntityKey,Reflect.has(t,"selectedIcon")&&(this.selected_icon_type=t.selectedIcon.iconType),Reflect.has(t,"selectedCommand")&&(this.endpoint=new z(t.selectedCommand)),this.selected=!!this.endpoint}};e(Ie,"MusicMultiSelectMenuItem"),Ie.type="MusicMultiSelectMenuItem";var ke,Ee=Ie,Ae=class{constructor(t,e){var i,s,n,o,a,r;if(ke.set(this,void 0),e&&h(this,ke,e,"f"),this.itag=t.itag,this.mime_type=t.mimeType,this.is_type_otf="FORMAT_STREAM_TYPE_OTF"===t.type,this.bitrate=t.bitrate,this.average_bitrate=t.averageBitrate,this.width=t.width,this.height=t.height,this.init_range=t.initRange?{start:parseInt(t.initRange.start),end:parseInt(t.initRange.end)}:void 0,this.index_range=t.indexRange?{start:parseInt(t.indexRange.start),end:parseInt(t.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(t.lastModified)/1e3)),this.content_length=parseInt(t.contentLength),this.quality=t.quality,this.quality_label=t.qualityLabel,this.fps=t.fps,this.url=t.url,this.cipher=t.cipher,this.signature_cipher=t.signatureCipher,this.audio_quality=t.audioQuality,this.approx_duration_ms=parseInt(t.approxDurationMs),this.audio_sample_rate=parseInt(t.audioSampleRate),this.audio_channels=t.audioChannels,this.loudness_db=t.loudnessDb,this.has_audio=!!t.audioBitrate||!!t.audioQuality,this.has_video=!!t.qualityLabel,this.color_info=t.colorInfo?{primaries:null===(i=t.colorInfo.primaries)||void 0===i?void 0:i.replace("COLOR_PRIMARIES_",""),transfer_characteristics:null===(s=t.colorInfo.transferCharacteristics)||void 0===s?void 0:s.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:null===(n=t.colorInfo.matrixCoefficients)||void 0===n?void 0:n.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,this.has_audio){const e=new URLSearchParams(this.cipher||this.signature_cipher),i=null===(o=new URLSearchParams(e.get("url")||this.url).get("xtags"))||void 0===o?void 0:o.split(":"),s=null===(a=null==i?void 0:i.find((t=>t.startsWith("acont="))))||void 0===a?void 0:a.split("=")[1];this.language=(null===(r=null==i?void 0:i.find((t=>t.startsWith("lang="))))||void 0===r?void 0:r.split("=")[1])||null,this.is_dubbed="dubbed"===s,this.is_descriptive="descriptive"===s,this.is_original="original"===s||!this.is_dubbed&&!this.is_descriptive,Reflect.has(t,"audioTrack")&&(this.audio_track={audio_is_default:t.audioTrack.audioIsDefault,display_name:t.audioTrack.displayName,id:t.audioTrack.id})}}decipher(t){if(!t)throw new Nw("Cannot decipher format, this session appears to have no valid player.");return t.decipher(this.url,this.signature_cipher,this.cipher,d(this,ke,"f"))}};e(Ae,"Format"),ke=new WeakMap;var Re=Ae,Me=class{constructor(t){this.id=t.videoId,this.channel_id=t.channelId,this.title=t.title,this.duration=parseInt(t.lengthSeconds),this.keywords=t.keywords,this.is_owner_viewing=!!t.isOwnerViewing,this.short_description=t.shortDescription,this.thumbnail=q.fromResponse(t.thumbnail),this.allow_ratings=!!t.allowRatings,this.view_count=parseInt(t.viewCount),this.author=t.author,this.is_private=!!t.isPrivate,this.is_live=!!t.isLive,this.is_live_content=!!t.isLiveContent,this.is_upcoming=!!t.isUpcoming,this.is_post_live_dvr=!!t.isPostLiveDvr,this.is_crawlable=!!t.isCrawlable}};e(Me,"VideoDetails");var Pe={};i(Pe,{AccountChannel:()=>De,AccountItemSection:()=>Ue,AccountItemSectionHeader:()=>Ne,AccountSectionList:()=>Fe,AddBannerToLiveChatCommand:()=>Wl,AddChatItemAction:()=>$l,AddLiveChatTickerItemAction:()=>Kl,Alert:()=>pt,AlertWithButton:()=>vt,AnalyticsMainAppKeyMetrics:()=>hi,AnalyticsRoot:()=>pi,AnalyticsShortsCarouselCard:()=>vi,AnalyticsVideo:()=>yi,AnalyticsVodCarouselCard:()=>_i,AnchoredSection:()=>If,AppendContinuationItemsAction:()=>We,AudioOnlyPlayability:()=>N,AuthorCommentBadge:()=>Fs,AutomixPreviewVideo:()=>Ci,BackstageImage:()=>ki,BackstagePost:()=>Oi,BackstagePostThread:()=>Bi,BrowseFeedActions:()=>Ui,BrowserMediaSession:()=>Fi,Button:()=>V,C4TabbedHeader:()=>Ji,CallToActionButton:()=>ts,Card:()=>is,CardCollection:()=>et,CarouselHeader:()=>ns,CarouselItem:()=>as,CarouselLockup:()=>pe,Channel:()=>ls,ChannelAboutFullMetadata:()=>ds,ChannelAgeGate:()=>us,ChannelFeaturedContent:()=>ms,ChannelHeaderLinks:()=>Gi,ChannelHeaderLinksView:()=>Yi,ChannelMetadata:()=>fs,ChannelMobileHeader:()=>gs,ChannelOptions:()=>bs,ChannelSubMenu:()=>xs,ChannelThumbnailWithLink:()=>Ts,ChannelVideoPlayer:()=>Is,Chapter:()=>Es,ChildVideo:()=>Rs,ChipCloud:()=>Ds,ChipCloudChip:()=>Ps,CollaboratorInfoCardContent:()=>Ns,CollageHeroImage:()=>Us,Comment:()=>Oo,CommentActionButtons:()=>Li,CommentDialog:()=>Uo,CommentReplies:()=>Fo,CommentReplyDialog:()=>Ws,CommentSimplebox:()=>Zo,CommentThread:()=>ea,CommentsEntryPointHeader:()=>Ko,CommentsEntryPointTeaser:()=>$o,CommentsHeader:()=>qo,CommentsSimplebox:()=>Wo,CompactChannel:()=>sa,CompactLink:()=>oa,CompactMix:()=>pa,CompactMovie:()=>va,CompactPlaylist:()=>ya,CompactStation:()=>_a,CompactVideo:()=>he,ConfirmDialog:()=>wa,ContentPreviewImageView:()=>Sa,ContinuationItem:()=>yt,ConversationBar:()=>ka,CopyLink:()=>Aa,CreatePlaylistDialog:()=>G,CreatorHeart:()=>Mi,CtaGoToCreatorStudio:()=>wi,DataModelSection:()=>ci,DecoratedPlayerBar:()=>Va,DefaultPromoPanel:()=>Ha,DidYouMean:()=>ja,DimChatItemAction:()=>ql,DownloadButton:()=>Ga,Dropdown:()=>j,DropdownItem:()=>H,DynamicTextView:()=>Ya,Element:()=>Xa,EmergencyOnebox:()=>Ja,EmojiPicker:()=>Bo,EmojiPickerCategory:()=>tr,EmojiPickerCategoryButton:()=>ir,EmojiPickerUpsellCategory:()=>nr,EndScreenPlaylist:()=>lr,EndScreenVideo:()=>dr,Endscreen:()=>st,EndscreenElement:()=>ar,EngagementPanelSectionList:()=>Ce,EngagementPanelTitleHeader:()=>_t,ExpandableMetadata:()=>Ft,ExpandableTab:()=>ur,ExpandableVideoDescriptionBody:()=>Lt,ExpandedShelfContents:()=>mr,Factoid:()=>Zt,FancyDismissibleDialog:()=>fr,FeedFilterChipBar:()=>gr,FeedTabbedHeader:()=>br,GameCard:()=>Bt,GameDetails:()=>xr,Grid:()=>Tr,GridChannel:()=>Ir,GridHeader:()=>Er,GridMix:()=>Rr,GridMovie:()=>Pr,GridPlaylist:()=>Dr,GridShow:()=>Hr,GridVideo:()=>jr,GuideCollapsibleEntry:()=>Yr,GuideCollapsibleSectionEntry:()=>zr,GuideDownloadsEntry:()=>Xr,GuideEntry:()=>Gr,GuideSection:()=>Jr,GuideSubscriptionsSection:()=>tl,HashtagHeader:()=>il,HashtagTile:()=>nl,HeatMarker:()=>Ma,Heatmap:()=>La,HeroPlaylistThumbnail:()=>al,HighlightsCarousel:()=>cl,HistorySuggestion:()=>pl,HorizontalCardList:()=>Qt,HorizontalList:()=>Ut,HorizontalMovieList:()=>vl,IconLink:()=>yl,IncludingResultsFor:()=>_l,InfoPanelContainer:()=>Sl,InfoPanelContent:()=>wl,InfoRow:()=>ce,InteractiveTabbedHeader:()=>Cl,ItemSection:()=>Ll,ItemSectionHeader:()=>kl,ItemSectionTab:()=>Al,ItemSectionTabbedHeader:()=>Ml,KidsCategoriesHeader:()=>Rf,KidsCategoryTab:()=>Ef,KidsHomeScreen:()=>Pf,LikeButton:()=>Ol,LiveChat:()=>Bl,LiveChatActionPanel:()=>Ic,LiveChatAuthorBadge:()=>ad,LiveChatAutoModMessage:()=>Ql,LiveChatBanner:()=>Fl,LiveChatBannerHeader:()=>Ul,LiveChatBannerPoll:()=>Zl,LiveChatDialog:()=>ld,LiveChatHeader:()=>dd,LiveChatItemList:()=>ud,LiveChatMembershipItem:()=>ec,LiveChatMessageInput:()=>md,LiveChatPaidMessage:()=>sc,LiveChatPaidSticker:()=>oc,LiveChatParticipant:()=>fd,LiveChatParticipantsList:()=>gd,LiveChatPlaceholderItem:()=>rc,LiveChatProductItem:()=>cc,LiveChatRestrictedParticipation:()=>hc,LiveChatTextMessage:()=>mc,LiveChatTickerPaidMessageItem:()=>fc,LiveChatTickerPaidStickerItem:()=>gc,LiveChatTickerSponsorItem:()=>bc,LiveChatViewerEngagementMessage:()=>xc,MacroMarkersInfoItem:()=>St,MacroMarkersList:()=>kt,MacroMarkersListItem:()=>Ct,MarkChatItemAsDeletedAction:()=>Ec,MarkChatItemsByAuthorAsDeletedAction:()=>Rc,Menu:()=>wt,MenuNavigationItem:()=>bd,MenuPopup:()=>Td,MenuServiceItem:()=>xd,MenuServiceItemDownload:()=>Id,MerchandiseItem:()=>Vd,MerchandiseShelf:()=>Hd,Message:()=>Ca,MetadataBadge:()=>Wt,MetadataRow:()=>jd,MetadataRowContainer:()=>Gd,MetadataRowHeader:()=>Yd,MetadataScreen:()=>zd,MicroformatData:()=>Xd,Mix:()=>Jd,Movie:()=>th,MovingThumbnail:()=>ih,MultiMarkersPlayerBar:()=>Na,MultiPageMenu:()=>Ed,MultiPageMenuNotificationSection:()=>Rd,MusicCardShelf:()=>mh,MusicCardShelfHeaderBasic:()=>nh,MusicCarouselShelf:()=>Fh,MusicCarouselShelfBasicHeader:()=>fh,MusicDescriptionShelf:()=>Wh,MusicDetailHeader:()=>$h,MusicDownloadStateBadge:()=>Kh,MusicEditablePlaylistDetailHeader:()=>qh,MusicElementHeader:()=>Qh,MusicHeader:()=>Zh,MusicImmersiveHeader:()=>eu,MusicInlineBadge:()=>ah,MusicItemThumbnailOverlay:()=>dh,MusicLargeCardItemCarousel:()=>ou,MusicMenuItemDivider:()=>Pd,MusicMultiRowListItem:()=>gh,MusicMultiSelectMenu:()=>Dd,MusicMultiSelectMenuItem:()=>Ee,MusicNavigationButton:()=>bh,MusicPlayButton:()=>lh,MusicPlaylistShelf:()=>ru,MusicQueue:()=>vu,MusicResponsiveListItem:()=>Bh,MusicResponsiveListItemFixedColumn:()=>xh,MusicResponsiveListItemFlexColumn:()=>Oh,MusicShelf:()=>yu,MusicSideAlignedItem:()=>_u,MusicSortFilterButton:()=>wu,MusicTastebuilderShelf:()=>Cu,MusicTastebuilderShelfThumbnail:()=>Su,MusicThumbnail:()=>uh,MusicTwoRowItem:()=>Uh,MusicVisualHeader:()=>ku,NavigationEndpoint:()=>z,Notification:()=>Au,OpenPopupAction:()=>Y,PageHeader:()=>Lu,PageHeaderView:()=>Mu,PageIntroduction:()=>Ou,PdgCommentChip:()=>$s,PlayerAnnotationsExpanded:()=>ot,PlayerCaptionsTracklist:()=>rt,PlayerErrorMessage:()=>Bu,PlayerLegacyDesktopYpcOffer:()=>Uu,PlayerLegacyDesktopYpcTrailer:()=>Wu,PlayerLiveStoryboardSpec:()=>ct,PlayerMicroformat:()=>$u,PlayerOverlay:()=>Qu,PlayerOverlayAutoplay:()=>Ku,PlayerStoryboardSpec:()=>ht,Playlist:()=>ha,PlaylistCustomThumbnail:()=>ra,PlaylistHeader:()=>Zu,PlaylistInfoCardContent:()=>ep,PlaylistMetadata:()=>sp,PlaylistPanel:()=>pu,PlaylistPanelVideo:()=>cu,PlaylistPanelVideoWrapper:()=>hu,PlaylistSidebar:()=>op,PlaylistSidebarPrimaryInfo:()=>rp,PlaylistSidebarSecondaryInfo:()=>cp,PlaylistVideo:()=>hp,PlaylistVideoList:()=>pp,PlaylistVideoThumbnail:()=>ca,Poll:()=>vp,PollHeader:()=>Tc,Post:()=>yp,PostMultiImage:()=>_p,ProductList:()=>At,ProductListHeader:()=>wp,ProductListItem:()=>Sp,ProfileColumn:()=>Cp,ProfileColumnStats:()=>kp,ProfileColumnStatsEntry:()=>Ap,ProfileColumnUserInfo:()=>Mp,Quiz:()=>Lp,RecognitionShelf:()=>Op,ReelItem:()=>Bp,ReelShelf:()=>Up,RelatedChipCloud:()=>Fp,RemoveBannerForLiveChatCommand:()=>Pc,RemoveChatItemAction:()=>Dc,RemoveChatItemByAuthorAction:()=>Nc,ReplaceChatItemAction:()=>Vc,ReplayChatItemAction:()=>Hc,RichGrid:()=>Wp,RichItem:()=>$p,RichListHeader:()=>Kp,RichMetadata:()=>qp,RichMetadataRow:()=>Qp,RichSection:()=>Zp,RichShelf:()=>em,SearchBox:()=>sm,SearchFilter:()=>om,SearchFilterGroup:()=>rm,SearchFilterOptionsDialog:()=>cm,SearchHeader:()=>hm,SearchRefinementCard:()=>Ot,SearchSubMenu:()=>pm,SearchSuggestion:()=>hl,SearchSuggestionsSection:()=>vm,SecondarySearchContainer:()=>ym,SectionList:()=>Mt,SegmentedLikeDislikeButton:()=>_m,SettingBoolean:()=>wm,SettingsCheckbox:()=>Sm,SettingsOptions:()=>km,SettingsSidebar:()=>Am,SettingsSwitch:()=>Cm,SharedPost:()=>Mm,Shelf:()=>Lm,ShowCustomThumbnail:()=>Nr,ShowLiveChatActionPanelAction:()=>jc,ShowLiveChatDialogAction:()=>Gc,ShowLiveChatTooltipCommand:()=>Yc,ShowingResultsFor:()=>Om,SimpleCardContent:()=>Bm,SimpleCardTeaser:()=>Um,SimpleMenuHeader:()=>Nd,SimpleTextSection:()=>Fm,SingleActionEmergencySupport:()=>Wm,SingleColumnBrowseResults:()=>Km,SingleColumnMusicWatchNextResults:()=>qm,SingleHeroImage:()=>Qm,SlimOwner:()=>Zm,SlimVideoMetadata:()=>ev,SortFilterSubMenu:()=>$e,SponsorCommentBadge:()=>qs,StatRow:()=>Si,StructuredDescriptionContent:()=>Se,StructuredDescriptionPlaylistLockup:()=>_e,SubFeedOption:()=>sv,SubFeedSelector:()=>ov,SubscribeButton:()=>Xi,SubscriptionNotificationToggleButton:()=>zi,Tab:()=>$m,Tabbed:()=>rv,TabbedSearchResults:()=>cv,TextHeader:()=>hv,ThumbnailLandscapePortrait:()=>pv,ThumbnailOverlayBottomPanel:()=>Vr,ThumbnailOverlayEndorsement:()=>vv,ThumbnailOverlayHoverText:()=>yv,ThumbnailOverlayInlineUnplayable:()=>_v,ThumbnailOverlayLoadingPreview:()=>wv,ThumbnailOverlayNowPlaying:()=>Sv,ThumbnailOverlayPinking:()=>Cv,ThumbnailOverlayPlaybackStatus:()=>kv,ThumbnailOverlayResumePlayback:()=>Av,ThumbnailOverlaySidePanel:()=>Mv,ThumbnailOverlayTimeStatus:()=>$t,ThumbnailOverlayToggleButton:()=>Lv,TimedMarkerDecoration:()=>Ov,TitleAndButtonListHeader:()=>Bv,ToggleButton:()=>Ai,ToggleMenuServiceItem:()=>Uv,Tooltip:()=>Fv,TopicChannelDetails:()=>Wv,Transcript:()=>oi,TranscriptFooter:()=>Ke,TranscriptSearchBox:()=>qe,TranscriptSearchPanel:()=>si,TranscriptSectionHeader:()=>Qe,TranscriptSegment:()=>Ze,TranscriptSegmentList:()=>ei,TwoColumnBrowseResults:()=>$v,TwoColumnSearchResults:()=>qv,TwoColumnWatchNextResults:()=>Qv,UniversalWatchCard:()=>Zv,UpdateDateTextAction:()=>zc,UpdateDescriptionAction:()=>Xc,UpdateEngagementPanelAction:()=>ri,UpdateLiveChatPollAction:()=>Jc,UpdateTitleAction:()=>td,UpdateToggleButtonTextAction:()=>id,UpdateViewershipAction:()=>nd,UploadTimeFactoid:()=>ee,UpsellDialog:()=>ef,VerticalList:()=>nf,VerticalWatchCardList:()=>af,Video:()=>Kt,VideoCard:()=>qt,VideoDescriptionCourseSection:()=>we,VideoDescriptionHeader:()=>oe,VideoDescriptionInfocardsSection:()=>re,VideoDescriptionMusicSection:()=>ve,VideoDescriptionTranscriptSection:()=>ye,VideoInfoCardContent:()=>lf,VideoOwner:()=>df,VideoPrimaryInfo:()=>uf,VideoSecondaryInfo:()=>mf,ViewCountFactoid:()=>se,WatchCardCompactVideo:()=>ff,WatchCardHeroVideo:()=>gf,WatchCardRichHeader:()=>bf,WatchCardSectionSequence:()=>xf,WatchNextEndScreen:()=>qu,WatchNextTabbedResults:()=>Tf,YpcTrailer:()=>Fu});var Le=class extends x{constructor(t){super(),this.title=new Z(t.title),this.endpoint=new z(t.navigationEndpoint)}};e(Le,"AccountChannel"),Le.type="AccountChannel";var De=Le,Oe=class extends x{constructor(t){super(),this.title=new Z(t.title)}};e(Oe,"AccountItemSectionHeader"),Oe.type="AccountItemSectionHeader";var Ne=Oe,Be=class extends x{constructor(t){super(),this.account_name=new Z(t.accountName),this.account_photo=q.fromResponse(t.accountPhoto),this.is_selected=!!t.isSelected,this.is_disabled=!!t.isDisabled,this.has_channel=!!t.hasChannel,this.endpoint=new z(t.serviceEndpoint),this.account_byline=new Z(t.accountByline)}};e(Be,"AccountItem"),Be.type="AccountItem";var Ve=class extends x{constructor(t){super(),this.contents=C(t.contents.map((t=>new Be(t.accountItem)))),this.header=Aw.parseItem(t.header,Ne)}};e(Ve,"AccountItemSection"),Ve.type="AccountItemSection";var Ue=Ve,He=class extends x{constructor(t){super(),this.contents=Aw.parseItem(t.contents[0],Ue),this.footers=Aw.parseItem(t.footers[0],De)}};e(He,"AccountSectionList"),He.type="AccountSectionList";var Fe=He,je=class extends x{constructor(t){super(),this.contents=Aw.parseArray(t.continuationItems),this.target=t.target}};e(je,"AppendContinuationItemsAction"),je.type="AppendContinuationItemsAction";var We=je,Ge=class extends x{constructor(t){super(),Reflect.has(t,"title")&&(this.title=t.title),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"accessibility")&&(this.label=t.accessibility.accessibilityData.label),Reflect.has(t,"tooltip")&&(this.tooltip=t.tooltip),Reflect.has(t,"subMenuItems")&&(this.sub_menu_items=t.subMenuItems.map((t=>{var e,i;return{title:t.title,selected:t.selected,continuation:null===(i=null===(e=t.continuation)||void 0===e?void 0:e.reloadContinuationData)||void 0===i?void 0:i.continuation,endpoint:new z(t.serviceEndpoint||t.navigationEndpoint),subtitle:t.subtitle||null}})))}};e(Ge,"SortFilterSubMenu"),Ge.type="SortFilterSubMenu";var $e=Ge,Ye=class extends x{constructor(t){super(),this.language_menu=Aw.parseItem(t.languageMenu,$e)}};e(Ye,"TranscriptFooter"),Ye.type="TranscriptFooter";var Ke=Ye,ze=class extends x{constructor(t){super(),this.formatted_placeholder=new Z(t.formattedPlaceholder),this.clear_button=Aw.parseItem(t.clearButton,V),this.endpoint=new z(t.onTextChangeCommand),this.search_button=Aw.parseItem(t.searchButton,V)}};e(ze,"TranscriptSearchBox"),ze.type="TranscriptSearchBox";var qe=ze,Xe=class extends x{constructor(t){super(),this.start_ms=t.startMs,this.end_ms=t.endMs,this.snippet=new Z(t.snippet)}};e(Xe,"TranscriptSectionHeader"),Xe.type="TranscriptSectionHeader";var Qe=Xe,Je=class extends x{constructor(t){super(),this.start_ms=t.startMs,this.end_ms=t.endMs,this.snippet=new Z(t.snippet),this.start_time_text=new Z(t.startTimeText),this.target_id=t.targetId}};e(Je,"TranscriptSegment"),Je.type="TranscriptSegment";var Ze=Je,ti=class extends x{constructor(t){super(),this.initial_segments=Aw.parseArray(t.initialSegments,[Ze,Qe]),this.no_result_label=new Z(t.noResultLabel),this.retry_label=new Z(t.retryLabel),this.touch_captions_enabled=t.touchCaptionsEnabled}};e(ti,"TranscriptSegmentList"),ti.type="TranscriptSegmentList";var ei=ti,ii=class extends x{constructor(t){super(),this.header=Aw.parseItem(t.header,qe),this.body=Aw.parseItem(t.body,ei),this.footer=Aw.parseItem(t.footer,Ke),this.target_id=t.targetId}};e(ii,"TranscriptSearchPanel"),ii.type="TranscriptSearchPanel";var si=ii,ni=class extends x{constructor(t){super(),this.content=Aw.parseItem(t.content,si)}};e(ni,"Transcript"),ni.type="Transcript";var oi=ni,ai=class extends x{constructor(t){super(),this.target_id=t.targetId,this.content=Aw.parseItem(t.content,oi)}};e(ai,"UpdateEngagementPanelAction"),ai.type="UpdateEngagementPanelAction";var ri=ai,li=class extends x{constructor(t){super(),this.title=t.title,this.subtitle=t.subtitle,this.metric_value=t.metricValue,this.comparison_indicator=t.comparisonIndicator;const e=t.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:e.linesData[0].x,y:e.linesData[0].y,style:{line_width:e.linesData[0].style.lineWidth,line_color:e.linesData[0].style.lineColor}},domain_axis:{tick_values:e.domainAxis.tickValues,custom_formatter:e.domainAxis.customFormatter},measure_axis:{tick_values:e.measureAxis.tickValues,custom_formatter:e.measureAxis.customFormatter}}}}};e(li,"DataModelSection"),li.type="DataModelSection";var ci=li,di=class extends x{constructor(t){super(),this.period=t.cardData.periodLabel;const e=t.cardData.sections[0].analyticsKeyMetricsData;this.sections=e.dataModel.sections.map((t=>new ci(t)))}};e(di,"AnalyticsMainAppKeyMetrics"),di.type="AnalyticsMainAppKeyMetrics";var hi=di,ui=class extends x{constructor(t){super();const e=t.analyticsTableCarouselData.data.tableCards;this.title=t.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=t.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=e.map((t=>({title:t.cardData.title,rows:t.cardData.rows.map((t=>({label:t.label,display_value:t.displayValue,display_value_a11y:t.displayValueA11y,bar_ratio:t.barRatio,bar_color:t.barColor,bar_opacity:t.barOpacity})))}))),this.use_main_app_specs=t.analyticsTableCarouselData.useMainAppSpecs}};e(ui,"AnalyticsRoot"),ui.type="AnalyticsRoot";var pi=ui,mi=class extends x{constructor(t){super(),this.title=t.title,this.shorts=t.shortsCarouselData.shorts.map((t=>({description:t.shortsDescription,thumbnail_url:t.thumbnailUrl,endpoint:new z(t.videoEndpoint)})))}};e(mi,"AnalyticsShortsCarouselCard"),mi.type="AnalyticsShortsCarouselCard";var vi=mi,fi=class extends x{constructor(t){super(),this.title=t.videoTitle,this.metadata={views:t.videoDescription.split("")[0].trim(),published:t.videoDescription.split("")[1].trim(),thumbnails:q.fromResponse(t.thumbnailDetails),duration:t.formattedLength,is_short:t.isShort}}};e(fi,"AnalyticsVideo"),fi.type="AnalyticsVideo";var yi=fi,gi=class extends x{constructor(t){super(),this.title=t.title,Reflect.has(t,"noDataMessage")&&(this.no_data_message=t.noDataMessage),Reflect.has(t,"videoCarouselData")&&Reflect.has(t.videoCarouselData,"videos")&&(this.videos=t.videoCarouselData.videos.map((t=>new yi(t))))}};e(gi,"AnalyticsVodCarouselCard"),gi.type="AnalyticsVodCarouselCard";var _i=gi,bi=class extends x{constructor(t){super(),this.title=t.buttonLabel,this.use_new_specs=t.useNewSpecs}};e(bi,"CtaGoToCreatorStudio"),bi.type="CtaGoToCreatorStudio";var wi=bi,xi=class extends x{constructor(t){super(),this.title=new Z(t.title),this.contents=new Z(t.contents)}};e(xi,"StatRow"),xi.type="StatRow";var Si=xi,Ti=class extends x{constructor(t){var e,i;super(),(null===(i=null===(e=null==t?void 0:t.content)||void 0===e?void 0:e.automixPlaylistVideoRenderer)||void 0===i?void 0:i.navigationEndpoint)&&(this.playlist_video={endpoint:new z(t.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};e(Ti,"AutomixPreviewVideo"),Ti.type="AutomixPreviewVideo";var Ci=Ti,Ii=class extends x{constructor(t){super(),this.image=q.fromResponse(t.image),this.endpoint=new z(t.command)}};e(Ii,"BackstageImage"),Ii.type="BackstageImage";var ki=Ii,Ei=class extends x{constructor(t){var e,i,s,n,o,a,r,l;super(),this.text=new Z(t.defaultText),this.toggled_text=new Z(t.toggledText),this.tooltip=t.defaultTooltip,this.toggled_tooltip=t.toggledTooltip,this.is_toggled=t.isToggled,this.is_disabled=t.isDisabled,this.icon_type=t.defaultIcon.iconType;const c=(null===(s=null===(i=null===(e=null==t?void 0:t.defaultText)||void 0===e?void 0:e.accessibility)||void 0===i?void 0:i.accessibilityData)||void 0===s?void 0:s.label)||(null===(o=null===(n=null==t?void 0:t.accessibilityData)||void 0===n?void 0:n.accessibilityData)||void 0===o?void 0:o.label)||(null===(a=null==t?void 0:t.accessibility)||void 0===a?void 0:a.label);"LIKE"==this.icon_type&&(this.like_count=parseInt(c.replace(/\D/g,"")),this.short_like_count=new Z(t.defaultText).toString()),this.endpoint=(null===(l=null===(r=t.defaultServiceEndpoint)||void 0===r?void 0:r.commandExecutorCommand)||void 0===l?void 0:l.commands)?new z(t.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new z(t.defaultServiceEndpoint),this.toggled_endpoint=new z(t.toggledServiceEndpoint),Reflect.has(t,"toggleButtonSupportedData")&&Reflect.has(t.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=t.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(t,"targetId")&&(this.target_id=t.targetId)}};e(Ei,"ToggleButton"),Ei.type="ToggleButton";var Ai=Ei,Ri=class extends x{constructor(t){var e,i;super(),this.creator_thumbnail=q.fromResponse(t.creatorThumbnail),Reflect.has(t,"heartIcon")&&Reflect.has(t.heartIcon,"iconType")&&(this.heart_icon_type=t.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:null===(i=null===(e=t.heartColor)||void 0===e?void 0:e.basicColorPaletteData)||void 0===i?void 0:i.foregroundTitleColor}},this.hearted_tooltip=t.heartedTooltip,this.is_hearted=t.isHearted,this.is_enabled=t.isEnabled,this.kennedy_heart_color_string=t.kennedyHeartColorString}};e(Ri,"CreatorHeart"),Ri.type="CreatorHeart";var Mi=Ri,Pi=class extends x{constructor(t){super(),this.like_button=Aw.parseItem(t.likeButton,Ai),this.dislike_button=Aw.parseItem(t.dislikeButton,Ai),this.reply_button=Aw.parseItem(t.replyButton,V),this.creator_heart=Aw.parseItem(t.creatorHeart,Mi)}};e(Pi,"CommentActionButtons"),Pi.type="CommentActionButtons";var Li=Pi,Di=class extends x{constructor(t){super(),this.id=t.postId,this.author=new Lw(Object.assign(Object.assign({},t.authorText),{navigationEndpoint:t.authorEndpoint}),null,t.authorThumbnail),this.content=new Z(t.contentText),this.published=new Z(t.publishedTimeText),Reflect.has(t,"pollStatus")&&(this.poll_status=t.pollStatus),Reflect.has(t,"voteStatus")&&(this.vote_status=t.voteStatus),Reflect.has(t,"voteCount")&&(this.vote_count=new Z(t.voteCount)),Reflect.has(t,"actionMenu")&&(this.menu=Aw.parseItem(t.actionMenu,wt)),Reflect.has(t,"actionButtons")&&(this.action_buttons=Aw.parseItem(t.actionButtons,Li)),Reflect.has(t,"voteButton")&&(this.vote_button=Aw.parseItem(t.voteButton,V)),Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new z(t.navigationEndpoint)),Reflect.has(t,"backstageAttachment")&&(this.attachment=Aw.parseItem(t.backstageAttachment)),this.surface=t.surface}};e(Di,"BackstagePost"),Di.type="BackstagePost";var Oi=Di,Ni=class extends x{constructor(t){super(),this.post=Aw.parseItem(t.post)}};e(Ni,"BackstagePostThread"),Ni.type="BackstagePostThread";var Bi=Ni,Vi=class extends x{constructor(t){super(),this.contents=Aw.parseArray(t.contents)}};e(Vi,"BrowseFeedActions"),Vi.type="BrowseFeedActions";var Ui=Vi,Hi=class extends x{constructor(t){super(),this.album=new Z(t.album),this.thumbnails=q.fromResponse(t.thumbnailDetails)}};e(Hi,"BrowserMediaSession"),Hi.type="BrowserMediaSession";var Fi=Hi,ji=class extends x{constructor(t){super(),this.endpoint=new z(t.navigationEndpoint),this.icon=q.fromResponse(t.icon),this.title=new Z(t.title)}};e(ji,"HeaderLink"),ji.type="HeaderLink";var Wi=class extends x{constructor(t){var e,i;super(),this.primary=C((null===(e=t.primaryLinks)||void 0===e?void 0:e.map((t=>new ji(t))))||[]),this.secondary=C((null===(i=t.secondaryLinks)||void 0===i?void 0:i.map((t=>new ji(t))))||[])}};e(Wi,"ChannelHeaderLinks"),Wi.type="ChannelHeaderLinks";var Gi=Wi,$i=class extends x{constructor(t){super(),Reflect.has(t,"firstLink")&&(this.first_link=Z.fromAttributed(t.firstLink)),Reflect.has(t,"more")&&(this.more=Z.fromAttributed(t.more))}};e($i,"ChannelHeaderLinksView"),$i.type="ChannelHeaderLinksView";var Yi=$i,Ki=class extends x{constructor(t){super(),this.states=t.states.map((t=>({id:t.stateId,next_id:t.nextStateId,state:Aw.parse(t.state)}))),this.current_state_id=t.currentStateId,this.target_id=t.targetId}};e(Ki,"SubscriptionNotificationToggleButton"),Ki.type="SubscriptionNotificationToggleButton";var zi=Ki,qi=class extends x{constructor(t){var e,i;super(),this.title=new Z(t.buttonText),this.subscribed=t.subscribed,this.enabled=t.enabled,this.item_type=t.type,this.channel_id=t.channelId,this.show_preferences=t.showPreferences,this.subscribed_text=new Z(t.subscribedButtonText),this.unsubscribed_text=new Z(t.unsubscribedButtonText),this.notification_preference_button=Aw.parseItem(t.notificationPreferenceButton,zi),this.endpoint=new z((null===(e=t.serviceEndpoints)||void 0===e?void 0:e[0])||(null===(i=t.onSubscribeEndpoints)||void 0===i?void 0:i[0]))}};e(qi,"SubscribeButton"),qi.type="SubscribeButton";var Xi=qi,Qi=class extends x{constructor(t){super(),this.author=new Lw({simpleText:t.title,navigationEndpoint:t.navigationEndpoint},t.badges,t.avatar),Reflect.has(t,"banner")&&(this.banner=q.fromResponse(t.banner)),Reflect.has(t,"tv_banner")&&(this.tv_banner=q.fromResponse(t.tvBanner)),Reflect.has(t,"mobile_banner")&&(this.mobile_banner=q.fromResponse(t.mobileBanner)),Reflect.has(t,"subscriberCountText")&&(this.subscribers=new Z(t.subscriberCountText)),Reflect.has(t,"videosCountText")&&(this.videos_count=new Z(t.videosCountText)),Reflect.has(t,"sponsorButton")&&(this.sponsor_button=Aw.parseItem(t.sponsorButton,V)),Reflect.has(t,"subscribeButton")&&(this.subscribe_button=Aw.parseItem(t.subscribeButton,[Xi,V])),Reflect.has(t,"headerLinks")&&(this.header_links=Aw.parseItem(t.headerLinks,[Gi,Yi])),Reflect.has(t,"channelHandleText")&&(this.channel_handle=new Z(t.channelHandleText)),Reflect.has(t,"channelId")&&(this.channel_id=t.channelId)}};e(Qi,"C4TabbedHeader"),Qi.type="C4TabbedHeader";var Ji=Qi,Zi=class extends x{constructor(t){super(),this.label=new Z(t.label),this.icon_type=t.icon.iconType,this.style=t.style}};e(Zi,"CallToActionButton"),Zi.type="CallToActionButton";var ts=Zi,es=class extends x{constructor(t){super(),this.teaser=Aw.parseItem(t.teaser),this.content=Aw.parseItem(t.content),Reflect.has(t,"cardId")&&(this.card_id=t.cardId),Reflect.has(t,"feature")&&(this.feature=t.feature),this.cue_ranges=t.cueRanges.map((t=>({start_card_active_ms:t.startCardActiveMs,end_card_active_ms:t.endCardActiveMs,teaser_duration_ms:t.teaserDurationMs,icon_after_teaser_ms:t.iconAfterTeaserMs})))}};e(es,"Card"),es.type="Card";var is=es,ss=class extends x{constructor(t){super(),this.contents=Aw.parseArray(t.contents)}};e(ss,"CarouselHeader"),ss.type="CarouselHeader";var ns=ss,os=class extends x{constructor(t){super(),this.items=Aw.parseArray(t.carouselItems),this.background_color=t.backgroundColor,this.layout_style=t.layoutStyle,this.pagination_thumbnails=q.fromResponse(t.paginationThumbnails),this.paginator_alignment=t.paginatorAlignment}get contents(){return this.items}};e(os,"CarouselItem"),os.type="CarouselItem";var as=os,rs=class extends x{constructor(t){super(),this.id=t.channelId,this.author=new Lw(Object.assign(Object.assign({},t.title),{navigationEndpoint:t.navigationEndpoint}),t.ownerBadges,t.thumbnail),this.subscriber_count=new Z(t.subscriberCountText),this.video_count=new Z(t.videoCountText),this.long_byline=new Z(t.longBylineText),this.short_byline=new Z(t.shortBylineText),this.endpoint=new z(t.navigationEndpoint),this.subscribe_button=Aw.parseItem(t.subscribeButton,[Xi,V]),this.description_snippet=new Z(t.descriptionSnippet)}get subscribers(){return this.subscriber_count}get videos(){return this.video_count}};e(rs,"Channel"),rs.type="Channel";var ls=rs,cs=class extends x{constructor(t){var e,i;super(),this.id=t.channelId,this.name=new Z(t.title),this.avatar=q.fromResponse(t.avatar),this.canonical_channel_url=t.canonicalChannelUrl,this.primary_links=null!==(i=null===(e=t.primaryLinks)||void 0===e?void 0:e.map((t=>({endpoint:new z(t.navigationEndpoint),icon:q.fromResponse(t.icon),title:new Z(t.title)}))))&&void 0!==i?i:[],this.view_count=new Z(t.viewCountText),this.joined_date=new Z(t.joinedDateText),this.description=new Z(t.description),this.email_reveal=new z(t.onBusinessEmailRevealClickCommand),this.can_reveal_email=!t.signInForBusinessEmail,this.country=new Z(t.country),this.buttons=Aw.parseArray(t.actionButtons,V)}get views(){return this.view_count}get joined(){return this.joined_date}};e(cs,"ChannelAboutFullMetadata"),cs.type="ChannelAboutFullMetadata";var ds=cs,hs=class extends x{constructor(t){super(),this.channel_title=t.channelTitle,this.avatar=q.fromResponse(t.avatar),this.header=new Z(t.header),this.main_text=new Z(t.mainText),this.sign_in_button=D.parseItem(t.signInButton,V),this.secondary_text=new Z(t.secondaryText)}};e(hs,"ChannelAgeGate"),hs.type="ChannelAgeGate";var us=hs,ps=class extends x{constructor(t){super(),this.title=new Z(t.title),this.items=Aw.parseArray(t.items)}};e(ps,"ChannelFeaturedContent"),ps.type="ChannelFeaturedContent";var ms=ps,vs=class extends x{constructor(t){super(),this.title=t.title,this.description=t.description,this.url=t.channelUrl,this.rss_url=t.rssUrl,this.vanity_channel_url=t.vanityChannelUrl,this.external_id=t.externalId,this.is_family_safe=t.isFamilySafe,this.keywords=t.keywords,this.avatar=q.fromResponse(t.avatar),this.music_artist_name="string"==typeof t.musicArtistName&&t.musicArtistName.length>0?t.musicArtistName:void 0,this.available_countries=t.availableCountryCodes,this.android_deep_link=t.androidDeepLink,this.android_appindexing_link=t.androidAppindexingLink,this.ios_appindexing_link=t.iosAppindexingLink}};e(vs,"ChannelMetadata"),vs.type="ChannelMetadata";var fs=vs,ys=class extends x{constructor(t){super(),this.title=new Z(t.title)}};e(ys,"ChannelMobileHeader"),ys.type="ChannelMobileHeader";var gs=ys,_s=class extends x{constructor(t){super(),this.avatar=q.fromResponse(t.avatar),this.endpoint=new z(t.avatarEndpoint),this.name=t.name,this.links=t.links.map((t=>new Z(t)))}};e(_s,"ChannelOptions"),_s.type="ChannelOptions";var bs=_s,ws=class extends x{constructor(t){super(),this.content_type_sub_menu_items=t.contentTypeSubMenuItems.map((t=>({endpoint:new z(t.navigationEndpoint||t.endpoint),selected:t.selected,title:t.title}))),this.sort_setting=Aw.parseItem(t.sortSetting)}};e(ws,"ChannelSubMenu"),ws.type="ChannelSubMenu";var xs=ws,Ss=class extends x{constructor(t){var e,i;super(),this.thumbnails=q.fromResponse(t.thumbnail),this.endpoint=new z(t.navigationEndpoint),this.label=null===(i=null===(e=t.accessibility)||void 0===e?void 0:e.accessibilityData)||void 0===i?void 0:i.label}};e(Ss,"ChannelThumbnailWithLink"),Ss.type="ChannelThumbnailWithLink";var Ts=Ss,Cs=class extends x{constructor(t){super(),this.id=t.videoId,this.title=new Z(t.title),this.description=new Z(t.description),this.view_count=new Z(t.viewCountText),this.published_time=new Z(t.publishedTimeText)}get views(){return this.view_count}get published(){return this.published_time}};e(Cs,"ChannelVideoPlayer"),Cs.type="ChannelVideoPlayer";var Is=Cs,ks=class extends x{constructor(t){super(),this.title=new Z(t.title),this.time_range_start_millis=t.timeRangeStartMillis,this.thumbnail=q.fromResponse(t.thumbnail)}};e(ks,"Chapter"),ks.type="Chapter";var Es=ks,As=class extends x{constructor(t){super(),this.id=t.videoId,this.title=new Z(t.title),this.duration={text:t.lengthText.simpleText,seconds:qw(t.lengthText.simpleText)},this.endpoint=new z(t.navigationEndpoint)}};e(As,"ChildVideo"),As.type="ChildVideo";var Rs=As,Ms=class extends x{constructor(t){super(),this.is_selected=t.isSelected,Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new z(t.navigationEndpoint)),this.text=new Z(t.text).toString()}};e(Ms,"ChipCloudChip"),Ms.type="ChipCloudChip";var Ps=Ms,Ls=class extends x{constructor(t){super(),this.chips=Aw.parseArray(t.chips,Ps),this.next_button=Aw.parseItem(t.nextButton,V),this.previous_button=Aw.parseItem(t.previousButton,V),this.horizontal_scrollable=t.horizontalScrollable}};e(Ls,"ChipCloud"),Ls.type="ChipCloud";var Ds=Ls,Os=class extends x{constructor(t){super(),this.channel_avatar=q.fromResponse(t.channelAvatar),this.custom_text=new Z(t.customText),this.channel_name=new Z(t.channelName),this.subscriber_count=new Z(t.subscriberCountText),this.endpoint=new z(t.endpoint)}};e(Os,"CollaboratorInfoCardContent"),Os.type="CollaboratorInfoCardContent";var Ns=Os,Bs=class extends x{constructor(t){super(),this.left=q.fromResponse(t.leftThumbnail),this.top_right=q.fromResponse(t.topRightThumbnail),this.bottom_right=q.fromResponse(t.bottomRightThumbnail),this.endpoint=new z(t.navigationEndpoint)}};e(Bs,"CollageHeroImage"),Bs.type="CollageHeroImage";var Vs,Us=Bs,Hs=class extends x{constructor(t){super(),Vs.set(this,void 0),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.tooltip=t.iconTooltip,"Verified"===this.tooltip&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(t.style="BADGE_STYLE_TYPE_VERIFIED"),h(this,Vs,t,"f")}get orig_badge(){return d(this,Vs,"f")}};e(Hs,"AuthorCommentBadge"),Vs=new WeakMap,Hs.type="AuthorCommentBadge";var Fs=Hs,js=class extends x{constructor(t){super(),this.reply_button=Aw.parseItem(t.replyButton,V),this.cancel_button=Aw.parseItem(t.cancelButton,V),this.author_thumbnail=q.fromResponse(t.authorThumbnail),this.placeholder=new Z(t.placeholderText),this.error_message=new Z(t.errorMessage)}};e(js,"CommentReplyDialog"),js.type="CommentReplyDialog";var Ws=js,Gs=class extends x{constructor(t){var e,i;super(),this.text=new Z(t.chipText),this.color_pallette={background_color:null===(e=t.chipColorPalette)||void 0===e?void 0:e.backgroundColor,foreground_title_color:null===(i=t.chipColorPalette)||void 0===i?void 0:i.foregroundTitleColor},Reflect.has(t,"chipIcon")&&Reflect.has(t.chipIcon,"iconType")&&(this.icon_type=t.chipIcon.iconType)}};e(Gs,"PdgCommentChip"),Gs.type="PdgCommentChip";var $s=Gs,Ys=class extends x{constructor(t){super(),this.custom_badge=q.fromResponse(t.customBadge),this.tooltip=t.tooltip}};e(Ys,"SponsorCommentBadge"),Ys.type="SponsorCommentBadge";var Ks,zs,qs=Ys,Xs={};i(Xs,{decodeVisitorData:()=>xo,encodeChannelAnalyticsParams:()=>So,encodeCommentActionParams:()=>Ao,encodeCommentParams:()=>Eo,encodeCommentsSectionParams:()=>ko,encodeCustomThumbnailPayload:()=>Po,encodeHashtag:()=>Lo,encodeMessageParams:()=>Io,encodeMusicSearchFilters:()=>Co,encodeNotificationPref:()=>Ro,encodeSearchFilters:()=>To,encodeVideoMetadataPayload:()=>Mo,encodeVisitorData:()=>wo}),(zs=Ks||(Ks={}))[zs.Varint=0]="Varint",zs[zs.Fixed64=1]="Fixed64",zs[zs.LengthDelimited=2]="LengthDelimited",zs[zs.StartGroup=3]="StartGroup",zs[zs.EndGroup=4]="EndGroup",zs[zs.Fixed32=5]="Fixed32";var Qs=65535,Js=class extends Uint32Array{constructor(t=0,e=0){super([t,e])}toString(t=!0){const[e,i]=this;if(0===e&&0===i)return"0";if(t&&i>2147483647)return"-"+sn(rn(this),tn).toString(!1);const s=[];let n=new Js(e,i);for(;an(n,Zs);){const[t,e]=on(n);s.push(e),n=t}return s.reverse().join("")}static parse(t){const e=parseInt(t,10),i=e<0;if(Number.isNaN(e))return new Js(0);if(t.length<10)return e<0?sn(rn(new Js(-e)),tn):new Js(e);let s=new Js,n=tn;for(const e of t.split("").reverse())parseInt(e)&&(s=sn(s,nn(new Js(parseInt(e)),n))),n=nn(n,new Js(10));return i?sn(rn(s),tn):s}};e(Js,"Long");var Zs=new Js(0),tn=new Js(1);function en(t){const[e,i]=t;return[e&Qs,e>>>16,i&Qs,i>>>16]}function sn(t,e){const[i,s,n,o]=en(t),[a,r,l,c]=en(e);let d=0,h=0,u=0,p=0;return p+=i+a,u+=p>>>16,p&=Qs,u+=s+r,h+=u>>>16,u&=Qs,h+=n+l,d+=h>>>16,h&=Qs,d+=o+c,d&=Qs,new Js(u<<16|p,d<<16|h)}function nn(t,e){const[i,s,n,o]=en(t),[a,r,l,c]=en(e);let d=0,h=0,u=0,p=0;return p+=i*a,u+=p>>>16,p&=Qs,u+=i*r+s*a,h+=u>>>16,u&=Qs,h+=i*l+n*a+s*r,d+=h>>>16,h&=Qs,d+=i*c+s*l+n*r+o*a,d&=Qs,new Js(u<<16|p,d<<16|h)}function on(t){const[e,i]=t;return[new Js((i%10*4294967296+e)/10|0,i/10|0),(i%10*4294967296+e)%10]}function an(t,e){const[i,s]=t,[n,o]=e;return s!==o?s-o:i-n}function rn(t){const[e,i]=t;return new Js(~e,~i)}function ln(t){const e=[];let i="number"==typeof t?new Js(t):t;for(;i[0]||i[1];){const[t,s]=i,n=127&t;i=new Js(t>>>7|(127&s)<<25,s>>>7);const o=i[0]||i[1]?128|n:n;e.push(o)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}function cn(t){let e=new Js(0),i=0;for(;;){const s=t.getUint8(i);if(e=dn(e,hn(new Js(127&s),7*i)),++i,!(s>>>7))return[i,e]}}function dn(t,e){return new Js(t[0]|e[0],t[1]|e[1])}function hn(t,e){return 0===e?t:e>=32?new Js(0,t[0]<<e-32):new Js(t[0]<<e,t[1]<<e|t[0]>>>32-e)}function un(t){const e=[];return t.forEach((([t,i])=>{switch(e.push(ln(t<<3|i.type)),i.type){case Ks.Varint:e.push(ln(i.value));break;case Ks.Fixed64:{const t=new Uint8Array(8),s=new DataView(t.buffer);s.setUint32(0,i.value[0],!0),s.setUint32(4,i.value[1],!0),e.push(t);break}case Ks.LengthDelimited:e.push(ln(i.value.byteLength)),e.push(i.value);break;case Ks.Fixed32:{const t=new Uint8Array(4);new DataView(t.buffer).setUint32(0,i.value,!0),e.push(t);break}}})),pn(e)}function pn(t){const e=t.reduce(((t,e)=>t+e.byteLength),0),i=new Uint8Array(e);return t.reduce(((t,e)=>(i.set(e,t),t+e.byteLength)),0),i}function mn(t){if(t instanceof Js){const e=new Js(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new Js(4294967295,4294967295):new Js;return new Js(e[0]^i[0],e[1]^i[1])}return(2*t^t>>31)>>>0}function vn(t){if(t instanceof Js){const e=new Js(t[0]>>>1|t[1]<<31,t[1]>>>1),i=1&t[0]?new Js(4294967295,4294967295):new Js;return new Js(e[0]^i[0],e[1]^i[1])}return t>>>1^-(1&t)}e(en,"makeChunk"),e(sn,"add"),e(nn,"mul"),e(on,"divByTen"),e(an,"compare"),e(rn,"negate"),e(ln,"encode"),e(cn,"decode"),e(dn,"or"),e(hn,"leftshift"),e(un,"serialize"),e(pn,"concat"),e(mn,"encode"),e(vn,"decode");var fn={int32:t=>0|t[0],int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>vn(t[0]),sint64:t=>vn(t).toString(!0),bool:t=>0!==t[0]},yn={int32:t=>new Js(t),int64:t=>Js.parse(t),uint32:t=>new Js(t),uint64:t=>Js.parse(t),sint32:t=>mn(new Js(t)),sint64:t=>mn(Js.parse(t)),bool:t=>new Js(+t)},gn=Object.fromEntries(Object.entries(fn).map((([t,e])=>[t,t=>{if(t.type===Ks.Varint)return e(t.value)}]))),_n=Object.fromEntries(Object.entries(yn).map((([t,e])=>[t,t=>({type:Ks.Varint,value:e(t)})]))),bn=Object.assign(Object.assign({},gn),{double:t=>{if(t.type!==Ks.Fixed64)return;return new DataView(t.value.buffer).getFloat64(0,!0)},float:t=>{if(t.type!==Ks.Fixed32)return;return new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0)},fixed32:t=>{if(t.type===Ks.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===Ks.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===Ks.Fixed32)return 0|t.value},sfixed64:t=>{if(t.type===Ks.Fixed64)return t.value.toString(!0)},string:t=>{if(t.type!==Ks.LengthDelimited)return;return(new TextDecoder).decode(t.value)},bytes:t=>{if(t.type===Ks.LengthDelimited)return t.value}}),wn=Object.assign(Object.assign({},_n),{double:t=>{const e=new Js;return new DataView(e.buffer).setFloat64(0,t,!0),{type:Ks.Fixed64,value:e}},float:t=>{const e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:Ks.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:Ks.Fixed32,value:t>>>0}),fixed64:t=>({type:Ks.Fixed64,value:Js.parse(t)}),sfixed32:t=>({type:Ks.Fixed32,value:0|t}),sfixed64:t=>({type:Ks.Fixed64,value:Js.parse(t)}),string:t=>{const e=new TextEncoder;return{type:Ks.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:Ks.LengthDelimited,value:t})}),xn=Object.fromEntries(Object.keys(fn).map((t=>[t,function*(e){for(const i of e){const e=bn[t](i);if(null!=e)yield e;else for(const e of En(i))yield fn[t](e)}}]))),Sn=(Object.assign(Object.assign({},xn),{*double(t){for(const e of t){const t=bn.double(e);null!=t?yield t:yield*In(e)}},*float(t){for(const e of t){const t=bn.float(e);null!=t?yield t:yield*kn(e)}},*fixed32(t){for(const e of t){const t=bn.fixed32(e);if(null!=t)yield t;else for(const t of An(e))yield t>>>0}},*fixed64(t){for(const e of t){const t=bn.fixed64(e);if(null!=t)yield t;else for(const t of Rn(e))yield t.toString(!1)}},*sfixed32(t){for(const e of t){const t=bn.sfixed32(e);if(null!=t)yield t;else for(const t of An(e))yield 0|t}},*sfixed64(t){for(const e of t){const t=bn.sfixed64(e);if(null!=t)yield t;else for(const t of Rn(e))yield t.toString(!0)}}}),Object.fromEntries(Object.keys(yn).map((t=>[t,function(e){return{type:Ks.LengthDelimited,value:pn(e.map((e=>ln(yn[t](e)))))}}]))));function Tn(t,i){return e((function(e){const s=new Uint8Array(e.length*t),n=new DataView(s.buffer);for(let s=0;s<e.length;++s)i(n,s*t,e[s]);return{type:Ks.LengthDelimited,value:s}}),"pack")}e(Tn,"getFixedPackFn");var Cn;Object.assign(Object.assign({},Sn),{double:Tn(8,((t,e,i)=>{t.setFloat64(e,i,!0)})),float:Tn(4,((t,e,i)=>{t.setFloat32(e,i,!0)})),fixed32:Tn(4,((t,e,i)=>{t.setUint32(e,i,!0)})),fixed64:Tn(8,((t,e,i)=>{const s=Js.parse(i);t.setUint32(e,s[0],!0),t.setUint32(e+4,s[1],!0)})),sfixed32:Tn(4,((t,e,i)=>{t.setInt32(e,i,!0)})),sfixed64:Tn(8,((t,e,i)=>{const s=Js.parse(i);t.setUint32(e,s[0],!0),t.setUint32(e+4,s[1],!0)}))});function*In(t){if(t.type!==Ks.LengthDelimited)return;const{value:e}=t;let i=0;const s=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){const t=s.getFloat64(i,!0);i+=4,yield t}}function*kn(t){if(t.type!==Ks.LengthDelimited)return;const{value:e}=t;let i=0;const s=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){const t=s.getFloat32(i,!0);i+=4,yield t}}function*En(t){if(t.type!==Ks.LengthDelimited)return;const{value:e}=t;let i=0;const s=e.byteOffset;for(;i<e.length;){const t=cn(new DataView(e.buffer,s+i));i+=t[0],yield t[1]}}function*An(t){if(t.type!==Ks.LengthDelimited)return;const{value:e}=t;let i=0;const s=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){const t=s.getUint32(i,!0);i+=4,yield t}}function*Rn(t){if(t.type!==Ks.LengthDelimited)return;const{value:e}=t;let i=0;const s=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){const t=s.getUint32(i,!0);i+=4;const e=s.getUint32(i,!0);i+=4,yield new Js(t,e)}}function Mn(t){let e=0;const i=t.byteOffset,s=[],n=new DataView(t.buffer,i);for(;e<t.length;){const o=cn(new DataView(t.buffer,i+e)),a=o[1][0];e+=o[0];const r=7&a,l=a>>>3;switch(r){default:throw new Error(`Unknown wire type ${r}`);case Ks.Varint:{const[n,o]=cn(new DataView(t.buffer,i+e));s.push([l,{type:r,value:o}]),e+=n;break}case Ks.Fixed64:const o=n.getUint32(e,!0),a=n.getUint32(e+=4,!0);e+=4,s.push([l,{type:r,value:new Js(o,a)}]);break;case Ks.LengthDelimited:{const[n,o]=cn(new DataView(t.buffer,i+e));s.push([l,{type:r,value:t.subarray(e+=n,e+=o[0])}]);break}case Ks.StartGroup:case Ks.EndGroup:s.push([l,{type:r}]);break;case Ks.Fixed32:s.push([l,{type:r,value:n.getUint32(e,!0)}]),e+=4}}return s}function Pn(){return{id:"",timestamp:0}}function Ln(t){const e=[];if(void 0!==t.id){const i=t.id;e.push([1,wn.string(i)])}if(void 0!==t.timestamp){const i=t.timestamp;e.push([5,wn.int32(i)])}return un(e)}function Dn(t){const e={id:"",timestamp:0},i=Mn(t),s=new Map(i);t:{const t=s.get(1);if(void 0===t)break t;const i=bn.string(t);void 0!==i&&(e.id=i)}t:{const t=s.get(5);if(void 0===t)break t;const i=bn.int32(t);void 0!==i&&(e.timestamp=i)}return e}function On(t){const e=[];if(void 0!==t.channelId){const i=t.channelId;e.push([1001,wn.string(i)])}return un(e)}function Nn(t){const e=[];if(void 0!==t.params){const i=t.params;e.push([32,{type:Ks.LengthDelimited,value:On(i)}])}return un(e)}function Bn(t){const e=[];if(void 0!==t.uploadDate){const i=t.uploadDate;e.push([1,wn.int32(i)])}if(void 0!==t.type){const i=t.type;e.push([2,wn.int32(i)])}if(void 0!==t.duration){const i=t.duration;e.push([3,wn.int32(i)])}if(void 0!==t.featuresHd){const i=t.featuresHd;e.push([4,wn.int32(i)])}if(void 0!==t.featuresSubtitles){const i=t.featuresSubtitles;e.push([5,wn.int32(i)])}if(void 0!==t.featuresCreativeCommons){const i=t.featuresCreativeCommons;e.push([6,wn.int32(i)])}if(void 0!==t.features3d){const i=t.features3d;e.push([7,wn.int32(i)])}if(void 0!==t.featuresLive){const i=t.featuresLive;e.push([8,wn.int32(i)])}if(void 0!==t.featuresPurchased){const i=t.featuresPurchased;e.push([9,wn.int32(i)])}if(void 0!==t.features4k){const i=t.features4k;e.push([14,wn.int32(i)])}if(void 0!==t.features360){const i=t.features360;e.push([15,wn.int32(i)])}if(void 0!==t.featuresLocation){const i=t.featuresLocation;e.push([23,wn.int32(i)])}if(void 0!==t.featuresHdr){const i=t.featuresHdr;e.push([25,wn.int32(i)])}if(void 0!==t.featuresVr180){const i=t.featuresVr180;e.push([26,wn.int32(i)])}return un(e)}function Vn(t){const e=[];if(void 0!==t.sortBy){const i=t.sortBy;e.push([1,wn.int32(i)])}if(void 0!==t.filters){const i=t.filters;e.push([2,{type:Ks.LengthDelimited,value:Bn(i)}])}if(void 0!==t.noFilter){const i=t.noFilter;e.push([19,wn.int32(i)])}return un(e)}function Un(t){const e=[];if(void 0!==t.song){const i=t.song;e.push([1,wn.int32(i)])}if(void 0!==t.video){const i=t.video;e.push([2,wn.int32(i)])}if(void 0!==t.album){const i=t.album;e.push([3,wn.int32(i)])}if(void 0!==t.artist){const i=t.artist;e.push([4,wn.int32(i)])}if(void 0!==t.playlist){const i=t.playlist;e.push([5,wn.int32(i)])}return un(e)}function Hn(t){const e=[];if(void 0!==t.type){const i=t.type;e.push([17,{type:Ks.LengthDelimited,value:Un(i)}])}return un(e)}function Fn(t){const e=[];if(void 0!==t.filters){const i=t.filters;e.push([2,{type:Ks.LengthDelimited,value:Hn(i)}])}return un(e)}function jn(t){const e=[];if(void 0!==t.channelId){const i=t.channelId;e.push([1,wn.string(i)])}if(void 0!==t.videoId){const i=t.videoId;e.push([2,wn.string(i)])}return un(e)}function Wn(t){const e=[];if(void 0!==t.ids){const i=t.ids;e.push([5,{type:Ks.LengthDelimited,value:jn(i)}])}return un(e)}function Gn(t){const e=[];if(void 0!==t.params){const i=t.params;e.push([1,{type:Ks.LengthDelimited,value:Wn(i)}])}if(void 0!==t.number0){const i=t.number0;e.push([2,wn.int32(i)])}if(void 0!==t.number1){const i=t.number1;e.push([3,wn.int32(i)])}return un(e)}function $n(t){const e=[];if(void 0!==t.videoId){const i=t.videoId;e.push([2,wn.string(i)])}return un(e)}function Yn(t){const e=[];if(void 0!==t.unkParam){const i=t.unkParam;e.push([1,wn.int32(i)])}return un(e)}function Kn(t){const e=[];if(void 0!==t.commentId){const i=t.commentId;e.push([2,wn.string(i)])}if(void 0!==t.unkopts){const i=t.unkopts;e.push([4,{type:Ks.LengthDelimited,value:Yn(i)}])}if(void 0!==t.channelId){const i=t.channelId;e.push([5,wn.string(i)])}if(void 0!==t.videoId){const i=t.videoId;e.push([6,wn.string(i)])}if(void 0!==t.unkParam1){const i=t.unkParam1;e.push([8,wn.int32(i)])}if(void 0!==t.unkParam2){const i=t.unkParam2;e.push([9,wn.int32(i)])}return un(e)}function zn(t){const e=[];if(void 0!==t.videoId){const i=t.videoId;e.push([4,wn.string(i)])}if(void 0!==t.sortBy){const i=t.sortBy;e.push([6,wn.int32(i)])}if(void 0!==t.type){const i=t.type;e.push([15,wn.int32(i)])}return un(e)}function qn(t){const e=[];if(void 0!==t.unkToken){const i=t.unkToken;e.push([1,wn.string(i)])}if(void 0!==t.repliesOpts){const i=t.repliesOpts;e.push([3,{type:Ks.LengthDelimited,value:Kn(i)}])}if(void 0!==t.opts){const i=t.opts;e.push([4,{type:Ks.LengthDelimited,value:zn(i)}])}if(void 0!==t.page){const i=t.page;e.push([5,wn.int32(i)])}if(void 0!==t.target){const i=t.target;e.push([8,wn.string(i)])}return un(e)}function Xn(t){const e=[];if(void 0!==t.ctx){const i=t.ctx;e.push([2,{type:Ks.LengthDelimited,value:$n(i)}])}if(void 0!==t.unkParam){const i=t.unkParam;e.push([3,wn.int32(i)])}if(void 0!==t.params){const i=t.params;e.push([6,{type:Ks.LengthDelimited,value:qn(i)}])}return un(e)}function Qn(t){const e=[];if(void 0!==t.index){const i=t.index;e.push([1,wn.int32(i)])}return un(e)}function Jn(t){const e=[];if(void 0!==t.videoId){const i=t.videoId;e.push([2,wn.string(i)])}if(void 0!==t.params){const i=t.params;e.push([5,{type:Ks.LengthDelimited,value:Qn(i)}])}if(void 0!==t.number){const i=t.number;e.push([10,wn.int32(i)])}return un(e)}function Zn(t){const e=[];if(void 0!==t.text){const i=t.text;e.push([1,wn.string(i)])}return un(e)}function to(t){const e=[];if(void 0!==t.comment){const i=t.comment;e.push([1,{type:Ks.LengthDelimited,value:Zn(i)}])}return un(e)}function eo(t){const e=[];if(void 0!==t.commentId){const i=t.commentId;e.push([2,wn.string(i)])}if(void 0!==t.params){const i=t.params;e.push([3,{type:Ks.LengthDelimited,value:to(i)}])}if(void 0!==t.targetLanguage){const i=t.targetLanguage;e.push([4,wn.string(i)])}return un(e)}function io(t){const e=[];if(void 0!==t.type){const i=t.type;e.push([1,wn.int32(i)])}if(void 0!==t.unkNum){const i=t.unkNum;e.push([2,wn.int32(i)])}if(void 0!==t.commentId){const i=t.commentId;e.push([3,wn.string(i)])}if(void 0!==t.videoId){const i=t.videoId;e.push([5,wn.string(i)])}if(void 0!==t.channelId){const i=t.channelId;e.push([23,wn.string(i)])}if(void 0!==t.translateCommentParams){const i=t.translateCommentParams;e.push([31,{type:Ks.LengthDelimited,value:eo(i)}])}return un(e)}function so(t){const e=[];if(void 0!==t.index){const i=t.index;e.push([1,wn.int32(i)])}return un(e)}function no(t){const e=[];if(void 0!==t.channelId){const i=t.channelId;e.push([1,wn.string(i)])}if(void 0!==t.prefId){const i=t.prefId;e.push([2,{type:Ks.LengthDelimited,value:so(i)}])}if(void 0!==t.number0){const i=t.number0;e.push([3,wn.int32(i)])}if(void 0!==t.number1){const i=t.number1;e.push([4,wn.int32(i)])}return un(e)}function oo(t){const e=[];if(void 0!==t.unkparam){const i=t.unkparam;e.push([16,wn.int32(i)])}if(void 0!==t.clientVersion){const i=t.clientVersion;e.push([17,wn.string(i)])}if(void 0!==t.clientName){const i=t.clientName;e.push([18,wn.string(i)])}return un(e)}function ao(t){const e=[];if(void 0!==t.client){const i=t.client;e.push([1,{type:Ks.LengthDelimited,value:oo(i)}])}return un(e)}function ro(t){const e=[];if(void 0!==t.text){const i=t.text;e.push([1,wn.string(i)])}return un(e)}function lo(t){const e=[];if(void 0!==t.text){const i=t.text;e.push([1,wn.string(i)])}return un(e)}function co(t){const e=[];for(const i of t.list)e.push([1,wn.string(i)]);return un(e)}function ho(t){const e=[];if(void 0!==t.id){const i=t.id;e.push([1,wn.int32(i)])}return un(e)}function uo(t){const e=[];if(void 0!==t.type){const i=t.type;e.push([1,wn.string(i)])}return un(e)}function po(t){const e=[];if(void 0!==t.imageData){const i=t.imageData;e.push([1,wn.bytes(i)])}return un(e)}function mo(t){const e=[];if(void 0!==t.type){const i=t.type;e.push([1,wn.int32(i)])}if(void 0!==t.thumbnail){const i=t.thumbnail;e.push([3,{type:Ks.LengthDelimited,value:po(i)}])}return un(e)}function vo(t){const e=[];if(void 0!==t.type){const i=t.type;e.push([1,wn.int32(i)])}return un(e)}function fo(t){const e=[];if(void 0!==t.unkparam){const i=t.unkparam;e.push([1,wn.int32(i)])}if(void 0!==t.choice){const i=t.choice;e.push([2,wn.int32(i)])}return un(e)}function yo(t){const e=[];if(void 0!==t.unkparam){const i=t.unkparam;e.push([1,wn.int32(i)])}if(void 0!==t.choice){const i=t.choice;e.push([2,wn.int32(i)])}return un(e)}function go(t){const e=[];if(void 0!==t.context){const i=t.context;e.push([1,{type:Ks.LengthDelimited,value:ao(i)}])}if(void 0!==t.target){const i=t.target;e.push([2,wn.string(i)])}if(void 0!==t.title){const i=t.title;e.push([3,{type:Ks.LengthDelimited,value:ro(i)}])}if(void 0!==t.description){const i=t.description;e.push([4,{type:Ks.LengthDelimited,value:lo(i)}])}if(void 0!==t.tags){const i=t.tags;e.push([6,{type:Ks.LengthDelimited,value:co(i)}])}if(void 0!==t.category){const i=t.category;e.push([7,{type:Ks.LengthDelimited,value:ho(i)}])}if(void 0!==t.license){const i=t.license;e.push([8,{type:Ks.LengthDelimited,value:uo(i)}])}if(void 0!==t.videoThumbnail){const i=t.videoThumbnail;e.push([20,{type:Ks.LengthDelimited,value:mo(i)}])}if(void 0!==t.privacy){const i=t.privacy;e.push([38,{type:Ks.LengthDelimited,value:vo(i)}])}if(void 0!==t.madeForKids){const i=t.madeForKids;e.push([68,{type:Ks.LengthDelimited,value:fo(i)}])}if(void 0!==t.ageRestricted){const i=t.ageRestricted;e.push([69,{type:Ks.LengthDelimited,value:yo(i)}])}return un(e)}function _o(t){const e=[];if(void 0!==t.hashtag){const i=t.hashtag;e.push([1,wn.string(i)])}if(void 0!==t.type){const i=t.type;e.push([3,wn.int32(i)])}return un(e)}function bo(t){const e=[];if(void 0!==t.params){const i=t.params;e.push([93,{type:Ks.LengthDelimited,value:_o(i)}])}return un(e)}function wo(t,e){const i=Ln({id:t,timestamp:e});return encodeURIComponent(ex(i).replace(/\+/g,"-").replace(/\//g,"_"))}function xo(t){return Dn(ix(decodeURIComponent(t)))}function So(t){const e=Nn({params:{channelId:t}});return encodeURIComponent(ex(e))}function To(t){const e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},s={all:void 0,short:1,long:2,medium:3},n={relevance:void 0,rating:1,upload_date:2,view_count:3},o={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},a={};if(t?a.filters={}:a.noFilter=0,a.filters&&(t.upload_date&&(a.filters.uploadDate=e[t.upload_date]),t.type&&(a.filters.type=i[t.type]),t.duration&&(a.filters.duration=s[t.duration]),t.sort_by&&"relevance"!==t.sort_by&&(a.sortBy=n[t.sort_by]),t.features))for(const e of t.features)a.filters[o[e]]=1;const r=Vn(a);return encodeURIComponent(ex(r))}function Co(t){var e;const i={filters:{type:{}}};t.type&&"all"!==t.type&&(null===(e=i.filters)||void 0===e?void 0:e.type)&&(i.filters.type[t.type]=1);const s=Fn(i);return encodeURIComponent(ex(s))}function Io(t,e){const i=Gn({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(ex(i)))}function ko(t,e={}){const i=Xn({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(ex(i))}function Eo(t){const e=Jn({videoId:t,params:{index:0},number:7});return encodeURIComponent(ex(e))}function Ao(t,e={}){const i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if("string"!=typeof e.target_language)throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}const s=io(i);return encodeURIComponent(ex(s))}function Ro(t,e){const i=no({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(ex(i))}function Mo(t,e){const i={context:{client:{unkparam:14,clientName:M.ANDROID.NAME,clientVersion:M.YTSTUDIO_ANDROID.VERSION}},target:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2});return go(i)}function Po(t,e){return go({context:{client:{unkparam:14,clientName:M.ANDROID.NAME,clientVersion:M.YTSTUDIO_ANDROID.VERSION}},target:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}})}function Lo(t){const e=bo({params:{hashtag:t,type:1}});return encodeURIComponent(ex(e))}e(In,"unpackDouble"),e(kn,"unpackFloat"),e(En,"unpackVarint"),e(An,"unpackFixed32"),e(Rn,"unpackFixed64"),e(Mn,"deserialize"),e(Pn,"getDefaultValue"),e(Ln,"encodeBinary"),e(Dn,"decodeBinary"),e(On,"encodeBinary"),e(Nn,"encodeBinary"),e(Bn,"encodeBinary"),e(Vn,"encodeBinary"),e(Un,"encodeBinary"),e(Hn,"encodeBinary"),e(Fn,"encodeBinary"),e(jn,"encodeBinary"),e(Wn,"encodeBinary"),e(Gn,"encodeBinary"),e($n,"encodeBinary"),e(Yn,"encodeBinary"),e(Kn,"encodeBinary"),e(zn,"encodeBinary"),e(qn,"encodeBinary"),e(Xn,"encodeBinary"),e(Qn,"encodeBinary"),e(Jn,"encodeBinary"),e(Zn,"encodeBinary"),e(to,"encodeBinary"),e(eo,"encodeBinary"),e(io,"encodeBinary"),e(so,"encodeBinary"),e(no,"encodeBinary"),e(oo,"encodeBinary"),e(ao,"encodeBinary"),e(ro,"encodeBinary"),e(lo,"encodeBinary"),e(co,"encodeBinary"),e(ho,"encodeBinary"),e(uo,"encodeBinary"),e(po,"encodeBinary"),e(mo,"encodeBinary"),e(vo,"encodeBinary"),e(fo,"encodeBinary"),e(yo,"encodeBinary"),e(go,"encodeBinary"),e(_o,"encodeBinary"),e(bo,"encodeBinary"),e(wo,"encodeVisitorData"),e(xo,"decodeVisitorData"),e(So,"encodeChannelAnalyticsParams"),e(To,"encodeSearchFilters"),e(Co,"encodeMusicSearchFilters"),e(Io,"encodeMessageParams"),e(ko,"encodeCommentsSectionParams"),e(Eo,"encodeCommentParams"),e(Ao,"encodeCommentActionParams"),e(Ro,"encodeNotificationPref"),e(Mo,"encodeVideoMetadataPayload"),e(Po,"encodeCustomThumbnailPayload"),e(Lo,"encodeHashtag");var Do=class extends x{constructor(t){var e,i,s,n,o,a,r;super(),Cn.set(this,void 0),this.content=new Z(t.contentText),this.published=new Z(t.publishedTimeText),this.author_is_channel_owner=t.authorIsChannelOwner,this.current_user_reply_thumbnail=q.fromResponse(t.currentUserReplyThumbnail),this.sponsor_comment_badge=Aw.parseItem(t.sponsorCommentBadge,qs),this.paid_comment_chip=Aw.parseItem(t.paidCommentChipRenderer,$s),this.author_badge=Aw.parseItem(t.authorCommentBadge,Fs),this.author=new Lw(Object.assign(Object.assign({},t.authorText),{navigationEndpoint:t.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:null===(e=this.author_badge)||void 0===e?void 0:e.orig_badge}]:null,t.authorThumbnail),this.action_menu=Aw.parseItem(t.actionMenu,wt),this.action_buttons=Aw.parseItem(t.actionButtons,Li),this.comment_id=t.commentId,this.vote_status=t.voteStatus,this.vote_count=t.voteCount?new Z(t.voteCount).toString():"0",this.reply_count=t.replyCount||0,this.is_liked=!!(null===(s=null===(i=this.action_buttons)||void 0===i?void 0:i.like_button)||void 0===s?void 0:s.is_toggled),this.is_disliked=!!(null===(o=null===(n=this.action_buttons)||void 0===n?void 0:n.dislike_button)||void 0===o?void 0:o.is_toggled),this.is_hearted=!!(null===(r=null===(a=this.action_buttons)||void 0===a?void 0:a.creator_heart)||void 0===r?void 0:r.is_hearted),this.is_pinned=!!t.pinnedCommentBadge,this.is_member=!!t.sponsorCommentBadge}like(){var t;return o(this,void 0,void 0,(function*(){if(!d(this,Cn,"f"))throw new Nw("An active caller must be provide to perform this operation.");const e=null===(t=this.action_buttons)||void 0===t?void 0:t.like_button;if(!e)throw new Nw("Like button was not found.",{comment_id:this.comment_id});if(e.is_toggled)throw new Nw("This comment is already liked",{comment_id:this.comment_id});return yield e.endpoint.call(d(this,Cn,"f"),{parse:!1})}))}dislike(){var t;return o(this,void 0,void 0,(function*(){if(!d(this,Cn,"f"))throw new Nw("An active caller must be provide to perform this operation.");const e=null===(t=this.action_buttons)||void 0===t?void 0:t.dislike_button;if(!e)throw new Nw("Dislike button was not found.",{comment_id:this.comment_id});if(e.is_toggled)throw new Nw("This comment is already disliked",{comment_id:this.comment_id});return yield e.endpoint.call(d(this,Cn,"f"),{parse:!1})}))}reply(t){var e,i,s;return o(this,void 0,void 0,(function*(){if(!d(this,Cn,"f"))throw new Nw("An active caller must be provide to perform this operation.");if(!(null===(e=this.action_buttons)||void 0===e?void 0:e.reply_button))throw new Nw("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});const n=null===(i=this.action_buttons)||void 0===i?void 0:i.reply_button;if(!(null===(s=n.endpoint)||void 0===s?void 0:s.dialog))throw new Nw("Reply button endpoint did not have a dialog.");const o=n.endpoint.dialog.as(Ws).reply_button;if(!o)throw new Nw("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!o.endpoint)throw new Nw("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield o.endpoint.call(d(this,Cn,"f"),{commentText:t})}))}translate(t){var e,i,s,n,a,r;return o(this,void 0,void 0,(function*(){if(!d(this,Cn,"f"))throw new Nw("An active caller must be provide to perform this operation.");const o=Ao(22,{text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:t,comment_id:this.comment_id}),l=yield d(this,Cn,"f").execute("comment/perform_comment_action",{action:o,client:"ANDROID"}),c=null===(i=null===(e=l.data.frameworkUpdates)||void 0===e?void 0:e.entityBatchUpdate)||void 0===i?void 0:i.mutations,h=null===(r=null===(a=null===(n=null===(s=null==c?void 0:c[0])||void 0===s?void 0:s.payload)||void 0===n?void 0:n.commentEntityPayload)||void 0===a?void 0:a.translatedContent)||void 0===r?void 0:r.content;return Object.assign(Object.assign({},l),{content:h})}))}setActions(t){h(this,Cn,t,"f")}};e(Do,"Comment"),Cn=new WeakMap,Do.type="Comment";var Oo=Do,No=class extends x{constructor(t){super(),this.id=t.id,this.categories=Aw.parseArray(t.categories),this.category_buttons=Aw.parseArray(t.categoryButtons),this.search_placeholder=new Z(t.searchPlaceholderText),this.search_no_results=new Z(t.searchNoResultsText),this.pick_skin_tone=new Z(t.pickSkinToneText),this.clear_search_label=t.clearSearchLabel,this.skin_tone_generic_label=t.skinToneGenericLabel,this.skin_tone_light_label=t.skinToneLightLabel,this.skin_tone_medium_light_label=t.skinToneMediumLightLabel,this.skin_tone_medium_label=t.skinToneMediumLabel,this.skin_tone_medium_dark_label=t.skinToneMediumDarkLabel,this.skin_tone_dark_label=t.skinToneDarkLabel}};e(No,"EmojiPicker"),No.type="EmojiPicker";var Bo=No,Vo=class extends x{constructor(t){super(),this.editable_text=new Z(t.editableText),this.author_thumbnail=q.fromResponse(t.authorThumbnail),this.submit_button=Aw.parseItem(t.submitButton,V),this.cancel_button=Aw.parseItem(t.cancelButton,V),this.placeholder=new Z(t.placeholderText),this.emoji_button=Aw.parseItem(t.emojiButton,V),this.emoji_picker=Aw.parseItem(t.emojiPicker,Bo)}};e(Vo,"CommentDialog"),Vo.type="CommentDialog";var Uo=Vo,Ho=class extends x{constructor(t){super(),this.contents=Aw.parseArray(t.contents),this.view_replies=Aw.parseItem(t.viewReplies,V),this.hide_replies=Aw.parseItem(t.hideReplies,V),this.view_replies_creator_thumbnail=q.fromResponse(t.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!t.viewRepliesCreatorThumbnail}};e(Ho,"CommentReplies"),Ho.type="CommentReplies";var Fo=Ho,jo=class extends x{constructor(t){super(),this.simplebox_avatar=q.fromResponse(t.simpleboxAvatar),this.simplebox_placeholder=new Z(t.simpleboxPlaceholder)}};e(jo,"CommentsSimplebox"),jo.type="CommentsSimplebox";var Wo=jo,Go=class extends x{constructor(t){super(),Reflect.has(t,"teaserAvatar")&&(this.teaser_avatar=q.fromResponse(t.teaserAvatar)),Reflect.has(t,"teaserContent")&&(this.teaser_content=new Z(t.teaserContent))}};e(Go,"CommentsEntryPointTeaser"),Go.type="CommentsEntryPointTeaser";var $o=Go,Yo=class extends x{constructor(t){super(),Reflect.has(t,"headerText")&&(this.header=new Z(t.headerText)),Reflect.has(t,"commentCount")&&(this.comment_count=new Z(t.commentCount)),(Reflect.has(t,"teaserAvatar")||Reflect.has(t,"simpleboxAvatar"))&&(this.teaser_avatar=q.fromResponse(t.teaserAvatar||t.simpleboxAvatar)),Reflect.has(t,"teaserContent")&&(this.teaser_content=new Z(t.teaserContent)),Reflect.has(t,"contentRenderer")&&(this.content_renderer=D.parseItem(t.contentRenderer,[$o,Wo])),Reflect.has(t,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new Z(t.simpleboxPlaceholder))}};e(Yo,"CommentsEntryPointHeader"),Yo.type="CommentsEntryPointHeader";var Ko=Yo,zo=class extends x{constructor(t){super(),this.title=new Z(t.titleText),this.count=new Z(t.countText),this.comments_count=new Z(t.commentsCount),this.create_renderer=Aw.parseItem(t.createRenderer),this.sort_menu=Aw.parseItem(t.sortMenu,$e),Reflect.has(t,"customEmojis")&&(this.custom_emojis=t.customEmojis.map((t=>({emoji_id:t.emojiId,shortcuts:t.shortcuts,search_terms:t.searchTerms,image:q.fromResponse(t.image),is_custom_emoji:t.isCustomEmoji}))))}};e(zo,"CommentsHeader"),zo.type="CommentsHeader";var qo=zo,Xo=class extends x{constructor(t){super(),this.submit_button=Aw.parseItem(t.submitButton,V),this.cancel_button=Aw.parseItem(t.cancelButton,V),this.author_thumbnail=q.fromResponse(t.authorThumbnail),this.placeholder=new Z(t.placeholderText),this.avatar_size=t.avatarSize}};e(Xo,"CommentSimplebox"),Xo.type="CommentSimplebox";var Qo,Jo,Zo=Xo,ta=class extends x{constructor(t){super(),Qo.set(this,void 0),Jo.set(this,void 0),this.comment=Aw.parseItem(t.comment,Oo),this.comment_replies_data=Aw.parseItem(t.replies,Fo),this.is_moderated_elq_comment=t.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var t;return o(this,void 0,void 0,(function*(){if(!d(this,Qo,"f"))throw new Nw("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new Nw("This comment has no replies.",this);const e=null===(t=this.comment_replies_data.contents)||void 0===t?void 0:t.firstOfType(yt);if(!e)throw new Nw("Replies continuation not found.");const i=yield e.endpoint.call(d(this,Qo,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new Nw("Unexpected response.",i);return this.replies=C(i.on_response_received_endpoints_memo.getType(Oo).map((t=>(t.setActions(d(this,Qo,"f")),t)))),h(this,Jo,null==i?void 0:i.on_response_received_endpoints_memo.getType(yt).first(),"f"),this}))}getContinuation(){var t;return o(this,void 0,void 0,(function*(){if(!this.replies)throw new Nw("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!d(this,Jo,"f"))throw new Nw("Continuation not found.");if(!d(this,Qo,"f"))throw new Nw("Actions instance not set for this thread.");const e=null===(t=d(this,Jo,"f").button)||void 0===t?void 0:t.as(V);if(!e)throw new Nw('"Load more" button not found.');const i=yield e.endpoint.call(d(this,Qo,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new Nw("Unexpected response.",i);return this.replies=C(i.on_response_received_endpoints_memo.getType(Oo).map((t=>(t.setActions(d(this,Qo,"f")),t)))),h(this,Jo,i.on_response_received_endpoints_memo.getType(yt).first(),"f"),this}))}get has_continuation(){if(!this.replies)throw new Nw("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!d(this,Jo,"f")}setActions(t){h(this,Qo,t,"f")}};e(ta,"CommentThread"),Qo=new WeakMap,Jo=new WeakMap,ta.type="CommentThread";var ea=ta,ia=class extends x{constructor(t){super(),this.title=new Z(t.title),this.channel_id=t.channelId,this.thumbnail=q.fromResponse(t.thumbnail),this.display_name=new Z(t.displayName),this.video_count=new Z(t.videoCountText),this.subscriber_count=new Z(t.subscriberCountText),this.endpoint=new z(t.navigationEndpoint),this.tv_banner=q.fromResponse(t.tvBanner),this.menu=Aw.parseItem(t.menu,wt)}};e(ia,"CompactChannel"),ia.type="CompactChannel";var sa=ia,na=class extends x{constructor(t){super(),this.title=new Z(t.title).toString(),this.endpoint=new z(t.navigationEndpoint),this.style=t.style}};e(na,"CompactLink"),na.type="CompactLink";var oa=na,aa=class extends x{constructor(t){super(),this.thumbnail=q.fromResponse(t.thumbnail)}};e(aa,"PlaylistCustomThumbnail"),aa.type="PlaylistCustomThumbnail";var ra=aa,la=class extends x{constructor(t){super(),this.thumbnail=q.fromResponse(t.thumbnail)}};e(la,"PlaylistVideoThumbnail"),la.type="PlaylistVideoThumbnail";var ca=la,da=class extends x{constructor(t){var e;super(),this.id=t.playlistId,this.title=new Z(t.title),this.author=(null===(e=t.shortBylineText)||void 0===e?void 0:e.simpleText)?new Z(t.shortBylineText):new Lw(t.longBylineText,t.ownerBadges,null),this.thumbnails=q.fromResponse(t.thumbnail||{thumbnails:t.thumbnails.map((t=>t.thumbnails)).flat(1)}),this.video_count=new Z(t.thumbnailText),this.video_count_short=new Z(t.videoCountShortText),this.first_videos=Aw.parseArray(t.videos),this.share_url=t.shareUrl||null,this.menu=Aw.parseItem(t.menu),this.badges=Aw.parseArray(t.ownerBadges),this.endpoint=new z(t.navigationEndpoint),this.thumbnail_overlays=Aw.parseArray(t.thumbnailOverlays),Reflect.has(t,"thumbnailRenderer")&&(this.thumbnail_renderer=Aw.parseItem(t.thumbnailRenderer,[ca,ra])||void 0),Reflect.has(t,"viewPlaylistText")&&(this.view_playlist=new Z(t.viewPlaylistText))}};e(da,"Playlist"),da.type="Playlist";var ha=da,ua=class extends ha{constructor(t){super(t)}};e(ua,"CompactMix"),ua.type="CompactMix";var pa=ua,ma=class extends x{constructor(t){var e;super();const i=(null===(e=t.thumbnailOverlays.find((t=>t.thumbnailOverlayTimeStatusRenderer)))||void 0===e?void 0:e.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=t.videoId,this.title=new Z(t.title),this.top_metadata_items=new Z(t.topMetadataItems),this.thumbnails=q.fromResponse(t.thumbnail),this.thumbnail_overlays=Aw.parseArray(t.thumbnailOverlays),this.author=new Lw(t.shortBylineText);const s=t.lengthText?new Z(t.lengthText).toString():new Z(i).toString();this.duration={text:s,seconds:qw(s)},this.endpoint=new z(t.navigationEndpoint),this.badges=Aw.parseArray(t.badges),this.use_vertical_poster=t.useVerticalPoster,this.menu=Aw.parseItem(t.menu,wt)}};e(ma,"CompactMovie"),ma.type="CompactMovie";var va=ma,fa=class extends ha{constructor(t){super(t)}};e(fa,"CompactPlaylist"),fa.type="CompactPlaylist";var ya=fa,ga=class extends x{constructor(t){super(),this.title=new Z(t.title),this.description=new Z(t.description),this.video_count=new Z(t.videoCountText),this.endpoint=new z(t.navigationEndpoint),this.thumbnail=q.fromResponse(t.thumbnail)}};e(ga,"CompactStation"),ga.type="CompactStation";var _a=ga,ba=class extends x{constructor(t){super(),this.title=new Z(t.title),this.confirm_button=Aw.parseItem(t.confirmButton,V),this.cancel_button=Aw.parseItem(t.cancelButton,V),this.dialog_messages=t.dialogMessages.map((t=>new Z(t)))}};e(ba,"ConfirmDialog"),ba.type="ConfirmDialog";var wa=ba,xa=class extends x{constructor(t){super(),this.image=t.image.sources.map((t=>new q(t))).sort(((t,e)=>e.width-t.width)),this.style=t.style}};e(xa,"ContentPreviewImageView"),xa.type="ContentPreviewImageView";var Sa=xa,Ta=class extends x{constructor(t){super(),this.text=new Z(t.text)}};e(Ta,"Message"),Ta.type="Message";var Ca=Ta,Ia=class extends x{constructor(t){super(),this.availability_message=Aw.parseItem(t.availabilityMessage,Ca)}};e(Ia,"ConversationBar"),Ia.type="ConversationBar";var ka=Ia,Ea=class extends x{constructor(t){super(),this.copy_button=Aw.parseItem(t.copyButton,V),this.short_url=t.shortUrl,this.style=t.style}};e(Ea,"CopyLink"),Ea.type="CopyLink";var Aa=Ea,Ra=class extends x{constructor(t){super(),this.time_range_start_millis=t.timeRangeStartMillis,this.marker_duration_millis=t.markerDurationMillis,this.heat_marker_intensity_score_normalized=t.heatMarkerIntensityScoreNormalized}};e(Ra,"HeatMarker"),Ra.type="HeatMarker";var Ma=Ra,Pa=class extends x{constructor(t){super(),this.max_height_dp=t.maxHeightDp,this.min_height_dp=t.minHeightDp,this.show_hide_animation_duration_millis=t.showHideAnimationDurationMillis,this.heat_markers=Aw.parseArray(t.heatMarkers,Ma),this.heat_markers_decorations=Aw.parseArray(t.heatMarkersDecorations)}};e(Pa,"Heatmap"),Pa.type="Heatmap";var La=Pa,Da=class extends x{constructor(t){super(),this.marker_key=t.key,this.value={},Reflect.has(t,"value")&&(Reflect.has(t.value,"heatmap")&&(this.value.heatmap=Aw.parseItem(t.value.heatmap,La)),Reflect.has(t.value,"chapters")&&(this.value.chapters=Aw.parseArray(t.value.chapters,Es)))}};e(Da,"Marker"),Da.type="Marker";var Oa=class extends x{constructor(t){var e;super(),this.markers_map=C((null===(e=t.markersMap)||void 0===e?void 0:e.map((t=>new Da(t))))||[])}};e(Oa,"MultiMarkersPlayerBar"),Oa.type="MultiMarkersPlayerBar";var Na=Oa,Ba=class extends x{constructor(t){super(),this.player_bar=Aw.parseItem(t.playerBar,Na),this.player_bar_action_button=Aw.parseItem(t.playerBarActionButton,V)}};e(Ba,"DecoratedPlayerBar"),Ba.type="DecoratedPlayerBar";var Va=Ba,Ua=class extends x{constructor(t){super(),this.title=new Z(t.title),this.description=new Z(t.description),this.endpoint=new z(t.navigationEndpoint),this.large_form_factor_background_thumbnail=Aw.parseItem(t.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=Aw.parseItem(t.smallFormFactorBackgroundThumbnail),this.scrim_color_values=t.scrimColorValues,this.min_panel_display_duration_ms=t.minPanelDisplayDurationMs,this.min_video_play_duration_ms=t.minVideoPlayDurationMs,this.scrim_duration=t.scrimDuration,this.metadata_order=t.metadataOrder,this.panel_layout=t.panelLayout}};e(Ua,"DefaultPromoPanel"),Ua.type="DefaultPromoPanel";var Ha=Ua,Fa=class extends x{constructor(t){super(),this.text=new Z(t.didYouMean).toString(),this.corrected_query=new Z(t.correctedQuery),this.endpoint=new z(t.navigationEndpoint||t.correctedQueryEndpoint)}};e(Fa,"DidYouMean"),Fa.type="DidYouMean";var ja=Fa,Wa=class extends x{constructor(t){super(),this.style=t.style,this.size=t.size,this.endpoint=new z(t.command),this.target_id=t.targetId}};e(Wa,"DownloadButton"),Wa.type="DownloadButton";var Ga=Wa,$a=class extends x{constructor(t){super(),this.text=t.text.content}};e($a,"DynamicTextView"),$a.type="DynamicTextView";var Ya=$a,Ka=class extends x{constructor(t){var e;super(),Reflect.has(t,"type")&&Reflect.has(t.type,"textType")&&(this.text=null===(e=t.type.textType.text)||void 0===e?void 0:e.content),this.properties=t.properties,Reflect.has(t,"childElements")&&(this.child_elements=t.childElements.map((t=>new Ka(t))))}};e(Ka,"ChildElement"),Ka.type="ChildElement";var za=Ka,qa=class extends x{constructor(t){var e;if(super(),Reflect.has(t,"elementRenderer"))return Aw.parseItem(t,qa);const i=t.newElement.type.componentType;this.model=Aw.parseItem(null==i?void 0:i.model),Reflect.has(t,"newElement")&&Reflect.has(t.newElement,"childElements")&&(this.child_elements=C((null===(e=t.newElement.childElements)||void 0===e?void 0:e.map((t=>new za(t))))||[]))}};e(qa,"Element"),qa.type="Element";var Xa=qa,Qa=class extends x{constructor(t){super(),this.title=new Z(t.title),this.first_option=Aw.parseItem(t.firstOption),this.menu=Aw.parseItem(t.menu,wt)}};e(Qa,"EmergencyOnebox"),Qa.type="EmergencyOnebox";var Ja=Qa,Za=class extends x{constructor(t){super(),this.category_id=t.categoryId,this.title=new Z(t.title),this.emoji_ids=t.emojiIds,this.image_loading_lazy=!!t.imageLoadingLazy,this.category_type=t.categoryType}};e(Za,"EmojiPickerCategory"),Za.type="EmojiPickerCategory";var tr=Za,er=class extends x{constructor(t){var e;super(),this.category_id=t.categoryId,Reflect.has(t,"icon")&&(this.icon_type=null===(e=t.icon)||void 0===e?void 0:e.iconType),this.tooltip=t.tooltip}};e(er,"EmojiPickerCategoryButton"),er.type="EmojiPickerCategoryButton";var ir=er,sr=class extends x{constructor(t){super(),this.category_id=t.categoryId,this.title=new Z(t.title),this.upsell=new Z(t.upsell),this.emoji_tooltip=t.emojiTooltip,this.endpoint=new z(t.command),this.emoji_ids=t.emojiIds}};e(sr,"EmojiPickerUpsellCategory"),sr.type="EmojiPickerUpsellCategory";var nr=sr,or=class extends x{constructor(t){super(),this.style=t.style,this.title=new Z(t.title),this.endpoint=new z(t.endpoint),Reflect.has(t,"image")&&(this.image=q.fromResponse(t.image)),Reflect.has(t,"icon")&&(this.icon=q.fromResponse(t.icon)),Reflect.has(t,"metadata")&&(this.metadata=new Z(t.metadata)),Reflect.has(t,"callToAction")&&(this.call_to_action=new Z(t.callToAction)),Reflect.has(t,"hovercardButton")&&(this.hovercard_button=Aw.parseItem(t.hovercardButton)),Reflect.has(t,"isSubscribe")&&(this.is_subscribe=!!t.isSubscribe),Reflect.has(t,"playlistLength")&&(this.playlist_length=new Z(t.playlistLength)),Reflect.has(t,"thumbnailOverlays")&&(this.thumbnail_overlays=Aw.parseArray(t.thumbnailOverlays)),this.left=parseFloat(t.left),this.width=parseFloat(t.width),this.top=parseFloat(t.top),this.aspect_ratio=parseFloat(t.aspectRatio),this.start_ms=parseFloat(t.startMs),this.end_ms=parseFloat(t.endMs),this.id=t.id}};e(or,"EndscreenElement"),or.type="EndscreenElement";var ar=or,rr=class extends x{constructor(t){super(),this.id=t.playlistId,this.title=new Z(t.title),this.author=new Z(t.longBylineText),this.endpoint=new z(t.navigationEndpoint),this.thumbnails=q.fromResponse(t.thumbnail),this.video_count=new Z(t.videoCountText)}};e(rr,"EndScreenPlaylist"),rr.type="EndScreenPlaylist";var lr=rr,cr=class extends x{constructor(t){super(),this.id=t.videoId,this.title=new Z(t.title),this.thumbnails=q.fromResponse(t.thumbnail),this.thumbnail_overlays=Aw.parseArray(t.thumbnailOverlays),this.author=new Lw(t.shortBylineText,t.ownerBadges),this.endpoint=new z(t.navigationEndpoint),this.short_view_count=new Z(t.shortViewCountText),this.badges=Aw.parseArray(t.badges),this.duration={text:new Z(t.lengthText).toString(),seconds:t.lengthInSeconds}}};e(cr,"EndScreenVideo"),cr.type="EndScreenVideo";var dr=cr,hr=class extends x{constructor(t){super(),this.title=t.title,this.endpoint=new z(t.endpoint),this.selected=t.selected,this.content=Aw.parseItem(t.content)}};e(hr,"ExpandableTab"),hr.type="ExpandableTab";var ur=hr,pr=class extends x{constructor(t){super(),this.items=Aw.parseArray(t.items)}get contents(){return this.items}};e(pr,"ExpandedShelfContents"),pr.type="ExpandedShelfContents";var mr=pr,vr=class extends x{constructor(t){super(),this.dialog_message=new Z(t.dialogMessage),this.confirm_label=new Z(t.confirmLabel)}};e(vr,"FancyDismissibleDialog"),vr.type="FancyDismissibleDialog";var fr=vr,yr=class extends x{constructor(t){super(),this.contents=Aw.parseArray(t.contents,Ps)}};e(yr,"FeedFilterChipBar"),yr.type="FeedFilterChipBar";var gr=yr,_r=class extends x{constructor(t){super(),this.title=new Z(t.title)}};e(_r,"FeedTabbedHeader"),_r.type="FeedTabbedHeader";var br=_r,wr=class extends x{constructor(t){super(),this.title=new Z(t.title),this.box_art=q.fromResponse(t.boxArt),this.box_art_overlay_text=new Z(t.boxArtOverlayText),this.endpoint=new z(t.endpoint),this.is_official_box_art=!!t.isOfficialBoxArt}};e(wr,"GameDetails"),wr.type="GameDetails";var xr=wr,Sr=class extends x{constructor(t){var e,i,s;super(),this.items=Aw.parseArray(t.items),Reflect.has(t,"header")&&(this.header=Aw.parseItem(t.header)),Reflect.has(t,"isCollapsible")&&(this.is_collapsible=t.isCollapsible),Reflect.has(t,"visibleRowCount")&&(this.visible_row_count=t.visibleRowCount),Reflect.has(t,"targetId")&&(this.target_id=t.targetId),this.continuation=(null===(s=null===(i=null===(e=t.continuations)||void 0===e?void 0:e[0])||void 0===i?void 0:i.nextContinuationData)||void 0===s?void 0:s.continuation)||null}get contents(){return this.items}};e(Sr,"Grid"),Sr.type="Grid";var Tr=Sr,Cr=class extends x{constructor(t){super(),this.id=t.channelId,this.author=new Lw(Object.assign(Object.assign({},t.title),{navigationEndpoint:t.navigationEndpoint}),t.ownerBadges,t.thumbnail),this.subscribers=new Z(t.subscriberCountText),this.video_count=new Z(t.videoCountText),this.endpoint=new z(t.navigationEndpoint),this.subscribe_button=Aw.parseItem(t.subscribeButton)}};e(Cr,"GridChannel"),Cr.type="GridChannel";var Ir=Cr,kr=class extends x{constructor(t){super(),this.title=new Z(t.title)}};e(kr,"GridHeader"),kr.type="GridHeader";var Er=kr,Ar=class extends x{constructor(t){var e,i;super(),this.id=t.playlistId,this.title=new Z(t.title),this.author=(null===(e=t.shortBylineText)||void 0===e?void 0:e.simpleText)?new Z(t.shortBylineText):(null===(i=t.longBylineText)||void 0===i?void 0:i.simpleText)?new Z(t.longBylineText):null,this.thumbnails=q.fromResponse(t.thumbnail),this.video_count=new Z(t.videoCountText),this.video_count_short=new Z(t.videoCountShortText),this.endpoint=new z(t.navigationEndpoint),this.secondary_endpoint=new z(t.secondaryNavigationEndpoint),this.thumbnail_overlays=Aw.parseArray(t.thumbnailOverlays)}};e(Ar,"GridMix"),Ar.type="GridMix";var Rr=Ar,Mr=class extends x{constructor(t){var e;super();const i=null===(e=t.thumbnailOverlays.find((t=>t.hasOwnProperty("thumbnailOverlayTimeStatusRenderer"))))||void 0===e?void 0:e.thumbnailOverlayTimeStatusRenderer;this.id=t.videoId,this.title=new Z(t.title),this.thumbnails=q.fromResponse(t.thumbnail),this.duration=t.lengthText?new Z(t.lengthText):(null==i?void 0:i.text)?new Z(i.text):null,this.endpoint=new z(t.navigationEndpoint),this.badges=Aw.parseArray(t.badges,Wt),this.metadata=new Z(t.metadata),this.thumbnail_overlays=Aw.parseArray(t.thumbnailOverlays)}};e(Mr,"GridMovie"),Mr.type="GridMovie";var Pr=Mr,Lr=class extends x{constructor(t){var e;super(),this.id=t.playlistId,this.title=new Z(t.title),Reflect.has(t,"shortBylineText")&&(this.author=new Lw(t.shortBylineText,t.ownerBadges)),this.badges=Aw.parseArray(t.ownerBadges),this.endpoint=new z(t.navigationEndpoint),this.view_playlist=new Z(t.viewPlaylistText),this.thumbnails=q.fromResponse(t.thumbnail),this.thumbnail_renderer=Aw.parseItem(t.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...(null===(e=t.sidebarThumbnails)||void 0===e?void 0:e.map((t=>q.fromResponse(t))))||[])||null,this.video_count=new Z(t.thumbnailText),this.video_count_short=new Z(t.videoCountShortText)}};e(Lr,"GridPlaylist"),Lr.type="GridPlaylist";var Dr=Lr,Or=class extends x{constructor(t){super(),this.thumbnail=q.fromResponse(t.thumbnail)}};e(Or,"ShowCustomThumbnail"),Or.type="ShowCustomThumbnail";var Nr=Or,Br=class extends x{constructor(t){super(),Reflect.has(t,"text")&&(this.text=new Z(t.text)),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType)}};e(Br,"ThumbnailOverlayBottomPanel"),Br.type="ThumbnailOverlayBottomPanel";var Vr=Br,Ur=class extends x{constructor(t){super(),this.title=new Z(t.title),this.thumbnail_renderer=Ay(t.thumbnailRenderer,Nr),this.endpoint=new z(t.navigationEndpoint),this.long_byline_text=new Z(t.longBylineText),this.thumbnail_overlays=Ry(t.thumbnailOverlays,Vr),this.author=new Lw(t.shortBylineText,void 0)}};e(Ur,"GridShow"),Ur.type="GridShow";var Hr=Ur,Fr=class extends x{constructor(t){var e,i;super();const s=null===(e=t.thumbnailOverlays.find((t=>t.hasOwnProperty("thumbnailOverlayTimeStatusRenderer"))))||void 0===e?void 0:e.thumbnailOverlayTimeStatusRenderer;this.id=t.videoId,this.title=new Z(t.title),this.thumbnails=q.fromResponse(t.thumbnail),this.thumbnail_overlays=Aw.parseArray(t.thumbnailOverlays),this.rich_thumbnail=Aw.parseItem(t.richThumbnail),this.published=new Z(t.publishedTimeText),this.duration=t.lengthText?new Z(t.lengthText):(null==s?void 0:s.text)?new Z(s.text):null,this.author=t.shortBylineText&&new Lw(t.shortBylineText,t.ownerBadges),this.views=new Z(t.viewCountText),this.short_view_count=new Z(t.shortViewCountText),this.endpoint=new z(t.navigationEndpoint),this.menu=Aw.parseItem(t.menu,wt),Reflect.has(t,"buttons")&&(this.buttons=Aw.parseArray(t.buttons)),Reflect.has(t,"upcomingEventData")&&(this.upcoming=new Date(Number(`${t.upcomingEventData.startTime}000`)),this.upcoming_text=new Z(t.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(null===(i=t.upcomingEventData)||void 0===i?void 0:i.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};e(Fr,"GridVideo"),Fr.type="GridVideo";var jr=Fr,Wr=class extends x{constructor(t){super(),this.title=new Z(t.formattedTitle),this.endpoint=new z(t.navigationEndpoint||t.serviceEndpoint),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"thumbnail")&&(this.thumbnails=q.fromResponse(t.thumbnail)),Reflect.has(t,"badges")&&(this.badges=t.badges),this.is_primary=!!t.isPrimary}};e(Wr,"GuideEntry"),Wr.type="GuideEntry";var Gr=Wr,$r=class extends x{constructor(t){super(),this.expander_item=Ay(t.expanderItem,Gr),this.collapser_item=Ay(t.collapserItem,Gr),this.expandable_items=Ry(t.expandableItems)}};e($r,"GuideCollapsibleEntry"),$r.type="GuideCollapsibleEntry";var Yr=$r,Kr=class extends x{constructor(t){super(),this.header_entry=Ay(t.headerEntry),this.expander_icon=t.expanderIcon.iconType,this.collapser_icon=t.collapserIcon.iconType,this.section_items=Ry(t.sectionItems)}};e(Kr,"GuideCollapsibleSectionEntry"),Kr.type="GuideCollapsibleSectionEntry";var zr=Kr,qr=class extends Gr{constructor(t){super(t.entryRenderer.guideEntryRenderer),this.always_show=!!t.alwaysShow}};e(qr,"GuideDownloadsEntry"),qr.type="GuideDownloadsEntry";var Xr=qr,Qr=class extends x{constructor(t){super(),Reflect.has(t,"formattedTitle")&&(this.title=new Z(t.formattedTitle)),this.items=Ry(t.items)}};e(Qr,"GuideSection"),Qr.type="GuideSection";var Jr=Qr,Zr=class extends Jr{};e(Zr,"GuideSubscriptionsSection"),Zr.type="GuideSubscriptionsSection";var tl=Zr,el=class extends x{constructor(t){super(),this.hashtag=new Z(t.hashtag),this.hashtag_info=new Z(t.hashtagInfoText)}};e(el,"HashtagHeader"),el.type="HashtagHeader";var il=el,sl=class extends x{constructor(t){super(),this.hashtag=new Z(t.hashtag),this.hashtag_info_text=new Z(t.hashtagInfoText),this.hashtag_thumbnail=q.fromResponse(t.hashtagThumbnail),this.endpoint=new z(t.onTapCommand),this.hashtag_background_color=t.hashtagBackgroundColor,this.hashtag_video_count=new Z(t.hashtagVideoCount),this.hashtag_channel_count=new Z(t.hashtagChannelCount)}};e(sl,"HashtagTile"),sl.type="HashtagTile";var nl=sl,ol=class extends x{constructor(t){super(),this.thumbnails=q.fromResponse(t.thumbnail),this.on_tap_endpoint=new z(t.onTap)}};e(ol,"HeroPlaylistThumbnail"),ol.type="HeroPlaylistThumbnail";var al=ol,rl=class extends x{constructor(t){super(),t.thumbnail&&(this.thumbnail={image:t.thumbnail.image.sources,endpoint:new z(t.thumbnail.onTap),on_long_press_endpoint:new z(t.thumbnail.onLongPress),content_mode:t.thumbnail.contentMode,crop_options:t.thumbnail.cropOptions}),this.background_image={image:t.backgroundImage.image.sources,gradient_image:t.backgroundImage.gradientImage.sources},this.strapline=t.strapline,this.title=t.title,this.description=t.description,this.cta={icon_name:t.cta.iconName,title:t.cta.title,endpoint:new z(t.cta.onTap),accessibility_text:t.cta.accessibilityText,state:t.cta.state},this.text_on_tap_endpoint=new z(t.textOnTap)}};e(rl,"Panel"),rl.type="Panel";var ll=class extends x{constructor(t){super(),this.panels=C(t.highlightsCarousel.panels.map((t=>new rl(t))))}};e(ll,"HighlightsCarousel"),ll.type="HighlightsCarousel";var cl=ll,dl=class extends x{constructor(t){super(),this.suggestion=new Z(t.suggestion),this.endpoint=new z(t.navigationEndpoint),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"serviceEndpoint")&&(this.service_endpoint=new z(t.serviceEndpoint))}};e(dl,"SearchSuggestion"),dl.type="SearchSuggestion";var hl=dl,ul=class extends hl{constructor(t){super(t)}};e(ul,"HistorySuggestion"),ul.type="HistorySuggestion";var pl=ul,ml=class extends x{constructor(t){super(),this.items=Aw.parseArray(t.items),this.previous_button=Aw.parseItem(t.previousButton,V),this.next_button=Aw.parseItem(t.nextButton,V)}get contents(){return this.items}};e(ml,"HorizontalMovieList"),ml.type="HorizontalMovieList";var vl=ml,fl=class extends x{constructor(t){var e;super(),this.icon_type=null===(e=t.icon)||void 0===e?void 0:e.iconType,Reflect.has(t,"tooltip")&&(this.tooltip=new Z(t.tooltip).toString()),this.endpoint=new z(t.navigationEndpoint)}};e(fl,"IconLink"),fl.type="IconLink";var yl=fl,gl=class extends x{constructor(t){super(),this.including_results_for=new Z(t.includingResultsFor),this.corrected_query=new Z(t.correctedQuery),this.corrected_query_endpoint=new z(t.correctedQueryEndpoint),this.search_only_for=Reflect.has(t,"searchOnlyFor")?new Z(t.searchOnlyFor):void 0,this.original_query=Reflect.has(t,"originalQuery")?new Z(t.originalQuery):void 0,this.original_query_endpoint=Reflect.has(t,"originalQueryEndpoint")?new z(t.originalQueryEndpoint):void 0}};e(gl,"IncludingResultsFor"),gl.type="IncludingResultsFor";var _l=gl,bl=class extends x{constructor(t){super(),this.title=new Z(t.title),this.source=new Z(t.source),this.paragraphs=t.paragraphs.map((t=>new Z(t))),this.thumbnail=q.fromResponse(t.thumbnail),this.source_endpoint=new z(t.sourceEndpoint),this.truncate_paragraphs=!!t.truncateParagraphs,this.background=t.background,Reflect.has(t,"inlineLinkIcon")&&Reflect.has(t.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=t.inlineLinkIcon.iconType)}};e(bl,"InfoPanelContent"),bl.type="InfoPanelContent";var wl=bl,xl=class extends x{constructor(t){var e;super(),this.title=new Z(t.title),this.menu=Aw.parseItem(t.menu,wt),this.content=Aw.parseItem(t.content,wl),this.background=t.background,Reflect.has(t,"icon")&&(this.icon_type=null===(e=t.icon)||void 0===e?void 0:e.iconType)}};e(xl,"InfoPanelContainer"),xl.type="InfoPanelContainer";var Sl=xl,Tl=class extends x{constructor(t){super(),this.header_type=t.type,this.title=new Z(t.title),this.description=new Z(t.description),this.metadata=new Z(t.metadata),this.badges=Aw.parseArray(t.badges,Wt),this.box_art=q.fromResponse(t.boxArt),this.banner=q.fromResponse(t.banner),this.buttons=Aw.parseArray(t.buttons,[Xi,V]),this.auto_generated=new Z(t.autoGenerated)}};e(Tl,"InteractiveTabbedHeader"),Tl.type="InteractiveTabbedHeader";var Cl=Tl,Il=class extends x{constructor(t){super(),this.title=new Z(t.title)}};e(Il,"ItemSectionHeader"),Il.type="ItemSectionHeader";var kl=Il,El=class extends x{constructor(t){super(),this.title=new Z(t.title),this.selected=!!t.selected,this.endpoint=new z(t.endpoint)}};e(El,"ItemSectionTab"),El.type="Tab";var Al=El,Rl=class extends x{constructor(t){super(),this.title=new Z(t.title),this.tabs=Aw.parseArray(t.tabs,Al),Reflect.has(t,"endItems")&&(this.end_items=Aw.parseArray(t.endItems))}};e(Rl,"ItemSectionTabbedHeader"),Rl.type="ItemSectionTabbedHeader";var Ml=Rl,Pl=class extends x{constructor(t){var e,i,s;super(),this.header=Aw.parseItem(t.header,[qo,kl,Ml]),this.contents=Aw.parseArray(t.contents),(t.targetId||t.sectionIdentifier)&&(this.target_id=t.target_id||t.sectionIdentifier),t.continuations&&(this.continuation=null===(s=null===(i=null===(e=t.continuations)||void 0===e?void 0:e.at(0))||void 0===i?void 0:i.nextContinuationData)||void 0===s?void 0:s.continuation)}};e(Pl,"ItemSection"),Pl.type="ItemSection";var Ll=Pl,Dl=class extends x{constructor(t){super(),this.target={video_id:t.target.videoId},this.like_status=t.likeStatus,this.likes_allowed=t.likesAllowed,Reflect.has(t,"serviceEndpoints")&&(this.endpoints=t.serviceEndpoints.map((t=>new z(t))))}};e(Dl,"LikeButton"),Dl.type="LikeButton";var Ol=Dl,Nl=class extends x{constructor(t){var e,i;super(),this.header=Aw.parseItem(t.header),this.initial_display_state=t.initialDisplayState,this.continuation=null===(i=null===(e=t.continuations[0])||void 0===e?void 0:e.reloadContinuationData)||void 0===i?void 0:i.continuation,this.client_messages={reconnect_message:new Z(t.clientMessages.reconnectMessage),unable_to_reconnect_message:new Z(t.clientMessages.unableToReconnectMessage),fatal_error:new Z(t.clientMessages.fatalError),reconnected_message:new Z(t.clientMessages.reconnectedMessage),generic_error:new Z(t.clientMessages.genericError)},this.is_replay=!!t.isReplay}};e(Nl,"LiveChat"),Nl.type="LiveChat";var Bl=Nl,Vl=class extends x{constructor(t){super(),this.text=new Z(t.text),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.context_menu_button=Aw.parseItem(t.contextMenuButton,V)}};e(Vl,"LiveChatBannerHeader"),Vl.type="LiveChatBannerHeader";var Ul=Vl,Hl=class extends x{constructor(t){super(),this.header=Aw.parseItem(t.header,Ul),this.contents=Aw.parseItem(t.contents),this.action_id=t.actionId,this.viewer_is_creator=t.viewerIsCreator,this.target_id=t.targetId,this.is_stackable=t.isStackable,this.background_type=t.backgroundType}};e(Hl,"LiveChatBanner"),Hl.type="LiveChatBanner";var Fl=Hl,jl=class extends x{constructor(t){super(),this.banner=Aw.parseItem(t.bannerRenderer,Fl)}};e(jl,"AddBannerToLiveChatCommand"),jl.type="AddBannerToLiveChatCommand";var Wl=jl,Gl=class extends x{constructor(t){super(),this.item=Aw.parseItem(t.item),Reflect.has(t,"clientId")&&(this.client_id=t.clientId)}};e(Gl,"AddChatItemAction"),Gl.type="AddChatItemAction";var $l=Gl,Yl=class extends x{constructor(t){super(),this.item=Aw.parseItem(t.item),this.duration_sec=t.durationSec}};e(Yl,"AddLiveChatTickerItemAction"),Yl.type="AddLiveChatTickerItemAction";var Kl=Yl,zl=class extends x{constructor(t){super(),this.client_assigned_id=t.clientAssignedId}};e(zl,"DimChatItemAction"),zl.type="DimChatItemAction";var ql=zl,Xl=class extends x{constructor(t){super(),this.menu_endpoint=new z(t.contextMenuEndpoint),this.moderation_buttons=Aw.parseArray(t.moderationButtons,V),this.auto_moderated_item=Aw.parseItem(t.autoModeratedItem),this.header_text=new Z(t.headerText),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.id=t.id}};e(Xl,"LiveChatAutoModMessage"),Xl.type="LiveChatAutoModMessage";var Ql=Xl,Jl=class extends x{constructor(t){super(),this.poll_question=new Z(t.pollQuestion),this.author_photo=q.fromResponse(t.authorPhoto),this.choices=t.pollChoices.map((t=>({option_id:t.pollOptionId,text:new Z(t.text).toString()}))),this.collapsed_state_entity_key=t.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=t.liveChatPollStateEntityKey,this.context_menu_button=Aw.parseItem(t.contextMenuButton,V)}};e(Jl,"LiveChatBannerPoll"),Jl.type="LiveChatBannerPoll";var Zl=Jl,tc=class extends x{constructor(t){super(),this.id=t.id,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.header_subtext=new Z(t.headerSubtext),this.author=new Lw(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.menu_endpoint=new z(t.contextMenuEndpoint)}};e(tc,"LiveChatMembershipItem"),tc.type="LiveChatMembershipItem";var ec=tc,ic=class extends x{constructor(t){super(),this.message=new Z(t.message),this.author=new Lw(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.header_background_color=t.headerBackgroundColor,this.header_text_color=t.headerTextColor,this.body_background_color=t.bodyBackgroundColor,this.body_text_color=t.bodyTextColor,this.purchase_amount=new Z(t.purchaseAmountText).toString(),this.menu_endpoint=new z(t.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.timestamp_text=new Z(t.timestampText).toString(),this.id=t.id}};e(ic,"LiveChatPaidMessage"),ic.type="LiveChatPaidMessage";var sc=ic,nc=class extends x{constructor(t){super(),this.id=t.id,this.author=new Lw(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.money_chip_background_color=t.moneyChipBackgroundColor,this.money_chip_text_color=t.moneyChipTextColor,this.background_color=t.backgroundColor,this.author_name_text_color=t.authorNameTextColor,this.sticker=q.fromResponse(t.sticker),this.purchase_amount=new Z(t.purchaseAmountText).toString(),this.menu_endpoint=new z(t.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3)}};e(nc,"LiveChatPaidSticker"),nc.type="LiveChatPaidSticker";var oc=nc,ac=class extends x{constructor(t){super(),this.id=t.id,this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3)}};e(ac,"LiveChatPlaceholderItem"),ac.type="LiveChatPlaceholderItem";var rc=ac,lc=class extends x{constructor(t){super(),this.title=t.title,this.accessibility_title=t.accessibilityTitle,this.thumbnail=q.fromResponse(t.thumbnail),this.price=t.price,this.vendor_name=t.vendorName,this.from_vendor_text=t.fromVendorText,this.information_button=Aw.parseItem(t.informationButton),this.endpoint=new z(t.onClickCommand),this.creator_message=t.creatorMessage,this.creator_name=t.creatorName,this.author_photo=q.fromResponse(t.authorPhoto),this.information_dialog=Aw.parseItem(t.informationDialog),this.is_verified=t.isVerified,this.creator_custom_message=new Z(t.creatorCustomMessage)}};e(lc,"LiveChatProductItem"),lc.type="LiveChatProductItem";var cc=lc,dc=class extends x{constructor(t){super(),this.message=new Z(t.message),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType)}};e(dc,"LiveChatRestrictedParticipation"),dc.type="LiveChatRestrictedParticipation";var hc=dc,uc=class extends x{constructor(t){super(),this.message=new Z(t.message),this.inline_action_buttons=Aw.parseArray(t.inlineActionButtons,V),this.timestamp=Math.floor(parseInt(t.timestampUsec)/1e3),this.id=t.id}};e(uc,"LiveChatMessageBase"),uc.type="LiveChatMessageBase";var pc=class extends uc{constructor(t){super(t),this.author=new Lw(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.menu_endpoint=new z(t.contextMenuEndpoint)}};e(pc,"LiveChatTextMessage"),pc.type="LiveChatTextMessage";var mc=pc,vc=class extends x{constructor(t){var e,i;super(),this.author=new Lw(t.authorName,t.authorBadges,t.authorPhoto,t.authorExternalChannelId),this.amount=new Z(t.amount),this.duration_sec=t.durationSec,this.full_duration_sec=t.fullDurationSec,this.show_item=Aw.parseItem(null===(i=null===(e=t.showItemEndpoint)||void 0===e?void 0:e.showLiveChatItemEndpoint)||void 0===i?void 0:i.renderer),this.show_item_endpoint=new z(t.showItemEndpoint),this.id=t.id}};e(vc,"LiveChatTickerPaidMessageItem"),vc.type="LiveChatTickerPaidMessageItem";var fc=vc,yc=class extends fc{};e(yc,"LiveChatTickerPaidStickerItem"),yc.type="LiveChatTickerPaidStickerItem";var gc=yc,_c=class extends x{constructor(t){super(),this.id=t.id,this.detail=new Z(t.detailText),this.author=new Lw(t.authorName,t.authorBadges,t.sponsorPhoto,t.authorExternalChannelId),this.duration_sec=t.durationSec}};e(_c,"LiveChatTickerSponsorItem"),_c.type="LiveChatTickerSponsorItem";var bc=_c,wc=class extends uc{constructor(t){super(t),Reflect.has(t,"icon")&&Reflect.has(t.icon,"iconType")&&(this.icon_type=t.icon.iconType),this.action_button=Aw.parseItem(t.actionButton)}};e(wc,"LiveChatViewerEngagementMessage"),wc.type="LiveChatViewerEngagementMessage";var xc=wc,Sc=class extends x{constructor(t){super(),this.poll_question=new Z(t.pollQuestion),this.thumbnails=q.fromResponse(t.thumbnail),this.metadata=new Z(t.metadataText),this.live_chat_poll_type=t.liveChatPollType,this.context_menu_button=Aw.parseItem(t.contextMenuButton,V)}};e(Sc,"PollHeader"),Sc.type="PollHeader";var Tc=Sc,Cc=class extends x{constructor(t){super(),this.id=t.id,this.contents=Aw.parse(t.contents),this.target_id=t.targetId}};e(Cc,"LiveChatActionPanel"),Cc.type="LiveChatActionPanel";var Ic=Cc,kc=class extends x{constructor(t){super(),this.deleted_state_message=new Z(t.deletedStateMessage),this.target_item_id=t.targetItemId}};e(kc,"MarkChatItemAsDeletedAction"),kc.type="MarkChatItemAsDeletedAction";var Ec=kc,Ac=class extends x{constructor(t){super(),this.deleted_state_message=new Z(t.deletedStateMessage),this.external_channel_id=t.externalChannelId}};e(Ac,"MarkChatItemsByAuthorAsDeletedAction"),Ac.type="MarkChatItemsByAuthorAsDeletedAction";var Rc=Ac,Mc=class extends x{constructor(t){super(),this.target_action_id=t.targetActionId}};e(Mc,"RemoveBannerForLiveChatCommand"),Mc.type="RemoveBannerForLiveChatCommand";var Pc=Mc,Lc=class extends x{constructor(t){super(),this.target_item_id=t.targetItemId}};e(Lc,"RemoveChatItemAction"),Lc.type="RemoveChatItemAction";var Dc=Lc,Oc=class extends x{constructor(t){super(),this.external_channel_id=t.externalChannelId}};e(Oc,"RemoveChatItemByAuthorAction"),Oc.type="RemoveChatItemByAuthorAction";var Nc=Oc,Bc=class extends x{constructor(t){super(),this.target_item_id=t.targetItemId,this.replacement_item=Aw.parseItem(t.replacementItem)}};e(Bc,"ReplaceChatItemAction"),Bc.type="ReplaceChatItemAction";var Vc=Bc,Uc=class extends x{constructor(t){var e;super(),this.actions=Aw.parseArray(null===(e=t.actions)||void 0===e?void 0:e.map((t=>(delete t.clickTrackingParams,t)))),this.video_offset_time_msec=t.videoOffsetTimeMsec}};e(Uc,"ReplayChatItemAction"),Uc.type="ReplayChatItemAction";var Hc=Uc,Fc=class extends x{constructor(t){super(),this.panel_to_show=Aw.parseItem(t.panelToShow,Ic)}};e(Fc,"ShowLiveChatActionPanelAction"),Fc.type="ShowLiveChatActionPanelAction";var jc=Fc,Wc=class extends x{constructor(t){super(),this.dialog=Aw.parseItem(t.dialog)}};e(Wc,"ShowLiveChatDialogAction"),Wc.type="ShowLiveChatDialogAction";var Gc=Wc,$c=class extends x{constructor(t){super(),this.tooltip=Aw.parseItem(t.tooltip)}};e($c,"ShowLiveChatTooltipCommand"),$c.type="ShowLiveChatTooltipCommand";var Yc=$c,Kc=class extends x{constructor(t){super(),this.date_text=new Z(t.dateText).toString()}};e(Kc,"UpdateDateTextAction"),Kc.type="UpdateDateTextAction";var zc=Kc,qc=class extends x{constructor(t){super(),this.description=new Z(t.description)}};e(qc,"UpdateDescriptionAction"),qc.type="UpdateDescriptionAction";var Xc=qc,Qc=class extends x{constructor(t){super(),this.poll_to_update=Aw.parseItem(t.pollToUpdate)}};e(Qc,"UpdateLiveChatPollAction"),Qc.type="UpdateLiveChatPollAction";var Jc=Qc,Zc=class extends x{constructor(t){super(),this.title=new Z(t.title)}};e(Zc,"UpdateTitleAction"),Zc.type="UpdateTitleAction";var td=Zc,ed=class extends x{constructor(t){super(),this.default_text=new Z(t.defaultText).toString(),this.toggled_text=new Z(t.toggledText).toString(),this.button_id=t.buttonId}};e(ed,"UpdateToggleButtonTextAction"),ed.type="UpdateToggleButtonTextAction";var id=ed,sd=class extends x{constructor(t){super();const e=t.viewCount.videoViewCountRenderer;this.view_count=new Z(e.viewCount),this.extra_short_view_count=new Z(e.extraShortViewCount),this.is_live=e.isLive}};e(sd,"UpdateViewershipAction"),sd.type="UpdateViewershipAction";var nd=sd,od=class extends Wt{constructor(t){super(t),this.custom_thumbnail=q.fromResponse(t.customThumbnail)}};e(od,"LiveChatAuthorBadge"),od.type="LiveChatAuthorBadge";var ad=od,rd=class extends x{constructor(t){super(),this.confirm_button=Aw.parseItem(t.confirmButton,V),this.dialog_messages=t.dialogMessages.map((t=>new Z(t)))}};e(rd,"LiveChatDialog"),rd.type="LiveChatDialog";var ld=rd,cd=class extends x{constructor(t){super(),this.overflow_menu=Aw.parseItem(t.overflowMenu,wt),this.collapse_button=Aw.parseItem(t.collapseButton,V),this.view_selector=Aw.parseItem(t.viewSelector,$e)}};e(cd,"LiveChatHeader"),cd.type="LiveChatHeader";var dd=cd,hd=class extends x{constructor(t){super(),this.max_items_to_display=t.maxItemsToDisplay,this.more_comments_below_button=Aw.parseItem(t.moreCommentsBelowButton,V)}};e(hd,"LiveChatItemList"),hd.type="LiveChatItemList";var ud=hd,pd=class extends x{constructor(t){super(),this.author_name=new Z(t.authorName),this.author_photo=q.fromResponse(t.authorPhoto),this.send_button=Aw.parseItem(t.sendButton,V),this.target_id=t.targetId}};e(pd,"LiveChatMessageInput"),pd.type="LiveChatMessageInput";var md=pd,vd=class extends x{constructor(t){super(),this.name=new Z(t.authorName),this.photo=q.fromResponse(t.authorPhoto),this.badges=Aw.parseArray(t.authorBadges)}};e(vd,"LiveChatParticipant"),vd.type="LiveChatParticipant";var fd=vd,yd=class extends x{constructor(t){super(),this.title=new Z(t.title),this.participants=Aw.parseArray(t.participants,fd)}};e(yd,"LiveChatParticipantsList"),yd.type="LiveChatParticipantsList";var gd=yd,_d=class extends V{constructor(t){super(t)}};e(_d,"MenuNavigationItem"),_d.type="MenuNavigationItem";var bd=_d,wd=class extends V{constructor(t){super(t)}};e(wd,"MenuServiceItem"),wd.type="MenuServiceItem";var xd=wd,Sd=class extends x{constructor(t){super(),this.items=Aw.parseArray(t.items,[bd,xd])}};e(Sd,"MenuPopup"),Sd.type="MenuPopup";var Td=Sd,Cd=class extends x{constructor(t){super(),this.has_separator=!!t.hasSeparator,this.endpoint=new z(t.navigationEndpoint||t.serviceEndpoint)}};e(Cd,"MenuServiceItemDownload"),Cd.type="MenuServiceItemDownload";var Id=Cd,kd=class extends x{constructor(t){super(),this.header=Aw.parse(t.header),this.sections=Aw.parse(t.sections),this.style=t.style}};e(kd,"MultiPageMenu"),kd.type="MultiPageMenu";var Ed=kd,Ad=class extends x{constructor(t){super(),this.items=Aw.parse(t.items)}get contents(){return this.items}};e(Ad,"MultiPageMenuNotificationSection"),Ad.type="MultiPageMenuNotificationSection";var Rd=Ad,Md=class extends x{constructor(t){super()}};e(Md,"MusicMenuItemDivider"),Md.type="MusicMenuItemDivider";var Pd=Md,Ld=class extends x{constructor(t){var e;super(),Reflect.has(t,"title")&&Reflect.has(t.title,"musicMenuTitleRenderer")&&(this.title=new Z(null===(e=t.title.musicMenuTitleRenderer)||void 0===e?void 0:e.primaryText)),this.options=Aw.parseArray(t.options,[Ee,Pd])}};e(Ld,"MusicMultiSelectMenu"),Ld.type="MusicMultiSelectMenu";var Dd=Ld,Od=class extends x{constructor(t){super(),this.title=new Z(t.title),this.buttons=Aw.parse(t.buttons)}};e(Od,"SimpleMenuHeader"),Od.type="SimpleMenuHeader";var Nd=Od,Bd=class extends x{constructor(t){super(),this.title=t.title,this.description=t.description,this.thumbnails=q.fromResponse(t.thumbnail),this.price=t.price,this.vendor_name=t.vendorName,this.button_text=t.buttonText,this.button_accessibility_text=t.buttonAccessibilityText,this.from_vendor_text=t.fromVendorText,this.additional_fees_text=t.additionalFeesText,this.region_format=t.regionFormat,this.endpoint=new z(t.buttonCommand)}};e(Bd,"MerchandiseItem"),Bd.type="MerchandiseItem";var Vd=Bd,Ud=class extends x{constructor(t){super(),this.title=t.title,this.menu=Aw.parseItem(t.actionButton),this.items=Aw.parseArray(t.items)}get contents(){return this.items}};e(Ud,"MerchandiseShelf"),Ud.type="MerchandiseShelf";var Hd=Ud,Fd=class extends x{constructor(t){super(),this.title=new Z(t.title),this.contents=t.contents.map((t=>new Z(t)))}};e(Fd,"MetadataRow"),Fd.type="MetadataRow";var jd=Fd,Wd=class extends x{constructor(t){super(),this.rows=Aw.parseArray(t.rows),this.collapsed_item_count=t.collapsedItemCount}};e(Wd,"MetadataRowContainer"),Wd.type="MetadataRowContainer";var Gd=Wd,$d=class extends x{constructor(t){super(),this.content=new Z(t.content),this.has_divider_line=t.hasDividerLine}};e($d,"MetadataRowHeader"),$d.type="MetadataRowHeader";var Yd=$d,Kd=class extends x{constructor(t){super(),this.section_list=Aw.parseItem(t)}};e(Kd,"MetadataScreen"),Kd.type="MetadataScreen";var zd=Kd,qd=class extends x{constructor(t){super(),this.url_canonical=t.urlCanonical,this.title=t.title,this.description=t.description,this.thumbnail=q.fromResponse(t.thumbnail),this.site_name=t.siteName,this.app_name=t.appName,this.android_package=t.androidPackage,this.ios_app_store_id=t.iosAppStoreId,this.ios_app_arguments=t.iosAppArguments,this.og_type=t.ogType,this.url_applinks_web=t.urlApplinksWeb,this.url_applinks_ios=t.urlApplinksIos,this.url_applinks_android=t.urlApplinksAndroid,this.url_twitter_ios=t.urlTwitterIos,this.url_twitter_android=t.urlTwitterAndroid,this.twitter_card_type=t.twitterCardType,this.twitter_site_handle=t.twitterSiteHandle,this.schema_dot_org_type=t.schemaDotOrgType,this.noindex=t.noindex,this.is_unlisted=t.unlisted,this.is_family_safe=t.familySafe,this.tags=t.tags,this.available_countries=t.availableCountries}};e(qd,"MicroformatData"),qd.type="MicroformatData";var Xd=qd,Qd=class extends ha{constructor(t){super(t)}};e(Qd,"Mix"),Qd.type="Mix";var Jd=Qd,Zd=class extends x{constructor(t){var e,i,s;super();const n=(null===(e=t.thumbnailOverlays.find((t=>t.thumbnailOverlayTimeStatusRenderer)))||void 0===e?void 0:e.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=t.videoId,this.title=new Z(t.title),Reflect.has(t,"descriptionSnippet")&&(this.description_snippet=new Z(t.descriptionSnippet)),this.top_metadata_items=new Z(t.topMetadataItems),this.thumbnails=q.fromResponse(t.thumbnail),this.thumbnail_overlays=Aw.parseArray(t.thumbnailOverlays),this.author=new Lw(t.longBylineText,t.ownerBadges,null===(s=null===(i=t.channelThumbnailSupportedRenderers)||void 0===i?void 0:i.channelThumbnailWithLinkRenderer)||void 0===s?void 0:s.thumbnail),this.duration={text:t.lengthText?new Z(t.lengthText).toString():new Z(n).toString(),seconds:qw(t.lengthText?new Z(t.lengthText).toString():new Z(n).toString())},this.endpoint=new z(t.navigationEndpoint),this.badges=Aw.parseArray(t.badges),this.use_vertical_poster=t.useVerticalPoster,this.show_action_menu=t.showActionMenu,this.menu=Aw.parseItem(t.menu,wt)}};e(Zd,"Movie"),Zd.type="Movie";var th=Zd,eh=class extends x{constructor(t){var e;return super(),null===(e=t.movingThumbnailDetails)||void 0===e?void 0:e.thumbnails.map((t=>new q(t))).sort(((t,e)=>e.width-t.width))}};e(eh,"MovingThumbnail"),eh.type="MovingThumbnail";var ih=eh,sh=class extends x{constructor(t){super(),this.title=new Z(t.title)}};e(sh,"MusicCardShelfHeaderBasic"),sh.type="MusicCardShelfHeaderBasic";var nh=sh,oh=class extends x{constructor(t){super(),this.icon_type=t.icon.iconType,this.label=t.accessibilityData.accessibilityData.label}};e(oh,"MusicInlineBadge"),oh.type="MusicInlineBadge";var ah=oh,rh=class extends x{constructor(t){var e,i;super(),this.endpoint=new z(t.playNavigationEndpoint),this.play_icon_type=t.playIcon.iconType,this.pause_icon_type=t.pauseIcon.iconType,Reflect.has(t,"accessibilityPlayData")&&(this.play_label=null===(e=t.accessibilityPlayData.accessibilityData)||void 0===e?void 0:e.label),Reflect.has(t,"accessibilityPauseData")&&(this.pause_label=null===(i=t.accessibilityPauseData.accessibilityData)||void 0===i?void 0:i.label),this.icon_color=t.iconColor}};e(rh,"MusicPlayButton"),rh.type="MusicPlayButton";var lh=rh,ch=class extends x{constructor(t){super(),this.content=Aw.parseItem(t.content,lh),this.content_position=t.contentPosition,this.display_style=t.displayStyle}};e(ch,"MusicItemThumbnailOverlay"),ch.type="MusicItemThumbnailOverlay";var dh=ch,hh=class extends x{constructor(t){super(),this.contents=q.fromResponse(t.thumbnail)}};e(hh,"MusicThumbnail"),hh.type="MusicThumbnail";var uh=hh,ph=class extends x{constructor(t){super(),this.thumbnail=Aw.parseItem(t.thumbnail,uh),this.title=new Z(t.title),this.subtitle=new Z(t.subtitle),this.buttons=Aw.parseArray(t.buttons,V),this.menu=Aw.parseItem(t.menu,wt),this.on_tap=new z(t.onTap),this.header=Aw.parseItem(t.header,nh),Reflect.has(t,"endIcon")&&Reflect.has(t.endIcon,"iconType")&&(this.end_icon_type=t.endIcon.iconType),this.subtitle_badges=Aw.parseArray(t.subtitleBadges,ah),this.thumbnail_overlay=Aw.parseItem(t.thumbnailOverlay,dh),Reflect.has(t,"contents")&&(this.contents=Aw.parseArray(t.contents))}};e(ph,"MusicCardShelf"),ph.type="MusicCardShelf";var mh=ph,vh=class extends x{constructor(t){super(),this.title=new Z(t.title),Reflect.has(t,"strapline")&&(this.strapline=new Z(t.strapline)),Reflect.has(t,"thumbnail")&&(this.thumbnail=Aw.parseItem(t.thumbnail,uh)),Reflect.has(t,"moreContentButton")&&(this.more_content=Aw.parseItem(t.moreContentButton,V)),Reflect.has(t,"endIcons")&&(this.end_icons=Aw.parseArray(t.endIcons,yl))}};e(vh,"MusicCarouselShelfBasicHeader"),vh.type="MusicCarouselShelfBasicHeader";var fh=vh,yh=class extends x{constructor(t){super(),this.thumbnail=D.parseItem(t.thumbnail,uh),this.overlay=D.parseItem(t.overlay,dh),this.on_tap=new z(t.onTap),this.menu=D.parseItem(t.menu,wt),this.subtitle=new Z(t.subtitle),this.title=new Z(t.title),Reflect.has(t,"secondTitle")&&(this.second_title=new Z(t.secondTitle)),Reflect.has(t,"description")&&(this.description=new Z(t.description)),Reflect.has(t,"displayStyle")&&(this.display_style=t.displayStyle)}};e(yh,"MusicMultiRowListItem"),yh.type="MusicMultiRowListItem";var gh=yh,_h=class extends x{constructor(t){super(),this.button_text=new Z(t.buttonText).toString(),this.endpoint=new z(t.clickCommand)}};e(_h,"MusicNavigationButton"),_h.type="MusicNavigationButton";var bh=_h,wh=class extends x{constructor(t){super(),this.title=new Z(t.text),this.display_priority=t.displayPriority}};e(wh,"MusicResponsiveListItemFixedColumn"),wh.type="musicResponsiveListItemFlexColumnRenderer";var xh=wh,Sh=class extends x{constructor(t){super(),this.title=new Z(t.text),this.display_priority=t.displayPriority}};e(Sh,"MusicResponsiveListItemFlexColumn"),Sh.type="MusicResponsiveListItemFlexColumn";var Th,Ch,Ih,kh,Eh,Ah,Rh,Mh,Ph,Lh,Dh,Oh=Sh,Nh=class extends x{constructor(t){var e,i,s,n,o,a;super(),Th.add(this),Ch.set(this,void 0),this.flex_columns=Aw.parseArray(t.flexColumns,Oh),this.fixed_columns=Aw.parseArray(t.fixedColumns,xh),h(this,Ch,{video_id:(null===(e=null==t?void 0:t.playlistItemData)||void 0===e?void 0:e.videoId)||null,playlist_set_video_id:(null===(i=null==t?void 0:t.playlistItemData)||void 0===i?void 0:i.playlistSetVideoId)||null},"f"),Reflect.has(t,"navigationEndpoint")&&(this.endpoint=new z(t.navigationEndpoint));let r=null===(a=null===(o=null===(n=null===(s=this.endpoint)||void 0===s?void 0:s.payload)||void 0===n?void 0:n.browseEndpointContextSupportedConfigs)||void 0===o?void 0:o.browseEndpointContextMusicConfig)||void 0===a?void 0:a.pageType;if(!r){this.flex_columns.find((t=>{var e,i,s,n;return"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"===(null===(n=null===(s=null===(i=null===(e=t.title.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseEndpointContextSupportedConfigs)||void 0===s?void 0:s.browseEndpointContextMusicConfig)||void 0===n?void 0:n.pageType)}))&&(r="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE")}switch(r){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",d(this,Th,"m",Lh).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",d(this,Th,"m",Dh).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",d(this,Th,"m",Rh).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",d(this,Th,"m",Mh).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",d(this,Th,"m",Ph).call(this);break;default:this.flex_columns[1]?d(this,Th,"m",kh).call(this):d(this,Th,"m",Ih).call(this)}Reflect.has(t,"index")&&(this.index=new Z(t.index)),Reflect.has(t,"thumbnail")&&(this.thumbnail=Aw.parseItem(t.thumbnail,uh)),Reflect.has(t,"badges")&&(this.badges=Aw.parseArray(t.badges)),Reflect.has(t,"menu")&&(this.menu=Aw.parseItem(t.menu,wt)),Reflect.has(t,"overlay")&&(this.overlay=Aw.parseItem(t.overlay,dh))}get thumbnails(){var t;return(null===(t=this.thumbnail)||void 0===t?void 0:t.contents)||[]}};e(Nh,"MusicResponsiveListItem"),Ch=new WeakMap,Th=new WeakSet,Ih=e((function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"}),"_MusicResponsiveListItem_parseOther"),kh=e((function(){var t,e;(null===(e=null===(t=this.flex_columns.at(1))||void 0===t?void 0:t.title.runs)||void 0===e?void 0:e.some((t=>t.text.match(/(.*?) views/))))?(this.item_type="video",d(this,Th,"m",Ah).call(this)):(this.item_type="song",d(this,Th,"m",Eh).call(this))}),"_MusicResponsiveListItem_parseVideoOrSong"),Eh=e((function(){var t,e,i,s,n,o,a,r,l,c,h,u,p,m,v;this.id=d(this,Ch,"f").video_id||(null===(e=null===(t=this.endpoint)||void 0===t?void 0:t.payload)||void 0===e?void 0:e.videoId),this.title=this.flex_columns.first().title.toString();const f=(null===(n=null===(s=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title.runs)||void 0===s?void 0:s.find((t=>/^\d+$/.test(t.text.replace(/:/g,"")))))||void 0===n?void 0:n.text)||(null===(a=null===(o=this.fixed_columns.first())||void 0===o?void 0:o.title)||void 0===a?void 0:a.toString());f&&(this.duration={text:f,seconds:qw(f)});const y=(null===(l=null===(r=this.flex_columns.at(1))||void 0===r?void 0:r.title.runs)||void 0===l?void 0:l.find((t=>sx(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("MPR"))))||(null===(h=null===(c=this.flex_columns.at(2))||void 0===c?void 0:c.title.runs)||void 0===h?void 0:h.find((t=>sx(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("MPR"))));y&&sx(y)&&(this.album={id:null===(p=null===(u=y.endpoint)||void 0===u?void 0:u.payload)||void 0===p?void 0:p.browseId,name:y.text,endpoint:y.endpoint});const g=null===(v=null===(m=this.flex_columns.at(1))||void 0===m?void 0:m.title.runs)||void 0===v?void 0:v.filter((t=>sx(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC")));g&&(this.artists=g.map((t=>{var e,i;return{name:t.text,channel_id:sx(t)?null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId:void 0,endpoint:sx(t)?t.endpoint:void 0}})))}),"_MusicResponsiveListItem_parseSong"),Ah=e((function(){var t,e,i,s,n,o,a,r,l,c;this.id=d(this,Ch,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=null===(i=null===(e=null===(t=this.flex_columns.at(1))||void 0===t?void 0:t.title.runs)||void 0===e?void 0:e.find((t=>t.text.match(/(.*?) views/))))||void 0===i?void 0:i.toString();const h=null===(n=null===(s=this.flex_columns.at(1))||void 0===s?void 0:s.title.runs)||void 0===n?void 0:n.filter((t=>sx(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC")));h&&(this.authors=h.map((t=>{var e,i;return{name:t.text,channel_id:sx(t)?null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId:void 0,endpoint:sx(t)?t.endpoint:void 0}})));const u=(null===(a=null===(o=this.flex_columns[1].title.runs)||void 0===o?void 0:o.find((t=>/^\d+$/.test(t.text.replace(/:/g,"")))))||void 0===a?void 0:a.text)||(null===(c=null===(l=null===(r=this.fixed_columns.first())||void 0===r?void 0:r.title.runs)||void 0===l?void 0:l.find((t=>/^\d+$/.test(t.text.replace(/:/g,"")))))||void 0===c?void 0:c.text);u&&(this.duration={text:u,seconds:qw(u)})}),"_MusicResponsiveListItem_parseVideo"),Rh=e((function(){var t,e,i,s,n,o;this.id=null===(e=null===(t=this.endpoint)||void 0===t?void 0:t.payload)||void 0===e?void 0:e.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title,this.subscribers=(null===(o=null===(n=null===(s=this.subtitle)||void 0===s?void 0:s.runs)||void 0===n?void 0:n.find((t=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(t.text))))||void 0===o?void 0:o.text)||""}),"_MusicResponsiveListItem_parseArtist"),Mh=e((function(){var t,e,i,s;this.name=this.flex_columns.first().title.toString(),this.subtitle=null===(t=this.flex_columns.at(1))||void 0===t?void 0:t.title,this.song_count=(null===(s=null===(i=null===(e=this.subtitle)||void 0===e?void 0:e.runs)||void 0===i?void 0:i.find((t=>/^\d+(,\d+)? songs?$/i.test(t.text))))||void 0===s?void 0:s.text)||""}),"_MusicResponsiveListItem_parseLibraryArtist"),Ph=e((function(){var t,e;this.id=d(this,Ch,"f").video_id||(null===(e=null===(t=this.endpoint)||void 0===t?void 0:t.payload)||void 0===e?void 0:e.videoId),this.title=this.flex_columns.first().title.toString()}),"_MusicResponsiveListItem_parseNonMusicTrack"),Lh=e((function(){var t,e,i,s,n,o,a,r,l;this.id=null===(e=null===(t=this.endpoint)||void 0===t?void 0:t.payload)||void 0===e?void 0:e.browseId,this.title=this.flex_columns.first().title.toString();const c=null===(s=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title.runs)||void 0===s?void 0:s.find((t=>sx(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC")));c&&sx(c)&&(this.author={name:c.text,channel_id:null===(o=null===(n=c.endpoint)||void 0===n?void 0:n.payload)||void 0===o?void 0:o.browseId,endpoint:c.endpoint}),this.year=null===(l=null===(r=null===(a=this.flex_columns.at(1))||void 0===a?void 0:a.title.runs)||void 0===r?void 0:r.find((t=>/^[12][0-9]{3}$/.test(t.text))))||void 0===l?void 0:l.text}),"_MusicResponsiveListItem_parseAlbum"),Dh=e((function(){var t,e,i,s,n,o,a,r;this.id=null===(e=null===(t=this.endpoint)||void 0===t?void 0:t.payload)||void 0===e?void 0:e.browseId,this.title=this.flex_columns.first().title.toString();const l=null===(s=null===(i=this.flex_columns.at(1))||void 0===i?void 0:i.title.runs)||void 0===s?void 0:s.find((t=>t.text.match(/\d+ (song|songs)/)));this.item_count=l?l.text:void 0;const c=null===(o=null===(n=this.flex_columns.at(1))||void 0===n?void 0:n.title.runs)||void 0===o?void 0:o.find((t=>sx(t)&&t.endpoint&&t.endpoint.payload.browseId.startsWith("UC")));c&&sx(c)&&(this.author={name:c.text,channel_id:null===(r=null===(a=c.endpoint)||void 0===a?void 0:a.payload)||void 0===r?void 0:r.browseId,endpoint:c.endpoint})}),"_MusicResponsiveListItem_parsePlaylist"),Nh.type="MusicResponsiveListItem";var Bh=Nh,Vh=class extends x{constructor(t){var e,i,s,n,o,a,r,l,c,d,h,u,p,m,v,f,y,g,_,b,w,x;super(),this.title=new Z(t.title),this.endpoint=new z(t.navigationEndpoint),this.id=(null===(i=null===(e=this.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId)||(null===(n=null===(s=this.endpoint)||void 0===s?void 0:s.payload)||void 0===n?void 0:n.videoId),this.subtitle=new Z(t.subtitle),this.badges=Aw.parse(t.subtitleBadges);switch(null===(l=null===(r=null===(a=null===(o=this.endpoint)||void 0===o?void 0:o.payload)||void 0===a?void 0:a.browseEndpointContextSupportedConfigs)||void 0===r?void 0:r.browseEndpointContextMusicConfig)||void 0===l?void 0:l.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:"/next"===(null===(d=null===(c=this.endpoint)||void 0===c?void 0:c.metadata)||void 0===d?void 0:d.api_url)?this.item_type="endpoint":(null===(h=this.subtitle.runs)||void 0===h?void 0:h[0])?"Song"!==this.subtitle.runs[0].text?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown"}if("artist"==this.item_type)this.subscribers=(null===(p=null===(u=this.subtitle.runs)||void 0===u?void 0:u.find((t=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(t.text))))||void 0===p?void 0:p.text)||"";else if("playlist"==this.item_type){const t=null===(m=this.subtitle.runs)||void 0===m?void 0:m.find((t=>t.text.match(/\d+ songs|song/)));this.item_count=t?t.text:null}else if("album"==this.item_type){const t=null===(v=this.subtitle.runs)||void 0===v?void 0:v.filter((t=>{var e,i;return null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId.startsWith("UC")}));t&&(this.artists=t.map((t=>{var e,i;return{name:t.text,channel_id:null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId,endpoint:t.endpoint}}))),this.year=null===(f=this.subtitle.runs)||void 0===f?void 0:f.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if("video"==this.item_type){this.views=(null===(g=null===(y=null==this?void 0:this.subtitle.runs)||void 0===y?void 0:y.find((t=>null==t?void 0:t.text.match(/(.*?) views/))))||void 0===g?void 0:g.text)||"N/A";const t=null===(_=this.subtitle.runs)||void 0===_?void 0:_.find((t=>{var e,i,s;return null===(s=null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId)||void 0===s?void 0:s.startsWith("UC")}));t&&(this.author={name:null==t?void 0:t.text,channel_id:null===(w=null===(b=null==t?void 0:t.endpoint)||void 0===b?void 0:b.payload)||void 0===w?void 0:w.browseId,endpoint:null==t?void 0:t.endpoint})}else if("song"==this.item_type){const t=null===(x=this.subtitle.runs)||void 0===x?void 0:x.filter((t=>{var e,i;return null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId.startsWith("UC")}));t&&(this.artists=t.map((t=>{var e,i;return{name:null==t?void 0:t.text,channel_id:null===(i=null===(e=null==t?void 0:t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId,endpoint:null==t?void 0:t.endpoint}})))}this.thumbnail=q.fromResponse(t.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=Aw.parseItem(t.thumbnailOverlay,dh),this.menu=Aw.parseItem(t.menu,wt)}};e(Vh,"MusicTwoRowItem"),Vh.type="MusicTwoRowItem";var Uh=Vh,Hh=class extends x{constructor(t){super(),this.header=Aw.parseItem(t.header,fh),this.contents=Aw.parseArray(t.contents,[Uh,Bh,gh,bh]),Reflect.has(t,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(t.numItemsPerColumn))}};e(Hh,"MusicCarouselShelf"),Hh.type="MusicCarouselShelf";var Fh=Hh,jh=class extends x{constructor(t){super(),this.description=new Z(t.description),Reflect.has(t,"maxCollapsedLines")&&(this.max_collapsed_lines=t.maxCollapsedLines),Reflect.has(t,"maxExpandedLines")&&(this.max_expanded_lines=t.maxExpandedLines),this.footer=new Z(t.footer)}};e(jh,"MusicDescriptionShelf"),jh.type="MusicDescriptionShelf";var Wh=jh,Gh=class extends x{constructor(t){var e,i,s,n,o,a,r,l,c;super(),this.title=new Z(t.title),this.description=new Z(t.description),this.subtitle=new Z(t.subtitle),this.second_subtitle=new Z(t.secondSubtitle),this.year=(null===(i=null===(e=this.subtitle.runs)||void 0===e?void 0:e.find((t=>/^[12][0-9]{3}$/.test(t.text))))||void 0===i?void 0:i.text)||"",this.song_count=(null===(n=null===(s=this.second_subtitle.runs)||void 0===s?void 0:s[0])||void 0===n?void 0:n.text)||"",this.total_duration=(null===(a=null===(o=this.second_subtitle.runs)||void 0===o?void 0:o[2])||void 0===a?void 0:a.text)||"",this.thumbnails=q.fromResponse(t.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=Aw.parseArray(t.subtitleBadges);const d=null===(r=this.subtitle.runs)||void 0===r?void 0:r.find((t=>{var e,i;return null===(i=null===(e=null==t?void 0:t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId.startsWith("UC")}));d&&(this.author={name:d.text,channel_id:null===(c=null===(l=d.endpoint)||void 0===l?void 0:l.payload)||void 0===c?void 0:c.browseId,endpoint:d.endpoint}),this.menu=Aw.parseItem(t.menu)}};e(Gh,"MusicDetailHeader"),Gh.type="MusicDetailHeader";var $h=Gh,Yh=class extends x{constructor(t){super(),this.playlist_id=t.playlistId,this.supported_download_states=t.supportedDownloadStates}};e(Yh,"MusicDownloadStateBadge"),Yh.type="MusicDownloadStateBadge";var Kh=Yh,zh=class extends x{constructor(t){super(),this.header=Aw.parseItem(t.header)}};e(zh,"MusicEditablePlaylistDetailHeader"),zh.type="MusicEditablePlaylistDetailHeader";var qh=zh,Xh=class extends x{constructor(t){super(),this.element=Reflect.has(t,"elementRenderer")?Aw.parseItem(t,Xa):null}};e(Xh,"MusicElementHeader"),Xh.type="MusicElementHeader";var Qh=Xh,Jh=class extends x{constructor(t){super(),Reflect.has(t,"header")&&(this.header=Aw.parseItem(t.header)),Reflect.has(t,"title")&&(this.title=new Z(t.title))}};e(Jh,"MusicHeader"),Jh.type="MusicHeader";var Zh=Jh,tu=class extends x{constructor(t){super(),this.title=new Z(t.title),this.description=new Z(t.description),this.thumbnail=Aw.parseItem(t.thumbnail,uh)}};e(tu,"MusicImmersiveHeader"),tu.type="MusicImmersiveHeader";var eu=tu,iu=class{constructor(t){this.icon_name=t.iconName,this.endpoint=new z(t.onTap),this.a11y_text=t.a11yText,this.style=t.style}};e(iu,"ActionButton"),iu.type="ActionButton";var su=class{constructor(t){this.image=t.image.image.sources,this.content_mode=t.image.contentMode,this.crop_options=t.image.cropOptions,this.image_aspect_ratio=t.imageAspectRatio,this.caption=t.caption,this.action_buttons=t.actionButtons.map((t=>new iu(t)))}};e(su,"Panel"),su.type="Panel";var nu=class extends x{constructor(t){super(),this.header=t.shelf.header,this.panels=t.shelf.panels.map((t=>new su(t)))}};e(nu,"MusicLargeCardItemCarousel"),nu.type="MusicLargeCardItemCarousel";var ou=nu,au=class extends x{constructor(t){var e,i,s;super(),this.playlist_id=t.playlistId,this.contents=Aw.parseArray(t.contents,Bh),this.collapsed_item_count=t.collapsedItemCount,this.continuation=(null===(s=null===(i=null===(e=t.continuations)||void 0===e?void 0:e[0])||void 0===i?void 0:i.nextContinuationData)||void 0===s?void 0:s.continuation)||null}};e(au,"MusicPlaylistShelf"),au.type="MusicPlaylistShelf";var ru=au,lu=class extends x{constructor(t){var e,i,s,n,o;super(),this.title=new Z(t.title),this.thumbnail=q.fromResponse(t.thumbnail),this.endpoint=new z(t.navigationEndpoint),this.selected=t.selected,this.video_id=t.videoId,this.duration={text:new Z(t.lengthText).toString(),seconds:qw(new Z(t.lengthText).toString())};const a=null===(e=new Z(t.longBylineText).runs)||void 0===e?void 0:e.find((t=>{var e,i,s;return null===(s=null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId)||void 0===s?void 0:s.startsWith("MPR")})),r=null===(i=new Z(t.longBylineText).runs)||void 0===i?void 0:i.filter((t=>{var e,i,s;return null===(s=null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId)||void 0===s?void 0:s.startsWith("UC")}));this.author=new Z(t.shortBylineText).toString(),a&&(this.album={id:null===(n=null===(s=a.endpoint)||void 0===s?void 0:s.payload)||void 0===n?void 0:n.browseId,name:a.text,year:null===(o=new Z(t.longBylineText).runs)||void 0===o?void 0:o.slice(-1)[0].text,endpoint:a.endpoint}),r&&(this.artists=r.map((t=>{var e,i;return{name:t.text,channel_id:null===(i=null===(e=t.endpoint)||void 0===e?void 0:e.payload)||void 0===i?void 0:i.browseId,endpoint:t.endpoint}}))),this.badges=Aw.parseArray(t.badges),this.menu=Aw.parseItem(t.menu),this.set_video_id=t.playlistSetVideoId}};e(lu,"PlaylistPanelVideo"),lu.type="PlaylistPanelVideo";var cu=lu,du=class extends x{constructor(t){super(),this.primary=Aw.parseItem(t.primaryRenderer,cu),Reflect.has(t,"counterpart")&&(this.counterpart=C(t.counterpart.map((t=>Aw.parseItem(t.counterpartRenderer,cu)))||[]))}};e(du,"PlaylistPanelVideoWrapper"),du.type="PlaylistPanelVideoWrapper";var hu=du,uu=class extends x{constructor(t){var e,i,s,n,o,a;super(),this.title=t.title,this.title_text=new Z(t.titleText),this.contents=Aw.parseArray(t.contents,[hu,cu,Ci]),this.playlist_id=t.playlistId,this.is_infinite=t.isInfinite,this.continuation=(null===(s=null===(i=null===(e=t.continuations)||void 0===e?void 0:e[0])||void 0===i?void 0:i.nextRadioContinuationData)||void 0===s?void 0:s.continuation)||(null===(a=null===(o=null===(n=t.continuations)||void 0===n?void 0:n[0])||void 0===o?void 0:o.nextContinuationData)||void 0===a?void 0:a.continuation),this.is_editable=t.isEditable,this.preview_description=t.previewDescription,this.num_items_to_show=t.numItemsToShow}};e(uu,"PlaylistPanel"),uu.type="PlaylistPanel";var pu=uu,mu=class extends x{constructor(t){super(),this.content=Aw.parseItem(t.content,pu)}};e(mu,"MusicQueue"),mu.type="MusicQueue";var vu=mu,fu=class extends x{constructor(t){var e,i,s,n;super(),this.title=new Z(t.title),this.contents=Aw.parseArray(t.contents,Bh),Reflect.has(t,"bottomEndpoint")&&(this.endpoint=new z(t.bottomEndpoint)),Reflect.has(t,"continuations")&&(this.continuation=(null===(i=null===(e=t.continuations)||void 0===e?void 0:e[0].nextContinuationData)||void 0===i?void 0:i.continuation)||(null===(n=null===(s=t.continuations)||void 0===s?void 0:s[0].reloadContinuationData)||void 0===n?void 0:n.continuation)),Reflect.has(t,"bottomText")&&(this.bottom_text=new Z(t.bottomText)),Reflect.has(t,"bottomButton")&&(this.bottom_button=Aw.parseItem(t.bottomButton,V)),Reflect.has(t,"subheaders")&&(this.subheaders=Aw.parseArray(t.subheaders))}};e(fu,"MusicShelf"),fu.type="MusicShelf";var yu=fu,gu=class extends x{constructor(t){super(),Reflect.has(t,"startItems")&&(this.start_items=Aw.parseArray(t.startItems)),Reflect.has(t,"endItems")&&(this.end_items=Aw.parseArray(t.endItems))}};e(gu,"MusicSideAlignedItem"),gu.type="MusicSideAlignedItem";var _u=gu,bu=class extends x{constructor(t){super(),this.title=new Z(t.title).toString(),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),this.menu=Aw.parseItem(t.menu,Dd)}};e(bu,"MusicSortFilterButton"),bu.type="MusicSortFilterButton";var wu=bu,xu=class extends x{constructor(t){super(),this.thumbnail=q.fromResponse(t.thumbnail)}};e(xu,"MusicTastebuilderShelfThumbnail"),xu.type="MusicTastebuilderShelfThumbnail";var Su=xu,Tu=class extends x{constructor(t){super(),this.thumbnail=Aw.parseItem(t.thumbnail,Su),this.primary_text=new Z(t.primaryText),this.secondary_text=new Z(t.secondaryText),this.action_button=Aw.parseItem(t.actionButton,V),this.is_visible=t.isVisible}};e(Tu,"MusicTasteBuilderShelf"),Tu.type="MusicTasteBuilderShelf";var Cu=Tu,Iu=class extends x{constructor(t){var e,i;super(),this.title=new Z(t.title),this.thumbnail=t.thumbnail?q.fromResponse(null===(e=t.thumbnail.musicThumbnailRenderer)||void 0===e?void 0:e.thumbnail):[],this.menu=Aw.parseItem(t.menu,wt),this.foreground_thumbnail=t.foregroundThumbnail?q.fromResponse(null===(i=t.foregroundThumbnail.musicThumbnailRenderer)||void 0===i?void 0:i.thumbnail):[]}};e(Iu,"MusicVisualHeader"),Iu.type="MusicVisualHeader";var ku=Iu,Eu=class extends x{constructor(t){super(),this.thumbnails=q.fromResponse(t.thumbnail),this.video_thumbnails=q.fromResponse(t.videoThumbnail),this.short_message=new Z(t.shortMessage),this.sent_time=new Z(t.sentTimeText),this.notification_id=t.notificationId,this.endpoint=new z(t.navigationEndpoint),this.record_click_endpoint=new z(t.recordClickEndpoint),this.menu=Aw.parseItem(t.contextualMenu),this.read=t.read}};e(Eu,"Notification"),Eu.type="Notification";var Au=Eu,Ru=class extends x{constructor(t){super(),this.image=Aw.parseItem(t.image,Sa),this.title=Aw.parseItem(t.title,Ya)}};e(Ru,"PageHeaderView"),Ru.type="PageHeaderView";var Mu=Ru,Pu=class extends x{constructor(t){super(),this.page_title=t.pageTitle,this.content=Aw.parseItem(t.content,Mu)}};e(Pu,"PageHeader"),Pu.type="PageHeader";var Lu=Pu,Du=class extends x{constructor(t){super(),this.header_text=new Z(t.headerText).toString(),this.body_text=new Z(t.bodyText).toString(),this.page_title=new Z(t.pageTitle).toString(),this.header_icon_type=t.headerIcon.iconType}};e(Du,"PageIntroduction"),Du.type="PageIntroduction";var Ou=Du,Nu=class extends x{constructor(t){super(),this.subreason=new Z(t.subreason),this.reason=new Z(t.reason),this.proceed_button=Aw.parseItem(t.proceedButton,V),this.thumbnails=q.fromResponse(t.thumbnail),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType)}};e(Nu,"PlayerErrorMessage"),Nu.type="PlayerErrorMessage";var Bu=Nu,Vu=class extends x{constructor(t){super(),this.title=t.itemTitle,this.thumbnail=t.itemThumbnail,this.offer_description=t.offerDescription,this.offer_id=t.offerId}};e(Vu,"PlayerLegacyDesktopYpcOffer"),Vu.type="PlayerLegacyDesktopYpcOffer";var Uu=Vu,Hu=class extends x{constructor(t){super(),this.video_message=t.fullVideoMessage,this.player_response=t.unserializedPlayerResponse}};e(Hu,"YpcTrailer"),Hu.type="YpcTrailer";var Fu=Hu,ju=class extends x{constructor(t){super(),this.video_id=t.trailerVideoId,this.title=t.itemTitle,this.thumbnail=t.itemThumbnail,this.offer_headline=t.offerHeadline,this.offer_description=t.offerDescription,this.offer_id=t.offerId,this.offer_button_text=t.offerButtonText,this.video_message=t.fullVideoMessage,this.trailer=D.parseItem(t.ypcTrailer,Fu)}};e(ju,"PlayerLegacyDesktopYpcTrailer"),ju.type="PlayerLegacyDesktopYpcTrailer";var Wu=ju,Gu=class extends x{constructor(t){var e;super(),this.title=new Z(t.title),this.description=new Z(t.description),this.thumbnails=q.fromResponse(t.thumbnail),Reflect.has(t,"embed")&&(this.embed={iframe_url:t.embed.iframeUrl,flash_url:t.embed.flashUrl,flash_secure_url:t.embed.flashSecureUrl,width:t.embed.width,height:t.embed.height}),this.length_seconds=parseInt(t.lengthSeconds),this.channel={id:t.externalChannelId,name:t.ownerChannelName,url:t.ownerProfileUrl},this.is_family_safe=!!t.isFamilySafe,this.is_unlisted=!!t.isUnlisted,this.has_ypc_metadata=!!t.hasYpcMetadata,this.view_count=parseInt(t.viewCount),this.category=t.category,this.publish_date=t.publishDate,this.upload_date=t.uploadDate,this.available_countries=t.availableCountries,this.start_timestamp=(null===(e=t.liveBroadcastDetails)||void 0===e?void 0:e.startTimestamp)?new Date(t.liveBroadcastDetails.startTimestamp):null}};e(Gu,"PlayerMicroformat"),Gu.type="PlayerMicroformat";var $u=Gu,Yu=class extends x{constructor(t){super(),this.title=new Z(t.title),this.video_id=t.videoId,this.video_title=new Z(t.videoTitle),this.short_view_count=new Z(t.shortViewCountText),this.prefer_immediate_redirect=t.preferImmediateRedirect,this.count_down_secs_for_fullscreen=t.countDownSecsForFullscreen,this.published=new Z(t.publishedTimeText),this.background=q.fromResponse(t.background),this.thumbnail_overlays=Aw.parseArray(t.thumbnailOverlays),this.author=new Lw(t.byline),this.cancel_button=Aw.parseItem(t.cancelButton,V),this.next_button=Aw.parseItem(t.nextButton,V),this.close_button=Aw.parseItem(t.closeButton,V)}};e(Yu,"PlayerOverlayAutoplay"),Yu.type="PlayerOverlayAutoplay";var Ku=Yu,zu=class extends x{constructor(t){super(),this.results=Aw.parseArray(t.results,[dr,lr]),this.title=new Z(t.title).toString()}};e(zu,"WatchNextEndScreen"),zu.type="WatchNextEndScreen";var qu=zu,Xu=class extends x{constructor(t){super(),this.end_screen=Aw.parseItem(t.endScreen,qu),this.autoplay=Aw.parseItem(t.autoplay,Ku),this.share_button=Aw.parseItem(t.shareButton,V),this.add_to_menu=Aw.parseItem(t.addToMenu,wt),this.fullscreen_engagement=Aw.parseItem(t.fullscreenEngagement),this.actions=Aw.parseArray(t.actions),this.browser_media_session=Aw.parseItem(t.browserMediaSession),this.decorated_player_bar=Aw.parseItem(t.decoratedPlayerBarRenderer,Va)}};e(Xu,"PlayerOverlay"),Xu.type="PlayerOverlay";var Qu=Xu,Ju=class extends x{constructor(t){super(),this.id=t.playlistId,this.title=new Z(t.title),this.subtitle=t.subtitle?new Z(t.subtitle):null,this.stats=t.stats.map((t=>new Z(t))),this.brief_stats=t.briefStats.map((t=>new Z(t))),this.author=t.ownerText||t.ownerEndpoint?new Lw(Object.assign(Object.assign({},t.ownerText),{navigationEndpoint:t.ownerEndpoint}),t.ownerBadges,null):null,this.description=new Z(t.descriptionText),this.num_videos=new Z(t.numVideosText),this.view_count=new Z(t.viewCountText),this.can_share=t.shareData.canShare,this.can_delete=t.editableDetails.canDelete,this.is_editable=t.isEditable,this.privacy=t.privacy,this.save_button=Aw.parseItem(t.saveButton),this.shuffle_play_button=Aw.parseItem(t.shufflePlayButton),this.menu=Aw.parseItem(t.moreActionsMenu),this.banner=Aw.parseItem(t.playlistHeaderBanner)}};e(Ju,"PlaylistHeader"),Ju.type="PlaylistHeader";var Zu=Ju,tp=class extends x{constructor(t){super(),this.title=new Z(t.playlistTitle),this.thumbnails=q.fromResponse(t.thumbnail),this.video_count=new Z(t.playlistVideoCount),this.channel_name=new Z(t.channelName),this.endpoint=new z(t.action)}};e(tp,"PlaylistInfoCardContent"),tp.type="PlaylistInfoCardContent";var ep=tp,ip=class extends x{constructor(t){super(),this.title=t.title,this.description=t.description||null}};e(ip,"PlaylistMetadata"),ip.type="PlaylistMetadata";var sp=ip,np=class extends x{constructor(t){super(),this.items=Aw.parseArray(t.items)}get contents(){return this.items}};e(np,"PlaylistSidebar"),np.type="PlaylistSidebar";var op=np,ap=class extends x{constructor(t){super(),this.stats=t.stats.map((t=>new Z(t))),this.thumbnail_renderer=Aw.parseItem(t.thumbnailRenderer),this.title=new Z(t.title),this.menu=Aw.parseItem(t.menu),this.endpoint=new z(t.navigationEndpoint),this.description=new Z(t.description)}};e(ap,"PlaylistSidebarPrimaryInfo"),ap.type="PlaylistSidebarPrimaryInfo";var rp=ap,lp=class extends x{constructor(t){super(),this.owner=Aw.parseItem(t.videoOwner),this.button=Aw.parseItem(t.button)}};e(lp,"PlaylistSidebarSecondaryInfo"),lp.type="PlaylistSidebarSecondaryInfo";var cp=lp,dp=class extends x{constructor(t){super(),this.id=t.videoId,this.index=new Z(t.index),this.title=new Z(t.title),this.author=new Lw(t.shortBylineText),this.thumbnails=q.fromResponse(t.thumbnail),this.thumbnail_overlays=Aw.parseArray(t.thumbnailOverlays),this.set_video_id=null==t?void 0:t.setVideoId,this.endpoint=new z(t.navigationEndpoint),this.is_playable=t.isPlayable,this.menu=Aw.parseItem(t.menu,wt),this.video_info=new Z(t.videoInfo),this.accessibility_label=t.title.accessibility.accessibilityData.label;const e=t.upcomingEventData&&Number(`${t.upcomingEventData.startTime}000`);e&&(this.upcoming=new Date(e)),this.duration={text:new Z(t.lengthText).toString(),seconds:parseInt(t.lengthSeconds)}}get is_live(){var t;return"LIVE"===(null===(t=this.thumbnail_overlays.firstOfType($t))||void 0===t?void 0:t.style)}get is_upcoming(){var t;return"UPCOMING"===(null===(t=this.thumbnail_overlays.firstOfType($t))||void 0===t?void 0:t.style)}};e(dp,"PlaylistVideo"),dp.type="PlaylistVideo";var hp=dp,up=class extends x{constructor(t){super(),this.id=t.playlistId,this.is_editable=t.isEditable,this.can_reorder=t.canReorder,this.videos=Aw.parseArray(t.contents)}};e(up,"PlaylistVideoList"),up.type="PlaylistVideoList";var pp=up,mp=class extends x{constructor(t){super(),this.choices=t.choices.map((t=>({text:new Z(t.text),select_endpoint:t.selectServiceEndpoint?new z(t.selectServiceEndpoint):null,deselect_endpoint:t.deselectServiceEndpoint?new z(t.deselectServiceEndpoint):null,vote_ratio_if_selected:(null==t?void 0:t.voteRatioIfSelected)||null,vote_percentage_if_selected:new Z(t.votePercentageIfSelected),vote_ratio_if_not_selected:(null==t?void 0:t.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new Z(t.votePercentageIfSelected),image:t.image?q.fromResponse(t.image):null}))),Reflect.has(t,"type")&&(this.poll_type=t.type),Reflect.has(t,"totalVotes")&&(this.total_votes=new Z(t.totalVotes)),Reflect.has(t,"liveChatPollId")&&(this.live_chat_poll_id=t.liveChatPollId)}};e(mp,"Poll"),mp.type="Poll";var vp=mp,fp=class extends Oi{constructor(t){super(t)}};e(fp,"Post"),fp.type="Post";var yp=fp,gp=class extends x{constructor(t){super(),this.images=Aw.parseArray(t.images,ki)}};e(gp,"PostMultiImage"),gp.type="PostMultiImage";var _p=gp,bp=class extends x{constructor(t){super(),this.title=new Z(t.title),this.suppress_padding_disclaimer=!!t.suppressPaddingDisclaimer}};e(bp,"ProductListHeader"),bp.type="ProductListHeader";var wp=bp,xp=class extends x{constructor(t){super(),this.title=new Z(t.title),this.accessibility_title=t.accessibilityTitle,this.thumbnail=q.fromResponse(t.thumbnail),this.price=t.price,this.endpoint=new z(t.onClickCommand),this.merchant_name=t.merchantName,this.stay_in_app=!!t.stayInApp,this.view_button=Aw.parseItem(t.viewButton,V)}};e(xp,"ProductListItem"),xp.type="ProductListItem";var Sp=xp,Tp=class extends x{constructor(t){super(),this.items=Aw.parseArray(t.items)}get contents(){return this.items}};e(Tp,"ProfileColumn"),Tp.type="ProfileColumn";var Cp=Tp,Ip=class extends x{constructor(t){super(),this.items=Aw.parseArray(t.items)}get contents(){return this.items}};e(Ip,"ProfileColumnStats"),Ip.type="ProfileColumnStats";var kp=Ip,Ep=class extends x{constructor(t){super(),this.label=new Z(t.label),this.value=new Z(t.value)}};e(Ep,"ProfileColumnStatsEntry"),Ep.type="ProfileColumnStatsEntry";var Ap=Ep,Rp=class extends x{constructor(t){super(),this.title=new Z(t.title),this.thumbnails=q.fromResponse(t.thumbnail)}};e(Rp,"ProfileColumnUserInfo"),Rp.type="ProfileColumnUserInfo";var Mp=Rp,Pp=class extends x{constructor(t){super(),this.choices=t.choices.map((t=>({text:new Z(t.text),is_correct:t.isCorrect}))),this.total_votes=new Z(t.totalVotes)}};e(Pp,"Quiz"),Pp.type="Quiz";var Lp=Pp,Dp=class extends x{constructor(t){super(),this.title=new Z(t.title),this.subtitle=new Z(t.subtitle),this.avatars=t.avatars.map((t=>new q(t))),this.button=Aw.parseItem(t.button,V),this.surface=t.surface}};e(Dp,"RecognitionShelf"),Dp.type="RecognitionShelf";var Op=Dp,Np=class extends x{constructor(t){super(),this.id=t.videoId,this.title=new Z(t.headline),this.thumbnails=q.fromResponse(t.thumbnail),this.views=new Z(t.viewCountText),this.endpoint=new z(t.navigationEndpoint),this.accessibility_label=t.accessibility.accessibilityData.label}};e(Np,"ReelItem"),Np.type="ReelItem";var Bp=Np,Vp=class extends x{constructor(t){super(),this.title=new Z(t.title),this.items=Aw.parseArray(t.items),Reflect.has(t,"endpoint")&&(this.endpoint=new z(t.endpoint))}get contents(){return this.items}};e(Vp,"ReelShelf"),Vp.type="ReelShelf";var Up=Vp,Hp=class extends x{constructor(t){super(),this.content=Aw.parseItem(t.content)}};e(Hp,"RelatedChipCloud"),Hp.type="RelatedChipCloud";var Fp=Hp,jp=class extends x{constructor(t){super(),this.header=Aw.parseItem(t.header),this.contents=Aw.parseArray(t.contents)}};e(jp,"RichGrid"),jp.type="RichGrid";var Wp=jp,Gp=class extends x{constructor(t){super(),this.content=Aw.parseItem(t.content)}};e(Gp,"RichItem"),Gp.type="RichItem";var $p=Gp,Yp=class extends x{constructor(t){super(),this.title=new Z(t.title),this.subtitle=new Z(t.subtitle),Reflect.has(t,"titleStyle")&&(this.title_style=t.titleStyle.style),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType)}};e(Yp,"RichListHeader"),Yp.type="RichListHeader";var Kp=Yp,zp=class extends x{constructor(t){super(),this.thumbnail=q.fromResponse(t.thumbnail),this.title=new Z(t.title),this.subtitle=new Z(t.subtitle),this.call_to_action=new Z(t.callToAction),Reflect.has(t,"callToActionIcon")&&(this.icon_type=t.callToActionIcon.iconType),this.endpoint=new z(t.endpoint)}};e(zp,"RichMetadata"),zp.type="RichMetadata";var qp=zp,Xp=class extends x{constructor(t){super(),this.contents=Aw.parseArray(t.contents)}};e(Xp,"RichMetadataRow"),Xp.type="RichMetadataRow";var Qp=Xp,Jp=class extends x{constructor(t){super(),this.content=Aw.parseItem(t.content)}};e(Jp,"RichSection"),Jp.type="RichSection";var Zp=Jp,tm=class extends x{constructor(t){super(),this.title=new Z(t.title),this.contents=Aw.parseArray(t.contents),Reflect.has(t,"endpoint")&&(this.endpoint=new z(t.endpoint))}};e(tm,"RichShelf"),tm.type="RichShelf";var em=tm,im=class extends x{constructor(t){super(),this.endpoint=new z(t.endpoint),this.search_button=Aw.parseItem(t.searchButton,V),this.clear_button=Aw.parseItem(t.clearButton,V),this.placeholder_text=new Z(t.placeholderText)}};e(im,"SearchBox"),im.type="SearchBox";var sm=im,nm=class extends x{constructor(t){super(),this.label=new Z(t.label),this.endpoint=new z(t.endpoint||t.navigationEndpoint),this.tooltip=t.tooltip,Reflect.has(t,"status")&&(this.status=t.status)}get disabled(){return"FILTER_STATUS_DISABLED"===this.status}get selected(){return"FILTER_STATUS_SELECTED"===this.status}};e(nm,"SearchFilter"),nm.type="SearchFilter";var om=nm,am=class extends x{constructor(t){super(),this.title=new Z(t.title),this.filters=D.parseArray(t.filters,om)}};e(am,"SearchFilterGroup"),am.type="SearchFilterGroup";var rm=am,lm=class extends x{constructor(t){super(),this.title=new Z(t.title),this.groups=D.parseArray(t.groups,rm)}};e(lm,"SearchFilterOptionsDialog"),lm.type="SearchFilterOptionsDialog";var cm=lm,dm=class extends x{constructor(t){super(),this.chip_bar=D.parseItem(t.chipBar,Ds),this.search_filter_button=D.parseItem(t.searchFilterButton,V)}};e(dm,"SearchHeader"),dm.type="SearchHeader";var hm=dm,um=class extends x{constructor(t){super(),Reflect.has(t,"title")&&(this.title=new Z(t.title)),Reflect.has(t,"groups")&&(this.groups=Aw.parseArray(t.groups,rm)),Reflect.has(t,"button")&&(this.button=Aw.parseItem(t.button,Ai))}};e(um,"SearchSubMenu"),um.type="SearchSubMenu";var pm=um,mm=class extends x{constructor(t){super(),this.contents=Aw.parseArray(t.contents)}};e(mm,"SearchSuggestionsSection"),mm.type="SearchSuggestionsSection";var vm=mm,fm=class extends x{constructor(t){super(),this.contents=Aw.parseArray(t.contents)}};e(fm,"SecondarySearchContainer"),fm.type="SecondarySearchContainer";var ym=fm,gm=class extends x{constructor(t){super(),this.like_button=Aw.parseItem(t.likeButton,[Ai,V]),this.dislike_button=Aw.parseItem(t.dislikeButton,[Ai,V])}};e(gm,"SegmentedLikeDislikeButton"),gm.type="SegmentedLikeDislikeButton";var _m=gm,bm=class extends x{constructor(t){super(),Reflect.has(t,"title")&&(this.title=new Z(t.title)),Reflect.has(t,"summary")&&(this.summary=new Z(t.summary)),Reflect.has(t,"enableServiceEndpoint")&&(this.enable_endpoint=new z(t.enableServiceEndpoint)),Reflect.has(t,"disableServiceEndpoint")&&(this.disable_endpoint=new z(t.disableServiceEndpoint)),this.item_id=t.itemId}};e(bm,"SettingBoolean"),bm.type="SettingBoolean";var wm=bm,xm=class extends x{constructor(t){super(),this.title=new Z(t.title),this.help_text=new Z(t.helpText),this.enabled=t.enabled,this.disabled=t.disabled,this.id=t.id}};e(xm,"SettingsCheckbox"),xm.type="SettingsCheckbox";var Sm=xm,Tm=class extends x{constructor(t){super(),this.title=new Z(t.title),this.subtitle=new Z(t.subtitle),this.enabled=t.enabled,this.enable_endpoint=new z(t.enableServiceEndpoint),this.disable_endpoint=new z(t.disableServiceEndpoint)}};e(Tm,"SettingsSwitch"),Tm.type="SettingsSwitch";var Cm=Tm,Im=class extends x{constructor(t){super(),this.title=new Z(t.title),Reflect.has(t,"text")&&(this.text=new Z(t.text).toString()),Reflect.has(t,"options")&&(this.options=Aw.parseArray(t.options,[Cm,j,Aa,Sm,bs]))}};e(Im,"SettingsOptions"),Im.type="SettingsOptions";var km=Im,Em=class extends x{constructor(t){super(),this.title=new Z(t.title),this.items=Aw.parseArray(t.items,oa)}get contents(){return this.items}};e(Em,"SettingsSidebar"),Em.type="SettingsSidebar";var Am=Em,Rm=class extends x{constructor(t){super(),this.thumbnail=q.fromResponse(t.thumbnail),this.content=new Z(t.content),this.published=new Z(t.publishedTimeText),this.menu=Ay(t.actionMenu,wt),this.original_post=Ay(t.originalPost,Oi),this.id=t.postId,this.endpoint=new z(t.navigationEndpoint),this.expand_button=Ay(t.expandButton,V),this.author=new Lw(t.displayName,void 0)}};e(Rm,"SharedPost"),Rm.type="SharedPost";var Mm=Rm,Pm=class extends x{constructor(t){super(),this.title=new Z(t.title),Reflect.has(t,"endpoint")&&(this.endpoint=new z(t.endpoint)),this.content=Aw.parseItem(t.content),Reflect.has(t,"icon")&&(this.icon_type=t.icon.iconType),Reflect.has(t,"menu")&&(this.menu=Aw.parseItem(t.menu)),Reflect.has(t,"playAllButton")&&(this.play_all_button=Aw.parseItem(t.playAllButton,V))}};e(Pm,"Shelf"),Pm.type="Shelf";var Lm=Pm,Dm=class extends x{constructor(t){super(),this.corrected_query=new Z(t.correctedQuery),this.original_query=new Z(t.originalQuery),this.corrected_query_endpoint=new z(t.correctedQueryEndpoint),this.original_query_endpoint=new z(t.originalQueryEndpoint),this.search_instead_for=new Z(t.searchInsteadFor),this.showing_results_for=new Z(t.showingResultsFor)}};e(Dm,"ShowingResultsFor"),Dm.type="ShowingResultsFor";var Om=Dm,Nm=class extends x{constructor(t){super(),this.image=q.fromResponse(t.image),this.title=new Z(t.title),this.display_domain=new Z(t.displayDomain),this.show_link_icon=t.showLinkIcon,this.call_to_action=new Z(t.callToAction),this.endpoint=new z(t.command)}};e(Nm,"SimpleCardContent"),Nm.type="SimpleCardContent";var Bm=Nm,Vm=class extends x{constructor(t){super(),this.message=new Z(t.message),this.prominent=t.prominent}};e(Vm,"SimpleCardTeaser"),Vm.type="SimpleCardTeaser";var Um=Vm,Hm=class extends x{constructor(t){super(),this.lines=t.lines.map((t=>new Z(t))),this.style=t.layoutStyle}};e(Hm,"SimpleTextSection"),Hm.type="SimpleTextSection";var Fm=Hm,jm=class extends x{constructor(t){super(),this.action_text=new Z(t.actionText),this.nav_text=new Z(t.navigationText),this.details=new Z(t.detailsText),this.icon_type=t.icon.iconType,this.endpoint=new z(t.navigationEndpoint)}};e(jm,"SingleActionEmergencySupport"),jm.type="SingleActionEmergencySupport";var Wm=jm,Gm=class extends x{constructor(t){super(),this.title=t.title||"N/A",this.selected=!!t.selected,this.endpoint=new z(t.endpoint),this.content=Aw.parseItem(t.content,[Mt,vu,Wp])}};e(Gm,"Tab"),Gm.type="Tab";var $m=Gm,Ym=class extends x{constructor(t){super(),this.tabs=Aw.parseArray(t.tabs,$m)}};e(Ym,"SingleColumnBrowseResults"),Ym.type="SingleColumnBrowseResults";var Km=Ym,zm=class extends x{constructor(t){super(),this.contents=Aw.parse(t)}};e(zm,"SingleColumnMusicWatchNextResults"),zm.type="SingleColumnMusicWatchNextResults";var qm=zm,Xm=class extends x{constructor(t){super(),this.thumbnails=q.fromResponse(t.thumbnail),this.style=t.style}};e(Xm,"SingleHeroImage"),Xm.type="SingleHeroImage";var Qm=Xm,Jm=class extends x{constructor(t){super(),this.thumbnail=q.fromResponse(t.thumbnail),this.title=new Z(t.title),this.endpoint=new z(t.navigationEndpoint),this.subscribe_button=Aw.parseItem(t.subscribeButton,Xi)}};e(Jm,"SlimOwner"),Jm.type="SlimOwner";var Zm=Jm,tv=class extends x{constructor(t){super(),this.title=new Z(t.title),this.collapsed_subtitle=new Z(t.collapsedSubtitle),this.expanded_subtitle=new Z(t.expandedSubtitle),this.owner=Aw.parseItem(t.owner),this.description=new Z(t.description),this.video_id=t.videoId,this.date=new Z(t.dateText)}};e(tv,"SlimVideoMetadata"),tv.type="SlimVideoMetadata";var ev=tv,iv=class extends x{constructor(t){super(),this.name=new Z(t.name),this.is_selected=t.isSelected,this.endpoint=new z(t.navigationEndpoint)}};e(iv,"SubFeedOption"),iv.type="SubFeedOption";var sv=iv,nv=class extends x{constructor(t){super(),this.title=new Z(t.title),this.options=Aw.parseArray(t.options,sv)}};e(nv,"SubFeedSelector"),nv.type="SubFeedSelector";var ov=nv,av=class extends x{constructor(t){super(),this.contents=Aw.parse(t)}};e(av,"Tabbed"),av.type="Tabbed";var rv=av,lv=class extends x{constructor(t){super(),this.tabs=Aw.parseArray(t.tabs,$m)}};e(lv,"TabbedSearchResults"),lv.type="TabbedSearchResults";var cv=lv,dv=class extends x{constructor(t){super(),this.title=new Z(t.title),this.style=t.style}};e(dv,"TextHeader"),dv.type="TextHeader";var hv=dv,uv=class extends x{constructor(t){super(),this.landscape=q.fromResponse(t.landscape),this.portrait=q.fromResponse(t.portrait)}};e(uv,"ThumbnailLandscapePortrait"),uv.type="ThumbnailLandscapePortrait";var pv=uv,mv=class extends x{constructor(t){super(),this.text=new Z(t.text).toString()}};e(mv,"ThumbnailOverlayEndorsement"),mv.type="ThumbnailOverlayEndorsement";var vv=mv,fv=class extends x{constructor(t){super(),this.text=new Z(t.text),this.icon_type=t.icon.iconType}};e(fv,"ThumbnailOverlayHoverText"),fv.type="ThumbnailOverlayHoverText";var yv=fv,gv=class extends x{constructor(t){super(),this.text=new Z(t.text).toString(),this.icon_type=t.icon.iconType}};e(gv,"ThumbnailOverlayInlineUnplayable"),gv.type="ThumbnailOverlayInlineUnplayable";var _v=gv,bv=class extends x{constructor(t){super(),this.text=new Z(t.text)}};e(bv,"ThumbnailOverlayLoadingPreview"),bv.type="ThumbnailOverlayLoadingPreview";var wv=bv,xv=class extends x{constructor(t){super(),this.text=new Z(t.text).toString()}};e(xv,"ThumbnailOverlayNowPlaying"),xv.type="ThumbnailOverlayNowPlaying";var Sv=xv,Tv=class extends x{constructor(t){super(),this.hack=t.hack}};e(Tv,"ThumbnailOverlayPinking"),Tv.type="ThumbnailOverlayPinking";var Cv=Tv,Iv=class extends x{constructor(t){super(),this.texts=t.texts.map((t=>new Z(t)))}};e(Iv,"ThumbnailOverlayPlaybackStatus"),Iv.type="ThumbnailOverlayPlaybackStatus";var kv=Iv,Ev=class extends x{constructor(t){super(),this.percent_duration_watched=t.percentDurationWatched}};e(Ev,"ThumbnailOverlayResumePlayback"),Ev.type="ThumbnailOverlayResumePlayback";var Av=Ev,Rv=class extends x{constructor(t){super(),this.text=new Z(t.text),this.icon_type=t.icon.iconType}};e(Rv,"ThumbnailOverlaySidePanel"),Rv.type="ThumbnailOverlaySidePanel";var Mv=Rv,Pv=class extends x{constructor(t){super(),Reflect.has(t,"isToggled")&&(this.is_toggled=t.isToggled),this.icon_type={toggled:t.toggledIcon.iconType,untoggled:t.untoggledIcon.iconType},this.tooltip={toggled:t.toggledTooltip,untoggled:t.untoggledTooltip},this.toggled_endpoint=new z(t.toggledServiceEndpoint),this.untoggled_endpoint=new z(t.untoggledServiceEndpoint)}};e(Pv,"ThumbnailOverlayToggleButton"),Pv.type="ThumbnailOverlayToggleButton";var Lv=Pv,Dv=class extends x{constructor(t){super(),this.visible_time_range_start_millis=t.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=t.visibleTimeRangeEndMillis,this.decoration_time_millis=t.decorationTimeMillis,this.label=new Z(t.label),this.icon=t.icon}};e(Dv,"TimedMarkerDecoration"),Dv.type="TimedMarkerDecoration";var Ov=Dv,Nv=class extends x{constructor(t){super(),this.title=new Z(t.title)}};e(Nv,"TitleAndButtonListHeader"),Nv.type="TitleAndButtonListHeader";var Bv=Nv,Vv=class extends x{constructor(t){super(),this.text=new Z(t.defaultText),this.toggled_text=new Z(t.toggledText),this.icon_type=t.defaultIcon.iconType,this.toggled_icon_type=t.toggledIcon.iconType,this.default_endpoint=new z(t.defaultServiceEndpoint),this.toggled_endpoint=new z(t.toggledServiceEndpoint)}};e(Vv,"ToggleMenuServiceItem"),Vv.type="ToggleMenuServiceItem";var Uv=Vv,Hv=class extends x{constructor(t){super(),this.promo_config={promo_id:t.promoConfig.promoId,impression_endpoints:t.promoConfig.impressionEndpoints.map((t=>new z(t))),accept:new z(t.promoConfig.acceptCommand),dismiss:new z(t.promoConfig.dismissCommand)},this.target_id=t.targetId,this.details=new Z(t.detailsText),this.suggested_position=t.suggestedPosition.type,this.dismiss_stratedy=t.dismissStrategy.type,this.dwell_time_ms=parseInt(t.dwellTimeMs)}};e(Hv,"Tooltip"),Hv.type="Tooltip";var Fv=Hv,jv=class extends x{constructor(t){var e;super(),this.title=new Z(t.title),this.avatar=q.fromResponse(null!==(e=t.thumbnail)&&void 0!==e?e:t.avatar),this.subtitle=new Z(t.subtitle),this.subscribe_button=Aw.parseItem(t.subscribeButton,Xi),this.endpoint=new z(t.navigationEndpoint)}};e(jv,"TopicChannelDetails"),jv.type="TopicChannelDetails";var Wv=jv,Gv=class extends x{constructor(t){super(),this.tabs=Aw.parse(t.tabs),this.secondary_contents=Aw.parse(t.secondaryContents)}};e(Gv,"TwoColumnBrowseResults"),Gv.type="TwoColumnBrowseResults";var $v=Gv,Yv=class extends x{constructor(t){super(),this.primary_contents=Aw.parse(t.primaryContents),this.secondary_contents=Aw.parse(t.secondaryContents)}};e(Yv,"TwoColumnSearchResults"),Yv.type="TwoColumnSearchResults";var Kv,zv,qv=Yv,Xv=class extends x{constructor(t){var e,i,s,n,o;super(),Kv.add(this),this.results=Aw.parseArray(null===(e=t.results)||void 0===e?void 0:e.results.contents),this.secondary_results=Aw.parseArray(null===(i=t.secondaryResults)||void 0===i?void 0:i.secondaryResults.results),this.conversation_bar=Aw.parseItem(null==t?void 0:t.conversationBar);const a=null===(s=t.playlist)||void 0===s?void 0:s.playlist;a&&(this.playlist={id:a.playlistId,title:a.title,author:(null===(n=a.shortBylineText)||void 0===n?void 0:n.simpleText)?new Z(a.shortBylineText):new Lw(a.longBylineText),contents:Aw.parseArray(a.contents),current_index:a.currentIndex,is_infinite:!!a.isInfinite,menu:Aw.parseItem(a.menu,wt)});const r=null===(o=t.autoplay)||void 0===o?void 0:o.autoplay;r&&(this.autoplay={sets:r.sets.map((t=>d(this,Kv,"m",zv).call(this,t)))},r.modifiedSets&&(this.autoplay.modified_sets=r.modifiedSets.map((t=>d(this,Kv,"m",zv).call(this,t)))),r.countDownSecs&&(this.autoplay.count_down_secs=r.countDownSecs))}};e(Xv,"TwoColumnWatchNextResults"),Kv=new WeakSet,zv=e((function(t){const e={autoplay_video:new z(t.autoplayVideo)};return t.nextButtonVideo&&(e.next_button_video=new z(t.nextButtonVideo)),e}),"_TwoColumnWatchNextResults_parseAutoplaySet"),Xv.type="TwoColumnWatchNextResults";var Qv=Xv,Jv=class extends x{constructor(t){super(),this.header=Aw.parseItem(t.header),this.call_to_action=Aw.parseItem(t.callToAction),this.sections=Aw.parseArray(t.sections),Reflect.has(t,"collapsedLabel")&&(this.collapsed_label=new Z(t.collapsedLabel))}};e(Jv,"UniversalWatchCard"),Jv.type="UniversalWatchCard";var Zv=Jv,tf=class extends x{constructor(t){super(),this.message_title=new Z(t.dialogMessageTitle),this.message_text=new Z(t.dialogMessageText),this.action_button=Aw.parseItem(t.actionButton,V),this.dismiss_button=Aw.parseItem(t.dismissButton,V),this.is_visible=t.isVisible}};e(tf,"UpsellDialog"),tf.type="UpsellDialog";var ef=tf,sf=class extends x{constructor(t){super(),this.items=Aw.parseArray(t.items),this.collapsed_item_count=t.collapsedItemCount,this.collapsed_state_button_text=new Z(t.collapsedStateButtonText)}get contents(){return this.items}};e(sf,"VerticalList"),sf.type="VerticalList";var nf=sf,of=class extends x{constructor(t){super(),this.items=Aw.parseArray(t.items),this.view_all_text=new Z(t.viewAllText),this.view_all_endpoint=new z(t.viewAllEndpoint)}get contents(){return this.items}};e(of,"VerticalWatchCardList"),of.type="VerticalWatchCardList";var af=of,rf=class extends x{constructor(t){super(),this.title=new Z(t.videoTitle),this.channel_name=new Z(t.channelName),this.view_count=new Z(t.viewCountText),this.video_thumbnails=q.fromResponse(t.videoThumbnail),this.duration=new Z(t.lengthString),this.endpoint=new z(t.action)}};e(rf,"VideoInfoCardContent"),rf.type="VideoInfoCardContent";var lf=rf,cf=class extends x{constructor(t){super(),this.subscription_button=t.subscriptionButton,this.subscriber_count=new Z(t.subscriberCountText),this.author=new Lw(Object.assign(Object.assign({},t.title),{navigationEndpoint:t.navigationEndpoint}),t.badges,t.thumbnail)}};e(cf,"VideoOwner"),cf.type="VideoOwner";var df=cf,hf=class extends x{constructor(t){var e,i,s,n;super(),this.title=new Z(t.title),Reflect.has(t,"superTitleLink")&&(this.super_title_link=new Z(t.superTitleLink)),this.view_count=new Z(null===(i=null===(e=t.viewCount)||void 0===e?void 0:e.videoViewCountRenderer)||void 0===i?void 0:i.viewCount),this.short_view_count=new Z(null===(n=null===(s=t.viewCount)||void 0===s?void 0:s.videoViewCountRenderer)||void 0===n?void 0:n.shortViewCount),this.badges=Aw.parseArray(t.badges,Wt),this.published=new Z(t.dateText),this.relative_date=new Z(t.relativeDateText),this.menu=Aw.parseItem(t.videoActions,wt)}};e(hf,"VideoPrimaryInfo"),hf.type="VideoPrimaryInfo";var uf=hf,pf=class extends x{constructor(t){super(),this.owner=Aw.parseItem(t.owner,df),this.description=new Z(t.description),Reflect.has(t,"attributedDescription")&&(this.description=Z.fromAttributed(t.attributedDescription)),this.subscribe_button=Aw.parseItem(t.subscribeButton,[Xi,V]),this.metadata=Aw.parseItem(t.metadataRowContainer,Gd),this.show_more_text=t.showMoreText,this.show_less_text=t.showLessText,this.default_expanded=t.defaultExpanded,this.description_collapsed_lines=t.descriptionCollapsedLines}};e(pf,"VideoSecondaryInfo"),pf.type="VideoSecondaryInfo";var mf=pf,vf=class extends x{constructor(t){super(),this.title=new Z(t.title),this.subtitle=new Z(t.subtitle),this.duration={text:new Z(t.lengthText).toString(),seconds:qw(t.lengthText.simpleText)},this.style=t.style}};e(vf,"WatchCardCompactVideo"),vf.type="WatchCardCompactVideo";var ff=vf,yf=class extends x{constructor(t){var e;super(),this.endpoint=new z(t.navigationEndpoint),this.call_to_action_button=Aw.parseItem(t.callToActionButton),this.hero_image=Aw.parseItem(t.heroImage),this.label=(null===(e=t.lengthText)||void 0===e?void 0:e.accessibility.accessibilityData.label)||""}};e(yf,"WatchCardHeroVideo"),yf.type="WatchCardHeroVideo";var gf=yf,_f=class extends x{constructor(t){super(),this.title=new Z(t.title),this.title_endpoint=new z(t.titleNavigationEndpoint),this.subtitle=new Z(t.subtitle),this.author=new Lw(t,t.titleBadge?[t.titleBadge]:null,t.avatar),this.author.name=this.title.toString(),this.style=t.style}};e(_f,"WatchCardRichHeader"),_f.type="WatchCardRichHeader";var bf=_f,wf=class extends x{constructor(t){super(),this.lists=Aw.parseArray(t.lists)}};e(wf,"WatchCardSectionSequence"),wf.type="WatchCardSectionSequence";var xf=wf,Sf=class extends $v{constructor(t){super(t)}};e(Sf,"WatchNextTabbedResults"),Sf.type="WatchNextTabbedResults";var Tf=Sf,Cf=class extends x{constructor(t){var e,i;super(),this.title=t.title,this.content=Aw.parseItem(t.content,Mt),this.endpoint=new z(t.navigationEndpoint),this.category_assets={asset_key:null===(e=t.categoryAssets)||void 0===e?void 0:e.assetKey,background_color:null===(i=t.categoryAssets)||void 0===i?void 0:i.backgroundColor},this.category_type=t.categoryType}};e(Cf,"AnchoredSection"),Cf.type="AnchoredSection";var If=Cf,kf=class extends x{constructor(t){var e,i;super(),this.title=new Z(t.title),this.category_assets={asset_key:null===(e=t.categoryAssets)||void 0===e?void 0:e.assetKey,background_color:null===(i=t.categoryAssets)||void 0===i?void 0:i.backgroundColor},this.category_type=t.categoryType,this.endpoint=new z(t.endpoint)}};e(kf,"KidsCategoryTab"),kf.type="KidsCategoryTab";var Ef=kf,Af=class extends x{constructor(t){super(),this.category_tabs=Aw.parseArray(t.categoryTabs,Ef),this.privacy_button=Aw.parseItem(t.privacyButtonRenderer,V)}};e(Af,"KidsCategoriesHeader"),Af.type="kidsCategoriesHeader";var Rf=Af,Mf=class extends x{constructor(t){super(),this.anchors=Aw.parseArray(t.anchors,If)}};e(Mf,"KidsHomeScreen"),Mf.type="kidsHomeScreen";var Pf=Mf,Lf={};i(Lf,{camelToSnake:()=>Nf,createRuntimeClass:()=>Yf,generateRuntimeClass:()=>Kf,generateTypescriptClass:()=>zf,inferType:()=>Bf,introspect:()=>Gf,isIgnoredKey:()=>$f,isMiscType:()=>Uf,isRenderer:()=>Hf,isRendererList:()=>Vf,mergeKeyInfo:()=>ty,parse:()=>Zf,toParser:()=>Xf,toTypeDeclaration:()=>qf});var Df=new Set(["trackingParams","accessibility","accessibilityData"]),Of={};function Nf(t){return t.replace(/[A-Z]/g,(t=>`_${t.toLowerCase()}`))}function Bf(t,e){let i=!1;if("object"==typeof e&&null!=e){if(i=Hf(e))return Of[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=Vf(e)){for(const[t,e]of Object.entries(i))Of[t]=e;return{type:"renderer_list",renderers:Object.keys(i),optional:!1}}if(i=Uf(t,e))return i}const s=typeof e;return"object"===s?{type:"object",keys:Object.entries(e).map((([t,e])=>[t,Bf(t,e)])),optional:!1}:{type:"primative",typeof:[s],optional:!1}}function Vf(t){return!!(Array.isArray(t)&&t.every((t=>Hf(t))))&&Object.fromEntries(t.map((t=>{const e=Reflect.ownKeys(t)[0].toString();return[Sy(e),t[e]]})))}function Uf(t,e){if("object"==typeof e&&null!==e){if(t.endsWith("Endpoint")||t.endsWith("Command")||"endpoint"===t)return{type:"misc",endpoint:new z(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){const t=new Z(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:t.endpoint,text:t.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}function Hf(t){if(!("object"==typeof t))return!1;const e=Reflect.ownKeys(t);return!(1!==e.length||!e[0].toString().includes("Renderer"))&&Sy(e[0].toString())}function Ff(t){if("object"!=typeof t||null===t)throw new Nw("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter((t=>!$f(t))).filter((t=>"string"==typeof t)).map((e=>[e,Bf(e,Reflect.get(t,e))]))}function jf(t){var e;const i=t.filter((([,t])=>{var e;return"misc"===t.type&&(("NavigationEndpoint"===t.misc_type||"Text"===t.misc_type)&&"WEB_PAGE_TYPE_CHANNEL"===(null===(e=t.endpoint)||void 0===e?void 0:e.metadata.page_type))})).sort((([,t],[,e])=>"misc"!==t.type||"misc"!==e.type||"Text"!==t.misc_type||"Text"!==e.misc_type?0:e.text.length-t.text.length)),s=new Set,n=i[0];let o;if(n){s.add(n[0]);const i=t.map((([t])=>t)).filter((t=>t.endsWith("Badges")||"badges"===t)),a=null!==(e=i.filter((t=>t.startsWith("owner")||t.startsWith("author")))[0])&&void 0!==e?e:i[0],r=t.find((([t])=>t===a)),l=!!r&&("renderer_list"===r[1].type&&Reflect.has(r[1].renderers,"MetadataBadge"));l&&a&&s.add(a),o={type:"misc",misc_type:"Author",optional:!1,params:[n[0],l?a:void 0]}}return o&&t.push(["author",o]),t.filter((([t])=>!s.has(t)))}function Wf(t){return jf(Ff(t))}function Gf(t){const e=Wf(t),i=new Map;for(const[,t]of e)if("renderer"===t.type||"renderer_list"===t.type)for(const e of t.renderers){const t=Of[e];t&&i.set(e,t)}return{key_info:e,unimplemented_dependencies:Array.from(i).filter((([t])=>!Cy(t)))}}function $f(t){return"string"==typeof t&&Df.has(t)}function Yf(t,i,s){var o,a;s({error_type:"class_not_found",classname:t,key_info:i});const r=(n(o=e(class extends x{static set key_info(t){h(this,o,new Map(t),"f",a)}static get key_info(){return[...d(this,o,"f",a).entries()]}constructor(e){super();const{key_info:i,unimplemented_dependencies:n}=Gf(e),{resolved_key_info:o,changed_keys:a}=ty(r.key_info,i);a.length>0&&(r.key_info=o,s({error_type:"class_changed",classname:t,key_info:r.key_info,changed_keys:a}));for(const[t,e]of n)Kf(t,e,s);for(const[t,s]of i){let i=Nf(t);"misc"===s.type&&"NavigationEndpoint"===s.misc_type&&(i="endpoint"),Reflect.set(this,i,Zf(t,s,e))}}},"_a"),"node"),o.type=t,a={value:new Map},o);return r.key_info=i,Object.defineProperty(r,"name",{value:t,writable:!1}),r}function Kf(t,e,i){const{key_info:s,unimplemented_dependencies:n}=Gf(e),o=Yf(t,s,i);Iy(t,o);for(const[t,e]of n)Kf(t,e,i);return o}function zf(t,e){const i=[],s=["super();"];for(const[t,n]of e){let e=Nf(t);"misc"===n.type&&"NavigationEndpoint"===n.misc_type&&(e="endpoint"),i.push(`${e}${n.optional?"?":""}: ${qf(n)};`),s.push(`this.${e} = ${Xf(t,n)};`)}return`class ${t} extends YTNode {\n  static type = '${t}';\n\n  ${i.join("\n  ")}\n\n  constructor(data: RawNode) {\n    ${s.join("\n    ")}\n  }\n}\n`}function qf(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map((t=>`YTNodes.${t}`)).join(" | ")} | null`;case"renderer_list":return`ObservedArray<${t.renderers.map((t=>`YTNodes.${t}`)).join(" | ")}> | null`;case"object":return`{\n${t.keys.map((([t,i])=>`${" ".repeat(2*(e+2))}${Nf(t)}${i.optional?"?":""}: ${qf(i,e+1)}`)).join(",\n")}\n${" ".repeat(2*(e+1))}}`;case"misc":return"Thumbnail"===t.misc_type?"Thumbnail[]":t.misc_type;case"primative":return t.typeof.join(" | ");case"unknown":return"/* TODO: determine correct type */ unknown"}}function Xf(t,e,i=["data"],s=1){let n="undefined";switch(e.type){case"renderer":n=`Parser.parseItem(${i.join(".")}.${t}, [ ${e.renderers.map((t=>`YTNodes.${t}`)).join(", ")} ])`;break;case"renderer_list":n=`Parser.parse(${i.join(".")}.${t}, true, [ ${e.renderers.map((t=>`YTNodes.${t}`)).join(", ")} ])`;break;case"object":{const o=[...i,t];n=`{\n${e.keys.map((([t,e])=>`${" ".repeat(2*(s+2))}${Nf(t)}: ${Xf(t,e,o,s+1)}`)).join(",\n")}\n${" ".repeat(2*(s+1))}}`}break;case"misc":switch(e.misc_type){case"Thumbnail":n=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{const t=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${t} : undefined`:t}default:n=`new ${e.misc_type}(${i.join(".")}.${t})`}if("undefined"===n)throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":case"unknown":n=`${i.join(".")}.${t}`}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${n} : undefined`:n}function Qf(t,e){let i=t;for(const t of e)i=i[t];return i}function Jf(t,e){let i=t;for(const t of e){if(!Reflect.has(i,t))return!1;i=i[t]}return!0}function Zf(t,e,i,s=["data"]){const n=!e.optional||Jf({data:i},[...s,t]);switch(e.type){case"renderer":return n?Ay(Qf({data:i},[...s,t]),e.renderers.map((t=>Ty(t)))):void 0;case"renderer_list":return n?My(Qf({data:i},[...s,t]),!0,e.renderers.map((t=>Ty(t)))):void 0;case"object":{const o={},a=[...s,t];for(const[t,s]of e.keys)o[t]=n?Zf(t,s,i,a):void 0;return o}case"misc":switch(e.misc_type){case"NavigationEndpoint":return n?new z(Qf({data:i},[...s,t])):void 0;case"Text":return n?new Z(Qf({data:i},[...s,t])):void 0;case"Thumbnail":return n?q.fromResponse(Qf({data:i},[...s,t])):void 0;case"Author":return!e.optional||Jf({data:i},[...s,e.params[0]])?new Lw(Qf({data:i},[...s,e.params[0]]),e.params[1]?Qf({data:i},[...s,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":case"unknown":return Qf({data:i},[...s,t])}}function ty(t,e){const i=new Map,s=new Set(t.map((([t])=>t))),n=new Set(e.map((([t])=>t))),o=e.filter((([t])=>!s.has(t))),a=t.filter((([t])=>!n.has(t))),r=t.filter((([t])=>n.has(t))),l=new Map(e);for(const[t,e]of r){const s=l.get(t);if(s)if(e.type===s.type)switch(e.type){case"object":{if("object"!==s.type)continue;const{resolved_key_info:n}=ty(e.keys,s.keys),o={type:"object",keys:n,optional:e.optional||s.optional};JSON.stringify(o)!==JSON.stringify(e)&&i.set(t,o)}break;case"renderer":{if("renderer"!==s.type)continue;const n={type:"renderer",renderers:Object.assign(Object.assign({},e.renderers),s.renderers),optional:e.optional||s.optional};JSON.stringify(Object.assign(Object.assign({},n),{renderers:Object.keys(n.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},e),{renderers:Object.keys(e.renderers)}))&&i.set(t,n)}break;case"renderer_list":{if("renderer_list"!==s.type)continue;const n={type:"renderer_list",renderers:Object.assign(Object.assign({},e.renderers),s.renderers),optional:e.optional||s.optional};JSON.stringify(Object.assign(Object.assign({},n),{renderers:Object.keys(n.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},e),{renderers:Object.keys(e.renderers)}))&&i.set(t,n)}break;case"misc":if("misc"!==s.type)continue;switch(e.misc_type!==s.misc_type&&i.set(t,{type:"unknown",optional:!0}),e.misc_type){case"Author":{if("Author"!==s.misc_type)break;const n=e.params[1]||s.params[1],o={type:"misc",misc_type:"Author",optional:e.optional||s.optional,params:[s.params[0],n]};JSON.stringify(o)!==JSON.stringify(e)&&i.set(t,o)}}break;case"primative":{if("primative"!==s.type)continue;const n={type:"primative",typeof:Array.from(new Set([...s.typeof,...e.typeof])),optional:e.optional||s.optional};JSON.stringify(n)!==JSON.stringify(e)&&i.set(t,n)}}else i.set(t,{type:"unknown",optional:!0})}for(const[t,e]of o)i.set(t,Object.assign(Object.assign({},e),{optional:!0}));for(const[t,e]of a)i.set(t,Object.assign(Object.assign({},e),{optional:!0}));const c=t.filter((([t])=>!i.has(t)));return{resolved_key_info:[...new Map([...c,...i]).entries()],changed_keys:[...i.entries()]}}e(Nf,"camelToSnake"),e(Bf,"inferType"),e(Vf,"isRendererList"),e(Uf,"isMiscType"),e(Hf,"isRenderer"),e(Ff,"introspectKeysFirstPass"),e(jf,"introspectKeysSecondPass"),e(Wf,"introspect2"),e(Gf,"introspect"),e($f,"isIgnoredKey"),e(Yf,"createRuntimeClass"),e(Kf,"generateRuntimeClass"),e(zf,"generateTypescriptClass"),e(qf,"toTypeDeclaration"),e(Xf,"toParser"),e(Qf,"accessDataFromKeyPath"),e(Jf,"hasDataFromKeyPath"),e(Zf,"parse"),e(ty,"mergeKeyInfo");var ey=class extends x{constructor(t){var e,i,s;super(),this.contents=Ry(t.contents),Array.isArray(t.continuations)&&(this.continuation=null===(s=null===(i=null===(e=t.continuations)||void 0===e?void 0:e.at(0))||void 0===i?void 0:i.nextContinuationData)||void 0===s?void 0:s.continuation)}};e(ey,"ItemSectionContinuation"),ey.type="itemSectionContinuation";var iy=class extends x{constructor(t){super(),this.endpoint=new z(t.endpoint)}};e(iy,"NavigateAction"),iy.type="navigateAction";var sy=class extends x{constructor(t){super(),this.miniplayer_command=new z(t.miniplayerCommand),this.show_premium_branding=t.showPremiumBranding}};e(sy,"ShowMiniplayerCommand"),sy.type="showMiniplayerCommand";var ny=class extends x{constructor(t){super(),this.target_id=t.targetId,this.contents=My(t.continuationItems,!0),this.slot=null==t?void 0:t.slot}};e(ny,"ReloadContinuationItemsCommand"),ny.type="reloadContinuationItemsCommand";var oy=class extends x{constructor(t){var e,i,s,n,o,a;super(),this.contents=My(t.contents,!0),this.continuation=(null===(s=null===(i=null===(e=t.continuations)||void 0===e?void 0:e[0])||void 0===i?void 0:i.nextContinuationData)||void 0===s?void 0:s.continuation)||(null===(a=null===(o=null===(n=t.continuations)||void 0===n?void 0:n[0])||void 0===o?void 0:o.reloadContinuationData)||void 0===a?void 0:a.continuation)||null}};e(oy,"SectionListContinuation"),oy.type="sectionListContinuation";var ay=class extends x{constructor(t){var e;super(),this.contents=My(t.contents,!0),this.continuation=(null===(e=t.continuations)||void 0===e?void 0:e[0].nextContinuationData.continuation)||null}};e(ay,"MusicPlaylistShelfContinuation"),ay.type="musicPlaylistShelfContinuation";var ry=class extends x{constructor(t){var e,i,s,n;super(),this.contents=Ry(t.contents),this.continuation=(null===(i=null===(e=t.continuations)||void 0===e?void 0:e[0].nextContinuationData)||void 0===i?void 0:i.continuation)||(null===(n=null===(s=t.continuations)||void 0===s?void 0:s[0].reloadContinuationData)||void 0===n?void 0:n.continuation)||null}};e(ry,"MusicShelfContinuation"),ry.type="musicShelfContinuation";var ly=class extends x{constructor(t){var e;super(),this.items=My(t.items,!0),this.continuation=(null===(e=t.continuations)||void 0===e?void 0:e[0].nextContinuationData.continuation)||null}get contents(){return this.items}};e(ly,"GridContinuation"),ly.type="gridContinuation";var cy=class extends x{constructor(t){var e,i,s,n,o,a;super(),this.contents=Ry(t.contents),this.continuation=(null===(s=null===(i=null===(e=t.continuations)||void 0===e?void 0:e[0])||void 0===i?void 0:i.nextContinuationData)||void 0===s?void 0:s.continuation)||(null===(a=null===(o=null===(n=t.continuations)||void 0===n?void 0:n[0])||void 0===o?void 0:o.nextRadioContinuationData)||void 0===a?void 0:a.continuation)||null}};e(cy,"PlaylistPanelContinuation"),cy.type="playlistPanelContinuation";var dy=class extends x{constructor(t){var e,i,s;super(),this.continuation_type=t.type,this.timeout_ms=null===(e=t.continuation)||void 0===e?void 0:e.timeoutMs,this.time_until_last_message_ms=null===(i=t.continuation)||void 0===i?void 0:i.timeUntilLastMessageMsec,this.token=null===(s=t.continuation)||void 0===s?void 0:s.continuation}};e(dy,"Continuation"),dy.type="continuation";var hy=class extends x{constructor(t){var e,i,s,n,o,a,r,l;let c,d;super(),this.actions=My(null===(e=t.actions)||void 0===e?void 0:e.map((t=>(delete t.clickTrackingParams,t))),!0)||C([]),this.action_panel=Ay(t.actionPanel),this.item_list=Ay(t.itemList,ud),this.header=Ay(t.header,dd),this.participants_list=Ay(t.participantsList,gd),this.popout_message=Ay(t.popoutMessage,Ca),this.emojis=(null===(i=t.emojis)||void 0===i?void 0:i.map((t=>({emoji_id:t.emojiId,shortcuts:t.shortcuts,search_terms:t.searchTerms,image:q.fromResponse(t.image),is_custom_emoji:t.isCustomEmoji}))))||[],(null===(s=t.continuations)||void 0===s?void 0:s[0].timedContinuationData)?(d="timed",c=null===(n=t.continuations)||void 0===n?void 0:n[0].timedContinuationData):(null===(o=t.continuations)||void 0===o?void 0:o[0].invalidationContinuationData)?(d="invalidation",c=null===(a=t.continuations)||void 0===a?void 0:a[0].invalidationContinuationData):(null===(r=t.continuations)||void 0===r?void 0:r[0].liveChatReplayContinuationData)&&(d="replay",c=null===(l=t.continuations)||void 0===l?void 0:l[0].liveChatReplayContinuationData),this.continuation=new dy({continuation:c,type:d}),this.viewer_name=t.viewerName}};e(hy,"LiveChatContinuation"),hy.type="liveChatContinuation";var uy=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),py=new Map(Object.entries(Pe)),my=new Map,vy=null,fy=e((t=>{var{classname:e}=t,i=s(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&console.warn(new Nw(`Something went wrong at ${e}!\nThis is a bug, please report it at ${Ow.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":console.warn(new Bw(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":console.warn(new Nw(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.\nThis is a bug, please report it at ${Ow.shim.info.bugs_url}`));break;case"mutation_data_invalid":console.warn(new Nw(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.\nThis is a bug, please report it at ${Ow.shim.info.bugs_url}`));break;case"class_not_found":console.warn(new Nw(`${e} not found!\nThis is a bug, want to help us fix it? Follow the instructions at ${Ow.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${Ow.shim.info.bugs_url}!\nIntrospected and JIT generated this class in the meantime:\n${zf(e,i.key_info)}`));break;case"class_changed":console.warn(`${e} changed!\nThe following keys where altered: ${i.changed_keys.map((([t])=>Nf(t))).join(", ")}\nThe class has changed to:\n${zf(e,i.key_info)}`);break;default:console.warn("Unreachable code reached at ParserErrorHandler")}}),"ERROR_HANDLER");function yy(t){fy=t}function gy(){vy=null}function _y(){vy=new I}function by(t,e){if(!vy)return;const i=vy.get(t);if(!i)return vy.set(t,[e]);i.push(e)}function wy(){if(!vy)throw new Error("Parser#getMemo() called before Parser#createMemo()");return vy}function xy(t){return uy.has(t)}function Sy(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}function Ty(t){const e=py.get(t);if(!e){const e=new Error(`Module not found: ${t}`);throw e.code="MODULE_NOT_FOUND",e}return e}function Cy(t){return py.has(t)}function Iy(t,e){py.set(t,e),my.set(t,e)}function ky(){return Object.fromEntries(my)}function Ey(t){var e,i;const s={};_y();const n=My(t.contents),o=wy();n&&(s.contents=n,s.contents_memo=o),gy(),_y();const a=t.onResponseReceivedActions?Dy(t.onResponseReceivedActions):null,r=wy();a&&(s.on_response_received_actions=a,s.on_response_received_actions_memo=r),gy(),_y();const l=t.onResponseReceivedEndpoints?Dy(t.onResponseReceivedEndpoints):null,c=wy();l&&(s.on_response_received_endpoints=l,s.on_response_received_endpoints_memo=c),gy(),_y();const d=t.onResponseReceivedCommands?Dy(t.onResponseReceivedCommands):null,h=wy();d&&(s.on_response_received_commands=d,s.on_response_received_commands_memo=h),gy(),_y();const u=t.continuationContents?Ly(t.continuationContents):null,p=wy();u&&(s.continuation_contents=u,s.continuation_contents_memo=p),gy(),_y();const m=t.actions?Oy(t.actions):null,v=wy();m&&(s.actions=m,s.actions_memo=v),gy(),_y();const f=t.liveChatItemContextMenuSupportedRenderers?Ay(t.liveChatItemContextMenuSupportedRenderers):null,y=wy();f&&(s.live_chat_item_context_menu_supported_renderers=f,s.live_chat_item_context_menu_supported_renderers_memo=y),gy(),_y();const g=t.header?My(t.header):null,_=wy();g&&(s.header=g,s.header_memo=_),gy(),_y();const b=t.sidebar?Ay(t.sidebar):null,w=wy();b&&(s.sidebar=b,s.sidebar_memo=w),gy(),_y();const x=My(t.items);x&&(s.items=x,s.items_memo=wy()),gy(),By(o,null===(i=null===(e=t.frameworkUpdates)||void 0===e?void 0:e.entityBatchUpdate)||void 0===i?void 0:i.mutations);const S=t.continuation?Py(t.continuation):null;S&&(s.continuation=S);const T=My(t.metadata);T&&(s.metadata=T);const C=Ay(t.microformat);C&&(s.microformat=C);const I=Ay(t.overlay);I&&(s.overlay=I);const k=Ry(t.alerts,[pt,vt]);k.length&&(s.alerts=k);const E=t.refinements;E&&(s.refinements=E);const A=t.estimatedResults?parseInt(t.estimatedResults):null;A&&(s.estimated_results=A);const R=My(t.playerOverlays);R&&(s.player_overlays=R);const M=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;M&&(s.playback_tracking=M);const P=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:Ay(t.playabilityStatus.audioOnlyPlayability,N),error_screen:Ay(t.playabilityStatus.errorScreen)}:null;if(P&&(s.playability_status=P),t.streamingData){const e=new Map,i={expires:new Date(Date.now()+1e3*parseInt(t.streamingData.expiresInSeconds)),formats:Ny(t.streamingData.formats,e),adaptive_formats:Ny(t.streamingData.adaptiveFormats,e),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};s.streaming_data=i}const L=t.currentVideoEndpoint?new z(t.currentVideoEndpoint):null;L&&(s.current_video_endpoint=L);const D=t.endpoint?new z(t.endpoint):null;D&&(s.endpoint=D);const O=Ay(t.captions,rt);O&&(s.captions=O);const B=t.videoDetails?new Me(t.videoDetails):null;B&&(s.video_details=B);const V=Ry(t.annotations,ot);V.length&&(s.annotations=V);const U=Ay(t.storyboards,[ht,ct]);U&&(s.storyboards=U);const H=Ay(t.endscreen,st);H&&(s.endscreen=H);const F=Ay(t.cards,et);F&&(s.cards=F);const j=Ry(t.engagementPanels,Ce);return j.length&&(s.engagement_panels=j),s}function Ay(t,e){if(!t)return null;const i=Object.keys(t);if(!i.length)return null;const s=Sy(i[0]);if(!xy(s))try{const n=Cy(s)?Ty(s):Kf(s,t[i[0]],fy);if(e)if(Array.isArray(e)){if(!e.some((t=>t.type===n.type)))return fy({classdata:t[i[0]],classname:s,error_type:"typecheck",expected:e.map((t=>t.type))}),null}else if(n.type!==e.type)return fy({classdata:t[i[0]],classname:s,error_type:"typecheck",expected:e.type}),null;const o=new n(t[i[0]]);return by(s,o),o}catch(e){return fy({classname:s,classdata:t[i[0]],error:e,error_type:"parse"}),null}return null}function Ry(t,e){if(Array.isArray(t)){const i=[];for(const s of t){const t=Ay(s,e);t&&i.push(t)}return C(i)}if(!t)return C([]);throw new Bw("Expected array but got a single item")}function My(t,e,i){if(!t)return null;if(Array.isArray(t)){const s=[];for(const e of t){const t=Ay(e,i);t&&s.push(t)}const n=C(s);return e?n:new T(n)}if(e)throw new Bw("Expected array but got a single item");return new T(Ay(t,i))}function Py(t){return t.timedContinuationData?new dy({continuation:t.timedContinuationData,type:"timed"}):null}function Ly(t){return t.itemSectionContinuation?new ey(t.itemSectionContinuation):t.sectionListContinuation?new oy(t.sectionListContinuation):t.liveChatContinuation?new hy(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new ay(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new ry(t.musicShelfContinuation):t.gridContinuation?new ly(t.gridContinuation):t.playlistPanelContinuation?new cy(t.playlistPanelContinuation):null}function Dy(t){return C(t.map((t=>t.navigateAction?new iy(t.navigateAction):t.showMiniplayerCommand?new sy(t.showMiniplayerCommand):t.reloadContinuationItemsCommand?new ny(t.reloadContinuationItemsCommand):t.appendContinuationItemsAction?new We(t.appendContinuationItemsAction):void 0)).filter((t=>t)))}function Oy(t){return Array.isArray(t)?My(t.map((t=>(delete t.clickTrackingParams,t)))):new T(Ay(t))}function Ny(t,e){return(null==t?void 0:t.map((t=>new Re(t,e))))||[]}function By(t,e){const i=t.getType(Ee);if(i.length>0&&!e)fy({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{const t=[];for(const s of i){const i=e.find((t=>{var e,i;return(null===(i=null===(e=t.payload)||void 0===e?void 0:e.musicFormBooleanChoice)||void 0===i?void 0:i.id)===s.form_item_entity_key})),n=null==i?void 0:i.payload.musicFormBooleanChoice;void 0!==(null==n?void 0:n.selected)&&(null==n?void 0:n.opaqueToken)?s.selected=n.selected:t.push(`'${s.title}'`)}t.length>0&&fy({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:t.length,titles:t})}}e(yy,"setParserErrorHandler"),e(gy,"_clearMemo"),e(_y,"_createMemo"),e(by,"_addToMemo"),e(wy,"_getMemo"),e(xy,"shouldIgnore"),e(Sy,"sanitizeClassName"),e(Ty,"getParserByName"),e(Cy,"hasParser"),e(Iy,"addRuntimeParser"),e(ky,"getDynamicParsers"),e(Ey,"parseResponse"),e(Ay,"parseItem"),e(Ry,"parseArray"),e(My,"parse"),e(Py,"parseC"),e(Ly,"parseLC"),e(Dy,"parseRR"),e(Oy,"parseActions"),e(Ny,"parseFormats"),e(By,"applyMutations");var Vy,Uy={};i(Uy,{AccountInfo:()=>jy,Analytics:()=>Xy,Channel:()=>ag,ChannelListContinuation:()=>rg,Comments:()=>mg,FilteredChannelList:()=>hg,Guide:()=>fg,HashtagFeed:()=>Sg,History:()=>gg,HomeFeed:()=>_g,ItemMenu:()=>kg,Library:()=>Dg,LiveChat:()=>r_,NotificationsMenu:()=>c_,Playlist:()=>Mg,Search:()=>p_,Settings:()=>f_,SmoothedQueue:()=>s_,TimeWatched:()=>g_,VideoInfo:()=>Cb});var Hy=class{constructor(t){if(Vy.set(this,void 0),h(this,Vy,Aw.parseResponse(t.data),"f"),!d(this,Vy,"f").contents)throw new Nw("Page contents not found");const e=d(this,Vy,"f").contents.array().as(Fe).first();if(!e)throw new Nw("Account section list not found");this.contents=e.contents,this.footers=e.footers}get page(){return d(this,Vy,"f")}};e(Hy,"AccountInfo"),Vy=new WeakMap;var Fy,jy=Hy,Wy=class{constructor(t){var e;Fy.set(this,void 0),h(this,Fy,Aw.parseResponse(t.data),"f"),this.sections=null===(e=d(this,Fy,"f").contents_memo)||void 0===e?void 0:e.getType(Xa).map((t=>t.model)).flatMap((t=>t||[]))}get page(){return d(this,Fy,"f")}};e(Wy,"Analytics"),Fy=new WeakMap;var Gy,$y,Yy,Ky,zy,qy,Xy=Wy,Qy=class{constructor(t,e,i=!1){Gy.add(this),$y.set(this,void 0),Yy.set(this,void 0),Ky.set(this,void 0),zy.set(this,void 0),d(this,Gy,"m",qy).call(this,e)||i?h(this,$y,e,"f"):h(this,$y,Aw.parseResponse(e.data),"f");const s=Xw(d(this,$y,"f").contents_memo,d(this,$y,"f").continuation_contents_memo,d(this,$y,"f").on_response_received_commands_memo,d(this,$y,"f").on_response_received_endpoints_memo,d(this,$y,"f").on_response_received_actions_memo,d(this,$y,"f").sidebar_memo,d(this,$y,"f").header_memo);if(!s)throw new Nw("No memo found in feed");h(this,zy,s,"f"),h(this,Ky,t,"f")}static getVideosFromMemo(t){return t.getType(Kt,jr,Bp,he,hp,cu,ff)}static getPlaylistsFromMemo(t){return t.getType(ha,Dr)}get videos(){return Qy.getVideosFromMemo(d(this,zy,"f"))}get posts(){return d(this,zy,"f").getType(Oi,yp,Mm)}get channels(){return d(this,zy,"f").getType(ls,Ir)}get playlists(){return Qy.getPlaylistsFromMemo(d(this,zy,"f"))}get memo(){return d(this,zy,"f")}get page_contents(){var t;const e=null===(t=d(this,zy,"f").getType($m))||void 0===t?void 0:t.first().content,i=d(this,zy,"f").getType(ny).first(),s=d(this,zy,"f").getType(We).first();return e||i||s}get shelves(){return d(this,zy,"f").getType(Lm,em,Up)}getShelf(t){return this.shelves.get({title:t})}get secondary_contents(){var t,e;if(!(null===(t=d(this,$y,"f").contents)||void 0===t?void 0:t.is_node))return;const i=null===(e=d(this,$y,"f").contents)||void 0===e?void 0:e.item();return i.is($v,qv)?i.secondary_contents:void 0}get actions(){return d(this,Ky,"f")}get page(){return d(this,$y,"f")}get has_continuation(){return(d(this,zy,"f").get("ContinuationItem")||[]).length>0}getContinuationData(){return o(this,void 0,void 0,(function*(){if(d(this,Yy,"f")){if(0===d(this,Yy,"f").length)throw new Nw("There are no continuations.");return yield d(this,Yy,"f")[0].endpoint.call(d(this,Ky,"f"),{parse:!0})}if(h(this,Yy,d(this,zy,"f").getType(yt),"f"),d(this,Yy,"f"))return this.getContinuationData()}))}getContinuation(){return o(this,void 0,void 0,(function*(){const t=yield this.getContinuationData();if(!t)throw new Nw("Could not get continuation data");return new Qy(this.actions,t,!0)}))}};e(Qy,"Feed"),$y=new WeakMap,Yy=new WeakMap,Ky=new WeakMap,zy=new WeakMap,Gy=new WeakSet,qy=e((function(t){return!("data"in t)}),"_Feed_isParsed");var Jy,Zy,tg=Qy,eg=class extends tg{constructor(t,e,i=!1){var s;super(t,e,i),Jy.set(this,void 0),Zy.set(this,void 0),h(this,Zy,t,"f"),h(this,Jy,null===(s=this.page.contents_memo)||void 0===s?void 0:s.getType($m),"f")}get tabs(){var t,e;return null!==(e=null===(t=d(this,Jy,"f"))||void 0===t?void 0:t.map((t=>t.title.toString())))&&void 0!==e?e:[]}getTabByName(t){var e;return o(this,void 0,void 0,(function*(){const i=null===(e=d(this,Jy,"f"))||void 0===e?void 0:e.find((e=>e.title.toLowerCase()===t.toLowerCase()));if(!i)throw new Nw(`Tab "${t}" not found`);if(i.selected)return this;const s=yield i.endpoint.call(d(this,Zy,"f"));return new eg(d(this,Zy,"f"),s,!1)}))}getTabByURL(t){var e;return o(this,void 0,void 0,(function*(){const i=null===(e=d(this,Jy,"f"))||void 0===e?void 0:e.find((e=>{var i;return(null===(i=e.endpoint.metadata.url)||void 0===i?void 0:i.split("/").pop())===t}));if(!i)throw new Nw(`Tab "${t}" not found`);if(i.selected)return this;const s=yield i.endpoint.call(d(this,Zy,"f"));return new eg(d(this,Zy,"f"),s,!1)}))}hasTabWithURL(t){var e,i;return null!==(i=null===(e=d(this,Jy,"f"))||void 0===e?void 0:e.some((e=>{var i;return(null===(i=e.endpoint.metadata.url)||void 0===i?void 0:i.split("/").pop())===t})))&&void 0!==i&&i}get title(){var t,e,i;return null===(i=null===(e=null===(t=this.page.contents_memo)||void 0===t?void 0:t.getType($m))||void 0===e?void 0:e.find((t=>t.selected)))||void 0===i?void 0:i.title.toString()}};e(eg,"TabbedFeed"),Jy=new WeakMap,Zy=new WeakMap;var ig,sg=eg,ng=class extends tg{constructor(t,e,i=!1){super(t,e,i),ig.set(this,void 0)}get filter_chips(){var t,e;if(d(this,ig,"f"))return d(this,ig,"f")||[];if((null===(t=this.memo.getType(gr))||void 0===t?void 0:t.length)>1)throw new Nw("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(0===(null===(e=this.memo.getType(gr))||void 0===e?void 0:e.length))throw new Nw("There are no feed filter chipbars");return h(this,ig,this.memo.getType(Ps),"f"),d(this,ig,"f")||[]}get filters(){return this.filter_chips.map((t=>t.text.toString()))||[]}getFilteredFeed(t){var e;return o(this,void 0,void 0,(function*(){let i;if("string"==typeof t){if(!this.filters.includes(t))throw new Nw("Filter not found",{available_filters:this.filters});i=this.filter_chips.find((e=>e.text.toString()===t))}else{if("ChipCloudChip"!==t.type)throw new Nw("Invalid filter");i=t}if(!i)throw new Nw("Filter not found");if(i.is_selected)return this;const s=yield null===(e=i.endpoint)||void 0===e?void 0:e.call(this.actions,{parse:!0});if(!s)throw new Nw("Failed to get filtered feed");return new tg(this.actions,s,!0)}))}};e(ng,"FilterableFeed"),ig=new WeakMap;var og=ng,ag=class extends sg{constructor(t,e,i=!1){var s,n,o,a,r,l;super(t,e,i),this.header=null===(n=null===(s=this.page.header)||void 0===s?void 0:s.item())||void 0===n?void 0:n.as(Ji,ns,Cl,Lu);const c=null===(o=this.page.metadata)||void 0===o?void 0:o.item().as(fs),d=null===(a=this.page.microformat)||void 0===a?void 0:a.as(Xd);if(this.page.alerts){const t=this.page.alerts.first();if("ERROR"===(null==t?void 0:t.alert_type))throw new jw(t.text.toString())}if(!c&&!this.page.contents)throw new Nw("Invalid channel",this);this.metadata=Object.assign(Object.assign({},c),d||{}),this.subscribe_button=null===(r=this.page.header_memo)||void 0===r?void 0:r.getType(Xi).first(),this.current_tab=null===(l=this.page.contents)||void 0===l?void 0:l.item().as($v).tabs.array().filterType($m,ur).get({selected:!0})}applyFilter(t){var e;return o(this,void 0,void 0,(function*(){let i;const s=this.memo.getType(gr).first();if("string"==typeof t){if(i=null==s?void 0:s.contents.get({text:t}),!i)throw new Nw(`Filter ${t} not found`,{available_filters:this.filters})}else t instanceof Ps&&(i=t);if(!i)throw new Nw("Invalid filter",t);const n=yield null===(e=i.endpoint)||void 0===e?void 0:e.call(this.actions,{parse:!0});if(!n)throw new Nw("No page returned",{filter:i});return new hg(this.actions,n,!0)}))}applySort(t){var e,i;return o(this,void 0,void 0,(function*(){const s=this.memo.getType($e).first();if(!s)throw new Nw("No sort filter sub menu found");const n=null===(e=null==s?void 0:s.sub_menu_items)||void 0===e?void 0:e.find((e=>e.title===t));if(!n)throw new Nw(`Sort filter ${t} not found`,{available_sort_filters:this.sort_filters});if(n.selected)return this;const o=yield null===(i=n.endpoint)||void 0===i?void 0:i.call(this.actions,{parse:!0});return new ag(this.actions,o,!0)}))}applyContentTypeFilter(t){var e,i,s,n;return o(this,void 0,void 0,(function*(){const o=null===(s=null===(i=null===(e=this.current_tab)||void 0===e?void 0:e.content)||void 0===i?void 0:i.as(Mt).sub_menu)||void 0===s?void 0:s.as(xs);if(!o)throw new Nw("Sub menu not found");const a=o.content_type_sub_menu_items.find((e=>e.title===t));if(!a)throw new Nw(`Sub menu item ${t} not found`,{available_filters:this.content_type_filters});if(a.selected)return this;const r=yield null===(n=a.endpoint)||void 0===n?void 0:n.call(this.actions,{parse:!0});return new ag(this.actions,r,!0)}))}get filters(){var t,e;return(null===(e=null===(t=this.memo.getType(gr))||void 0===t?void 0:t[0])||void 0===e?void 0:e.contents.filterType(Ps).map((t=>t.text)))||[]}get sort_filters(){var t;const e=this.memo.getType($e).first();return(null===(t=null==e?void 0:e.sub_menu_items)||void 0===t?void 0:t.map((t=>t.title)))||[]}get content_type_filters(){var t,e,i;const s=null===(i=null===(e=null===(t=this.current_tab)||void 0===t?void 0:t.content)||void 0===e?void 0:e.as(Mt).sub_menu)||void 0===i?void 0:i.as(xs);return(null==s?void 0:s.content_type_sub_menu_items.map((t=>t.title)))||[]}getHome(){return o(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("featured");return new ag(this.actions,t.page,!0)}))}getVideos(){return o(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("videos");return new ag(this.actions,t.page,!0)}))}getShorts(){return o(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("shorts");return new ag(this.actions,t.page,!0)}))}getLiveStreams(){return o(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("streams");return new ag(this.actions,t.page,!0)}))}getReleases(){return o(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("releases");return new ag(this.actions,t.page,!0)}))}getPodcasts(){return o(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("podcasts");return new ag(this.actions,t.page,!0)}))}getPlaylists(){return o(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("playlists");return new ag(this.actions,t.page,!0)}))}getCommunity(){return o(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("community");return new ag(this.actions,t.page,!0)}))}getChannels(){return o(this,void 0,void 0,(function*(){const t=yield this.getTabByURL("channels");return new ag(this.actions,t.page,!0)}))}getAbout(){var t;return o(this,void 0,void 0,(function*(){const e=yield this.getTabByURL("about");return null===(t=e.memo.getType(ds))||void 0===t?void 0:t[0]}))}search(t){var e,i;return o(this,void 0,void 0,(function*(){const s=null===(e=this.memo.getType(ur))||void 0===e?void 0:e[0];if(!s)throw new Nw("Search tab not found",this);const n=yield null===(i=s.endpoint)||void 0===i?void 0:i.call(this.actions,{query:t,parse:!0});return new ag(this.actions,n,!0)}))}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_channels(){return this.hasTabWithURL("channels")}get has_about(){return this.hasTabWithURL("about")}get has_search(){var t;return(null===(t=this.memo.getType(ur))||void 0===t?void 0:t.length)>0}getContinuation(){const t=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return o(this,void 0,void 0,(function*(){const e=yield t.getContinuationData.call(this);if(!e)throw new Nw("Could not get continuation data");return new rg(this.actions,e,!0)}))}};e(ag,"Channel");var rg=class extends tg{constructor(t,e,i=!1){var s,n;super(t,e,i),this.contents=(null===(s=this.page.on_response_received_actions)||void 0===s?void 0:s.first())||(null===(n=this.page.on_response_received_endpoints)||void 0===n?void 0:n.first())}getContinuation(){const t=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return o(this,void 0,void 0,(function*(){const e=yield t.getContinuationData.call(this);if(!e)throw new Nw("Could not get continuation data");return new rg(this.actions,e,!0)}))}};e(rg,"ChannelListContinuation");var lg,cg,dg,hg=class extends og{constructor(t,e,i=!1){super(t,e,i),this.applied_filter=this.memo.getType(Ps).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(t){const e=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return o(this,void 0,void 0,(function*(){const i=yield e.getFilteredFeed.call(this,t);return new hg(this.actions,i.page,!0)}))}getContinuation(){const t=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return o(this,void 0,void 0,(function*(){const e=yield t.getContinuationData.call(this);if(!(null==e?void 0:e.on_response_received_actions_memo))throw new Nw("Unexpected continuation data",e);return e.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(gr)),e.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(Ps)),new hg(this.actions,e,!0)}))}};e(hg,"FilteredChannelList");var ug=class{constructor(t,e,i=!1){var s,n,o;lg.set(this,void 0),cg.set(this,void 0),dg.set(this,void 0),h(this,lg,i?e:Aw.parseResponse(e),"f"),h(this,cg,t,"f");const a=d(this,lg,"f").on_response_received_endpoints;if(!a)throw new Nw("Comments page did not have any content.");const r=a.at(0),l=a.at(1);this.header=null===(s=null==r?void 0:r.contents)||void 0===s?void 0:s.firstOfType(qo);const c=(null===(n=null==l?void 0:l.contents)||void 0===n?void 0:n.filterType(ea))||[];this.contents=C(c.map((t=>{var e;return null===(e=t.comment)||void 0===e||e.setActions(d(this,cg,"f")),t.setActions(d(this,cg,"f")),t}))),h(this,dg,null===(o=null==l?void 0:l.contents)||void 0===o?void 0:o.firstOfType(yt),"f")}applySort(t){var e,i,s,n;return o(this,void 0,void 0,(function*(){if(!this.header)throw new Nw("Page header is missing. Cannot apply sort option.");let o;if("TOP_COMMENTS"===t?o=null===(i=null===(e=this.header.sort_menu)||void 0===e?void 0:e.sub_menu_items)||void 0===i?void 0:i.at(0):"NEWEST_FIRST"===t&&(o=null===(n=null===(s=this.header.sort_menu)||void 0===s?void 0:s.sub_menu_items)||void 0===n?void 0:n.at(1)),!o)throw new Nw("Could not find target button.");if(o.selected)return this;const a=yield o.endpoint.call(d(this,cg,"f"),{parse:!0});return new ug(d(this,cg,"f"),a,!0)}))}createComment(t){var e;return o(this,void 0,void 0,(function*(){if(!this.header)throw new Nw("Page header is missing. Cannot create comment.");const i=null===(e=this.header.create_renderer)||void 0===e?void 0:e.as(Zo).submit_button;if(!i)throw new Nw("Could not find target button. You are probably not logged in.");if(!i.endpoint)throw new Nw("Button does not have an endpoint.");return yield i.endpoint.call(d(this,cg,"f"),{commentText:t})}))}getContinuation(){return o(this,void 0,void 0,(function*(){if(!d(this,dg,"f"))throw new Nw("Continuation not found");const t=yield d(this,dg,"f").endpoint.call(d(this,cg,"f"),{parse:!0}),e=Object.assign({},d(this,lg,"f"));if(!e.on_response_received_endpoints||!t.on_response_received_endpoints)throw new Nw("Invalid reponse format, missing on_response_received_endpoints.");return e.on_response_received_endpoints.pop(),e.on_response_received_endpoints.push(t.on_response_received_endpoints[0]),new ug(d(this,cg,"f"),e,!0)}))}get has_continuation(){return!!d(this,dg,"f")}get page(){return d(this,lg,"f")}};e(ug,"Comments"),lg=new WeakMap,cg=new WeakMap,dg=new WeakMap;var pg,mg=ug,vg=class{constructor(t){pg.set(this,void 0),h(this,pg,D.parseResponse(t),"f"),this.contents=d(this,pg,"f").items.array().as(Jr,tl)}get page(){return d(this,pg,"f")}};e(vg,"Guide"),pg=new WeakMap;var fg=vg,yg=class extends tg{constructor(t,e,i=!1){super(t,e,i),this.sections=this.memo.getType(Ll),this.feed_actions=this.memo.getType(Ui).first()}getContinuation(){return o(this,void 0,void 0,(function*(){const t=yield this.getContinuationData();if(!t)throw new Error("No continuation data found");return new yg(this.actions,t,!0)}))}};e(yg,"History");var gg=yg,_g=class extends og{constructor(t,e,i=!1){super(t,e,i),this.header=this.memo.getType(br).first(),this.contents=this.memo.getType(Wp).first()||this.page.on_response_received_actions.first()}applyFilter(t){const e=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return o(this,void 0,void 0,(function*(){const i=yield e.getFilteredFeed.call(this,t);return new _g(this.actions,i.page,!0)}))}getContinuation(){const t=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var e;return o(this,void 0,void 0,(function*(){const i=yield t.getContinuation.call(this);return i.page.header=this.page.header,null===(e=i.page.header_memo)||void 0===e||e.set(this.header.type,[this.header]),new _g(this.actions,i.page,!0)}))}};e(_g,"HomeFeed");var bg,wg,xg,Sg=class extends og{constructor(t,e){if(super(t,e),!this.page.contents_memo)throw new Nw("Unexpected response",this.page);const i=this.page.contents_memo.getType($m).first();if(!i.content)throw new Nw("Content tab has no content",i);this.page.header&&(this.header=this.page.header.item().as(il,Lu)),this.contents=i.content.as(Wp)}applyFilter(t){const e=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return o(this,void 0,void 0,(function*(){const i=yield e.getFilteredFeed.call(this,t);return new Sg(this.actions,i.page)}))}};e(Sg,"HashtagFeed");var Tg=class{constructor(t,e){bg.set(this,void 0),wg.set(this,void 0),xg.set(this,void 0),h(this,bg,t,"f"),h(this,wg,e,"f");const i=null==t?void 0:t.live_chat_item_context_menu_supported_renderers;if(!i||!i.is(wt))throw new Nw('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');h(this,xg,i.as(wt).items,"f")}selectItem(t){return o(this,void 0,void 0,(function*(){let e;if(t instanceof V){if(!t.endpoint)throw new Nw("Item does not have an endpoint.");e=t.endpoint}else{const i=d(this,xg,"f").find((e=>{if(!e.is(xd))return!1;return e.as(xd).icon_type===t}));if(!i||!i.is(xd))throw new Nw(`Button "${t}" not found.`);e=i.endpoint}if(!e)throw new Nw("Target button does not have an endpoint.");return yield e.call(d(this,wg,"f"),{parse:!0})}))}items(){return d(this,xg,"f")}page(){return d(this,bg,"f")}};e(Tg,"ItemMenu"),bg=new WeakMap,wg=new WeakMap,xg=new WeakMap;var Cg,Ig,kg=Tg,Eg=class extends tg{constructor(t,e,i=!1){var s,n,o,a,r;super(t,e,i),Cg.add(this);const l=this.memo.getType(Zu).first(),c=this.memo.getType(rp).first(),h=this.memo.getType(cp).first(),u=null===(s=this.page.alerts)||void 0===s?void 0:s.firstOfType(pt);if(u&&"ERROR"===u.alert_type)throw new Nw(u.text.toString(),u);if(!c&&!h&&0===Object.keys(this.page).length)throw new Nw("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},null===(n=this.page.metadata)||void 0===n?void 0:n.item().as(sp)),{subtitle:l?l.subtitle:null,author:null!==(a=null===(o=null==h?void 0:h.owner)||void 0===o?void 0:o.as(df).author)&&void 0!==a?a:null==l?void 0:l.author,thumbnails:null===(r=null==c?void 0:c.thumbnail_renderer)||void 0===r?void 0:r.as(ca,ra).thumbnail,total_items:d(this,Cg,"m",Ig).call(this,0,c),views:d(this,Cg,"m",Ig).call(this,1,c),last_updated:d(this,Cg,"m",Ig).call(this,2,c),can_share:null==l?void 0:l.can_share,can_delete:null==l?void 0:l.can_delete,is_editable:null==l?void 0:l.is_editable,privacy:null==l?void 0:l.privacy}),this.menu=null==c?void 0:c.menu,this.endpoint=null==c?void 0:c.endpoint,this.messages=this.memo.getType(Ca)}get items(){return this.videos}getContinuation(){return o(this,void 0,void 0,(function*(){const t=yield this.getContinuationData();if(!t)throw new Nw("Could not get continuation data");return new Eg(this.actions,t,!0)}))}};e(Eg,"Playlist"),Cg=new WeakSet,Ig=e((function(t,e){var i;return e&&e.stats&&(null===(i=e.stats[t])||void 0===i?void 0:i.toString())||"N/A"}),"_Playlist_getStat");var Ag,Rg,Mg=Eg,Pg=class extends tg{constructor(t,e){if(super(t,e),Ag.add(this),!this.page.contents_memo)throw new Nw("Page contents not found");const i=this.page.contents_memo.getType(kp).first(),s=this.page.contents_memo.getType(Mp).first();this.profile={stats:i,user_info:s};const n=this.page.contents_memo.getType(Lm);this.sections=n.map((t=>{var e;return{type:t.icon_type,title:t.title,contents:(null===(e=t.content)||void 0===e?void 0:e.key("items").array())||[],getAll:()=>d(this,Ag,"m",Rg).call(this,t)}}))}get history(){return this.sections.find((t=>"WATCH_HISTORY"===t.type))}get watch_later(){return this.sections.find((t=>"WATCH_LATER"===t.type))}get liked_videos(){return this.sections.find((t=>"LIKE"===t.type))}get playlists_section(){return this.sections.find((t=>"PLAYLISTS"===t.type))}get clips(){return this.sections.find((t=>"CONTENT_CUT"===t.type))}};e(Pg,"Library"),Ag=new WeakSet,Rg=e((function(t){var e;return o(this,void 0,void 0,(function*(){if(!(null===(e=t.menu)||void 0===e?void 0:e.as(wt).hasKey("top_level_buttons")))throw new Nw(`The ${t.title.text} shelf doesn't have more items`);const i=t.menu.as(wt).top_level_buttons.firstOfType(V);if(!i)throw new Nw("Did not find target button.");const s=yield i.as(V).endpoint.call(this.actions,{parse:!0});switch(t.icon_type){case"LIKE":case"WATCH_LATER":return new Mg(this.actions,s,!0);case"WATCH_HISTORY":return new gg(this.actions,s,!0);case"CONTENT_CUT":return new tg(this.actions,s,!0);default:throw new Nw("Target shelf not implemented.")}}))}),"_Library_getAll");var Lg,Dg=Pg,Og=class extends EventTarget{constructor(){super(),Lg.set(this,new Map)}emit(t,...e){const i=new Ow.shim.CustomEvent(t,{detail:e});this.dispatchEvent(i)}on(t,i){const s=e((t=>{t instanceof Ow.shim.CustomEvent?i(...t.detail):i(t)}),"wrapper");d(this,Lg,"f").set(i,s),this.addEventListener(t,s)}once(t,i){const s=e((e=>{e instanceof Ow.shim.CustomEvent?i(...e.detail):i(e),this.off(t,i)}),"wrapper");d(this,Lg,"f").set(i,s),this.addEventListener(t,s)}off(t,e){const i=d(this,Lg,"f").get(e);i&&(this.removeEventListener(t,i),d(this,Lg,"f").delete(e))}};e(Og,"EventEmitterLike"),Lg=new WeakMap;var Ng,Bg,Vg,Ug,Hg,Fg,jg=Og;function Wg(t){const e=[];for(const i of t)if(Array.isArray(i))for(const t of i)e.push(t);else e.push(i);return e}e(Wg,"flattenQueue");var Gg=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};e(Gg,"DelayQueue");var $g=class{constructor(){Ng.set(this,void 0),Bg.set(this,void 0),Vg.set(this,void 0),Ug.set(this,void 0),Hg.set(this,void 0),Fg.set(this,void 0),h(this,Ng,null,"f"),h(this,Bg,null,"f"),h(this,Vg,null,"f"),h(this,Ug,[],"f"),h(this,Hg,null,"f"),h(this,Fg,new Gg,"f")}enqueueActionGroup(t){if(null!==d(this,Ng,"f")){const t=Date.now()-d(this,Ng,"f");d(this,Fg,"f").back.push(t),5<d(this,Fg,"f").front.length+d(this,Fg,"f").back.length&&(d(this,Fg,"f").front.length||(d(this,Fg,"f").front=d(this,Fg,"f").back,d(this,Fg,"f").front.reverse(),d(this,Fg,"f").back=[]),d(this,Fg,"f").front.pop()),h(this,Bg,Math.max(...d(this,Fg,"f").getValues()),"f")}h(this,Ng,Date.now(),"f"),d(this,Ug,"f").push(t),null===d(this,Hg,"f")&&h(this,Hg,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(h(this,Hg,null,"f"),d(this,Ug,"f").length){let t=1e4;null!==d(this,Bg,"f")&&null!==d(this,Ng,"f")&&(t=d(this,Bg,"f")-Date.now()+d(this,Ng,"f")),t=d(this,Ug,"f").length<t/80?1:Math.ceil(d(this,Ug,"f").length/(t/80));const e=Wg(d(this,Ug,"f").splice(0,t));d(this,Vg,"f")&&d(this,Vg,"f").call(this,e),null!==d(this,Ug,"f")&&(1==t?(t=d(this,Bg,"f")/d(this,Ug,"f").length,t*=Math.random()+.5,t=Math.min(1e3,t),t=Math.max(80,t)):t=80,h(this,Hg,setTimeout(this.emitSmoothedActions.bind(this),t),"f"))}}clear(){null!==d(this,Hg,"f")&&(clearTimeout(d(this,Hg,"f")),h(this,Hg,null,"f")),h(this,Ug,[],"f")}set callback(t){h(this,Vg,t,"f")}get callback(){return d(this,Vg,"f")}get action_queue(){return d(this,Ug,"f")}get estimated_update_interval(){return d(this,Bg,"f")}get last_update_time(){return d(this,Ng,"f")}get next_update_id(){return d(this,Hg,"f")}get poll_response_delay_queue(){return d(this,Fg,"f")}};e($g,"SmoothedQueue"),Ng=new WeakMap,Bg=new WeakMap,Vg=new WeakMap,Ug=new WeakMap,Hg=new WeakMap,Fg=new WeakMap;var Yg,Kg,zg,qg,Xg,Qg,Jg,Zg,t_,e_,i_,s_=$g,n_=class extends jg{constructor(t){var e,i;super(),Yg.add(this),Kg.set(this,void 0),zg.set(this,void 0),qg.set(this,void 0),Xg.set(this,void 0),Qg.set(this,void 0),Jg.set(this,0),this.running=!1,this.is_replay=!1,h(this,zg,t.basic_info.id,"f"),h(this,qg,t.basic_info.channel_id,"f"),h(this,Kg,t.actions,"f"),h(this,Xg,null===(e=t.livechat)||void 0===e?void 0:e.continuation,"f"),this.is_replay=(null===(i=t.livechat)||void 0===i?void 0:i.is_replay)||!1,this.smoothed_queue=new s_,this.smoothed_queue.callback=t=>o(this,void 0,void 0,(function*(){t.length?t.length<10?yield d(this,Yg,"m",t_).call(this,t):this.is_replay?(d(this,Yg,"m",t_).call(this,t),yield d(this,Yg,"m",i_).call(this,2e3)):d(this,Yg,"m",t_).call(this,t):yield d(this,Yg,"m",i_).call(this,2e3),this.running&&d(this,Yg,"m",Zg).call(this)}))}on(t,e){super.on(t,e)}once(t,e){super.once(t,e)}start(){this.running||(this.running=!0,d(this,Yg,"m",Zg).call(this),d(this,Yg,"m",e_).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(t){return o(this,void 0,void 0,(function*(){const e=yield d(this,Kg,"f").execute("/live_chat/send_message",{params:Io(d(this,qg,"f"),d(this,zg,"f")),richMessage:{textSegments:[{text:t}]},clientMessageId:Ow.shim.uuidv4(),client:"ANDROID",parse:!0});if(!e.actions)throw new Nw("Unexpected response from send_message",e);return e.actions.array().as($l)}))}applyFilter(t){var e,i,s,n,o,a,r;if(!this.initial_info)throw new Nw("Cannot apply filter before initial info is retrieved.");const l=null===(s=null===(i=null===(e=this.initial_info)||void 0===e?void 0:e.header)||void 0===i?void 0:i.view_selector)||void 0===s?void 0:s.sub_menu_items;if("TOP_CHAT"===t){if(null===(n=null==l?void 0:l.at(0))||void 0===n?void 0:n.selected)return;h(this,Xg,null===(o=null==l?void 0:l.at(0))||void 0===o?void 0:o.continuation,"f")}else{if(null===(a=null==l?void 0:l.at(1))||void 0===a?void 0:a.selected)return;h(this,Xg,null===(r=null==l?void 0:l.at(1))||void 0===r?void 0:r.continuation,"f")}}getItemMenu(t){return o(this,void 0,void 0,(function*(){if(!t.hasKey("menu_endpoint")||!t.key("menu_endpoint").isInstanceof(z))throw new Nw("This item does not have a menu.",t);const e=yield t.key("menu_endpoint").instanceof(z).call(d(this,Kg,"f"),{parse:!0});if(!e)throw new Nw("Could not retrieve item menu.",t);return new kg(e,d(this,Kg,"f"))}))}selectButton(t){return o(this,void 0,void 0,(function*(){return yield t.endpoint.call(d(this,Kg,"f"),{parse:!0})}))}};e(n_,"LiveChat"),Kg=new WeakMap,zg=new WeakMap,qg=new WeakMap,Xg=new WeakMap,Qg=new WeakMap,Jg=new WeakMap,Yg=new WeakSet,Zg=e((function t(){(()=>{o(this,void 0,void 0,(function*(){var e,i;try{const e=yield d(this,Kg,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:d(this,Xg,"f"),parse:!0}),i=e.continuation_contents;if(i||(this.emit("error",new Nw("Unexpected live chat incremental continuation response",e)),this.emit("end"),this.stop()),!(i instanceof hy))return this.stop(),void this.emit("end");h(this,Xg,i.continuation.token,"f"),i.header?(this.initial_info=i,this.emit("start",i),this.running&&d(this,Yg,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(i.actions),h(this,Jg,0,"f")}catch(s){this.emit("error",s),h(this,Jg,(i=d(this,Jg,"f"),e=i++,i),"f"),e<10?(yield d(this,Yg,"m",i_).call(this,2e3),d(this,Yg,"m",t).call(this)):(this.emit("error",new Nw("Reached retry limit for incremental continuation requests",s)),this.emit("end"),this.stop())}}))})()}),"_LiveChat_pollLivechat"),t_=e((function(t){return o(this,void 0,void 0,(function*(){const e=1e4;let i=t.length<125?1:Math.ceil(t.length/125);const s=1==i?(i=e/t.length,i*=Math.random()+.5,i=Math.min(1e3,i),i=Math.max(80,i)):i=80;for(const e of t)yield d(this,Yg,"m",i_).call(this,s),this.emit("chat-update",e)}))}),"_LiveChat_emitSmoothedActions"),e_=e((function t(){(()=>{o(this,void 0,void 0,(function*(){var e,i,s,n,o,a,r,l,c,u,p;try{const m={videoId:d(this,zg,"f")};d(this,Qg,"f")&&(m.continuation=d(this,Qg,"f"));const v=yield d(this,Kg,"f").execute("/updated_metadata",m),f=Aw.parseResponse(v.data);h(this,Qg,null===(e=f.continuation)||void 0===e?void 0:e.token,"f"),this.metadata={title:(null===(i=f.actions)||void 0===i?void 0:i.array().firstOfType(td))||(null===(s=this.metadata)||void 0===s?void 0:s.title),description:(null===(n=f.actions)||void 0===n?void 0:n.array().firstOfType(Xc))||(null===(o=this.metadata)||void 0===o?void 0:o.description),views:(null===(a=f.actions)||void 0===a?void 0:a.array().firstOfType(nd))||(null===(r=this.metadata)||void 0===r?void 0:r.views),likes:(null===(l=f.actions)||void 0===l?void 0:l.array().firstOfType(id))||(null===(c=this.metadata)||void 0===c?void 0:c.likes),date:(null===(u=f.actions)||void 0===u?void 0:u.array().firstOfType(zc))||(null===(p=this.metadata)||void 0===p?void 0:p.date)},this.emit("metadata-update",this.metadata),yield d(this,Yg,"m",i_).call(this,5e3),this.running&&d(this,Yg,"m",t).call(this)}catch(e){yield d(this,Yg,"m",i_).call(this,2e3),this.running&&d(this,Yg,"m",t).call(this)}}))})()}),"_LiveChat_pollMetadata"),i_=e((function(t){return o(this,void 0,void 0,(function*(){return new Promise((e=>setTimeout((()=>e()),t)))}))}),"_LiveChat_wait");var o_,a_,r_=n_,l_=class{constructor(t,e){o_.set(this,void 0),a_.set(this,void 0),h(this,a_,t,"f"),h(this,o_,Aw.parseResponse(e.data),"f"),this.header=d(this,o_,"f").actions_memo.getType(Nd).first(),this.contents=d(this,o_,"f").actions_memo.getType(Au)}getContinuation(){return o(this,void 0,void 0,(function*(){const t=d(this,o_,"f").actions_memo.getType(yt).first();if(!t)throw new Nw("Continuation not found");const e=yield t.endpoint.call(d(this,a_,"f"),{parse:!1});return new l_(d(this,a_,"f"),e)}))}get page(){return d(this,o_,"f")}};e(l_,"NotificationsMenu"),o_=new WeakMap,a_=new WeakMap;var c_=l_,d_=class extends tg{constructor(t,e,i=!1){var s,n,o,a,r,l;super(t,e,i);const c=(null===(s=this.page.contents_memo)||void 0===s?void 0:s.getType(Mt).first().contents)||(null===(n=this.page.on_response_received_commands)||void 0===n?void 0:n.first().contents);if(!c)throw new Nw("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(hm)),this.results=null===(o=c.find((t=>t.is(Ll)&&t.contents&&t.contents.length>0)))||void 0===o?void 0:o.as(Ll).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=null===(a=this.page.contents_memo)||void 0===a?void 0:a.getType(pm).first(),this.watch_card=null===(r=this.page.contents_memo)||void 0===r?void 0:r.getType(Zv).first(),this.refinement_cards=null===(l=this.results)||void 0===l?void 0:l.firstOfType(Qt)}selectRefinementCard(t){var e,i;return o(this,void 0,void 0,(function*(){let s;if("string"==typeof t){if(!this.refinement_cards)throw new Nw("No refinement cards found.");if(s=null===(i=null===(e=this.refinement_cards)||void 0===e?void 0:e.cards.get({query:t}))||void 0===i?void 0:i.as(Ot),!s)throw new Nw(`Refinement card "${t}" not found`,{available_cards:this.refinement_card_queries})}else{if("SearchRefinementCard"!==t.type)throw new Nw("Invalid refinement card!");s=t}const n=yield s.endpoint.call(this.actions,{parse:!0});return new d_(this.actions,n,!0)}))}get refinement_card_queries(){var t;return(null===(t=this.refinement_cards)||void 0===t?void 0:t.cards.as(Ot).map((t=>t.query)))||[]}getContinuation(){return o(this,void 0,void 0,(function*(){const t=yield this.getContinuationData();if(!t)throw new Nw("Could not get continuation data");return new d_(this.actions,t,!0)}))}};e(d_,"Search");var h_,u_,p_=d_,m_=class{constructor(t,e){var i,s,n,o;if(h_.set(this,void 0),u_.set(this,void 0),h(this,u_,t,"f"),h(this,h_,Aw.parseResponse(e.data),"f"),this.sidebar=null===(i=d(this,h_,"f").sidebar)||void 0===i?void 0:i.as(Am),!d(this,h_,"f").contents)throw new Nw("Page contents not found");const a=d(this,h_,"f").contents.item().as($v).tabs.array().as($m).get({selected:!0});if(!a)throw new Nw("Target tab not found");const r=null===(s=a.content)||void 0===s?void 0:s.as(Mt).contents.as(Ll);this.introduction=null===(o=null===(n=null==r?void 0:r.shift())||void 0===n?void 0:n.contents)||void 0===o?void 0:o.firstOfType(Ou),this.sections=null==r?void 0:r.map((t=>{var e;return{title:(null===(e=t.header)||void 0===e?void 0:e.title.toString())||null,contents:t.contents}}))}selectSidebarItem(t){return o(this,void 0,void 0,(function*(){if(!this.sidebar)throw new Nw("Sidebar not available");let e;if("string"==typeof t){if(e=this.sidebar.items.get({title:t}),!e)throw new Nw(`Item "${t}" not found`,{available_items:this.sidebar_items})}else{if(!(null==t?void 0:t.is(oa)))throw new Nw("Invalid item",{target_item:t});e=t}const i=yield e.endpoint.call(d(this,u_,"f"),{parse:!1});return new m_(d(this,u_,"f"),i)}))}getSettingOption(t){var e;if(!this.sections)throw new Nw("Sections not available");for(const i of this.sections)if(i.contents)for(const s of i.contents){const i=s.as(km).options;if(i)for(const s of i)if(s.is(Cm)&&(null===(e=s.title)||void 0===e?void 0:e.toString())===t)return s}throw new Nw(`Option "${t}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new Nw("Sections not available");let t=[];for(const e of this.sections)if(e.contents)for(const i of e.contents)i.as(km).options&&(t=t.concat(i.as(km).options));return t.map((t=>{var e;return null===(e=t.title)||void 0===e?void 0:e.toString()})).filter((t=>t))}get sidebar_items(){if(!this.sidebar)throw new Nw("Sidebar not available");return this.sidebar.items.map((t=>t.title.toString()))}get page(){return d(this,h_,"f")}};e(m_,"Settings"),h_=new WeakMap,u_=new WeakMap;var v_,f_=m_,y_=class{constructor(t){var e;if(v_.set(this,void 0),h(this,v_,Aw.parseResponse(t.data),"f"),!d(this,v_,"f").contents)throw new Nw("Page contents not found");const i=d(this,v_,"f").contents.item().as(Km).tabs.get({selected:!0});if(!i)throw new Nw("Could not find target tab.");this.contents=null===(e=i.content)||void 0===e?void 0:e.as(Mt).contents.as(Ll)}get page(){return d(this,v_,"f")}};e(y_,"TimeWatched"),v_=new WeakMap;var g_=y_,__={};i(__,{Feed:()=>tg,FilterableFeed:()=>og,MediaInfo:()=>xb,TabbedFeed:()=>sg});var b_={};i(b_,{chooseFormat:()=>pb,download:()=>ub,toDash:()=>hb});var w_,x_={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function S_(t){return t.replace(/([&"<>'])/g,((t,e)=>x_[e]))}function T_(t){if("mpd"===t)return"MPD";if("base-url"===t)return"BaseURL";return t.split("-").map((t=>t.charAt(0).toUpperCase()+t.slice(1))).join("")}function C_(t,e,...i){const s=i.flat().map((t=>"string"==typeof t?I_(t):t));return"function"==typeof t?t(Object.assign(Object.assign({},e),{children:s})):{type:T_(t),props:Object.assign(Object.assign({},e),{children:s})}}function I_(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}function k_(t){return o(this,void 0,void 0,(function*(){if("TEXT_ELEMENT"===t.type)return S_("string"==typeof t.props.nodeValue?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){const i=Object.keys(t.props).filter((e=>!["children","nodeValue"].includes(e)&&void 0!==t.props[e])).map((e=>`${e}="${S_(`${t.props[e]}`)}"`));i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){const i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter((t=>!!t)).map((t=>k_(t))));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`}))}function E_(t){return o(this,void 0,void 0,(function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield k_(yield t)}`}))}function A_(t){return t.children}e(S_,"escapeXMLString"),e(T_,"normalizeTag"),e(C_,"createElement"),e(I_,"createTextElement"),e(k_,"renderElementToString"),e(E_,"renderToString"),e(A_,"Fragment");var R_=class{constructor(t,e){w_.set(this,void 0),h(this,w_,new Ow.shim.Cache(t,e),"f")}get cache_dir(){return d(this,w_,"f").cache_dir}get(t){return d(this,w_,"f").get(t)}set(t,e){return d(this,w_,"f").set(t,e)}remove(t){return d(this,w_,"f").remove(t)}};e(R_,"UniversalCache"),w_=new WeakMap;var M_,P_,L_,D_,O_,N_=R_,B_=class{constructor(t,e,i){M_.add(this),P_.set(this,void 0),L_.set(this,void 0),D_.set(this,void 0),h(this,P_,t,"f"),h(this,L_,e,"f"),h(this,D_,i||Ow.shim.fetch,"f")}get fetch_function(){return d(this,D_,"f")}fetch(t,e){return o(this,void 0,void 0,(function*(){const i=A.API.PRODUCTION_1+d(this,P_,"f").api_version,s=(null==e?void 0:e.baseURL)||i,n="string"==typeof t?s.endsWith("/")||t.startsWith("/")?new URL(s+t):new URL(`${s}/${t}`):t instanceof URL?t:new URL(t.url,s),o=(null==e?void 0:e.headers)||(t instanceof Ow.shim.Request?t.headers:new Ow.shim.Headers)||new Ow.shim.Headers,a=(null==e?void 0:e.body)||(t instanceof Ow.shim.Request?t.body:void 0),r=new Ow.shim.Headers(o);r.set("Accept","*/*"),r.set("Accept-Language","*"),r.set("X-Goog-Visitor-Id",d(this,P_,"f").context.client.visitorData||""),r.set("X-Origin",n.origin),r.set("X-Youtube-Client-Version",d(this,P_,"f").context.client.clientVersion||""),Ow.shim.server&&(r.set("User-Agent",Yw("desktop")),r.set("origin",n.origin)),n.searchParams.set("key",d(this,P_,"f").key),n.searchParams.set("prettyPrint","false"),n.searchParams.set("alt","json");const l=r.get("Content-Type");let c=a,h=!1;const u=s===i||s===A.YT_UPLOAD;if("application/json"===l&&u&&"string"==typeof a){const t=JSON.parse(a),e=Object.assign(Object.assign({},t),{context:JSON.parse(JSON.stringify(d(this,P_,"f").context))});d(this,M_,"m",O_).call(this,e.context,e.client),r.set("x-youtube-client-version",e.context.client.clientVersion),delete e.client,Ow.shim.server&&("ANDROID"===e.context.client.clientName||"ANDROID_MUSIC"===e.context.client.clientName?r.set("User-Agent",M.ANDROID.USER_AGENT):"iOS"===e.context.client.clientName&&r.set("User-Agent",M.iOS.USER_AGENT)),h="WEB_KIDS"===e.context.client.clientName,c=JSON.stringify(e)}if(d(this,P_,"f").logged_in&&u&&!h){const t=d(this,P_,"f").oauth;if(t.validateCredentials()&&(yield t.refreshIfRequired(),r.set("authorization",`Bearer ${t.credentials.access_token}`),n.searchParams.delete("key")),d(this,L_,"f")){const t=Gw(d(this,L_,"f"),"PAPISID=",";");t&&(r.set("authorization",yield Kw(t)),r.set("x-goog-authuser",d(this,P_,"f").account_index.toString())),r.set("cookie",d(this,L_,"f"))}}const p=new Ow.shim.Request(n,t instanceof Ow.shim.Request?t:e),m=yield d(this,D_,"f").call(this,p,{body:c,headers:r,credentials:"include",redirect:t instanceof Ow.shim.Request?t.redirect:(null==e?void 0:e.redirect)||"follow"});if(m.ok)return m;throw new Nw(`Request to ${m.url} failed with status ${m.status}`,yield m.text())}))}};e(B_,"HTTPClient"),P_=new WeakMap,L_=new WeakMap,D_=new WeakMap,M_=new WeakSet,O_=e((function(t,e){switch("ANDROID"!==e&&"YTMUSIC_ANDROID"!==e&&"YTMUSIC_ANDROID"!==e&&"YTSTUDIO_ANDROID"!==e||(t.client.androidSdkVersion=M.ANDROID.SDK_VERSION,t.client.userAgent=M.ANDROID.USER_AGENT,t.client.osName="Android",t.client.osVersion="10",t.client.platform="MOBILE"),e){case"iOS":t.client.deviceModel=M.iOS.DEVICE_MODEL,t.client.clientVersion=M.iOS.VERSION,t.client.clientName=M.iOS.NAME,t.client.platform="MOBILE";break;case"YTMUSIC":t.client.clientVersion=M.YTMUSIC.VERSION,t.client.clientName=M.YTMUSIC.NAME;break;case"ANDROID":t.client.clientVersion=M.ANDROID.VERSION,t.client.clientFormFactor="SMALL_FORM_FACTOR",t.client.clientName=M.ANDROID.NAME;break;case"YTMUSIC_ANDROID":t.client.clientVersion=M.YTMUSIC_ANDROID.VERSION,t.client.clientFormFactor="SMALL_FORM_FACTOR",t.client.clientName=M.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":t.client.clientVersion=M.YTSTUDIO_ANDROID.VERSION,t.client.clientFormFactor="SMALL_FORM_FACTOR",t.client.clientName=M.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":t.client.clientName=M.TV_EMBEDDED.NAME,t.client.clientVersion=M.TV_EMBEDDED.VERSION,t.client.clientScreen="EMBED",t.thirdParty={embedUrl:A.YT_BASE};break;case"YTKIDS":t.client.clientVersion=M.WEB_KIDS.VERSION,t.client.clientName=M.WEB_KIDS.NAME,t.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}}}}),"_HTTPClient_adjustContext");var V_=B_;function U_(t){var e,i,s;const n=new Map,o=t.some((t=>!!t.audio_track));for(const o of t){if(!(o.index_range&&o.init_range||o.is_type_otf))continue;const t=`${o.mime_type.split(";")[0]}-${null===(e=Gw(o.mime_type,'codecs="','"'))||void 0===e?void 0:e.split(".")[0]}-${o.color_info?Object.values(o.color_info).join("-"):""}-${(null===(i=o.audio_track)||void 0===i?void 0:i.id)||""}`;n.has(t)||n.set(t,[]),null===(s=n.get(t))||void 0===s||s.push(o)}return{groups:Array.from(n.values()),has_multiple_audio_tracks:o}}function H_(t,e){if(t.length>1&&1===new Set(t.map((t=>Gw(t.mime_type,'codecs="','"')))).size)return e.push("codecs"),Gw(t[0].mime_type,'codecs="','"')}function F_(t,e,i){if(t.length>1&&1===new Set(t.map((t=>t.fps))).size)return i.push(e),Number(t[0][e])}function j_(t,e){if(t.length>1&&1===new Set(t.map((t=>t.audio_channels||2))).size)return e.push("AudioChannelConfiguration"),t[0].audio_channels}function W_(t,e){var i;return o(this,void 0,void 0,(function*(){const s=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:E.STREAM_HEADERS,redirect:"follow"}),n=s.url.replace("&rn=0","").replace("&sq=0",""),o=yield s.text(),a=null===(i=Gw(o,"Segment-Durations-Ms:","\r\n"))||void 0===i?void 0:i.split(",");if(!a)throw new Nw("Failed to extract the segment durations from this OTF stream",{url:t});const r=[];for(const t of a){const e=t.trim();if(0===e.length)continue;let i;const s=Gw(e,"(r=",")");s&&(i=parseInt(s)),r.push({duration:parseInt(e),repeat_count:i})}return{init_url:`${n}&sq=0`,media_url:`${n}&sq=$Number$`,timeline:r}}))}function G_(t,e,i,s,n){const o=new URL(t.decipher(s));o.searchParams.set("cpn",n||"");const a=e(o).toString();if(t.is_type_otf){if(!i)throw new Nw("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,getSegmentTemplate:()=>W_(a,i)}}if(!t.index_range||!t.init_range)throw new Nw("Index and init ranges not available",{format:t});return{is_oft:!1,base_url:a,index_range:t.index_range,init_range:t.init_range}}function $_(t,e,i,s,n,o){new URL(t.decipher(n)).searchParams.set("cpn",o||"");return{uid:t.audio_track?`${t.itag}-${t.audio_track.id}`:t.itag.toString(),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Gw(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:G_(t,i,s,n,o)}}function Y_(t){const{audio_track:e}=t;if(e)return e.audio_is_default?"main":t.is_dubbed?"dub":t.is_descriptive?"description":"alternate"}function K_(t,e,i,s,n){var o;const a=t[0],{audio_track:r}=a,l=[];return{mime_type:a.mime_type.split(";")[0],language:null!==(o=a.language)&&void 0!==o?o:void 0,codecs:H_(t,l),audio_sample_rate:F_(t,"audio_sample_rate",l),track_name:null==r?void 0:r.display_name,track_role:Y_(a),channels:j_(t,l),representations:t.map((t=>$_(t,l,e,i,s,n)))}}e(U_,"getFormatGroupings"),e(H_,"hoistCodecsIfPossible"),e(F_,"hoistNumberAttributeIfPossible"),e(j_,"hoistAudioChannelsIfPossible"),e(W_,"getOTFSegmentTemplate"),e(G_,"getSegmentInfo"),e($_,"getAudioRepresentation"),e(Y_,"getTrackRole"),e(K_,"getAudioSet");var z_,q_,X_={BT709:"1",BT2020:"9"},Q_={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},J_={BT709:"1",BT2020_NCL:"14"};function Z_(t){const e=t.color_info,i=(null==e?void 0:e.primaries)?X_[e.primaries]:void 0,s=(null==e?void 0:e.transfer_characteristics)?Q_[e.transfer_characteristics]:void 0,n=(null==e?void 0:e.matrix_coefficients)?J_[e.matrix_coefficients]:void 0;if((null==e?void 0:e.matrix_coefficients)&&!n){const i=new URL(t.url),s=JSON.parse(JSON.stringify(t));s.url="REDACTED",s.signature_cipher="REDACTED",s.cipher="REDACTED",console.warn(`YouTube.js toDash(): Unknown matrix coefficients "${e.matrix_coefficients}", the DASH manifest is still usuable without this.\nPlease report it at ${Ow.shim.info.bugs_url} so we can add support for it.\nInnertube client: ${i.searchParams.get("c")}\nformat:`,s)}return{primaries:i,transfer_characteristics:s,matrix_coefficients:n}}function tb(t,e,i,s,n,o){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Gw(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:G_(t,e,n,s,o)}}function eb(t,e,i,s,n){const o=t[0],a=Z_(o),r=[];return{mime_type:o.mime_type.split(";")[0],color_info:a,codecs:H_(t,r),fps:F_(t,"fps",r),representations:t.map((t=>tb(t,e,r,i,s,n)))}}function ib(t){var e;const i=new Map;for(const s of t.boards){const t=new URL(s.template_url).pathname.split(".").pop(),n=`image/${"jpg"===t?"jpeg":t}`;i.has(n)||i.set(n,[]),null===(e=i.get(n))||void 0===e||e.push(s)}return i}function sb(t,e,i,s,n){return o(this,void 0,void 0,(function*(){const o=e.template_url,a=i(new URL(o.replace("$M","0"))),r=n.response?n.response:t.session.http.fetch_function(a,{method:"HEAD",headers:E.STREAM_HEADERS});n.response=r;return(yield r).headers.get("Content-Type")||s}))}function nb(t,e,i){return o(this,void 0,void 0,(function*(){const s=e.template_url,n=[],o=Math.min(e.storyboard_count,10);for(let e=0;e<o;e++){const o=new URL(s.replace("$M",e.toString())),a=0===e&&i.response?i.response:t.session.http.fetch_function(o,{method:"HEAD",headers:E.STREAM_HEADERS});0===e&&(i.response=a),n.push(a)}const a=yield Promise.all(n),r=[];for(const t of a)r.push(parseInt(t.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...r)/(e.rows*e.columns)*8)}))}function ob(t,e,i,s,n){const o=i.template_url,a=new URL(o.replace("$M","$Number$"));return{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate:()=>nb(e,i,n),sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:t/i.storyboard_count,template_url:s(a).toString(),getURL:t=>a.toString().replace("$Number$",t.toString())}}function ab(t,e,i,s){const n=ib(i),o={};return Array.from(n.entries()).map((([i,n])=>({probable_mime_type:i,getMimeType:()=>sb(e,n[0],s,i,o),representations:n.map((i=>ob(t,e,i,s,o)))})))}function rb(t,e=(t=>t),i,s,n,o,a){if(!t)throw new Nw("Streaming data not available");const r=i?t.adaptive_formats.filter((t=>!i(t))):t.adaptive_formats,l=r[0].approx_duration_ms/1e3,{groups:c,has_multiple_audio_tracks:d}=U_(r),{video_groups:h,audio_groups:u}=c.reduce(((t,e)=>e[0].has_audio?(d&&!e[0].audio_track||t.audio_groups.push(e),t):(t.video_groups.push(e),t)),{video_groups:[],audio_groups:[]});return{duration:l,audio_sets:u.map((t=>K_(t,e,o,n,s))),video_sets:h.map((t=>eb(t,e,n,o,s))),image_sets:a&&o?ab(l,o,a,e):[]}}function lb({info:t}){return o(this,void 0,void 0,(function*(){if(!t.is_oft)return null;const e=yield t.getSegmentTemplate();return C_("segment-template",{startNumber:"1",timescale:"1000",initialization:e.init_url,media:e.media_url},C_("segment-timeline",null,e.timeline.map((t=>C_("s",{d:t.duration,r:t.repeat_count})))))}))}function cb({info:t}){return t.is_oft?C_(lb,{info:t}):C_(A_,null,C_("base-url",null,t.base_url),C_("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},C_("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}function db({streamingData:t,transformURL:e,rejectFormat:i,cpn:s,player:n,actions:a,storyboards:r}){const{duration:l,audio_sets:c,video_sets:d,image_sets:h}=rb(t,e,i,s,n,a,r);return C_("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${l}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},C_("period",null,c.map(((t,e)=>C_("adaptation-set",{id:e,mimeType:t.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:t.language,codecs:t.codecs,audioSamplingRate:t.audio_sample_rate},t.track_role&&C_("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:t.track_role}),t.track_name&&C_("label",{id:e},t.track_name),t.channels&&C_("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:t.channels}),t.representations.map((t=>C_("representation",{id:t.uid,bandwidth:t.bitrate,codecs:t.codecs,audioSamplingRate:t.audio_sample_rate},t.channels&&C_("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:t.channels}),C_(cb,{info:t.segment_info}))))))),d.map(((t,e)=>C_("adaptation-set",{id:e+c.length,mimeType:t.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:t.codecs,maxPlayoutRate:"1",frameRate:t.fps},t.color_info.primaries&&C_("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:t.color_info.primaries}),t.color_info.transfer_characteristics&&C_("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:t.color_info.transfer_characteristics}),t.color_info.matrix_coefficients&&C_("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:t.color_info.matrix_coefficients}),t.representations.map((t=>C_("representation",{id:t.uid,bandwidth:t.bitrate,width:t.width,height:t.height,codecs:t.codecs,frameRate:t.fps},C_(cb,{info:t.segment_info}))))))),h.map(((t,e)=>o(this,void 0,void 0,(function*(){return C_("adaptation-set",{id:e+c.length+d.length,mimeType:yield t.getMimeType(),contentType:"image"},t.representations.map((t=>o(this,void 0,void 0,(function*(){return C_("representation",{id:`thumbnails_${t.thumbnail_width}x${t.thumbnail_height}`,bandwidth:yield t.getBitrate(),width:t.sheet_width,height:t.sheet_height},C_("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${t.columns}x${t.rows}`}),C_("segment-template",{media:t.template_url,duration:t.template_duration,startNumber:"0"}))})))))}))))))}function hb(t,e=(t=>t),i,s,n,o,a){if(!t)throw new Nw("Streaming data not available");return E_(C_(db,{streamingData:t,transformURL:e,rejectFormat:i,cpn:s,player:n,actions:o,storyboards:a}))}function ub(t,e,i,s,n,a){return o(this,void 0,void 0,(function*(){if("UNPLAYABLE"===(null==i?void 0:i.status))throw new Nw("Video is unplayable",{error_type:"UNPLAYABLE"});if("LOGIN_REQUIRED"===(null==i?void 0:i.status))throw new Nw("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!s)throw new Nw("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});const r=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),l=pb(r,s),d=l.decipher(n);if("video+audio"===r.type&&!t.range){const t=yield e.session.http.fetch_function(`${d}&cpn=${a}`,{method:"GET",headers:P,redirect:"follow"});if(!t.ok)throw new Nw("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:t});const i=t.body;if(!i)throw new Nw("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:t});return i}const h=10485760;let u,p=t.range?t.range.start:0,m=t.range?t.range.end:h,v=!1;return new Ow.shim.ReadableStream({start(){},pull:i=>o(this,void 0,void 0,(function*(){if(!v)return(m>=(l.content_length?l.content_length:0)||t.range)&&(v=!0),new Promise(((t,s)=>o(this,void 0,void 0,(function*(){var n,o,r,l;try{u=new AbortController;const s=yield e.session.http.fetch_function(`${d}&cpn=${a}&range=${p}-${m||""}`,{method:"GET",headers:Object.assign({},P),signal:u.signal}),g=s.body;if(!g)throw new Nw("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:s});try{for(var v,f=!0,y=c(Zw(g));!(n=(v=yield y.next()).done);f=!0){l=v.value,f=!1;const t=l;i.enqueue(t)}}catch(t){o={error:t}}finally{try{f||n||!(r=y.return)||(yield r.call(y))}finally{if(o)throw o.error}}p=m+1,m+=h,t()}catch(t){s(t)}}))));i.close()})),cancel(t){return o(this,void 0,void 0,(function*(){u.abort(t)}))}},{highWaterMark:1,size:t=>t.byteLength})}))}function pb(t,e){if(!e)throw new Nw("Streaming data not available");const i=[...e.formats||[],...e.adaptive_formats||[]],s=!t.type||t.type.includes("audio"),n=!t.type||t.type.includes("video"),o=t.language||"original",a=t.quality||"best";let r=-1;const l=["best","bestefficiency"].includes(a),c="best"!==a;let d=i.filter((e=>!(s&&!e.has_audio)&&(!(n&&!e.has_video)&&(!("any"!==t.format&&!e.mime_type.includes(t.format||"mp4"))&&(!(!l&&e.quality_label!==a)&&(r<e.width&&(r=e.width),!0))))));if(!d.length)throw new Nw("No matching formats found",{options:t});if(l&&n&&(d=d.filter((t=>t.width===r))),s&&!n){const t=d.filter((t=>"original"!==o?!t.has_video&&t.language===o:!t.has_video&&t.is_original));t.length>0&&(d=t)}return c?d.sort(((t,e)=>t.bitrate-e.bitrate)):d.sort(((t,e)=>e.bitrate-t.bitrate)),d[0]}e(Z_,"getColorInfo"),e(tb,"getVideoRepresentation"),e(eb,"getVideoSet"),e(ib,"getStoryboardInfo"),e(sb,"getStoryboardMimeType"),e(nb,"getStoryboardBitrate"),e(ob,"getImageRepresentation"),e(ab,"getImageSets"),e(rb,"getStreamingInfo"),e(lb,"OTFSegmentInfo"),e(cb,"SegmentInfo"),e(db,"DashManifest"),e(hb,"toDash"),e(ub,"download"),e(pb,"chooseFormat");var mb=class{constructor(t,e){z_.set(this,void 0),q_.set(this,void 0),h(this,z_,Aw.parseResponse(e.data),"f"),h(this,q_,t,"f"),this.transcript=d(this,z_,"f").actions_memo.getType(oi).first()}selectLanguage(t){var e,i,s,n;return o(this,void 0,void 0,(function*(){const o=null===(n=null===(s=null===(i=null===(e=this.transcript.content)||void 0===e?void 0:e.footer)||void 0===i?void 0:i.language_menu)||void 0===s?void 0:s.sub_menu_items)||void 0===n?void 0:n.find((e=>e.title.toString()===t));if(!o)throw new Error(`Language not found: ${t}`);if(o.selected)return this;const a=yield d(this,q_,"f").execute("/get_transcript",{params:o.continuation});return new mb(d(this,q_,"f"),a)}))}get languages(){var t,e,i,s;return(null===(s=null===(i=null===(e=null===(t=this.transcript.content)||void 0===t?void 0:t.footer)||void 0===e?void 0:e.language_menu)||void 0===i?void 0:i.sub_menu_items)||void 0===s?void 0:s.map((t=>t.title.toString())))||[]}get selectedLanguage(){var t,e,i,s,n;return(null===(n=null===(s=null===(i=null===(e=null===(t=this.transcript.content)||void 0===t?void 0:t.footer)||void 0===e?void 0:e.language_menu)||void 0===i?void 0:i.sub_menu_items)||void 0===s?void 0:s.find((t=>t.selected)))||void 0===n?void 0:n.title.toString())||""}get page(){return d(this,z_,"f")}};e(mb,"TranscriptInfo"),z_=new WeakMap,q_=new WeakMap;var vb,fb,yb,gb,_b=mb,bb=class{constructor(t,e,i){var s,n;vb.set(this,void 0),fb.set(this,void 0),yb.set(this,void 0),gb.set(this,void 0),h(this,fb,e,"f");const o=Aw.parseResponse(t[0].data),a=(null===(s=null==t?void 0:t[1])||void 0===s?void 0:s.data)?Aw.parseResponse(t[1].data):void 0;if(h(this,vb,[o,a],"f"),h(this,yb,i,"f"),"ERROR"===(null===(n=o.playability_status)||void 0===n?void 0:n.status))throw new Nw("This video is unavailable",o.playability_status);this.streaming_data=o.streaming_data,this.playability_status=o.playability_status,h(this,gb,o.playback_tracking,"f")}toDash(t,e,i={include_thumbnails:!1}){var s;return o(this,void 0,void 0,(function*(){let n;return i.include_thumbnails&&(null===(s=d(this,vb,"f")[0].storyboards)||void 0===s?void 0:s.is(ht))&&(n=d(this,vb,"f")[0].storyboards),hb(this.streaming_data,t,e,d(this,yb,"f"),d(this,fb,"f").session.player,d(this,fb,"f"),n)}))}getStreamingInfo(t,e){var i;return rb(this.streaming_data,t,e,this.cpn,d(this,fb,"f").session.player,d(this,fb,"f"),(null===(i=d(this,vb,"f")[0].storyboards)||void 0===i?void 0:i.is(ht))?d(this,vb,"f")[0].storyboards:void 0)}chooseFormat(t){return pb(t,this.streaming_data)}download(t={}){return o(this,void 0,void 0,(function*(){return ub(t,d(this,fb,"f"),this.playability_status,this.streaming_data,d(this,fb,"f").session.player,this.cpn)}))}getTranscript(){var t;return o(this,void 0,void 0,(function*(){const e=this.page[1];if(!e)throw new Nw("Cannot get transcript from basic video info.");if(!e.engagement_panels)throw new Nw("Engagement panels not found. Video likely has no transcript.");const i=e.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!i)throw new Nw("Transcript panel not found. Video likely has no transcript.");const s=null===(t=i.content)||void 0===t?void 0:t.as(yt);if(!s)throw new Nw("Transcript continuation not found.");const n=yield s.endpoint.call(this.actions);return new _b(this.actions,n)}))}addToWatchHistory(t=M.WEB.NAME,e=M.WEB.VERSION,i="https://www."){return o(this,void 0,void 0,(function*(){if(!d(this,gb,"f"))throw new Nw("Playback tracking not available");const s={cpn:d(this,yb,"f"),fmt:251,rtn:0,rt:0},n=d(this,gb,"f").videostats_playback_url.replace("https://s.",i);return yield d(this,fb,"f").stats(n,{client_name:t,client_version:e},s)}))}get actions(){return d(this,fb,"f")}get cpn(){return d(this,yb,"f")}get page(){return d(this,vb,"f")}};e(bb,"MediaInfo"),vb=new WeakMap,fb=new WeakMap,yb=new WeakMap,gb=new WeakMap;var wb,xb=bb,Sb=class extends xb{constructor(t,e,i){var s,n,o,a,r,l,c,d,u,p,m,v,f,y,g,_,b,w,x,S,T,C,I,k,E,A,R,M,P,L,D,O,N,B,V,U,H,F,j,W,G,$;super(t,e,i),wb.set(this,void 0);const[Y,K]=this.page;if(Y.microformat&&!(null===(s=Y.microformat)||void 0===s?void 0:s.is($u,Xd)))throw new Nw("Invalid microformat",Y.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},Y.video_details),{embed:(null===(n=Y.microformat)||void 0===n?void 0:n.is($u))?null===(o=Y.microformat)||void 0===o?void 0:o.embed:null,channel:(null===(a=Y.microformat)||void 0===a?void 0:a.is($u))?null===(r=Y.microformat)||void 0===r?void 0:r.channel:null,is_unlisted:null===(l=Y.microformat)||void 0===l?void 0:l.is_unlisted,is_family_safe:null===(c=Y.microformat)||void 0===c?void 0:c.is_family_safe,category:(null===(d=Y.microformat)||void 0===d?void 0:d.is($u))?null===(u=Y.microformat)||void 0===u?void 0:u.category:null,has_ypc_metadata:(null===(p=Y.microformat)||void 0===p?void 0:p.is($u))?null===(m=Y.microformat)||void 0===m?void 0:m.has_ypc_metadata:null,start_timestamp:(null===(v=Y.microformat)||void 0===v?void 0:v.is($u))?Y.microformat.start_timestamp:null,view_count:(null===(f=Y.microformat)||void 0===f?void 0:f.is($u))&&isNaN(null===(y=Y.video_details)||void 0===y?void 0:y.view_count)?Y.microformat.view_count:null===(g=Y.video_details)||void 0===g?void 0:g.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=Y.annotations,this.storyboards=Y.storyboards,this.endscreen=Y.endscreen,this.captions=Y.captions,this.cards=Y.cards,this.streaming_data){const t=this.streaming_data.adaptive_formats.find((t=>{var e;return null===(e=t.audio_track)||void 0===e?void 0:e.audio_is_default}));if(t)this.streaming_data.formats.forEach((e=>e.language=t.language));else if(void 0!==(null===(_=this.captions)||void 0===_?void 0:_.default_audio_track_index)&&(null===(b=this.captions)||void 0===b?void 0:b.audio_tracks)&&this.captions.caption_tracks){const t=this.captions.audio_tracks[this.captions.default_audio_track_index].default_caption_track_index||0,e=this.captions.caption_tracks[t].language_code;this.streaming_data.adaptive_formats.forEach((t=>{t.has_audio&&(t.language=e)})),this.streaming_data.formats.forEach((t=>t.language=e))}}const z=null===(w=null==K?void 0:K.contents)||void 0===w?void 0:w.item().as(Qv),q=null==z?void 0:z.results,X=null==z?void 0:z.secondary_results;if(q&&X){if((null===(x=Y.microformat)||void 0===x?void 0:x.is($u))&&"Gaming"===(null===(S=Y.microformat)||void 0===S?void 0:S.category)){const t=null===(I=null===(C=null===(T=q.firstOfType(mf))||void 0===T?void 0:T.metadata)||void 0===C?void 0:C.rows)||void 0===I?void 0:I.firstOfType(Qp);(null==t?void 0:t.is(Qp))&&(this.game_info={title:null===(E=null===(k=null==t?void 0:t.contents)||void 0===k?void 0:k.firstOfType(qp))||void 0===E?void 0:E.title,release_year:null===(R=null===(A=null==t?void 0:t.contents)||void 0===A?void 0:A.firstOfType(qp))||void 0===R?void 0:R.subtitle})}this.primary_info=q.firstOfType(uf),this.secondary_info=q.firstOfType(mf),this.merchandise=q.firstOfType(Hd),this.related_chip_cloud=null===(M=X.firstOfType(Fp))||void 0===M?void 0:M.content.as(Ds),(null==z?void 0:z.playlist)&&(this.playlist=z.playlist),this.watch_next_feed=(null===(P=X.firstOfType(Ll))||void 0===P?void 0:P.contents)||X,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&(null===(L=this.watch_next_feed.at(-1))||void 0===L?void 0:L.is(yt))&&h(this,wb,null===(D=this.watch_next_feed.pop())||void 0===D?void 0:D.as(yt),"f"),this.player_overlays=null===(O=null==K?void 0:K.player_overlays)||void 0===O?void 0:O.item().as(Qu),(null==z?void 0:z.autoplay)&&(this.autoplay=z.autoplay);const t=null===(B=null===(N=this.primary_info)||void 0===N?void 0:N.menu)||void 0===B?void 0:B.top_level_buttons.firstOfType(_m);(null===(V=null==t?void 0:t.like_button)||void 0===V?void 0:V.is(Ai))&&(null===(U=null==t?void 0:t.dislike_button)||void 0===U?void 0:U.is(Ai))&&(this.basic_info.like_count=null===(H=null==t?void 0:t.like_button)||void 0===H?void 0:H.like_count,this.basic_info.is_liked=null===(F=null==t?void 0:t.like_button)||void 0===F?void 0:F.is_toggled,this.basic_info.is_disliked=null===(j=null==t?void 0:t.dislike_button)||void 0===j?void 0:j.is_toggled);const e=null===(W=q.get({target_id:"comments-entry-point"}))||void 0===W?void 0:W.as(Ll);this.comments_entry_point_header=null===(G=null==e?void 0:e.contents)||void 0===G?void 0:G.firstOfType(Ko),this.livechat=null===($=null==K?void 0:K.contents_memo)||void 0===$?void 0:$.getType(Bl).first()}}selectFilter(t){var e,i,s,n;return o(this,void 0,void 0,(function*(){if(!this.related_chip_cloud)throw new Nw("Chip cloud not found, cannot apply filter");let o;if("string"==typeof t){const s=null===(i=null===(e=this.related_chip_cloud)||void 0===e?void 0:e.chips)||void 0===i?void 0:i.get({text:t});if(!s)throw new Nw("Invalid filter",{available_filters:this.filters});o=s}else{if(!(null==t?void 0:t.is(Ps)))throw new Nw("Invalid cloud chip",t);o=t}if(o.is_selected)return this;const a=yield null===(s=o.endpoint)||void 0===s?void 0:s.call(this.actions,{parse:!0}),r=null===(n=null==a?void 0:a.on_response_received_endpoints)||void 0===n?void 0:n.get({target_id:"watch-next-feed"});return this.watch_next_feed=null==r?void 0:r.contents,this}))}addToWatchHistory(){const t=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return o(this,void 0,void 0,(function*(){return t.addToWatchHistory.call(this)}))}getWatchNextContinuation(){var t,e,i,s,n;return o(this,void 0,void 0,(function*(){if(!d(this,wb,"f"))throw new Nw("Watch next feed continuation not found");const o=yield null===(t=d(this,wb,"f"))||void 0===t?void 0:t.endpoint.call(this.actions,{parse:!0}),a=null===(e=null==o?void 0:o.on_response_received_endpoints)||void 0===e?void 0:e.get({type:"appendContinuationItemsAction"});if(!a)throw new Nw("AppendContinuationItemsAction not found");return this.watch_next_feed=null==a?void 0:a.contents,(null===(s=null===(i=this.watch_next_feed)||void 0===i?void 0:i.at(-1))||void 0===s?void 0:s.is(yt))?h(this,wb,null===(n=this.watch_next_feed.pop())||void 0===n?void 0:n.as(yt),"f"):h(this,wb,void 0,"f"),this}))}like(){var t,e;return o(this,void 0,void 0,(function*(){const i=null===(e=null===(t=this.primary_info)||void 0===t?void 0:t.menu)||void 0===e?void 0:e.top_level_buttons.firstOfType(_m),s=null==i?void 0:i.like_button;if(!s)throw new Nw("Like button not found",{video_id:this.basic_info.id});if(!s.is(Ai))throw new Nw("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new Nw("This video is already liked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)}))}dislike(){var t,e;return o(this,void 0,void 0,(function*(){const i=null===(e=null===(t=this.primary_info)||void 0===t?void 0:t.menu)||void 0===e?void 0:e.top_level_buttons.firstOfType(_m),s=null==i?void 0:i.dislike_button;if(!s)throw new Nw("Dislike button not found",{video_id:this.basic_info.id});if(!s.is(Ai))throw new Nw("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new Nw("This video is already disliked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)}))}removeRating(){var t,e;return o(this,void 0,void 0,(function*(){let i;const s=null===(e=null===(t=this.primary_info)||void 0===t?void 0:t.menu)||void 0===e?void 0:e.top_level_buttons.firstOfType(_m),n=null==s?void 0:s.like_button,o=null==s?void 0:s.dislike_button;if(!(null==n?void 0:n.is(Ai))||!(null==o?void 0:o.is(Ai)))throw new Nw("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if((null==n?void 0:n.is_toggled)?i=n:(null==o?void 0:o.is_toggled)&&(i=o),!i)throw new Nw("This video is not liked/disliked",{video_id:this.basic_info.id});return yield i.toggled_endpoint.call(this.actions)}))}getLiveChat(){if(!this.livechat)throw new Nw("Live Chat is not available",{video_id:this.basic_info.id});return new r_(this)}getTrailerInfo(){var t,e;if(this.has_trailer){const i=null===(e=null===(t=this.playability_status.error_screen)||void 0===t?void 0:t.as(Wu).trailer)||void 0===e?void 0:e.player_response;if(i)return new Sb([{data:i}],this.actions,this.cpn)}return null}get filters(){var t,e;return(null===(e=null===(t=this.related_chip_cloud)||void 0===t?void 0:t.chips)||void 0===e?void 0:e.map((t=>{var e;return null===(e=t.text)||void 0===e?void 0:e.toString()})))||[]}get wn_has_continuation(){return!!d(this,wb,"f")}get autoplay_video_endpoint(){var t,e,i;return(null===(i=null===(e=null===(t=this.autoplay)||void 0===t?void 0:t.sets)||void 0===e?void 0:e[0])||void 0===i?void 0:i.autoplay_video)||null}get has_trailer(){var t;return!!(null===(t=this.playability_status.error_screen)||void 0===t?void 0:t.is(Wu))}get music_tracks(){var t,e,i,s,n,o;const a=null===(e=null===(t=this.page[1])||void 0===t?void 0:t.engagement_panels)||void 0===e?void 0:e.filter((t=>{var e;return null===(e=t.content)||void 0===e?void 0:e.is(Se)}));if(void 0!==a&&a.length>0){const t=null===(n=null===(s=null===(i=a[0].content)||void 0===i?void 0:i.as(Se))||void 0===s?void 0:s.items)||void 0===n?void 0:n.filterType(ve);if(void 0!==t&&t.length>0)return null===(o=t[0].carousel_lockups)||void 0===o?void 0:o.map((t=>{var e,i,s,n,o,a,r,l,c,d,h,u,p,m,v,f,y,g,_;let b,w,x,S,T,C;b=null===(i=null===(e=t.video_lockup)||void 0===e?void 0:e.title)||void 0===i?void 0:i.toString(),T=null===(s=t.video_lockup)||void 0===s?void 0:s.endpoint.payload.videoId;for(let e=0;e<t.info_rows.length;e++){const i=t.info_rows[e];if(void 0===i.info_row_expand_status_key)if(void 0===b){if(b=(null===(n=i.default_metadata)||void 0===n?void 0:n.toString())||(null===(o=i.expanded_metadata)||void 0===o?void 0:o.toString()),void 0===T){const t=(null===(a=i.default_metadata)||void 0===a?void 0:a.endpoint)||(null===(r=i.expanded_metadata)||void 0===r?void 0:r.endpoint);T=null===(l=null==t?void 0:t.payload)||void 0===l?void 0:l.videoId}}else x=(null===(c=i.default_metadata)||void 0===c?void 0:c.toString())||(null===(d=i.expanded_metadata)||void 0===d?void 0:d.toString());else{if(-1!==(null===(h=i.info_row_expand_status_key)||void 0===h?void 0:h.indexOf("structured-description-music-section-artists-row-state-id"))&&(w=(null===(u=i.default_metadata)||void 0===u?void 0:u.toString())||(null===(p=i.expanded_metadata)||void 0===p?void 0:p.toString()),void 0===C)){const t=(null===(m=i.default_metadata)||void 0===m?void 0:m.endpoint)||(null===(v=i.expanded_metadata)||void 0===v?void 0:v.endpoint);C=null===(f=null==t?void 0:t.payload)||void 0===f?void 0:f.browseId}-1!==(null===(y=i.info_row_expand_status_key)||void 0===y?void 0:y.indexOf("structured-description-music-section-licenses-row-state-id"))&&(S=(null===(g=i.default_metadata)||void 0===g?void 0:g.toString())||(null===(_=i.expanded_metadata)||void 0===_?void 0:_.toString()))}}return{song:b,artist:w,album:x,license:S,videoId:T,channelId:C}}))}return[]}};e(Sb,"VideoInfo"),wb=new WeakMap;var Tb,Cb=Sb,Ib={};i(Ib,{Album:()=>Rb,Artist:()=>Lb,Explore:()=>Vb,HomeFeed:()=>Yb,Library:()=>iw,LibraryContinuation:()=>zb,Playlist:()=>aw,Recap:()=>pw,Search:()=>vw,TrackInfo:()=>gw});var kb=class{constructor(t){var e,i,s;if(Tb.set(this,void 0),h(this,Tb,Aw.parseResponse(t.data),"f"),this.header=null===(e=d(this,Tb,"f").header)||void 0===e?void 0:e.item().as($h),this.url=(null===(i=d(this,Tb,"f").microformat)||void 0===i?void 0:i.as(Xd).url_canonical)||null,!d(this,Tb,"f").contents_memo)throw new Error("No contents found in the response");this.contents=null===(s=d(this,Tb,"f").contents_memo.getType(yu))||void 0===s?void 0:s.first().contents,this.sections=d(this,Tb,"f").contents_memo.getType(Fh)||[]}get page(){return d(this,Tb,"f")}};e(kb,"Album"),Tb=new WeakMap;var Eb,Ab,Rb=kb,Mb=class{constructor(t,e){var i,s,n;Eb.set(this,void 0),Ab.set(this,void 0),h(this,Eb,Aw.parseResponse(t.data),"f"),h(this,Ab,e,"f"),this.header=null===(i=this.page.header)||void 0===i?void 0:i.item().as(eu,ku,Zh);const o=(null===(s=d(this,Eb,"f").contents_memo)||void 0===s?void 0:s.getType(yu))||[],a=(null===(n=d(this,Eb,"f").contents_memo)||void 0===n?void 0:n.getType(Fh))||[];this.sections=[...o,...a]}getAllSongs(){var t,e;return o(this,void 0,void 0,(function*(){const i=this.sections.filter((t=>"MusicShelf"===t.type));if(!i.length)throw new Nw("Could not find any node of type MusicShelf.");const s=i.find((t=>"Songs"===t.title.toString()));if(!s)throw new Nw("Could not find target shelf (Songs).");if(!s.endpoint)throw new Nw("Target shelf (Songs) did not have an endpoint.");const n=yield s.endpoint.call(d(this,Ab,"f"),{client:"YTMUSIC",parse:!0});return null===(e=null===(t=n.contents_memo)||void 0===t?void 0:t.getType(ru))||void 0===e?void 0:e.first()}))}get page(){return d(this,Eb,"f")}};e(Mb,"Artist"),Eb=new WeakMap,Ab=new WeakMap;var Pb,Lb=Mb,Db=class{constructor(t){var e,i,s;Pb.set(this,void 0),h(this,Pb,Aw.parseResponse(t.data),"f");const n=null===(e=d(this,Pb,"f").contents)||void 0===e?void 0:e.item().as(Km).tabs.get({selected:!0});if(!n)throw new Nw("Could not find target tab.");const o=null===(i=n.content)||void 0===i?void 0:i.as(Mt);if(!o)throw new Nw("Target tab did not have any content.");this.top_buttons=(null===(s=o.contents.firstOfType(Tr))||void 0===s?void 0:s.items.as(bh))||[],this.sections=o.contents.filterType(Fh)}get page(){return d(this,Pb,"f")}};e(Db,"Explore"),Pb=new WeakMap;var Ob,Nb,Bb,Vb=Db,Ub=class{constructor(t,e){var i,s,n,o,a,r;Ob.set(this,void 0),Nb.set(this,void 0),Bb.set(this,void 0),h(this,Nb,e,"f"),h(this,Ob,Aw.parseResponse(t.data),"f");const l=null===(i=d(this,Ob,"f").contents)||void 0===i?void 0:i.item().as(Km).tabs.get({selected:!0});if(!l)throw new Nw("Could not find Home tab.");if(null===l.content){if(!d(this,Ob,"f").continuation_contents)throw new Nw("Continuation did not have any content.");return h(this,Bb,d(this,Ob,"f").continuation_contents.as(oy).continuation,"f"),void(this.sections=null===(s=d(this,Ob,"f").continuation_contents.as(oy).contents)||void 0===s?void 0:s.as(Fh))}this.header=null===(o=null===(n=l.content)||void 0===n?void 0:n.as(Mt).header)||void 0===o?void 0:o.as(Ds),h(this,Bb,null===(a=l.content)||void 0===a?void 0:a.as(Mt).continuation,"f"),this.sections=null===(r=l.content)||void 0===r?void 0:r.as(Mt).contents.as(Fh,Cu)}getContinuation(){return o(this,void 0,void 0,(function*(){if(!d(this,Bb,"f"))throw new Nw("Continuation not found.");const t=yield d(this,Nb,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,Bb,"f")});return new Ub(t,d(this,Nb,"f"))}))}applyFilter(t){var e,i;return o(this,void 0,void 0,(function*(){let s;if("string"==typeof t){if(s=null===(i=null===(e=this.header)||void 0===e?void 0:e.chips)||void 0===i?void 0:i.as(Ps).get({text:t}),!s)throw new Nw("Could not find filter with given name.",{available_filters:this.filters})}else(null==t?void 0:t.is(Ps))&&(s=t);if(!s)throw new Nw("Invalid filter",{available_filters:this.filters});if(null==s?void 0:s.is_selected)return this;if(!s.endpoint)throw new Nw("Selected filter does not have an endpoint.");const n=yield s.endpoint.call(d(this,Nb,"f"),{client:"YTMUSIC"});return new Ub(n,d(this,Nb,"f"))}))}get filters(){var t,e;return(null===(e=null===(t=this.header)||void 0===t?void 0:t.chips)||void 0===e?void 0:e.as(Ps).map((t=>t.text)))||[]}get has_continuation(){return!!d(this,Bb,"f")}get page(){return d(this,Ob,"f")}};e(Ub,"HomeFeed"),Ob=new WeakMap,Nb=new WeakMap,Bb=new WeakMap;var Hb,Fb,jb,Wb,Gb,$b,Yb=Ub,Kb=class{constructor(t,e){var i,s,n,o,a;Hb.set(this,void 0),Fb.set(this,void 0),jb.set(this,void 0),h(this,Hb,Aw.parseResponse(t.data),"f"),h(this,Fb,e,"f");const r=null===(i=d(this,Hb,"f").contents_memo)||void 0===i?void 0:i.getType(Mt).first();this.header=null===(s=null==r?void 0:r.header)||void 0===s?void 0:s.as(_u),this.contents=null===(n=null==r?void 0:r.contents)||void 0===n?void 0:n.as(Tr,yu),h(this,jb,null===(a=null===(o=this.contents)||void 0===o?void 0:o.find((t=>t.continuation)))||void 0===a?void 0:a.continuation,"f")}applySort(t){var e,i,s,n,a,r,l,c,h,u;return o(this,void 0,void 0,(function*(){let o;if("string"==typeof t){const s=null===(e=d(this,Hb,"f").contents_memo)||void 0===e?void 0:e.getType(wu).first(),n=null===(i=null==s?void 0:s.menu)||void 0===i?void 0:i.options.filter((t=>t instanceof Ee));if(o=null==n?void 0:n.find((e=>e.title===t)),!o)throw new Nw(`Sort option "${t}" not found`,{available_filters:n.map((t=>t.title))})}else t instanceof Ee&&(o=t);if(!o)throw new Nw("Invalid sort option");if(o.selected)return this;const p=null===(r=null===(a=null===(n=null===(s=o.endpoint)||void 0===s?void 0:s.payload)||void 0===n?void 0:n.commands)||void 0===a?void 0:a.find((t=>t.browseSectionListReloadEndpoint)))||void 0===r?void 0:r.browseSectionListReloadEndpoint;if(!p)throw new Nw("Failed to find sort option command");const m=yield d(this,Fb,"f").execute("/browse",{client:"YTMUSIC",continuation:p.continuation.reloadContinuationData.continuation,parse:!0}),v=null===(c=null===(l=d(this,Hb,"f").contents_memo)||void 0===l?void 0:l.getType(Ee))||void 0===c?void 0:c.find((t=>t.selected));return v&&(v.selected=!1),o.selected=!0,this.contents=null===(u=null===(h=m.continuation_contents)||void 0===h?void 0:h.as(oy).contents)||void 0===u?void 0:u.as(Tr,yu),this}))}applyFilter(t){var e,i,s,n;return o(this,void 0,void 0,(function*(){let o;const a=null===(e=d(this,Hb,"f").contents_memo)||void 0===e?void 0:e.getType(Ds).first();if("string"==typeof t){if(o=null==a?void 0:a.chips.get({text:t}),!o)throw new Nw(`Filter "${t}" not found`,{available_filters:this.filters})}else t instanceof Ps&&(o=t);if(!o)throw new Nw("Invalid filter",t);const r=new z(null===(n=null===(s=null===(i=o.endpoint)||void 0===i?void 0:i.payload)||void 0===s?void 0:s.commands)||void 0===n?void 0:n[0]),l=yield r.call(d(this,Fb,"f"),{client:"YTMUSIC"});return new Kb(l,d(this,Fb,"f"))}))}getContinuation(){return o(this,void 0,void 0,(function*(){if(!d(this,jb,"f"))throw new Nw("No continuation available");const t=yield d(this,Fb,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,jb,"f")});return new zb(t,d(this,Fb,"f"))}))}get has_continuation(){return!!d(this,jb,"f")}get sort_options(){var t,e;const i=null===(t=d(this,Hb,"f").contents_memo)||void 0===t?void 0:t.getType(wu).first();return(null===(e=null==i?void 0:i.menu)||void 0===e?void 0:e.options.filter((t=>t instanceof Ee))).map((t=>t.title))}get filters(){var t,e;return(null===(e=null===(t=d(this,Hb,"f").contents_memo)||void 0===t?void 0:t.getType(Ds))||void 0===e?void 0:e.first().chips.map((t=>t.text)))||[]}get page(){return d(this,Hb,"f")}};e(Kb,"Library"),Hb=new WeakMap,Fb=new WeakMap,jb=new WeakMap;var zb=class{constructor(t,e){if(Wb.set(this,void 0),Gb.set(this,void 0),$b.set(this,void 0),h(this,Wb,Aw.parseResponse(t.data),"f"),h(this,Gb,e,"f"),!d(this,Wb,"f").continuation_contents)throw new Nw("No continuation contents found");this.contents=d(this,Wb,"f").continuation_contents.as(ry,ly),h(this,$b,this.contents.continuation||null,"f")}getContinuation(){return o(this,void 0,void 0,(function*(){if(!d(this,$b,"f"))throw new Nw("No continuation available");const t=yield d(this,Gb,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,$b,"f")});return new zb(t,d(this,Gb,"f"))}))}get has_continuation(){return!!d(this,$b,"f")}get page(){return d(this,Wb,"f")}};e(zb,"LibraryContinuation"),Wb=new WeakMap,Gb=new WeakMap,$b=new WeakMap;var qb,Xb,Qb,Jb,Zb,tw,ew,iw=Kb,sw=class{constructor(t,e){var i,s,n,o,a,r,l;if(qb.add(this),Xb.set(this,void 0),Qb.set(this,void 0),Jb.set(this,void 0),Zb.set(this,void 0),tw.set(this,void 0),h(this,Qb,e,"f"),h(this,Xb,Aw.parseResponse(t.data),"f"),h(this,Zb,null,"f"),h(this,tw,null,"f"),d(this,Xb,"f").continuation_contents){const t=null===(i=d(this,Xb,"f").continuation_contents)||void 0===i?void 0:i.as(ay);this.items=t.contents,h(this,Jb,t.continuation,"f")}else"MusicEditablePlaylistDetailHeader"===(null===(s=d(this,Xb,"f").header)||void 0===s?void 0:s.item().type)?this.header=null===(o=null===(n=d(this,Xb,"f").header)||void 0===n?void 0:n.item().as(qh).header)||void 0===o?void 0:o.as($h):this.header=null===(a=d(this,Xb,"f").header)||void 0===a?void 0:a.item().as($h),this.items=(null===(r=d(this,Xb,"f").contents_memo)||void 0===r?void 0:r.getType(ru).first().contents)||null,h(this,Jb,(null===(l=d(this,Xb,"f").contents_memo)||void 0===l?void 0:l.getType(ru).first().continuation)||null,"f")}getContinuation(){return o(this,void 0,void 0,(function*(){if(!d(this,Jb,"f"))throw new Nw("Continuation not found.");const t=yield d(this,Qb,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,Jb,"f")});return new sw(t,d(this,Qb,"f"))}))}getRelated(){var t,e,i,s,n;return o(this,void 0,void 0,(function*(){let o=null===(e=null===(t=d(this,Xb,"f").contents_memo)||void 0===t?void 0:t.getType(Mt))||void 0===e?void 0:e[0].continuation;for(;o;){const t=yield d(this,Qb,"f").execute("/browse",{client:"YTMUSIC",continuation:o,parse:!0}),e=null===(i=t.continuation_contents)||void 0===i?void 0:i.as(oy),a=null===(s=null==e?void 0:e.contents)||void 0===s?void 0:s.as(Fh,yu),r=null===(n=null==a?void 0:a.matchCondition((t=>t.is(Fh))))||void 0===n?void 0:n.as(Fh);if(r)return r;o=null==e?void 0:e.continuation}throw new Nw("Target section not found.")}))}getSuggestions(t=!0){return o(this,void 0,void 0,(function*(){const e=t||!d(this,Zb,"f")?d(this,qb,"m",ew).call(this):Promise.resolve(null),i=yield e;return i&&(h(this,Zb,i.items,"f"),h(this,tw,i.continuation,"f")),(null==i?void 0:i.items)||d(this,Zb,"f")}))}get page(){return d(this,Xb,"f")}get has_continuation(){return!!d(this,Jb,"f")}};e(sw,"Playlist"),Xb=new WeakMap,Qb=new WeakMap,Jb=new WeakMap,Zb=new WeakMap,tw=new WeakMap,qb=new WeakSet,ew=e((function(){var t,e,i,s,n;return o(this,void 0,void 0,(function*(){const o=d(this,tw,"f")||(null===(e=null===(t=d(this,Xb,"f").contents_memo)||void 0===t?void 0:t.get("SectionList"))||void 0===e?void 0:e[0].as(Mt).continuation);if(o){const t=yield d(this,Qb,"f").execute("/browse",{client:"YTMUSIC",continuation:o,parse:!0}),e=null===(i=t.continuation_contents)||void 0===i?void 0:i.as(oy),a=null===(s=null==e?void 0:e.contents)||void 0===s?void 0:s.as(Fh,yu),r=null===(n=null==a?void 0:a.matchCondition((t=>t.is(yu))))||void 0===n?void 0:n.as(yu);return{items:(null==r?void 0:r.contents)||[],continuation:(null==r?void 0:r.continuation)||null}}return{items:[],continuation:null}}))}),"_Playlist_fetchSuggestions");var nw,ow,aw=sw,rw=class{constructor(t,e){var i,s,n,o,a,r,l;nw.set(this,void 0),ow.set(this,void 0),h(this,nw,Aw.parseResponse(t.data),"f"),h(this,ow,e,"f");const c=null===(i=d(this,nw,"f").header)||void 0===i?void 0:i.item();this.header=(null==c?void 0:c.is(Qh))?null===(o=null===(n=null===(s=d(this,nw,"f").header)||void 0===s?void 0:s.item().as(Qh).element)||void 0===n?void 0:n.model)||void 0===o?void 0:o.as(cl):null===(a=d(this,nw,"f").header)||void 0===a?void 0:a.item().as(Zh);const u=null===(r=d(this,nw,"f").contents)||void 0===r?void 0:r.item().as(Km).tabs.firstOfType($m);if(!u)throw new Nw("Target tab not found");this.sections=null===(l=u.content)||void 0===l?void 0:l.as(Mt).contents.as(Ll,Fh,Ca)}getPlaylist(){return o(this,void 0,void 0,(function*(){if(!this.header)throw new Nw("Header not found");if(!this.header.is(cl))throw new Nw("Recap playlist not available, check back later.");const t=this.header.panels[0].text_on_tap_endpoint,e=yield t.call(d(this,ow,"f"),{client:"YTMUSIC"});return new aw(e,d(this,ow,"f"))}))}get page(){return d(this,nw,"f")}};e(rw,"Recap"),nw=new WeakMap,ow=new WeakMap;var lw,cw,dw,hw,uw,pw=rw,mw=class{constructor(t,e,i){var s,n,o;if(lw.set(this,void 0),cw.set(this,void 0),dw.set(this,void 0),h(this,cw,e,"f"),h(this,lw,Aw.parseResponse(t.data),"f"),!d(this,lw,"f").contents||!d(this,lw,"f").contents_memo)throw new Nw("Response did not contain any contents.");const a=d(this,lw,"f").contents.item().as(cv).tabs.get({selected:!0});if(!a)throw new Nw("Could not find target tab.");const r=null===(s=a.content)||void 0===s?void 0:s.as(Mt);if(!r)throw new Nw("Target tab did not have any content.");this.header=null===(n=r.header)||void 0===n?void 0:n.as(Ds),this.contents=r.contents.as(yu,mh,Ll),i&&h(this,dw,null===(o=this.contents.firstOfType(yu))||void 0===o?void 0:o.continuation,"f")}getMore(t){return o(this,void 0,void 0,(function*(){if(!t||!t.endpoint)throw new Nw("Cannot retrieve more items for this shelf because it does not have an endpoint.");const e=yield t.endpoint.call(d(this,cw,"f"),{client:"YTMUSIC"});if(!e)throw new Nw("Endpoint did not return any data");return new mw(e,d(this,cw,"f"),!0)}))}getContinuation(){return o(this,void 0,void 0,(function*(){if(!d(this,dw,"f"))throw new Nw("Continuation not found.");const t=yield d(this,cw,"f").execute("/search",{continuation:d(this,dw,"f"),client:"YTMUSIC"});return new fw(d(this,cw,"f"),t)}))}applyFilter(t){var e,i;return o(this,void 0,void 0,(function*(){let s;if("string"==typeof t){if(s=null===(i=null===(e=this.header)||void 0===e?void 0:e.chips)||void 0===i?void 0:i.as(Ps).get({text:t}),!s)throw new Nw("Could not find filter with given name.",{available_filters:this.filters})}else(null==t?void 0:t.is(Ps))&&(s=t);if(!s)throw new Nw("Invalid filter",{available_filters:this.filters});if(null==s?void 0:s.is_selected)return this;if(!s.endpoint)throw new Nw("Selected filter does not have an endpoint.");const n=yield s.endpoint.call(d(this,cw,"f"),{client:"YTMUSIC"});return new mw(n,d(this,cw,"f"),!0)}))}get filters(){var t,e;return(null===(e=null===(t=this.header)||void 0===t?void 0:t.chips)||void 0===e?void 0:e.as(Ps).map((t=>t.text)))||[]}get has_continuation(){return!!d(this,dw,"f")}get did_you_mean(){var t;return null===(t=d(this,lw,"f").contents_memo)||void 0===t?void 0:t.getType(ja).first()}get showing_results_for(){var t;return null===(t=d(this,lw,"f").contents_memo)||void 0===t?void 0:t.getType(Om).first()}get message(){var t;return null===(t=d(this,lw,"f").contents_memo)||void 0===t?void 0:t.getType(Ca).first()}get songs(){var t;return null===(t=this.contents)||void 0===t?void 0:t.filterType(yu).find((t=>"Songs"===t.title.toString()))}get videos(){var t;return null===(t=this.contents)||void 0===t?void 0:t.filterType(yu).find((t=>"Videos"===t.title.toString()))}get albums(){var t;return null===(t=this.contents)||void 0===t?void 0:t.filterType(yu).find((t=>"Albums"===t.title.toString()))}get artists(){var t;return null===(t=this.contents)||void 0===t?void 0:t.filterType(yu).find((t=>"Artists"===t.title.toString()))}get playlists(){var t;return null===(t=this.contents)||void 0===t?void 0:t.filterType(yu).find((t=>"Community playlists"===t.title.toString()))}get results(){var t,e;return null===(e=null===(t=this.contents)||void 0===t?void 0:t.firstOfType(yu))||void 0===e?void 0:e.contents}get sections(){var t;return null===(t=this.contents)||void 0===t?void 0:t.filterType(yu)}get page(){return d(this,lw,"f")}};e(mw,"Search"),lw=new WeakMap,cw=new WeakMap,dw=new WeakMap;var vw=mw,fw=class{constructor(t,e){var i,s;hw.set(this,void 0),uw.set(this,void 0),h(this,hw,t,"f"),h(this,uw,Aw.parseResponse(e.data),"f"),this.header=null===(i=d(this,uw,"f").header)||void 0===i?void 0:i.item().as(Zh),this.contents=null===(s=d(this,uw,"f").continuation_contents)||void 0===s?void 0:s.as(ry)}getContinuation(){var t;return o(this,void 0,void 0,(function*(){if(!(null===(t=this.contents)||void 0===t?void 0:t.continuation))throw new Nw("Continuation not found.");const e=yield d(this,hw,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new fw(d(this,hw,"f"),e)}))}get has_continuation(){var t;return!!(null===(t=this.contents)||void 0===t?void 0:t.continuation)}get page(){return d(this,uw,"f")}};e(fw,"SearchContinuation"),hw=new WeakMap,uw=new WeakMap;var yw=class extends xb{constructor(t,e,i){var s,n,o,a,r,l,c,d,h;super(t,e,i);const[u,p]=this.page;if(!(null===(s=u.microformat)||void 0===s?void 0:s.is(Xd)))throw new Nw("Invalid microformat",u.microformat);if(this.basic_info=Object.assign(Object.assign({},u.video_details),{description:null===(n=u.microformat)||void 0===n?void 0:n.description,is_unlisted:null===(o=u.microformat)||void 0===o?void 0:o.is_unlisted,is_family_safe:null===(a=u.microformat)||void 0===a?void 0:a.is_family_safe,url_canonical:null===(r=u.microformat)||void 0===r?void 0:r.url_canonical,tags:null===(l=u.microformat)||void 0===l?void 0:l.tags}),this.storyboards=u.storyboards,this.endscreen=u.endscreen,p){const t=null===(d=null===(c=p.contents_memo)||void 0===c?void 0:c.getType(Tf))||void 0===d?void 0:d[0];this.tabs=null==t?void 0:t.tabs.array().as($m),this.current_video_endpoint=p.current_video_endpoint,this.player_overlays=null===(h=p.player_overlays)||void 0===h?void 0:h.item().as(Qu)}}getTab(t){var e,i;return o(this,void 0,void 0,(function*(){if(!this.tabs)throw new Nw("Could not find any tab");const s=this.tabs.get({title:t})||this.tabs.matchCondition((e=>{var i,s;return(null===(s=null===(i=e.endpoint.payload.browseEndpointContextSupportedConfigs)||void 0===i?void 0:i.browseEndpointContextMusicConfig)||void 0===s?void 0:s.pageType)===t}))||(null===(e=this.tabs)||void 0===e?void 0:e[0]);if(!s)throw new Nw(`Tab "${t}" not found`,{available_tabs:this.available_tabs});if(s.content)return s.content;const n=yield s.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if("Message"===(null===(i=n.contents)||void 0===i?void 0:i.item().type))return n.contents.item().as(Ca);if(!n.contents)throw new Nw("Page contents was empty",n);return n.contents.item().as(Mt).contents}))}getUpNext(t=!0){var e,i;return o(this,void 0,void 0,(function*(){const s=yield this.getTab("Up next");if(!s||!s.content)throw new Nw("Music queue was empty, the video id is probably invalid.",s);const n=s.content.as(pu);if(!n.playlist_id&&t){const t=n.contents.firstOfType(Ci);if(!t)throw new Nw("Automix item not found");const s=yield null===(e=t.playlist_video)||void 0===e?void 0:e.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!s||!s.contents_memo)throw new Nw("Could not fetch automix");return null===(i=s.contents_memo.getType(pu))||void 0===i?void 0:i[0]}return n}))}getRelated(){return o(this,void 0,void 0,(function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")}))}getLyrics(){return o(this,void 0,void 0,(function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(Wh)}))}addToWatchHistory(){const t=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return o(this,void 0,void 0,(function*(){return t.addToWatchHistory.call(this,M.YTMUSIC.NAME,M.YTMUSIC.VERSION,"https://music.")}))}get available_tabs(){return this.tabs?this.tabs.map((t=>t.title)):[]}};e(yw,"TrackInfo");var gw=yw,_w={};i(_w,{Channel:()=>ww,HomeFeed:()=>Sw,Search:()=>Cw,VideoInfo:()=>Ew});var bw=class extends tg{constructor(t,e,i=!1){var s,n;super(t,e,i),this.header=null===(s=this.page.header)||void 0===s?void 0:s.item().as(Ji),this.contents=this.memo.getType(Ll).first()||(null===(n=this.page.continuation_contents)||void 0===n?void 0:n.as(ey))}getContinuation(){var t;return o(this,void 0,void 0,(function*(){const e=yield this.actions.execute("/browse",{continuation:null===(t=this.contents)||void 0===t?void 0:t.continuation,client:"YTKIDS"});return new bw(this.actions,e)}))}get has_continuation(){var t;return!!(null===(t=this.contents)||void 0===t?void 0:t.continuation)}};e(bw,"Channel");var ww=bw,xw=class extends tg{constructor(t,e,i=!1){var s,n;super(t,e,i),this.header=null===(s=this.page.header)||void 0===s?void 0:s.item().as(Rf),this.contents=null===(n=this.page.contents)||void 0===n?void 0:n.item().as(Pf)}selectCategoryTab(t){var e;return o(this,void 0,void 0,(function*(){let i;if("string"==typeof t?i=null===(e=this.header)||void 0===e?void 0:e.category_tabs.find((e=>e.title.toString()===t)):(null==t?void 0:t.is(Ef))&&(i=t),!i)throw new Nw(`Tab "${t}" not found`);const s=yield i.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return s.header=this.page.header,s.header_memo=this.page.header_memo,new xw(this.actions,s,!0)}))}get categories(){var t;return(null===(t=this.header)||void 0===t?void 0:t.category_tabs.map((t=>t.title.toString())))||[]}};e(xw,"HomeFeed");var Sw=xw,Tw=class extends tg{constructor(t,e){super(t,e),this.estimated_results=this.page.estimated_results;const i=this.memo.getType(Ll).first();if(!i)throw new Nw("No item section found in search response.");this.contents=i.contents}};e(Tw,"Search");var Cw=Tw,Iw=class extends xb{constructor(t,e,i){var s,n,o,a,r;super(t,e,i);const[l,c]=this.page;this.basic_info=l.video_details,this.captions=l.captions;const d=null===(s=null==c?void 0:c.contents)||void 0===s?void 0:s.item().as(Qv),h=null==d?void 0:d.results,u=null==d?void 0:d.secondary_results;h&&u&&(this.slim_video_metadata=null===(o=null===(n=h.firstOfType(Ll))||void 0===n?void 0:n.contents)||void 0===o?void 0:o.firstOfType(ev),this.watch_next_feed=(null===(a=u.firstOfType(Ll))||void 0===a?void 0:a.contents)||u,this.current_video_endpoint=null==c?void 0:c.current_video_endpoint,this.player_overlays=null===(r=null==c?void 0:c.player_overlays)||void 0===r?void 0:r.item().as(Qu))}addToWatchHistory(){const t=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return o(this,void 0,void 0,(function*(){return t.addToWatchHistory.call(this)}))}};e(Iw,"VideoInfo");var kw,Ew=Iw,Aw=D,Rw=class{constructor(t,e,i,s){var n,o,a,r,l,c,u,p,m,v,f,y,g,_,b,w,x,S,T,I,k,E,R,M,P,L,D,O,N,B,V,U,H,F,j,W,G;kw.set(this,void 0),h(this,kw,new Z(t),"f"),this.id=s||(null===(l=null===(r=null===(a=null===(o=null===(n=d(this,kw,"f"))||void 0===n?void 0:n.runs)||void 0===o?void 0:o[0])||void 0===a?void 0:a.endpoint)||void 0===r?void 0:r.payload)||void 0===l?void 0:l.browseId)||(null===(p=null===(u=null===(c=d(this,kw,"f"))||void 0===c?void 0:c.endpoint)||void 0===u?void 0:u.payload)||void 0===p?void 0:p.browseId)||"N/A",this.name=(null===(m=d(this,kw,"f"))||void 0===m?void 0:m.text)||"N/A",this.thumbnails=i?q.fromResponse(i):[],this.endpoint=(null===(y=null===(f=null===(v=d(this,kw,"f"))||void 0===v?void 0:v.runs)||void 0===f?void 0:f[0])||void 0===y?void 0:y.endpoint)||(null===(g=d(this,kw,"f"))||void 0===g?void 0:g.endpoint),this.badges=Array.isArray(e)?Aw.parseArray(e):C([]),this.is_moderator=null===(_=this.badges)||void 0===_?void 0:_.some((t=>"MODERATOR"==t.icon_type)),this.is_verified=null===(b=this.badges)||void 0===b?void 0:b.some((t=>"BADGE_STYLE_TYPE_VERIFIED"==t.style)),this.is_verified_artist=null===(w=this.badges)||void 0===w?void 0:w.some((t=>"BADGE_STYLE_TYPE_VERIFIED_ARTIST"==t.style)),this.url="/browse"===(null===(k=null===(I=null===(T=null===(S=null===(x=d(this,kw,"f"))||void 0===x?void 0:x.runs)||void 0===S?void 0:S[0])||void 0===T?void 0:T.endpoint)||void 0===I?void 0:I.metadata)||void 0===k?void 0:k.api_url)&&`${A.YT_BASE}${(null===(L=null===(P=null===(M=null===(R=null===(E=d(this,kw,"f"))||void 0===E?void 0:E.runs)||void 0===R?void 0:R[0])||void 0===M?void 0:M.endpoint)||void 0===P?void 0:P.payload)||void 0===L?void 0:L.canonicalBaseUrl)||`/u/${null===(V=null===(B=null===(N=null===(O=null===(D=d(this,kw,"f"))||void 0===D?void 0:D.runs)||void 0===O?void 0:O[0])||void 0===N?void 0:N.endpoint)||void 0===B?void 0:B.payload)||void 0===V?void 0:V.browseId}`}`||`${A.YT_BASE}${(null===(F=null===(H=null===(U=d(this,kw,"f"))||void 0===U?void 0:U.endpoint)||void 0===H?void 0:H.payload)||void 0===F?void 0:F.canonicalBaseUrl)||`/u/${null===(G=null===(W=null===(j=d(this,kw,"f"))||void 0===j?void 0:j.endpoint)||void 0===W?void 0:W.payload)||void 0===G?void 0:G.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};e(Rw,"Author"),kw=new WeakMap;var Mw,Pw,Lw=Rw,Dw={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]},Ow=class{static load(t){h(Ow,Mw,t,"f",Pw)}static get shim(){if(!d(Ow,Mw,"f",Pw))throw new Error("Platform is not loaded");return d(Ow,Mw,"f",Pw)}};e(Ow,"Platform"),Mw=Ow,Pw={value:void 0};var Nw=class extends Error{constructor(t,e){super(t),e&&(this.info=e),this.date=new Date,this.version=Ow.shim.info.version}};e(Nw,"InnertubeError");var Bw=class extends Nw{};e(Bw,"ParsingError");var Vw=class extends Nw{};e(Vw,"MissingParamError");var Uw=class extends Nw{};e(Uw,"OAuthError");var Hw=class extends Error{};e(Hw,"PlayerError");var Fw=class extends Error{};e(Fw,"SessionError");var jw=class extends Error{};function Ww(t,e){return Reflect.ownKeys(t).some((i=>{const s=e[i]instanceof Z;return s||"object"!=typeof e[i]?t[i]===(s?e[i].toString():e[i]):JSON.stringify(t[i])===JSON.stringify(e[i])}))}function Gw(t,e,i){const s=new RegExp(`${$w(e)}(.*?)${$w(i)}`,"s"),n=t.match(s);return n?n[1]:void 0}function $w(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Yw(t){const e=Dw[t];return e[Math.floor(Math.random()*e.length)]}function Kw(t){return o(this,void 0,void 0,(function*(){const e=Math.floor((new Date).getTime()/1e3),i=[e,t,"https://www.youtube.com"].join(" ");return["SAPISIDHASH",[e,yield Ow.shim.sha1Hash(i)].join("_")].join(" ")}))}function zw(t){const e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let s=0;s<t;s++)e.push(i.charAt(Math.floor(64*Math.random())));return e.join("")}function qw(t){const e=t.split(":").map((t=>parseInt(t.replace(/\D/g,""))));switch(e.length){case 1:return e[0];case 2:return 60*e[0]+e[1];case 3:return 3600*e[0]+60*e[1]+e[2];default:throw new Error("Invalid time string")}}function Xw(...t){const e=new I;for(const i of t)if(i)for(const t of i)e.set(...t);return e}function Qw(t){for(const[e,i]of Object.entries(t))if(!i)throw new Vw(`${e} is missing`)}function Jw(t,...e){for(const i of e)if(!Reflect.has(t,i)||void 0===t[i])return!1;return!0}function Zw(t){return l(this,arguments,e((function*(){const e=t.getReader();try{for(;;){const{done:t,value:i}=yield r(e.read());if(t)return yield r(void 0);yield yield r(i)}}finally{e.releaseLock()}}),"streamToIterable_1"))}e(jw,"ChannelError"),e(Ww,"deepCompare"),e(Gw,"getStringBetweenStrings"),e($w,"escapeStringRegexp"),e(Yw,"getRandomUserAgent"),e(Kw,"generateSidAuth"),e(zw,"generateRandomString"),e(qw,"timeToSeconds"),e(Xw,"concatMemos"),e(Qw,"throwIfMissing"),e(Jw,"hasKeys"),e(Zw,"streamToIterable");var tx=e(((t,e)=>{const i="string"==typeof t?new URL(t):t instanceof URL?t:new URL(t.url),s=(null==e?void 0:e.headers)?new Headers(e.headers):t instanceof Request?t.headers:new Headers,n=[...s],o=(null==e?void 0:e.body)?"string"==typeof e.body?"application/json"===s.get("content-type")?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",a=n.length>0?`${n.map((([t,e])=>`    ${t}: ${e}`)).join("\n")}`:"    (none)";return console.log(`YouTube.js Fetch:\n  url: ${i.toString()}\n  method: ${(null==e?void 0:e.method)||"GET"}\n  headers:\n${a}\n' + \n    '  body:\n${o}`),Ow.shim.fetch(t,e)}),"debugFetch");function ex(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}function ix(t){return new Uint8Array(atob(t).split("").map((t=>t.charCodeAt(0))))}function sx(t){return!("emoji"in t)}function nx(t){return o(this,void 0,void 0,(function*(){const i=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function s(t){const e=new Uint8Array(t),s=[];for(let t=0;t<e.length;++t)s.push(i[e[t]]);return s.join("")}return e(s,"hex"),s(yield crypto.subtle.digest("SHA-1",(new TextEncoder).encode(t)))}))}e(ex,"u8ToBase64"),e(ix,"base64ToU8"),e(sx,"isTextRun"),e(nx,"sha1Hash");var ox={name:"youtubei.js",version:"6.4.1",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod","build:parser-map":"node ./scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tsc","build:deno":"npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace \".js';\" \".ts';\" ./deno -r && npx replace '.js\";' '.ts\";' ./deno -r && npx replace \"'./DashManifest.ts';\" \"'./DashManifest.js';\" ./deno -r && npx replace \"'jintr';\" \"'https://esm.sh/jintr';\" ./deno -r","bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^1.1.0",tslib:"^2.5.0",undici:"^5.19.1"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]},ax={};i(ax,{ArrayExpression:()=>lx,ArrowFunctionExpression:()=>dx,AssignmentExpression:()=>hx,BinaryExpression:()=>ux,BlockStatement:()=>px,BreakStatement:()=>mx,CallExpression:()=>gx,ConditionalExpression:()=>bx,ContinueStatement:()=>wx,ExpressionStatement:()=>xx,ForOfStatement:()=>Sx,ForStatement:()=>Tx,FunctionDeclaration:()=>Cx,FunctionExpression:()=>Ix,Identifier:()=>kx,IfStatement:()=>Ex,Literal:()=>Ax,LogicalExpression:()=>Rx,MemberExpression:()=>Mx,NewExpression:()=>Px,ObjectExpression:()=>Lx,Property:()=>Ux,ReturnStatement:()=>Hx,SequenceExpression:()=>Fx,SwitchCase:()=>jx,SwitchStatement:()=>Wx,ThisExpression:()=>Gx,ThrowStatement:()=>$x,TryStatement:()=>Yx,UnaryExpression:()=>Kx,UpdateExpression:()=>zx,VariableDeclaration:()=>qx,WhileStatement:()=>Xx});var rx=class{constructor(t,e){this.node=t,this.visitor=e}run(){}};e(rx,"BaseJSNode");var lx=class extends rx{run(){return this.node.elements.map((t=>this.visitor.visitNode(t)))}};e(lx,"ArrayExpression");i({},{namedFunction:()=>cx});var cx=e(((t,e)=>Object.defineProperty(e,"name",{value:t})),"namedFunction"),dx=class extends rx{run(){const{params:t,body:e}=this.node;return cx("anonymous function",(i=>{let s=0;for(const e of t)this.visitor.visitNode(e),"Identifier"===e.type?this.visitor.scope.set(e.name,i[s]):console.warn("Unhandled param type",e.type),s++;return this.visitor.visitNode(e)}))}};e(dx,"ArrowFunctionExpression");var hx=class extends rx{run(){const t=this.node.operator,e=this.visitor.visitNode(this.node.right);switch(t){case"=":if("MemberExpression"===this.node.left.type){return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]=e}if("Identifier"===this.node.left.type)return this.visitor.scope.set(this.node.left.name,e),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if("MemberExpression"===this.node.left.type){return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]+=e}if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)+e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if("MemberExpression"===this.node.left.type){return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]-=e}if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)-e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if("MemberExpression"===this.node.left.type){return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]*=e}if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)*e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if("MemberExpression"===this.node.left.type){return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]/=e}if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)/e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if("MemberExpression"===this.node.left.type){return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]%=e}if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)%e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if("MemberExpression"===this.node.left.type){return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]**=e}if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)**e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if("MemberExpression"===this.node.left.type){return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]<<=e}if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)<<e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if("MemberExpression"===this.node.left.type){return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]>>=e}if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)>>e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if("MemberExpression"===this.node.left.type){return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]>>>=e}if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)>>>e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if("MemberExpression"===this.node.left.type){return this.visitor.visitNode(this.node.left.object)[this.visitor.visitNode(this.node.left.property)]&=e}if("Identifier"===this.node.left.type){const t=this.visitor.visitNode(this.node.left)&e;return this.visitor.scope.set(this.node.left.name,t),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left)}}};e(hx,"AssignmentExpression");var ux=class extends rx{run(){const t=this.node.operator,e=this.visitor.visitNode(this.node.left),i=this.visitor.visitNode(this.node.right);switch(t){case"!=":return e!=i;case"!==":return e!==i;case"%":return e%i;case"&":return e&i;case"*":return e*i;case"**":return e**i;case"+":return e+i;case"-":return e-i;case"/":return e/i;case"<":return e<i;case"<<":return e<<i;case"<=":return e<=i;case"==":return e==i;case"===":return e===i;case">":return e>i;case">=":return e>=i;case">>":return e>>i;case">>>":return e>>>i;case"^":return e^i;case"|":return e|i;case"in":return e in i;case"instanceof":return e instanceof i}}};e(ux,"BinaryExpression");var px=class extends rx{run(){for(const t of this.node.body){const e=this.visitor.visitNode(t);if("ReturnStatement"===t.type)return e;if("break"===e||"continue"===e)return e;if(("WhileStatement"===t.type||"IfStatement"===t.type||"ForStatement"===t.type||"TryStatement"===t.type)&&e)return e}}};e(px,"BlockStatement");var mx=class extends rx{run(){return"break"}};e(mx,"BreakStatement");var vx,fx,yx=function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)},gx=class extends rx{constructor(){super(...arguments),vx.add(this)}run(){let t,e;if("MemberExpression"===this.node.callee.type?(t=this.visitor.getName(this.node.callee.object),e=this.visitor.getName(this.node.callee.property)):"Identifier"===this.node.callee.type&&(e=this.node.callee.name),t&&this.visitor.listeners[t]){const e=this.visitor.listeners[t](this.node,this.visitor);if("proceed"!==e)return e}if(e&&"toString"!==e&&this.visitor.listeners[e]){const t=this.visitor.listeners[e](this.node,this.visitor);if("proceed"!==t)return t}if("MemberExpression"===this.node.callee.type){if(_x.has(this.node,this.visitor))return _x.execute(this.node,this.visitor);const t=this.visitor.visitNode(this.node.callee.object),e=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),i=this.node.arguments.map((t=>this.visitor.visitNode(t)));return"function"!=typeof t[e]&&yx(this,vx,"m",fx).call(this),t[e].toString().includes("[native code]")?t[e](...i):t[e](i)}const i=this.visitor.visitNode(this.node.callee),s=this.node.arguments.map((t=>this.visitor.visitNode(t)));return"function"!=typeof i&&yx(this,vx,"m",fx).call(this),i(s)}};e(gx,"CallExpression"),vx=new WeakSet,fx=e((function(){if("MemberExpression"===this.node.callee.type)throw new Error(`${"Identifier"===this.node.callee.object.type?this.node.callee.object.name:"<object>"}.${"Identifier"===this.node.callee.property.type?this.node.callee.property.name:"?"} is not a function`);if("Identifier"===this.node.callee.type)throw new Error(`${this.node.callee.name} is not a function`);if("SequenceExpression"===this.node.callee.type){const t=[],e=[];throw t.push("("),this.node.callee.expressions.forEach((t=>{"Literal"===t.type?e.push(t.raw||""):"Identifier"===t.type?e.push(t.name):"MemberExpression"===t.type&&(t.computed?e.push(`${this.visitor.getName(t.object)}[${this.visitor.getName(t.property)||"..."}]`):e.push(`${this.visitor.getName(t.object)}.${this.visitor.getName(t.property)}`))})),t.push(e.join(", ")),t.push(")"),new Error(`${t.join("")} is not a function`)}}),"_CallExpression_throwError");var _x=class{static has(t,e){var i;return"MemberExpression"===t.callee.type&&!!(null===(i=this.builtins)||void 0===i?void 0:i[e.getName(t.callee.property)||""])}static execute(t,e){if("MemberExpression"===t.callee.type)return this.builtins[e.getName(t.callee.property)||""](t,e)}};e(_x,"Builtins"),_x.builtins={forEach:(t,e)=>{const i=t.arguments.map((t=>e.visitNode(t)));if("MemberExpression"===t.callee.type){const s=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let n=0;for(const t of s)i[0]([t,n++,s])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if("MemberExpression"===t.callee.type)return e.visitNode(t.callee.object).toString()}};var bx=class extends rx{run(){const{test:t,consequent:e,alternate:i}=this.node;return this.visitor.visitNode(t)?this.visitor.visitNode(e):this.visitor.visitNode(i)}};e(bx,"ConditionalExpression");var wx=class extends rx{run(){return"continue"}};e(wx,"ContinueStatement");var xx=class extends rx{run(){return this.visitor.visitNode(this.node.expression)}};e(xx,"ExpressionStatement");var Sx=class extends rx{run(){this.visitor.visitNode(this.node.left);const t=this.visitor.visitNode(this.node.right);for(const e of t){if("VariableDeclaration"===this.node.left.type&&"Identifier"===this.node.left.declarations[0].id.type)this.visitor.scope.set(this.node.left.declarations[0].id.name,e);else if("VariableDeclaration"===this.node.left.type&&"ObjectPattern"===this.node.left.declarations[0].id.type)for(const t of this.node.left.declarations[0].id.properties)"Property"===t.type&&"Identifier"===t.value.type&&"Identifier"===t.key.type&&this.visitor.scope.set(t.value.name,e[t.key.name]);const t=this.visitor.visitNode(this.node.body);if("break"===t)break;if("continue"!==t&&(t&&"ExpressionStatement"!==this.node.body.type))return t}}};e(Sx,"ForOfStatement");var Tx=class extends rx{run(){this.node.init&&this.visitor.visitNode(this.node.init);const t=e((()=>!this.node.test||this.visitor.visitNode(this.node.test)),"test");for(;;){if(!t())break;const e=this.visitor.visitNode(this.node.body);if("continue"!==e){if("break"===e)break;if(this.node.update&&this.visitor.visitNode(this.node.update),e&&"ExpressionStatement"!==this.node.body.type)return e}}}};e(Tx,"ForStatement");var Cx=class extends rx{run(){const{params:t,body:e}=this.node,i=this.visitor.visitNode(this.node.id),s=cx(i,(i=>{let s=0;for(const e of t)this.visitor.visitNode(e),"Identifier"===e.type?this.visitor.scope.set(e.name,i[s]):console.warn("Unhandled param type",e.type),s++;return this.visitor.visitNode(e)}));this.visitor.scope.set(i,s)}};e(Cx,"FunctionDeclaration");var Ix=class extends rx{run(){const{params:t,body:e}=this.node;return cx("anonymous function",(i=>{let s=0;for(const e of t)this.visitor.visitNode(e),"Identifier"===e.type?this.visitor.scope.set(e.name,i[s]):console.warn("Unhandled param type",e.type),s++;return this.visitor.visitNode(e)}))}};e(Ix,"FunctionExpression");var kx=class extends rx{run(){if(this.visitor.listeners[this.node.name]){const t=this.visitor.listeners[this.node.name](this.node,this.visitor);if("proceed"!==t)return t}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};e(kx,"Identifier");var Ex=class extends rx{run(){return this.visitor.visitNode(this.node.test)?this.visitor.visitNode(this.node.consequent):this.node.alternate?this.visitor.visitNode(this.node.alternate):void 0}};e(Ex,"IfStatement");var Ax=class extends rx{run(){return this.node.value}};e(Ax,"Literal");var Rx=class extends rx{run(){switch(this.node.operator){case"&&":{const t=this.visitor.visitNode(this.node.left);return!0===t?this.visitor.visitNode(this.node.right):t}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{const t=this.visitor.visitNode(this.node.left);return null!=t?t:this.visitor.visitNode(this.node.right)}}}};e(Rx,"LogicalExpression");var Mx=class extends rx{run(){const{object:t,property:e,computed:i}=this.node,s=this.visitor.visitNode(t),n=i?this.visitor.visitNode(e):this.visitor.getName(e);if(void 0!==n||null!==n){if(this.visitor.listeners[n]){const t=this.visitor.listeners[n](this.node,this.visitor);if("proceed"!==t)return t}return null==s?void 0:s[n]}}};e(Mx,"MemberExpression");var Px=class extends rx{run(){return new(this.visitor.visitNode(this.node.callee))(this.node.arguments.map((t=>this.visitor.visitNode(t))))}};e(Px,"NewExpression");var Lx=class extends rx{run(){let t={};for(const e of this.node.properties){if("Property"!==e.type)throw new Error(`Unhandled property type: ${e.type}`);t=Object.assign(Object.assign({},t),this.visitor.visitNode(e))}return t}};e(Lx,"ObjectExpression");var Dx,Ox,Nx,Bx,Vx=function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)},Ux=class extends rx{constructor(){super(...arguments),Dx.add(this)}run(){switch(this.node.kind){case"init":return Vx(this,Dx,"m",Ox).call(this);case"get":return Vx(this,Dx,"m",Nx).call(this);case"set":return Vx(this,Dx,"m",Bx).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};e(Ux,"Property"),Dx=new WeakSet,Ox=e((function(){const t=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),e=this.visitor.visitNode(this.node.value);if(t)return{[t]:e}}),"_Property_init"),Nx=e((function(){throw new TypeError("Not implemented: Property.get")}),"_Property_get"),Bx=e((function(){throw new TypeError("Not implemented: Property.set")}),"_Property_set");var Hx=class extends rx{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};e(Hx,"ReturnStatement");var Fx=class extends rx{run(){let t;for(const e of this.node.expressions)t=this.visitor.visitNode(e);return t}};e(Fx,"SequenceExpression");var jx=class extends rx{run(){for(const t of this.node.consequent){const e=this.visitor.visitNode(t);if("ContinueStatement"===t.type||"BreakStatement"===t.type)return e}}};e(jx,"SwitchCase");var Wx=class extends rx{run(){const t=this.visitor.visitNode(this.node.discriminant);let e=!1,i=-1,s=0;for(;;){const n=this.node.cases[s];if(e){const t=this.visitor.visitNode(n);if("break"===t)break;if("continue"===t)return t;if(++s,s>=this.node.cases.length){s=0;break}}else{if(e=n&&t===this.visitor.visitNode(n.test),void 0===e&&s>this.node.cases.length)break;!n||e||n.test?n||e||-1===i?e||++s:(e=!0,s=i):(i=s,s+=1)}}}};e(Wx,"SwitchStatement");var Gx=class extends rx{run(){return this.visitor.scope.get("_this")}};e(Gx,"ThisExpression");var $x=class extends rx{run(){throw this.visitor.visitNode(this.node.argument)}};e($x,"ThrowStatement");var Yx=class extends rx{run(){try{return this.visitor.visitNode(this.node.block)}catch(t){if(this.node.handler)return this.node.handler.param&&"Identifier"===this.node.handler.param.type&&this.visitor.scope.set(this.node.handler.param.name,t),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};e(Yx,"TryStatement");var Kx=class extends rx{run(){const t=this.node.operator;switch(t){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":return void this.visitor.visitNode(this.node.argument);case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":if("MemberExpression"===this.node.argument.type){return delete this.visitor.visitNode(this.node.argument.object)[this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property)]}return"Identifier"!==this.node.argument.type||this.visitor.scope.delete(this.node.argument.name);default:console.warn("Unhandled UnaryExpression operator",t)}}};e(Kx,"UnaryExpression");var zx=class extends rx{run(){switch(this.node.operator){case"++":if("MemberExpression"===this.node.argument.type){return this.visitor.visitNode(this.node.argument.object)[this.visitor.visitNode(this.node.argument.property)]++}if("Identifier"===this.node.argument.type){let t=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,t+1),this.node.prefix?++t:t}break;case"--":if("MemberExpression"===this.node.argument.type){return this.visitor.visitNode(this.node.argument.object)[this.visitor.visitNode(this.node.argument.property)]--}if("Identifier"===this.node.argument.type){let t=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,t-1),this.node.prefix?--t:t}}}};e(zx,"UpdateExpression");var qx=class extends rx{run(){this.node.declarations.forEach((t=>{const{id:e,init:i}=t,s=this.visitor.getName(e),n=i?this.visitor.visitNode(i):void 0;s&&this.visitor.scope.set(s,n),"object"==typeof n&&null!==n&&this.visitor.scope.set("_this",n)}))}};e(qx,"VariableDeclaration");var Xx=class extends rx{run(){for(;this.visitor.visitNode(this.node.test);){const t=this.visitor.visitNode(this.node.body);if("break"===t)break;if("continue"!==t&&t)return t}}};e(Xx,"WhileStatement");var Qx,Jx,Zx=class{constructor(t){Qx.add(this),this.scope=new Map,this.listeners={},this.ast=t}run(){let t;for(const e of this.ast)t=this.visitNode(e);return t}visitNode(t){if(!t)return null;const e=function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)}(this,Qx,"m",Jx).call(this,t.type);if(e){return new e(t,this).run()}}getName(t){return"Identifier"===t.type?t.name:"Literal"===t.type?t.value:void 0}on(t,e){this.listeners[t]=e}};e(Zx,"Visitor"),Qx=new WeakSet,Jx=e((function(t){const e=ax[t];return e||console.warn("[JINTER]:",`JavaScript node "${t}" not implemented!\nIf this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),e}),"_Visitor_getNode");var tS=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],eS=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],iS="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",sS={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},nS="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",oS={5:nS,"5module":nS+" export import",6:nS+" const class extends export import super"},aS=/^in(stanceof)?$/,rS=new RegExp("["+iS+"]"),lS=new RegExp("["+iS+"-----------------------------------------------------------------------------------------------------------------------------------------------------]");function cS(t,e){for(var i=65536,s=0;s<e.length;s+=2){if((i+=e[s])>t)return!1;if((i+=e[s+1])>=t)return!0}return!1}function dS(t,e){return t<65?36===t:t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&rS.test(String.fromCharCode(t)):!1!==e&&cS(t,eS)))}function hS(t,e){return t<48?36===t:t<58||!(t<65)&&(t<91||(t<97?95===t:t<123||(t<=65535?t>=170&&lS.test(String.fromCharCode(t)):!1!==e&&(cS(t,eS)||cS(t,tS)))))}e(cS,"isInAstralSet"),e(dS,"isIdentifierStart"),e(hS,"isIdentifierChar");var uS=e((function(t,e){void 0===e&&(e={}),this.label=t,this.keyword=e.keyword,this.beforeExpr=!!e.beforeExpr,this.startsExpr=!!e.startsExpr,this.isLoop=!!e.isLoop,this.isAssign=!!e.isAssign,this.prefix=!!e.prefix,this.postfix=!!e.postfix,this.binop=e.binop||null,this.updateContext=null}),"TokenType");function pS(t,e){return new uS(t,{beforeExpr:!0,binop:e})}e(pS,"binop");var mS={beforeExpr:!0},vS={startsExpr:!0},fS={};function yS(t,e){return void 0===e&&(e={}),e.keyword=t,fS[t]=new uS(t,e)}e(yS,"kw");var gS={num:new uS("num",vS),regexp:new uS("regexp",vS),string:new uS("string",vS),name:new uS("name",vS),privateId:new uS("privateId",vS),eof:new uS("eof"),bracketL:new uS("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new uS("]"),braceL:new uS("{",{beforeExpr:!0,startsExpr:!0}),braceR:new uS("}"),parenL:new uS("(",{beforeExpr:!0,startsExpr:!0}),parenR:new uS(")"),comma:new uS(",",mS),semi:new uS(";",mS),colon:new uS(":",mS),dot:new uS("."),question:new uS("?",mS),questionDot:new uS("?."),arrow:new uS("=>",mS),template:new uS("template"),invalidTemplate:new uS("invalidTemplate"),ellipsis:new uS("...",mS),backQuote:new uS("`",vS),dollarBraceL:new uS("${",{beforeExpr:!0,startsExpr:!0}),eq:new uS("=",{beforeExpr:!0,isAssign:!0}),assign:new uS("_=",{beforeExpr:!0,isAssign:!0}),incDec:new uS("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new uS("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:pS("||",1),logicalAND:pS("&&",2),bitwiseOR:pS("|",3),bitwiseXOR:pS("^",4),bitwiseAND:pS("&",5),equality:pS("==/!=/===/!==",6),relational:pS("</>/<=/>=",7),bitShift:pS("<</>>/>>>",8),plusMin:new uS("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:pS("%",10),star:pS("*",10),slash:pS("/",10),starstar:new uS("**",{beforeExpr:!0}),coalesce:pS("??",1),_break:yS("break"),_case:yS("case",mS),_catch:yS("catch"),_continue:yS("continue"),_debugger:yS("debugger"),_default:yS("default",mS),_do:yS("do",{isLoop:!0,beforeExpr:!0}),_else:yS("else",mS),_finally:yS("finally"),_for:yS("for",{isLoop:!0}),_function:yS("function",vS),_if:yS("if"),_return:yS("return",mS),_switch:yS("switch"),_throw:yS("throw",mS),_try:yS("try"),_var:yS("var"),_const:yS("const"),_while:yS("while",{isLoop:!0}),_with:yS("with"),_new:yS("new",{beforeExpr:!0,startsExpr:!0}),_this:yS("this",vS),_super:yS("super",vS),_class:yS("class",vS),_extends:yS("extends",mS),_export:yS("export"),_import:yS("import",vS),_null:yS("null",vS),_true:yS("true",vS),_false:yS("false",vS),_in:yS("in",{beforeExpr:!0,binop:7}),_instanceof:yS("instanceof",{beforeExpr:!0,binop:7}),_typeof:yS("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:yS("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:yS("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},_S=/\r\n?|\n|\u2028|\u2029/,bS=new RegExp(_S.source,"g");function wS(t){return 10===t||13===t||8232===t||8233===t}function xS(t,e,i){void 0===i&&(i=t.length);for(var s=e;s<i;s++){var n=t.charCodeAt(s);if(wS(n))return s<i-1&&13===n&&10===t.charCodeAt(s+1)?s+2:s+1}return-1}e(wS,"isNewLine"),e(xS,"nextLineBreak");var SS=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,TS=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,CS=Object.prototype,IS=CS.hasOwnProperty,kS=CS.toString,ES=Object.hasOwn||function(t,e){return IS.call(t,e)},AS=Array.isArray||function(t){return"[object Array]"===kS.call(t)};function RS(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}function MS(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t)))}e(RS,"wordsRegexp"),e(MS,"codePointToString");var PS=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,LS=e((function(t,e){this.line=t,this.column=e}),"Position");LS.prototype.offset=e((function(t){return new LS(this.line,this.column+t)}),"offset");var DS=e((function(t,e,i){this.start=e,this.end=i,null!==t.sourceFile&&(this.source=t.sourceFile)}),"SourceLocation");function OS(t,e){for(var i=1,s=0;;){var n=xS(t,s,e);if(n<0)return new LS(i,e-s);++i,s=n}}e(OS,"getLineInfo");var NS={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},BS=!1;function VS(t){var e={};for(var i in NS)e[i]=t&&ES(t,i)?t[i]:NS[i];if("latest"===e.ecmaVersion?e.ecmaVersion=1e8:null==e.ecmaVersion?(!BS&&"object"==typeof console&&console.warn&&(BS=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),null==e.allowReserved&&(e.allowReserved=e.ecmaVersion<5),t&&null!=t.allowHashBang||(e.allowHashBang=e.ecmaVersion>=14),AS(e.onToken)){var s=e.onToken;e.onToken=function(t){return s.push(t)}}return AS(e.onComment)&&(e.onComment=US(e,e.onComment)),e}function US(t,e){return function(i,s,n,o,a,r){var l={type:i?"Block":"Line",value:s,start:n,end:o};t.locations&&(l.loc=new DS(this,a,r)),t.ranges&&(l.range=[n,o]),e.push(l)}}e(VS,"getOptions"),e(US,"pushComment");var HS=256;function FS(t,e){return 2|(t?4:0)|(e?8:0)}e(FS,"functionFlags");var jS=e((function(t,e,i){this.options=t=VS(t),this.sourceFile=t.sourceFile,this.keywords=RS(oS[t.ecmaVersion>=6?6:"module"===t.sourceType?"5module":5]);var s="";!0!==t.allowReserved&&(s=sS[t.ecmaVersion>=6?6:5===t.ecmaVersion?5:3],"module"===t.sourceType&&(s+=" await")),this.reservedWords=RS(s);var n=(s?s+" ":"")+sS.strict;this.reservedWordsStrict=RS(n),this.reservedWordsStrictBind=RS(n+" "+sS.strictBind),this.input=String(e),this.containsEsc=!1,i?(this.pos=i,this.lineStart=this.input.lastIndexOf("\n",i-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(_S).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=gS.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===t.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&t.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]}),"Parser"),WS={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};jS.prototype.parse=e((function(){var t=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(t)}),"parse"),WS.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},WS.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},WS.inAsync.get=function(){return(4&this.currentVarScope().flags)>0&&!this.currentVarScope().inClassFieldInit},WS.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&HS)return!1;if(2&e.flags)return(4&e.flags)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},WS.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(64&e)>0||i||this.options.allowSuperOutsideMethod},WS.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},WS.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},WS.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(258&e)>0||i},WS.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&HS)>0},jS.extend=e((function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];for(var i=this,s=0;s<t.length;s++)i=t[s](i);return i}),"extend"),jS.parse=e((function(t,e){return new this(e,t).parse()}),"parse"),jS.parseExpressionAt=e((function(t,e,i){var s=new this(i,t,e);return s.nextToken(),s.parseExpression()}),"parseExpressionAt"),jS.tokenizer=e((function(t,e){return new this(e,t)}),"tokenizer"),Object.defineProperties(jS.prototype,WS);var GS=jS.prototype,$S=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;GS.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){TS.lastIndex=t,t+=TS.exec(this.input)[0].length;var e=$S.exec(this.input.slice(t));if(!e)return!1;if("use strict"===(e[1]||e[2])){TS.lastIndex=t+e[0].length;var i=TS.exec(this.input),s=i.index+i[0].length,n=this.input.charAt(s);return";"===n||"}"===n||_S.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(n)||"!"===n&&"="===this.input.charAt(s+1))}t+=e[0].length,TS.lastIndex=t,t+=TS.exec(this.input)[0].length,";"===this.input[t]&&t++}},GS.eat=function(t){return this.type===t&&(this.next(),!0)},GS.isContextual=function(t){return this.type===gS.name&&this.value===t&&!this.containsEsc},GS.eatContextual=function(t){return!!this.isContextual(t)&&(this.next(),!0)},GS.expectContextual=function(t){this.eatContextual(t)||this.unexpected()},GS.canInsertSemicolon=function(){return this.type===gS.eof||this.type===gS.braceR||_S.test(this.input.slice(this.lastTokEnd,this.start))},GS.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},GS.semicolon=function(){this.eat(gS.semi)||this.insertSemicolon()||this.unexpected()},GS.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0},GS.expect=function(t){this.eat(t)||this.unexpected()},GS.unexpected=function(t){this.raise(null!=t?t:this.start,"Unexpected token")};var YS=e((function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1}),"DestructuringErrors");GS.checkPatternErrors=function(t,e){if(t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}},GS.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,s=t.doubleProto;if(!e)return i>=0||s>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),s>=0&&this.raiseRecoverable(s,"Redefinition of __proto__ property")},GS.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},GS.isSimpleAssignTarget=function(t){return"ParenthesizedExpression"===t.type?this.isSimpleAssignTarget(t.expression):"Identifier"===t.type||"MemberExpression"===t.type};var KS=jS.prototype;KS.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==gS.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var s=0,n=Object.keys(this.undefinedExports);s<n.length;s+=1){var o=n[s];this.raiseRecoverable(this.undefinedExports[o].start,"Export '"+o+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var zS={kind:"loop"},qS={kind:"switch"};KS.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;TS.lastIndex=this.pos;var e=TS.exec(this.input),i=this.pos+e[0].length,s=this.input.charCodeAt(i);if(91===s||92===s)return!0;if(t)return!1;if(123===s||s>55295&&s<56320)return!0;if(dS(s,!0)){for(var n=i+1;hS(s=this.input.charCodeAt(n),!0);)++n;if(92===s||s>55295&&s<56320)return!0;var o=this.input.slice(i,n);if(!aS.test(o))return!0}return!1},KS.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;TS.lastIndex=this.pos;var t,e=TS.exec(this.input),i=this.pos+e[0].length;return!(_S.test(this.input.slice(this.pos,i))||"function"!==this.input.slice(i,i+8)||i+8!==this.input.length&&(hS(t=this.input.charCodeAt(i+8))||t>55295&&t<56320))},KS.parseStatement=function(t,e,i){var s,n=this.type,o=this.startNode();switch(this.isLet(t)&&(n=gS._var,s="let"),n){case gS._break:case gS._continue:return this.parseBreakContinueStatement(o,n.keyword);case gS._debugger:return this.parseDebuggerStatement(o);case gS._do:return this.parseDoStatement(o);case gS._for:return this.parseForStatement(o);case gS._function:return t&&(this.strict||"if"!==t&&"label"!==t)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!t);case gS._class:return t&&this.unexpected(),this.parseClass(o,!0);case gS._if:return this.parseIfStatement(o);case gS._return:return this.parseReturnStatement(o);case gS._switch:return this.parseSwitchStatement(o);case gS._throw:return this.parseThrowStatement(o);case gS._try:return this.parseTryStatement(o);case gS._const:case gS._var:return s=s||this.value,t&&"var"!==s&&this.unexpected(),this.parseVarStatement(o,s);case gS._while:return this.parseWhileStatement(o);case gS._with:return this.parseWithStatement(o);case gS.braceL:return this.parseBlock(!0,o);case gS.semi:return this.parseEmptyStatement(o);case gS._export:case gS._import:if(this.options.ecmaVersion>10&&n===gS._import){TS.lastIndex=this.pos;var a=TS.exec(this.input),r=this.pos+a[0].length,l=this.input.charCodeAt(r);if(40===l||46===l)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===gS._import?this.parseImport(o):this.parseExport(o,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!t);var c=this.value,d=this.parseExpression();return n===gS.name&&"Identifier"===d.type&&this.eat(gS.colon)?this.parseLabeledStatement(o,c,d,t):this.parseExpressionStatement(o,d)}},KS.parseBreakContinueStatement=function(t,e){var i="break"===e;this.next(),this.eat(gS.semi)||this.insertSemicolon()?t.label=null:this.type!==gS.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var s=0;s<this.labels.length;++s){var n=this.labels[s];if(null==t.label||n.name===t.label.name){if(null!=n.kind&&(i||"loop"===n.kind))break;if(t.label&&i)break}}return s===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")},KS.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")},KS.parseDoStatement=function(t){return this.next(),this.labels.push(zS),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(gS._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(gS.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")},KS.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(zS),this.enterScope(0),this.expect(gS.parenL),this.type===gS.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===gS._var||this.type===gS._const||i){var s=this.startNode(),n=i?"let":this.value;return this.next(),this.parseVar(s,!0,n),this.finishNode(s,"VariableDeclaration"),(this.type===gS._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===s.declarations.length?(this.options.ecmaVersion>=9&&(this.type===gS._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,s)):(e>-1&&this.unexpected(e),this.parseFor(t,s))}var o=this.isContextual("let"),a=!1,r=new YS,l=this.parseExpression(!(e>-1)||"await",r);return this.type===gS._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===gS._in?e>-1&&this.unexpected(e):t.await=e>-1),o&&a&&this.raise(l.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(l,!1,r),this.checkLValPattern(l),this.parseForIn(t,l)):(this.checkExpressionErrors(r,!0),e>-1&&this.unexpected(e),this.parseFor(t,l))},KS.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,QS|(i?0:JS),!1,e)},KS.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(gS._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")},KS.parseReturnStatement=function(t){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(gS.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")},KS.parseSwitchStatement=function(t){var e;this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(gS.braceL),this.labels.push(qS),this.enterScope(0);for(var i=!1;this.type!==gS.braceR;)if(this.type===gS._case||this.type===gS._default){var s=this.type===gS._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),s?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(gS.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")},KS.parseThrowStatement=function(t){return this.next(),_S.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var XS=[];KS.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e="Identifier"===t.type;return this.enterScope(e?32:0),this.checkLValPattern(t,e?4:2),this.expect(gS.parenR),t},KS.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===gS._catch){var e=this.startNode();this.next(),this.eat(gS.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(gS._finally)?this.parseBlock():null,t.handler||t.finalizer||this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")},KS.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")},KS.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(zS),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")},KS.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")},KS.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")},KS.parseLabeledStatement=function(t,e,i,s){for(var n=0,o=this.labels;n<o.length;n+=1){o[n].name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var a=this.type.isLoop?"loop":this.type===gS._switch?"switch":null,r=this.labels.length-1;r>=0;r--){var l=this.labels[r];if(l.statementStart!==t.start)break;l.statementStart=this.start,l.kind=a}return this.labels.push({name:e,kind:a,statementStart:this.start}),t.body=this.parseStatement(s?-1===s.indexOf("label")?s+"label":s:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")},KS.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")},KS.parseBlock=function(t,e,i){for(void 0===t&&(t=!0),void 0===e&&(e=this.startNode()),e.body=[],this.expect(gS.braceL),t&&this.enterScope(0);this.type!==gS.braceR;){var s=this.parseStatement(null);e.body.push(s)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")},KS.parseFor=function(t,e){return t.init=e,this.expect(gS.semi),t.test=this.type===gS.semi?null:this.parseExpression(),this.expect(gS.semi),t.update=this.type===gS.parenR?null:this.parseExpression(),this.expect(gS.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")},KS.parseForIn=function(t,e){var i=this.type===gS._in;return this.next(),"VariableDeclaration"===e.type&&null!=e.declarations[0].init&&(!i||this.options.ecmaVersion<8||this.strict||"var"!==e.kind||"Identifier"!==e.declarations[0].id.type)&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(gS.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")},KS.parseVar=function(t,e,i,s){for(t.declarations=[],t.kind=i;;){var n=this.startNode();if(this.parseVarId(n,i),this.eat(gS.eq)?n.init=this.parseMaybeAssign(e):s||"const"!==i||this.type===gS._in||this.options.ecmaVersion>=6&&this.isContextual("of")?s||"Identifier"===n.id.type||e&&(this.type===gS._in||this.isContextual("of"))?n.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.unexpected(),t.declarations.push(this.finishNode(n,"VariableDeclarator")),!this.eat(gS.comma))break}return t},KS.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,"var"===e?1:2,!1)};var QS=1,JS=2;function ZS(t,e){var i=e.key.name,s=t[i],n="true";return"MethodDefinition"!==e.type||"get"!==e.kind&&"set"!==e.kind||(n=(e.static?"s":"i")+e.kind),"iget"===s&&"iset"===n||"iset"===s&&"iget"===n||"sget"===s&&"sset"===n||"sset"===s&&"sget"===n?(t[i]="true",!1):!!s||(t[i]=n,!1)}function tT(t,e){var i=t.computed,s=t.key;return!i&&("Identifier"===s.type&&s.name===e||"Literal"===s.type&&s.value===e)}KS.parseFunction=function(t,e,i,s,n){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!s)&&(this.type===gS.star&&e&JS&&this.unexpected(),t.generator=this.eat(gS.star)),this.options.ecmaVersion>=8&&(t.async=!!s),e&QS&&(t.id=4&e&&this.type!==gS.name?null:this.parseIdent(),!t.id||e&JS||this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?1:2:3));var o=this.yieldPos,a=this.awaitPos,r=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(FS(t.async,t.generator)),e&QS||(t.id=this.type===gS.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,n),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=r,this.finishNode(t,e&QS?"FunctionDeclaration":"FunctionExpression")},KS.parseFunctionParams=function(t){this.expect(gS.parenL),t.params=this.parseBindingList(gS.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},KS.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var s=this.enterClassBody(),n=this.startNode(),o=!1;for(n.body=[],this.expect(gS.braceL);this.type!==gS.braceR;){var a=this.parseClassElement(null!==t.superClass);a&&(n.body.push(a),"MethodDefinition"===a.type&&"constructor"===a.kind?(o&&this.raiseRecoverable(a.start,"Duplicate constructor in the same class"),o=!0):a.key&&"PrivateIdentifier"===a.key.type&&ZS(s,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(n,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")},KS.parseClassElement=function(t){if(this.eat(gS.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),s="",n=!1,o=!1,a="method",r=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(gS.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===gS.star?r=!0:s="static"}if(i.static=r,!s&&e>=8&&this.eatContextual("async")&&(!this.isClassElementNameStart()&&this.type!==gS.star||this.canInsertSemicolon()?s="async":o=!0),!s&&(e>=9||!o)&&this.eat(gS.star)&&(n=!0),!s&&!o&&!n){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=l:s=l)}if(s?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=s,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===gS.parenL||"method"!==a||n||o){var c=!i.static&&tT(i,"constructor"),d=c&&t;c&&"method"!==a&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=c?"constructor":a,this.parseClassMethod(i,n,o,d)}else this.parseClassField(i);return i},KS.isClassElementNameStart=function(){return this.type===gS.name||this.type===gS.privateId||this.type===gS.num||this.type===gS.string||this.type===gS.bracketL||this.type.keyword},KS.parseClassElementName=function(t){this.type===gS.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)},KS.parseClassMethod=function(t,e,i,s){var n=t.key;"constructor"===t.kind?(e&&this.raise(n.start,"Constructor can't be a generator"),i&&this.raise(n.start,"Constructor can't be an async method")):t.static&&tT(t,"prototype")&&this.raise(n.start,"Classes may not have a static property named prototype");var o=t.value=this.parseMethod(e,i,s);return"get"===t.kind&&0!==o.params.length&&this.raiseRecoverable(o.start,"getter should have no params"),"set"===t.kind&&1!==o.params.length&&this.raiseRecoverable(o.start,"setter should have exactly one param"),"set"===t.kind&&"RestElement"===o.params[0].type&&this.raiseRecoverable(o.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")},KS.parseClassField=function(t){if(tT(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&tT(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(gS.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")},KS.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(320);this.type!==gS.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")},KS.parseClassId=function(t,e){this.type===gS.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,2,!1)):(!0===e&&this.unexpected(),t.id=null)},KS.parseClassSuper=function(t){t.superClass=this.eat(gS._extends)?this.parseExprSubscripts(null,!1):null},KS.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared},KS.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(this.options.checkPrivateFields)for(var s=this.privateNameStack.length,n=0===s?null:this.privateNameStack[s-1],o=0;o<i.length;++o){var a=i[o];ES(e,a.name)||(n?n.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}},e(ZS,"isPrivateNameConflicted"),e(tT,"checkKeyName"),KS.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==gS.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")},KS.parseExport=function(t,e){if(this.next(),this.eat(gS.star))return this.parseExportAllDeclaration(t,e);if(this.eat(gS._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),"VariableDeclaration"===t.declaration.type?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==gS.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,s=t.specifiers;i<s.length;i+=1){var n=s[i];this.checkUnreserved(n.local),this.checkLocalExport(n.local),"Literal"===n.local.type&&this.raise(n.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")},KS.parseExportDeclaration=function(t){return this.parseStatement(null)},KS.parseExportDefaultDeclaration=function(){var t;if(this.type===gS._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,4|QS,!1,t)}if(this.type===gS._class){var i=this.startNode();return this.parseClass(i,"nullableID")}var s=this.parseMaybeAssign();return this.semicolon(),s},KS.checkExport=function(t,e,i){t&&("string"!=typeof e&&(e="Identifier"===e.type?e.name:e.value),ES(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)},KS.checkPatternExport=function(t,e){var i=e.type;if("Identifier"===i)this.checkExport(t,e,e.start);else if("ObjectPattern"===i)for(var s=0,n=e.properties;s<n.length;s+=1){var o=n[s];this.checkPatternExport(t,o)}else if("ArrayPattern"===i)for(var a=0,r=e.elements;a<r.length;a+=1){var l=r[a];l&&this.checkPatternExport(t,l)}else"Property"===i?this.checkPatternExport(t,e.value):"AssignmentPattern"===i?this.checkPatternExport(t,e.left):"RestElement"===i?this.checkPatternExport(t,e.argument):"ParenthesizedExpression"===i&&this.checkPatternExport(t,e.expression)},KS.checkVariableExport=function(t,e){if(t)for(var i=0,s=e;i<s.length;i+=1){var n=s[i];this.checkPatternExport(t,n.id)}},KS.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},KS.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")},KS.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(gS.braceL);!this.eat(gS.braceR);){if(i)i=!1;else if(this.expect(gS.comma),this.afterTrailingComma(gS.braceR))break;e.push(this.parseExportSpecifier(t))}return e},KS.parseImport=function(t){return this.next(),this.type===gS.string?(t.specifiers=XS,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===gS.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")},KS.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportSpecifier")},KS.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportDefaultSpecifier")},KS.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,2),this.finishNode(t,"ImportNamespaceSpecifier")},KS.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===gS.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(gS.comma)))return t;if(this.type===gS.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(gS.braceL);!this.eat(gS.braceR);){if(e)e=!1;else if(this.expect(gS.comma),this.afterTrailingComma(gS.braceR))break;t.push(this.parseImportSpecifier())}return t},KS.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===gS.string){var t=this.parseLiteral(this.value);return PS.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)},KS.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)},KS.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&"ExpressionStatement"===t.type&&"Literal"===t.expression.type&&"string"==typeof t.expression.value&&('"'===this.input[t.start]||"'"===this.input[t.start])};var eT=jS.prototype;eT.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&"await"===t.name&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var s=0,n=t.properties;s<n.length;s+=1){var o=n[s];this.toAssignable(o,e),"RestElement"!==o.type||"ArrayPattern"!==o.argument.type&&"ObjectPattern"!==o.argument.type||this.raise(o.argument.start,"Unexpected token")}break;case"Property":"init"!==t.kind&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),"AssignmentPattern"===t.argument.type&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==t.operator&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t},eT.toAssignableList=function(t,e){for(var i=t.length,s=0;s<i;s++){var n=t[s];n&&this.toAssignable(n,e)}if(i){var o=t[i-1];6===this.options.ecmaVersion&&e&&o&&"RestElement"===o.type&&"Identifier"!==o.argument.type&&this.unexpected(o.argument.start)}return t},eT.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")},eT.parseRestBinding=function(){var t=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==gS.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")},eT.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case gS.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(gS.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case gS.braceL:return this.parseObj(!0)}return this.parseIdent()},eT.parseBindingList=function(t,e,i,s){for(var n=[],o=!0;!this.eat(t);)if(o?o=!1:this.expect(gS.comma),e&&this.type===gS.comma)n.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===gS.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),n.push(a),this.type===gS.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}n.push(this.parseAssignableListItem(s))}return n},eT.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e},eT.parseBindingListItem=function(t){return t},eT.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(gS.eq))return i;var s=this.startNodeAt(t,e);return s.left=i,s.right=this.parseMaybeAssign(),this.finishNode(s,"AssignmentPattern")},eT.checkLValSimple=function(t,e,i){void 0===e&&(e=0);var s=0!==e;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(s?"Binding ":"Assigning to ")+t.name+" in strict mode"),s&&(2===e&&"let"===t.name&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(ES(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),5!==e&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":s&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return s&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(s?"Binding":"Assigning to")+" rvalue")}},eT.checkLValPattern=function(t,e,i){switch(void 0===e&&(e=0),t.type){case"ObjectPattern":for(var s=0,n=t.properties;s<n.length;s+=1){var o=n[s];this.checkLValInnerPattern(o,e,i)}break;case"ArrayPattern":for(var a=0,r=t.elements;a<r.length;a+=1){var l=r[a];l&&this.checkLValInnerPattern(l,e,i)}break;default:this.checkLValSimple(t,e,i)}},eT.checkLValInnerPattern=function(t,e,i){switch(void 0===e&&(e=0),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var iT=e((function(t,e,i,s,n){this.token=t,this.isExpr=!!e,this.preserveSpace=!!i,this.override=s,this.generator=!!n}),"TokContext"),sT={b_stat:new iT("{",!1),b_expr:new iT("{",!0),b_tmpl:new iT("${",!1),p_stat:new iT("(",!1),p_expr:new iT("(",!0),q_tmpl:new iT("`",!0,!0,(function(t){return t.tryReadTemplateToken()})),f_stat:new iT("function",!1),f_expr:new iT("function",!0),f_expr_gen:new iT("function",!0,!1,null,!0),f_gen:new iT("function",!1,!1,null,!0)},nT=jS.prototype;nT.initialContext=function(){return[sT.b_stat]},nT.curContext=function(){return this.context[this.context.length-1]},nT.braceIsBlock=function(t){var e=this.curContext();return e===sT.f_expr||e===sT.f_stat||(t!==gS.colon||e!==sT.b_stat&&e!==sT.b_expr?t===gS._return||t===gS.name&&this.exprAllowed?_S.test(this.input.slice(this.lastTokEnd,this.start)):t===gS._else||t===gS.semi||t===gS.eof||t===gS.parenR||t===gS.arrow||(t===gS.braceL?e===sT.b_stat:t!==gS._var&&t!==gS._const&&t!==gS.name&&!this.exprAllowed):!e.isExpr)},nT.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if("function"===e.token)return e.generator}return!1},nT.updateContext=function(t){var e,i=this.type;i.keyword&&t===gS.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr},nT.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)},gS.parenR.updateContext=gS.braceR.updateContext=function(){if(1!==this.context.length){var t=this.context.pop();t===sT.b_stat&&"function"===this.curContext().token&&(t=this.context.pop()),this.exprAllowed=!t.isExpr}else this.exprAllowed=!0},gS.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?sT.b_stat:sT.b_expr),this.exprAllowed=!0},gS.dollarBraceL.updateContext=function(){this.context.push(sT.b_tmpl),this.exprAllowed=!0},gS.parenL.updateContext=function(t){var e=t===gS._if||t===gS._for||t===gS._with||t===gS._while;this.context.push(e?sT.p_stat:sT.p_expr),this.exprAllowed=!0},gS.incDec.updateContext=function(){},gS._function.updateContext=gS._class.updateContext=function(t){!t.beforeExpr||t===gS._else||t===gS.semi&&this.curContext()!==sT.p_stat||t===gS._return&&_S.test(this.input.slice(this.lastTokEnd,this.start))||(t===gS.colon||t===gS.braceL)&&this.curContext()===sT.b_stat?this.context.push(sT.f_stat):this.context.push(sT.f_expr),this.exprAllowed=!1},gS.backQuote.updateContext=function(){this.curContext()===sT.q_tmpl?this.context.pop():this.context.push(sT.q_tmpl),this.exprAllowed=!1},gS.star.updateContext=function(t){if(t===gS._function){var e=this.context.length-1;this.context[e]===sT.f_expr?this.context[e]=sT.f_expr_gen:this.context[e]=sT.f_gen}this.exprAllowed=!0},gS.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==gS.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var oT=jS.prototype;function aT(t){return"MemberExpression"===t.type&&"PrivateIdentifier"===t.property.type||"ChainExpression"===t.type&&aT(t.expression)}oT.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&"SpreadElement"===t.type||this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var s,n=t.key;switch(n.type){case"Identifier":s=n.name;break;case"Literal":s=String(n.value);break;default:return}var o=t.kind;if(this.options.ecmaVersion>=6)"__proto__"===s&&"init"===o&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),e.proto=!0);else{var a=e[s="$"+s];if(a)("init"===o?this.strict&&a.init||a.get||a.set:a.init||a[o])&&this.raiseRecoverable(n.start,"Redefinition of property");else a=e[s]={init:!1,get:!1,set:!1};a[o]=!0}}},oT.parseExpression=function(t,e){var i=this.start,s=this.startLoc,n=this.parseMaybeAssign(t,e);if(this.type===gS.comma){var o=this.startNodeAt(i,s);for(o.expressions=[n];this.eat(gS.comma);)o.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(o,"SequenceExpression")}return n},oT.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var s=!1,n=-1,o=-1,a=-1;e?(n=e.parenthesizedAssign,o=e.trailingComma,a=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new YS,s=!0);var r=this.start,l=this.startLoc;this.type!==gS.parenL&&this.type!==gS.name||(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===t);var c=this.parseMaybeConditional(t,e);if(i&&(c=i.call(this,c,r,l)),this.type.isAssign){var d=this.startNodeAt(r,l);return d.operator=this.value,this.type===gS.eq&&(c=this.toAssignable(c,!1,e)),s||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=c.start&&(e.shorthandAssign=-1),this.type===gS.eq?this.checkLValPattern(c):this.checkLValSimple(c),d.left=c,this.next(),d.right=this.parseMaybeAssign(t),a>-1&&(e.doubleProto=a),this.finishNode(d,"AssignmentExpression")}return s&&this.checkExpressionErrors(e,!0),n>-1&&(e.parenthesizedAssign=n),o>-1&&(e.trailingComma=o),c},oT.parseMaybeConditional=function(t,e){var i=this.start,s=this.startLoc,n=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return n;if(this.eat(gS.question)){var o=this.startNodeAt(i,s);return o.test=n,o.consequent=this.parseMaybeAssign(),this.expect(gS.colon),o.alternate=this.parseMaybeAssign(t),this.finishNode(o,"ConditionalExpression")}return n},oT.parseExprOps=function(t,e){var i=this.start,s=this.startLoc,n=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||n.start===i&&"ArrowFunctionExpression"===n.type?n:this.parseExprOp(n,i,s,-1,t)},oT.parseExprOp=function(t,e,i,s,n){var o=this.type.binop;if(null!=o&&(!n||this.type!==gS._in)&&o>s){var a=this.type===gS.logicalOR||this.type===gS.logicalAND,r=this.type===gS.coalesce;r&&(o=gS.logicalAND.binop);var l=this.value;this.next();var c=this.start,d=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,n),c,d,o,n),u=this.buildBinary(e,i,t,h,l,a||r);return(a&&this.type===gS.coalesce||r&&(this.type===gS.logicalOR||this.type===gS.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(u,e,i,s,n)}return t},oT.buildBinary=function(t,e,i,s,n,o){"PrivateIdentifier"===s.type&&this.raise(s.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(t,e);return a.left=i,a.operator=n,a.right=s,this.finishNode(a,o?"LogicalExpression":"BinaryExpression")},oT.parseMaybeUnary=function(t,e,i,s){var n,o=this.start,a=this.startLoc;if(this.isContextual("await")&&this.canAwait)n=this.parseAwait(s),e=!0;else if(this.type.prefix){var r=this.startNode(),l=this.type===gS.incDec;r.operator=this.value,r.prefix=!0,this.next(),r.argument=this.parseMaybeUnary(null,!0,l,s),this.checkExpressionErrors(t,!0),l?this.checkLValSimple(r.argument):this.strict&&"delete"===r.operator&&"Identifier"===r.argument.type?this.raiseRecoverable(r.start,"Deleting local variable in strict mode"):"delete"===r.operator&&aT(r.argument)?this.raiseRecoverable(r.start,"Private fields can not be deleted"):e=!0,n=this.finishNode(r,l?"UpdateExpression":"UnaryExpression")}else if(e||this.type!==gS.privateId){if(n=this.parseExprSubscripts(t,s),this.checkExpressionErrors(t))return n;for(;this.type.postfix&&!this.canInsertSemicolon();){var c=this.startNodeAt(o,a);c.operator=this.value,c.prefix=!1,c.argument=n,this.checkLValSimple(n),this.next(),n=this.finishNode(c,"UpdateExpression")}}else(s||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),n=this.parsePrivateIdent(),this.type!==gS._in&&this.unexpected();return i||!this.eat(gS.starstar)?n:e?void this.unexpected(this.lastTokStart):this.buildBinary(o,a,n,this.parseMaybeUnary(null,!1,!1,s),"**",!1)},e(aT,"isPrivateFieldAccess"),oT.parseExprSubscripts=function(t,e){var i=this.start,s=this.startLoc,n=this.parseExprAtom(t,e);if("ArrowFunctionExpression"===n.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return n;var o=this.parseSubscripts(n,i,s,!1,e);return t&&"MemberExpression"===o.type&&(t.parenthesizedAssign>=o.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=o.start&&(t.parenthesizedBind=-1),t.trailingComma>=o.start&&(t.trailingComma=-1)),o},oT.parseSubscripts=function(t,e,i,s,n){for(var o=this.options.ecmaVersion>=8&&"Identifier"===t.type&&"async"===t.name&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start==5&&this.potentialArrowAt===t.start,a=!1;;){var r=this.parseSubscript(t,e,i,s,o,a,n);if(r.optional&&(a=!0),r===t||"ArrowFunctionExpression"===r.type){if(a){var l=this.startNodeAt(e,i);l.expression=r,r=this.finishNode(l,"ChainExpression")}return r}t=r}},oT.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(gS.arrow)},oT.parseSubscriptAsyncArrow=function(t,e,i,s){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,s)},oT.parseSubscript=function(t,e,i,s,n,o,a){var r=this.options.ecmaVersion>=11,l=r&&this.eat(gS.questionDot);s&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var c=this.eat(gS.bracketL);if(c||l&&this.type!==gS.parenL&&this.type!==gS.backQuote||this.eat(gS.dot)){var d=this.startNodeAt(e,i);d.object=t,c?(d.property=this.parseExpression(),this.expect(gS.bracketR)):this.type===gS.privateId&&"Super"!==t.type?d.property=this.parsePrivateIdent():d.property=this.parseIdent("never"!==this.options.allowReserved),d.computed=!!c,r&&(d.optional=l),t=this.finishNode(d,"MemberExpression")}else if(!s&&this.eat(gS.parenL)){var h=new YS,u=this.yieldPos,p=this.awaitPos,m=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var v=this.parseExprList(gS.parenR,this.options.ecmaVersion>=8,!1,h);if(n&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=u,this.awaitPos=p,this.awaitIdentPos=m,this.parseSubscriptAsyncArrow(e,i,v,a);this.checkExpressionErrors(h,!0),this.yieldPos=u||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=m||this.awaitIdentPos;var f=this.startNodeAt(e,i);f.callee=t,f.arguments=v,r&&(f.optional=l),t=this.finishNode(f,"CallExpression")}else if(this.type===gS.backQuote){(l||o)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var y=this.startNodeAt(e,i);y.tag=t,y.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(y,"TaggedTemplateExpression")}return t},oT.parseExprAtom=function(t,e,i){this.type===gS.slash&&this.readRegexp();var s,n=this.potentialArrowAt===this.start;switch(this.type){case gS._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),s=this.startNode(),this.next(),this.type!==gS.parenL||this.allowDirectSuper||this.raise(s.start,"super() call outside constructor of a subclass"),this.type!==gS.dot&&this.type!==gS.bracketL&&this.type!==gS.parenL&&this.unexpected(),this.finishNode(s,"Super");case gS._this:return s=this.startNode(),this.next(),this.finishNode(s,"ThisExpression");case gS.name:var o=this.start,a=this.startLoc,r=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!r&&"async"===l.name&&!this.canInsertSemicolon()&&this.eat(gS._function))return this.overrideContext(sT.f_expr),this.parseFunction(this.startNodeAt(o,a),0,!1,!0,e);if(n&&!this.canInsertSemicolon()){if(this.eat(gS.arrow))return this.parseArrowExpression(this.startNodeAt(o,a),[l],!1,e);if(this.options.ecmaVersion>=8&&"async"===l.name&&this.type===gS.name&&!r&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return l=this.parseIdent(!1),!this.canInsertSemicolon()&&this.eat(gS.arrow)||this.unexpected(),this.parseArrowExpression(this.startNodeAt(o,a),[l],!0,e)}return l;case gS.regexp:var c=this.value;return(s=this.parseLiteral(c.value)).regex={pattern:c.pattern,flags:c.flags},s;case gS.num:case gS.string:return this.parseLiteral(this.value);case gS._null:case gS._true:case gS._false:return(s=this.startNode()).value=this.type===gS._null?null:this.type===gS._true,s.raw=this.type.keyword,this.next(),this.finishNode(s,"Literal");case gS.parenL:var d=this.start,h=this.parseParenAndDistinguishExpression(n,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(h)&&(t.parenthesizedAssign=d),t.parenthesizedBind<0&&(t.parenthesizedBind=d)),h;case gS.bracketL:return s=this.startNode(),this.next(),s.elements=this.parseExprList(gS.bracketR,!0,!0,t),this.finishNode(s,"ArrayExpression");case gS.braceL:return this.overrideContext(sT.b_expr),this.parseObj(!1,t);case gS._function:return s=this.startNode(),this.next(),this.parseFunction(s,0);case gS._class:return this.parseClass(this.startNode(),!1);case gS._new:return this.parseNew();case gS.backQuote:return this.parseTemplate();case gS._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}},oT.parseExprAtomDefault=function(){this.unexpected()},oT.parseExprImport=function(t){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);return this.type!==gS.parenL||t?this.type===gS.dot?(e.meta=i,this.parseImportMeta(e)):void this.unexpected():this.parseDynamicImport(e)},oT.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(gS.parenR)){var e=this.start;this.eat(gS.comma)&&this.eat(gS.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")},oT.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),"meta"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")},oT.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),110===e.raw.charCodeAt(e.raw.length-1)&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")},oT.parseParenExpression=function(){this.expect(gS.parenL);var t=this.parseExpression();return this.expect(gS.parenR),t},oT.shouldParseArrow=function(t){return!this.canInsertSemicolon()},oT.parseParenAndDistinguishExpression=function(t,e){var i,s=this.start,n=this.startLoc,o=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a,r=this.start,l=this.startLoc,c=[],d=!0,h=!1,u=new YS,p=this.yieldPos,m=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==gS.parenR;){if(d?d=!1:this.expect(gS.comma),o&&this.afterTrailingComma(gS.parenR,!0)){h=!0;break}if(this.type===gS.ellipsis){a=this.start,c.push(this.parseParenItem(this.parseRestBinding())),this.type===gS.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}c.push(this.parseMaybeAssign(!1,u,this.parseParenItem))}var v=this.lastTokEnd,f=this.lastTokEndLoc;if(this.expect(gS.parenR),t&&this.shouldParseArrow(c)&&this.eat(gS.arrow))return this.checkPatternErrors(u,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=m,this.parseParenArrowList(s,n,c,e);c.length&&!h||this.unexpected(this.lastTokStart),a&&this.unexpected(a),this.checkExpressionErrors(u,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=m||this.awaitPos,c.length>1?((i=this.startNodeAt(r,l)).expressions=c,this.finishNodeAt(i,"SequenceExpression",v,f)):i=c[0]}else i=this.parseParenExpression();if(this.options.preserveParens){var y=this.startNodeAt(s,n);return y.expression=i,this.finishNode(y,"ParenthesizedExpression")}return i},oT.parseParenItem=function(t){return t},oT.parseParenArrowList=function(t,e,i,s){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,s)};var rT=[];oT.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(gS.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),"target"!==t.property.name&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var s=this.start,n=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),s,n,!0,!1),this.eat(gS.parenL)?t.arguments=this.parseExprList(gS.parenR,this.options.ecmaVersion>=8,!1):t.arguments=rT,this.finishNode(t,"NewExpression")},oT.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===gS.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),i.tail=this.type===gS.backQuote,this.finishNode(i,"TemplateElement")},oT.parseTemplate=function(t){void 0===t&&(t={});var e=t.isTagged;void 0===e&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var s=this.parseTemplateElement({isTagged:e});for(i.quasis=[s];!s.tail;)this.type===gS.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(gS.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(gS.braceR),i.quasis.push(s=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")},oT.isAsyncProp=function(t){return!t.computed&&"Identifier"===t.key.type&&"async"===t.key.name&&(this.type===gS.name||this.type===gS.num||this.type===gS.string||this.type===gS.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===gS.star)&&!_S.test(this.input.slice(this.lastTokEnd,this.start))},oT.parseObj=function(t,e){var i=this.startNode(),s=!0,n={};for(i.properties=[],this.next();!this.eat(gS.braceR);){if(s)s=!1;else if(this.expect(gS.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(gS.braceR))break;var o=this.parseProperty(t,e);t||this.checkPropClash(o,n,e),i.properties.push(o)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")},oT.parseProperty=function(t,e){var i,s,n,o,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(gS.ellipsis))return t?(a.argument=this.parseIdent(!1),this.type===gS.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(a.argument=this.parseMaybeAssign(!1,e),this.type===gS.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(t||e)&&(n=this.start,o=this.startLoc),t||(i=this.eat(gS.star)));var r=this.containsEsc;return this.parsePropertyName(a),!t&&!r&&this.options.ecmaVersion>=8&&!i&&this.isAsyncProp(a)?(s=!0,i=this.options.ecmaVersion>=9&&this.eat(gS.star),this.parsePropertyName(a)):s=!1,this.parsePropertyValue(a,t,i,s,n,o,e,r),this.finishNode(a,"Property")},oT.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e="get"===t.kind?0:1;if(t.value.params.length!==e){var i=t.value.start;"get"===t.kind?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else"set"===t.kind&&"RestElement"===t.value.params[0].type&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")},oT.parsePropertyValue=function(t,e,i,s,n,o,a,r){(i||s)&&this.type===gS.colon&&this.unexpected(),this.eat(gS.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),t.kind="init"):this.options.ecmaVersion>=6&&this.type===gS.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,s)):e||r||!(this.options.ecmaVersion>=5)||t.computed||"Identifier"!==t.key.type||"get"!==t.key.name&&"set"!==t.key.name||this.type===gS.comma||this.type===gS.braceR||this.type===gS.eq?this.options.ecmaVersion>=6&&!t.computed&&"Identifier"===t.key.type?((i||s)&&this.unexpected(),this.checkUnreserved(t.key),"await"!==t.key.name||this.awaitIdentPos||(this.awaitIdentPos=n),t.kind="init",e?t.value=this.parseMaybeDefault(n,o,this.copyNode(t.key)):this.type===gS.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),t.value=this.parseMaybeDefault(n,o,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected():((i||s)&&this.unexpected(),this.parseGetterSetter(t))},oT.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(gS.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(gS.bracketR),t.key;t.computed=!1}return t.key=this.type===gS.num||this.type===gS.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},oT.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)},oT.parseMethod=function(t,e,i){var s=this.startNode(),n=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(s),this.options.ecmaVersion>=6&&(s.generator=t),this.options.ecmaVersion>=8&&(s.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|FS(e,s.generator)|(i?128:0)),this.expect(gS.parenL),s.params=this.parseBindingList(gS.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(s,!1,!0,!1),this.yieldPos=n,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(s,"FunctionExpression")},oT.parseArrowExpression=function(t,e,i,s){var n=this.yieldPos,o=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(16|FS(i,!1)),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,s),this.yieldPos=n,this.awaitPos=o,this.awaitIdentPos=a,this.finishNode(t,"ArrowFunctionExpression")},oT.parseFunctionBody=function(t,e,i,s){var n=e&&this.type!==gS.braceL,o=this.strict,a=!1;if(n)t.body=this.parseMaybeAssign(s),t.expression=!0,this.checkParams(t,!1);else{var r=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);o&&!r||(a=this.strictDirective(this.end))&&r&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list");var l=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(t,!o&&!a&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,5),t.body=this.parseBlock(!1,void 0,a&&!o),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=l}this.exitScope()},oT.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){if("Identifier"!==i[e].type)return!1}return!0},oT.checkParams=function(t,e){for(var i=Object.create(null),s=0,n=t.params;s<n.length;s+=1){var o=n[s];this.checkLValInnerPattern(o,1,e?null:i)}},oT.parseExprList=function(t,e,i,s){for(var n=[],o=!0;!this.eat(t);){if(o)o=!1;else if(this.expect(gS.comma),e&&this.afterTrailingComma(t))break;var a=void 0;i&&this.type===gS.comma?a=null:this.type===gS.ellipsis?(a=this.parseSpread(s),s&&this.type===gS.comma&&s.trailingComma<0&&(s.trailingComma=this.start)):a=this.parseMaybeAssign(!1,s),n.push(a)}return n},oT.checkUnreserved=function(t){var e=t.start,i=t.end,s=t.name;(this.inGenerator&&"yield"===s&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===s&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&"arguments"===s&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),!this.inClassStaticBlock||"arguments"!==s&&"await"!==s||this.raise(e,"Cannot use "+s+" in class static initialization block"),this.keywords.test(s)&&this.raise(e,"Unexpected keyword '"+s+"'"),this.options.ecmaVersion<6&&-1!==this.input.slice(e,i).indexOf("\\"))||(this.strict?this.reservedWordsStrict:this.reservedWords).test(s)&&(this.inAsync||"await"!==s||this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+s+"' is reserved"))},oT.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),"await"!==e.name||this.awaitIdentPos||(this.awaitIdentPos=e.start)),e},oT.parseIdentNode=function(){var t=this.startNode();return this.type===gS.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,"class"!==t.name&&"function"!==t.name||this.lastTokEnd===this.lastTokStart+1&&46===this.input.charCodeAt(this.lastTokStart)||this.context.pop()):this.unexpected(),t},oT.parsePrivateIdent=function(){var t=this.startNode();return this.type===gS.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t},oT.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===gS.semi||this.canInsertSemicolon()||this.type!==gS.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(gS.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")},oT.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var lT=jS.prototype;lT.raise=function(t,e){var i=OS(this.input,t);e+=" ("+i.line+":"+i.column+")";var s=new SyntaxError(e);throw s.pos=t,s.loc=i,s.raisedAt=this.pos,s},lT.raiseRecoverable=lT.raise,lT.curPosition=function(){if(this.options.locations)return new LS(this.curLine,this.pos-this.lineStart)};var cT=jS.prototype,dT=e((function(t){this.flags=t,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1}),"Scope");cT.enterScope=function(t){this.scopeStack.push(new dT(t))},cT.exitScope=function(){this.scopeStack.pop()},cT.treatFunctionsAsVarInScope=function(t){return 2&t.flags||!this.inModule&&1&t.flags},cT.declareName=function(t,e,i){var s=!1;if(2===e){var n=this.currentScope();s=n.lexical.indexOf(t)>-1||n.functions.indexOf(t)>-1||n.var.indexOf(t)>-1,n.lexical.push(t),this.inModule&&1&n.flags&&delete this.undefinedExports[t]}else if(4===e){this.currentScope().lexical.push(t)}else if(3===e){var o=this.currentScope();s=this.treatFunctionsAsVar?o.lexical.indexOf(t)>-1:o.lexical.indexOf(t)>-1||o.var.indexOf(t)>-1,o.functions.push(t)}else for(var a=this.scopeStack.length-1;a>=0;--a){var r=this.scopeStack[a];if(r.lexical.indexOf(t)>-1&&!(32&r.flags&&r.lexical[0]===t)||!this.treatFunctionsAsVarInScope(r)&&r.functions.indexOf(t)>-1){s=!0;break}if(r.var.push(t),this.inModule&&1&r.flags&&delete this.undefinedExports[t],259&r.flags)break}s&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")},cT.checkLocalExport=function(t){-1===this.scopeStack[0].lexical.indexOf(t.name)&&-1===this.scopeStack[0].var.indexOf(t.name)&&(this.undefinedExports[t.name]=t)},cT.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},cT.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(259&e.flags)return e}},cT.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(259&e.flags&&!(16&e.flags))return e}};var hT=e((function(t,e,i){this.type="",this.start=e,this.end=0,t.options.locations&&(this.loc=new DS(t,i)),t.options.directSourceFile&&(this.sourceFile=t.options.directSourceFile),t.options.ranges&&(this.range=[e,0])}),"Node"),uT=jS.prototype;function pT(t,e,i,s){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=s),this.options.ranges&&(t.range[1]=i),t}uT.startNode=function(){return new hT(this,this.start,this.startLoc)},uT.startNodeAt=function(t,e){return new hT(this,t,e)},e(pT,"finishNodeAt"),uT.finishNode=function(t,e){return pT.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)},uT.finishNodeAt=function(t,e,i,s){return pT.call(this,t,e,i,s)},uT.copyNode=function(t){var e=new hT(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var mT,vT,fT="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",yT=fT+" Extended_Pictographic",gT=yT+" EBase EComp EMod EPres ExtPict",_T={9:fT,10:yT,11:yT,12:gT,13:gT,14:gT},bT={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},wT="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",xT="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ST=xT+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",TT=ST+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",CT=TT+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",IT=CT+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",kT={9:xT,10:ST,11:TT,12:CT,13:IT,14:IT+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz"},ET={};function AT(t){var e=ET[t]={binary:RS(_T[t]+" "+wT),binaryOfStrings:RS(bT[t]),nonBinary:{General_Category:RS(wT),Script:RS(kT[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}for(e(AT,"buildUnicodeData"),mT=0,vT=[9,10,11,12,13,14];mT<vT.length;mT+=1)AT(vT[mT]);var RT=jS.prototype,MT=e((function(t){this.parser=t,this.validFlags="gim"+(t.options.ecmaVersion>=6?"uy":"")+(t.options.ecmaVersion>=9?"s":"")+(t.options.ecmaVersion>=13?"d":"")+(t.options.ecmaVersion>=15?"v":""),this.unicodeProperties=ET[t.options.ecmaVersion>=14?14:t.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]}),"RegExpValidationState");function PT(t){return 36===t||t>=40&&t<=43||46===t||63===t||t>=91&&t<=94||t>=123&&t<=125}function LT(t){return dS(t,!0)||36===t||95===t}function DT(t){return hS(t,!0)||36===t||95===t||8204===t||8205===t}function OT(t){return t>=65&&t<=90||t>=97&&t<=122}function NT(t){return t>=0&&t<=1114111}MT.prototype.reset=e((function(t,e,i){var s=-1!==i.indexOf("v"),n=-1!==i.indexOf("u");this.start=0|t,this.source=e+"",this.flags=i,s&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=n&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=n&&this.parser.options.ecmaVersion>=9)}),"reset"),MT.prototype.raise=e((function(t){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+t)}),"raise"),MT.prototype.at=e((function(t,e){void 0===e&&(e=!1);var i=this.source,s=i.length;if(t>=s)return-1;var n=i.charCodeAt(t);if(!e&&!this.switchU||n<=55295||n>=57344||t+1>=s)return n;var o=i.charCodeAt(t+1);return o>=56320&&o<=57343?(n<<10)+o-56613888:n}),"at"),MT.prototype.nextIndex=e((function(t,e){void 0===e&&(e=!1);var i=this.source,s=i.length;if(t>=s)return s;var n,o=i.charCodeAt(t);return!e&&!this.switchU||o<=55295||o>=57344||t+1>=s||(n=i.charCodeAt(t+1))<56320||n>57343?t+1:t+2}),"nextIndex"),MT.prototype.current=e((function(t){return void 0===t&&(t=!1),this.at(this.pos,t)}),"current"),MT.prototype.lookahead=e((function(t){return void 0===t&&(t=!1),this.at(this.nextIndex(this.pos,t),t)}),"lookahead"),MT.prototype.advance=e((function(t){void 0===t&&(t=!1),this.pos=this.nextIndex(this.pos,t)}),"advance"),MT.prototype.eat=e((function(t,e){return void 0===e&&(e=!1),this.current(e)===t&&(this.advance(e),!0)}),"eat"),MT.prototype.eatChars=e((function(t,e){void 0===e&&(e=!1);for(var i=this.pos,s=0,n=t;s<n.length;s+=1){var o=n[s],a=this.at(i,e);if(-1===a||a!==o)return!1;i=this.nextIndex(i,e)}return this.pos=i,!0}),"eatChars"),RT.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,s=!1,n=!1,o=0;o<i.length;o++){var a=i.charAt(o);-1===e.indexOf(a)&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(a,o+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),"u"===a&&(s=!0),"v"===a&&(n=!0)}this.options.ecmaVersion>=15&&s&&n&&this.raise(t.start,"Invalid regular expression flag")},RT.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))},RT.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var s=i[e];-1===t.groupNames.indexOf(s)&&t.raise("Invalid named capture referenced")}},RT.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")},RT.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););},RT.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):!!(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))&&(this.regexp_eatQuantifier(t),!0)},RT.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1},RT.regexp_eatQuantifier=function(t,e){return void 0===e&&(e=!1),!!this.regexp_eatQuantifierPrefix(t,e)&&(t.eat(63),!0)},RT.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)},RT.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var s=0,n=-1;if(this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue),t.eat(125)))return-1!==n&&n<s&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1},RT.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)},RT.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1},RT.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1},RT.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):63===t.current()&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1},RT.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)},RT.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1},RT.regexp_eatSyntaxCharacter=function(t){var e=t.current();return!!PT(e)&&(t.lastIntValue=e,t.advance(),!0)},e(PT,"isSyntaxCharacter"),RT.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;-1!==(i=t.current())&&!PT(i);)t.advance();return t.pos!==e},RT.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return!(-1===e||36===e||e>=40&&e<=43||46===e||63===e||91===e||94===e||124===e)&&(t.advance(),!0)},RT.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t))return-1!==t.groupNames.indexOf(t.lastStringValue)&&t.raise("Duplicate capture group name"),void t.groupNames.push(t.lastStringValue);t.raise("Invalid group")}},RT.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1},RT.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=MS(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=MS(t.lastIntValue);return!0}return!1},RT.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),92===s&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),LT(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)},e(LT,"isRegExpIdentifierStart"),RT.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),92===s&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),DT(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)},e(DT,"isRegExpIdentifierPart"),RT.regexp_eatAtomEscape=function(t){return!!(this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t))||(t.switchU&&(99===t.current()&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)},RT.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1},RT.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1},RT.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)},RT.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1},RT.regexp_eatZero=function(t){return 48===t.current()&&!WT(t.lookahead())&&(t.lastIntValue=0,t.advance(),!0)},RT.regexp_eatControlEscape=function(t){var e=t.current();return 116===e?(t.lastIntValue=9,t.advance(),!0):110===e?(t.lastIntValue=10,t.advance(),!0):118===e?(t.lastIntValue=11,t.advance(),!0):102===e?(t.lastIntValue=12,t.advance(),!0):114===e&&(t.lastIntValue=13,t.advance(),!0)},RT.regexp_eatControlLetter=function(t){var e=t.current();return!!OT(e)&&(t.lastIntValue=e%32,t.advance(),!0)},e(OT,"isControlLetter"),RT.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){void 0===e&&(e=!1);var i=t.pos,s=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var n=t.lastIntValue;if(s&&n>=55296&&n<=56319){var o=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var a=t.lastIntValue;if(a>=56320&&a<=57343)return t.lastIntValue=1024*(n-55296)+(a-56320)+65536,!0}t.pos=o,t.lastIntValue=n}return!0}if(s&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&NT(t.lastIntValue))return!0;s&&t.raise("Invalid unicode escape"),t.pos=i}return!1},e(NT,"isValidUnicode"),RT.regexp_eatIdentityEscape=function(t){if(t.switchU)return!!this.regexp_eatSyntaxCharacter(t)||!!t.eat(47)&&(t.lastIntValue=47,!0);var e=t.current();return!(99===e||t.switchN&&107===e)&&(t.lastIntValue=e,t.advance(),!0)},RT.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do{t.lastIntValue=10*t.lastIntValue+(e-48),t.advance()}while((e=t.current())>=48&&e<=57);return!0}return!1};function BT(t){return 100===t||68===t||115===t||83===t||119===t||87===t}function VT(t){return OT(t)||95===t}function UT(t){return VT(t)||WT(t)}function HT(t){return 33===t||t>=35&&t<=38||t>=42&&t<=44||46===t||t>=58&&t<=64||94===t||96===t||126===t}function FT(t){return 40===t||41===t||45===t||47===t||t>=91&&t<=93||t>=123&&t<=125}function jT(t){return 33===t||35===t||37===t||38===t||44===t||45===t||t>=58&&t<=62||64===t||96===t||126===t}function WT(t){return t>=48&&t<=57}function GT(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function $T(t){return t>=65&&t<=70?t-65+10:t>=97&&t<=102?t-97+10:t-48}function YT(t){return t>=48&&t<=55}RT.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(BT(e))return t.lastIntValue=-1,t.advance(),1;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=80===e)||112===e)){var s;if(t.lastIntValue=-1,t.advance(),t.eat(123)&&(s=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&2===s&&t.raise("Invalid property name"),s;t.raise("Invalid property name")}return 0},e(BT,"isCharacterClassEscape"),RT.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,s),1}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,n)}return 0},RT.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){ES(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")},RT.regexp_validateUnicodePropertyNameOrValue=function(t,e){return t.unicodeProperties.binary.test(e)?1:t.switchV&&t.unicodeProperties.binaryOfStrings.test(e)?2:void t.raise("Invalid property name")},RT.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";VT(e=t.current());)t.lastStringValue+=MS(e),t.advance();return""!==t.lastStringValue},e(VT,"isUnicodePropertyNameCharacter"),RT.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";UT(e=t.current());)t.lastStringValue+=MS(e),t.advance();return""!==t.lastStringValue},e(UT,"isUnicodePropertyValueCharacter"),RT.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)},RT.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&2===i&&t.raise("Negated character class may contain strings"),!0}return!1},RT.regexp_classContents=function(t){return 93===t.current()?1:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),1)},RT.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;!t.switchU||-1!==e&&-1!==i||t.raise("Invalid character class"),-1!==e&&-1!==i&&e>i&&t.raise("Range out of order in character class")}}},RT.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(99===i||YT(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var s=t.current();return 93!==s&&(t.lastIntValue=s,t.advance(),!0)},RT.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)},RT.regexp_classSetExpression=function(t){var e,i=1;if(this.regexp_eatClassSetRange(t));else if(e=this.regexp_eatClassSetOperand(t)){2===e&&(i=2);for(var s=t.pos;t.eatChars([38,38]);)38!==t.current()&&(e=this.regexp_eatClassSetOperand(t))?2!==e&&(i=1):t.raise("Invalid character in character class");if(s!==t.pos)return i;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(s!==t.pos)return i}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(!(e=this.regexp_eatClassSetOperand(t)))return i;2===e&&(i=2)}},RT.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var s=t.lastIntValue;return-1!==i&&-1!==s&&i>s&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1},RT.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?1:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)},RT.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),s=this.regexp_classContents(t);if(t.eat(93))return i&&2===s&&t.raise("Negated character class may contain strings"),s;t.pos=e}if(t.eat(92)){var n=this.regexp_eatCharacterClassEscape(t);if(n)return n;t.pos=e}return null},RT.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null},RT.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)2===this.regexp_classString(t)&&(e=2);return e},RT.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return 1===e?1:2},RT.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return!(!this.regexp_eatCharacterEscape(t)&&!this.regexp_eatClassSetReservedPunctuator(t))||(t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1));var i=t.current();return!(i<0||i===t.lookahead()&&HT(i))&&(!FT(i)&&(t.advance(),t.lastIntValue=i,!0))},e(HT,"isClassSetReservedDoublePunctuatorCharacter"),e(FT,"isClassSetSyntaxCharacter"),RT.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return!!jT(e)&&(t.lastIntValue=e,t.advance(),!0)},e(jT,"isClassSetReservedPunctuator"),RT.regexp_eatClassControlLetter=function(t){var e=t.current();return!(!WT(e)&&95!==e)&&(t.lastIntValue=e%32,t.advance(),!0)},RT.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1},RT.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;WT(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e},e(WT,"isDecimalDigit"),RT.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;GT(i=t.current());)t.lastIntValue=16*t.lastIntValue+$T(i),t.advance();return t.pos!==e},e(GT,"isHexDigit"),e($T,"hexToInt"),RT.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=64*e+8*i+t.lastIntValue:t.lastIntValue=8*e+i}else t.lastIntValue=e;return!0}return!1},RT.regexp_eatOctalDigit=function(t){var e=t.current();return YT(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)},e(YT,"isOctalDigit"),RT.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var s=0;s<e;++s){var n=t.current();if(!GT(n))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+$T(n),t.advance()}return!0};var KT=e((function(t){this.type=t.type,this.value=t.value,this.start=t.start,this.end=t.end,t.options.locations&&(this.loc=new DS(t,t.startLoc,t.endLoc)),t.options.ranges&&(this.range=[t.start,t.end])}),"Token"),zT=jS.prototype;function qT(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}function XT(t){return"function"!=typeof BigInt?null:BigInt(t.replace(/_/g,""))}zT.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new KT(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},zT.getToken=function(){return this.next(),new KT(this)},"undefined"!=typeof Symbol&&(zT[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===gS.eof,value:e}}}}),zT.nextToken=function(){var t=this.curContext();return t&&t.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length?this.finishToken(gS.eof):t.override?t.override(this):void this.readToken(this.fullCharCodeAtPos())},zT.readToken=function(t){return dS(t,this.options.ecmaVersion>=6)||92===t?this.readWord():this.getTokenFromCode(t)},zT.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888},zT.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(-1===i&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var s=void 0,n=e;(s=xS(this.input,n,this.pos))>-1;)++this.curLine,n=this.lineStart=s;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())},zT.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),s=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!wS(s);)s=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())},zT.skipSpace=function(){t:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break t}break;default:if(!(t>8&&t<14||t>=5760&&SS.test(String.fromCharCode(t))))break t;++this.pos}}},zT.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)},zT.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===t&&46===e?(this.pos+=3,this.finishToken(gS.ellipsis)):(++this.pos,this.finishToken(gS.dot))},zT.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===t?this.finishOp(gS.assign,2):this.finishOp(gS.slash,1)},zT.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,s=42===t?gS.star:gS.modulo;return this.options.ecmaVersion>=7&&42===t&&42===e&&(++i,s=gS.starstar,e=this.input.charCodeAt(this.pos+2)),61===e?this.finishOp(gS.assign,i+1):this.finishOp(s,i)},zT.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(gS.assign,3);return this.finishOp(124===t?gS.logicalOR:gS.logicalAND,2)}return 61===e?this.finishOp(gS.assign,2):this.finishOp(124===t?gS.bitwiseOR:gS.bitwiseAND,1)},zT.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(gS.assign,2):this.finishOp(gS.bitwiseXOR,1)},zT.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?45!==e||this.inModule||62!==this.input.charCodeAt(this.pos+2)||0!==this.lastTokEnd&&!_S.test(this.input.slice(this.lastTokEnd,this.pos))?this.finishOp(gS.incDec,2):(this.skipLineComment(3),this.skipSpace(),this.nextToken()):61===e?this.finishOp(gS.assign,2):this.finishOp(gS.plusMin,1)},zT.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=62===t&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+i)?this.finishOp(gS.assign,i+1):this.finishOp(gS.bitShift,i)):33!==e||60!==t||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===e&&(i=2),this.finishOp(gS.relational,i)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},zT.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return 61===e?this.finishOp(gS.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===t&&62===e&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(gS.arrow)):this.finishOp(61===t?gS.eq:gS.prefix,1)},zT.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(46===e){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(gS.questionDot,2)}if(63===e){if(t>=12)if(61===this.input.charCodeAt(this.pos+2))return this.finishOp(gS.assign,3);return this.finishOp(gS.coalesce,2)}}return this.finishOp(gS.question,1)},zT.readToken_numberSign=function(){var t=35;if(this.options.ecmaVersion>=13&&(++this.pos,dS(t=this.fullCharCodeAtPos(),!0)||92===t))return this.finishToken(gS.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+MS(t)+"'")},zT.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(gS.parenL);case 41:return++this.pos,this.finishToken(gS.parenR);case 59:return++this.pos,this.finishToken(gS.semi);case 44:return++this.pos,this.finishToken(gS.comma);case 91:return++this.pos,this.finishToken(gS.bracketL);case 93:return++this.pos,this.finishToken(gS.bracketR);case 123:return++this.pos,this.finishToken(gS.braceL);case 125:return++this.pos,this.finishToken(gS.braceR);case 58:return++this.pos,this.finishToken(gS.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(gS.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(120===e||88===e)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===e||79===e)return this.readRadixNumber(8);if(98===e||66===e)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(gS.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+MS(t)+"'")},zT.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)},zT.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var s=this.input.charAt(this.pos);if(_S.test(s)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if("["===s)e=!0;else if("]"===s&&e)e=!1;else if("/"===s&&!e)break;t="\\"===s}++this.pos}var n=this.input.slice(i,this.pos);++this.pos;var o=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(o);var r=this.regexpState||(this.regexpState=new MT(this));r.reset(i,n,a),this.validateRegExpFlags(r),this.validateRegExpPattern(r);var l=null;try{l=new RegExp(n,a)}catch(t){}return this.finishToken(gS.regexp,{pattern:n,flags:a,value:l})},zT.readInt=function(t,e,i){for(var s=this.options.ecmaVersion>=12&&void 0===e,n=i&&48===this.input.charCodeAt(this.pos),o=this.pos,a=0,r=0,l=0,c=null==e?1/0:e;l<c;++l,++this.pos){var d=this.input.charCodeAt(this.pos),h=void 0;if(s&&95===d)n&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===r&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===l&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),r=d;else{if((h=d>=97?d-97+10:d>=65?d-65+10:d>=48&&d<=57?d-48:1/0)>=t)break;r=d,a=a*t+h}}return s&&95===r&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===o||null!=e&&this.pos-o!==e?null:a},e(qT,"stringToNumber"),e(XT,"stringToBigInt"),zT.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return null==i&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(i=XT(this.input.slice(e,this.pos)),++this.pos):dS(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(gS.num,i)},zT.readNumber=function(t){var e=this.pos;t||null!==this.readInt(10,void 0,!0)||this.raise(e,"Invalid number");var i=this.pos-e>=2&&48===this.input.charCodeAt(e);i&&this.strict&&this.raise(e,"Invalid number");var s=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&110===s){var n=XT(this.input.slice(e,this.pos));return++this.pos,dS(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(gS.num,n)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),46!==s||i||(++this.pos,this.readInt(10),s=this.input.charCodeAt(this.pos)),69!==s&&101!==s||i||(43!==(s=this.input.charCodeAt(++this.pos))&&45!==s||++this.pos,null===this.readInt(10)&&this.raise(e,"Invalid number")),dS(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var o=qT(this.input.slice(e,this.pos),i);return this.finishToken(gS.num,o)},zT.readCodePoint=function(){var t;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var e=++this.pos;t=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,t>1114111&&this.invalidStringToken(e,"Code point out of bounds")}else t=this.readHexChar(4);return t},zT.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var s=this.input.charCodeAt(this.pos);if(s===t)break;92===s?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):8232===s||8233===s?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(wS(s)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(gS.string,e)};var QT={};zT.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t!==QT)throw t;this.readInvalidTemplateToken()}this.inTemplateElement=!1},zT.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw QT;this.raise(t,e)},zT.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(96===i||36===i&&123===this.input.charCodeAt(this.pos+1))return this.pos!==this.start||this.type!==gS.template&&this.type!==gS.invalidTemplate?(t+=this.input.slice(e,this.pos),this.finishToken(gS.template,t)):36===i?(this.pos+=2,this.finishToken(gS.dollarBraceL)):(++this.pos,this.finishToken(gS.backQuote));if(92===i)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(wS(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:t+="\n";break;default:t+=String.fromCharCode(i)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}},zT.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(gS.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")},zT.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return MS(this.readCodePoint());case 116:return"\t";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var s=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],n=parseInt(s,8);return n>255&&(s=s.slice(0,-1),n=parseInt(s,8)),this.pos+=s.length-1,e=this.input.charCodeAt(this.pos),"0"===s&&56!==e&&57!==e||!this.strict&&!t||this.invalidStringToken(this.pos-1-s.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(n)}return wS(e)?"":String.fromCharCode(e)}},zT.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return null===i&&this.invalidStringToken(e,"Bad character escape sequence"),i},zT.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,s=this.options.ecmaVersion>=6;this.pos<this.input.length;){var n=this.fullCharCodeAtPos();if(hS(n,s))this.pos+=n<=65535?1:2;else{if(92!==n)break;this.containsEsc=!0,t+=this.input.slice(i,this.pos);var o=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(e?dS:hS)(a,s)||this.invalidStringToken(o,"Invalid Unicode escape"),t+=MS(a),i=this.pos}e=!1}return t+this.input.slice(i,this.pos)},zT.readWord=function(){var t=this.readWord1(),e=gS.name;return this.keywords.test(t)&&(e=fS[t]),this.finishToken(e,t)};function JT(t,e){return jS.parse(t,e)}jS.acorn={Parser:jS,version:"8.10.0",defaultOptions:NS,Position:LS,SourceLocation:DS,getLineInfo:OS,Node:hT,TokenType:uS,tokTypes:gS,keywordTypes:fS,TokContext:iT,tokContexts:sT,isIdentifierChar:hS,isIdentifierStart:dS,Token:KT,isNewLine:wS,lineBreak:_S,lineBreakG:bS,nonASCIIwhitespace:SS},e(JT,"parse");var ZT,tC,eC,iC,sC,nC,oC=class{constructor(t){ZT.set(this,void 0);const e=JT(t,{ecmaVersion:2020});!function(t,e,i,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?n.call(t,i):n?n.value=i:e.set(t,i)}(this,ZT,e.body,"f"),this.visitor=new Zx(function(t,e,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(t):s?s.value:e.get(t)}(this,ZT,"f")),this.scope=this.visitor.scope,this.scope.set("print",(t=>console.log(...t))),this.visitor.on("console",((t,e)=>{if("Identifier"===t.type)return console;if("CallExpression"===t.type&&"MemberExpression"===t.callee.type){const i=e.visitNode(t.callee.property),s=t.arguments.map((t=>e.visitNode(t))),n=console[i];return n?n(...s):"proceed"}return"proceed"})),this.visitor.on("Math",((t,e)=>{if("Identifier"===t.type)return Math;if("CallExpression"===t.type&&"MemberExpression"===t.callee.type){const i=e.visitNode(t.callee.property),s=t.arguments.map((t=>e.visitNode(t))),n=Math[i];return n?n(...s):"proceed"}return"proceed"})),this.visitor.on("String",((t,e)=>{if("Identifier"===t.type)return String;if("CallExpression"===t.type&&"MemberExpression"===t.callee.type){const i=e.visitNode(t.callee.property),s=t.arguments.map((t=>e.visitNode(t))),n=String[i];return n?n(s):"proceed"}return"proceed"})),this.visitor.on("Date",(t=>{if("Identifier"===t.type)return Date}))}interpret(){return this.visitor.run()}};function aC(t,e){const i=new oC(t);for(const[t,s]of Object.entries(e))i.scope.set(t,s);return i.interpret()}e(oC,"Jinter"),ZT=new WeakMap,e(aC,"evaluate");var rC=class{constructor(t){tC.add(this),eC.set(this,void 0),h(this,eC,t,"f")}get session(){return d(this,eC,"f")}stats(t,e,i){return o(this,void 0,void 0,(function*(){const s=new URL(t);s.searchParams.set("ver","2"),s.searchParams.set("c",e.client_name.toLowerCase()),s.searchParams.set("cbrver",e.client_version),s.searchParams.set("cver",e.client_version);for(const t of Object.keys(i))s.searchParams.set(t,i[t]);return yield d(this,eC,"f").http.fetch(s)}))}execute(t,e){var i,s;return o(this,void 0,void 0,(function*(){let n;if(e&&!e.protobuf){if(n=Object.assign({},e),Reflect.has(n,"browseId")&&d(this,tC,"m",nC).call(this,n.browseId)&&!d(this,eC,"f").logged_in)throw new Nw("You must be signed in to perform this operation.");Reflect.has(n,"override_endpoint")&&delete n.override_endpoint,Reflect.has(n,"parse")&&delete n.parse,Reflect.has(n,"request")&&delete n.request,Reflect.has(n,"clientActions")&&delete n.clientActions,Reflect.has(n,"settingItemIdForClient")&&delete n.settingItemIdForClient,Reflect.has(n,"action")&&(n.actions=[n.action],delete n.action),Reflect.has(n,"boolValue")&&(n.newValue={boolValue:n.boolValue},delete n.boolValue),Reflect.has(n,"token")&&(n.continuation=n.token,delete n.token),"YTMUSIC"===(null==n?void 0:n.client)&&(n.isAudioOnly=!0)}else e&&(n=e.serialized_data);const o=Reflect.has(e||{},"override_endpoint")?null==e?void 0:e.override_endpoint:t,a=yield d(this,eC,"f").http.fetch(o,{method:"POST",body:(null==e?void 0:e.protobuf)?n:JSON.stringify(n||{}),headers:{"Content-Type":(null==e?void 0:e.protobuf)?"application/x-protobuf":"application/json"}});if(null==e?void 0:e.parse){let t=Aw.parseResponse(yield a.json());if(d(this,tC,"m",sC).call(this,t)&&"navigateAction"===(null===(s=null===(i=t.on_response_received_actions)||void 0===i?void 0:i.first())||void 0===s?void 0:s.type)){const e=t.on_response_received_actions.firstOfType(iy);e&&(t=yield e.endpoint.call(this,{parse:!0}))}return t}return d(this,tC,"m",iC).call(this,a)}))}};e(rC,"Actions"),eC=new WeakMap,tC=new WeakSet,iC=e((function(t){return o(this,void 0,void 0,(function*(){return{success:t.ok,status_code:t.status,data:JSON.parse(yield t.text())}}))}),"_Actions_wrap"),sC=e((function(t){return"on_response_received_actions"in t}),"_Actions_isBrowse"),nC=e((function(t){return["FElibrary","FEhistory","FEsubscriptions","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(t)}),"_Actions_needsLogin");var lC,cC,dC,hC,uC,pC=rC,mC=class{constructor(t,e,i,s){lC.set(this,void 0),cC.set(this,void 0),dC.set(this,void 0),hC.set(this,void 0),uC.set(this,void 0),h(this,lC,i,"f"),h(this,dC,e,"f"),h(this,hC,t,"f"),h(this,uC,s,"f"),h(this,cC,new Map,"f")}static create(t,e=Ow.shim.fetch){return o(this,void 0,void 0,(function*(){const i=new URL("/iframe_api",A.YT_BASE),s=yield e(i);if(200!==s.status)throw new Hw("Failed to request player id");const n=Gw(yield s.text(),"player\\/","\\/");if(!n)throw new Hw("Failed to get player id");if(t){const e=yield mC.fromCache(t,n);if(e)return e}const o=new URL(`/s/player/${n}/player_ias.vflset/en_US/base.js`,A.YT_BASE),a=yield e(o,{headers:{"user-agent":Yw("desktop")}});if(!a.ok)throw new Hw(`Failed to get player data: ${a.status}`);const r=yield a.text(),l=this.extractSigTimestamp(r),c=this.extractSigSourceCode(r),d=this.extractNSigSourceCode(r);return yield mC.fromSource(t,l,c,d,n)}))}decipher(t,e,i,s){if(!(t=t||e||i))throw new Hw("No valid URL to decipher");const n=new URLSearchParams(t),o=new URL(n.get("url")||t);if(e||i){const t=Ow.shim.eval(d(this,dC,"f"),{sig:n.get("s")});if("string"!=typeof t)throw new Hw("Failed to decipher signature");const e=n.get("sp");e?o.searchParams.set(e,t):o.searchParams.set("signature",t)}const a=o.searchParams.get("n");if(a){let t;if(s&&s.has(a))t=s.get(a);else{if(t=Ow.shim.eval(d(this,lC,"f"),{nsig:a}),"string"!=typeof t)throw new Hw("Failed to decipher nsig");t.startsWith("enhanced_except_")?console.warn('Warning:\nCould not transform nsig, download may be throttled.\nChanging the InnerTube client to "ANDROID" might help!'):s&&s.set(a,t)}o.searchParams.set("n",t)}switch(o.searchParams.get("c")){case"WEB":o.searchParams.set("cver",M.WEB.VERSION);break;case"WEB_REMIX":o.searchParams.set("cver",M.YTMUSIC.VERSION);break;case"WEB_KIDS":o.searchParams.set("cver",M.WEB_KIDS.VERSION);break;case"ANDROID":o.searchParams.set("cver",M.ANDROID.VERSION);break;case"ANDROID_MUSIC":o.searchParams.set("cver",M.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":o.searchParams.set("cver",M.TV_EMBEDDED.VERSION)}return o.toString()}static fromCache(t,e){return o(this,void 0,void 0,(function*(){const i=yield t.get(e);if(!i)return null;const s=new DataView(i);if(s.getUint32(0,!0)!==mC.LIBRARY_VERSION)return null;const n=s.getUint32(4,!0),o=s.getUint32(8,!0),a=i.slice(12,12+o),r=i.slice(12+o),l=new TextDecoder,c=l.decode(a),d=l.decode(r);return new mC(n,c,d,e)}))}static fromSource(t,e,i,s,n){return o(this,void 0,void 0,(function*(){const o=new mC(e,i,s,n);return yield o.cache(t),o}))}cache(t){return o(this,void 0,void 0,(function*(){if(!t)return;const e=new TextEncoder,i=e.encode(d(this,dC,"f")),s=e.encode(d(this,lC,"f")),n=new ArrayBuffer(12+i.byteLength+s.byteLength),o=new DataView(n);o.setUint32(0,mC.LIBRARY_VERSION,!0),o.setUint32(4,d(this,hC,"f"),!0),o.setUint32(8,i.byteLength,!0),new Uint8Array(n).set(i,12),new Uint8Array(n).set(s,12+i.byteLength),yield t.set(d(this,uC,"f"),new Uint8Array(n))}))}static extractSigTimestamp(t){return parseInt(Gw(t,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(t){var e,i,s;const n=Gw(t,'function(a){a=a.split("")','return a.join("")}'),o=null===(s=null===(i=null===(e=null==n?void 0:n.split(/\.|\[/))||void 0===e?void 0:e[0])||void 0===i?void 0:i.replace(";",""))||void 0===s?void 0:s.trim(),a=Gw(t,`var ${o}={`,"};");return a&&n||console.warn(new Hw("Failed to extract signature decipher algorithm")),`function descramble_sig(a) { a = a.split(""); let ${o}={${a}}${n} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(t){const e=`function descramble_nsig(a) { let b=a.split("")${Gw(t,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return e||console.warn(new Hw("Failed to extract n-token decipher algorithm")),e}get url(){return new URL(`/s/player/${d(this,uC,"f")}/player_ias.vflset/en_US/base.js`,A.YT_BASE).toString()}get sts(){return d(this,hC,"f")}get nsig_sc(){return d(this,lC,"f")}get sig_sc(){return d(this,dC,"f")}static get LIBRARY_VERSION(){return 2}};e(mC,"Player"),lC=new WeakMap,cC=new WeakMap,dC=new WeakMap,hC=new WeakMap,uC=new WeakMap;var vC,fC,yC,gC,_C,bC,wC,xC,SC,TC,CC=mC,IC=class{constructor(t){vC.add(this),fC.set(this,void 0),yC.set(this,void 0),gC.set(this,void 0),_C.set(this,5),h(this,yC,t,"f")}init(t){return o(this,void 0,void 0,(function*(){h(this,gC,t,"f"),this.validateCredentials()?this.has_access_token_expired||d(this,yC,"f").emit("auth",{credentials:d(this,gC,"f"),status:"SUCCESS"}):(yield d(this,vC,"m",bC).call(this))||(yield d(this,vC,"m",wC).call(this))}))}cacheCredentials(){var t;return o(this,void 0,void 0,(function*(){const e=(new TextEncoder).encode(JSON.stringify(d(this,gC,"f")));yield null===(t=d(this,yC,"f").cache)||void 0===t?void 0:t.set("youtubei_oauth_credentials",e.buffer)}))}removeCache(){var t;return o(this,void 0,void 0,(function*(){yield null===(t=d(this,yC,"f").cache)||void 0===t?void 0:t.remove("youtubei_oauth_credentials")}))}refreshIfRequired(){return o(this,void 0,void 0,(function*(){this.has_access_token_expired&&(yield d(this,vC,"m",SC).call(this))}))}revokeCredentials(){return o(this,void 0,void 0,(function*(){if(d(this,gC,"f"))return yield this.removeCache(),d(this,yC,"f").http.fetch_function(new URL(`/o/oauth2/revoke?token=${encodeURIComponent(d(this,gC,"f").access_token)}`,A.YT_BASE),{method:"post"})}))}get credentials(){return d(this,gC,"f")}get has_access_token_expired(){const t=d(this,gC,"f")?new Date(d(this,gC,"f").expires).getTime():-1/0;return(new Date).getTime()>t}validateCredentials(){return d(this,gC,"f")&&Reflect.has(d(this,gC,"f"),"access_token")&&Reflect.has(d(this,gC,"f"),"refresh_token")&&Reflect.has(d(this,gC,"f"),"expires")||!1}};e(IC,"OAuth"),fC=new WeakMap,yC=new WeakMap,gC=new WeakMap,_C=new WeakMap,vC=new WeakSet,bC=e((function(){var t;return o(this,void 0,void 0,(function*(){const e=yield null===(t=d(this,yC,"f").cache)||void 0===t?void 0:t.get("youtubei_oauth_credentials");if(!e)return!1;const i=new TextDecoder,s=JSON.parse(i.decode(e));return h(this,gC,{access_token:s.access_token,refresh_token:s.refresh_token,expires:new Date(s.expires)},"f"),d(this,yC,"f").emit("auth",{credentials:d(this,gC,"f"),status:"SUCCESS"}),!0}))}),"_OAuth_loadCachedCredentials"),wC=e((function(){return o(this,void 0,void 0,(function*(){h(this,fC,yield d(this,vC,"m",TC).call(this),"f");const t={client_id:d(this,fC,"f").client_id,scope:R.SCOPE,device_id:Ow.shim.uuidv4(),device_model:R.MODEL_NAME},e=yield d(this,yC,"f").http.fetch_function(new URL("/o/oauth2/device/code",A.YT_BASE),{body:JSON.stringify(t),method:"POST",headers:{"Content-Type":"application/json"}}),i=yield e.json();d(this,yC,"f").emit("auth-pending",i),h(this,_C,i.interval,"f"),d(this,vC,"m",xC).call(this,i.device_code)}))}),"_OAuth_getUserCode"),xC=e((function(t){const e=setInterval((()=>o(this,void 0,void 0,(function*(){const i=Object.assign(Object.assign({},d(this,fC,"f")),{code:t,grant_type:R.GRANT_TYPE});try{const t=yield d(this,yC,"f").http.fetch_function(new URL("/o/oauth2/token",A.YT_BASE),{body:JSON.stringify(i),method:"POST",headers:{"Content-Type":"application/json"}}),s=yield t.json();if(s.error){switch(s.error){case"access_denied":d(this,yC,"f").emit("auth-error",new Uw("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":d(this,yC,"f").emit("auth-error",new Uw("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(e),d(this,vC,"m",wC).call(this)}return}const n=new Date((new Date).getTime()+1e3*s.expires_in);h(this,gC,{access_token:s.access_token,refresh_token:s.refresh_token,expires:n},"f"),d(this,yC,"f").emit("auth",{credentials:d(this,gC,"f"),status:"SUCCESS"}),clearInterval(e)}catch(t){return clearInterval(e),d(this,yC,"f").emit("auth-error",new Uw("Could not obtain user code.",{status:"FAILED",error:t}))}}))),1e3*d(this,_C,"f"))}),"_OAuth_startPolling"),SC=e((function(){return o(this,void 0,void 0,(function*(){if(!d(this,gC,"f"))return;h(this,fC,yield d(this,vC,"m",TC).call(this),"f");const t=Object.assign(Object.assign({},d(this,fC,"f")),{refresh_token:d(this,gC,"f").refresh_token,grant_type:"refresh_token"}),e=yield d(this,yC,"f").http.fetch_function(new URL("/o/oauth2/token",A.YT_BASE),{body:JSON.stringify(t),method:"POST",headers:{"Content-Type":"application/json"}}),i=yield e.json(),s=new Date((new Date).getTime()+1e3*i.expires_in);h(this,gC,{access_token:i.access_token,refresh_token:i.refresh_token||d(this,gC,"f").refresh_token,expires:s},"f"),d(this,yC,"f").emit("update-credentials",{credentials:d(this,gC,"f"),status:"SUCCESS"})}))}),"_OAuth_refreshAccessToken"),TC=e((function(){var t;return o(this,void 0,void 0,(function*(){const e=yield d(this,yC,"f").http.fetch_function(new URL("/tv",A.YT_BASE),{headers:R.HEADERS}),i=yield e.text(),s=null===(t=R.REGEX.AUTH_SCRIPT.exec(i))||void 0===t?void 0:t[1];if(!s)throw new Uw("Could not obtain script url.",{status:"FAILED"});const n=yield d(this,yC,"f").http.fetch(s,{baseURL:A.YT_BASE}),o=(yield n.text()).replace(/\n/g,"").match(R.REGEX.CLIENT_IDENTITY),a=null==o?void 0:o.groups;if(!a)throw new Uw("Could not obtain client identity.",{status:"FAILED"});return a}))}),"_OAuth_getClientIdentity");var kC,EC,AC,RC,MC,PC,LC,DC,OC,NC,BC=IC;(NC=OC||(OC={})).WEB="WEB",NC.KIDS="WEB_KIDS",NC.MUSIC="WEB_REMIX",NC.IOS="iOS",NC.ANDROID="ANDROID",NC.ANDROID_MUSIC="ANDROID_MUSIC",NC.ANDROID_CREATOR="ANDROID_CREATOR",NC.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER";var VC=class extends jg{constructor(t,e,i,s,n,o,a,r){super(),EC.set(this,void 0),AC.set(this,void 0),RC.set(this,void 0),MC.set(this,void 0),PC.set(this,void 0),h(this,RC,t,"f"),h(this,MC,s,"f"),h(this,AC,e,"f"),h(this,EC,i,"f"),h(this,PC,n,"f"),this.http=new V_(this,o,a),this.actions=new pC(this),this.oauth=new BC(this),this.logged_in=!!o,this.cache=r}on(t,e){super.on(t,e)}once(t,e){super.once(t,e)}static create(t={}){return o(this,void 0,void 0,(function*(){const{context:e,api_key:i,api_version:s,account_index:n}=yield VC.getSessionData(t.lang,t.location,t.account_index,t.visitor_data,t.enable_safety_mode,t.generate_session_locally,t.device_category,t.client_type,t.timezone,t.fetch,t.on_behalf_of_user);return new VC(e,i,s,n,!1===t.retrieve_player?void 0:yield CC.create(t.cache,t.fetch),t.cookie,t.fetch,t.cache)}))}static getSessionData(t="",e="",i=0,s="",n=!1,a=!1,r="desktop",l=OC.WEB,c=Intl.DateTimeFormat().resolvedOptions().timeZone,h=Ow.shim.fetch,u){return o(this,void 0,void 0,(function*(){let o;const p={lang:t,location:e,time_zone:c,device_category:r,client_name:l,enable_safety_mode:n,visitor_data:s,on_behalf_of_user:u};if(a)o=d(this,kC,"m",DC).call(this,p);else try{o=yield d(this,kC,"m",LC).call(this,p,h)}catch(t){o=d(this,kC,"m",DC).call(this,p)}return Object.assign(Object.assign({},o),{account_index:i})}))}signIn(t){return o(this,void 0,void 0,(function*(){return new Promise(((i,s)=>o(this,void 0,void 0,(function*(){const n=e((t=>s(t)),"error_handler");this.once("auth",(t=>{this.off("auth-error",n),"SUCCESS"===t.status&&(this.logged_in=!0,i()),s(t)})),this.once("auth-error",n);try{yield this.oauth.init(t),this.oauth.validateCredentials()&&(yield this.oauth.refreshIfRequired(),this.logged_in=!0,i())}catch(t){s(t)}}))))}))}signOut(){return o(this,void 0,void 0,(function*(){if(!this.logged_in)throw new Nw("You must be signed in to perform this operation.");const t=yield this.oauth.revokeCredentials();return this.logged_in=!1,t}))}get key(){return d(this,AC,"f")}get api_version(){return d(this,EC,"f")}get client_version(){return d(this,RC,"f").client.clientVersion}get client_name(){return d(this,RC,"f").client.clientName}get account_index(){return d(this,MC,"f")}get context(){return d(this,RC,"f")}get player(){return d(this,PC,"f")}get lang(){return d(this,RC,"f").client.hl}};e(VC,"Session"),kC=VC,EC=new WeakMap,AC=new WeakMap,RC=new WeakMap,MC=new WeakMap,PC=new WeakMap,LC=e((function(t,e=Ow.shim.fetch){return o(this,void 0,void 0,(function*(){const i=new URL("/sw.js_data",A.YT_BASE);let s=zw(11);if(t.visitor_data){s=xo(t.visitor_data).id}const n=yield e(i,{headers:{"accept-language":t.lang||"en-US","user-agent":Yw("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${t.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${s};`}});if(!n.ok)throw new Fw(`Failed to retrieve session data: ${n.status}`);const o=yield n.text(),a=JSON.parse(o.replace(/^\)\]\}'/,""))[0][2],r=`v${a[0][0][6]}`,[[l],c]=a;return{context:{client:{hl:l[0],gl:t.location||l[2],remoteHost:l[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:l[13],clientName:t.client_name,clientVersion:l[16],osName:l[17],osVersion:l[18],platform:t.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:l[79]||t.time_zone,browserName:l[86],browserVersion:l[87],originalUrl:A.YT_BASE,deviceMake:l[11],deviceModel:l[12],utcOffsetMinutes:-(new Date).getTimezoneOffset()},user:{enableSafetyMode:t.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:t.on_behalf_of_user}},api_key:c,api_version:r}}))}),"_Session_retrieveSessionData"),DC=e((function(t){let e=zw(11);if(t.visitor_data){e=xo(t.visitor_data).id}return{context:{client:{hl:t.lang||"en",gl:t.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:wo(e,Math.floor(Date.now()/1e3)),clientName:t.client_name,clientVersion:M.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:t.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:t.time_zone,originalUrl:A.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-(new Date).getTimezoneOffset()},user:{enableSafetyMode:t.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:t.on_behalf_of_user}},api_key:M.WEB.API_KEY,api_version:M.WEB.API_VERSION}}),"_Session_generateSessionData");var UC=VC,HC={};i(HC,{Kids:()=>wk,Music:()=>Ek,Studio:()=>Mk});var FC={};i(FC,{Account:()=>lI,Browse:()=>uI,BrowseEndpoint:()=>jC,Channel:()=>fI,Comment:()=>SI,GetNotificationMenuEndpoint:()=>$C,GuideEndpoint:()=>zC,Like:()=>RI,Music:()=>HI,NextEndpoint:()=>XC,Notification:()=>GI,PlayerEndpoint:()=>ZC,Playlist:()=>XI,ResolveURLEndpoint:()=>iI,SearchEndpoint:()=>oI,Subscription:()=>sk,Upload:()=>dk});var jC={};i(jC,{PATH:()=>WC,build:()=>GC});var WC="/browse";function GC(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}e(GC,"build");var $C={};i($C,{PATH:()=>YC,build:()=>KC});var YC="/notification/get_notification_menu";function KC(t){return Object.assign({notificationsMenuRequestType:t.notifications_menu_request_type})}e(KC,"build");var zC={};i(zC,{PATH:()=>qC});var qC="/guide",XC={};i(XC,{PATH:()=>QC,build:()=>JC});var QC="/next";function JC(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}e(JC,"build");var ZC={};i(ZC,{PATH:()=>tI,build:()=>eI});var tI="/player";function eI(t){const e="ANDROID"===t.client||"YTMUSIC_ANDROID"===t.client||"YTSTUDIO_ANDROID"===t.client;return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:e?"2AMBCgIQBg":t.params})}e(eI,"build");var iI={};i(iI,{PATH:()=>sI,build:()=>nI});var sI="/navigation/resolve_url";function nI(t){return Object.assign({url:t.url})}e(nI,"build");var oI={};i(oI,{PATH:()=>aI,build:()=>rI});var aI="/search";function rI(t){return Object.assign({query:t.query,params:t.params,continuation:t.continuation,client:t.client})}e(rI,"build");var lI={};i(lI,{AccountListEndpoint:()=>cI});var cI={};i(cI,{PATH:()=>dI,build:()=>hI});var dI="/account/accounts_list";function hI(){return{client:"ANDROID"}}e(hI,"build");var uI={};i(uI,{EditPlaylistEndpoint:()=>pI});var pI={};i(pI,{PATH:()=>mI,build:()=>vI});var mI="/browse/edit_playlist";function vI(t){return{playlistId:t.playlist_id,actions:t.actions.map((t=>Object.assign({action:t.action},{addedVideoId:t.added_video_id,setVideoId:t.set_video_id,movedSetVideoIdPredecessor:t.moved_set_video_id_predecessor,playlistDescription:t.playlist_description,playlistName:t.playlist_name})))}}e(vI,"build");var fI={};i(fI,{EditDescriptionEndpoint:()=>bI,EditNameEndpoint:()=>yI});var yI={};i(yI,{PATH:()=>gI,build:()=>_I});var gI="/channel/edit_name";function _I(t){return{givenName:t.given_name,client:"ANDROID"}}e(_I,"build");var bI={};i(bI,{PATH:()=>wI,build:()=>xI});var wI="/channel/edit_description";function xI(t){return{givenDescription:t.given_description,client:"ANDROID"}}e(xI,"build");var SI={};i(SI,{CreateCommentEndpoint:()=>kI,PerformCommentActionEndpoint:()=>TI});var TI={};i(TI,{PATH:()=>CI,build:()=>II});var CI="/comment/perform_comment_action";function II(t){return Object.assign({actions:t.actions},{client:t.client})}e(II,"build");var kI={};i(kI,{PATH:()=>EI,build:()=>AI});var EI="/comment/create_comment";function AI(t){return Object.assign({commentText:t.comment_text,createCommentParams:t.create_comment_params},{client:t.client})}e(AI,"build");var RI={};i(RI,{DislikeEndpoint:()=>DI,LikeEndpoint:()=>MI,RemoveLikeEndpoint:()=>BI});var MI={};i(MI,{PATH:()=>PI,build:()=>LI});var PI="/like/like";function LI(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}e(LI,"build");var DI={};i(DI,{PATH:()=>OI,build:()=>NI});var OI="/like/dislike";function NI(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}e(NI,"build");var BI={};i(BI,{PATH:()=>VI,build:()=>UI});var VI="/like/removelike";function UI(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}e(UI,"build");var HI={};i(HI,{GetSearchSuggestionsEndpoint:()=>FI});var FI={};i(FI,{PATH:()=>jI,build:()=>WI});var jI="/music/get_search_suggestions";function WI(t){return{input:t.input,client:"YTMUSIC"}}e(WI,"build");var GI={};i(GI,{GetUnseenCountEndpoint:()=>$I,ModifyChannelPreferenceEndpoint:()=>KI});var $I={};i($I,{PATH:()=>YI});var YI="/notification/get_unseen_count",KI={};i(KI,{PATH:()=>zI,build:()=>qI});var zI="/notification/modify_channel_preference";function qI(t){return Object.assign({params:t.params},{client:t.client})}e(qI,"build");var XI={};i(XI,{CreateEndpoint:()=>QI,DeleteEndpoint:()=>tk});var QI={};i(QI,{PATH:()=>JI,build:()=>ZI});var JI="/playlist/create";function ZI(t){return{title:t.title,ids:t.ids}}e(ZI,"build");var tk={};i(tk,{PATH:()=>ek,build:()=>ik});var ek="/playlist/delete";function ik(t){return{playlistId:t.playlist_id}}e(ik,"build");var sk={};i(sk,{SubscribeEndpoint:()=>nk,UnsubscribeEndpoint:()=>rk});var nk={};i(nk,{PATH:()=>ok,build:()=>ak});var ok="/subscription/subscribe";function ak(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}e(ak,"build");var rk={};i(rk,{PATH:()=>lk,build:()=>ck});var lk="/subscription/unsubscribe";function ck(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}e(ck,"build");var dk={};i(dk,{CreateVideoEndpoint:()=>hk});var hk={};i(hk,{PATH:()=>pk,build:()=>mk});var uk,pk="/upload/createvideo";function mk(t){return Object.assign({resourceId:{scottyResourceId:{id:t.resource_id.scotty_resource_id.id}},frontendUploadId:t.frontend_upload_id,initialMetadata:{title:{newTitle:t.initial_metadata.title.new_title},description:{newDescription:t.initial_metadata.description.new_description,shouldSegment:t.initial_metadata.description.should_segment},privacy:{newPrivacy:t.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!t.initial_metadata.draft_state.is_draft}}},{client:t.client})}e(mk,"build");var vk=class{constructor(t){uk.set(this,void 0),h(this,uk,t,"f")}search(t){return o(this,void 0,void 0,(function*(){const e=yield d(this,uk,"f").actions.execute(oI.PATH,oI.build({client:"YTKIDS",query:t}));return new Cw(d(this,uk,"f").actions,e)}))}getInfo(t){var e;return o(this,void 0,void 0,(function*(){const i=ZC.build({sts:null===(e=d(this,uk,"f").player)||void 0===e?void 0:e.sts,client:"YTKIDS",video_id:t}),s=XC.build({video_id:t,client:"YTKIDS"}),n=d(this,uk,"f").actions.execute(ZC.PATH,i),o=d(this,uk,"f").actions.execute(XC.PATH,s),a=yield Promise.all([n,o]),r=zw(16);return new Ew(a,d(this,uk,"f").actions,r)}))}getChannel(t){return o(this,void 0,void 0,(function*(){const e=yield d(this,uk,"f").actions.execute(jC.PATH,jC.build({browse_id:t,client:"YTKIDS"}));return new ww(d(this,uk,"f").actions,e)}))}getHomeFeed(){return o(this,void 0,void 0,(function*(){const t=yield d(this,uk,"f").actions.execute(jC.PATH,jC.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new Sw(d(this,uk,"f").actions,t)}))}};e(vk,"Kids"),uk=new WeakMap;var fk,yk,gk,_k,bk,wk=vk,xk=class{constructor(t){fk.add(this),yk.set(this,void 0),gk.set(this,void 0),h(this,yk,t,"f"),h(this,gk,t.actions,"f")}getInfo(t){if(t instanceof Uh)return d(this,fk,"m",bk).call(this,t);if("string"==typeof t)return d(this,fk,"m",_k).call(this,t);throw new Nw("Invalid target, expected either a video id or a valid MusicTwoRowItem",t)}search(t,e={}){return o(this,void 0,void 0,(function*(){Qw({query:t});const i=yield d(this,gk,"f").execute(oI.PATH,oI.build({query:t,client:"YTMUSIC",params:e.type&&"all"!==e.type?Co(e):void 0}));return new vw(i,d(this,gk,"f"),Reflect.has(e,"type")&&"all"!==e.type)}))}getHomeFeed(){return o(this,void 0,void 0,(function*(){const t=yield d(this,gk,"f").execute(jC.PATH,jC.build({browse_id:"FEmusic_home",client:"YTMUSIC"}));return new Yb(t,d(this,gk,"f"))}))}getExplore(){return o(this,void 0,void 0,(function*(){const t=yield d(this,gk,"f").execute(jC.PATH,jC.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}));return new Vb(t)}))}getLibrary(){return o(this,void 0,void 0,(function*(){const t=yield d(this,gk,"f").execute(jC.PATH,jC.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}));return new iw(t,d(this,gk,"f"))}))}getArtist(t){return o(this,void 0,void 0,(function*(){if(Qw({artist_id:t}),!t.startsWith("UC")&&!t.startsWith("FEmusic_library_privately_owned_artist"))throw new Nw("Invalid artist id",t);const e=yield d(this,gk,"f").execute(jC.PATH,jC.build({client:"YTMUSIC",browse_id:t}));return new Lb(e,d(this,gk,"f"))}))}getAlbum(t){return o(this,void 0,void 0,(function*(){if(Qw({album_id:t}),!t.startsWith("MPR")&&!t.startsWith("FEmusic_library_privately_owned_release"))throw new Nw("Invalid album id",t);const e=yield d(this,gk,"f").execute(jC.PATH,jC.build({client:"YTMUSIC",browse_id:t}));return new Rb(e)}))}getPlaylist(t){return o(this,void 0,void 0,(function*(){Qw({playlist_id:t}),t.startsWith("VL")||(t=`VL${t}`);const e=yield d(this,gk,"f").execute(jC.PATH,jC.build({client:"YTMUSIC",browse_id:t}));return new aw(e,d(this,gk,"f"))}))}getUpNext(t,e=!0){var i,s,n;return o(this,void 0,void 0,(function*(){Qw({video_id:t});const o=yield d(this,gk,"f").execute(XC.PATH,Object.assign(Object.assign({},XC.build({video_id:t,client:"YTMUSIC"})),{parse:!0})),a=null===(i=o.contents_memo)||void 0===i?void 0:i.getType($m),r=null==a?void 0:a.first();if(!r)throw new Nw("Could not find target tab.");const l=null===(s=r.content)||void 0===s?void 0:s.as(vu);if(!l||!l.content)throw new Nw("Music queue was empty, the given id is probably invalid.",l);const c=l.content.as(pu);if(!c.playlist_id&&e){const e=c.contents.firstOfType(Ci);if(!e)throw new Nw("Automix item not found");const i=yield null===(n=e.playlist_video)||void 0===n?void 0:n.endpoint.call(d(this,gk,"f"),{videoId:t,client:"YTMUSIC",parse:!0});if(!i||!i.contents_memo)throw new Nw("Could not fetch automix");return i.contents_memo.getType(pu).first()}return c}))}getRelated(t){var e;return o(this,void 0,void 0,(function*(){Qw({video_id:t});const i=yield d(this,gk,"f").execute(XC.PATH,Object.assign(Object.assign({},XC.build({video_id:t,client:"YTMUSIC"})),{parse:!0})),s=null===(e=i.contents_memo)||void 0===e?void 0:e.getType($m),n=null==s?void 0:s.matchCondition((t=>{var e,i;return"MUSIC_PAGE_TYPE_TRACK_RELATED"===(null===(i=null===(e=t.endpoint.payload.browseEndpointContextSupportedConfigs)||void 0===e?void 0:e.browseEndpointContextMusicConfig)||void 0===i?void 0:i.pageType)}));if(!n)throw new Nw("Could not find target tab.");const o=yield n.endpoint.call(d(this,gk,"f"),{client:"YTMUSIC",parse:!0});if(!o.contents)throw new Nw("Unexpected response",o);return o.contents.item().as(Mt).contents.as(Fh,Wh)}))}getLyrics(t){var e;return o(this,void 0,void 0,(function*(){Qw({video_id:t});const i=yield d(this,gk,"f").execute(XC.PATH,Object.assign(Object.assign({},XC.build({video_id:t,client:"YTMUSIC"})),{parse:!0})),s=null===(e=i.contents_memo)||void 0===e?void 0:e.getType($m),n=null==s?void 0:s.matchCondition((t=>{var e,i;return"MUSIC_PAGE_TYPE_TRACK_LYRICS"===(null===(i=null===(e=t.endpoint.payload.browseEndpointContextSupportedConfigs)||void 0===e?void 0:e.browseEndpointContextMusicConfig)||void 0===i?void 0:i.pageType)}));if(!n)throw new Nw("Could not find target tab.");const o=yield n.endpoint.call(d(this,gk,"f"),{client:"YTMUSIC",parse:!0});if(!o.contents)throw new Nw("Unexpected response",o);if("Message"===o.contents.item().type)throw new Nw(o.contents.item().as(Ca).text.toString(),t);return o.contents.item().as(Mt).contents.firstOfType(Wh)}))}getRecap(){return o(this,void 0,void 0,(function*(){const t=yield d(this,gk,"f").execute(jC.PATH,jC.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}));return new pw(t,d(this,gk,"f"))}))}getSearchSuggestions(t){return o(this,void 0,void 0,(function*(){const e=yield d(this,gk,"f").execute(FI.PATH,Object.assign(Object.assign({},FI.build({input:t})),{parse:!0}));if(!e.contents_memo)throw new Nw("Unexpected response",e);return e.contents_memo.getType(vm).first().contents}))}};e(xk,"Music"),yk=new WeakMap,gk=new WeakMap,fk=new WeakSet,_k=e((function(t){var e;return o(this,void 0,void 0,(function*(){const i=ZC.build({video_id:t,sts:null===(e=d(this,yk,"f").player)||void 0===e?void 0:e.sts,client:"YTMUSIC"}),s=XC.build({video_id:t,client:"YTMUSIC"}),n=d(this,gk,"f").execute(ZC.PATH,i),o=d(this,gk,"f").execute(XC.PATH,s),a=yield Promise.all([n,o]),r=zw(16);return new gw(a,d(this,gk,"f"),r)}))}),"_Music_fetchInfoFromVideoId"),bk=e((function(t){var e;return o(this,void 0,void 0,(function*(){if(!t)throw new Nw("List item cannot be undefined");if(!t.endpoint)throw new Error("This item does not have an endpoint.");const i=t.endpoint.call(d(this,gk,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:null===(e=d(this,yk,"f").player)||void 0===e?void 0:e.sts})}}),s=t.endpoint.call(d(this,gk,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),n=zw(16),o=yield Promise.all([i,s]);return new gw(o,d(this,gk,"f"),n)}))}),"_Music_fetchInfoFromListItem");var Sk,Tk,Ck,Ik,kk,Ek=xk,Ak=class{constructor(t){Sk.add(this),Tk.set(this,void 0),h(this,Tk,t,"f")}setThumbnail(t,e){return o(this,void 0,void 0,(function*(){if(!d(this,Tk,"f").logged_in)throw new Nw("You must be signed in to perform this operation.");if(!t||!e)throw new Vw("One or more parameters are missing.");const i=Po(t,e);return yield d(this,Tk,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:i})}))}updateVideoMetadata(t,e){return o(this,void 0,void 0,(function*(){if(!d(this,Tk,"f").logged_in)throw new Nw("You must be signed in to perform this operation.");const i=Mo(t,e);return yield d(this,Tk,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:i})}))}upload(t,e={}){return o(this,void 0,void 0,(function*(){if(!d(this,Tk,"f").logged_in)throw new Nw("You must be signed in to perform this operation.");const i=yield d(this,Sk,"m",Ck).call(this),s=yield d(this,Sk,"m",Ik).call(this,i.upload_url,t);if("STATUS_SUCCESS"!==s.status)throw new Nw("Could not process video.");return yield d(this,Sk,"m",kk).call(this,i,s,e)}))}};e(Ak,"Studio"),Tk=new WeakMap,Sk=new WeakSet,Ck=e((function(){return o(this,void 0,void 0,(function*(){const t=`innertube_android:${Ow.shim.uuidv4()}:0:v=3,api=1,cf=3`,e={frontendUploadId:t,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${Ow.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},i=yield d(this,Tk,"f").http.fetch("/upload/youtubei",{baseURL:A.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(e)});if(!i.ok)throw new Nw("Could not get initial upload data");return{frontend_upload_id:t,upload_id:i.headers.get("x-guploader-uploadid"),upload_url:i.headers.get("x-goog-upload-url"),scotty_resource_id:i.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:i.headers.get("x-goog-upload-chunk-granularity")}}))}),"_Studio_getInitialUploadData"),Ik=e((function(t,e){return o(this,void 0,void 0,(function*(){const i=yield d(this,Tk,"f").http.fetch_function(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:e});if(!i.ok)throw new Nw("Could not upload video");return yield i.json()}))}),"_Studio_uploadVideo"),kk=e((function(t,e,i){return o(this,void 0,void 0,(function*(){return yield d(this,Tk,"f").actions.execute(hk.PATH,hk.build({resource_id:{scotty_resource_id:{id:e.scottyResourceId}},frontend_upload_id:t.frontend_upload_id,initial_metadata:{title:{new_title:i.title||(new Date).toDateString()},description:{new_description:i.description||"",should_segment:!0},privacy:{new_privacy:i.privacy||"PRIVATE"},draft_state:{is_draft:i.is_draft}},client:"ANDROID"}))}))}),"_Studio_setVideoMetadata");var Rk,Mk=Ak,Pk={};i(Pk,{AccountManager:()=>Ok,InteractionManager:()=>Fk,PlaylistManager:()=>Vk});var Lk=class{constructor(t){Rk.set(this,void 0),h(this,Rk,t,"f"),this.channel={editName:t=>{if(!d(this,Rk,"f").session.logged_in)throw new Nw("You must be signed in to perform this operation.");return d(this,Rk,"f").execute(fI.EditNameEndpoint.PATH,fI.EditNameEndpoint.build({given_name:t}))},editDescription:t=>{if(!d(this,Rk,"f").session.logged_in)throw new Nw("You must be signed in to perform this operation.");return d(this,Rk,"f").execute(fI.EditDescriptionEndpoint.PATH,fI.EditDescriptionEndpoint.build({given_description:t}))},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return o(this,void 0,void 0,(function*(){if(!d(this,Rk,"f").session.logged_in)throw new Nw("You must be signed in to perform this operation.");const t=yield d(this,Rk,"f").execute(lI.AccountListEndpoint.PATH,lI.AccountListEndpoint.build());return new jy(t)}))}getTimeWatched(){return o(this,void 0,void 0,(function*(){const t=yield d(this,Rk,"f").execute(jC.PATH,jC.build({browse_id:"SPtime_watched",client:"ANDROID"}));return new g_(t)}))}getSettings(){return o(this,void 0,void 0,(function*(){const t=yield d(this,Rk,"f").execute(jC.PATH,jC.build({browse_id:"SPaccount_overview"}));return new f_(d(this,Rk,"f"),t)}))}getAnalytics(){var t;return o(this,void 0,void 0,(function*(){const e=yield this.getInfo(),i=yield d(this,Rk,"f").execute(jC.PATH,jC.build({browse_id:"FEanalytics_screen",params:So(null===(t=e.footers)||void 0===t?void 0:t.endpoint.payload.browseId),client:"ANDROID"}));return new Xy(i)}))}};e(Lk,"AccountManager"),Rk=new WeakMap;var Dk,Ok=Lk,Nk=class{constructor(t){Dk.set(this,void 0),h(this,Dk,t,"f")}create(t,e){return o(this,void 0,void 0,(function*(){if(Qw({title:t,video_ids:e}),!d(this,Dk,"f").session.logged_in)throw new Nw("You must be signed in to perform this operation.");const i=yield d(this,Dk,"f").execute(QI.PATH,QI.build({ids:e,title:t}));return{success:i.success,status_code:i.status_code,playlist_id:i.data.playlistId,data:i.data}}))}delete(t){return o(this,void 0,void 0,(function*(){if(Qw({playlist_id:t}),!d(this,Dk,"f").session.logged_in)throw new Nw("You must be signed in to perform this operation.");const e=yield d(this,Dk,"f").execute(tk.PATH,tk.build({playlist_id:t}));return{playlist_id:t,success:e.success,status_code:e.status_code,data:e.data}}))}addVideos(t,e){return o(this,void 0,void 0,(function*(){if(Qw({playlist_id:t,video_ids:e}),!d(this,Dk,"f").session.logged_in)throw new Nw("You must be signed in to perform this operation.");const i=yield d(this,Dk,"f").execute(pI.PATH,pI.build({actions:e.map((t=>({action:"ACTION_ADD_VIDEO",added_video_id:t}))),playlist_id:t}));return{playlist_id:t,action_result:i.data.actions}}))}removeVideos(t,i){return o(this,void 0,void 0,(function*(){if(Qw({playlist_id:t,video_ids:i}),!d(this,Dk,"f").session.logged_in)throw new Nw("You must be signed in to perform this operation.");const s=yield d(this,Dk,"f").execute(jC.PATH,Object.assign(Object.assign({},jC.build({browse_id:`VL${t}`})),{parse:!0})),n=new Mg(d(this,Dk,"f"),s,!0);if(!n.info.is_editable)throw new Nw("This playlist cannot be edited.",t);const a={playlist_id:t,actions:[]},r=e((t=>o(this,void 0,void 0,(function*(){if(t.videos.filter((t=>i.includes(t.key("id").string()))).forEach((t=>a.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:t.key("set_video_id").string()}))),a.actions.length<i.length){const e=yield t.getContinuation();return r(e)}}))),"getSetVideoIds");if(yield r(n),!a.actions.length)throw new Nw("Given video ids were not found in this playlist.",i);const l=yield d(this,Dk,"f").execute(pI.PATH,pI.build(a));return{playlist_id:t,action_result:l.data.actions}}))}moveVideo(t,i,s){return o(this,void 0,void 0,(function*(){if(Qw({playlist_id:t,moved_video_id:i,predecessor_video_id:s}),!d(this,Dk,"f").session.logged_in)throw new Nw("You must be signed in to perform this operation.");const n=yield d(this,Dk,"f").execute(jC.PATH,Object.assign(Object.assign({},jC.build({browse_id:`VL${t}`})),{parse:!0})),a=new Mg(d(this,Dk,"f"),n,!0);if(!a.info.is_editable)throw new Nw("This playlist cannot be edited.",t);const r={playlist_id:t,actions:[]};let l,c;const h=e((t=>o(this,void 0,void 0,(function*(){const e=t.videos.find((t=>i===t.key("id").string())),n=t.videos.find((t=>s===t.key("id").string()));if(l=l||(null==e?void 0:e.key("set_video_id").string()),c=c||(null==n?void 0:n.key("set_video_id").string()),!l||!c){const e=yield t.getContinuation();return h(e)}}))),"getSetVideoIds");yield h(a),r.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:l,moved_set_video_id_predecessor:c});const u=yield d(this,Dk,"f").execute(pI.PATH,pI.build(r));return{playlist_id:t,action_result:u.data.actions}}))}setName(t,e){return o(this,void 0,void 0,(function*(){if(Qw({playlist_id:t,name:e}),!d(this,Dk,"f").session.logged_in)throw new Nw("You must be signed in to perform this operation.");const i={playlist_id:t,actions:[]};i.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlist_name:e});const s=yield d(this,Dk,"f").execute(pI.PATH,pI.build(i));return{playlist_id:t,action_result:s.data.actions}}))}setDescription(t,e){return o(this,void 0,void 0,(function*(){if(Qw({playlist_id:t,description:e}),!d(this,Dk,"f").session.logged_in)throw new Nw("You must be signed in to perform this operation.");const i={playlist_id:t,actions:[]};i.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlist_description:e});const s=yield d(this,Dk,"f").execute(pI.PATH,pI.build(i));return{playlist_id:t,action_result:s.data.actions}}))}};e(Nk,"PlaylistManager"),Dk=new WeakMap;var Bk,Vk=Nk,Uk=class{constructor(t){Bk.set(this,void 0),h(this,Bk,t,"f")}like(t){return o(this,void 0,void 0,(function*(){if(Qw({video_id:t}),!d(this,Bk,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Bk,"f").execute(MI.PATH,MI.build({client:"ANDROID",target:{video_id:t}}))}))}dislike(t){return o(this,void 0,void 0,(function*(){if(Qw({video_id:t}),!d(this,Bk,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Bk,"f").execute(DI.PATH,DI.build({client:"ANDROID",target:{video_id:t}}))}))}removeRating(t){return o(this,void 0,void 0,(function*(){if(Qw({video_id:t}),!d(this,Bk,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Bk,"f").execute(BI.PATH,BI.build({client:"ANDROID",target:{video_id:t}}))}))}subscribe(t){return o(this,void 0,void 0,(function*(){if(Qw({channel_id:t}),!d(this,Bk,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Bk,"f").execute(nk.PATH,nk.build({client:"ANDROID",channel_ids:[t],params:"EgIIAhgA"}))}))}unsubscribe(t){return o(this,void 0,void 0,(function*(){if(Qw({channel_id:t}),!d(this,Bk,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Bk,"f").execute(rk.PATH,rk.build({client:"ANDROID",channel_ids:[t],params:"CgIIAhgA"}))}))}comment(t,e){return o(this,void 0,void 0,(function*(){if(Qw({video_id:t,text:e}),!d(this,Bk,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,Bk,"f").execute(kI.PATH,kI.build({comment_text:e,create_comment_params:Eo(t),client:"ANDROID"}))}))}translate(t,e,i={}){return o(this,void 0,void 0,(function*(){Qw({text:t,target_language:e});const s=Ao(22,Object.assign({text:t,target_language:e},i)),n=yield d(this,Bk,"f").execute(TI.PATH,TI.build({client:"ANDROID",actions:[s]})),o=n.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:n.success,status_code:n.status_code,translated_content:o.translatedContent.content,data:n.data}}))}setNotificationPreferences(t,e){return o(this,void 0,void 0,(function*(){if(Qw({channel_id:t,type:e}),!d(this,Bk,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");const i={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(i).includes(e.toUpperCase()))throw new Error(`Invalid notification preference type: ${e}`);return yield d(this,Bk,"f").execute(KI.PATH,KI.build({client:"WEB",params:Ro(t,i[e.toUpperCase()])}))}))}};e(Uk,"InteractionManager"),Bk=new WeakMap;var Hk,Fk=Uk,jk=class{constructor(t){Hk.set(this,void 0),h(this,Hk,t,"f")}static create(t={}){return o(this,void 0,void 0,(function*(){return new jk(yield UC.create(t))}))}getInfo(t,e){var i,s,n,a,r;return o(this,void 0,void 0,(function*(){let o;if(Qw({target:t}),t instanceof z)o=XC.build({video_id:null===(i=t.payload)||void 0===i?void 0:i.videoId,playlist_id:null===(s=t.payload)||void 0===s?void 0:s.playlistId,params:null===(n=t.payload)||void 0===n?void 0:n.params,playlist_index:null===(a=t.payload)||void 0===a?void 0:a.index});else{if("string"!=typeof t)throw new Nw("Invalid target, expected either a video id or a valid NavigationEndpoint",t);o=XC.build({video_id:t})}if(!o.videoId)throw new Nw("Video id cannot be empty",o);const l=ZC.build({video_id:o.videoId,playlist_id:null==o?void 0:o.playlistId,client:e,sts:null===(r=d(this,Hk,"f").player)||void 0===r?void 0:r.sts}),c=this.actions.execute(ZC.PATH,l),h=this.actions.execute(XC.PATH,o),u=yield Promise.all([c,h]),p=zw(16);return new Cb(u,this.actions,p)}))}getBasicInfo(t,e){var i;return o(this,void 0,void 0,(function*(){Qw({video_id:t});const s=yield this.actions.execute(ZC.PATH,ZC.build({video_id:t,client:e,sts:null===(i=d(this,Hk,"f").player)||void 0===i?void 0:i.sts})),n=zw(16);return new Cb([s],this.actions,n)}))}search(t,e={}){return o(this,void 0,void 0,(function*(){Qw({query:t});const i=yield this.actions.execute(oI.PATH,oI.build({query:t,params:e?To(e):void 0}));return new p_(this.actions,i)}))}getSearchSuggestions(t){return o(this,void 0,void 0,(function*(){Qw({query:t});const e=new URL(`${A.YT_SUGGESTIONS}search`);e.searchParams.set("q",t),e.searchParams.set("hl",d(this,Hk,"f").context.client.hl),e.searchParams.set("gl",d(this,Hk,"f").context.client.gl),e.searchParams.set("ds","yt"),e.searchParams.set("client","youtube"),e.searchParams.set("xssi","t"),e.searchParams.set("oe","UTF");const i=yield d(this,Hk,"f").http.fetch(e),s=yield i.text();return JSON.parse(s.replace(")]}'",""))[1].map((t=>t[0]))}))}getComments(t,e){return o(this,void 0,void 0,(function*(){Qw({video_id:t});const i=yield this.actions.execute(XC.PATH,XC.build({continuation:ko(t,{sort_by:e||"TOP_COMMENTS"})}));return new mg(this.actions,i.data)}))}getHomeFeed(){return o(this,void 0,void 0,(function*(){const t=yield this.actions.execute(jC.PATH,jC.build({browse_id:"FEwhat_to_watch"}));return new _g(this.actions,t)}))}getGuide(){return o(this,void 0,void 0,(function*(){const t=yield this.actions.execute(zC.PATH);return new fg(t.data)}))}getLibrary(){return o(this,void 0,void 0,(function*(){const t=yield this.actions.execute(jC.PATH,jC.build({browse_id:"FElibrary"}));return new Dg(this.actions,t)}))}getHistory(){return o(this,void 0,void 0,(function*(){const t=yield this.actions.execute(jC.PATH,jC.build({browse_id:"FEhistory"}));return new gg(this.actions,t)}))}getTrending(){return o(this,void 0,void 0,(function*(){const t=yield this.actions.execute(jC.PATH,Object.assign(Object.assign({},jC.build({browse_id:"FEtrending"})),{parse:!0}));return new sg(this.actions,t)}))}getSubscriptionsFeed(){return o(this,void 0,void 0,(function*(){const t=yield this.actions.execute(jC.PATH,Object.assign(Object.assign({},jC.build({browse_id:"FEsubscriptions"})),{parse:!0}));return new tg(this.actions,t)}))}getChannel(t){return o(this,void 0,void 0,(function*(){Qw({id:t});const e=yield this.actions.execute(jC.PATH,jC.build({browse_id:t}));return new ag(this.actions,e)}))}getNotifications(){return o(this,void 0,void 0,(function*(){const t=yield this.actions.execute($C.PATH,$C.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new c_(this.actions,t)}))}getUnseenNotificationsCount(){var t,e,i,s;return o(this,void 0,void 0,(function*(){const n=yield this.actions.execute($I.PATH);return(null===(t=n.data)||void 0===t?void 0:t.unseenCount)||(null===(s=null===(i=null===(e=n.data)||void 0===e?void 0:e.actions)||void 0===i?void 0:i[0].updateNotificationsUnseenCountAction)||void 0===s?void 0:s.unseenCount)||0}))}getPlaylist(t){return o(this,void 0,void 0,(function*(){Qw({id:t}),t.startsWith("VL")||(t=`VL${t}`);const e=yield this.actions.execute(jC.PATH,jC.build({browse_id:t}));return new Mg(this.actions,e)}))}getHashtag(t){return o(this,void 0,void 0,(function*(){Qw({hashtag:t});const e=yield this.actions.execute(jC.PATH,jC.build({browse_id:"FEhashtag",params:Lo(t)}));return new Sg(this.actions,e)}))}getStreamingData(t,e={}){return o(this,void 0,void 0,(function*(){return(yield this.getBasicInfo(t)).chooseFormat(e)}))}download(t,e){return o(this,void 0,void 0,(function*(){return(yield this.getBasicInfo(t,null==e?void 0:e.client)).download(e)}))}resolveURL(t){return o(this,void 0,void 0,(function*(){return(yield this.actions.execute(iI.PATH,Object.assign(Object.assign({},iI.build({url:t})),{parse:!0}))).endpoint}))}call(t,e){return t.call(this.actions,e)}get music(){return new Ek(d(this,Hk,"f"))}get studio(){return new Mk(d(this,Hk,"f"))}get kids(){return new wk(d(this,Hk,"f"))}get account(){return new Ok(d(this,Hk,"f").actions)}get playlist(){return new Vk(d(this,Hk,"f").actions)}get interact(){return new Fk(d(this,Hk,"f").actions)}get actions(){return d(this,Hk,"f").actions}get session(){return d(this,Hk,"f")}};e(jk,"Innertube"),Hk=new WeakMap;var Wk,Gk,$k,Yk,Kk=jk,zk={},qk=Kk,Xk=class{constructor(t=!1,e){Wk.add(this),Gk.set(this,void 0),$k.set(this,void 0),h(this,Gk,e||"","f"),h(this,$k,t,"f")}get cache_dir(){return d(this,$k,"f")?d(this,Gk,"f"):""}get(t){return o(this,void 0,void 0,(function*(){const e=yield d(this,Wk,"m",Yk).call(this);if(e)return new Promise(((i,s)=>{const n=e.transaction("kv-store","readonly").objectStore("kv-store").get(t);n.onerror=s,n.onsuccess=function(){var t;const e=null===(t=this.result)||void 0===t?void 0:t.v;i(e?e.buffer:void 0)}}))}))}set(t,e){return o(this,void 0,void 0,(function*(){const i=yield d(this,Wk,"m",Yk).call(this);if(i)return new Promise(((s,n)=>{const o=i.transaction("kv-store","readwrite").objectStore("kv-store").put({k:t,v:e});o.onerror=n,o.onsuccess=()=>s()}))}))}remove(t){return o(this,void 0,void 0,(function*(){const e=yield d(this,Wk,"m",Yk).call(this);if(e)return new Promise(((i,s)=>{const n=e.transaction("kv-store","readwrite").objectStore("kv-store").delete(t);n.onerror=s,n.onsuccess=()=>i()}))}))}};e(Xk,"Cache"),Gk=new WeakMap,$k=new WeakMap,Wk=new WeakSet,Yk=e((function(){const t=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return t?new Promise(((e,i)=>{const s=t.open("youtubei.js",1);s.onsuccess=function(){e(this.result)},s.onerror=function(t){i("indexedDB request error"),console.error(t)},s.onupgradeneeded=function(){this.result.createObjectStore("kv-store",{keyPath:"k"}).transaction.oncomplete=function(){e(this.db)}}})):console.log("IndexedDB is not supported. No cache will be used.")}),"_Cache_getBrowserDB"),Ow.load({runtime:"browser",server:!1,info:{version:ox.version,bugs_url:ox.bugs.url,repo_url:ox.homepage.split("#")[0]},Cache:Xk,sha1Hash:nx,uuidv4(){var t;return(null===(t=globalThis.crypto)||void 0===t?void 0:t.randomUUID())?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(t=>{const e=parseInt(t);return(e^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))},eval:aC,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var Qk=qk;export{pC as Actions,We as AppendContinuationItemsAction,OC as ClientType,HC as Clients,E as Constants,dy as Continuation,FC as Endpoints,jg as EventEmitter,b_ as FormatUtils,Lf as Generator,ly as GridContinuation,V_ as HTTPClient,b as Helpers,Kk as Innertube,ey as ItemSectionContinuation,hy as LiveChatContinuation,Pk as Managers,k as Misc,__ as Mixins,ay as MusicPlaylistShelfContinuation,ry as MusicShelfContinuation,iy as NavigateAction,BC as OAuth,Aw as Parser,Ow as Platform,CC as Player,cy as PlaylistPanelContinuation,Xs as Proto,ny as ReloadContinuationItemsCommand,oy as SectionListContinuation,UC as Session,sy as ShowMiniplayerCommand,zk as Types,N_ as UniversalCache,u as Utils,Uy as YT,_w as YTKids,Ib as YTMusic,Pe as YTNodes,Qk as default};