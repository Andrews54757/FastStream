/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var N0=Object.defineProperty;var o=(t,e)=>N0(t,"name",{value:e,configurable:!0});var ye=(t,e)=>{for(var i in e)N0(t,i,{get:e[i],enumerable:!0})};function A0(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i}o(A0,"__rest");function V0(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}o(V0,"__setFunctionName");function T(t,e,i,n){function r(a){return a instanceof i?a:new i(function(c){c(a)})}return o(r,"adopt"),new(i||(i=Promise))(function(a,c){function p(m){try{_(n.next(m))}catch(g){c(g)}}o(p,"fulfilled");function d(m){try{_(n.throw(m))}catch(g){c(g)}}o(d,"rejected");function _(m){m.done?a(m.value):r(m.value).then(p,d)}o(_,"step"),_((n=n.apply(t,e||[])).next())})}o(T,"__awaiter");function R0(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}o(R0,"__values");function Oi(t){return this instanceof Oi?(this.v=t,this):new Oi(t)}o(Oi,"__await");function M0(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),r,a=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(y){n[y]&&(r[y]=function(w){return new Promise(function(k,S){a.push([y,w,k,S])>1||p(y,w)})})}function p(y,w){try{d(n[y](w))}catch(k){g(a[0][3],k)}}function d(y){y.value instanceof Oi?Promise.resolve(y.value.v).then(_,m):g(a[0][2],y)}function _(y){p("next",y)}function m(y){p("throw",y)}function g(y,w){y(w),a.shift(),a.length&&p(a[0][0],a[0][1])}}o(M0,"__asyncGenerator");function D0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof R0=="function"?R0(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(a){i[a]=t[a]&&function(c){return new Promise(function(p,d){c=t[a](c),r(p,d,c.done,c.value)})}}function r(a,c,p,d){Promise.resolve(d).then(function(_){a({value:_,done:p})},c)}}o(D0,"__asyncValues");function f(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)}o(f,"__classPrivateFieldGet");function P(t,e,i,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i}o(P,"__classPrivateFieldSet");var cg={};ye(cg,{ChannelError:()=>yo,InnertubeError:()=>b,MissingParamError:()=>Rf,OAuth2Error:()=>Kx,ParsingError:()=>rt,Platform:()=>W,PlayerError:()=>yt,SessionError:()=>yn,base64ToU8:()=>Tg,concatMemos:()=>Fg,debugFetch:()=>qk,deepCompare:()=>Df,escapeStringRegexp:()=>s0,findFunction:()=>a0,generateRandomString:()=>Li,generateSidAuth:()=>Kk,getCookie:()=>Xk,getRandomUserAgent:()=>Ji,getStringBetweenStrings:()=>Fe,hasKeys:()=>$k,isTextRun:()=>je,streamToIterable:()=>sg,throwIfMissing:()=>Lo,timeToSeconds:()=>ke,u8ToBase64:()=>Ge});var rg={};ye(rg,{Maybe:()=>Yi,Memo:()=>Qt,SuperParsedResult:()=>wt,YTNode:()=>s,observe:()=>X});var Ie,Oe=class{static doLog(e,i,n){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let r=[`[${this.YTJS_TAG}]`];i&&r.push(`[${i}]`),this.log_map_[e](`${r.join("")}:`,...n||[])}static setLevel(...e){this.log_level_=e}};o(Oe,"Log");Ie=Oe;Oe.YTJS_TAG="YOUTUBEJS";Oe.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};Oe.log_map_={[Ie.Level.ERROR]:(...t)=>console.error(...t),[Ie.Level.WARNING]:(...t)=>console.warn(...t),[Ie.Level.INFO]:(...t)=>console.info(...t),[Ie.Level.DEBUG]:(...t)=>console.debug(...t)};Oe.log_level_=[Ie.Level.WARNING];Oe.one_time_warnings_issued_=new Set;Oe.warnOnce=(t,...e)=>{Ie.one_time_warnings_issued_.has(t)||(Ie.doLog(Ie.Level.WARNING,t,e),Ie.one_time_warnings_issued_.add(t))};Oe.warn=(t,...e)=>Ie.doLog(Ie.Level.WARNING,t,e);Oe.error=(t,...e)=>Ie.doLog(Ie.Level.ERROR,t,e);Oe.info=(t,...e)=>Ie.doLog(Ie.Level.INFO,t,e);Oe.debug=(t,...e)=>Ie.doLog(Ie.Level.DEBUG,t,e);var j=Oe;var ng,L0,be,og,le,bt,Bt,Fi,B0=Symbol("ObservedArray.isObserved"),s=class{constructor(){ng.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>f(this,ng,"m",L0).call(this,i))}as(...e){if(!this.is(...e))throw new rt(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new rt(`Missing key ${e}`);return new Yi(this[e])}};o(s,"YTNode");ng=new WeakSet,L0=o(function(e){return this.type===e.type},"_YTNode_is");s.type="YTNode";var Yi=class{constructor(e){be.add(this),og.set(this,"Maybe"),le.set(this,void 0),P(this,le,e,"f")}get typeof(){return typeof f(this,le,"f")}string(){return f(this,be,"m",Bt).call(this,"string")}isString(){return f(this,be,"m",bt).call(this,"string")}number(){return f(this,be,"m",Bt).call(this,"number")}isNumber(){return f(this,be,"m",bt).call(this,"number")}bigint(){return f(this,be,"m",Bt).call(this,"bigint")}isBigint(){return f(this,be,"m",bt).call(this,"bigint")}boolean(){return f(this,be,"m",Bt).call(this,"boolean")}isBoolean(){return f(this,be,"m",bt).call(this,"boolean")}symbol(){return f(this,be,"m",Bt).call(this,"symbol")}isSymbol(){return f(this,be,"m",bt).call(this,"symbol")}undefined(){return f(this,be,"m",Bt).call(this,"undefined")}isUndefined(){return f(this,be,"m",bt).call(this,"undefined")}null(){if(f(this,le,"f")!==null)throw new TypeError(`Expected null, got ${typeof f(this,le,"f")}`);return f(this,le,"f")}isNull(){return f(this,le,"f")===null}object(){return f(this,be,"m",Bt).call(this,"object")}isObject(){return f(this,be,"m",bt).call(this,"object")}function(){return f(this,be,"m",Bt).call(this,"function")}isFunction(){return f(this,be,"m",bt).call(this,"function")}array(){if(!Array.isArray(f(this,le,"f")))throw new TypeError(`Expected array, got ${typeof f(this,le,"f")}`);return f(this,le,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,n){return Reflect.has(e,n)?Reflect.get(i,n):new Yi(Reflect.get(i,n))}})}isArray(){return Array.isArray(f(this,le,"f"))}node(){if(!(f(this,le,"f")instanceof s))throw new TypeError(`Expected YTNode, got ${f(this,le,"f").constructor.name}`);return f(this,le,"f")}isNode(){return f(this,le,"f")instanceof s}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof f(this,le,"f")}`);return f(this,le,"f")}isObserved(){var e;return(e=f(this,le,"f"))===null||e===void 0?void 0:e[B0]}parsed(){if(!(f(this,le,"f")instanceof wt))throw new TypeError(`Expected SuperParsedResult, got ${typeof f(this,le,"f")}`);return f(this,le,"f")}isParsed(){return f(this,le,"f")instanceof wt}any(){return j.warn(f(this,og,"f"),"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),f(this,le,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${f(this,le,"f").constructor.name}`);return f(this,le,"f")}isInstanceof(e){return f(this,le,"f")instanceof e}};o(Yi,"Maybe");og=new WeakMap,le=new WeakMap,be=new WeakSet,bt=o(function(e){return typeof f(this,le,"f")===e},"_Maybe_checkPrimative"),Bt=o(function(e){if(!f(this,be,"m",bt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return f(this,le,"f")},"_Maybe_assertPrimative");var wt=class{constructor(e){Fi.set(this,void 0),P(this,Fi,e,"f")}get is_null(){return f(this,Fi,"f")===null}get is_array(){return!this.is_null&&Array.isArray(f(this,Fi,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return f(this,Fi,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return f(this,Fi,"f")}};o(wt,"SuperParsedResult");Fi=new WeakMap;function X(t){return new Proxy(t,{get(e,i){return i=="get"?(n,r)=>e.find((a,c)=>{let p=Df(n,a);return p&&r&&e.splice(c,1),p}):i==B0?!0:i=="getAll"?(n,r)=>e.filter((a,c)=>{let p=Df(n,a);return p&&r&&e.splice(c,1),p}):i=="matchCondition"?n=>e.find(r=>n(r)):i=="filterType"?(...n)=>X(e.filter(r=>!!r.is(...n))):i=="firstOfType"?(...n)=>e.find(r=>!!r.is(...n)):i=="first"?()=>e[0]:i=="as"?(...n)=>X(e.map(r=>{if(r.is(...n))return r;throw new rt(`Expected node of any type ${n.map(a=>a.type).join(", ")}, got ${r.type}`)})):i=="remove"?n=>e.splice(n,1):Reflect.get(e,i)}})}o(X,"observe");var Qt=class extends Map{getType(...e){return e=e.flat(),X(e.flatMap(i=>this.get(i.type)||[]))}};o(Qt,"Memo");var Jg={};ye(Jg,{Author:()=>D,ChildElement:()=>Ih,EmojiRun:()=>ti,Format:()=>_x,Text:()=>u,TextRun:()=>ii,Thumbnail:()=>v,VideoDetails:()=>Ti});var xe={};ye(xe,{CLIENTS:()=>oe,INNERTUBE_HEADERS_BASE:()=>J1,OAUTH:()=>W1,STREAM_HEADERS:()=>Ot,SUPPORTED_CLIENTS:()=>Lf,URLS:()=>Ze});var Ze=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),W1=Object.freeze({REGEX:Object.freeze({TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')})}),oe=Object.freeze({IOS:{NAME_ID:"5",NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME_ID:"1",NAME:"WEB",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME_ID:"76",NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME_ID:"67",NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME_ID:"3",NAME:"ANDROID",VERSION:"18.48.37",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/18.48.37(Linux; U; Android 13; en_US; sdk_gphone64_x86_64 Build/UPB4.230623.005) gzip"},YTSTUDIO_ANDROID:{NAME_ID:"14",NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME_ID:"21",NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME_ID:"85",NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),Ot=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),J1=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"}),Lf=["IOS","WEB","YTKIDS","YTMUSIC","ANDROID","YTSTUDIO_ANDROID","YTMUSIC_ANDROID","TV_EMBEDDED"];var l={};ye(l,{addRuntimeParser:()=>Vg,applyCommentsMutations:()=>AT,applyMutations:()=>RT,getDynamicParsers:()=>lk,getParserByName:()=>uf,hasParser:()=>fx,parse:()=>We,parseActions:()=>NT,parseArray:()=>Ve,parseC:()=>PT,parseFormats:()=>Lg,parseItem:()=>te,parseLC:()=>Dg,parseRR:()=>xx,parseResponse:()=>Mg,sanitizeClassName:()=>cf,setParserErrorHandler:()=>ak,shouldIgnore:()=>ET});var en={};ye(en,{AboutChannel:()=>Kf,AboutChannelView:()=>zf,AccountChannel:()=>$f,AccountItemSection:()=>Xf,AccountItemSectionHeader:()=>qf,AccountSectionList:()=>Qf,AddBannerToLiveChatCommand:()=>Gy,AddChatItemAction:()=>qh,AddLiveChatTickerItemAction:()=>zy,Alert:()=>Sn,AlertWithButton:()=>rm,AnalyticsMainAppKeyMetrics:()=>Q0,AnalyticsRoot:()=>Z0,AnalyticsShortsCarouselCard:()=>ev,AnalyticsVideo:()=>am,AnalyticsVodCarouselCard:()=>tv,AnchoredSection:()=>ux,AppendContinuationItemsAction:()=>Gi,AttributionView:()=>um,AudioOnlyPlayability:()=>lm,AuthorCommentBadge:()=>th,AutomixPreviewVideo:()=>cm,AvatarView:()=>pm,BackstageImage:()=>dm,BackstagePost:()=>ni,BackstagePostThread:()=>ov,BrowseFeedActions:()=>mm,BrowserMediaSession:()=>rv,Button:()=>I,ButtonView:()=>Tt,C4TabbedHeader:()=>Dn,CallToActionButton:()=>sv,Card:()=>av,CardCollection:()=>jm,CarouselHeader:()=>Wm,CarouselItem:()=>uv,CarouselLockup:()=>Lm,Channel:()=>Jm,ChannelAboutFullMetadata:()=>Ds,ChannelAgeGate:()=>lv,ChannelExternalLinkView:()=>Gf,ChannelFeaturedContent:()=>cv,ChannelHeaderLinks:()=>hm,ChannelHeaderLinksView:()=>_m,ChannelMetadata:()=>Hm,ChannelMobileHeader:()=>pv,ChannelOptions:()=>Gm,ChannelOwnerEmptyState:()=>dv,ChannelSubMenu:()=>Ws,ChannelTagline:()=>Ym,ChannelThumbnailWithLink:()=>fv,ChannelVideoPlayer:()=>mv,Chapter:()=>zm,ChildVideo:()=>hv,ChipBarView:()=>_v,ChipCloud:()=>Ln,ChipCloudChip:()=>Ye,ChipView:()=>Km,ClipAdState:()=>vm,ClipCreation:()=>ym,ClipCreationScrubber:()=>gm,ClipCreationTextInput:()=>xm,ClipSection:()=>bm,CollaboratorInfoCardContent:()=>xv,CollageHeroImage:()=>gv,CollectionThumbnailView:()=>Zm,Comment:()=>Un,CommentActionButtons:()=>Cn,CommentDialog:()=>dy,CommentReplies:()=>uh,CommentReplyDialog:()=>Bn,CommentSimplebox:()=>dh,CommentThread:()=>fh,CommentView:()=>fi,CommentsEntryPointHeader:()=>ph,CommentsEntryPointTeaser:()=>ch,CommentsHeader:()=>di,CommentsSimplebox:()=>lh,CompactChannel:()=>fy,CompactLink:()=>jn,CompactMix:()=>my,CompactMovie:()=>hy,CompactPlaylist:()=>_y,CompactStation:()=>xy,CompactVideo:()=>An,ConfirmDialog:()=>gy,ContentMetadataView:()=>Hn,ContentPreviewImageView:()=>Rn,ContinuationItem:()=>ce,ConversationBar:()=>vy,CopyLink:()=>mh,CreatePlaylistDialog:()=>jf,CreatorHeart:()=>fm,CtaGoToCreatorStudio:()=>iv,DataModelSection:()=>sm,DecoratedAvatarView:()=>hh,DecoratedPlayerBar:()=>vh,DefaultPromoPanel:()=>yy,DescriptionPreviewView:()=>yh,DidYouMean:()=>by,DimChatItemAction:()=>Ky,DislikeButtonView:()=>bh,DownloadButton:()=>wh,Dropdown:()=>ei,DropdownItem:()=>Uf,DynamicTextView:()=>Th,Element:()=>Gn,EmergencyOnebox:()=>wy,EmojiPicker:()=>ah,EmojiPickerCategory:()=>Ty,EmojiPickerCategoryButton:()=>Iy,EmojiPickerUpsellCategory:()=>ky,EndScreenPlaylist:()=>Sh,EndScreenVideo:()=>Ch,Endscreen:()=>kh,EndscreenElement:()=>Sy,EngagementPanelSectionList:()=>ai,EngagementPanelTitleHeader:()=>wm,EomSettingsDisclaimer:()=>Cy,ExpandableMetadata:()=>Pm,ExpandableTab:()=>zn,ExpandableVideoDescriptionBody:()=>Sm,ExpandedShelfContents:()=>Ey,Factoid:()=>si,FancyDismissibleDialog:()=>Py,FeedFilterChipBar:()=>Yt,FeedNudge:()=>Ny,FeedTabbedHeader:()=>Eh,FlexibleActionsView:()=>Ph,GameCard:()=>Cm,GameDetails:()=>Ry,Grid:()=>Ay,GridChannel:()=>Nh,GridHeader:()=>Vy,GridMix:()=>My,GridMovie:()=>Dy,GridPlaylist:()=>Rh,GridShow:()=>Ly,GridVideo:()=>Mh,GuideCollapsibleEntry:()=>By,GuideCollapsibleSectionEntry:()=>Oy,GuideDownloadsEntry:()=>Fy,GuideEntry:()=>Zi,GuideSection:()=>Kn,GuideSubscriptionsSection:()=>Dh,HashtagHeader:()=>Lh,HashtagTile:()=>Yy,HeatMarker:()=>_h,Heatmap:()=>xh,HeroPlaylistThumbnail:()=>Uy,HighlightsCarousel:()=>jy,HistorySuggestion:()=>Wy,HorizontalCardList:()=>oi,HorizontalList:()=>Em,HorizontalMovieList:()=>Jy,IconLink:()=>Oh,ImageBannerView:()=>Fh,IncludingResultsFor:()=>Hy,InfoPanelContainer:()=>Uh,InfoPanelContent:()=>Yh,InfoRow:()=>Dm,InteractiveTabbedHeader:()=>jh,ItemSection:()=>et,ItemSectionHeader:()=>$n,ItemSectionTab:()=>Wh,ItemSectionTabbedHeader:()=>qn,KidsBlocklistPicker:()=>mT,KidsBlocklistPickerItem:()=>lx,KidsCategoriesHeader:()=>hT,KidsCategoryTab:()=>cx,KidsHomeScreen:()=>_T,LikeButton:()=>Hh,LikeButtonView:()=>Gh,LiveChat:()=>zh,LiveChatActionPanel:()=>Qh,LiveChatAuthorBadge:()=>vb,LiveChatAutoModMessage:()=>$y,LiveChatBanner:()=>$h,LiveChatBannerHeader:()=>Kh,LiveChatBannerPoll:()=>qy,LiveChatDialog:()=>yb,LiveChatHeader:()=>o_,LiveChatItemList:()=>r_,LiveChatMembershipItem:()=>Xy,LiveChatMessageInput:()=>bb,LiveChatPaidMessage:()=>Qy,LiveChatPaidSticker:()=>Zy,LiveChatParticipant:()=>s_,LiveChatParticipantsList:()=>a_,LiveChatPlaceholderItem:()=>eb,LiveChatProductItem:()=>tb,LiveChatRestrictedParticipation:()=>ib,LiveChatTextMessage:()=>nb,LiveChatTickerPaidMessageItem:()=>Xh,LiveChatTickerPaidStickerItem:()=>ob,LiveChatTickerSponsorItem:()=>rb,LiveChatViewerEngagementMessage:()=>sb,LockupMetadataView:()=>u_,LockupView:()=>l_,MacroMarkersInfoItem:()=>Tm,MacroMarkersList:()=>Im,MacroMarkersListItem:()=>Pn,MarkChatItemAsDeletedAction:()=>ub,MarkChatItemsByAuthorAsDeletedAction:()=>lb,Menu:()=>O,MenuNavigationItem:()=>c_,MenuPopup:()=>wb,MenuServiceItem:()=>_i,MenuServiceItemDownload:()=>Tb,MerchandiseItem:()=>Sb,MerchandiseShelf:()=>m_,Message:()=>mi,MetadataBadge:()=>He,MetadataRow:()=>Cb,MetadataRowContainer:()=>h_,MetadataRowHeader:()=>Eb,MetadataScreen:()=>Pb,MicroformatData:()=>xi,Mix:()=>Nb,ModalWithTitleAndButton:()=>Rb,Movie:()=>Ab,MovingThumbnail:()=>Vb,MultiMarkersPlayerBar:()=>gh,MultiPageMenu:()=>Ib,MultiPageMenuNotificationSection:()=>kb,MusicCardShelf:()=>Mb,MusicCardShelfHeaderBasic:()=>__,MusicCarouselShelf:()=>Jb,MusicCarouselShelfBasicHeader:()=>x_,MusicDescriptionShelf:()=>T_,MusicDetailHeader:()=>Hb,MusicDownloadStateBadge:()=>Gb,MusicEditablePlaylistDetailHeader:()=>zb,MusicElementHeader:()=>Kb,MusicHeader:()=>$b,MusicImmersiveHeader:()=>qb,MusicInlineBadge:()=>Qn,MusicItemThumbnailOverlay:()=>kt,MusicLargeCardItemCarousel:()=>Xb,MusicMenuItemDivider:()=>p_,MusicMultiRowListItem:()=>g_,MusicMultiSelectMenu:()=>d_,MusicMultiSelectMenuItem:()=>Xn,MusicNavigationButton:()=>v_,MusicPlayButton:()=>Zn,MusicPlaylistEditHeader:()=>Qb,MusicPlaylistShelf:()=>Zb,MusicQueue:()=>S_,MusicResponsiveHeader:()=>ew,MusicResponsiveListItem:()=>gi,MusicResponsiveListItemFixedColumn:()=>y_,MusicResponsiveListItemFlexColumn:()=>b_,MusicShelf:()=>tw,MusicSideAlignedItem:()=>iw,MusicSortFilterButton:()=>nw,MusicTastebuilderShelf:()=>ow,MusicTastebuilderShelfThumbnail:()=>C_,MusicThumbnail:()=>Ne,MusicTwoRowItem:()=>w_,MusicVisualHeader:()=>rw,NavigationEndpoint:()=>x,Notification:()=>E_,OpenPopupAction:()=>Wf,PageHeader:()=>St,PageHeaderView:()=>P_,PageIntroduction:()=>N_,PdgCommentChip:()=>ih,PivotButton:()=>R_,PlayerAnnotationsExpanded:()=>A_,PlayerCaptionsTracklist:()=>V_,PlayerControlsOverlay:()=>sw,PlayerErrorMessage:()=>aw,PlayerLegacyDesktopYpcOffer:()=>uw,PlayerLegacyDesktopYpcTrailer:()=>np,PlayerLiveStoryboardSpec:()=>L_,PlayerMicroformat:()=>it,PlayerOverflow:()=>M_,PlayerOverlay:()=>F_,PlayerOverlayAutoplay:()=>B_,PlayerStoryboardSpec:()=>ji,Playlist:()=>It,PlaylistCustomThumbnail:()=>Wn,PlaylistHeader:()=>Y_,PlaylistInfoCardContent:()=>lw,PlaylistMetadata:()=>U_,PlaylistPanel:()=>k_,PlaylistPanelVideo:()=>Ut,PlaylistPanelVideoWrapper:()=>I_,PlaylistSidebar:()=>cw,PlaylistSidebarPrimaryInfo:()=>j_,PlaylistSidebarSecondaryInfo:()=>W_,PlaylistVideo:()=>to,PlaylistVideoList:()=>pw,PlaylistVideoThumbnail:()=>Jn,Poll:()=>dw,PollHeader:()=>ab,Post:()=>J_,PostMultiImage:()=>fw,ProductList:()=>km,ProductListHeader:()=>mw,ProductListItem:()=>hw,ProfileColumn:()=>_w,ProfileColumnStats:()=>xw,ProfileColumnStatsEntry:()=>gw,ProfileColumnUserInfo:()=>vw,Quiz:()=>yw,RecognitionShelf:()=>bw,ReelItem:()=>io,ReelPlayerHeader:()=>H_,ReelPlayerOverlay:()=>ww,ReelShelf:()=>Mn,RelatedChipCloud:()=>G_,RemoveBannerForLiveChatCommand:()=>cb,RemoveChatItemAction:()=>pb,RemoveChatItemByAuthorAction:()=>db,ReplaceChatItemAction:()=>fb,ReplayChatItemAction:()=>mb,RichGrid:()=>vi,RichItem:()=>Tw,RichListHeader:()=>Iw,RichMetadata:()=>Lp,RichMetadataRow:()=>Op,RichSection:()=>kw,RichShelf:()=>z_,SearchBox:()=>Sw,SearchFilter:()=>K_,SearchFilterGroup:()=>no,SearchFilterOptionsDialog:()=>Cw,SearchHeader:()=>$_,SearchRefinementCard:()=>zi,SearchSubMenu:()=>q_,SearchSuggestion:()=>Bh,SearchSuggestionsSection:()=>Ew,SecondarySearchContainer:()=>Pw,SectionList:()=>ve,SegmentedLikeDislikeButton:()=>nn,SegmentedLikeDislikeButtonView:()=>on,SettingBoolean:()=>Nw,SettingsCheckbox:()=>X_,SettingsOptions:()=>ro,SettingsSidebar:()=>Q_,SettingsSwitch:()=>oo,SharedPost:()=>Z_,Shelf:()=>so,ShowCustomThumbnail:()=>Ah,ShowLiveChatActionPanelAction:()=>hb,ShowLiveChatDialogAction:()=>_b,ShowLiveChatTooltipCommand:()=>xb,ShowingResultsFor:()=>Rw,SimpleCardContent:()=>Aw,SimpleCardTeaser:()=>Vw,SimpleMenuHeader:()=>f_,SimpleTextSection:()=>Mw,SingleActionEmergencySupport:()=>Dw,SingleColumnBrowseResults:()=>ex,SingleColumnMusicWatchNextResults:()=>Lw,SingleHeroImage:()=>Bw,SlimOwner:()=>Ow,SlimVideoMetadata:()=>Fw,SortFilterHeader:()=>Jh,SortFilterSubMenu:()=>ht,SponsorCommentBadge:()=>nh,StatRow:()=>nv,StructuredDescriptionContent:()=>$i,StructuredDescriptionPlaylistLockup:()=>Bm,SubFeedOption:()=>tx,SubFeedSelector:()=>Yw,SubscribeButton:()=>Se,SubscriptionNotificationToggleButton:()=>Um,Tab:()=>Re,Tabbed:()=>Uw,TabbedSearchResults:()=>jw,TextHeader:()=>Ww,ThumbnailBadgeView:()=>qm,ThumbnailHoverOverlayView:()=>$m,ThumbnailLandscapePortrait:()=>Jw,ThumbnailOverlayBadgeView:()=>Xm,ThumbnailOverlayBottomPanel:()=>Vh,ThumbnailOverlayEndorsement:()=>Hw,ThumbnailOverlayHoverText:()=>Gw,ThumbnailOverlayInlineUnplayable:()=>zw,ThumbnailOverlayLoadingPreview:()=>Kw,ThumbnailOverlayNowPlaying:()=>$w,ThumbnailOverlayPinking:()=>qw,ThumbnailOverlayPlaybackStatus:()=>Xw,ThumbnailOverlayResumePlayback:()=>Qw,ThumbnailOverlaySidePanel:()=>Zw,ThumbnailOverlayTimeStatus:()=>Ki,ThumbnailOverlayToggleButton:()=>eT,ThumbnailView:()=>Qm,TimedMarkerDecoration:()=>tT,TitleAndButtonListHeader:()=>iT,ToggleButton:()=>ge,ToggleButtonView:()=>hi,ToggleMenuServiceItem:()=>nT,Tooltip:()=>oT,TopicChannelDetails:()=>rT,Transcript:()=>kn,TranscriptFooter:()=>Zf,TranscriptSearchBox:()=>em,TranscriptSearchPanel:()=>om,TranscriptSectionHeader:()=>tm,TranscriptSegment:()=>im,TranscriptSegmentList:()=>nm,TwoColumnBrowseResults:()=>Ct,TwoColumnSearchResults:()=>ix,TwoColumnWatchNextResults:()=>ox,UniversalWatchCard:()=>rx,UpdateDateTextAction:()=>Zh,UpdateDescriptionAction:()=>e_,UpdateEngagementPanelAction:()=>X0,UpdateLiveChatPollAction:()=>gb,UpdateTitleAction:()=>t_,UpdateToggleButtonTextAction:()=>i_,UpdateViewershipAction:()=>n_,UploadTimeFactoid:()=>Rm,UpsellDialog:()=>sT,VerticalList:()=>aT,VerticalWatchCardList:()=>uT,Video:()=>Nn,VideoAttributeView:()=>ri,VideoAttributesSectionView:()=>Fm,VideoCard:()=>Nm,VideoDescriptionCourseSection:()=>Om,VideoDescriptionHeader:()=>Vm,VideoDescriptionInfocardsSection:()=>Mm,VideoDescriptionMusicSection:()=>Vn,VideoDescriptionTranscriptSection:()=>vs,VideoInfoCardContent:()=>lT,VideoOwner:()=>ao,VideoPrimaryInfo:()=>sx,VideoSecondaryInfo:()=>zd,ViewCountFactoid:()=>Am,WatchCardCompactVideo:()=>ax,WatchCardHeroVideo:()=>cT,WatchCardRichHeader:()=>pT,WatchCardSectionSequence:()=>dT,WatchNextEndScreen:()=>O_,WatchNextTabbedResults:()=>fT,YpcTrailer:()=>D_});var Ui,Bf=class{constructor(e,i){Ui.set(this,void 0),P(this,Ui,new W.shim.Cache(e,i),"f")}get cache_dir(){return f(this,Ui,"f").cache_dir}get(e){return f(this,Ui,"f").get(e)}set(e,i){return f(this,Ui,"f").set(e,i)}remove(e){return f(this,Ui,"f").remove(e)}};o(Bf,"UniversalCache");Ui=new WeakMap;var H1=Bf;var In,Of=class extends EventTarget{constructor(){super(),In.set(this,new Map)}emit(e,...i){let n=new W.shim.CustomEvent(e,{detail:i});this.dispatchEvent(n)}on(e,i){let n=o(r=>{r instanceof W.shim.CustomEvent?i(...r.detail):i(r)},"wrapper");f(this,In,"f").set(i,n),this.addEventListener(e,n)}once(e,i){let n=o(r=>{r instanceof W.shim.CustomEvent?i(...r.detail):i(r),this.off(e,i)},"wrapper");f(this,In,"f").set(i,n),this.addEventListener(e,n)}off(e,i){let n=f(this,In,"f").get(i);n&&(this.removeEventListener(e,n),f(this,In,"f").delete(i))}};o(Of,"EventEmitterLike");In=new WeakMap;var Fo=Of;var Wi={};ye(Wi,{chooseFormat:()=>$0,download:()=>xI,toDash:()=>K0});var G1={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function O0(t){return t.replace(/([&"<>'])/g,(e,i)=>G1[i])}o(O0,"escapeXMLString");function z1(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}o(z1,"normalizeTag");function re(t,e,...i){let n=i.flat().map(r=>typeof r=="string"?K1(r):r);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:n})):{type:z1(t),props:Object.assign(Object.assign({},e),{children:n})}}o(re,"createElement");function K1(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}o(K1,"createTextElement");function F0(t){return T(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return O0(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(n=>!["children","nodeValue"].includes(n)&&t.props[n]!==void 0).map(n=>`${n}="${O0(`${t.props[n]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(n=>!!n).map(n=>F0(n)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}o(F0,"renderElementToString");function Y0(t){return T(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield F0(yield t)}`})}o(Y0,"renderToString");function U0(t){return t.children}o(U0,"Fragment");var Yo=class extends s{constructor(e){super();let i=e.spec.split("|"),n=new URL(i.shift());this.boards=i.map((r,a)=>{let[c,p,d,_,m,g,y,w]=r.split("#");n.searchParams.set("sigh",w);let k=Math.ceil(parseInt(d,10)/(parseInt(_,10)*parseInt(m,10)));return{type:"vod",template_url:n.toString().replace("$L",a).replace("$N",y),thumbnail_width:parseInt(c,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(d,10),interval:parseInt(g,10),columns:parseInt(_,10),rows:parseInt(m,10),storyboard_count:k}})}};o(Yo,"PlayerStoryboardSpec");Yo.type="PlayerStoryboardSpec";var ji=Yo;var q1="StreamingInfo";function X1(t,e){var i,n,r;let a=new Map,c=t.some(p=>!!p.audio_track);for(let p of t){if((!p.index_range||!p.init_range)&&!p.is_type_otf&&!e)continue;let d=p.mime_type.split(";")[0],_=(i=Fe(p.mime_type,'codecs="','"'))===null||i===void 0?void 0:i.split(".")[0],m=p.color_info?Object.values(p.color_info).join("-"):"",g=((n=p.audio_track)===null||n===void 0?void 0:n.id)||"",y=p.is_drc?"drc":"",w=`${d}-${_}-${m}-${g}-${y}`;a.has(w)||a.set(w,[]),(r=a.get(w))===null||r===void 0||r.push(p)}return{groups:Array.from(a.values()),has_multiple_audio_tracks:c}}o(X1,"getFormatGroupings");function W0(t,e){if(t.length>1&&new Set(t.map(i=>Fe(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),Fe(t[0].mime_type,'codecs="','"')}o(W0,"hoistCodecsIfPossible");function J0(t,e,i){if(t.length>1&&new Set(t.map(n=>n.fps)).size===1)return i.push(e),Number(t[0][e])}o(J0,"hoistNumberAttributeIfPossible");function Q1(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}o(Q1,"hoistAudioChannelsIfPossible");function Z1(t,e){return T(this,void 0,void 0,function*(){var i;let n=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Ot,redirect:"follow"}),r=n.url.replace("&rn=0","").replace("&sq=0",""),a=yield n.text(),c=(i=Fe(a,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!c)throw new b("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let d of c){let _=d.trim();if(_.length===0)continue;let m,g=Fe(_,"(r=",")");g&&(m=parseInt(g)),p.push({duration:parseInt(_),repeat_count:m})}return{init_url:`${r}&sq=0`,media_url:`${r}&sq=$Number$`,timeline:p}})}o(Z1,"getOTFSegmentTemplate");function H0(t,e){return T(this,void 0,void 0,function*(){let i=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:Ot,redirect:"follow"}),n=parseInt(i.headers.get("X-Head-Time-Millis")||""),r=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(n)||isNaN(r))throw new b("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:n/1e3,segment_count:r}})}o(H0,"getPostLiveDvrInfo");function eI(t,e,i,n,r,a){return T(this,void 0,void 0,function*(){if(!t.item){let c=new URL(yield e.decipher(r));c.searchParams.set("cpn",a||"");let p=i(c).toString();t.item=yield H0(p,n)}return t.item.duration})}o(eI,"getPostLiveDvrDuration");function G0(t,e,i,n,r,a){return T(this,void 0,void 0,function*(){let c=new URL(yield t.decipher(n));c.searchParams.set("cpn",r||"");let p=e(c).toString();if(t.is_type_otf){if(!i)throw new b("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return Z1(p,i)}}}if(a){if(!i)throw new b("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let _=t.target_duration_dec;if(typeof _!="number")throw new b("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,getSegmentTemplate(){return T(this,void 0,void 0,function*(){return a.item||(a.item=yield H0(p,i)),{media_url:`${p}&sq=$Number$`,timeline:[{duration:_*1e3,repeat_count:a.item.segment_count}]}})}}}if(!t.index_range||!t.init_range)throw new b("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:p,index_range:t.index_range,init_range:t.init_range}})}o(G0,"getSegmentInfo");function tI(t,e,i,n,r,a,c){return T(this,void 0,void 0,function*(){new URL(yield t.decipher(r)).searchParams.set("cpn",a||"");let d=[t.itag.toString()];return t.audio_track&&d.push(t.audio_track.id),t.is_drc&&d.push("drc"),{uid:d.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Fe(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:yield G0(t,i,n,r,a,c)}})}o(tI,"getAudioRepresentation");function iI(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return t.is_dubbed&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}o(iI,"getTrackRoles");function nI(t,e,i,n,r,a,c){return T(this,void 0,void 0,function*(){var p;let d=t[0],{audio_track:_}=d,m=[],g=!!c,y;return _?g&&d.is_drc?y=c.label_drc_mutiple(_.display_name):y=_.display_name:g&&(y=d.is_drc?c.label_drc:c.label_original),{mime_type:d.mime_type.split(";")[0],language:(p=d.language)!==null&&p!==void 0?p:void 0,codecs:W0(t,m),audio_sample_rate:J0(t,"audio_sample_rate",m),track_name:y,track_roles:iI(d,g),channels:Q1(t,m),representations:yield Promise.all(t.map(k=>tI(k,m,e,i,n,r,a)))}})}o(nI,"getAudioSet");var oI={BT709:"1",BT2020:"9"},j0={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},rI={BT709:"1",BT2020_NCL:"14"};function sI(t){var e;let i=t.color_info,n,r,a;if(i){if(i.primaries&&(n=oI[i.primaries]),i.transfer_characteristics&&(r=j0[i.transfer_characteristics]),i.matrix_coefficients&&(a=rI[i.matrix_coefficients],!a)){let p=new URL(t.url),d=JSON.parse(JSON.stringify(t));d.url="REDACTED",d.signature_cipher="REDACTED",d.cipher="REDACTED",j.warn(q1,`Unknown matrix coefficients "${i.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${W.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${p.searchParams.get("c")}
format:`,d)}}else!((e=Fe(t.mime_type,'codecs="','"'))===null||e===void 0)&&e.startsWith("avc1")&&(r=j0.BT709);return{primaries:n,transfer_characteristics:r,matrix_coefficients:a}}o(sI,"getColorInfo");function aI(t,e,i,n,r,a,c){return T(this,void 0,void 0,function*(){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Fe(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:yield G0(t,e,r,n,a,c)}})}o(aI,"getVideoRepresentation");function uI(t,e,i,n,r,a){return T(this,void 0,void 0,function*(){let c=t[0],p=sI(c),d=[];return{mime_type:c.mime_type.split(";")[0],color_info:p,codecs:W0(t,d),fps:J0(t,"fps",d),representations:yield Promise.all(t.map(m=>aI(m,e,d,i,n,r,a)))}})}o(uI,"getVideoSet");function lI(t){var e;let i=new Map,n=t.is(ji)?t.boards:[t.board];for(let r of n){let a=new URL(r.template_url).pathname.split(".").pop(),c=`image/${a==="jpg"?"jpeg":a}`;i.has(c)||i.set(c,[]),(e=i.get(c))===null||e===void 0||e.push(r)}return i}o(lI,"getStoryboardInfo");function cI(t,e,i,n,r){return T(this,void 0,void 0,function*(){let a=e.template_url,c=i(new URL(a.replace("$M","0"))),p=r.response?r.response:t.session.http.fetch_function(c,{method:"HEAD",headers:Ot});return r.response=p,(yield p).headers.get("Content-Type")||n})}o(cI,"getStoryboardMimeType");function pI(t,e,i){return T(this,void 0,void 0,function*(){let n=e.template_url,r=[],a=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let _=0;_<a;_++){let m=new URL(n.replace("$M",_.toString())),g=_===0&&i.response?i.response:t.session.http.fetch_function(m,{method:"HEAD",headers:Ot});_===0&&(i.response=g),r.push(g)}let c=yield Promise.all(r),p=[];for(let _ of c)p.push(parseInt(_.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}o(pI,"getStoryboardBitrate");function dI(t,e,i,n,r){let a=i.template_url,c=new URL(a.replace("$M","$Number$")),p;return i.type==="vod"?p=t/i.storyboard_count:p=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return pI(e,i,r)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(p),template_url:n(c).toString(),getURL(_){return c.toString().replace("$Number$",_.toString())}}}o(dI,"getImageRepresentation");function fI(t,e,i,n){let r=lI(i),a={};return Array.from(r.entries()).map(([c,p])=>({probable_mime_type:c,getMimeType(){return cI(e,p[0],n,c,a)},representations:p.map(d=>dI(t,e,d,n,a))}))}o(fI,"getImageSets");function mI(t,e,i){let n=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(r=>{let a=new URL(r.base_url);a.searchParams.set("fmt",e);let c=["caption"];return a.searchParams.has("tlang")&&c.push("dub"),{mime_type:n,language:r.language_code,track_name:r.name.toString(),track_roles:c,representation:{uid:`text-${r.vss_id}`,base_url:i(a).toString()}}})}o(mI,"getTextSets");function Ff(t){return T(this,arguments,void 0,function*(e,i=!1,n=g=>g,r,a,c,p,d,_,m){if(!e)throw new b("Streaming data not available");let g=r?e.adaptive_formats.filter(z=>!r(z)):e.adaptive_formats,y,w;if(i){if(w={},!p)throw new b("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");y=o(()=>w?eI(w,g[0],n,p,c,a):Promise.resolve(0),"getDuration")}else{let z=g[0].approx_duration_ms/1e3;y=o(()=>Promise.resolve(z),"getDuration")}let{groups:k,has_multiple_audio_tracks:S}=X1(g,i),{video_groups:E,audio_groups:V}=k.reduce((z,F)=>F[0].has_audio?(S&&!F[0].audio_track||z.audio_groups.push(F),z):(z.video_groups.push(F),z),{video_groups:[],audio_groups:[]}),M;V.flat().some(z=>z.is_drc)&&(M={label_original:(m==null?void 0:m.label_original)||"Original",label_drc:(m==null?void 0:m.label_drc)||"Stable Volume",label_drc_mutiple:(m==null?void 0:m.label_drc_mutiple)||(z=>`${z} (Stable Volume)`)});let U=yield Promise.all(V.map(z=>nI(z,n,p,c,a,w,M))),q=yield Promise.all(E.map(z=>uI(z,n,c,p,a,w))),se=[];if(d&&p){let z;if(d.is(ji))z=g[0].approx_duration_ms/1e3;else{let F=g[0].target_duration_dec;if(typeof F!="number")throw new b("Format is missing target_duration_dec",{format:g[0]});z=F}se=fI(z,p,d,n)}let ue=[];if(_&&(m==null?void 0:m.captions_format)){if(m.captions_format!=="vtt"&&m.captions_format!=="ttml")throw new b("Invalid captions format",m.captions_format);ue=mI(_,m.captions_format,n)}return{getDuration:y,audio_sets:U,video_sets:q,image_sets:se,text_sets:ue}})}o(Ff,"getStreamingInfo");function hI(t){return T(this,arguments,void 0,function*({info:e}){if(!e.is_oft&&!e.is_post_live_dvr)return null;let i=yield e.getSegmentTemplate();return re("segment-template",{startNumber:i.init_url?"1":"0",timescale:"1000",initialization:i.init_url,media:i.media_url},re("segment-timeline",null,i.timeline.map(n=>re("s",{d:n.duration,r:n.repeat_count}))))})}o(hI,"OTFPostLiveDvrSegmentInfo");function z0({info:t}){return t.is_oft||t.is_post_live_dvr?re(hI,{info:t}):re(U0,null,re("base-url",null,t.base_url),re("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},re("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}o(z0,"SegmentInfo");function _I(t){return T(this,arguments,void 0,function*({streamingData:e,isPostLiveDvr:i,transformURL:n,rejectFormat:r,cpn:a,player:c,actions:p,storyboards:d,captionTracks:_,options:m}){let{getDuration:g,audio_sets:y,video_sets:w,image_sets:k,text_sets:S}=yield Ff(e,i,n,r,a,c,p,d,_,m);return re("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${yield g()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},re("period",null,y.map((E,V)=>re("adaptation-set",{id:V,mimeType:E.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:E.language,codecs:E.codecs,audioSamplingRate:E.audio_sample_rate,contentType:"audio"},E.track_roles&&E.track_roles.map(M=>re("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:M})),E.track_name&&re("label",{id:V},E.track_name),E.channels&&re("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:E.channels}),E.representations.map(M=>re("representation",{id:M.uid,bandwidth:M.bitrate,codecs:M.codecs,audioSamplingRate:M.audio_sample_rate},M.channels&&re("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:M.channels}),re(z0,{info:M.segment_info}))))),w.map((E,V)=>re("adaptation-set",{id:V+y.length,mimeType:E.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:E.codecs,maxPlayoutRate:"1",frameRate:E.fps,contentType:"video"},E.color_info.primaries&&re("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:E.color_info.primaries}),E.color_info.transfer_characteristics&&re("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:E.color_info.transfer_characteristics}),E.color_info.matrix_coefficients&&re("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:E.color_info.matrix_coefficients}),E.representations.map(M=>re("representation",{id:M.uid,bandwidth:M.bitrate,width:M.width,height:M.height,codecs:M.codecs,frameRate:M.fps},re(z0,{info:M.segment_info}))))),k.map((E,V)=>T(this,void 0,void 0,function*(){return re("adaptation-set",{id:V+y.length+w.length,mimeType:yield E.getMimeType(),contentType:"image"},E.representations.map(M=>T(this,void 0,void 0,function*(){return re("representation",{id:`thumbnails_${M.thumbnail_width}x${M.thumbnail_height}`,bandwidth:yield M.getBitrate(),width:M.sheet_width,height:M.sheet_height},re("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${M.columns}x${M.rows}`}),re("segment-template",{media:M.template_url,duration:M.template_duration,startNumber:"0"}))})))})),S.map((E,V)=>re("adaptation-set",{id:V+y.length+w.length+k.length,mimeType:E.mime_type,lang:E.language,contentType:"text"},E.track_roles.map(M=>re("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:M})),re("label",{id:V+y.length},E.track_name),re("representation",{id:E.representation.uid,bandwidth:"0"},re("base-url",null,E.representation.base_url))))))})}o(_I,"DashManifest");function K0(t,e=!1,i=m=>m,n,r,a,c,p,d,_){if(!t)throw new b("Streaming data not available");return Y0(re(_I,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:_,rejectFormat:n,cpn:r,player:a,actions:c,storyboards:p,captionTracks:d}))}o(K0,"toDash");function xI(t,e,i,n,r,a){return T(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new b("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new b("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!n)throw new b("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let c=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=$0(c,n),d=yield p.decipher(r);if(c.type==="video+audio"&&!t.range){let S=yield e.session.http.fetch_function(`${d}&cpn=${a}`,{method:"GET",headers:Ot,redirect:"follow"});if(!S.ok)throw new b("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:S});let E=S.body;if(!E)throw new b("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:S});return E}let _=1048576*10,m=t.range?t.range.start:0,g=t.range?t.range.end:_,y=!1,w;return new W.shim.ReadableStream({start(){},pull:S=>T(this,void 0,void 0,function*(){if(y){S.close();return}return(g>=(p.content_length?p.content_length:0)||t.range)&&(y=!0),new Promise((E,V)=>T(this,void 0,void 0,function*(){var M,U,q,se;try{w=new AbortController;let F=yield e.session.http.fetch_function(`${d}&cpn=${a}&range=${m}-${g||""}`,{method:"GET",headers:Object.assign({},Ot),signal:w.signal});if(!F.ok)throw new b("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:F});let A=F.body;if(!A)throw new b("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:F});try{for(var ue=!0,pe=D0(sg(A)),z;z=yield pe.next(),M=z.done,!M;ue=!0){se=z.value,ue=!1;let $=se;S.enqueue($)}}catch($){U={error:$}}finally{try{!ue&&!M&&(q=pe.return)&&(yield q.call(pe))}finally{if(U)throw U.error}}m=g+1,g+=_,E()}catch(F){V(F)}}))}),cancel(S){return T(this,void 0,void 0,function*(){w.abort(S)})}},{highWaterMark:1,size(S){return S.byteLength}})})}o(xI,"download");function $0(t,e){if(!e)throw new b("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],n=t.type?t.type.includes("audio"):!0,r=t.type?t.type.includes("video"):!0,a=t.language||"original",c=t.quality||"best",p=-1,d=["best","bestefficiency"].includes(c),_=c!=="best",m=i.filter(g=>n&&!g.has_audio||r&&!g.has_video||t.format!=="any"&&!g.mime_type.includes(t.format||"mp4")||!d&&g.quality_label!==c?!1:(g.width&&p<g.width&&(p=g.width),!0));if(!m.length)throw new b("No matching formats found",{options:t});if(d&&r&&(m=m.filter(g=>g.width===p)),n&&!r){let g=m.filter(y=>a!=="original"?!y.has_video&&!y.has_text&&y.language===a:!y.has_video&&!y.has_text&&y.is_original);g.length>0&&(m=g)}return _?m.sort((g,y)=>g.bitrate-y.bitrate):m.sort((g,y)=>y.bitrate-g.bitrate),m[0]}o($0,"chooseFormat");var ag,Zt,ug,Uo,q0,Yf=class{constructor(e,i,n){ag.add(this),Zt.set(this,void 0),ug.set(this,void 0),Uo.set(this,void 0),P(this,Zt,e,"f"),P(this,ug,i,"f"),P(this,Uo,n||W.shim.fetch,"f")}get fetch_function(){return f(this,Uo,"f")}fetch(e,i){return T(this,void 0,void 0,function*(){let n=Ze.API.PRODUCTION_1+f(this,Zt,"f").api_version,r=(i==null?void 0:i.baseURL)||n,a=typeof e=="string"?!r.endsWith("/")&&!e.startsWith("/")?new URL(`${r}/${e}`):new URL(r+e):e instanceof URL?e:new URL(e.url,r),c=(i==null?void 0:i.headers)||(e instanceof W.shim.Request?e.headers:new W.shim.Headers)||new W.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof W.shim.Request?e.body:void 0),d=new W.shim.Headers(c);d.set("Accept","*/*"),d.set("Accept-Language","*"),d.set("X-Goog-Visitor-Id",f(this,Zt,"f").context.client.visitorData||""),d.set("X-Youtube-Client-Version",f(this,Zt,"f").context.client.clientVersion||"");let _=Object.values(oe).find(S=>S.NAME===f(this,Zt,"f").context.client.clientName);_&&d.set("X-Youtube-Client-Name",_.NAME_ID),W.shim.server&&(d.set("User-Agent",Ji("desktop")),d.set("Origin",a.origin)),a.searchParams.set("prettyPrint","false"),a.searchParams.set("alt","json");let m=d.get("Content-Type"),g=p,y=r===n||r===Ze.YT_UPLOAD;if(m==="application/json"&&y&&typeof p=="string"){let S=JSON.parse(p),E=Object.assign(Object.assign({},S),{context:JSON.parse(JSON.stringify(f(this,Zt,"f").context))});f(this,ag,"m",q0).call(this,E.context,E.client),d.set("X-Youtube-Client-Version",E.context.client.clientVersion);let V=Object.values(oe).find(M=>M.NAME===E.context.client.clientName);V&&d.set("X-Youtube-Client-Name",V.NAME_ID),delete E.client,E.context.client.clientName==="ANDROID"||E.context.client.clientName==="ANDROID_MUSIC"?(d.set("User-Agent",oe.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2")):E.context.client.clientName==="iOS"&&d.set("User-Agent",oe.IOS.USER_AGENT),g=JSON.stringify(E)}else m==="application/x-protobuf"&&W.shim.server&&(d.set("User-Agent",oe.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2"),d.delete("X-Youtube-Client-Version"));let w=new W.shim.Request(a,e instanceof W.shim.Request?e:i),k=yield f(this,Uo,"f").call(this,w,Object.assign({body:g,headers:d,redirect:e instanceof W.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"},W.shim.runtime!=="cf-worker"?{credentials:"include"}:{}));if(k.ok)return k;throw new b(`Request to ${k.url} failed with status ${k.status}`,yield k.text())})}};o(Yf,"HTTPClient");Zt=new WeakMap,ug=new WeakMap,Uo=new WeakMap,ag=new WeakSet,q0=o(function(e,i){if(!!i){if(!Lf.includes(i.toUpperCase()))throw new b(`Invalid client: ${i}`,{available_innertube_clients:Lf});switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=oe.ANDROID.SDK_VERSION,e.client.userAgent=oe.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i.toUpperCase()){case"IOS":e.client.deviceMake="Apple",e.client.deviceModel=oe.IOS.DEVICE_MODEL,e.client.clientVersion=oe.IOS.VERSION,e.client.clientName=oe.IOS.NAME,e.client.platform="MOBILE",e.client.osName="iOS",delete e.client.browserName,delete e.client.browserVersion;break;case"YTMUSIC":e.client.clientVersion=oe.YTMUSIC.VERSION,e.client.clientName=oe.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=oe.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=oe.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=oe.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=oe.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=oe.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=oe.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=oe.TV_EMBEDDED.NAME,e.client.clientVersion=oe.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:Ze.YT_BASE};break;case"YTKIDS":e.client.clientVersion=oe.WEB_KIDS.VERSION,e.client.clientName=oe.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}}},"_HTTPClient_adjustContext");var lg=Yf;var mt={};ye(mt,{compress:()=>gI,decompress:()=>vI});function gI(t){let e=[],i={};for(let a=0;a<256;a++)i[String.fromCharCode(a)]=a;let n="",r=256;for(let a=0;a<t.length;a++){let c=t[a],p=n+c;i.hasOwnProperty(p)?n=p:(e.push(i[n]),i[p]=r++,n=c)}return n!==""&&e.push(i[n]),e.map(a=>String.fromCharCode(a)).join("")}o(gI,"compress");function vI(t){let e={},i=t.split(""),n=[i.shift()],r=i.length>>>0,a=256,c=n[0],p=c;for(let d=0;d<r;++d){let _=i[d].charCodeAt(0),m=_<256?i[d]:e[_]?e[_]:p+c;n.push(m),c=m.charAt(0),e[a++]=p+c,p=m}return n.join("")}o(vI,"decompress");var jo=class{constructor(e){this.buffer=e,this.offset=0}readVarInt(){let e=this.buffer[this.offset],i=this.varintSize(e),n=0,r=0;if(i!==5){r=8-i;let a=(1<<r)-1;n|=e&a}for(let a=1;a<i;a++)n|=this.buffer[this.offset+a]<<r,r+=8;return this.offset+=i,n}varintSize(e){let i=0;for(let n=7;n>=4&&e&1<<n;n--)i++;return Math.min(i+1,5)}parse(){let e=[];for(;this.offset<this.buffer.length;){let i=this.readVarInt(),n=this.readVarInt(),r=this.buffer.slice(this.offset,this.offset+n);this.offset+=n,e.push({type:i,size:n,data:r})}return e}};o(jo,"UMP");var Wo=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new x(e.navigationEndpoint||e.serviceEndpoint||e.command)}};o(Wo,"Button");Wo.type="Button";var I=Wo;var Jo=class extends s{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new x(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};o(Jo,"DropdownItem");Jo.type="DropdownItem";var Uf=Jo;var Ho=class extends s{constructor(e){super(),this.label=e.label||"",this.entries=l.parseArray(e.entries,Uf)}};o(Ho,"Dropdown");Ho.type="Dropdown";var ei=Ho;var Go=class extends s{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=l.parseItem(e.privacyOption,ei),this.create_button=l.parseItem(e.cancelButton,I),this.cancel_button=l.parseItem(e.cancelButton,I)}};o(Go,"CreatePlaylistDialog");Go.type="CreatePlaylistDialog";var jf=Go;var zo=class extends s{constructor(e){super(),this.popup=l.parseItem(e.popup),this.popup_type=e.popupType}};o(zo,"OpenPopupAction");zo.type="OpenPopupAction";var Wf=zo;var Hi=class extends s{constructor(e){var i,n,r,a,c,p,d,_;super(),e&&(e.innertubeCommand||e.command)&&(e=e.innertubeCommand||e.command),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new Wf(e.openPopupAction));let m=Object.keys(e||{}).find(g=>g.endsWith("Endpoint")||g.endsWith("Command"));this.payload=m?Reflect.get(e,m):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=l.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=l.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Hi(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((n=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||n===void 0)&&n.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((a=(r=e==null?void 0:e.commandMetadata)===null||r===void 0?void 0:r.webCommandMetadata)===null||a===void 0)&&a.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(c=e==null?void 0:e.commandMetadata)===null||c===void 0?void 0:c.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):m&&(this.metadata.api_url=this.getEndpoint(m)),!((_=(d=e==null?void 0:e.commandMetadata)===null||d===void 0?void 0:d.webCommandMetadata)===null||_===void 0)&&_.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=l.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,jf))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};o(Hi,"NavigationEndpoint");Hi.type="NavigationEndpoint";var x=Hi;var v=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(n=>new v(n)).sort((n,r)=>r.width-n.width):[]}};o(v,"Thumbnail");var ti=class{constructor(e){var i,n,r,a,c,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((r=(n=e.emoji)===null||n===void 0?void 0:n.shortcuts)===null||r===void 0?void 0:r[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((a=e.emoji)===null||a===void 0?void 0:a.shortcuts)||[],search_terms:((c=e.emoji)===null||c===void 0?void 0:c.searchTerms)||[],image:v.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=Jf(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};o(ti,"EmojiRun");var ii=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new x(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=Jf(this.text),r=`<span style="white-space: pre-wrap;">${e.map(a=>`<${a}>`).join("")+i+e.map(a=>`</${a}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:a}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let c=this.endpoint.toURL();if(c)return`<a href="${c}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${a}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${r}</a>`}}if(this.endpoint){let a=this.endpoint.toURL();if(a)return`<a href="${a}">${r}</a>`}return r}};o(ii,"TextRun");function Jf(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}o(Jf,"escape");var Ko="Text",u=class{constructor(e){var i,n,r,a;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(c=>c.emoji?new ti(c):new ii(c)),this.text=this.runs.map(c=>c.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new x(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new x(e.titleNavigationEndpoint)),this.endpoint||!((n=(i=this.runs)===null||i===void 0?void 0:i[0])===null||n===void 0)&&n.endpoint&&(this.endpoint=(a=(r=this.runs)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.endpoint)}static fromAttributed(e){var i,n,r;let{content:a,styleRuns:c,commandRuns:p,attachmentRuns:d}=e,_=[{text:a,startIndex:0}];if(c||p||d){if(c)for(let m of c)if(m.italic||m.strikethrough==="LINE_STYLE_SINGLE"||m.weightLabel==="FONT_WEIGHT_MEDIUM"||m.weightLabel==="FONT_WEIGHT_BOLD"){let g=pg(_,m);if(!g){j.warn(Ko,"Unable to find matching run for style run. Skipping...",{style_run:m,input_data:e,parsed_runs:JSON.parse(JSON.stringify(_))});continue}Hf(_,g,m,{bold:m.weightLabel==="FONT_WEIGHT_MEDIUM"||m.weightLabel==="FONT_WEIGHT_BOLD",italics:m.italic,strikethrough:m.strikethrough==="LINE_STYLE_SINGLE"})}else j.debug(Ko,"Skipping style run as it is doesn't have any information that we parse.",{style_run:m,input_data:e});if(p)for(let m of p)if(m.onTap){let g=pg(_,m);if(!g){j.warn(Ko,"Unable to find matching run for command run. Skipping...",{command_run:m,input_data:e,parsed_runs:JSON.parse(JSON.stringify(_))});continue}Hf(_,g,m,{navigationEndpoint:m.onTap})}else j.debug(Ko,'Skipping command run as it is missing the "doTap" property.',{command_run:m,input_data:e});if(d)for(let m of d){let g=pg(_,m);if(!g){j.warn(Ko,"Unable to find matching run for attachment run. Skipping...",{attachment_run:m,input_data:e,parsed_runs:JSON.parse(JSON.stringify(_))});continue}if(m.length===0)g.attachment=m;else{let y=m.startIndex-g.startIndex,w=g.text.substring(y,y+m.length),k=/^:[^:]+:$/.test(w);if(((r=(n=(i=m.element)===null||i===void 0?void 0:i.type)===null||n===void 0?void 0:n.imageType)===null||r===void 0?void 0:r.image)&&(k||new RegExp("^(?:\\p{Emoji}|\\u200d)+$","u").test(w))){let S={image:m.element.type.imageType.image,isCustomEmoji:k,shortcuts:k?[w]:void 0};Hf(_,g,m,{emoji:S})}else Hf(_,g,m,{attachment:m})}}}return new u({runs:_})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};o(u,"Text");function pg(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}o(pg,"findMatchingRun");function Hf(t,e,i,n){let r=t.indexOf(e),a=[],c=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&a.push(Object.assign(Object.assign({},e),{text:e.text.substring(0,c)})),a.push(Object.assign(Object.assign(Object.assign({},e),{text:e.text.substring(c,c+i.length),startIndex:i.startIndex}),n)),i.startIndex+i.length<e.startIndex+e.text.length&&a.push(Object.assign(Object.assign({},e),{text:e.text.substring(c+i.length),startIndex:i.startIndex+i.length})),t.splice(r,1,...a)}o(Hf,"insertSubRun");var $o=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=v.fromResponse(e.favicon)}};o($o,"ChannelExternalLinkView");$o.type="ChannelExternalLinkView";var Gf=$o;var qo=class extends s{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new x(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=l.parseArray(e.links,Gf):this.links=[]}};o(qo,"AboutChannelView");qo.type="AboutChannelView";var zf=qo;var Xo=class extends s{constructor(e){super(),this.metadata=l.parseItem(e.metadata,zf),this.share_channel=l.parseItem(e.shareChannel,I)}};o(Xo,"AboutChannel");Xo.type="AboutChannel";var Kf=Xo;var Qo=class extends s{constructor(e){super(),this.title=new u(e.title),this.endpoint=new x(e.navigationEndpoint)}};o(Qo,"AccountChannel");Qo.type="AccountChannel";var $f=Qo;var Zo=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(Zo,"AccountItemSectionHeader");Zo.type="AccountItemSectionHeader";var qf=Zo;var er=class extends s{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=v.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new x(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};o(er,"AccountItem");er.type="AccountItem";var tr=class extends s{constructor(e){super(),this.contents=X(e.contents.map(i=>new er(i.accountItem))),this.header=l.parseItem(e.header,qf)}};o(tr,"AccountItemSection");tr.type="AccountItemSection";var Xf=tr;var ir=class extends s{constructor(e){super(),this.contents=l.parseItem(e.contents[0],Xf),this.footers=l.parseItem(e.footers[0],$f)}};o(ir,"AccountSectionList");ir.type="AccountSectionList";var Qf=ir;var nr=class extends s{constructor(e){super(),this.contents=l.parseArray(e.continuationItems),this.target=e.target}};o(nr,"AppendContinuationItemsAction");nr.type="AppendContinuationItemsAction";var Gi=nr;var or=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var n,r;return{title:i.title,selected:i.selected,continuation:(r=(n=i.continuation)===null||n===void 0?void 0:n.reloadContinuationData)===null||r===void 0?void 0:r.continuation,endpoint:new x(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};o(or,"SortFilterSubMenu");or.type="SortFilterSubMenu";var ht=or;var rr=class extends s{constructor(e){super(),this.language_menu=l.parseItem(e.languageMenu,ht)}};o(rr,"TranscriptFooter");rr.type="TranscriptFooter";var Zf=rr;var sr=class extends s{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=l.parseItem(e.clearButton,I),this.endpoint=new x(e.onTextChangeCommand),this.search_button=l.parseItem(e.searchButton,I)}};o(sr,"TranscriptSearchBox");sr.type="TranscriptSearchBox";var em=sr;var ar=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};o(ar,"TranscriptSectionHeader");ar.type="TranscriptSectionHeader";var tm=ar;var ur=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};o(ur,"TranscriptSegment");ur.type="TranscriptSegment";var im=ur;var lr=class extends s{constructor(e){super(),this.initial_segments=l.parseArray(e.initialSegments,[im,tm]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};o(lr,"TranscriptSegmentList");lr.type="TranscriptSegmentList";var nm=lr;var cr=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,em),this.body=l.parseItem(e.body,nm),this.footer=l.parseItem(e.footer,Zf),this.target_id=e.targetId}};o(cr,"TranscriptSearchPanel");cr.type="TranscriptSearchPanel";var om=cr;var pr=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,om)}};o(pr,"Transcript");pr.type="Transcript";var kn=pr;var dr=class extends s{constructor(e){super(),this.target_id=e.targetId,this.content=l.parseItem(e.content,kn)}};o(dr,"UpdateEngagementPanelAction");dr.type="UpdateEngagementPanelAction";var X0=dr;var fr=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};o(fr,"Alert");fr.type="Alert";var Sn=fr;var mr=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=l.parseItem(e.dismissButton,I)}};o(mr,"AlertWithButton");mr.type="AlertWithButton";var rm=mr;var hr=class extends s{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};o(hr,"DataModelSection");hr.type="DataModelSection";var sm=hr;var _r=class extends s{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(n=>new sm(n))}};o(_r,"AnalyticsMainAppKeyMetrics");_r.type="AnalyticsMainAppKeyMetrics";var Q0=_r;var xr=class extends s{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(n=>({title:n.cardData.title,rows:n.cardData.rows.map(r=>({label:r.label,display_value:r.displayValue,display_value_a11y:r.displayValueA11y,bar_ratio:r.barRatio,bar_color:r.barColor,bar_opacity:r.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};o(xr,"AnalyticsRoot");xr.type="AnalyticsRoot";var Z0=xr;var gr=class extends s{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new x(i.videoEndpoint)}))}};o(gr,"AnalyticsShortsCarouselCard");gr.type="AnalyticsShortsCarouselCard";var ev=gr;var vr=class extends s{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:v.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};o(vr,"AnalyticsVideo");vr.type="AnalyticsVideo";var am=vr;var yr=class extends s{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new am(i)))}};o(yr,"AnalyticsVodCarouselCard");yr.type="AnalyticsVodCarouselCard";var tv=yr;var br=class extends s{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};o(br,"CtaGoToCreatorStudio");br.type="CtaGoToCreatorStudio";var iv=br;var wr=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};o(wr,"StatRow");wr.type="StatRow";var nv=wr;var Tr=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.suffix=u.fromAttributed(e.suffix)}};o(Tr,"AttributionView");Tr.type="AttributionView";var um=Tr;var Ir=class extends s{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};o(Ir,"AudioOnlyPlayability");Ir.type="AudioOnlyPlayability";var lm=Ir;var kr=class extends s{constructor(e){var i,n;super(),!((n=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||n===void 0)&&n.navigationEndpoint&&(this.playlist_video={endpoint:new x(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};o(kr,"AutomixPreviewVideo");kr.type="AutomixPreviewVideo";var cm=kr;var Sr=class extends s{constructor(e){super(),this.image=v.fromResponse(e.image),this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}},this.avatar_image_size=e.avatarImageSize}};o(Sr,"AvatarView");Sr.type="AvatarView";var pm=Sr;var Cr=class extends s{constructor(e){super(),this.image=v.fromResponse(e.image),this.endpoint=new x(e.command)}};o(Cr,"BackstageImage");Cr.type="BackstageImage";var dm=Cr;var Er=class extends s{constructor(e){var i,n,r,a,c,p,d,_,m;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let g=((a=(r=(n=e==null?void 0:e.defaultText)===null||n===void 0?void 0:n.accessibility)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label)||((p=(c=e==null?void 0:e.accessibilityData)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label)||((d=e==null?void 0:e.accessibility)===null||d===void 0?void 0:d.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(g.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((m=(_=e.defaultServiceEndpoint)===null||_===void 0?void 0:_.commandExecutorCommand)===null||m===void 0)&&m.commands?new x(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new x(e.defaultServiceEndpoint),this.toggled_endpoint=new x(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};o(Er,"ToggleButton");Er.type="ToggleButton";var ge=Er;var Pr=class extends s{constructor(e){var i,n;super(),this.creator_thumbnail=v.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(n=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||n===void 0?void 0:n.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};o(Pr,"CreatorHeart");Pr.type="CreatorHeart";var fm=Pr;var Nr=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,ge),this.dislike_button=l.parseItem(e.dislikeButton,ge),this.reply_button=l.parseItem(e.replyButton,I),this.creator_heart=l.parseItem(e.creatorHeart,fm)}};o(Nr,"CommentActionButtons");Nr.type="CommentActionButtons";var Cn=Nr;var Rr=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.top_level_buttons=l.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};o(Rr,"Menu");Rr.type="Menu";var O=Rr;var Ar=class extends s{constructor(e){super(),this.id=e.postId,this.author=new D(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=l.parseItem(e.actionMenu,O)),Reflect.has(e,"actionButtons")&&(this.action_buttons=l.parseItem(e.actionButtons,Cn)),Reflect.has(e,"voteButton")&&(this.vote_button=l.parseItem(e.voteButton,I)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new x(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=l.parseItem(e.backstageAttachment)),this.surface=e.surface}};o(Ar,"BackstagePost");Ar.type="BackstagePost";var ni=Ar;var Vr=class extends s{constructor(e){super(),this.post=l.parseItem(e.post)}};o(Vr,"BackstagePostThread");Vr.type="BackstagePostThread";var ov=Vr;var Mr=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Mr,"BrowseFeedActions");Mr.type="BrowseFeedActions";var mm=Mr;var Dr=class extends s{constructor(e){super(),this.album=new u(e.album),this.thumbnails=v.fromResponse(e.thumbnailDetails)}};o(Dr,"BrowserMediaSession");Dr.type="BrowserMediaSession";var rv=Dr;var Lr=class extends s{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.button_type=e.type,this.button_size=e.buttonSize,this.on_tap=new x(e.onTap)}};o(Lr,"ButtonView");Lr.type="ButtonView";var Tt=Lr;var En=class extends s{constructor(e){super(),this.endpoint=new x(e.navigationEndpoint),this.icon=v.fromResponse(e.icon),this.title=new u(e.title)}};o(En,"HeaderLink");En.type="HeaderLink";var Br=class extends s{constructor(e){var i,n;super(),this.primary=X(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>new En(r)))||[]),this.secondary=X(((n=e.secondaryLinks)===null||n===void 0?void 0:n.map(r=>new En(r)))||[])}};o(Br,"ChannelHeaderLinks");Br.type="ChannelHeaderLinks";var hm=Br;var Or=class extends s{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};o(Or,"ChannelHeaderLinksView");Or.type="ChannelHeaderLinksView";var _m=Or;var Fr=class extends s{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};o(Fr,"ClipCreationTextInput");Fr.type="ClipCreationTextInput";var xm=Fr;var Yr=class extends s{constructor(e){var i,n,r,a,c,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(n=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||n===void 0?void 0:n.label,this.end_label=(a=(r=e.endAccessibility)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label,this.duration_label=(p=(c=e.durationAccessibility)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label}};o(Yr,"ClipCreationScrubber");Yr.type="ClipCreationScrubber";var gm=Yr;var Ur=class extends s{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};o(Ur,"ClipAdState");Ur.type="ClipAdState";var vm=Ur;var jr=class extends s{constructor(e){super(),this.user_avatar=v.fromResponse(e.userAvatar),this.title_input=l.parseItem(e.titleInput,[xm]),this.scrubber=l.parseItem(e.scrubber,[gm]),this.save_button=l.parseItem(e.saveButton,[I]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=l.parseItem(e.cancelButton,[I]),this.ad_state_overlay=l.parseItem(e.adStateOverlay,[vm]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};o(jr,"ClipCreation");jr.type="ClipCreation";var ym=jr;var Wr=class extends s{constructor(e){super(),this.contents=l.parse(e.contents,!0,[ym])}};o(Wr,"ClipSection");Wr.type="ClipSection";var bm=Wr;var Jr=class extends s{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,I)),this.endpoint=new x(e.continuationEndpoint)}};o(Jr,"ContinuationItem");Jr.type="ContinuationItem";var ce=Jr;var Hr=class extends s{constructor(e){super(),this.title=new u(e.title),this.visibility_button=l.parseItem(e.visibilityButton,I)}};o(Hr,"EngagementPanelTitleHeader");Hr.type="EngagementPanelTitleHeader";var wm=Hr;var Gr=class extends s{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=l.parseItem(e.menu,O)}};o(Gr,"MacroMarkersInfoItem");Gr.type="MacroMarkersInfoItem";var Tm=Gr;var zr=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=v.fromResponse(e.thumbnail),this.on_tap_endpoint=new x(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};o(zr,"MacroMarkersListItem");zr.type="MacroMarkersListItem";var Pn=zr;var Kr=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,[Tm,Pn]),this.sync_button_label=new u(e.syncButtonLabel)}};o(Kr,"MacroMarkersList");Kr.type="MacroMarkersList";var Im=Kr;var $r=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o($r,"ProductList");$r.type="ProductList";var km=$r;var qr=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=l.parseItem(e.subMenu))}};o(qr,"SectionList");qr.type="SectionList";var ve=qr;var Xr=class extends s{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};o(Xr,"ExpandableVideoDescriptionBody");Xr.type="ExpandableVideoDescriptionBody";var Sm=Xr;var Qr=class extends s{constructor(e){super(),this.thumbnails=v.fromResponse(e.thumbnail),this.endpoint=new x(e.searchEndpoint),this.query=new u(e.query).toString()}};o(Qr,"SearchRefinementCard");Qr.type="SearchRefinementCard";var zi=Qr;var Zr=class extends s{constructor(e){super(),this.game=l.parseItem(e.game)}};o(Zr,"GameCard");Zr.type="GameCard";var Cm=Zr;var es=class extends s{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=l.parseArray(e.items)}get contents(){return this.items}};o(es,"HorizontalList");es.type="HorizontalList";var Em=es;var ts=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:v.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=l.parseItem(e.expandedContent,[oi,Em]),this.expand_button=l.parseItem(e.expandButton,I),this.collapse_button=l.parseItem(e.collapseButton,I)}};o(ts,"ExpandableMetadata");ts.type="ExpandableMetadata";var Pm=ts;var is=class extends s{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};o(is,"MetadataBadge");is.type="MetadataBadge";var He=is;var ns=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};o(ns,"ThumbnailOverlayTimeStatus");ns.type="ThumbnailOverlayTimeStatus";var Ki=ns;var os=class extends s{constructor(e){var i,n,r;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(c=>({text:new u(c.snippetText),hover_text:new u(c.snippetHoverText)}))),this.expandable_metadata=l.parseItem(e.expandableMetadata,Pm),this.thumbnails=v.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.author=new D(e.ownerText,e.ownerBadges,(r=(n=e.channelThumbnailSupportedRenderers)===null||n===void 0?void 0:n.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.badges=l.parseArray(e.badges,He),this.endpoint=new x(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:ke(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=l.parseItem(e.menu,O),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Ki))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};o(os,"Video");os.type="Video";var Nn=os;var rs=class extends Nn{constructor(e){super(e)}};o(rs,"VideoCard");rs.type="VideoCard";var Nm=rs;var ss=class extends s{constructor(e){super(),this.image=v.fromResponse(e.image),this.style=e.style}};o(ss,"ContentPreviewImageView");ss.type="ContentPreviewImageView";var Rn=ss;var as=class extends s{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image=v.fromResponse(e.image):this.image=l.parseItem(e.image,Rn),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new x(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};o(as,"VideoAttributeView");as.type="VideoAttributeView";var ri=as;var us=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards,[ri,zi,Pn,Cm,Nm]),this.header=l.parseItem(e.header),this.previous_button=l.parseItem(e.previousButton,I),this.next_button=l.parseItem(e.nextButton,I)}};o(us,"HorizontalCardList");us.type="HorizontalCardList";var oi=us;var ls=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};o(ls,"Factoid");ls.type="Factoid";var si=ls;var cs=class extends s{constructor(e){super(),this.factoid=l.parseItem(e.factoid,si)}};o(cs,"UploadTimeFactoid");cs.type="UploadTimeFactoid";var Rm=cs;var ps=class extends s{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=l.parseItem(e.factoid,[si]),this.view_count_type=e.viewCountType}};o(ps,"ViewCountFactoid");ps.type="ViewCountFactoid";var Am=ps;var ds=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new x(e.channelNavigationEndpoint),this.channel_thumbnail=v.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=l.parseArray(e.factoid,[si,Am,Rm])}};o(ds,"VideoDescriptionHeader");ds.type="VideoDescriptionHeader";var Vm=ds;var fs=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=l.parseItem(e.creatorVideosButton,I),this.creator_about_button=l.parseItem(e.creatorAboutButton,I),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=v.fromResponse(e.channelAvatar),this.channel_endpoint=new x(e.channelEndpoint)}};o(fs,"VideoDescriptionInfocardsSection");fs.type="VideoDescriptionInfocardsSection";var Mm=fs;var ms=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};o(ms,"InfoRow");ms.type="InfoRow";var Dm=ms;var hs=class extends s{constructor(e){super(),this.id=e.videoId,this.thumbnails=v.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.title=new u(e.title),this.author=new D(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=l.parseArray(e.badges,He),this.duration={text:new u(e.lengthText).toString(),seconds:ke(new u(e.lengthText).toString())},this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.endpoint=new x(e.navigationEndpoint),this.menu=l.parseItem(e.menu,O)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};o(hs,"CompactVideo");hs.type="CompactVideo";var An=hs;var _s=class extends s{constructor(e){super(),this.info_rows=l.parseArray(e.infoRows,Dm),this.video_lockup=l.parseItem(e.videoLockup,An)}};o(_s,"CarouselLockup");_s.type="CarouselLockup";var Lm=_s;var xs=class extends s{constructor(e){super(),this.carousel_lockups=l.parseArray(e.carouselLockups,Lm),this.section_title=new u(e.sectionTitle)}};o(xs,"VideoDescriptionMusicSection");xs.type="VideoDescriptionMusicSection";var Vn=xs;var gs=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=l.parseItem(e.primaryButton,I)}};o(gs,"VideoDescriptionTranscriptSection");gs.type="VideoDescriptionTranscriptSection";var vs=gs;var ys=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new x(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};o(ys,"StructuredDescriptionPlaylistLockup");ys.type="StructuredDescriptionPlaylistLockup";var Bm=ys;var bs=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=l.parseArray(e.mediaLockups,[Bm])}};o(bs,"VideoDescriptionCourseSection");bs.type="VideoDescriptionCourseSection";var Om=bs;var ws=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new x(e.endpoint))}get contents(){return this.items}};o(ws,"ReelShelf");ws.type="ReelShelf";var Mn=ws;var Ts=class extends s{constructor(e){super(),this.header_title=e.headerTitle,this.header_subtitle=e.headerSubtitle,this.video_attributes=l.parseArray(e.videoAttributeViewModels,ri),this.previous_button=l.parseItem(e.previousButton,Tt),this.next_button=l.parseItem(e.nextButton,Tt)}};o(Ts,"VideoAttributesSectionView");Ts.type="VideoAttributesSectionView";var Fm=Ts;var Is=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[Vm,Sm,Vn,Mm,Om,vs,vs,oi,Mn,Fm])}};o(Is,"StructuredDescriptionContent");Is.type="StructuredDescriptionContent";var $i=Is;var ks=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,wm),this.content=l.parseItem(e.content,[ri,ve,ce,bm,$i,Im,km]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};o(ks,"EngagementPanelSectionList");ks.type="EngagementPanelSectionList";var ai=ks;var Ss=class extends s{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:l.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,ai),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new x(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};o(Ss,"ChannelTagline");Ss.type="ChannelTagline";var Ym=Ss;var Cs=class extends s{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:l.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};o(Cs,"SubscriptionNotificationToggleButton");Cs.type="SubscriptionNotificationToggleButton";var Um=Cs;var Es=class extends s{constructor(e){var i,n;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=l.parseItem(e.notificationPreferenceButton,Um),this.endpoint=new x(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((n=e.onSubscribeEndpoints)===null||n===void 0?void 0:n[0]))}};o(Es,"SubscribeButton");Es.type="SubscribeButton";var Se=Es;var Ps=class extends s{constructor(e){super(),this.author=new D({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=v.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=v.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=v.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=l.parseItem(e.sponsorButton,I)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=l.parseItem(e.subscribeButton,[Se,I])),Reflect.has(e,"headerLinks")&&(this.header_links=l.parseItem(e.headerLinks,[hm,_m])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=l.parseItem(e.tagline,Ym))}};o(Ps,"C4TabbedHeader");Ps.type="C4TabbedHeader";var Dn=Ps;var Ns=class extends s{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};o(Ns,"CallToActionButton");Ns.type="CallToActionButton";var sv=Ns;var Rs=class extends s{constructor(e){super(),this.teaser=l.parseItem(e.teaser),this.content=l.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};o(Rs,"Card");Rs.type="Card";var av=Rs;var As=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};o(As,"CardCollection");As.type="CardCollection";var jm=As;var Vs=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Vs,"CarouselHeader");Vs.type="CarouselHeader";var Wm=Vs;var Ms=class extends s{constructor(e){super(),this.items=l.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=v.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};o(Ms,"CarouselItem");Ms.type="CarouselItem";var uv=Ms;var ui=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new D(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new x(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,[Se,I]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return j.warnOnce(ui.type,"Channel#subscribers is deprecated. Please use Channel#subscriber_count instead."),this.subscriber_count}get videos(){return j.warnOnce(ui.type,"Channel#videos is deprecated. Please use Channel#video_count instead."),this.video_count}};o(ui,"Channel");ui.type="Channel";var Jm=ui;var li=class extends s{constructor(e){var i,n;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=v.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(n=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>({endpoint:new x(r.navigationEndpoint),icon:v.fromResponse(r.icon),title:new u(r.title)})))!==null&&n!==void 0?n:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new x(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=l.parseArray(e.actionButtons,I)}get views(){return j.warnOnce(li.type,"ChannelAboutFullMetadata#views is deprecated. Please use ChannelAboutFullMetadata#view_count instead."),this.view_count}get joined(){return j.warnOnce(li.type,"ChannelAboutFullMetadata#joined is deprecated. Please use ChannelAboutFullMetadata#joined_date instead."),this.joined_date}};o(li,"ChannelAboutFullMetadata");li.type="ChannelAboutFullMetadata";var Ds=li;var Ls=class extends s{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=v.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=l.parseItem(e.signInButton,I),this.secondary_text=new u(e.secondaryText)}};o(Ls,"ChannelAgeGate");Ls.type="ChannelAgeGate";var lv=Ls;var Bs=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items)}};o(Bs,"ChannelFeaturedContent");Bs.type="ChannelFeaturedContent";var cv=Bs;var Os=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=v.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};o(Os,"ChannelMetadata");Os.type="ChannelMetadata";var Hm=Os;var Fs=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(Fs,"ChannelMobileHeader");Fs.type="ChannelMobileHeader";var pv=Fs;var Ys=class extends s{constructor(e){super(),this.avatar=v.fromResponse(e.avatar),this.endpoint=new x(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};o(Ys,"ChannelOptions");Ys.type="ChannelOptions";var Gm=Ys;var Us=class extends s{constructor(e){super(),this.illustration=v.fromResponse(e.illustration),this.description=new u(e.description)}};o(Us,"ChannelOwnerEmptyState");Us.type="ChannelOwnerEmptyState";var dv=Us;var js=class extends s{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new x(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=l.parseItem(e.sortSetting)}};o(js,"ChannelSubMenu");js.type="ChannelSubMenu";var Ws=js;var Js=class extends s{constructor(e){var i,n;super(),this.thumbnails=v.fromResponse(e.thumbnail),this.endpoint=new x(e.navigationEndpoint),this.label=(n=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||n===void 0?void 0:n.label}};o(Js,"ChannelThumbnailWithLink");Js.type="ChannelThumbnailWithLink";var fv=Js;var ci=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return j.warnOnce(ci.type,"ChannelVideoPlayer#views is deprecated. Please use ChannelVideoPlayer#view_count instead."),this.view_count}get published(){return j.warnOnce(ci.type,"ChannelVideoPlayer#published is deprecated. Please use ChannelVideoPlayer#published_time instead."),this.published_time}};o(ci,"ChannelVideoPlayer");ci.type="ChannelVideoPlayer";var mv=ci;var Hs=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=v.fromResponse(e.thumbnail)}};o(Hs,"Chapter");Hs.type="Chapter";var zm=Hs;var Gs=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:ke(e.lengthText.simpleText)},this.endpoint=new x(e.navigationEndpoint)}};o(Gs,"ChildVideo");Gs.type="ChildVideo";var hv=Gs;var zs=class extends s{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new x(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};o(zs,"ChipView");zs.type="ChipView";var Km=zs;var Ks=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Km)}};o(Ks,"ChipBarView");Ks.type="ChipBarView";var _v=Ks;var $s=class extends s{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new x(e.navigationEndpoint)),this.text=new u(e.text).toString()}};o($s,"ChipCloudChip");$s.type="ChipCloudChip";var Ye=$s;var qs=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Ye),this.next_button=l.parseItem(e.nextButton,I),this.previous_button=l.parseItem(e.previousButton,I),this.horizontal_scrollable=e.horizontalScrollable}};o(qs,"ChipCloud");qs.type="ChipCloud";var Ln=qs;var Xs=class extends s{constructor(e){super(),this.channel_avatar=v.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new x(e.endpoint)}};o(Xs,"CollaboratorInfoCardContent");Xs.type="CollaboratorInfoCardContent";var xv=Xs;var Qs=class extends s{constructor(e){super(),this.left=v.fromResponse(e.leftThumbnail),this.top_right=v.fromResponse(e.topRightThumbnail),this.bottom_right=v.fromResponse(e.bottomRightThumbnail),this.endpoint=new x(e.navigationEndpoint)}};o(Qs,"CollageHeroImage");Qs.type="CollageHeroImage";var gv=Qs;var Zs=class extends s{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=u.fromAttributed(e.text),this.style=e.style}};o(Zs,"ThumbnailHoverOverlayView");Zs.type="ThumbnailHoverOverlayView";var $m=Zs;var ea=class extends s{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=e.text,this.badge_style=e.badgeStyle,e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};o(ea,"ThumbnailBadgeView");ea.type="ThumbnailBadgeView";var qm=ea;var ta=class extends s{constructor(e){super(),this.badges=l.parseArray(e.thumbnailBadges,qm),this.position=e.position}};o(ta,"ThumbnailOverlayBadgeView");ta.type="ThumbnailOverlayBadgeView";var Xm=ta;var ia=class extends s{constructor(e){super(),this.image=v.fromResponse(e.image),this.overlays=l.parseArray(e.overlays,[Xm,$m]),e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};o(ia,"ThumbnailView");ia.type="ThumbnailView";var Qm=ia;var na=class extends s{constructor(e){super(),this.primary_thumbnail=l.parseItem(e.primaryThumbnail,Qm),e.stackColor&&(this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme})}};o(na,"CollectionThumbnailView");na.type="CollectionThumbnailView";var Zm=na;var eh,oa=class extends s{constructor(e){super(),eh.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),P(this,eh,e,"f")}get orig_badge(){return f(this,eh,"f")}};o(oa,"AuthorCommentBadge");eh=new WeakMap;oa.type="AuthorCommentBadge";var th=oa;var ra=class extends s{constructor(e){super(),this.reply_button=l.parseItem(e.replyButton,I),this.cancel_button=l.parseItem(e.cancelButton,I),this.author_thumbnail=v.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};o(ra,"CommentReplyDialog");ra.type="CommentReplyDialog";var Bn=ra;var sa=class extends s{constructor(e){var i,n;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(n=e.chipColorPalette)===null||n===void 0?void 0:n.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};o(sa,"PdgCommentChip");sa.type="PdgCommentChip";var ih=sa;var aa=class extends s{constructor(e){super(),this.custom_badge=v.fromResponse(e.customBadge),this.tooltip=e.tooltip}};o(aa,"SponsorCommentBadge");aa.type="SponsorCommentBadge";var nh=aa;var pi={};ye(pi,{decodeVisitorData:()=>yg,encodeChannelAnalyticsParams:()=>GI,encodeCommentActionParams:()=>ua,encodeCommentParams:()=>qI,encodeCommentsSectionParams:()=>$I,encodeCustomThumbnailPayload:()=>ZI,encodeHashtag:()=>ek,encodeMessageParams:()=>bg,encodeMusicSearchFilters:()=>KI,encodeNotificationPref:()=>XI,encodeReelSequence:()=>wg,encodeSearchFilters:()=>zI,encodeShortsParam:()=>tk,encodeVideoMetadataPayload:()=>QI,encodeVisitorData:()=>vg});var N;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(N||(N={}));var Y=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,n]=this;if(i===0&&n===0)return"0";if(e&&n>2147483647)return"-"+rh(dg(this),oh).toString(!1);let r=[],a=new Y(i,n);for(;wI(a,yI);){let[c,p]=bI(a);r.push(p),a=c}return r.reverse().join("")}static parse(e){let i=parseInt(e,10),n=i<0;if(Number.isNaN(i))return new Y(0);if(e.length<10)return i<0?rh(dg(new Y(-i)),oh):new Y(i);let r=new Y,a=oh;for(let c of e.split("").reverse())parseInt(c)&&(r=rh(r,vv(new Y(parseInt(c)),a))),a=vv(a,new Y(10));return n?rh(dg(r),oh):r}};o(Y,"Long");var yI=new Y(0),oh=new Y(1);function sh(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}o(sh,"makeChunk");function rh(t,e){let[i,n,r,a]=sh(t),[c,p,d,_]=sh(e),m=0,g=0,y=0,w=0;return w+=i+c,y+=w>>>16,w&=65535,y+=n+p,g+=y>>>16,y&=65535,g+=r+d,m+=g>>>16,g&=65535,m+=a+_,m&=65535,new Y(y<<16|w,m<<16|g)}o(rh,"add");function vv(t,e){let[i,n,r,a]=sh(t),[c,p,d,_]=sh(e),m=0,g=0,y=0,w=0;return w+=i*c,y+=w>>>16,w&=65535,y+=i*p+n*c,g+=y>>>16,y&=65535,g+=i*d+r*c+n*p,m+=g>>>16,g&=65535,m+=i*_+n*d+r*p+a*c,m&=65535,new Y(y<<16|w,m<<16|g)}o(vv,"mul");function bI(t){let[e,i]=t;return[new Y((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}o(bI,"divByTen");function wI(t,e){let[i,n]=t,[r,a]=e;return n!==a?n-a:i-r}o(wI,"compare");function dg(t){let[e,i]=t;return new Y(~e,~i)}o(dg,"negate");function On(t){let e=[],r=typeof t=="number"?new Y(t):t;for(;r[0]||r[1];){let[a,c]=r,p=a&127,d=c>>>7,_=a>>>7|(c&127)<<32-7;r=new Y(_,d);let m=r[0]||r[1]?p|128:p;e.push(m)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}o(On,"encode");function Fn(t){let e=new Y(0),i=0;for(;;){let n=t.getUint8(i);if(e=TI(e,II(new Y(n&127),i*7)),++i,!(n>>>7))return[i,e]}}o(Fn,"decode");function TI(t,e){return new Y(t[0]|e[0],t[1]|e[1])}o(TI,"or");function II(t,e){return e===0?t:e>=32?new Y(0,t[0]<<e-32):new Y(t[0]<<e,t[1]<<e|t[0]>>>32-e)}o(II,"leftshift");function R(t){let e=[];return t.forEach(([i,n])=>{switch(e.push(On(i<<3|n.type)),n.type){case N.Varint:e.push(On(n.value));break;case N.Fixed64:{let r=new Uint8Array(8),a=new DataView(r.buffer);a.setUint32(0,n.value[0],!0),a.setUint32(4,n.value[1],!0),e.push(r);break}case N.LengthDelimited:e.push(On(n.value.byteLength)),e.push(n.value);break;case N.Fixed32:{let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,n.value,!0),e.push(r);break}}}),fg(e)}o(R,"serialize");function fg(t){let e=t.reduce((n,r)=>n+r.byteLength,0),i=new Uint8Array(e);return t.reduce((n,r)=>(i.set(r,n),n+r.byteLength),0),i}o(fg,"concat");function mg(t){if(t instanceof Y){let e=new Y(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new Y(4294967295,4294967295):new Y;return new Y(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}o(mg,"encode");function hg(t){if(t instanceof Y){let e=new Y(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new Y(4294967295,4294967295):new Y;return new Y(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}o(hg,"decode");var _g={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>hg(t[0]),sint64:t=>hg(t).toString(!0),bool:t=>t[0]!==0},xg={int32:t=>new Y(t),int64:t=>Y.parse(t),uint32:t=>new Y(t),uint64:t=>Y.parse(t),sint32:t=>mg(new Y(t)),sint64:t=>mg(Y.parse(t)),bool:t=>new Y(+t)},kI=Object.fromEntries(Object.entries(_g).map(([t,e])=>[t,i=>{if(i.type===N.Varint)return e(i.value)}])),SI=Object.fromEntries(Object.entries(xg).map(([t,e])=>[t,i=>({type:N.Varint,value:e(i)})])),J=Object.assign(Object.assign({},kI),{double:t=>t.type!==N.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==N.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===N.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===N.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!0)},string:t=>t.type!==N.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===N.LengthDelimited)return t.value}}),C=Object.assign(Object.assign({},SI),{double:t=>{let e=new Y;return new DataView(e.buffer).setFloat64(0,t,!0),{type:N.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:N.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:N.Fixed32,value:t>>>0}),fixed64:t=>({type:N.Fixed64,value:Y.parse(t)}),sfixed32:t=>({type:N.Fixed32,value:t|0}),sfixed64:t=>({type:N.Fixed64,value:Y.parse(t)}),string:t=>{let e=new TextEncoder;return{type:N.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:N.LengthDelimited,value:t})}),CI=Object.fromEntries(Object.keys(_g).map(t=>[t,function*(e){for(let i of e){let n=J[t](i);if(n!=null)yield n;else for(let r of RI(i))yield _g[t](r)}}])),qD=Object.assign(Object.assign({},CI),{*double(t){for(let e of t){let i=J.double(e);i!=null?yield i:yield*PI(e)}},*float(t){for(let e of t){let i=J.float(e);i!=null?yield i:yield*NI(e)}},*fixed32(t){for(let e of t){let i=J.fixed32(e);if(i!=null)yield i;else for(let n of yv(e))yield n>>>0}},*fixed64(t){for(let e of t){let i=J.fixed64(e);if(i!=null)yield i;else for(let n of bv(e))yield n.toString(!1)}},*sfixed32(t){for(let e of t){let i=J.sfixed32(e);if(i!=null)yield i;else for(let n of yv(e))yield n|0}},*sfixed64(t){for(let e of t){let i=J.sfixed64(e);if(i!=null)yield i;else for(let n of bv(e))yield n.toString(!0)}}}),EI=Object.fromEntries(Object.keys(xg).map(t=>[t,function(e){return{type:N.LengthDelimited,value:fg(e.map(i=>{let n=xg[t](i);return On(n)}))}}]));function Yn(t,e){return o(function(n){let r=new Uint8Array(n.length*t),a=new DataView(r.buffer);for(let c=0;c<n.length;++c)e(a,c*t,n[c]);return{type:N.LengthDelimited,value:r}},"pack")}o(Yn,"getFixedPackFn");var XD=Object.assign(Object.assign({},EI),{double:Yn(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:Yn(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:Yn(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:Yn(8,(t,e,i)=>{let n=Y.parse(i);t.setUint32(e,n[0],!0),t.setUint32(e+4,n[1],!0)}),sfixed32:Yn(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:Yn(8,(t,e,i)=>{let n=Y.parse(i);t.setUint32(e,n[0],!0),t.setUint32(e+4,n[1],!0)})});function*PI(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=n.getFloat64(i,!0);i+=4,yield r}}o(PI,"unpackDouble");function*NI(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=n.getFloat32(i,!0);i+=4,yield r}}o(NI,"unpackFloat");function*RI(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=e.byteOffset;for(;i<e.length;){let r=Fn(new DataView(e.buffer,n+i));i+=r[0],yield r[1]}}o(RI,"unpackVarint");function*yv(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=n.getUint32(i,!0);i+=4,yield r}}o(yv,"unpackFixed32");function*bv(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=n.getUint32(i,!0);i+=4;let a=n.getUint32(i,!0);i+=4,yield new Y(r,a)}}o(bv,"unpackFixed64");function H(t){let e=0,i=t.byteOffset,n=[],r=new DataView(t.buffer,i);for(;e<t.length;){let a=Fn(new DataView(t.buffer,i+e)),c=a[1][0];e+=a[0];let p=c&7,d=c>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case N.Varint:{let[g,y]=Fn(new DataView(t.buffer,i+e));n.push([d,{type:p,value:y}]),e+=g;break}case N.Fixed64:let _=r.getUint32(e,!0),m=r.getUint32(e+=4,!0);e+=4,n.push([d,{type:p,value:new Y(_,m)}]);break;case N.LengthDelimited:{let[g,y]=Fn(new DataView(t.buffer,i+e));n.push([d,{type:p,value:t.subarray(e+=g,e+=y[0])}]);break}case N.StartGroup:case N.EndGroup:n.push([d,{type:p}]);break;case N.Fixed32:n.push([d,{type:p,value:r.getUint32(e,!0)}]),e+=4;break}}return n}o(H,"deserialize");function AI(){return{id:"",timestamp:0}}o(AI,"getDefaultValue");function wv(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,C.int32(i)])}return R(e)}o(wv,"encodeBinary");function Tv(t){let e=AI(),i=H(t),n=new Map(i);e:{let r=n.get(1);if(r===void 0)break e;let a=J.string(r);if(a===void 0)break e;e.id=a}e:{let r=n.get(5);if(r===void 0)break e;let a=J.int32(r);if(a===void 0)break e;e.timestamp=a}return e}o(Tv,"decodeBinary");function Iv(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,C.string(i)])}return R(e)}o(Iv,"encodeBinary");function kv(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:N.LengthDelimited,value:Iv(i)}])}return R(e)}o(kv,"encodeBinary");function Sv(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,C.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,C.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,C.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,C.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,C.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,C.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,C.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,C.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,C.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,C.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,C.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,C.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,C.int32(i)])}return R(e)}o(Sv,"encodeBinary");function Cv(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,C.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:Sv(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,C.int32(i)])}return R(e)}o(Cv,"encodeBinary");function Ev(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,C.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,C.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,C.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,C.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,C.int32(i)])}return R(e)}o(Ev,"encodeBinary");function Pv(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:N.LengthDelimited,value:Ev(i)}])}return R(e)}o(Pv,"encodeBinary");function Nv(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:Pv(i)}])}return R(e)}o(Nv,"encodeBinary");function Rv(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return R(e)}o(Rv,"encodeBinary");function Av(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:N.LengthDelimited,value:Rv(i)}])}return R(e)}o(Av,"encodeBinary");function Vv(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:N.LengthDelimited,value:Av(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,C.int32(i)])}return R(e)}o(Vv,"encodeBinary");function Mv(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return R(e)}o(Mv,"encodeBinary");function Dv(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,C.int32(i)])}return R(e)}o(Dv,"encodeBinary");function Lv(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:N.LengthDelimited,value:Dv(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,C.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,C.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,C.int32(i)])}return R(e)}o(Lv,"encodeBinary");function Bv(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,C.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([16,C.string(i)])}return R(e)}o(Bv,"encodeBinary");function Ov(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,C.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:N.LengthDelimited,value:Lv(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:N.LengthDelimited,value:Bv(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,C.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,C.string(i)])}return R(e)}o(Ov,"encodeBinary");function Fv(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:N.LengthDelimited,value:Mv(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,C.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:N.LengthDelimited,value:Ov(i)}])}return R(e)}o(Fv,"encodeBinary");function Yv(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return R(e)}o(Yv,"encodeBinary");function Uv(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:N.LengthDelimited,value:Yv(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,C.int32(i)])}return R(e)}o(Uv,"encodeBinary");function jv(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}o(jv,"encodeBinary");function Wv(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:N.LengthDelimited,value:jv(i)}])}return R(e)}o(Wv,"encodeBinary");function Jv(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:N.LengthDelimited,value:Wv(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,C.string(i)])}return R(e)}o(Jv,"encodeBinary");function Hv(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,C.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,C.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:N.LengthDelimited,value:Jv(i)}])}return R(e)}o(Hv,"encodeBinary");function Gv(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return R(e)}o(Gv,"encodeBinary");function zv(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:N.LengthDelimited,value:Gv(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,C.int32(i)])}return R(e)}o(zv,"encodeBinary");function Kv(t){let e=[];if(t.deviceMake!==void 0){let i=t.deviceMake;e.push([12,C.string(i)])}if(t.deviceModel!==void 0){let i=t.deviceModel;e.push([13,C.string(i)])}if(t.nameId!==void 0){let i=t.nameId;e.push([16,C.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,C.string(i)])}if(t.osName!==void 0){let i=t.osName;e.push([18,C.string(i)])}if(t.osVersion!==void 0){let i=t.osVersion;e.push([19,C.string(i)])}if(t.acceptLanguage!==void 0){let i=t.acceptLanguage;e.push([21,C.string(i)])}if(t.acceptRegion!==void 0){let i=t.acceptRegion;e.push([22,C.string(i)])}if(t.androidSdkVersion!==void 0){let i=t.androidSdkVersion;e.push([34,C.int32(i)])}if(t.windowWidthPoints!==void 0){let i=t.windowWidthPoints;e.push([37,C.int32(i)])}if(t.windowHeightPoints!==void 0){let i=t.windowHeightPoints;e.push([38,C.int32(i)])}return R(e)}o(Kv,"encodeBinary");function $v(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:N.LengthDelimited,value:Kv(i)}])}return R(e)}o($v,"encodeBinary");function qv(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}o(qv,"encodeBinary");function Xv(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}o(Xv,"encodeBinary");function Qv(t){let e=[];for(let i of t.list)e.push([1,C.string(i)]);return R(e)}o(Qv,"encodeBinary");function Zv(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.int32(i)])}return R(e)}o(Zv,"encodeBinary");function ey(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.string(i)])}return R(e)}o(ey,"encodeBinary");function ty(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,C.bytes(i)])}return R(e)}o(ty,"encodeBinary");function iy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:N.LengthDelimited,value:ty(i)}])}return R(e)}o(iy,"encodeBinary");function ny(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}return R(e)}o(ny,"encodeBinary");function oy(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return R(e)}o(oy,"encodeBinary");function ry(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return R(e)}o(ry,"encodeBinary");function gg(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:N.LengthDelimited,value:$v(i)}])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:N.LengthDelimited,value:qv(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:N.LengthDelimited,value:Xv(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:N.LengthDelimited,value:Qv(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:N.LengthDelimited,value:Zv(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:N.LengthDelimited,value:ey(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:N.LengthDelimited,value:iy(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:N.LengthDelimited,value:ny(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:N.LengthDelimited,value:oy(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:N.LengthDelimited,value:ry(i)}])}return R(e)}o(gg,"encodeBinary");function sy(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,C.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,C.int32(i)])}return R(e)}o(sy,"encodeBinary");function ay(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:N.LengthDelimited,value:sy(i)}])}return R(e)}o(ay,"encodeBinary");function uy(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,C.int32(i)])}return R(e)}o(uy,"encodeBinary");function ly(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:N.LengthDelimited,value:uy(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,C.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,C.int32(i)])}return R(e)}o(ly,"encodeBinary");function cy(t){let e=[];if(t.p1!==void 0){let i=t.p1;e.push([1,C.int32(i)])}return R(e)}o(cy,"encodeBinary");function py(t){let e=[];if(t.f1!==void 0){let i=t.f1;e.push([1,{type:N.LengthDelimited,value:cy(i)}])}if(t.p59!==void 0){let i=t.p59;e.push([59,C.int32(i)])}return R(e)}o(py,"encodeBinary");function vg(t,e){let i=wv({id:t,timestamp:e});return encodeURIComponent(Ge(i).replace(/\+/g,"-").replace(/\//g,"_"))}o(vg,"encodeVisitorData");function yg(t){return Tv(Tg(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}o(yg,"decodeVisitorData");function GI(t){let e=kv({params:{channelId:t}});return encodeURIComponent(Ge(e))}o(GI,"encodeChannelAnalyticsParams");function zI(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},n={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},a={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},c={};if(t?c.filters={}:c.noFilter=0,c.filters&&(t.upload_date&&(c.filters.uploadDate=e[t.upload_date]),t.type&&(c.filters.type=i[t.type]),t.duration&&(c.filters.duration=n[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(c.sortBy=r[t.sort_by]),t.features))for(let d of t.features)c.filters[a[d]]=1;let p=Cv(c);return encodeURIComponent(Ge(p))}o(zI,"encodeSearchFilters");function KI(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let n=Nv(i);return encodeURIComponent(Ge(n))}o(KI,"encodeMusicSearchFilters");function bg(t,e){let i=Vv({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(Ge(i)))}o(bg,"encodeMessageParams");function $I(t,e={}){let n=Fv({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2,commentId:e.comment_id||""},target:"comments-section"}});return encodeURIComponent(Ge(n))}o($I,"encodeCommentsSectionParams");function qI(t){let e=Uv({videoId:t,params:{index:0},number:7});return encodeURIComponent(Ge(e))}o(qI,"encodeCommentParams");function ua(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let n=Hv(i);return encodeURIComponent(Ge(n))}o(ua,"encodeCommentActionParams");function XI(t,e){let i=zv({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(Ge(i))}o(XI,"encodeNotificationPref");function QI(t,e){let i={context:{client:{nameId:3,osName:"Android",androidSdkVersion:oe.ANDROID.SDK_VERSION,osVersion:"13",acceptLanguage:"en-US",acceptRegion:"US",deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",windowHeightPoints:840,windowWidthPoints:432,clientVersion:oe.ANDROID.VERSION}},videoId:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),gg(i)}o(QI,"encodeVideoMetadataPayload");function ZI(t,e){let i={context:{client:{nameId:3,osName:"Android",androidSdkVersion:oe.ANDROID.SDK_VERSION,osVersion:"13",acceptLanguage:"en-US",acceptRegion:"US",deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",windowHeightPoints:840,windowWidthPoints:432,clientVersion:oe.ANDROID.VERSION}},videoId:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return gg(i)}o(ZI,"encodeCustomThumbnailPayload");function ek(t){let e=ay({params:{hashtag:t,type:1}});return encodeURIComponent(Ge(e))}o(ek,"encodeHashtag");function wg(t){let e=ly({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent(Ge(e))}o(wg,"encodeReelSequence");function tk(){let t=py({f1:{p1:1},p59:1});return encodeURIComponent(Ge(t))}o(tk,"encodeShortsParam");var _t,la=class extends s{constructor(e){var i,n,r,a,c,p,d;super(),_t.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=v.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=l.parseItem(e.sponsorCommentBadge,nh),this.paid_comment_chip=l.parseItem(e.paidCommentChipRenderer,ih),this.author_badge=l.parseItem(e.authorCommentBadge,th),this.author=new D(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=l.parseItem(e.actionMenu,O),this.action_buttons=l.parseItem(e.actionButtons,Cn),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((r=(n=this.action_buttons)===null||n===void 0?void 0:n.like_button)===null||r===void 0)&&r.is_toggled),this.is_disliked=!!(!((c=(a=this.action_buttons)===null||a===void 0?void 0:a.dislike_button)===null||c===void 0)&&c.is_toggled),this.is_hearted=!!(!((d=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||d===void 0)&&d.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){return T(this,void 0,void 0,function*(){var e;if(!f(this,_t,"f"))throw new b("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new b("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new b("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(f(this,_t,"f"),{parse:!1})})}dislike(){return T(this,void 0,void 0,function*(){var e;if(!f(this,_t,"f"))throw new b("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new b("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new b("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(f(this,_t,"f"),{parse:!1})})}reply(e){return T(this,void 0,void 0,function*(){var i,n,r;if(!f(this,_t,"f"))throw new b("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new b("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let a=(n=this.action_buttons)===null||n===void 0?void 0:n.reply_button;if(!(!((r=a.endpoint)===null||r===void 0)&&r.dialog))throw new b("Reply button endpoint did not have a dialog.");let p=a.endpoint.dialog.as(Bn).reply_button;if(!p)throw new b("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new b("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(f(this,_t,"f"),{commentText:e})})}translate(e){return T(this,void 0,void 0,function*(){var i,n,r,a,c,p;if(!f(this,_t,"f"))throw new b("An active caller must be provide to perform this operation.");let _={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},m=ua(22,_),g=yield f(this,_t,"f").execute("comment/perform_comment_action",{action:m,client:"ANDROID"}),y=(n=(i=g.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||n===void 0?void 0:n.mutations,w=(p=(c=(a=(r=y==null?void 0:y[0])===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},g),{content:w})})}setActions(e){P(this,_t,e,"f")}};o(la,"Comment");_t=new WeakMap;la.type="Comment";var Un=la;var ca=class extends s{constructor(e){super(),this.id=e.id,this.categories=l.parseArray(e.categories),this.category_buttons=l.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};o(ca,"EmojiPicker");ca.type="EmojiPicker";var ah=ca;var pa=class extends s{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=v.fromResponse(e.authorThumbnail),this.submit_button=l.parseItem(e.submitButton,I),this.cancel_button=l.parseItem(e.cancelButton,I),this.placeholder=new u(e.placeholderText),this.emoji_button=l.parseItem(e.emojiButton,I),this.emoji_picker=l.parseItem(e.emojiPicker,ah)}};o(pa,"CommentDialog");pa.type="CommentDialog";var dy=pa;var da=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),this.view_replies=l.parseItem(e.viewReplies,I),this.hide_replies=l.parseItem(e.hideReplies,I),this.view_replies_creator_thumbnail=v.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};o(da,"CommentReplies");da.type="CommentReplies";var uh=da;var fa=class extends s{constructor(e){super(),this.simplebox_avatar=v.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};o(fa,"CommentsSimplebox");fa.type="CommentsSimplebox";var lh=fa;var ma=class extends s{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=v.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};o(ma,"CommentsEntryPointTeaser");ma.type="CommentsEntryPointTeaser";var ch=ma;var ha=class extends s{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=v.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=l.parseItem(e.contentRenderer,[ch,lh])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};o(ha,"CommentsEntryPointHeader");ha.type="CommentsEntryPointHeader";var ph=ha;var _a=class extends s{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=l.parseItem(e.createRenderer),this.sort_menu=l.parseItem(e.sortMenu,ht),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:v.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};o(_a,"CommentsHeader");_a.type="CommentsHeader";var di=_a;var xa=class extends s{constructor(e){super(),this.submit_button=l.parseItem(e.submitButton,I),this.cancel_button=l.parseItem(e.cancelButton,I),this.author_thumbnail=v.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};o(xa,"CommentSimplebox");xa.type="CommentSimplebox";var dh=xa;var Ue,ga=class extends s{constructor(e){super(),Ue.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,n){e&&(this.content=u.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new D({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),n&&!Reflect.has(n,"prepareAccountCommand")&&(this.like_command=new x(n.likeCommand),this.dislike_command=new x(n.dislikeCommand),this.unlike_command=new x(n.unlikeCommand),this.undislike_command=new x(n.undislikeCommand),this.reply_command=new x(n.replyCommand))}like(){return T(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.like_command)throw new b("Like command not found.");if(this.is_liked)throw new b("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(f(this,Ue,"f"))})}dislike(){return T(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.dislike_command)throw new b("Dislike command not found.");if(this.is_disliked)throw new b("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(f(this,Ue,"f"))})}unlike(){return T(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.unlike_command)throw new b("Unlike command not found.");if(!this.is_liked)throw new b("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(f(this,Ue,"f"))})}undislike(){return T(this,void 0,void 0,function*(){if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.undislike_command)throw new b("Undislike command not found.");if(!this.is_disliked)throw new b("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(f(this,Ue,"f"))})}reply(e){return T(this,void 0,void 0,function*(){var i;if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.reply_command)throw new b("Reply command not found.");let n=(i=this.reply_command.dialog)===null||i===void 0?void 0:i.as(Bn);if(!n)throw new b("Reply dialog not found.");let r=n.reply_button;if(!r)throw new b("Reply button not found in the dialog.");if(!r.endpoint)throw new b("Reply button endpoint not found.");return r.endpoint.call(f(this,Ue,"f"),{commentText:e})})}translate(e){return T(this,void 0,void 0,function*(){var i,n,r,a,c,p;if(!f(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.content)throw new b("Comment content not found.",{comment_id:this.comment_id});let _={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},m=ua(22,_),g=yield f(this,Ue,"f").execute("comment/perform_comment_action",{action:m,client:"ANDROID"}),y=(n=(i=g.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||n===void 0?void 0:n.mutations,w=(p=(c=(a=(r=y==null?void 0:y[0])===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},g),{content:w})})}setActions(e){P(this,Ue,e,"f")}};o(ga,"CommentView");Ue=new WeakMap;ga.type="CommentView";var fi=ga;var Ft,qi,va=class extends s{constructor(e){super(),Ft.set(this,void 0),qi.set(this,void 0),Reflect.has(e,"commentViewModel")?this.comment=l.parseItem(e.commentViewModel,fi):this.comment=l.parseItem(e.comment,Un),this.comment_replies_data=l.parseItem(e.replies,uh),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){return T(this,void 0,void 0,function*(){var e;if(!f(this,Ft,"f"))throw new b("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new b("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(ce);if(!i)throw new b("Replies continuation not found.");let n=yield i.endpoint.call(f(this,Ft,"f"),{parse:!0});if(!n.on_response_received_endpoints_memo)throw new b("Unexpected response.",n);return this.replies=X(n.on_response_received_endpoints_memo.getType(Un,fi).map(r=>(r.setActions(f(this,Ft,"f")),r))),P(this,qi,n==null?void 0:n.on_response_received_endpoints_memo.getType(ce).first(),"f"),this})}getContinuation(){return T(this,void 0,void 0,function*(){var e;if(!this.replies)throw new b("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!f(this,qi,"f"))throw new b("Continuation not found.");if(!f(this,Ft,"f"))throw new b("Actions instance not set for this thread.");let i=(e=f(this,qi,"f").button)===null||e===void 0?void 0:e.as(I);if(!i)throw new b('"Load more" button not found.');let n=yield i.endpoint.call(f(this,Ft,"f"),{parse:!0});if(!n.on_response_received_endpoints_memo)throw new b("Unexpected response.",n);return this.replies=X(n.on_response_received_endpoints_memo.getType(Un,fi).map(r=>(r.setActions(f(this,Ft,"f")),r))),P(this,qi,n.on_response_received_endpoints_memo.getType(ce).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new b("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!f(this,qi,"f")}setActions(e){P(this,Ft,e,"f")}};o(va,"CommentThread");Ft=new WeakMap,qi=new WeakMap;va.type="CommentThread";var fh=va;var ya=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=v.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new x(e.navigationEndpoint),this.tv_banner=v.fromResponse(e.tvBanner),this.menu=l.parseItem(e.menu,O)}};o(ya,"CompactChannel");ya.type="CompactChannel";var fy=ya;var ba=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new x(e.navigationEndpoint),this.style=e.style}};o(ba,"CompactLink");ba.type="CompactLink";var jn=ba;var wa=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail)}};o(wa,"PlaylistCustomThumbnail");wa.type="PlaylistCustomThumbnail";var Wn=wa;var Ta=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail)}};o(Ta,"PlaylistVideoThumbnail");Ta.type="PlaylistVideoThumbnail";var Jn=Ta;var Ia=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new D(e.longBylineText,e.ownerBadges,null),this.thumbnails=v.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(n=>n.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=l.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=l.parseItem(e.menu),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new x(e.navigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer,[Jn,Wn])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};o(Ia,"Playlist");Ia.type="Playlist";var It=Ia;var ka=class extends It{constructor(e){super(e)}};o(ka,"CompactMix");ka.type="CompactMix";var my=ka;var Sa=class extends s{constructor(e){var i;super();let n=((i=e.thumbnailOverlays.find(a=>a.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=v.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new D(e.shortBylineText);let r=e.lengthText?new u(e.lengthText).toString():new u(n).toString();this.duration={text:r,seconds:ke(r)},this.endpoint=new x(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=l.parseItem(e.menu,O)}};o(Sa,"CompactMovie");Sa.type="CompactMovie";var hy=Sa;var Ca=class extends It{constructor(e){super(e)}};o(Ca,"CompactPlaylist");Ca.type="CompactPlaylist";var _y=Ca;var Ea=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new x(e.navigationEndpoint),this.thumbnail=v.fromResponse(e.thumbnail)}};o(Ea,"CompactStation");Ea.type="CompactStation";var xy=Ea;var Pa=class extends s{constructor(e){super(),this.title=new u(e.title),this.confirm_button=l.parseItem(e.confirmButton,I),this.cancel_button=l.parseItem(e.cancelButton,I),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};o(Pa,"ConfirmDialog");Pa.type="ConfirmDialog";var gy=Pa;var Na=class extends s{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var n;return{metadata_parts:(n=i.metadataParts)===null||n===void 0?void 0:n.map(r=>({text:u.fromAttributed(r.text)}))}}),this.delimiter=e.delimiter}};o(Na,"ContentMetadataView");Na.type="ContentMetadataView";var Hn=Na;var Ra=class extends s{constructor(e){super(),this.text=new u(e.text)}};o(Ra,"Message");Ra.type="Message";var mi=Ra;var Aa=class extends s{constructor(e){super(),this.availability_message=l.parseItem(e.availabilityMessage,mi)}};o(Aa,"ConversationBar");Aa.type="ConversationBar";var vy=Aa;var Va=class extends s{constructor(e){super(),this.copy_button=l.parseItem(e.copyButton,I),this.short_url=e.shortUrl,this.style=e.style}};o(Va,"CopyLink");Va.type="CopyLink";var mh=Va;var Ma=class extends s{constructor(e){var i,n;super(),this.avatar=l.parseItem(e.avatar,pm),this.a11y_label=e.a11yLabel,!((n=(i=e.rendererContext)===null||i===void 0?void 0:i.commandContext)===null||n===void 0)&&n.onTap&&(this.on_tap_endpoint=new x(e.rendererContext.commandContext.onTap))}};o(Ma,"DecoratedAvatarView");Ma.type="DecoratedAvatarView";var hh=Ma;var Da=class extends s{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};o(Da,"HeatMarker");Da.type="HeatMarker";var _h=Da;var La=class extends s{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=l.parseArray(e.heatMarkers,_h),this.heat_markers_decorations=l.parseArray(e.heatMarkersDecorations)}};o(La,"Heatmap");La.type="Heatmap";var xh=La;var Ba=class extends s{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=l.parseItem(e.value.heatmap,xh)),Reflect.has(e.value,"chapters")&&(this.value.chapters=l.parseArray(e.value.chapters,zm)))}};o(Ba,"Marker");Ba.type="Marker";var Oa=class extends s{constructor(e){var i;super(),this.markers_map=X(((i=e.markersMap)===null||i===void 0?void 0:i.map(n=>new Ba(n)))||[])}};o(Oa,"MultiMarkersPlayerBar");Oa.type="MultiMarkersPlayerBar";var gh=Oa;var Fa=class extends s{constructor(e){super(),this.player_bar=l.parseItem(e.playerBar,gh),this.player_bar_action_button=l.parseItem(e.playerBarActionButton,I)}};o(Fa,"DecoratedPlayerBar");Fa.type="DecoratedPlayerBar";var vh=Fa;var Ya=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new x(e.navigationEndpoint),this.large_form_factor_background_thumbnail=l.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=l.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};o(Ya,"DefaultPromoPanel");Ya.type="DefaultPromoPanel";var yy=Ya;var Ua=class extends s{constructor(e){var i,n,r,a,c,p;if(super(),this.description=u.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=u.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,!((r=(n=(i=e.rendererContext.commandContext)===null||i===void 0?void 0:i.onTap)===null||n===void 0?void 0:n.innertubeCommand)===null||r===void 0)&&r.showEngagementPanelEndpoint){let d=(p=(c=(a=e.rendererContext.commandContext)===null||a===void 0?void 0:a.onTap)===null||c===void 0?void 0:c.innertubeCommand)===null||p===void 0?void 0:p.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:l.parseItem(d.engagementPanel,ai),engagement_panel_popup_type:d.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:d.identifier.surface,tag:d.identifier.tag}}}}}};o(Ua,"DescriptionPreviewView");Ua.type="DescriptionPreviewView";var yh=Ua;var ja=class extends s{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new x(e.navigationEndpoint||e.correctedQueryEndpoint)}};o(ja,"DidYouMean");ja.type="DidYouMean";var by=ja;var Wa=class extends s{constructor(e){super(),this.default_button=l.parseItem(e.defaultButtonViewModel,Tt),this.toggled_button=l.parseItem(e.toggledButtonViewModel,Tt),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};o(Wa,"ToggleButtonView");Wa.type="ToggleButtonView";var hi=Wa;var Ja=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,hi),this.dislike_entity_key=e.dislikeEntityKey}};o(Ja,"DislikeButtonView");Ja.type="DislikeButtonView";var bh=Ja;var Ha=class extends s{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new x(e.command),this.target_id=e.targetId}};o(Ha,"DownloadButton");Ha.type="DownloadButton";var wh=Ha;var Ga=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};o(Ga,"DynamicTextView");Ga.type="DynamicTextView";var Th=Ga;var Xi=class extends s{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(n=>new Xi(n)))}};o(Xi,"ChildElement");Xi.type="ChildElement";var Ih=Xi;var Qi=class extends s{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return l.parseItem(e,Qi);let n=e.newElement.type.componentType;this.model=l.parseItem(n==null?void 0:n.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=X(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(r=>new Ih(r)))||[]))}};o(Qi,"Element");Qi.type="Element";var Gn=Qi;var za=class extends s{constructor(e){super(),this.title=new u(e.title),this.first_option=l.parseItem(e.firstOption),this.menu=l.parseItem(e.menu,O)}};o(za,"EmergencyOnebox");za.type="EmergencyOnebox";var wy=za;var Ka=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};o(Ka,"EmojiPickerCategory");Ka.type="EmojiPickerCategory";var Ty=Ka;var $a=class extends s{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};o($a,"EmojiPickerCategoryButton");$a.type="EmojiPickerCategoryButton";var Iy=$a;var qa=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new x(e.command),this.emoji_ids=e.emojiIds}};o(qa,"EmojiPickerUpsellCategory");qa.type="EmojiPickerUpsellCategory";var ky=qa;var Xa=class extends s{constructor(e){super(),this.elements=l.parseArray(e.elements),this.start_ms=e.startMs}};o(Xa,"Endscreen");Xa.type="Endscreen";var kh=Xa;var Qa=class extends s{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new x(e.endpoint),Reflect.has(e,"image")&&(this.image=v.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=v.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=l.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};o(Qa,"EndscreenElement");Qa.type="EndscreenElement";var Sy=Qa;var Za=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new x(e.navigationEndpoint),this.thumbnails=v.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};o(Za,"EndScreenPlaylist");Za.type="EndScreenPlaylist";var Sh=Za;var eu=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=v.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new D(e.shortBylineText,e.ownerBadges),this.endpoint=new x(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=l.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};o(eu,"EndScreenVideo");eu.type="EndScreenVideo";var Ch=eu;var tu=class extends s{constructor(e){super(),this.disclaimer=new u(e.disclaimer),this.info_icon={icon_type:e.infoIcon.iconType},this.usage_scenario=e.usageScenario}};o(tu,"EomSettingsDisclaimer");tu.type="EomSettingsDisclaimer";var Cy=tu;var iu=class extends s{constructor(e){super(),this.title=e.title,this.endpoint=new x(e.endpoint),this.selected=e.selected,this.content=l.parseItem(e.content)}};o(iu,"ExpandableTab");iu.type="ExpandableTab";var zn=iu;var nu=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(nu,"ExpandedShelfContents");nu.type="ExpandedShelfContents";var Ey=nu;var ou=class extends s{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};o(ou,"FancyDismissibleDialog");ou.type="FancyDismissibleDialog";var Py=ou;var ru=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,Ye)}};o(ru,"FeedFilterChipBar");ru.type="FeedFilterChipBar";var Yt=ru;var su=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.endpoint=new x(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};o(su,"FeedNudge");su.type="FeedNudge";var Ny=su;var au=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(au,"FeedTabbedHeader");au.type="FeedTabbedHeader";var Eh=au;var uu=class extends s{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:l.parseArray(i.actions,[Tt,hi])})),this.style=e.style}};o(uu,"FlexibleActionsView");uu.type="FlexibleActionsView";var Ph=uu;var lu=class extends s{constructor(e){super(),this.title=new u(e.title),this.box_art=v.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new x(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};o(lu,"GameDetails");lu.type="GameDetails";var Ry=lu;var cu=class extends s{constructor(e){var i,n,r;super(),this.items=l.parseArray(e.items),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((r=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}get contents(){return this.items}};o(cu,"Grid");cu.type="Grid";var Ay=cu;var pu=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new D(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new x(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton)}};o(pu,"GridChannel");pu.type="GridChannel";var Nh=pu;var du=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(du,"GridHeader");du.type="GridHeader";var Vy=du;var fu=class extends s{constructor(e){var i,n;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((n=e.longBylineText)===null||n===void 0)&&n.simpleText?new u(e.longBylineText):null,this.thumbnails=v.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new x(e.navigationEndpoint),this.secondary_endpoint=new x(e.secondaryNavigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};o(fu,"GridMix");fu.type="GridMix";var My=fu;var mu=class extends s{constructor(e){var i;super();let n=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=v.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):n!=null&&n.text?new u(n.text):null,this.endpoint=new x(e.navigationEndpoint),this.badges=l.parseArray(e.badges,He),this.metadata=new u(e.metadata),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};o(mu,"GridMovie");mu.type="GridMovie";var Dy=mu;var hu=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new D(e.shortBylineText,e.ownerBadges)),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new x(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=v.fromResponse(e.thumbnail),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(n=>v.fromResponse(n)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};o(hu,"GridPlaylist");hu.type="GridPlaylist";var Rh=hu;var _u=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail)}};o(_u,"ShowCustomThumbnail");_u.type="ShowCustomThumbnail";var Ah=_u;var xu=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};o(xu,"ThumbnailOverlayBottomPanel");xu.type="ThumbnailOverlayBottomPanel";var Vh=xu;var gu=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=te(e.thumbnailRenderer,Ah),this.endpoint=new x(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=Ve(e.thumbnailOverlays,Vh),this.author=new D(e.shortBylineText,void 0)}};o(gu,"GridShow");gu.type="GridShow";var Ly=gu;var vu=class extends s{constructor(e){var i,n;super();let r=(i=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=v.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.rich_thumbnail=l.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):r!=null&&r.text?new u(r.text):null,this.author=e.shortBylineText&&new D(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new x(e.navigationEndpoint),this.menu=l.parseItem(e.menu,O),Reflect.has(e,"buttons")&&(this.buttons=l.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((n=e.upcomingEventData)===null||n===void 0)&&n.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};o(vu,"GridVideo");vu.type="GridVideo";var Mh=vu;var yu=class extends s{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new x(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=v.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};o(yu,"GuideEntry");yu.type="GuideEntry";var Zi=yu;var bu=class extends s{constructor(e){super(),this.expander_item=te(e.expanderItem,Zi),this.collapser_item=te(e.collapserItem,Zi),this.expandable_items=Ve(e.expandableItems)}};o(bu,"GuideCollapsibleEntry");bu.type="GuideCollapsibleEntry";var By=bu;var wu=class extends s{constructor(e){super(),this.header_entry=te(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Ve(e.sectionItems)}};o(wu,"GuideCollapsibleSectionEntry");wu.type="GuideCollapsibleSectionEntry";var Oy=wu;var Tu=class extends Zi{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};o(Tu,"GuideDownloadsEntry");Tu.type="GuideDownloadsEntry";var Fy=Tu;var Iu=class extends s{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=Ve(e.items)}};o(Iu,"GuideSection");Iu.type="GuideSection";var Kn=Iu;var ku=class extends Kn{};o(ku,"GuideSubscriptionsSection");ku.type="GuideSubscriptionsSection";var Dh=ku;var Su=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};o(Su,"HashtagHeader");Su.type="HashtagHeader";var Lh=Su;var Cu=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=v.fromResponse(e.hashtagThumbnail),this.endpoint=new x(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};o(Cu,"HashtagTile");Cu.type="HashtagTile";var Yy=Cu;var Eu=class extends s{constructor(e){super(),this.thumbnails=v.fromResponse(e.thumbnail),this.on_tap_endpoint=new x(e.onTap)}};o(Eu,"HeroPlaylistThumbnail");Eu.type="HeroPlaylistThumbnail";var Uy=Eu;var Pu=class extends s{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:v.fromResponse(e.thumbnail.image),endpoint:new x(e.thumbnail.onTap),on_long_press_endpoint:new x(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:v.fromResponse(e.backgroundImage.image),gradient_image:v.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new x(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new x(e.textOnTap)}};o(Pu,"Panel");Pu.type="Panel";var Nu=class extends s{constructor(e){super(),this.panels=X(e.highlightsCarousel.panels.map(i=>new Pu(i)))}};o(Nu,"HighlightsCarousel");Nu.type="HighlightsCarousel";var jy=Nu;var Ru=class extends s{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new x(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new x(e.serviceEndpoint))}};o(Ru,"SearchSuggestion");Ru.type="SearchSuggestion";var Bh=Ru;var Au=class extends Bh{constructor(e){super(e)}};o(Au,"HistorySuggestion");Au.type="HistorySuggestion";var Wy=Au;var Vu=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.previous_button=l.parseItem(e.previousButton,I),this.next_button=l.parseItem(e.nextButton,I)}get contents(){return this.items}};o(Vu,"HorizontalMovieList");Vu.type="HorizontalMovieList";var Jy=Vu;var Mu=class extends s{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new x(e.navigationEndpoint)}};o(Mu,"IconLink");Mu.type="IconLink";var Oh=Mu;var Du=class extends s{constructor(e){super(),this.image=v.fromResponse(e.image),this.style=e.style}};o(Du,"ImageBannerView");Du.type="ImageBannerView";var Fh=Du;var Lu=class extends s{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new x(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new x(e.originalQueryEndpoint):void 0}};o(Lu,"IncludingResultsFor");Lu.type="IncludingResultsFor";var Hy=Lu;var Bu=class extends s{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(i=>new u(i))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(i=>u.fromAttributed(i))),this.thumbnail=v.fromResponse(e.thumbnail),this.source_endpoint=new x(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};o(Bu,"InfoPanelContent");Bu.type="InfoPanelContent";var Yh=Bu;var Ou=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.menu=l.parseItem(e.menu,O),this.content=l.parseItem(e.content,Yh),e.headerEndpoint&&(this.header_endpoint=new x(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};o(Ou,"InfoPanelContainer");Ou.type="InfoPanelContainer";var Uh=Ou;var Fu=class extends s{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=l.parseArray(e.badges,He),this.box_art=v.fromResponse(e.boxArt),this.banner=v.fromResponse(e.banner),this.buttons=l.parseArray(e.buttons,[Se,I]),this.auto_generated=new u(e.autoGenerated)}};o(Fu,"InteractiveTabbedHeader");Fu.type="InteractiveTabbedHeader";var jh=Fu;var Yu=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(Yu,"ItemSectionHeader");Yu.type="ItemSectionHeader";var $n=Yu;var Uu=class extends s{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new x(e.endpoint)}};o(Uu,"ItemSectionTab");Uu.type="Tab";var Wh=Uu;var ju=class extends s{constructor(e){super(),this.title=new u(e.title),this.tabs=l.parseArray(e.tabs,Wh),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};o(ju,"ItemSectionTabbedHeader");ju.type="ItemSectionTabbedHeader";var qn=ju;var Wu=class extends s{constructor(e){super(),this.filter_menu=l.parseItem(e.filterMenu,en.SortFilterSubMenu)}};o(Wu,"SortFilterHeader");Wu.type="SortFilterHeader";var Jh=Wu;var Ju=class extends s{constructor(e){var i,n,r;super(),this.header=l.parseItem(e.header,[di,$n,qn,Jh]),this.contents=l.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(r=(n=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||n===void 0?void 0:n.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};o(Ju,"ItemSection");Ju.type="ItemSection";var et=Ju;var Hu=class extends s{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new x(i)))}};o(Hu,"LikeButton");Hu.type="LikeButton";var Hh=Hu;var Gu=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,hi),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};o(Gu,"LikeButtonView");Gu.type="LikeButtonView";var Gh=Gu;var zu=class extends s{constructor(e){var i,n;super(),this.header=l.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(n=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||n===void 0?void 0:n.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};o(zu,"LiveChat");zu.type="LiveChat";var zh=zu;var Ku=class extends s{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=l.parseItem(e.contextMenuButton,I)}};o(Ku,"LiveChatBannerHeader");Ku.type="LiveChatBannerHeader";var Kh=Ku;var $u=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,Kh),this.contents=l.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};o($u,"LiveChatBanner");$u.type="LiveChatBanner";var $h=$u;var qu=class extends s{constructor(e){super(),this.banner=l.parseItem(e.bannerRenderer,$h)}};o(qu,"AddBannerToLiveChatCommand");qu.type="AddBannerToLiveChatCommand";var Gy=qu;var Xu=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};o(Xu,"AddChatItemAction");Xu.type="AddChatItemAction";var qh=Xu;var Qu=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),this.duration_sec=e.durationSec}};o(Qu,"AddLiveChatTickerItemAction");Qu.type="AddLiveChatTickerItemAction";var zy=Qu;var Zu=class extends s{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};o(Zu,"DimChatItemAction");Zu.type="DimChatItemAction";var Ky=Zu;var el=class extends s{constructor(e){super(),this.menu_endpoint=new x(e.contextMenuEndpoint),this.moderation_buttons=l.parseArray(e.moderationButtons,I),this.auto_moderated_item=l.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};o(el,"LiveChatAutoModMessage");el.type="LiveChatAutoModMessage";var $y=el;var tl=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=v.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=l.parseItem(e.contextMenuButton,I)}};o(tl,"LiveChatBannerPoll");tl.type="LiveChatBannerPoll";var qy=tl;var il=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new x(e.contextMenuEndpoint)}};o(il,"LiveChatMembershipItem");il.type="LiveChatMembershipItem";var Xy=il;var nl=class extends s{constructor(e){super(),this.message=new u(e.message),this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new x(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};o(nl,"LiveChatPaidMessage");nl.type="LiveChatPaidMessage";var Qy=nl;var ol=class extends s{constructor(e){super(),this.id=e.id,this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=v.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new x(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};o(ol,"LiveChatPaidSticker");ol.type="LiveChatPaidSticker";var Zy=ol;var rl=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};o(rl,"LiveChatPlaceholderItem");rl.type="LiveChatPlaceholderItem";var eb=rl;var sl=class extends s{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=v.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=l.parseItem(e.informationButton),this.endpoint=new x(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=v.fromResponse(e.authorPhoto),this.information_dialog=l.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};o(sl,"LiveChatProductItem");sl.type="LiveChatProductItem";var tb=sl;var al=class extends s{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};o(al,"LiveChatRestrictedParticipation");al.type="LiveChatRestrictedParticipation";var ib=al;var tn=class extends s{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=l.parseArray(e.inlineActionButtons,I),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};o(tn,"LiveChatMessageBase");tn.type="LiveChatMessageBase";var ul=class extends tn{constructor(e){super(e),this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new x(e.contextMenuEndpoint)}};o(ul,"LiveChatTextMessage");ul.type="LiveChatTextMessage";var nb=ul;var ll=class extends s{constructor(e){var i,n;super(),this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=l.parseItem((n=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||n===void 0?void 0:n.renderer),this.show_item_endpoint=new x(e.showItemEndpoint),this.id=e.id}};o(ll,"LiveChatTickerPaidMessageItem");ll.type="LiveChatTickerPaidMessageItem";var Xh=ll;var cl=class extends Xh{};o(cl,"LiveChatTickerPaidStickerItem");cl.type="LiveChatTickerPaidStickerItem";var ob=cl;var pl=class extends s{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new D(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};o(pl,"LiveChatTickerSponsorItem");pl.type="LiveChatTickerSponsorItem";var rb=pl;var dl=class extends tn{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=l.parseItem(e.actionButton)}};o(dl,"LiveChatViewerEngagementMessage");dl.type="LiveChatViewerEngagementMessage";var sb=dl;var fl=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=v.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=l.parseItem(e.contextMenuButton,I)}};o(fl,"PollHeader");fl.type="PollHeader";var ab=fl;var ml=class extends s{constructor(e){super(),this.id=e.id,this.contents=l.parse(e.contents),this.target_id=e.targetId}};o(ml,"LiveChatActionPanel");ml.type="LiveChatActionPanel";var Qh=ml;var hl=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};o(hl,"MarkChatItemAsDeletedAction");hl.type="MarkChatItemAsDeletedAction";var ub=hl;var _l=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};o(_l,"MarkChatItemsByAuthorAsDeletedAction");_l.type="MarkChatItemsByAuthorAsDeletedAction";var lb=_l;var xl=class extends s{constructor(e){super(),this.target_action_id=e.targetActionId}};o(xl,"RemoveBannerForLiveChatCommand");xl.type="RemoveBannerForLiveChatCommand";var cb=xl;var gl=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId}};o(gl,"RemoveChatItemAction");gl.type="RemoveChatItemAction";var pb=gl;var vl=class extends s{constructor(e){super(),this.external_channel_id=e.externalChannelId}};o(vl,"RemoveChatItemByAuthorAction");vl.type="RemoveChatItemByAuthorAction";var db=vl;var yl=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=l.parseItem(e.replacementItem)}};o(yl,"ReplaceChatItemAction");yl.type="ReplaceChatItemAction";var fb=yl;var bl=class extends s{constructor(e){var i;super(),this.actions=l.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(n=>(delete n.clickTrackingParams,n))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};o(bl,"ReplayChatItemAction");bl.type="ReplayChatItemAction";var mb=bl;var wl=class extends s{constructor(e){super(),this.panel_to_show=l.parseItem(e.panelToShow,Qh)}};o(wl,"ShowLiveChatActionPanelAction");wl.type="ShowLiveChatActionPanelAction";var hb=wl;var Tl=class extends s{constructor(e){super(),this.dialog=l.parseItem(e.dialog)}};o(Tl,"ShowLiveChatDialogAction");Tl.type="ShowLiveChatDialogAction";var _b=Tl;var Il=class extends s{constructor(e){super(),this.tooltip=l.parseItem(e.tooltip)}};o(Il,"ShowLiveChatTooltipCommand");Il.type="ShowLiveChatTooltipCommand";var xb=Il;var kl=class extends s{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};o(kl,"UpdateDateTextAction");kl.type="UpdateDateTextAction";var Zh=kl;var Sl=class extends s{constructor(e){super(),this.description=new u(e.description)}};o(Sl,"UpdateDescriptionAction");Sl.type="UpdateDescriptionAction";var e_=Sl;var Cl=class extends s{constructor(e){super(),this.poll_to_update=l.parseItem(e.pollToUpdate)}};o(Cl,"UpdateLiveChatPollAction");Cl.type="UpdateLiveChatPollAction";var gb=Cl;var El=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(El,"UpdateTitleAction");El.type="UpdateTitleAction";var t_=El;var Pl=class extends s{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};o(Pl,"UpdateToggleButtonTextAction");Pl.type="UpdateToggleButtonTextAction";var i_=Pl;var Nl=class extends s{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};o(Nl,"UpdateViewershipAction");Nl.type="UpdateViewershipAction";var n_=Nl;var Rl=class extends He{constructor(e){super(e),this.custom_thumbnail=v.fromResponse(e.customThumbnail)}};o(Rl,"LiveChatAuthorBadge");Rl.type="LiveChatAuthorBadge";var vb=Rl;var Al=class extends s{constructor(e){super(),this.confirm_button=l.parseItem(e.confirmButton,I),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};o(Al,"LiveChatDialog");Al.type="LiveChatDialog";var yb=Al;var Vl=class extends s{constructor(e){super(),this.overflow_menu=l.parseItem(e.overflowMenu,O),this.collapse_button=l.parseItem(e.collapseButton,I),this.view_selector=l.parseItem(e.viewSelector,ht)}};o(Vl,"LiveChatHeader");Vl.type="LiveChatHeader";var o_=Vl;var Ml=class extends s{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=l.parseItem(e.moreCommentsBelowButton,I)}};o(Ml,"LiveChatItemList");Ml.type="LiveChatItemList";var r_=Ml;var Dl=class extends s{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=v.fromResponse(e.authorPhoto),this.send_button=l.parseItem(e.sendButton,I),this.target_id=e.targetId}};o(Dl,"LiveChatMessageInput");Dl.type="LiveChatMessageInput";var bb=Dl;var Ll=class extends s{constructor(e){super(),this.name=new u(e.authorName),this.photo=v.fromResponse(e.authorPhoto),this.badges=l.parseArray(e.authorBadges)}};o(Ll,"LiveChatParticipant");Ll.type="LiveChatParticipant";var s_=Ll;var Bl=class extends s{constructor(e){super(),this.title=new u(e.title),this.participants=l.parseArray(e.participants,s_)}};o(Bl,"LiveChatParticipantsList");Bl.type="LiveChatParticipantsList";var a_=Bl;var Ol=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.metadata=l.parseItem(e.metadata,Hn)}};o(Ol,"LockupMetadataView");Ol.type="LockupMetadataView";var u_=Ol;var Fl=class extends s{constructor(e){super(),this.content_image=l.parseItem(e.contentImage,Zm),this.metadata=l.parseItem(e.metadata,u_),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.on_tap_endpoint=new x(e.rendererContext.commandContext.onTap)}};o(Fl,"LockupView");Fl.type="LockupView";var l_=Fl;var Yl=class extends I{constructor(e){super(e)}};o(Yl,"MenuNavigationItem");Yl.type="MenuNavigationItem";var c_=Yl;var Ul=class extends I{constructor(e){super(e)}};o(Ul,"MenuServiceItem");Ul.type="MenuServiceItem";var _i=Ul;var jl=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[c_,_i])}};o(jl,"MenuPopup");jl.type="MenuPopup";var wb=jl;var Wl=class extends s{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new x(e.navigationEndpoint||e.serviceEndpoint)}};o(Wl,"MenuServiceItemDownload");Wl.type="MenuServiceItemDownload";var Tb=Wl;var Jl=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.sections=l.parseArray(e.sections),this.style=e.style}};o(Jl,"MultiPageMenu");Jl.type="MultiPageMenu";var Ib=Jl;var Hl=class extends s{constructor(e){super(),this.items=l.parse(e.items)}get contents(){return this.items}};o(Hl,"MultiPageMenuNotificationSection");Hl.type="MultiPageMenuNotificationSection";var kb=Hl;var Gl=class extends s{constructor(e){super()}};o(Gl,"MusicMenuItemDivider");Gl.type="MusicMenuItemDivider";var p_=Gl;var zl=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new x(e.selectedCommand)),this.selected=!!this.endpoint}};o(zl,"MusicMultiSelectMenuItem");zl.type="MusicMultiSelectMenuItem";var Xn=zl;var Kl=class extends s{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=l.parseArray(e.options,[Xn,p_])}};o(Kl,"MusicMultiSelectMenu");Kl.type="MusicMultiSelectMenu";var d_=Kl;var $l=class extends s{constructor(e){super(),this.title=new u(e.title),this.buttons=l.parseArray(e.buttons,I)}};o($l,"SimpleMenuHeader");$l.type="SimpleMenuHeader";var f_=$l;var ql=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=v.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new x(e.buttonCommand)}};o(ql,"MerchandiseItem");ql.type="MerchandiseItem";var Sb=ql;var Xl=class extends s{constructor(e){super(),this.title=e.title,this.menu=l.parseItem(e.actionButton),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(Xl,"MerchandiseShelf");Xl.type="MerchandiseShelf";var m_=Xl;var Ql=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};o(Ql,"MetadataRow");Ql.type="MetadataRow";var Cb=Ql;var Zl=class extends s{constructor(e){super(),this.rows=l.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};o(Zl,"MetadataRowContainer");Zl.type="MetadataRowContainer";var h_=Zl;var ec=class extends s{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};o(ec,"MetadataRowHeader");ec.type="MetadataRowHeader";var Eb=ec;var tc=class extends s{constructor(e){super(),this.section_list=l.parseItem(e)}};o(tc,"MetadataScreen");tc.type="MetadataScreen";var Pb=tc;var ic=class extends s{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=v.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};o(ic,"MicroformatData");ic.type="MicroformatData";var xi=ic;var nc=class extends It{constructor(e){super(e)}};o(nc,"Mix");nc.type="Mix";var Nb=nc;var oc=class extends s{constructor(e){super(),this.title=new u(e.title),this.content=new u(e.content),this.button=l.parseItem(e.button,I)}};o(oc,"ModalWithTitleAndButton");oc.type="ModalWithTitleAndButton";var Rb=oc;var rc=class extends s{constructor(e){var i,n,r;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=v.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new D(e.longBylineText,e.ownerBadges,(r=(n=e.channelThumbnailSupportedRenderers)===null||n===void 0?void 0:n.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:ke(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.endpoint=new x(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=l.parseItem(e.menu,O)}};o(rc,"Movie");rc.type="Movie";var Ab=rc;var sc=class extends s{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(n=>new v(n)).sort((n,r)=>r.width-n.width)}};o(sc,"MovingThumbnail");sc.type="MovingThumbnail";var Vb=sc;var ac=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(ac,"MusicCardShelfHeaderBasic");ac.type="MusicCardShelfHeaderBasic";var __=ac;var uc=class extends s{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};o(uc,"MusicInlineBadge");uc.type="MusicInlineBadge";var Qn=uc;var lc=class extends s{constructor(e){var i,n;super(),this.endpoint=new x(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(n=e.accessibilityPauseData.accessibilityData)===null||n===void 0?void 0:n.label),this.icon_color=e.iconColor}};o(lc,"MusicPlayButton");lc.type="MusicPlayButton";var Zn=lc;var cc=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,Zn),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};o(cc,"MusicItemThumbnailOverlay");cc.type="MusicItemThumbnailOverlay";var kt=cc;var pc=class extends s{constructor(e){super(),this.contents=v.fromResponse(e.thumbnail)}};o(pc,"MusicThumbnail");pc.type="MusicThumbnail";var Ne=pc;var dc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ne),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=l.parseArray(e.buttons,I),this.menu=l.parseItem(e.menu,O),this.on_tap=new x(e.onTap),this.header=l.parseItem(e.header,__),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=l.parseArray(e.subtitleBadges,Qn),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,kt),Reflect.has(e,"contents")&&(this.contents=l.parseArray(e.contents))}};o(dc,"MusicCardShelf");dc.type="MusicCardShelf";var Mb=dc;var fc=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Ne)),Reflect.has(e,"moreContentButton")&&(this.more_content=l.parseItem(e.moreContentButton,I)),Reflect.has(e,"endIcons")&&(this.end_icons=l.parseArray(e.endIcons,Oh))}};o(fc,"MusicCarouselShelfBasicHeader");fc.type="MusicCarouselShelfBasicHeader";var x_=fc;var mc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ne),this.overlay=l.parseItem(e.overlay,kt),this.on_tap=new x(e.onTap),this.menu=l.parseItem(e.menu,O),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};o(mc,"MusicMultiRowListItem");mc.type="MusicMultiRowListItem";var g_=mc;var hc=class extends s{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new x(e.clickCommand)}};o(hc,"MusicNavigationButton");hc.type="MusicNavigationButton";var v_=hc;var _c=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};o(_c,"MusicResponsiveListItemFixedColumn");_c.type="musicResponsiveListItemFlexColumnRenderer";var y_=_c;var xc=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};o(xc,"MusicResponsiveListItemFlexColumn");xc.type="MusicResponsiveListItemFlexColumn";var b_=xc;var tt,eo,Ig,Bb,Db,Lb,Ob,Fb,Yb,Ub,jb,Wb,gc=class extends s{constructor(e){var i,n,r,a,c,p;super(),tt.add(this),eo.set(this,void 0),this.flex_columns=l.parseArray(e.flexColumns,b_),this.fixed_columns=l.parseArray(e.fixedColumns,y_),P(this,eo,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((n=e==null?void 0:e.playlistItemData)===null||n===void 0?void 0:n.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new x(e.navigationEndpoint));let d=(p=(c=(a=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseEndpointContextSupportedConfigs)===null||c===void 0?void 0:c.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(d||this.flex_columns.find(m=>{var g,y,w,k;return((k=(w=(y=(g=m.title.endpoint)===null||g===void 0?void 0:g.payload)===null||y===void 0?void 0:y.browseEndpointContextSupportedConfigs)===null||w===void 0?void 0:w.browseEndpointContextMusicConfig)===null||k===void 0?void 0:k.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(d="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),d){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",f(this,tt,"m",jb).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",f(this,tt,"m",Wb).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",f(this,tt,"m",Ob).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",f(this,tt,"m",Fb).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",f(this,tt,"m",Yb).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",f(this,tt,"m",Ub).call(this);break;default:this.flex_columns[1]?f(this,tt,"m",Bb).call(this):f(this,tt,"m",Ig).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Ne)),Reflect.has(e,"badges")&&(this.badges=l.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu,O)),Reflect.has(e,"overlay")&&(this.overlay=l.parseItem(e.overlay,kt))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};o(gc,"MusicResponsiveListItem");eo=new WeakMap,tt=new WeakSet,Ig=o(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),Bb=o(function(){var e,i,n,r,a,c,p;switch((p=(c=(a=(r=(n=(i=(e=this.flex_columns.at(0))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.at(0))===null||n===void 0?void 0:n.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.watchEndpointMusicSupportedConfigs)===null||c===void 0?void 0:c.watchEndpointMusicConfig)===null||p===void 0?void 0:p.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",f(this,tt,"m",Lb).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",f(this,tt,"m",Db).call(this);break;default:f(this,tt,"m",Ig).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),Db=o(function(){var e,i,n,r,a,c,p,d,_,m,g,y,w,k,S;this.id=f(this,eo,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let E=((a=(r=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title.runs)===null||r===void 0?void 0:r.find(U=>/^\d+$/.test(U.text.replace(/:/g,""))))===null||a===void 0?void 0:a.text)||((p=(c=this.fixed_columns.first())===null||c===void 0?void 0:c.title)===null||p===void 0?void 0:p.toString());E&&(this.duration={text:E,seconds:ke(E)});let V=((_=(d=this.flex_columns.at(1))===null||d===void 0?void 0:d.title.runs)===null||_===void 0?void 0:_.find(U=>je(U)&&U.endpoint&&U.endpoint.payload.browseId.startsWith("MPR")))||((g=(m=this.flex_columns.at(2))===null||m===void 0?void 0:m.title.runs)===null||g===void 0?void 0:g.find(U=>je(U)&&U.endpoint&&U.endpoint.payload.browseId.startsWith("MPR")));V&&je(V)&&(this.album={id:(w=(y=V.endpoint)===null||y===void 0?void 0:y.payload)===null||w===void 0?void 0:w.browseId,name:V.text,endpoint:V.endpoint});let M=(S=(k=this.flex_columns.at(1))===null||k===void 0?void 0:k.title.runs)===null||S===void 0?void 0:S.filter(U=>je(U)&&U.endpoint&&U.endpoint.payload.browseId.startsWith("UC"));M&&(this.artists=M.map(U=>{var q,se;return{name:U.text,channel_id:je(U)?(se=(q=U.endpoint)===null||q===void 0?void 0:q.payload)===null||se===void 0?void 0:se.browseId:void 0,endpoint:je(U)?U.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),Lb=o(function(){var e,i,n,r,a,c,p,d,_,m;this.id=f(this,eo,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(n=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(w=>w.text.match(/(.*?) views/)))===null||n===void 0?void 0:n.toString();let g=(a=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||a===void 0?void 0:a.filter(w=>je(w)&&w.endpoint&&w.endpoint.payload.browseId.startsWith("UC"));g&&(this.authors=g.map(w=>{var k,S;return{name:w.text,channel_id:je(w)?(S=(k=w.endpoint)===null||k===void 0?void 0:k.payload)===null||S===void 0?void 0:S.browseId:void 0,endpoint:je(w)?w.endpoint:void 0}}));let y=((p=(c=this.flex_columns[1].title.runs)===null||c===void 0?void 0:c.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((m=(_=(d=this.fixed_columns.first())===null||d===void 0?void 0:d.title.runs)===null||_===void 0?void 0:_.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||m===void 0?void 0:m.text);y&&(this.duration={text:y,seconds:ke(y)})},"_MusicResponsiveListItem_parseVideo"),Ob=o(function(){var e,i,n,r,a,c;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title,this.subscribers=((c=(a=(r=this.subtitle)===null||r===void 0?void 0:r.runs)===null||a===void 0?void 0:a.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||c===void 0?void 0:c.text)||""},"_MusicResponsiveListItem_parseArtist"),Fb=o(function(){var e,i,n,r;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((r=(n=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||n===void 0?void 0:n.find(a=>/^\d+(,\d+)? songs?$/i.test(a.text)))===null||r===void 0?void 0:r.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),Yb=o(function(){var e,i;this.id=f(this,eo,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),Ub=o(function(){var e,i;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),jb=o(function(){var e,i,n,r,a,c,p,d,_;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let m=(r=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title.runs)===null||r===void 0?void 0:r.find(g=>je(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));m&&je(m)&&(this.author={name:m.text,channel_id:(c=(a=m.endpoint)===null||a===void 0?void 0:a.payload)===null||c===void 0?void 0:c.browseId,endpoint:m.endpoint}),this.year=(_=(d=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||d===void 0?void 0:d.find(g=>/^[12][0-9]{3}$/.test(g.text)))===null||_===void 0?void 0:_.text},"_MusicResponsiveListItem_parseAlbum"),Wb=o(function(){var e,i,n,r,a,c,p,d;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let _=(r=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title.runs)===null||r===void 0?void 0:r.find(g=>g.text.match(/\d+ (song|songs)/));this.item_count=_?_.text:void 0;let m=(c=(a=this.flex_columns.at(1))===null||a===void 0?void 0:a.title.runs)===null||c===void 0?void 0:c.find(g=>je(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));m&&je(m)&&(this.author={name:m.text,channel_id:(d=(p=m.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId,endpoint:m.endpoint})},"_MusicResponsiveListItem_parsePlaylist");gc.type="MusicResponsiveListItem";var gi=gc;var vc=class extends s{constructor(e){var i,n,r,a,c,p,d,_,m,g,y,w,k,S,E,V,M,U,q,se,ue,pe;switch(super(),this.title=new u(e.title),this.endpoint=new x(e.navigationEndpoint),this.id=((n=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||n===void 0?void 0:n.browseId)||((a=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.videoId),this.subtitle=new u(e.subtitle),this.badges=l.parse(e.subtitleBadges),(_=(d=(p=(c=this.endpoint)===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||d===void 0?void 0:d.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((g=(m=this.endpoint)===null||m===void 0?void 0:m.metadata)===null||g===void 0?void 0:g.api_url)==="/next"?this.item_type="endpoint":!((y=this.subtitle.runs)===null||y===void 0)&&y[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((k=(w=this.subtitle.runs)===null||w===void 0?void 0:w.find(F=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(F.text)))===null||k===void 0?void 0:k.text)||"";else if(this.item_type=="playlist"){let F=(S=this.subtitle.runs)===null||S===void 0?void 0:S.find(A=>A.text.match(/\d+ songs|song/));this.item_count=F?F.text:null}else if(this.item_type=="album"){let F=(E=this.subtitle.runs)===null||E===void 0?void 0:E.filter(A=>{var $,ne;return(ne=($=A.endpoint)===null||$===void 0?void 0:$.payload)===null||ne===void 0?void 0:ne.browseId.startsWith("UC")});F&&(this.artists=F.map(A=>{var $,ne;return{name:A.text,channel_id:(ne=($=A.endpoint)===null||$===void 0?void 0:$.payload)===null||ne===void 0?void 0:ne.browseId,endpoint:A.endpoint}})),this.year=(V=this.subtitle.runs)===null||V===void 0?void 0:V.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((U=(M=this===null||this===void 0?void 0:this.subtitle.runs)===null||M===void 0?void 0:M.find(A=>A==null?void 0:A.text.match(/(.*?) views/)))===null||U===void 0?void 0:U.text)||"N/A";let F=(q=this.subtitle.runs)===null||q===void 0?void 0:q.find(A=>{var $,ne,Te;return(Te=(ne=($=A.endpoint)===null||$===void 0?void 0:$.payload)===null||ne===void 0?void 0:ne.browseId)===null||Te===void 0?void 0:Te.startsWith("UC")});F&&(this.author={name:F==null?void 0:F.text,channel_id:(ue=(se=F==null?void 0:F.endpoint)===null||se===void 0?void 0:se.payload)===null||ue===void 0?void 0:ue.browseId,endpoint:F==null?void 0:F.endpoint})}else if(this.item_type=="song"){let F=(pe=this.subtitle.runs)===null||pe===void 0?void 0:pe.filter(A=>{var $,ne;return(ne=($=A.endpoint)===null||$===void 0?void 0:$.payload)===null||ne===void 0?void 0:ne.browseId.startsWith("UC")});F&&(this.artists=F.map(A=>{var $,ne;return{name:A==null?void 0:A.text,channel_id:(ne=($=A==null?void 0:A.endpoint)===null||$===void 0?void 0:$.payload)===null||ne===void 0?void 0:ne.browseId,endpoint:A==null?void 0:A.endpoint}}))}this.thumbnail=v.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,kt),this.menu=l.parseItem(e.menu,O)}};o(vc,"MusicTwoRowItem");vc.type="MusicTwoRowItem";var w_=vc;var yc=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,x_),this.contents=l.parseArray(e.contents,[w_,gi,g_,v_]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};o(yc,"MusicCarouselShelf");yc.type="MusicCarouselShelf";var Jb=yc;var bc=class extends s{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};o(bc,"MusicDescriptionShelf");bc.type="MusicDescriptionShelf";var T_=bc;var wc=class extends s{constructor(e){var i,n,r,a,c,p,d,_,m;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((n=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(y=>/^[12][0-9]{3}$/.test(y.text)))===null||n===void 0?void 0:n.text)||"",this.song_count=((a=(r=this.second_subtitle.runs)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.text)||"",this.total_duration=((p=(c=this.second_subtitle.runs)===null||c===void 0?void 0:c[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=v.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=l.parseArray(e.subtitleBadges);let g=(d=this.subtitle.runs)===null||d===void 0?void 0:d.find(y=>{var w,k;return(k=(w=y==null?void 0:y.endpoint)===null||w===void 0?void 0:w.payload)===null||k===void 0?void 0:k.browseId.startsWith("UC")});g&&(this.author={name:g.text,channel_id:(m=(_=g.endpoint)===null||_===void 0?void 0:_.payload)===null||m===void 0?void 0:m.browseId,endpoint:g.endpoint}),this.menu=l.parseItem(e.menu)}};o(wc,"MusicDetailHeader");wc.type="MusicDetailHeader";var Hb=wc;var Tc=class extends s{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};o(Tc,"MusicDownloadStateBadge");Tc.type="MusicDownloadStateBadge";var Gb=Tc;var Ic=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.edit_header=l.parseItem(e.editHeader),this.playlist_id=e.playlistId}};o(Ic,"MusicEditablePlaylistDetailHeader");Ic.type="MusicEditablePlaylistDetailHeader";var zb=Ic;var kc=class extends s{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?l.parseItem(e,Gn):null}};o(kc,"MusicElementHeader");kc.type="MusicElementHeader";var Kb=kc;var Sc=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};o(Sc,"MusicHeader");Sc.type="MusicHeader";var $b=Sc;var Cc=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=l.parseItem(e.thumbnail,Ne)}};o(Cc,"MusicImmersiveHeader");Cc.type="MusicImmersiveHeader";var qb=Cc;var Ec=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new x(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};o(Ec,"ActionButton");Ec.type="ActionButton";var Pc=class{constructor(e){this.image=v.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new Ec(i))}};o(Pc,"Panel");Pc.type="Panel";var Nc=class extends s{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new Pc(i))}};o(Nc,"MusicLargeCardItemCarousel");Nc.type="MusicLargeCardItemCarousel";var Xb=Nc;var Rc=class extends s{constructor(e){super(),this.title=new u(e.title),this.edit_title=new u(e.editTitle),this.edit_description=new u(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new x(e.collaborationSettingsCommand),this.privacy_dropdown=l.parseItem(e.privacyDropdown,ei)}};o(Rc,"MusicPlaylistEditHeader");Rc.type="MusicPlaylistEditHeader";var Qb=Rc;var Ac=class extends s{constructor(e){var i,n,r;super(),this.playlist_id=e.playlistId,this.contents=l.parseArray(e.contents,gi),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((r=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}};o(Ac,"MusicPlaylistShelf");Ac.type="MusicPlaylistShelf";var Zb=Ac;var Vc=class extends s{constructor(e){var i,n,r,a,c;super(),this.title=new u(e.title),this.thumbnail=v.fromResponse(e.thumbnail),this.endpoint=new x(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:ke(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(_=>{var m,g,y;return(y=(g=(m=_.endpoint)===null||m===void 0?void 0:m.payload)===null||g===void 0?void 0:g.browseId)===null||y===void 0?void 0:y.startsWith("MPR")}),d=(n=new u(e.longBylineText).runs)===null||n===void 0?void 0:n.filter(_=>{var m,g,y;return(y=(g=(m=_.endpoint)===null||m===void 0?void 0:m.payload)===null||g===void 0?void 0:g.browseId)===null||y===void 0?void 0:y.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(a=(r=p.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseId,name:p.text,year:(c=new u(e.longBylineText).runs)===null||c===void 0?void 0:c.slice(-1)[0].text,endpoint:p.endpoint}),d&&(this.artists=d.map(_=>{var m,g;return{name:_.text,channel_id:(g=(m=_.endpoint)===null||m===void 0?void 0:m.payload)===null||g===void 0?void 0:g.browseId,endpoint:_.endpoint}})),this.badges=l.parseArray(e.badges),this.menu=l.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};o(Vc,"PlaylistPanelVideo");Vc.type="PlaylistPanelVideo";var Ut=Vc;var Mc=class extends s{constructor(e){super(),this.primary=l.parseItem(e.primaryRenderer,Ut),Reflect.has(e,"counterpart")&&(this.counterpart=X(e.counterpart.map(i=>l.parseItem(i.counterpartRenderer,Ut))||[]))}};o(Mc,"PlaylistPanelVideoWrapper");Mc.type="PlaylistPanelVideoWrapper";var I_=Mc;var Dc=class extends s{constructor(e){var i,n,r,a,c,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=l.parseArray(e.contents,[I_,Ut,cm]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((r=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextRadioContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};o(Dc,"PlaylistPanel");Dc.type="PlaylistPanel";var k_=Dc;var Lc=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,k_)}};o(Lc,"MusicQueue");Lc.type="MusicQueue";var S_=Lc;var Bc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ne),this.buttons=l.parseArray(e.buttons,[wh,ge,Zn,I,O]),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.strapline_text_one=new u(e.straplineTextOne),this.strapline_thumbnail=l.parseItem(e.straplineThumbnail,Ne),this.second_subtitle=new u(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=l.parseArray(e.subtitleBadge,Qn)),Reflect.has(e,"description")&&(this.description=l.parseItem(e.description,T_))}};o(Bc,"MusicResponsiveHeader");Bc.type="MusicResponsiveHeader";var ew=Bc;var Oc=class extends s{constructor(e){var i,n,r,a;super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents,gi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new x(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((n=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||n===void 0?void 0:n.continuation)||((a=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=l.parseItem(e.bottomButton,I)),Reflect.has(e,"subheaders")&&(this.subheaders=l.parseArray(e.subheaders))}};o(Oc,"MusicShelf");Oc.type="MusicShelf";var tw=Oc;var Fc=class extends s{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=l.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};o(Fc,"MusicSideAlignedItem");Fc.type="MusicSideAlignedItem";var iw=Fc;var Yc=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=l.parseItem(e.menu,d_)}};o(Yc,"MusicSortFilterButton");Yc.type="MusicSortFilterButton";var nw=Yc;var Uc=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail)}};o(Uc,"MusicTastebuilderShelfThumbnail");Uc.type="MusicTastebuilderShelfThumbnail";var C_=Uc;var jc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,C_),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=l.parseItem(e.actionButton,I),this.is_visible=e.isVisible}};o(jc,"MusicTasteBuilderShelf");jc.type="MusicTasteBuilderShelf";var ow=jc;var Wc=class extends s{constructor(e){var i,n;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?v.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=l.parseItem(e.menu,O),this.foreground_thumbnail=e.foregroundThumbnail?v.fromResponse((n=e.foregroundThumbnail.musicThumbnailRenderer)===null||n===void 0?void 0:n.thumbnail):[]}};o(Wc,"MusicVisualHeader");Wc.type="MusicVisualHeader";var rw=Wc;var Jc=class extends s{constructor(e){super(),this.thumbnails=v.fromResponse(e.thumbnail),this.video_thumbnails=v.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new x(e.navigationEndpoint),this.record_click_endpoint=new x(e.recordClickEndpoint),this.menu=l.parseItem(e.contextualMenu),this.read=e.read}};o(Jc,"Notification");Jc.type="Notification";var E_=Jc;var Hc=class extends s{constructor(e){super(),this.title=l.parseItem(e.title,Th),this.image=l.parseItem(e.image,[Rn,hh]),this.metadata=l.parseItem(e.metadata,Hn),this.actions=l.parseItem(e.actions,Ph),this.description=l.parseItem(e.description,yh),this.attributation=l.parseItem(e.attributation,um),this.banner=l.parseItem(e.banner,Fh)}};o(Hc,"PageHeaderView");Hc.type="PageHeaderView";var P_=Hc;var Gc=class extends s{constructor(e){super(),this.page_title=e.pageTitle,this.content=l.parseItem(e.content,P_)}};o(Gc,"PageHeader");Gc.type="PageHeader";var St=Gc;var zc=class extends s{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};o(zc,"PageIntroduction");zc.type="PageIntroduction";var N_=zc;var Kc=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail),this.endpoint=new x(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};o(Kc,"PivotButton");Kc.type="PivotButton";var R_=Kc;var $c=class extends s{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:v.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new x(e.featuredChannel.navigationEndpoint),subscribe_button:l.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};o($c,"PlayerAnnotationsExpanded");$c.type="PlayerAnnotationsExpanded";var A_=$c;var qc=class extends s{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};o(qc,"PlayerCaptionsTracklist");qc.type="PlayerCaptionsTracklist";var V_=qc;var Xc=class extends s{constructor(e){super(),this.endpoint=new x(e.endpoint),this.enable_listen_first=e.enableListenFirst}};o(Xc,"PlayerOverflow");Xc.type="PlayerOverflow";var M_=Xc;var Qc=class extends s{constructor(e){super(),this.overflow=l.parseItem(e.overflow,M_)}};o(Qc,"PlayerControlsOverlay");Qc.type="PlayerControlsOverlay";var sw=Qc;var Zc=class extends s{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=l.parseItem(e.proceedButton,I),this.thumbnails=v.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};o(Zc,"PlayerErrorMessage");Zc.type="PlayerErrorMessage";var aw=Zc;var ep=class extends s{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};o(ep,"PlayerLegacyDesktopYpcOffer");ep.type="PlayerLegacyDesktopYpcOffer";var uw=ep;var tp=class extends s{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};o(tp,"YpcTrailer");tp.type="YpcTrailer";var D_=tp;var ip=class extends s{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=l.parseItem(e.ypcTrailer,D_)}};o(ip,"PlayerLegacyDesktopYpcTrailer");ip.type="PlayerLegacyDesktopYpcTrailer";var np=ip;var op=class extends s{constructor(e){super();let[i,n,r,a,c]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(n,10),thumbnail_height:parseInt(r,10),columns:parseInt(a,10),rows:parseInt(c,10)}}};o(op,"PlayerLiveStoryboardSpec");op.type="PlayerLiveStoryboardSpec";var L_=op;var rp=class extends s{constructor(e){var i,n;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=v.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=!((n=e.liveBroadcastDetails)===null||n===void 0)&&n.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};o(rp,"PlayerMicroformat");rp.type="PlayerMicroformat";var it=rp;var sp=class extends s{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=v.fromResponse(e.background),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new D(e.byline),this.cancel_button=l.parseItem(e.cancelButton,I),this.next_button=l.parseItem(e.nextButton,I),this.close_button=l.parseItem(e.closeButton,I)}};o(sp,"PlayerOverlayAutoplay");sp.type="PlayerOverlayAutoplay";var B_=sp;var ap=class extends s{constructor(e){super(),this.results=l.parseArray(e.results,[Ch,Sh]),this.title=new u(e.title).toString()}};o(ap,"WatchNextEndScreen");ap.type="WatchNextEndScreen";var O_=ap;var up=class extends s{constructor(e){super(),this.end_screen=l.parseItem(e.endScreen,O_),this.autoplay=l.parseItem(e.autoplay,B_),this.share_button=l.parseItem(e.shareButton,I),this.add_to_menu=l.parseItem(e.addToMenu,O),this.fullscreen_engagement=l.parseItem(e.fullscreenEngagement),this.actions=l.parseArray(e.actions),this.browser_media_session=l.parseItem(e.browserMediaSession),this.decorated_player_bar=l.parseItem(e.decoratedPlayerBarRenderer,vh)}};o(up,"PlayerOverlay");up.type="PlayerOverlay";var F_=up;var lp=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new D(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=l.parseItem(e.saveButton),this.shuffle_play_button=l.parseItem(e.shufflePlayButton),this.menu=l.parseItem(e.moreActionsMenu),this.banner=l.parseItem(e.playlistHeaderBanner)}};o(lp,"PlaylistHeader");lp.type="PlaylistHeader";var Y_=lp;var cp=class extends s{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=v.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new x(e.action)}};o(cp,"PlaylistInfoCardContent");cp.type="PlaylistInfoCardContent";var lw=cp;var pp=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description||null}};o(pp,"PlaylistMetadata");pp.type="PlaylistMetadata";var U_=pp;var dp=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(dp,"PlaylistSidebar");dp.type="PlaylistSidebar";var cw=dp;var fp=class extends s{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=l.parseItem(e.menu),this.endpoint=new x(e.navigationEndpoint),this.description=new u(e.description)}};o(fp,"PlaylistSidebarPrimaryInfo");fp.type="PlaylistSidebarPrimaryInfo";var j_=fp;var mp=class extends s{constructor(e){super(),this.owner=l.parseItem(e.videoOwner),this.button=l.parseItem(e.button)}};o(mp,"PlaylistSidebarSecondaryInfo");mp.type="PlaylistSidebarSecondaryInfo";var W_=mp;var hp=class extends s{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new D(e.shortBylineText),this.thumbnails=v.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new x(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=l.parseItem(e.menu,O),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Ki))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Ki))===null||e===void 0?void 0:e.style)==="UPCOMING"}};o(hp,"PlaylistVideo");hp.type="PlaylistVideo";var to=hp;var _p=class extends s{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=l.parseArray(e.contents)}};o(_p,"PlaylistVideoList");_p.type="PlaylistVideoList";var pw=_p;var xp=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new x(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new x(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?v.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};o(xp,"Poll");xp.type="Poll";var dw=xp;var gp=class extends ni{constructor(e){super(e)}};o(gp,"Post");gp.type="Post";var J_=gp;var vp=class extends s{constructor(e){super(),this.images=l.parseArray(e.images,dm)}};o(vp,"PostMultiImage");vp.type="PostMultiImage";var fw=vp;var yp=class extends s{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};o(yp,"ProductListHeader");yp.type="ProductListHeader";var mw=yp;var bp=class extends s{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=v.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new x(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=l.parseItem(e.viewButton,I)}};o(bp,"ProductListItem");bp.type="ProductListItem";var hw=bp;var wp=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(wp,"ProfileColumn");wp.type="ProfileColumn";var _w=wp;var Tp=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(Tp,"ProfileColumnStats");Tp.type="ProfileColumnStats";var xw=Tp;var Ip=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};o(Ip,"ProfileColumnStatsEntry");Ip.type="ProfileColumnStatsEntry";var gw=Ip;var kp=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnails=v.fromResponse(e.thumbnail)}};o(kp,"ProfileColumnUserInfo");kp.type="ProfileColumnUserInfo";var vw=kp;var Sp=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};o(Sp,"Quiz");Sp.type="Quiz";var yw=Sp;var Cp=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new v(i)),this.button=l.parseItem(e.button,I),this.surface=e.surface}};o(Cp,"RecognitionShelf");Cp.type="RecognitionShelf";var bw=Cp;var Ep=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=v.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new x(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};o(Ep,"ReelItem");Ep.type="ReelItem";var io=Ep;var Pp=class extends s{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=v.fromResponse(e.channelThumbnail),this.author=new D(e.channelNavigationEndpoint,void 0)}};o(Pp,"ReelPlayerHeader");Pp.type="ReelPlayerHeader";var H_=Pp;var Np=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,Hh),this.reel_player_header_supported_renderers=l.parseItem(e.reelPlayerHeaderSupportedRenderers,H_),this.menu=l.parseItem(e.menu,O),this.next_item_button=l.parseItem(e.nextItemButton,I),this.prev_item_button=l.parseItem(e.prevItemButton,I),this.subscribe_button_renderer=l.parseItem(e.subscribeButtonRenderer,[I,Se]),this.style=e.style,this.view_comments_button=l.parseItem(e.viewCommentsButton,I),this.share_button=l.parseItem(e.shareButton,I),this.pivot_button=l.parseItem(e.pivotButton,R_),this.info_panel=l.parseItem(e.infoPanel,Uh)}};o(Np,"ReelPlayerOverlay");Np.type="ReelPlayerOverlay";var ww=Np;var Rp=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};o(Rp,"RelatedChipCloud");Rp.type="RelatedChipCloud";var G_=Rp;var Ap=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.contents=l.parseArray(e.contents)}};o(Ap,"RichGrid");Ap.type="RichGrid";var vi=Ap;var Vp=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};o(Vp,"RichItem");Vp.type="RichItem";var Tw=Vp;var Mp=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};o(Mp,"RichListHeader");Mp.type="RichListHeader";var Iw=Mp;var Dp=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new x(e.endpoint)}};o(Dp,"RichMetadata");Dp.type="RichMetadata";var Lp=Dp;var Bp=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Bp,"RichMetadataRow");Bp.type="RichMetadataRow";var Op=Bp;var Fp=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};o(Fp,"RichSection");Fp.type="RichSection";var kw=Fp;var Yp=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new x(e.endpoint))}};o(Yp,"RichShelf");Yp.type="RichShelf";var z_=Yp;var Up=class extends s{constructor(e){super(),this.endpoint=new x(e.endpoint),this.search_button=l.parseItem(e.searchButton,I),this.clear_button=l.parseItem(e.clearButton,I),this.placeholder_text=new u(e.placeholderText)}};o(Up,"SearchBox");Up.type="SearchBox";var Sw=Up;var jp=class extends s{constructor(e){super(),this.label=new u(e.label),this.endpoint=new x(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};o(jp,"SearchFilter");jp.type="SearchFilter";var K_=jp;var Wp=class extends s{constructor(e){super(),this.title=new u(e.title),this.filters=l.parseArray(e.filters,K_)}};o(Wp,"SearchFilterGroup");Wp.type="SearchFilterGroup";var no=Wp;var Jp=class extends s{constructor(e){super(),this.title=new u(e.title),this.groups=l.parseArray(e.groups,no)}};o(Jp,"SearchFilterOptionsDialog");Jp.type="SearchFilterOptionsDialog";var Cw=Jp;var Hp=class extends s{constructor(e){super(),this.chip_bar=l.parseItem(e.chipBar,Ln),this.search_filter_button=l.parseItem(e.searchFilterButton,I)}};o(Hp,"SearchHeader");Hp.type="SearchHeader";var $_=Hp;var Gp=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=l.parseArray(e.groups,no)),Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,ge))}};o(Gp,"SearchSubMenu");Gp.type="SearchSubMenu";var q_=Gp;var zp=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(zp,"SearchSuggestionsSection");zp.type="SearchSuggestionsSection";var Ew=zp;var Kp=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Kp,"SecondarySearchContainer");Kp.type="SecondarySearchContainer";var Pw=Kp;var $p=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,[ge,I]),this.dislike_button=l.parseItem(e.dislikeButton,[ge,I])}};o($p,"SegmentedLikeDislikeButton");$p.type="SegmentedLikeDislikeButton";var nn=$p;var qp=class extends s{constructor(e){if(super(),this.like_button=l.parseItem(e.likeButtonViewModel,Gh),this.dislike_button=l.parseItem(e.dislikeButtonViewModel,bh),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};o(qp,"SegmentedLikeDislikeButtonView");qp.type="SegmentedLikeDislikeButtonView";var on=qp;var Xp=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new x(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new x(e.disableServiceEndpoint)),this.item_id=e.itemId}};o(Xp,"SettingBoolean");Xp.type="SettingBoolean";var Nw=Xp;var Qp=class extends s{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};o(Qp,"SettingsCheckbox");Qp.type="SettingsCheckbox";var X_=Qp;var Zp=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new x(e.enableServiceEndpoint),this.disable_endpoint=new x(e.disableServiceEndpoint)}};o(Zp,"SettingsSwitch");Zp.type="SettingsSwitch";var oo=Zp;var ed=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=l.parseArray(e.options,[oo,ei,mh,X_,Gm]))}};o(ed,"SettingsOptions");ed.type="SettingsOptions";var ro=ed;var td=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items,jn)}get contents(){return this.items}};o(td,"SettingsSidebar");td.type="SettingsSidebar";var Q_=td;var id=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=te(e.actionMenu,O),this.original_post=te(e.originalPost,ni),this.id=e.postId,this.endpoint=new x(e.navigationEndpoint),this.expand_button=te(e.expandButton,I),this.author=new D(e.displayName,void 0)}};o(id,"SharedPost");id.type="SharedPost";var Z_=id;var nd=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new x(e.endpoint)),this.content=l.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=l.parseItem(e.playAllButton,I))}};o(nd,"Shelf");nd.type="Shelf";var so=nd;var od=class extends s{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new x(e.correctedQueryEndpoint),this.original_query_endpoint=new x(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};o(od,"ShowingResultsFor");od.type="ShowingResultsFor";var Rw=od;var rd=class extends s{constructor(e){super(),this.image=v.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new x(e.command)}};o(rd,"SimpleCardContent");rd.type="SimpleCardContent";var Aw=rd;var sd=class extends s{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};o(sd,"SimpleCardTeaser");sd.type="SimpleCardTeaser";var Vw=sd;var ad=class extends s{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};o(ad,"SimpleTextSection");ad.type="SimpleTextSection";var Mw=ad;var ud=class extends s{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new x(e.navigationEndpoint)}};o(ud,"SingleActionEmergencySupport");ud.type="SingleActionEmergencySupport";var Dw=ud;var ld=class extends s{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new x(e.endpoint),this.content=l.parseItem(e.content,[ve,S_,vi])}};o(ld,"Tab");ld.type="Tab";var Re=ld;var cd=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Re)}};o(cd,"SingleColumnBrowseResults");cd.type="SingleColumnBrowseResults";var ex=cd;var pd=class extends s{constructor(e){super(),this.contents=l.parse(e)}};o(pd,"SingleColumnMusicWatchNextResults");pd.type="SingleColumnMusicWatchNextResults";var Lw=pd;var dd=class extends s{constructor(e){super(),this.thumbnails=v.fromResponse(e.thumbnail),this.style=e.style}};o(dd,"SingleHeroImage");dd.type="SingleHeroImage";var Bw=dd;var fd=class extends s{constructor(e){super(),this.thumbnail=v.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new x(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,Se)}};o(fd,"SlimOwner");fd.type="SlimOwner";var Ow=fd;var md=class extends s{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=l.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};o(md,"SlimVideoMetadata");md.type="SlimVideoMetadata";var Fw=md;var hd=class extends s{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new x(e.navigationEndpoint)}};o(hd,"SubFeedOption");hd.type="SubFeedOption";var tx=hd;var _d=class extends s{constructor(e){super(),this.title=new u(e.title),this.options=l.parseArray(e.options,tx)}};o(_d,"SubFeedSelector");_d.type="SubFeedSelector";var Yw=_d;var xd=class extends s{constructor(e){super(),this.contents=l.parse(e)}};o(xd,"Tabbed");xd.type="Tabbed";var Uw=xd;var gd=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Re)}};o(gd,"TabbedSearchResults");gd.type="TabbedSearchResults";var jw=gd;var vd=class extends s{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};o(vd,"TextHeader");vd.type="TextHeader";var Ww=vd;var yd=class extends s{constructor(e){super(),this.landscape=v.fromResponse(e.landscape),this.portrait=v.fromResponse(e.portrait)}};o(yd,"ThumbnailLandscapePortrait");yd.type="ThumbnailLandscapePortrait";var Jw=yd;var bd=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};o(bd,"ThumbnailOverlayEndorsement");bd.type="ThumbnailOverlayEndorsement";var Hw=bd;var wd=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};o(wd,"ThumbnailOverlayHoverText");wd.type="ThumbnailOverlayHoverText";var Gw=wd;var Td=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};o(Td,"ThumbnailOverlayInlineUnplayable");Td.type="ThumbnailOverlayInlineUnplayable";var zw=Td;var Id=class extends s{constructor(e){super(),this.text=new u(e.text)}};o(Id,"ThumbnailOverlayLoadingPreview");Id.type="ThumbnailOverlayLoadingPreview";var Kw=Id;var kd=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};o(kd,"ThumbnailOverlayNowPlaying");kd.type="ThumbnailOverlayNowPlaying";var $w=kd;var Sd=class extends s{constructor(e){super(),this.hack=e.hack}};o(Sd,"ThumbnailOverlayPinking");Sd.type="ThumbnailOverlayPinking";var qw=Sd;var Cd=class extends s{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};o(Cd,"ThumbnailOverlayPlaybackStatus");Cd.type="ThumbnailOverlayPlaybackStatus";var Xw=Cd;var Ed=class extends s{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};o(Ed,"ThumbnailOverlayResumePlayback");Ed.type="ThumbnailOverlayResumePlayback";var Qw=Ed;var Pd=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};o(Pd,"ThumbnailOverlaySidePanel");Pd.type="ThumbnailOverlaySidePanel";var Zw=Pd;var Nd=class extends s{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},e.toggledServiceEndpoint&&(this.toggled_endpoint=new x(e.toggledServiceEndpoint)),e.untoggledServiceEndpoint&&(this.untoggled_endpoint=new x(e.untoggledServiceEndpoint))}};o(Nd,"ThumbnailOverlayToggleButton");Nd.type="ThumbnailOverlayToggleButton";var eT=Nd;var Rd=class extends s{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};o(Rd,"TimedMarkerDecoration");Rd.type="TimedMarkerDecoration";var tT=Rd;var Ad=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(Ad,"TitleAndButtonListHeader");Ad.type="TitleAndButtonListHeader";var iT=Ad;var Vd=class extends s{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new x(e.defaultServiceEndpoint),this.toggled_endpoint=new x(e.toggledServiceEndpoint)}};o(Vd,"ToggleMenuServiceItem");Vd.type="ToggleMenuServiceItem";var nT=Vd;var Md=class extends s{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new x(i)),accept:new x(e.promoConfig.acceptCommand),dismiss:new x(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};o(Md,"Tooltip");Md.type="Tooltip";var oT=Md;var Dd=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=v.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=l.parseItem(e.subscribeButton,Se),this.endpoint=new x(e.navigationEndpoint)}};o(Dd,"TopicChannelDetails");Dd.type="TopicChannelDetails";var rT=Dd;var Ld=class extends s{constructor(e){super(),this.tabs=l.parse(e.tabs),this.secondary_contents=l.parse(e.secondaryContents)}};o(Ld,"TwoColumnBrowseResults");Ld.type="TwoColumnBrowseResults";var Ct=Ld;var Bd=class extends s{constructor(e){super(),this.primary_contents=l.parse(e.primaryContents),this.secondary_contents=l.parse(e.secondaryContents)}};o(Bd,"TwoColumnSearchResults");Bd.type="TwoColumnSearchResults";var ix=Bd;var nx,kg,Od=class extends s{constructor(e){var i,n,r,a,c;super(),nx.add(this),this.results=l.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=l.parseArray((n=e.secondaryResults)===null||n===void 0?void 0:n.secondaryResults.results),this.conversation_bar=l.parseItem(e==null?void 0:e.conversationBar);let p=(r=e.playlist)===null||r===void 0?void 0:r.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((a=p.shortBylineText)===null||a===void 0)&&a.simpleText?new u(p.shortBylineText):new D(p.longBylineText),contents:l.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:l.parseItem(p.menu,O)});let d=(c=e.autoplay)===null||c===void 0?void 0:c.autoplay;d&&(this.autoplay={sets:d.sets.map(_=>f(this,nx,"m",kg).call(this,_))},d.modifiedSets&&(this.autoplay.modified_sets=d.modifiedSets.map(_=>f(this,nx,"m",kg).call(this,_))),d.countDownSecs&&(this.autoplay.count_down_secs=d.countDownSecs))}};o(Od,"TwoColumnWatchNextResults");nx=new WeakSet,kg=o(function(e){let i={autoplay_video:new x(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new x(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Od.type="TwoColumnWatchNextResults";var ox=Od;var Fd=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.call_to_action=l.parseItem(e.callToAction),this.sections=l.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};o(Fd,"UniversalWatchCard");Fd.type="UniversalWatchCard";var rx=Fd;var Yd=class extends s{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=l.parseItem(e.actionButton,I),this.dismiss_button=l.parseItem(e.dismissButton,I),this.is_visible=e.isVisible}};o(Yd,"UpsellDialog");Yd.type="UpsellDialog";var sT=Yd;var Ud=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};o(Ud,"VerticalList");Ud.type="VerticalList";var aT=Ud;var jd=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new x(e.viewAllEndpoint)}get contents(){return this.items}};o(jd,"VerticalWatchCardList");jd.type="VerticalWatchCardList";var uT=jd;var Wd=class extends s{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=v.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new x(e.action)}};o(Wd,"VideoInfoCardContent");Wd.type="VideoInfoCardContent";var lT=Wd;var Jd=class extends s{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new D(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};o(Jd,"VideoOwner");Jd.type="VideoOwner";var ao=Jd;var Hd=class extends s{constructor(e){var i,n,r,a;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((n=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||n===void 0?void 0:n.viewCount),this.short_view_count=new u((a=(r=e.viewCount)===null||r===void 0?void 0:r.videoViewCountRenderer)===null||a===void 0?void 0:a.shortViewCount),this.badges=l.parseArray(e.badges,He),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=l.parseItem(e.videoActions,O)}};o(Hd,"VideoPrimaryInfo");Hd.type="VideoPrimaryInfo";var sx=Hd;var Gd=class extends s{constructor(e){super(),this.owner=l.parseItem(e.owner,ao),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=l.parseItem(e.subscribeButton,[Se,I]),this.metadata=l.parseItem(e.metadataRowContainer,h_),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};o(Gd,"VideoSecondaryInfo");Gd.type="VideoSecondaryInfo";var zd=Gd;var Kd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:ke(e.lengthText.simpleText)},this.style=e.style}};o(Kd,"WatchCardCompactVideo");Kd.type="WatchCardCompactVideo";var ax=Kd;var $d=class extends s{constructor(e){var i;super(),this.endpoint=new x(e.navigationEndpoint),this.call_to_action_button=l.parseItem(e.callToActionButton),this.hero_image=l.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};o($d,"WatchCardHeroVideo");$d.type="WatchCardHeroVideo";var cT=$d;var qd=class extends s{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new x(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new D(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};o(qd,"WatchCardRichHeader");qd.type="WatchCardRichHeader";var pT=qd;var Xd=class extends s{constructor(e){super(),this.lists=l.parseArray(e.lists)}};o(Xd,"WatchCardSectionSequence");Xd.type="WatchCardSectionSequence";var dT=Xd;var Qd=class extends Ct{constructor(e){super(e)}};o(Qd,"WatchNextTabbedResults");Qd.type="WatchNextTabbedResults";var fT=Qd;var Zd=class extends s{constructor(e){var i,n;super(),this.title=e.title,this.content=l.parseItem(e.content,ve),this.endpoint=new x(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(n=e.categoryAssets)===null||n===void 0?void 0:n.backgroundColor},this.category_type=e.categoryType}};o(Zd,"AnchoredSection");Zd.type="AnchoredSection";var ux=Zd;var ef,tf=class extends s{constructor(e){super(),ef.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=v.fromResponse(e.avatar),this.block_button=l.parseItem(e.blockButton,[ge]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return T(this,void 0,void 0,function*(){if(!f(this,ef,"f"))throw new b("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new b("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new b("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(f(this,ef,"f"),{parse:!1})})}setActions(e){P(this,ef,e,"f")}};o(tf,"KidsBlocklistPickerItem");ef=new WeakMap;tf.type="KidsBlocklistPickerItem";var lx=tf;var nf=class extends s{constructor(e){super(),this.title=new u(e.title),this.child_rows=l.parse(e.childRows,!0,[lx]),this.done_button=l.parseItem(e.doneButton,[I]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};o(nf,"KidsBlocklistPicker");nf.type="KidsBlocklistPicker";var mT=nf;var of=class extends s{constructor(e){var i,n;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(n=e.categoryAssets)===null||n===void 0?void 0:n.backgroundColor},this.category_type=e.categoryType,this.endpoint=new x(e.endpoint)}};o(of,"KidsCategoryTab");of.type="KidsCategoryTab";var cx=of;var rf=class extends s{constructor(e){super(),this.category_tabs=l.parseArray(e.categoryTabs,cx),this.privacy_button=l.parseItem(e.privacyButtonRenderer,I)}};o(rf,"KidsCategoriesHeader");rf.type="kidsCategoriesHeader";var hT=rf;var sf=class extends s{constructor(e){super(),this.anchors=l.parseArray(e.anchors,ux)}};o(sf,"KidsHomeScreen");sf.type="kidsHomeScreen";var _T=sf;var Ag={};ye(Ag,{camelToSnake:()=>rn,createRuntimeClass:()=>ST,generateRuntimeClass:()=>lf,generateTypescriptClass:()=>dx,inferType:()=>px,introspect:()=>Eg,isArrayType:()=>IT,isIgnoredKey:()=>kT,isMiscType:()=>TT,isRenderer:()=>Cg,isRendererList:()=>wT,mergeKeyInfo:()=>af,parse:()=>Rg,toParser:()=>Ng,toTypeDeclaration:()=>Pg});var ik=new Set(["trackingParams","accessibility","accessibilityData"]),Sg={};function rn(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}o(rn,"camelToSnake");function px(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=Cg(e))return Sg[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=wT(e)){for(let[r,a]of Object.entries(i))Sg[r]=a;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=TT(t,e))||(i=IT(e)))return i}let n=typeof e;return n==="object"?{type:"object",keys:Object.entries(e).map(([r,a])=>[r,px(r,a)]),optional:!1}:{type:"primative",typeof:[n],optional:!1}}o(px,"inferType");function wT(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(n=>Cg(n))?Object.fromEntries(t.map(n=>{let r=Reflect.ownKeys(n)[0].toString();return[cf(r),n[r]]})):!1}o(wT,"isRendererList");function TT(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new x(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}o(TT,"isMiscType");function Cg(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let n=i[0].toString();if(n.endsWith("Renderer")||n.endsWith("Model"))return cf(n)}return!1}o(Cg,"isRenderer");function IT(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["never"],optional:!1},optional:!1};let e=t.map(a=>typeof a);if(!e.every(a=>a===e[0]))return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!1},optional:!1};let n=e[0];if(n!=="object")return{type:"array",array_type:"primitive",items:{type:"primative",typeof:[n],optional:!1},optional:!1};let r=[];for(let a=0;a<t.length;a++){let c=Object.entries(t[a]).map(([p,d])=>[p,px(p,d)]);if(a===0){r=c;continue}r=af(r,c).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:r,optional:!1},optional:!1}}o(IT,"isArrayType");function nk(t){if(typeof t!="object"||t===null)throw new b("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!kT(i)).filter(i=>typeof i=="string").map(i=>{let n=Reflect.get(t,i),r=px(i,n);return[i,r]})}o(nk,"introspectKeysFirstPass");function ok(t){var e;let n=t.filter(([,p])=>{var d;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((d=p.endpoint)===null||d===void 0?void 0:d.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,d])=>p.type!=="misc"||d.type!=="misc"||p.misc_type!=="Text"||d.misc_type!=="Text"?0:d.text.length-p.text.length),r=new Set,a=n[0],c;if(a){r.add(a[0]);let d=t.map(([w])=>w).filter(w=>w.endsWith("Badges")||w==="badges"),m=(e=d.filter(w=>w.startsWith("owner")||w.startsWith("author"))[0])!==null&&e!==void 0?e:d[0],g=t.find(([w])=>w===m),y=g?g[1].type==="array"&&g[1].array_type==="renderer"&&Reflect.has(g[1].renderers,"MetadataBadge"):!1;y&&m&&r.add(m),c={type:"misc",misc_type:"Author",optional:!1,params:[a[0],y?m:void 0]}}return c&&t.push(["author",c]),t.filter(([p])=>!r.has(p))}o(ok,"introspectKeysSecondPass");function rk(t){let e=nk(t);return ok(e)}o(rk,"introspect2");function Eg(t){let e=rk(t),i=new Map;for(let[,r]of e)if(r.type==="renderer"||r.type==="array"&&r.array_type==="renderer")for(let a of r.renderers){let c=Sg[a];c&&i.set(a,c)}let n=Array.from(i).filter(([r])=>!fx(r));return{key_info:e,unimplemented_dependencies:n}}o(Eg,"introspect");function kT(t){return typeof t=="string"&&ik.has(t)}o(kT,"isIgnoredKey");function ST(t,e,i){var n,r;i({error_type:"class_not_found",classname:t,key_info:e});let a=(n=o(class extends s{static set key_info(c){P(this,n,new Map(c),"f",r)}static get key_info(){return[...f(this,n,"f",r).entries()]}constructor(c){super();let{key_info:p,unimplemented_dependencies:d}=Eg(c),{resolved_key_info:_,changed_keys:m}=af(a.key_info,p);m.length>0&&(a.key_info=_,i({error_type:"class_changed",classname:t,key_info:a.key_info,changed_keys:m}));for(let[y,w]of d)lf(y,w,i);for(let[y,w]of p){let k=rn(y);w.type==="misc"&&w.misc_type==="NavigationEndpoint"&&(k="endpoint"),Reflect.set(this,k,Rg(y,w,c))}}},"_a"),V0(n,"node"),n.type=t,r={value:new Map},n);return a.key_info=e,Object.defineProperty(a,"name",{value:t,writable:!1}),a}o(ST,"createRuntimeClass");function lf(t,e,i){let{key_info:n,unimplemented_dependencies:r}=Eg(e),a=ST(t,n,i);Vg(t,a);for(let[c,p]of r)lf(c,p,i);return a}o(lf,"generateRuntimeClass");function dx(t,e){let i=[],n=["super();"];for(let[r,a]of e){let c=rn(r);a.type==="misc"&&a.misc_type==="NavigationEndpoint"&&(c="endpoint"),i.push(`${c}${a.optional?"?":""}: ${Pg(a)};`),n.push(`this.${c} = ${Ng(r,a)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${n.join(`
    `)}
  }
}
`}o(dx,"generateTypescriptClass");function xT(t,e){return`{
${e.map(([i,n])=>`${" ".repeat((t+2)*2)}${rn(i)}${n.optional?"?":""}: ${Pg(n,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}o(xT,"toTypeDeclarationObject");function Pg(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${xT(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return xT(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ")}}o(Pg,"toTypeDeclaration");function gT(t,e,i,n){let r=[...i,n];return`{
${e.map(([a,c])=>`${" ".repeat((t+2)*2)}${rn(a)}: ${Ng(a,c,r,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}o(gT,"toParserObject");function Ng(t,e,i=["data"],n=1){let r="undefined";switch(e.type){case"renderer":r=`Parser.parseItem(${i.join(".")}.${t}, ${vT(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":r=`Parser.parse(${i.join(".")}.${t}, true, ${vT(e.renderers)})`;break;case"object":r=`${i.join(".")}.${t}.map((item: any) => (${gT(n,e.items.keys,[],"item")}))`;break;case"primitive":r=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":r=gT(n,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let a=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${a} : undefined`:a}default:r=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":r=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${r} : undefined`:r}o(Ng,"toParser");function vT(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}o(vT,"toParserValidTypes");function Et(t,e){let i=t;for(let n of e)i=i[n];return i}o(Et,"accessDataFromKeyPath");function yT(t,e){let i=t;for(let n of e)if(Reflect.has(i,n))i=i[n];else return!1;return!0}o(yT,"hasDataFromKeyPath");function bT(t,e,i,n,r){let a={},c=[...i,t];for(let[p,d]of n)a[p]=r?Rg(p,d,e,c):void 0;return a}o(bT,"parseObject");function Rg(t,e,i,n=["data"]){let r=!e.optional||yT({data:i},[...n,t]);switch(e.type){case"renderer":return r?te(Et({data:i},[...n,t]),e.renderers.map(a=>uf(a))):void 0;case"array":{switch(e.array_type){case"renderer":return r?We(Et({data:i},[...n,t]),!0,e.renderers.map(a=>uf(a))):void 0;case"object":return r?Et({data:i},[...n,t]).map((a,c)=>bT(`${c}`,i,[...n,t],e.items.keys,r)):void 0;case"primitive":return r?Et({data:i},[...n,t]):void 0}throw new Error("Unreachable code reached! Switch missing case!")}case"object":return bT(t,i,n,e.keys,r);case"misc":switch(e.misc_type){case"NavigationEndpoint":return r?new x(Et({data:i},[...n,t])):void 0;case"Text":return r?new u(Et({data:i},[...n,t])):void 0;case"Thumbnail":return r?v.fromResponse(Et({data:i},[...n,t])):void 0;case"Author":return!e.optional||yT({data:i},[...n,e.params[0]])?new D(Et({data:i},[...n,e.params[0]]),e.params[1]?Et({data:i},[...n,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":return Et({data:i},[...n,t])}}o(Rg,"parse");function af(t,e){let i=new Map,n=new Set(t.map(([y])=>y)),r=new Set(e.map(([y])=>y)),a=e.filter(([y])=>!n.has(y)),c=t.filter(([y])=>!r.has(y)),p=t.filter(([y])=>r.has(y)),d=new Map(e);for(let[y,w]of p){let k=d.get(y);if(!!k){if(w.type!==k.type){i.set(y,{type:"primative",typeof:["unknown"],optional:!0});continue}switch(w.type){case"object":{if(k.type!=="object")continue;let{resolved_key_info:S}=af(w.keys,k.keys),E={type:"object",keys:S,optional:w.optional||k.optional};JSON.stringify(E)!==JSON.stringify(w)&&i.set(y,E)}break;case"renderer":{if(k.type!=="renderer")continue;let S=Object.assign(Object.assign({},w.renderers),k.renderers),E=w.optional||k.optional,V={type:"renderer",renderers:S,optional:E};JSON.stringify(Object.assign(Object.assign({},V),{renderers:Object.keys(V.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(y,V)}break;case"array":{if(k.type!=="array")continue;switch(w.array_type){case"renderer":{if(k.array_type!=="renderer"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let S=Object.assign(Object.assign({},w.renderers),k.renderers),E=w.optional||k.optional,V={type:"array",array_type:"renderer",renderers:S,optional:E};JSON.stringify(Object.assign(Object.assign({},V),{renderers:Object.keys(V.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(y,V)}break;case"object":{if(k.array_type==="primitive"&&k.items.typeof.length==1&&k.items.typeof[0]==="never")continue;if(k.array_type!=="object"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:S}=af(w.items.keys,k.items.keys),E={type:"array",array_type:"object",items:{type:"object",keys:S,optional:w.items.optional||k.items.optional},optional:w.optional||k.optional};JSON.stringify(E)!==JSON.stringify(w)&&i.set(y,E)}break;case"primitive":{if(w.items.typeof.includes("never")&&k.array_type==="object"){i.set(y,k);continue}if(k.array_type!=="primitive"){i.set(y,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let S=new Set([...k.items.typeof,...w.items.typeof]);S.size>1&&S.has("never")&&S.delete("never");let E={type:"array",array_type:"primitive",items:{type:"primative",typeof:Array.from(S),optional:w.items.optional||k.items.optional},optional:w.optional||k.optional};JSON.stringify(E)!==JSON.stringify(w)&&i.set(y,E)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}}break;case"misc":{if(k.type!=="misc")continue;switch(w.misc_type!==k.misc_type&&i.set(y,{type:"primative",typeof:["unknown"],optional:!0}),w.misc_type){case"Author":{if(k.misc_type!=="Author")break;let S=w.params[1]||k.params[1],E=w.optional||k.optional,V={type:"misc",misc_type:"Author",optional:E,params:[k.params[0],S]};JSON.stringify(V)!==JSON.stringify(w)&&i.set(y,V)}break}}break;case"primative":{if(k.type!=="primative")continue;let S={type:"primative",typeof:Array.from(new Set([...k.typeof,...w.typeof])),optional:w.optional||k.optional};JSON.stringify(S)!==JSON.stringify(w)&&i.set(y,S)}break}}}for(let[y,w]of a)i.set(y,Object.assign(Object.assign({},w),{optional:!0}));for(let[y,w]of c)i.set(y,Object.assign(Object.assign({},w),{optional:!0}));let _=t.filter(([y])=>!i.has(y));return{resolved_key_info:[...new Map([..._,...i]).entries()],changed_keys:[...i.entries()]}}o(af,"mergeKeyInfo");var uo=class extends s{constructor(e){var i,n,r;super(),this.contents=Ve(e.contents),Array.isArray(e.continuations)&&(this.continuation=(r=(n=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||n===void 0?void 0:n.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};o(uo,"ItemSectionContinuation");uo.type="itemSectionContinuation";var yi=class extends s{constructor(e){super(),this.endpoint=new x(e.endpoint)}};o(yi,"NavigateAction");yi.type="navigateAction";var lo=class extends s{constructor(e){super(),this.miniplayer_command=new x(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};o(lo,"ShowMiniplayerCommand");lo.type="showMiniplayerCommand";var bi=class extends s{constructor(e){super(),this.target_id=e.targetId,this.contents=We(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};o(bi,"ReloadContinuationItemsCommand");bi.type="reloadContinuationItemsCommand";var co=class extends s{constructor(e){var i,n,r,a,c,p;super(),this.contents=We(e.contents,!0),this.continuation=((r=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};o(co,"SectionListContinuation");co.type="sectionListContinuation";var po=class extends s{constructor(e){var i;super(),this.contents=We(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};o(po,"MusicPlaylistShelfContinuation");po.type="musicPlaylistShelfContinuation";var fo=class extends s{constructor(e){var i,n,r,a;super(),this.contents=Ve(e.contents),this.continuation=((n=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||n===void 0?void 0:n.continuation)||((a=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)||null}};o(fo,"MusicShelfContinuation");fo.type="musicShelfContinuation";var mo=class extends s{constructor(e){var i;super(),this.items=We(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};o(mo,"GridContinuation");mo.type="gridContinuation";var ho=class extends s{constructor(e){var i,n,r,a,c,p;super(),this.contents=Ve(e.contents),this.continuation=((r=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};o(ho,"PlaylistPanelContinuation");ho.type="playlistPanelContinuation";var sn=class extends s{constructor(e){var i,n,r;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(n=e.continuation)===null||n===void 0?void 0:n.timeUntilLastMessageMsec,this.token=(r=e.continuation)===null||r===void 0?void 0:r.continuation}};o(sn,"Continuation");sn.type="continuation";var wi=class extends s{constructor(e){var i,n,r,a,c,p,d,_;super(),this.actions=We((i=e.actions)===null||i===void 0?void 0:i.map(y=>(delete y.clickTrackingParams,y)),!0)||X([]),this.action_panel=te(e.actionPanel),this.item_list=te(e.itemList,r_),this.header=te(e.header,o_),this.participants_list=te(e.participantsList,a_),this.popout_message=te(e.popoutMessage,mi),this.emojis=((n=e.emojis)===null||n===void 0?void 0:n.map(y=>({emoji_id:y.emojiId,shortcuts:y.shortcuts,search_terms:y.searchTerms,image:v.fromResponse(y.image),is_custom_emoji:y.isCustomEmoji})))||[];let m,g;!((r=e.continuations)===null||r===void 0)&&r[0].timedContinuationData?(g="timed",m=(a=e.continuations)===null||a===void 0?void 0:a[0].timedContinuationData):!((c=e.continuations)===null||c===void 0)&&c[0].invalidationContinuationData?(g="invalidation",m=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((d=e.continuations)===null||d===void 0)&&d[0].liveChatReplayContinuationData&&(g="replay",m=(_=e.continuations)===null||_===void 0?void 0:_[0].liveChatReplayContinuationData),this.continuation=new sn({continuation:m,type:g}),this.viewer_name=e.viewerName}};o(wi,"LiveChatContinuation");wi.type="liveChatContinuation";var jt=class extends s{constructor(e){super(),this.request=e.request,this.token=e.token}};o(jt,"ContinuationCommand");jt.type="ContinuationCommand";var mx,hx=class{constructor(e,i){var n,r,a,c,p,d,_,m;if(mx.set(this,void 0),i&&P(this,mx,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=(n=e.stereoLayout)===null||n===void 0?void 0:n.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=(r=e.spatialAudioType)===null||r===void 0?void 0:r.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:(a=e.colorInfo.primaries)===null||a===void 0?void 0:a.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(c=e.colorInfo.transferCharacteristics)===null||c===void 0?void 0:c.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(p=e.colorInfo.matrixCoefficients)===null||p===void 0?void 0:p.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let g=new URLSearchParams(this.cipher||this.signature_cipher),w=(d=new URLSearchParams(g.get("url")||this.url).get("xtags"))===null||d===void 0?void 0:d.split(":");if(this.language=((_=w==null?void 0:w.find(k=>k.startsWith("lang=")))===null||_===void 0?void 0:_.split("=")[1])||null,this.has_audio){this.is_drc=!!e.isDrc||!!(w!=null&&w.includes("drc=1"));let k=(m=w==null?void 0:w.find(S=>S.startsWith("acont=")))===null||m===void 0?void 0:m.split("=")[1];this.is_dubbed=k==="dubbed",this.is_descriptive=k==="descriptive",this.is_secondary=k==="secondary",this.is_original=k==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(e){if(!e)throw new b("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,f(this,mx,"f"))}};o(hx,"Format");mx=new WeakMap;var _x=hx;var Ti=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=v.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};o(Ti,"VideoDetails");var an="Parser",sk=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),Bg=new Map(Object.entries(en)),CT=new Map,un=null,Ii=o(t=>{var{classname:e}=t,i=A0(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&j.warn(an,new b(`Something went wrong at ${e}!
This is a bug, please report it at ${W.shim.info.bugs_url}`,{stack:i.error.stack,classdata:JSON.stringify(i.classdata,null,2)}));break;case"typecheck":j.warn(an,new rt(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":j.warn(an,new b(`Mutation data required for processing ${e}, but none found.
This is a bug, please report it at ${W.shim.info.bugs_url}`));break;case"mutation_data_invalid":j.warn(an,new b(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${W.shim.info.bugs_url}`));break;case"class_not_found":j.warn(an,new b(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${W.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${W.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${dx(e,i.key_info)}`));break;case"class_changed":j.warn(an,`${e} changed!
The following keys where altered: ${i.changed_keys.map(([n])=>rn(n)).join(", ")}
The class has changed to:
${dx(e,i.key_info)}`);break;default:j.warn(an,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function ak(t){Ii=t}o(ak,"setParserErrorHandler");function Pt(){un=null}o(Pt,"_clearMemo");function Nt(){un=new Qt}o(Nt,"_createMemo");function uk(t,e){if(!un)return;let i=un.get(t);if(!i)return un.set(t,[e]);i.push(e)}o(uk,"_addToMemo");function Rt(){if(!un)throw new Error("Parser#getMemo() called before Parser#createMemo()");return un}o(Rt,"_getMemo");function ET(t){return sk.has(t)}o(ET,"shouldIgnore");function cf(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}o(cf,"sanitizeClassName");function uf(t){let e=Bg.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}o(uf,"getParserByName");function fx(t){return Bg.has(t)}o(fx,"hasParser");function Vg(t,e){Bg.set(t,e),CT.set(t,e)}o(Vg,"addRuntimeParser");function lk(){return Object.fromEntries(CT)}o(lk,"getDynamicParsers");function Mg(t){var e,i,n,r,a,c,p,d,_,m,g,y,w,k;let S={};Nt();let E=We(t.contents),V=Rt();E&&(S.contents=E,S.contents_memo=V),Pt(),Nt();let M=t.onResponseReceivedActions?xx(t.onResponseReceivedActions):null,U=Rt();M&&(S.on_response_received_actions=M,S.on_response_received_actions_memo=U),Pt(),Nt();let q=t.onResponseReceivedEndpoints?xx(t.onResponseReceivedEndpoints):null,se=Rt();q&&(S.on_response_received_endpoints=q,S.on_response_received_endpoints_memo=se),Pt(),Nt();let ue=t.onResponseReceivedCommands?xx(t.onResponseReceivedCommands):null,pe=Rt();ue&&(S.on_response_received_commands=ue,S.on_response_received_commands_memo=pe),Pt(),Nt();let z=t.continuationContents?Dg(t.continuationContents):null,F=Rt();z&&(S.continuation_contents=z,S.continuation_contents_memo=F),Pt(),Nt();let A=t.actions?NT(t.actions):null,$=Rt();A&&(S.actions=A,S.actions_memo=$),Pt(),Nt();let ne=t.liveChatItemContextMenuSupportedRenderers?te(t.liveChatItemContextMenuSupportedRenderers):null,Te=Rt();ne&&(S.live_chat_item_context_menu_supported_renderers=ne,S.live_chat_item_context_menu_supported_renderers_memo=Te),Pt(),Nt();let Xe=t.header?We(t.header):null,nt=Rt();Xe&&(S.header=Xe,S.header_memo=nt),Pt(),Nt();let K=t.sidebar?te(t.sidebar):null,De=Rt();K&&(S.sidebar=K,S.sidebar_memo=De),Pt(),Nt();let Ae=We(t.items);Ae&&(S.items=Ae,S.items_memo=Rt()),Pt(),RT(V,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations),se&&AT(se,(r=(n=t.frameworkUpdates)===null||n===void 0?void 0:n.entityBatchUpdate)===null||r===void 0?void 0:r.mutations);let he=t.continuation?PT(t.continuation):null;he&&(S.continuation=he);let de=t.continuationEndpoint?Dg(t.continuationEndpoint):null;de&&(S.continuation_endpoint=de);let Le=We(t.metadata);Le&&(S.metadata=Le);let _e=te(t.microformat);_e&&(S.microformat=_e);let Be=te(t.overlay);Be&&(S.overlay=Be);let Qe=Ve(t.alerts,[Sn,rm]);Qe.length&&(S.alerts=Qe);let me=t.refinements;me&&(S.refinements=me);let _0=t.estimatedResults?parseInt(t.estimatedResults):null;_0&&(S.estimated_results=_0);let x0=We(t.playerOverlays);x0&&(S.player_overlays=x0);let g0=te(t.background,Ne);g0&&(S.background=g0);let v0=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;v0&&(S.playback_tracking=v0);let y0=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:te(t.playabilityStatus.audioOnlyPlayability,lm),error_screen:te(t.playabilityStatus.errorScreen)}:null;if(y0&&(S.playability_status=y0),t.streamingData){let ot=new Map,j1={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:Lg(t.streamingData.formats,ot),adaptive_formats:Lg(t.streamingData.adaptiveFormats,ot),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};S.streaming_data=j1}if(t.playerConfig){let ot={audio_config:{loudness_db:(a=t.playerConfig.audioConfig)===null||a===void 0?void 0:a.loudnessDb,perceptual_loudness_db:(c=t.playerConfig.audioConfig)===null||c===void 0?void 0:c.perceptualLoudnessDb,enable_per_format_loudness:(p=t.playerConfig.audioConfig)===null||p===void 0?void 0:p.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((d=t.playerConfig.streamSelectionConfig)===null||d===void 0?void 0:d.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((m=(_=t.playerConfig.mediaCommonConfig)===null||_===void 0?void 0:_.dynamicReadaheadConfig)===null||m===void 0?void 0:m.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((y=(g=t.playerConfig.mediaCommonConfig)===null||g===void 0?void 0:g.dynamicReadaheadConfig)===null||y===void 0?void 0:y.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((k=(w=t.playerConfig.mediaCommonConfig)===null||w===void 0?void 0:w.dynamicReadaheadConfig)===null||k===void 0?void 0:k.readAheadGrowthRateMs)||0}}};S.player_config=ot}let b0=t.currentVideoEndpoint?new x(t.currentVideoEndpoint):null;b0&&(S.current_video_endpoint=b0);let w0=t.endpoint?new x(t.endpoint):null;w0&&(S.endpoint=w0);let T0=te(t.captions,V_);T0&&(S.captions=T0);let I0=t.videoDetails?new Ti(t.videoDetails):null;I0&&(S.video_details=I0);let k0=Ve(t.annotations,A_);k0.length&&(S.annotations=k0);let S0=te(t.storyboards,[ji,L_]);S0&&(S.storyboards=S0);let C0=te(t.endscreen,kh);C0&&(S.endscreen=C0);let E0=te(t.cards,jm);E0&&(S.cards=E0);let P0=Ve(t.engagementPanels,ai);if(P0.length&&(S.engagement_panels=P0),t.playerResponse){let ot=Mg(t.playerResponse);S.player_response=ot}if(t.watchNextResponse){let ot=Mg(t.watchNextResponse);S.watch_next_response=ot}if(t.cpnInfo){let ot={cpn:t.cpnInfo.cpn,cpn_source:t.cpnInfo.cpnSource};S.cpn_info=ot}return t.entries&&(S.entries=t.entries.map(ot=>new x(ot))),S}o(Mg,"parseResponse");function te(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let n=cf(i[0]);if(!ET(n))try{let a=fx(n)?uf(n):lf(n,t[i[0]],Ii);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===a.type))return Ii({classdata:t[i[0]],classname:n,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(a.type!==e.type)return Ii({classdata:t[i[0]],classname:n,error_type:"typecheck",expected:e.type}),null}let c=new a(t[i[0]]);return uk(n,c),c}catch(r){return Ii({classname:n,classdata:t[i[0]],error:r,error_type:"parse"}),null}return null}o(te,"parseItem");function Ve(t,e){if(Array.isArray(t)){let i=[];for(let n of t){let r=te(n,e);r&&i.push(r)}return X(i)}else if(!t)return X([]);throw new rt("Expected array but got a single item")}o(Ve,"parseArray");function We(t,e,i){if(!t)return null;if(Array.isArray(t)){let n=[];for(let a of t){let c=te(a,i);c&&n.push(c)}let r=X(n);return e?r:new wt(r)}else if(e)throw new rt("Expected array but got a single item");return new wt(te(t,i))}o(We,"parse");function PT(t){return t.timedContinuationData?new sn({continuation:t.timedContinuationData,type:"timed"}):null}o(PT,"parseC");function Dg(t){return t.itemSectionContinuation?new uo(t.itemSectionContinuation):t.sectionListContinuation?new co(t.sectionListContinuation):t.liveChatContinuation?new wi(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new po(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new fo(t.musicShelfContinuation):t.gridContinuation?new mo(t.gridContinuation):t.playlistPanelContinuation?new ho(t.playlistPanelContinuation):t.continuationCommand?new jt(t.continuationCommand):null}o(Dg,"parseLC");function xx(t){return X(t.map(e=>{if(e.navigateAction)return new yi(e.navigateAction);if(e.showMiniplayerCommand)return new lo(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new bi(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Gi(e.appendContinuationItemsAction)}).filter(e=>e))}o(xx,"parseRR");function NT(t){return Array.isArray(t)?We(t.map(e=>(delete e.clickTrackingParams,e))):new wt(te(t))}o(NT,"parseActions");function Lg(t,e){return(t==null?void 0:t.map(i=>new _x(i,e)))||[]}o(Lg,"parseFormats");function RT(t,e){let i=t.getType(Xn);if(i.length>0&&!e)Ii({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let n=[];for(let r of i){let a=e.find(p=>{var d,_;return((_=(d=p.payload)===null||d===void 0?void 0:d.musicFormBooleanChoice)===null||_===void 0?void 0:_.id)===r.form_item_entity_key}),c=a==null?void 0:a.payload.musicFormBooleanChoice;(c==null?void 0:c.selected)!==void 0&&(c==null?void 0:c.opaqueToken)?r.selected=c.selected:n.push(`'${r.title}'`)}n.length>0&&Ii({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:n.length,titles:n})}}o(RT,"applyMutations");function AT(t,e){var i,n,r,a,c,p;let d=t.getType(fi);if(d.length>0){e||Ii({error_type:"mutation_data_missing",classname:"CommentView"});for(let _ of d){let m=(n=(i=e.find(w=>{var k,S;return((S=(k=w.payload)===null||k===void 0?void 0:k.commentEntityPayload)===null||S===void 0?void 0:S.key)===_.keys.comment}))===null||i===void 0?void 0:i.payload)===null||n===void 0?void 0:n.commentEntityPayload,g=(a=(r=e.find(w=>{var k,S;return((S=(k=w.payload)===null||k===void 0?void 0:k.engagementToolbarStateEntityPayload)===null||S===void 0?void 0:S.key)===_.keys.toolbar_state}))===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.engagementToolbarStateEntityPayload,y=(p=(c=e.find(w=>w.entityKey===_.keys.toolbar_surface))===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.engagementToolbarSurfaceEntityPayload;_.applyMutations(m,g,y)}}}o(AT,"applyCommentsMutations");var Wg={};ye(Wg,{AccountInfo:()=>VT,Analytics:()=>MT,Channel:()=>Ee,ChannelListContinuation:()=>fn,Comments:()=>LT,FilteredChannelList:()=>Ei,Guide:()=>BT,HashtagFeed:()=>Pi,History:()=>Vt,HomeFeed:()=>Wt,ItemMenu:()=>Cx,Library:()=>FT,LiveChat:()=>Lx,NotificationsMenu:()=>UT,Playlist:()=>ko,Search:()=>Gt,Settings:()=>jT,SmoothedQueue:()=>Ax,TimeWatched:()=>WT,TranscriptInfo:()=>wx,VideoInfo:()=>Tf});var _o,gx=class{constructor(e){if(_o.set(this,void 0),P(this,_o,l.parseResponse(e.data),"f"),!f(this,_o,"f").contents)throw new b("Page contents not found");let i=f(this,_o,"f").contents.array().as(Qf).first();if(!i)throw new b("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return f(this,_o,"f")}};o(gx,"AccountInfo");_o=new WeakMap;var VT=gx;var pf,vx=class{constructor(e){var i;pf.set(this,void 0),P(this,pf,l.parseResponse(e.data),"f"),this.sections=(i=f(this,pf,"f").contents_memo)===null||i===void 0?void 0:i.getType(Gn).map(n=>n.model).flatMap(n=>n||[])}get page(){return f(this,pf,"f")}};o(vx,"Analytics");pf=new WeakMap;var MT=vx;var df,Me,ln,ff,ze,DT,Og,ki=class{constructor(e,i,n=!1){df.add(this),Me.set(this,void 0),ln.set(this,void 0),ff.set(this,void 0),ze.set(this,void 0),f(this,df,"m",DT).call(this,i)||n?P(this,Me,i,"f"):P(this,Me,l.parseResponse(i.data),"f");let r=Fg(f(this,Me,"f").contents_memo,f(this,Me,"f").continuation_contents_memo,f(this,Me,"f").on_response_received_commands_memo,f(this,Me,"f").on_response_received_endpoints_memo,f(this,Me,"f").on_response_received_actions_memo,f(this,Me,"f").sidebar_memo,f(this,Me,"f").header_memo);if(!r)throw new b("No memo found in feed");P(this,ze,r,"f"),P(this,ff,e,"f")}static getVideosFromMemo(e){return e.getType(Nn,Mh,io,An,to,Ut,ax)}static getPlaylistsFromMemo(e){let i=e.getType(It,Rh),n=e.getType(l_).filter(r=>["PLAYLIST","ALBUM","PODCAST"].includes(r.content_type));return n.length>0&&i.push(...n),i}get videos(){return ki.getVideosFromMemo(f(this,ze,"f"))}get posts(){return f(this,ze,"f").getType(ni,J_,Z_)}get channels(){return f(this,ze,"f").getType(Jm,Nh)}get playlists(){return ki.getPlaylistsFromMemo(f(this,ze,"f"))}get memo(){return f(this,ze,"f")}get page_contents(){var e;let i=(e=f(this,ze,"f").getType(Re))===null||e===void 0?void 0:e.first().content,n=f(this,ze,"f").getType(bi).first(),r=f(this,ze,"f").getType(Gi).first();return i||n||r}get shelves(){return f(this,ze,"f").getType(so,z_,Mn)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=f(this,Me,"f").contents)===null||e===void 0)&&e.is_node))return;let n=(i=f(this,Me,"f").contents)===null||i===void 0?void 0:i.item();if(!!n.is(Ct,ix))return n.secondary_contents}get actions(){return f(this,ff,"f")}get page(){return f(this,Me,"f")}get has_continuation(){return f(this,df,"m",Og).call(this).length>0}getContinuationData(){return T(this,void 0,void 0,function*(){if(f(this,ln,"f")){if(f(this,ln,"f").length===0)throw new b("There are no continuations.");return yield f(this,ln,"f")[0].endpoint.call(f(this,ff,"f"),{parse:!0})}if(P(this,ln,f(this,df,"m",Og).call(this),"f"),f(this,ln,"f"))return this.getContinuationData()})}getContinuation(){return T(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new ki(this.actions,e,!0)})}};o(ki,"Feed");Me=new WeakMap,ln=new WeakMap,ff=new WeakMap,ze=new WeakMap,df=new WeakSet,DT=o(function(e){return!("data"in e)},"_Feed_isParsed"),Og=o(function(){if(f(this,Me,"f").header_memo){let e=f(this,Me,"f").header_memo.getType(ce);return f(this,ze,"f").getType(ce).filter(i=>!e.includes(i))}return f(this,ze,"f").getType(ce)},"_Feed_getBodyContinuations");var Ce=ki;var xo,yx=class extends Ce{constructor(e,i,n=!1){super(e,i,n),xo.set(this,void 0)}get filter_chips(){var e,i;if(f(this,xo,"f"))return f(this,xo,"f")||[];if(((e=this.memo.getType(Yt))===null||e===void 0?void 0:e.length)>1)throw new b("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(Yt))===null||i===void 0?void 0:i.length)===0)throw new b("There are no feed filter chipbars");return P(this,xo,this.memo.getType(Ye),"f"),f(this,xo,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){return T(this,void 0,void 0,function*(){var i;let n;if(typeof e=="string"){if(!this.filters.includes(e))throw new b("Filter not found",{available_filters:this.filters});n=this.filter_chips.find(a=>a.text.toString()===e)}else if(e.type==="ChipCloudChip")n=e;else throw new b("Invalid filter");if(!n)throw new b("Filter not found");if(n.is_selected)return this;let r=yield(i=n.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new b("Failed to get filtered feed");return new Ce(this.actions,r,!0)})}};o(yx,"FilterableFeed");xo=new WeakMap;var Si=yx;var Yg={};ye(Yg,{Feed:()=>Ce,FilterableFeed:()=>Si,MediaInfo:()=>vo,TabbedFeed:()=>hf});var Ci,xt,go,mf,bx=class{constructor(e,i,n){var r,a,c,p,d,_,m,g,y,w,k,S,E,V,M,U,q,se,ue,pe,z,F;Ci.set(this,void 0),xt.set(this,void 0),go.set(this,void 0),mf.set(this,void 0),P(this,xt,i,"f");let A=l.parseResponse(e[0].data.playerResponse?e[0].data.playerResponse:e[0].data),$=!((r=e[1])===null||r===void 0)&&r.data?l.parseResponse(e[1].data):void 0;if(P(this,Ci,[A,$],"f"),P(this,go,n,"f"),((a=A.playability_status)===null||a===void 0?void 0:a.status)==="ERROR")throw new b("This video is unavailable",A.playability_status);if(A.microformat&&!(!((c=A.microformat)===null||c===void 0)&&c.is(it,xi)))throw new b("Unsupported microformat",A.microformat);this.basic_info=Object.assign(Object.assign(Object.assign({},A.video_details),{embed:!((p=A.microformat)===null||p===void 0)&&p.is(it)?(d=A.microformat)===null||d===void 0?void 0:d.embed:null,channel:!((_=A.microformat)===null||_===void 0)&&_.is(it)?(m=A.microformat)===null||m===void 0?void 0:m.channel:null,is_unlisted:(g=A.microformat)===null||g===void 0?void 0:g.is_unlisted,is_family_safe:(y=A.microformat)===null||y===void 0?void 0:y.is_family_safe,category:!((w=A.microformat)===null||w===void 0)&&w.is(it)?(k=A.microformat)===null||k===void 0?void 0:k.category:null,has_ypc_metadata:!((S=A.microformat)===null||S===void 0)&&S.is(it)?(E=A.microformat)===null||E===void 0?void 0:E.has_ypc_metadata:null,start_timestamp:!((V=A.microformat)===null||V===void 0)&&V.is(it)?A.microformat.start_timestamp:null,end_timestamp:!((M=A.microformat)===null||M===void 0)&&M.is(it)?A.microformat.end_timestamp:null,view_count:((U=A.microformat)===null||U===void 0?void 0:U.is(it))&&isNaN((q=A.video_details)===null||q===void 0?void 0:q.view_count)?A.microformat.view_count:(se=A.video_details)===null||se===void 0?void 0:se.view_count,url_canonical:!((ue=A.microformat)===null||ue===void 0)&&ue.is(xi)?(pe=A.microformat)===null||pe===void 0?void 0:pe.url_canonical:null,tags:!((z=A.microformat)===null||z===void 0)&&z.is(xi)?(F=A.microformat)===null||F===void 0?void 0:F.tags:null}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=A.annotations,this.storyboards=A.storyboards,this.endscreen=A.endscreen,this.captions=A.captions,this.cards=A.cards,this.streaming_data=A.streaming_data,this.playability_status=A.playability_status,this.player_config=A.player_config,P(this,mf,A.playback_tracking,"f")}toDash(e,i){return T(this,arguments,void 0,function*(n,r,a={include_thumbnails:!1}){var c,p;let d=f(this,Ci,"f")[0];if(d.video_details&&d.video_details.is_live)throw new b("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let _,m;return a.include_thumbnails&&d.storyboards&&(_=d.storyboards),typeof a.captions_format=="string"&&((c=d.captions)===null||c===void 0?void 0:c.caption_tracks)&&(m=d.captions.caption_tracks),Wi.toDash(this.streaming_data,(p=this.page[0].video_details)===null||p===void 0?void 0:p.is_post_live_dvr,n,r,f(this,go,"f"),f(this,xt,"f").session.player,f(this,xt,"f"),_,m,a)})}getStreamingInfo(e,i){var n;return Ff(this.streaming_data,(n=this.page[0].video_details)===null||n===void 0?void 0:n.is_post_live_dvr,e,i,this.cpn,f(this,xt,"f").session.player,f(this,xt,"f"),f(this,Ci,"f")[0].storyboards?f(this,Ci,"f")[0].storyboards:void 0)}chooseFormat(e){return Wi.chooseFormat(e,this.streaming_data)}download(){return T(this,arguments,void 0,function*(e={}){let i=f(this,Ci,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new b("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Wi.download(e,f(this,xt,"f"),this.playability_status,this.streaming_data,f(this,xt,"f").session.player,this.cpn)})}getTranscript(){return T(this,void 0,void 0,function*(){var e;let i=this.page[1];if(!i)throw new b("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new b("Engagement panels not found. Video likely has no transcript.");let n=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!n)throw new b("Transcript panel not found. Video likely has no transcript.");let r=(e=n.content)===null||e===void 0?void 0:e.as(ce);if(!r)throw new b("Transcript continuation not found.");let a=yield r.endpoint.call(this.actions);return new wx(this.actions,a)})}addToWatchHistory(){return T(this,arguments,void 0,function*(e=xe.CLIENTS.WEB.NAME,i=xe.CLIENTS.WEB.VERSION,n="https://www."){if(!f(this,mf,"f"))throw new b("Playback tracking not available");let r={cpn:f(this,go,"f"),fmt:251,rtn:0,rt:0},a=f(this,mf,"f").videostats_playback_url.replace("https://s.",n);return yield f(this,xt,"f").stats(a,{client_name:e,client_version:i},r)})}get actions(){return f(this,xt,"f")}get cpn(){return f(this,go,"f")}get page(){return f(this,Ci,"f")}};o(bx,"MediaInfo");Ci=new WeakMap,xt=new WeakMap,go=new WeakMap,mf=new WeakMap;var vo=bx;var cn,pn,dn=class extends Ce{constructor(e,i,n=!1){var r;super(e,i,n),cn.set(this,void 0),pn.set(this,void 0),P(this,pn,e,"f"),P(this,cn,(r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(Re),"f")}get tabs(){var e,i;return(i=(e=f(this,cn,"f"))===null||e===void 0?void 0:e.map(n=>n.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){return T(this,void 0,void 0,function*(){var i;let n=(i=f(this,cn,"f"))===null||i===void 0?void 0:i.find(a=>a.title.toLowerCase()===e.toLowerCase());if(!n)throw new b(`Tab "${e}" not found`);if(n.selected)return this;let r=yield n.endpoint.call(f(this,pn,"f"));return new dn(f(this,pn,"f"),r,!1)})}getTabByURL(e){return T(this,void 0,void 0,function*(){var i;let n=(i=f(this,cn,"f"))===null||i===void 0?void 0:i.find(a=>{var c;return((c=a.endpoint.metadata.url)===null||c===void 0?void 0:c.split("/").pop())===e});if(!n)throw new b(`Tab "${e}" not found`);if(n.selected)return this;let r=yield n.endpoint.call(f(this,pn,"f"));return new dn(f(this,pn,"f"),r,!1)})}hasTabWithURL(e){var i,n;return(n=(i=f(this,cn,"f"))===null||i===void 0?void 0:i.some(r=>{var a;return((a=r.endpoint.metadata.url)===null||a===void 0?void 0:a.split("/").pop())===e}))!==null&&n!==void 0?n:!1}get title(){var e,i,n;return(n=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(Re))===null||i===void 0?void 0:i.find(r=>r.selected))===null||n===void 0?void 0:n.title.toString()}};o(dn,"TabbedFeed");cn=new WeakMap,pn=new WeakMap;var hf=dn;var Ee=class extends hf{constructor(e,i,n=!1){var r,a,c,p,d,_;super(e,i,n),this.header=(a=(r=this.page.header)===null||r===void 0?void 0:r.item())===null||a===void 0?void 0:a.as(Dn,Wm,jh,St);let m=(c=this.page.metadata)===null||c===void 0?void 0:c.item().as(Hm),g=(p=this.page.microformat)===null||p===void 0?void 0:p.as(xi);if(this.page.alerts){let y=this.page.alerts.first();if((y==null?void 0:y.alert_type)==="ERROR")throw new yo(y.text.toString())}if(!m&&!this.page.contents)throw new b("Invalid channel",this);this.metadata=Object.assign(Object.assign({},m),g||{}),this.subscribe_button=(d=this.page.header_memo)===null||d===void 0?void 0:d.getType(Se).first(),this.current_tab=(_=this.page.contents)===null||_===void 0?void 0:_.item().as(Ct).tabs.array().filterType(Re,zn).get({selected:!0})}applyFilter(e){return T(this,void 0,void 0,function*(){var i;let n,r=this.memo.getType(Yt).first();if(typeof e=="string"){if(n=r==null?void 0:r.contents.get({text:e}),!n)throw new b(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof Ye&&(n=e);if(!n)throw new b("Invalid filter",e);let a=yield(i=n.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!a)throw new b("No page returned",{filter:n});return new Ei(this.actions,a,!0)})}applySort(e){return T(this,void 0,void 0,function*(){var i,n;let r=this.memo.getType(ht).first();if(!r)throw new b("No sort filter sub menu found");let a=(i=r==null?void 0:r.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!a)throw new b(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(a.selected)return this;let c=yield(n=a.endpoint)===null||n===void 0?void 0:n.call(this.actions,{parse:!0});return new Ee(this.actions,c,!0)})}applyContentTypeFilter(e){return T(this,void 0,void 0,function*(){var i,n,r,a;let c=(r=(n=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||n===void 0?void 0:n.as(ve).sub_menu)===null||r===void 0?void 0:r.as(Ws);if(!c)throw new b("Sub menu not found");let p=c.content_type_sub_menu_items.find(_=>_.title===e);if(!p)throw new b(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let d=yield(a=p.endpoint)===null||a===void 0?void 0:a.call(this.actions,{parse:!0});return new Ee(this.actions,d,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(Yt))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(Ye).map(n=>n.text))||[]}get sort_filters(){var e;let i=this.memo.getType(ht).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(n=>n.title))||[]}get content_type_filters(){var e,i,n;let r=(n=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(ve).sub_menu)===null||n===void 0?void 0:n.as(Ws);return(r==null?void 0:r.content_type_sub_menu_items.map(a=>a.title))||[]}getHome(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Ee(this.actions,e.page,!0)})}getVideos(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Ee(this.actions,e.page,!0)})}getShorts(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Ee(this.actions,e.page,!0)})}getLiveStreams(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Ee(this.actions,e.page,!0)})}getReleases(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Ee(this.actions,e.page,!0)})}getPodcasts(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Ee(this.actions,e.page,!0)})}getPlaylists(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Ee(this.actions,e.page,!0)})}getCommunity(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Ee(this.actions,e.page,!0)})}getAbout(){return T(this,void 0,void 0,function*(){var e,i,n,r,a;if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(Ds)[0];let c=((e=this.header)===null||e===void 0?void 0:e.is(Dn))&&this.header.tagline;if(c||((i=this.header)===null||i===void 0?void 0:i.is(St))&&((n=this.header.content)===null||n===void 0?void 0:n.description)){if(c&&c.more_endpoint instanceof x){let _=yield c.more_endpoint.call(this.actions);return new hf(this.actions,_,!1).memo.getType(Ds)[0]}let p=(a=(r=this.page.header_memo)===null||r===void 0?void 0:r.getType(ce)[0])===null||a===void 0?void 0:a.endpoint;if(!p)throw new b("Failed to extract continuation to get channel about");let d=yield p.call(this.actions,{parse:!0});if(!d.on_response_received_endpoints_memo)throw new b("Unexpected response while fetching channel about",{response:d});return d.on_response_received_endpoints_memo.getType(Kf)[0]}throw new b("About not found")})}search(e){return T(this,void 0,void 0,function*(){var i,n;let r=(i=this.memo.getType(zn))===null||i===void 0?void 0:i[0];if(!r)throw new b("Search tab not found",this);let a=yield(n=r.endpoint)===null||n===void 0?void 0:n.call(this.actions,{query:e,parse:!0});return new Ee(this.actions,a,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,n,r,a;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(Dn))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))||!!(((n=this.header)===null||n===void 0?void 0:n.is(St))&&((a=(r=this.header.content)===null||r===void 0?void 0:r.description)===null||a===void 0?void 0:a.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(zn))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return T(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new b("Could not get continuation data");return new fn(this.actions,i,!0)})}};o(Ee,"Channel");var fn=class extends Ce{constructor(e,i,n=!1){var r,a;super(e,i,n),this.contents=((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())||((a=this.page.on_response_received_endpoints)===null||a===void 0?void 0:a.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return T(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new b("Could not get continuation data");return new fn(this.actions,i,!0)})}};o(fn,"ChannelListContinuation");var Ei=class extends Si{constructor(e,i,n=!1){var r;super(e,i,n),this.applied_filter=this.memo.getType(Ye).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=(r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return T(this,void 0,void 0,function*(){let n=yield i.getFilteredFeed.call(this,e);return new Ei(this.actions,n.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return T(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new b("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(Yt)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(Ye)),new Ei(this.actions,i,!0)})}};o(Ei,"FilteredChannelList");var bo,At,wo,mn=class{constructor(e,i,n=!1){var r,a,c;bo.set(this,void 0),At.set(this,void 0),wo.set(this,void 0),P(this,bo,n?i:l.parseResponse(i),"f"),P(this,At,e,"f");let p=f(this,bo,"f").on_response_received_endpoints;if(!p)throw new b("Comments page did not have any content.");let d=p.at(0),_=p.at(1);this.header=(r=d==null?void 0:d.contents)===null||r===void 0?void 0:r.firstOfType(di);let m=((a=_==null?void 0:_.contents)===null||a===void 0?void 0:a.filterType(fh))||[];this.contents=X(m.map(g=>{var y;return(y=g.comment)===null||y===void 0||y.setActions(f(this,At,"f")),g.setActions(f(this,At,"f")),g})),P(this,wo,(c=_==null?void 0:_.contents)===null||c===void 0?void 0:c.firstOfType(ce),"f")}applySort(e){return T(this,void 0,void 0,function*(){var i,n,r,a;if(!this.header)throw new b("Page header is missing. Cannot apply sort option.");let c;if(e==="TOP_COMMENTS"?c=(n=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||n===void 0?void 0:n.at(0):e==="NEWEST_FIRST"&&(c=(a=(r=this.header.sort_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||a===void 0?void 0:a.at(1)),!c)throw new b("Could not find target button.");if(c.selected)return this;let p=yield c.endpoint.call(f(this,At,"f"),{parse:!0});return new mn(f(this,At,"f"),p,!0)})}createComment(e){return T(this,void 0,void 0,function*(){var i;if(!this.header)throw new b("Page header is missing. Cannot create comment.");let n=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(dh).submit_button;if(!n)throw new b("Could not find target button. You are probably not logged in.");if(!n.endpoint)throw new b("Button does not have an endpoint.");return yield n.endpoint.call(f(this,At,"f"),{commentText:e})})}getContinuation(){return T(this,void 0,void 0,function*(){if(!f(this,wo,"f"))throw new b("Continuation not found");let e=yield f(this,wo,"f").endpoint.call(f(this,At,"f"),{parse:!0}),i=Object.assign({},f(this,bo,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new b("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new mn(f(this,At,"f"),i,!0)})}get has_continuation(){return!!f(this,wo,"f")}get page(){return f(this,bo,"f")}};o(mn,"Comments");bo=new WeakMap,At=new WeakMap,wo=new WeakMap;var LT=mn;var To,Tx=class{constructor(e){To.set(this,void 0),P(this,To,l.parseResponse(e),"f"),f(this,To,"f").items&&(this.contents=f(this,To,"f").items.array().as(Kn,Dh))}get page(){return f(this,To,"f")}};o(Tx,"Guide");To=new WeakMap;var BT=Tx;var Vt=class extends Ce{constructor(e,i,n=!1){super(e,i,n),this.sections=this.memo.getType(et),this.feed_actions=this.memo.getType(mm).first()}getContinuation(){return T(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Vt(this.actions,e,!0)})}};o(Vt,"History");var Wt=class extends Si{constructor(e,i,n=!1){var r;super(e,i,n),this.header=this.memo.getType(Eh).first(),this.contents=this.memo.getType(vi).first()||((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return T(this,void 0,void 0,function*(){let n=yield i.getFilteredFeed.call(this,e);return new Wt(this.actions,n.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});return T(this,void 0,void 0,function*(){var i;let n=yield e.getContinuation.call(this);return n.page.header=this.page.header,this.header&&((i=n.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header])),new Wt(this.actions,n.page,!0)})}};o(Wt,"HomeFeed");var Pi=class extends Si{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new b("Unexpected response",this.page);let n=this.page.contents_memo.getType(Re).first();if(!n.content)throw new b("Content tab has no content",n);this.page.header&&(this.header=this.page.header.item().as(Lh,St)),this.contents=n.content.as(vi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return T(this,void 0,void 0,function*(){let n=yield i.getFilteredFeed.call(this,e);return new Pi(this.actions,n.page)})}};o(Pi,"HashtagFeed");var Ix,kx,_f,Sx=class{constructor(e,i){Ix.set(this,void 0),kx.set(this,void 0),_f.set(this,void 0),P(this,Ix,e,"f"),P(this,kx,i,"f");let n=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!n||!n.is(O))throw new b('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');P(this,_f,n.as(O).items,"f")}selectItem(e){return T(this,void 0,void 0,function*(){let i;if(e instanceof I){if(!e.endpoint)throw new b("Item does not have an endpoint.");i=e.endpoint}else{let r=f(this,_f,"f").find(a=>a.is(_i)?a.as(_i).icon_type===e:!1);if(!r||!r.is(_i))throw new b(`Button "${e}" not found.`);i=r.endpoint}if(!i)throw new b("Target button does not have an endpoint.");return yield i.call(f(this,kx,"f"),{parse:!0})})}items(){return f(this,_f,"f")}page(){return f(this,Ix,"f")}};o(Sx,"ItemMenu");Ix=new WeakMap,kx=new WeakMap,_f=new WeakMap;var Cx=Sx;var xf,Ex,Io=class extends Ce{constructor(e,i,n=!1){var r,a,c,p,d;super(e,i,n),xf.add(this);let _=this.memo.getType(Y_).first(),m=this.memo.getType(j_).first(),g=this.memo.getType(W_).first(),y=(r=this.page.alerts)===null||r===void 0?void 0:r.firstOfType(Sn);if(y&&y.alert_type==="ERROR")throw new b(y.text.toString(),y);if(!m&&!g&&Object.keys(this.page).length===0)throw new b("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(a=this.page.metadata)===null||a===void 0?void 0:a.item().as(U_)),{subtitle:_?_.subtitle:null,author:(p=(c=g==null?void 0:g.owner)===null||c===void 0?void 0:c.as(ao).author)!==null&&p!==void 0?p:_==null?void 0:_.author,thumbnails:(d=m==null?void 0:m.thumbnail_renderer)===null||d===void 0?void 0:d.as(Jn,Wn).thumbnail,total_items:f(this,xf,"m",Ex).call(this,0,m),views:f(this,xf,"m",Ex).call(this,1,m),last_updated:f(this,xf,"m",Ex).call(this,2,m),can_share:_==null?void 0:_.can_share,can_delete:_==null?void 0:_.can_delete,is_editable:_==null?void 0:_.is_editable,privacy:_==null?void 0:_.privacy}),this.menu=m==null?void 0:m.menu,this.endpoint=m==null?void 0:m.endpoint,this.messages=this.memo.getType(mi)}get items(){return X(this.videos.as(to,io).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(ve).first();return e?!!this.memo.getType(ce).find(i=>!e.contents.includes(i)):super.has_continuation}getContinuationData(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return T(this,void 0,void 0,function*(){let i=this.memo.getType(ve).first();if(!i)return yield e.getContinuationData.call(this);let n=this.memo.getType(ce).find(a=>!i.contents.includes(a));if(!n)throw new b("There are no continuations.");return yield n.endpoint.call(this.actions,{parse:!0})})}getContinuation(){return T(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new Io(this.actions,e,!0)})}};o(Io,"Playlist");xf=new WeakSet,Ex=o(function(e,i){var n;return!i||!i.stats?"N/A":((n=i.stats[e])===null||n===void 0?void 0:n.toString())||"N/A"},"_Playlist_getStat");var ko=Io;var Ug,OT,Px=class extends Ce{constructor(e,i){if(super(e,i),Ug.add(this),!this.page.contents_memo)throw new b("Page contents not found");this.header=this.memo.getType(St).first();let n=this.page.contents_memo.getType(so);this.sections=n.map(r=>{var a;return{type:r.icon_type,title:r.title,contents:((a=r.content)===null||a===void 0?void 0:a.key("items").array())||[],getAll:()=>f(this,Ug,"m",OT).call(this,r)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};o(Px,"Library");Ug=new WeakSet,OT=o(function(e){return T(this,void 0,void 0,function*(){var i;if(!(!((i=e.menu)===null||i===void 0)&&i.as(O).hasKey("top_level_buttons")))throw new b(`The ${e.title.text} shelf doesn't have more items`);let n=e.menu.as(O).top_level_buttons.firstOfType(I);if(!n)throw new b("Did not find target button.");let r=yield n.as(I).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new ko(this.actions,r,!0);case"WATCH_HISTORY":return new Vt(this.actions,r,!0);case"CONTENT_CUT":return new Ce(this.actions,r,!0);default:throw new b("Target shelf not implemented.")}})},"_Library_getAll");var FT=Px;var Jt,Ni,hn,st,gt,Ke;function ck(t){let e=[];for(let i of t)if(Array.isArray(i))for(let n of i)e.push(n);else e.push(i);return e}o(ck,"flattenQueue");var Nx=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};o(Nx,"DelayQueue");var Rx=class{constructor(){Jt.set(this,void 0),Ni.set(this,void 0),hn.set(this,void 0),st.set(this,void 0),gt.set(this,void 0),Ke.set(this,void 0),P(this,Jt,null,"f"),P(this,Ni,null,"f"),P(this,hn,null,"f"),P(this,st,[],"f"),P(this,gt,null,"f"),P(this,Ke,new Nx,"f")}enqueueActionGroup(e){if(f(this,Jt,"f")!==null){let i=Date.now()-f(this,Jt,"f");f(this,Ke,"f").back.push(i),5<f(this,Ke,"f").front.length+f(this,Ke,"f").back.length&&(f(this,Ke,"f").front.length||(f(this,Ke,"f").front=f(this,Ke,"f").back,f(this,Ke,"f").front.reverse(),f(this,Ke,"f").back=[]),f(this,Ke,"f").front.pop()),P(this,Ni,Math.max(...f(this,Ke,"f").getValues()),"f")}P(this,Jt,Date.now(),"f"),f(this,st,"f").push(e),f(this,gt,"f")===null&&P(this,gt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(P(this,gt,null,"f"),f(this,st,"f").length){let e=1e4;f(this,Ni,"f")!==null&&f(this,Jt,"f")!==null&&(e=f(this,Ni,"f")-Date.now()+f(this,Jt,"f")),e=f(this,st,"f").length<e/80?1:Math.ceil(f(this,st,"f").length/(e/80));let i=ck(f(this,st,"f").splice(0,e));f(this,hn,"f")&&f(this,hn,"f").call(this,i),f(this,st,"f")!==null&&(e==1?(e=f(this,Ni,"f")/f(this,st,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,P(this,gt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){f(this,gt,"f")!==null&&(clearTimeout(f(this,gt,"f")),P(this,gt,null,"f")),P(this,st,[],"f")}set callback(e){P(this,hn,e,"f")}get callback(){return f(this,hn,"f")}get action_queue(){return f(this,st,"f")}get estimated_update_interval(){return f(this,Ni,"f")}get last_update_time(){return f(this,Jt,"f")}get next_update_id(){return f(this,gt,"f")}get poll_response_delay_queue(){return f(this,Ke,"f")}};o(Rx,"SmoothedQueue");Jt=new WeakMap,Ni=new WeakMap,hn=new WeakMap,st=new WeakMap,gt=new WeakMap,Ke=new WeakMap;var Ax=Rx;var Pe,Ht,yf,Vx,xn,gf,vf,jg,Mx,YT,_n,Dx=class extends Fo{constructor(e){var i,n;super(),Pe.add(this),Ht.set(this,void 0),yf.set(this,void 0),Vx.set(this,void 0),xn.set(this,void 0),gf.set(this,void 0),vf.set(this,0),this.running=!1,this.is_replay=!1,P(this,yf,e.basic_info.id,"f"),P(this,Vx,e.basic_info.channel_id,"f"),P(this,Ht,e.actions,"f"),P(this,xn,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((n=e.livechat)===null||n===void 0?void 0:n.is_replay)||!1,this.smoothed_queue=new Ax,this.smoothed_queue.callback=r=>T(this,void 0,void 0,function*(){r.length?r.length<10?yield f(this,Pe,"m",Mx).call(this,r):this.is_replay?(f(this,Pe,"m",Mx).call(this,r),yield f(this,Pe,"m",_n).call(this,2e3)):f(this,Pe,"m",Mx).call(this,r):yield f(this,Pe,"m",_n).call(this,2e3),this.running&&f(this,Pe,"m",jg).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,f(this,Pe,"m",jg).call(this),f(this,Pe,"m",YT).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return T(this,void 0,void 0,function*(){let i=yield f(this,Ht,"f").execute("/live_chat/send_message",{params:bg(f(this,Vx,"f"),f(this,yf,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:W.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new b("Unexpected response from send_message",i);return i.actions.array().as(qh)})}applyFilter(e){var i,n,r,a,c,p,d;if(!this.initial_info)throw new b("Cannot apply filter before initial info is retrieved.");let _=(r=(n=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||n===void 0?void 0:n.view_selector)===null||r===void 0?void 0:r.sub_menu_items;if(e==="TOP_CHAT"){if(!((a=_==null?void 0:_.at(0))===null||a===void 0)&&a.selected)return;P(this,xn,(c=_==null?void 0:_.at(0))===null||c===void 0?void 0:c.continuation,"f")}else{if(!((p=_==null?void 0:_.at(1))===null||p===void 0)&&p.selected)return;P(this,xn,(d=_==null?void 0:_.at(1))===null||d===void 0?void 0:d.continuation,"f")}}getItemMenu(e){return T(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(x))throw new b("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(x).call(f(this,Ht,"f"),{parse:!0});if(!i)throw new b("Could not retrieve item menu.",e);return new Cx(i,f(this,Ht,"f"))})}selectButton(e){return T(this,void 0,void 0,function*(){return yield e.endpoint.call(f(this,Ht,"f"),{parse:!0})})}};o(Dx,"LiveChat");Ht=new WeakMap,yf=new WeakMap,Vx=new WeakMap,xn=new WeakMap,gf=new WeakMap,vf=new WeakMap,Pe=new WeakSet,jg=o(function t(){T(this,void 0,void 0,function*(){var e,i;try{let n=yield f(this,Ht,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:f(this,xn,"f"),parse:!0}),r=n.continuation_contents;if(r||(this.emit("error",new b("Unexpected live chat incremental continuation response",n)),this.emit("end"),this.stop()),!(r instanceof wi)){this.stop(),this.emit("end");return}P(this,xn,r.continuation.token,"f"),r.header?(this.initial_info=r,this.emit("start",r),this.running&&f(this,Pe,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(r.actions),P(this,vf,0,"f")}catch(n){this.emit("error",n),P(this,vf,(i=f(this,vf,"f"),e=i++,i),"f"),e<10?(yield f(this,Pe,"m",_n).call(this,2e3),f(this,Pe,"m",t).call(this)):(this.emit("error",new b("Reached retry limit for incremental continuation requests",n)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),Mx=o(function(e){return T(this,void 0,void 0,function*(){let n=e.length<125?1:Math.ceil(e.length/125),r=n==1?(n=1e4/e.length,n*=Math.random()+.5,n=Math.min(1e3,n),n=Math.max(80,n)):n=80;for(let a of e)yield f(this,Pe,"m",_n).call(this,r),this.emit("chat-update",a)})},"_LiveChat_emitSmoothedActions"),YT=o(function t(){T(this,void 0,void 0,function*(){var e,i,n,r,a,c,p,d,_,m,g;try{let y={videoId:f(this,yf,"f")};f(this,gf,"f")&&(y.continuation=f(this,gf,"f"));let w=yield f(this,Ht,"f").execute("/updated_metadata",y),k=l.parseResponse(w.data);P(this,gf,(e=k.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=k.actions)===null||i===void 0?void 0:i.array().firstOfType(t_))||((n=this.metadata)===null||n===void 0?void 0:n.title),description:((r=k.actions)===null||r===void 0?void 0:r.array().firstOfType(e_))||((a=this.metadata)===null||a===void 0?void 0:a.description),views:((c=k.actions)===null||c===void 0?void 0:c.array().firstOfType(n_))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((d=k.actions)===null||d===void 0?void 0:d.array().firstOfType(i_))||((_=this.metadata)===null||_===void 0?void 0:_.likes),date:((m=k.actions)===null||m===void 0?void 0:m.array().firstOfType(Zh))||((g=this.metadata)===null||g===void 0?void 0:g.date)},this.emit("metadata-update",this.metadata),yield f(this,Pe,"m",_n).call(this,5e3),this.running&&f(this,Pe,"m",t).call(this)}catch(y){yield f(this,Pe,"m",_n).call(this,2e3),this.running&&f(this,Pe,"m",t).call(this)}})},"_LiveChat_pollMetadata"),_n=o(function(e){return T(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var Lx=Dx;var Ri,bf,So=class{constructor(e,i){if(Ri.set(this,void 0),bf.set(this,void 0),P(this,bf,e,"f"),P(this,Ri,l.parseResponse(i.data),"f"),!f(this,Ri,"f").actions_memo)throw new b("Page actions not found");this.header=f(this,Ri,"f").actions_memo.getType(f_).first(),this.contents=f(this,Ri,"f").actions_memo.getType(E_)}getContinuation(){return T(this,void 0,void 0,function*(){var e;let i=(e=f(this,Ri,"f").actions_memo)===null||e===void 0?void 0:e.getType(ce).first();if(!i)throw new b("Continuation not found");let n=yield i.endpoint.call(f(this,bf,"f"),{parse:!1});return new So(f(this,bf,"f"),n)})}get page(){return f(this,Ri,"f")}};o(So,"NotificationsMenu");Ri=new WeakMap,bf=new WeakMap;var UT=So;var Gt=class extends Ce{constructor(e,i,n=!1){var r,a,c;super(e,i,n);let p=((r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(ve).first().contents)||((a=this.page.on_response_received_commands)===null||a===void 0?void 0:a.first().contents);if(!p)throw new b("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as($_)),this.results=X(p.filterType(et).flatMap(d=>d.contents)),this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType(q_).first(),this.watch_card=this.page.contents_memo.getType(rx).first()),this.refinement_cards=(c=this.results)===null||c===void 0?void 0:c.firstOfType(oi)}selectRefinementCard(e){return T(this,void 0,void 0,function*(){var i,n;let r;if(typeof e=="string"){if(!this.refinement_cards)throw new b("No refinement cards found.");if(r=(n=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||n===void 0?void 0:n.as(zi),!r)throw new b(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")r=e;else throw new b("Invalid refinement card!");let a=yield r.endpoint.call(this.actions,{parse:!0});return new Gt(this.actions,a,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(zi).map(i=>i.query))||[]}getContinuation(){return T(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new Gt(this.actions,e,!0)})}};o(Gt,"Search");var gn,wf,Co=class{constructor(e,i){var n,r,a,c;if(gn.set(this,void 0),wf.set(this,void 0),P(this,wf,e,"f"),P(this,gn,l.parseResponse(i.data),"f"),this.sidebar=(n=f(this,gn,"f").sidebar)===null||n===void 0?void 0:n.as(Q_),!f(this,gn,"f").contents)throw new b("Page contents not found");let p=f(this,gn,"f").contents.item().as(Ct).tabs.array().as(Re).get({selected:!0});if(!p)throw new b("Target tab not found");let d=(r=p.content)===null||r===void 0?void 0:r.as(ve).contents.as(et);this.introduction=(c=(a=d==null?void 0:d.shift())===null||a===void 0?void 0:a.contents)===null||c===void 0?void 0:c.firstOfType(N_),this.sections=d==null?void 0:d.map(_=>{var m;return{title:!((m=_.header)===null||m===void 0)&&m.is(di,$n,qn)?_.header.title.toString():null,contents:_.contents}})}selectSidebarItem(e){return T(this,void 0,void 0,function*(){if(!this.sidebar)throw new b("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new b(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(jn))i=e;else throw new b("Invalid item",{target_item:e});let n=yield i.endpoint.call(f(this,wf,"f"),{parse:!1});return new Co(f(this,wf,"f"),n)})}getSettingOption(e){var i;if(!this.sections)throw new b("Sections not available");for(let n of this.sections)if(!!n.contents)for(let r of n.contents){let a=r.as(ro).options;if(a){for(let c of a)if(c.is(oo)&&((i=c.title)===null||i===void 0?void 0:i.toString())===e)return c}}throw new b(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new b("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let n of i.contents)n.as(ro).options&&(e=e.concat(n.as(ro).options));return e.map(i=>{var n;return(n=i.title)===null||n===void 0?void 0:n.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new b("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return f(this,gn,"f")}};o(Co,"Settings");gn=new WeakMap,wf=new WeakMap;var jT=Co;var Eo,Bx=class{constructor(e){var i;if(Eo.set(this,void 0),P(this,Eo,l.parseResponse(e.data),"f"),!f(this,Eo,"f").contents)throw new b("Page contents not found");let n=f(this,Eo,"f").contents.item().as(ex).tabs.get({selected:!0});if(!n)throw new b("Could not find target tab.");this.contents=(i=n.content)===null||i===void 0?void 0:i.as(ve).contents.as(et)}get page(){return f(this,Eo,"f")}};o(Bx,"TimeWatched");Eo=new WeakMap;var WT=Bx;var Ai,Po=class extends vo{constructor(e,i,n){var r,a,c,p,d,_,m,g,y,w,k,S,E,V,M,U,q,se,ue,pe,z,F,A,$,ne,Te,Xe,nt,K;super(e,i,n),Ai.set(this,void 0);let[De,Ae]=this.page;if(this.streaming_data){let _e=this.streaming_data.adaptive_formats.find(Be=>{var Qe;return(Qe=Be.audio_track)===null||Qe===void 0?void 0:Qe.audio_is_default});if(_e)this.streaming_data.formats.forEach(Be=>Be.language=_e.language);else if(((r=this.captions)===null||r===void 0?void 0:r.caption_tracks)&&((a=this.captions)===null||a===void 0?void 0:a.caption_tracks.length)>0){let Be=this.captions.caption_tracks.find(me=>me.kind==="asr"),Qe=Be==null?void 0:Be.language_code;this.streaming_data.adaptive_formats.forEach(me=>{me.has_audio&&(me.language=Qe)}),this.streaming_data.formats.forEach(me=>me.language=Qe)}}let he=(c=Ae==null?void 0:Ae.contents)===null||c===void 0?void 0:c.item().as(ox),de=he==null?void 0:he.results,Le=he==null?void 0:he.secondary_results;if(de&&Le){if(((p=De.microformat)===null||p===void 0?void 0:p.is(it))&&((d=De.microformat)===null||d===void 0?void 0:d.category)==="Gaming"){let me=(g=(m=(_=de.firstOfType(zd))===null||_===void 0?void 0:_.metadata)===null||m===void 0?void 0:m.rows)===null||g===void 0?void 0:g.firstOfType(Op);me!=null&&me.is(Op)&&(this.game_info={title:(w=(y=me==null?void 0:me.contents)===null||y===void 0?void 0:y.firstOfType(Lp))===null||w===void 0?void 0:w.title,release_year:(S=(k=me==null?void 0:me.contents)===null||k===void 0?void 0:k.firstOfType(Lp))===null||S===void 0?void 0:S.subtitle})}this.primary_info=de.firstOfType(sx),this.secondary_info=de.firstOfType(zd),this.merchandise=de.firstOfType(m_),this.related_chip_cloud=(E=Le.firstOfType(G_))===null||E===void 0?void 0:E.content.as(Ln),he!=null&&he.playlist&&(this.playlist=he.playlist),this.watch_next_feed=((V=Le.firstOfType(et))===null||V===void 0?void 0:V.contents)||Le,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((M=this.watch_next_feed.at(-1))===null||M===void 0?void 0:M.is(ce))&&P(this,Ai,(U=this.watch_next_feed.pop())===null||U===void 0?void 0:U.as(ce),"f"),this.player_overlays=(q=Ae==null?void 0:Ae.player_overlays)===null||q===void 0?void 0:q.item().as(F_),he!=null&&he.autoplay&&(this.autoplay=he.autoplay);let _e=(ue=(se=this.primary_info)===null||se===void 0?void 0:se.menu)===null||ue===void 0?void 0:ue.top_level_buttons.firstOfType(nn);((pe=_e==null?void 0:_e.like_button)===null||pe===void 0?void 0:pe.is(ge))&&((z=_e==null?void 0:_e.dislike_button)===null||z===void 0?void 0:z.is(ge))&&(this.basic_info.like_count=(F=_e==null?void 0:_e.like_button)===null||F===void 0?void 0:F.like_count,this.basic_info.is_liked=(A=_e==null?void 0:_e.like_button)===null||A===void 0?void 0:A.is_toggled,this.basic_info.is_disliked=($=_e==null?void 0:_e.dislike_button)===null||$===void 0?void 0:$.is_toggled);let Be=(Te=(ne=this.primary_info)===null||ne===void 0?void 0:ne.menu)===null||Te===void 0?void 0:Te.top_level_buttons.firstOfType(on);if(Be&&(this.basic_info.like_count=Be.like_count,Be.like_button)){let me=Be.like_button.like_status_entity.like_status;this.basic_info.is_liked=me==="LIKE",this.basic_info.is_disliked=me==="DISLIKE"}let Qe=(Xe=de.get({target_id:"comments-entry-point"}))===null||Xe===void 0?void 0:Xe.as(et);this.comments_entry_point_header=(nt=Qe==null?void 0:Qe.contents)===null||nt===void 0?void 0:nt.firstOfType(ph),this.livechat=(K=Ae==null?void 0:Ae.contents_memo)===null||K===void 0?void 0:K.getType(zh).first()}}selectFilter(e){return T(this,void 0,void 0,function*(){var i,n,r,a;if(!this.related_chip_cloud)throw new b("Chip cloud not found, cannot apply filter");let c;if(typeof e=="string"){let _=(n=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||n===void 0?void 0:n.get({text:e});if(!_)throw new b("Invalid filter",{available_filters:this.filters});c=_}else if(e!=null&&e.is(Ye))c=e;else throw new b("Invalid cloud chip",e);if(c.is_selected)return this;let p=yield(r=c.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0}),d=(a=p==null?void 0:p.on_response_received_endpoints)===null||a===void 0?void 0:a.get({target_id:"watch-next-feed"});return this.watch_next_feed=d==null?void 0:d.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return T(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){return T(this,void 0,void 0,function*(){var e,i,n,r,a;if(!f(this,Ai,"f"))throw new b("Watch next feed continuation not found");let c=yield(e=f(this,Ai,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=c==null?void 0:c.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"AppendContinuationItemsAction"});if(!p)throw new b("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((r=(n=this.watch_next_feed)===null||n===void 0?void 0:n.at(-1))===null||r===void 0)&&r.is(ce)?P(this,Ai,(a=this.watch_next_feed.pop())===null||a===void 0?void 0:a.as(ce),"f"):P(this,Ai,void 0,"f"),this})}like(){return T(this,void 0,void 0,function*(){var e,i,n,r,a;let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(on);if(c){let m=(n=c==null?void 0:c.like_button)===null||n===void 0?void 0:n.toggle_button;if(!m||!m.default_button||!c.like_button)throw new b("Like button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="LIKE")throw new b("This video is already liked",{video_id:this.basic_info.id});return yield new x(m.default_button.on_tap.payload.commands.find(k=>k.innertubeCommand)).call(this.actions)}let p=(a=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType(nn),d=p==null?void 0:p.like_button;if(!d)throw new b("Like button not found",{video_id:this.basic_info.id});if(!d.is(ge))throw new b("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new b("This video is already liked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}dislike(){return T(this,void 0,void 0,function*(){var e,i,n,r,a;let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(on);if(c){let m=(n=c==null?void 0:c.dislike_button)===null||n===void 0?void 0:n.toggle_button;if(!m||!m.default_button||!c.dislike_button||!c.like_button)throw new b("Dislike button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="DISLIKE")throw new b("This video is already disliked",{video_id:this.basic_info.id});return yield new x(m.default_button.on_tap.payload.commands.find(k=>k.innertubeCommand)).call(this.actions)}let p=(a=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType(nn),d=p==null?void 0:p.dislike_button;if(!d)throw new b("Dislike button not found",{video_id:this.basic_info.id});if(!d.is(ge))throw new b("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new b("This video is already disliked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}removeRating(){return T(this,void 0,void 0,function*(){var e,i,n,r,a,c,p;let d,_=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(on);if(_){let k=(n=_==null?void 0:_.like_button)===null||n===void 0?void 0:n.toggle_button;if(!k||!k.default_button||!_.like_button)throw new b("Like button not found",{video_id:this.basic_info.id});let S=_.like_button.like_status_entity.like_status;if(S==="LIKE")d=(r=_==null?void 0:_.like_button)===null||r===void 0?void 0:r.toggle_button;else if(S==="DISLIKE")d=(a=_==null?void 0:_.dislike_button)===null||a===void 0?void 0:a.toggle_button;else throw new b("This video is not liked/disliked",{video_id:this.basic_info.id});if(!d||!d.toggled_button)throw new b("Like/Dislike button not found",{video_id:this.basic_info.id});return yield new x(d.toggled_button.on_tap.payload.commands.find(M=>M.innertubeCommand)).call(this.actions)}let m=(p=(c=this.primary_info)===null||c===void 0?void 0:c.menu)===null||p===void 0?void 0:p.top_level_buttons.firstOfType(nn),g=m==null?void 0:m.like_button,y=m==null?void 0:m.dislike_button;if(!(g!=null&&g.is(ge))||!(y!=null&&y.is(ge)))throw new b("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(g!=null&&g.is_toggled?d=g:y!=null&&y.is_toggled&&(d=y),!d)throw new b("This video is not liked/disliked",{video_id:this.basic_info.id});return yield d.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new b("Live Chat is not available",{video_id:this.basic_info.id});return new Lx(this)}getTrailerInfo(){var e,i;if(this.has_trailer&&this.playability_status){let n=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(np).trailer)===null||i===void 0?void 0:i.player_response;if(n)return new Po([{data:n}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(n=>{var r;return(r=n.text)===null||r===void 0?void 0:r.toString()}))||[]}get wn_has_continuation(){return!!f(this,Ai,"f")}get autoplay_video_endpoint(){var e,i,n;return((n=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.autoplay_video)||null}get has_trailer(){var e,i;return!!(!((i=(e=this.playability_status)===null||e===void 0?void 0:e.error_screen)===null||i===void 0)&&i.is(np))}get music_tracks(){var e,i,n,r,a,c;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(d=>{var _;return(_=d.content)===null||_===void 0?void 0:_.is($i)});if(p!==void 0&&p.length>0){let d=(a=(r=(n=p[0].content)===null||n===void 0?void 0:n.as($i))===null||r===void 0?void 0:r.items)===null||a===void 0?void 0:a.filterType(Vn);if(d!==void 0&&d.length>0)return(c=d[0].carousel_lockups)===null||c===void 0?void 0:c.map(_=>{var m,g,y,w,k,S,E,V,M,U,q,se,ue,pe,z,F,A,$,ne;let Te,Xe,nt,K,De,Ae;Te=(g=(m=_.video_lockup)===null||m===void 0?void 0:m.title)===null||g===void 0?void 0:g.toString(),De=(y=_.video_lockup)===null||y===void 0?void 0:y.endpoint.payload.videoId;for(let he=0;he<_.info_rows.length;he++){let de=_.info_rows[he];if(de.info_row_expand_status_key===void 0)if(Te===void 0){if(Te=((w=de.default_metadata)===null||w===void 0?void 0:w.toString())||((k=de.expanded_metadata)===null||k===void 0?void 0:k.toString()),De===void 0){let Le=((S=de.default_metadata)===null||S===void 0?void 0:S.endpoint)||((E=de.expanded_metadata)===null||E===void 0?void 0:E.endpoint);De=(V=Le==null?void 0:Le.payload)===null||V===void 0?void 0:V.videoId}}else nt=((M=de.default_metadata)===null||M===void 0?void 0:M.toString())||((U=de.expanded_metadata)===null||U===void 0?void 0:U.toString());else{if(((q=de.info_row_expand_status_key)===null||q===void 0?void 0:q.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(Xe=((se=de.default_metadata)===null||se===void 0?void 0:se.toString())||((ue=de.expanded_metadata)===null||ue===void 0?void 0:ue.toString()),Ae===void 0)){let Le=((pe=de.default_metadata)===null||pe===void 0?void 0:pe.endpoint)||((z=de.expanded_metadata)===null||z===void 0?void 0:z.endpoint);Ae=(F=Le==null?void 0:Le.payload)===null||F===void 0?void 0:F.browseId}((A=de.info_row_expand_status_key)===null||A===void 0?void 0:A.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(K=(($=de.default_metadata)===null||$===void 0?void 0:$.toString())||((ne=de.expanded_metadata)===null||ne===void 0?void 0:ne.toString()))}}return{song:Te,artist:Xe,album:nt,license:K,videoId:De,channelId:Ae}})}return[]}};o(Po,"VideoInfo");Ai=new WeakMap;var Tf=Po;var No,If,Ro=class{constructor(e,i){if(No.set(this,void 0),If.set(this,void 0),P(this,No,l.parseResponse(i.data),"f"),P(this,If,e,"f"),!f(this,No,"f").actions_memo)throw new Error("Page actions not found");this.transcript=f(this,No,"f").actions_memo.getType(kn).first()}selectLanguage(e){return T(this,void 0,void 0,function*(){var i,n,r,a;let c=(a=(r=(n=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||n===void 0?void 0:n.language_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||a===void 0?void 0:a.find(d=>d.title.toString()===e);if(!c)throw new Error(`Language not found: ${e}`);if(c.selected)return this;let p=yield f(this,If,"f").execute("/get_transcript",{params:c.continuation});return new Ro(f(this,If,"f"),p)})}get languages(){var e,i,n,r;return((r=(n=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||n===void 0?void 0:n.sub_menu_items)===null||r===void 0?void 0:r.map(a=>a.title.toString()))||[]}get selectedLanguage(){var e,i,n,r,a;return((a=(r=(n=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||n===void 0?void 0:n.sub_menu_items)===null||r===void 0?void 0:r.find(c=>c.selected))===null||a===void 0?void 0:a.title.toString())||""}get page(){return f(this,No,"f")}};o(Ro,"TranscriptInfo");No=new WeakMap,If=new WeakMap;var wx=Ro;var D=class{constructor(e,i,n,r){var a,c,p,d,_,m,g,y,w,k,S,E,V,M,U,q,se,ue,pe,z,F,A,$,ne,Te,Xe,nt;let K=new u(e);this.id=r||((d=(p=(c=(a=K==null?void 0:K.runs)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId)||((m=(_=K==null?void 0:K.endpoint)===null||_===void 0?void 0:_.payload)===null||m===void 0?void 0:m.browseId)||"N/A",this.name=(K==null?void 0:K.text)||"N/A",this.thumbnails=n?v.fromResponse(n):[],this.endpoint=((y=(g=K==null?void 0:K.runs)===null||g===void 0?void 0:g[0])===null||y===void 0?void 0:y.endpoint)||(K==null?void 0:K.endpoint),i?Array.isArray(i)?(this.badges=l.parseArray(i),this.is_moderator=(w=this.badges)===null||w===void 0?void 0:w.some(De=>De.icon_type=="MODERATOR"),this.is_verified=(k=this.badges)===null||k===void 0?void 0:k.some(De=>De.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(S=this.badges)===null||S===void 0?void 0:S.some(De=>De.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=X([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=X([]),this.url=((U=(M=(V=(E=K==null?void 0:K.runs)===null||E===void 0?void 0:E[0])===null||V===void 0?void 0:V.endpoint)===null||M===void 0?void 0:M.metadata)===null||U===void 0?void 0:U.api_url)==="/browse"&&`${Ze.YT_BASE}${((pe=(ue=(se=(q=K==null?void 0:K.runs)===null||q===void 0?void 0:q[0])===null||se===void 0?void 0:se.endpoint)===null||ue===void 0?void 0:ue.payload)===null||pe===void 0?void 0:pe.canonicalBaseUrl)||`/u/${($=(A=(F=(z=K==null?void 0:K.runs)===null||z===void 0?void 0:z[0])===null||F===void 0?void 0:F.endpoint)===null||A===void 0?void 0:A.payload)===null||$===void 0?void 0:$.browseId}`}`||`${Ze.YT_BASE}${((Te=(ne=K==null?void 0:K.endpoint)===null||ne===void 0?void 0:ne.payload)===null||Te===void 0?void 0:Te.canonicalBaseUrl)||`/u/${(nt=(Xe=K==null?void 0:K.endpoint)===null||Xe===void 0?void 0:Xe.payload)===null||nt===void 0?void 0:nt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};o(D,"Author");var pk=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],$T=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],dk="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",qT="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Hg={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Gg="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",fk={5:Gg,"5module":Gg+" export import",6:Gg+" const class extends export import super"},mk=/^in(stanceof)?$/,hk=new RegExp("["+qT+"]"),_k=new RegExp("["+qT+dk+"]");function Kg(t,e){for(var i=65536,n=0;n<e.length;n+=2){if(i+=e[n],i>t)return!1;if(i+=e[n+1],i>=t)return!0}return!1}o(Kg,"isInAstralSet");function zt(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&hk.test(String.fromCharCode(t)):e===!1?!1:Kg(t,$T)}o(zt,"isIdentifierStart");function Ao(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&_k.test(String.fromCharCode(t)):e===!1?!1:Kg(t,$T)||Kg(t,pk)}o(Ao,"isIdentifierChar");var ae=o(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function at(t,e){return new ae(t,{beforeExpr:!0,binop:e})}o(at,"binop");var ut={beforeExpr:!0},$e={startsExpr:!0},Qg={};function ie(t,e){return e===void 0&&(e={}),e.keyword=t,Qg[t]=new ae(t,e)}o(ie,"kw");var h={num:new ae("num",$e),regexp:new ae("regexp",$e),string:new ae("string",$e),name:new ae("name",$e),privateId:new ae("privateId",$e),eof:new ae("eof"),bracketL:new ae("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ae("]"),braceL:new ae("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ae("}"),parenL:new ae("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ae(")"),comma:new ae(",",ut),semi:new ae(";",ut),colon:new ae(":",ut),dot:new ae("."),question:new ae("?",ut),questionDot:new ae("?."),arrow:new ae("=>",ut),template:new ae("template"),invalidTemplate:new ae("invalidTemplate"),ellipsis:new ae("...",ut),backQuote:new ae("`",$e),dollarBraceL:new ae("${",{beforeExpr:!0,startsExpr:!0}),eq:new ae("=",{beforeExpr:!0,isAssign:!0}),assign:new ae("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ae("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ae("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:at("||",1),logicalAND:at("&&",2),bitwiseOR:at("|",3),bitwiseXOR:at("^",4),bitwiseAND:at("&",5),equality:at("==/!=/===/!==",6),relational:at("</>/<=/>=",7),bitShift:at("<</>>/>>>",8),plusMin:new ae("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:at("%",10),star:at("*",10),slash:at("/",10),starstar:new ae("**",{beforeExpr:!0}),coalesce:at("??",1),_break:ie("break"),_case:ie("case",ut),_catch:ie("catch"),_continue:ie("continue"),_debugger:ie("debugger"),_default:ie("default",ut),_do:ie("do",{isLoop:!0,beforeExpr:!0}),_else:ie("else",ut),_finally:ie("finally"),_for:ie("for",{isLoop:!0}),_function:ie("function",$e),_if:ie("if"),_return:ie("return",ut),_switch:ie("switch"),_throw:ie("throw",ut),_try:ie("try"),_var:ie("var"),_const:ie("const"),_while:ie("while",{isLoop:!0}),_with:ie("with"),_new:ie("new",{beforeExpr:!0,startsExpr:!0}),_this:ie("this",$e),_super:ie("super",$e),_class:ie("class",$e),_extends:ie("extends",ut),_export:ie("export"),_import:ie("import",$e),_null:ie("null",$e),_true:ie("true",$e),_false:ie("false",$e),_in:ie("in",{beforeExpr:!0,binop:7}),_instanceof:ie("instanceof",{beforeExpr:!0,binop:7}),_typeof:ie("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:ie("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:ie("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},pt=/\r\n?|\n|\u2028|\u2029/,xk=new RegExp(pt.source,"g");function Vo(t){return t===10||t===13||t===8232||t===8233}o(Vo,"isNewLine");function XT(t,e,i){i===void 0&&(i=t.length);for(var n=e;n<i;n++){var r=t.charCodeAt(n);if(Vo(r))return n<i-1&&r===13&&t.charCodeAt(n+1)===10?n+2:n+1}return-1}o(XT,"nextLineBreak");var QT=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,lt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ZT=Object.prototype,gk=ZT.hasOwnProperty,vk=ZT.toString,Ef=Object.hasOwn||function(t,e){return gk.call(t,e)},JT=Array.isArray||function(t){return vk.call(t)==="[object Array]"},HT=Object.create(null);function Vi(t){return HT[t]||(HT[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}o(Vi,"wordsRegexp");function Mi(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}o(Mi,"codePointToString");var yk=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Sf=o(function(e,i){this.line=e,this.column=i},"Position");Sf.prototype.offset=o(function(e){return new Sf(this.line,this.column+e)},"offset");var Wx=o(function(e,i,n){this.start=i,this.end=n,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function e1(t,e){for(var i=1,n=0;;){var r=XT(t,n,e);if(r<0)return new Sf(i,e-n);++i,n=r}}o(e1,"getLineInfo");var $g={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},GT=!1;function bk(t){var e={};for(var i in $g)e[i]=t&&Ef(t,i)?t[i]:$g[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!GT&&typeof console=="object"&&console.warn&&(GT=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),JT(e.onToken)){var n=e.onToken;e.onToken=function(r){return n.push(r)}}return JT(e.onComment)&&(e.onComment=wk(e,e.onComment)),e}o(bk,"getOptions");function wk(t,e){return function(i,n,r,a,c,p){var d={type:i?"Block":"Line",value:n,start:r,end:a};t.locations&&(d.loc=new Wx(this,c,p)),t.ranges&&(d.range=[r,a]),e.push(d)}}o(wk,"pushComment");var Cf=1,Mo=2,Zg=4,t1=8,i1=16,n1=32,e0=64,o1=128,Pf=256,t0=Cf|Mo|Pf;function i0(t,e){return Mo|(t?Zg:0)|(e?t1:0)}o(i0,"functionFlags");var Fx=0,n0=1,$t=2,r1=3,s1=4,a1=5,we=o(function(e,i,n){this.options=e=bk(e),this.sourceFile=e.sourceFile,this.keywords=Vi(fk[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var r="";e.allowReserved!==!0&&(r=Hg[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(r+=" await")),this.reservedWords=Vi(r);var a=(r?r+" ":"")+Hg.strict;this.reservedWordsStrict=Vi(a),this.reservedWordsStrictBind=Vi(a+" "+Hg.strictBind),this.input=String(i),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(pt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Cf),this.regexpState=null,this.privateNameStack=[]},"Parser"),Mt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};we.prototype.parse=o(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");Mt.inFunction.get=function(){return(this.currentVarScope().flags&Mo)>0};Mt.inGenerator.get=function(){return(this.currentVarScope().flags&t1)>0&&!this.currentVarScope().inClassFieldInit};Mt.inAsync.get=function(){return(this.currentVarScope().flags&Zg)>0&&!this.currentVarScope().inClassFieldInit};Mt.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Pf)return!1;if(e.flags&Mo)return(e.flags&Zg)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Mt.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&e0)>0||i||this.options.allowSuperOutsideMethod};Mt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&o1)>0};Mt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Mt.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Mo|Pf))>0||i};Mt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Pf)>0};we.extend=o(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},"extend");we.parse=o(function(e,i){return new this(i,e).parse()},"parse");we.parseExpressionAt=o(function(e,i,n){var r=new this(n,e,i);return r.nextToken(),r.parseExpression()},"parseExpressionAt");we.tokenizer=o(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(we.prototype,Mt);var Je=we.prototype,Tk=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Je.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){lt.lastIndex=t,t+=lt.exec(this.input)[0].length;var e=Tk.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){lt.lastIndex=t+e[0].length;var i=lt.exec(this.input),n=i.index+i[0].length,r=this.input.charAt(n);return r===";"||r==="}"||pt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(n+1)==="=")}t+=e[0].length,lt.lastIndex=t,t+=lt.exec(this.input)[0].length,this.input[t]===";"&&t++}};Je.eat=function(t){return this.type===t?(this.next(),!0):!1};Je.isContextual=function(t){return this.type===h.name&&this.value===t&&!this.containsEsc};Je.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Je.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Je.canInsertSemicolon=function(){return this.type===h.eof||this.type===h.braceR||pt.test(this.input.slice(this.lastTokEnd,this.start))};Je.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Je.semicolon=function(){!this.eat(h.semi)&&!this.insertSemicolon()&&this.unexpected()};Je.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Je.expect=function(t){this.eat(t)||this.unexpected()};Je.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Jx=o(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Je.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};Je.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,n=t.doubleProto;if(!e)return i>=0||n>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")};Je.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Je.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var B=we.prototype;B.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==h.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var n=0,r=Object.keys(this.undefinedExports);n<r.length;n+=1){var a=r[n];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var o0={kind:"loop"},Ik={kind:"switch"};B.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;lt.lastIndex=this.pos;var e=lt.exec(this.input),i=this.pos+e[0].length,n=this.input.charCodeAt(i);if(n===91||n===92)return!0;if(t)return!1;if(n===123||n>55295&&n<56320)return!0;if(zt(n,!0)){for(var r=i+1;Ao(n=this.input.charCodeAt(r),!0);)++r;if(n===92||n>55295&&n<56320)return!0;var a=this.input.slice(i,r);if(!mk.test(a))return!0}return!1};B.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;lt.lastIndex=this.pos;var t=lt.exec(this.input),e=this.pos+t[0].length,i;return!pt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Ao(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};B.parseStatement=function(t,e,i){var n=this.type,r=this.startNode(),a;switch(this.isLet(t)&&(n=h._var,a="let"),n){case h._break:case h._continue:return this.parseBreakContinueStatement(r,n.keyword);case h._debugger:return this.parseDebuggerStatement(r);case h._do:return this.parseDoStatement(r);case h._for:return this.parseForStatement(r);case h._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case h._class:return t&&this.unexpected(),this.parseClass(r,!0);case h._if:return this.parseIfStatement(r);case h._return:return this.parseReturnStatement(r);case h._switch:return this.parseSwitchStatement(r);case h._throw:return this.parseThrowStatement(r);case h._try:return this.parseTryStatement(r);case h._const:case h._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(r,a);case h._while:return this.parseWhileStatement(r);case h._with:return this.parseWithStatement(r);case h.braceL:return this.parseBlock(!0,r);case h.semi:return this.parseEmptyStatement(r);case h._export:case h._import:if(this.options.ecmaVersion>10&&n===h._import){lt.lastIndex=this.pos;var c=lt.exec(this.input),p=this.pos+c[0].length,d=this.input.charCodeAt(p);if(d===40||d===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===h._import?this.parseImport(r):this.parseExport(r,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var _=this.value,m=this.parseExpression();return n===h.name&&m.type==="Identifier"&&this.eat(h.colon)?this.parseLabeledStatement(r,_,m,t):this.parseExpressionStatement(r,m)}};B.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(h.semi)||this.insertSemicolon()?t.label=null:this.type!==h.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var r=this.labels[n];if((t.label==null||r.name===t.label.name)&&(r.kind!=null&&(i||r.kind==="loop")||t.label&&i))break}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};B.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};B.parseDoStatement=function(t){return this.next(),this.labels.push(o0),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(h._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(h.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};B.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(o0),this.enterScope(0),this.expect(h.parenL),this.type===h.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===h._var||this.type===h._const||i){var n=this.startNode(),r=i?"let":this.value;return this.next(),this.parseVar(n,!0,r),this.finishNode(n,"VariableDeclaration"),(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&n.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,n)):(e>-1&&this.unexpected(e),this.parseFor(t,n))}var a=this.isContextual("let"),c=!1,p=this.containsEsc,d=new Jx,_=this.start,m=e>-1?this.parseExprSubscripts(d,"await"):this.parseExpression(!0,d);return this.type===h._in||(c=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===h._in&&this.unexpected(e),t.await=!0):c&&this.options.ecmaVersion>=8&&(m.start===_&&!p&&m.type==="Identifier"&&m.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),a&&c&&this.raise(m.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(m,!1,d),this.checkLValPattern(m),this.parseForIn(t,m)):(this.checkExpressionErrors(d,!0),e>-1&&this.unexpected(e),this.parseFor(t,m))};B.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,kf|(i?0:qg),!1,e)};B.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(h._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};B.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(h.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};B.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(h.braceL),this.labels.push(Ik),this.enterScope(0);for(var e,i=!1;this.type!==h.braceR;)if(this.type===h._case||this.type===h._default){var n=this.type===h._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),n?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(h.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};B.parseThrowStatement=function(t){return this.next(),pt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var kk=[];B.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?n1:0),this.checkLValPattern(t,e?s1:$t),this.expect(h.parenR),t};B.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===h._catch){var e=this.startNode();this.next(),this.eat(h.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(h._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};B.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};B.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(o0),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};B.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};B.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};B.parseLabeledStatement=function(t,e,i,n){for(var r=0,a=this.labels;r<a.length;r+=1){var c=a[r];c.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===h._switch?"switch":null,d=this.labels.length-1;d>=0;d--){var _=this.labels[d];if(_.statementStart===t.start)_.statementStart=this.start,_.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(n?n.indexOf("label")===-1?n+"label":n:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};B.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};B.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(h.braceL),t&&this.enterScope(0);this.type!==h.braceR;){var n=this.parseStatement(null);e.body.push(n)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};B.parseFor=function(t,e){return t.init=e,this.expect(h.semi),t.test=this.type===h.semi?null:this.parseExpression(),this.expect(h.semi),t.update=this.type===h.parenR?null:this.parseExpression(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};B.parseForIn=function(t,e){var i=this.type===h._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};B.parseVar=function(t,e,i,n){for(t.declarations=[],t.kind=i;;){var r=this.startNode();if(this.parseVarId(r,i),this.eat(h.eq)?r.init=this.parseMaybeAssign(e):!n&&i==="const"&&!(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!n&&r.id.type!=="Identifier"&&!(e&&(this.type===h._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(h.comma))break}return t};B.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?n0:$t,!1)};var kf=1,qg=2,u1=4;B.parseFunction=function(t,e,i,n,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===h.star&&e&qg&&this.unexpected(),t.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(t.async=!!n),e&kf&&(t.id=e&u1&&this.type!==h.name?null:this.parseIdent(),t.id&&!(e&qg)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?n0:$t:r1));var a=this.yieldPos,c=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(i0(t.async,t.generator)),e&kf||(t.id=this.type===h.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,r),this.yieldPos=a,this.awaitPos=c,this.awaitIdentPos=p,this.finishNode(t,e&kf?"FunctionDeclaration":"FunctionExpression")};B.parseFunctionParams=function(t){this.expect(h.parenL),t.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};B.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var n=this.enterClassBody(),r=this.startNode(),a=!1;for(r.body=[],this.expect(h.braceL);this.type!==h.braceR;){var c=this.parseClassElement(t.superClass!==null);c&&(r.body.push(c),c.type==="MethodDefinition"&&c.kind==="constructor"?(a&&this.raiseRecoverable(c.start,"Duplicate constructor in the same class"),a=!0):c.key&&c.key.type==="PrivateIdentifier"&&Sk(n,c)&&this.raiseRecoverable(c.key.start,"Identifier '#"+c.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};B.parseClassElement=function(t){if(this.eat(h.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),n="",r=!1,a=!1,c="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===h.star?p=!0:n="static"}if(i.static=p,!n&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===h.star)&&!this.canInsertSemicolon()?a=!0:n="async"),!n&&(e>=9||!a)&&this.eat(h.star)&&(r=!0),!n&&!a&&!r){var d=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=d:n=d)}if(n?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=n,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===h.parenL||c!=="method"||r||a){var _=!i.static&&Yx(i,"constructor"),m=_&&t;_&&c!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=_?"constructor":c,this.parseClassMethod(i,r,a,m)}else this.parseClassField(i);return i};B.isClassElementNameStart=function(){return this.type===h.name||this.type===h.privateId||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword};B.parseClassElementName=function(t){this.type===h.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};B.parseClassMethod=function(t,e,i,n){var r=t.key;t.kind==="constructor"?(e&&this.raise(r.start,"Constructor can't be a generator"),i&&this.raise(r.start,"Constructor can't be an async method")):t.static&&Yx(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,i,n);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};B.parseClassField=function(t){if(Yx(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Yx(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(h.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};B.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Pf|e0);this.type!==h.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};B.parseClassId=function(t,e){this.type===h.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,$t,!1)):(e===!0&&this.unexpected(),t.id=null)};B.parseClassSuper=function(t){t.superClass=this.eat(h._extends)?this.parseExprSubscripts(null,!1):null};B.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};B.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var n=this.privateNameStack.length,r=n===0?null:this.privateNameStack[n-1],a=0;a<i.length;++a){var c=i[a];Ef(e,c.name)||(r?r.used.push(c):this.raiseRecoverable(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"))}};function Sk(t,e){var i=e.key.name,n=t[i],r="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(r=(e.static?"s":"i")+e.kind),n==="iget"&&r==="iset"||n==="iset"&&r==="iget"||n==="sget"&&r==="sset"||n==="sset"&&r==="sget"?(t[i]="true",!1):n?!0:(t[i]=r,!1)}o(Sk,"isPrivateNameConflicted");function Yx(t,e){var i=t.computed,n=t.key;return!i&&(n.type==="Identifier"&&n.name===e||n.type==="Literal"&&n.value===e)}o(Yx,"checkKeyName");B.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};B.parseExport=function(t,e){if(this.next(),this.eat(h.star))return this.parseExportAllDeclaration(t,e);if(this.eat(h._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,n=t.specifiers;i<n.length;i+=1){var r=n[i];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};B.parseExportDeclaration=function(t){return this.parseStatement(null)};B.parseExportDefaultDeclaration=function(){var t;if(this.type===h._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,kf|u1,!1,t)}else if(this.type===h._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var n=this.parseMaybeAssign();return this.semicolon(),n}};B.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Ef(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};B.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var n=0,r=e.properties;n<r.length;n+=1){var a=r[n];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var c=0,p=e.elements;c<p.length;c+=1){var d=p[c];d&&this.checkPatternExport(t,d)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};B.checkVariableExport=function(t,e){if(!!t)for(var i=0,n=e;i<n.length;i+=1){var r=n[i];this.checkPatternExport(t,r.id)}};B.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};B.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};B.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(i)i=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;e.push(this.parseExportSpecifier(t))}return e};B.parseImport=function(t){return this.next(),this.type===h.string?(t.specifiers=kk,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===h.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};B.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,$t),this.finishNode(t,"ImportSpecifier")};B.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,$t),this.finishNode(t,"ImportDefaultSpecifier")};B.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,$t),this.finishNode(t,"ImportNamespaceSpecifier")};B.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===h.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(h.comma)))return t;if(this.type===h.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(h.braceL);!this.eat(h.braceR);){if(e)e=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;t.push(this.parseImportSpecifier())}return t};B.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===h.string){var t=this.parseLiteral(this.value);return yk.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};B.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};B.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var dt=we.prototype;dt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var n=0,r=t.properties;n<r.length;n+=1){var a=r[n];this.toAssignable(a,e),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};dt.toAssignableList=function(t,e){for(var i=t.length,n=0;n<i;n++){var r=t[n];r&&this.toAssignable(r,e)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&e&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};dt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};dt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==h.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};dt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case h.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(h.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case h.braceL:return this.parseObj(!0)}return this.parseIdent()};dt.parseBindingList=function(t,e,i,n){for(var r=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(h.comma),e&&this.type===h.comma)r.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===h.ellipsis){var c=this.parseRestBinding();this.parseBindingListItem(c),r.push(c),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else r.push(this.parseAssignableListItem(n))}return r};dt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};dt.parseBindingListItem=function(t){return t};dt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(h.eq))return i;var n=this.startNodeAt(t,e);return n.left=i,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")};dt.checkLValSimple=function(t,e,i){e===void 0&&(e=Fx);var n=e!==Fx;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(n?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(e===$t&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Ef(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==a1&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(n?"Binding":"Assigning to")+" rvalue")}};dt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=Fx),t.type){case"ObjectPattern":for(var n=0,r=t.properties;n<r.length;n+=1){var a=r[n];this.checkLValInnerPattern(a,e,i)}break;case"ArrayPattern":for(var c=0,p=t.elements;c<p.length;c+=1){var d=p[c];d&&this.checkLValInnerPattern(d,e,i)}break;default:this.checkLValSimple(t,e,i)}};dt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=Fx),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var vt=o(function(e,i,n,r,a){this.token=e,this.isExpr=!!i,this.preserveSpace=!!n,this.override=r,this.generator=!!a},"TokContext"),fe={b_stat:new vt("{",!1),b_expr:new vt("{",!0),b_tmpl:new vt("${",!1),p_stat:new vt("(",!1),p_expr:new vt("(",!0),q_tmpl:new vt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new vt("function",!1),f_expr:new vt("function",!0),f_expr_gen:new vt("function",!0,!1,null,!0),f_gen:new vt("function",!1,!1,null,!0)},Do=we.prototype;Do.initialContext=function(){return[fe.b_stat]};Do.curContext=function(){return this.context[this.context.length-1]};Do.braceIsBlock=function(t){var e=this.curContext();return e===fe.f_expr||e===fe.f_stat?!0:t===h.colon&&(e===fe.b_stat||e===fe.b_expr)?!e.isExpr:t===h._return||t===h.name&&this.exprAllowed?pt.test(this.input.slice(this.lastTokEnd,this.start)):t===h._else||t===h.semi||t===h.eof||t===h.parenR||t===h.arrow?!0:t===h.braceL?e===fe.b_stat:t===h._var||t===h._const||t===h.name?!1:!this.exprAllowed};Do.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Do.updateContext=function(t){var e,i=this.type;i.keyword&&t===h.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Do.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};h.parenR.updateContext=h.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===fe.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};h.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?fe.b_stat:fe.b_expr),this.exprAllowed=!0};h.dollarBraceL.updateContext=function(){this.context.push(fe.b_tmpl),this.exprAllowed=!0};h.parenL.updateContext=function(t){var e=t===h._if||t===h._for||t===h._with||t===h._while;this.context.push(e?fe.p_stat:fe.p_expr),this.exprAllowed=!0};h.incDec.updateContext=function(){};h._function.updateContext=h._class.updateContext=function(t){t.beforeExpr&&t!==h._else&&!(t===h.semi&&this.curContext()!==fe.p_stat)&&!(t===h._return&&pt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===h.colon||t===h.braceL)&&this.curContext()===fe.b_stat)?this.context.push(fe.f_expr):this.context.push(fe.f_stat),this.exprAllowed=!1};h.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};h.backQuote.updateContext=function(){this.curContext()===fe.q_tmpl?this.context.pop():this.context.push(fe.q_tmpl),this.exprAllowed=!1};h.star.updateContext=function(t){if(t===h._function){var e=this.context.length-1;this.context[e]===fe.f_expr?this.context[e]=fe.f_expr_gen:this.context[e]=fe.f_gen}this.exprAllowed=!0};h.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==h.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var G=we.prototype;G.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var n=t.key,r;switch(n.type){case"Identifier":r=n.name;break;case"Literal":r=String(n.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&a==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),e.proto=!0);return}r="$"+r;var c=e[r];if(c){var p;a==="init"?p=this.strict&&c.init||c.get||c.set:p=c.init||c[a],p&&this.raiseRecoverable(n.start,"Redefinition of property")}else c=e[r]={init:!1,get:!1,set:!1};c[a]=!0}};G.parseExpression=function(t,e){var i=this.start,n=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===h.comma){var a=this.startNodeAt(i,n);for(a.expressions=[r];this.eat(h.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return r};G.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var n=!1,r=-1,a=-1,c=-1;e?(r=e.parenthesizedAssign,a=e.trailingComma,c=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Jx,n=!0);var p=this.start,d=this.startLoc;(this.type===h.parenL||this.type===h.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var _=this.parseMaybeConditional(t,e);if(i&&(_=i.call(this,_,p,d)),this.type.isAssign){var m=this.startNodeAt(p,d);return m.operator=this.value,this.type===h.eq&&(_=this.toAssignable(_,!1,e)),n||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=_.start&&(e.shorthandAssign=-1),this.type===h.eq?this.checkLValPattern(_):this.checkLValSimple(_),m.left=_,this.next(),m.right=this.parseMaybeAssign(t),c>-1&&(e.doubleProto=c),this.finishNode(m,"AssignmentExpression")}else n&&this.checkExpressionErrors(e,!0);return r>-1&&(e.parenthesizedAssign=r),a>-1&&(e.trailingComma=a),_};G.parseMaybeConditional=function(t,e){var i=this.start,n=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(h.question)){var a=this.startNodeAt(i,n);return a.test=r,a.consequent=this.parseMaybeAssign(),this.expect(h.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return r};G.parseExprOps=function(t,e){var i=this.start,n=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||r.start===i&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,i,n,-1,t)};G.parseExprOp=function(t,e,i,n,r){var a=this.type.binop;if(a!=null&&(!r||this.type!==h._in)&&a>n){var c=this.type===h.logicalOR||this.type===h.logicalAND,p=this.type===h.coalesce;p&&(a=h.logicalAND.binop);var d=this.value;this.next();var _=this.start,m=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),_,m,a,r),y=this.buildBinary(e,i,t,g,d,c||p);return(c&&this.type===h.coalesce||p&&(this.type===h.logicalOR||this.type===h.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(y,e,i,n,r)}return t};G.buildBinary=function(t,e,i,n,r,a){n.type==="PrivateIdentifier"&&this.raise(n.start,"Private identifier can only be left side of binary expression");var c=this.startNodeAt(t,e);return c.left=i,c.operator=r,c.right=n,this.finishNode(c,a?"LogicalExpression":"BinaryExpression")};G.parseMaybeUnary=function(t,e,i,n){var r=this.start,a=this.startLoc,c;if(this.isContextual("await")&&this.canAwait)c=this.parseAwait(n),e=!0;else if(this.type.prefix){var p=this.startNode(),d=this.type===h.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,d,n),this.checkExpressionErrors(t,!0),d?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&l1(p.argument)?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&Xg(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,c=this.finishNode(p,d?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===h.privateId)(n||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),c=this.parsePrivateIdent(),this.type!==h._in&&this.unexpected();else{if(c=this.parseExprSubscripts(t,n),this.checkExpressionErrors(t))return c;for(;this.type.postfix&&!this.canInsertSemicolon();){var _=this.startNodeAt(r,a);_.operator=this.value,_.prefix=!1,_.argument=c,this.checkLValSimple(c),this.next(),c=this.finishNode(_,"UpdateExpression")}}if(!i&&this.eat(h.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(r,a,c,this.parseMaybeUnary(null,!1,!1,n),"**",!1);else return c};function l1(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&l1(t.expression)}o(l1,"isLocalVariableAccess");function Xg(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&Xg(t.expression)||t.type==="ParenthesizedExpression"&&Xg(t.expression)}o(Xg,"isPrivateFieldAccess");G.parseExprSubscripts=function(t,e){var i=this.start,n=this.startLoc,r=this.parseExprAtom(t,e);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var a=this.parseSubscripts(r,i,n,!1,e);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};G.parseSubscripts=function(t,e,i,n,r){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,c=!1;;){var p=this.parseSubscript(t,e,i,n,a,c,r);if(p.optional&&(c=!0),p===t||p.type==="ArrowFunctionExpression"){if(c){var d=this.startNodeAt(e,i);d.expression=p,p=this.finishNode(d,"ChainExpression")}return p}t=p}};G.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(h.arrow)};G.parseSubscriptAsyncArrow=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,n)};G.parseSubscript=function(t,e,i,n,r,a,c){var p=this.options.ecmaVersion>=11,d=p&&this.eat(h.questionDot);n&&d&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var _=this.eat(h.bracketL);if(_||d&&this.type!==h.parenL&&this.type!==h.backQuote||this.eat(h.dot)){var m=this.startNodeAt(e,i);m.object=t,_?(m.property=this.parseExpression(),this.expect(h.bracketR)):this.type===h.privateId&&t.type!=="Super"?m.property=this.parsePrivateIdent():m.property=this.parseIdent(this.options.allowReserved!=="never"),m.computed=!!_,p&&(m.optional=d),t=this.finishNode(m,"MemberExpression")}else if(!n&&this.eat(h.parenL)){var g=new Jx,y=this.yieldPos,w=this.awaitPos,k=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var S=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1,g);if(r&&!d&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=y,this.awaitPos=w,this.awaitIdentPos=k,this.parseSubscriptAsyncArrow(e,i,S,c);this.checkExpressionErrors(g,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=w||this.awaitPos,this.awaitIdentPos=k||this.awaitIdentPos;var E=this.startNodeAt(e,i);E.callee=t,E.arguments=S,p&&(E.optional=d),t=this.finishNode(E,"CallExpression")}else if(this.type===h.backQuote){(d||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var V=this.startNodeAt(e,i);V.tag=t,V.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(V,"TaggedTemplateExpression")}return t};G.parseExprAtom=function(t,e,i){this.type===h.slash&&this.readRegexp();var n,r=this.potentialArrowAt===this.start;switch(this.type){case h._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type===h.parenL&&!this.allowDirectSuper&&this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==h.dot&&this.type!==h.bracketL&&this.type!==h.parenL&&this.unexpected(),this.finishNode(n,"Super");case h._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case h.name:var a=this.start,c=this.startLoc,p=this.containsEsc,d=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&d.name==="async"&&!this.canInsertSemicolon()&&this.eat(h._function))return this.overrideContext(fe.f_expr),this.parseFunction(this.startNodeAt(a,c),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(a,c),[d],!1,e);if(this.options.ecmaVersion>=8&&d.name==="async"&&this.type===h.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return d=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(h.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,c),[d],!0,e)}return d;case h.regexp:var _=this.value;return n=this.parseLiteral(_.value),n.regex={pattern:_.pattern,flags:_.flags},n;case h.num:case h.string:return this.parseLiteral(this.value);case h._null:case h._true:case h._false:return n=this.startNode(),n.value=this.type===h._null?null:this.type===h._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case h.parenL:var m=this.start,g=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(t.parenthesizedAssign=m),t.parenthesizedBind<0&&(t.parenthesizedBind=m)),g;case h.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(h.bracketR,!0,!0,t),this.finishNode(n,"ArrayExpression");case h.braceL:return this.overrideContext(fe.b_expr),this.parseObj(!1,t);case h._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case h._class:return this.parseClass(this.startNode(),!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};G.parseExprAtomDefault=function(){this.unexpected()};G.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===h.parenL&&!t)return this.parseDynamicImport(e);if(this.type===h.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};G.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(h.parenR)){var e=this.start;this.eat(h.comma)&&this.eat(h.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};G.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};G.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};G.parseParenExpression=function(){this.expect(h.parenL);var t=this.parseExpression();return this.expect(h.parenR),t};G.shouldParseArrow=function(t){return!this.canInsertSemicolon()};G.parseParenAndDistinguishExpression=function(t,e){var i=this.start,n=this.startLoc,r,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var c=this.start,p=this.startLoc,d=[],_=!0,m=!1,g=new Jx,y=this.yieldPos,w=this.awaitPos,k;for(this.yieldPos=0,this.awaitPos=0;this.type!==h.parenR;)if(_?_=!1:this.expect(h.comma),a&&this.afterTrailingComma(h.parenR,!0)){m=!0;break}else if(this.type===h.ellipsis){k=this.start,d.push(this.parseParenItem(this.parseRestBinding())),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else d.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var S=this.lastTokEnd,E=this.lastTokEndLoc;if(this.expect(h.parenR),t&&this.shouldParseArrow(d)&&this.eat(h.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=y,this.awaitPos=w,this.parseParenArrowList(i,n,d,e);(!d.length||m)&&this.unexpected(this.lastTokStart),k&&this.unexpected(k),this.checkExpressionErrors(g,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=w||this.awaitPos,d.length>1?(r=this.startNodeAt(c,p),r.expressions=d,this.finishNodeAt(r,"SequenceExpression",S,E)):r=d[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var V=this.startNodeAt(i,n);return V.expression=r,this.finishNode(V,"ParenthesizedExpression")}else return r};G.parseParenItem=function(t){return t};G.parseParenArrowList=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,n)};var Ck=[];G.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===h.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var n=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),n,r,!0,!1),this.eat(h.parenL)?t.arguments=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1):t.arguments=Ck,this.finishNode(t,"NewExpression")};G.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===h.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===h.backQuote,this.finishNode(i,"TemplateElement")};G.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var n=this.parseTemplateElement({isTagged:e});for(i.quasis=[n];!n.tail;)this.type===h.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(h.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(h.braceR),i.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};G.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===h.name||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===h.star)&&!pt.test(this.input.slice(this.lastTokEnd,this.start))};G.parseObj=function(t,e){var i=this.startNode(),n=!0,r={};for(i.properties=[],this.next();!this.eat(h.braceR);){if(n)n=!1;else if(this.expect(h.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(h.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,r,e),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};G.parseProperty=function(t,e){var i=this.startNode(),n,r,a,c;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===h.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(a=this.start,c=this.startLoc),t||(n=this.eat(h.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(i)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(i)):r=!1,this.parsePropertyValue(i,t,n,r,a,c,e,p),this.finishNode(i,"Property")};G.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};G.parsePropertyValue=function(t,e,i,n,r,a,c,p){(i||n)&&this.type===h.colon&&this.unexpected(),this.eat(h.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,c),t.kind="init"):this.options.ecmaVersion>=6&&this.type===h.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,n)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==h.comma&&this.type!==h.braceR&&this.type!==h.eq?((i||n)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||n)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,a,this.copyNode(t.key)):this.type===h.eq&&c?(c.shorthandAssign<0&&(c.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};G.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(h.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(h.bracketR),t.key;t.computed=!1}return t.key=this.type===h.num||this.type===h.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};G.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};G.parseMethod=function(t,e,i){var n=this.startNode(),r=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=t),this.options.ecmaVersion>=8&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(i0(e,n.generator)|e0|(i?o1:0)),this.expect(h.parenL),n.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(n,"FunctionExpression")};G.parseArrowExpression=function(t,e,i,n){var r=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.enterScope(i0(i,!1)|i1),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,n),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(t,"ArrowFunctionExpression")};G.parseFunctionBody=function(t,e,i,n){var r=e&&this.type!==h.braceL,a=this.strict,c=!1;if(r)t.body=this.parseMaybeAssign(n),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||p)&&(c=this.strictDirective(this.end),c&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var d=this.labels;this.labels=[],c&&(this.strict=!0),this.checkParams(t,!a&&!c&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,a1),t.body=this.parseBlock(!1,void 0,c&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=d}this.exitScope()};G.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(n.type!=="Identifier")return!1}return!0};G.checkParams=function(t,e){for(var i=Object.create(null),n=0,r=t.params;n<r.length;n+=1){var a=r[n];this.checkLValInnerPattern(a,n0,e?null:i)}};G.parseExprList=function(t,e,i,n){for(var r=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(h.comma),e&&this.afterTrailingComma(t))break;var c=void 0;i&&this.type===h.comma?c=null:this.type===h.ellipsis?(c=this.parseSpread(n),n&&this.type===h.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):c=this.parseMaybeAssign(!1,n),r.push(c)}return r};G.checkUnreserved=function(t){var e=t.start,i=t.end,n=t.name;if(this.inGenerator&&n==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&n==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(n==="arguments"||n==="await")&&this.raise(e,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(e,"Unexpected keyword '"+n+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(n)&&(!this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+n+"' is reserved"))}};G.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};G.parseIdentNode=function(){var t=this.startNode();return this.type===h.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=h.name):this.unexpected(),t};G.parsePrivateIdent=function(){var t=this.startNode();return this.type===h.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};G.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===h.semi||this.canInsertSemicolon()||this.type!==h.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(h.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};G.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Ux=we.prototype;Ux.raise=function(t,e){var i=e1(this.input,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=this.pos,n};Ux.raiseRecoverable=Ux.raise;Ux.curPosition=function(){if(this.options.locations)return new Sf(this.curLine,this.pos-this.lineStart)};var Di=we.prototype,Ek=o(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Di.enterScope=function(t){this.scopeStack.push(new Ek(t))};Di.exitScope=function(){this.scopeStack.pop()};Di.treatFunctionsAsVarInScope=function(t){return t.flags&Mo||!this.inModule&&t.flags&Cf};Di.declareName=function(t,e,i){var n=!1;if(e===$t){var r=this.currentScope();n=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&r.flags&Cf&&delete this.undefinedExports[t]}else if(e===s1){var a=this.currentScope();a.lexical.push(t)}else if(e===r1){var c=this.currentScope();this.treatFunctionsAsVar?n=c.lexical.indexOf(t)>-1:n=c.lexical.indexOf(t)>-1||c.var.indexOf(t)>-1,c.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var d=this.scopeStack[p];if(d.lexical.indexOf(t)>-1&&!(d.flags&n1&&d.lexical[0]===t)||!this.treatFunctionsAsVarInScope(d)&&d.functions.indexOf(t)>-1){n=!0;break}if(d.var.push(t),this.inModule&&d.flags&Cf&&delete this.undefinedExports[t],d.flags&t0)break}n&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Di.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Di.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Di.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&t0)return e}};Di.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&t0&&!(e.flags&i1))return e}};var Hx=o(function(e,i,n){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Wx(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Nf=we.prototype;Nf.startNode=function(){return new Hx(this,this.start,this.startLoc)};Nf.startNodeAt=function(t,e){return new Hx(this,t,e)};function c1(t,e,i,n){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=i),t}o(c1,"finishNodeAt");Nf.finishNode=function(t,e){return c1.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Nf.finishNodeAt=function(t,e,i,n){return c1.call(this,t,e,i,n)};Nf.copyNode=function(t){var e=new Hx(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var p1="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",d1=p1+" Extended_Pictographic",f1=d1,m1=f1+" EBase EComp EMod EPres ExtPict",h1=m1,Pk=h1,Nk={9:p1,10:d1,11:f1,12:m1,13:h1,14:Pk},Rk="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Ak={9:"",10:"",11:"",12:"",13:"",14:Rk},zT="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",_1="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",x1=_1+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",g1=x1+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",v1=g1+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",y1=v1+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Vk=y1+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",Mk={9:_1,10:x1,11:g1,12:v1,13:y1,14:Vk},b1={};function Dk(t){var e=b1[t]={binary:Vi(Nk[t]+" "+zT),binaryOfStrings:Vi(Ak[t]),nonBinary:{General_Category:Vi(zT),Script:Vi(Mk[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}o(Dk,"buildUnicodeData");for(Ox=0,zg=[9,10,11,12,13,14];Ox<zg.length;Ox+=1)KT=zg[Ox],Dk(KT);var KT,Ox,zg,L=we.prototype,jx=o(function(e,i){this.parent=e,this.base=i||this},"BranchID");jx.prototype.separatedFrom=o(function(e){for(var i=this;i;i=i.parent)for(var n=e;n;n=n.parent)if(i.base===n.base&&i!==n)return!0;return!1},"separatedFrom");jx.prototype.sibling=o(function(){return new jx(this.parent,this.base)},"sibling");var Dt=o(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=b1[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null},"RegExpValidationState");Dt.prototype.reset=o(function(e,i,n){var r=n.indexOf("v")!==-1,a=n.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=n,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)},"reset");Dt.prototype.raise=o(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Dt.prototype.at=o(function(e,i){i===void 0&&(i=!1);var n=this.source,r=n.length;if(e>=r)return-1;var a=n.charCodeAt(e);if(!(i||this.switchU)||a<=55295||a>=57344||e+1>=r)return a;var c=n.charCodeAt(e+1);return c>=56320&&c<=57343?(a<<10)+c-56613888:a},"at");Dt.prototype.nextIndex=o(function(e,i){i===void 0&&(i=!1);var n=this.source,r=n.length;if(e>=r)return r;var a=n.charCodeAt(e),c;return!(i||this.switchU)||a<=55295||a>=57344||e+1>=r||(c=n.charCodeAt(e+1))<56320||c>57343?e+1:e+2},"nextIndex");Dt.prototype.current=o(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Dt.prototype.lookahead=o(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Dt.prototype.advance=o(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Dt.prototype.eat=o(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");Dt.prototype.eatChars=o(function(e,i){i===void 0&&(i=!1);for(var n=this.pos,r=0,a=e;r<a.length;r+=1){var c=a[r],p=this.at(n,i);if(p===-1||p!==c)return!1;n=this.nextIndex(n,i)}return this.pos=n,!0},"eatChars");L.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,n=!1,r=!1,a=0;a<i.length;a++){var c=i.charAt(a);e.indexOf(c)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(c,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),c==="u"&&(n=!0),c==="v"&&(r=!0)}this.options.ecmaVersion>=15&&n&&r&&this.raise(t.start,"Invalid regular expression flag")};function Lk(t){for(var e in t)return!0;return!1}o(Lk,"hasProp");L.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&Lk(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};L.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var n=i[e];t.groupNames[n]||t.raise("Invalid named capture referenced")}};L.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new jx(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};L.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};L.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};L.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};L.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};L.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};L.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var n=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return r!==-1&&r<n&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};L.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};L.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};L.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};L.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};L.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};L.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};L.regexp_eatSyntaxCharacter=function(t){var e=t.current();return w1(e)?(t.lastIntValue=e,t.advance(),!0):!1};function w1(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}o(w1,"isSyntaxCharacter");L.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!w1(i);)t.advance();return t.pos!==e};L.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};L.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(e)for(var n=0,r=i;n<r.length;n+=1){var a=r[n];a.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};L.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};L.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Mi(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Mi(t.lastIntValue);return!0}return!1};L.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),Bk(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function Bk(t){return zt(t,!0)||t===36||t===95}o(Bk,"isRegExpIdentifierStart");L.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),Ok(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function Ok(t){return Ao(t,!0)||t===36||t===95||t===8204||t===8205}o(Ok,"isRegExpIdentifierPart");L.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};L.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};L.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};L.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};L.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};L.regexp_eatZero=function(t){return t.current()===48&&!Gx(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};L.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};L.regexp_eatControlLetter=function(t){var e=t.current();return T1(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function T1(t){return t>=65&&t<=90||t>=97&&t<=122}o(T1,"isControlLetter");L.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,n=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(n&&r>=55296&&r<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var c=t.lastIntValue;if(c>=56320&&c<=57343)return t.lastIntValue=(r-55296)*1024+(c-56320)+65536,!0}t.pos=a,t.lastIntValue=r}return!0}if(n&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&Fk(t.lastIntValue))return!0;n&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function Fk(t){return t>=0&&t<=1114111}o(Fk,"isValidUnicode");L.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};L.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var I1=0,Kt=1,ct=2;L.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(Yk(e))return t.lastIntValue=-1,t.advance(),Kt;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var n;if(t.eat(123)&&(n=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&n===ct&&t.raise("Invalid property name"),n;t.raise("Invalid property name")}return I1};function Yk(t){return t===100||t===68||t===115||t===83||t===119||t===87}o(Yk,"isCharacterClassEscape");L.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,n),Kt}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r)}return I1};L.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Ef(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};L.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Kt;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return ct;t.raise("Invalid property name")};L.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";k1(e=t.current());)t.lastStringValue+=Mi(e),t.advance();return t.lastStringValue!==""};function k1(t){return T1(t)||t===95}o(k1,"isUnicodePropertyNameCharacter");L.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";Uk(e=t.current());)t.lastStringValue+=Mi(e),t.advance();return t.lastStringValue!==""};function Uk(t){return k1(t)||Gx(t)}o(Uk,"isUnicodePropertyValueCharacter");L.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};L.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===ct&&t.raise("Negated character class may contain strings"),!0}return!1};L.regexp_classContents=function(t){return t.current()===93?Kt:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Kt)};L.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};L.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||E1(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var n=t.current();return n!==93?(t.lastIntValue=n,t.advance(),!0):!1};L.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};L.regexp_classSetExpression=function(t){var e=Kt,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===ct&&(e=ct);for(var n=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==ct&&(e=Kt);continue}t.raise("Invalid character in character class")}if(n!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(n!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===ct&&(e=ct)}};L.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;return i!==-1&&n!==-1&&i>n&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};L.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Kt:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};L.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),n=this.regexp_classContents(t);if(t.eat(93))return i&&n===ct&&t.raise("Negated character class may contain strings"),n;t.pos=e}if(t.eat(92)){var r=this.regexp_eatCharacterClassEscape(t);if(r)return r;t.pos=e}return null};L.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};L.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===ct&&(e=ct);return e};L.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Kt:ct};L.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&jk(i)||Wk(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function jk(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}o(jk,"isClassSetReservedDoublePunctuatorCharacter");function Wk(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}o(Wk,"isClassSetSyntaxCharacter");L.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return Jk(e)?(t.lastIntValue=e,t.advance(),!0):!1};function Jk(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}o(Jk,"isClassSetReservedPunctuator");L.regexp_eatClassControlLetter=function(t){var e=t.current();return Gx(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};L.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};L.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Gx(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Gx(t){return t>=48&&t<=57}o(Gx,"isDecimalDigit");L.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;S1(i=t.current());)t.lastIntValue=16*t.lastIntValue+C1(i),t.advance();return t.pos!==e};function S1(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}o(S1,"isHexDigit");function C1(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}o(C1,"hexToInt");L.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};L.regexp_eatOctalDigit=function(t){var e=t.current();return E1(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function E1(t){return t>=48&&t<=55}o(E1,"isOctalDigit");L.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var n=0;n<e;++n){var r=t.current();if(!S1(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+C1(r),t.advance()}return!0};var r0=o(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Wx(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),ee=we.prototype;ee.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new r0(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};ee.getToken=function(){return this.next(),new r0(this)};typeof Symbol<"u"&&(ee[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===h.eof,value:e}}}});ee.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(h.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};ee.readToken=function(t){return zt(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};ee.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};ee.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var n=void 0,r=e;(n=XT(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};ee.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Vo(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};ee.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&QT.test(String.fromCharCode(t)))++this.pos;else break e}}};ee.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};ee.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(h.ellipsis)):(++this.pos,this.finishToken(h.dot))};ee.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(h.assign,2):this.finishOp(h.slash,1)};ee.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,n=t===42?h.star:h.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,n=h.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(h.assign,i+1):this.finishOp(n,i)};ee.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(h.assign,3)}return this.finishOp(t===124?h.logicalOR:h.logicalAND,2)}return e===61?this.finishOp(h.assign,2):this.finishOp(t===124?h.bitwiseOR:h.bitwiseAND,1)};ee.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)};ee.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||pt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.incDec,2):e===61?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)};ee.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(h.assign,i+1):this.finishOp(h.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(h.relational,i))};ee.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(h.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.arrow)):this.finishOp(t===61?h.eq:h.prefix,1)};ee.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(h.questionDot,2)}if(e===63){if(t>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(h.assign,3)}return this.finishOp(h.coalesce,2)}}return this.finishOp(h.question,1)};ee.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),zt(e,!0)||e===92))return this.finishToken(h.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Mi(e)+"'")};ee.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.parenL);case 41:return++this.pos,this.finishToken(h.parenR);case 59:return++this.pos,this.finishToken(h.semi);case 44:return++this.pos,this.finishToken(h.comma);case 91:return++this.pos,this.finishToken(h.bracketL);case 93:return++this.pos,this.finishToken(h.bracketR);case 123:return++this.pos,this.finishToken(h.braceL);case 125:return++this.pos,this.finishToken(h.braceR);case 58:return++this.pos,this.finishToken(h.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(h.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Mi(t)+"'")};ee.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};ee.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(pt.test(n)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(n==="[")e=!0;else if(n==="]"&&e)e=!1;else if(n==="/"&&!e)break;t=n==="\\"}++this.pos}var r=this.input.slice(i,this.pos);++this.pos;var a=this.pos,c=this.readWord1();this.containsEsc&&this.unexpected(a);var p=this.regexpState||(this.regexpState=new Dt(this));p.reset(i,r,c),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var d=null;try{d=new RegExp(r,c)}catch(_){}return this.finishToken(h.regexp,{pattern:r,flags:c,value:d})};ee.readInt=function(t,e,i){for(var n=this.options.ecmaVersion>=12&&e===void 0,r=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,c=0,p=0,d=0,_=e==null?1/0:e;d<_;++d,++this.pos){var m=this.input.charCodeAt(this.pos),g=void 0;if(n&&m===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),d===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=m;continue}if(m>=97?g=m-97+10:m>=65?g=m-65+10:m>=48&&m<=57?g=m-48:g=1/0,g>=t)break;p=m,c=c*t+g}return n&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||e!=null&&this.pos-a!==e?null:c};function Hk(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}o(Hk,"stringToNumber");function P1(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}o(P1,"stringToBigInt");ee.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=P1(this.input.slice(e,this.pos)),++this.pos):zt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,i)};ee.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&n===110){var r=P1(this.input.slice(e,this.pos));return++this.pos,zt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,r)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),n===46&&!i&&(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),(n===69||n===101)&&!i&&(n=this.input.charCodeAt(++this.pos),(n===43||n===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),zt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=Hk(this.input.slice(e,this.pos),i);return this.finishToken(h.num,a)};ee.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};ee.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===t)break;n===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):n===8232||n===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Vo(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(h.string,e)};var N1={};ee.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===N1)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};ee.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw N1;this.raise(t,e)};ee.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===h.template||this.type===h.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(h.dollarBraceL)):(++this.pos,this.finishToken(h.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(h.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Vo(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};ee.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(h.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};ee.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Mi(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(n,8);return r>255&&(n=n.slice(0,-1),r=parseInt(n,8)),this.pos+=n.length-1,e=this.input.charCodeAt(this.pos),(n!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-n.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return Vo(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};ee.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};ee.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(Ao(r,n))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var c=this.readCodePoint();(e?zt:Ao)(c,n)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=Mi(c),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};ee.readWord=function(){var t=this.readWord1(),e=h.name;return this.keywords.test(t)&&(e=Qg[t]),this.finishToken(e,t)};var Gk="8.12.1";we.acorn={Parser:we,version:Gk,defaultOptions:$g,Position:Sf,SourceLocation:Wx,getLineInfo:e1,Node:Hx,TokenType:ae,tokTypes:h,keywordTypes:Qg,TokContext:vt,tokContexts:fe,isIdentifierChar:Ao,isIdentifierStart:zt,Token:r0,isNewLine:Vo,lineBreak:pt,lineBreakG:xk,nonASCIIwhitespace:QT};function R1(t,e){return we.parse(t,e)}o(R1,"parse");var A1={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var vn,zx,zk="Utils",W=class{static load(e){P(vn,vn,e,"f",zx)}static get shim(){if(!f(vn,vn,"f",zx))throw new Error("Platform is not loaded");return f(vn,vn,"f",zx)}};o(W,"Platform");vn=W;zx={value:void 0};var b=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=W.shim.info.version}};o(b,"InnertubeError");var rt=class extends b{};o(rt,"ParsingError");var Rf=class extends b{};o(Rf,"MissingParamError");var Kx=class extends b{};o(Kx,"OAuth2Error");var yt=class extends Error{};o(yt,"PlayerError");var yn=class extends Error{};o(yn,"SessionError");var yo=class extends Error{};o(yo,"ChannelError");function Df(t,e){return Reflect.ownKeys(t).some(n=>{let r=e[n]instanceof u;return!r&&typeof e[n]=="object"?JSON.stringify(t[n])===JSON.stringify(e[n]):t[n]===(r?e[n].toString():e[n])})}o(Df,"deepCompare");function Fe(t,e,i){let n=new RegExp(`${s0(e)}(.*?)${s0(i)}`,"s"),r=t.match(n);return r?r[1]:void 0}o(Fe,"getStringBetweenStrings");function s0(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}o(s0,"escapeStringRegexp");function Ji(t){let e=A1[t],i=Math.floor(Math.random()*e.length);return e[i]}o(Ji,"getRandomUserAgent");function Kk(t){return T(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),n=[i,t,e].join(" "),r=yield W.shim.sha1Hash(n);return["SAPISIDHASH",[i,r].join("_")].join(" ")})}o(Kk,"generateSidAuth");function Li(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let n=0;n<t;n++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}o(Li,"generateRandomString");function ke(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}o(ke,"timeToSeconds");function Fg(...t){let e=new Qt;for(let i of t)if(!!i)for(let n of i){let r=e.get(n[0]);if(r){e.set(n[0],[...r,...n[1]]);continue}e.set(...n)}return e}o(Fg,"concatMemos");function Lo(t){for(let[e,i]of Object.entries(t))if(!i)throw new Rf(`${e} is missing`)}o(Lo,"throwIfMissing");function $k(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}o($k,"hasKeys");function sg(t){return M0(this,arguments,o(function*(){let i=t.getReader();try{for(;;){let{done:n,value:r}=yield Oi(i.read());if(n)return yield Oi(void 0);yield yield Oi(r)}}finally{i.releaseLock()}},"streamToIterable_1"))}o(sg,"streamToIterable");var qk=o((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),n=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,r=[...n],a=e!=null&&e.body?typeof e.body=="string"?n.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",c=r.length>0?`${r.map(([p,d])=>`    ${p}: ${d}`).join(`
`)}`:"    (none)";return j.warn(zk,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${c}
' + 
    '  body:
${a}`),W.shim.fetch(t,e)},"debugFetch");function Ge(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}o(Ge,"u8ToBase64");function Tg(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}o(Tg,"base64ToU8");function je(t){return!("emoji"in t)}o(je,"isTextRun");function Xk(t,e,i=!1){let n=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,r=t.match(new RegExp(n));return r?r[2]:void 0}o(Xk,"getCookie");function a0(t,e){let{name:i,includes:n,regexp:r}=e,c=[R1(t,{ecmaVersion:2020})];for(let p=0;p<c.length;p++){let d=c[p];if(d.type==="ExpressionStatement"&&d.expression.type==="AssignmentExpression"&&d.expression.left.type==="Identifier"&&d.expression.right.type==="FunctionExpression"){let _=t.substring(d.start,d.end);if(i&&d.expression.left.name===i||n&&_.indexOf(n)>-1||r&&r.test(_))return{start:d.start,end:d.end,name:d.expression.left.name,node:d,result:_}}for(let _ in d){let m=d[_];Array.isArray(m)?c.push(...m):typeof m=="object"&&m!==null&&c.push(m)}}}o(a0,"findFunction");function u0(t){return T(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(n){let r=new Uint8Array(n),a=[];for(let c=0;c<r.length;++c)a.push(e[r[c]]);return a.join("")}return o(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}o(u0,"sha1Hash");var Af,V1,M1,D1,$x=class{constructor(e){Af.add(this),this.session=e}stats(e,i,n){return T(this,void 0,void 0,function*(){let r=new URL(e);r.searchParams.set("ver","2"),r.searchParams.set("c",i.client_name.toLowerCase()),r.searchParams.set("cbrver",i.client_version),r.searchParams.set("cver",i.client_version);for(let c of Object.keys(n))r.searchParams.set(c,n[c]);return yield this.session.http.fetch(r)})}execute(e,i){return T(this,void 0,void 0,function*(){var n,r;let a;if(i&&!i.protobuf){if(a=Object.assign({},i),Reflect.has(a,"browseId")&&f(this,Af,"m",D1).call(this,a.browseId)&&!this.session.logged_in)throw new b("You must be signed in to perform this operation.");Reflect.has(a,"override_endpoint")&&delete a.override_endpoint,Reflect.has(a,"parse")&&delete a.parse,Reflect.has(a,"request")&&delete a.request,Reflect.has(a,"clientActions")&&delete a.clientActions,Reflect.has(a,"settingItemIdForClient")&&delete a.settingItemIdForClient,Reflect.has(a,"action")&&(a.actions=[a.action],delete a.action),Reflect.has(a,"boolValue")&&(a.newValue={boolValue:a.boolValue},delete a.boolValue),Reflect.has(a,"token")&&(a.continuation=a.token,delete a.token),(a==null?void 0:a.client)==="YTMUSIC"&&(a.isAudioOnly=!0)}else i&&(a=i.serialized_data);let c=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield this.session.http.fetch(c,{method:"POST",body:i!=null&&i.protobuf?a:JSON.stringify(a||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let d=l.parseResponse(yield p.json());if(f(this,Af,"m",M1).call(this,d)&&((r=(n=d.on_response_received_actions)===null||n===void 0?void 0:n.first())===null||r===void 0?void 0:r.type)==="navigateAction"){let _=d.on_response_received_actions.firstOfType(yi);_&&(d=yield _.endpoint.call(this,{parse:!0}))}return d}return f(this,Af,"m",V1).call(this,p)})}};o($x,"Actions");Af=new WeakSet,V1=o(function(e){return T(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),M1=o(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),D1=o(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var l0=$x;var qt="Player",qe=class{constructor(e,i,n,r,a){this.player_id=e,this.sts=i,this.nsig_sc=a,this.sig_sc=r,this.evaluator=n}static create(e,i){return T(this,arguments,void 0,function*(n,r,a=W.shim.fetch,c){let p=new URL("/iframe_api",xe.URLS.YT_BASE),d=yield a(p);if(d.status!==200)throw new yt("Failed to request player id");let _=yield d.text(),m=Fe(_,"player\\/","\\/");if(j.info(qt,`Got player id (${m}). Checking for cached players..`),!m)throw new yt("Failed to get player id");if(n){let M=yield qe.fromCache(n,m,r);if(M)return j.info(qt,"Found up-to-date player data in cache."),M.po_token=c,M}let g=new URL(`/s/player/${m}/player_ias.vflset/en_US/base.js`,xe.URLS.YT_BASE);j.info(qt,`Could not find any cached player. Will download a new player from ${g}.`);let y=yield a(g,{headers:{"user-agent":Ji("desktop")}});if(!y.ok)throw new yt(`Failed to get player data: ${y.status}`);let w=yield y.text(),k=this.extractSigTimestamp(w),S=this.extractSigSourceCode(w),E=this.extractNSigSourceCode(w);j.info(qt,`Got signature timestamp (${k}) and algorithms needed to decipher signatures.`);let V=yield qe.fromSource(m,k,r,n,S,E);return V.po_token=c,V})}decipher(e,i,n,r){return T(this,void 0,void 0,function*(){if(e=e||i||n,!e)throw new yt("No valid URL to decipher");let a=new URLSearchParams(e),c=new URL(a.get("url")||e);if(this.sig_sc&&(i||n)){let m=yield this.evaluator(this.sig_sc,{sig:a.get("s")});if(j.info(qt,`Transformed signature from ${a.get("s")} to ${m}.`),typeof m!="string")throw new yt("Failed to decipher signature");let g=a.get("sp");g?c.searchParams.set(g,m):c.searchParams.set("signature",m)}let p=c.searchParams.get("n");if(this.nsig_sc&&p){let m;if(r&&r.has(p))m=r.get(p);else{if(m=yield this.evaluator(this.nsig_sc,{nsig:p}),j.info(qt,`Transformed n signature from ${p} to ${m}.`),typeof m!="string")throw new yt("Failed to decipher nsig");m.startsWith("enhanced_except_")?j.warn(qt,"Could not transform nsig, download may be throttled."):r&&r.set(p,m)}c.searchParams.set("n",m)}switch(c.searchParams.get("sabr")!=="1"&&this.po_token&&c.searchParams.set("pot",this.po_token),c.searchParams.get("c")){case"WEB":c.searchParams.set("cver",xe.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":c.searchParams.set("cver",xe.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":c.searchParams.set("cver",xe.CLIENTS.WEB_KIDS.VERSION);break;case"ANDROID":c.searchParams.set("cver",xe.CLIENTS.ANDROID.VERSION);break;case"ANDROID_MUSIC":c.searchParams.set("cver",xe.CLIENTS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":c.searchParams.set("cver",xe.CLIENTS.TV_EMBEDDED.VERSION);break}let _=c.toString();return j.info(qt,`Deciphered URL: ${_}`),c.toString()})}static fromCache(e,i,n){return T(this,void 0,void 0,function*(){let r=yield e.get(i);if(!r)return null;let a=new DataView(r);if(a.getUint32(0,!0)!==qe.LIBRARY_VERSION)return null;let p=a.getUint32(4,!0),d=a.getUint32(8,!0),_=r.slice(12,12+d),m=r.slice(12+d),g=mt.decompress(new TextDecoder().decode(_)),y=mt.decompress(new TextDecoder().decode(m));return new qe(i,p,n,g,y)})}static fromSource(e,i,n,r,a,c){return T(this,void 0,void 0,function*(){let p=new qe(e,i,n,a,c);return yield p.cache(r),p})}cache(e){return T(this,void 0,void 0,function*(){if(!e||!this.sig_sc||!this.nsig_sc)return;let i=new TextEncoder,n=i.encode(mt.compress(this.sig_sc)),r=i.encode(mt.compress(this.nsig_sc)),a=new ArrayBuffer(12+n.byteLength+r.byteLength),c=new DataView(a);c.setUint32(0,qe.LIBRARY_VERSION,!0),c.setUint32(4,this.sts,!0),c.setUint32(8,n.byteLength,!0),new Uint8Array(a).set(n,12),new Uint8Array(a).set(r,12+n.byteLength),yield e.set(this.player_id,new Uint8Array(a))})}static extractSigTimestamp(e){return parseInt(Fe(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,n,r;let a=Fe(e,'function(a){a=a.split("")','return a.join("")}'),c=(r=(n=(i=a==null?void 0:a.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.replace(";",""))===null||r===void 0?void 0:r.trim(),p=Fe(e,`var ${c}={`,"};");return(!p||!a)&&j.warn(qt,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${c}={${p}}${a} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=a0(e,{includes:"enhanced_except"});if(i)return`${i.result} ${i.name}(nsig);`}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,xe.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 11}};o(qe,"Player");var bn,B1,O1,F1,L1,c0;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(c0||(c0={}));var Bo="Session",Vf=class extends Fo{constructor(e,i,n,r,a,c,p,d,_){super(),this.http=new lg(this,c,p),this.actions=new l0(this),this.logged_in=!!c,this.cache=d,this.account_index=r,this.key=i,this.api_version=n,this.context=e,this.player=a,this.po_token=_}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e){return T(this,void 0,void 0,function*(){let{context:i,api_key:n,api_version:r,account_index:a}=yield bn.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache,e.po_token);return new bn(i,n,r,a,e.retrieve_player===!1?void 0:yield qe.create(e.cache,e.evaluator,e.fetch,e.po_token),e.cookie,e.fetch,e.cache,e.po_token)})}static fromCache(e,i){return T(this,void 0,void 0,function*(){let n=yield e.get("innertube_session_data");if(!n)return null;let r=new TextDecoder().decode(n.slice(4));try{let a=JSON.parse(mt.decompress(r));return i.visitor_data&&(a.context.client.visitorData=i.visitor_data),i.lang&&(a.context.client.hl=i.lang),i.location&&(a.context.client.gl=i.location),i.on_behalf_of_user&&(a.context.user.onBehalfOfUser=i.on_behalf_of_user),a.context.client.timeZone=i.time_zone,a.context.client.platform=i.device_category.toUpperCase(),a.context.client.clientName=i.client_name,a.context.user.enableSafetyMode=i.enable_safety_mode,a}catch(a){return j.error(Bo,"Failed to parse session data from cache.",a),null}})}static getSessionData(){return T(this,arguments,void 0,function*(e="",i="",n=0,r="",a=!1,c=!1,p="desktop",d=c0.WEB,_=Intl.DateTimeFormat().resolvedOptions().timeZone,m=W.shim.fetch,g,y,w=!0,k){let S={lang:e,location:i,time_zone:_,device_category:p,client_name:d,enable_safety_mode:a,visitor_data:r,on_behalf_of_user:g,po_token:k},E;if(y&&w){let V=yield this.fromCache(y,S);V&&(j.info(Bo,"Found session data in cache."),E=V)}if(!E){j.info(Bo,"Generating session data.");let V=oe.WEB.API_KEY,M=oe.WEB.API_VERSION,U={hl:e||"en",gl:i||"US",remote_host:"",visitor_data:r||vg(Li(11),Math.floor(Date.now()/1e3)),client_name:d,client_version:oe.WEB.VERSION,device_category:p.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:_,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:a};if(!c)try{let q=yield f(this,bn,"m",O1).call(this,S,m);V=q.api_key,M=q.api_version,U=q.context_data}catch(q){j.error(Bo,"Failed to retrieve session data from server. Session data generated locally will be used instead.",q)}E={api_key:V,api_version:M,context:f(this,bn,"m",F1).call(this,U)},w&&(yield f(this,bn,"m",B1).call(this,E,y))}return j.debug(Bo,"Session data:",E),Object.assign(Object.assign({},E),{account_index:n})})}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};o(Vf,"Session");bn=Vf,B1=o(function(e,i){return T(this,void 0,void 0,function*(){if(!i)return;j.info(Bo,"Compressing and caching session data.");let n=new TextEncoder().encode(mt.compress(JSON.stringify(e))),r=new ArrayBuffer(4+n.byteLength);new DataView(r).setUint32(0,n.byteLength,!0),new Uint8Array(r).set(n,4),yield i.set("innertube_session_data",new Uint8Array(r))})},"_Session_storeSession"),O1=o(function(e){return T(this,arguments,void 0,function*(i,n=W.shim.fetch){let r=Li(11);i.visitor_data&&(r=f(this,bn,"m",L1).call(this,i.visitor_data));let a=new URL("/sw.js_data",Ze.YT_BASE),c=yield n(a,{headers:{"Accept-Language":i.lang||"en-US","User-Agent":Ji("desktop"),Accept:"*/*",Referer:`${Ze.YT_BASE}/sw.js`,Cookie:`PREF=tz=${i.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${r};`}});if(!c.ok)throw new yn(`Failed to retrieve session data: ${c.status}`);let p=yield c.text();if(!p.startsWith(")]}'"))throw new yn("Invalid JSPB response");let _=JSON.parse(p.replace(/^\)\]\}'/,""))[0][2],m=oe.WEB.API_VERSION,[[g],y]=_,w=g[61],k=w[w.length-1];return{context_data:{hl:i.lang||g[0],gl:i.location||g[2],remote_host:g[3],visitor_data:i.visitor_data||g[13],client_name:i.client_name,client_version:g[16],os_name:g[17],os_version:g[18],time_zone:g[79]||i.time_zone,device_category:i.device_category,browser_name:g[86],browser_version:g[87],device_make:g[11],device_model:g[12],app_install_data:k,enable_safety_mode:i.enable_safety_mode},api_key:y,api_version:m}})},"_Session_getSessionData"),F1=o(function(e){let i={client:{hl:e.hl,gl:e.gl,remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:Ze.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",mainAppWebInfo:{graftUrl:Ze.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(i.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},"_Session_buildContext"),L1=o(function(e){return yg(e).id},"_Session_getVisitorID");var p0=Vf;var d0={};ye(d0,{BrowseEndpoint:()=>wn,NextEndpoint:()=>Bi,PlayerEndpoint:()=>Xt,Reel:()=>ft});var wn={};ye(wn,{PATH:()=>Qk,build:()=>Zk});var Qk="/browse";function Zk(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}o(Zk,"build");var Bi={};ye(Bi,{PATH:()=>eS,build:()=>tS});var eS="/next";function tS(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}o(tS,"build");var Xt={};ye(Xt,{PATH:()=>iS,build:()=>nS});var iS="/player";function nS(t){let e={playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id};return t.client&&(e.client=t.client),t.playlist_id&&(e.playlistId=t.playlist_id),t.params&&(e.params=t.params),t.po_token&&(e.serviceIntegrityDimensions={poToken:t.po_token}),e}o(nS,"build");var ft={};ye(ft,{ReelItemWatchEndpoint:()=>qx,ReelWatchSequenceEndpoint:()=>Xx});var qx={};ye(qx,{PATH:()=>oS,build:()=>rS});var oS="/reel/reel_item_watch";function rS(t){var e,i;return{disablePlayerResponse:!1,playerRequest:{videoId:t.video_id,params:(e=t.params)!==null&&e!==void 0?e:"CAUwAg%3D%3D"},params:(i=t.params)!==null&&i!==void 0?i:"CAUwAg%3D%3D",client:t.client}}o(rS,"build");var Xx={};ye(Xx,{PATH:()=>sS,build:()=>aS});var sS="/reel/reel_watch_sequence";function aS(t){return{sequenceParams:t.sequence_params}}o(aS,"build");var Tn,Qx=class extends vo{constructor(e,i,n,r){var a;if(super(e,i,n),Tn.set(this,void 0),r){let c=l.parseResponse(r.data);c.entries&&(this.watch_next_feed=c.entries),c.continuation_endpoint&&P(this,Tn,(a=c.continuation_endpoint)===null||a===void 0?void 0:a.as(jt),"f")}}getWatchNextContinuation(){return T(this,void 0,void 0,function*(){var e;if(!f(this,Tn,"f"))throw new b("Continuation not found");let i=yield this.actions.execute(ft.ReelWatchSequenceEndpoint.PATH,Object.assign(Object.assign({},ft.ReelWatchSequenceEndpoint.build({sequence_params:f(this,Tn,"f").token})),{parse:!0}));return i.entries&&(this.watch_next_feed=i.entries),P(this,Tn,(e=i.continuation_endpoint)===null||e===void 0?void 0:e.as(jt),"f"),this})}get wn_has_continuation(){return!!f(this,Tn,"f")}};o(Qx,"ShortFormVideoInfo");Tn=new WeakMap;var f0=Qx;var Lt,Oo=class{constructor(e){Lt.set(this,void 0),P(this,Lt,e,"f")}static create(e){return T(this,void 0,void 0,function*(){return new Oo(yield p0.create(e))})}getInfo(e,i){return T(this,void 0,void 0,function*(){var n,r,a,c,p;Lo({target:e});let d;if(e instanceof x)d=Bi.build({video_id:(n=e.payload)===null||n===void 0?void 0:n.videoId,playlist_id:(r=e.payload)===null||r===void 0?void 0:r.playlistId,params:(a=e.payload)===null||a===void 0?void 0:a.params,playlist_index:(c=e.payload)===null||c===void 0?void 0:c.index});else if(typeof e=="string")d=Bi.build({video_id:e});else throw new b("Invalid target. Expected a video id or NavigationEndpoint.",e);if(!d.videoId)throw new b("Video id cannot be empty",d);let _=Xt.build({video_id:d.videoId,playlist_id:d==null?void 0:d.playlistId,client:i,sts:(p=f(this,Lt,"f").player)===null||p===void 0?void 0:p.sts,po_token:f(this,Lt,"f").po_token}),m=this.actions.execute(Xt.PATH,_),g=this.actions.execute(Bi.PATH,d),y=yield Promise.all([m,g]),w=Li(16);return new Tf(y,this.actions,w)})}getBasicInfo(e,i){return T(this,void 0,void 0,function*(){var n;Lo({video_id:e});let r=yield this.actions.execute(Xt.PATH,Xt.build({video_id:e,client:i,sts:(n=f(this,Lt,"f").player)===null||n===void 0?void 0:n.sts,po_token:f(this,Lt,"f").po_token})),a=Li(16);return new Tf([r],this.actions,a)})}getShortsVideoInfo(e,i){return T(this,void 0,void 0,function*(){Lo({video_id:e});let n=this.actions.execute(ft.ReelItemWatchEndpoint.PATH,ft.ReelItemWatchEndpoint.build({video_id:e,client:i})),r=this.actions.execute(ft.ReelWatchSequenceEndpoint.PATH,ft.ReelWatchSequenceEndpoint.build({sequence_params:wg(e)})),a=yield Promise.all([n,r]),c=Li(16);return new f0([a[0]],this.actions,c,a[1])})}getPlaylist(e){return T(this,void 0,void 0,function*(){Lo({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute(wn.PATH,wn.build({browse_id:e}));return new ko(this.actions,i)})}getStreamingData(e){return T(this,arguments,void 0,function*(i,n={}){let a=(yield this.getBasicInfo(i)).chooseFormat(n);return a.url=yield a.decipher(f(this,Lt,"f").player),a})}download(e,i){return T(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}call(e,i){return e.call(this.actions,i)}get actions(){return f(this,Lt,"f").actions}get session(){return f(this,Lt,"f")}};o(Oo,"Innertube");Lt=new WeakMap;var m0=Oo;var Y1={};var U1=m0;var Mf,h0,Zx,eg,tg,ig=class{constructor(e=!1,i){Mf.add(this),h0.set(this,"Cache"),Zx.set(this,void 0),eg.set(this,void 0),P(this,Zx,i||"","f"),P(this,eg,e,"f")}get cache_dir(){return f(this,eg,"f")?f(this,Zx,"f"):""}get(e){return T(this,void 0,void 0,function*(){let i=yield f(this,Mf,"m",tg).call(this);if(!!i)return new Promise((n,r)=>{let a=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);a.onerror=r,a.onsuccess=function(){var c;let p=(c=this.result)===null||c===void 0?void 0:c.v;p instanceof ArrayBuffer?n(p):ArrayBuffer.isView(p)?n(p.buffer):n(void 0)}})})}set(e,i){return T(this,void 0,void 0,function*(){let n=yield f(this,Mf,"m",tg).call(this);if(!!n)return new Promise((r,a)=>{let c=n.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});c.onerror=a,c.onsuccess=()=>r()})})}remove(e){return T(this,void 0,void 0,function*(){let i=yield f(this,Mf,"m",tg).call(this);if(!!i)return new Promise((n,r)=>{let a=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);a.onerror=r,a.onsuccess=()=>n()})})}};o(ig,"Cache");h0=new WeakMap,Zx=new WeakMap,eg=new WeakMap,Mf=new WeakSet,tg=o(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,n)=>{let r=e.open("youtubei.js",1);r.onsuccess=function(){i(this.result)},r.onerror=function(a){n("indexedDB request error"),console.error(a)},r.onupgradeneeded=function(){let a=this.result.createObjectStore("kv-store",{keyPath:"k"});a.transaction.oncomplete=function(){i(this.db)}}}):j.warn(f(this,h0,"f"),"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");W.load({runtime:"browser",server:!1,info:{version:"10.3.0",bugs_url:"https://github.com/LuanRT/YouTube.js/issues",repo_url:"https://github.com/LuanRT/YouTube.js"},Cache:ig,sha1Hash:u0,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var cwe=U1;export{l0 as Actions,Gi as AppendContinuationItemsAction,c0 as ClientType,xe as Constants,sn as Continuation,jt as ContinuationCommand,d0 as Endpoints,Fo as EventEmitter,Wi as FormatUtils,Ag as Generator,mo as GridContinuation,lg as HTTPClient,rg as Helpers,m0 as Innertube,uo as ItemSectionContinuation,mt as LZW,wi as LiveChatContinuation,j as Log,Jg as Misc,Yg as Mixins,po as MusicPlaylistShelfContinuation,fo as MusicShelfContinuation,yi as NavigateAction,l as Parser,W as Platform,qe as Player,ho as PlaylistPanelContinuation,pi as Proto,bi as ReloadContinuationItemsCommand,co as SectionListContinuation,p0 as Session,lo as ShowMiniplayerCommand,Y1 as Types,jo as UMP,H1 as UniversalCache,cg as Utils,Wg as YT,en as YTNodes,cwe as default};