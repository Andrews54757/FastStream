/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var xg=Object.defineProperty;var n=(t,e)=>xg(t,"name",{value:e,configurable:!0});var Ce=(t,e)=>{for(var i in e)xg(t,i,{get:e[i],enumerable:!0})};function bg(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]]);return i}n(bg,"__rest");function yg(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n(yg,"__setFunctionName");function T(t,e,i,o){function r(a){return a instanceof i?a:new i(function(l){l(a)})}return n(r,"adopt"),new(i||(i=Promise))(function(a,l){function p(v){try{h(o.next(v))}catch(x){l(x)}}n(p,"fulfilled");function f(v){try{h(o.throw(v))}catch(x){l(x)}}n(f,"rejected");function h(v){v.done?a(v.value):r(v.value).then(p,f)}n(h,"step"),h((o=o.apply(t,e||[])).next())})}n(T,"__awaiter");function gg(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(gg,"__values");function Oi(t){return this instanceof Oi?(this.v=t,this):new Oi(t)}n(Oi,"__await");function wg(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),r,a=[];return r={},l("next"),l("throw"),l("return"),r[Symbol.asyncIterator]=function(){return this},r;function l(y){o[y]&&(r[y]=function(w){return new Promise(function(C,R){a.push([y,w,C,R])>1||p(y,w)})})}function p(y,w){try{f(o[y](w))}catch(C){x(a[0][3],C)}}function f(y){y.value instanceof Oi?Promise.resolve(y.value.v).then(h,v):x(a[0][2],y)}function h(y){p("next",y)}function v(y){p("throw",y)}function x(y,w){y(w),a.shift(),a.length&&p(a[0][0],a[0][1])}}n(wg,"__asyncGenerator");function Tg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof gg=="function"?gg(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(a){i[a]=t[a]&&function(l){return new Promise(function(p,f){l=t[a](l),r(p,f,l.done,l.value)})}}function r(a,l,p,f){Promise.resolve(f).then(function(h){a({value:h,done:p})},l)}}n(Tg,"__asyncValues");function d(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(d,"__classPrivateFieldGet");function S(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i}n(S,"__classPrivateFieldSet");var Vx={};Ce(Vx,{ChannelError:()=>In,InnertubeError:()=>g,MissingParamError:()=>rm,OAuthError:()=>P0,ParsingError:()=>it,Platform:()=>Y,PlayerError:()=>tt,SessionError:()=>$n,base64ToU8:()=>fx,concatMemos:()=>Ex,debugFetch:()=>TI,deepCompare:()=>bm,escapeStringRegexp:()=>Wx,generateRandomString:()=>Co,generateSidAuth:()=>yI,getRandomUserAgent:()=>go,getStringBetweenStrings:()=>Ye,hasKeys:()=>wI,isTextRun:()=>Le,streamToIterable:()=>Dx,throwIfMissing:()=>R0,timeToSeconds:()=>Ee,u8ToBase64:()=>ot});var ix={};Ce(ix,{Maybe:()=>Fi,Memo:()=>ei,SuperParsedResult:()=>St,YTNode:()=>s,observe:()=>re});var tx,Sg,Te,se,Tt,Yt,Li,Ig=Symbol("ObservedArray.isObserved"),s=class{constructor(){tx.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>d(this,tx,"m",Sg).call(this,i))}as(...e){if(!this.is(...e))throw new it(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new it(`Missing key ${e}`);return new Fi(this[e])}};n(s,"YTNode");tx=new WeakSet,Sg=n(function(e){return this.type===e.type},"_YTNode_is");s.type="YTNode";var Fi=class{constructor(e){Te.add(this),se.set(this,void 0),S(this,se,e,"f")}get typeof(){return typeof d(this,se,"f")}string(){return d(this,Te,"m",Yt).call(this,"string")}isString(){return d(this,Te,"m",Tt).call(this,"string")}number(){return d(this,Te,"m",Yt).call(this,"number")}isNumber(){return d(this,Te,"m",Tt).call(this,"number")}bigint(){return d(this,Te,"m",Yt).call(this,"bigint")}isBigint(){return d(this,Te,"m",Tt).call(this,"bigint")}boolean(){return d(this,Te,"m",Yt).call(this,"boolean")}isBoolean(){return d(this,Te,"m",Tt).call(this,"boolean")}symbol(){return d(this,Te,"m",Yt).call(this,"symbol")}isSymbol(){return d(this,Te,"m",Tt).call(this,"symbol")}undefined(){return d(this,Te,"m",Yt).call(this,"undefined")}isUndefined(){return d(this,Te,"m",Tt).call(this,"undefined")}null(){if(d(this,se,"f")!==null)throw new TypeError(`Expected null, got ${typeof d(this,se,"f")}`);return d(this,se,"f")}isNull(){return d(this,se,"f")===null}object(){return d(this,Te,"m",Yt).call(this,"object")}isObject(){return d(this,Te,"m",Tt).call(this,"object")}function(){return d(this,Te,"m",Yt).call(this,"function")}isFunction(){return d(this,Te,"m",Tt).call(this,"function")}array(){if(!Array.isArray(d(this,se,"f")))throw new TypeError(`Expected array, got ${typeof d(this,se,"f")}`);return d(this,se,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new Fi(Reflect.get(i,o))}})}isArray(){return Array.isArray(d(this,se,"f"))}node(){if(!(d(this,se,"f")instanceof s))throw new TypeError(`Expected YTNode, got ${d(this,se,"f").constructor.name}`);return d(this,se,"f")}isNode(){return d(this,se,"f")instanceof s}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof d(this,se,"f")}`);return d(this,se,"f")}isObserved(){var e;return(e=d(this,se,"f"))===null||e===void 0?void 0:e[Ig]}parsed(){if(!(d(this,se,"f")instanceof St))throw new TypeError(`Expected SuperParsedResult, got ${typeof d(this,se,"f")}`);return d(this,se,"f")}isParsed(){return d(this,se,"f")instanceof St}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),d(this,se,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${d(this,se,"f").constructor.name}`);return d(this,se,"f")}isInstanceof(e){return d(this,se,"f")instanceof e}};n(Fi,"Maybe");se=new WeakMap,Te=new WeakSet,Tt=n(function(e){return typeof d(this,se,"f")===e},"_Maybe_checkPrimative"),Yt=n(function(e){if(!d(this,Te,"m",Tt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return d(this,se,"f")},"_Maybe_assertPrimative");var St=class{constructor(e){Li.set(this,void 0),S(this,Li,e,"f")}get is_null(){return d(this,Li,"f")===null}get is_array(){return!this.is_null&&Array.isArray(d(this,Li,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return d(this,Li,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return d(this,Li,"f")}};n(St,"SuperParsedResult");Li=new WeakMap;function re(t){return new Proxy(t,{get(e,i){return i=="get"?(o,r)=>e.find((a,l)=>{let p=bm(o,a);return p&&r&&e.splice(l,1),p}):i==Ig?!0:i=="getAll"?(o,r)=>e.filter((a,l)=>{let p=bm(o,a);return p&&r&&e.splice(l,1),p}):i=="matchCondition"?o=>e.find(r=>o(r)):i=="filterType"?(...o)=>re(e.filter(r=>!!r.is(...o))):i=="firstOfType"?(...o)=>e.find(r=>!!r.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>re(e.map(r=>{if(r.is(...o))return r;throw new it(`Expected node of any type ${o.map(a=>a.type).join(", ")}, got ${r.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n(re,"observe");var ei=class extends Map{getType(...e){return e=e.flat(),re(e.flatMap(i=>this.get(i.type)||[]))}};n(ei,"Memo");var Ux={};Ce(Ux,{Author:()=>V,ChildElement:()=>e_,EmojiRun:()=>ti,Format:()=>oh,Text:()=>u,TextRun:()=>ii,Thumbnail:()=>b,VideoDetails:()=>ri});var Je={};Ce(Je,{CLIENTS:()=>W,INNERTUBE_HEADERS_BASE:()=>aS,OAUTH:()=>sS,STREAM_HEADERS:()=>ym,URLS:()=>Me});var Me=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),sS=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),W=Object.freeze({iOS:{NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME:"WEB",VERSION:"2.20230622.06.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),ym=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),aS=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var D={};Ce(D,{addRuntimeParser:()=>Sx,applyMutations:()=>IT,getDynamicParsers:()=>KS,getParserByName:()=>Mf,hasParser:()=>Wv,parse:()=>Fe,parseActions:()=>ST,parseArray:()=>Be,parseC:()=>wT,parseFormats:()=>Ix,parseItem:()=>te,parseLC:()=>TT,parseRR:()=>Jv,parseResponse:()=>$S,sanitizeClassName:()=>Bf,setParserErrorHandler:()=>GS,shouldIgnore:()=>yT});var Fr=class extends s{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n(Fr,"AudioOnlyPlayability");Fr.type="AudioOnlyPlayability";var wm=Fr;var Yr=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new _(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(Yr,"Button");Yr.type="Button";var I=Yr;var jr=class extends s{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new _(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};n(jr,"DropdownItem");jr.type="DropdownItem";var Tm=jr;var Ur=class extends s{constructor(e){super(),this.label=e.label||"",this.entries=c.parseArray(e.entries,Tm)}};n(Ur,"Dropdown");Ur.type="Dropdown";var Fo=Ur;var Wr=class extends s{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=c.parseItem(e.privacyOption,Fo),this.create_button=c.parseItem(e.cancelButton,I),this.cancel_button=c.parseItem(e.cancelButton,I)}};n(Wr,"CreatePlaylistDialog");Wr.type="CreatePlaylistDialog";var Sm=Wr;var Jr=class extends s{constructor(e){super(),this.popup=c.parseItem(e.popup),this.popup_type=e.popupType}};n(Jr,"OpenPopupAction");Jr.type="OpenPopupAction";var Im=Jr;var Hr=class extends s{constructor(e){var i,o,r,a,l,p,f,h;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new Im(e.openPopupAction));let v=Object.keys(e||{}).find(x=>x.endsWith("Endpoint")||x.endsWith("Command"));this.payload=v?Reflect.get(e,v):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=c.parseItem(this.payload.dialog||this.payload.content)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((a=(r=e==null?void 0:e.commandMetadata)===null||r===void 0?void 0:r.webCommandMetadata)===null||a===void 0)&&a.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(l=e==null?void 0:e.commandMetadata)===null||l===void 0?void 0:l.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):v&&(this.metadata.api_url=this.getEndpoint(v)),!((h=(f=e==null?void 0:e.commandMetadata)===null||f===void 0?void 0:f.webCommandMetadata)===null||h===void 0)&&h.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=c.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Sm))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(Hr,"NavigationEndpoint");Hr.type="NavigationEndpoint";var _=Hr;var b=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){return!e||!e.thumbnails?[]:e.thumbnails.map(i=>new b(i)).sort((i,o)=>o.width-i.width)}};n(b,"Thumbnail");var ti=class{constructor(e){var i,o,r,a,l,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((r=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||r===void 0?void 0:r[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((a=e.emoji)===null||a===void 0?void 0:a.shortcuts)||[],search_terms:((l=e.emoji)===null||l===void 0?void 0:l.searchTerms)||[],image:b.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=km(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(ti,"EmojiRun");var ii=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new _(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=km(this.text),r=`<span style="white-space: pre-wrap;">${e.map(a=>`<${a}>`).join("")+i+e.map(a=>`</${a}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:a}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let l=this.endpoint.toURL();if(l)return`<a href="${l}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${a}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${r}</a>`}}if(this.endpoint){let a=this.endpoint.toURL();if(a)return`<a href="${a}">${r}</a>`}return r}};n(ii,"TextRun");function km(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(km,"escape");var u=class{constructor(e){var i,o,r,a;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(l=>l.emoji?new ti(l):new ii(l)),this.text=this.runs.map(l=>l.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new _(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new _(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(a=(r=this.runs)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.endpoint)}static fromAttributed(e){let i=[],o=e.content,r=e.commandRuns,a=0;if(r){for(let l of r){let p=l.length,f=l.startIndex;if(f>a&&i.push({text:o.slice(a,f)}),Reflect.has(l,"onTap")){let h=null;if(Reflect.has(e,"attachmentRuns")){let v=e.attachmentRuns;for(let x of v)if(x.startIndex-2==f){h=x;break}}h?i.push({text:o.slice(f,f+p),navigationEndpoint:l.onTap,attachment:h}):i.push({text:o.slice(f,f+p),navigationEndpoint:l.onTap})}a=f+p}a<o.length&&i.push({text:o.slice(a)})}else i.push({text:o});return new u({runs:i})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(u,"Text");var Gr=class extends s{constructor(e){super(),this.cards=c.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(Gr,"CardCollection");Gr.type="CardCollection";var Cm=Gr;var zr=class extends s{constructor(e){super(),this.elements=c.parseArray(e.elements),this.start_ms=e.startMs}};n(zr,"Endscreen");zr.type="Endscreen";var Em=zr;var Kr=class extends s{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:b.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new _(e.featuredChannel.navigationEndpoint),subscribe_button:c.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(Kr,"PlayerAnnotationsExpanded");Kr.type="PlayerAnnotationsExpanded";var Nm=Kr;var $r=class extends s{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};n($r,"PlayerCaptionsTracklist");$r.type="PlayerCaptionsTracklist";var Pm=$r;var qr=class extends s{constructor(){super()}};n(qr,"PlayerLiveStoryboardSpec");qr.type="PlayerLiveStoryboardSpec";var Rm=qr;var Xr=class extends s{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((r,a)=>{let[l,p,f,h,v,x,y,w]=r.split("#");o.searchParams.set("sigh",w);let C=Math.ceil(parseInt(f,10)/(parseInt(h,10)*parseInt(v,10)));return{template_url:o.toString().replace("$L",a).replace("$N",y),thumbnail_width:parseInt(l,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(f,10),interval:parseInt(x,10),columns:parseInt(h,10),rows:parseInt(v,10),storyboard_count:C}})}};n(Xr,"PlayerStoryboardSpec");Xr.type="PlayerStoryboardSpec";var Yi=Xr;var Qr=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};n(Qr,"Alert");Qr.type="Alert";var Yo=Qr;var Zr=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=D.parseItem(e.dismissButton,I)}};n(Zr,"AlertWithButton");Zr.type="AlertWithButton";var Am=Zr;var es=class extends s{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};n(es,"ClipCreationTextInput");es.type="ClipCreationTextInput";var Mm=es;var ts=class extends s{constructor(e){var i,o,r,a,l,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(o=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label,this.end_label=(a=(r=e.endAccessibility)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label,this.duration_label=(p=(l=e.durationAccessibility)===null||l===void 0?void 0:l.accessibilityData)===null||p===void 0?void 0:p.label}};n(ts,"ClipCreationScrubber");ts.type="ClipCreationScrubber";var Vm=ts;var is=class extends s{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};n(is,"ClipAdState");is.type="ClipAdState";var Bm=is;var os=class extends s{constructor(e){super(),this.user_avatar=b.fromResponse(e.userAvatar),this.title_input=D.parseItem(e.titleInput,[Mm]),this.scrubber=D.parseItem(e.scrubber,[Vm]),this.save_button=D.parseItem(e.saveButton,[I]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=D.parseItem(e.cancelButton,[I]),this.ad_state_overlay=D.parseItem(e.adStateOverlay,[Bm]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};n(os,"ClipCreation");os.type="ClipCreation";var Dm=os;var ns=class extends s{constructor(e){super(),this.contents=D.parse(e.contents,!0,[Dm])}};n(ns,"ClipSection");ns.type="ClipSection";var Om=ns;var rs=class extends s{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,I)),this.endpoint=new _(e.continuationEndpoint)}};n(rs,"ContinuationItem");rs.type="ContinuationItem";var ce=rs;var ss=class extends s{constructor(e){super(),this.title=new u(e.title),this.visibility_button=D.parseItem(e.visibilityButton,I)}};n(ss,"EngagementPanelTitleHeader");ss.type="EngagementPanelTitleHeader";var Lm=ss;var as=class extends s{constructor(e){super(),this.items=c.parseArray(e.items),this.top_level_buttons=c.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(as,"Menu");as.type="Menu";var F=as;var us=class extends s{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=D.parseItem(e.menu,F)}};n(us,"MacroMarkersInfoItem");us.type="MacroMarkersInfoItem";var Fm=us;var ls=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=b.fromResponse(e.thumbnail),this.on_tap_endpoint=new _(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(ls,"MacroMarkersListItem");ls.type="MacroMarkersListItem";var jo=ls;var cs=class extends s{constructor(e){super(),this.contents=D.parseArray(e.contents,[Fm,jo]),this.sync_button_label=new u(e.syncButtonLabel)}};n(cs,"MacroMarkersList");cs.type="MacroMarkersList";var Ym=cs;var ps=class extends s{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(ps,"ProductList");ps.type="ProductList";var jm=ps;var ds=class extends s{constructor(e){super(),this.contents=c.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=c.parseItem(e.subMenu))}};n(ds,"SectionList");ds.type="SectionList";var ee=ds;var fs=class extends s{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};n(fs,"ExpandableVideoDescriptionBody");fs.type="ExpandableVideoDescriptionBody";var Um=fs;var ms=class extends s{constructor(e){super(),this.thumbnails=b.fromResponse(e.thumbnail),this.endpoint=new _(e.searchEndpoint),this.query=new u(e.query).toString()}};n(ms,"SearchRefinementCard");ms.type="SearchRefinementCard";var ji=ms;var hs=class extends s{constructor(e){super(),this.game=c.parseItem(e.game)}};n(hs,"GameCard");hs.type="GameCard";var Wm=hs;var _s=class extends s{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=c.parseArray(e.items)}get contents(){return this.items}};n(_s,"HorizontalList");_s.type="HorizontalList";var Jm=_s;var vs=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:b.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=c.parseItem(e.expandedContent,[oi,Jm]),this.expand_button=c.parseItem(e.expandButton,I),this.collapse_button=c.parseItem(e.collapseButton,I)}};n(vs,"ExpandableMetadata");vs.type="ExpandableMetadata";var Hm=vs;var xs=class extends s{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(xs,"MetadataBadge");xs.type="MetadataBadge";var He=xs;var gs=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};n(gs,"ThumbnailOverlayTimeStatus");gs.type="ThumbnailOverlayTimeStatus";var Ui=gs;var bs=class extends s{constructor(e){var i,o,r;super();let a=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(l=>({text:new u(l.snippetText),hover_text:new u(l.snippetHoverText)}))),this.expandable_metadata=c.parseItem(e.expandableMetadata,Hm),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parseItem(e.richThumbnail)),this.author=new V(e.ownerText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.badges=c.parseArray(e.badges,He),this.endpoint=new _(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:Ee(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=c.parseItem(e.menu,F),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Ui))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(bs,"Video");bs.type="Video";var Uo=bs;var ys=class extends Uo{constructor(e){super(e)}};n(ys,"VideoCard");ys.type="VideoCard";var Gm=ys;var ws=class extends s{constructor(e){super(),this.image=e.image.sources.map(i=>new b(i)).sort((i,o)=>o.width-i.width),this.style=e.style}};n(ws,"ContentPreviewImageView");ws.type="ContentPreviewImageView";var Wo=ws;var Ts=class extends s{constructor(e){super(),this.image=D.parseItem(e.image,Wo),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap={innertube_command:new _(e.overflowMenuOnTap.innertubeCommand)},this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};n(Ts,"VideoAttributeView");Ts.type="VideoAttributeView";var Jo=Ts;var Ss=class extends s{constructor(e){super(),this.cards=c.parseArray(e.cards,[Jo,ji,jo,Wm,Gm]),this.header=c.parseItem(e.header),this.previous_button=c.parseItem(e.previousButton,I),this.next_button=c.parseItem(e.nextButton,I)}};n(Ss,"HorizontalCardList");Ss.type="HorizontalCardList";var oi=Ss;var Is=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};n(Is,"Factoid");Is.type="Factoid";var ni=Is;var ks=class extends s{constructor(e){super(),this.factoid=c.parseItem(e.factoid,ni)}};n(ks,"UploadTimeFactoid");ks.type="UploadTimeFactoid";var zm=ks;var Cs=class extends s{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=c.parseItem(e.factoid,[ni]),this.view_count_type=e.viewCountType}};n(Cs,"ViewCountFactoid");Cs.type="ViewCountFactoid";var Km=Cs;var Es=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new _(e.channelNavigationEndpoint),this.channel_thumbnail=b.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=c.parseArray(e.factoid,[ni,Km,zm])}};n(Es,"VideoDescriptionHeader");Es.type="VideoDescriptionHeader";var $m=Es;var Ns=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=c.parseItem(e.creatorVideosButton,I),this.creator_about_button=c.parseItem(e.creatorAboutButton,I),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=b.fromResponse(e.channelAvatar),this.channel_endpoint=new _(e.channelEndpoint)}};n(Ns,"VideoDescriptionInfocardsSection");Ns.type="VideoDescriptionInfocardsSection";var qm=Ns;var Ps=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};n(Ps,"InfoRow");Ps.type="InfoRow";var Xm=Ps;var Rs=class extends s{constructor(e){super(),this.id=e.videoId,this.thumbnails=b.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parse(e.richThumbnail)),this.title=new u(e.title),this.author=new V(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=c.parseArray(e.badges,He),this.duration={text:new u(e.lengthText).toString(),seconds:Ee(new u(e.lengthText).toString())},this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.endpoint=new _(e.navigationEndpoint),this.menu=c.parseItem(e.menu,F)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(Rs,"CompactVideo");Rs.type="CompactVideo";var Ho=Rs;var As=class extends s{constructor(e){super(),this.info_rows=c.parseArray(e.infoRows,Xm),this.video_lockup=c.parseItem(e.videoLockup,Ho)}};n(As,"CarouselLockup");As.type="CarouselLockup";var Qm=As;var Ms=class extends s{constructor(e){super(),this.carousel_lockups=c.parseArray(e.carouselLockups,Qm),this.section_title=new u(e.sectionTitle)}};n(Ms,"VideoDescriptionMusicSection");Ms.type="VideoDescriptionMusicSection";var Go=Ms;var Vs=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=c.parseItem(e.primaryButton,I)}};n(Vs,"VideoDescriptionTranscriptSection");Vs.type="VideoDescriptionTranscriptSection";var Bs=Vs;var Ds=class extends s{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new _(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};n(Ds,"StructuredDescriptionPlaylistLockup");Ds.type="StructuredDescriptionPlaylistLockup";var Zm=Ds;var Os=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=c.parseArray(e.mediaLockups,[Zm])}};n(Os,"VideoDescriptionCourseSection");Os.type="VideoDescriptionCourseSection";var eh=Os;var Ls=class extends s{constructor(e){super(),this.items=c.parseArray(e.items,[$m,Um,Go,qm,eh,Bs,Bs,oi])}};n(Ls,"StructuredDescriptionContent");Ls.type="StructuredDescriptionContent";var Wi=Ls;var Fs=class extends s{constructor(e){super(),this.header=c.parseItem(e.header,Lm),this.content=c.parseItem(e.content,[Jo,ee,ce,Om,Wi,Ym,jm]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};n(Fs,"EngagementPanelSectionList");Fs.type="EngagementPanelSectionList";var zo=Fs;var Ys=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new _(e.selectedCommand)),this.selected=!!this.endpoint}};n(Ys,"MusicMultiSelectMenuItem");Ys.type="MusicMultiSelectMenuItem";var dt=Ys;var th,ih=class{constructor(e,i){var o,r,a,l,p,f;if(th.set(this,void 0),i&&S(this,th,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.color_info=e.colorInfo?{primaries:(o=e.colorInfo.primaries)===null||o===void 0?void 0:o.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(r=e.colorInfo.transferCharacteristics)===null||r===void 0?void 0:r.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(a=e.colorInfo.matrixCoefficients)===null||a===void 0?void 0:a.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,this.has_audio){let h=new URLSearchParams(this.cipher||this.signature_cipher),x=(l=new URLSearchParams(h.get("url")||this.url).get("xtags"))===null||l===void 0?void 0:l.split(":"),y=(p=x==null?void 0:x.find(w=>w.startsWith("acont=")))===null||p===void 0?void 0:p.split("=")[1];this.language=((f=x==null?void 0:x.find(w=>w.startsWith("lang=")))===null||f===void 0?void 0:f.split("=")[1])||null,this.is_dubbed=y==="dubbed",this.is_descriptive=y==="descriptive",this.is_original=y==="original"||!this.is_dubbed&&!this.is_descriptive,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new g("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,d(this,th,"f"))}};n(ih,"Format");th=new WeakMap;var oh=ih;var ri=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=b.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable}};n(ri,"VideoDetails");var Af={};Ce(Af,{AboutChannel:()=>sh,AboutChannelView:()=>rh,AccountChannel:()=>ah,AccountItemSection:()=>lh,AccountItemSectionHeader:()=>uh,AccountSectionList:()=>ch,AddBannerToLiveChatCommand:()=>hy,AddChatItemAction:()=>y_,AddLiveChatTickerItemAction:()=>_y,Alert:()=>Yo,AlertWithButton:()=>Am,AnalyticsMainAppKeyMetrics:()=>Cg,AnalyticsRoot:()=>Eg,AnalyticsShortsCarouselCard:()=>Ng,AnalyticsVideo:()=>xh,AnalyticsVodCarouselCard:()=>Pg,AnchoredSection:()=>Lv,AppendContinuationItemsAction:()=>Ji,AudioOnlyPlayability:()=>wm,AuthorCommentBadge:()=>Ah,AutomixPreviewVideo:()=>$o,BackstageImage:()=>gh,BackstagePost:()=>si,BackstagePostThread:()=>Mg,BrowseFeedActions:()=>yh,BrowserMediaSession:()=>Vg,Button:()=>I,C4TabbedHeader:()=>ai,CallToActionButton:()=>Bg,Card:()=>Dg,CardCollection:()=>Cm,CarouselHeader:()=>kh,CarouselItem:()=>Og,CarouselLockup:()=>Qm,Channel:()=>Ch,ChannelAboutFullMetadata:()=>Va,ChannelAgeGate:()=>Lg,ChannelExternalLinkView:()=>nh,ChannelFeaturedContent:()=>Fg,ChannelHeaderLinks:()=>wh,ChannelHeaderLinksView:()=>Th,ChannelMetadata:()=>Eh,ChannelMobileHeader:()=>Yg,ChannelOptions:()=>Nh,ChannelOwnerEmptyState:()=>jg,ChannelSubMenu:()=>Ua,ChannelTagline:()=>Sh,ChannelThumbnailWithLink:()=>Ug,ChannelVideoPlayer:()=>Wg,Chapter:()=>Ph,ChildVideo:()=>Jg,ChipCloud:()=>Ze,ChipCloudChip:()=>pe,ClipAdState:()=>Bm,ClipCreation:()=>Dm,ClipCreationScrubber:()=>Vm,ClipCreationTextInput:()=>Mm,ClipSection:()=>Om,CollaboratorInfoCardContent:()=>Hg,CollageHeroImage:()=>Gg,Comment:()=>on,CommentActionButtons:()=>qo,CommentDialog:()=>Db,CommentReplies:()=>jh,CommentReplyDialog:()=>Mh,CommentSimplebox:()=>Hh,CommentThread:()=>Gh,CommentsEntryPointHeader:()=>Jh,CommentsEntryPointTeaser:()=>Wh,CommentsHeader:()=>nn,CommentsSimplebox:()=>Uh,CompactChannel:()=>Ob,CompactLink:()=>rn,CompactMix:()=>Lb,CompactMovie:()=>Fb,CompactPlaylist:()=>Yb,CompactStation:()=>jb,CompactVideo:()=>Ho,ConfirmDialog:()=>Ub,ContentPreviewImageView:()=>Wo,ContinuationItem:()=>ce,ConversationBar:()=>Wb,CopyLink:()=>zh,CreatePlaylistDialog:()=>Sm,CreatorHeart:()=>bh,CtaGoToCreatorStudio:()=>Rg,DataModelSection:()=>vh,DecoratedPlayerBar:()=>Xh,DefaultPromoPanel:()=>Jb,DidYouMean:()=>Qh,DimChatItemAction:()=>vy,DownloadButton:()=>Hb,Dropdown:()=>Fo,DropdownItem:()=>Tm,DynamicTextView:()=>Zh,Element:()=>un,EmergencyOnebox:()=>Gb,EmojiPicker:()=>Yh,EmojiPickerCategory:()=>zb,EmojiPickerCategoryButton:()=>Kb,EmojiPickerUpsellCategory:()=>$b,EndScreenPlaylist:()=>t_,EndScreenVideo:()=>i_,Endscreen:()=>Em,EndscreenElement:()=>qb,EngagementPanelSectionList:()=>zo,EngagementPanelTitleHeader:()=>Lm,ExpandableMetadata:()=>Hm,ExpandableTab:()=>ln,ExpandableVideoDescriptionBody:()=>Um,ExpandedShelfContents:()=>Xb,Factoid:()=>ni,FancyDismissibleDialog:()=>Qb,FeedFilterChipBar:()=>Ut,FeedNudge:()=>Zb,FeedTabbedHeader:()=>o_,GameCard:()=>Wm,GameDetails:()=>ey,Grid:()=>Ki,GridChannel:()=>n_,GridHeader:()=>ty,GridMix:()=>iy,GridMovie:()=>oy,GridPlaylist:()=>r_,GridShow:()=>ny,GridVideo:()=>u_,GuideCollapsibleEntry:()=>ry,GuideCollapsibleSectionEntry:()=>sy,GuideDownloadsEntry:()=>ay,GuideEntry:()=>$i,GuideSection:()=>cn,GuideSubscriptionsSection:()=>l_,HashtagHeader:()=>c_,HashtagTile:()=>uy,HeatMarker:()=>Kh,Heatmap:()=>$h,HeroPlaylistThumbnail:()=>ly,HighlightsCarousel:()=>ml,HistorySuggestion:()=>cy,HorizontalCardList:()=>oi,HorizontalList:()=>Jm,HorizontalMovieList:()=>py,IconLink:()=>d_,IncludingResultsFor:()=>dy,InfoPanelContainer:()=>fy,InfoPanelContent:()=>f_,InfoRow:()=>Xm,InteractiveTabbedHeader:()=>m_,ItemSection:()=>de,ItemSectionHeader:()=>h_,ItemSectionTab:()=>__,ItemSectionTabbedHeader:()=>v_,KidsBlocklistPicker:()=>mT,KidsBlocklistPickerItem:()=>Fv,KidsCategoriesHeader:()=>Yv,KidsCategoryTab:()=>bn,KidsHomeScreen:()=>jv,LikeButton:()=>my,LiveChat:()=>x_,LiveChatActionPanel:()=>T_,LiveChatAuthorBadge:()=>Uy,LiveChatAutoModMessage:()=>xy,LiveChatBanner:()=>b_,LiveChatBannerHeader:()=>g_,LiveChatBannerPoll:()=>gy,LiveChatDialog:()=>Wy,LiveChatHeader:()=>N_,LiveChatItemList:()=>P_,LiveChatMembershipItem:()=>by,LiveChatMessageInput:()=>Jy,LiveChatPaidMessage:()=>yy,LiveChatPaidSticker:()=>wy,LiveChatParticipant:()=>R_,LiveChatParticipantsList:()=>A_,LiveChatPlaceholderItem:()=>Ty,LiveChatProductItem:()=>Sy,LiveChatRestrictedParticipation:()=>Iy,LiveChatTextMessage:()=>ky,LiveChatTickerPaidMessageItem:()=>w_,LiveChatTickerPaidStickerItem:()=>Cy,LiveChatTickerSponsorItem:()=>Ey,LiveChatViewerEngagementMessage:()=>Ny,MacroMarkersInfoItem:()=>Fm,MacroMarkersList:()=>Ym,MacroMarkersListItem:()=>jo,MarkChatItemAsDeletedAction:()=>Ry,MarkChatItemsByAuthorAsDeletedAction:()=>Ay,Menu:()=>F,MenuNavigationItem:()=>M_,MenuPopup:()=>Hy,MenuServiceItem:()=>ui,MenuServiceItemDownload:()=>Gy,MerchandiseItem:()=>$y,MerchandiseShelf:()=>O_,Message:()=>Ge,MetadataBadge:()=>He,MetadataRow:()=>qy,MetadataRowContainer:()=>L_,MetadataRowHeader:()=>Xy,MetadataScreen:()=>Qy,MicroformatData:()=>kt,Mix:()=>Zy,Movie:()=>ew,MovingThumbnail:()=>tw,MultiMarkersPlayerBar:()=>qh,MultiPageMenu:()=>zy,MultiPageMenuNotificationSection:()=>Ky,MusicCardShelf:()=>U_,MusicCardShelfHeaderBasic:()=>F_,MusicCarouselShelf:()=>Ne,MusicCarouselShelfBasicHeader:()=>W_,MusicDescriptionShelf:()=>K_,MusicDetailHeader:()=>Xi,MusicDownloadStateBadge:()=>pw,MusicEditablePlaylistDetailHeader:()=>$_,MusicElementHeader:()=>op,MusicHeader:()=>ci,MusicImmersiveHeader:()=>q_,MusicInlineBadge:()=>Y_,MusicItemThumbnailOverlay:()=>Ct,MusicLargeCardItemCarousel:()=>dw,MusicMenuItemDivider:()=>V_,MusicMultiRowListItem:()=>J_,MusicMultiSelectMenu:()=>B_,MusicMultiSelectMenuItem:()=>dt,MusicNavigationButton:()=>pn,MusicPlayButton:()=>j_,MusicPlaylistShelf:()=>Qi,MusicQueue:()=>Q_,MusicResponsiveListItem:()=>li,MusicResponsiveListItemFixedColumn:()=>H_,MusicResponsiveListItemFlexColumn:()=>G_,MusicShelf:()=>me,MusicSideAlignedItem:()=>Z_,MusicSortFilterButton:()=>vp,MusicTastebuilderShelf:()=>tv,MusicTastebuilderShelfThumbnail:()=>ev,MusicThumbnail:()=>nt,MusicTwoRowItem:()=>z_,MusicVisualHeader:()=>iv,NavigationEndpoint:()=>_,Notification:()=>ov,OpenPopupAction:()=>Im,PageHeader:()=>fn,PageHeaderView:()=>nv,PageIntroduction:()=>rv,PdgCommentChip:()=>Vh,PlayerAnnotationsExpanded:()=>Nm,PlayerCaptionsTracklist:()=>Pm,PlayerControlsOverlay:()=>fw,PlayerErrorMessage:()=>mw,PlayerLegacyDesktopYpcOffer:()=>hw,PlayerLegacyDesktopYpcTrailer:()=>Rp,PlayerLiveStoryboardSpec:()=>Rm,PlayerMicroformat:()=>_t,PlayerOverflow:()=>sv,PlayerOverlay:()=>pi,PlayerOverlayAutoplay:()=>uv,PlayerStoryboardSpec:()=>Yi,Playlist:()=>It,PlaylistCustomThumbnail:()=>sn,PlaylistHeader:()=>cv,PlaylistInfoCardContent:()=>_w,PlaylistMetadata:()=>pv,PlaylistPanel:()=>Zi,PlaylistPanelVideo:()=>Wt,PlaylistPanelVideoWrapper:()=>X_,PlaylistSidebar:()=>vw,PlaylistSidebarPrimaryInfo:()=>dv,PlaylistSidebarSecondaryInfo:()=>fv,PlaylistVideo:()=>mv,PlaylistVideoList:()=>xw,PlaylistVideoThumbnail:()=>an,Poll:()=>gw,PollHeader:()=>Py,Post:()=>hv,PostMultiImage:()=>bw,ProductList:()=>jm,ProductListHeader:()=>yw,ProductListItem:()=>ww,ProfileColumn:()=>Tw,ProfileColumnStats:()=>_v,ProfileColumnStatsEntry:()=>Sw,ProfileColumnUserInfo:()=>vv,Quiz:()=>Iw,RecognitionShelf:()=>kw,ReelItem:()=>xv,ReelShelf:()=>gv,RelatedChipCloud:()=>bv,RemoveBannerForLiveChatCommand:()=>My,RemoveChatItemAction:()=>Vy,RemoveChatItemByAuthorAction:()=>By,ReplaceChatItemAction:()=>Dy,ReplayChatItemAction:()=>Oy,RichGrid:()=>di,RichItem:()=>Cw,RichListHeader:()=>Ew,RichMetadata:()=>ud,RichMetadataRow:()=>cd,RichSection:()=>Nw,RichShelf:()=>yv,SearchBox:()=>Pw,SearchFilter:()=>wv,SearchFilterGroup:()=>mn,SearchFilterOptionsDialog:()=>Rw,SearchHeader:()=>Tv,SearchRefinementCard:()=>ji,SearchSubMenu:()=>Sv,SearchSuggestion:()=>p_,SearchSuggestionsSection:()=>Aw,SecondarySearchContainer:()=>Mw,SectionList:()=>ee,SegmentedLikeDislikeButton:()=>eo,SettingBoolean:()=>Vw,SettingsCheckbox:()=>Iv,SettingsOptions:()=>_n,SettingsSidebar:()=>kv,SettingsSwitch:()=>hn,SharedPost:()=>Cv,Shelf:()=>vn,ShowCustomThumbnail:()=>s_,ShowLiveChatActionPanelAction:()=>Ly,ShowLiveChatDialogAction:()=>Fy,ShowLiveChatTooltipCommand:()=>Yy,ShowingResultsFor:()=>Ev,SimpleCardContent:()=>Bw,SimpleCardTeaser:()=>Dw,SimpleMenuHeader:()=>D_,SimpleTextSection:()=>Ow,SingleActionEmergencySupport:()=>Lw,SingleColumnBrowseResults:()=>Et,SingleColumnMusicWatchNextResults:()=>Fw,SingleHeroImage:()=>Yw,SlimOwner:()=>jw,SlimVideoMetadata:()=>Nv,SortFilterSubMenu:()=>ft,SponsorCommentBadge:()=>Bh,StatRow:()=>Ag,StructuredDescriptionContent:()=>Wi,StructuredDescriptionPlaylistLockup:()=>Zm,SubFeedOption:()=>Pv,SubFeedSelector:()=>Uw,SubscribeButton:()=>Ve,SubscriptionNotificationToggleButton:()=>Ih,Tab:()=>be,Tabbed:()=>Ww,TabbedSearchResults:()=>Rv,TextHeader:()=>Jw,ThumbnailLandscapePortrait:()=>Hw,ThumbnailOverlayBottomPanel:()=>a_,ThumbnailOverlayEndorsement:()=>Gw,ThumbnailOverlayHoverText:()=>zw,ThumbnailOverlayInlineUnplayable:()=>Kw,ThumbnailOverlayLoadingPreview:()=>$w,ThumbnailOverlayNowPlaying:()=>qw,ThumbnailOverlayPinking:()=>Xw,ThumbnailOverlayPlaybackStatus:()=>Qw,ThumbnailOverlayResumePlayback:()=>Zw,ThumbnailOverlaySidePanel:()=>eT,ThumbnailOverlayTimeStatus:()=>Ui,ThumbnailOverlayToggleButton:()=>tT,TimedMarkerDecoration:()=>iT,TitleAndButtonListHeader:()=>oT,ToggleButton:()=>Se,ToggleMenuServiceItem:()=>nT,Tooltip:()=>rT,TopicChannelDetails:()=>sT,Transcript:()=>Ko,TranscriptFooter:()=>ph,TranscriptSearchBox:()=>dh,TranscriptSearchPanel:()=>_h,TranscriptSectionHeader:()=>fh,TranscriptSegment:()=>mh,TranscriptSegmentList:()=>hh,TwoColumnBrowseResults:()=>Nt,TwoColumnSearchResults:()=>Av,TwoColumnWatchNextResults:()=>xn,UniversalWatchCard:()=>Vv,UpdateDateTextAction:()=>S_,UpdateDescriptionAction:()=>I_,UpdateEngagementPanelAction:()=>kg,UpdateLiveChatPollAction:()=>jy,UpdateTitleAction:()=>k_,UpdateToggleButtonTextAction:()=>C_,UpdateViewershipAction:()=>E_,UploadTimeFactoid:()=>zm,UpsellDialog:()=>aT,VerticalList:()=>uT,VerticalWatchCardList:()=>lT,Video:()=>Uo,VideoAttributeView:()=>Jo,VideoCard:()=>Gm,VideoDescriptionCourseSection:()=>eh,VideoDescriptionHeader:()=>$m,VideoDescriptionInfocardsSection:()=>qm,VideoDescriptionMusicSection:()=>Go,VideoDescriptionTranscriptSection:()=>Bs,VideoInfoCardContent:()=>cT,VideoOwner:()=>gn,VideoPrimaryInfo:()=>Bv,VideoSecondaryInfo:()=>gf,ViewCountFactoid:()=>Km,WatchCardCompactVideo:()=>Dv,WatchCardHeroVideo:()=>pT,WatchCardRichHeader:()=>dT,WatchCardSectionSequence:()=>fT,WatchNextEndScreen:()=>lv,WatchNextTabbedResults:()=>Ov,YpcTrailer:()=>av});var js=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=e.favicon.sources.map(i=>new b(i)).sort((i,o)=>o.width-i.width)}};n(js,"ChannelExternalLinkView");js.type="ChannelExternalLinkView";var nh=js;var Us=class extends s{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new _(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=D.parseArray(e.links,nh):this.links=[]}};n(Us,"AboutChannelView");Us.type="AboutChannelView";var rh=Us;var Ws=class extends s{constructor(e){super(),this.metadata=D.parseItem(e.metadata,rh),this.share_channel=D.parseItem(e.shareChannel,I)}};n(Ws,"AboutChannel");Ws.type="AboutChannel";var sh=Ws;var Js=class extends s{constructor(e){super(),this.title=new u(e.title),this.endpoint=new _(e.navigationEndpoint)}};n(Js,"AccountChannel");Js.type="AccountChannel";var ah=Js;var Hs=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Hs,"AccountItemSectionHeader");Hs.type="AccountItemSectionHeader";var uh=Hs;var Gs=class extends s{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=b.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new _(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};n(Gs,"AccountItem");Gs.type="AccountItem";var zs=class extends s{constructor(e){super(),this.contents=re(e.contents.map(i=>new Gs(i.accountItem))),this.header=c.parseItem(e.header,uh)}};n(zs,"AccountItemSection");zs.type="AccountItemSection";var lh=zs;var Ks=class extends s{constructor(e){super(),this.contents=c.parseItem(e.contents[0],lh),this.footers=c.parseItem(e.footers[0],ah)}};n(Ks,"AccountSectionList");Ks.type="AccountSectionList";var ch=Ks;var $s=class extends s{constructor(e){super(),this.contents=c.parseArray(e.continuationItems),this.target=e.target}};n($s,"AppendContinuationItemsAction");$s.type="AppendContinuationItemsAction";var Ji=$s;var qs=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,r;return{title:i.title,selected:i.selected,continuation:(r=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||r===void 0?void 0:r.continuation,endpoint:new _(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(qs,"SortFilterSubMenu");qs.type="SortFilterSubMenu";var ft=qs;var Xs=class extends s{constructor(e){super(),this.language_menu=c.parseItem(e.languageMenu,ft)}};n(Xs,"TranscriptFooter");Xs.type="TranscriptFooter";var ph=Xs;var Qs=class extends s{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=c.parseItem(e.clearButton,I),this.endpoint=new _(e.onTextChangeCommand),this.search_button=c.parseItem(e.searchButton,I)}};n(Qs,"TranscriptSearchBox");Qs.type="TranscriptSearchBox";var dh=Qs;var Zs=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};n(Zs,"TranscriptSectionHeader");Zs.type="TranscriptSectionHeader";var fh=Zs;var ea=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};n(ea,"TranscriptSegment");ea.type="TranscriptSegment";var mh=ea;var ta=class extends s{constructor(e){super(),this.initial_segments=c.parseArray(e.initialSegments,[mh,fh]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};n(ta,"TranscriptSegmentList");ta.type="TranscriptSegmentList";var hh=ta;var ia=class extends s{constructor(e){super(),this.header=c.parseItem(e.header,dh),this.body=c.parseItem(e.body,hh),this.footer=c.parseItem(e.footer,ph),this.target_id=e.targetId}};n(ia,"TranscriptSearchPanel");ia.type="TranscriptSearchPanel";var _h=ia;var oa=class extends s{constructor(e){super(),this.content=c.parseItem(e.content,_h)}};n(oa,"Transcript");oa.type="Transcript";var Ko=oa;var na=class extends s{constructor(e){super(),this.target_id=e.targetId,this.content=c.parseItem(e.content,Ko)}};n(na,"UpdateEngagementPanelAction");na.type="UpdateEngagementPanelAction";var kg=na;var ra=class extends s{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(ra,"DataModelSection");ra.type="DataModelSection";var vh=ra;var sa=class extends s{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new vh(o))}};n(sa,"AnalyticsMainAppKeyMetrics");sa.type="AnalyticsMainAppKeyMetrics";var Cg=sa;var aa=class extends s{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(r=>({label:r.label,display_value:r.displayValue,display_value_a11y:r.displayValueA11y,bar_ratio:r.barRatio,bar_color:r.barColor,bar_opacity:r.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(aa,"AnalyticsRoot");aa.type="AnalyticsRoot";var Eg=aa;var ua=class extends s{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new _(i.videoEndpoint)}))}};n(ua,"AnalyticsShortsCarouselCard");ua.type="AnalyticsShortsCarouselCard";var Ng=ua;var la=class extends s{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:b.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(la,"AnalyticsVideo");la.type="AnalyticsVideo";var xh=la;var ca=class extends s{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new xh(i)))}};n(ca,"AnalyticsVodCarouselCard");ca.type="AnalyticsVodCarouselCard";var Pg=ca;var pa=class extends s{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(pa,"CtaGoToCreatorStudio");pa.type="CtaGoToCreatorStudio";var Rg=pa;var da=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};n(da,"StatRow");da.type="StatRow";var Ag=da;var fa=class extends s{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new _(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n(fa,"AutomixPreviewVideo");fa.type="AutomixPreviewVideo";var $o=fa;var ma=class extends s{constructor(e){super(),this.image=b.fromResponse(e.image),this.endpoint=new _(e.command)}};n(ma,"BackstageImage");ma.type="BackstageImage";var gh=ma;var ha=class extends s{constructor(e){var i,o,r,a,l,p,f,h,v;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let x=((a=(r=(o=e==null?void 0:e.defaultText)===null||o===void 0?void 0:o.accessibility)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label)||((p=(l=e==null?void 0:e.accessibilityData)===null||l===void 0?void 0:l.accessibilityData)===null||p===void 0?void 0:p.label)||((f=e==null?void 0:e.accessibility)===null||f===void 0?void 0:f.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(x.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((v=(h=e.defaultServiceEndpoint)===null||h===void 0?void 0:h.commandExecutorCommand)===null||v===void 0)&&v.commands?new _(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new _(e.defaultServiceEndpoint),this.toggled_endpoint=new _(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(ha,"ToggleButton");ha.type="ToggleButton";var Se=ha;var _a=class extends s{constructor(e){var i,o;super(),this.creator_thumbnail=b.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n(_a,"CreatorHeart");_a.type="CreatorHeart";var bh=_a;var va=class extends s{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,Se),this.dislike_button=c.parseItem(e.dislikeButton,Se),this.reply_button=c.parseItem(e.replyButton,I),this.creator_heart=c.parseItem(e.creatorHeart,bh)}};n(va,"CommentActionButtons");va.type="CommentActionButtons";var qo=va;var xa=class extends s{constructor(e){super(),this.id=e.postId,this.author=new V(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=c.parseItem(e.actionMenu,F)),Reflect.has(e,"actionButtons")&&(this.action_buttons=c.parseItem(e.actionButtons,qo)),Reflect.has(e,"voteButton")&&(this.vote_button=c.parseItem(e.voteButton,I)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new _(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=c.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(xa,"BackstagePost");xa.type="BackstagePost";var si=xa;var ga=class extends s{constructor(e){super(),this.post=c.parseItem(e.post)}};n(ga,"BackstagePostThread");ga.type="BackstagePostThread";var Mg=ga;var ba=class extends s{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(ba,"BrowseFeedActions");ba.type="BrowseFeedActions";var yh=ba;var ya=class extends s{constructor(e){super(),this.album=new u(e.album),this.thumbnails=b.fromResponse(e.thumbnailDetails)}};n(ya,"BrowserMediaSession");ya.type="BrowserMediaSession";var Vg=ya;var Xo=class extends s{constructor(e){super(),this.endpoint=new _(e.navigationEndpoint),this.icon=b.fromResponse(e.icon),this.title=new u(e.title)}};n(Xo,"HeaderLink");Xo.type="HeaderLink";var wa=class extends s{constructor(e){var i,o;super(),this.primary=re(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>new Xo(r)))||[]),this.secondary=re(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(r=>new Xo(r)))||[])}};n(wa,"ChannelHeaderLinks");wa.type="ChannelHeaderLinks";var wh=wa;var Ta=class extends s{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};n(Ta,"ChannelHeaderLinksView");Ta.type="ChannelHeaderLinksView";var Th=Ta;var Sa=class extends s{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:D.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,zo),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new _(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};n(Sa,"ChannelTagline");Sa.type="ChannelTagline";var Sh=Sa;var Ia=class extends s{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:c.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(Ia,"SubscriptionNotificationToggleButton");Ia.type="SubscriptionNotificationToggleButton";var Ih=Ia;var ka=class extends s{constructor(e){var i,o;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=c.parseItem(e.notificationPreferenceButton,Ih),this.endpoint=new _(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(ka,"SubscribeButton");ka.type="SubscribeButton";var Ve=ka;var Ca=class extends s{constructor(e){super(),this.author=new V({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=b.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=b.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=b.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=c.parseItem(e.sponsorButton,I)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=c.parseItem(e.subscribeButton,[Ve,I])),Reflect.has(e,"headerLinks")&&(this.header_links=c.parseItem(e.headerLinks,[wh,Th])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=c.parseItem(e.tagline,Sh))}};n(Ca,"C4TabbedHeader");Ca.type="C4TabbedHeader";var ai=Ca;var Ea=class extends s{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(Ea,"CallToActionButton");Ea.type="CallToActionButton";var Bg=Ea;var Na=class extends s{constructor(e){super(),this.teaser=c.parseItem(e.teaser),this.content=c.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(Na,"Card");Na.type="Card";var Dg=Na;var Pa=class extends s{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(Pa,"CarouselHeader");Pa.type="CarouselHeader";var kh=Pa;var Ra=class extends s{constructor(e){super(),this.items=c.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=b.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(Ra,"CarouselItem");Ra.type="CarouselItem";var Og=Ra;var Aa=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new V(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new _(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,[Ve,I]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return this.subscriber_count}get videos(){return this.video_count}};n(Aa,"Channel");Aa.type="Channel";var Ch=Aa;var Ma=class extends s{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=b.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>({endpoint:new _(r.navigationEndpoint),icon:b.fromResponse(r.icon),title:new u(r.title)})))!==null&&o!==void 0?o:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new _(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=c.parseArray(e.actionButtons,I)}get views(){return this.view_count}get joined(){return this.joined_date}};n(Ma,"ChannelAboutFullMetadata");Ma.type="ChannelAboutFullMetadata";var Va=Ma;var Ba=class extends s{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=b.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=D.parseItem(e.signInButton,I),this.secondary_text=new u(e.secondaryText)}};n(Ba,"ChannelAgeGate");Ba.type="ChannelAgeGate";var Lg=Ba;var Da=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items)}};n(Da,"ChannelFeaturedContent");Da.type="ChannelFeaturedContent";var Fg=Da;var Oa=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=b.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(Oa,"ChannelMetadata");Oa.type="ChannelMetadata";var Eh=Oa;var La=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(La,"ChannelMobileHeader");La.type="ChannelMobileHeader";var Yg=La;var Fa=class extends s{constructor(e){super(),this.avatar=b.fromResponse(e.avatar),this.endpoint=new _(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};n(Fa,"ChannelOptions");Fa.type="ChannelOptions";var Nh=Fa;var Ya=class extends s{constructor(e){super(),this.illustration=b.fromResponse(e.illustration),this.description=new u(e.description)}};n(Ya,"ChannelOwnerEmptyState");Ya.type="ChannelOwnerEmptyState";var jg=Ya;var ja=class extends s{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new _(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=c.parseItem(e.sortSetting)}};n(ja,"ChannelSubMenu");ja.type="ChannelSubMenu";var Ua=ja;var Wa=class extends s{constructor(e){var i,o;super(),this.thumbnails=b.fromResponse(e.thumbnail),this.endpoint=new _(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(Wa,"ChannelThumbnailWithLink");Wa.type="ChannelThumbnailWithLink";var Ug=Wa;var Ja=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return this.view_count}get published(){return this.published_time}};n(Ja,"ChannelVideoPlayer");Ja.type="ChannelVideoPlayer";var Wg=Ja;var Ha=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=b.fromResponse(e.thumbnail)}};n(Ha,"Chapter");Ha.type="Chapter";var Ph=Ha;var Ga=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:Ee(e.lengthText.simpleText)},this.endpoint=new _(e.navigationEndpoint)}};n(Ga,"ChildVideo");Ga.type="ChildVideo";var Jg=Ga;var za=class extends s{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new _(e.navigationEndpoint)),this.text=new u(e.text).toString()}};n(za,"ChipCloudChip");za.type="ChipCloudChip";var pe=za;var Ka=class extends s{constructor(e){super(),this.chips=c.parseArray(e.chips,pe),this.next_button=c.parseItem(e.nextButton,I),this.previous_button=c.parseItem(e.previousButton,I),this.horizontal_scrollable=e.horizontalScrollable}};n(Ka,"ChipCloud");Ka.type="ChipCloud";var Ze=Ka;var $a=class extends s{constructor(e){super(),this.channel_avatar=b.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new _(e.endpoint)}};n($a,"CollaboratorInfoCardContent");$a.type="CollaboratorInfoCardContent";var Hg=$a;var qa=class extends s{constructor(e){super(),this.left=b.fromResponse(e.leftThumbnail),this.top_right=b.fromResponse(e.topRightThumbnail),this.bottom_right=b.fromResponse(e.bottomRightThumbnail),this.endpoint=new _(e.navigationEndpoint)}};n(qa,"CollageHeroImage");qa.type="CollageHeroImage";var Gg=qa;var Rh,Xa=class extends s{constructor(e){super(),Rh.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),S(this,Rh,e,"f")}get orig_badge(){return d(this,Rh,"f")}};n(Xa,"AuthorCommentBadge");Rh=new WeakMap;Xa.type="AuthorCommentBadge";var Ah=Xa;var Qa=class extends s{constructor(e){super(),this.reply_button=c.parseItem(e.replyButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.author_thumbnail=b.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};n(Qa,"CommentReplyDialog");Qa.type="CommentReplyDialog";var Mh=Qa;var Za=class extends s{constructor(e){var i,o;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(Za,"PdgCommentChip");Za.type="PdgCommentChip";var Vh=Za;var eu=class extends s{constructor(e){super(),this.custom_badge=b.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n(eu,"SponsorCommentBadge");eu.type="SponsorCommentBadge";var Bh=eu;var tn={};Ce(tn,{decodeVisitorData:()=>Fh,encodeChannelAnalyticsParams:()=>AS,encodeCommentActionParams:()=>dx,encodeCommentParams:()=>DS,encodeCommentsSectionParams:()=>BS,encodeCustomThumbnailPayload:()=>FS,encodeHashtag:()=>YS,encodeMessageParams:()=>px,encodeMusicSearchFilters:()=>VS,encodeNotificationPref:()=>OS,encodeSearchFilters:()=>MS,encodeVideoMetadataPayload:()=>LS,encodeVisitorData:()=>cx});var E;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(E||(E={}));var L=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+Oh(ox(this),Dh).toString(!1);let r=[],a=new L(i,o);for(;cS(a,uS);){let[l,p]=lS(a);r.push(p),a=l}return r.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new L(0);if(e.length<10)return i<0?Oh(ox(new L(-i)),Dh):new L(i);let r=new L,a=Dh;for(let l of e.split("").reverse())parseInt(l)&&(r=Oh(r,zg(new L(parseInt(l)),a))),a=zg(a,new L(10));return o?Oh(ox(r),Dh):r}};n(L,"Long");var uS=new L(0),Dh=new L(1);function Lh(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(Lh,"makeChunk");function Oh(t,e){let[i,o,r,a]=Lh(t),[l,p,f,h]=Lh(e),v=0,x=0,y=0,w=0;return w+=i+l,y+=w>>>16,w&=65535,y+=o+p,x+=y>>>16,y&=65535,x+=r+f,v+=x>>>16,x&=65535,v+=a+h,v&=65535,new L(y<<16|w,v<<16|x)}n(Oh,"add");function zg(t,e){let[i,o,r,a]=Lh(t),[l,p,f,h]=Lh(e),v=0,x=0,y=0,w=0;return w+=i*l,y+=w>>>16,w&=65535,y+=i*p+o*l,x+=y>>>16,y&=65535,x+=i*f+r*l+o*p,v+=x>>>16,x&=65535,v+=i*h+o*f+r*p+a*l,v&=65535,new L(y<<16|w,v<<16|x)}n(zg,"mul");function lS(t){let[e,i]=t;return[new L((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n(lS,"divByTen");function cS(t,e){let[i,o]=t,[r,a]=e;return o!==a?o-a:i-r}n(cS,"compare");function ox(t){let[e,i]=t;return new L(~e,~i)}n(ox,"negate");function Qo(t){let e=[],r=typeof t=="number"?new L(t):t;for(;r[0]||r[1];){let[a,l]=r,p=a&127,f=l>>>7,h=a>>>7|(l&127)<<32-7;r=new L(h,f);let v=r[0]||r[1]?p|128:p;e.push(v)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(Qo,"encode");function Zo(t){let e=new L(0),i=0;for(;;){let o=t.getUint8(i);if(e=pS(e,dS(new L(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(Zo,"decode");function pS(t,e){return new L(t[0]|e[0],t[1]|e[1])}n(pS,"or");function dS(t,e){return e===0?t:e>=32?new L(0,t[0]<<e-32):new L(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n(dS,"leftshift");function N(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(Qo(i<<3|o.type)),o.type){case E.Varint:e.push(Qo(o.value));break;case E.Fixed64:{let r=new Uint8Array(8),a=new DataView(r.buffer);a.setUint32(0,o.value[0],!0),a.setUint32(4,o.value[1],!0),e.push(r);break}case E.LengthDelimited:e.push(Qo(o.value.byteLength)),e.push(o.value);break;case E.Fixed32:{let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,o.value,!0),e.push(r);break}}}),nx(e)}n(N,"serialize");function nx(t){let e=t.reduce((o,r)=>o+r.byteLength,0),i=new Uint8Array(e);return t.reduce((o,r)=>(i.set(r,o),o+r.byteLength),0),i}n(nx,"concat");function rx(t){if(t instanceof L){let e=new L(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new L(4294967295,4294967295):new L;return new L(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(rx,"encode");function sx(t){if(t instanceof L){let e=new L(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new L(4294967295,4294967295):new L;return new L(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(sx,"decode");var ax={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>sx(t[0]),sint64:t=>sx(t).toString(!0),bool:t=>t[0]!==0},ux={int32:t=>new L(t),int64:t=>L.parse(t),uint32:t=>new L(t),uint64:t=>L.parse(t),sint32:t=>rx(new L(t)),sint64:t=>rx(L.parse(t)),bool:t=>new L(+t)},fS=Object.fromEntries(Object.entries(ax).map(([t,e])=>[t,i=>{if(i.type===E.Varint)return e(i.value)}])),mS=Object.fromEntries(Object.entries(ux).map(([t,e])=>[t,i=>({type:E.Varint,value:e(i)})])),J=Object.assign(Object.assign({},fS),{double:t=>t.type!==E.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==E.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===E.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===E.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===E.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===E.Fixed64)return t.value.toString(!0)},string:t=>t.type!==E.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===E.LengthDelimited)return t.value}}),k=Object.assign(Object.assign({},mS),{double:t=>{let e=new L;return new DataView(e.buffer).setFloat64(0,t,!0),{type:E.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:E.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:E.Fixed32,value:t>>>0}),fixed64:t=>({type:E.Fixed64,value:L.parse(t)}),sfixed32:t=>({type:E.Fixed32,value:t|0}),sfixed64:t=>({type:E.Fixed64,value:L.parse(t)}),string:t=>{let e=new TextEncoder;return{type:E.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:E.LengthDelimited,value:t})}),hS=Object.fromEntries(Object.keys(ax).map(t=>[t,function*(e){for(let i of e){let o=J[t](i);if(o!=null)yield o;else for(let r of gS(i))yield ax[t](r)}}])),H3=Object.assign(Object.assign({},hS),{*double(t){for(let e of t){let i=J.double(e);i!=null?yield i:yield*vS(e)}},*float(t){for(let e of t){let i=J.float(e);i!=null?yield i:yield*xS(e)}},*fixed32(t){for(let e of t){let i=J.fixed32(e);if(i!=null)yield i;else for(let o of Kg(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=J.fixed64(e);if(i!=null)yield i;else for(let o of $g(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=J.sfixed32(e);if(i!=null)yield i;else for(let o of Kg(e))yield o|0}},*sfixed64(t){for(let e of t){let i=J.sfixed64(e);if(i!=null)yield i;else for(let o of $g(e))yield o.toString(!0)}}}),_S=Object.fromEntries(Object.keys(ux).map(t=>[t,function(e){return{type:E.LengthDelimited,value:nx(e.map(i=>{let o=ux[t](i);return Qo(o)}))}}]));function en(t,e){return n(function(o){let r=new Uint8Array(o.length*t),a=new DataView(r.buffer);for(let l=0;l<o.length;++l)e(a,l*t,o[l]);return{type:E.LengthDelimited,value:r}},"pack")}n(en,"getFixedPackFn");var G3=Object.assign(Object.assign({},_S),{double:en(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:en(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:en(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:en(8,(t,e,i)=>{let o=L.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:en(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:en(8,(t,e,i)=>{let o=L.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*vS(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat64(i,!0);i+=4,yield r}}n(vS,"unpackDouble");function*xS(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat32(i,!0);i+=4,yield r}}n(xS,"unpackFloat");function*gS(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let r=Zo(new DataView(e.buffer,o+i));i+=r[0],yield r[1]}}n(gS,"unpackVarint");function*Kg(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4,yield r}}n(Kg,"unpackFixed32");function*$g(t){if(t.type!==E.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4;let a=o.getUint32(i,!0);i+=4,yield new L(r,a)}}n($g,"unpackFixed64");function H(t){let e=0,i=t.byteOffset,o=[],r=new DataView(t.buffer,i);for(;e<t.length;){let a=Zo(new DataView(t.buffer,i+e)),l=a[1][0];e+=a[0];let p=l&7,f=l>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case E.Varint:{let[x,y]=Zo(new DataView(t.buffer,i+e));o.push([f,{type:p,value:y}]),e+=x;break}case E.Fixed64:let h=r.getUint32(e,!0),v=r.getUint32(e+=4,!0);e+=4,o.push([f,{type:p,value:new L(h,v)}]);break;case E.LengthDelimited:{let[x,y]=Zo(new DataView(t.buffer,i+e));o.push([f,{type:p,value:t.subarray(e+=x,e+=y[0])}]);break}case E.StartGroup:case E.EndGroup:o.push([f,{type:p}]);break;case E.Fixed32:o.push([f,{type:p,value:r.getUint32(e,!0)}]),e+=4;break}}return o}n(H,"deserialize");function bS(){return{id:"",timestamp:0}}n(bS,"getDefaultValue");function qg(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,k.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,k.int32(i)])}return N(e)}n(qg,"encodeBinary");function Xg(t){let e=bS(),i=H(t),o=new Map(i);e:{let r=o.get(1);if(r===void 0)break e;let a=J.string(r);if(a===void 0)break e;e.id=a}e:{let r=o.get(5);if(r===void 0)break e;let a=J.int32(r);if(a===void 0)break e;e.timestamp=a}return e}n(Xg,"decodeBinary");function Qg(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,k.string(i)])}return N(e)}n(Qg,"encodeBinary");function Zg(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:E.LengthDelimited,value:Qg(i)}])}return N(e)}n(Zg,"encodeBinary");function eb(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,k.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,k.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,k.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,k.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,k.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,k.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,k.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,k.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,k.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,k.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,k.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,k.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,k.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,k.int32(i)])}return N(e)}n(eb,"encodeBinary");function tb(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,k.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:E.LengthDelimited,value:eb(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,k.int32(i)])}return N(e)}n(tb,"encodeBinary");function ib(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,k.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,k.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,k.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,k.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,k.int32(i)])}return N(e)}n(ib,"encodeBinary");function ob(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:E.LengthDelimited,value:ib(i)}])}return N(e)}n(ob,"encodeBinary");function nb(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:E.LengthDelimited,value:ob(i)}])}return N(e)}n(nb,"encodeBinary");function rb(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,k.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,k.string(i)])}return N(e)}n(rb,"encodeBinary");function sb(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:E.LengthDelimited,value:rb(i)}])}return N(e)}n(sb,"encodeBinary");function ab(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:E.LengthDelimited,value:sb(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,k.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,k.int32(i)])}return N(e)}n(ab,"encodeBinary");function ub(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,k.string(i)])}return N(e)}n(ub,"encodeBinary");function lb(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,k.int32(i)])}return N(e)}n(lb,"encodeBinary");function cb(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,k.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:E.LengthDelimited,value:lb(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,k.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,k.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,k.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,k.int32(i)])}return N(e)}n(cb,"encodeBinary");function pb(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,k.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,k.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,k.int32(i)])}return N(e)}n(pb,"encodeBinary");function db(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,k.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:E.LengthDelimited,value:cb(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:E.LengthDelimited,value:pb(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,k.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,k.string(i)])}return N(e)}n(db,"encodeBinary");function fb(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:E.LengthDelimited,value:ub(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,k.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:E.LengthDelimited,value:db(i)}])}return N(e)}n(fb,"encodeBinary");function mb(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,k.int32(i)])}return N(e)}n(mb,"encodeBinary");function hb(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,k.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:E.LengthDelimited,value:mb(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,k.int32(i)])}return N(e)}n(hb,"encodeBinary");function _b(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,k.string(i)])}return N(e)}n(_b,"encodeBinary");function vb(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:E.LengthDelimited,value:_b(i)}])}return N(e)}n(vb,"encodeBinary");function xb(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,k.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:E.LengthDelimited,value:vb(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,k.string(i)])}return N(e)}n(xb,"encodeBinary");function gb(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,k.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,k.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,k.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,k.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,k.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:E.LengthDelimited,value:xb(i)}])}return N(e)}n(gb,"encodeBinary");function bb(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,k.int32(i)])}return N(e)}n(bb,"encodeBinary");function yb(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,k.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:E.LengthDelimited,value:bb(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,k.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,k.int32(i)])}return N(e)}n(yb,"encodeBinary");function wb(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,k.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,k.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,k.string(i)])}return N(e)}n(wb,"encodeBinary");function Tb(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:E.LengthDelimited,value:wb(i)}])}return N(e)}n(Tb,"encodeBinary");function Sb(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,k.string(i)])}return N(e)}n(Sb,"encodeBinary");function Ib(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,k.string(i)])}return N(e)}n(Ib,"encodeBinary");function kb(t){let e=[];for(let i of t.list)e.push([1,k.string(i)]);return N(e)}n(kb,"encodeBinary");function Cb(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,k.int32(i)])}return N(e)}n(Cb,"encodeBinary");function Eb(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,k.string(i)])}return N(e)}n(Eb,"encodeBinary");function Nb(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,k.bytes(i)])}return N(e)}n(Nb,"encodeBinary");function Pb(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,k.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:E.LengthDelimited,value:Nb(i)}])}return N(e)}n(Pb,"encodeBinary");function Rb(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,k.int32(i)])}return N(e)}n(Rb,"encodeBinary");function Ab(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,k.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,k.int32(i)])}return N(e)}n(Ab,"encodeBinary");function Mb(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,k.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,k.int32(i)])}return N(e)}n(Mb,"encodeBinary");function lx(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:E.LengthDelimited,value:Tb(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,k.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:E.LengthDelimited,value:Sb(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:E.LengthDelimited,value:Ib(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:E.LengthDelimited,value:kb(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:E.LengthDelimited,value:Cb(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:E.LengthDelimited,value:Eb(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:E.LengthDelimited,value:Pb(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:E.LengthDelimited,value:Rb(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:E.LengthDelimited,value:Ab(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:E.LengthDelimited,value:Mb(i)}])}return N(e)}n(lx,"encodeBinary");function Vb(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,k.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,k.int32(i)])}return N(e)}n(Vb,"encodeBinary");function Bb(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:E.LengthDelimited,value:Vb(i)}])}return N(e)}n(Bb,"encodeBinary");function cx(t,e){let i=qg({id:t,timestamp:e});return encodeURIComponent(ot(i).replace(/\+/g,"-").replace(/\//g,"_"))}n(cx,"encodeVisitorData");function Fh(t){return Xg(fx(decodeURIComponent(t)))}n(Fh,"decodeVisitorData");function AS(t){let e=Zg({params:{channelId:t}});return encodeURIComponent(ot(e))}n(AS,"encodeChannelAnalyticsParams");function MS(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},o={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},a={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},l={};if(t?l.filters={}:l.noFilter=0,l.filters&&(t.upload_date&&(l.filters.uploadDate=e[t.upload_date]),t.type&&(l.filters.type=i[t.type]),t.duration&&(l.filters.duration=o[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(l.sortBy=r[t.sort_by]),t.features))for(let f of t.features)l.filters[a[f]]=1;let p=tb(l);return encodeURIComponent(ot(p))}n(MS,"encodeSearchFilters");function VS(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let o=nb(i);return encodeURIComponent(ot(o))}n(VS,"encodeMusicSearchFilters");function px(t,e){let i=ab({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(ot(i)))}n(px,"encodeMessageParams");function BS(t,e={}){let o=fb({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(ot(o))}n(BS,"encodeCommentsSectionParams");function DS(t){let e=hb({videoId:t,params:{index:0},number:7});return encodeURIComponent(ot(e))}n(DS,"encodeCommentParams");function dx(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let o=gb(i);return encodeURIComponent(ot(o))}n(dx,"encodeCommentActionParams");function OS(t,e){let i=yb({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(ot(i))}n(OS,"encodeNotificationPref");function LS(t,e){let i={context:{client:{unkparam:14,clientName:W.ANDROID.NAME,clientVersion:W.YTSTUDIO_ANDROID.VERSION}},target:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),lx(i)}n(LS,"encodeVideoMetadataPayload");function FS(t,e){let i={context:{client:{unkparam:14,clientName:W.ANDROID.NAME,clientVersion:W.YTSTUDIO_ANDROID.VERSION}},target:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return lx(i)}n(FS,"encodeCustomThumbnailPayload");function YS(t){let e=Bb({params:{hashtag:t,type:1}});return encodeURIComponent(ot(e))}n(YS,"encodeHashtag");var mt,tu=class extends s{constructor(e){var i,o,r,a,l,p,f;super(),mt.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=b.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=c.parseItem(e.sponsorCommentBadge,Bh),this.paid_comment_chip=c.parseItem(e.paidCommentChipRenderer,Vh),this.author_badge=c.parseItem(e.authorCommentBadge,Ah),this.author=new V(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=c.parseItem(e.actionMenu,F),this.action_buttons=c.parseItem(e.actionButtons,qo),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((r=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||r===void 0)&&r.is_toggled),this.is_disliked=!!(!((l=(a=this.action_buttons)===null||a===void 0?void 0:a.dislike_button)===null||l===void 0)&&l.is_toggled),this.is_hearted=!!(!((f=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||f===void 0)&&f.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return T(this,void 0,void 0,function*(){if(!d(this,mt,"f"))throw new g("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new g("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new g("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,mt,"f"),{parse:!1})})}dislike(){var e;return T(this,void 0,void 0,function*(){if(!d(this,mt,"f"))throw new g("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new g("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new g("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,mt,"f"),{parse:!1})})}reply(e){var i,o,r;return T(this,void 0,void 0,function*(){if(!d(this,mt,"f"))throw new g("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new g("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let a=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((r=a.endpoint)===null||r===void 0)&&r.dialog))throw new g("Reply button endpoint did not have a dialog.");let p=a.endpoint.dialog.as(Mh).reply_button;if(!p)throw new g("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new g("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(d(this,mt,"f"),{commentText:e})})}translate(e){var i,o,r,a,l,p;return T(this,void 0,void 0,function*(){if(!d(this,mt,"f"))throw new g("An active caller must be provide to perform this operation.");let h={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},v=dx(22,h),x=yield d(this,mt,"f").execute("comment/perform_comment_action",{action:v,client:"ANDROID"}),y=(o=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,w=(p=(l=(a=(r=y==null?void 0:y[0])===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||l===void 0?void 0:l.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:w})})}setActions(e){S(this,mt,e,"f")}};n(tu,"Comment");mt=new WeakMap;tu.type="Comment";var on=tu;var iu=class extends s{constructor(e){super(),this.id=e.id,this.categories=c.parseArray(e.categories),this.category_buttons=c.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(iu,"EmojiPicker");iu.type="EmojiPicker";var Yh=iu;var ou=class extends s{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=b.fromResponse(e.authorThumbnail),this.submit_button=c.parseItem(e.submitButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.placeholder=new u(e.placeholderText),this.emoji_button=c.parseItem(e.emojiButton,I),this.emoji_picker=c.parseItem(e.emojiPicker,Yh)}};n(ou,"CommentDialog");ou.type="CommentDialog";var Db=ou;var nu=class extends s{constructor(e){super(),this.contents=c.parseArray(e.contents),this.view_replies=c.parseItem(e.viewReplies,I),this.hide_replies=c.parseItem(e.hideReplies,I),this.view_replies_creator_thumbnail=b.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(nu,"CommentReplies");nu.type="CommentReplies";var jh=nu;var ru=class extends s{constructor(e){super(),this.simplebox_avatar=b.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};n(ru,"CommentsSimplebox");ru.type="CommentsSimplebox";var Uh=ru;var su=class extends s{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=b.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};n(su,"CommentsEntryPointTeaser");su.type="CommentsEntryPointTeaser";var Wh=su;var au=class extends s{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=b.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=D.parseItem(e.contentRenderer,[Wh,Uh])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};n(au,"CommentsEntryPointHeader");au.type="CommentsEntryPointHeader";var Jh=au;var uu=class extends s{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=c.parseItem(e.createRenderer),this.sort_menu=c.parseItem(e.sortMenu,ft),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:b.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(uu,"CommentsHeader");uu.type="CommentsHeader";var nn=uu;var lu=class extends s{constructor(e){super(),this.submit_button=c.parseItem(e.submitButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.author_thumbnail=b.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};n(lu,"CommentSimplebox");lu.type="CommentSimplebox";var Hh=lu;var jt,Hi,cu=class extends s{constructor(e){super(),jt.set(this,void 0),Hi.set(this,void 0),this.comment=c.parseItem(e.comment,on),this.comment_replies_data=c.parseItem(e.replies,jh),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return T(this,void 0,void 0,function*(){if(!d(this,jt,"f"))throw new g("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new g("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(ce);if(!i)throw new g("Replies continuation not found.");let o=yield i.endpoint.call(d(this,jt,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new g("Unexpected response.",o);return this.replies=re(o.on_response_received_endpoints_memo.getType(on).map(r=>(r.setActions(d(this,jt,"f")),r))),S(this,Hi,o==null?void 0:o.on_response_received_endpoints_memo.getType(ce).first(),"f"),this})}getContinuation(){var e;return T(this,void 0,void 0,function*(){if(!this.replies)throw new g("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!d(this,Hi,"f"))throw new g("Continuation not found.");if(!d(this,jt,"f"))throw new g("Actions instance not set for this thread.");let i=(e=d(this,Hi,"f").button)===null||e===void 0?void 0:e.as(I);if(!i)throw new g('"Load more" button not found.');let o=yield i.endpoint.call(d(this,jt,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new g("Unexpected response.",o);return this.replies=re(o.on_response_received_endpoints_memo.getType(on).map(r=>(r.setActions(d(this,jt,"f")),r))),S(this,Hi,o.on_response_received_endpoints_memo.getType(ce).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new g("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!d(this,Hi,"f")}setActions(e){S(this,jt,e,"f")}};n(cu,"CommentThread");jt=new WeakMap,Hi=new WeakMap;cu.type="CommentThread";var Gh=cu;var pu=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=b.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new _(e.navigationEndpoint),this.tv_banner=b.fromResponse(e.tvBanner),this.menu=c.parseItem(e.menu,F)}};n(pu,"CompactChannel");pu.type="CompactChannel";var Ob=pu;var du=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new _(e.navigationEndpoint),this.style=e.style}};n(du,"CompactLink");du.type="CompactLink";var rn=du;var fu=class extends s{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail)}};n(fu,"PlaylistCustomThumbnail");fu.type="PlaylistCustomThumbnail";var sn=fu;var mu=class extends s{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail)}};n(mu,"PlaylistVideoThumbnail");mu.type="PlaylistVideoThumbnail";var an=mu;var hu=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new V(e.longBylineText,e.ownerBadges,null),this.thumbnails=b.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=c.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=c.parseItem(e.menu),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new _(e.navigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer,[an,sn])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};n(hu,"Playlist");hu.type="Playlist";var It=hu;var _u=class extends It{constructor(e){super(e)}};n(_u,"CompactMix");_u.type="CompactMix";var Lb=_u;var vu=class extends s{constructor(e){var i;super();let o=((i=e.thumbnailOverlays.find(a=>a.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new V(e.shortBylineText);let r=e.lengthText?new u(e.lengthText).toString():new u(o).toString();this.duration={text:r,seconds:Ee(r)},this.endpoint=new _(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=c.parseItem(e.menu,F)}};n(vu,"CompactMovie");vu.type="CompactMovie";var Fb=vu;var xu=class extends It{constructor(e){super(e)}};n(xu,"CompactPlaylist");xu.type="CompactPlaylist";var Yb=xu;var gu=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new _(e.navigationEndpoint),this.thumbnail=b.fromResponse(e.thumbnail)}};n(gu,"CompactStation");gu.type="CompactStation";var jb=gu;var bu=class extends s{constructor(e){super(),this.title=new u(e.title),this.confirm_button=c.parseItem(e.confirmButton,I),this.cancel_button=c.parseItem(e.cancelButton,I),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(bu,"ConfirmDialog");bu.type="ConfirmDialog";var Ub=bu;var yu=class extends s{constructor(e){super(),this.text=new u(e.text)}};n(yu,"Message");yu.type="Message";var Ge=yu;var wu=class extends s{constructor(e){super(),this.availability_message=c.parseItem(e.availabilityMessage,Ge)}};n(wu,"ConversationBar");wu.type="ConversationBar";var Wb=wu;var Tu=class extends s{constructor(e){super(),this.copy_button=c.parseItem(e.copyButton,I),this.short_url=e.shortUrl,this.style=e.style}};n(Tu,"CopyLink");Tu.type="CopyLink";var zh=Tu;var Su=class extends s{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(Su,"HeatMarker");Su.type="HeatMarker";var Kh=Su;var Iu=class extends s{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=c.parseArray(e.heatMarkers,Kh),this.heat_markers_decorations=c.parseArray(e.heatMarkersDecorations)}};n(Iu,"Heatmap");Iu.type="Heatmap";var $h=Iu;var ku=class extends s{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=c.parseItem(e.value.heatmap,$h)),Reflect.has(e.value,"chapters")&&(this.value.chapters=c.parseArray(e.value.chapters,Ph)))}};n(ku,"Marker");ku.type="Marker";var Cu=class extends s{constructor(e){var i;super(),this.markers_map=re(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new ku(o)))||[])}};n(Cu,"MultiMarkersPlayerBar");Cu.type="MultiMarkersPlayerBar";var qh=Cu;var Eu=class extends s{constructor(e){super(),this.player_bar=c.parseItem(e.playerBar,qh),this.player_bar_action_button=c.parseItem(e.playerBarActionButton,I)}};n(Eu,"DecoratedPlayerBar");Eu.type="DecoratedPlayerBar";var Xh=Eu;var Nu=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new _(e.navigationEndpoint),this.large_form_factor_background_thumbnail=c.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=c.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(Nu,"DefaultPromoPanel");Nu.type="DefaultPromoPanel";var Jb=Nu;var Pu=class extends s{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new _(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(Pu,"DidYouMean");Pu.type="DidYouMean";var Qh=Pu;var Ru=class extends s{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new _(e.command),this.target_id=e.targetId}};n(Ru,"DownloadButton");Ru.type="DownloadButton";var Hb=Ru;var Au=class extends s{constructor(e){super(),this.text=e.text.content}};n(Au,"DynamicTextView");Au.type="DynamicTextView";var Zh=Au;var Gi=class extends s{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new Gi(o)))}};n(Gi,"ChildElement");Gi.type="ChildElement";var e_=Gi;var zi=class extends s{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return c.parseItem(e,zi);let o=e.newElement.type.componentType;this.model=c.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=re(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(r=>new e_(r)))||[]))}};n(zi,"Element");zi.type="Element";var un=zi;var Mu=class extends s{constructor(e){super(),this.title=new u(e.title),this.first_option=c.parseItem(e.firstOption),this.menu=c.parseItem(e.menu,F)}};n(Mu,"EmergencyOnebox");Mu.type="EmergencyOnebox";var Gb=Mu;var Vu=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n(Vu,"EmojiPickerCategory");Vu.type="EmojiPickerCategory";var zb=Vu;var Bu=class extends s{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(Bu,"EmojiPickerCategoryButton");Bu.type="EmojiPickerCategoryButton";var Kb=Bu;var Du=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new _(e.command),this.emoji_ids=e.emojiIds}};n(Du,"EmojiPickerUpsellCategory");Du.type="EmojiPickerUpsellCategory";var $b=Du;var Ou=class extends s{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new _(e.endpoint),Reflect.has(e,"image")&&(this.image=b.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=b.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=c.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(Ou,"EndscreenElement");Ou.type="EndscreenElement";var qb=Ou;var Lu=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new _(e.navigationEndpoint),this.thumbnails=b.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};n(Lu,"EndScreenPlaylist");Lu.type="EndScreenPlaylist";var t_=Lu;var Fu=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new V(e.shortBylineText,e.ownerBadges),this.endpoint=new _(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=c.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(Fu,"EndScreenVideo");Fu.type="EndScreenVideo";var i_=Fu;var Yu=class extends s{constructor(e){super(),this.title=e.title,this.endpoint=new _(e.endpoint),this.selected=e.selected,this.content=c.parseItem(e.content)}};n(Yu,"ExpandableTab");Yu.type="ExpandableTab";var ln=Yu;var ju=class extends s{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(ju,"ExpandedShelfContents");ju.type="ExpandedShelfContents";var Xb=ju;var Uu=class extends s{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};n(Uu,"FancyDismissibleDialog");Uu.type="FancyDismissibleDialog";var Qb=Uu;var Wu=class extends s{constructor(e){super(),this.contents=c.parseArray(e.contents,pe)}};n(Wu,"FeedFilterChipBar");Wu.type="FeedFilterChipBar";var Ut=Wu;var Ju=class extends s{constructor(e){super(),this.title=new Text(e.title),this.subtitle=new Text(e.subtitle),this.endpoint=new _(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};n(Ju,"FeedNudge");Ju.type="FeedNudge";var Zb=Ju;var Hu=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Hu,"FeedTabbedHeader");Hu.type="FeedTabbedHeader";var o_=Hu;var Gu=class extends s{constructor(e){super(),this.title=new u(e.title),this.box_art=b.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new _(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(Gu,"GameDetails");Gu.type="GameDetails";var ey=Gu;var zu=class extends s{constructor(e){var i,o,r;super(),this.items=c.parseArray(e.items),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}get contents(){return this.items}};n(zu,"Grid");zu.type="Grid";var Ki=zu;var Ku=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new V(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new _(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton)}};n(Ku,"GridChannel");Ku.type="GridChannel";var n_=Ku;var $u=class extends s{constructor(e){super(),this.title=new u(e.title)}};n($u,"GridHeader");$u.type="GridHeader";var ty=$u;var qu=class extends s{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new u(e.longBylineText):null,this.thumbnails=b.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new _(e.navigationEndpoint),this.secondary_endpoint=new _(e.secondaryNavigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};n(qu,"GridMix");qu.type="GridMix";var iy=qu;var Xu=class extends s{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=b.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):o!=null&&o.text?new u(o.text):null,this.endpoint=new _(e.navigationEndpoint),this.badges=c.parseArray(e.badges,He),this.metadata=new u(e.metadata),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};n(Xu,"GridMovie");Xu.type="GridMovie";var oy=Xu;var Qu=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new V(e.shortBylineText,e.ownerBadges)),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new _(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>b.fromResponse(o)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};n(Qu,"GridPlaylist");Qu.type="GridPlaylist";var r_=Qu;var Zu=class extends s{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail)}};n(Zu,"ShowCustomThumbnail");Zu.type="ShowCustomThumbnail";var s_=Zu;var el=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(el,"ThumbnailOverlayBottomPanel");el.type="ThumbnailOverlayBottomPanel";var a_=el;var tl=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=te(e.thumbnailRenderer,s_),this.endpoint=new _(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=Be(e.thumbnailOverlays,a_),this.author=new V(e.shortBylineText,void 0)}};n(tl,"GridShow");tl.type="GridShow";var ny=tl;var il=class extends s{constructor(e){var i,o;super();let r=(i=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.rich_thumbnail=c.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):r!=null&&r.text?new u(r.text):null,this.author=e.shortBylineText&&new V(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new _(e.navigationEndpoint),this.menu=c.parseItem(e.menu,F),Reflect.has(e,"buttons")&&(this.buttons=c.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(il,"GridVideo");il.type="GridVideo";var u_=il;var ol=class extends s{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new _(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=b.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(ol,"GuideEntry");ol.type="GuideEntry";var $i=ol;var nl=class extends s{constructor(e){super(),this.expander_item=te(e.expanderItem,$i),this.collapser_item=te(e.collapserItem,$i),this.expandable_items=Be(e.expandableItems)}};n(nl,"GuideCollapsibleEntry");nl.type="GuideCollapsibleEntry";var ry=nl;var rl=class extends s{constructor(e){super(),this.header_entry=te(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Be(e.sectionItems)}};n(rl,"GuideCollapsibleSectionEntry");rl.type="GuideCollapsibleSectionEntry";var sy=rl;var sl=class extends $i{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(sl,"GuideDownloadsEntry");sl.type="GuideDownloadsEntry";var ay=sl;var al=class extends s{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=Be(e.items)}};n(al,"GuideSection");al.type="GuideSection";var cn=al;var ul=class extends cn{};n(ul,"GuideSubscriptionsSection");ul.type="GuideSubscriptionsSection";var l_=ul;var ll=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};n(ll,"HashtagHeader");ll.type="HashtagHeader";var c_=ll;var cl=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=b.fromResponse(e.hashtagThumbnail),this.endpoint=new _(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};n(cl,"HashtagTile");cl.type="HashtagTile";var uy=cl;var pl=class extends s{constructor(e){super(),this.thumbnails=b.fromResponse(e.thumbnail),this.on_tap_endpoint=new _(e.onTap)}};n(pl,"HeroPlaylistThumbnail");pl.type="HeroPlaylistThumbnail";var ly=pl;var dl=class extends s{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:e.thumbnail.image.sources,endpoint:new _(e.thumbnail.onTap),on_long_press_endpoint:new _(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:e.backgroundImage.image.sources,gradient_image:e.backgroundImage.gradientImage.sources},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new _(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new _(e.textOnTap)}};n(dl,"Panel");dl.type="Panel";var fl=class extends s{constructor(e){super(),this.panels=re(e.highlightsCarousel.panels.map(i=>new dl(i)))}};n(fl,"HighlightsCarousel");fl.type="HighlightsCarousel";var ml=fl;var hl=class extends s{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new _(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new _(e.serviceEndpoint))}};n(hl,"SearchSuggestion");hl.type="SearchSuggestion";var p_=hl;var _l=class extends p_{constructor(e){super(e)}};n(_l,"HistorySuggestion");_l.type="HistorySuggestion";var cy=_l;var vl=class extends s{constructor(e){super(),this.items=c.parseArray(e.items),this.previous_button=c.parseItem(e.previousButton,I),this.next_button=c.parseItem(e.nextButton,I)}get contents(){return this.items}};n(vl,"HorizontalMovieList");vl.type="HorizontalMovieList";var py=vl;var xl=class extends s{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new _(e.navigationEndpoint)}};n(xl,"IconLink");xl.type="IconLink";var d_=xl;var gl=class extends s{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new _(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new _(e.originalQueryEndpoint):void 0}};n(gl,"IncludingResultsFor");gl.type="IncludingResultsFor";var dy=gl;var bl=class extends s{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),this.paragraphs=e.paragraphs.map(i=>new u(i)),this.thumbnail=b.fromResponse(e.thumbnail),this.source_endpoint=new _(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(bl,"InfoPanelContent");bl.type="InfoPanelContent";var f_=bl;var yl=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.menu=c.parseItem(e.menu,F),this.content=c.parseItem(e.content,f_),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(yl,"InfoPanelContainer");yl.type="InfoPanelContainer";var fy=yl;var wl=class extends s{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=c.parseArray(e.badges,He),this.box_art=b.fromResponse(e.boxArt),this.banner=b.fromResponse(e.banner),this.buttons=c.parseArray(e.buttons,[Ve,I]),this.auto_generated=new u(e.autoGenerated)}};n(wl,"InteractiveTabbedHeader");wl.type="InteractiveTabbedHeader";var m_=wl;var Tl=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Tl,"ItemSectionHeader");Tl.type="ItemSectionHeader";var h_=Tl;var Sl=class extends s{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new _(e.endpoint)}};n(Sl,"ItemSectionTab");Sl.type="Tab";var __=Sl;var Il=class extends s{constructor(e){super(),this.title=new u(e.title),this.tabs=c.parseArray(e.tabs,__),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};n(Il,"ItemSectionTabbedHeader");Il.type="ItemSectionTabbedHeader";var v_=Il;var kl=class extends s{constructor(e){var i,o,r;super(),this.header=c.parseItem(e.header,[nn,h_,v_]),this.contents=c.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(kl,"ItemSection");kl.type="ItemSection";var de=kl;var Cl=class extends s{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new _(i)))}};n(Cl,"LikeButton");Cl.type="LikeButton";var my=Cl;var El=class extends s{constructor(e){var i,o;super(),this.header=c.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(El,"LiveChat");El.type="LiveChat";var x_=El;var Nl=class extends s{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=c.parseItem(e.contextMenuButton,I)}};n(Nl,"LiveChatBannerHeader");Nl.type="LiveChatBannerHeader";var g_=Nl;var Pl=class extends s{constructor(e){super(),this.header=c.parseItem(e.header,g_),this.contents=c.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(Pl,"LiveChatBanner");Pl.type="LiveChatBanner";var b_=Pl;var Rl=class extends s{constructor(e){super(),this.banner=c.parseItem(e.bannerRenderer,b_)}};n(Rl,"AddBannerToLiveChatCommand");Rl.type="AddBannerToLiveChatCommand";var hy=Rl;var Al=class extends s{constructor(e){super(),this.item=c.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(Al,"AddChatItemAction");Al.type="AddChatItemAction";var y_=Al;var Ml=class extends s{constructor(e){super(),this.item=c.parseItem(e.item),this.duration_sec=e.durationSec}};n(Ml,"AddLiveChatTickerItemAction");Ml.type="AddLiveChatTickerItemAction";var _y=Ml;var Vl=class extends s{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(Vl,"DimChatItemAction");Vl.type="DimChatItemAction";var vy=Vl;var Bl=class extends s{constructor(e){super(),this.menu_endpoint=new _(e.contextMenuEndpoint),this.moderation_buttons=c.parseArray(e.moderationButtons,I),this.auto_moderated_item=c.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Bl,"LiveChatAutoModMessage");Bl.type="LiveChatAutoModMessage";var xy=Bl;var Dl=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=b.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=c.parseItem(e.contextMenuButton,I)}};n(Dl,"LiveChatBannerPoll");Dl.type="LiveChatBannerPoll";var gy=Dl;var Ol=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new _(e.contextMenuEndpoint)}};n(Ol,"LiveChatMembershipItem");Ol.type="LiveChatMembershipItem";var by=Ol;var Ll=class extends s{constructor(e){super(),this.message=new u(e.message),this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new _(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};n(Ll,"LiveChatPaidMessage");Ll.type="LiveChatPaidMessage";var yy=Ll;var Fl=class extends s{constructor(e){super(),this.id=e.id,this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=b.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new _(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Fl,"LiveChatPaidSticker");Fl.type="LiveChatPaidSticker";var wy=Fl;var Yl=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Yl,"LiveChatPlaceholderItem");Yl.type="LiveChatPlaceholderItem";var Ty=Yl;var jl=class extends s{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=b.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=c.parseItem(e.informationButton),this.endpoint=new _(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=b.fromResponse(e.authorPhoto),this.information_dialog=c.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};n(jl,"LiveChatProductItem");jl.type="LiveChatProductItem";var Sy=jl;var Ul=class extends s{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(Ul,"LiveChatRestrictedParticipation");Ul.type="LiveChatRestrictedParticipation";var Iy=Ul;var qi=class extends s{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=c.parseArray(e.inlineActionButtons,I),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(qi,"LiveChatMessageBase");qi.type="LiveChatMessageBase";var Wl=class extends qi{constructor(e){super(e),this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new _(e.contextMenuEndpoint)}};n(Wl,"LiveChatTextMessage");Wl.type="LiveChatTextMessage";var ky=Wl;var Jl=class extends s{constructor(e){var i,o;super(),this.author=new V(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=c.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new _(e.showItemEndpoint),this.id=e.id}};n(Jl,"LiveChatTickerPaidMessageItem");Jl.type="LiveChatTickerPaidMessageItem";var w_=Jl;var Hl=class extends w_{};n(Hl,"LiveChatTickerPaidStickerItem");Hl.type="LiveChatTickerPaidStickerItem";var Cy=Hl;var Gl=class extends s{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new V(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(Gl,"LiveChatTickerSponsorItem");Gl.type="LiveChatTickerSponsorItem";var Ey=Gl;var zl=class extends qi{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=c.parseItem(e.actionButton)}};n(zl,"LiveChatViewerEngagementMessage");zl.type="LiveChatViewerEngagementMessage";var Ny=zl;var Kl=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=b.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=c.parseItem(e.contextMenuButton,I)}};n(Kl,"PollHeader");Kl.type="PollHeader";var Py=Kl;var $l=class extends s{constructor(e){super(),this.id=e.id,this.contents=c.parse(e.contents),this.target_id=e.targetId}};n($l,"LiveChatActionPanel");$l.type="LiveChatActionPanel";var T_=$l;var ql=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(ql,"MarkChatItemAsDeletedAction");ql.type="MarkChatItemAsDeletedAction";var Ry=ql;var Xl=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(Xl,"MarkChatItemsByAuthorAsDeletedAction");Xl.type="MarkChatItemsByAuthorAsDeletedAction";var Ay=Xl;var Ql=class extends s{constructor(e){super(),this.target_action_id=e.targetActionId}};n(Ql,"RemoveBannerForLiveChatCommand");Ql.type="RemoveBannerForLiveChatCommand";var My=Ql;var Zl=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId}};n(Zl,"RemoveChatItemAction");Zl.type="RemoveChatItemAction";var Vy=Zl;var ec=class extends s{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(ec,"RemoveChatItemByAuthorAction");ec.type="RemoveChatItemByAuthorAction";var By=ec;var tc=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=c.parseItem(e.replacementItem)}};n(tc,"ReplaceChatItemAction");tc.type="ReplaceChatItemAction";var Dy=tc;var ic=class extends s{constructor(e){var i;super(),this.actions=c.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(ic,"ReplayChatItemAction");ic.type="ReplayChatItemAction";var Oy=ic;var oc=class extends s{constructor(e){super(),this.panel_to_show=c.parseItem(e.panelToShow,T_)}};n(oc,"ShowLiveChatActionPanelAction");oc.type="ShowLiveChatActionPanelAction";var Ly=oc;var nc=class extends s{constructor(e){super(),this.dialog=c.parseItem(e.dialog)}};n(nc,"ShowLiveChatDialogAction");nc.type="ShowLiveChatDialogAction";var Fy=nc;var rc=class extends s{constructor(e){super(),this.tooltip=c.parseItem(e.tooltip)}};n(rc,"ShowLiveChatTooltipCommand");rc.type="ShowLiveChatTooltipCommand";var Yy=rc;var sc=class extends s{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};n(sc,"UpdateDateTextAction");sc.type="UpdateDateTextAction";var S_=sc;var ac=class extends s{constructor(e){super(),this.description=new u(e.description)}};n(ac,"UpdateDescriptionAction");ac.type="UpdateDescriptionAction";var I_=ac;var uc=class extends s{constructor(e){super(),this.poll_to_update=c.parseItem(e.pollToUpdate)}};n(uc,"UpdateLiveChatPollAction");uc.type="UpdateLiveChatPollAction";var jy=uc;var lc=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(lc,"UpdateTitleAction");lc.type="UpdateTitleAction";var k_=lc;var cc=class extends s{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};n(cc,"UpdateToggleButtonTextAction");cc.type="UpdateToggleButtonTextAction";var C_=cc;var pc=class extends s{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};n(pc,"UpdateViewershipAction");pc.type="UpdateViewershipAction";var E_=pc;var dc=class extends He{constructor(e){super(e),this.custom_thumbnail=b.fromResponse(e.customThumbnail)}};n(dc,"LiveChatAuthorBadge");dc.type="LiveChatAuthorBadge";var Uy=dc;var fc=class extends s{constructor(e){super(),this.confirm_button=c.parseItem(e.confirmButton,I),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};n(fc,"LiveChatDialog");fc.type="LiveChatDialog";var Wy=fc;var mc=class extends s{constructor(e){super(),this.overflow_menu=c.parseItem(e.overflowMenu,F),this.collapse_button=c.parseItem(e.collapseButton,I),this.view_selector=c.parseItem(e.viewSelector,ft)}};n(mc,"LiveChatHeader");mc.type="LiveChatHeader";var N_=mc;var hc=class extends s{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=c.parseItem(e.moreCommentsBelowButton,I)}};n(hc,"LiveChatItemList");hc.type="LiveChatItemList";var P_=hc;var _c=class extends s{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=b.fromResponse(e.authorPhoto),this.send_button=c.parseItem(e.sendButton,I),this.target_id=e.targetId}};n(_c,"LiveChatMessageInput");_c.type="LiveChatMessageInput";var Jy=_c;var vc=class extends s{constructor(e){super(),this.name=new u(e.authorName),this.photo=b.fromResponse(e.authorPhoto),this.badges=c.parseArray(e.authorBadges)}};n(vc,"LiveChatParticipant");vc.type="LiveChatParticipant";var R_=vc;var xc=class extends s{constructor(e){super(),this.title=new u(e.title),this.participants=c.parseArray(e.participants,R_)}};n(xc,"LiveChatParticipantsList");xc.type="LiveChatParticipantsList";var A_=xc;var gc=class extends I{constructor(e){super(e)}};n(gc,"MenuNavigationItem");gc.type="MenuNavigationItem";var M_=gc;var bc=class extends I{constructor(e){super(e)}};n(bc,"MenuServiceItem");bc.type="MenuServiceItem";var ui=bc;var yc=class extends s{constructor(e){super(),this.items=c.parseArray(e.items,[M_,ui])}};n(yc,"MenuPopup");yc.type="MenuPopup";var Hy=yc;var wc=class extends s{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new _(e.navigationEndpoint||e.serviceEndpoint)}};n(wc,"MenuServiceItemDownload");wc.type="MenuServiceItemDownload";var Gy=wc;var Tc=class extends s{constructor(e){super(),this.header=c.parse(e.header),this.sections=c.parse(e.sections),this.style=e.style}};n(Tc,"MultiPageMenu");Tc.type="MultiPageMenu";var zy=Tc;var Sc=class extends s{constructor(e){super(),this.items=c.parse(e.items)}get contents(){return this.items}};n(Sc,"MultiPageMenuNotificationSection");Sc.type="MultiPageMenuNotificationSection";var Ky=Sc;var Ic=class extends s{constructor(e){super()}};n(Ic,"MusicMenuItemDivider");Ic.type="MusicMenuItemDivider";var V_=Ic;var kc=class extends s{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=c.parseArray(e.options,[dt,V_])}};n(kc,"MusicMultiSelectMenu");kc.type="MusicMultiSelectMenu";var B_=kc;var Cc=class extends s{constructor(e){super(),this.title=new u(e.title),this.buttons=c.parse(e.buttons)}};n(Cc,"SimpleMenuHeader");Cc.type="SimpleMenuHeader";var D_=Cc;var Ec=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=b.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new _(e.buttonCommand)}};n(Ec,"MerchandiseItem");Ec.type="MerchandiseItem";var $y=Ec;var Nc=class extends s{constructor(e){super(),this.title=e.title,this.menu=c.parseItem(e.actionButton),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Nc,"MerchandiseShelf");Nc.type="MerchandiseShelf";var O_=Nc;var Pc=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};n(Pc,"MetadataRow");Pc.type="MetadataRow";var qy=Pc;var Rc=class extends s{constructor(e){super(),this.rows=c.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(Rc,"MetadataRowContainer");Rc.type="MetadataRowContainer";var L_=Rc;var Ac=class extends s{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};n(Ac,"MetadataRowHeader");Ac.type="MetadataRowHeader";var Xy=Ac;var Mc=class extends s{constructor(e){super(),this.section_list=c.parseItem(e)}};n(Mc,"MetadataScreen");Mc.type="MetadataScreen";var Qy=Mc;var Vc=class extends s{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=b.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(Vc,"MicroformatData");Vc.type="MicroformatData";var kt=Vc;var Bc=class extends It{constructor(e){super(e)}};n(Bc,"Mix");Bc.type="Mix";var Zy=Bc;var Dc=class extends s{constructor(e){var i,o,r;super();let a=((i=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new V(e.longBylineText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:Ee(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.endpoint=new _(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=c.parseItem(e.menu,F)}};n(Dc,"Movie");Dc.type="Movie";var ew=Dc;var Oc=class extends s{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new b(o)).sort((o,r)=>r.width-o.width)}};n(Oc,"MovingThumbnail");Oc.type="MovingThumbnail";var tw=Oc;var Lc=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(Lc,"MusicCardShelfHeaderBasic");Lc.type="MusicCardShelfHeaderBasic";var F_=Lc;var Fc=class extends s{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(Fc,"MusicInlineBadge");Fc.type="MusicInlineBadge";var Y_=Fc;var Yc=class extends s{constructor(e){var i,o;super(),this.endpoint=new _(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(Yc,"MusicPlayButton");Yc.type="MusicPlayButton";var j_=Yc;var jc=class extends s{constructor(e){super(),this.content=c.parseItem(e.content,j_),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(jc,"MusicItemThumbnailOverlay");jc.type="MusicItemThumbnailOverlay";var Ct=jc;var Uc=class extends s{constructor(e){super(),this.contents=b.fromResponse(e.thumbnail)}};n(Uc,"MusicThumbnail");Uc.type="MusicThumbnail";var nt=Uc;var Wc=class extends s{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,nt),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=c.parseArray(e.buttons,I),this.menu=c.parseItem(e.menu,F),this.on_tap=new _(e.onTap),this.header=c.parseItem(e.header,F_),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=c.parseArray(e.subtitleBadges,Y_),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,Ct),Reflect.has(e,"contents")&&(this.contents=c.parseArray(e.contents))}};n(Wc,"MusicCardShelf");Wc.type="MusicCardShelf";var U_=Wc;var Jc=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,nt)),Reflect.has(e,"moreContentButton")&&(this.more_content=c.parseItem(e.moreContentButton,I)),Reflect.has(e,"endIcons")&&(this.end_icons=c.parseArray(e.endIcons,d_))}};n(Jc,"MusicCarouselShelfBasicHeader");Jc.type="MusicCarouselShelfBasicHeader";var W_=Jc;var Hc=class extends s{constructor(e){super(),this.thumbnail=D.parseItem(e.thumbnail,nt),this.overlay=D.parseItem(e.overlay,Ct),this.on_tap=new _(e.onTap),this.menu=D.parseItem(e.menu,F),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};n(Hc,"MusicMultiRowListItem");Hc.type="MusicMultiRowListItem";var J_=Hc;var Gc=class extends s{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new _(e.clickCommand)}};n(Gc,"MusicNavigationButton");Gc.type="MusicNavigationButton";var pn=Gc;var zc=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(zc,"MusicResponsiveListItemFixedColumn");zc.type="musicResponsiveListItemFlexColumnRenderer";var H_=zc;var Kc=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};n(Kc,"MusicResponsiveListItemFlexColumn");Kc.type="MusicResponsiveListItemFlexColumn";var G_=Kc;var ht,dn,nw,rw,iw,ow,sw,aw,uw,lw,cw,$c=class extends s{constructor(e){var i,o,r,a,l,p;super(),ht.add(this),dn.set(this,void 0),this.flex_columns=c.parseArray(e.flexColumns,G_),this.fixed_columns=c.parseArray(e.fixedColumns,H_),S(this,dn,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new _(e.navigationEndpoint));let f=(p=(l=(a=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseEndpointContextSupportedConfigs)===null||l===void 0?void 0:l.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(f||this.flex_columns.find(v=>{var x,y,w,C;return((C=(w=(y=(x=v.title.endpoint)===null||x===void 0?void 0:x.payload)===null||y===void 0?void 0:y.browseEndpointContextSupportedConfigs)===null||w===void 0?void 0:w.browseEndpointContextMusicConfig)===null||C===void 0?void 0:C.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(f="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),f){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",d(this,ht,"m",lw).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",d(this,ht,"m",cw).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",d(this,ht,"m",sw).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",d(this,ht,"m",aw).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",d(this,ht,"m",uw).call(this);break;default:this.flex_columns[1]?d(this,ht,"m",rw).call(this):d(this,ht,"m",nw).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,nt)),Reflect.has(e,"badges")&&(this.badges=c.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu,F)),Reflect.has(e,"overlay")&&(this.overlay=c.parseItem(e.overlay,Ct))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n($c,"MusicResponsiveListItem");dn=new WeakMap,ht=new WeakSet,nw=n(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),rw=n(function(){var e,i;((i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.some(r=>r.text.match(/(.*?) views/)))?(this.item_type="video",d(this,ht,"m",ow).call(this)):(this.item_type="song",d(this,ht,"m",iw).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),iw=n(function(){var e,i,o,r,a,l,p,f,h,v,x,y,w,C,R;this.id=d(this,dn,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let M=((a=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(G=>/^\d+$/.test(G.text.replace(/:/g,""))))===null||a===void 0?void 0:a.text)||((p=(l=this.fixed_columns.first())===null||l===void 0?void 0:l.title)===null||p===void 0?void 0:p.toString());M&&(this.duration={text:M,seconds:Ee(M)});let B=((h=(f=this.flex_columns.at(1))===null||f===void 0?void 0:f.title.runs)===null||h===void 0?void 0:h.find(G=>Le(G)&&G.endpoint&&G.endpoint.payload.browseId.startsWith("MPR")))||((x=(v=this.flex_columns.at(2))===null||v===void 0?void 0:v.title.runs)===null||x===void 0?void 0:x.find(G=>Le(G)&&G.endpoint&&G.endpoint.payload.browseId.startsWith("MPR")));B&&Le(B)&&(this.album={id:(w=(y=B.endpoint)===null||y===void 0?void 0:y.payload)===null||w===void 0?void 0:w.browseId,name:B.text,endpoint:B.endpoint});let $=(R=(C=this.flex_columns.at(1))===null||C===void 0?void 0:C.title.runs)===null||R===void 0?void 0:R.filter(G=>Le(G)&&G.endpoint&&G.endpoint.payload.browseId.startsWith("UC"));$&&(this.artists=$.map(G=>{var le,fe;return{name:G.text,channel_id:Le(G)?(fe=(le=G.endpoint)===null||le===void 0?void 0:le.payload)===null||fe===void 0?void 0:fe.browseId:void 0,endpoint:Le(G)?G.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),ow=n(function(){var e,i,o,r,a,l,p,f,h,v;this.id=d(this,dn,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(w=>w.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let x=(a=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||a===void 0?void 0:a.filter(w=>Le(w)&&w.endpoint&&w.endpoint.payload.browseId.startsWith("UC"));x&&(this.authors=x.map(w=>{var C,R;return{name:w.text,channel_id:Le(w)?(R=(C=w.endpoint)===null||C===void 0?void 0:C.payload)===null||R===void 0?void 0:R.browseId:void 0,endpoint:Le(w)?w.endpoint:void 0}}));let y=((p=(l=this.flex_columns[1].title.runs)===null||l===void 0?void 0:l.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((v=(h=(f=this.fixed_columns.first())===null||f===void 0?void 0:f.title.runs)===null||h===void 0?void 0:h.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||v===void 0?void 0:v.text);y&&(this.duration={text:y,seconds:Ee(y)})},"_MusicResponsiveListItem_parseVideo"),sw=n(function(){var e,i,o,r,a,l;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title,this.subscribers=((l=(a=(r=this.subtitle)===null||r===void 0?void 0:r.runs)===null||a===void 0?void 0:a.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||l===void 0?void 0:l.text)||""},"_MusicResponsiveListItem_parseArtist"),aw=n(function(){var e,i,o,r;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((r=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(a=>/^\d+(,\d+)? songs?$/i.test(a.text)))===null||r===void 0?void 0:r.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),uw=n(function(){var e,i;this.id=d(this,dn,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),lw=n(function(){var e,i,o,r,a,l,p,f,h;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let v=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(x=>Le(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));v&&Le(v)&&(this.author={name:v.text,channel_id:(l=(a=v.endpoint)===null||a===void 0?void 0:a.payload)===null||l===void 0?void 0:l.browseId,endpoint:v.endpoint}),this.year=(h=(f=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||f===void 0?void 0:f.find(x=>/^[12][0-9]{3}$/.test(x.text)))===null||h===void 0?void 0:h.text},"_MusicResponsiveListItem_parseAlbum"),cw=n(function(){var e,i,o,r,a,l,p,f;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let h=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(x=>x.text.match(/\d+ (song|songs)/));this.item_count=h?h.text:void 0;let v=(l=(a=this.flex_columns.at(1))===null||a===void 0?void 0:a.title.runs)===null||l===void 0?void 0:l.find(x=>Le(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));v&&Le(v)&&(this.author={name:v.text,channel_id:(f=(p=v.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId,endpoint:v.endpoint})},"_MusicResponsiveListItem_parsePlaylist");$c.type="MusicResponsiveListItem";var li=$c;var qc=class extends s{constructor(e){var i,o,r,a,l,p,f,h,v,x,y,w,C,R,M,B,$,G,le,fe,ve,xe;switch(super(),this.title=new u(e.title),this.endpoint=new _(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((a=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.videoId),this.subtitle=new u(e.subtitle),this.badges=c.parse(e.subtitleBadges),(h=(f=(p=(l=this.endpoint)===null||l===void 0?void 0:l.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||f===void 0?void 0:f.browseEndpointContextMusicConfig)===null||h===void 0?void 0:h.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((x=(v=this.endpoint)===null||v===void 0?void 0:v.metadata)===null||x===void 0?void 0:x.api_url)==="/next"?this.item_type="endpoint":!((y=this.subtitle.runs)===null||y===void 0)&&y[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((C=(w=this.subtitle.runs)===null||w===void 0?void 0:w.find(z=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(z.text)))===null||C===void 0?void 0:C.text)||"";else if(this.item_type=="playlist"){let z=(R=this.subtitle.runs)===null||R===void 0?void 0:R.find(U=>U.text.match(/\d+ songs|song/));this.item_count=z?z.text:null}else if(this.item_type=="album"){let z=(M=this.subtitle.runs)===null||M===void 0?void 0:M.filter(U=>{var q,Z;return(Z=(q=U.endpoint)===null||q===void 0?void 0:q.payload)===null||Z===void 0?void 0:Z.browseId.startsWith("UC")});z&&(this.artists=z.map(U=>{var q,Z;return{name:U.text,channel_id:(Z=(q=U.endpoint)===null||q===void 0?void 0:q.payload)===null||Z===void 0?void 0:Z.browseId,endpoint:U.endpoint}})),this.year=(B=this.subtitle.runs)===null||B===void 0?void 0:B.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((G=($=this===null||this===void 0?void 0:this.subtitle.runs)===null||$===void 0?void 0:$.find(U=>U==null?void 0:U.text.match(/(.*?) views/)))===null||G===void 0?void 0:G.text)||"N/A";let z=(le=this.subtitle.runs)===null||le===void 0?void 0:le.find(U=>{var q,Z,we;return(we=(Z=(q=U.endpoint)===null||q===void 0?void 0:q.payload)===null||Z===void 0?void 0:Z.browseId)===null||we===void 0?void 0:we.startsWith("UC")});z&&(this.author={name:z==null?void 0:z.text,channel_id:(ve=(fe=z==null?void 0:z.endpoint)===null||fe===void 0?void 0:fe.payload)===null||ve===void 0?void 0:ve.browseId,endpoint:z==null?void 0:z.endpoint})}else if(this.item_type=="song"){let z=(xe=this.subtitle.runs)===null||xe===void 0?void 0:xe.filter(U=>{var q,Z;return(Z=(q=U.endpoint)===null||q===void 0?void 0:q.payload)===null||Z===void 0?void 0:Z.browseId.startsWith("UC")});z&&(this.artists=z.map(U=>{var q,Z;return{name:U==null?void 0:U.text,channel_id:(Z=(q=U==null?void 0:U.endpoint)===null||q===void 0?void 0:q.payload)===null||Z===void 0?void 0:Z.browseId,endpoint:U==null?void 0:U.endpoint}}))}this.thumbnail=b.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,Ct),this.menu=c.parseItem(e.menu,F)}};n(qc,"MusicTwoRowItem");qc.type="MusicTwoRowItem";var z_=qc;var Xc=class extends s{constructor(e){super(),this.header=c.parseItem(e.header,W_),this.contents=c.parseArray(e.contents,[z_,li,J_,pn]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(Xc,"MusicCarouselShelf");Xc.type="MusicCarouselShelf";var Ne=Xc;var Qc=class extends s{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};n(Qc,"MusicDescriptionShelf");Qc.type="MusicDescriptionShelf";var K_=Qc;var Zc=class extends s{constructor(e){var i,o,r,a,l,p,f,h,v;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(y=>/^[12][0-9]{3}$/.test(y.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((a=(r=this.second_subtitle.runs)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.text)||"",this.total_duration=((p=(l=this.second_subtitle.runs)===null||l===void 0?void 0:l[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=b.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=c.parseArray(e.subtitleBadges);let x=(f=this.subtitle.runs)===null||f===void 0?void 0:f.find(y=>{var w,C;return(C=(w=y==null?void 0:y.endpoint)===null||w===void 0?void 0:w.payload)===null||C===void 0?void 0:C.browseId.startsWith("UC")});x&&(this.author={name:x.text,channel_id:(v=(h=x.endpoint)===null||h===void 0?void 0:h.payload)===null||v===void 0?void 0:v.browseId,endpoint:x.endpoint}),this.menu=c.parseItem(e.menu)}};n(Zc,"MusicDetailHeader");Zc.type="MusicDetailHeader";var Xi=Zc;var ep=class extends s{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n(ep,"MusicDownloadStateBadge");ep.type="MusicDownloadStateBadge";var pw=ep;var tp=class extends s{constructor(e){super(),this.header=c.parseItem(e.header)}};n(tp,"MusicEditablePlaylistDetailHeader");tp.type="MusicEditablePlaylistDetailHeader";var $_=tp;var ip=class extends s{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?c.parseItem(e,un):null}};n(ip,"MusicElementHeader");ip.type="MusicElementHeader";var op=ip;var np=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};n(np,"MusicHeader");np.type="MusicHeader";var ci=np;var rp=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=c.parseItem(e.thumbnail,nt)}};n(rp,"MusicImmersiveHeader");rp.type="MusicImmersiveHeader";var q_=rp;var sp=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new _(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(sp,"ActionButton");sp.type="ActionButton";var ap=class{constructor(e){this.image=e.image.image.sources,this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new sp(i))}};n(ap,"Panel");ap.type="Panel";var up=class extends s{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new ap(i))}};n(up,"MusicLargeCardItemCarousel");up.type="MusicLargeCardItemCarousel";var dw=up;var lp=class extends s{constructor(e){var i,o,r;super(),this.playlist_id=e.playlistId,this.contents=c.parseArray(e.contents,li),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(lp,"MusicPlaylistShelf");lp.type="MusicPlaylistShelf";var Qi=lp;var cp=class extends s{constructor(e){var i,o,r,a,l;super(),this.title=new u(e.title),this.thumbnail=b.fromResponse(e.thumbnail),this.endpoint=new _(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:Ee(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(h=>{var v,x,y;return(y=(x=(v=h.endpoint)===null||v===void 0?void 0:v.payload)===null||x===void 0?void 0:x.browseId)===null||y===void 0?void 0:y.startsWith("MPR")}),f=(o=new u(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(h=>{var v,x,y;return(y=(x=(v=h.endpoint)===null||v===void 0?void 0:v.payload)===null||x===void 0?void 0:x.browseId)===null||y===void 0?void 0:y.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(a=(r=p.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseId,name:p.text,year:(l=new u(e.longBylineText).runs)===null||l===void 0?void 0:l.slice(-1)[0].text,endpoint:p.endpoint}),f&&(this.artists=f.map(h=>{var v,x;return{name:h.text,channel_id:(x=(v=h.endpoint)===null||v===void 0?void 0:v.payload)===null||x===void 0?void 0:x.browseId,endpoint:h.endpoint}})),this.badges=c.parseArray(e.badges),this.menu=c.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};n(cp,"PlaylistPanelVideo");cp.type="PlaylistPanelVideo";var Wt=cp;var pp=class extends s{constructor(e){super(),this.primary=c.parseItem(e.primaryRenderer,Wt),Reflect.has(e,"counterpart")&&(this.counterpart=re(e.counterpart.map(i=>c.parseItem(i.counterpartRenderer,Wt))||[]))}};n(pp,"PlaylistPanelVideoWrapper");pp.type="PlaylistPanelVideoWrapper";var X_=pp;var dp=class extends s{constructor(e){var i,o,r,a,l,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=c.parseArray(e.contents,[X_,Wt,$o]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(l=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(dp,"PlaylistPanel");dp.type="PlaylistPanel";var Zi=dp;var fp=class extends s{constructor(e){super(),this.content=c.parseItem(e.content,Zi)}};n(fp,"MusicQueue");fp.type="MusicQueue";var Q_=fp;var mp=class extends s{constructor(e){var i,o,r,a;super(),this.title=new u(e.title),this.contents=c.parseArray(e.contents,li),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new _(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((a=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=c.parseItem(e.bottomButton,I)),Reflect.has(e,"subheaders")&&(this.subheaders=c.parseArray(e.subheaders))}};n(mp,"MusicShelf");mp.type="MusicShelf";var me=mp;var hp=class extends s{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=c.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};n(hp,"MusicSideAlignedItem");hp.type="MusicSideAlignedItem";var Z_=hp;var _p=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=c.parseItem(e.menu,B_)}};n(_p,"MusicSortFilterButton");_p.type="MusicSortFilterButton";var vp=_p;var xp=class extends s{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail)}};n(xp,"MusicTastebuilderShelfThumbnail");xp.type="MusicTastebuilderShelfThumbnail";var ev=xp;var gp=class extends s{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,ev),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=c.parseItem(e.actionButton,I),this.is_visible=e.isVisible}};n(gp,"MusicTasteBuilderShelf");gp.type="MusicTasteBuilderShelf";var tv=gp;var bp=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?b.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=c.parseItem(e.menu,F),this.foreground_thumbnail=e.foregroundThumbnail?b.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(bp,"MusicVisualHeader");bp.type="MusicVisualHeader";var iv=bp;var yp=class extends s{constructor(e){super(),this.thumbnails=b.fromResponse(e.thumbnail),this.video_thumbnails=b.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new _(e.navigationEndpoint),this.record_click_endpoint=new _(e.recordClickEndpoint),this.menu=c.parseItem(e.contextualMenu),this.read=e.read}};n(yp,"Notification");yp.type="Notification";var ov=yp;var wp=class extends s{constructor(e){super(),this.image=c.parseItem(e.image,Wo),this.title=c.parseItem(e.title,Zh)}};n(wp,"PageHeaderView");wp.type="PageHeaderView";var nv=wp;var Tp=class extends s{constructor(e){super(),this.page_title=e.pageTitle,this.content=c.parseItem(e.content,nv)}};n(Tp,"PageHeader");Tp.type="PageHeader";var fn=Tp;var Sp=class extends s{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(Sp,"PageIntroduction");Sp.type="PageIntroduction";var rv=Sp;var Ip=class extends s{constructor(e){super(),this.endpoint=new _(e.endpoint),this.enable_listen_first=e.enableListenFirst}};n(Ip,"PlayerOverflow");Ip.type="PlayerOverflow";var sv=Ip;var kp=class extends s{constructor(e){super(),this.overflow=D.parseItem(e.overflow,sv)}};n(kp,"PlayerControlsOverlay");kp.type="PlayerControlsOverlay";var fw=kp;var Cp=class extends s{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=c.parseItem(e.proceedButton,I),this.thumbnails=b.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Cp,"PlayerErrorMessage");Cp.type="PlayerErrorMessage";var mw=Cp;var Ep=class extends s{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(Ep,"PlayerLegacyDesktopYpcOffer");Ep.type="PlayerLegacyDesktopYpcOffer";var hw=Ep;var Np=class extends s{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n(Np,"YpcTrailer");Np.type="YpcTrailer";var av=Np;var Pp=class extends s{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=D.parseItem(e.ypcTrailer,av)}};n(Pp,"PlayerLegacyDesktopYpcTrailer");Pp.type="PlayerLegacyDesktopYpcTrailer";var Rp=Pp;var Ap=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=b.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null}};n(Ap,"PlayerMicroformat");Ap.type="PlayerMicroformat";var _t=Ap;var Mp=class extends s{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=b.fromResponse(e.background),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new V(e.byline),this.cancel_button=c.parseItem(e.cancelButton,I),this.next_button=c.parseItem(e.nextButton,I),this.close_button=c.parseItem(e.closeButton,I)}};n(Mp,"PlayerOverlayAutoplay");Mp.type="PlayerOverlayAutoplay";var uv=Mp;var Vp=class extends s{constructor(e){super(),this.results=c.parseArray(e.results,[i_,t_]),this.title=new u(e.title).toString()}};n(Vp,"WatchNextEndScreen");Vp.type="WatchNextEndScreen";var lv=Vp;var Bp=class extends s{constructor(e){super(),this.end_screen=c.parseItem(e.endScreen,lv),this.autoplay=c.parseItem(e.autoplay,uv),this.share_button=c.parseItem(e.shareButton,I),this.add_to_menu=c.parseItem(e.addToMenu,F),this.fullscreen_engagement=c.parseItem(e.fullscreenEngagement),this.actions=c.parseArray(e.actions),this.browser_media_session=c.parseItem(e.browserMediaSession),this.decorated_player_bar=c.parseItem(e.decoratedPlayerBarRenderer,Xh)}};n(Bp,"PlayerOverlay");Bp.type="PlayerOverlay";var pi=Bp;var Dp=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new V(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=c.parseItem(e.saveButton),this.shuffle_play_button=c.parseItem(e.shufflePlayButton),this.menu=c.parseItem(e.moreActionsMenu),this.banner=c.parseItem(e.playlistHeaderBanner)}};n(Dp,"PlaylistHeader");Dp.type="PlaylistHeader";var cv=Dp;var Op=class extends s{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=b.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new _(e.action)}};n(Op,"PlaylistInfoCardContent");Op.type="PlaylistInfoCardContent";var _w=Op;var Lp=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(Lp,"PlaylistMetadata");Lp.type="PlaylistMetadata";var pv=Lp;var Fp=class extends s{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Fp,"PlaylistSidebar");Fp.type="PlaylistSidebar";var vw=Fp;var Yp=class extends s{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=c.parseItem(e.menu),this.endpoint=new _(e.navigationEndpoint),this.description=new u(e.description)}};n(Yp,"PlaylistSidebarPrimaryInfo");Yp.type="PlaylistSidebarPrimaryInfo";var dv=Yp;var jp=class extends s{constructor(e){super(),this.owner=c.parseItem(e.videoOwner),this.button=c.parseItem(e.button)}};n(jp,"PlaylistSidebarSecondaryInfo");jp.type="PlaylistSidebarSecondaryInfo";var fv=jp;var Up=class extends s{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new V(e.shortBylineText),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new _(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=c.parseItem(e.menu,F),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label;let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Ui))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Ui))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(Up,"PlaylistVideo");Up.type="PlaylistVideo";var mv=Up;var Wp=class extends s{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=c.parseArray(e.contents)}};n(Wp,"PlaylistVideoList");Wp.type="PlaylistVideoList";var xw=Wp;var Jp=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new _(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new _(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?b.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(Jp,"Poll");Jp.type="Poll";var gw=Jp;var Hp=class extends si{constructor(e){super(e)}};n(Hp,"Post");Hp.type="Post";var hv=Hp;var Gp=class extends s{constructor(e){super(),this.images=c.parseArray(e.images,gh)}};n(Gp,"PostMultiImage");Gp.type="PostMultiImage";var bw=Gp;var zp=class extends s{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};n(zp,"ProductListHeader");zp.type="ProductListHeader";var yw=zp;var Kp=class extends s{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=b.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new _(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=c.parseItem(e.viewButton,I)}};n(Kp,"ProductListItem");Kp.type="ProductListItem";var ww=Kp;var $p=class extends s{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n($p,"ProfileColumn");$p.type="ProfileColumn";var Tw=$p;var qp=class extends s{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(qp,"ProfileColumnStats");qp.type="ProfileColumnStats";var _v=qp;var Xp=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};n(Xp,"ProfileColumnStatsEntry");Xp.type="ProfileColumnStatsEntry";var Sw=Xp;var Qp=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnails=b.fromResponse(e.thumbnail)}};n(Qp,"ProfileColumnUserInfo");Qp.type="ProfileColumnUserInfo";var vv=Qp;var Zp=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};n(Zp,"Quiz");Zp.type="Quiz";var Iw=Zp;var ed=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new b(i)),this.button=c.parseItem(e.button,I),this.surface=e.surface}};n(ed,"RecognitionShelf");ed.type="RecognitionShelf";var kw=ed;var td=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=b.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new _(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(td,"ReelItem");td.type="ReelItem";var xv=td;var id=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new _(e.endpoint))}get contents(){return this.items}};n(id,"ReelShelf");id.type="ReelShelf";var gv=id;var od=class extends s{constructor(e){super(),this.content=c.parseItem(e.content)}};n(od,"RelatedChipCloud");od.type="RelatedChipCloud";var bv=od;var nd=class extends s{constructor(e){super(),this.header=c.parseItem(e.header),this.contents=c.parseArray(e.contents)}};n(nd,"RichGrid");nd.type="RichGrid";var di=nd;var rd=class extends s{constructor(e){super(),this.content=c.parseItem(e.content)}};n(rd,"RichItem");rd.type="RichItem";var Cw=rd;var sd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(sd,"RichListHeader");sd.type="RichListHeader";var Ew=sd;var ad=class extends s{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new _(e.endpoint)}};n(ad,"RichMetadata");ad.type="RichMetadata";var ud=ad;var ld=class extends s{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(ld,"RichMetadataRow");ld.type="RichMetadataRow";var cd=ld;var pd=class extends s{constructor(e){super(),this.content=c.parseItem(e.content)}};n(pd,"RichSection");pd.type="RichSection";var Nw=pd;var dd=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=c.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new _(e.endpoint))}};n(dd,"RichShelf");dd.type="RichShelf";var yv=dd;var fd=class extends s{constructor(e){super(),this.endpoint=new _(e.endpoint),this.search_button=c.parseItem(e.searchButton,I),this.clear_button=c.parseItem(e.clearButton,I),this.placeholder_text=new u(e.placeholderText)}};n(fd,"SearchBox");fd.type="SearchBox";var Pw=fd;var md=class extends s{constructor(e){super(),this.label=new u(e.label),this.endpoint=new _(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(md,"SearchFilter");md.type="SearchFilter";var wv=md;var hd=class extends s{constructor(e){super(),this.title=new u(e.title),this.filters=D.parseArray(e.filters,wv)}};n(hd,"SearchFilterGroup");hd.type="SearchFilterGroup";var mn=hd;var _d=class extends s{constructor(e){super(),this.title=new u(e.title),this.groups=D.parseArray(e.groups,mn)}};n(_d,"SearchFilterOptionsDialog");_d.type="SearchFilterOptionsDialog";var Rw=_d;var vd=class extends s{constructor(e){super(),this.chip_bar=D.parseItem(e.chipBar,Ze),this.search_filter_button=D.parseItem(e.searchFilterButton,I)}};n(vd,"SearchHeader");vd.type="SearchHeader";var Tv=vd;var xd=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=c.parseArray(e.groups,mn)),Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,Se))}};n(xd,"SearchSubMenu");xd.type="SearchSubMenu";var Sv=xd;var gd=class extends s{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(gd,"SearchSuggestionsSection");gd.type="SearchSuggestionsSection";var Aw=gd;var bd=class extends s{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(bd,"SecondarySearchContainer");bd.type="SecondarySearchContainer";var Mw=bd;var yd=class extends s{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,[Se,I]),this.dislike_button=c.parseItem(e.dislikeButton,[Se,I])}};n(yd,"SegmentedLikeDislikeButton");yd.type="SegmentedLikeDislikeButton";var eo=yd;var wd=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new _(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new _(e.disableServiceEndpoint)),this.item_id=e.itemId}};n(wd,"SettingBoolean");wd.type="SettingBoolean";var Vw=wd;var Td=class extends s{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(Td,"SettingsCheckbox");Td.type="SettingsCheckbox";var Iv=Td;var Sd=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new _(e.enableServiceEndpoint),this.disable_endpoint=new _(e.disableServiceEndpoint)}};n(Sd,"SettingsSwitch");Sd.type="SettingsSwitch";var hn=Sd;var Id=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=c.parseArray(e.options,[hn,Fo,zh,Iv,Nh]))}};n(Id,"SettingsOptions");Id.type="SettingsOptions";var _n=Id;var kd=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=c.parseArray(e.items,rn)}get contents(){return this.items}};n(kd,"SettingsSidebar");kd.type="SettingsSidebar";var kv=kd;var Cd=class extends s{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=te(e.actionMenu,F),this.original_post=te(e.originalPost,si),this.id=e.postId,this.endpoint=new _(e.navigationEndpoint),this.expand_button=te(e.expandButton,I),this.author=new V(e.displayName,void 0)}};n(Cd,"SharedPost");Cd.type="SharedPost";var Cv=Cd;var Ed=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new _(e.endpoint)),this.content=c.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=c.parseItem(e.playAllButton,I))}};n(Ed,"Shelf");Ed.type="Shelf";var vn=Ed;var Nd=class extends s{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new _(e.correctedQueryEndpoint),this.original_query_endpoint=new _(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};n(Nd,"ShowingResultsFor");Nd.type="ShowingResultsFor";var Ev=Nd;var Pd=class extends s{constructor(e){super(),this.image=b.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new _(e.command)}};n(Pd,"SimpleCardContent");Pd.type="SimpleCardContent";var Bw=Pd;var Rd=class extends s{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};n(Rd,"SimpleCardTeaser");Rd.type="SimpleCardTeaser";var Dw=Rd;var Ad=class extends s{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};n(Ad,"SimpleTextSection");Ad.type="SimpleTextSection";var Ow=Ad;var Md=class extends s{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new _(e.navigationEndpoint)}};n(Md,"SingleActionEmergencySupport");Md.type="SingleActionEmergencySupport";var Lw=Md;var Vd=class extends s{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new _(e.endpoint),this.content=c.parseItem(e.content,[ee,Q_,di])}};n(Vd,"Tab");Vd.type="Tab";var be=Vd;var Bd=class extends s{constructor(e){super(),this.tabs=c.parseArray(e.tabs,be)}};n(Bd,"SingleColumnBrowseResults");Bd.type="SingleColumnBrowseResults";var Et=Bd;var Dd=class extends s{constructor(e){super(),this.contents=c.parse(e)}};n(Dd,"SingleColumnMusicWatchNextResults");Dd.type="SingleColumnMusicWatchNextResults";var Fw=Dd;var Od=class extends s{constructor(e){super(),this.thumbnails=b.fromResponse(e.thumbnail),this.style=e.style}};n(Od,"SingleHeroImage");Od.type="SingleHeroImage";var Yw=Od;var Ld=class extends s{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new _(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,Ve)}};n(Ld,"SlimOwner");Ld.type="SlimOwner";var jw=Ld;var Fd=class extends s{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=c.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};n(Fd,"SlimVideoMetadata");Fd.type="SlimVideoMetadata";var Nv=Fd;var Yd=class extends s{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new _(e.navigationEndpoint)}};n(Yd,"SubFeedOption");Yd.type="SubFeedOption";var Pv=Yd;var jd=class extends s{constructor(e){super(),this.title=new u(e.title),this.options=c.parseArray(e.options,Pv)}};n(jd,"SubFeedSelector");jd.type="SubFeedSelector";var Uw=jd;var Ud=class extends s{constructor(e){super(),this.contents=c.parse(e)}};n(Ud,"Tabbed");Ud.type="Tabbed";var Ww=Ud;var Wd=class extends s{constructor(e){super(),this.tabs=c.parseArray(e.tabs,be)}};n(Wd,"TabbedSearchResults");Wd.type="TabbedSearchResults";var Rv=Wd;var Jd=class extends s{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};n(Jd,"TextHeader");Jd.type="TextHeader";var Jw=Jd;var Hd=class extends s{constructor(e){super(),this.landscape=b.fromResponse(e.landscape),this.portrait=b.fromResponse(e.portrait)}};n(Hd,"ThumbnailLandscapePortrait");Hd.type="ThumbnailLandscapePortrait";var Hw=Hd;var Gd=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};n(Gd,"ThumbnailOverlayEndorsement");Gd.type="ThumbnailOverlayEndorsement";var Gw=Gd;var zd=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(zd,"ThumbnailOverlayHoverText");zd.type="ThumbnailOverlayHoverText";var zw=zd;var Kd=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};n(Kd,"ThumbnailOverlayInlineUnplayable");Kd.type="ThumbnailOverlayInlineUnplayable";var Kw=Kd;var $d=class extends s{constructor(e){super(),this.text=new u(e.text)}};n($d,"ThumbnailOverlayLoadingPreview");$d.type="ThumbnailOverlayLoadingPreview";var $w=$d;var qd=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};n(qd,"ThumbnailOverlayNowPlaying");qd.type="ThumbnailOverlayNowPlaying";var qw=qd;var Xd=class extends s{constructor(e){super(),this.hack=e.hack}};n(Xd,"ThumbnailOverlayPinking");Xd.type="ThumbnailOverlayPinking";var Xw=Xd;var Qd=class extends s{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};n(Qd,"ThumbnailOverlayPlaybackStatus");Qd.type="ThumbnailOverlayPlaybackStatus";var Qw=Qd;var Zd=class extends s{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(Zd,"ThumbnailOverlayResumePlayback");Zd.type="ThumbnailOverlayResumePlayback";var Zw=Zd;var ef=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};n(ef,"ThumbnailOverlaySidePanel");ef.type="ThumbnailOverlaySidePanel";var eT=ef;var tf=class extends s{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new _(e.toggledServiceEndpoint),this.untoggled_endpoint=new _(e.untoggledServiceEndpoint)}};n(tf,"ThumbnailOverlayToggleButton");tf.type="ThumbnailOverlayToggleButton";var tT=tf;var of=class extends s{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};n(of,"TimedMarkerDecoration");of.type="TimedMarkerDecoration";var iT=of;var nf=class extends s{constructor(e){super(),this.title=new u(e.title)}};n(nf,"TitleAndButtonListHeader");nf.type="TitleAndButtonListHeader";var oT=nf;var rf=class extends s{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new _(e.defaultServiceEndpoint),this.toggled_endpoint=new _(e.toggledServiceEndpoint)}};n(rf,"ToggleMenuServiceItem");rf.type="ToggleMenuServiceItem";var nT=rf;var sf=class extends s{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new _(i)),accept:new _(e.promoConfig.acceptCommand),dismiss:new _(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(sf,"Tooltip");sf.type="Tooltip";var rT=sf;var af=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=b.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=c.parseItem(e.subscribeButton,Ve),this.endpoint=new _(e.navigationEndpoint)}};n(af,"TopicChannelDetails");af.type="TopicChannelDetails";var sT=af;var uf=class extends s{constructor(e){super(),this.tabs=c.parse(e.tabs),this.secondary_contents=c.parse(e.secondaryContents)}};n(uf,"TwoColumnBrowseResults");uf.type="TwoColumnBrowseResults";var Nt=uf;var lf=class extends s{constructor(e){super(),this.primary_contents=c.parse(e.primaryContents),this.secondary_contents=c.parse(e.secondaryContents)}};n(lf,"TwoColumnSearchResults");lf.type="TwoColumnSearchResults";var Av=lf;var Mv,mx,cf=class extends s{constructor(e){var i,o,r,a,l;super(),Mv.add(this),this.results=c.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=c.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=c.parseItem(e==null?void 0:e.conversationBar);let p=(r=e.playlist)===null||r===void 0?void 0:r.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((a=p.shortBylineText)===null||a===void 0)&&a.simpleText?new u(p.shortBylineText):new V(p.longBylineText),contents:c.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:c.parseItem(p.menu,F)});let f=(l=e.autoplay)===null||l===void 0?void 0:l.autoplay;f&&(this.autoplay={sets:f.sets.map(h=>d(this,Mv,"m",mx).call(this,h))},f.modifiedSets&&(this.autoplay.modified_sets=f.modifiedSets.map(h=>d(this,Mv,"m",mx).call(this,h))),f.countDownSecs&&(this.autoplay.count_down_secs=f.countDownSecs))}};n(cf,"TwoColumnWatchNextResults");Mv=new WeakSet,mx=n(function(e){let i={autoplay_video:new _(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new _(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");cf.type="TwoColumnWatchNextResults";var xn=cf;var pf=class extends s{constructor(e){super(),this.header=c.parseItem(e.header),this.call_to_action=c.parseItem(e.callToAction),this.sections=c.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};n(pf,"UniversalWatchCard");pf.type="UniversalWatchCard";var Vv=pf;var df=class extends s{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=c.parseItem(e.actionButton,I),this.dismiss_button=c.parseItem(e.dismissButton,I),this.is_visible=e.isVisible}};n(df,"UpsellDialog");df.type="UpsellDialog";var aT=df;var ff=class extends s{constructor(e){super(),this.items=c.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};n(ff,"VerticalList");ff.type="VerticalList";var uT=ff;var mf=class extends s{constructor(e){super(),this.items=c.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new _(e.viewAllEndpoint)}get contents(){return this.items}};n(mf,"VerticalWatchCardList");mf.type="VerticalWatchCardList";var lT=mf;var hf=class extends s{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=b.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new _(e.action)}};n(hf,"VideoInfoCardContent");hf.type="VideoInfoCardContent";var cT=hf;var _f=class extends s{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new V(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(_f,"VideoOwner");_f.type="VideoOwner";var gn=_f;var vf=class extends s{constructor(e){var i,o,r,a;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new u((a=(r=e.viewCount)===null||r===void 0?void 0:r.videoViewCountRenderer)===null||a===void 0?void 0:a.shortViewCount),this.badges=c.parseArray(e.badges,He),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=c.parseItem(e.videoActions,F)}};n(vf,"VideoPrimaryInfo");vf.type="VideoPrimaryInfo";var Bv=vf;var xf=class extends s{constructor(e){super(),this.owner=c.parseItem(e.owner,gn),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=c.parseItem(e.subscribeButton,[Ve,I]),this.metadata=c.parseItem(e.metadataRowContainer,L_),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(xf,"VideoSecondaryInfo");xf.type="VideoSecondaryInfo";var gf=xf;var bf=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:Ee(e.lengthText.simpleText)},this.style=e.style}};n(bf,"WatchCardCompactVideo");bf.type="WatchCardCompactVideo";var Dv=bf;var yf=class extends s{constructor(e){var i;super(),this.endpoint=new _(e.navigationEndpoint),this.call_to_action_button=c.parseItem(e.callToActionButton),this.hero_image=c.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(yf,"WatchCardHeroVideo");yf.type="WatchCardHeroVideo";var pT=yf;var wf=class extends s{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new _(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new V(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(wf,"WatchCardRichHeader");wf.type="WatchCardRichHeader";var dT=wf;var Tf=class extends s{constructor(e){super(),this.lists=c.parseArray(e.lists)}};n(Tf,"WatchCardSectionSequence");Tf.type="WatchCardSectionSequence";var fT=Tf;var Sf=class extends Nt{constructor(e){super(e)}};n(Sf,"WatchNextTabbedResults");Sf.type="WatchNextTabbedResults";var Ov=Sf;var If=class extends s{constructor(e){var i,o;super(),this.title=e.title,this.content=c.parseItem(e.content,ee),this.endpoint=new _(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n(If,"AnchoredSection");If.type="AnchoredSection";var Lv=If;var kf,Cf=class extends s{constructor(e){super(),kf.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=b.fromResponse(e.avatar),this.block_button=c.parseItem(e.blockButton,[Se]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return T(this,void 0,void 0,function*(){if(!d(this,kf,"f"))throw new g("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new g("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new g("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(d(this,kf,"f"),{parse:!1})})}setActions(e){S(this,kf,e,"f")}};n(Cf,"KidsBlocklistPickerItem");kf=new WeakMap;Cf.type="KidsBlocklistPickerItem";var Fv=Cf;var Ef=class extends s{constructor(e){super(),this.title=new u(e.title),this.child_rows=c.parse(e.childRows,!0,[Fv]),this.done_button=c.parseItem(e.doneButton,[I]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};n(Ef,"KidsBlocklistPicker");Ef.type="KidsBlocklistPicker";var mT=Ef;var Nf=class extends s{constructor(e){var i,o;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new _(e.endpoint)}};n(Nf,"KidsCategoryTab");Nf.type="KidsCategoryTab";var bn=Nf;var Pf=class extends s{constructor(e){super(),this.category_tabs=c.parseArray(e.categoryTabs,bn),this.privacy_button=c.parseItem(e.privacyButtonRenderer,I)}};n(Pf,"KidsCategoriesHeader");Pf.type="kidsCategoriesHeader";var Yv=Pf;var Rf=class extends s{constructor(e){super(),this.anchors=c.parseArray(e.anchors,Lv)}};n(Rf,"KidsHomeScreen");Rf.type="kidsHomeScreen";var jv=Rf;var Tx={};Ce(Tx,{camelToSnake:()=>to,createRuntimeClass:()=>gT,generateRuntimeClass:()=>Vf,generateTypescriptClass:()=>Uv,inferType:()=>_x,introspect:()=>xx,isIgnoredKey:()=>xT,isMiscType:()=>vT,isRenderer:()=>vx,isRendererList:()=>_T,mergeKeyInfo:()=>wx,parse:()=>yx,toParser:()=>bx,toTypeDeclaration:()=>gx});var jS=new Set(["trackingParams","accessibility","accessibilityData"]),hx={};function to(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(to,"camelToSnake");function _x(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=vx(e))return hx[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=_T(e)){for(let[r,a]of Object.entries(i))hx[r]=a;return{type:"renderer_list",renderers:Object.keys(i),optional:!1}}if(i=vT(t,e))return i}let o=typeof e;return o==="object"?{type:"object",keys:Object.entries(e).map(([r,a])=>[r,_x(r,a)]),optional:!1}:{type:"primative",typeof:[o],optional:!1}}n(_x,"inferType");function _T(t){return Array.isArray(t)&&t.every(o=>vx(o))?Object.fromEntries(t.map(o=>{let r=Reflect.ownKeys(o)[0].toString();return[Bf(r),o[r]]})):!1}n(_T,"isRendererList");function vT(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new _(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}n(vT,"isMiscType");function vx(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);return i.length===1&&i[0].toString().includes("Renderer")?Bf(i[0].toString()):!1}n(vx,"isRenderer");function US(t){if(typeof t!="object"||t===null)throw new g("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!xT(i)).filter(i=>typeof i=="string").map(i=>{let o=Reflect.get(t,i),r=_x(i,o);return[i,r]})}n(US,"introspectKeysFirstPass");function WS(t){var e;let o=t.filter(([,p])=>{var f;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((f=p.endpoint)===null||f===void 0?void 0:f.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,f])=>p.type!=="misc"||f.type!=="misc"||p.misc_type!=="Text"||f.misc_type!=="Text"?0:f.text.length-p.text.length),r=new Set,a=o[0],l;if(a){r.add(a[0]);let f=t.map(([w])=>w).filter(w=>w.endsWith("Badges")||w==="badges"),v=(e=f.filter(w=>w.startsWith("owner")||w.startsWith("author"))[0])!==null&&e!==void 0?e:f[0],x=t.find(([w])=>w===v),y=x?x[1].type==="renderer_list"&&Reflect.has(x[1].renderers,"MetadataBadge"):!1;y&&v&&r.add(v),l={type:"misc",misc_type:"Author",optional:!1,params:[a[0],y?v:void 0]}}return l&&t.push(["author",l]),t.filter(([p])=>!r.has(p))}n(WS,"introspectKeysSecondPass");function JS(t){let e=US(t);return WS(e)}n(JS,"introspect2");function xx(t){let e=JS(t),i=new Map;for(let[,r]of e)if(r.type==="renderer"||r.type==="renderer_list")for(let a of r.renderers){let l=hx[a];l&&i.set(a,l)}let o=Array.from(i).filter(([r])=>!Wv(r));return{key_info:e,unimplemented_dependencies:o}}n(xx,"introspect");function xT(t){return typeof t=="string"&&jS.has(t)}n(xT,"isIgnoredKey");function gT(t,e,i){var o,r;i({error_type:"class_not_found",classname:t,key_info:e});let a=(o=n(class extends s{static set key_info(l){S(this,o,new Map(l),"f",r)}static get key_info(){return[...d(this,o,"f",r).entries()]}constructor(l){super();let{key_info:p,unimplemented_dependencies:f}=xx(l),{resolved_key_info:h,changed_keys:v}=wx(a.key_info,p);v.length>0&&(a.key_info=h,i({error_type:"class_changed",classname:t,key_info:a.key_info,changed_keys:v}));for(let[y,w]of f)Vf(y,w,i);for(let[y,w]of p){let C=to(y);w.type==="misc"&&w.misc_type==="NavigationEndpoint"&&(C="endpoint"),Reflect.set(this,C,yx(y,w,l))}}},"_a"),yg(o,"node"),o.type=t,r={value:new Map},o);return a.key_info=e,Object.defineProperty(a,"name",{value:t,writable:!1}),a}n(gT,"createRuntimeClass");function Vf(t,e,i){let{key_info:o,unimplemented_dependencies:r}=xx(e),a=gT(t,o,i);Sx(t,a);for(let[l,p]of r)Vf(l,p,i);return a}n(Vf,"generateRuntimeClass");function Uv(t,e){let i=[],o=["super();"];for(let[r,a]of e){let l=to(r);a.type==="misc"&&a.misc_type==="NavigationEndpoint"&&(l="endpoint"),i.push(`${l}${a.optional?"?":""}: ${gx(a)};`),o.push(`this.${l} = ${bx(r,a)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${o.join(`
    `)}
  }
}
`}n(Uv,"generateTypescriptClass");function gx(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"renderer_list":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"object":return`{
${t.keys.map(([i,o])=>`${" ".repeat((e+2)*2)}${to(i)}${o.optional?"?":""}: ${gx(o,e+1)}`).join(`,
`)}
${" ".repeat((e+1)*2)}}`;case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ");case"unknown":return"/* TODO: determine correct type */ unknown"}}n(gx,"toTypeDeclaration");function bx(t,e,i=["data"],o=1){let r="undefined";switch(e.type){case"renderer":r=`Parser.parseItem(${i.join(".")}.${t}, [ ${e.renderers.map(a=>`YTNodes.${a}`).join(", ")} ])`;break;case"renderer_list":r=`Parser.parse(${i.join(".")}.${t}, true, [ ${e.renderers.map(a=>`YTNodes.${a}`).join(", ")} ])`;break;case"object":{let a=[...i,t];r=`{
${e.keys.map(([l,p])=>`${" ".repeat((o+2)*2)}${to(l)}: ${bx(l,p,a,o+1)}`).join(`,
`)}
${" ".repeat((o+1)*2)}}`}break;case"misc":switch(e.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let a=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${a} : undefined`:a}default:r=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":case"unknown":r=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${r} : undefined`:r}n(bx,"toParser");function fi(t,e){let i=t;for(let o of e)i=i[o];return i}n(fi,"accessDataFromKeyPath");function hT(t,e){let i=t;for(let o of e)if(Reflect.has(i,o))i=i[o];else return!1;return!0}n(hT,"hasDataFromKeyPath");function yx(t,e,i,o=["data"]){let r=!e.optional||hT({data:i},[...o,t]);switch(e.type){case"renderer":return r?te(fi({data:i},[...o,t]),e.renderers.map(a=>Mf(a))):void 0;case"renderer_list":return r?Fe(fi({data:i},[...o,t]),!0,e.renderers.map(a=>Mf(a))):void 0;case"object":{let a={},l=[...o,t];for(let[p,f]of e.keys)a[p]=r?yx(p,f,i,l):void 0;return a}case"misc":switch(e.misc_type){case"NavigationEndpoint":return r?new _(fi({data:i},[...o,t])):void 0;case"Text":return r?new u(fi({data:i},[...o,t])):void 0;case"Thumbnail":return r?b.fromResponse(fi({data:i},[...o,t])):void 0;case"Author":return!e.optional||hT({data:i},[...o,e.params[0]])?new V(fi({data:i},[...o,e.params[0]]),e.params[1]?fi({data:i},[...o,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":case"unknown":return fi({data:i},[...o,t])}}n(yx,"parse");function wx(t,e){let i=new Map,o=new Set(t.map(([y])=>y)),r=new Set(e.map(([y])=>y)),a=e.filter(([y])=>!o.has(y)),l=t.filter(([y])=>!r.has(y)),p=t.filter(([y])=>r.has(y)),f=new Map(e);for(let[y,w]of p){let C=f.get(y);if(!!C){if(w.type!==C.type){i.set(y,{type:"unknown",optional:!0});continue}switch(w.type){case"object":{if(C.type!=="object")continue;let{resolved_key_info:R}=wx(w.keys,C.keys),M={type:"object",keys:R,optional:w.optional||C.optional};JSON.stringify(M)!==JSON.stringify(w)&&i.set(y,M)}break;case"renderer":{if(C.type!=="renderer")continue;let R=Object.assign(Object.assign({},w.renderers),C.renderers),M=w.optional||C.optional,B={type:"renderer",renderers:R,optional:M};JSON.stringify(Object.assign(Object.assign({},B),{renderers:Object.keys(B.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(y,B)}break;case"renderer_list":{if(C.type!=="renderer_list")continue;let R=Object.assign(Object.assign({},w.renderers),C.renderers),M=w.optional||C.optional,B={type:"renderer_list",renderers:R,optional:M};JSON.stringify(Object.assign(Object.assign({},B),{renderers:Object.keys(B.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(y,B)}break;case"misc":{if(C.type!=="misc")continue;switch(w.misc_type!==C.misc_type&&i.set(y,{type:"unknown",optional:!0}),w.misc_type){case"Author":{if(C.misc_type!=="Author")break;let R=w.params[1]||C.params[1],M=w.optional||C.optional,B={type:"misc",misc_type:"Author",optional:M,params:[C.params[0],R]};JSON.stringify(B)!==JSON.stringify(w)&&i.set(y,B)}break}}break;case"primative":{if(C.type!=="primative")continue;let R={type:"primative",typeof:Array.from(new Set([...C.typeof,...w.typeof])),optional:w.optional||C.optional};JSON.stringify(R)!==JSON.stringify(w)&&i.set(y,R)}break}}}for(let[y,w]of a)i.set(y,Object.assign(Object.assign({},w),{optional:!0}));for(let[y,w]of l)i.set(y,Object.assign(Object.assign({},w),{optional:!0}));let h=t.filter(([y])=>!i.has(y));return{resolved_key_info:[...new Map([...h,...i]).entries()],changed_keys:[...i.entries()]}}n(wx,"mergeKeyInfo");var mi=class extends s{constructor(e){var i,o,r;super(),this.contents=Be(e.contents),Array.isArray(e.continuations)&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(mi,"ItemSectionContinuation");mi.type="itemSectionContinuation";var hi=class extends s{constructor(e){super(),this.endpoint=new _(e.endpoint)}};n(hi,"NavigateAction");hi.type="navigateAction";var yn=class extends s{constructor(e){super(),this.miniplayer_command=new _(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};n(yn,"ShowMiniplayerCommand");yn.type="showMiniplayerCommand";var _i=class extends s{constructor(e){super(),this.target_id=e.targetId,this.contents=Fe(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(_i,"ReloadContinuationItemsCommand");_i.type="reloadContinuationItemsCommand";var ze=class extends s{constructor(e){var i,o,r,a,l,p;super(),this.contents=Fe(e.contents,!0),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(l=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(ze,"SectionListContinuation");ze.type="sectionListContinuation";var vi=class extends s{constructor(e){var i;super(),this.contents=Fe(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(vi,"MusicPlaylistShelfContinuation");vi.type="musicPlaylistShelfContinuation";var Pt=class extends s{constructor(e){var i,o,r,a;super(),this.contents=Be(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((a=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)||null}};n(Pt,"MusicShelfContinuation");Pt.type="musicShelfContinuation";var xi=class extends s{constructor(e){var i;super(),this.items=Fe(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n(xi,"GridContinuation");xi.type="gridContinuation";var wn=class extends s{constructor(e){var i,o,r,a,l,p;super(),this.contents=Be(e.contents),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(l=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(wn,"PlaylistPanelContinuation");wn.type="playlistPanelContinuation";var io=class extends s{constructor(e){var i,o,r;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(r=e.continuation)===null||r===void 0?void 0:r.continuation}};n(io,"Continuation");io.type="continuation";var gi=class extends s{constructor(e){var i,o,r,a,l,p,f,h;super(),this.actions=Fe((i=e.actions)===null||i===void 0?void 0:i.map(y=>(delete y.clickTrackingParams,y)),!0)||re([]),this.action_panel=te(e.actionPanel),this.item_list=te(e.itemList,P_),this.header=te(e.header,N_),this.participants_list=te(e.participantsList,A_),this.popout_message=te(e.popoutMessage,Ge),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(y=>({emoji_id:y.emojiId,shortcuts:y.shortcuts,search_terms:y.searchTerms,image:b.fromResponse(y.image),is_custom_emoji:y.isCustomEmoji})))||[];let v,x;!((r=e.continuations)===null||r===void 0)&&r[0].timedContinuationData?(x="timed",v=(a=e.continuations)===null||a===void 0?void 0:a[0].timedContinuationData):!((l=e.continuations)===null||l===void 0)&&l[0].invalidationContinuationData?(x="invalidation",v=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((f=e.continuations)===null||f===void 0)&&f[0].liveChatReplayContinuationData&&(x="replay",v=(h=e.continuations)===null||h===void 0?void 0:h[0].liveChatReplayContinuationData),this.continuation=new io({continuation:v,type:x}),this.viewer_name=e.viewerName}};n(gi,"LiveChatContinuation");gi.type="liveChatContinuation";var HS=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),kx=new Map(Object.entries(Af)),bT=new Map,no=null,oo=n(t=>{var{classname:e}=t,i=bg(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&console.warn(new g(`Something went wrong at ${e}!
This is a bug, please report it at ${Y.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":console.warn(new it(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":console.warn(new g(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${Y.shim.info.bugs_url}`));break;case"mutation_data_invalid":console.warn(new g(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${Y.shim.info.bugs_url}`));break;case"class_not_found":console.warn(new g(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${Y.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${Y.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${Uv(e,i.key_info)}`));break;case"class_changed":console.warn(`${e} changed!
The following keys where altered: ${i.changed_keys.map(([o])=>to(o)).join(", ")}
The class has changed to:
${Uv(e,i.key_info)}`);break;default:console.warn("Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function GS(t){oo=t}n(GS,"setParserErrorHandler");function Rt(){no=null}n(Rt,"_clearMemo");function At(){no=new ei}n(At,"_createMemo");function zS(t,e){if(!no)return;let i=no.get(t);if(!i)return no.set(t,[e]);i.push(e)}n(zS,"_addToMemo");function Mt(){if(!no)throw new Error("Parser#getMemo() called before Parser#createMemo()");return no}n(Mt,"_getMemo");function yT(t){return HS.has(t)}n(yT,"shouldIgnore");function Bf(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}n(Bf,"sanitizeClassName");function Mf(t){let e=kx.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}n(Mf,"getParserByName");function Wv(t){return kx.has(t)}n(Wv,"hasParser");function Sx(t,e){kx.set(t,e),bT.set(t,e)}n(Sx,"addRuntimeParser");function KS(){return Object.fromEntries(bT)}n(KS,"getDynamicParsers");function $S(t){var e,i;let o={};At();let r=Fe(t.contents),a=Mt();r&&(o.contents=r,o.contents_memo=a),Rt(),At();let l=t.onResponseReceivedActions?Jv(t.onResponseReceivedActions):null,p=Mt();l&&(o.on_response_received_actions=l,o.on_response_received_actions_memo=p),Rt(),At();let f=t.onResponseReceivedEndpoints?Jv(t.onResponseReceivedEndpoints):null,h=Mt();f&&(o.on_response_received_endpoints=f,o.on_response_received_endpoints_memo=h),Rt(),At();let v=t.onResponseReceivedCommands?Jv(t.onResponseReceivedCommands):null,x=Mt();v&&(o.on_response_received_commands=v,o.on_response_received_commands_memo=x),Rt(),At();let y=t.continuationContents?TT(t.continuationContents):null,w=Mt();y&&(o.continuation_contents=y,o.continuation_contents_memo=w),Rt(),At();let C=t.actions?ST(t.actions):null,R=Mt();C&&(o.actions=C,o.actions_memo=R),Rt(),At();let M=t.liveChatItemContextMenuSupportedRenderers?te(t.liveChatItemContextMenuSupportedRenderers):null,B=Mt();M&&(o.live_chat_item_context_menu_supported_renderers=M,o.live_chat_item_context_menu_supported_renderers_memo=B),Rt(),At();let $=t.header?Fe(t.header):null,G=Mt();$&&(o.header=$,o.header_memo=G),Rt(),At();let le=t.sidebar?te(t.sidebar):null,fe=Mt();le&&(o.sidebar=le,o.sidebar_memo=fe),Rt(),At();let ve=Fe(t.items);ve&&(o.items=ve,o.items_memo=Mt()),Rt(),IT(a,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations);let xe=t.continuation?wT(t.continuation):null;xe&&(o.continuation=xe);let ye=Fe(t.metadata);ye&&(o.metadata=ye);let z=te(t.microformat);z&&(o.microformat=z);let U=te(t.overlay);U&&(o.overlay=U);let q=Be(t.alerts,[Yo,Am]);q.length&&(o.alerts=q);let Z=t.refinements;Z&&(o.refinements=Z);let we=t.estimatedResults?parseInt(t.estimatedResults):null;we&&(o.estimated_results=we);let Xe=Fe(t.playerOverlays);Xe&&(o.player_overlays=Xe);let Qe=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Qe&&(o.playback_tracking=Qe);let K=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:te(t.playabilityStatus.audioOnlyPlayability,wm),error_screen:te(t.playabilityStatus.errorScreen)}:null;if(K&&(o.playability_status=K),t.streamingData){let Oo=new Map,Lr={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:Ix(t.streamingData.formats,Oo),adaptive_formats:Ix(t.streamingData.adaptiveFormats,Oo),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};o.streaming_data=Lr}let Ae=t.currentVideoEndpoint?new _(t.currentVideoEndpoint):null;Ae&&(o.current_video_endpoint=Ae);let yt=t.endpoint?new _(t.endpoint):null;yt&&(o.endpoint=yt);let wt=te(t.captions,Pm);wt&&(o.captions=wt);let ge=t.videoDetails?new ri(t.videoDetails):null;ge&&(o.video_details=ge);let Ue=Be(t.annotations,Nm);Ue.length&&(o.annotations=Ue);let Mo=te(t.storyboards,[Yi,Rm]);Mo&&(o.storyboards=Mo);let Vo=te(t.endscreen,Em);Vo&&(o.endscreen=Vo);let Bo=te(t.cards,Cm);Bo&&(o.cards=Bo);let Do=Be(t.engagementPanels,zo);return Do.length&&(o.engagement_panels=Do),o}n($S,"parseResponse");function te(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let o=Bf(i[0]);if(!yT(o))try{let a=Wv(o)?Mf(o):Vf(o,t[i[0]],oo);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===a.type))return oo({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(a.type!==e.type)return oo({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.type}),null}let l=new a(t[i[0]]);return zS(o,l),l}catch(r){return oo({classname:o,classdata:t[i[0]],error:r,error_type:"parse"}),null}return null}n(te,"parseItem");function Be(t,e){if(Array.isArray(t)){let i=[];for(let o of t){let r=te(o,e);r&&i.push(r)}return re(i)}else if(!t)return re([]);throw new it("Expected array but got a single item")}n(Be,"parseArray");function Fe(t,e,i){if(!t)return null;if(Array.isArray(t)){let o=[];for(let a of t){let l=te(a,i);l&&o.push(l)}let r=re(o);return e?r:new St(r)}else if(e)throw new it("Expected array but got a single item");return new St(te(t,i))}n(Fe,"parse");function wT(t){return t.timedContinuationData?new io({continuation:t.timedContinuationData,type:"timed"}):null}n(wT,"parseC");function TT(t){return t.itemSectionContinuation?new mi(t.itemSectionContinuation):t.sectionListContinuation?new ze(t.sectionListContinuation):t.liveChatContinuation?new gi(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new vi(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new Pt(t.musicShelfContinuation):t.gridContinuation?new xi(t.gridContinuation):t.playlistPanelContinuation?new wn(t.playlistPanelContinuation):null}n(TT,"parseLC");function Jv(t){return re(t.map(e=>{if(e.navigateAction)return new hi(e.navigateAction);if(e.showMiniplayerCommand)return new yn(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new _i(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Ji(e.appendContinuationItemsAction)}).filter(e=>e))}n(Jv,"parseRR");function ST(t){return Array.isArray(t)?Fe(t.map(e=>(delete e.clickTrackingParams,e))):new St(te(t))}n(ST,"parseActions");function Ix(t,e){return(t==null?void 0:t.map(i=>new oh(i,e)))||[]}n(Ix,"parseFormats");function IT(t,e){let i=t.getType(dt);if(i.length>0&&!e)oo({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let o=[];for(let r of i){let a=e.find(p=>{var f,h;return((h=(f=p.payload)===null||f===void 0?void 0:f.musicFormBooleanChoice)===null||h===void 0?void 0:h.id)===r.form_item_entity_key}),l=a==null?void 0:a.payload.musicFormBooleanChoice;(l==null?void 0:l.selected)!==void 0&&(l==null?void 0:l.opaqueToken)?r.selected=l.selected:o.push(`'${r.title}'`)}o.length>0&&oo({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:o.length,titles:o})}}n(IT,"applyMutations");var Lx={};Ce(Lx,{AccountInfo:()=>kT,Analytics:()=>CT,Channel:()=>Pe,ChannelListContinuation:()=>lo,Comments:()=>NT,FilteredChannelList:()=>wi,Guide:()=>PT,HashtagFeed:()=>Ti,History:()=>$v,HomeFeed:()=>Jt,ItemMenu:()=>Zv,Library:()=>AT,LiveChat:()=>c0,NotificationsMenu:()=>VT,Playlist:()=>t0,Search:()=>BT,Settings:()=>DT,SmoothedQueue:()=>s0,TimeWatched:()=>OT,VideoInfo:()=>Zf});var Tn,Hv=class{constructor(e){if(Tn.set(this,void 0),S(this,Tn,c.parseResponse(e.data),"f"),!d(this,Tn,"f").contents)throw new g("Page contents not found");let i=d(this,Tn,"f").contents.array().as(ch).first();if(!i)throw new g("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return d(this,Tn,"f")}};n(Hv,"AccountInfo");Tn=new WeakMap;var kT=Hv;var Df,Gv=class{constructor(e){var i;Df.set(this,void 0),S(this,Df,c.parseResponse(e.data),"f"),this.sections=(i=d(this,Df,"f").contents_memo)===null||i===void 0?void 0:i.getType(un).map(o=>o.model).flatMap(o=>o||[])}get page(){return d(this,Df,"f")}};n(Gv,"Analytics");Df=new WeakMap;var CT=Gv;var Of,De,ro,Lf,Ke,ET,Cx,bi=class{constructor(e,i,o=!1){Of.add(this),De.set(this,void 0),ro.set(this,void 0),Lf.set(this,void 0),Ke.set(this,void 0),d(this,Of,"m",ET).call(this,i)||o?S(this,De,i,"f"):S(this,De,c.parseResponse(i.data),"f");let r=Ex(d(this,De,"f").contents_memo,d(this,De,"f").continuation_contents_memo,d(this,De,"f").on_response_received_commands_memo,d(this,De,"f").on_response_received_endpoints_memo,d(this,De,"f").on_response_received_actions_memo,d(this,De,"f").sidebar_memo,d(this,De,"f").header_memo);if(!r)throw new g("No memo found in feed");S(this,Ke,r,"f"),S(this,Lf,e,"f")}static getVideosFromMemo(e){return e.getType(Uo,u_,xv,Ho,mv,Wt,Dv)}static getPlaylistsFromMemo(e){return e.getType(It,r_)}get videos(){return bi.getVideosFromMemo(d(this,Ke,"f"))}get posts(){return d(this,Ke,"f").getType(si,hv,Cv)}get channels(){return d(this,Ke,"f").getType(Ch,n_)}get playlists(){return bi.getPlaylistsFromMemo(d(this,Ke,"f"))}get memo(){return d(this,Ke,"f")}get page_contents(){var e;let i=(e=d(this,Ke,"f").getType(be))===null||e===void 0?void 0:e.first().content,o=d(this,Ke,"f").getType(_i).first(),r=d(this,Ke,"f").getType(Ji).first();return i||o||r}get shelves(){return d(this,Ke,"f").getType(vn,yv,gv)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=d(this,De,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=d(this,De,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(Nt,Av))return o.secondary_contents}get actions(){return d(this,Lf,"f")}get page(){return d(this,De,"f")}get has_continuation(){return d(this,Of,"m",Cx).call(this).length>0}getContinuationData(){return T(this,void 0,void 0,function*(){if(d(this,ro,"f")){if(d(this,ro,"f").length===0)throw new g("There are no continuations.");return yield d(this,ro,"f")[0].endpoint.call(d(this,Lf,"f"),{parse:!0})}if(S(this,ro,d(this,Of,"m",Cx).call(this),"f"),d(this,ro,"f"))return this.getContinuationData()})}getContinuation(){return T(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new bi(this.actions,e,!0)})}};n(bi,"Feed");De=new WeakMap,ro=new WeakMap,Lf=new WeakMap,Ke=new WeakMap,Of=new WeakSet,ET=n(function(e){return!("data"in e)},"_Feed_isParsed"),Cx=n(function(){if(d(this,De,"f").header_memo){let e=d(this,De,"f").header_memo.getType(ce);return d(this,Ke,"f").getType(ce).filter(i=>!e.includes(i))}return d(this,Ke,"f").getType(ce)},"_Feed_getBodyContinuations");var he=bi;var so,ao,uo=class extends he{constructor(e,i,o=!1){var r;super(e,i,o),so.set(this,void 0),ao.set(this,void 0),S(this,ao,e,"f"),S(this,so,(r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(be),"f")}get tabs(){var e,i;return(i=(e=d(this,so,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){var i;return T(this,void 0,void 0,function*(){let o=(i=d(this,so,"f"))===null||i===void 0?void 0:i.find(a=>a.title.toLowerCase()===e.toLowerCase());if(!o)throw new g(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(d(this,ao,"f"));return new uo(d(this,ao,"f"),r,!1)})}getTabByURL(e){var i;return T(this,void 0,void 0,function*(){let o=(i=d(this,so,"f"))===null||i===void 0?void 0:i.find(a=>{var l;return((l=a.endpoint.metadata.url)===null||l===void 0?void 0:l.split("/").pop())===e});if(!o)throw new g(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(d(this,ao,"f"));return new uo(d(this,ao,"f"),r,!1)})}hasTabWithURL(e){var i,o;return(o=(i=d(this,so,"f"))===null||i===void 0?void 0:i.some(r=>{var a;return((a=r.endpoint.metadata.url)===null||a===void 0?void 0:a.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(be))===null||i===void 0?void 0:i.find(r=>r.selected))===null||o===void 0?void 0:o.title.toString()}};n(uo,"TabbedFeed");so=new WeakMap,ao=new WeakMap;var Ff=uo;var Sn,zv=class extends he{constructor(e,i,o=!1){super(e,i,o),Sn.set(this,void 0)}get filter_chips(){var e,i;if(d(this,Sn,"f"))return d(this,Sn,"f")||[];if(((e=this.memo.getType(Ut))===null||e===void 0?void 0:e.length)>1)throw new g("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(Ut))===null||i===void 0?void 0:i.length)===0)throw new g("There are no feed filter chipbars");return S(this,Sn,this.memo.getType(pe),"f"),d(this,Sn,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var i;return T(this,void 0,void 0,function*(){let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new g("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(a=>a.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new g("Invalid filter");if(!o)throw new g("Filter not found");if(o.is_selected)return this;let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new g("Failed to get filtered feed");return new he(this.actions,r,!0)})}};n(zv,"FilterableFeed");Sn=new WeakMap;var yi=zv;var Pe=class extends Ff{constructor(e,i,o=!1){var r,a,l,p,f,h;super(e,i,o),this.header=(a=(r=this.page.header)===null||r===void 0?void 0:r.item())===null||a===void 0?void 0:a.as(ai,kh,m_,fn);let v=(l=this.page.metadata)===null||l===void 0?void 0:l.item().as(Eh),x=(p=this.page.microformat)===null||p===void 0?void 0:p.as(kt);if(this.page.alerts){let y=this.page.alerts.first();if((y==null?void 0:y.alert_type)==="ERROR")throw new In(y.text.toString())}if(!v&&!this.page.contents)throw new g("Invalid channel",this);this.metadata=Object.assign(Object.assign({},v),x||{}),this.subscribe_button=(f=this.page.header_memo)===null||f===void 0?void 0:f.getType(Ve).first(),this.current_tab=(h=this.page.contents)===null||h===void 0?void 0:h.item().as(Nt).tabs.array().filterType(be,ln).get({selected:!0})}applyFilter(e){var i;return T(this,void 0,void 0,function*(){let o,r=this.memo.getType(Ut).first();if(typeof e=="string"){if(o=r==null?void 0:r.contents.get({text:e}),!o)throw new g(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof pe&&(o=e);if(!o)throw new g("Invalid filter",e);let a=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!a)throw new g("No page returned",{filter:o});return new wi(this.actions,a,!0)})}applySort(e){var i,o;return T(this,void 0,void 0,function*(){let r=this.memo.getType(ft).first();if(!r)throw new g("No sort filter sub menu found");let a=(i=r==null?void 0:r.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!a)throw new g(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(a.selected)return this;let l=yield(o=a.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Pe(this.actions,l,!0)})}applyContentTypeFilter(e){var i,o,r,a;return T(this,void 0,void 0,function*(){let l=(r=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(ee).sub_menu)===null||r===void 0?void 0:r.as(Ua);if(!l)throw new g("Sub menu not found");let p=l.content_type_sub_menu_items.find(h=>h.title===e);if(!p)throw new g(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let f=yield(a=p.endpoint)===null||a===void 0?void 0:a.call(this.actions,{parse:!0});return new Pe(this.actions,f,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(Ut))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(pe).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(ft).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let r=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(ee).sub_menu)===null||o===void 0?void 0:o.as(Ua);return(r==null?void 0:r.content_type_sub_menu_items.map(a=>a.title))||[]}getHome(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Pe(this.actions,e.page,!0)})}getVideos(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Pe(this.actions,e.page,!0)})}getShorts(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Pe(this.actions,e.page,!0)})}getLiveStreams(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Pe(this.actions,e.page,!0)})}getReleases(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Pe(this.actions,e.page,!0)})}getPodcasts(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Pe(this.actions,e.page,!0)})}getPlaylists(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Pe(this.actions,e.page,!0)})}getCommunity(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Pe(this.actions,e.page,!0)})}getAbout(){var e,i,o;return T(this,void 0,void 0,function*(){if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(Va)[0];if(((e=this.header)===null||e===void 0?void 0:e.is(ai))&&this.header.tagline){if(this.header.tagline.more_endpoint instanceof _){let l=yield this.header.tagline.more_endpoint.call(this.actions);return new Ff(this.actions,l,!1).memo.getType(Va)[0]}let r=(o=(i=this.page.header_memo)===null||i===void 0?void 0:i.getType(ce)[0])===null||o===void 0?void 0:o.endpoint;if(!r)throw new g("Failed to extract continuation to get channel about");let a=yield r.call(this.actions,{parse:!0});if(!a.on_response_received_endpoints_memo)throw new g("Unexpected response while fetching channel about",{response:a});return a.on_response_received_endpoints_memo.getType(sh)[0]}throw new g("About not found")})}search(e){var i,o;return T(this,void 0,void 0,function*(){let r=(i=this.memo.getType(ln))===null||i===void 0?void 0:i[0];if(!r)throw new g("Search tab not found",this);let a=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Pe(this.actions,a,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(ai))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(ln))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return T(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new g("Could not get continuation data");return new lo(this.actions,i,!0)})}};n(Pe,"Channel");var lo=class extends he{constructor(e,i,o=!1){var r,a;super(e,i,o),this.contents=((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())||((a=this.page.on_response_received_endpoints)===null||a===void 0?void 0:a.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return T(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new g("Could not get continuation data");return new lo(this.actions,i,!0)})}};n(lo,"ChannelListContinuation");var wi=class extends yi{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(pe).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return T(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new wi(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return T(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new g("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(Ut)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(pe)),new wi(this.actions,i,!0)})}};n(wi,"FilteredChannelList");var kn,Vt,Cn,co=class{constructor(e,i,o=!1){var r,a,l;kn.set(this,void 0),Vt.set(this,void 0),Cn.set(this,void 0),S(this,kn,o?i:c.parseResponse(i),"f"),S(this,Vt,e,"f");let p=d(this,kn,"f").on_response_received_endpoints;if(!p)throw new g("Comments page did not have any content.");let f=p.at(0),h=p.at(1);this.header=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.firstOfType(nn);let v=((a=h==null?void 0:h.contents)===null||a===void 0?void 0:a.filterType(Gh))||[];this.contents=re(v.map(x=>{var y;return(y=x.comment)===null||y===void 0||y.setActions(d(this,Vt,"f")),x.setActions(d(this,Vt,"f")),x})),S(this,Cn,(l=h==null?void 0:h.contents)===null||l===void 0?void 0:l.firstOfType(ce),"f")}applySort(e){var i,o,r,a;return T(this,void 0,void 0,function*(){if(!this.header)throw new g("Page header is missing. Cannot apply sort option.");let l;if(e==="TOP_COMMENTS"?l=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(l=(a=(r=this.header.sort_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||a===void 0?void 0:a.at(1)),!l)throw new g("Could not find target button.");if(l.selected)return this;let p=yield l.endpoint.call(d(this,Vt,"f"),{parse:!0});return new co(d(this,Vt,"f"),p,!0)})}createComment(e){var i;return T(this,void 0,void 0,function*(){if(!this.header)throw new g("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(Hh).submit_button;if(!o)throw new g("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new g("Button does not have an endpoint.");return yield o.endpoint.call(d(this,Vt,"f"),{commentText:e})})}getContinuation(){return T(this,void 0,void 0,function*(){if(!d(this,Cn,"f"))throw new g("Continuation not found");let e=yield d(this,Cn,"f").endpoint.call(d(this,Vt,"f"),{parse:!0}),i=Object.assign({},d(this,kn,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new g("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new co(d(this,Vt,"f"),i,!0)})}get has_continuation(){return!!d(this,Cn,"f")}get page(){return d(this,kn,"f")}};n(co,"Comments");kn=new WeakMap,Vt=new WeakMap,Cn=new WeakMap;var NT=co;var Yf,Kv=class{constructor(e){Yf.set(this,void 0),S(this,Yf,D.parseResponse(e),"f"),this.contents=d(this,Yf,"f").items.array().as(cn,l_)}get page(){return d(this,Yf,"f")}};n(Kv,"Guide");Yf=new WeakMap;var PT=Kv;var En=class extends he{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(de),this.feed_actions=this.memo.getType(yh).first()}getContinuation(){return T(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new En(this.actions,e,!0)})}};n(En,"History");var $v=En;var Jt=class extends yi{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(o_).first(),this.contents=this.memo.getType(di).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return T(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Jt(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var i;return T(this,void 0,void 0,function*(){let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Jt(this.actions,o.page,!0)})}};n(Jt,"HomeFeed");var Ti=class extends yi{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new g("Unexpected response",this.page);let o=this.page.contents_memo.getType(be).first();if(!o.content)throw new g("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(c_,fn)),this.contents=o.content.as(di)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return T(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Ti(this.actions,o.page)})}};n(Ti,"HashtagFeed");var qv,Xv,jf,Qv=class{constructor(e,i){qv.set(this,void 0),Xv.set(this,void 0),jf.set(this,void 0),S(this,qv,e,"f"),S(this,Xv,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(F))throw new g('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');S(this,jf,o.as(F).items,"f")}selectItem(e){return T(this,void 0,void 0,function*(){let i;if(e instanceof I){if(!e.endpoint)throw new g("Item does not have an endpoint.");i=e.endpoint}else{let r=d(this,jf,"f").find(a=>a.is(ui)?a.as(ui).icon_type===e:!1);if(!r||!r.is(ui))throw new g(`Button "${e}" not found.`);i=r.endpoint}if(!i)throw new g("Target button does not have an endpoint.");return yield i.call(d(this,Xv,"f"),{parse:!0})})}items(){return d(this,jf,"f")}page(){return d(this,qv,"f")}};n(Qv,"ItemMenu");qv=new WeakMap,Xv=new WeakMap,jf=new WeakMap;var Zv=Qv;var Uf,e0,Nn=class extends he{constructor(e,i,o=!1){var r,a,l,p,f;super(e,i,o),Uf.add(this);let h=this.memo.getType(cv).first(),v=this.memo.getType(dv).first(),x=this.memo.getType(fv).first(),y=(r=this.page.alerts)===null||r===void 0?void 0:r.firstOfType(Yo);if(y&&y.alert_type==="ERROR")throw new g(y.text.toString(),y);if(!v&&!x&&Object.keys(this.page).length===0)throw new g("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(a=this.page.metadata)===null||a===void 0?void 0:a.item().as(pv)),{subtitle:h?h.subtitle:null,author:(p=(l=x==null?void 0:x.owner)===null||l===void 0?void 0:l.as(gn).author)!==null&&p!==void 0?p:h==null?void 0:h.author,thumbnails:(f=v==null?void 0:v.thumbnail_renderer)===null||f===void 0?void 0:f.as(an,sn).thumbnail,total_items:d(this,Uf,"m",e0).call(this,0,v),views:d(this,Uf,"m",e0).call(this,1,v),last_updated:d(this,Uf,"m",e0).call(this,2,v),can_share:h==null?void 0:h.can_share,can_delete:h==null?void 0:h.can_delete,is_editable:h==null?void 0:h.is_editable,privacy:h==null?void 0:h.privacy}),this.menu=v==null?void 0:v.menu,this.endpoint=v==null?void 0:v.endpoint,this.messages=this.memo.getType(Ge)}get items(){return this.videos}getContinuation(){return T(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Nn(this.actions,e,!0)})}};n(Nn,"Playlist");Uf=new WeakSet,e0=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var t0=Nn;var Nx,RT,i0=class extends he{constructor(e,i){if(super(e,i),Nx.add(this),!this.page.contents_memo)throw new g("Page contents not found");let o=this.page.contents_memo.getType(_v).first(),r=this.page.contents_memo.getType(vv).first();this.profile={stats:o,user_info:r};let a=this.page.contents_memo.getType(vn);this.sections=a.map(l=>{var p;return{type:l.icon_type,title:l.title,contents:((p=l.content)===null||p===void 0?void 0:p.key("items").array())||[],getAll:()=>d(this,Nx,"m",RT).call(this,l)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(i0,"Library");Nx=new WeakSet,RT=n(function(e){var i;return T(this,void 0,void 0,function*(){if(!(!((i=e.menu)===null||i===void 0)&&i.as(F).hasKey("top_level_buttons")))throw new g(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(F).top_level_buttons.firstOfType(I);if(!o)throw new g("Did not find target button.");let r=yield o.as(I).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new t0(this.actions,r,!0);case"WATCH_HISTORY":return new $v(this.actions,r,!0);case"CONTENT_CUT":return new he(this.actions,r,!0);default:throw new g("Target shelf not implemented.")}})},"_Library_getAll");var AT=i0;var Pn,o0=class extends EventTarget{constructor(){super(),Pn.set(this,new Map)}emit(e,...i){let o=new Y.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(r=>{r instanceof Y.shim.CustomEvent?i(...r.detail):i(r)},"wrapper");d(this,Pn,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(r=>{r instanceof Y.shim.CustomEvent?i(...r.detail):i(r),this.off(e,i)},"wrapper");d(this,Pn,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=d(this,Pn,"f").get(i);o&&(this.removeEventListener(e,o),d(this,Pn,"f").delete(i))}};n(o0,"EventEmitterLike");Pn=new WeakMap;var Wf=o0;var Ht,Si,po,rt,vt,$e;function qS(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n(qS,"flattenQueue");var n0=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(n0,"DelayQueue");var r0=class{constructor(){Ht.set(this,void 0),Si.set(this,void 0),po.set(this,void 0),rt.set(this,void 0),vt.set(this,void 0),$e.set(this,void 0),S(this,Ht,null,"f"),S(this,Si,null,"f"),S(this,po,null,"f"),S(this,rt,[],"f"),S(this,vt,null,"f"),S(this,$e,new n0,"f")}enqueueActionGroup(e){if(d(this,Ht,"f")!==null){let i=Date.now()-d(this,Ht,"f");d(this,$e,"f").back.push(i),5<d(this,$e,"f").front.length+d(this,$e,"f").back.length&&(d(this,$e,"f").front.length||(d(this,$e,"f").front=d(this,$e,"f").back,d(this,$e,"f").front.reverse(),d(this,$e,"f").back=[]),d(this,$e,"f").front.pop()),S(this,Si,Math.max(...d(this,$e,"f").getValues()),"f")}S(this,Ht,Date.now(),"f"),d(this,rt,"f").push(e),d(this,vt,"f")===null&&S(this,vt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(S(this,vt,null,"f"),d(this,rt,"f").length){let e=1e4;d(this,Si,"f")!==null&&d(this,Ht,"f")!==null&&(e=d(this,Si,"f")-Date.now()+d(this,Ht,"f")),e=d(this,rt,"f").length<e/80?1:Math.ceil(d(this,rt,"f").length/(e/80));let i=qS(d(this,rt,"f").splice(0,e));d(this,po,"f")&&d(this,po,"f").call(this,i),d(this,rt,"f")!==null&&(e==1?(e=d(this,Si,"f")/d(this,rt,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,S(this,vt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){d(this,vt,"f")!==null&&(clearTimeout(d(this,vt,"f")),S(this,vt,null,"f")),S(this,rt,[],"f")}set callback(e){S(this,po,e,"f")}get callback(){return d(this,po,"f")}get action_queue(){return d(this,rt,"f")}get estimated_update_interval(){return d(this,Si,"f")}get last_update_time(){return d(this,Ht,"f")}get next_update_id(){return d(this,vt,"f")}get poll_response_delay_queue(){return d(this,$e,"f")}};n(r0,"SmoothedQueue");Ht=new WeakMap,Si=new WeakMap,po=new WeakMap,rt=new WeakMap,vt=new WeakMap,$e=new WeakMap;var s0=r0;var Re,Gt,Gf,a0,mo,Jf,Hf,Px,u0,MT,fo,l0=class extends Wf{constructor(e){var i,o;super(),Re.add(this),Gt.set(this,void 0),Gf.set(this,void 0),a0.set(this,void 0),mo.set(this,void 0),Jf.set(this,void 0),Hf.set(this,0),this.running=!1,this.is_replay=!1,S(this,Gf,e.basic_info.id,"f"),S(this,a0,e.basic_info.channel_id,"f"),S(this,Gt,e.actions,"f"),S(this,mo,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new s0,this.smoothed_queue.callback=r=>T(this,void 0,void 0,function*(){r.length?r.length<10?yield d(this,Re,"m",u0).call(this,r):this.is_replay?(d(this,Re,"m",u0).call(this,r),yield d(this,Re,"m",fo).call(this,2e3)):d(this,Re,"m",u0).call(this,r):yield d(this,Re,"m",fo).call(this,2e3),this.running&&d(this,Re,"m",Px).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,d(this,Re,"m",Px).call(this),d(this,Re,"m",MT).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return T(this,void 0,void 0,function*(){let i=yield d(this,Gt,"f").execute("/live_chat/send_message",{params:px(d(this,a0,"f"),d(this,Gf,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:Y.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new g("Unexpected response from send_message",i);return i.actions.array().as(y_)})}applyFilter(e){var i,o,r,a,l,p,f;if(!this.initial_info)throw new g("Cannot apply filter before initial info is retrieved.");let h=(r=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||r===void 0?void 0:r.sub_menu_items;if(e==="TOP_CHAT"){if(!((a=h==null?void 0:h.at(0))===null||a===void 0)&&a.selected)return;S(this,mo,(l=h==null?void 0:h.at(0))===null||l===void 0?void 0:l.continuation,"f")}else{if(!((p=h==null?void 0:h.at(1))===null||p===void 0)&&p.selected)return;S(this,mo,(f=h==null?void 0:h.at(1))===null||f===void 0?void 0:f.continuation,"f")}}getItemMenu(e){return T(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(_))throw new g("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(_).call(d(this,Gt,"f"),{parse:!0});if(!i)throw new g("Could not retrieve item menu.",e);return new Zv(i,d(this,Gt,"f"))})}selectButton(e){return T(this,void 0,void 0,function*(){return yield e.endpoint.call(d(this,Gt,"f"),{parse:!0})})}};n(l0,"LiveChat");Gt=new WeakMap,Gf=new WeakMap,a0=new WeakMap,mo=new WeakMap,Jf=new WeakMap,Hf=new WeakMap,Re=new WeakSet,Px=n(function t(){T(this,void 0,void 0,function*(){var e,i;try{let o=yield d(this,Gt,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:d(this,mo,"f"),parse:!0}),r=o.continuation_contents;if(r||(this.emit("error",new g("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(r instanceof gi)){this.stop(),this.emit("end");return}S(this,mo,r.continuation.token,"f"),r.header?(this.initial_info=r,this.emit("start",r),this.running&&d(this,Re,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(r.actions),S(this,Hf,0,"f")}catch(o){this.emit("error",o),S(this,Hf,(i=d(this,Hf,"f"),e=i++,i),"f"),e<10?(yield d(this,Re,"m",fo).call(this,2e3),d(this,Re,"m",t).call(this)):(this.emit("error",new g("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),u0=n(function(e){return T(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),r=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let a of e)yield d(this,Re,"m",fo).call(this,r),this.emit("chat-update",a)})},"_LiveChat_emitSmoothedActions"),MT=n(function t(){T(this,void 0,void 0,function*(){var e,i,o,r,a,l,p,f,h,v,x;try{let y={videoId:d(this,Gf,"f")};d(this,Jf,"f")&&(y.continuation=d(this,Jf,"f"));let w=yield d(this,Gt,"f").execute("/updated_metadata",y),C=c.parseResponse(w.data);S(this,Jf,(e=C.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=C.actions)===null||i===void 0?void 0:i.array().firstOfType(k_))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((r=C.actions)===null||r===void 0?void 0:r.array().firstOfType(I_))||((a=this.metadata)===null||a===void 0?void 0:a.description),views:((l=C.actions)===null||l===void 0?void 0:l.array().firstOfType(E_))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((f=C.actions)===null||f===void 0?void 0:f.array().firstOfType(C_))||((h=this.metadata)===null||h===void 0?void 0:h.likes),date:((v=C.actions)===null||v===void 0?void 0:v.array().firstOfType(S_))||((x=this.metadata)===null||x===void 0?void 0:x.date)},this.emit("metadata-update",this.metadata),yield d(this,Re,"m",fo).call(this,5e3),this.running&&d(this,Re,"m",t).call(this)}catch(y){yield d(this,Re,"m",fo).call(this,2e3),this.running&&d(this,Re,"m",t).call(this)}})},"_LiveChat_pollMetadata"),fo=n(function(e){return T(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var c0=l0;var ho,zf,Rn=class{constructor(e,i){ho.set(this,void 0),zf.set(this,void 0),S(this,zf,e,"f"),S(this,ho,c.parseResponse(i.data),"f"),this.header=d(this,ho,"f").actions_memo.getType(D_).first(),this.contents=d(this,ho,"f").actions_memo.getType(ov)}getContinuation(){return T(this,void 0,void 0,function*(){let e=d(this,ho,"f").actions_memo.getType(ce).first();if(!e)throw new g("Continuation not found");let i=yield e.endpoint.call(d(this,zf,"f"),{parse:!1});return new Rn(d(this,zf,"f"),i)})}get page(){return d(this,ho,"f")}};n(Rn,"NotificationsMenu");ho=new WeakMap,zf=new WeakMap;var VT=Rn;var _o=class extends he{constructor(e,i,o=!1){var r,a,l,p,f,h;super(e,i,o);let v=((r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(ee).first().contents)||((a=this.page.on_response_received_commands)===null||a===void 0?void 0:a.first().contents);if(!v)throw new g("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(Tv)),this.results=(l=v.find(x=>x.is(de)&&x.contents&&x.contents.length>0))===null||l===void 0?void 0:l.as(de).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(Sv).first(),this.watch_card=(f=this.page.contents_memo)===null||f===void 0?void 0:f.getType(Vv).first(),this.refinement_cards=(h=this.results)===null||h===void 0?void 0:h.firstOfType(oi)}selectRefinementCard(e){var i,o;return T(this,void 0,void 0,function*(){let r;if(typeof e=="string"){if(!this.refinement_cards)throw new g("No refinement cards found.");if(r=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(ji),!r)throw new g(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")r=e;else throw new g("Invalid refinement card!");let a=yield r.endpoint.call(this.actions,{parse:!0});return new _o(this.actions,a,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(ji).map(i=>i.query))||[]}getContinuation(){return T(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new _o(this.actions,e,!0)})}};n(_o,"Search");var BT=_o;var vo,Kf,An=class{constructor(e,i){var o,r,a,l;if(vo.set(this,void 0),Kf.set(this,void 0),S(this,Kf,e,"f"),S(this,vo,c.parseResponse(i.data),"f"),this.sidebar=(o=d(this,vo,"f").sidebar)===null||o===void 0?void 0:o.as(kv),!d(this,vo,"f").contents)throw new g("Page contents not found");let p=d(this,vo,"f").contents.item().as(Nt).tabs.array().as(be).get({selected:!0});if(!p)throw new g("Target tab not found");let f=(r=p.content)===null||r===void 0?void 0:r.as(ee).contents.as(de);this.introduction=(l=(a=f==null?void 0:f.shift())===null||a===void 0?void 0:a.contents)===null||l===void 0?void 0:l.firstOfType(rv),this.sections=f==null?void 0:f.map(h=>{var v;return{title:((v=h.header)===null||v===void 0?void 0:v.title.toString())||null,contents:h.contents}})}selectSidebarItem(e){return T(this,void 0,void 0,function*(){if(!this.sidebar)throw new g("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new g(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(rn))i=e;else throw new g("Invalid item",{target_item:e});let o=yield i.endpoint.call(d(this,Kf,"f"),{parse:!1});return new An(d(this,Kf,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new g("Sections not available");for(let o of this.sections)if(!!o.contents)for(let r of o.contents){let a=r.as(_n).options;if(a){for(let l of a)if(l.is(hn)&&((i=l.title)===null||i===void 0?void 0:i.toString())===e)return l}}throw new g(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new g("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(_n).options&&(e=e.concat(o.as(_n).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new g("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return d(this,vo,"f")}};n(An,"Settings");vo=new WeakMap,Kf=new WeakMap;var DT=An;var Mn,p0=class{constructor(e){var i;if(Mn.set(this,void 0),S(this,Mn,c.parseResponse(e.data),"f"),!d(this,Mn,"f").contents)throw new g("Page contents not found");let o=d(this,Mn,"f").contents.item().as(Et).tabs.get({selected:!0});if(!o)throw new g("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(ee).contents.as(de)}get page(){return d(this,Mn,"f")}};n(p0,"TimeWatched");Mn=new WeakMap;var OT=p0;var Ox={};Ce(Ox,{Feed:()=>he,FilterableFeed:()=>yi,MediaInfo:()=>Ci,TabbedFeed:()=>Ff});var m0={};Ce(m0,{chooseFormat:()=>v0,download:()=>Bx,toDash:()=>_0});var XS={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function LT(t){return t.replace(/([&"<>'])/g,(e,i)=>XS[i])}n(LT,"escapeXMLString");function QS(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}n(QS,"normalizeTag");function ae(t,e,...i){let o=i.flat().map(r=>typeof r=="string"?ZS(r):r);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:o})):{type:QS(t),props:Object.assign(Object.assign({},e),{children:o})}}n(ae,"createElement");function ZS(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}n(ZS,"createTextElement");function FT(t){return T(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return LT(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(o=>!["children","nodeValue"].includes(o)&&t.props[o]!==void 0).map(o=>`${o}="${LT(`${t.props[o]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(o=>!!o).map(o=>FT(o)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}n(FT,"renderElementToString");function YT(t){return T(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield FT(yield t)}`})}n(YT,"renderToString");function jT(t){return t.children}n(jT,"Fragment");var xo,d0=class{constructor(e,i){xo.set(this,void 0),S(this,xo,new Y.shim.Cache(e,i),"f")}get cache_dir(){return d(this,xo,"f").cache_dir}get(e){return d(this,xo,"f").get(e)}set(e,i){return d(this,xo,"f").set(e,i)}remove(e){return d(this,xo,"f").remove(e)}};n(d0,"UniversalCache");xo=new WeakMap;var tI=d0;var Rx,Ii,Ax,$f,UT,f0=class{constructor(e,i,o){Rx.add(this),Ii.set(this,void 0),Ax.set(this,void 0),$f.set(this,void 0),S(this,Ii,e,"f"),S(this,Ax,i,"f"),S(this,$f,o||Y.shim.fetch,"f")}get fetch_function(){return d(this,$f,"f")}fetch(e,i){return T(this,void 0,void 0,function*(){let o=Me.API.PRODUCTION_1+d(this,Ii,"f").api_version,r=(i==null?void 0:i.baseURL)||o,a=typeof e=="string"?!r.endsWith("/")&&!e.startsWith("/")?new URL(`${r}/${e}`):new URL(r+e):e instanceof URL?e:new URL(e.url,r),l=(i==null?void 0:i.headers)||(e instanceof Y.shim.Request?e.headers:new Y.shim.Headers)||new Y.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof Y.shim.Request?e.body:void 0),f=new Y.shim.Headers(l);f.set("Accept","*/*"),f.set("Accept-Language","*"),f.set("X-Goog-Visitor-Id",d(this,Ii,"f").context.client.visitorData||""),f.set("X-Origin",a.origin),f.set("X-Youtube-Client-Version",d(this,Ii,"f").context.client.clientVersion||""),Y.shim.server&&(f.set("User-Agent",go("desktop")),f.set("origin",a.origin)),a.searchParams.set("key",d(this,Ii,"f").key),a.searchParams.set("prettyPrint","false"),a.searchParams.set("alt","json");let h=f.get("Content-Type"),v=p,x=!1,y=r===o||r===Me.YT_UPLOAD;if(h==="application/json"&&y&&typeof p=="string"){let R=JSON.parse(p),M=Object.assign(Object.assign({},R),{context:JSON.parse(JSON.stringify(d(this,Ii,"f").context))});d(this,Rx,"m",UT).call(this,M.context,M.client),f.set("x-youtube-client-version",M.context.client.clientVersion),delete M.client,Y.shim.server&&(M.context.client.clientName==="ANDROID"||M.context.client.clientName==="ANDROID_MUSIC"?f.set("User-Agent",W.ANDROID.USER_AGENT):M.context.client.clientName==="iOS"&&f.set("User-Agent",W.iOS.USER_AGENT)),v=JSON.stringify(M)}let w=new Y.shim.Request(a,e instanceof Y.shim.Request?e:i),C=yield d(this,$f,"f").call(this,w,{body:v,headers:f,credentials:"include",redirect:e instanceof Y.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"});if(C.ok)return C;throw new g(`Request to ${C.url} failed with status ${C.status}`,yield C.text())})}};n(f0,"HTTPClient");Ii=new WeakMap,Ax=new WeakMap,$f=new WeakMap,Rx=new WeakSet,UT=n(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=W.ANDROID.SDK_VERSION,e.client.userAgent=W.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="10",e.client.platform="MOBILE"),i){case"iOS":e.client.deviceModel=W.iOS.DEVICE_MODEL,e.client.clientVersion=W.iOS.VERSION,e.client.clientName=W.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=W.YTMUSIC.VERSION,e.client.clientName=W.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=W.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=W.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=W.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=W.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=W.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=W.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=W.TV_EMBEDDED.NAME,e.client.clientVersion=W.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:Me.YT_BASE};break;case"YTKIDS":e.client.clientVersion=W.WEB_KIDS.VERSION,e.client.clientName=W.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var Mx=f0;function iI(t){var e,i,o;let r=new Map,a=t.some(l=>!!l.audio_track);for(let l of t){if((!l.index_range||!l.init_range)&&!l.is_type_otf)continue;let p=l.mime_type.split(";")[0],f=(e=Ye(l.mime_type,'codecs="','"'))===null||e===void 0?void 0:e.split(".")[0],h=l.color_info?Object.values(l.color_info).join("-"):"",v=((i=l.audio_track)===null||i===void 0?void 0:i.id)||"",x=`${p}-${f}-${h}-${v}`;r.has(x)||r.set(x,[]),(o=r.get(x))===null||o===void 0||o.push(l)}return{groups:Array.from(r.values()),has_multiple_audio_tracks:a}}n(iI,"getFormatGroupings");function WT(t,e){if(t.length>1&&new Set(t.map(i=>Ye(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),Ye(t[0].mime_type,'codecs="','"')}n(WT,"hoistCodecsIfPossible");function JT(t,e,i){if(t.length>1&&new Set(t.map(o=>o.fps)).size===1)return i.push(e),Number(t[0][e])}n(JT,"hoistNumberAttributeIfPossible");function oI(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}n(oI,"hoistAudioChannelsIfPossible");function nI(t,e){var i;return T(this,void 0,void 0,function*(){let o=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Je.STREAM_HEADERS,redirect:"follow"}),r=o.url.replace("&rn=0","").replace("&sq=0",""),a=yield o.text(),l=(i=Ye(a,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!l)throw new g("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let f of l){let h=f.trim();if(h.length===0)continue;let v,x=Ye(h,"(r=",")");x&&(v=parseInt(x)),p.push({duration:parseInt(h),repeat_count:v})}return{init_url:`${r}&sq=0`,media_url:`${r}&sq=$Number$`,timeline:p}})}n(nI,"getOTFSegmentTemplate");function HT(t,e,i,o,r){let a=new URL(t.decipher(o));a.searchParams.set("cpn",r||"");let l=e(a).toString();if(t.is_type_otf){if(!i)throw new g("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,getSegmentTemplate(){return nI(l,i)}}}if(!t.index_range||!t.init_range)throw new g("Index and init ranges not available",{format:t});return{is_oft:!1,base_url:l,index_range:t.index_range,init_range:t.init_range}}n(HT,"getSegmentInfo");function rI(t,e,i,o,r,a){return new URL(t.decipher(r)).searchParams.set("cpn",a||""),{uid:t.audio_track?`${t.itag}-${t.audio_track.id}`:t.itag.toString(),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Ye(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:HT(t,i,o,r,a)}}n(rI,"getAudioRepresentation");function sI(t){let{audio_track:e}=t;if(!!e)return e.audio_is_default?"main":t.is_dubbed?"dub":t.is_descriptive?"description":"alternate"}n(sI,"getTrackRole");function aI(t,e,i,o,r){var a;let l=t[0],{audio_track:p}=l,f=[];return{mime_type:l.mime_type.split(";")[0],language:(a=l.language)!==null&&a!==void 0?a:void 0,codecs:WT(t,f),audio_sample_rate:JT(t,"audio_sample_rate",f),track_name:p==null?void 0:p.display_name,track_role:sI(l),channels:oI(t,f),representations:t.map(v=>rI(v,f,e,i,o,r))}}n(aI,"getAudioSet");var uI={BT709:"1",BT2020:"9"},lI={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},cI={BT709:"1",BT2020_NCL:"14"};function pI(t){let e=t.color_info,i=e!=null&&e.primaries?uI[e.primaries]:void 0,o=e!=null&&e.transfer_characteristics?lI[e.transfer_characteristics]:void 0,r=e!=null&&e.matrix_coefficients?cI[e.matrix_coefficients]:void 0;if((e==null?void 0:e.matrix_coefficients)&&!r){let l=new URL(t.url),p=JSON.parse(JSON.stringify(t));p.url="REDACTED",p.signature_cipher="REDACTED",p.cipher="REDACTED",console.warn(`YouTube.js toDash(): Unknown matrix coefficients "${e.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${Y.shim.info.bugs_url} so we can add support for it.
Innertube client: ${l.searchParams.get("c")}
format:`,p)}return{primaries:i,transfer_characteristics:o,matrix_coefficients:r}}n(pI,"getColorInfo");function dI(t,e,i,o,r,a){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Ye(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:HT(t,e,r,o,a)}}n(dI,"getVideoRepresentation");function fI(t,e,i,o,r){let a=t[0],l=pI(a),p=[];return{mime_type:a.mime_type.split(";")[0],color_info:l,codecs:WT(t,p),fps:JT(t,"fps",p),representations:t.map(h=>dI(h,e,p,i,o,r))}}n(fI,"getVideoSet");function mI(t){var e;let i=new Map;for(let o of t.boards){let r=new URL(o.template_url).pathname.split(".").pop(),a=`image/${r==="jpg"?"jpeg":r}`;i.has(a)||i.set(a,[]),(e=i.get(a))===null||e===void 0||e.push(o)}return i}n(mI,"getStoryboardInfo");function hI(t,e,i,o,r){return T(this,void 0,void 0,function*(){let a=e.template_url,l=i(new URL(a.replace("$M","0"))),p=r.response?r.response:t.session.http.fetch_function(l,{method:"HEAD",headers:Je.STREAM_HEADERS});return r.response=p,(yield p).headers.get("Content-Type")||o})}n(hI,"getStoryboardMimeType");function _I(t,e,i){return T(this,void 0,void 0,function*(){let o=e.template_url,r=[],a=Math.min(e.storyboard_count,10);for(let h=0;h<a;h++){let v=new URL(o.replace("$M",h.toString())),x=h===0&&i.response?i.response:t.session.http.fetch_function(v,{method:"HEAD",headers:Je.STREAM_HEADERS});h===0&&(i.response=x),r.push(x)}let l=yield Promise.all(r),p=[];for(let h of l)p.push(parseInt(h.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}n(_I,"getStoryboardBitrate");function vI(t,e,i,o,r){let a=i.template_url,l=new URL(a.replace("$M","$Number$"));return{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return _I(e,i,r)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:t/i.storyboard_count,template_url:o(l).toString(),getURL(f){return l.toString().replace("$Number$",f.toString())}}}n(vI,"getImageRepresentation");function xI(t,e,i,o){let r=mI(i),a={};return Array.from(r.entries()).map(([l,p])=>({probable_mime_type:l,getMimeType(){return hI(e,p[0],o,l,a)},representations:p.map(f=>vI(t,e,f,o,a))}))}n(xI,"getImageSets");function h0(t,e=p=>p,i,o,r,a,l){if(!t)throw new g("Streaming data not available");let p=i?t.adaptive_formats.filter(B=>!i(B)):t.adaptive_formats,f=p[0].approx_duration_ms/1e3,{groups:h,has_multiple_audio_tracks:v}=iI(p),{video_groups:x,audio_groups:y}=h.reduce((B,$)=>$[0].has_audio?(v&&!$[0].audio_track||B.audio_groups.push($),B):(B.video_groups.push($),B),{video_groups:[],audio_groups:[]}),w=y.map(B=>aI(B,e,a,r,o)),C=x.map(B=>fI(B,e,r,a,o)),R=l&&a?xI(f,a,l,e):[];return{duration:f,audio_sets:w,video_sets:C,image_sets:R}}n(h0,"getStreamingInfo");function gI({info:t}){return T(this,void 0,void 0,function*(){if(!t.is_oft)return null;let e=yield t.getSegmentTemplate();return ae("segment-template",{startNumber:"1",timescale:"1000",initialization:e.init_url,media:e.media_url},ae("segment-timeline",null,e.timeline.map(i=>ae("s",{d:i.duration,r:i.repeat_count}))))})}n(gI,"OTFSegmentInfo");function GT({info:t}){return t.is_oft?ae(gI,{info:t}):ae(jT,null,ae("base-url",null,t.base_url),ae("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},ae("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}n(GT,"SegmentInfo");function bI({streamingData:t,transformURL:e,rejectFormat:i,cpn:o,player:r,actions:a,storyboards:l}){let{duration:p,audio_sets:f,video_sets:h,image_sets:v}=h0(t,e,i,o,r,a,l);return ae("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${p}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},ae("period",null,f.map((x,y)=>ae("adaptation-set",{id:y,mimeType:x.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:x.language,codecs:x.codecs,audioSamplingRate:x.audio_sample_rate},x.track_role&&ae("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:x.track_role}),x.track_name&&ae("label",{id:y},x.track_name),x.channels&&ae("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:x.channels}),x.representations.map(w=>ae("representation",{id:w.uid,bandwidth:w.bitrate,codecs:w.codecs,audioSamplingRate:w.audio_sample_rate},w.channels&&ae("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:w.channels}),ae(GT,{info:w.segment_info}))))),h.map((x,y)=>ae("adaptation-set",{id:y+f.length,mimeType:x.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:x.codecs,maxPlayoutRate:"1",frameRate:x.fps},x.color_info.primaries&&ae("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:x.color_info.primaries}),x.color_info.transfer_characteristics&&ae("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:x.color_info.transfer_characteristics}),x.color_info.matrix_coefficients&&ae("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:x.color_info.matrix_coefficients}),x.representations.map(w=>ae("representation",{id:w.uid,bandwidth:w.bitrate,width:w.width,height:w.height,codecs:w.codecs,frameRate:w.fps},ae(GT,{info:w.segment_info}))))),v.map((x,y)=>T(this,void 0,void 0,function*(){return ae("adaptation-set",{id:y+f.length+h.length,mimeType:yield x.getMimeType(),contentType:"image"},x.representations.map(w=>T(this,void 0,void 0,function*(){return ae("representation",{id:`thumbnails_${w.thumbnail_width}x${w.thumbnail_height}`,bandwidth:yield w.getBitrate(),width:w.sheet_width,height:w.sheet_height},ae("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${w.columns}x${w.rows}`}),ae("segment-template",{media:w.template_url,duration:w.template_duration,startNumber:"0"}))})))}))))}n(bI,"DashManifest");function _0(t,e=p=>p,i,o,r,a,l){if(!t)throw new g("Streaming data not available");return YT(ae(bI,{streamingData:t,transformURL:e,rejectFormat:i,cpn:o,player:r,actions:a,storyboards:l}))}n(_0,"toDash");function Bx(t,e,i,o,r,a){return T(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new g("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new g("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!o)throw new g("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let l=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=v0(l,o),f=p.decipher(r);if(l.type==="video+audio"&&!t.range){let R=yield e.session.http.fetch_function(`${f}&cpn=${a}`,{method:"GET",headers:ym,redirect:"follow"});if(!R.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:R});let M=R.body;if(!M)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:R});return M}let h=1048576*10,v=t.range?t.range.start:0,x=t.range?t.range.end:h,y=!1,w;return new Y.shim.ReadableStream({start(){},pull:R=>T(this,void 0,void 0,function*(){if(y){R.close();return}return(x>=(p.content_length?p.content_length:0)||t.range)&&(y=!0),new Promise((M,B)=>T(this,void 0,void 0,function*(){var $,G,le,fe;try{w=new AbortController;let z=yield e.session.http.fetch_function(`${f}&cpn=${a}&range=${v}-${x||""}`,{method:"GET",headers:Object.assign({},ym),signal:w.signal}),U=z.body;if(!U)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:z});try{for(var ve=!0,xe=Tg(Dx(U)),ye;ye=yield xe.next(),$=ye.done,!$;ve=!0){fe=ye.value,ve=!1;let q=fe;R.enqueue(q)}}catch(q){G={error:q}}finally{try{!ve&&!$&&(le=xe.return)&&(yield le.call(xe))}finally{if(G)throw G.error}}v=x+1,x+=h,M()}catch(z){B(z)}}))}),cancel(R){return T(this,void 0,void 0,function*(){w.abort(R)})}},{highWaterMark:1,size(R){return R.byteLength}})})}n(Bx,"download");function v0(t,e){if(!e)throw new g("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],o=t.type?t.type.includes("audio"):!0,r=t.type?t.type.includes("video"):!0,a=t.language||"original",l=t.quality||"best",p=-1,f=["best","bestefficiency"].includes(l),h=l!=="best",v=i.filter(x=>o&&!x.has_audio||r&&!x.has_video||t.format!=="any"&&!x.mime_type.includes(t.format||"mp4")||!f&&x.quality_label!==l?!1:(p<x.width&&(p=x.width),!0));if(!v.length)throw new g("No matching formats found",{options:t});if(f&&r&&(v=v.filter(x=>x.width===p)),o&&!r){let x=v.filter(y=>a!=="original"?!y.has_video&&y.language===a:!y.has_video&&y.is_original);x.length>0&&(v=x)}return h?v.sort((x,y)=>x.bitrate-y.bitrate):v.sort((x,y)=>y.bitrate-x.bitrate),v[0]}n(v0,"chooseFormat");var qf,Xf,Vn=class{constructor(e,i){qf.set(this,void 0),Xf.set(this,void 0),S(this,qf,c.parseResponse(i.data),"f"),S(this,Xf,e,"f"),this.transcript=d(this,qf,"f").actions_memo.getType(Ko).first()}selectLanguage(e){var i,o,r,a;return T(this,void 0,void 0,function*(){let l=(a=(r=(o=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||o===void 0?void 0:o.language_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||a===void 0?void 0:a.find(f=>f.title.toString()===e);if(!l)throw new Error(`Language not found: ${e}`);if(l.selected)return this;let p=yield d(this,Xf,"f").execute("/get_transcript",{params:l.continuation});return new Vn(d(this,Xf,"f"),p)})}get languages(){var e,i,o,r;return((r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.map(a=>a.title.toString()))||[]}get selectedLanguage(){var e,i,o,r,a;return((a=(r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.find(l=>l.selected))===null||a===void 0?void 0:a.title.toString())||""}get page(){return d(this,qf,"f")}};n(Vn,"TranscriptInfo");qf=new WeakMap,Xf=new WeakMap;var zT=Vn;var ki,xt,Bn,Qf,x0=class{constructor(e,i,o){var r,a;ki.set(this,void 0),xt.set(this,void 0),Bn.set(this,void 0),Qf.set(this,void 0),S(this,xt,i,"f");let l=c.parseResponse(e[0].data),p=!((r=e==null?void 0:e[1])===null||r===void 0)&&r.data?c.parseResponse(e[1].data):void 0;if(S(this,ki,[l,p],"f"),S(this,Bn,o,"f"),((a=l.playability_status)===null||a===void 0?void 0:a.status)==="ERROR")throw new g("This video is unavailable",l.playability_status);this.streaming_data=l.streaming_data,this.playability_status=l.playability_status,S(this,Qf,l.playback_tracking,"f")}toDash(e,i,o={include_thumbnails:!1}){var r;return T(this,void 0,void 0,function*(){let a=d(this,ki,"f")[0];if(a.video_details&&(a.video_details.is_live||a.video_details.is_post_live_dvr))throw new g("Generating DASH manifests for live and Post-Live-DVR videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let l;return o.include_thumbnails&&((r=a.storyboards)===null||r===void 0?void 0:r.is(Yi))&&(l=a.storyboards),_0(this.streaming_data,e,i,d(this,Bn,"f"),d(this,xt,"f").session.player,d(this,xt,"f"),l)})}getStreamingInfo(e,i){var o;return h0(this.streaming_data,e,i,this.cpn,d(this,xt,"f").session.player,d(this,xt,"f"),!((o=d(this,ki,"f")[0].storyboards)===null||o===void 0)&&o.is(Yi)?d(this,ki,"f")[0].storyboards:void 0)}chooseFormat(e){return v0(e,this.streaming_data)}download(e={}){return T(this,void 0,void 0,function*(){let i=d(this,ki,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new g("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Bx(e,d(this,xt,"f"),this.playability_status,this.streaming_data,d(this,xt,"f").session.player,this.cpn)})}getTranscript(){var e;return T(this,void 0,void 0,function*(){let i=this.page[1];if(!i)throw new g("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new g("Engagement panels not found. Video likely has no transcript.");let o=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!o)throw new g("Transcript panel not found. Video likely has no transcript.");let r=(e=o.content)===null||e===void 0?void 0:e.as(ce);if(!r)throw new g("Transcript continuation not found.");let a=yield r.endpoint.call(this.actions);return new zT(this.actions,a)})}addToWatchHistory(e=W.WEB.NAME,i=W.WEB.VERSION,o="https://www."){return T(this,void 0,void 0,function*(){if(!d(this,Qf,"f"))throw new g("Playback tracking not available");let r={cpn:d(this,Bn,"f"),fmt:251,rtn:0,rt:0},a=d(this,Qf,"f").videostats_playback_url.replace("https://s.",o);return yield d(this,xt,"f").stats(a,{client_name:e,client_version:i},r)})}get actions(){return d(this,xt,"f")}get cpn(){return d(this,Bn,"f")}get page(){return d(this,ki,"f")}};n(x0,"MediaInfo");ki=new WeakMap,xt=new WeakMap,Bn=new WeakMap,Qf=new WeakMap;var Ci=x0;var Ei,Dn=class extends Ci{constructor(e,i,o){var r,a,l,p,f,h,v,x,y,w,C,R,M,B,$,G,le,fe,ve,xe,ye,z,U,q,Z,we,Xe,Qe,K,Ae,yt,wt,ge,Ue,Mo,Vo,Bo,Do,Oo,Lr,Z0,ex;super(e,i,o),Ei.set(this,void 0);let[ue,Ft]=this.page;if(ue.microformat&&!(!((r=ue.microformat)===null||r===void 0)&&r.is(_t,kt)))throw new g("Invalid microformat",ue.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},ue.video_details),{embed:!((a=ue.microformat)===null||a===void 0)&&a.is(_t)?(l=ue.microformat)===null||l===void 0?void 0:l.embed:null,channel:!((p=ue.microformat)===null||p===void 0)&&p.is(_t)?(f=ue.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(h=ue.microformat)===null||h===void 0?void 0:h.is_unlisted,is_family_safe:(v=ue.microformat)===null||v===void 0?void 0:v.is_family_safe,category:!((x=ue.microformat)===null||x===void 0)&&x.is(_t)?(y=ue.microformat)===null||y===void 0?void 0:y.category:null,has_ypc_metadata:!((w=ue.microformat)===null||w===void 0)&&w.is(_t)?(C=ue.microformat)===null||C===void 0?void 0:C.has_ypc_metadata:null,start_timestamp:!((R=ue.microformat)===null||R===void 0)&&R.is(_t)?ue.microformat.start_timestamp:null,view_count:((M=ue.microformat)===null||M===void 0?void 0:M.is(_t))&&isNaN((B=ue.video_details)===null||B===void 0?void 0:B.view_count)?ue.microformat.view_count:($=ue.video_details)===null||$===void 0?void 0:$.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=ue.annotations,this.storyboards=ue.storyboards,this.endscreen=ue.endscreen,this.captions=ue.captions,this.cards=ue.cards,this.streaming_data){let ke=this.streaming_data.adaptive_formats.find(Zt=>{var Oe;return(Oe=Zt.audio_track)===null||Oe===void 0?void 0:Oe.audio_is_default});if(ke)this.streaming_data.formats.forEach(Zt=>Zt.language=ke.language);else if(typeof((G=this.captions)===null||G===void 0?void 0:G.default_audio_track_index)<"u"&&((le=this.captions)===null||le===void 0?void 0:le.audio_tracks)&&this.captions.caption_tracks){let Oe=this.captions.audio_tracks[this.captions.default_audio_track_index].default_caption_track_index||0,vg=this.captions.caption_tracks[Oe].language_code;this.streaming_data.adaptive_formats.forEach(gm=>{gm.has_audio&&(gm.language=vg)}),this.streaming_data.formats.forEach(gm=>gm.language=vg)}}let We=(fe=Ft==null?void 0:Ft.contents)===null||fe===void 0?void 0:fe.item().as(xn),Lo=We==null?void 0:We.results,xm=We==null?void 0:We.secondary_results;if(Lo&&xm){if(((ve=ue.microformat)===null||ve===void 0?void 0:ve.is(_t))&&((xe=ue.microformat)===null||xe===void 0?void 0:xe.category)==="Gaming"){let Oe=(U=(z=(ye=Lo.firstOfType(gf))===null||ye===void 0?void 0:ye.metadata)===null||z===void 0?void 0:z.rows)===null||U===void 0?void 0:U.firstOfType(cd);Oe!=null&&Oe.is(cd)&&(this.game_info={title:(Z=(q=Oe==null?void 0:Oe.contents)===null||q===void 0?void 0:q.firstOfType(ud))===null||Z===void 0?void 0:Z.title,release_year:(Xe=(we=Oe==null?void 0:Oe.contents)===null||we===void 0?void 0:we.firstOfType(ud))===null||Xe===void 0?void 0:Xe.subtitle})}this.primary_info=Lo.firstOfType(Bv),this.secondary_info=Lo.firstOfType(gf),this.merchandise=Lo.firstOfType(O_),this.related_chip_cloud=(Qe=xm.firstOfType(bv))===null||Qe===void 0?void 0:Qe.content.as(Ze),We!=null&&We.playlist&&(this.playlist=We.playlist),this.watch_next_feed=((K=xm.firstOfType(de))===null||K===void 0?void 0:K.contents)||xm,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((Ae=this.watch_next_feed.at(-1))===null||Ae===void 0?void 0:Ae.is(ce))&&S(this,Ei,(yt=this.watch_next_feed.pop())===null||yt===void 0?void 0:yt.as(ce),"f"),this.player_overlays=(wt=Ft==null?void 0:Ft.player_overlays)===null||wt===void 0?void 0:wt.item().as(pi),We!=null&&We.autoplay&&(this.autoplay=We.autoplay);let ke=(Ue=(ge=this.primary_info)===null||ge===void 0?void 0:ge.menu)===null||Ue===void 0?void 0:Ue.top_level_buttons.firstOfType(eo);((Mo=ke==null?void 0:ke.like_button)===null||Mo===void 0?void 0:Mo.is(Se))&&((Vo=ke==null?void 0:ke.dislike_button)===null||Vo===void 0?void 0:Vo.is(Se))&&(this.basic_info.like_count=(Bo=ke==null?void 0:ke.like_button)===null||Bo===void 0?void 0:Bo.like_count,this.basic_info.is_liked=(Do=ke==null?void 0:ke.like_button)===null||Do===void 0?void 0:Do.is_toggled,this.basic_info.is_disliked=(Oo=ke==null?void 0:ke.dislike_button)===null||Oo===void 0?void 0:Oo.is_toggled);let Zt=(Lr=Lo.get({target_id:"comments-entry-point"}))===null||Lr===void 0?void 0:Lr.as(de);this.comments_entry_point_header=(Z0=Zt==null?void 0:Zt.contents)===null||Z0===void 0?void 0:Z0.firstOfType(Jh),this.livechat=(ex=Ft==null?void 0:Ft.contents_memo)===null||ex===void 0?void 0:ex.getType(x_).first()}}selectFilter(e){var i,o,r,a;return T(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new g("Chip cloud not found, cannot apply filter");let l;if(typeof e=="string"){let h=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!h)throw new g("Invalid filter",{available_filters:this.filters});l=h}else if(e!=null&&e.is(pe))l=e;else throw new g("Invalid cloud chip",e);if(l.is_selected)return this;let p=yield(r=l.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0}),f=(a=p==null?void 0:p.on_response_received_endpoints)===null||a===void 0?void 0:a.get({target_id:"watch-next-feed"});return this.watch_next_feed=f==null?void 0:f.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return T(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,i,o,r,a;return T(this,void 0,void 0,function*(){if(!d(this,Ei,"f"))throw new g("Watch next feed continuation not found");let l=yield(e=d(this,Ei,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=l==null?void 0:l.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"appendContinuationItemsAction"});if(!p)throw new g("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((r=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||r===void 0)&&r.is(ce)?S(this,Ei,(a=this.watch_next_feed.pop())===null||a===void 0?void 0:a.as(ce),"f"):S(this,Ei,void 0,"f"),this})}like(){var e,i;return T(this,void 0,void 0,function*(){let o=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(eo),r=o==null?void 0:o.like_button;if(!r)throw new g("Like button not found",{video_id:this.basic_info.id});if(!r.is(Se))throw new g("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(r.is_toggled)throw new g("This video is already liked",{video_id:this.basic_info.id});return yield r.endpoint.call(this.actions)})}dislike(){var e,i;return T(this,void 0,void 0,function*(){let o=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(eo),r=o==null?void 0:o.dislike_button;if(!r)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(!r.is(Se))throw new g("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(r.is_toggled)throw new g("This video is already disliked",{video_id:this.basic_info.id});return yield r.endpoint.call(this.actions)})}removeRating(){var e,i;return T(this,void 0,void 0,function*(){let o,r=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(eo),a=r==null?void 0:r.like_button,l=r==null?void 0:r.dislike_button;if(!(a!=null&&a.is(Se))||!(l!=null&&l.is(Se)))throw new g("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(a!=null&&a.is_toggled?o=a:l!=null&&l.is_toggled&&(o=l),!o)throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});return yield o.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new g("Live Chat is not available",{video_id:this.basic_info.id});return new c0(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(Rp).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new Dn([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var r;return(r=o.text)===null||r===void 0?void 0:r.toString()}))||[]}get wn_has_continuation(){return!!d(this,Ei,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(Rp))}get music_tracks(){var e,i,o,r,a,l;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(f=>{var h;return(h=f.content)===null||h===void 0?void 0:h.is(Wi)});if(p!==void 0&&p.length>0){let f=(a=(r=(o=p[0].content)===null||o===void 0?void 0:o.as(Wi))===null||r===void 0?void 0:r.items)===null||a===void 0?void 0:a.filterType(Go);if(f!==void 0&&f.length>0)return(l=f[0].carousel_lockups)===null||l===void 0?void 0:l.map(h=>{var v,x,y,w,C,R,M,B,$,G,le,fe,ve,xe,ye,z,U,q,Z;let we,Xe,Qe,K,Ae,yt;we=(x=(v=h.video_lockup)===null||v===void 0?void 0:v.title)===null||x===void 0?void 0:x.toString(),Ae=(y=h.video_lockup)===null||y===void 0?void 0:y.endpoint.payload.videoId;for(let wt=0;wt<h.info_rows.length;wt++){let ge=h.info_rows[wt];if(ge.info_row_expand_status_key===void 0)if(we===void 0){if(we=((w=ge.default_metadata)===null||w===void 0?void 0:w.toString())||((C=ge.expanded_metadata)===null||C===void 0?void 0:C.toString()),Ae===void 0){let Ue=((R=ge.default_metadata)===null||R===void 0?void 0:R.endpoint)||((M=ge.expanded_metadata)===null||M===void 0?void 0:M.endpoint);Ae=(B=Ue==null?void 0:Ue.payload)===null||B===void 0?void 0:B.videoId}}else Qe=(($=ge.default_metadata)===null||$===void 0?void 0:$.toString())||((G=ge.expanded_metadata)===null||G===void 0?void 0:G.toString());else{if(((le=ge.info_row_expand_status_key)===null||le===void 0?void 0:le.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(Xe=((fe=ge.default_metadata)===null||fe===void 0?void 0:fe.toString())||((ve=ge.expanded_metadata)===null||ve===void 0?void 0:ve.toString()),yt===void 0)){let Ue=((xe=ge.default_metadata)===null||xe===void 0?void 0:xe.endpoint)||((ye=ge.expanded_metadata)===null||ye===void 0?void 0:ye.endpoint);yt=(z=Ue==null?void 0:Ue.payload)===null||z===void 0?void 0:z.browseId}((U=ge.info_row_expand_status_key)===null||U===void 0?void 0:U.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(K=((q=ge.default_metadata)===null||q===void 0?void 0:q.toString())||((Z=ge.expanded_metadata)===null||Z===void 0?void 0:Z.toString()))}}return{song:we,artist:Xe,album:Qe,license:K,videoId:Ae,channelId:yt}})}return[]}};n(Dn,"VideoInfo");Ei=new WeakMap;var Zf=Dn;var Yx={};Ce(Yx,{Album:()=>KT,Artist:()=>$T,Explore:()=>qT,HomeFeed:()=>XT,Library:()=>QT,LibraryContinuation:()=>To,Playlist:()=>T0,Recap:()=>e1,Search:()=>t1,TrackInfo:()=>i1});var zt,g0=class{constructor(e){var i,o,r;if(zt.set(this,void 0),S(this,zt,c.parseResponse(e.data),"f"),this.header=(i=d(this,zt,"f").header)===null||i===void 0?void 0:i.item().as(Xi),this.url=((o=d(this,zt,"f").microformat)===null||o===void 0?void 0:o.as(kt).url_canonical)||null,!d(this,zt,"f").contents_memo)throw new Error("No contents found in the response");this.contents=(r=d(this,zt,"f").contents_memo.getType(me))===null||r===void 0?void 0:r.first().contents,this.sections=d(this,zt,"f").contents_memo.getType(Ne)||[]}get page(){return d(this,zt,"f")}};n(g0,"Album");zt=new WeakMap;var KT=g0;var On,b0,y0=class{constructor(e,i){var o,r,a;On.set(this,void 0),b0.set(this,void 0),S(this,On,c.parseResponse(e.data),"f"),S(this,b0,i,"f"),this.header=(o=this.page.header)===null||o===void 0?void 0:o.item().as(q_,iv,ci);let l=((r=d(this,On,"f").contents_memo)===null||r===void 0?void 0:r.getType(me))||[],p=((a=d(this,On,"f").contents_memo)===null||a===void 0?void 0:a.getType(Ne))||[];this.sections=[...l,...p]}getAllSongs(){var e,i;return T(this,void 0,void 0,function*(){let o=this.sections.filter(p=>p.type==="MusicShelf");if(!o.length)throw new g("Could not find any node of type MusicShelf.");let r=o.find(p=>p.title.toString()==="Songs");if(!r)throw new g("Could not find target shelf (Songs).");if(!r.endpoint)throw new g("Target shelf (Songs) did not have an endpoint.");return(i=(e=(yield r.endpoint.call(d(this,b0,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)===null||e===void 0?void 0:e.getType(Qi))===null||i===void 0?void 0:i.first()})}get page(){return d(this,On,"f")}};n(y0,"Artist");On=new WeakMap,b0=new WeakMap;var $T=y0;var em,w0=class{constructor(e){var i,o,r;em.set(this,void 0),S(this,em,c.parseResponse(e.data),"f");let a=(i=d(this,em,"f").contents)===null||i===void 0?void 0:i.item().as(Et).tabs.get({selected:!0});if(!a)throw new g("Could not find target tab.");let l=(o=a.content)===null||o===void 0?void 0:o.as(ee);if(!l)throw new g("Target tab did not have any content.");this.top_buttons=((r=l.contents.firstOfType(Ki))===null||r===void 0?void 0:r.items.as(pn))||[],this.sections=l.contents.filterType(Ne)}get page(){return d(this,em,"f")}};n(w0,"Explore");em=new WeakMap;var qT=w0;var Ni,bo,yo,wo=class{constructor(e,i){var o,r,a,l,p,f;Ni.set(this,void 0),bo.set(this,void 0),yo.set(this,void 0),S(this,bo,i,"f"),S(this,Ni,c.parseResponse(e.data),"f");let h=(o=d(this,Ni,"f").contents)===null||o===void 0?void 0:o.item().as(Et).tabs.get({selected:!0});if(!h)throw new g("Could not find Home tab.");if(h.content===null){if(!d(this,Ni,"f").continuation_contents)throw new g("Continuation did not have any content.");S(this,yo,d(this,Ni,"f").continuation_contents.as(ze).continuation,"f"),this.sections=(r=d(this,Ni,"f").continuation_contents.as(ze).contents)===null||r===void 0?void 0:r.as(Ne);return}this.header=(l=(a=h.content)===null||a===void 0?void 0:a.as(ee).header)===null||l===void 0?void 0:l.as(Ze),S(this,yo,(p=h.content)===null||p===void 0?void 0:p.as(ee).continuation,"f"),this.sections=(f=h.content)===null||f===void 0?void 0:f.as(ee).contents.as(Ne,tv)}getContinuation(){return T(this,void 0,void 0,function*(){if(!d(this,yo,"f"))throw new g("Continuation not found.");let e=yield d(this,bo,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,yo,"f")});return new wo(e,d(this,bo,"f"))})}applyFilter(e){var i,o;return T(this,void 0,void 0,function*(){let r;if(typeof e=="string"){if(r=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(pe).get({text:e}),!r)throw new g("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(pe)&&(r=e);if(!r)throw new g("Invalid filter",{available_filters:this.filters});if(r!=null&&r.is_selected)return this;if(!r.endpoint)throw new g("Selected filter does not have an endpoint.");let a=yield r.endpoint.call(d(this,bo,"f"),{client:"YTMUSIC"});return new wo(a,d(this,bo,"f"))})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(pe).map(o=>o.text))||[]}get has_continuation(){return!!d(this,yo,"f")}get page(){return d(this,Ni,"f")}};n(wo,"HomeFeed");Ni=new WeakMap,bo=new WeakMap,yo=new WeakMap;var XT=wo;var Bt,Pi,Ln,Fn,tm,Yn,jn=class{constructor(e,i){var o,r,a,l,p;Bt.set(this,void 0),Pi.set(this,void 0),Ln.set(this,void 0),S(this,Bt,c.parseResponse(e.data),"f"),S(this,Pi,i,"f");let f=(o=d(this,Bt,"f").contents_memo)===null||o===void 0?void 0:o.getType(ee).first();this.header=(r=f==null?void 0:f.header)===null||r===void 0?void 0:r.as(Z_),this.contents=(a=f==null?void 0:f.contents)===null||a===void 0?void 0:a.as(Ki,me),S(this,Ln,(p=(l=this.contents)===null||l===void 0?void 0:l.find(h=>h.continuation))===null||p===void 0?void 0:p.continuation,"f")}applySort(e){var i,o,r,a,l,p,f,h,v,x;return T(this,void 0,void 0,function*(){let y;if(typeof e=="string"){let M=(i=d(this,Bt,"f").contents_memo)===null||i===void 0?void 0:i.getType(vp).first(),B=(o=M==null?void 0:M.menu)===null||o===void 0?void 0:o.options.filter($=>$ instanceof dt);if(y=B==null?void 0:B.find($=>$.title===e),!y)throw new g(`Sort option "${e}" not found`,{available_filters:B.map($=>$.title)})}else e instanceof dt&&(y=e);if(!y)throw new g("Invalid sort option");if(y.selected)return this;let w=(p=(l=(a=(r=y.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.commands)===null||l===void 0?void 0:l.find(M=>M.browseSectionListReloadEndpoint))===null||p===void 0?void 0:p.browseSectionListReloadEndpoint;if(!w)throw new g("Failed to find sort option command");let C=yield d(this,Pi,"f").execute("/browse",{client:"YTMUSIC",continuation:w.continuation.reloadContinuationData.continuation,parse:!0}),R=(h=(f=d(this,Bt,"f").contents_memo)===null||f===void 0?void 0:f.getType(dt))===null||h===void 0?void 0:h.find(M=>M.selected);return R&&(R.selected=!1),y.selected=!0,this.contents=(x=(v=C.continuation_contents)===null||v===void 0?void 0:v.as(ze).contents)===null||x===void 0?void 0:x.as(Ki,me),this})}applyFilter(e){var i,o,r,a;return T(this,void 0,void 0,function*(){let l,p=(i=d(this,Bt,"f").contents_memo)===null||i===void 0?void 0:i.getType(Ze).first();if(typeof e=="string"){if(l=p==null?void 0:p.chips.get({text:e}),!l)throw new g(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof pe&&(l=e);if(!l)throw new g("Invalid filter",e);let h=yield new _((a=(r=(o=l.endpoint)===null||o===void 0?void 0:o.payload)===null||r===void 0?void 0:r.commands)===null||a===void 0?void 0:a[0]).call(d(this,Pi,"f"),{client:"YTMUSIC"});return new jn(h,d(this,Pi,"f"))})}getContinuation(){return T(this,void 0,void 0,function*(){if(!d(this,Ln,"f"))throw new g("No continuation available");let e=yield d(this,Pi,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,Ln,"f")});return new To(e,d(this,Pi,"f"))})}get has_continuation(){return!!d(this,Ln,"f")}get sort_options(){var e,i;let o=(e=d(this,Bt,"f").contents_memo)===null||e===void 0?void 0:e.getType(vp).first();return((i=o==null?void 0:o.menu)===null||i===void 0?void 0:i.options.filter(a=>a instanceof dt)).map(a=>a.title)}get filters(){var e,i;return((i=(e=d(this,Bt,"f").contents_memo)===null||e===void 0?void 0:e.getType(Ze))===null||i===void 0?void 0:i.first().chips.map(o=>o.text))||[]}get page(){return d(this,Bt,"f")}};n(jn,"Library");Bt=new WeakMap,Pi=new WeakMap,Ln=new WeakMap;var To=class{constructor(e,i){if(Fn.set(this,void 0),tm.set(this,void 0),Yn.set(this,void 0),S(this,Fn,c.parseResponse(e.data),"f"),S(this,tm,i,"f"),!d(this,Fn,"f").continuation_contents)throw new g("No continuation contents found");this.contents=d(this,Fn,"f").continuation_contents.as(Pt,xi),S(this,Yn,this.contents.continuation||null,"f")}getContinuation(){return T(this,void 0,void 0,function*(){if(!d(this,Yn,"f"))throw new g("No continuation available");let e=yield d(this,tm,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,Yn,"f")});return new To(e,d(this,tm,"f"))})}get has_continuation(){return!!d(this,Yn,"f")}get page(){return d(this,Fn,"f")}};n(To,"LibraryContinuation");Fn=new WeakMap,tm=new WeakMap,Yn=new WeakMap;var QT=jn;var Fx,et,Io,So,Un,im,ZT,Wn=class{constructor(e,i){var o,r,a,l,p,f,h;if(Fx.add(this),et.set(this,void 0),Io.set(this,void 0),So.set(this,void 0),Un.set(this,void 0),im.set(this,void 0),S(this,Io,i,"f"),S(this,et,c.parseResponse(e.data),"f"),S(this,Un,null,"f"),S(this,im,null,"f"),d(this,et,"f").continuation_contents){let v=(o=d(this,et,"f").continuation_contents)===null||o===void 0?void 0:o.as(vi);this.items=v.contents,S(this,So,v.continuation,"f")}else((r=d(this,et,"f").header)===null||r===void 0?void 0:r.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=(l=(a=d(this,et,"f").header)===null||a===void 0?void 0:a.item().as($_).header)===null||l===void 0?void 0:l.as(Xi):this.header=(p=d(this,et,"f").header)===null||p===void 0?void 0:p.item().as(Xi),this.items=((f=d(this,et,"f").contents_memo)===null||f===void 0?void 0:f.getType(Qi).first().contents)||null,S(this,So,((h=d(this,et,"f").contents_memo)===null||h===void 0?void 0:h.getType(Qi).first().continuation)||null,"f")}getContinuation(){return T(this,void 0,void 0,function*(){if(!d(this,So,"f"))throw new g("Continuation not found.");let e=yield d(this,Io,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,So,"f")});return new Wn(e,d(this,Io,"f"))})}getRelated(){var e,i,o,r,a;return T(this,void 0,void 0,function*(){let l=(i=(e=d(this,et,"f").contents_memo)===null||e===void 0?void 0:e.getType(ee))===null||i===void 0?void 0:i[0].continuation;for(;l;){let f=(o=(yield d(this,Io,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(ze),h=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(Ne,me),v=(a=h==null?void 0:h.matchCondition(x=>x.is(Ne)))===null||a===void 0?void 0:a.as(Ne);if(v)return v;l=f==null?void 0:f.continuation}throw new g("Target section not found.")})}getSuggestions(e=!0){return T(this,void 0,void 0,function*(){let r=yield e||!d(this,Un,"f")?d(this,Fx,"m",ZT).call(this):Promise.resolve(null);return r&&(S(this,Un,r.items,"f"),S(this,im,r.continuation,"f")),(r==null?void 0:r.items)||d(this,Un,"f")})}get page(){return d(this,et,"f")}get has_continuation(){return!!d(this,So,"f")}};n(Wn,"Playlist");et=new WeakMap,Io=new WeakMap,So=new WeakMap,Un=new WeakMap,im=new WeakMap,Fx=new WeakSet,ZT=n(function(){var e,i,o,r,a;return T(this,void 0,void 0,function*(){let l=d(this,im,"f")||((i=(e=d(this,et,"f").contents_memo)===null||e===void 0?void 0:e.get("SectionList"))===null||i===void 0?void 0:i[0].as(ee).continuation);if(l){let f=(o=(yield d(this,Io,"f").execute("/browse",{client:"YTMUSIC",continuation:l,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(ze),h=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(Ne,me),v=(a=h==null?void 0:h.matchCondition(x=>x.is(me)))===null||a===void 0?void 0:a.as(me);return{items:(v==null?void 0:v.contents)||[],continuation:(v==null?void 0:v.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var T0=Wn;var Ri,om,S0=class{constructor(e,i){var o,r,a,l,p,f,h;Ri.set(this,void 0),om.set(this,void 0),S(this,Ri,c.parseResponse(e.data),"f"),S(this,om,i,"f");let v=(o=d(this,Ri,"f").header)===null||o===void 0?void 0:o.item();this.header=v!=null&&v.is(op)?(l=(a=(r=d(this,Ri,"f").header)===null||r===void 0?void 0:r.item().as(op).element)===null||a===void 0?void 0:a.model)===null||l===void 0?void 0:l.as(ml):(p=d(this,Ri,"f").header)===null||p===void 0?void 0:p.item().as(ci);let x=(f=d(this,Ri,"f").contents)===null||f===void 0?void 0:f.item().as(Et).tabs.firstOfType(be);if(!x)throw new g("Target tab not found");this.sections=(h=x.content)===null||h===void 0?void 0:h.as(ee).contents.as(de,Ne,Ge)}getPlaylist(){return T(this,void 0,void 0,function*(){if(!this.header)throw new g("Header not found");if(!this.header.is(ml))throw new g("Recap playlist not available, check back later.");let i=yield this.header.panels[0].text_on_tap_endpoint.call(d(this,om,"f"),{client:"YTMUSIC"});return new T0(i,d(this,om,"f"))})}get page(){return d(this,Ri,"f")}};n(S0,"Recap");Ri=new WeakMap,om=new WeakMap;var e1=S0;var Dt,Kt,Jn,nm,Hn,ko=class{constructor(e,i,o){var r,a,l;if(Dt.set(this,void 0),Kt.set(this,void 0),Jn.set(this,void 0),S(this,Kt,i,"f"),S(this,Dt,c.parseResponse(e.data),"f"),!d(this,Dt,"f").contents||!d(this,Dt,"f").contents_memo)throw new g("Response did not contain any contents.");let p=d(this,Dt,"f").contents.item().as(Rv).tabs.get({selected:!0});if(!p)throw new g("Could not find target tab.");let f=(r=p.content)===null||r===void 0?void 0:r.as(ee);if(!f)throw new g("Target tab did not have any content.");this.header=(a=f.header)===null||a===void 0?void 0:a.as(Ze),this.contents=f.contents.as(me,U_,de),o&&S(this,Jn,(l=this.contents.firstOfType(me))===null||l===void 0?void 0:l.continuation,"f")}getMore(e){return T(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new g("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=yield e.endpoint.call(d(this,Kt,"f"),{client:"YTMUSIC"});if(!i)throw new g("Endpoint did not return any data");return new ko(i,d(this,Kt,"f"),!0)})}getContinuation(){return T(this,void 0,void 0,function*(){if(!d(this,Jn,"f"))throw new g("Continuation not found.");let e=yield d(this,Kt,"f").execute("/search",{continuation:d(this,Jn,"f"),client:"YTMUSIC"});return new Gn(d(this,Kt,"f"),e)})}applyFilter(e){var i,o;return T(this,void 0,void 0,function*(){let r;if(typeof e=="string"){if(r=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(pe).get({text:e}),!r)throw new g("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(pe)&&(r=e);if(!r)throw new g("Invalid filter",{available_filters:this.filters});if(r!=null&&r.is_selected)return this;if(!r.endpoint)throw new g("Selected filter does not have an endpoint.");let a=yield r.endpoint.call(d(this,Kt,"f"),{client:"YTMUSIC"});return new ko(a,d(this,Kt,"f"),!0)})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(pe).map(o=>o.text))||[]}get has_continuation(){return!!d(this,Jn,"f")}get did_you_mean(){var e;return(e=d(this,Dt,"f").contents_memo)===null||e===void 0?void 0:e.getType(Qh).first()}get showing_results_for(){var e;return(e=d(this,Dt,"f").contents_memo)===null||e===void 0?void 0:e.getType(Ev).first()}get message(){var e;return(e=d(this,Dt,"f").contents_memo)===null||e===void 0?void 0:e.getType(Ge).first()}get songs(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(me).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(me).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(me).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(me).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(me).find(i=>i.title.toString()==="Community playlists")}get results(){var e,i;return(i=(e=this.contents)===null||e===void 0?void 0:e.firstOfType(me))===null||i===void 0?void 0:i.contents}get sections(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(me)}get page(){return d(this,Dt,"f")}};n(ko,"Search");Dt=new WeakMap,Kt=new WeakMap,Jn=new WeakMap;var t1=ko,Gn=class{constructor(e,i){var o,r;nm.set(this,void 0),Hn.set(this,void 0),S(this,nm,e,"f"),S(this,Hn,c.parseResponse(i.data),"f"),this.header=(o=d(this,Hn,"f").header)===null||o===void 0?void 0:o.item().as(ci),this.contents=(r=d(this,Hn,"f").continuation_contents)===null||r===void 0?void 0:r.as(Pt)}getContinuation(){var e;return T(this,void 0,void 0,function*(){if(!(!((e=this.contents)===null||e===void 0)&&e.continuation))throw new g("Continuation not found.");let i=yield d(this,nm,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new Gn(d(this,nm,"f"),i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}get page(){return d(this,Hn,"f")}};n(Gn,"SearchContinuation");nm=new WeakMap,Hn=new WeakMap;var I0=class extends Ci{constructor(e,i,o){var r,a,l,p,f,h,v,x,y;super(e,i,o);let[w,C]=this.page;if(!(!((r=w.microformat)===null||r===void 0)&&r.is(kt)))throw new g("Invalid microformat",w.microformat);if(this.basic_info=Object.assign(Object.assign({},w.video_details),{description:(a=w.microformat)===null||a===void 0?void 0:a.description,is_unlisted:(l=w.microformat)===null||l===void 0?void 0:l.is_unlisted,is_family_safe:(p=w.microformat)===null||p===void 0?void 0:p.is_family_safe,url_canonical:(f=w.microformat)===null||f===void 0?void 0:f.url_canonical,tags:(h=w.microformat)===null||h===void 0?void 0:h.tags}),this.storyboards=w.storyboards,this.endscreen=w.endscreen,C){let R=(x=(v=C.contents_memo)===null||v===void 0?void 0:v.getType(Ov))===null||x===void 0?void 0:x[0];this.tabs=R==null?void 0:R.tabs.array().as(be),this.current_video_endpoint=C.current_video_endpoint,this.player_overlays=(y=C.player_overlays)===null||y===void 0?void 0:y.item().as(pi)}}getTab(e){var i,o;return T(this,void 0,void 0,function*(){if(!this.tabs)throw new g("Could not find any tab");let r=this.tabs.get({title:e})||this.tabs.matchCondition(l=>{var p,f;return((f=(p=l.endpoint.payload.browseEndpointContextSupportedConfigs)===null||p===void 0?void 0:p.browseEndpointContextMusicConfig)===null||f===void 0?void 0:f.pageType)===e})||((i=this.tabs)===null||i===void 0?void 0:i[0]);if(!r)throw new g(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(r.content)return r.content;let a=yield r.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((o=a.contents)===null||o===void 0?void 0:o.item().type)==="Message")return a.contents.item().as(Ge);if(!a.contents)throw new g("Page contents was empty",a);return a.contents.item().as(ee).contents})}getUpNext(e=!0){var i,o;return T(this,void 0,void 0,function*(){let r=yield this.getTab("Up next");if(!r||!r.content)throw new g("Music queue was empty, the video id is probably invalid.",r);let a=r.content.as(Zi);if(!a.playlist_id&&e){let l=a.contents.firstOfType($o);if(!l)throw new g("Automix item not found");let p=yield(i=l.playlist_video)===null||i===void 0?void 0:i.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!p||!p.contents_memo)throw new g("Could not fetch automix");return(o=p.contents_memo.getType(Zi))===null||o===void 0?void 0:o[0]}return a})}getRelated(){return T(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return T(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(K_)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return T(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,W.YTMUSIC.NAME,W.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};n(I0,"TrackInfo");var i1=I0;var jx={};Ce(jx,{Channel:()=>o1,HomeFeed:()=>n1,Search:()=>r1,VideoInfo:()=>s1});var zn=class extends he{constructor(e,i,o=!1){var r,a;super(e,i,o),this.header=(r=this.page.header)===null||r===void 0?void 0:r.item().as(ai),this.contents=this.memo.getType(de).first()||((a=this.page.continuation_contents)===null||a===void 0?void 0:a.as(mi))}getContinuation(){var e;return T(this,void 0,void 0,function*(){let i=yield this.actions.execute("/browse",{continuation:(e=this.contents)===null||e===void 0?void 0:e.continuation,client:"YTKIDS"});return new zn(this.actions,i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}};n(zn,"Channel");var o1=zn;var Kn=class extends he{constructor(e,i,o=!1){var r,a;super(e,i,o),this.header=(r=this.page.header)===null||r===void 0?void 0:r.item().as(Yv),this.contents=(a=this.page.contents)===null||a===void 0?void 0:a.item().as(jv)}selectCategoryTab(e){var i;return T(this,void 0,void 0,function*(){let o;if(typeof e=="string"?o=(i=this.header)===null||i===void 0?void 0:i.category_tabs.find(a=>a.title.toString()===e):e!=null&&e.is(bn)&&(o=e),!o)throw new g(`Tab "${e}" not found`);let r=yield o.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return r.header=this.page.header,r.header_memo=this.page.header_memo,new Kn(this.actions,r,!0)})}get categories(){var e;return((e=this.header)===null||e===void 0?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};n(Kn,"HomeFeed");var n1=Kn;var k0=class extends he{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let o=this.memo.getType(de).first();if(!o)throw new g("No item section found in search response.");this.contents=o.contents}};n(k0,"Search");var r1=k0;var C0=class extends Ci{constructor(e,i,o){var r,a,l,p,f;super(e,i,o);let[h,v]=this.page;this.basic_info=h.video_details,this.captions=h.captions;let x=(r=v==null?void 0:v.contents)===null||r===void 0?void 0:r.item().as(xn),y=x==null?void 0:x.results,w=x==null?void 0:x.secondary_results;y&&w&&(this.slim_video_metadata=(l=(a=y.firstOfType(de))===null||a===void 0?void 0:a.contents)===null||l===void 0?void 0:l.firstOfType(Nv),this.watch_next_feed=((p=w.firstOfType(de))===null||p===void 0?void 0:p.contents)||w,this.current_video_endpoint=v==null?void 0:v.current_video_endpoint,this.player_overlays=(f=v==null?void 0:v.player_overlays)===null||f===void 0?void 0:f.item().as(pi))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return T(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};n(C0,"VideoInfo");var s1=C0;var c=D;var V=class{constructor(e,i,o,r){var a,l,p,f,h,v,x,y,w,C,R,M,B,$,G,le,fe,ve,xe,ye,z,U,q,Z,we,Xe,Qe;let K=new u(e);this.id=r||((f=(p=(l=(a=K==null?void 0:K.runs)===null||a===void 0?void 0:a[0])===null||l===void 0?void 0:l.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId)||((v=(h=K==null?void 0:K.endpoint)===null||h===void 0?void 0:h.payload)===null||v===void 0?void 0:v.browseId)||"N/A",this.name=(K==null?void 0:K.text)||"N/A",this.thumbnails=o?b.fromResponse(o):[],this.endpoint=((y=(x=K==null?void 0:K.runs)===null||x===void 0?void 0:x[0])===null||y===void 0?void 0:y.endpoint)||(K==null?void 0:K.endpoint),this.badges=Array.isArray(i)?c.parseArray(i):re([]),this.is_moderator=(w=this.badges)===null||w===void 0?void 0:w.some(Ae=>Ae.icon_type=="MODERATOR"),this.is_verified=(C=this.badges)===null||C===void 0?void 0:C.some(Ae=>Ae.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(R=this.badges)===null||R===void 0?void 0:R.some(Ae=>Ae.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"),this.url=((G=($=(B=(M=K==null?void 0:K.runs)===null||M===void 0?void 0:M[0])===null||B===void 0?void 0:B.endpoint)===null||$===void 0?void 0:$.metadata)===null||G===void 0?void 0:G.api_url)==="/browse"&&`${Me.YT_BASE}${((xe=(ve=(fe=(le=K==null?void 0:K.runs)===null||le===void 0?void 0:le[0])===null||fe===void 0?void 0:fe.endpoint)===null||ve===void 0?void 0:ve.payload)===null||xe===void 0?void 0:xe.canonicalBaseUrl)||`/u/${(q=(U=(z=(ye=K==null?void 0:K.runs)===null||ye===void 0?void 0:ye[0])===null||z===void 0?void 0:z.endpoint)===null||U===void 0?void 0:U.payload)===null||q===void 0?void 0:q.browseId}`}`||`${Me.YT_BASE}${((we=(Z=K==null?void 0:K.endpoint)===null||Z===void 0?void 0:Z.payload)===null||we===void 0?void 0:we.canonicalBaseUrl)||`/u/${(Qe=(Xe=K==null?void 0:K.endpoint)===null||Xe===void 0?void 0:Xe.payload)===null||Qe===void 0?void 0:Qe.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(V,"Author");var a1={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var E0,N0,Y=class{static load(e){S(Y,E0,e,"f",N0)}static get shim(){if(!d(Y,E0,"f",N0))throw new Error("Platform is not loaded");return d(Y,E0,"f",N0)}};n(Y,"Platform");E0=Y;N0={value:void 0};var g=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=Y.shim.info.version}};n(g,"InnertubeError");var it=class extends g{};n(it,"ParsingError");var rm=class extends g{};n(rm,"MissingParamError");var P0=class extends g{};n(P0,"OAuthError");var tt=class extends Error{};n(tt,"PlayerError");var $n=class extends Error{};n($n,"SessionError");var In=class extends Error{};n(In,"ChannelError");function bm(t,e){return Reflect.ownKeys(t).some(o=>{let r=e[o]instanceof u;return!r&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(r?e[o].toString():e[o])})}n(bm,"deepCompare");function Ye(t,e,i){let o=new RegExp(`${Wx(e)}(.*?)${Wx(i)}`,"s"),r=t.match(o);return r?r[1]:void 0}n(Ye,"getStringBetweenStrings");function Wx(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(Wx,"escapeStringRegexp");function go(t){let e=a1[t],i=Math.floor(Math.random()*e.length);return e[i]}n(go,"getRandomUserAgent");function yI(t){return T(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),r=yield Y.shim.sha1Hash(o);return["SAPISIDHASH",[i,r].join("_")].join(" ")})}n(yI,"generateSidAuth");function Co(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(Co,"generateRandomString");function Ee(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(Ee,"timeToSeconds");function Ex(...t){let e=new ei;for(let i of t)if(!!i)for(let o of i){let r=e.get(o[0]);if(r){e.set(o[0],[...r,...o[1]]);continue}e.set(...o)}return e}n(Ex,"concatMemos");function R0(t){for(let[e,i]of Object.entries(t))if(!i)throw new rm(`${e} is missing`)}n(R0,"throwIfMissing");function wI(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(wI,"hasKeys");function Dx(t){return wg(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:r}=yield Oi(i.read());if(o)return yield Oi(void 0);yield yield Oi(r)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(Dx,"streamToIterable");var TI=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,r=[...o],a=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",l=r.length>0?`${r.map(([p,f])=>`    ${p}: ${f}`).join(`
`)}`:"    (none)";return console.log(`YouTube.js Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${l}
' + 
    '  body:
${a}`),Y.shim.fetch(t,e)},"debugFetch");function ot(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n(ot,"u8ToBase64");function fx(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(fx,"base64ToU8");function Le(t){return!("emoji"in t)}n(Le,"isTextRun");function Jx(t){return T(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let r=new Uint8Array(o),a=[];for(let l=0;l<r.length;++l)a.push(e[r[l]]);return a.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n(Jx,"sha1Hash");var A0={name:"youtubei.js",version:"7.0.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod","build:parser-map":"node ./scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^1.1.0",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var am={};Ce(am,{ArrayExpression:()=>qn,ArrowFunctionExpression:()=>Xn,AssignmentExpression:()=>Qn,BinaryExpression:()=>Zn,BlockStatement:()=>er,BreakStatement:()=>tr,CallExpression:()=>ir,ConditionalExpression:()=>nr,ContinueStatement:()=>rr,ExpressionStatement:()=>sr,ForOfStatement:()=>ar,ForStatement:()=>ur,FunctionDeclaration:()=>lr,FunctionExpression:()=>cr,Identifier:()=>pr,IfStatement:()=>dr,Literal:()=>fr,LogicalExpression:()=>mr,MemberExpression:()=>hr,NewExpression:()=>_r,ObjectExpression:()=>vr,Property:()=>xr,ReturnStatement:()=>gr,SequenceExpression:()=>br,SwitchCase:()=>yr,SwitchStatement:()=>wr,ThisExpression:()=>Tr,ThrowStatement:()=>Sr,TryStatement:()=>Ir,UnaryExpression:()=>kr,UpdateExpression:()=>Cr,VariableDeclaration:()=>Er,WhileStatement:()=>Nr});var P=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(P,"BaseJSNode");var qn=class extends P{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(qn,"ArrayExpression");var Hx={};Ce(Hx,{namedFunction:()=>Eo});var Eo=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction");var Xn=class extends P{run(){let{params:e,body:i}=this.node;return Eo("anonymous function",r=>{let a=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,r[a]):console.warn("Unhandled param type",l.type),a++;return this.visitor.visitNode(i)})}};n(Xn,"ArrowFunctionExpression");var Qn=class extends P{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n(Qn,"AssignmentExpression");var Zn=class extends P{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n(Zn,"BinaryExpression");var er=class extends P{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(er,"BlockStatement");var tr=class extends P{run(){return"break"}};n(tr,"BreakStatement");var u1=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},M0,Gx,ir=class extends P{constructor(){super(...arguments),M0.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let a=this.visitor.listeners[e](this.node,this.visitor);if(a!=="proceed")return a}if(i&&i!=="toString"&&this.visitor.listeners[i]){let a=this.visitor.listeners[i](this.node,this.visitor);if(a!=="proceed")return a}if(this.node.callee.type==="MemberExpression"){if(or.has(this.node,this.visitor))return or.execute(this.node,this.visitor);let a=this.visitor.visitNode(this.node.callee.object),l=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(f=>this.visitor.visitNode(f));return typeof a[l]!="function"&&u1(this,M0,"m",Gx).call(this),a[l].toString().includes("[native code]")?a[l](...p):a[l](p)}let o=this.visitor.visitNode(this.node.callee),r=this.node.arguments.map(a=>this.visitor.visitNode(a));return typeof o!="function"&&u1(this,M0,"m",Gx).call(this),o(r)}};n(ir,"CallExpression");M0=new WeakSet,Gx=n(function(){if(this.node.callee.type==="MemberExpression")throw new Error(`${this.node.callee.object.type==="Identifier"?this.node.callee.object.name:"<object>"}.${this.node.callee.property.type==="Identifier"?this.node.callee.property.name:"?"} is not a function`);if(this.node.callee.type==="Identifier")throw new Error(`${this.node.callee.name} is not a function`);if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var or=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(or,"Builtins");or.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let r=0;for(let a of o)i[0]([a,r++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var nr=class extends P{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(nr,"ConditionalExpression");var rr=class extends P{run(){return"continue"}};n(rr,"ContinueStatement");var sr=class extends P{run(){return this.visitor.visitNode(this.node.expression)}};n(sr,"ExpressionStatement");var ar=class extends P{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let r of this.node.left.declarations[0].id.properties)r.type==="Property"&&r.value.type==="Identifier"&&r.key.type==="Identifier"&&this.visitor.scope.set(r.value.name,i[r.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};n(ar,"ForOfStatement");var ur=class extends P{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n(ur,"ForStatement");var lr=class extends P{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),r=Eo(o,a=>{let l=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,a[l]):console.warn("Unhandled param type",p.type),l++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,r)}};n(lr,"FunctionDeclaration");var cr=class extends P{run(){let{params:e,body:i}=this.node;return Eo("anonymous function",r=>{let a=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,r[a]):console.warn("Unhandled param type",l.type),a++;return this.visitor.visitNode(i)})}};n(cr,"FunctionExpression");var pr=class extends P{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="proceed")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(pr,"Identifier");var dr=class extends P{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n(dr,"IfStatement");var fr=class extends P{run(){return this.node.value}};n(fr,"Literal");var mr=class extends P{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(mr,"LogicalExpression");var hr=class extends P{run(){let{object:e,property:i,computed:o}=this.node,r=this.visitor.visitNode(e),a=o?this.visitor.visitNode(i):this.visitor.getName(i);if(a!==void 0||a!==null){if(this.visitor.listeners[a]){let l=this.visitor.listeners[a](this.node,this.visitor);if(l!=="proceed")return l}return r==null?void 0:r[a]}}};n(hr,"MemberExpression");var _r=class extends P{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return new e(i)}};n(_r,"NewExpression");var vr=class extends P{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(vr,"ObjectExpression");var zx=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},sm,l1,c1,p1,xr=class extends P{constructor(){super(...arguments),sm.add(this)}run(){switch(this.node.kind){case"init":return zx(this,sm,"m",l1).call(this);case"get":return zx(this,sm,"m",c1).call(this);case"set":return zx(this,sm,"m",p1).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(xr,"Property");sm=new WeakSet,l1=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),c1=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),p1=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var gr=class extends P{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(gr,"ReturnStatement");var br=class extends P{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n(br,"SequenceExpression");var yr=class extends P{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(yr,"SwitchCase");var wr=class extends P{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,r=0;for(;;){let a=this.node.cases[r];if(i){let l=this.visitor.visitNode(a);if(l==="break")break;if(l==="continue")return l;if(++r,r>=this.node.cases.length){r=0;break}else continue}if(i=a&&e===this.visitor.visitNode(a.test),i===void 0&&r>this.node.cases.length)break;if(a&&!i&&!a.test){o=r,r+=1;continue}if(!a&&!i&&o!==-1){i=!0,r=o;continue}i||++r}}};n(wr,"SwitchStatement");var Tr=class extends P{run(){return this.visitor.scope.get("_this")}};n(Tr,"ThisExpression");var Sr=class extends P{run(){throw this.visitor.visitNode(this.node.argument)}};n(Sr,"ThrowStatement");var Ir=class extends P{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(Ir,"TryStatement");var kr=class extends P{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(kr,"UnaryExpression");var Cr=class extends P{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(Cr,"UpdateExpression");var Er=class extends P{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,r=this.visitor.getName(i),a=o?this.visitor.visitNode(o):void 0;r&&this.visitor.scope.set(r,a),typeof a=="object"&&a!==null&&this.visitor.scope.set("_this",a)})}};n(Er,"VariableDeclaration");var Nr=class extends P{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n(Nr,"WhileStatement");var II=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},Kx,d1,Pr=class{constructor(e){Kx.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=II(this,Kx,"m",d1).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(Pr,"Visitor");Kx=new WeakSet,d1=n(function(e){let i=am[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var kI=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],v1=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,3104,541,1507,4938,6,4191],CI="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F",x1="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",$x={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},qx="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",EI={5:qx,"5module":qx+" export import",6:qx+" const class extends export import super"},NI=/^in(stanceof)?$/,PI=new RegExp("["+x1+"]"),RI=new RegExp("["+x1+CI+"]");function Qx(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}return!1}n(Qx,"isInAstralSet");function $t(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&PI.test(String.fromCharCode(t)):e===!1?!1:Qx(t,v1)}n($t,"isIdentifierStart");function Rr(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&RI.test(String.fromCharCode(t)):e===!1?!1:Qx(t,v1)||Qx(t,kI)}n(Rr,"isIdentifierChar");var ie=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function st(t,e){return new ie(t,{beforeExpr:!0,binop:e})}n(st,"binop");var at={beforeExpr:!0},qe={startsExpr:!0},tg={};function Q(t,e){return e===void 0&&(e={}),e.keyword=t,tg[t]=new ie(t,e)}n(Q,"kw");var m={num:new ie("num",qe),regexp:new ie("regexp",qe),string:new ie("string",qe),name:new ie("name",qe),privateId:new ie("privateId",qe),eof:new ie("eof"),bracketL:new ie("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ie("]"),braceL:new ie("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ie("}"),parenL:new ie("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ie(")"),comma:new ie(",",at),semi:new ie(";",at),colon:new ie(":",at),dot:new ie("."),question:new ie("?",at),questionDot:new ie("?."),arrow:new ie("=>",at),template:new ie("template"),invalidTemplate:new ie("invalidTemplate"),ellipsis:new ie("...",at),backQuote:new ie("`",qe),dollarBraceL:new ie("${",{beforeExpr:!0,startsExpr:!0}),eq:new ie("=",{beforeExpr:!0,isAssign:!0}),assign:new ie("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ie("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ie("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:st("||",1),logicalAND:st("&&",2),bitwiseOR:st("|",3),bitwiseXOR:st("^",4),bitwiseAND:st("&",5),equality:st("==/!=/===/!==",6),relational:st("</>/<=/>=",7),bitShift:st("<</>>/>>>",8),plusMin:new ie("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:st("%",10),star:st("*",10),slash:st("/",10),starstar:new ie("**",{beforeExpr:!0}),coalesce:st("??",1),_break:Q("break"),_case:Q("case",at),_catch:Q("catch"),_continue:Q("continue"),_debugger:Q("debugger"),_default:Q("default",at),_do:Q("do",{isLoop:!0,beforeExpr:!0}),_else:Q("else",at),_finally:Q("finally"),_for:Q("for",{isLoop:!0}),_function:Q("function",qe),_if:Q("if"),_return:Q("return",at),_switch:Q("switch"),_throw:Q("throw",at),_try:Q("try"),_var:Q("var"),_const:Q("const"),_while:Q("while",{isLoop:!0}),_with:Q("with"),_new:Q("new",{beforeExpr:!0,startsExpr:!0}),_this:Q("this",qe),_super:Q("super",qe),_class:Q("class",qe),_extends:Q("extends",at),_export:Q("export"),_import:Q("import",qe),_null:Q("null",qe),_true:Q("true",qe),_false:Q("false",qe),_in:Q("in",{beforeExpr:!0,binop:7}),_instanceof:Q("instanceof",{beforeExpr:!0,binop:7}),_typeof:Q("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:Q("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:Q("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ct=/\r\n?|\n|\u2028|\u2029/,AI=new RegExp(ct.source,"g");function Ar(t){return t===10||t===13||t===8232||t===8233}n(Ar,"isNewLine");function g1(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var r=t.charCodeAt(o);if(Ar(r))return o<i-1&&r===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n(g1,"nextLineBreak");var b1=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ut=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,y1=Object.prototype,MI=y1.hasOwnProperty,VI=y1.toString,pm=Object.hasOwn||function(t,e){return MI.call(t,e)},f1=Array.isArray||function(t){return VI.call(t)==="[object Array]"};function Ai(t){return new RegExp("^(?:"+t.replace(/ /g,"|")+")$")}n(Ai,"wordsRegexp");function Mi(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(Mi,"codePointToString");var BI=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,lm=n(function(e,i){this.line=e,this.column=i},"Position");lm.prototype.offset=n(function(e){return new lm(this.line,this.column+e)},"offset");var L0=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function w1(t,e){for(var i=1,o=0;;){var r=g1(t,o,e);if(r<0)return new lm(i,e-o);++i,o=r}}n(w1,"getLineInfo");var Zx={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},m1=!1;function DI(t){var e={};for(var i in Zx)e[i]=t&&pm(t,i)?t[i]:Zx[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!m1&&typeof console=="object"&&console.warn&&(m1=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),f1(e.onToken)){var o=e.onToken;e.onToken=function(r){return o.push(r)}}return f1(e.onComment)&&(e.onComment=OI(e,e.onComment)),e}n(DI,"getOptions");function OI(t,e){return function(i,o,r,a,l,p){var f={type:i?"Block":"Line",value:o,start:r,end:a};t.locations&&(f.loc=new L0(this,l,p)),t.ranges&&(f.range=[r,a]),e.push(f)}}n(OI,"pushComment");var cm=1,Mr=2,ig=4,T1=8,S1=16,I1=32,og=64,k1=128,dm=256,ng=cm|Mr|dm;function rg(t,e){return Mr|(t?ig:0)|(e?T1:0)}n(rg,"functionFlags");var B0=0,sg=1,Xt=2,C1=3,E1=4,N1=5,Ie=n(function(e,i,o){this.options=e=DI(e),this.sourceFile=e.sourceFile,this.keywords=Ai(EI[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var r="";e.allowReserved!==!0&&(r=$x[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(r+=" await")),this.reservedWords=Ai(r);var a=(r?r+" ":"")+$x.strict;this.reservedWordsStrict=Ai(a),this.reservedWordsStrictBind=Ai(a+" "+$x.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ct).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(cm),this.regexpState=null,this.privateNameStack=[]},"Parser"),Ot={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Ie.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");Ot.inFunction.get=function(){return(this.currentVarScope().flags&Mr)>0};Ot.inGenerator.get=function(){return(this.currentVarScope().flags&T1)>0&&!this.currentVarScope().inClassFieldInit};Ot.inAsync.get=function(){return(this.currentVarScope().flags&ig)>0&&!this.currentVarScope().inClassFieldInit};Ot.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&dm)return!1;if(e.flags&Mr)return(e.flags&ig)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Ot.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&og)>0||i||this.options.allowSuperOutsideMethod};Ot.allowDirectSuper.get=function(){return(this.currentThisScope().flags&k1)>0};Ot.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Ot.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Mr|dm))>0||i};Ot.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&dm)>0};Ie.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,r=0;r<e.length;r++)o=e[r](o);return o},"extend");Ie.parse=n(function(e,i){return new this(i,e).parse()},"parse");Ie.parseExpressionAt=n(function(e,i,o){var r=new this(o,e,i);return r.nextToken(),r.parseExpression()},"parseExpressionAt");Ie.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Ie.prototype,Ot);var je=Ie.prototype,LI=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;je.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){ut.lastIndex=t,t+=ut.exec(this.input)[0].length;var e=LI.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){ut.lastIndex=t+e[0].length;var i=ut.exec(this.input),o=i.index+i[0].length,r=this.input.charAt(o);return r===";"||r==="}"||ct.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,ut.lastIndex=t,t+=ut.exec(this.input)[0].length,this.input[t]===";"&&t++}};je.eat=function(t){return this.type===t?(this.next(),!0):!1};je.isContextual=function(t){return this.type===m.name&&this.value===t&&!this.containsEsc};je.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};je.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};je.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||ct.test(this.input.slice(this.lastTokEnd,this.start))};je.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};je.semicolon=function(){!this.eat(m.semi)&&!this.insertSemicolon()&&this.unexpected()};je.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};je.expect=function(t){this.eat(t)||this.unexpected()};je.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var F0=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");je.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};je.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};je.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};je.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var O=Ie.prototype;O.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==m.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,r=Object.keys(this.undefinedExports);o<r.length;o+=1){var a=r[o];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var ag={kind:"loop"},FI={kind:"switch"};O.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ut.lastIndex=this.pos;var e=ut.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if($t(o,!0)){for(var r=i+1;Rr(o=this.input.charCodeAt(r),!0);)++r;if(o===92||o>55295&&o<56320)return!0;var a=this.input.slice(i,r);if(!NI.test(a))return!0}return!1};O.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ut.lastIndex=this.pos;var t=ut.exec(this.input),e=this.pos+t[0].length,i;return!ct.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Rr(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};O.parseStatement=function(t,e,i){var o=this.type,r=this.startNode(),a;switch(this.isLet(t)&&(o=m._var,a="let"),o){case m._break:case m._continue:return this.parseBreakContinueStatement(r,o.keyword);case m._debugger:return this.parseDebuggerStatement(r);case m._do:return this.parseDoStatement(r);case m._for:return this.parseForStatement(r);case m._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case m._class:return t&&this.unexpected(),this.parseClass(r,!0);case m._if:return this.parseIfStatement(r);case m._return:return this.parseReturnStatement(r);case m._switch:return this.parseSwitchStatement(r);case m._throw:return this.parseThrowStatement(r);case m._try:return this.parseTryStatement(r);case m._const:case m._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(r,a);case m._while:return this.parseWhileStatement(r);case m._with:return this.parseWithStatement(r);case m.braceL:return this.parseBlock(!0,r);case m.semi:return this.parseEmptyStatement(r);case m._export:case m._import:if(this.options.ecmaVersion>10&&o===m._import){ut.lastIndex=this.pos;var l=ut.exec(this.input),p=this.pos+l[0].length,f=this.input.charCodeAt(p);if(f===40||f===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===m._import?this.parseImport(r):this.parseExport(r,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var h=this.value,v=this.parseExpression();return o===m.name&&v.type==="Identifier"&&this.eat(m.colon)?this.parseLabeledStatement(r,h,v,t):this.parseExpressionStatement(r,v)}};O.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(m.semi)||this.insertSemicolon()?t.label=null:this.type!==m.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var r=this.labels[o];if((t.label==null||r.name===t.label.name)&&(r.kind!=null&&(i||r.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};O.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};O.parseDoStatement=function(t){return this.next(),this.labels.push(ag),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(m.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};O.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(ag),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===m._var||this.type===m._const||i){var o=this.startNode(),r=i?"let":this.value;return this.next(),this.parseVar(o,!0,r),this.finishNode(o,"VariableDeclaration"),(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var a=this.isContextual("let"),l=!1,p=new F0,f=this.parseExpression(e>-1?"await":!0,p);return this.type===m._in||(l=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),a&&l&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};O.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,um|(i?0:eg),!1,e)};O.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};O.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};O.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(m.braceL),this.labels.push(FI),this.enterScope(0);for(var e,i=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var o=this.type===m._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(m.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};O.parseThrowStatement=function(t){return this.next(),ct.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var YI=[];O.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?I1:0),this.checkLValPattern(t,e?E1:Xt),this.expect(m.parenR),t};O.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===m._catch){var e=this.startNode();this.next(),this.eat(m.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(m._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};O.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};O.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(ag),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};O.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};O.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};O.parseLabeledStatement=function(t,e,i,o){for(var r=0,a=this.labels;r<a.length;r+=1){var l=a[r];l.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===m._switch?"switch":null,f=this.labels.length-1;f>=0;f--){var h=this.labels[f];if(h.statementStart===t.start)h.statementStart=this.start,h.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};O.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};O.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(m.braceL),t&&this.enterScope(0);this.type!==m.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};O.parseFor=function(t,e){return t.init=e,this.expect(m.semi),t.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),t.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};O.parseForIn=function(t,e){var i=this.type===m._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};O.parseVar=function(t,e,i,o){for(t.declarations=[],t.kind=i;;){var r=this.startNode();if(this.parseVarId(r,i),this.eat(m.eq)?r.init=this.parseMaybeAssign(e):!o&&i==="const"&&!(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&r.id.type!=="Identifier"&&!(e&&(this.type===m._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(m.comma))break}return t};O.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?sg:Xt,!1)};var um=1,eg=2,P1=4;O.parseFunction=function(t,e,i,o,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===m.star&&e&eg&&this.unexpected(),t.generator=this.eat(m.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&um&&(t.id=e&P1&&this.type!==m.name?null:this.parseIdent(),t.id&&!(e&eg)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?sg:Xt:C1));var a=this.yieldPos,l=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(rg(t.async,t.generator)),e&um||(t.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,r),this.yieldPos=a,this.awaitPos=l,this.awaitIdentPos=p,this.finishNode(t,e&um?"FunctionDeclaration":"FunctionExpression")};O.parseFunctionParams=function(t){this.expect(m.parenL),t.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};O.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),r=this.startNode(),a=!1;for(r.body=[],this.expect(m.braceL);this.type!==m.braceR;){var l=this.parseClassElement(t.superClass!==null);l&&(r.body.push(l),l.type==="MethodDefinition"&&l.kind==="constructor"?(a&&this.raiseRecoverable(l.start,"Duplicate constructor in the same class"),a=!0):l.key&&l.key.type==="PrivateIdentifier"&&jI(o,l)&&this.raiseRecoverable(l.key.start,"Identifier '#"+l.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};O.parseClassElement=function(t){if(this.eat(m.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",r=!1,a=!1,l="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(m.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===m.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===m.star)&&!this.canInsertSemicolon()?a=!0:o="async"),!o&&(e>=9||!a)&&this.eat(m.star)&&(r=!0),!o&&!a&&!r){var f=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?l=f:o=f)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===m.parenL||l!=="method"||r||a){var h=!i.static&&D0(i,"constructor"),v=h&&t;h&&l!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=h?"constructor":l,this.parseClassMethod(i,r,a,v)}else this.parseClassField(i);return i};O.isClassElementNameStart=function(){return this.type===m.name||this.type===m.privateId||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword};O.parseClassElementName=function(t){this.type===m.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};O.parseClassMethod=function(t,e,i,o){var r=t.key;t.kind==="constructor"?(e&&this.raise(r.start,"Constructor can't be a generator"),i&&this.raise(r.start,"Constructor can't be an async method")):t.static&&D0(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};O.parseClassField=function(t){if(D0(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&D0(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(m.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};O.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(dm|og);this.type!==m.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};O.parseClassId=function(t,e){this.type===m.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Xt,!1)):(e===!0&&this.unexpected(),t.id=null)};O.parseClassSuper=function(t){t.superClass=this.eat(m._extends)?this.parseExprSubscripts(null,!1):null};O.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};O.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var o=this.privateNameStack.length,r=o===0?null:this.privateNameStack[o-1],a=0;a<i.length;++a){var l=i[a];pm(e,l.name)||(r?r.used.push(l):this.raiseRecoverable(l.start,"Private field '#"+l.name+"' must be declared in an enclosing class"))}};function jI(t,e){var i=e.key.name,o=t[i],r="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(r=(e.static?"s":"i")+e.kind),o==="iget"&&r==="iset"||o==="iset"&&r==="iget"||o==="sget"&&r==="sset"||o==="sset"&&r==="sget"?(t[i]="true",!1):o?!0:(t[i]=r,!1)}n(jI,"isPrivateNameConflicted");function D0(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(D0,"checkKeyName");O.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};O.parseExport=function(t,e){if(this.next(),this.eat(m.star))return this.parseExportAllDeclaration(t,e);if(this.eat(m._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var r=o[i];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};O.parseExportDeclaration=function(t){return this.parseStatement(null)};O.parseExportDefaultDeclaration=function(){var t;if(this.type===m._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,um|P1,!1,t)}else if(this.type===m._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};O.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),pm(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};O.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,r=e.properties;o<r.length;o+=1){var a=r[o];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var l=0,p=e.elements;l<p.length;l+=1){var f=p[l];f&&this.checkPatternExport(t,f)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"?this.checkPatternExport(t,e.argument):i==="ParenthesizedExpression"&&this.checkPatternExport(t,e.expression)};O.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var r=o[i];this.checkPatternExport(t,r.id)}};O.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};O.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};O.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(i)i=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;e.push(this.parseExportSpecifier(t))}return e};O.parseImport=function(t){return this.next(),this.type===m.string?(t.specifiers=YI,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};O.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Xt),this.finishNode(t,"ImportSpecifier")};O.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Xt),this.finishNode(t,"ImportDefaultSpecifier")};O.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Xt),this.finishNode(t,"ImportNamespaceSpecifier")};O.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===m.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(m.comma)))return t;if(this.type===m.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(m.braceL);!this.eat(m.braceR);){if(e)e=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;t.push(this.parseImportSpecifier())}return t};O.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===m.string){var t=this.parseLiteral(this.value);return BI.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};O.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};O.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var pt=Ie.prototype;pt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,r=t.properties;o<r.length;o+=1){var a=r[o];this.toAssignable(a,e),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};pt.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var r=t[o];r&&this.toAssignable(r,e)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&e&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};pt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};pt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==m.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};pt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case m.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()};pt.parseBindingList=function(t,e,i,o){for(var r=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(m.comma),e&&this.type===m.comma)r.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===m.ellipsis){var l=this.parseRestBinding();this.parseBindingListItem(l),r.push(l),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else r.push(this.parseAssignableListItem(o))}return r};pt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};pt.parseBindingListItem=function(t){return t};pt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};pt.checkLValSimple=function(t,e,i){e===void 0&&(e=B0);var o=e!==B0;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===Xt&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(pm(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==N1&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};pt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=B0),t.type){case"ObjectPattern":for(var o=0,r=t.properties;o<r.length;o+=1){var a=r[o];this.checkLValInnerPattern(a,e,i)}break;case"ArrayPattern":for(var l=0,p=t.elements;l<p.length;l+=1){var f=p[l];f&&this.checkLValInnerPattern(f,e,i)}break;default:this.checkLValSimple(t,e,i)}};pt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=B0),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var gt=n(function(e,i,o,r,a){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=r,this.generator=!!a},"TokContext"),_e={b_stat:new gt("{",!1),b_expr:new gt("{",!0),b_tmpl:new gt("${",!1),p_stat:new gt("(",!1),p_expr:new gt("(",!0),q_tmpl:new gt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new gt("function",!1),f_expr:new gt("function",!0),f_expr_gen:new gt("function",!0,!1,null,!0),f_gen:new gt("function",!1,!1,null,!0)},Vr=Ie.prototype;Vr.initialContext=function(){return[_e.b_stat]};Vr.curContext=function(){return this.context[this.context.length-1]};Vr.braceIsBlock=function(t){var e=this.curContext();return e===_e.f_expr||e===_e.f_stat?!0:t===m.colon&&(e===_e.b_stat||e===_e.b_expr)?!e.isExpr:t===m._return||t===m.name&&this.exprAllowed?ct.test(this.input.slice(this.lastTokEnd,this.start)):t===m._else||t===m.semi||t===m.eof||t===m.parenR||t===m.arrow?!0:t===m.braceL?e===_e.b_stat:t===m._var||t===m._const||t===m.name?!1:!this.exprAllowed};Vr.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Vr.updateContext=function(t){var e,i=this.type;i.keyword&&t===m.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Vr.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};m.parenR.updateContext=m.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===_e.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};m.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?_e.b_stat:_e.b_expr),this.exprAllowed=!0};m.dollarBraceL.updateContext=function(){this.context.push(_e.b_tmpl),this.exprAllowed=!0};m.parenL.updateContext=function(t){var e=t===m._if||t===m._for||t===m._with||t===m._while;this.context.push(e?_e.p_stat:_e.p_expr),this.exprAllowed=!0};m.incDec.updateContext=function(){};m._function.updateContext=m._class.updateContext=function(t){t.beforeExpr&&t!==m._else&&!(t===m.semi&&this.curContext()!==_e.p_stat)&&!(t===m._return&&ct.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===m.colon||t===m.braceL)&&this.curContext()===_e.b_stat)?this.context.push(_e.f_expr):this.context.push(_e.f_stat),this.exprAllowed=!1};m.backQuote.updateContext=function(){this.curContext()===_e.q_tmpl?this.context.pop():this.context.push(_e.q_tmpl),this.exprAllowed=!1};m.star.updateContext=function(t){if(t===m._function){var e=this.context.length-1;this.context[e]===_e.f_expr?this.context[e]=_e.f_expr_gen:this.context[e]=_e.f_gen}this.exprAllowed=!0};m.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==m.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var j=Ie.prototype;j.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,r;switch(o.type){case"Identifier":r=o.name;break;case"Literal":r=String(o.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&a==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}r="$"+r;var l=e[r];if(l){var p;a==="init"?p=this.strict&&l.init||l.get||l.set:p=l.init||l[a],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else l=e[r]={init:!1,get:!1,set:!1};l[a]=!0}};j.parseExpression=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===m.comma){var a=this.startNodeAt(i,o);for(a.expressions=[r];this.eat(m.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return r};j.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,r=-1,a=-1,l=-1;e?(r=e.parenthesizedAssign,a=e.trailingComma,l=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new F0,o=!0);var p=this.start,f=this.startLoc;(this.type===m.parenL||this.type===m.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var h=this.parseMaybeConditional(t,e);if(i&&(h=i.call(this,h,p,f)),this.type.isAssign){var v=this.startNodeAt(p,f);return v.operator=this.value,this.type===m.eq&&(h=this.toAssignable(h,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=h.start&&(e.shorthandAssign=-1),this.type===m.eq?this.checkLValPattern(h):this.checkLValSimple(h),v.left=h,this.next(),v.right=this.parseMaybeAssign(t),l>-1&&(e.doubleProto=l),this.finishNode(v,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return r>-1&&(e.parenthesizedAssign=r),a>-1&&(e.trailingComma=a),h};j.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(m.question)){var a=this.startNodeAt(i,o);return a.test=r,a.consequent=this.parseMaybeAssign(),this.expect(m.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return r};j.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||r.start===i&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,i,o,-1,t)};j.parseExprOp=function(t,e,i,o,r){var a=this.type.binop;if(a!=null&&(!r||this.type!==m._in)&&a>o){var l=this.type===m.logicalOR||this.type===m.logicalAND,p=this.type===m.coalesce;p&&(a=m.logicalAND.binop);var f=this.value;this.next();var h=this.start,v=this.startLoc,x=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),h,v,a,r),y=this.buildBinary(e,i,t,x,f,l||p);return(l&&this.type===m.coalesce||p&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(y,e,i,o,r)}return t};j.buildBinary=function(t,e,i,o,r,a){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var l=this.startNodeAt(t,e);return l.left=i,l.operator=r,l.right=o,this.finishNode(l,a?"LogicalExpression":"BinaryExpression")};j.parseMaybeUnary=function(t,e,i,o){var r=this.start,a=this.startLoc,l;if(this.isContextual("await")&&this.canAwait)l=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),f=this.type===m.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,f,o),this.checkExpressionErrors(t,!0),f?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&R1(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,l=this.finishNode(p,f?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===m.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),l=this.parsePrivateIdent(),this.type!==m._in&&this.unexpected();else{if(l=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return l;for(;this.type.postfix&&!this.canInsertSemicolon();){var h=this.startNodeAt(r,a);h.operator=this.value,h.prefix=!1,h.argument=l,this.checkLValSimple(l),this.next(),l=this.finishNode(h,"UpdateExpression")}}if(!i&&this.eat(m.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(r,a,l,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return l};function R1(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&R1(t.expression)}n(R1,"isPrivateFieldAccess");j.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprAtom(t,e);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var a=this.parseSubscripts(r,i,o,!1,e);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};j.parseSubscripts=function(t,e,i,o,r){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,l=!1;;){var p=this.parseSubscript(t,e,i,o,a,l,r);if(p.optional&&(l=!0),p===t||p.type==="ArrowFunctionExpression"){if(l){var f=this.startNodeAt(e,i);f.expression=p,p=this.finishNode(f,"ChainExpression")}return p}t=p}};j.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(m.arrow)};j.parseSubscriptAsyncArrow=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,o)};j.parseSubscript=function(t,e,i,o,r,a,l){var p=this.options.ecmaVersion>=11,f=p&&this.eat(m.questionDot);o&&f&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var h=this.eat(m.bracketL);if(h||f&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var v=this.startNodeAt(e,i);v.object=t,h?(v.property=this.parseExpression(),this.expect(m.bracketR)):this.type===m.privateId&&t.type!=="Super"?v.property=this.parsePrivateIdent():v.property=this.parseIdent(this.options.allowReserved!=="never"),v.computed=!!h,p&&(v.optional=f),t=this.finishNode(v,"MemberExpression")}else if(!o&&this.eat(m.parenL)){var x=new F0,y=this.yieldPos,w=this.awaitPos,C=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var R=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1,x);if(r&&!f&&this.shouldParseAsyncArrow())return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=y,this.awaitPos=w,this.awaitIdentPos=C,this.parseSubscriptAsyncArrow(e,i,R,l);this.checkExpressionErrors(x,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=w||this.awaitPos,this.awaitIdentPos=C||this.awaitIdentPos;var M=this.startNodeAt(e,i);M.callee=t,M.arguments=R,p&&(M.optional=f),t=this.finishNode(M,"CallExpression")}else if(this.type===m.backQuote){(f||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var B=this.startNodeAt(e,i);B.tag=t,B.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(B,"TaggedTemplateExpression")}return t};j.parseExprAtom=function(t,e,i){this.type===m.slash&&this.readRegexp();var o,r=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===m.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(o,"Super");case m._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case m.name:var a=this.start,l=this.startLoc,p=this.containsEsc,f=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&f.name==="async"&&!this.canInsertSemicolon()&&this.eat(m._function))return this.overrideContext(_e.f_expr),this.parseFunction(this.startNodeAt(a,l),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(a,l),[f],!1,e);if(this.options.ecmaVersion>=8&&f.name==="async"&&this.type===m.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return f=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(m.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,l),[f],!0,e)}return f;case m.regexp:var h=this.value;return o=this.parseLiteral(h.value),o.regex={pattern:h.pattern,flags:h.flags},o;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return o=this.startNode(),o.value=this.type===m._null?null:this.type===m._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case m.parenL:var v=this.start,x=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(x)&&(t.parenthesizedAssign=v),t.parenthesizedBind<0&&(t.parenthesizedBind=v)),x;case m.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(m.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case m.braceL:return this.overrideContext(_e.b_expr),this.parseObj(!1,t);case m._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};j.parseExprAtomDefault=function(){this.unexpected()};j.parseExprImport=function(t){var e=this.startNode();this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import");var i=this.parseIdent(!0);if(this.type===m.parenL&&!t)return this.parseDynamicImport(e);if(this.type===m.dot)return e.meta=i,this.parseImportMeta(e);this.unexpected()};j.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var e=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};j.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};j.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};j.parseParenExpression=function(){this.expect(m.parenL);var t=this.parseExpression();return this.expect(m.parenR),t};j.shouldParseArrow=function(t){return!this.canInsertSemicolon()};j.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,r,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var l=this.start,p=this.startLoc,f=[],h=!0,v=!1,x=new F0,y=this.yieldPos,w=this.awaitPos,C;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;)if(h?h=!1:this.expect(m.comma),a&&this.afterTrailingComma(m.parenR,!0)){v=!0;break}else if(this.type===m.ellipsis){C=this.start,f.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else f.push(this.parseMaybeAssign(!1,x,this.parseParenItem));var R=this.lastTokEnd,M=this.lastTokEndLoc;if(this.expect(m.parenR),t&&this.shouldParseArrow(f)&&this.eat(m.arrow))return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=y,this.awaitPos=w,this.parseParenArrowList(i,o,f,e);(!f.length||v)&&this.unexpected(this.lastTokStart),C&&this.unexpected(C),this.checkExpressionErrors(x,!0),this.yieldPos=y||this.yieldPos,this.awaitPos=w||this.awaitPos,f.length>1?(r=this.startNodeAt(l,p),r.expressions=f,this.finishNodeAt(r,"SequenceExpression",R,M)):r=f[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var B=this.startNodeAt(i,o);return B.expression=r,this.finishNode(B,"ParenthesizedExpression")}else return r};j.parseParenItem=function(t){return t};j.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var UI=[];j.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode(),e=this.parseIdent(!0);if(this.options.ecmaVersion>=6&&this.eat(m.dot)){t.meta=e;var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,r,!0,!1),this.eat(m.parenL)?t.arguments=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1):t.arguments=UI,this.finishNode(t,"NewExpression")};j.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===m.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===m.backQuote,this.finishNode(i,"TemplateElement")};j.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(m.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};j.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===m.star)&&!ct.test(this.input.slice(this.lastTokEnd,this.start))};j.parseObj=function(t,e){var i=this.startNode(),o=!0,r={};for(i.properties=[],this.next();!this.eat(m.braceR);){if(o)o=!1;else if(this.expect(m.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(m.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,r,e),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};j.parseProperty=function(t,e){var i=this.startNode(),o,r,a,l;if(this.options.ecmaVersion>=9&&this.eat(m.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===m.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(a=this.start,l=this.startLoc),t||(o=this.eat(m.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(r=!0,o=this.options.ecmaVersion>=9&&this.eat(m.star),this.parsePropertyName(i)):r=!1,this.parsePropertyValue(i,t,o,r,a,l,e,p),this.finishNode(i,"Property")};j.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};j.parsePropertyValue=function(t,e,i,o,r,a,l,p){(i||o)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,l),t.kind="init"):this.options.ecmaVersion>=6&&this.type===m.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==m.comma&&this.type!==m.braceR&&this.type!==m.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,a,this.copyNode(t.key)):this.type===m.eq&&l?(l.shorthandAssign<0&&(l.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};j.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(m.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(m.bracketR),t.key;t.computed=!1}return t.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};j.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};j.parseMethod=function(t,e,i){var o=this.startNode(),r=this.yieldPos,a=this.awaitPos,l=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(rg(e,o.generator)|og|(i?k1:0)),this.expect(m.parenL),o.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=l,this.finishNode(o,"FunctionExpression")};j.parseArrowExpression=function(t,e,i,o){var r=this.yieldPos,a=this.awaitPos,l=this.awaitIdentPos;return this.enterScope(rg(i,!1)|S1),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=l,this.finishNode(t,"ArrowFunctionExpression")};j.parseFunctionBody=function(t,e,i,o){var r=e&&this.type!==m.braceL,a=this.strict,l=!1;if(r)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||p)&&(l=this.strictDirective(this.end),l&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],l&&(this.strict=!0),this.checkParams(t,!a&&!l&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,N1),t.body=this.parseBlock(!1,void 0,l&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=f}this.exitScope()};j.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};j.checkParams=function(t,e){for(var i=Object.create(null),o=0,r=t.params;o<r.length;o+=1){var a=r[o];this.checkLValInnerPattern(a,sg,e?null:i)}};j.parseExprList=function(t,e,i,o){for(var r=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(m.comma),e&&this.afterTrailingComma(t))break;var l=void 0;i&&this.type===m.comma?l=null:this.type===m.ellipsis?(l=this.parseSpread(o),o&&this.type===m.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):l=this.parseMaybeAssign(!1,o),r.push(l)}return r};j.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};j.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};j.parseIdentNode=function(){var t=this.startNode();return this.type===m.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop()):this.unexpected(),t};j.parsePrivateIdent=function(){var t=this.startNode();return this.type===m.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};j.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(m.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};j.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var O0=Ie.prototype;O0.raise=function(t,e){var i=w1(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};O0.raiseRecoverable=O0.raise;O0.curPosition=function(){if(this.options.locations)return new lm(this.curLine,this.pos-this.lineStart)};var Vi=Ie.prototype,WI=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Vi.enterScope=function(t){this.scopeStack.push(new WI(t))};Vi.exitScope=function(){this.scopeStack.pop()};Vi.treatFunctionsAsVarInScope=function(t){return t.flags&Mr||!this.inModule&&t.flags&cm};Vi.declareName=function(t,e,i){var o=!1;if(e===Xt){var r=this.currentScope();o=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&r.flags&cm&&delete this.undefinedExports[t]}else if(e===E1){var a=this.currentScope();a.lexical.push(t)}else if(e===C1){var l=this.currentScope();this.treatFunctionsAsVar?o=l.lexical.indexOf(t)>-1:o=l.lexical.indexOf(t)>-1||l.var.indexOf(t)>-1,l.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var f=this.scopeStack[p];if(f.lexical.indexOf(t)>-1&&!(f.flags&I1&&f.lexical[0]===t)||!this.treatFunctionsAsVarInScope(f)&&f.functions.indexOf(t)>-1){o=!0;break}if(f.var.push(t),this.inModule&&f.flags&cm&&delete this.undefinedExports[t],f.flags&ng)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Vi.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Vi.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Vi.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&ng)return e}};Vi.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&ng&&!(e.flags&S1))return e}};var Y0=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new L0(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),fm=Ie.prototype;fm.startNode=function(){return new Y0(this,this.start,this.startLoc)};fm.startNodeAt=function(t,e){return new Y0(this,t,e)};function A1(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(A1,"finishNodeAt");fm.finishNode=function(t,e){return A1.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};fm.finishNodeAt=function(t,e,i,o){return A1.call(this,t,e,i,o)};fm.copyNode=function(t){var e=new Y0(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var M1="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",V1=M1+" Extended_Pictographic",B1=V1,D1=B1+" EBase EComp EMod EPres ExtPict",O1=D1,JI=O1,HI={9:M1,10:V1,11:B1,12:D1,13:O1,14:JI},GI="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",zI={9:"",10:"",11:"",12:"",13:"",14:GI},h1="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",L1="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",F1=L1+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",Y1=F1+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",j1=Y1+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",U1=j1+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",KI=U1+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",$I={9:L1,10:F1,11:Y1,12:j1,13:U1,14:KI},W1={};function qI(t){var e=W1[t]={binary:Ai(HI[t]+" "+h1),binaryOfStrings:Ai(zI[t]),nonBinary:{General_Category:Ai(h1),Script:Ai($I[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(qI,"buildUnicodeData");for(V0=0,Xx=[9,10,11,12,13,14];V0<Xx.length;V0+=1)_1=Xx[V0],qI(_1);var _1,V0,Xx,A=Ie.prototype,Lt=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=W1[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");Lt.prototype.reset=n(function(e,i,o){var r=o.indexOf("v")!==-1,a=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)},"reset");Lt.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Lt.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return-1;var a=o.charCodeAt(e);if(!(i||this.switchU)||a<=55295||a>=57344||e+1>=r)return a;var l=o.charCodeAt(e+1);return l>=56320&&l<=57343?(a<<10)+l-56613888:a},"at");Lt.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return r;var a=o.charCodeAt(e),l;return!(i||this.switchU)||a<=55295||a>=57344||e+1>=r||(l=o.charCodeAt(e+1))<56320||l>57343?e+1:e+2},"nextIndex");Lt.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Lt.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Lt.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Lt.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");Lt.prototype.eatChars=n(function(e,i){i===void 0&&(i=!1);for(var o=this.pos,r=0,a=e;r<a.length;r+=1){var l=a[r],p=this.at(o,i);if(p===-1||p!==l)return!1;o=this.nextIndex(o,i)}return this.pos=o,!0},"eatChars");A.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=!1,r=!1,a=0;a<i.length;a++){var l=i.charAt(a);e.indexOf(l)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(l,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),l==="u"&&(o=!0),l==="v"&&(r=!0)}this.options.ecmaVersion>=15&&o&&r&&this.raise(t.start,"Invalid regular expression flag")};A.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};A.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};A.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};A.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};A.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};A.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};A.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};A.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};A.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return r!==-1&&r<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};A.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};A.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};A.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};A.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};A.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};A.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};A.regexp_eatSyntaxCharacter=function(t){var e=t.current();return J1(e)?(t.lastIntValue=e,t.advance(),!0):!1};function J1(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(J1,"isSyntaxCharacter");A.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!J1(i);)t.advance();return t.pos!==e};A.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};A.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};A.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};A.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Mi(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Mi(t.lastIntValue);return!0}return!1};A.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),XI(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function XI(t){return $t(t,!0)||t===36||t===95}n(XI,"isRegExpIdentifierStart");A.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),QI(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function QI(t){return Rr(t,!0)||t===36||t===95||t===8204||t===8205}n(QI,"isRegExpIdentifierPart");A.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};A.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};A.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};A.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};A.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};A.regexp_eatZero=function(t){return t.current()===48&&!j0(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};A.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};A.regexp_eatControlLetter=function(t){var e=t.current();return H1(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function H1(t){return t>=65&&t<=90||t>=97&&t<=122}n(H1,"isControlLetter");A.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(o&&r>=55296&&r<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var l=t.lastIntValue;if(l>=56320&&l<=57343)return t.lastIntValue=(r-55296)*1024+(l-56320)+65536,!0}t.pos=a,t.lastIntValue=r}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&ZI(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function ZI(t){return t>=0&&t<=1114111}n(ZI,"isValidUnicode");A.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};A.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var G1=0,qt=1,lt=2;A.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(ek(e))return t.lastIntValue=-1,t.advance(),qt;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===lt&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return G1};function ek(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(ek,"isCharacterClassEscape");A.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),qt}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r)}return G1};A.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){pm(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};A.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return qt;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return lt;t.raise("Invalid property name")};A.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";z1(e=t.current());)t.lastStringValue+=Mi(e),t.advance();return t.lastStringValue!==""};function z1(t){return H1(t)||t===95}n(z1,"isUnicodePropertyNameCharacter");A.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";tk(e=t.current());)t.lastStringValue+=Mi(e),t.advance();return t.lastStringValue!==""};function tk(t){return z1(t)||j0(t)}n(tk,"isUnicodePropertyValueCharacter");A.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};A.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===lt&&t.raise("Negated character class may contain strings"),!0}return!1};A.regexp_classContents=function(t){return t.current()===93?qt:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),qt)};A.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};A.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||q1(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};A.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};A.regexp_classSetExpression=function(t){var e=qt,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===lt&&(e=lt);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==lt&&(e=qt);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===lt&&(e=lt)}};A.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};A.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?qt:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};A.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===lt&&t.raise("Negated character class may contain strings"),o;t.pos=e}if(t.eat(92)){var r=this.regexp_eatCharacterClassEscape(t);if(r)return r;t.pos=e}return null};A.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};A.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===lt&&(e=lt);return e};A.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?qt:lt};A.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&ik(i)||ok(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function ik(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}n(ik,"isClassSetReservedDoublePunctuatorCharacter");function ok(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}n(ok,"isClassSetSyntaxCharacter");A.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return nk(e)?(t.lastIntValue=e,t.advance(),!0):!1};function nk(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}n(nk,"isClassSetReservedPunctuator");A.regexp_eatClassControlLetter=function(t){var e=t.current();return j0(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};A.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};A.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;j0(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function j0(t){return t>=48&&t<=57}n(j0,"isDecimalDigit");A.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;K1(i=t.current());)t.lastIntValue=16*t.lastIntValue+$1(i),t.advance();return t.pos!==e};function K1(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n(K1,"isHexDigit");function $1(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n($1,"hexToInt");A.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};A.regexp_eatOctalDigit=function(t){var e=t.current();return q1(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function q1(t){return t>=48&&t<=55}n(q1,"isOctalDigit");A.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var r=t.current();if(!K1(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+$1(r),t.advance()}return!0};var ug=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new L0(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),X=Ie.prototype;X.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new ug(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};X.getToken=function(){return this.next(),new ug(this)};typeof Symbol<"u"&&(X[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===m.eof,value:e}}}});X.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(m.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};X.readToken=function(t){return $t(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};X.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};X.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,r=e;(o=g1(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};X.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Ar(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};X.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&b1.test(String.fromCharCode(t)))++this.pos;else break e}}};X.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};X.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))};X.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(m.assign,2):this.finishOp(m.slash,1)};X.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?m.star:m.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=m.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(m.assign,i+1):this.finishOp(o,i)};X.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(m.assign,3)}return this.finishOp(t===124?m.logicalOR:m.logicalAND,2)}return e===61?this.finishOp(m.assign,2):this.finishOp(t===124?m.bitwiseOR:m.bitwiseAND,1)};X.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)};X.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ct.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(m.incDec,2):e===61?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)};X.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(m.assign,i+1):this.finishOp(m.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(m.relational,i))};X.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(m.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(t===61?m.eq:m.prefix,1)};X.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(m.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(m.assign,3)}return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)};X.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),$t(e,!0)||e===92))return this.finishToken(m.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Mi(e)+"'")};X.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Mi(t)+"'")};X.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};X.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(ct.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var r=this.input.slice(i,this.pos);++this.pos;var a=this.pos,l=this.readWord1();this.containsEsc&&this.unexpected(a);var p=this.regexpState||(this.regexpState=new Lt(this));p.reset(i,r,l),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var f=null;try{f=new RegExp(r,l)}catch(h){}return this.finishToken(m.regexp,{pattern:r,flags:l,value:f})};X.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,r=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,l=0,p=0,f=0,h=e==null?1/0:e;f<h;++f,++this.pos){var v=this.input.charCodeAt(this.pos),x=void 0;if(o&&v===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),f===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=v;continue}if(v>=97?x=v-97+10:v>=65?x=v-65+10:v>=48&&v<=57?x=v-48:x=1/0,x>=t)break;p=v,l=l*t+x}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||e!=null&&this.pos-a!==e?null:l};function rk(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n(rk,"stringToNumber");function X1(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(X1,"stringToBigInt");X.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=X1(this.input.slice(e,this.pos)),++this.pos):$t(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,i)};X.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var r=X1(this.input.slice(e,this.pos));return++this.pos,$t(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,r)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),$t(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=rk(this.input.slice(e,this.pos),i);return this.finishToken(m.num,a)};X.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};X.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Ar(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(m.string,e)};var Q1={};X.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===Q1)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};X.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw Q1;this.raise(t,e)};X.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===m.template||this.type===m.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(m.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Ar(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};X.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};X.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Mi(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(o,8);return r>255&&(o=o.slice(0,-1),r=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return Ar(e)?"":String.fromCharCode(e)}};X.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};X.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(Rr(r,o))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(e?$t:Rr)(l,o)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=Mi(l),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};X.readWord=function(){var t=this.readWord1(),e=m.name;return this.keywords.test(t)&&(e=tg[t]),this.finishToken(e,t)};var sk="8.10.0";Ie.acorn={Parser:Ie,version:sk,defaultOptions:Zx,Position:lm,SourceLocation:L0,getLineInfo:w1,Node:Y0,TokenType:ie,tokTypes:m,keywordTypes:tg,TokContext:gt,tokContexts:_e,isIdentifierChar:Rr,isIdentifierStart:$t,Token:ug,isNewLine:Ar,lineBreak:ct,lineBreakG:AI,nonASCIIwhitespace:b1};function Z1(t,e){return Ie.parse(t,e)}n(Z1,"parse");var ak=function(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i},uk=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},U0,No=class{constructor(e){U0.set(this,void 0);let i=Z1(e,{ecmaVersion:2020});ak(this,U0,i.body,"f"),this.visitor=new Pr(uk(this,U0,"f")),this.scope=this.visitor.scope,this.scope.set("print",o=>console.log(...o)),this.visitor.on("console",(o,r)=>{if(o.type==="Identifier")return console;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=r.visitNode(o.callee.property),l=o.arguments.map(f=>r.visitNode(f)),p=console[a];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("Math",(o,r)=>{if(o.type==="Identifier")return Math;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=r.visitNode(o.callee.property),l=o.arguments.map(f=>r.visitNode(f)),p=Math[a];return p?p(...l):"proceed"}return"proceed"}),this.visitor.on("String",(o,r)=>{if(o.type==="Identifier")return String;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let a=r.visitNode(o.callee.property),l=o.arguments.map(f=>r.visitNode(f)),p=String[a];return p?p(l):"proceed"}return"proceed"}),this.visitor.on("Date",o=>{if(o.type==="Identifier")return Date})}interpret(){return this.visitor.run()}};n(No,"Jinter");U0=new WeakMap;function lg(t,e){let i=new No(t);for(let[o,r]of Object.entries(e))i.scope.set(o,r);return i.interpret()}n(lg,"evaluate");var mm,Po,eS,tS,iS,W0=class{constructor(e){mm.add(this),Po.set(this,void 0),S(this,Po,e,"f")}get session(){return d(this,Po,"f")}stats(e,i,o){return T(this,void 0,void 0,function*(){let r=new URL(e);r.searchParams.set("ver","2"),r.searchParams.set("c",i.client_name.toLowerCase()),r.searchParams.set("cbrver",i.client_version),r.searchParams.set("cver",i.client_version);for(let l of Object.keys(o))r.searchParams.set(l,o[l]);return yield d(this,Po,"f").http.fetch(r)})}execute(e,i){var o,r;return T(this,void 0,void 0,function*(){let a;if(i&&!i.protobuf){if(a=Object.assign({},i),Reflect.has(a,"browseId")&&d(this,mm,"m",iS).call(this,a.browseId)&&!d(this,Po,"f").logged_in)throw new g("You must be signed in to perform this operation.");Reflect.has(a,"override_endpoint")&&delete a.override_endpoint,Reflect.has(a,"parse")&&delete a.parse,Reflect.has(a,"request")&&delete a.request,Reflect.has(a,"clientActions")&&delete a.clientActions,Reflect.has(a,"settingItemIdForClient")&&delete a.settingItemIdForClient,Reflect.has(a,"action")&&(a.actions=[a.action],delete a.action),Reflect.has(a,"boolValue")&&(a.newValue={boolValue:a.boolValue},delete a.boolValue),Reflect.has(a,"token")&&(a.continuation=a.token,delete a.token),(a==null?void 0:a.client)==="YTMUSIC"&&(a.isAudioOnly=!0)}else i&&(a=i.serialized_data);let l=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield d(this,Po,"f").http.fetch(l,{method:"POST",body:i!=null&&i.protobuf?a:JSON.stringify(a||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let f=c.parseResponse(yield p.json());if(d(this,mm,"m",tS).call(this,f)&&((r=(o=f.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||r===void 0?void 0:r.type)==="navigateAction"){let h=f.on_response_received_actions.firstOfType(hi);h&&(f=yield h.endpoint.call(this,{parse:!0}))}return f}return d(this,mm,"m",eS).call(this,p)})}};n(W0,"Actions");Po=new WeakMap,mm=new WeakSet,eS=n(function(e){return T(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),tS=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),iS=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var cg=W0;var Br,Dr,hm,_m,bt=class{constructor(e,i,o,r){Br.set(this,void 0),Dr.set(this,void 0),hm.set(this,void 0),_m.set(this,void 0),S(this,Br,o,"f"),S(this,Dr,i,"f"),S(this,hm,e,"f"),S(this,_m,r,"f")}static create(e,i=Y.shim.fetch){return T(this,void 0,void 0,function*(){let o=new URL("/iframe_api",Me.YT_BASE),r=yield i(o);if(r.status!==200)throw new tt("Failed to request player id");let a=yield r.text(),l=Ye(a,"player\\/","\\/");if(!l)throw new tt("Failed to get player id");if(e){let w=yield bt.fromCache(e,l);if(w)return w}let p=new URL(`/s/player/${l}/player_ias.vflset/en_US/base.js`,Me.YT_BASE),f=yield i(p,{headers:{"user-agent":go("desktop")}});if(!f.ok)throw new tt(`Failed to get player data: ${f.status}`);let h=yield f.text(),v=this.extractSigTimestamp(h),x=this.extractSigSourceCode(h),y=this.extractNSigSourceCode(h);return yield bt.fromSource(e,v,x,y,l)})}decipher(e,i,o,r){if(e=e||i||o,!e)throw new tt("No valid URL to decipher");let a=new URLSearchParams(e),l=new URL(a.get("url")||e);if(i||o){let h=Y.shim.calculate(d(this,Dr,"f"),{sig:a.get("s")});if(typeof h!="string")throw new tt("Failed to decipher signature");let v=a.get("sp");v?l.searchParams.set(v,h):l.searchParams.set("signature",h)}let p=l.searchParams.get("n");if(p){let h;if(r&&r.has(p))h=r.get(p);else{if(h=Y.shim.calculate(d(this,Br,"f"),{nsig:p}),typeof h!="string")throw new tt("Failed to decipher nsig");h.startsWith("enhanced_except_")?console.warn(`Warning:
Could not transform nsig, download may be throttled.
Changing the InnerTube client to "ANDROID" might help!`):r&&r.set(p,h)}l.searchParams.set("n",h)}switch(l.searchParams.get("c")){case"WEB":l.searchParams.set("cver",W.WEB.VERSION);break;case"WEB_REMIX":l.searchParams.set("cver",W.YTMUSIC.VERSION);break;case"WEB_KIDS":l.searchParams.set("cver",W.WEB_KIDS.VERSION);break;case"ANDROID":l.searchParams.set("cver",W.ANDROID.VERSION);break;case"ANDROID_MUSIC":l.searchParams.set("cver",W.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":l.searchParams.set("cver",W.TV_EMBEDDED.VERSION);break}return l.toString()}static fromCache(e,i){return T(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let r=new DataView(o);if(r.getUint32(0,!0)!==bt.LIBRARY_VERSION)return null;let l=r.getUint32(4,!0),p=r.getUint32(8,!0),f=o.slice(12,12+p),h=o.slice(12+p),v=new TextDecoder,x=v.decode(f),y=v.decode(h);return new bt(l,x,y,i)})}static fromSource(e,i,o,r,a){return T(this,void 0,void 0,function*(){let l=new bt(i,o,r,a);return yield l.cache(e),l})}cache(e){return T(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(d(this,Dr,"f")),r=i.encode(d(this,Br,"f")),a=new ArrayBuffer(12+o.byteLength+r.byteLength),l=new DataView(a);l.setUint32(0,bt.LIBRARY_VERSION,!0),l.setUint32(4,d(this,hm,"f"),!0),l.setUint32(8,o.byteLength,!0),new Uint8Array(a).set(o,12),new Uint8Array(a).set(r,12+o.byteLength),yield e.set(d(this,_m,"f"),new Uint8Array(a))})}static extractSigTimestamp(e){return parseInt(Ye(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,r;let a=Ye(e,'function(a){a=a.split("")','return a.join("")}'),l=(r=(o=(i=a==null?void 0:a.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||r===void 0?void 0:r.trim(),p=Ye(e,`var ${l}={`,"};");return(!p||!a)&&console.warn(new tt("Failed to extract signature decipher algorithm")),`function descramble_sig(a) { a = a.split(""); let ${l}={${p}}${a} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=`function descramble_nsig(a) { let b=a.split("")${Ye(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return i||console.warn(new tt("Failed to extract n-token decipher algorithm")),i}get url(){return new URL(`/s/player/${d(this,_m,"f")}/player_ias.vflset/en_US/base.js`,Me.YT_BASE).toString()}get sts(){return d(this,hm,"f")}get nsig_sc(){return d(this,Br,"f")}get sig_sc(){return d(this,Dr,"f")}static get LIBRARY_VERSION(){return 2}};n(bt,"Player");Br=new WeakMap,Dr=new WeakMap,hm=new WeakMap,_m=new WeakMap;var pg=bt;var J0,H0,G0,Ro,z0,K0,oS,dg,fg;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(fg||(fg={}));var Bi=class extends Wf{constructor(e,i,o,r,a,l,p,f){super(),H0.set(this,void 0),G0.set(this,void 0),Ro.set(this,void 0),z0.set(this,void 0),K0.set(this,void 0),S(this,Ro,e,"f"),S(this,z0,r,"f"),S(this,G0,i,"f"),S(this,H0,o,"f"),S(this,K0,a,"f"),this.http=new Mx(this,l,p),this.actions=new cg(this),this.logged_in=!!l,this.cache=f}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e={}){return T(this,void 0,void 0,function*(){let{context:i,api_key:o,api_version:r,account_index:a}=yield Bi.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user);return new Bi(i,o,r,a,e.retrieve_player===!1?void 0:yield pg.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static getSessionData(e="",i="",o=0,r="",a=!1,l=!1,p="desktop",f=fg.WEB,h=Intl.DateTimeFormat().resolvedOptions().timeZone,v=Y.shim.fetch,x){return T(this,void 0,void 0,function*(){let y,w={lang:e,location:i,time_zone:h,device_category:p,client_name:f,enable_safety_mode:a,visitor_data:r,on_behalf_of_user:x};if(l)y=d(this,J0,"m",dg).call(this,w);else try{y=yield d(this,J0,"m",oS).call(this,w,v)}catch(C){y=d(this,J0,"m",dg).call(this,w)}return Object.assign(Object.assign({},y),{account_index:o})})}get key(){return d(this,G0,"f")}get api_version(){return d(this,H0,"f")}get client_version(){return d(this,Ro,"f").client.clientVersion}get client_name(){return d(this,Ro,"f").client.clientName}get account_index(){return d(this,z0,"f")}get context(){return d(this,Ro,"f")}get player(){return d(this,K0,"f")}get lang(){return d(this,Ro,"f").client.hl}};n(Bi,"Session");J0=Bi,H0=new WeakMap,G0=new WeakMap,Ro=new WeakMap,z0=new WeakMap,K0=new WeakMap,oS=n(function(e,i=Y.shim.fetch){return T(this,void 0,void 0,function*(){let o=new URL("/sw.js_data",Me.YT_BASE),r=Co(11);e.visitor_data&&(r=Fh(e.visitor_data).id);let a=yield i(o,{headers:{"accept-language":e.lang||"en-US","user-agent":go("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${r};`}});if(!a.ok)throw new $n(`Failed to retrieve session data: ${a.status}`);let l=yield a.text(),f=JSON.parse(l.replace(/^\)\]\}'/,""))[0][2],h=`v${f[0][0][6]}`,[[v],x]=f;return{context:{client:{hl:v[0],gl:e.location||v[2],remoteHost:v[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:v[13],clientName:e.client_name,clientVersion:v[16],osName:v[17],osVersion:v[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:v[79]||e.time_zone,browserName:v[86],browserVersion:v[87],originalUrl:Me.YT_BASE,deviceMake:v[11],deviceModel:v[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:x,api_version:h}})},"_Session_retrieveSessionData"),dg=n(function(e){let i=Co(11);return e.visitor_data&&(i=Fh(e.visitor_data).id),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:cx(i,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:W.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:Me.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:W.WEB.API_KEY,api_version:W.WEB.API_VERSION}},"_Session_generateSessionData");var mg=Bi;var hg={};Ce(hg,{NextEndpoint:()=>Di,PlayerEndpoint:()=>Qt});var Di={};Ce(Di,{PATH:()=>lk,build:()=>ck});var lk="/next";function ck(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(ck,"build");var Qt={};Ce(Qt,{PATH:()=>pk,build:()=>dk});var pk="/player";function dk(t){let e=t.client==="ANDROID"||t.client==="YTMUSIC_ANDROID"||t.client==="YTSTUDIO_ANDROID";return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:e?"2AMBCgIQBg":t.params})}n(dk,"build");var Ao,Or=class{constructor(e){Ao.set(this,void 0),S(this,Ao,e,"f")}static create(e={}){return T(this,void 0,void 0,function*(){return new Or(yield mg.create(e))})}getInfo(e,i){var o,r,a,l,p;return T(this,void 0,void 0,function*(){R0({target:e});let f;if(e instanceof _)f=Di.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(r=e.payload)===null||r===void 0?void 0:r.playlistId,params:(a=e.payload)===null||a===void 0?void 0:a.params,playlist_index:(l=e.payload)===null||l===void 0?void 0:l.index});else if(typeof e=="string")f=Di.build({video_id:e});else throw new g("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!f.videoId)throw new g("Video id cannot be empty",f);let h=Qt.build({video_id:f.videoId,playlist_id:f==null?void 0:f.playlistId,client:i,sts:(p=d(this,Ao,"f").player)===null||p===void 0?void 0:p.sts}),v=this.actions.execute(Qt.PATH,h),x=this.actions.execute(Di.PATH,f),y=yield Promise.all([v,x]),w=Co(16);return new Zf(y,this.actions,w)})}getBasicInfo(e,i){var o;return T(this,void 0,void 0,function*(){R0({video_id:e});let r=yield this.actions.execute(Qt.PATH,Qt.build({video_id:e,client:i,sts:(o=d(this,Ao,"f").player)===null||o===void 0?void 0:o.sts})),a=Co(16);return new Zf([r],this.actions,a)})}getStreamingData(e,i={}){return T(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(i)})}download(e,i){return T(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}call(e,i){return e.call(this.actions,i)}get actions(){return d(this,Ao,"f").actions}get session(){return d(this,Ao,"f")}};n(Or,"Innertube");Ao=new WeakMap;var _g=Or;var nS={};var rS=_g;var vm,$0,q0,X0,Q0=class{constructor(e=!1,i){vm.add(this),$0.set(this,void 0),q0.set(this,void 0),S(this,$0,i||"","f"),S(this,q0,e,"f")}get cache_dir(){return d(this,q0,"f")?d(this,$0,"f"):""}get(e){return T(this,void 0,void 0,function*(){let i=yield d(this,vm,"m",X0).call(this);if(!!i)return new Promise((o,r)=>{let a=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);a.onerror=r,a.onsuccess=function(){var l;let p=(l=this.result)===null||l===void 0?void 0:l.v;o(p?p.buffer:void 0)}})})}set(e,i){return T(this,void 0,void 0,function*(){let o=yield d(this,vm,"m",X0).call(this);if(!!o)return new Promise((r,a)=>{let l=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});l.onerror=a,l.onsuccess=()=>r()})})}remove(e){return T(this,void 0,void 0,function*(){let i=yield d(this,vm,"m",X0).call(this);if(!!i)return new Promise((o,r)=>{let a=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);a.onerror=r,a.onsuccess=()=>o()})})}};n(Q0,"Cache");$0=new WeakMap,q0=new WeakMap,vm=new WeakSet,X0=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let r=e.open("youtubei.js",1);r.onsuccess=function(){i(this.result)},r.onerror=function(a){o("indexedDB request error"),console.error(a)},r.onupgradeneeded=function(){let a=this.result.createObjectStore("kv-store",{keyPath:"k"});a.transaction.oncomplete=function(){i(this.db)}}}):console.log("IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");Y.load({runtime:"browser",server:!1,info:{version:A0.version,bugs_url:A0.bugs.url,repo_url:A0.homepage.split("#")[0]},Cache:Q0,sha1Hash:Jx,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},calculate:lg,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var uwe=rS;export{cg as Actions,Ji as AppendContinuationItemsAction,fg as ClientType,Je as Constants,io as Continuation,hg as Endpoints,Wf as EventEmitter,m0 as FormatUtils,Tx as Generator,xi as GridContinuation,Mx as HTTPClient,ix as Helpers,_g as Innertube,mi as ItemSectionContinuation,gi as LiveChatContinuation,Ux as Misc,Ox as Mixins,vi as MusicPlaylistShelfContinuation,Pt as MusicShelfContinuation,hi as NavigateAction,c as Parser,Y as Platform,pg as Player,wn as PlaylistPanelContinuation,tn as Proto,_i as ReloadContinuationItemsCommand,ze as SectionListContinuation,mg as Session,yn as ShowMiniplayerCommand,nS as Types,tI as UniversalCache,Vx as Utils,Lx as YT,jx as YTKids,Yx as YTMusic,Af as YTNodes,uwe as default};