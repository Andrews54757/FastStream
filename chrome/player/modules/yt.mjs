/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var D0=Object.defineProperty;var o=(t,e)=>D0(t,"name",{value:e,configurable:!0});var ye=(t,e)=>{for(var i in e)D0(t,i,{get:e[i],enumerable:!0})};function L0(t,e){var i={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(i[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(i[n[r]]=t[n[r]]);return i}o(L0,"__rest");function O0(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}o(O0,"__setFunctionName");function T(t,e,i,n){function r(a){return a instanceof i?a:new i(function(c){c(a)})}return o(r,"adopt"),new(i||(i=Promise))(function(a,c){function p(f){try{_(n.next(f))}catch(x){c(x)}}o(p,"fulfilled");function d(f){try{_(n.throw(f))}catch(x){c(x)}}o(d,"rejected");function _(f){f.done?a(f.value):r(f.value).then(p,d)}o(_,"step"),_((n=n.apply(t,e||[])).next())})}o(T,"__awaiter");function B0(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],n=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}o(B0,"__values");function Ui(t){return this instanceof Ui?(this.v=t,this):new Ui(t)}o(Ui,"__await");function F0(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),r,a=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(v){n[v]&&(r[v]=function(w){return new Promise(function(k,S){a.push([v,w,k,S])>1||p(v,w)})})}function p(v,w){try{d(n[v](w))}catch(k){x(a[0][3],k)}}function d(v){v.value instanceof Ui?Promise.resolve(v.value.v).then(_,f):x(a[0][2],v)}function _(v){p("next",v)}function f(v){p("throw",v)}function x(v,w){v(w),a.shift(),a.length&&p(a[0][0],a[0][1])}}o(F0,"__asyncGenerator");function Y0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof B0=="function"?B0(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(a){i[a]=t[a]&&function(c){return new Promise(function(p,d){c=t[a](c),r(p,d,c.done,c.value)})}}function r(a,c,p,d){Promise.resolve(d).then(function(_){a({value:_,done:p})},c)}}o(Y0,"__asyncValues");function m(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)}o(m,"__classPrivateFieldGet");function E(t,e,i,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i}o(E,"__classPrivateFieldSet");var Go={};ye(Go,{ChannelError:()=>ko,InnertubeError:()=>b,MissingParamError:()=>Bf,OAuth2Error:()=>ex,ParsingError:()=>st,Platform:()=>W,PlayerError:()=>Tt,SessionError:()=>Tn,base64ToU8:()=>Px,concatMemos:()=>Hx,debugFetch:()=>nS,deepCompare:()=>Yf,escapeStringRegexp:()=>d0,findFunction:()=>f0,generateRandomString:()=>Fi,generateSidAuth:()=>tS,getCookie:()=>oS,getRandomUserAgent:()=>Gi,getStringBetweenStrings:()=>Fe,hasKeys:()=>iS,isTextRun:()=>je,streamToIterable:()=>fx,throwIfMissing:()=>Uo,timeToSeconds:()=>ke,u8ToBase64:()=>Ge});var dx={};ye(dx,{Maybe:()=>Wi,Memo:()=>ti,SuperParsedResult:()=>kt,YTNode:()=>s,observe:()=>X});var Ie,Oe=class{static doLog(e,i,n){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let r=[`[${this.YTJS_TAG}]`];i&&r.push(`[${i}]`),this.log_map_[e](`${r.join("")}:`,...n||[])}static setLevel(...e){this.log_level_=e}};o(Oe,"Log");Ie=Oe;Oe.YTJS_TAG="YOUTUBEJS";Oe.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};Oe.log_map_={[Ie.Level.ERROR]:(...t)=>console.error(...t),[Ie.Level.WARNING]:(...t)=>console.warn(...t),[Ie.Level.INFO]:(...t)=>console.info(...t),[Ie.Level.DEBUG]:(...t)=>console.debug(...t)};Oe.log_level_=[Ie.Level.WARNING];Oe.one_time_warnings_issued_=new Set;Oe.warnOnce=(t,...e)=>{Ie.one_time_warnings_issued_.has(t)||(Ie.doLog(Ie.Level.WARNING,t,e),Ie.one_time_warnings_issued_.add(t))};Oe.warn=(t,...e)=>Ie.doLog(Ie.Level.WARNING,t,e);Oe.error=(t,...e)=>Ie.doLog(Ie.Level.ERROR,t,e);Oe.info=(t,...e)=>Ie.doLog(Ie.Level.INFO,t,e);Oe.debug=(t,...e)=>Ie.doLog(Ie.Level.DEBUG,t,e);var j=Oe;var cx,U0,be,px,le,It,Ut,ji,j0=Symbol("ObservedArray.isObserved"),s=class{constructor(){cx.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>m(this,cx,"m",U0).call(this,i))}as(...e){if(!this.is(...e))throw new st(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new st(`Missing key ${e}`);return new Wi(this[e])}};o(s,"YTNode");cx=new WeakSet,U0=o(function(e){return this.type===e.type},"_YTNode_is");s.type="YTNode";var Wi=class{constructor(e){be.add(this),px.set(this,"Maybe"),le.set(this,void 0),E(this,le,e,"f")}get typeof(){return typeof m(this,le,"f")}string(){return m(this,be,"m",Ut).call(this,"string")}isString(){return m(this,be,"m",It).call(this,"string")}number(){return m(this,be,"m",Ut).call(this,"number")}isNumber(){return m(this,be,"m",It).call(this,"number")}bigint(){return m(this,be,"m",Ut).call(this,"bigint")}isBigint(){return m(this,be,"m",It).call(this,"bigint")}boolean(){return m(this,be,"m",Ut).call(this,"boolean")}isBoolean(){return m(this,be,"m",It).call(this,"boolean")}symbol(){return m(this,be,"m",Ut).call(this,"symbol")}isSymbol(){return m(this,be,"m",It).call(this,"symbol")}undefined(){return m(this,be,"m",Ut).call(this,"undefined")}isUndefined(){return m(this,be,"m",It).call(this,"undefined")}null(){if(m(this,le,"f")!==null)throw new TypeError(`Expected null, got ${typeof m(this,le,"f")}`);return m(this,le,"f")}isNull(){return m(this,le,"f")===null}object(){return m(this,be,"m",Ut).call(this,"object")}isObject(){return m(this,be,"m",It).call(this,"object")}function(){return m(this,be,"m",Ut).call(this,"function")}isFunction(){return m(this,be,"m",It).call(this,"function")}array(){if(!Array.isArray(m(this,le,"f")))throw new TypeError(`Expected array, got ${typeof m(this,le,"f")}`);return m(this,le,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,n){return Reflect.has(e,n)?Reflect.get(i,n):new Wi(Reflect.get(i,n))}})}isArray(){return Array.isArray(m(this,le,"f"))}node(){if(!(m(this,le,"f")instanceof s))throw new TypeError(`Expected YTNode, got ${m(this,le,"f").constructor.name}`);return m(this,le,"f")}isNode(){return m(this,le,"f")instanceof s}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof m(this,le,"f")}`);return m(this,le,"f")}isObserved(){var e;return(e=m(this,le,"f"))===null||e===void 0?void 0:e[j0]}parsed(){if(!(m(this,le,"f")instanceof kt))throw new TypeError(`Expected SuperParsedResult, got ${typeof m(this,le,"f")}`);return m(this,le,"f")}isParsed(){return m(this,le,"f")instanceof kt}any(){return j.warn(m(this,px,"f"),"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),m(this,le,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${m(this,le,"f").constructor.name}`);return m(this,le,"f")}isInstanceof(e){return m(this,le,"f")instanceof e}};o(Wi,"Maybe");px=new WeakMap,le=new WeakMap,be=new WeakSet,It=o(function(e){return typeof m(this,le,"f")===e},"_Maybe_checkPrimative"),Ut=o(function(e){if(!m(this,be,"m",It).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return m(this,le,"f")},"_Maybe_assertPrimative");var kt=class{constructor(e){ji.set(this,void 0),E(this,ji,e,"f")}get is_null(){return m(this,ji,"f")===null}get is_array(){return!this.is_null&&Array.isArray(m(this,ji,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return m(this,ji,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return m(this,ji,"f")}};o(kt,"SuperParsedResult");ji=new WeakMap;function X(t){return new Proxy(t,{get(e,i){return i=="get"?(n,r)=>e.find((a,c)=>{let p=Yf(n,a);return p&&r&&e.splice(c,1),p}):i==j0?!0:i=="getAll"?(n,r)=>e.filter((a,c)=>{let p=Yf(n,a);return p&&r&&e.splice(c,1),p}):i=="matchCondition"?n=>e.find(r=>n(r)):i=="filterType"?(...n)=>X(e.filter(r=>!!r.is(...n))):i=="firstOfType"?(...n)=>e.find(r=>!!r.is(...n)):i=="first"?()=>e[0]:i=="as"?(...n)=>X(e.map(r=>{if(r.is(...n))return r;throw new st(`Expected node of any type ${n.map(a=>a.type).join(", ")}, got ${r.type}`)})):i=="remove"?n=>e.splice(n,1):Reflect.get(e,i)}})}o(X,"observe");var ti=class extends Map{getType(...e){return e=e.flat(),X(e.flatMap(i=>this.get(i.type)||[]))}};o(ti,"Memo");var qx={};ye(qx,{Author:()=>D,ChildElement:()=>Ph,EmojiRun:()=>oi,Format:()=>bg,Text:()=>u,TextRun:()=>ri,Thumbnail:()=>y,VideoDetails:()=>Si});var ge={};ye(ge,{CLIENTS:()=>re,INNERTUBE_HEADERS_BASE:()=>X1,OAUTH:()=>q1,STREAM_HEADERS:()=>jt,SUPPORTED_CLIENTS:()=>Uf,URLS:()=>et});var et=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),q1=Object.freeze({REGEX:Object.freeze({TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')})}),re=Object.freeze({IOS:{NAME_ID:"5",NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME_ID:"1",NAME:"WEB",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME_ID:"76",NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME_ID:"67",NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME_ID:"3",NAME:"ANDROID",VERSION:"18.48.37",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/18.48.37(Linux; U; Android 13; en_US; sdk_gphone64_x86_64 Build/UPB4.230623.005) gzip"},YTSTUDIO_ANDROID:{NAME_ID:"14",NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME_ID:"21",NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME_ID:"85",NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),jt=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),X1=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"}),Uf=["IOS","WEB","YTKIDS","YTMUSIC","ANDROID","YTSTUDIO_ANDROID","YTMUSIC_ANDROID","TV_EMBEDDED"];var l={};ye(l,{addRuntimeParser:()=>Fx,applyCommentsMutations:()=>LT,applyMutations:()=>BT,getDynamicParsers:()=>_k,getParserByName:()=>mf,hasParser:()=>xg,parse:()=>We,parseActions:()=>DT,parseArray:()=>Ve,parseC:()=>MT,parseFormats:()=>jx,parseItem:()=>ie,parseLC:()=>Ux,parseRR:()=>wg,parseResponse:()=>Yx,sanitizeClassName:()=>_f,setParserErrorHandler:()=>mk,shouldIgnore:()=>VT});var on={};ye(on,{AboutChannel:()=>Zf,AboutChannelView:()=>Qf,AccountChannel:()=>em,AccountItemSection:()=>im,AccountItemSectionHeader:()=>tm,AccountSectionList:()=>nm,AddBannerToLiveChatCommand:()=>Xy,AddChatItemAction:()=>t_,AddLiveChatTickerItemAction:()=>Qy,Alert:()=>Nn,AlertWithButton:()=>cm,AnalyticsMainAppKeyMetrics:()=>nv,AnalyticsRoot:()=>ov,AnalyticsShortsCarouselCard:()=>rv,AnalyticsVideo:()=>dm,AnalyticsVodCarouselCard:()=>sv,AnchoredSection:()=>fg,AppendContinuationItemsAction:()=>Ki,AttributionView:()=>fm,AudioOnlyPlayability:()=>mm,AuthorCommentBadge:()=>sh,AutomixPreviewVideo:()=>hm,AvatarView:()=>_m,BackstageImage:()=>gm,BackstagePost:()=>si,BackstagePostThread:()=>lv,BadgeView:()=>ai,BrowseFeedActions:()=>vm,BrowserMediaSession:()=>cv,Button:()=>I,ButtonView:()=>St,C4TabbedHeader:()=>Fn,CallToActionButton:()=>pv,Card:()=>dv,CardCollection:()=>Gm,CarouselHeader:()=>$m,CarouselItem:()=>fv,CarouselLockup:()=>Um,Channel:()=>Km,ChannelAboutFullMetadata:()=>Ys,ChannelAgeGate:()=>mv,ChannelExternalLinkView:()=>Xf,ChannelFeaturedContent:()=>hv,ChannelHeaderLinks:()=>ym,ChannelHeaderLinksView:()=>bm,ChannelMetadata:()=>qm,ChannelMobileHeader:()=>_v,ChannelOptions:()=>Xm,ChannelOwnerEmptyState:()=>gv,ChannelSubMenu:()=>$s,ChannelTagline:()=>Hm,ChannelThumbnailWithLink:()=>xv,ChannelVideoPlayer:()=>vv,Chapter:()=>Qm,ChildVideo:()=>yv,ChipBarView:()=>bv,ChipCloud:()=>Yn,ChipCloudChip:()=>Ye,ChipView:()=>Zm,ClipAdState:()=>Im,ClipCreation:()=>km,ClipCreationScrubber:()=>Tm,ClipCreationTextInput:()=>wm,ClipSection:()=>Sm,CollaboratorInfoCardContent:()=>wv,CollageHeroImage:()=>Tv,CollectionThumbnailView:()=>oh,Comment:()=>Hn,CommentActionButtons:()=>Rn,CommentDialog:()=>gy,CommentReplies:()=>fh,CommentReplyDialog:()=>Un,CommentSimplebox:()=>gh,CommentThread:()=>xh,CommentView:()=>_i,CommentsEntryPointHeader:()=>_h,CommentsEntryPointTeaser:()=>hh,CommentsHeader:()=>hi,CommentsSimplebox:()=>mh,CompactChannel:()=>xy,CompactLink:()=>zn,CompactMix:()=>vy,CompactMovie:()=>yy,CompactPlaylist:()=>by,CompactStation:()=>wy,CompactVideo:()=>Bn,ConfirmDialog:()=>Ty,ContentMetadataView:()=>Kn,ContentPreviewImageView:()=>Dn,ContinuationItem:()=>ce,ConversationBar:()=>Iy,CopyLink:()=>vh,CreatePlaylistDialog:()=>Gf,CreatorHeart:()=>xm,CtaGoToCreatorStudio:()=>av,DataModelSection:()=>pm,DecoratedAvatarView:()=>yh,DecoratedPlayerBar:()=>Ih,DefaultPromoPanel:()=>ky,DescriptionPreviewView:()=>kh,DidYouMean:()=>Sy,DimChatItemAction:()=>Zy,DislikeButtonView:()=>Sh,DownloadButton:()=>Ch,Dropdown:()=>ni,DropdownItem:()=>zf,DynamicTextView:()=>Eh,Element:()=>qn,EmergencyOnebox:()=>Cy,EmojiPicker:()=>dh,EmojiPickerCategory:()=>Ey,EmojiPickerCategoryButton:()=>Py,EmojiPickerUpsellCategory:()=>Ny,EndScreenPlaylist:()=>Rh,EndScreenVideo:()=>Ah,Endscreen:()=>Nh,EndscreenElement:()=>Ry,EngagementPanelSectionList:()=>pi,EngagementPanelTitleHeader:()=>Cm,EomSettingsDisclaimer:()=>Ay,ExpandableMetadata:()=>Mm,ExpandableTab:()=>Xn,ExpandableVideoDescriptionBody:()=>Rm,ExpandedShelfContents:()=>Vy,Factoid:()=>ci,FancyDismissibleDialog:()=>My,FeedFilterChipBar:()=>vt,FeedNudge:()=>Dy,FeedTabbedHeader:()=>Vh,FlexibleActionsView:()=>Mh,GameCard:()=>Am,GameDetails:()=>By,Grid:()=>Ly,GridChannel:()=>Dh,GridHeader:()=>Oy,GridMix:()=>Fy,GridMovie:()=>Yy,GridPlaylist:()=>Bh,GridShow:()=>Uy,GridVideo:()=>Fh,GuideCollapsibleEntry:()=>jy,GuideCollapsibleSectionEntry:()=>Wy,GuideDownloadsEntry:()=>Jy,GuideEntry:()=>nn,GuideSection:()=>Qn,GuideSubscriptionsSection:()=>Yh,HashtagHeader:()=>Uh,HashtagTile:()=>Hy,HeatMarker:()=>bh,Heatmap:()=>wh,HeroPlaylistThumbnail:()=>zy,HighlightsCarousel:()=>Gy,HistorySuggestion:()=>$y,HorizontalCardList:()=>ui,HorizontalList:()=>Vm,HorizontalMovieList:()=>Ky,IconLink:()=>Wh,ImageBannerView:()=>Jh,IncludingResultsFor:()=>qy,InfoPanelContainer:()=>zh,InfoPanelContent:()=>Hh,InfoRow:()=>Ym,InteractiveTabbedHeader:()=>Gh,ItemSection:()=>tt,ItemSectionHeader:()=>Zn,ItemSectionTab:()=>$h,ItemSectionTabbedHeader:()=>eo,KidsBlocklistPicker:()=>vT,KidsBlocklistPickerItem:()=>mg,KidsCategoriesHeader:()=>yT,KidsCategoryTab:()=>hg,KidsHomeScreen:()=>bT,LikeButton:()=>qh,LikeButtonView:()=>Xh,LiveChat:()=>Qh,LiveChatActionPanel:()=>n_,LiveChatAuthorBadge:()=>Ib,LiveChatAutoModMessage:()=>eb,LiveChatBanner:()=>e_,LiveChatBannerHeader:()=>Zh,LiveChatBannerPoll:()=>tb,LiveChatDialog:()=>kb,LiveChatHeader:()=>l_,LiveChatItemList:()=>c_,LiveChatMembershipItem:()=>ib,LiveChatMessageInput:()=>Sb,LiveChatPaidMessage:()=>nb,LiveChatPaidSticker:()=>ob,LiveChatParticipant:()=>p_,LiveChatParticipantsList:()=>d_,LiveChatPlaceholderItem:()=>rb,LiveChatProductItem:()=>sb,LiveChatRestrictedParticipation:()=>ab,LiveChatTextMessage:()=>ub,LiveChatTickerPaidMessageItem:()=>i_,LiveChatTickerPaidStickerItem:()=>lb,LiveChatTickerSponsorItem:()=>cb,LiveChatViewerEngagementMessage:()=>pb,LockupMetadataView:()=>f_,LockupView:()=>m_,MacroMarkersInfoItem:()=>Em,MacroMarkersList:()=>Pm,MacroMarkersListItem:()=>Vn,MarkChatItemAsDeletedAction:()=>fb,MarkChatItemsByAuthorAsDeletedAction:()=>mb,Menu:()=>F,MenuNavigationItem:()=>h_,MenuPopup:()=>Cb,MenuServiceItem:()=>vi,MenuServiceItemDownload:()=>Eb,MerchandiseItem:()=>Rb,MerchandiseShelf:()=>v_,Message:()=>gi,MetadataBadge:()=>ze,MetadataRow:()=>Ab,MetadataRowContainer:()=>y_,MetadataRowHeader:()=>Vb,MetadataScreen:()=>Mb,MicroformatData:()=>yi,Mix:()=>Db,ModalWithTitleAndButton:()=>Bb,Movie:()=>Lb,MovingThumbnail:()=>Ob,MultiMarkersPlayerBar:()=>Th,MultiPageMenu:()=>Pb,MultiPageMenuNotificationSection:()=>Nb,MusicCardShelf:()=>Fb,MusicCardShelfHeaderBasic:()=>b_,MusicCarouselShelf:()=>Kb,MusicCarouselShelfBasicHeader:()=>w_,MusicDescriptionShelf:()=>E_,MusicDetailHeader:()=>qb,MusicDownloadStateBadge:()=>Xb,MusicEditablePlaylistDetailHeader:()=>Qb,MusicElementHeader:()=>Zb,MusicHeader:()=>ew,MusicImmersiveHeader:()=>tw,MusicInlineBadge:()=>io,MusicItemThumbnailOverlay:()=>Pt,MusicLargeCardItemCarousel:()=>iw,MusicMenuItemDivider:()=>__,MusicMultiRowListItem:()=>T_,MusicMultiSelectMenu:()=>g_,MusicMultiSelectMenuItem:()=>to,MusicNavigationButton:()=>I_,MusicPlayButton:()=>no,MusicPlaylistEditHeader:()=>nw,MusicPlaylistShelf:()=>ow,MusicQueue:()=>R_,MusicResponsiveHeader:()=>rw,MusicResponsiveListItem:()=>bi,MusicResponsiveListItemFixedColumn:()=>k_,MusicResponsiveListItemFlexColumn:()=>S_,MusicShelf:()=>sw,MusicSideAlignedItem:()=>aw,MusicSortFilterButton:()=>uw,MusicTastebuilderShelf:()=>lw,MusicTastebuilderShelfThumbnail:()=>A_,MusicThumbnail:()=>Ne,MusicTwoRowItem:()=>C_,MusicVisualHeader:()=>cw,NavigationEndpoint:()=>g,Notification:()=>V_,OpenPopupAction:()=>$f,PageHeader:()=>Nt,PageHeaderView:()=>M_,PageIntroduction:()=>D_,PdgCommentChip:()=>ah,PivotButton:()=>B_,PlayerAnnotationsExpanded:()=>L_,PlayerCaptionsTracklist:()=>O_,PlayerControlsOverlay:()=>pw,PlayerErrorMessage:()=>dw,PlayerLegacyDesktopYpcOffer:()=>fw,PlayerLegacyDesktopYpcTrailer:()=>up,PlayerLiveStoryboardSpec:()=>U_,PlayerMicroformat:()=>nt,PlayerOverflow:()=>F_,PlayerOverlay:()=>J_,PlayerOverlayAutoplay:()=>j_,PlayerStoryboardSpec:()=>Hi,Playlist:()=>Et,PlaylistCustomThumbnail:()=>Gn,PlaylistHeader:()=>H_,PlaylistInfoCardContent:()=>mw,PlaylistMetadata:()=>z_,PlaylistPanel:()=>N_,PlaylistPanelVideo:()=>Jt,PlaylistPanelVideoWrapper:()=>P_,PlaylistSidebar:()=>hw,PlaylistSidebarPrimaryInfo:()=>G_,PlaylistSidebarSecondaryInfo:()=>$_,PlaylistVideo:()=>ro,PlaylistVideoList:()=>_w,PlaylistVideoThumbnail:()=>$n,Poll:()=>gw,PollHeader:()=>db,Post:()=>K_,PostMultiImage:()=>xw,ProductList:()=>Nm,ProductListHeader:()=>vw,ProductListItem:()=>yw,ProfileColumn:()=>bw,ProfileColumnStats:()=>ww,ProfileColumnStatsEntry:()=>Tw,ProfileColumnUserInfo:()=>Iw,Quiz:()=>kw,RecognitionShelf:()=>Sw,ReelItem:()=>so,ReelPlayerHeader:()=>q_,ReelPlayerOverlay:()=>Cw,ReelShelf:()=>On,RelatedChipCloud:()=>X_,RemoveBannerForLiveChatCommand:()=>hb,RemoveChatItemAction:()=>_b,RemoveChatItemByAuthorAction:()=>gb,ReplaceChatItemAction:()=>xb,ReplayChatItemAction:()=>vb,RichGrid:()=>wi,RichItem:()=>Ew,RichListHeader:()=>Pw,RichMetadata:()=>Up,RichMetadataRow:()=>Wp,RichSection:()=>Nw,RichShelf:()=>Q_,SearchBox:()=>Rw,SearchFilter:()=>Z_,SearchFilterGroup:()=>ao,SearchFilterOptionsDialog:()=>Aw,SearchHeader:()=>eg,SearchRefinementCard:()=>qi,SearchSubMenu:()=>tg,SearchSuggestion:()=>jh,SearchSuggestionsSection:()=>Vw,SecondarySearchContainer:()=>Mw,SectionList:()=>ve,SegmentedLikeDislikeButton:()=>sn,SegmentedLikeDislikeButtonView:()=>an,SettingBoolean:()=>Dw,SettingsCheckbox:()=>ig,SettingsOptions:()=>lo,SettingsSidebar:()=>ng,SettingsSwitch:()=>uo,SharedPost:()=>og,Shelf:()=>co,ShortsLockupView:()=>po,ShowCustomThumbnail:()=>Lh,ShowLiveChatActionPanelAction:()=>yb,ShowLiveChatDialogAction:()=>bb,ShowLiveChatTooltipCommand:()=>wb,ShowingResultsFor:()=>Bw,SimpleCardContent:()=>Lw,SimpleCardTeaser:()=>Ow,SimpleMenuHeader:()=>x_,SimpleTextSection:()=>Fw,SingleActionEmergencySupport:()=>Yw,SingleColumnBrowseResults:()=>rg,SingleColumnMusicWatchNextResults:()=>Uw,SingleHeroImage:()=>jw,SlimOwner:()=>Ww,SlimVideoMetadata:()=>Jw,SortFilterHeader:()=>Kh,SortFilterSubMenu:()=>gt,SponsorCommentBadge:()=>uh,StatRow:()=>uv,StructuredDescriptionContent:()=>Qi,StructuredDescriptionPlaylistLockup:()=>jm,SubFeedOption:()=>sg,SubFeedSelector:()=>Hw,SubscribeButton:()=>Se,SubscriptionNotificationToggleButton:()=>zm,Tab:()=>Re,Tabbed:()=>zw,TabbedSearchResults:()=>Gw,TextHeader:()=>$w,ThumbnailBadgeView:()=>th,ThumbnailHoverOverlayView:()=>eh,ThumbnailLandscapePortrait:()=>Kw,ThumbnailOverlayBadgeView:()=>ih,ThumbnailOverlayBottomPanel:()=>Oh,ThumbnailOverlayEndorsement:()=>qw,ThumbnailOverlayHoverText:()=>Xw,ThumbnailOverlayInlineUnplayable:()=>Qw,ThumbnailOverlayLoadingPreview:()=>Zw,ThumbnailOverlayNowPlaying:()=>eT,ThumbnailOverlayPinking:()=>tT,ThumbnailOverlayPlaybackStatus:()=>iT,ThumbnailOverlayResumePlayback:()=>nT,ThumbnailOverlaySidePanel:()=>oT,ThumbnailOverlayTimeStatus:()=>Xi,ThumbnailOverlayToggleButton:()=>rT,ThumbnailView:()=>nh,TimedMarkerDecoration:()=>sT,TitleAndButtonListHeader:()=>aT,ToggleButton:()=>xe,ToggleButtonView:()=>xi,ToggleMenuServiceItem:()=>uT,Tooltip:()=>lT,TopicChannelDetails:()=>cT,Transcript:()=>Pn,TranscriptFooter:()=>om,TranscriptSearchBox:()=>rm,TranscriptSearchPanel:()=>lm,TranscriptSectionHeader:()=>sm,TranscriptSegment:()=>am,TranscriptSegmentList:()=>um,TwoColumnBrowseResults:()=>Rt,TwoColumnSearchResults:()=>ag,TwoColumnWatchNextResults:()=>lg,UniversalWatchCard:()=>cg,UpdateDateTextAction:()=>o_,UpdateDescriptionAction:()=>r_,UpdateEngagementPanelAction:()=>iv,UpdateLiveChatPollAction:()=>Tb,UpdateTitleAction:()=>s_,UpdateToggleButtonTextAction:()=>a_,UpdateViewershipAction:()=>u_,UploadTimeFactoid:()=>Bm,UpsellDialog:()=>pT,VerticalList:()=>dT,VerticalWatchCardList:()=>fT,Video:()=>Mn,VideoAttributeView:()=>li,VideoAttributesSectionView:()=>Jm,VideoCard:()=>Dm,VideoDescriptionCourseSection:()=>Wm,VideoDescriptionHeader:()=>Om,VideoDescriptionInfocardsSection:()=>Fm,VideoDescriptionMusicSection:()=>Ln,VideoDescriptionTranscriptSection:()=>Is,VideoInfoCardContent:()=>mT,VideoOwner:()=>fo,VideoPrimaryInfo:()=>pg,VideoSecondaryInfo:()=>Zd,ViewCountFactoid:()=>Lm,WatchCardCompactVideo:()=>dg,WatchCardHeroVideo:()=>hT,WatchCardRichHeader:()=>_T,WatchCardSectionSequence:()=>gT,WatchNextEndScreen:()=>W_,WatchNextTabbedResults:()=>xT,YpcTrailer:()=>Y_});var Ji,jf=class{constructor(e,i){Ji.set(this,void 0),E(this,Ji,new W.shim.Cache(e,i),"f")}get cache_dir(){return m(this,Ji,"f").cache_dir}get(e){return m(this,Ji,"f").get(e)}set(e,i){return m(this,Ji,"f").set(e,i)}remove(e){return m(this,Ji,"f").remove(e)}};o(jf,"UniversalCache");Ji=new WeakMap;var Q1=jf;var En,Wf=class extends EventTarget{constructor(){super(),En.set(this,new Map)}emit(e,...i){let n=new W.shim.CustomEvent(e,{detail:i});this.dispatchEvent(n)}on(e,i){let n=o(r=>{r instanceof W.shim.CustomEvent?i(...r.detail):i(r)},"wrapper");m(this,En,"f").set(i,n),this.addEventListener(e,n)}once(e,i){let n=o(r=>{r instanceof W.shim.CustomEvent?i(...r.detail):i(r),this.off(e,i)},"wrapper");m(this,En,"f").set(i,n),this.addEventListener(e,n)}off(e,i){let n=m(this,En,"f").get(i);n&&(this.removeEventListener(e,n),m(this,En,"f").delete(i))}};o(Wf,"EventEmitterLike");En=new WeakMap;var Wo=Wf;var zi={};ye(zi,{chooseFormat:()=>ev,download:()=>II,toDash:()=>Z0});var Z1={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function W0(t){return t.replace(/([&"<>'])/g,(e,i)=>Z1[i])}o(W0,"escapeXMLString");function eI(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}o(eI,"normalizeTag");function se(t,e,...i){let n=i.flat().map(r=>typeof r=="string"?tI(r):r);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:n})):{type:eI(t),props:Object.assign(Object.assign({},e),{children:n})}}o(se,"createElement");function tI(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}o(tI,"createTextElement");function J0(t){return T(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return W0(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(n=>!["children","nodeValue"].includes(n)&&t.props[n]!==void 0).map(n=>`${n}="${W0(`${t.props[n]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(n=>!!n).map(n=>J0(n)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}o(J0,"renderElementToString");function H0(t){return T(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield J0(yield t)}`})}o(H0,"renderToString");function z0(t){return t.children}o(z0,"Fragment");var Jo=class extends s{constructor(e){super();let i=e.spec.split("|"),n=new URL(i.shift());this.boards=i.map((r,a)=>{let[c,p,d,_,f,x,v,w]=r.split("#");n.searchParams.set("sigh",w);let k=Math.ceil(parseInt(d,10)/(parseInt(_,10)*parseInt(f,10)));return{type:"vod",template_url:n.toString().replace("$L",a).replace("$N",v),thumbnail_width:parseInt(c,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(d,10),interval:parseInt(x,10),columns:parseInt(_,10),rows:parseInt(f,10),storyboard_count:k}})}};o(Jo,"PlayerStoryboardSpec");Jo.type="PlayerStoryboardSpec";var Hi=Jo;var nI="StreamingInfo";function oI(t,e){var i,n,r;let a=new Map,c=t.some(p=>!!p.audio_track);for(let p of t){if((!p.index_range||!p.init_range)&&!p.is_type_otf&&!e)continue;let d=p.mime_type.split(";")[0],_=(i=Fe(p.mime_type,'codecs="','"'))===null||i===void 0?void 0:i.split(".")[0],f=p.color_info?Object.values(p.color_info).join("-"):"",x=((n=p.audio_track)===null||n===void 0?void 0:n.id)||"",v=p.is_drc?"drc":"",w=`${d}-${_}-${f}-${x}-${v}`;a.has(w)||a.set(w,[]),(r=a.get(w))===null||r===void 0||r.push(p)}return{groups:Array.from(a.values()),has_multiple_audio_tracks:c}}o(oI,"getFormatGroupings");function $0(t,e){if(t.length>1&&new Set(t.map(i=>Fe(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),Fe(t[0].mime_type,'codecs="','"')}o($0,"hoistCodecsIfPossible");function K0(t,e,i){if(t.length>1&&new Set(t.map(n=>n.fps)).size===1)return i.push(e),Number(t[0][e])}o(K0,"hoistNumberAttributeIfPossible");function rI(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}o(rI,"hoistAudioChannelsIfPossible");function sI(t,e){return T(this,void 0,void 0,function*(){var i;let n=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:jt,redirect:"follow"}),r=n.url.replace("&rn=0","").replace("&sq=0",""),a=yield n.text(),c=(i=Fe(a,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!c)throw new b("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let d of c){let _=d.trim();if(_.length===0)continue;let f,x=Fe(_,"(r=",")");x&&(f=parseInt(x)),p.push({duration:parseInt(_),repeat_count:f})}return{init_url:`${r}&sq=0`,media_url:`${r}&sq=$Number$`,timeline:p}})}o(sI,"getOTFSegmentTemplate");function q0(t,e){return T(this,void 0,void 0,function*(){let i=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:jt,redirect:"follow"}),n=parseInt(i.headers.get("X-Head-Time-Millis")||""),r=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(n)||isNaN(r))throw new b("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:n/1e3,segment_count:r}})}o(q0,"getPostLiveDvrInfo");function aI(t,e,i,n,r,a){return T(this,void 0,void 0,function*(){if(!t.item){let c=new URL(yield e.decipher(r));c.searchParams.set("cpn",a||"");let p=i(c).toString();t.item=yield q0(p,n)}return t.item.duration})}o(aI,"getPostLiveDvrDuration");function X0(t,e,i,n,r,a){return T(this,void 0,void 0,function*(){let c=new URL(yield t.decipher(n));c.searchParams.set("cpn",r||"");let p=e(c).toString();if(t.is_type_otf){if(!i)throw new b("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return sI(p,i)}}}if(a){if(!i)throw new b("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let _=t.target_duration_dec;if(typeof _!="number")throw new b("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,getSegmentTemplate(){return T(this,void 0,void 0,function*(){return a.item||(a.item=yield q0(p,i)),{media_url:`${p}&sq=$Number$`,timeline:[{duration:_*1e3,repeat_count:a.item.segment_count}]}})}}}if(!t.index_range||!t.init_range)throw new b("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:p,index_range:t.index_range,init_range:t.init_range}})}o(X0,"getSegmentInfo");function uI(t,e,i,n,r,a,c){return T(this,void 0,void 0,function*(){new URL(yield t.decipher(r)).searchParams.set("cpn",a||"");let d=[t.itag.toString()];return t.audio_track&&d.push(t.audio_track.id),t.is_drc&&d.push("drc"),{uid:d.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Fe(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:yield X0(t,i,n,r,a,c)}})}o(uI,"getAudioRepresentation");function lI(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return t.is_dubbed&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}o(lI,"getTrackRoles");function cI(t,e,i,n,r,a,c){return T(this,void 0,void 0,function*(){var p;let d=t[0],{audio_track:_}=d,f=[],x=!!c,v;return _?x&&d.is_drc?v=c.label_drc_mutiple(_.display_name):v=_.display_name:x&&(v=d.is_drc?c.label_drc:c.label_original),{mime_type:d.mime_type.split(";")[0],language:(p=d.language)!==null&&p!==void 0?p:void 0,codecs:$0(t,f),audio_sample_rate:K0(t,"audio_sample_rate",f),track_name:v,track_roles:lI(d,x),channels:rI(t,f),representations:yield Promise.all(t.map(k=>uI(k,f,e,i,n,r,a)))}})}o(cI,"getAudioSet");var pI={BT709:"1",BT2020:"9"},G0={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},dI={BT709:"1",BT2020_NCL:"14"};function fI(t){var e;let i=t.color_info,n,r,a;if(i){if(i.primaries&&(n=pI[i.primaries]),i.transfer_characteristics&&(r=G0[i.transfer_characteristics]),i.matrix_coefficients&&(a=dI[i.matrix_coefficients],!a)){let p=new URL(t.url),d=JSON.parse(JSON.stringify(t));d.url="REDACTED",d.signature_cipher="REDACTED",d.cipher="REDACTED",j.warn(nI,`Unknown matrix coefficients "${i.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${W.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${p.searchParams.get("c")}
format:`,d)}}else!((e=Fe(t.mime_type,'codecs="','"'))===null||e===void 0)&&e.startsWith("avc1")&&(r=G0.BT709);return{primaries:n,transfer_characteristics:r,matrix_coefficients:a}}o(fI,"getColorInfo");function mI(t,e,i,n,r,a,c){return T(this,void 0,void 0,function*(){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Fe(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:yield X0(t,e,r,n,a,c)}})}o(mI,"getVideoRepresentation");function hI(t,e,i,n,r,a){return T(this,void 0,void 0,function*(){let c=t[0],p=fI(c),d=[];return{mime_type:c.mime_type.split(";")[0],color_info:p,codecs:$0(t,d),fps:K0(t,"fps",d),representations:yield Promise.all(t.map(f=>mI(f,e,d,i,n,r,a)))}})}o(hI,"getVideoSet");function _I(t){var e;let i=new Map,n=t.is(Hi)?t.boards:[t.board];for(let r of n){let a=new URL(r.template_url).pathname.split(".").pop(),c=`image/${a==="jpg"?"jpeg":a}`;i.has(c)||i.set(c,[]),(e=i.get(c))===null||e===void 0||e.push(r)}return i}o(_I,"getStoryboardInfo");function gI(t,e,i,n,r){return T(this,void 0,void 0,function*(){let a=e.template_url,c=i(new URL(a.replace("$M","0"))),p=r.response?r.response:t.session.http.fetch_function(c,{method:"HEAD",headers:jt});return r.response=p,(yield p).headers.get("Content-Type")||n})}o(gI,"getStoryboardMimeType");function xI(t,e,i){return T(this,void 0,void 0,function*(){let n=e.template_url,r=[],a=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let _=0;_<a;_++){let f=new URL(n.replace("$M",_.toString())),x=_===0&&i.response?i.response:t.session.http.fetch_function(f,{method:"HEAD",headers:jt});_===0&&(i.response=x),r.push(x)}let c=yield Promise.all(r),p=[];for(let _ of c)p.push(parseInt(_.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}o(xI,"getStoryboardBitrate");function vI(t,e,i,n,r){let a=i.template_url,c=new URL(a.replace("$M","$Number$")),p;return i.type==="vod"?p=t/i.storyboard_count:p=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return xI(e,i,r)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(p),template_url:n(c).toString(),getURL(_){return c.toString().replace("$Number$",_.toString())}}}o(vI,"getImageRepresentation");function yI(t,e,i,n){let r=_I(i),a={};return Array.from(r.entries()).map(([c,p])=>({probable_mime_type:c,getMimeType(){return gI(e,p[0],n,c,a)},representations:p.map(d=>vI(t,e,d,n,a))}))}o(yI,"getImageSets");function bI(t,e,i){let n=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(r=>{let a=new URL(r.base_url);a.searchParams.set("fmt",e);let c=["caption"];return a.searchParams.has("tlang")&&c.push("dub"),{mime_type:n,language:r.language_code,track_name:r.name.toString(),track_roles:c,representation:{uid:`text-${r.vss_id}`,base_url:i(a).toString()}}})}o(bI,"getTextSets");function Jf(t){return T(this,arguments,void 0,function*(e,i=!1,n=x=>x,r,a,c,p,d,_,f){if(!e)throw new b("Streaming data not available");let x=r?e.adaptive_formats.filter(G=>!r(G)):e.adaptive_formats,v,w;if(i){if(w={},!p)throw new b("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");v=o(()=>w?aI(w,x[0],n,p,c,a):Promise.resolve(0),"getDuration")}else{let G=x[0].approx_duration_ms/1e3;v=o(()=>Promise.resolve(G),"getDuration")}let{groups:k,has_multiple_audio_tracks:S}=oI(x,i),{video_groups:P,audio_groups:A}=k.reduce((G,Y)=>Y[0].has_audio?(S&&!Y[0].audio_track||G.audio_groups.push(Y),G):(G.video_groups.push(Y),G),{video_groups:[],audio_groups:[]}),M;A.flat().some(G=>G.is_drc)&&(M={label_original:(f==null?void 0:f.label_original)||"Original",label_drc:(f==null?void 0:f.label_drc)||"Stable Volume",label_drc_mutiple:(f==null?void 0:f.label_drc_mutiple)||(G=>`${G} (Stable Volume)`)});let B=yield Promise.all(A.map(G=>cI(G,n,p,c,a,w,M))),$=yield Promise.all(P.map(G=>hI(G,n,c,p,a,w))),te=[];if(d&&p){let G;if(d.is(Hi))G=x[0].approx_duration_ms/1e3;else{let Y=x[0].target_duration_dec;if(typeof Y!="number")throw new b("Format is missing target_duration_dec",{format:x[0]});G=Y}te=yI(G,p,d,n)}let ue=[];if(_&&(f==null?void 0:f.captions_format)){if(f.captions_format!=="vtt"&&f.captions_format!=="ttml")throw new b("Invalid captions format",f.captions_format);ue=bI(_,f.captions_format,n)}return{getDuration:v,audio_sets:B,video_sets:$,image_sets:te,text_sets:ue}})}o(Jf,"getStreamingInfo");function wI(t){return T(this,arguments,void 0,function*({info:e}){if(!e.is_oft&&!e.is_post_live_dvr)return null;let i=yield e.getSegmentTemplate();return se("segment-template",{startNumber:i.init_url?"1":"0",timescale:"1000",initialization:i.init_url,media:i.media_url},se("segment-timeline",null,i.timeline.map(n=>se("s",{d:n.duration,r:n.repeat_count}))))})}o(wI,"OTFPostLiveDvrSegmentInfo");function Q0({info:t}){return t.is_oft||t.is_post_live_dvr?se(wI,{info:t}):se(z0,null,se("base-url",null,t.base_url),se("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},se("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}o(Q0,"SegmentInfo");function TI(t){return T(this,arguments,void 0,function*({streamingData:e,isPostLiveDvr:i,transformURL:n,rejectFormat:r,cpn:a,player:c,actions:p,storyboards:d,captionTracks:_,options:f}){let{getDuration:x,audio_sets:v,video_sets:w,image_sets:k,text_sets:S}=yield Jf(e,i,n,r,a,c,p,d,_,f);return se("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${yield x()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},se("period",null,v.map((P,A)=>se("adaptation-set",{id:A,mimeType:P.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:P.language,codecs:P.codecs,audioSamplingRate:P.audio_sample_rate,contentType:"audio"},P.track_roles&&P.track_roles.map(M=>se("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:M})),P.track_name&&se("label",{id:A},P.track_name),P.channels&&se("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:P.channels}),P.representations.map(M=>se("representation",{id:M.uid,bandwidth:M.bitrate,codecs:M.codecs,audioSamplingRate:M.audio_sample_rate},M.channels&&se("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:M.channels}),se(Q0,{info:M.segment_info}))))),w.map((P,A)=>se("adaptation-set",{id:A+v.length,mimeType:P.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:P.codecs,maxPlayoutRate:"1",frameRate:P.fps,contentType:"video"},P.color_info.primaries&&se("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:P.color_info.primaries}),P.color_info.transfer_characteristics&&se("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:P.color_info.transfer_characteristics}),P.color_info.matrix_coefficients&&se("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:P.color_info.matrix_coefficients}),P.representations.map(M=>se("representation",{id:M.uid,bandwidth:M.bitrate,width:M.width,height:M.height,codecs:M.codecs,frameRate:M.fps},se(Q0,{info:M.segment_info}))))),k.map((P,A)=>T(this,void 0,void 0,function*(){return se("adaptation-set",{id:A+v.length+w.length,mimeType:yield P.getMimeType(),contentType:"image"},P.representations.map(M=>T(this,void 0,void 0,function*(){return se("representation",{id:`thumbnails_${M.thumbnail_width}x${M.thumbnail_height}`,bandwidth:yield M.getBitrate(),width:M.sheet_width,height:M.sheet_height},se("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${M.columns}x${M.rows}`}),se("segment-template",{media:M.template_url,duration:M.template_duration,startNumber:"0"}))})))})),S.map((P,A)=>se("adaptation-set",{id:A+v.length+w.length+k.length,mimeType:P.mime_type,lang:P.language,contentType:"text"},P.track_roles.map(M=>se("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:M})),se("label",{id:A+v.length},P.track_name),se("representation",{id:P.representation.uid,bandwidth:"0"},se("base-url",null,P.representation.base_url))))))})}o(TI,"DashManifest");function Z0(t,e=!1,i=f=>f,n,r,a,c,p,d,_){if(!t)throw new b("Streaming data not available");return H0(se(TI,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:_,rejectFormat:n,cpn:r,player:a,actions:c,storyboards:p,captionTracks:d}))}o(Z0,"toDash");function II(t,e,i,n,r,a){return T(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new b("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new b("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!n)throw new b("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let c=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=ev(c,n),d=yield p.decipher(r);if(c.type==="video+audio"&&!t.range){let S=yield e.session.http.fetch_function(`${d}&cpn=${a}`,{method:"GET",headers:jt,redirect:"follow"});if(!S.ok)throw new b("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:S});let P=S.body;if(!P)throw new b("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:S});return P}let _=1048576*10,f=t.range?t.range.start:0,x=t.range?t.range.end:_,v=!1,w;return new W.shim.ReadableStream({start(){},pull:S=>T(this,void 0,void 0,function*(){if(v){S.close();return}return(x>=(p.content_length?p.content_length:0)||t.range)&&(v=!0),new Promise((P,A)=>T(this,void 0,void 0,function*(){var M,B,$,te;try{w=new AbortController;let Y=yield e.session.http.fetch_function(`${d}&cpn=${a}&range=${f}-${x||""}`,{method:"GET",headers:Object.assign({},jt),signal:w.signal});if(!Y.ok)throw new b("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:Y});let V=Y.body;if(!V)throw new b("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:Y});try{for(var ue=!0,pe=Y0(fx(V)),G;G=yield pe.next(),M=G.done,!M;ue=!0){te=G.value,ue=!1;let q=te;S.enqueue(q)}}catch(q){B={error:q}}finally{try{!ue&&!M&&($=pe.return)&&(yield $.call(pe))}finally{if(B)throw B.error}}f=x+1,x+=_,P()}catch(Y){A(Y)}}))}),cancel(S){return T(this,void 0,void 0,function*(){w.abort(S)})}},{highWaterMark:1,size(S){return S.byteLength}})})}o(II,"download");function ev(t,e){if(!e)throw new b("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],n=t.type?t.type.includes("audio"):!0,r=t.type?t.type.includes("video"):!0,a=t.language||"original",c=t.quality||"best",p=-1,d=["best","bestefficiency"].includes(c),_=c!=="best",f=i.filter(x=>n&&!x.has_audio||r&&!x.has_video||t.format!=="any"&&!x.mime_type.includes(t.format||"mp4")||!d&&x.quality_label!==c?!1:(x.width&&p<x.width&&(p=x.width),!0));if(!f.length)throw new b("No matching formats found",{options:t});if(d&&r&&(f=f.filter(x=>x.width===p)),n&&!r){let x=f.filter(v=>a!=="original"?!v.has_video&&!v.has_text&&v.language===a:!v.has_video&&!v.has_text&&v.is_original);x.length>0&&(f=x)}return _?f.sort((x,v)=>x.bitrate-v.bitrate):f.sort((x,v)=>v.bitrate-x.bitrate),f[0]}o(ev,"chooseFormat");var mx,ii,hx,Ho,tv,Hf=class{constructor(e,i,n){mx.add(this),ii.set(this,void 0),hx.set(this,void 0),Ho.set(this,void 0),E(this,ii,e,"f"),E(this,hx,i,"f"),E(this,Ho,n||W.shim.fetch,"f")}get fetch_function(){return m(this,Ho,"f")}fetch(e,i){return T(this,arguments,void 0,function*(n,r,a={}){let c=et.API.PRODUCTION_1+m(this,ii,"f").api_version,p=(r==null?void 0:r.baseURL)||c,d=typeof n=="string"?!p.endsWith("/")&&!n.startsWith("/")?new URL(`${p}/${n}`):new URL(p+n):n instanceof URL?n:new URL(n.url,p),_=(r==null?void 0:r.headers)||(n instanceof W.shim.Request?n.headers:new W.shim.Headers)||new W.shim.Headers,f=(r==null?void 0:r.body)||(n instanceof W.shim.Request?n.body:void 0),x=new W.shim.Headers(_);x.set("Accept","*/*"),x.set("Accept-Language","*"),x.set("X-Goog-Visitor-Id",(a==null?void 0:a.visitor_data)||m(this,ii,"f").context.client.visitorData||""),x.set("X-Youtube-Client-Version",m(this,ii,"f").context.client.clientVersion||"");let v=Object.values(re).find(M=>M.NAME===m(this,ii,"f").context.client.clientName);v&&x.set("X-Youtube-Client-Name",v.NAME_ID),W.shim.server&&(x.set("User-Agent",Gi("desktop")),x.set("Origin",d.origin)),d.searchParams.set("prettyPrint","false"),d.searchParams.set("alt","json");let w=x.get("Content-Type"),k=f,S=p===c||p===et.YT_UPLOAD;if(w==="application/json"&&S&&typeof f=="string"){let M=JSON.parse(f),B=Object.assign(Object.assign({},M),{context:JSON.parse(JSON.stringify(m(this,ii,"f").context))});m(this,mx,"m",tv).call(this,B.context,B.client),x.set("X-Youtube-Client-Version",B.context.client.clientVersion);let $=Object.values(re).find(te=>te.NAME===B.context.client.clientName);$&&x.set("X-Youtube-Client-Name",$.NAME_ID),delete B.client,B.context.client.clientName==="ANDROID"||B.context.client.clientName==="ANDROID_MUSIC"?(x.set("User-Agent",re.ANDROID.USER_AGENT),x.set("X-GOOG-API-FORMAT-VERSION","2")):B.context.client.clientName==="iOS"&&x.set("User-Agent",re.IOS.USER_AGENT),k=JSON.stringify(B)}else w==="application/x-protobuf"&&W.shim.server&&(x.set("User-Agent",re.ANDROID.USER_AGENT),x.set("X-GOOG-API-FORMAT-VERSION","2"),x.delete("X-Youtube-Client-Version"));let P=new W.shim.Request(d,n instanceof W.shim.Request?n:r),A=yield m(this,Ho,"f").call(this,P,Object.assign({body:k,headers:x,redirect:n instanceof W.shim.Request?n.redirect:(r==null?void 0:r.redirect)||"follow"},W.shim.runtime!=="cf-worker"?{credentials:"include"}:{}));if(A.ok)return A;throw new b(`Request to ${A.url} failed with status ${A.status}`,yield A.text())})}};o(Hf,"HTTPClient");ii=new WeakMap,hx=new WeakMap,Ho=new WeakMap,mx=new WeakSet,tv=o(function(e,i){if(!!i){if(!Uf.includes(i.toUpperCase()))throw new b(`Invalid client: ${i}`,{available_innertube_clients:Uf});switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=re.ANDROID.SDK_VERSION,e.client.userAgent=re.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i.toUpperCase()){case"IOS":e.client.deviceMake="Apple",e.client.deviceModel=re.IOS.DEVICE_MODEL,e.client.clientVersion=re.IOS.VERSION,e.client.clientName=re.IOS.NAME,e.client.platform="MOBILE",e.client.osName="iOS",delete e.client.browserName,delete e.client.browserVersion;break;case"YTMUSIC":e.client.clientVersion=re.YTMUSIC.VERSION,e.client.clientName=re.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=re.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=re.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=re.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=re.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=re.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=re.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=re.TV_EMBEDDED.NAME,e.client.clientVersion=re.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:et.YT_BASE};break;case"YTKIDS":e.client.clientVersion=re.WEB_KIDS.VERSION,e.client.clientName=re.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}}},"_HTTPClient_adjustContext");var _x=Hf;var _t={};ye(_t,{compress:()=>kI,decompress:()=>SI});function kI(t){let e=[],i={};for(let a=0;a<256;a++)i[String.fromCharCode(a)]=a;let n="",r=256;for(let a=0;a<t.length;a++){let c=t[a],p=n+c;i.hasOwnProperty(p)?n=p:(e.push(i[n]),i[p]=r++,n=c)}return n!==""&&e.push(i[n]),e.map(a=>String.fromCharCode(a)).join("")}o(kI,"compress");function SI(t){let e={},i=t.split(""),n=[i.shift()],r=i.length>>>0,a=256,c=n[0],p=c;for(let d=0;d<r;++d){let _=i[d].charCodeAt(0),f=_<256?i[d]:e[_]?e[_]:p+c;n.push(f),c=f.charAt(0),e[a++]=p+c,p=f}return n.join("")}o(SI,"decompress");var zo=class{constructor(e){this.buffer=e,this.offset=0}readVarInt(){let e=this.buffer[this.offset],i=this.varintSize(e),n=0,r=0;if(i!==5){r=8-i;let a=(1<<r)-1;n|=e&a}for(let a=1;a<i;a++)n|=this.buffer[this.offset+a]<<r,r+=8;return this.offset+=i,n}varintSize(e){let i=0;for(let n=7;n>=4&&e&1<<n;n--)i++;return Math.min(i+1,5)}parse(){let e=[];for(;this.offset<this.buffer.length;){let i=this.readVarInt(),n=this.readVarInt(),r=this.buffer.slice(this.offset,this.offset+n);this.offset+=n,e.push({type:i,size:n,data:r})}return e}};o(zo,"UMP");var $o=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint||e.command)}};o($o,"Button");$o.type="Button";var I=$o;var Ko=class extends s{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new g(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};o(Ko,"DropdownItem");Ko.type="DropdownItem";var zf=Ko;var qo=class extends s{constructor(e){super(),this.label=e.label||"",this.entries=l.parseArray(e.entries,zf)}};o(qo,"Dropdown");qo.type="Dropdown";var ni=qo;var Xo=class extends s{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=l.parseItem(e.privacyOption,ni),this.create_button=l.parseItem(e.cancelButton,I),this.cancel_button=l.parseItem(e.cancelButton,I)}};o(Xo,"CreatePlaylistDialog");Xo.type="CreatePlaylistDialog";var Gf=Xo;var Qo=class extends s{constructor(e){super(),this.popup=l.parseItem(e.popup),this.popup_type=e.popupType}};o(Qo,"OpenPopupAction");Qo.type="OpenPopupAction";var $f=Qo;var $i=class extends s{constructor(e){var i,n,r,a,c,p,d,_;super(),e&&(e.innertubeCommand||e.command)&&(e=e.innertubeCommand||e.command),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new $f(e.openPopupAction));let f=Object.keys(e||{}).find(x=>x.endsWith("Endpoint")||x.endsWith("Command"));this.payload=f?Reflect.get(e,f):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=l.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=l.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new $i(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((n=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||n===void 0)&&n.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((a=(r=e==null?void 0:e.commandMetadata)===null||r===void 0?void 0:r.webCommandMetadata)===null||a===void 0)&&a.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(c=e==null?void 0:e.commandMetadata)===null||c===void 0?void 0:c.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):f&&(this.metadata.api_url=this.getEndpoint(f)),!((_=(d=e==null?void 0:e.commandMetadata)===null||d===void 0?void 0:d.webCommandMetadata)===null||_===void 0)&&_.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=l.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Gf))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};o($i,"NavigationEndpoint");$i.type="NavigationEndpoint";var g=$i;var y=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(n=>new y(n)).sort((n,r)=>r.width-n.width):[]}};o(y,"Thumbnail");var oi=class{constructor(e){var i,n,r,a,c,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((r=(n=e.emoji)===null||n===void 0?void 0:n.shortcuts)===null||r===void 0?void 0:r[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((a=e.emoji)===null||a===void 0?void 0:a.shortcuts)||[],search_terms:((c=e.emoji)===null||c===void 0?void 0:c.searchTerms)||[],image:y.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=Kf(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};o(oi,"EmojiRun");var ri=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=Kf(this.text),r=`<span style="white-space: pre-wrap;">${e.map(a=>`<${a}>`).join("")+i+e.map(a=>`</${a}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:a}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let c=this.endpoint.toURL();if(c)return`<a href="${c}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${a}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${r}</a>`}}if(this.endpoint){let a=this.endpoint.toURL();if(a)return`<a href="${a}">${r}</a>`}return r}};o(ri,"TextRun");function Kf(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}o(Kf,"escape");var Zo="Text",u=class{constructor(e){var i,n,r,a;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(c=>c.emoji?new oi(c):new ri(c)),this.text=this.runs.map(c=>c.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new g(e.titleNavigationEndpoint)),this.endpoint||!((n=(i=this.runs)===null||i===void 0?void 0:i[0])===null||n===void 0)&&n.endpoint&&(this.endpoint=(a=(r=this.runs)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.endpoint)}static fromAttributed(e){var i,n,r;let{content:a,styleRuns:c,commandRuns:p,attachmentRuns:d}=e,_=[{text:a,startIndex:0}];if(c||p||d){if(c)for(let f of c)if(f.italic||f.strikethrough==="LINE_STYLE_SINGLE"||f.weightLabel==="FONT_WEIGHT_MEDIUM"||f.weightLabel==="FONT_WEIGHT_BOLD"){let x=gx(_,f);if(!x){j.warn(Zo,"Unable to find matching run for style run. Skipping...",{style_run:f,input_data:e,parsed_runs:JSON.parse(JSON.stringify(_))});continue}qf(_,x,f,{bold:f.weightLabel==="FONT_WEIGHT_MEDIUM"||f.weightLabel==="FONT_WEIGHT_BOLD",italics:f.italic,strikethrough:f.strikethrough==="LINE_STYLE_SINGLE"})}else j.debug(Zo,"Skipping style run as it is doesn't have any information that we parse.",{style_run:f,input_data:e});if(p)for(let f of p)if(f.onTap){let x=gx(_,f);if(!x){j.warn(Zo,"Unable to find matching run for command run. Skipping...",{command_run:f,input_data:e,parsed_runs:JSON.parse(JSON.stringify(_))});continue}qf(_,x,f,{navigationEndpoint:f.onTap})}else j.debug(Zo,'Skipping command run as it is missing the "doTap" property.',{command_run:f,input_data:e});if(d)for(let f of d){let x=gx(_,f);if(!x){j.warn(Zo,"Unable to find matching run for attachment run. Skipping...",{attachment_run:f,input_data:e,parsed_runs:JSON.parse(JSON.stringify(_))});continue}if(f.length===0)x.attachment=f;else{let v=f.startIndex-x.startIndex,w=x.text.substring(v,v+f.length),k=/^:[^:]+:$/.test(w);if(((r=(n=(i=f.element)===null||i===void 0?void 0:i.type)===null||n===void 0?void 0:n.imageType)===null||r===void 0?void 0:r.image)&&(k||new RegExp("^(?:\\p{Emoji}|\\u200d)+$","u").test(w))){let S={image:f.element.type.imageType.image,isCustomEmoji:k,shortcuts:k?[w]:void 0};qf(_,x,f,{emoji:S})}else qf(_,x,f,{attachment:f})}}}return new u({runs:_})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};o(u,"Text");function gx(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}o(gx,"findMatchingRun");function qf(t,e,i,n){let r=t.indexOf(e),a=[],c=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&a.push(Object.assign(Object.assign({},e),{text:e.text.substring(0,c)})),a.push(Object.assign(Object.assign(Object.assign({},e),{text:e.text.substring(c,c+i.length),startIndex:i.startIndex}),n)),i.startIndex+i.length<e.startIndex+e.text.length&&a.push(Object.assign(Object.assign({},e),{text:e.text.substring(c+i.length),startIndex:i.startIndex+i.length})),t.splice(r,1,...a)}o(qf,"insertSubRun");var er=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=y.fromResponse(e.favicon)}};o(er,"ChannelExternalLinkView");er.type="ChannelExternalLinkView";var Xf=er;var tr=class extends s{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new g(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=l.parseArray(e.links,Xf):this.links=[]}};o(tr,"AboutChannelView");tr.type="AboutChannelView";var Qf=tr;var ir=class extends s{constructor(e){super(),this.metadata=l.parseItem(e.metadata,Qf),this.share_channel=l.parseItem(e.shareChannel,I)}};o(ir,"AboutChannel");ir.type="AboutChannel";var Zf=ir;var nr=class extends s{constructor(e){super(),this.title=new u(e.title),this.endpoint=new g(e.navigationEndpoint)}};o(nr,"AccountChannel");nr.type="AccountChannel";var em=nr;var or=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(or,"AccountItemSectionHeader");or.type="AccountItemSectionHeader";var tm=or;var rr=class extends s{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new g(e.serviceEndpoint),this.account_byline=new u(e.accountByline)}};o(rr,"AccountItem");rr.type="AccountItem";var sr=class extends s{constructor(e){super(),this.contents=X(e.contents.map(i=>new rr(i.accountItem))),this.header=l.parseItem(e.header,tm)}};o(sr,"AccountItemSection");sr.type="AccountItemSection";var im=sr;var ar=class extends s{constructor(e){super(),this.contents=l.parseItem(e.contents[0],im),this.footers=l.parseItem(e.footers[0],em)}};o(ar,"AccountSectionList");ar.type="AccountSectionList";var nm=ar;var ur=class extends s{constructor(e){super(),this.contents=l.parseArray(e.continuationItems),this.target=e.target}};o(ur,"AppendContinuationItemsAction");ur.type="AppendContinuationItemsAction";var Ki=ur;var lr=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var n,r;return{title:i.title,selected:i.selected,continuation:(r=(n=i.continuation)===null||n===void 0?void 0:n.reloadContinuationData)===null||r===void 0?void 0:r.continuation,endpoint:new g(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};o(lr,"SortFilterSubMenu");lr.type="SortFilterSubMenu";var gt=lr;var cr=class extends s{constructor(e){super(),this.language_menu=l.parseItem(e.languageMenu,gt)}};o(cr,"TranscriptFooter");cr.type="TranscriptFooter";var om=cr;var pr=class extends s{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=l.parseItem(e.clearButton,I),this.endpoint=new g(e.onTextChangeCommand),this.search_button=l.parseItem(e.searchButton,I)}};o(pr,"TranscriptSearchBox");pr.type="TranscriptSearchBox";var rm=pr;var dr=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};o(dr,"TranscriptSectionHeader");dr.type="TranscriptSectionHeader";var sm=dr;var fr=class extends s{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};o(fr,"TranscriptSegment");fr.type="TranscriptSegment";var am=fr;var mr=class extends s{constructor(e){super(),this.initial_segments=l.parseArray(e.initialSegments,[am,sm]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};o(mr,"TranscriptSegmentList");mr.type="TranscriptSegmentList";var um=mr;var hr=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,rm),this.body=l.parseItem(e.body,um),this.footer=l.parseItem(e.footer,om),this.target_id=e.targetId}};o(hr,"TranscriptSearchPanel");hr.type="TranscriptSearchPanel";var lm=hr;var _r=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,lm)}};o(_r,"Transcript");_r.type="Transcript";var Pn=_r;var gr=class extends s{constructor(e){super(),this.target_id=e.targetId,this.content=l.parseItem(e.content,Pn)}};o(gr,"UpdateEngagementPanelAction");gr.type="UpdateEngagementPanelAction";var iv=gr;var xr=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};o(xr,"Alert");xr.type="Alert";var Nn=xr;var vr=class extends s{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=l.parseItem(e.dismissButton,I)}};o(vr,"AlertWithButton");vr.type="AlertWithButton";var cm=vr;var yr=class extends s{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};o(yr,"DataModelSection");yr.type="DataModelSection";var pm=yr;var br=class extends s{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(n=>new pm(n))}};o(br,"AnalyticsMainAppKeyMetrics");br.type="AnalyticsMainAppKeyMetrics";var nv=br;var wr=class extends s{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(n=>({title:n.cardData.title,rows:n.cardData.rows.map(r=>({label:r.label,display_value:r.displayValue,display_value_a11y:r.displayValueA11y,bar_ratio:r.barRatio,bar_color:r.barColor,bar_opacity:r.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};o(wr,"AnalyticsRoot");wr.type="AnalyticsRoot";var ov=wr;var Tr=class extends s{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new g(i.videoEndpoint)}))}};o(Tr,"AnalyticsShortsCarouselCard");Tr.type="AnalyticsShortsCarouselCard";var rv=Tr;var Ir=class extends s{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:y.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};o(Ir,"AnalyticsVideo");Ir.type="AnalyticsVideo";var dm=Ir;var kr=class extends s{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new dm(i)))}};o(kr,"AnalyticsVodCarouselCard");kr.type="AnalyticsVodCarouselCard";var sv=kr;var Sr=class extends s{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};o(Sr,"CtaGoToCreatorStudio");Sr.type="CtaGoToCreatorStudio";var av=Sr;var Cr=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=new u(e.contents)}};o(Cr,"StatRow");Cr.type="StatRow";var uv=Cr;var Er=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.suffix=u.fromAttributed(e.suffix)}};o(Er,"AttributionView");Er.type="AttributionView";var fm=Er;var Pr=class extends s{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};o(Pr,"AudioOnlyPlayability");Pr.type="AudioOnlyPlayability";var mm=Pr;var Nr=class extends s{constructor(e){var i,n;super(),!((n=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||n===void 0)&&n.navigationEndpoint&&(this.playlist_video={endpoint:new g(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};o(Nr,"AutomixPreviewVideo");Nr.type="AutomixPreviewVideo";var hm=Nr;var Rr=class extends s{constructor(e){super(),this.image=y.fromResponse(e.image),this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}},this.avatar_image_size=e.avatarImageSize}};o(Rr,"AvatarView");Rr.type="AvatarView";var _m=Rr;var Ar=class extends s{constructor(e){super(),this.image=y.fromResponse(e.image),this.endpoint=new g(e.command)}};o(Ar,"BackstageImage");Ar.type="BackstageImage";var gm=Ar;var Vr=class extends s{constructor(e){var i,n,r,a,c,p,d,_,f;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let x=((a=(r=(n=e==null?void 0:e.defaultText)===null||n===void 0?void 0:n.accessibility)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label)||((p=(c=e==null?void 0:e.accessibilityData)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label)||((d=e==null?void 0:e.accessibility)===null||d===void 0?void 0:d.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(x.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=!((f=(_=e.defaultServiceEndpoint)===null||_===void 0?void 0:_.commandExecutorCommand)===null||f===void 0)&&f.commands?new g(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new g(e.defaultServiceEndpoint),this.toggled_endpoint=new g(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};o(Vr,"ToggleButton");Vr.type="ToggleButton";var xe=Vr;var Mr=class extends s{constructor(e){var i,n;super(),this.creator_thumbnail=y.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(n=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||n===void 0?void 0:n.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};o(Mr,"CreatorHeart");Mr.type="CreatorHeart";var xm=Mr;var Dr=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,xe),this.dislike_button=l.parseItem(e.dislikeButton,xe),this.reply_button=l.parseItem(e.replyButton,I),this.creator_heart=l.parseItem(e.creatorHeart,xm)}};o(Dr,"CommentActionButtons");Dr.type="CommentActionButtons";var Rn=Dr;var Br=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.top_level_buttons=l.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};o(Br,"Menu");Br.type="Menu";var F=Br;var Lr=class extends s{constructor(e){super(),this.id=e.postId,this.author=new D(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=l.parseItem(e.actionMenu,F)),Reflect.has(e,"actionButtons")&&(this.action_buttons=l.parseItem(e.actionButtons,Rn)),Reflect.has(e,"voteButton")&&(this.vote_button=l.parseItem(e.voteButton,I)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=l.parseItem(e.backstageAttachment)),this.surface=e.surface}};o(Lr,"BackstagePost");Lr.type="BackstagePost";var si=Lr;var Or=class extends s{constructor(e){super(),this.post=l.parseItem(e.post)}};o(Or,"BackstagePostThread");Or.type="BackstagePostThread";var lv=Or;var ai=class extends s{constructor(e){super(),this.text=e.badgeText,this.style=e.badgeStyle,this.accessibility_label=e.accessibilityLabel}};o(ai,"BadgeView");var Fr=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Fr,"BrowseFeedActions");Fr.type="BrowseFeedActions";var vm=Fr;var Yr=class extends s{constructor(e){super(),this.album=new u(e.album),this.thumbnails=y.fromResponse(e.thumbnailDetails)}};o(Yr,"BrowserMediaSession");Yr.type="BrowserMediaSession";var cv=Yr;var Ur=class extends s{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.button_type=e.type,this.button_size=e.buttonSize,this.on_tap=new g(e.onTap)}};o(Ur,"ButtonView");Ur.type="ButtonView";var St=Ur;var An=class extends s{constructor(e){super(),this.endpoint=new g(e.navigationEndpoint),this.icon=y.fromResponse(e.icon),this.title=new u(e.title)}};o(An,"HeaderLink");An.type="HeaderLink";var jr=class extends s{constructor(e){var i,n;super(),this.primary=X(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>new An(r)))||[]),this.secondary=X(((n=e.secondaryLinks)===null||n===void 0?void 0:n.map(r=>new An(r)))||[])}};o(jr,"ChannelHeaderLinks");jr.type="ChannelHeaderLinks";var ym=jr;var Wr=class extends s{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};o(Wr,"ChannelHeaderLinksView");Wr.type="ChannelHeaderLinksView";var bm=Wr;var Jr=class extends s{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};o(Jr,"ClipCreationTextInput");Jr.type="ClipCreationTextInput";var wm=Jr;var Hr=class extends s{constructor(e){var i,n,r,a,c,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(n=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||n===void 0?void 0:n.label,this.end_label=(a=(r=e.endAccessibility)===null||r===void 0?void 0:r.accessibilityData)===null||a===void 0?void 0:a.label,this.duration_label=(p=(c=e.durationAccessibility)===null||c===void 0?void 0:c.accessibilityData)===null||p===void 0?void 0:p.label}};o(Hr,"ClipCreationScrubber");Hr.type="ClipCreationScrubber";var Tm=Hr;var zr=class extends s{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};o(zr,"ClipAdState");zr.type="ClipAdState";var Im=zr;var Gr=class extends s{constructor(e){super(),this.user_avatar=y.fromResponse(e.userAvatar),this.title_input=l.parseItem(e.titleInput,[wm]),this.scrubber=l.parseItem(e.scrubber,[Tm]),this.save_button=l.parseItem(e.saveButton,[I]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=l.parseItem(e.cancelButton,[I]),this.ad_state_overlay=l.parseItem(e.adStateOverlay,[Im]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};o(Gr,"ClipCreation");Gr.type="ClipCreation";var km=Gr;var $r=class extends s{constructor(e){super(),this.contents=l.parse(e.contents,!0,[km])}};o($r,"ClipSection");$r.type="ClipSection";var Sm=$r;var Kr=class extends s{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,I)),this.endpoint=new g(e.continuationEndpoint)}};o(Kr,"ContinuationItem");Kr.type="ContinuationItem";var ce=Kr;var qr=class extends s{constructor(e){super(),this.title=new u(e.title),this.visibility_button=l.parseItem(e.visibilityButton,I)}};o(qr,"EngagementPanelTitleHeader");qr.type="EngagementPanelTitleHeader";var Cm=qr;var Xr=class extends s{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=l.parseItem(e.menu,F)}};o(Xr,"MacroMarkersInfoItem");Xr.type="MacroMarkersInfoItem";var Em=Xr;var Qr=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};o(Qr,"MacroMarkersListItem");Qr.type="MacroMarkersListItem";var Vn=Qr;var Zr=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,[Em,Vn]),this.sync_button_label=new u(e.syncButtonLabel)}};o(Zr,"MacroMarkersList");Zr.type="MacroMarkersList";var Pm=Zr;var es=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(es,"ProductList");es.type="ProductList";var Nm=es;var ts=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=l.parseItem(e.subMenu))}};o(ts,"SectionList");ts.type="SectionList";var ve=ts;var is=class extends s{constructor(e){var i;super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};o(is,"ExpandableVideoDescriptionBody");is.type="ExpandableVideoDescriptionBody";var Rm=is;var ns=class extends s{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new g(e.searchEndpoint),this.query=new u(e.query).toString()}};o(ns,"SearchRefinementCard");ns.type="SearchRefinementCard";var qi=ns;var os=class extends s{constructor(e){super(),this.game=l.parseItem(e.game)}};o(os,"GameCard");os.type="GameCard";var Am=os;var rs=class extends s{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=l.parseArray(e.items)}get contents(){return this.items}};o(rs,"HorizontalList");rs.type="HorizontalList";var Vm=rs;var ss=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:y.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=l.parseItem(e.expandedContent,[ui,Vm]),this.expand_button=l.parseItem(e.expandButton,I),this.collapse_button=l.parseItem(e.collapseButton,I)}};o(ss,"ExpandableMetadata");ss.type="ExpandableMetadata";var Mm=ss;var as=class extends s{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};o(as,"MetadataBadge");as.type="MetadataBadge";var ze=as;var us=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};o(us,"ThumbnailOverlayTimeStatus");us.type="ThumbnailOverlayTimeStatus";var Xi=us;var ls=class extends s{constructor(e){var i,n,r;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(c=>({text:new u(c.snippetText),hover_text:new u(c.snippetHoverText)}))),this.expandable_metadata=l.parseItem(e.expandableMetadata,Mm),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.author=new D(e.ownerText,e.ownerBadges,(r=(n=e.channelThumbnailSupportedRenderers)===null||n===void 0?void 0:n.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.badges=l.parseArray(e.badges,ze),this.endpoint=new g(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:ke(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=l.parseItem(e.menu,F),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Xi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};o(ls,"Video");ls.type="Video";var Mn=ls;var cs=class extends Mn{constructor(e){super(e)}};o(cs,"VideoCard");cs.type="VideoCard";var Dm=cs;var ps=class extends s{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};o(ps,"ContentPreviewImageView");ps.type="ContentPreviewImageView";var Dn=ps;var ds=class extends s{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image=y.fromResponse(e.image):this.image=l.parseItem(e.image,Dn),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new g(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};o(ds,"VideoAttributeView");ds.type="VideoAttributeView";var li=ds;var fs=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards,[li,qi,Vn,Am,Dm]),this.header=l.parseItem(e.header),this.previous_button=l.parseItem(e.previousButton,I),this.next_button=l.parseItem(e.nextButton,I)}};o(fs,"HorizontalCardList");fs.type="HorizontalCardList";var ui=fs;var ms=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};o(ms,"Factoid");ms.type="Factoid";var ci=ms;var hs=class extends s{constructor(e){super(),this.factoid=l.parseItem(e.factoid,ci)}};o(hs,"UploadTimeFactoid");hs.type="UploadTimeFactoid";var Bm=hs;var _s=class extends s{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=l.parseItem(e.factoid,[ci]),this.view_count_type=e.viewCountType}};o(_s,"ViewCountFactoid");_s.type="ViewCountFactoid";var Lm=_s;var gs=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new g(e.channelNavigationEndpoint),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=l.parseArray(e.factoid,[ci,Lm,Bm])}};o(gs,"VideoDescriptionHeader");gs.type="VideoDescriptionHeader";var Om=gs;var xs=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=l.parseItem(e.creatorVideosButton,I),this.creator_about_button=l.parseItem(e.creatorAboutButton,I),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=y.fromResponse(e.channelAvatar),this.channel_endpoint=new g(e.channelEndpoint)}};o(xs,"VideoDescriptionInfocardsSection");xs.type="VideoDescriptionInfocardsSection";var Fm=xs;var vs=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};o(vs,"InfoRow");vs.type="InfoRow";var Ym=vs;var ys=class extends s{constructor(e){super(),this.id=e.videoId,this.thumbnails=y.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.title=new u(e.title),this.author=new D(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=l.parseArray(e.badges,ze),this.duration={text:new u(e.lengthText).toString(),seconds:ke(new u(e.lengthText).toString())},this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.endpoint=new g(e.navigationEndpoint),this.menu=l.parseItem(e.menu,F)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};o(ys,"CompactVideo");ys.type="CompactVideo";var Bn=ys;var bs=class extends s{constructor(e){super(),this.info_rows=l.parseArray(e.infoRows,Ym),this.video_lockup=l.parseItem(e.videoLockup,Bn)}};o(bs,"CarouselLockup");bs.type="CarouselLockup";var Um=bs;var ws=class extends s{constructor(e){super(),this.carousel_lockups=l.parseArray(e.carouselLockups,Um),this.section_title=new u(e.sectionTitle)}};o(ws,"VideoDescriptionMusicSection");ws.type="VideoDescriptionMusicSection";var Ln=ws;var Ts=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=l.parseItem(e.primaryButton,I)}};o(Ts,"VideoDescriptionTranscriptSection");Ts.type="VideoDescriptionTranscriptSection";var Is=Ts;var ks=class extends s{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new g(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};o(ks,"StructuredDescriptionPlaylistLockup");ks.type="StructuredDescriptionPlaylistLockup";var jm=ks;var Ss=class extends s{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=l.parseArray(e.mediaLockups,[jm])}};o(Ss,"VideoDescriptionCourseSection");Ss.type="VideoDescriptionCourseSection";var Wm=Ss;var Cs=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint))}get contents(){return this.items}};o(Cs,"ReelShelf");Cs.type="ReelShelf";var On=Cs;var Es=class extends s{constructor(e){super(),this.header_title=e.headerTitle,this.header_subtitle=e.headerSubtitle,this.video_attributes=l.parseArray(e.videoAttributeViewModels,li),this.previous_button=l.parseItem(e.previousButton,St),this.next_button=l.parseItem(e.nextButton,St)}};o(Es,"VideoAttributesSectionView");Es.type="VideoAttributesSectionView";var Jm=Es;var Ps=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[Om,Rm,Ln,Fm,Wm,Is,Is,ui,On,Jm])}};o(Ps,"StructuredDescriptionContent");Ps.type="StructuredDescriptionContent";var Qi=Ps;var Ns=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,Cm),this.content=l.parseItem(e.content,[li,ve,ce,Sm,Qi,Pm,Nm]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};o(Ns,"EngagementPanelSectionList");Ns.type="EngagementPanelSectionList";var pi=Ns;var Rs=class extends s{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:l.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,pi),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new g(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};o(Rs,"ChannelTagline");Rs.type="ChannelTagline";var Hm=Rs;var As=class extends s{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:l.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};o(As,"SubscriptionNotificationToggleButton");As.type="SubscriptionNotificationToggleButton";var zm=As;var Vs=class extends s{constructor(e){var i,n;super(),this.title=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=l.parseItem(e.notificationPreferenceButton,zm),this.endpoint=new g(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((n=e.onSubscribeEndpoints)===null||n===void 0?void 0:n[0]))}};o(Vs,"SubscribeButton");Vs.type="SubscribeButton";var Se=Vs;var Ms=class extends s{constructor(e){super(),this.author=new D({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=y.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=y.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=y.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=l.parseItem(e.sponsorButton,I)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=l.parseItem(e.subscribeButton,[Se,I])),Reflect.has(e,"headerLinks")&&(this.header_links=l.parseItem(e.headerLinks,[ym,bm])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=l.parseItem(e.tagline,Hm))}};o(Ms,"C4TabbedHeader");Ms.type="C4TabbedHeader";var Fn=Ms;var Ds=class extends s{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};o(Ds,"CallToActionButton");Ds.type="CallToActionButton";var pv=Ds;var Bs=class extends s{constructor(e){super(),this.teaser=l.parseItem(e.teaser),this.content=l.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};o(Bs,"Card");Bs.type="Card";var dv=Bs;var Ls=class extends s{constructor(e){super(),this.cards=l.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};o(Ls,"CardCollection");Ls.type="CardCollection";var Gm=Ls;var Os=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Os,"CarouselHeader");Os.type="CarouselHeader";var $m=Os;var Fs=class extends s{constructor(e){super(),this.items=l.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=y.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};o(Fs,"CarouselItem");Fs.type="CarouselItem";var fv=Fs;var di=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new D(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,[Se,I]),this.description_snippet=new u(e.descriptionSnippet)}get subscribers(){return j.warnOnce(di.type,"Channel#subscribers is deprecated. Please use Channel#subscriber_count instead."),this.subscriber_count}get videos(){return j.warnOnce(di.type,"Channel#videos is deprecated. Please use Channel#video_count instead."),this.video_count}};o(di,"Channel");di.type="Channel";var Km=di;var fi=class extends s{constructor(e){var i,n;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=y.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(n=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>({endpoint:new g(r.navigationEndpoint),icon:y.fromResponse(r.icon),title:new u(r.title)})))!==null&&n!==void 0?n:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new g(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=l.parseArray(e.actionButtons,I)}get views(){return j.warnOnce(fi.type,"ChannelAboutFullMetadata#views is deprecated. Please use ChannelAboutFullMetadata#view_count instead."),this.view_count}get joined(){return j.warnOnce(fi.type,"ChannelAboutFullMetadata#joined is deprecated. Please use ChannelAboutFullMetadata#joined_date instead."),this.joined_date}};o(fi,"ChannelAboutFullMetadata");fi.type="ChannelAboutFullMetadata";var Ys=fi;var Us=class extends s{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=y.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=l.parseItem(e.signInButton,I),this.secondary_text=new u(e.secondaryText)}};o(Us,"ChannelAgeGate");Us.type="ChannelAgeGate";var mv=Us;var js=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items)}};o(js,"ChannelFeaturedContent");js.type="ChannelFeaturedContent";var hv=js;var Ws=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=y.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};o(Ws,"ChannelMetadata");Ws.type="ChannelMetadata";var qm=Ws;var Js=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(Js,"ChannelMobileHeader");Js.type="ChannelMobileHeader";var _v=Js;var Hs=class extends s{constructor(e){super(),this.avatar=y.fromResponse(e.avatar),this.endpoint=new g(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};o(Hs,"ChannelOptions");Hs.type="ChannelOptions";var Xm=Hs;var zs=class extends s{constructor(e){super(),this.illustration=y.fromResponse(e.illustration),this.description=new u(e.description)}};o(zs,"ChannelOwnerEmptyState");zs.type="ChannelOwnerEmptyState";var gv=zs;var Gs=class extends s{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new g(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=l.parseItem(e.sortSetting)}};o(Gs,"ChannelSubMenu");Gs.type="ChannelSubMenu";var $s=Gs;var Ks=class extends s{constructor(e){var i,n;super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new g(e.navigationEndpoint),this.label=(n=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||n===void 0?void 0:n.label}};o(Ks,"ChannelThumbnailWithLink");Ks.type="ChannelThumbnailWithLink";var xv=Ks;var mi=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}get views(){return j.warnOnce(mi.type,"ChannelVideoPlayer#views is deprecated. Please use ChannelVideoPlayer#view_count instead."),this.view_count}get published(){return j.warnOnce(mi.type,"ChannelVideoPlayer#published is deprecated. Please use ChannelVideoPlayer#published_time instead."),this.published_time}};o(mi,"ChannelVideoPlayer");mi.type="ChannelVideoPlayer";var vv=mi;var qs=class extends s{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=y.fromResponse(e.thumbnail)}};o(qs,"Chapter");qs.type="Chapter";var Qm=qs;var Xs=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:ke(e.lengthText.simpleText)},this.endpoint=new g(e.navigationEndpoint)}};o(Xs,"ChildVideo");Xs.type="ChildVideo";var yv=Xs;var Qs=class extends s{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new g(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};o(Qs,"ChipView");Qs.type="ChipView";var Zm=Qs;var Zs=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Zm)}};o(Zs,"ChipBarView");Zs.type="ChipBarView";var bv=Zs;var ea=class extends s{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),this.text=new u(e.text).toString()}};o(ea,"ChipCloudChip");ea.type="ChipCloudChip";var Ye=ea;var ta=class extends s{constructor(e){super(),this.chips=l.parseArray(e.chips,Ye),this.next_button=l.parseItem(e.nextButton,I),this.previous_button=l.parseItem(e.previousButton,I),this.horizontal_scrollable=e.horizontalScrollable}};o(ta,"ChipCloud");ta.type="ChipCloud";var Yn=ta;var ia=class extends s{constructor(e){super(),this.channel_avatar=y.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new g(e.endpoint)}};o(ia,"CollaboratorInfoCardContent");ia.type="CollaboratorInfoCardContent";var wv=ia;var na=class extends s{constructor(e){super(),this.left=y.fromResponse(e.leftThumbnail),this.top_right=y.fromResponse(e.topRightThumbnail),this.bottom_right=y.fromResponse(e.bottomRightThumbnail),this.endpoint=new g(e.navigationEndpoint)}};o(na,"CollageHeroImage");na.type="CollageHeroImage";var Tv=na;var oa=class extends s{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=u.fromAttributed(e.text),this.style=e.style}};o(oa,"ThumbnailHoverOverlayView");oa.type="ThumbnailHoverOverlayView";var eh=oa;var ra=class extends s{constructor(e){super(),this.text=e.text,this.badge_style=e.badgeStyle,e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}),e.iconName&&(this.icon_name=e.icon.sources[0].clientResource.imageName)}};o(ra,"ThumbnailBadgeView");ra.type="ThumbnailBadgeView";var th=ra;var sa=class extends s{constructor(e){super(),this.badges=l.parseArray(e.thumbnailBadges,th),this.position=e.position}};o(sa,"ThumbnailOverlayBadgeView");sa.type="ThumbnailOverlayBadgeView";var ih=sa;var aa=class extends s{constructor(e){super(),this.image=y.fromResponse(e.image),this.overlays=l.parseArray(e.overlays,[ih,eh]),e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};o(aa,"ThumbnailView");aa.type="ThumbnailView";var nh=aa;var ua=class extends s{constructor(e){super(),this.primary_thumbnail=l.parseItem(e.primaryThumbnail,nh),e.stackColor&&(this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme})}};o(ua,"CollectionThumbnailView");ua.type="CollectionThumbnailView";var oh=ua;var rh,la=class extends s{constructor(e){super(),rh.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED",e.style="BADGE_STYLE_TYPE_VERIFIED"),E(this,rh,e,"f")}get orig_badge(){return m(this,rh,"f")}};o(la,"AuthorCommentBadge");rh=new WeakMap;la.type="AuthorCommentBadge";var sh=la;var ca=class extends s{constructor(e){super(),this.reply_button=l.parseItem(e.replyButton,I),this.cancel_button=l.parseItem(e.cancelButton,I),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};o(ca,"CommentReplyDialog");ca.type="CommentReplyDialog";var Un=ca;var pa=class extends s{constructor(e){var i,n;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(n=e.chipColorPalette)===null||n===void 0?void 0:n.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};o(pa,"PdgCommentChip");pa.type="PdgCommentChip";var ah=pa;var da=class extends s{constructor(e){super(),this.custom_badge=y.fromResponse(e.customBadge),this.tooltip=e.tooltip}};o(da,"SponsorCommentBadge");da.type="SponsorCommentBadge";var uh=da;var Ct={};ye(Ct,{decodeVisitorData:()=>Sx,encodeChannelAnalyticsParams:()=>ZI,encodeCommentActionParams:()=>fa,encodeCommentParams:()=>nk,encodeCommentsSectionParams:()=>ik,encodeCustomThumbnailPayload:()=>sk,encodeHashtag:()=>ak,encodeMessageParams:()=>Cx,encodeMusicSearchFilters:()=>tk,encodeNotificationPref:()=>ok,encodeReelSequence:()=>Ex,encodeSearchFilters:()=>ek,encodeShortsParam:()=>uk,encodeVideoMetadataPayload:()=>rk,encodeVisitorData:()=>kx});var N;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(N||(N={}));var U=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,n]=this;if(i===0&&n===0)return"0";if(e&&n>2147483647)return"-"+ch(xx(this),lh).toString(!1);let r=[],a=new U(i,n);for(;PI(a,CI);){let[c,p]=EI(a);r.push(p),a=c}return r.reverse().join("")}static parse(e){let i=parseInt(e,10),n=i<0;if(Number.isNaN(i))return new U(0);if(e.length<10)return i<0?ch(xx(new U(-i)),lh):new U(i);let r=new U,a=lh;for(let c of e.split("").reverse())parseInt(c)&&(r=ch(r,Iv(new U(parseInt(c)),a))),a=Iv(a,new U(10));return n?ch(xx(r),lh):r}};o(U,"Long");var CI=new U(0),lh=new U(1);function ph(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}o(ph,"makeChunk");function ch(t,e){let[i,n,r,a]=ph(t),[c,p,d,_]=ph(e),f=0,x=0,v=0,w=0;return w+=i+c,v+=w>>>16,w&=65535,v+=n+p,x+=v>>>16,v&=65535,x+=r+d,f+=x>>>16,x&=65535,f+=a+_,f&=65535,new U(v<<16|w,f<<16|x)}o(ch,"add");function Iv(t,e){let[i,n,r,a]=ph(t),[c,p,d,_]=ph(e),f=0,x=0,v=0,w=0;return w+=i*c,v+=w>>>16,w&=65535,v+=i*p+n*c,x+=v>>>16,v&=65535,x+=i*d+r*c+n*p,f+=x>>>16,x&=65535,f+=i*_+n*d+r*p+a*c,f&=65535,new U(v<<16|w,f<<16|x)}o(Iv,"mul");function EI(t){let[e,i]=t;return[new U((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}o(EI,"divByTen");function PI(t,e){let[i,n]=t,[r,a]=e;return n!==a?n-a:i-r}o(PI,"compare");function xx(t){let[e,i]=t;return new U(~e,~i)}o(xx,"negate");function jn(t){let e=[],r=typeof t=="number"?new U(t):t;for(;r[0]||r[1];){let[a,c]=r,p=a&127,d=c>>>7,_=a>>>7|(c&127)<<32-7;r=new U(_,d);let f=r[0]||r[1]?p|128:p;e.push(f)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}o(jn,"encode");function Wn(t){let e=new U(0),i=0;for(;;){let n=t.getUint8(i);if(e=NI(e,RI(new U(n&127),i*7)),++i,!(n>>>7))return[i,e]}}o(Wn,"decode");function NI(t,e){return new U(t[0]|e[0],t[1]|e[1])}o(NI,"or");function RI(t,e){return e===0?t:e>=32?new U(0,t[0]<<e-32):new U(t[0]<<e,t[1]<<e|t[0]>>>32-e)}o(RI,"leftshift");function R(t){let e=[];return t.forEach(([i,n])=>{switch(e.push(jn(i<<3|n.type)),n.type){case N.Varint:e.push(jn(n.value));break;case N.Fixed64:{let r=new Uint8Array(8),a=new DataView(r.buffer);a.setUint32(0,n.value[0],!0),a.setUint32(4,n.value[1],!0),e.push(r);break}case N.LengthDelimited:e.push(jn(n.value.byteLength)),e.push(n.value);break;case N.Fixed32:{let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,n.value,!0),e.push(r);break}}}),vx(e)}o(R,"serialize");function vx(t){let e=t.reduce((n,r)=>n+r.byteLength,0),i=new Uint8Array(e);return t.reduce((n,r)=>(i.set(r,n),n+r.byteLength),0),i}o(vx,"concat");function yx(t){if(t instanceof U){let e=new U(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new U(4294967295,4294967295):new U;return new U(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}o(yx,"encode");function bx(t){if(t instanceof U){let e=new U(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new U(4294967295,4294967295):new U;return new U(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}o(bx,"decode");var wx={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>bx(t[0]),sint64:t=>bx(t).toString(!0),bool:t=>t[0]!==0},Tx={int32:t=>new U(t),int64:t=>U.parse(t),uint32:t=>new U(t),uint64:t=>U.parse(t),sint32:t=>yx(new U(t)),sint64:t=>yx(U.parse(t)),bool:t=>new U(+t)},AI=Object.fromEntries(Object.entries(wx).map(([t,e])=>[t,i=>{if(i.type===N.Varint)return e(i.value)}])),VI=Object.fromEntries(Object.entries(Tx).map(([t,e])=>[t,i=>({type:N.Varint,value:e(i)})])),J=Object.assign(Object.assign({},AI),{double:t=>t.type!==N.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==N.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===N.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===N.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!0)},string:t=>t.type!==N.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===N.LengthDelimited)return t.value}}),C=Object.assign(Object.assign({},VI),{double:t=>{let e=new U;return new DataView(e.buffer).setFloat64(0,t,!0),{type:N.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:N.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:N.Fixed32,value:t>>>0}),fixed64:t=>({type:N.Fixed64,value:U.parse(t)}),sfixed32:t=>({type:N.Fixed32,value:t|0}),sfixed64:t=>({type:N.Fixed64,value:U.parse(t)}),string:t=>{let e=new TextEncoder;return{type:N.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:N.LengthDelimited,value:t})}),MI=Object.fromEntries(Object.keys(wx).map(t=>[t,function*(e){for(let i of e){let n=J[t](i);if(n!=null)yield n;else for(let r of OI(i))yield wx[t](r)}}])),rB=Object.assign(Object.assign({},MI),{*double(t){for(let e of t){let i=J.double(e);i!=null?yield i:yield*BI(e)}},*float(t){for(let e of t){let i=J.float(e);i!=null?yield i:yield*LI(e)}},*fixed32(t){for(let e of t){let i=J.fixed32(e);if(i!=null)yield i;else for(let n of kv(e))yield n>>>0}},*fixed64(t){for(let e of t){let i=J.fixed64(e);if(i!=null)yield i;else for(let n of Sv(e))yield n.toString(!1)}},*sfixed32(t){for(let e of t){let i=J.sfixed32(e);if(i!=null)yield i;else for(let n of kv(e))yield n|0}},*sfixed64(t){for(let e of t){let i=J.sfixed64(e);if(i!=null)yield i;else for(let n of Sv(e))yield n.toString(!0)}}}),DI=Object.fromEntries(Object.keys(Tx).map(t=>[t,function(e){return{type:N.LengthDelimited,value:vx(e.map(i=>{let n=Tx[t](i);return jn(n)}))}}]));function Jn(t,e){return o(function(n){let r=new Uint8Array(n.length*t),a=new DataView(r.buffer);for(let c=0;c<n.length;++c)e(a,c*t,n[c]);return{type:N.LengthDelimited,value:r}},"pack")}o(Jn,"getFixedPackFn");var sB=Object.assign(Object.assign({},DI),{double:Jn(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:Jn(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:Jn(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:Jn(8,(t,e,i)=>{let n=U.parse(i);t.setUint32(e,n[0],!0),t.setUint32(e+4,n[1],!0)}),sfixed32:Jn(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:Jn(8,(t,e,i)=>{let n=U.parse(i);t.setUint32(e,n[0],!0),t.setUint32(e+4,n[1],!0)})});function*BI(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=n.getFloat64(i,!0);i+=4,yield r}}o(BI,"unpackDouble");function*LI(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=n.getFloat32(i,!0);i+=4,yield r}}o(LI,"unpackFloat");function*OI(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=e.byteOffset;for(;i<e.length;){let r=Wn(new DataView(e.buffer,n+i));i+=r[0],yield r[1]}}o(OI,"unpackVarint");function*kv(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=n.getUint32(i,!0);i+=4,yield r}}o(kv,"unpackFixed32");function*Sv(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,n=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=n.getUint32(i,!0);i+=4;let a=n.getUint32(i,!0);i+=4,yield new U(r,a)}}o(Sv,"unpackFixed64");function H(t){let e=0,i=t.byteOffset,n=[],r=new DataView(t.buffer,i);for(;e<t.length;){let a=Wn(new DataView(t.buffer,i+e)),c=a[1][0];e+=a[0];let p=c&7,d=c>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case N.Varint:{let[x,v]=Wn(new DataView(t.buffer,i+e));n.push([d,{type:p,value:v}]),e+=x;break}case N.Fixed64:let _=r.getUint32(e,!0),f=r.getUint32(e+=4,!0);e+=4,n.push([d,{type:p,value:new U(_,f)}]);break;case N.LengthDelimited:{let[x,v]=Wn(new DataView(t.buffer,i+e));n.push([d,{type:p,value:t.subarray(e+=x,e+=v[0])}]);break}case N.StartGroup:case N.EndGroup:n.push([d,{type:p}]);break;case N.Fixed32:n.push([d,{type:p,value:r.getUint32(e,!0)}]),e+=4;break}}return n}o(H,"deserialize");function FI(){return{id:"",timestamp:0}}o(FI,"getDefaultValue");function Cv(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,C.int32(i)])}return R(e)}o(Cv,"encodeBinary");function Ev(t){let e=FI(),i=H(t),n=new Map(i);e:{let r=n.get(1);if(r===void 0)break e;let a=J.string(r);if(a===void 0)break e;e.id=a}e:{let r=n.get(5);if(r===void 0)break e;let a=J.int32(r);if(a===void 0)break e;e.timestamp=a}return e}o(Ev,"decodeBinary");function Pv(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,C.string(i)])}return R(e)}o(Pv,"encodeBinary");function Nv(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:N.LengthDelimited,value:Pv(i)}])}return R(e)}o(Nv,"encodeBinary");function Rv(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,C.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,C.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,C.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,C.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,C.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,C.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,C.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,C.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,C.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,C.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,C.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,C.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,C.int32(i)])}return R(e)}o(Rv,"encodeBinary");function Av(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,C.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:Rv(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,C.int32(i)])}return R(e)}o(Av,"encodeBinary");function Vv(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,C.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,C.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,C.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,C.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,C.int32(i)])}return R(e)}o(Vv,"encodeBinary");function Mv(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:N.LengthDelimited,value:Vv(i)}])}return R(e)}o(Mv,"encodeBinary");function Dv(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:Mv(i)}])}return R(e)}o(Dv,"encodeBinary");function Bv(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return R(e)}o(Bv,"encodeBinary");function Lv(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:N.LengthDelimited,value:Bv(i)}])}return R(e)}o(Lv,"encodeBinary");function Ov(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:N.LengthDelimited,value:Lv(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,C.int32(i)])}return R(e)}o(Ov,"encodeBinary");function Fv(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}return R(e)}o(Fv,"encodeBinary");function Yv(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,C.int32(i)])}return R(e)}o(Yv,"encodeBinary");function Uv(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:N.LengthDelimited,value:Yv(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,C.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,C.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,C.int32(i)])}return R(e)}o(Uv,"encodeBinary");function jv(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,C.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,C.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([16,C.string(i)])}return R(e)}o(jv,"encodeBinary");function Wv(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,C.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:N.LengthDelimited,value:Uv(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:N.LengthDelimited,value:jv(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,C.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,C.string(i)])}return R(e)}o(Wv,"encodeBinary");function Jv(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:N.LengthDelimited,value:Fv(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,C.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:N.LengthDelimited,value:Wv(i)}])}return R(e)}o(Jv,"encodeBinary");function Hv(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return R(e)}o(Hv,"encodeBinary");function zv(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:N.LengthDelimited,value:Hv(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,C.int32(i)])}return R(e)}o(zv,"encodeBinary");function Gv(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}o(Gv,"encodeBinary");function $v(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:N.LengthDelimited,value:Gv(i)}])}return R(e)}o($v,"encodeBinary");function Kv(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:N.LengthDelimited,value:$v(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,C.string(i)])}return R(e)}o(Kv,"encodeBinary");function qv(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,C.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,C.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,C.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,C.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:N.LengthDelimited,value:Kv(i)}])}return R(e)}o(qv,"encodeBinary");function Xv(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,C.int32(i)])}return R(e)}o(Xv,"encodeBinary");function Qv(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,C.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:N.LengthDelimited,value:Xv(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,C.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,C.int32(i)])}return R(e)}o(Qv,"encodeBinary");function Zv(t){let e=[];if(t.deviceMake!==void 0){let i=t.deviceMake;e.push([12,C.string(i)])}if(t.deviceModel!==void 0){let i=t.deviceModel;e.push([13,C.string(i)])}if(t.nameId!==void 0){let i=t.nameId;e.push([16,C.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,C.string(i)])}if(t.osName!==void 0){let i=t.osName;e.push([18,C.string(i)])}if(t.osVersion!==void 0){let i=t.osVersion;e.push([19,C.string(i)])}if(t.acceptLanguage!==void 0){let i=t.acceptLanguage;e.push([21,C.string(i)])}if(t.acceptRegion!==void 0){let i=t.acceptRegion;e.push([22,C.string(i)])}if(t.androidSdkVersion!==void 0){let i=t.androidSdkVersion;e.push([34,C.int32(i)])}if(t.windowWidthPoints!==void 0){let i=t.windowWidthPoints;e.push([37,C.int32(i)])}if(t.windowHeightPoints!==void 0){let i=t.windowHeightPoints;e.push([38,C.int32(i)])}return R(e)}o(Zv,"encodeBinary");function ey(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:N.LengthDelimited,value:Zv(i)}])}return R(e)}o(ey,"encodeBinary");function ty(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}o(ty,"encodeBinary");function iy(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,C.string(i)])}return R(e)}o(iy,"encodeBinary");function ny(t){let e=[];for(let i of t.list)e.push([1,C.string(i)]);return R(e)}o(ny,"encodeBinary");function oy(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,C.int32(i)])}return R(e)}o(oy,"encodeBinary");function ry(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.string(i)])}return R(e)}o(ry,"encodeBinary");function sy(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,C.bytes(i)])}return R(e)}o(sy,"encodeBinary");function ay(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:N.LengthDelimited,value:sy(i)}])}return R(e)}o(ay,"encodeBinary");function uy(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,C.int32(i)])}return R(e)}o(uy,"encodeBinary");function ly(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return R(e)}o(ly,"encodeBinary");function cy(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,C.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,C.int32(i)])}return R(e)}o(cy,"encodeBinary");function Ix(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:N.LengthDelimited,value:ey(i)}])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,C.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:N.LengthDelimited,value:ty(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:N.LengthDelimited,value:iy(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:N.LengthDelimited,value:ny(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:N.LengthDelimited,value:oy(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:N.LengthDelimited,value:ry(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:N.LengthDelimited,value:ay(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:N.LengthDelimited,value:uy(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:N.LengthDelimited,value:ly(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:N.LengthDelimited,value:cy(i)}])}return R(e)}o(Ix,"encodeBinary");function py(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,C.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,C.int32(i)])}return R(e)}o(py,"encodeBinary");function dy(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:N.LengthDelimited,value:py(i)}])}return R(e)}o(dy,"encodeBinary");function fy(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,C.int32(i)])}return R(e)}o(fy,"encodeBinary");function my(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,C.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:N.LengthDelimited,value:fy(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,C.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,C.int32(i)])}return R(e)}o(my,"encodeBinary");function hy(t){let e=[];if(t.p1!==void 0){let i=t.p1;e.push([1,C.int32(i)])}return R(e)}o(hy,"encodeBinary");function _y(t){let e=[];if(t.f1!==void 0){let i=t.f1;e.push([1,{type:N.LengthDelimited,value:hy(i)}])}if(t.p59!==void 0){let i=t.p59;e.push([59,C.int32(i)])}return R(e)}o(_y,"encodeBinary");function kx(t,e){let i=Cv({id:t,timestamp:e});return encodeURIComponent(Ge(i).replace(/\+/g,"-").replace(/\//g,"_"))}o(kx,"encodeVisitorData");function Sx(t){return Ev(Px(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}o(Sx,"decodeVisitorData");function ZI(t){let e=Nv({params:{channelId:t}});return encodeURIComponent(Ge(e))}o(ZI,"encodeChannelAnalyticsParams");function ek(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},n={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},a={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},c={};if(t?c.filters={}:c.noFilter=0,c.filters&&(t.upload_date&&(c.filters.uploadDate=e[t.upload_date]),t.type&&(c.filters.type=i[t.type]),t.duration&&(c.filters.duration=n[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(c.sortBy=r[t.sort_by]),t.features))for(let d of t.features)c.filters[a[d]]=1;let p=Av(c);return encodeURIComponent(Ge(p))}o(ek,"encodeSearchFilters");function tk(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let n=Dv(i);return encodeURIComponent(Ge(n))}o(tk,"encodeMusicSearchFilters");function Cx(t,e){let i=Ov({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(Ge(i)))}o(Cx,"encodeMessageParams");function ik(t,e={}){let n=Jv({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2,commentId:e.comment_id||""},target:"comments-section"}});return encodeURIComponent(Ge(n))}o(ik,"encodeCommentsSectionParams");function nk(t){let e=zv({videoId:t,params:{index:0},number:7});return encodeURIComponent(Ge(e))}o(nk,"encodeCommentParams");function fa(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let n=qv(i);return encodeURIComponent(Ge(n))}o(fa,"encodeCommentActionParams");function ok(t,e){let i=Qv({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(Ge(i))}o(ok,"encodeNotificationPref");function rk(t,e){let i={context:{client:{nameId:3,osName:"Android",androidSdkVersion:re.ANDROID.SDK_VERSION,osVersion:"13",acceptLanguage:"en-US",acceptRegion:"US",deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",windowHeightPoints:840,windowWidthPoints:432,clientVersion:re.ANDROID.VERSION}},videoId:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),Ix(i)}o(rk,"encodeVideoMetadataPayload");function sk(t,e){let i={context:{client:{nameId:3,osName:"Android",androidSdkVersion:re.ANDROID.SDK_VERSION,osVersion:"13",acceptLanguage:"en-US",acceptRegion:"US",deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",windowHeightPoints:840,windowWidthPoints:432,clientVersion:re.ANDROID.VERSION}},videoId:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return Ix(i)}o(sk,"encodeCustomThumbnailPayload");function ak(t){let e=dy({params:{hashtag:t,type:1}});return encodeURIComponent(Ge(e))}o(ak,"encodeHashtag");function Ex(t){let e=my({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent(Ge(e))}o(Ex,"encodeReelSequence");function uk(){let t=_y({f1:{p1:1},p59:1});return encodeURIComponent(Ge(t))}o(uk,"encodeShortsParam");var xt,ma=class extends s{constructor(e){var i,n,r,a,c,p,d;super(),xt.set(this,void 0),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=y.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=l.parseItem(e.sponsorCommentBadge,uh),this.paid_comment_chip=l.parseItem(e.paidCommentChipRenderer,ah),this.author_badge=l.parseItem(e.authorCommentBadge,sh),this.author=new D(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=l.parseItem(e.actionMenu,F),this.action_buttons=l.parseItem(e.actionButtons,Rn),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new u(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((r=(n=this.action_buttons)===null||n===void 0?void 0:n.like_button)===null||r===void 0)&&r.is_toggled),this.is_disliked=!!(!((c=(a=this.action_buttons)===null||a===void 0?void 0:a.dislike_button)===null||c===void 0)&&c.is_toggled),this.is_hearted=!!(!((d=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||d===void 0)&&d.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){return T(this,void 0,void 0,function*(){var e;if(!m(this,xt,"f"))throw new b("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new b("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new b("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(m(this,xt,"f"),{parse:!1})})}dislike(){return T(this,void 0,void 0,function*(){var e;if(!m(this,xt,"f"))throw new b("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new b("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new b("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(m(this,xt,"f"),{parse:!1})})}reply(e){return T(this,void 0,void 0,function*(){var i,n,r;if(!m(this,xt,"f"))throw new b("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new b("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let a=(n=this.action_buttons)===null||n===void 0?void 0:n.reply_button;if(!(!((r=a.endpoint)===null||r===void 0)&&r.dialog))throw new b("Reply button endpoint did not have a dialog.");let p=a.endpoint.dialog.as(Un).reply_button;if(!p)throw new b("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new b("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(m(this,xt,"f"),{commentText:e})})}translate(e){return T(this,void 0,void 0,function*(){var i,n,r,a,c,p;if(!m(this,xt,"f"))throw new b("An active caller must be provide to perform this operation.");let _={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},f=fa(22,_),x=yield m(this,xt,"f").execute("comment/perform_comment_action",{action:f,client:"ANDROID"}),v=(n=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||n===void 0?void 0:n.mutations,w=(p=(c=(a=(r=v==null?void 0:v[0])===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:w})})}setActions(e){E(this,xt,e,"f")}};o(ma,"Comment");xt=new WeakMap;ma.type="Comment";var Hn=ma;var ha=class extends s{constructor(e){super(),this.id=e.id,this.categories=l.parseArray(e.categories),this.category_buttons=l.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};o(ha,"EmojiPicker");ha.type="EmojiPicker";var dh=ha;var _a=class extends s{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.submit_button=l.parseItem(e.submitButton,I),this.cancel_button=l.parseItem(e.cancelButton,I),this.placeholder=new u(e.placeholderText),this.emoji_button=l.parseItem(e.emojiButton,I),this.emoji_picker=l.parseItem(e.emojiPicker,dh)}};o(_a,"CommentDialog");_a.type="CommentDialog";var gy=_a;var ga=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents),this.view_replies=l.parseItem(e.viewReplies,I),this.hide_replies=l.parseItem(e.hideReplies,I),this.view_replies_creator_thumbnail=y.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};o(ga,"CommentReplies");ga.type="CommentReplies";var fh=ga;var xa=class extends s{constructor(e){super(),this.simplebox_avatar=y.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};o(xa,"CommentsSimplebox");xa.type="CommentsSimplebox";var mh=xa;var va=class extends s{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};o(va,"CommentsEntryPointTeaser");va.type="CommentsEntryPointTeaser";var hh=va;var ya=class extends s{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=l.parseItem(e.contentRenderer,[hh,mh])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};o(ya,"CommentsEntryPointHeader");ya.type="CommentsEntryPointHeader";var _h=ya;var ba=class extends s{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=l.parseItem(e.createRenderer),this.sort_menu=l.parseItem(e.sortMenu,gt),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:y.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};o(ba,"CommentsHeader");ba.type="CommentsHeader";var hi=ba;var wa=class extends s{constructor(e){super(),this.submit_button=l.parseItem(e.submitButton,I),this.cancel_button=l.parseItem(e.cancelButton,I),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};o(wa,"CommentSimplebox");wa.type="CommentSimplebox";var gh=wa;var Ue,Ta=class extends s{constructor(e){super(),Ue.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,n){e&&(this.content=u.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new D({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),n&&!Reflect.has(n,"prepareAccountCommand")&&(this.like_command=new g(n.likeCommand),this.dislike_command=new g(n.dislikeCommand),this.unlike_command=new g(n.unlikeCommand),this.undislike_command=new g(n.undislikeCommand),this.reply_command=new g(n.replyCommand))}like(){return T(this,void 0,void 0,function*(){if(!m(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.like_command)throw new b("Like command not found.");if(this.is_liked)throw new b("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(m(this,Ue,"f"))})}dislike(){return T(this,void 0,void 0,function*(){if(!m(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.dislike_command)throw new b("Dislike command not found.");if(this.is_disliked)throw new b("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(m(this,Ue,"f"))})}unlike(){return T(this,void 0,void 0,function*(){if(!m(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.unlike_command)throw new b("Unlike command not found.");if(!this.is_liked)throw new b("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(m(this,Ue,"f"))})}undislike(){return T(this,void 0,void 0,function*(){if(!m(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.undislike_command)throw new b("Undislike command not found.");if(!this.is_disliked)throw new b("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(m(this,Ue,"f"))})}reply(e){return T(this,void 0,void 0,function*(){var i;if(!m(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.reply_command)throw new b("Reply command not found.");let n=(i=this.reply_command.dialog)===null||i===void 0?void 0:i.as(Un);if(!n)throw new b("Reply dialog not found.");let r=n.reply_button;if(!r)throw new b("Reply button not found in the dialog.");if(!r.endpoint)throw new b("Reply button endpoint not found.");return r.endpoint.call(m(this,Ue,"f"),{commentText:e})})}translate(e){return T(this,void 0,void 0,function*(){var i,n,r,a,c,p;if(!m(this,Ue,"f"))throw new b("Actions instance not set for this comment.");if(!this.content)throw new b("Comment content not found.",{comment_id:this.comment_id});let _={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},f=fa(22,_),x=yield m(this,Ue,"f").execute("comment/perform_comment_action",{action:f,client:"ANDROID"}),v=(n=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||n===void 0?void 0:n.mutations,w=(p=(c=(a=(r=v==null?void 0:v[0])===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.commentEntityPayload)===null||c===void 0?void 0:c.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:w})})}setActions(e){E(this,Ue,e,"f")}};o(Ta,"CommentView");Ue=new WeakMap;Ta.type="CommentView";var _i=Ta;var Wt,Zi,Ia=class extends s{constructor(e){super(),Wt.set(this,void 0),Zi.set(this,void 0),Reflect.has(e,"commentViewModel")?this.comment=l.parseItem(e.commentViewModel,_i):this.comment=l.parseItem(e.comment,Hn),this.comment_replies_data=l.parseItem(e.replies,fh),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){return T(this,void 0,void 0,function*(){var e;if(!m(this,Wt,"f"))throw new b("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new b("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(ce);if(!i)throw new b("Replies continuation not found.");let n=yield i.endpoint.call(m(this,Wt,"f"),{parse:!0});if(!n.on_response_received_endpoints_memo)throw new b("Unexpected response.",n);return this.replies=X(n.on_response_received_endpoints_memo.getType(Hn,_i).map(r=>(r.setActions(m(this,Wt,"f")),r))),E(this,Zi,n==null?void 0:n.on_response_received_endpoints_memo.getType(ce).first(),"f"),this})}getContinuation(){return T(this,void 0,void 0,function*(){var e;if(!this.replies)throw new b("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!m(this,Zi,"f"))throw new b("Continuation not found.");if(!m(this,Wt,"f"))throw new b("Actions instance not set for this thread.");let i=(e=m(this,Zi,"f").button)===null||e===void 0?void 0:e.as(I);if(!i)throw new b('"Load more" button not found.');let n=yield i.endpoint.call(m(this,Wt,"f"),{parse:!0});if(!n.on_response_received_endpoints_memo)throw new b("Unexpected response.",n);return this.replies=X(n.on_response_received_endpoints_memo.getType(Hn,_i).map(r=>(r.setActions(m(this,Wt,"f")),r))),E(this,Zi,n.on_response_received_endpoints_memo.getType(ce).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new b("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!m(this,Zi,"f")}setActions(e){E(this,Wt,e,"f")}};o(Ia,"CommentThread");Wt=new WeakMap,Zi=new WeakMap;Ia.type="CommentThread";var xh=Ia;var ka=class extends s{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=y.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new g(e.navigationEndpoint),this.tv_banner=y.fromResponse(e.tvBanner),this.menu=l.parseItem(e.menu,F)}};o(ka,"CompactChannel");ka.type="CompactChannel";var xy=ka;var Sa=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new g(e.navigationEndpoint),this.style=e.style}};o(Sa,"CompactLink");Sa.type="CompactLink";var zn=Sa;var Ca=class extends s{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};o(Ca,"PlaylistCustomThumbnail");Ca.type="PlaylistCustomThumbnail";var Gn=Ca;var Ea=class extends s{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};o(Ea,"PlaylistVideoThumbnail");Ea.type="PlaylistVideoThumbnail";var $n=Ea;var Pa=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):new D(e.longBylineText,e.ownerBadges,null),this.thumbnails=y.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(n=>n.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=l.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=l.parseItem(e.menu),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer,[$n,Gn])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};o(Pa,"Playlist");Pa.type="Playlist";var Et=Pa;var Na=class extends Et{constructor(e){super(e)}};o(Na,"CompactMix");Na.type="CompactMix";var vy=Na;var Ra=class extends s{constructor(e){var i;super();let n=((i=e.thumbnailOverlays.find(a=>a.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new D(e.shortBylineText);let r=e.lengthText?new u(e.lengthText).toString():new u(n).toString();this.duration={text:r,seconds:ke(r)},this.endpoint=new g(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=l.parseItem(e.menu,F)}};o(Ra,"CompactMovie");Ra.type="CompactMovie";var yy=Ra;var Aa=class extends Et{constructor(e){super(e)}};o(Aa,"CompactPlaylist");Aa.type="CompactPlaylist";var by=Aa;var Va=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new g(e.navigationEndpoint),this.thumbnail=y.fromResponse(e.thumbnail)}};o(Va,"CompactStation");Va.type="CompactStation";var wy=Va;var Ma=class extends s{constructor(e){super(),this.title=new u(e.title),this.confirm_button=l.parseItem(e.confirmButton,I),this.cancel_button=l.parseItem(e.cancelButton,I),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};o(Ma,"ConfirmDialog");Ma.type="ConfirmDialog";var Ty=Ma;var Da=class extends s{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var n;return{metadata_parts:(n=i.metadataParts)===null||n===void 0?void 0:n.map(r=>({text:u.fromAttributed(r.text)}))}}),this.delimiter=e.delimiter}};o(Da,"ContentMetadataView");Da.type="ContentMetadataView";var Kn=Da;var Ba=class extends s{constructor(e){super(),this.text=new u(e.text)}};o(Ba,"Message");Ba.type="Message";var gi=Ba;var La=class extends s{constructor(e){super(),this.availability_message=l.parseItem(e.availabilityMessage,gi)}};o(La,"ConversationBar");La.type="ConversationBar";var Iy=La;var Oa=class extends s{constructor(e){super(),this.copy_button=l.parseItem(e.copyButton,I),this.short_url=e.shortUrl,this.style=e.style}};o(Oa,"CopyLink");Oa.type="CopyLink";var vh=Oa;var Fa=class extends s{constructor(e){var i,n;super(),this.avatar=l.parseItem(e.avatar,_m),this.a11y_label=e.a11yLabel,!((n=(i=e.rendererContext)===null||i===void 0?void 0:i.commandContext)===null||n===void 0)&&n.onTap&&(this.on_tap_endpoint=new g(e.rendererContext.commandContext.onTap))}};o(Fa,"DecoratedAvatarView");Fa.type="DecoratedAvatarView";var yh=Fa;var Ya=class extends s{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};o(Ya,"HeatMarker");Ya.type="HeatMarker";var bh=Ya;var Ua=class extends s{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=l.parseArray(e.heatMarkers,bh),this.heat_markers_decorations=l.parseArray(e.heatMarkersDecorations)}};o(Ua,"Heatmap");Ua.type="Heatmap";var wh=Ua;var ja=class extends s{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=l.parseItem(e.value.heatmap,wh)),Reflect.has(e.value,"chapters")&&(this.value.chapters=l.parseArray(e.value.chapters,Qm)))}};o(ja,"Marker");ja.type="Marker";var Wa=class extends s{constructor(e){var i;super(),this.markers_map=X(((i=e.markersMap)===null||i===void 0?void 0:i.map(n=>new ja(n)))||[])}};o(Wa,"MultiMarkersPlayerBar");Wa.type="MultiMarkersPlayerBar";var Th=Wa;var Ja=class extends s{constructor(e){super(),this.player_bar=l.parseItem(e.playerBar,Th),this.player_bar_action_button=l.parseItem(e.playerBarActionButton,I)}};o(Ja,"DecoratedPlayerBar");Ja.type="DecoratedPlayerBar";var Ih=Ja;var Ha=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new g(e.navigationEndpoint),this.large_form_factor_background_thumbnail=l.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=l.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};o(Ha,"DefaultPromoPanel");Ha.type="DefaultPromoPanel";var ky=Ha;var za=class extends s{constructor(e){var i,n,r,a,c,p;if(super(),this.description=u.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=u.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,!((r=(n=(i=e.rendererContext.commandContext)===null||i===void 0?void 0:i.onTap)===null||n===void 0?void 0:n.innertubeCommand)===null||r===void 0)&&r.showEngagementPanelEndpoint){let d=(p=(c=(a=e.rendererContext.commandContext)===null||a===void 0?void 0:a.onTap)===null||c===void 0?void 0:c.innertubeCommand)===null||p===void 0?void 0:p.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:l.parseItem(d.engagementPanel,pi),engagement_panel_popup_type:d.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:d.identifier.surface,tag:d.identifier.tag}}}}}};o(za,"DescriptionPreviewView");za.type="DescriptionPreviewView";var kh=za;var Ga=class extends s{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new g(e.navigationEndpoint||e.correctedQueryEndpoint)}};o(Ga,"DidYouMean");Ga.type="DidYouMean";var Sy=Ga;var $a=class extends s{constructor(e){super(),this.default_button=l.parseItem(e.defaultButtonViewModel,St),this.toggled_button=l.parseItem(e.toggledButtonViewModel,St),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};o($a,"ToggleButtonView");$a.type="ToggleButtonView";var xi=$a;var Ka=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,xi),this.dislike_entity_key=e.dislikeEntityKey}};o(Ka,"DislikeButtonView");Ka.type="DislikeButtonView";var Sh=Ka;var qa=class extends s{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new g(e.command),this.target_id=e.targetId}};o(qa,"DownloadButton");qa.type="DownloadButton";var Ch=qa;var Xa=class extends s{constructor(e){super(),this.text=u.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};o(Xa,"DynamicTextView");Xa.type="DynamicTextView";var Eh=Xa;var en=class extends s{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(n=>new en(n)))}};o(en,"ChildElement");en.type="ChildElement";var Ph=en;var tn=class extends s{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return l.parseItem(e,tn);let n=e.newElement.type.componentType;this.model=l.parseItem(n==null?void 0:n.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=X(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(r=>new Ph(r)))||[]))}};o(tn,"Element");tn.type="Element";var qn=tn;var Qa=class extends s{constructor(e){super(),this.title=new u(e.title),this.first_option=l.parseItem(e.firstOption),this.menu=l.parseItem(e.menu,F)}};o(Qa,"EmergencyOnebox");Qa.type="EmergencyOnebox";var Cy=Qa;var Za=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};o(Za,"EmojiPickerCategory");Za.type="EmojiPickerCategory";var Ey=Za;var eu=class extends s{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};o(eu,"EmojiPickerCategoryButton");eu.type="EmojiPickerCategoryButton";var Py=eu;var tu=class extends s{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new g(e.command),this.emoji_ids=e.emojiIds}};o(tu,"EmojiPickerUpsellCategory");tu.type="EmojiPickerUpsellCategory";var Ny=tu;var iu=class extends s{constructor(e){super(),this.elements=l.parseArray(e.elements),this.start_ms=e.startMs}};o(iu,"Endscreen");iu.type="Endscreen";var Nh=iu;var nu=class extends s{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new g(e.endpoint),Reflect.has(e,"image")&&(this.image=y.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=y.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=l.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};o(nu,"EndscreenElement");nu.type="EndscreenElement";var Ry=nu;var ou=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new g(e.navigationEndpoint),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};o(ou,"EndScreenPlaylist");ou.type="EndScreenPlaylist";var Rh=ou;var ru=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new D(e.shortBylineText,e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=l.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};o(ru,"EndScreenVideo");ru.type="EndScreenVideo";var Ah=ru;var su=class extends s{constructor(e){super(),this.disclaimer=new u(e.disclaimer),this.info_icon={icon_type:e.infoIcon.iconType},this.usage_scenario=e.usageScenario}};o(su,"EomSettingsDisclaimer");su.type="EomSettingsDisclaimer";var Ay=su;var au=class extends s{constructor(e){super(),this.title=e.title,this.endpoint=new g(e.endpoint),this.selected=e.selected,this.content=l.parseItem(e.content)}};o(au,"ExpandableTab");au.type="ExpandableTab";var Xn=au;var uu=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(uu,"ExpandedShelfContents");uu.type="ExpandedShelfContents";var Vy=uu;var lu=class extends s{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};o(lu,"FancyDismissibleDialog");lu.type="FancyDismissibleDialog";var My=lu;var cu=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents,Ye)}};o(cu,"FeedFilterChipBar");cu.type="FeedFilterChipBar";var vt=cu;var pu=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.endpoint=new g(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};o(pu,"FeedNudge");pu.type="FeedNudge";var Dy=pu;var du=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(du,"FeedTabbedHeader");du.type="FeedTabbedHeader";var Vh=du;var fu=class extends s{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:l.parseArray(i.actions,[St,xi])})),this.style=e.style}};o(fu,"FlexibleActionsView");fu.type="FlexibleActionsView";var Mh=fu;var mu=class extends s{constructor(e){super(),this.title=new u(e.title),this.box_art=y.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new g(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};o(mu,"GameDetails");mu.type="GameDetails";var By=mu;var hu=class extends s{constructor(e){var i,n,r;super(),this.items=l.parseArray(e.items),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((r=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}get contents(){return this.items}};o(hu,"Grid");hu.type="Grid";var Ly=hu;var _u=class extends s{constructor(e){super(),this.id=e.channelId,this.author=new D(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton)}};o(_u,"GridChannel");_u.type="GridChannel";var Dh=_u;var gu=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(gu,"GridHeader");gu.type="GridHeader";var Oy=gu;var xu=class extends s{constructor(e){var i,n;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new u(e.shortBylineText):!((n=e.longBylineText)===null||n===void 0)&&n.simpleText?new u(e.longBylineText):null,this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new g(e.navigationEndpoint),this.secondary_endpoint=new g(e.secondaryNavigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};o(xu,"GridMix");xu.type="GridMix";var Fy=xu;var vu=class extends s{constructor(e){var i;super();let n=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):n!=null&&n.text?new u(n.text):null,this.endpoint=new g(e.navigationEndpoint),this.badges=l.parseArray(e.badges,ze),this.metadata=new u(e.metadata),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};o(vu,"GridMovie");vu.type="GridMovie";var Yy=vu;var yu=class extends s{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new D(e.shortBylineText,e.ownerBadges)),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(n=>y.fromResponse(n)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};o(yu,"GridPlaylist");yu.type="GridPlaylist";var Bh=yu;var bu=class extends s{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};o(bu,"ShowCustomThumbnail");bu.type="ShowCustomThumbnail";var Lh=bu;var wu=class extends s{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};o(wu,"ThumbnailOverlayBottomPanel");wu.type="ThumbnailOverlayBottomPanel";var Oh=wu;var Tu=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=ie(e.thumbnailRenderer,Lh),this.endpoint=new g(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=Ve(e.thumbnailOverlays,Oh),this.author=new D(e.shortBylineText,void 0)}};o(Tu,"GridShow");Tu.type="GridShow";var Uy=Tu;var Iu=class extends s{constructor(e){var i,n;super();let r=(i=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.rich_thumbnail=l.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):r!=null&&r.text?new u(r.text):null,this.author=e.shortBylineText&&new D(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new g(e.navigationEndpoint),this.menu=l.parseItem(e.menu,F),Reflect.has(e,"buttons")&&(this.buttons=l.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((n=e.upcomingEventData)===null||n===void 0)&&n.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};o(Iu,"GridVideo");Iu.type="GridVideo";var Fh=Iu;var ku=class extends s{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=y.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};o(ku,"GuideEntry");ku.type="GuideEntry";var nn=ku;var Su=class extends s{constructor(e){super(),this.expander_item=ie(e.expanderItem,nn),this.collapser_item=ie(e.collapserItem,nn),this.expandable_items=Ve(e.expandableItems)}};o(Su,"GuideCollapsibleEntry");Su.type="GuideCollapsibleEntry";var jy=Su;var Cu=class extends s{constructor(e){super(),this.header_entry=ie(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Ve(e.sectionItems)}};o(Cu,"GuideCollapsibleSectionEntry");Cu.type="GuideCollapsibleSectionEntry";var Wy=Cu;var Eu=class extends nn{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};o(Eu,"GuideDownloadsEntry");Eu.type="GuideDownloadsEntry";var Jy=Eu;var Pu=class extends s{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=Ve(e.items)}};o(Pu,"GuideSection");Pu.type="GuideSection";var Qn=Pu;var Nu=class extends Qn{};o(Nu,"GuideSubscriptionsSection");Nu.type="GuideSubscriptionsSection";var Yh=Nu;var Ru=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};o(Ru,"HashtagHeader");Ru.type="HashtagHeader";var Uh=Ru;var Au=class extends s{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=y.fromResponse(e.hashtagThumbnail),this.endpoint=new g(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};o(Au,"HashtagTile");Au.type="HashtagTile";var Hy=Au;var Vu=class extends s{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap)}};o(Vu,"HeroPlaylistThumbnail");Vu.type="HeroPlaylistThumbnail";var zy=Vu;var Mu=class extends s{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:y.fromResponse(e.thumbnail.image),endpoint:new g(e.thumbnail.onTap),on_long_press_endpoint:new g(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:y.fromResponse(e.backgroundImage.image),gradient_image:y.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new g(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new g(e.textOnTap)}};o(Mu,"Panel");Mu.type="Panel";var Du=class extends s{constructor(e){super(),this.panels=X(e.highlightsCarousel.panels.map(i=>new Mu(i)))}};o(Du,"HighlightsCarousel");Du.type="HighlightsCarousel";var Gy=Du;var Bu=class extends s{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new g(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new g(e.serviceEndpoint))}};o(Bu,"SearchSuggestion");Bu.type="SearchSuggestion";var jh=Bu;var Lu=class extends jh{constructor(e){super(e)}};o(Lu,"HistorySuggestion");Lu.type="HistorySuggestion";var $y=Lu;var Ou=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.previous_button=l.parseItem(e.previousButton,I),this.next_button=l.parseItem(e.nextButton,I)}get contents(){return this.items}};o(Ou,"HorizontalMovieList");Ou.type="HorizontalMovieList";var Ky=Ou;var Fu=class extends s{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new g(e.navigationEndpoint)}};o(Fu,"IconLink");Fu.type="IconLink";var Wh=Fu;var Yu=class extends s{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};o(Yu,"ImageBannerView");Yu.type="ImageBannerView";var Jh=Yu;var Uu=class extends s{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new g(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new g(e.originalQueryEndpoint):void 0}};o(Uu,"IncludingResultsFor");Uu.type="IncludingResultsFor";var qy=Uu;var ju=class extends s{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(i=>new u(i))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(i=>u.fromAttributed(i))),this.thumbnail=y.fromResponse(e.thumbnail),this.source_endpoint=new g(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};o(ju,"InfoPanelContent");ju.type="InfoPanelContent";var Hh=ju;var Wu=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.menu=l.parseItem(e.menu,F),this.content=l.parseItem(e.content,Hh),e.headerEndpoint&&(this.header_endpoint=new g(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};o(Wu,"InfoPanelContainer");Wu.type="InfoPanelContainer";var zh=Wu;var Ju=class extends s{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=l.parseArray(e.badges,ze),this.box_art=y.fromResponse(e.boxArt),this.banner=y.fromResponse(e.banner),this.buttons=l.parseArray(e.buttons,[Se,I]),this.auto_generated=new u(e.autoGenerated)}};o(Ju,"InteractiveTabbedHeader");Ju.type="InteractiveTabbedHeader";var Gh=Ju;var Hu=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(Hu,"ItemSectionHeader");Hu.type="ItemSectionHeader";var Zn=Hu;var zu=class extends s{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new g(e.endpoint)}};o(zu,"ItemSectionTab");zu.type="Tab";var $h=zu;var Gu=class extends s{constructor(e){super(),this.title=new u(e.title),this.tabs=l.parseArray(e.tabs,$h),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};o(Gu,"ItemSectionTabbedHeader");Gu.type="ItemSectionTabbedHeader";var eo=Gu;var $u=class extends s{constructor(e){super(),this.filter_menu=l.parseItem(e.filterMenu,on.SortFilterSubMenu)}};o($u,"SortFilterHeader");$u.type="SortFilterHeader";var Kh=$u;var Ku=class extends s{constructor(e){var i,n,r;super(),this.header=l.parseItem(e.header,[hi,Zn,eo,Kh,vt]),this.contents=l.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(r=(n=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||n===void 0?void 0:n.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};o(Ku,"ItemSection");Ku.type="ItemSection";var tt=Ku;var qu=class extends s{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new g(i)))}};o(qu,"LikeButton");qu.type="LikeButton";var qh=qu;var Xu=class extends s{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,xi),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};o(Xu,"LikeButtonView");Xu.type="LikeButtonView";var Xh=Xu;var Qu=class extends s{constructor(e){var i,n;super(),this.header=l.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(n=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||n===void 0?void 0:n.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};o(Qu,"LiveChat");Qu.type="LiveChat";var Qh=Qu;var Zu=class extends s{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=l.parseItem(e.contextMenuButton,I)}};o(Zu,"LiveChatBannerHeader");Zu.type="LiveChatBannerHeader";var Zh=Zu;var el=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,Zh),this.contents=l.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};o(el,"LiveChatBanner");el.type="LiveChatBanner";var e_=el;var tl=class extends s{constructor(e){super(),this.banner=l.parseItem(e.bannerRenderer,e_)}};o(tl,"AddBannerToLiveChatCommand");tl.type="AddBannerToLiveChatCommand";var Xy=tl;var il=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};o(il,"AddChatItemAction");il.type="AddChatItemAction";var t_=il;var nl=class extends s{constructor(e){super(),this.item=l.parseItem(e.item),this.duration_sec=e.durationSec}};o(nl,"AddLiveChatTickerItemAction");nl.type="AddLiveChatTickerItemAction";var Qy=nl;var ol=class extends s{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};o(ol,"DimChatItemAction");ol.type="DimChatItemAction";var Zy=ol;var rl=class extends s{constructor(e){super(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.moderation_buttons=l.parseArray(e.moderationButtons,I),this.auto_moderated_item=l.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};o(rl,"LiveChatAutoModMessage");rl.type="LiveChatAutoModMessage";var eb=rl;var sl=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=y.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=l.parseItem(e.contextMenuButton,I)}};o(sl,"LiveChatBannerPoll");sl.type="LiveChatBannerPoll";var tb=sl;var al=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new u(e.headerSubtext),this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new g(e.contextMenuEndpoint)}};o(al,"LiveChatMembershipItem");al.type="LiveChatMembershipItem";var ib=al;var ul=class extends s{constructor(e){super(),this.message=new u(e.message),this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};o(ul,"LiveChatPaidMessage");ul.type="LiveChatPaidMessage";var nb=ul;var ll=class extends s{constructor(e){super(),this.id=e.id,this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=y.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};o(ll,"LiveChatPaidSticker");ll.type="LiveChatPaidSticker";var ob=ll;var cl=class extends s{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};o(cl,"LiveChatPlaceholderItem");cl.type="LiveChatPlaceholderItem";var rb=cl;var pl=class extends s{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=l.parseItem(e.informationButton),this.endpoint=new g(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=y.fromResponse(e.authorPhoto),this.information_dialog=l.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};o(pl,"LiveChatProductItem");pl.type="LiveChatProductItem";var sb=pl;var dl=class extends s{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};o(dl,"LiveChatRestrictedParticipation");dl.type="LiveChatRestrictedParticipation";var ab=dl;var rn=class extends s{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=l.parseArray(e.inlineActionButtons,I),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};o(rn,"LiveChatMessageBase");rn.type="LiveChatMessageBase";var fl=class extends rn{constructor(e){super(e),this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new g(e.contextMenuEndpoint)}};o(fl,"LiveChatTextMessage");fl.type="LiveChatTextMessage";var ub=fl;var ml=class extends s{constructor(e){var i,n;super(),this.author=new D(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=l.parseItem((n=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||n===void 0?void 0:n.renderer),this.show_item_endpoint=new g(e.showItemEndpoint),this.id=e.id}};o(ml,"LiveChatTickerPaidMessageItem");ml.type="LiveChatTickerPaidMessageItem";var i_=ml;var hl=class extends i_{};o(hl,"LiveChatTickerPaidStickerItem");hl.type="LiveChatTickerPaidStickerItem";var lb=hl;var _l=class extends s{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new D(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};o(_l,"LiveChatTickerSponsorItem");_l.type="LiveChatTickerSponsorItem";var cb=_l;var gl=class extends rn{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=l.parseItem(e.actionButton)}};o(gl,"LiveChatViewerEngagementMessage");gl.type="LiveChatViewerEngagementMessage";var pb=gl;var xl=class extends s{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=y.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=l.parseItem(e.contextMenuButton,I)}};o(xl,"PollHeader");xl.type="PollHeader";var db=xl;var vl=class extends s{constructor(e){super(),this.id=e.id,this.contents=l.parse(e.contents),this.target_id=e.targetId}};o(vl,"LiveChatActionPanel");vl.type="LiveChatActionPanel";var n_=vl;var yl=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};o(yl,"MarkChatItemAsDeletedAction");yl.type="MarkChatItemAsDeletedAction";var fb=yl;var bl=class extends s{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};o(bl,"MarkChatItemsByAuthorAsDeletedAction");bl.type="MarkChatItemsByAuthorAsDeletedAction";var mb=bl;var wl=class extends s{constructor(e){super(),this.target_action_id=e.targetActionId}};o(wl,"RemoveBannerForLiveChatCommand");wl.type="RemoveBannerForLiveChatCommand";var hb=wl;var Tl=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId}};o(Tl,"RemoveChatItemAction");Tl.type="RemoveChatItemAction";var _b=Tl;var Il=class extends s{constructor(e){super(),this.external_channel_id=e.externalChannelId}};o(Il,"RemoveChatItemByAuthorAction");Il.type="RemoveChatItemByAuthorAction";var gb=Il;var kl=class extends s{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=l.parseItem(e.replacementItem)}};o(kl,"ReplaceChatItemAction");kl.type="ReplaceChatItemAction";var xb=kl;var Sl=class extends s{constructor(e){var i;super(),this.actions=l.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(n=>(delete n.clickTrackingParams,n))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};o(Sl,"ReplayChatItemAction");Sl.type="ReplayChatItemAction";var vb=Sl;var Cl=class extends s{constructor(e){super(),this.panel_to_show=l.parseItem(e.panelToShow,n_)}};o(Cl,"ShowLiveChatActionPanelAction");Cl.type="ShowLiveChatActionPanelAction";var yb=Cl;var El=class extends s{constructor(e){super(),this.dialog=l.parseItem(e.dialog)}};o(El,"ShowLiveChatDialogAction");El.type="ShowLiveChatDialogAction";var bb=El;var Pl=class extends s{constructor(e){super(),this.tooltip=l.parseItem(e.tooltip)}};o(Pl,"ShowLiveChatTooltipCommand");Pl.type="ShowLiveChatTooltipCommand";var wb=Pl;var Nl=class extends s{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};o(Nl,"UpdateDateTextAction");Nl.type="UpdateDateTextAction";var o_=Nl;var Rl=class extends s{constructor(e){super(),this.description=new u(e.description)}};o(Rl,"UpdateDescriptionAction");Rl.type="UpdateDescriptionAction";var r_=Rl;var Al=class extends s{constructor(e){super(),this.poll_to_update=l.parseItem(e.pollToUpdate)}};o(Al,"UpdateLiveChatPollAction");Al.type="UpdateLiveChatPollAction";var Tb=Al;var Vl=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(Vl,"UpdateTitleAction");Vl.type="UpdateTitleAction";var s_=Vl;var Ml=class extends s{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};o(Ml,"UpdateToggleButtonTextAction");Ml.type="UpdateToggleButtonTextAction";var a_=Ml;var Dl=class extends s{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};o(Dl,"UpdateViewershipAction");Dl.type="UpdateViewershipAction";var u_=Dl;var Bl=class extends ze{constructor(e){super(e),this.custom_thumbnail=y.fromResponse(e.customThumbnail)}};o(Bl,"LiveChatAuthorBadge");Bl.type="LiveChatAuthorBadge";var Ib=Bl;var Ll=class extends s{constructor(e){super(),this.confirm_button=l.parseItem(e.confirmButton,I),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};o(Ll,"LiveChatDialog");Ll.type="LiveChatDialog";var kb=Ll;var Ol=class extends s{constructor(e){super(),this.overflow_menu=l.parseItem(e.overflowMenu,F),this.collapse_button=l.parseItem(e.collapseButton,I),this.view_selector=l.parseItem(e.viewSelector,gt)}};o(Ol,"LiveChatHeader");Ol.type="LiveChatHeader";var l_=Ol;var Fl=class extends s{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=l.parseItem(e.moreCommentsBelowButton,I)}};o(Fl,"LiveChatItemList");Fl.type="LiveChatItemList";var c_=Fl;var Yl=class extends s{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.send_button=l.parseItem(e.sendButton,I),this.target_id=e.targetId}};o(Yl,"LiveChatMessageInput");Yl.type="LiveChatMessageInput";var Sb=Yl;var Ul=class extends s{constructor(e){super(),this.name=new u(e.authorName),this.photo=y.fromResponse(e.authorPhoto),this.badges=l.parseArray(e.authorBadges)}};o(Ul,"LiveChatParticipant");Ul.type="LiveChatParticipant";var p_=Ul;var jl=class extends s{constructor(e){super(),this.title=new u(e.title),this.participants=l.parseArray(e.participants,p_)}};o(jl,"LiveChatParticipantsList");jl.type="LiveChatParticipantsList";var d_=jl;var Wl=class extends s{constructor(e){super(),this.title=u.fromAttributed(e.title),this.metadata=l.parseItem(e.metadata,Kn)}};o(Wl,"LockupMetadataView");Wl.type="LockupMetadataView";var f_=Wl;var Jl=class extends s{constructor(e){super(),this.content_image=l.parseItem(e.contentImage,oh),this.metadata=l.parseItem(e.metadata,f_),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.on_tap_endpoint=new g(e.rendererContext.commandContext.onTap)}};o(Jl,"LockupView");Jl.type="LockupView";var m_=Jl;var Hl=class extends I{constructor(e){super(e)}};o(Hl,"MenuNavigationItem");Hl.type="MenuNavigationItem";var h_=Hl;var zl=class extends I{constructor(e){super(e)}};o(zl,"MenuServiceItem");zl.type="MenuServiceItem";var vi=zl;var Gl=class extends s{constructor(e){super(),this.items=l.parseArray(e.items,[h_,vi])}};o(Gl,"MenuPopup");Gl.type="MenuPopup";var Cb=Gl;var $l=class extends s{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint)}};o($l,"MenuServiceItemDownload");$l.type="MenuServiceItemDownload";var Eb=$l;var Kl=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.sections=l.parseArray(e.sections),this.style=e.style}};o(Kl,"MultiPageMenu");Kl.type="MultiPageMenu";var Pb=Kl;var ql=class extends s{constructor(e){super(),this.items=l.parse(e.items)}get contents(){return this.items}};o(ql,"MultiPageMenuNotificationSection");ql.type="MultiPageMenuNotificationSection";var Nb=ql;var Xl=class extends s{constructor(e){super()}};o(Xl,"MusicMenuItemDivider");Xl.type="MusicMenuItemDivider";var __=Xl;var Ql=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new g(e.selectedCommand)),this.selected=!!this.endpoint}};o(Ql,"MusicMultiSelectMenuItem");Ql.type="MusicMultiSelectMenuItem";var to=Ql;var Zl=class extends s{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=l.parseArray(e.options,[to,__])}};o(Zl,"MusicMultiSelectMenu");Zl.type="MusicMultiSelectMenu";var g_=Zl;var ec=class extends s{constructor(e){super(),this.title=new u(e.title),this.buttons=l.parseArray(e.buttons,I)}};o(ec,"SimpleMenuHeader");ec.type="SimpleMenuHeader";var x_=ec;var tc=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new g(e.buttonCommand)}};o(tc,"MerchandiseItem");tc.type="MerchandiseItem";var Rb=tc;var ic=class extends s{constructor(e){super(),this.title=e.title,this.menu=l.parseItem(e.actionButton),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(ic,"MerchandiseShelf");ic.type="MerchandiseShelf";var v_=ic;var nc=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};o(nc,"MetadataRow");nc.type="MetadataRow";var Ab=nc;var oc=class extends s{constructor(e){super(),this.rows=l.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};o(oc,"MetadataRowContainer");oc.type="MetadataRowContainer";var y_=oc;var rc=class extends s{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};o(rc,"MetadataRowHeader");rc.type="MetadataRowHeader";var Vb=rc;var sc=class extends s{constructor(e){super(),this.section_list=l.parseItem(e)}};o(sc,"MetadataScreen");sc.type="MetadataScreen";var Mb=sc;var ac=class extends s{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=y.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};o(ac,"MicroformatData");ac.type="MicroformatData";var yi=ac;var uc=class extends Et{constructor(e){super(e)}};o(uc,"Mix");uc.type="Mix";var Db=uc;var lc=class extends s{constructor(e){super(),this.title=new u(e.title),this.content=new u(e.content),this.button=l.parseItem(e.button,I)}};o(lc,"ModalWithTitleAndButton");lc.type="ModalWithTitleAndButton";var Bb=lc;var cc=class extends s{constructor(e){var i,n,r;super();let a=((i=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new D(e.longBylineText,e.ownerBadges,(r=(n=e.channelThumbnailSupportedRenderers)===null||n===void 0?void 0:n.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(a).toString(),seconds:ke(e.lengthText?new u(e.lengthText).toString():new u(a).toString())},this.endpoint=new g(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=l.parseItem(e.menu,F)}};o(cc,"Movie");cc.type="Movie";var Lb=cc;var pc=class extends s{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(n=>new y(n)).sort((n,r)=>r.width-n.width)}};o(pc,"MovingThumbnail");pc.type="MovingThumbnail";var Ob=pc;var dc=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(dc,"MusicCardShelfHeaderBasic");dc.type="MusicCardShelfHeaderBasic";var b_=dc;var fc=class extends s{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};o(fc,"MusicInlineBadge");fc.type="MusicInlineBadge";var io=fc;var mc=class extends s{constructor(e){var i,n;super(),this.endpoint=new g(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(n=e.accessibilityPauseData.accessibilityData)===null||n===void 0?void 0:n.label),this.icon_color=e.iconColor}};o(mc,"MusicPlayButton");mc.type="MusicPlayButton";var no=mc;var hc=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,no),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};o(hc,"MusicItemThumbnailOverlay");hc.type="MusicItemThumbnailOverlay";var Pt=hc;var _c=class extends s{constructor(e){super(),this.contents=y.fromResponse(e.thumbnail)}};o(_c,"MusicThumbnail");_c.type="MusicThumbnail";var Ne=_c;var gc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ne),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=l.parseArray(e.buttons,I),this.menu=l.parseItem(e.menu,F),this.on_tap=new g(e.onTap),this.header=l.parseItem(e.header,b_),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=l.parseArray(e.subtitleBadges,io),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Pt),Reflect.has(e,"contents")&&(this.contents=l.parseArray(e.contents))}};o(gc,"MusicCardShelf");gc.type="MusicCardShelf";var Fb=gc;var xc=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Ne)),Reflect.has(e,"moreContentButton")&&(this.more_content=l.parseItem(e.moreContentButton,I)),Reflect.has(e,"endIcons")&&(this.end_icons=l.parseArray(e.endIcons,Wh))}};o(xc,"MusicCarouselShelfBasicHeader");xc.type="MusicCarouselShelfBasicHeader";var w_=xc;var vc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ne),this.overlay=l.parseItem(e.overlay,Pt),this.on_tap=new g(e.onTap),this.menu=l.parseItem(e.menu,F),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};o(vc,"MusicMultiRowListItem");vc.type="MusicMultiRowListItem";var T_=vc;var yc=class extends s{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new g(e.clickCommand)}};o(yc,"MusicNavigationButton");yc.type="MusicNavigationButton";var I_=yc;var bc=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};o(bc,"MusicResponsiveListItemFixedColumn");bc.type="musicResponsiveListItemFlexColumnRenderer";var k_=bc;var wc=class extends s{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};o(wc,"MusicResponsiveListItemFlexColumn");wc.type="MusicResponsiveListItemFlexColumn";var S_=wc;var it,oo,Nx,jb,Yb,Ub,Wb,Jb,Hb,zb,Gb,$b,Tc=class extends s{constructor(e){var i,n,r,a,c,p;super(),it.add(this),oo.set(this,void 0),this.flex_columns=l.parseArray(e.flexColumns,S_),this.fixed_columns=l.parseArray(e.fixedColumns,k_),E(this,oo,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((n=e==null?void 0:e.playlistItemData)===null||n===void 0?void 0:n.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint));let d=(p=(c=(a=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseEndpointContextSupportedConfigs)===null||c===void 0?void 0:c.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(d||this.flex_columns.find(f=>{var x,v,w,k;return((k=(w=(v=(x=f.title.endpoint)===null||x===void 0?void 0:x.payload)===null||v===void 0?void 0:v.browseEndpointContextSupportedConfigs)===null||w===void 0?void 0:w.browseEndpointContextMusicConfig)===null||k===void 0?void 0:k.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(d="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),d){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",m(this,it,"m",Gb).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",m(this,it,"m",$b).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",m(this,it,"m",Wb).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",m(this,it,"m",Jb).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",m(this,it,"m",Hb).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",m(this,it,"m",zb).call(this);break;default:this.flex_columns[1]?m(this,it,"m",jb).call(this):m(this,it,"m",Nx).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Ne)),Reflect.has(e,"badges")&&(this.badges=l.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu,F)),Reflect.has(e,"overlay")&&(this.overlay=l.parseItem(e.overlay,Pt))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};o(Tc,"MusicResponsiveListItem");oo=new WeakMap,it=new WeakSet,Nx=o(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),jb=o(function(){var e,i,n,r,a,c,p;switch((p=(c=(a=(r=(n=(i=(e=this.flex_columns.at(0))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.at(0))===null||n===void 0?void 0:n.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.watchEndpointMusicSupportedConfigs)===null||c===void 0?void 0:c.watchEndpointMusicConfig)===null||p===void 0?void 0:p.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",m(this,it,"m",Ub).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",m(this,it,"m",Yb).call(this);break;default:m(this,it,"m",Nx).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),Yb=o(function(){var e,i,n,r,a,c,p,d,_,f,x,v,w,k,S;this.id=m(this,oo,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let P=((a=(r=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title.runs)===null||r===void 0?void 0:r.find(B=>/^\d+$/.test(B.text.replace(/:/g,""))))===null||a===void 0?void 0:a.text)||((p=(c=this.fixed_columns.first())===null||c===void 0?void 0:c.title)===null||p===void 0?void 0:p.toString());P&&(this.duration={text:P,seconds:ke(P)});let A=((_=(d=this.flex_columns.at(1))===null||d===void 0?void 0:d.title.runs)===null||_===void 0?void 0:_.find(B=>je(B)&&B.endpoint&&B.endpoint.payload.browseId.startsWith("MPR")))||((x=(f=this.flex_columns.at(2))===null||f===void 0?void 0:f.title.runs)===null||x===void 0?void 0:x.find(B=>je(B)&&B.endpoint&&B.endpoint.payload.browseId.startsWith("MPR")));A&&je(A)&&(this.album={id:(w=(v=A.endpoint)===null||v===void 0?void 0:v.payload)===null||w===void 0?void 0:w.browseId,name:A.text,endpoint:A.endpoint});let M=(S=(k=this.flex_columns.at(1))===null||k===void 0?void 0:k.title.runs)===null||S===void 0?void 0:S.filter(B=>je(B)&&B.endpoint&&B.endpoint.payload.browseId.startsWith("UC"));M&&(this.artists=M.map(B=>{var $,te;return{name:B.text,channel_id:je(B)?(te=($=B.endpoint)===null||$===void 0?void 0:$.payload)===null||te===void 0?void 0:te.browseId:void 0,endpoint:je(B)?B.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),Ub=o(function(){var e,i,n,r,a,c,p,d,_,f;this.id=m(this,oo,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(n=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(w=>w.text.match(/(.*?) views/)))===null||n===void 0?void 0:n.toString();let x=(a=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||a===void 0?void 0:a.filter(w=>je(w)&&w.endpoint&&w.endpoint.payload.browseId.startsWith("UC"));x&&(this.authors=x.map(w=>{var k,S;return{name:w.text,channel_id:je(w)?(S=(k=w.endpoint)===null||k===void 0?void 0:k.payload)===null||S===void 0?void 0:S.browseId:void 0,endpoint:je(w)?w.endpoint:void 0}}));let v=((p=(c=this.flex_columns[1].title.runs)===null||c===void 0?void 0:c.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((f=(_=(d=this.fixed_columns.first())===null||d===void 0?void 0:d.title.runs)===null||_===void 0?void 0:_.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))===null||f===void 0?void 0:f.text);v&&(this.duration={text:v,seconds:ke(v)})},"_MusicResponsiveListItem_parseVideo"),Wb=o(function(){var e,i,n,r,a,c;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title,this.subscribers=((c=(a=(r=this.subtitle)===null||r===void 0?void 0:r.runs)===null||a===void 0?void 0:a.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||c===void 0?void 0:c.text)||""},"_MusicResponsiveListItem_parseArtist"),Jb=o(function(){var e,i,n,r;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((r=(n=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||n===void 0?void 0:n.find(a=>/^\d+(,\d+)? songs?$/i.test(a.text)))===null||r===void 0?void 0:r.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),Hb=o(function(){var e,i;this.id=m(this,oo,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),zb=o(function(){var e,i;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),Gb=o(function(){var e,i,n,r,a,c,p,d,_;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let f=(r=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title.runs)===null||r===void 0?void 0:r.find(x=>je(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));f&&je(f)&&(this.author={name:f.text,channel_id:(c=(a=f.endpoint)===null||a===void 0?void 0:a.payload)===null||c===void 0?void 0:c.browseId,endpoint:f.endpoint}),this.year=(_=(d=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||d===void 0?void 0:d.find(x=>/^[12][0-9]{3}$/.test(x.text)))===null||_===void 0?void 0:_.text},"_MusicResponsiveListItem_parseAlbum"),$b=o(function(){var e,i,n,r,a,c,p,d;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let _=(r=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title.runs)===null||r===void 0?void 0:r.find(x=>x.text.match(/\d+ (song|songs)/));this.item_count=_?_.text:void 0;let f=(c=(a=this.flex_columns.at(1))===null||a===void 0?void 0:a.title.runs)===null||c===void 0?void 0:c.find(x=>je(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));f&&je(f)&&(this.author={name:f.text,channel_id:(d=(p=f.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId,endpoint:f.endpoint})},"_MusicResponsiveListItem_parsePlaylist");Tc.type="MusicResponsiveListItem";var bi=Tc;var Ic=class extends s{constructor(e){var i,n,r,a,c,p,d,_,f,x,v,w,k,S,P,A,M,B,$,te,ue,pe;switch(super(),this.title=new u(e.title),this.endpoint=new g(e.navigationEndpoint),this.id=((n=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||n===void 0?void 0:n.browseId)||((a=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.videoId),this.subtitle=new u(e.subtitle),this.badges=l.parse(e.subtitleBadges),(_=(d=(p=(c=this.endpoint)===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||d===void 0?void 0:d.browseEndpointContextMusicConfig)===null||_===void 0?void 0:_.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((x=(f=this.endpoint)===null||f===void 0?void 0:f.metadata)===null||x===void 0?void 0:x.api_url)==="/next"?this.item_type="endpoint":!((v=this.subtitle.runs)===null||v===void 0)&&v[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((k=(w=this.subtitle.runs)===null||w===void 0?void 0:w.find(Y=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(Y.text)))===null||k===void 0?void 0:k.text)||"";else if(this.item_type=="playlist"){let Y=(S=this.subtitle.runs)===null||S===void 0?void 0:S.find(V=>V.text.match(/\d+ songs|song/));this.item_count=Y?Y.text:null}else if(this.item_type=="album"){let Y=(P=this.subtitle.runs)===null||P===void 0?void 0:P.filter(V=>{var q,oe;return(oe=(q=V.endpoint)===null||q===void 0?void 0:q.payload)===null||oe===void 0?void 0:oe.browseId.startsWith("UC")});Y&&(this.artists=Y.map(V=>{var q,oe;return{name:V.text,channel_id:(oe=(q=V.endpoint)===null||q===void 0?void 0:q.payload)===null||oe===void 0?void 0:oe.browseId,endpoint:V.endpoint}})),this.year=(A=this.subtitle.runs)===null||A===void 0?void 0:A.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((B=(M=this===null||this===void 0?void 0:this.subtitle.runs)===null||M===void 0?void 0:M.find(V=>V==null?void 0:V.text.match(/(.*?) views/)))===null||B===void 0?void 0:B.text)||"N/A";let Y=($=this.subtitle.runs)===null||$===void 0?void 0:$.find(V=>{var q,oe,Te;return(Te=(oe=(q=V.endpoint)===null||q===void 0?void 0:q.payload)===null||oe===void 0?void 0:oe.browseId)===null||Te===void 0?void 0:Te.startsWith("UC")});Y&&(this.author={name:Y==null?void 0:Y.text,channel_id:(ue=(te=Y==null?void 0:Y.endpoint)===null||te===void 0?void 0:te.payload)===null||ue===void 0?void 0:ue.browseId,endpoint:Y==null?void 0:Y.endpoint})}else if(this.item_type=="song"){let Y=(pe=this.subtitle.runs)===null||pe===void 0?void 0:pe.filter(V=>{var q,oe;return(oe=(q=V.endpoint)===null||q===void 0?void 0:q.payload)===null||oe===void 0?void 0:oe.browseId.startsWith("UC")});Y&&(this.artists=Y.map(V=>{var q,oe;return{name:V==null?void 0:V.text,channel_id:(oe=(q=V==null?void 0:V.endpoint)===null||q===void 0?void 0:q.payload)===null||oe===void 0?void 0:oe.browseId,endpoint:V==null?void 0:V.endpoint}}))}this.thumbnail=y.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Pt),this.menu=l.parseItem(e.menu,F)}};o(Ic,"MusicTwoRowItem");Ic.type="MusicTwoRowItem";var C_=Ic;var kc=class extends s{constructor(e){super(),this.header=l.parseItem(e.header,w_),this.contents=l.parseArray(e.contents,[C_,bi,T_,I_]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};o(kc,"MusicCarouselShelf");kc.type="MusicCarouselShelf";var Kb=kc;var Sc=class extends s{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};o(Sc,"MusicDescriptionShelf");Sc.type="MusicDescriptionShelf";var E_=Sc;var Cc=class extends s{constructor(e){var i,n,r,a,c,p,d,_,f;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((n=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(v=>/^[12][0-9]{3}$/.test(v.text)))===null||n===void 0?void 0:n.text)||"",this.song_count=((a=(r=this.second_subtitle.runs)===null||r===void 0?void 0:r[0])===null||a===void 0?void 0:a.text)||"",this.total_duration=((p=(c=this.second_subtitle.runs)===null||c===void 0?void 0:c[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=y.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=l.parseArray(e.subtitleBadges);let x=(d=this.subtitle.runs)===null||d===void 0?void 0:d.find(v=>{var w,k;return(k=(w=v==null?void 0:v.endpoint)===null||w===void 0?void 0:w.payload)===null||k===void 0?void 0:k.browseId.startsWith("UC")});x&&(this.author={name:x.text,channel_id:(f=(_=x.endpoint)===null||_===void 0?void 0:_.payload)===null||f===void 0?void 0:f.browseId,endpoint:x.endpoint}),this.menu=l.parseItem(e.menu)}};o(Cc,"MusicDetailHeader");Cc.type="MusicDetailHeader";var qb=Cc;var Ec=class extends s{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};o(Ec,"MusicDownloadStateBadge");Ec.type="MusicDownloadStateBadge";var Xb=Ec;var Pc=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.edit_header=l.parseItem(e.editHeader),this.playlist_id=e.playlistId}};o(Pc,"MusicEditablePlaylistDetailHeader");Pc.type="MusicEditablePlaylistDetailHeader";var Qb=Pc;var Nc=class extends s{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?l.parseItem(e,qn):null}};o(Nc,"MusicElementHeader");Nc.type="MusicElementHeader";var Zb=Nc;var Rc=class extends s{constructor(e){super(),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};o(Rc,"MusicHeader");Rc.type="MusicHeader";var ew=Rc;var Ac=class extends s{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=l.parseItem(e.thumbnail,Ne)}};o(Ac,"MusicImmersiveHeader");Ac.type="MusicImmersiveHeader";var tw=Ac;var Vc=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new g(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};o(Vc,"ActionButton");Vc.type="ActionButton";var Mc=class{constructor(e){this.image=y.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new Vc(i))}};o(Mc,"Panel");Mc.type="Panel";var Dc=class extends s{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new Mc(i))}};o(Dc,"MusicLargeCardItemCarousel");Dc.type="MusicLargeCardItemCarousel";var iw=Dc;var Bc=class extends s{constructor(e){super(),this.title=new u(e.title),this.edit_title=new u(e.editTitle),this.edit_description=new u(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new g(e.collaborationSettingsCommand),this.privacy_dropdown=l.parseItem(e.privacyDropdown,ni)}};o(Bc,"MusicPlaylistEditHeader");Bc.type="MusicPlaylistEditHeader";var nw=Bc;var Lc=class extends s{constructor(e){var i,n,r;super(),this.playlist_id=e.playlistId,this.contents=l.parseArray(e.contents,bi),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((r=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}};o(Lc,"MusicPlaylistShelf");Lc.type="MusicPlaylistShelf";var ow=Lc;var Oc=class extends s{constructor(e){var i,n,r,a,c;super(),this.title=new u(e.title),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new g(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:ke(new u(e.lengthText).toString())};let p=(i=new u(e.longBylineText).runs)===null||i===void 0?void 0:i.find(_=>{var f,x,v;return(v=(x=(f=_.endpoint)===null||f===void 0?void 0:f.payload)===null||x===void 0?void 0:x.browseId)===null||v===void 0?void 0:v.startsWith("MPR")}),d=(n=new u(e.longBylineText).runs)===null||n===void 0?void 0:n.filter(_=>{var f,x,v;return(v=(x=(f=_.endpoint)===null||f===void 0?void 0:f.payload)===null||x===void 0?void 0:x.browseId)===null||v===void 0?void 0:v.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),p&&(this.album={id:(a=(r=p.endpoint)===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.browseId,name:p.text,year:(c=new u(e.longBylineText).runs)===null||c===void 0?void 0:c.slice(-1)[0].text,endpoint:p.endpoint}),d&&(this.artists=d.map(_=>{var f,x;return{name:_.text,channel_id:(x=(f=_.endpoint)===null||f===void 0?void 0:f.payload)===null||x===void 0?void 0:x.browseId,endpoint:_.endpoint}})),this.badges=l.parseArray(e.badges),this.menu=l.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};o(Oc,"PlaylistPanelVideo");Oc.type="PlaylistPanelVideo";var Jt=Oc;var Fc=class extends s{constructor(e){super(),this.primary=l.parseItem(e.primaryRenderer,Jt),Reflect.has(e,"counterpart")&&(this.counterpart=X(e.counterpart.map(i=>l.parseItem(i.counterpartRenderer,Jt))||[]))}};o(Fc,"PlaylistPanelVideoWrapper");Fc.type="PlaylistPanelVideoWrapper";var P_=Fc;var Yc=class extends s{constructor(e){var i,n,r,a,c,p;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=l.parseArray(e.contents,[P_,Jt,hm]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((r=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextRadioContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};o(Yc,"PlaylistPanel");Yc.type="PlaylistPanel";var N_=Yc;var Uc=class extends s{constructor(e){super(),this.content=l.parseItem(e.content,N_)}};o(Uc,"MusicQueue");Uc.type="MusicQueue";var R_=Uc;var jc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ne),this.buttons=l.parseArray(e.buttons,[Ch,xe,no,I,F]),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.strapline_text_one=new u(e.straplineTextOne),this.strapline_thumbnail=l.parseItem(e.straplineThumbnail,Ne),this.second_subtitle=new u(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=l.parseArray(e.subtitleBadge,io)),Reflect.has(e,"description")&&(this.description=l.parseItem(e.description,E_))}};o(jc,"MusicResponsiveHeader");jc.type="MusicResponsiveHeader";var rw=jc;var Wc=class extends s{constructor(e){var i,n,r,a;super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents,bi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new g(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((n=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||n===void 0?void 0:n.continuation)||((a=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=l.parseItem(e.bottomButton,I)),Reflect.has(e,"subheaders")&&(this.subheaders=l.parseArray(e.subheaders))}};o(Wc,"MusicShelf");Wc.type="MusicShelf";var sw=Wc;var Jc=class extends s{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=l.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};o(Jc,"MusicSideAlignedItem");Jc.type="MusicSideAlignedItem";var aw=Jc;var Hc=class extends s{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=l.parseItem(e.menu,g_)}};o(Hc,"MusicSortFilterButton");Hc.type="MusicSortFilterButton";var uw=Hc;var zc=class extends s{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};o(zc,"MusicTastebuilderShelfThumbnail");zc.type="MusicTastebuilderShelfThumbnail";var A_=zc;var Gc=class extends s{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,A_),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=l.parseItem(e.actionButton,I),this.is_visible=e.isVisible}};o(Gc,"MusicTasteBuilderShelf");Gc.type="MusicTasteBuilderShelf";var lw=Gc;var $c=class extends s{constructor(e){var i,n;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?y.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=l.parseItem(e.menu,F),this.foreground_thumbnail=e.foregroundThumbnail?y.fromResponse((n=e.foregroundThumbnail.musicThumbnailRenderer)===null||n===void 0?void 0:n.thumbnail):[]}};o($c,"MusicVisualHeader");$c.type="MusicVisualHeader";var cw=$c;var Kc=class extends s{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new g(e.navigationEndpoint),this.record_click_endpoint=new g(e.recordClickEndpoint),this.menu=l.parseItem(e.contextualMenu),this.read=e.read}};o(Kc,"Notification");Kc.type="Notification";var V_=Kc;var qc=class extends s{constructor(e){super(),this.title=l.parseItem(e.title,Eh),this.image=l.parseItem(e.image,[Dn,yh]),this.metadata=l.parseItem(e.metadata,Kn),this.actions=l.parseItem(e.actions,Mh),this.description=l.parseItem(e.description,kh),this.attributation=l.parseItem(e.attributation,fm),this.banner=l.parseItem(e.banner,Jh)}};o(qc,"PageHeaderView");qc.type="PageHeaderView";var M_=qc;var Xc=class extends s{constructor(e){super(),this.page_title=e.pageTitle,this.content=l.parseItem(e.content,M_)}};o(Xc,"PageHeader");Xc.type="PageHeader";var Nt=Xc;var Qc=class extends s{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};o(Qc,"PageIntroduction");Qc.type="PageIntroduction";var D_=Qc;var Zc=class extends s{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new g(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};o(Zc,"PivotButton");Zc.type="PivotButton";var B_=Zc;var ep=class extends s{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:y.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new g(e.featuredChannel.navigationEndpoint),subscribe_button:l.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};o(ep,"PlayerAnnotationsExpanded");ep.type="PlayerAnnotationsExpanded";var L_=ep;var tp=class extends s{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};o(tp,"PlayerCaptionsTracklist");tp.type="PlayerCaptionsTracklist";var O_=tp;var ip=class extends s{constructor(e){super(),this.endpoint=new g(e.endpoint),this.enable_listen_first=e.enableListenFirst}};o(ip,"PlayerOverflow");ip.type="PlayerOverflow";var F_=ip;var np=class extends s{constructor(e){super(),this.overflow=l.parseItem(e.overflow,F_)}};o(np,"PlayerControlsOverlay");np.type="PlayerControlsOverlay";var pw=np;var op=class extends s{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=l.parseItem(e.proceedButton,I),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};o(op,"PlayerErrorMessage");op.type="PlayerErrorMessage";var dw=op;var rp=class extends s{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};o(rp,"PlayerLegacyDesktopYpcOffer");rp.type="PlayerLegacyDesktopYpcOffer";var fw=rp;var sp=class extends s{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};o(sp,"YpcTrailer");sp.type="YpcTrailer";var Y_=sp;var ap=class extends s{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=l.parseItem(e.ypcTrailer,Y_)}};o(ap,"PlayerLegacyDesktopYpcTrailer");ap.type="PlayerLegacyDesktopYpcTrailer";var up=ap;var lp=class extends s{constructor(e){super();let[i,n,r,a,c]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(n,10),thumbnail_height:parseInt(r,10),columns:parseInt(a,10),rows:parseInt(c,10)}}};o(lp,"PlayerLiveStoryboardSpec");lp.type="PlayerLiveStoryboardSpec";var U_=lp;var cp=class extends s{constructor(e){var i,n;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=!((n=e.liveBroadcastDetails)===null||n===void 0)&&n.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};o(cp,"PlayerMicroformat");cp.type="PlayerMicroformat";var nt=cp;var pp=class extends s{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=y.fromResponse(e.background),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new D(e.byline),this.cancel_button=l.parseItem(e.cancelButton,I),this.next_button=l.parseItem(e.nextButton,I),this.close_button=l.parseItem(e.closeButton,I)}};o(pp,"PlayerOverlayAutoplay");pp.type="PlayerOverlayAutoplay";var j_=pp;var dp=class extends s{constructor(e){super(),this.results=l.parseArray(e.results,[Ah,Rh]),this.title=new u(e.title).toString()}};o(dp,"WatchNextEndScreen");dp.type="WatchNextEndScreen";var W_=dp;var fp=class extends s{constructor(e){super(),this.end_screen=l.parseItem(e.endScreen,W_),this.autoplay=l.parseItem(e.autoplay,j_),this.share_button=l.parseItem(e.shareButton,I),this.add_to_menu=l.parseItem(e.addToMenu,F),this.fullscreen_engagement=l.parseItem(e.fullscreenEngagement),this.actions=l.parseArray(e.actions),this.browser_media_session=l.parseItem(e.browserMediaSession),this.decorated_player_bar=l.parseItem(e.decoratedPlayerBarRenderer,Ih)}};o(fp,"PlayerOverlay");fp.type="PlayerOverlay";var J_=fp;var mp=class extends s{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new D(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=l.parseItem(e.saveButton),this.shuffle_play_button=l.parseItem(e.shufflePlayButton),this.menu=l.parseItem(e.moreActionsMenu),this.banner=l.parseItem(e.playlistHeaderBanner)}};o(mp,"PlaylistHeader");mp.type="PlaylistHeader";var H_=mp;var hp=class extends s{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new g(e.action)}};o(hp,"PlaylistInfoCardContent");hp.type="PlaylistInfoCardContent";var mw=hp;var _p=class extends s{constructor(e){super(),this.title=e.title,this.description=e.description||null}};o(_p,"PlaylistMetadata");_p.type="PlaylistMetadata";var z_=_p;var gp=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(gp,"PlaylistSidebar");gp.type="PlaylistSidebar";var hw=gp;var xp=class extends s{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=l.parseItem(e.menu),this.endpoint=new g(e.navigationEndpoint),this.description=new u(e.description)}};o(xp,"PlaylistSidebarPrimaryInfo");xp.type="PlaylistSidebarPrimaryInfo";var G_=xp;var vp=class extends s{constructor(e){super(),this.owner=l.parseItem(e.videoOwner),this.button=l.parseItem(e.button)}};o(vp,"PlaylistSidebarSecondaryInfo");vp.type="PlaylistSidebarSecondaryInfo";var $_=vp;var yp=class extends s{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new D(e.shortBylineText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new g(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=l.parseItem(e.menu,F),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Xi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Xi))===null||e===void 0?void 0:e.style)==="UPCOMING"}};o(yp,"PlaylistVideo");yp.type="PlaylistVideo";var ro=yp;var bp=class extends s{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=l.parseArray(e.contents)}};o(bp,"PlaylistVideoList");bp.type="PlaylistVideoList";var _w=bp;var wp=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new g(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new g(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?y.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};o(wp,"Poll");wp.type="Poll";var gw=wp;var Tp=class extends si{constructor(e){super(e)}};o(Tp,"Post");Tp.type="Post";var K_=Tp;var Ip=class extends s{constructor(e){super(),this.images=l.parseArray(e.images,gm)}};o(Ip,"PostMultiImage");Ip.type="PostMultiImage";var xw=Ip;var kp=class extends s{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};o(kp,"ProductListHeader");kp.type="ProductListHeader";var vw=kp;var Sp=class extends s{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new g(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=l.parseItem(e.viewButton,I)}};o(Sp,"ProductListItem");Sp.type="ProductListItem";var yw=Sp;var Cp=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(Cp,"ProfileColumn");Cp.type="ProfileColumn";var bw=Cp;var Ep=class extends s{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(Ep,"ProfileColumnStats");Ep.type="ProfileColumnStats";var ww=Ep;var Pp=class extends s{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};o(Pp,"ProfileColumnStatsEntry");Pp.type="ProfileColumnStatsEntry";var Tw=Pp;var Np=class extends s{constructor(e){super(),this.title=new u(e.title),this.thumbnails=y.fromResponse(e.thumbnail)}};o(Np,"ProfileColumnUserInfo");Np.type="ProfileColumnUserInfo";var Iw=Np;var Rp=class extends s{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};o(Rp,"Quiz");Rp.type="Quiz";var kw=Rp;var Ap=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new y(i)),this.button=l.parseItem(e.button,I),this.surface=e.surface}};o(Ap,"RecognitionShelf");Ap.type="RecognitionShelf";var Sw=Ap;var Vp=class extends s{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=y.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new g(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};o(Vp,"ReelItem");Vp.type="ReelItem";var so=Vp;var Mp=class extends s{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.author=new D(e.channelNavigationEndpoint,void 0)}};o(Mp,"ReelPlayerHeader");Mp.type="ReelPlayerHeader";var q_=Mp;var Dp=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,qh),this.reel_player_header_supported_renderers=l.parseItem(e.reelPlayerHeaderSupportedRenderers,q_),this.menu=l.parseItem(e.menu,F),this.next_item_button=l.parseItem(e.nextItemButton,I),this.prev_item_button=l.parseItem(e.prevItemButton,I),this.subscribe_button_renderer=l.parseItem(e.subscribeButtonRenderer,[I,Se]),this.style=e.style,this.view_comments_button=l.parseItem(e.viewCommentsButton,I),this.share_button=l.parseItem(e.shareButton,I),this.pivot_button=l.parseItem(e.pivotButton,B_),this.info_panel=l.parseItem(e.infoPanel,zh)}};o(Dp,"ReelPlayerOverlay");Dp.type="ReelPlayerOverlay";var Cw=Dp;var Bp=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};o(Bp,"RelatedChipCloud");Bp.type="RelatedChipCloud";var X_=Bp;var Lp=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.contents=l.parseArray(e.contents)}};o(Lp,"RichGrid");Lp.type="RichGrid";var wi=Lp;var Op=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};o(Op,"RichItem");Op.type="RichItem";var Ew=Op;var Fp=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};o(Fp,"RichListHeader");Fp.type="RichListHeader";var Pw=Fp;var Yp=class extends s{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new g(e.endpoint)}};o(Yp,"RichMetadata");Yp.type="RichMetadata";var Up=Yp;var jp=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(jp,"RichMetadataRow");jp.type="RichMetadataRow";var Wp=jp;var Jp=class extends s{constructor(e){super(),this.content=l.parseItem(e.content)}};o(Jp,"RichSection");Jp.type="RichSection";var Nw=Jp;var Hp=class extends s{constructor(e){super(),this.title=new u(e.title),this.contents=l.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint))}};o(Hp,"RichShelf");Hp.type="RichShelf";var Q_=Hp;var zp=class extends s{constructor(e){super(),this.endpoint=new g(e.endpoint),this.search_button=l.parseItem(e.searchButton,I),this.clear_button=l.parseItem(e.clearButton,I),this.placeholder_text=new u(e.placeholderText)}};o(zp,"SearchBox");zp.type="SearchBox";var Rw=zp;var Gp=class extends s{constructor(e){super(),this.label=new u(e.label),this.endpoint=new g(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};o(Gp,"SearchFilter");Gp.type="SearchFilter";var Z_=Gp;var $p=class extends s{constructor(e){super(),this.title=new u(e.title),this.filters=l.parseArray(e.filters,Z_)}};o($p,"SearchFilterGroup");$p.type="SearchFilterGroup";var ao=$p;var Kp=class extends s{constructor(e){super(),this.title=new u(e.title),this.groups=l.parseArray(e.groups,ao)}};o(Kp,"SearchFilterOptionsDialog");Kp.type="SearchFilterOptionsDialog";var Aw=Kp;var qp=class extends s{constructor(e){super(),this.chip_bar=l.parseItem(e.chipBar,Yn),this.search_filter_button=l.parseItem(e.searchFilterButton,I)}};o(qp,"SearchHeader");qp.type="SearchHeader";var eg=qp;var Xp=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=l.parseArray(e.groups,ao)),Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,xe))}};o(Xp,"SearchSubMenu");Xp.type="SearchSubMenu";var tg=Xp;var Qp=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Qp,"SearchSuggestionsSection");Qp.type="SearchSuggestionsSection";var Vw=Qp;var Zp=class extends s{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Zp,"SecondarySearchContainer");Zp.type="SecondarySearchContainer";var Mw=Zp;var ed=class extends s{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,[xe,I]),this.dislike_button=l.parseItem(e.dislikeButton,[xe,I])}};o(ed,"SegmentedLikeDislikeButton");ed.type="SegmentedLikeDislikeButton";var sn=ed;var td=class extends s{constructor(e){if(super(),this.like_button=l.parseItem(e.likeButtonViewModel,Xh),this.dislike_button=l.parseItem(e.dislikeButtonViewModel,Sh),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};o(td,"SegmentedLikeDislikeButtonView");td.type="SegmentedLikeDislikeButtonView";var an=td;var id=class extends s{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new g(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new g(e.disableServiceEndpoint)),this.item_id=e.itemId}};o(id,"SettingBoolean");id.type="SettingBoolean";var Dw=id;var nd=class extends s{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};o(nd,"SettingsCheckbox");nd.type="SettingsCheckbox";var ig=nd;var od=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new g(e.enableServiceEndpoint),this.disable_endpoint=new g(e.disableServiceEndpoint)}};o(od,"SettingsSwitch");od.type="SettingsSwitch";var uo=od;var rd=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=l.parseArray(e.options,[uo,ni,vh,ig,Xm]))}};o(rd,"SettingsOptions");rd.type="SettingsOptions";var lo=rd;var sd=class extends s{constructor(e){super(),this.title=new u(e.title),this.items=l.parseArray(e.items,zn)}get contents(){return this.items}};o(sd,"SettingsSidebar");sd.type="SettingsSidebar";var ng=sd;var ad=class extends s{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=ie(e.actionMenu,F),this.original_post=ie(e.originalPost,si),this.id=e.postId,this.endpoint=new g(e.navigationEndpoint),this.expand_button=ie(e.expandButton,I),this.author=new D(e.displayName,void 0)}};o(ad,"SharedPost");ad.type="SharedPost";var og=ad;var ud=class extends s{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint)),this.content=l.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=l.parseItem(e.playAllButton,I))}};o(ud,"Shelf");ud.type="Shelf";var co=ud;var ld=class extends s{constructor(e){var i;super(),this.entity_id=e.entityId,this.accessibility_text=e.accessibilityText,this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap),this.menu_on_tap=new g(e.menuOnTap),this.index_in_collection=e.indexInCollection,this.menu_on_tap_a11y_label=e.menuOnTapA11yLabel,this.overlay_metadata={primary_text:u.fromAttributed(e.overlayMetadata.primaryText),secondary_text:e.overlayMetadata.secondaryText?u.fromAttributed(e.overlayMetadata.secondaryText):void 0},!((i=e.inlinePlayerData)===null||i===void 0)&&i.onVisible&&(this.inline_player_data=new g(e.inlinePlayerData.onVisible)),e.badge&&(this.badge=l.parseItem(e.badge,ai))}};o(ld,"ShortsLockupView");ld.type="ShortsLockupView";var po=ld;var cd=class extends s{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new g(e.correctedQueryEndpoint),this.original_query_endpoint=new g(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};o(cd,"ShowingResultsFor");cd.type="ShowingResultsFor";var Bw=cd;var pd=class extends s{constructor(e){super(),this.image=y.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new g(e.command)}};o(pd,"SimpleCardContent");pd.type="SimpleCardContent";var Lw=pd;var dd=class extends s{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};o(dd,"SimpleCardTeaser");dd.type="SimpleCardTeaser";var Ow=dd;var fd=class extends s{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};o(fd,"SimpleTextSection");fd.type="SimpleTextSection";var Fw=fd;var md=class extends s{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new g(e.navigationEndpoint)}};o(md,"SingleActionEmergencySupport");md.type="SingleActionEmergencySupport";var Yw=md;var hd=class extends s{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new g(e.endpoint),this.content=l.parseItem(e.content,[ve,R_,wi])}};o(hd,"Tab");hd.type="Tab";var Re=hd;var _d=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Re)}};o(_d,"SingleColumnBrowseResults");_d.type="SingleColumnBrowseResults";var rg=_d;var gd=class extends s{constructor(e){super(),this.contents=l.parse(e)}};o(gd,"SingleColumnMusicWatchNextResults");gd.type="SingleColumnMusicWatchNextResults";var Uw=gd;var xd=class extends s{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.style=e.style}};o(xd,"SingleHeroImage");xd.type="SingleHeroImage";var jw=xd;var vd=class extends s{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,Se)}};o(vd,"SlimOwner");vd.type="SlimOwner";var Ww=vd;var yd=class extends s{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=l.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};o(yd,"SlimVideoMetadata");yd.type="SlimVideoMetadata";var Jw=yd;var bd=class extends s{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new g(e.navigationEndpoint)}};o(bd,"SubFeedOption");bd.type="SubFeedOption";var sg=bd;var wd=class extends s{constructor(e){super(),this.title=new u(e.title),this.options=l.parseArray(e.options,sg)}};o(wd,"SubFeedSelector");wd.type="SubFeedSelector";var Hw=wd;var Td=class extends s{constructor(e){super(),this.contents=l.parse(e)}};o(Td,"Tabbed");Td.type="Tabbed";var zw=Td;var Id=class extends s{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Re)}};o(Id,"TabbedSearchResults");Id.type="TabbedSearchResults";var Gw=Id;var kd=class extends s{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};o(kd,"TextHeader");kd.type="TextHeader";var $w=kd;var Sd=class extends s{constructor(e){super(),this.landscape=y.fromResponse(e.landscape),this.portrait=y.fromResponse(e.portrait)}};o(Sd,"ThumbnailLandscapePortrait");Sd.type="ThumbnailLandscapePortrait";var Kw=Sd;var Cd=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};o(Cd,"ThumbnailOverlayEndorsement");Cd.type="ThumbnailOverlayEndorsement";var qw=Cd;var Ed=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};o(Ed,"ThumbnailOverlayHoverText");Ed.type="ThumbnailOverlayHoverText";var Xw=Ed;var Pd=class extends s{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};o(Pd,"ThumbnailOverlayInlineUnplayable");Pd.type="ThumbnailOverlayInlineUnplayable";var Qw=Pd;var Nd=class extends s{constructor(e){super(),this.text=new u(e.text)}};o(Nd,"ThumbnailOverlayLoadingPreview");Nd.type="ThumbnailOverlayLoadingPreview";var Zw=Nd;var Rd=class extends s{constructor(e){super(),this.text=new u(e.text).toString()}};o(Rd,"ThumbnailOverlayNowPlaying");Rd.type="ThumbnailOverlayNowPlaying";var eT=Rd;var Ad=class extends s{constructor(e){super(),this.hack=e.hack}};o(Ad,"ThumbnailOverlayPinking");Ad.type="ThumbnailOverlayPinking";var tT=Ad;var Vd=class extends s{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};o(Vd,"ThumbnailOverlayPlaybackStatus");Vd.type="ThumbnailOverlayPlaybackStatus";var iT=Vd;var Md=class extends s{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};o(Md,"ThumbnailOverlayResumePlayback");Md.type="ThumbnailOverlayResumePlayback";var nT=Md;var Dd=class extends s{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};o(Dd,"ThumbnailOverlaySidePanel");Dd.type="ThumbnailOverlaySidePanel";var oT=Dd;var Bd=class extends s{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},e.toggledServiceEndpoint&&(this.toggled_endpoint=new g(e.toggledServiceEndpoint)),e.untoggledServiceEndpoint&&(this.untoggled_endpoint=new g(e.untoggledServiceEndpoint))}};o(Bd,"ThumbnailOverlayToggleButton");Bd.type="ThumbnailOverlayToggleButton";var rT=Bd;var Ld=class extends s{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};o(Ld,"TimedMarkerDecoration");Ld.type="TimedMarkerDecoration";var sT=Ld;var Od=class extends s{constructor(e){super(),this.title=new u(e.title)}};o(Od,"TitleAndButtonListHeader");Od.type="TitleAndButtonListHeader";var aT=Od;var Fd=class extends s{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new g(e.defaultServiceEndpoint),this.toggled_endpoint=new g(e.toggledServiceEndpoint)}};o(Fd,"ToggleMenuServiceItem");Fd.type="ToggleMenuServiceItem";var uT=Fd;var Yd=class extends s{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new g(i)),accept:new g(e.promoConfig.acceptCommand),dismiss:new g(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};o(Yd,"Tooltip");Yd.type="Tooltip";var lT=Yd;var Ud=class extends s{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=y.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=l.parseItem(e.subscribeButton,Se),this.endpoint=new g(e.navigationEndpoint)}};o(Ud,"TopicChannelDetails");Ud.type="TopicChannelDetails";var cT=Ud;var jd=class extends s{constructor(e){super(),this.tabs=l.parse(e.tabs),this.secondary_contents=l.parse(e.secondaryContents)}};o(jd,"TwoColumnBrowseResults");jd.type="TwoColumnBrowseResults";var Rt=jd;var Wd=class extends s{constructor(e){super(),this.primary_contents=l.parse(e.primaryContents),this.secondary_contents=l.parse(e.secondaryContents)}};o(Wd,"TwoColumnSearchResults");Wd.type="TwoColumnSearchResults";var ag=Wd;var ug,Rx,Jd=class extends s{constructor(e){var i,n,r,a,c;super(),ug.add(this),this.results=l.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=l.parseArray((n=e.secondaryResults)===null||n===void 0?void 0:n.secondaryResults.results),this.conversation_bar=l.parseItem(e==null?void 0:e.conversationBar);let p=(r=e.playlist)===null||r===void 0?void 0:r.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((a=p.shortBylineText)===null||a===void 0)&&a.simpleText?new u(p.shortBylineText):new D(p.longBylineText),contents:l.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:l.parseItem(p.menu,F)});let d=(c=e.autoplay)===null||c===void 0?void 0:c.autoplay;d&&(this.autoplay={sets:d.sets.map(_=>m(this,ug,"m",Rx).call(this,_))},d.modifiedSets&&(this.autoplay.modified_sets=d.modifiedSets.map(_=>m(this,ug,"m",Rx).call(this,_))),d.countDownSecs&&(this.autoplay.count_down_secs=d.countDownSecs))}};o(Jd,"TwoColumnWatchNextResults");ug=new WeakSet,Rx=o(function(e){let i={autoplay_video:new g(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new g(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Jd.type="TwoColumnWatchNextResults";var lg=Jd;var Hd=class extends s{constructor(e){super(),this.header=l.parseItem(e.header),this.call_to_action=l.parseItem(e.callToAction),this.sections=l.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};o(Hd,"UniversalWatchCard");Hd.type="UniversalWatchCard";var cg=Hd;var zd=class extends s{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=l.parseItem(e.actionButton,I),this.dismiss_button=l.parseItem(e.dismissButton,I),this.is_visible=e.isVisible}};o(zd,"UpsellDialog");zd.type="UpsellDialog";var pT=zd;var Gd=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};o(Gd,"VerticalList");Gd.type="VerticalList";var dT=Gd;var $d=class extends s{constructor(e){super(),this.items=l.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new g(e.viewAllEndpoint)}get contents(){return this.items}};o($d,"VerticalWatchCardList");$d.type="VerticalWatchCardList";var fT=$d;var Kd=class extends s{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new g(e.action)}};o(Kd,"VideoInfoCardContent");Kd.type="VideoInfoCardContent";var mT=Kd;var qd=class extends s{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new D(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};o(qd,"VideoOwner");qd.type="VideoOwner";var fo=qd;var Xd=class extends s{constructor(e){var i,n,r,a;super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=new u((n=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||n===void 0?void 0:n.viewCount),this.short_view_count=new u((a=(r=e.viewCount)===null||r===void 0?void 0:r.videoViewCountRenderer)===null||a===void 0?void 0:a.shortViewCount),this.badges=l.parseArray(e.badges,ze),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=l.parseItem(e.videoActions,F)}};o(Xd,"VideoPrimaryInfo");Xd.type="VideoPrimaryInfo";var pg=Xd;var Qd=class extends s{constructor(e){super(),this.owner=l.parseItem(e.owner,fo),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=l.parseItem(e.subscribeButton,[Se,I]),this.metadata=l.parseItem(e.metadataRowContainer,y_),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};o(Qd,"VideoSecondaryInfo");Qd.type="VideoSecondaryInfo";var Zd=Qd;var ef=class extends s{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:ke(e.lengthText.simpleText)},this.style=e.style}};o(ef,"WatchCardCompactVideo");ef.type="WatchCardCompactVideo";var dg=ef;var tf=class extends s{constructor(e){var i;super(),this.endpoint=new g(e.navigationEndpoint),this.call_to_action_button=l.parseItem(e.callToActionButton),this.hero_image=l.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};o(tf,"WatchCardHeroVideo");tf.type="WatchCardHeroVideo";var hT=tf;var nf=class extends s{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new g(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new D(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};o(nf,"WatchCardRichHeader");nf.type="WatchCardRichHeader";var _T=nf;var of=class extends s{constructor(e){super(),this.lists=l.parseArray(e.lists)}};o(of,"WatchCardSectionSequence");of.type="WatchCardSectionSequence";var gT=of;var rf=class extends Rt{constructor(e){super(e)}};o(rf,"WatchNextTabbedResults");rf.type="WatchNextTabbedResults";var xT=rf;var sf=class extends s{constructor(e){var i,n;super(),this.title=e.title,this.content=l.parseItem(e.content,ve),this.endpoint=new g(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(n=e.categoryAssets)===null||n===void 0?void 0:n.backgroundColor},this.category_type=e.categoryType}};o(sf,"AnchoredSection");sf.type="AnchoredSection";var fg=sf;var af,uf=class extends s{constructor(e){super(),af.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=y.fromResponse(e.avatar),this.block_button=l.parseItem(e.blockButton,[xe]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return T(this,void 0,void 0,function*(){if(!m(this,af,"f"))throw new b("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new b("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new b("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(m(this,af,"f"),{parse:!1})})}setActions(e){E(this,af,e,"f")}};o(uf,"KidsBlocklistPickerItem");af=new WeakMap;uf.type="KidsBlocklistPickerItem";var mg=uf;var lf=class extends s{constructor(e){super(),this.title=new u(e.title),this.child_rows=l.parse(e.childRows,!0,[mg]),this.done_button=l.parseItem(e.doneButton,[I]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};o(lf,"KidsBlocklistPicker");lf.type="KidsBlocklistPicker";var vT=lf;var cf=class extends s{constructor(e){var i,n;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(n=e.categoryAssets)===null||n===void 0?void 0:n.backgroundColor},this.category_type=e.categoryType,this.endpoint=new g(e.endpoint)}};o(cf,"KidsCategoryTab");cf.type="KidsCategoryTab";var hg=cf;var pf=class extends s{constructor(e){super(),this.category_tabs=l.parseArray(e.categoryTabs,hg),this.privacy_button=l.parseItem(e.privacyButtonRenderer,I)}};o(pf,"KidsCategoriesHeader");pf.type="kidsCategoriesHeader";var yT=pf;var df=class extends s{constructor(e){super(),this.anchors=l.parseArray(e.anchors,fg)}};o(df,"KidsHomeScreen");df.type="kidsHomeScreen";var bT=df;var Ox={};ye(Ox,{camelToSnake:()=>un,createRuntimeClass:()=>RT,generateRuntimeClass:()=>hf,generateTypescriptClass:()=>gg,inferType:()=>_g,introspect:()=>Mx,isArrayType:()=>PT,isIgnoredKey:()=>NT,isMiscType:()=>ET,isRenderer:()=>Vx,isRendererList:()=>CT,mergeKeyInfo:()=>ff,parse:()=>Lx,toParser:()=>Bx,toTypeDeclaration:()=>Dx});var lk=new Set(["trackingParams","accessibility","accessibilityData"]),Ax={};function un(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}o(un,"camelToSnake");function _g(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=Vx(e))return Ax[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=CT(e)){for(let[r,a]of Object.entries(i))Ax[r]=a;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=ET(t,e))||(i=PT(e)))return i}let n=typeof e;return n==="object"?{type:"object",keys:Object.entries(e).map(([r,a])=>[r,_g(r,a)]),optional:!1}:{type:"primative",typeof:[n],optional:!1}}o(_g,"inferType");function CT(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(n=>Vx(n))?Object.fromEntries(t.map(n=>{let r=Reflect.ownKeys(n)[0].toString();return[_f(r),n[r]]})):!1}o(CT,"isRendererList");function ET(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new g(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}o(ET,"isMiscType");function Vx(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let n=i[0].toString();if(n.endsWith("Renderer")||n.endsWith("Model"))return _f(n)}return!1}o(Vx,"isRenderer");function PT(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["never"],optional:!1},optional:!1};let e=t.map(a=>typeof a);if(!e.every(a=>a===e[0]))return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!1},optional:!1};let n=e[0];if(n!=="object")return{type:"array",array_type:"primitive",items:{type:"primative",typeof:[n],optional:!1},optional:!1};let r=[];for(let a=0;a<t.length;a++){let c=Object.entries(t[a]).map(([p,d])=>[p,_g(p,d)]);if(a===0){r=c;continue}r=ff(r,c).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:r,optional:!1},optional:!1}}o(PT,"isArrayType");function ck(t){if(typeof t!="object"||t===null)throw new b("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!NT(i)).filter(i=>typeof i=="string").map(i=>{let n=Reflect.get(t,i),r=_g(i,n);return[i,r]})}o(ck,"introspectKeysFirstPass");function pk(t){var e;let n=t.filter(([,p])=>{var d;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((d=p.endpoint)===null||d===void 0?void 0:d.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,d])=>p.type!=="misc"||d.type!=="misc"||p.misc_type!=="Text"||d.misc_type!=="Text"?0:d.text.length-p.text.length),r=new Set,a=n[0],c;if(a){r.add(a[0]);let d=t.map(([w])=>w).filter(w=>w.endsWith("Badges")||w==="badges"),f=(e=d.filter(w=>w.startsWith("owner")||w.startsWith("author"))[0])!==null&&e!==void 0?e:d[0],x=t.find(([w])=>w===f),v=x?x[1].type==="array"&&x[1].array_type==="renderer"&&Reflect.has(x[1].renderers,"MetadataBadge"):!1;v&&f&&r.add(f),c={type:"misc",misc_type:"Author",optional:!1,params:[a[0],v?f:void 0]}}return c&&t.push(["author",c]),t.filter(([p])=>!r.has(p))}o(pk,"introspectKeysSecondPass");function dk(t){let e=ck(t);return pk(e)}o(dk,"introspect2");function Mx(t){let e=dk(t),i=new Map;for(let[,r]of e)if(r.type==="renderer"||r.type==="array"&&r.array_type==="renderer")for(let a of r.renderers){let c=Ax[a];c&&i.set(a,c)}let n=Array.from(i).filter(([r])=>!xg(r));return{key_info:e,unimplemented_dependencies:n}}o(Mx,"introspect");function NT(t){return typeof t=="string"&&lk.has(t)}o(NT,"isIgnoredKey");function RT(t,e,i){var n,r;i({error_type:"class_not_found",classname:t,key_info:e});let a=(n=o(class extends s{static set key_info(c){E(this,n,new Map(c),"f",r)}static get key_info(){return[...m(this,n,"f",r).entries()]}constructor(c){super();let{key_info:p,unimplemented_dependencies:d}=Mx(c),{resolved_key_info:_,changed_keys:f}=ff(a.key_info,p);f.length>0&&(a.key_info=_,i({error_type:"class_changed",classname:t,key_info:a.key_info,changed_keys:f}));for(let[v,w]of d)hf(v,w,i);for(let[v,w]of p){let k=un(v);w.type==="misc"&&w.misc_type==="NavigationEndpoint"&&(k="endpoint"),Reflect.set(this,k,Lx(v,w,c))}}},"_a"),O0(n,"node"),n.type=t,r={value:new Map},n);return a.key_info=e,Object.defineProperty(a,"name",{value:t,writable:!1}),a}o(RT,"createRuntimeClass");function hf(t,e,i){let{key_info:n,unimplemented_dependencies:r}=Mx(e),a=RT(t,n,i);Fx(t,a);for(let[c,p]of r)hf(c,p,i);return a}o(hf,"generateRuntimeClass");function gg(t,e){let i=[],n=["super();"];for(let[r,a]of e){let c=un(r);a.type==="misc"&&a.misc_type==="NavigationEndpoint"&&(c="endpoint"),i.push(`${c}${a.optional?"?":""}: ${Dx(a)};`),n.push(`this.${c} = ${Bx(r,a)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${n.join(`
    `)}
  }
}
`}o(gg,"generateTypescriptClass");function wT(t,e){return`{
${e.map(([i,n])=>`${" ".repeat((t+2)*2)}${un(i)}${n.optional?"?":""}: ${Dx(n,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}o(wT,"toTypeDeclarationObject");function Dx(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${wT(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return wT(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ")}}o(Dx,"toTypeDeclaration");function TT(t,e,i,n){let r=[...i,n];return`{
${e.map(([a,c])=>`${" ".repeat((t+2)*2)}${un(a)}: ${Bx(a,c,r,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}o(TT,"toParserObject");function Bx(t,e,i=["data"],n=1){let r="undefined";switch(e.type){case"renderer":r=`Parser.parseItem(${i.join(".")}.${t}, ${IT(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":r=`Parser.parse(${i.join(".")}.${t}, true, ${IT(e.renderers)})`;break;case"object":r=`${i.join(".")}.${t}.map((item: any) => (${TT(n,e.items.keys,[],"item")}))`;break;case"primitive":r=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":r=TT(n,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let a=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${a} : undefined`:a}default:r=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":r=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${r} : undefined`:r}o(Bx,"toParser");function IT(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}o(IT,"toParserValidTypes");function At(t,e){let i=t;for(let n of e)i=i[n];return i}o(At,"accessDataFromKeyPath");function kT(t,e){let i=t;for(let n of e)if(Reflect.has(i,n))i=i[n];else return!1;return!0}o(kT,"hasDataFromKeyPath");function ST(t,e,i,n,r){let a={},c=[...i,t];for(let[p,d]of n)a[p]=r?Lx(p,d,e,c):void 0;return a}o(ST,"parseObject");function Lx(t,e,i,n=["data"]){let r=!e.optional||kT({data:i},[...n,t]);switch(e.type){case"renderer":return r?ie(At({data:i},[...n,t]),e.renderers.map(a=>mf(a))):void 0;case"array":{switch(e.array_type){case"renderer":return r?We(At({data:i},[...n,t]),!0,e.renderers.map(a=>mf(a))):void 0;case"object":return r?At({data:i},[...n,t]).map((a,c)=>ST(`${c}`,i,[...n,t],e.items.keys,r)):void 0;case"primitive":return r?At({data:i},[...n,t]):void 0}throw new Error("Unreachable code reached! Switch missing case!")}case"object":return ST(t,i,n,e.keys,r);case"misc":switch(e.misc_type){case"NavigationEndpoint":return r?new g(At({data:i},[...n,t])):void 0;case"Text":return r?new u(At({data:i},[...n,t])):void 0;case"Thumbnail":return r?y.fromResponse(At({data:i},[...n,t])):void 0;case"Author":return!e.optional||kT({data:i},[...n,e.params[0]])?new D(At({data:i},[...n,e.params[0]]),e.params[1]?At({data:i},[...n,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":return At({data:i},[...n,t])}}o(Lx,"parse");function ff(t,e){let i=new Map,n=new Set(t.map(([v])=>v)),r=new Set(e.map(([v])=>v)),a=e.filter(([v])=>!n.has(v)),c=t.filter(([v])=>!r.has(v)),p=t.filter(([v])=>r.has(v)),d=new Map(e);for(let[v,w]of p){let k=d.get(v);if(!!k){if(w.type!==k.type){i.set(v,{type:"primative",typeof:["unknown"],optional:!0});continue}switch(w.type){case"object":{if(k.type!=="object")continue;let{resolved_key_info:S}=ff(w.keys,k.keys),P={type:"object",keys:S,optional:w.optional||k.optional};JSON.stringify(P)!==JSON.stringify(w)&&i.set(v,P)}break;case"renderer":{if(k.type!=="renderer")continue;let S=Object.assign(Object.assign({},w.renderers),k.renderers),P=w.optional||k.optional,A={type:"renderer",renderers:S,optional:P};JSON.stringify(Object.assign(Object.assign({},A),{renderers:Object.keys(A.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(v,A)}break;case"array":{if(k.type!=="array")continue;switch(w.array_type){case"renderer":{if(k.array_type!=="renderer"){i.set(v,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let S=Object.assign(Object.assign({},w.renderers),k.renderers),P=w.optional||k.optional,A={type:"array",array_type:"renderer",renderers:S,optional:P};JSON.stringify(Object.assign(Object.assign({},A),{renderers:Object.keys(A.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},w),{renderers:Object.keys(w.renderers)}))&&i.set(v,A)}break;case"object":{if(k.array_type==="primitive"&&k.items.typeof.length==1&&k.items.typeof[0]==="never")continue;if(k.array_type!=="object"){i.set(v,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:S}=ff(w.items.keys,k.items.keys),P={type:"array",array_type:"object",items:{type:"object",keys:S,optional:w.items.optional||k.items.optional},optional:w.optional||k.optional};JSON.stringify(P)!==JSON.stringify(w)&&i.set(v,P)}break;case"primitive":{if(w.items.typeof.includes("never")&&k.array_type==="object"){i.set(v,k);continue}if(k.array_type!=="primitive"){i.set(v,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let S=new Set([...k.items.typeof,...w.items.typeof]);S.size>1&&S.has("never")&&S.delete("never");let P={type:"array",array_type:"primitive",items:{type:"primative",typeof:Array.from(S),optional:w.items.optional||k.items.optional},optional:w.optional||k.optional};JSON.stringify(P)!==JSON.stringify(w)&&i.set(v,P)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}}break;case"misc":{if(k.type!=="misc")continue;switch(w.misc_type!==k.misc_type&&i.set(v,{type:"primative",typeof:["unknown"],optional:!0}),w.misc_type){case"Author":{if(k.misc_type!=="Author")break;let S=w.params[1]||k.params[1],P=w.optional||k.optional,A={type:"misc",misc_type:"Author",optional:P,params:[k.params[0],S]};JSON.stringify(A)!==JSON.stringify(w)&&i.set(v,A)}break}}break;case"primative":{if(k.type!=="primative")continue;let S={type:"primative",typeof:Array.from(new Set([...k.typeof,...w.typeof])),optional:w.optional||k.optional};JSON.stringify(S)!==JSON.stringify(w)&&i.set(v,S)}break}}}for(let[v,w]of a)i.set(v,Object.assign(Object.assign({},w),{optional:!0}));for(let[v,w]of c)i.set(v,Object.assign(Object.assign({},w),{optional:!0}));let _=t.filter(([v])=>!i.has(v));return{resolved_key_info:[...new Map([..._,...i]).entries()],changed_keys:[...i.entries()]}}o(ff,"mergeKeyInfo");var mo=class extends s{constructor(e){var i,n,r;super(),this.contents=Ve(e.contents),Array.isArray(e.continuations)&&(this.continuation=(r=(n=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||n===void 0?void 0:n.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};o(mo,"ItemSectionContinuation");mo.type="itemSectionContinuation";var Ti=class extends s{constructor(e){super(),this.endpoint=new g(e.endpoint)}};o(Ti,"NavigateAction");Ti.type="navigateAction";var ho=class extends s{constructor(e){super(),this.miniplayer_command=new g(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};o(ho,"ShowMiniplayerCommand");ho.type="showMiniplayerCommand";var Ii=class extends s{constructor(e){super(),this.target_id=e.targetId,this.contents=We(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};o(Ii,"ReloadContinuationItemsCommand");Ii.type="reloadContinuationItemsCommand";var _o=class extends s{constructor(e){var i,n,r,a,c,p;super(),this.contents=We(e.contents,!0),this.continuation=((r=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};o(_o,"SectionListContinuation");_o.type="sectionListContinuation";var go=class extends s{constructor(e){var i;super(),this.contents=We(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};o(go,"MusicPlaylistShelfContinuation");go.type="musicPlaylistShelfContinuation";var xo=class extends s{constructor(e){var i,n,r,a;super(),this.contents=Ve(e.contents),this.continuation=((n=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||n===void 0?void 0:n.continuation)||((a=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||a===void 0?void 0:a.continuation)||null}};o(xo,"MusicShelfContinuation");xo.type="musicShelfContinuation";var vo=class extends s{constructor(e){var i;super(),this.items=We(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};o(vo,"GridContinuation");vo.type="gridContinuation";var yo=class extends s{constructor(e){var i,n,r,a,c,p;super(),this.contents=Ve(e.contents),this.continuation=((r=(n=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(c=(a=e.continuations)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};o(yo,"PlaylistPanelContinuation");yo.type="playlistPanelContinuation";var ln=class extends s{constructor(e){var i,n,r;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(n=e.continuation)===null||n===void 0?void 0:n.timeUntilLastMessageMsec,this.token=(r=e.continuation)===null||r===void 0?void 0:r.continuation}};o(ln,"Continuation");ln.type="continuation";var ki=class extends s{constructor(e){var i,n,r,a,c,p,d,_;super(),this.actions=We((i=e.actions)===null||i===void 0?void 0:i.map(v=>(delete v.clickTrackingParams,v)),!0)||X([]),this.action_panel=ie(e.actionPanel),this.item_list=ie(e.itemList,c_),this.header=ie(e.header,l_),this.participants_list=ie(e.participantsList,d_),this.popout_message=ie(e.popoutMessage,gi),this.emojis=((n=e.emojis)===null||n===void 0?void 0:n.map(v=>({emoji_id:v.emojiId,shortcuts:v.shortcuts,search_terms:v.searchTerms,image:y.fromResponse(v.image),is_custom_emoji:v.isCustomEmoji})))||[];let f,x;!((r=e.continuations)===null||r===void 0)&&r[0].timedContinuationData?(x="timed",f=(a=e.continuations)===null||a===void 0?void 0:a[0].timedContinuationData):!((c=e.continuations)===null||c===void 0)&&c[0].invalidationContinuationData?(x="invalidation",f=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((d=e.continuations)===null||d===void 0)&&d[0].liveChatReplayContinuationData&&(x="replay",f=(_=e.continuations)===null||_===void 0?void 0:_[0].liveChatReplayContinuationData),this.continuation=new ln({continuation:f,type:x}),this.viewer_name=e.viewerName}};o(ki,"LiveChatContinuation");ki.type="liveChatContinuation";var Ht=class extends s{constructor(e){super(),this.request=e.request,this.token=e.token}};o(Ht,"ContinuationCommand");Ht.type="ContinuationCommand";var vg,yg=class{constructor(e,i){var n,r,a,c,p,d,_,f;if(vg.set(this,void 0),i&&E(this,vg,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=(n=e.stereoLayout)===null||n===void 0?void 0:n.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=(r=e.spatialAudioType)===null||r===void 0?void 0:r.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:(a=e.colorInfo.primaries)===null||a===void 0?void 0:a.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(c=e.colorInfo.transferCharacteristics)===null||c===void 0?void 0:c.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(p=e.colorInfo.matrixCoefficients)===null||p===void 0?void 0:p.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let x=new URLSearchParams(this.cipher||this.signature_cipher),w=(d=new URLSearchParams(x.get("url")||this.url).get("xtags"))===null||d===void 0?void 0:d.split(":");if(this.language=((_=w==null?void 0:w.find(k=>k.startsWith("lang=")))===null||_===void 0?void 0:_.split("=")[1])||null,this.has_audio){this.is_drc=!!e.isDrc||!!(w!=null&&w.includes("drc=1"));let k=(f=w==null?void 0:w.find(S=>S.startsWith("acont=")))===null||f===void 0?void 0:f.split("=")[1];this.is_dubbed=k==="dubbed",this.is_descriptive=k==="descriptive",this.is_secondary=k==="secondary",this.is_original=k==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(e){if(!e)throw new b("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,m(this,vg,"f"))}};o(yg,"Format");vg=new WeakMap;var bg=yg;var Si=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=y.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};o(Si,"VideoDetails");var cn="Parser",fk=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),Wx=new Map(Object.entries(on)),AT=new Map,pn=null,Ci=o(t=>{var{classname:e}=t,i=L0(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&j.warn(cn,new b(`Something went wrong at ${e}!
This is a bug, please report it at ${W.shim.info.bugs_url}`,{stack:i.error.stack,classdata:JSON.stringify(i.classdata,null,2)}));break;case"typecheck":j.warn(cn,new st(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":j.warn(cn,new b(`Mutation data required for processing ${e}, but none found.
This is a bug, please report it at ${W.shim.info.bugs_url}`));break;case"mutation_data_invalid":j.warn(cn,new b(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${W.shim.info.bugs_url}`));break;case"class_not_found":j.warn(cn,new b(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${W.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${W.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${gg(e,i.key_info)}`));break;case"class_changed":j.warn(cn,`${e} changed!
The following keys where altered: ${i.changed_keys.map(([n])=>un(n)).join(", ")}
The class has changed to:
${gg(e,i.key_info)}`);break;default:j.warn(cn,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function mk(t){Ci=t}o(mk,"setParserErrorHandler");function Vt(){pn=null}o(Vt,"_clearMemo");function Mt(){pn=new ti}o(Mt,"_createMemo");function hk(t,e){if(!pn)return;let i=pn.get(t);if(!i)return pn.set(t,[e]);i.push(e)}o(hk,"_addToMemo");function Dt(){if(!pn)throw new Error("Parser#getMemo() called before Parser#createMemo()");return pn}o(Dt,"_getMemo");function VT(t){return fk.has(t)}o(VT,"shouldIgnore");function _f(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}o(_f,"sanitizeClassName");function mf(t){let e=Wx.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}o(mf,"getParserByName");function xg(t){return Wx.has(t)}o(xg,"hasParser");function Fx(t,e){Wx.set(t,e),AT.set(t,e)}o(Fx,"addRuntimeParser");function _k(){return Object.fromEntries(AT)}o(_k,"getDynamicParsers");function Yx(t){var e,i,n,r,a,c,p,d,_,f,x,v,w,k;let S={};Mt();let P=We(t.contents),A=Dt();P&&(S.contents=P,S.contents_memo=A),Vt(),Mt();let M=t.onResponseReceivedActions?wg(t.onResponseReceivedActions):null,B=Dt();M&&(S.on_response_received_actions=M,S.on_response_received_actions_memo=B),Vt(),Mt();let $=t.onResponseReceivedEndpoints?wg(t.onResponseReceivedEndpoints):null,te=Dt();$&&(S.on_response_received_endpoints=$,S.on_response_received_endpoints_memo=te),Vt(),Mt();let ue=t.onResponseReceivedCommands?wg(t.onResponseReceivedCommands):null,pe=Dt();ue&&(S.on_response_received_commands=ue,S.on_response_received_commands_memo=pe),Vt(),Mt();let G=t.continuationContents?Ux(t.continuationContents):null,Y=Dt();G&&(S.continuation_contents=G,S.continuation_contents_memo=Y),Vt(),Mt();let V=t.actions?DT(t.actions):null,q=Dt();V&&(S.actions=V,S.actions_memo=q),Vt(),Mt();let oe=t.liveChatItemContextMenuSupportedRenderers?ie(t.liveChatItemContextMenuSupportedRenderers):null,Te=Dt();oe&&(S.live_chat_item_context_menu_supported_renderers=oe,S.live_chat_item_context_menu_supported_renderers_memo=Te),Vt(),Mt();let Qe=t.header?We(t.header):null,ot=Dt();Qe&&(S.header=Qe,S.header_memo=ot),Vt(),Mt();let K=t.sidebar?ie(t.sidebar):null,De=Dt();K&&(S.sidebar=K,S.sidebar_memo=De),Vt(),Mt();let Ae=We(t.items);Ae&&(S.items=Ae,S.items_memo=Dt()),Vt(),BT(A,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations),te&&LT(te,(r=(n=t.frameworkUpdates)===null||n===void 0?void 0:n.entityBatchUpdate)===null||r===void 0?void 0:r.mutations);let he=t.continuation?MT(t.continuation):null;he&&(S.continuation=he);let de=t.continuationEndpoint?Ux(t.continuationEndpoint):null;de&&(S.continuation_endpoint=de);let Be=We(t.metadata);Be&&(S.metadata=Be);let _e=ie(t.microformat);_e&&(S.microformat=_e);let Le=ie(t.overlay);Le&&(S.overlay=Le);let Ze=Ve(t.alerts,[Nn,cm]);Ze.length&&(S.alerts=Ze);let me=t.refinements;me&&(S.refinements=me);let b0=t.estimatedResults?parseInt(t.estimatedResults):null;b0&&(S.estimated_results=b0);let w0=We(t.playerOverlays);w0&&(S.player_overlays=w0);let T0=ie(t.background,Ne);T0&&(S.background=T0);let I0=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;I0&&(S.playback_tracking=I0);let k0=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:ie(t.playabilityStatus.audioOnlyPlayability,mm),error_screen:ie(t.playabilityStatus.errorScreen)}:null;if(k0&&(S.playability_status=k0),t.streamingData){let rt=new Map;console.log(t);let K1={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:jx(t.streamingData.formats,rt),adaptive_formats:jx(t.streamingData.adaptiveFormats,rt),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};S.streaming_data=K1}if(t.playerConfig){let rt={audio_config:{loudness_db:(a=t.playerConfig.audioConfig)===null||a===void 0?void 0:a.loudnessDb,perceptual_loudness_db:(c=t.playerConfig.audioConfig)===null||c===void 0?void 0:c.perceptualLoudnessDb,enable_per_format_loudness:(p=t.playerConfig.audioConfig)===null||p===void 0?void 0:p.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((d=t.playerConfig.streamSelectionConfig)===null||d===void 0?void 0:d.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((f=(_=t.playerConfig.mediaCommonConfig)===null||_===void 0?void 0:_.dynamicReadaheadConfig)===null||f===void 0?void 0:f.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((v=(x=t.playerConfig.mediaCommonConfig)===null||x===void 0?void 0:x.dynamicReadaheadConfig)===null||v===void 0?void 0:v.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((k=(w=t.playerConfig.mediaCommonConfig)===null||w===void 0?void 0:w.dynamicReadaheadConfig)===null||k===void 0?void 0:k.readAheadGrowthRateMs)||0}}};S.player_config=rt}let S0=t.currentVideoEndpoint?new g(t.currentVideoEndpoint):null;S0&&(S.current_video_endpoint=S0);let C0=t.endpoint?new g(t.endpoint):null;C0&&(S.endpoint=C0);let E0=ie(t.captions,O_);E0&&(S.captions=E0);let P0=t.videoDetails?new Si(t.videoDetails):null;P0&&(S.video_details=P0);let N0=Ve(t.annotations,L_);N0.length&&(S.annotations=N0);let R0=ie(t.storyboards,[Hi,U_]);R0&&(S.storyboards=R0);let A0=ie(t.endscreen,Nh);A0&&(S.endscreen=A0);let V0=ie(t.cards,Gm);V0&&(S.cards=V0);let M0=Ve(t.engagementPanels,pi);if(M0.length&&(S.engagement_panels=M0),t.playerResponse){let rt=Yx(t.playerResponse);S.player_response=rt}if(t.watchNextResponse){let rt=Yx(t.watchNextResponse);S.watch_next_response=rt}if(t.cpnInfo){let rt={cpn:t.cpnInfo.cpn,cpn_source:t.cpnInfo.cpnSource};S.cpn_info=rt}return t.entries&&(S.entries=t.entries.map(rt=>new g(rt))),S}o(Yx,"parseResponse");function ie(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let n=_f(i[0]);if(!VT(n))try{let a=xg(n)?mf(n):hf(n,t[i[0]],Ci);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===a.type))return Ci({classdata:t[i[0]],classname:n,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(a.type!==e.type)return Ci({classdata:t[i[0]],classname:n,error_type:"typecheck",expected:e.type}),null}let c=new a(t[i[0]]);return hk(n,c),c}catch(r){return Ci({classname:n,classdata:t[i[0]],error:r,error_type:"parse"}),null}return null}o(ie,"parseItem");function Ve(t,e){if(Array.isArray(t)){let i=[];for(let n of t){let r=ie(n,e);r&&i.push(r)}return X(i)}else if(!t)return X([]);throw new st("Expected array but got a single item")}o(Ve,"parseArray");function We(t,e,i){if(!t)return null;if(Array.isArray(t)){let n=[];for(let a of t){let c=ie(a,i);c&&n.push(c)}let r=X(n);return e?r:new kt(r)}else if(e)throw new st("Expected array but got a single item");return new kt(ie(t,i))}o(We,"parse");function MT(t){return t.timedContinuationData?new ln({continuation:t.timedContinuationData,type:"timed"}):null}o(MT,"parseC");function Ux(t){return t.itemSectionContinuation?new mo(t.itemSectionContinuation):t.sectionListContinuation?new _o(t.sectionListContinuation):t.liveChatContinuation?new ki(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new go(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new xo(t.musicShelfContinuation):t.gridContinuation?new vo(t.gridContinuation):t.playlistPanelContinuation?new yo(t.playlistPanelContinuation):t.continuationCommand?new Ht(t.continuationCommand):null}o(Ux,"parseLC");function wg(t){return X(t.map(e=>{if(e.navigateAction)return new Ti(e.navigateAction);if(e.showMiniplayerCommand)return new ho(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new Ii(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Ki(e.appendContinuationItemsAction)}).filter(e=>e))}o(wg,"parseRR");function DT(t){return Array.isArray(t)?We(t.map(e=>(delete e.clickTrackingParams,e))):new kt(ie(t))}o(DT,"parseActions");function jx(t,e){return(t==null?void 0:t.map(i=>new bg(i,e)))||[]}o(jx,"parseFormats");function BT(t,e){let i=t.getType(to);if(i.length>0&&!e)Ci({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let n=[];for(let r of i){let a=e.find(p=>{var d,_;return((_=(d=p.payload)===null||d===void 0?void 0:d.musicFormBooleanChoice)===null||_===void 0?void 0:_.id)===r.form_item_entity_key}),c=a==null?void 0:a.payload.musicFormBooleanChoice;(c==null?void 0:c.selected)!==void 0&&(c==null?void 0:c.opaqueToken)?r.selected=c.selected:n.push(`'${r.title}'`)}n.length>0&&Ci({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:n.length,titles:n})}}o(BT,"applyMutations");function LT(t,e){var i,n,r,a,c,p;let d=t.getType(_i);if(d.length>0){e||Ci({error_type:"mutation_data_missing",classname:"CommentView"});for(let _ of d){let f=(n=(i=e.find(w=>{var k,S;return((S=(k=w.payload)===null||k===void 0?void 0:k.commentEntityPayload)===null||S===void 0?void 0:S.key)===_.keys.comment}))===null||i===void 0?void 0:i.payload)===null||n===void 0?void 0:n.commentEntityPayload,x=(a=(r=e.find(w=>{var k,S;return((S=(k=w.payload)===null||k===void 0?void 0:k.engagementToolbarStateEntityPayload)===null||S===void 0?void 0:S.key)===_.keys.toolbar_state}))===null||r===void 0?void 0:r.payload)===null||a===void 0?void 0:a.engagementToolbarStateEntityPayload,v=(p=(c=e.find(w=>w.entityKey===_.keys.toolbar_surface))===null||c===void 0?void 0:c.payload)===null||p===void 0?void 0:p.engagementToolbarSurfaceEntityPayload;_.applyMutations(f,x,v)}}}o(LT,"applyCommentsMutations");var Kx={};ye(Kx,{AccountInfo:()=>OT,Analytics:()=>FT,Channel:()=>Ee,ChannelListContinuation:()=>_n,Comments:()=>UT,FilteredChannelList:()=>Ri,Guide:()=>jT,HashtagFeed:()=>Ai,History:()=>Lt,HomeFeed:()=>zt,ItemMenu:()=>Vg,Library:()=>JT,LiveChat:()=>jg,NotificationsMenu:()=>zT,Playlist:()=>No,Search:()=>Kt,Settings:()=>GT,SmoothedQueue:()=>Og,TimeWatched:()=>$T,TranscriptInfo:()=>Eg,VideoInfo:()=>Ef});var bo,Tg=class{constructor(e){if(bo.set(this,void 0),E(this,bo,l.parseResponse(e.data),"f"),!m(this,bo,"f").contents)throw new b("Page contents not found");let i=m(this,bo,"f").contents.array().as(nm).first();if(!i)throw new b("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return m(this,bo,"f")}};o(Tg,"AccountInfo");bo=new WeakMap;var OT=Tg;var gf,Ig=class{constructor(e){var i;gf.set(this,void 0),E(this,gf,l.parseResponse(e.data),"f"),this.sections=(i=m(this,gf,"f").contents_memo)===null||i===void 0?void 0:i.getType(qn).map(n=>n.model).flatMap(n=>n||[])}get page(){return m(this,gf,"f")}};o(Ig,"Analytics");gf=new WeakMap;var FT=Ig;var xf,Me,dn,vf,$e,YT,Jx,Ei=class{constructor(e,i,n=!1){xf.add(this),Me.set(this,void 0),dn.set(this,void 0),vf.set(this,void 0),$e.set(this,void 0),m(this,xf,"m",YT).call(this,i)||n?E(this,Me,i,"f"):E(this,Me,l.parseResponse(i.data),"f");let r=Hx(m(this,Me,"f").contents_memo,m(this,Me,"f").continuation_contents_memo,m(this,Me,"f").on_response_received_commands_memo,m(this,Me,"f").on_response_received_endpoints_memo,m(this,Me,"f").on_response_received_actions_memo,m(this,Me,"f").sidebar_memo,m(this,Me,"f").header_memo);if(!r)throw new b("No memo found in feed");E(this,$e,r,"f"),E(this,vf,e,"f")}static getVideosFromMemo(e){return e.getType(Mn,Fh,so,po,Bn,ro,Jt,dg)}static getPlaylistsFromMemo(e){let i=e.getType(Et,Bh),n=e.getType(m_).filter(r=>["PLAYLIST","ALBUM","PODCAST"].includes(r.content_type));return n.length>0&&i.push(...n),i}get videos(){return Ei.getVideosFromMemo(m(this,$e,"f"))}get posts(){return m(this,$e,"f").getType(si,K_,og)}get channels(){return m(this,$e,"f").getType(Km,Dh)}get playlists(){return Ei.getPlaylistsFromMemo(m(this,$e,"f"))}get memo(){return m(this,$e,"f")}get page_contents(){var e;let i=(e=m(this,$e,"f").getType(Re))===null||e===void 0?void 0:e.first().content,n=m(this,$e,"f").getType(Ii).first(),r=m(this,$e,"f").getType(Ki).first();return i||n||r}get shelves(){return m(this,$e,"f").getType(co,Q_,On)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=m(this,Me,"f").contents)===null||e===void 0)&&e.is_node))return;let n=(i=m(this,Me,"f").contents)===null||i===void 0?void 0:i.item();if(!!n.is(Rt,ag))return n.secondary_contents}get actions(){return m(this,vf,"f")}get page(){return m(this,Me,"f")}get has_continuation(){return m(this,xf,"m",Jx).call(this).length>0}getContinuationData(){return T(this,void 0,void 0,function*(){if(m(this,dn,"f")){if(m(this,dn,"f").length===0)throw new b("There are no continuations.");return yield m(this,dn,"f")[0].endpoint.call(m(this,vf,"f"),{parse:!0})}if(E(this,dn,m(this,xf,"m",Jx).call(this),"f"),m(this,dn,"f"))return this.getContinuationData()})}getContinuation(){return T(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new Ei(this.actions,e,!0)})}};o(Ei,"Feed");Me=new WeakMap,dn=new WeakMap,vf=new WeakMap,$e=new WeakMap,xf=new WeakSet,YT=o(function(e){return!("data"in e)},"_Feed_isParsed"),Jx=o(function(){if(m(this,Me,"f").header_memo){let e=m(this,Me,"f").header_memo.getType(ce);return m(this,$e,"f").getType(ce).filter(i=>!e.includes(i))}return m(this,$e,"f").getType(ce)},"_Feed_getBodyContinuations");var Ce=Ei;var wo,kg=class extends Ce{constructor(e,i,n=!1){super(e,i,n),wo.set(this,void 0)}get filter_chips(){var e,i;if(m(this,wo,"f"))return m(this,wo,"f")||[];if(((e=this.memo.getType(vt))===null||e===void 0?void 0:e.length)>1)throw new b("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(vt))===null||i===void 0?void 0:i.length)===0)throw new b("There are no feed filter chipbars");return E(this,wo,this.memo.getType(Ye),"f"),m(this,wo,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){return T(this,void 0,void 0,function*(){var i;let n;if(typeof e=="string"){if(!this.filters.includes(e))throw new b("Filter not found",{available_filters:this.filters});n=this.filter_chips.find(a=>a.text.toString()===e)}else if(e.type==="ChipCloudChip")n=e;else throw new b("Invalid filter");if(!n)throw new b("Filter not found");if(n.is_selected)return this;let r=yield(i=n.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new b("Failed to get filtered feed");return new Ce(this.actions,r,!0)})}};o(kg,"FilterableFeed");wo=new WeakMap;var Pi=kg;var zx={};ye(zx,{Feed:()=>Ce,FilterableFeed:()=>Pi,MediaInfo:()=>Io,TabbedFeed:()=>yf});var Ni,yt,To,Sg,Cg=class{constructor(e,i,n){var r,a,c,p,d,_,f,x,v,w,k,S,P,A,M,B,$,te,ue,pe,G,Y;Ni.set(this,void 0),yt.set(this,void 0),To.set(this,void 0),Sg.set(this,void 0),E(this,yt,i,"f");let V=l.parseResponse(e[0].data.playerResponse?e[0].data.playerResponse:e[0].data),q=!((r=e[1])===null||r===void 0)&&r.data?l.parseResponse(e[1].data):void 0;if(E(this,Ni,[V,q],"f"),E(this,To,n,"f"),((a=V.playability_status)===null||a===void 0?void 0:a.status)==="ERROR")throw new b("This video is unavailable",V.playability_status);if(V.microformat&&!(!((c=V.microformat)===null||c===void 0)&&c.is(nt,yi)))throw new b("Unsupported microformat",V.microformat);this.basic_info=Object.assign(Object.assign(Object.assign({},V.video_details),{embed:!((p=V.microformat)===null||p===void 0)&&p.is(nt)?(d=V.microformat)===null||d===void 0?void 0:d.embed:null,channel:!((_=V.microformat)===null||_===void 0)&&_.is(nt)?(f=V.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(x=V.microformat)===null||x===void 0?void 0:x.is_unlisted,is_family_safe:(v=V.microformat)===null||v===void 0?void 0:v.is_family_safe,category:!((w=V.microformat)===null||w===void 0)&&w.is(nt)?(k=V.microformat)===null||k===void 0?void 0:k.category:null,has_ypc_metadata:!((S=V.microformat)===null||S===void 0)&&S.is(nt)?(P=V.microformat)===null||P===void 0?void 0:P.has_ypc_metadata:null,start_timestamp:!((A=V.microformat)===null||A===void 0)&&A.is(nt)?V.microformat.start_timestamp:null,end_timestamp:!((M=V.microformat)===null||M===void 0)&&M.is(nt)?V.microformat.end_timestamp:null,view_count:((B=V.microformat)===null||B===void 0?void 0:B.is(nt))&&isNaN(($=V.video_details)===null||$===void 0?void 0:$.view_count)?V.microformat.view_count:(te=V.video_details)===null||te===void 0?void 0:te.view_count,url_canonical:!((ue=V.microformat)===null||ue===void 0)&&ue.is(yi)?(pe=V.microformat)===null||pe===void 0?void 0:pe.url_canonical:null,tags:!((G=V.microformat)===null||G===void 0)&&G.is(yi)?(Y=V.microformat)===null||Y===void 0?void 0:Y.tags:null}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=V.annotations,this.storyboards=V.storyboards,this.endscreen=V.endscreen,this.captions=V.captions,this.cards=V.cards,this.streaming_data=V.streaming_data,this.playability_status=V.playability_status,this.player_config=V.player_config,E(this,Sg,V.playback_tracking,"f")}toDash(e,i){return T(this,arguments,void 0,function*(n,r,a={include_thumbnails:!1}){var c,p;let d=m(this,Ni,"f")[0];if(d.video_details&&d.video_details.is_live)throw new b("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let _,f;return a.include_thumbnails&&d.storyboards&&(_=d.storyboards),typeof a.captions_format=="string"&&((c=d.captions)===null||c===void 0?void 0:c.caption_tracks)&&(f=d.captions.caption_tracks),zi.toDash(this.streaming_data,(p=this.page[0].video_details)===null||p===void 0?void 0:p.is_post_live_dvr,n,r,m(this,To,"f"),m(this,yt,"f").session.player,m(this,yt,"f"),_,f,a)})}getStreamingInfo(e,i){var n;return Jf(this.streaming_data,(n=this.page[0].video_details)===null||n===void 0?void 0:n.is_post_live_dvr,e,i,this.cpn,m(this,yt,"f").session.player,m(this,yt,"f"),m(this,Ni,"f")[0].storyboards?m(this,Ni,"f")[0].storyboards:void 0)}chooseFormat(e){return zi.chooseFormat(e,this.streaming_data)}download(){return T(this,arguments,void 0,function*(e={}){let i=m(this,Ni,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new b("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return zi.download(e,m(this,yt,"f"),this.playability_status,this.streaming_data,m(this,yt,"f").session.player,this.cpn)})}getTranscript(){return T(this,void 0,void 0,function*(){var e;let i=this.page[1];if(!i)throw new b("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new b("Engagement panels not found. Video likely has no transcript.");let n=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!n)throw new b("Transcript panel not found. Video likely has no transcript.");let r=(e=n.content)===null||e===void 0?void 0:e.as(ce);if(!r)throw new b("Transcript continuation not found.");let a=yield r.endpoint.call(this.actions);return new Eg(this.actions,a)})}addToWatchHistory(){return T(this,arguments,void 0,function*(e={}){var i;let n=ge.CLIENTS.WEB.NAME,r=ge.CLIENTS.WEB.VERSION,a="https://www.",c=(e==null?void 0:e.url)||((i=m(this,Sg,"f"))===null||i===void 0?void 0:i.videostats_playback_url);if(!c)throw new b("Playback tracking not available");let p={cpn:m(this,To,"f"),fmt:251,rtn:0,rt:0},d=c.replace("https://s.",a);return yield m(this,yt,"f").stats(d,{client_name:n,client_version:r,visitor_data:e==null?void 0:e.visitor_data},p)})}get actions(){return m(this,yt,"f")}get cpn(){return m(this,To,"f")}get page(){return m(this,Ni,"f")}};o(Cg,"MediaInfo");Ni=new WeakMap,yt=new WeakMap,To=new WeakMap,Sg=new WeakMap;var Io=Cg;var fn,mn,hn=class extends Ce{constructor(e,i,n=!1){var r;super(e,i,n),fn.set(this,void 0),mn.set(this,void 0),E(this,mn,e,"f"),E(this,fn,(r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(Re),"f")}get tabs(){var e,i;return(i=(e=m(this,fn,"f"))===null||e===void 0?void 0:e.map(n=>n.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){return T(this,void 0,void 0,function*(){var i;let n=(i=m(this,fn,"f"))===null||i===void 0?void 0:i.find(a=>a.title.toLowerCase()===e.toLowerCase());if(!n)throw new b(`Tab "${e}" not found`);if(n.selected)return this;let r=yield n.endpoint.call(m(this,mn,"f"));return new hn(m(this,mn,"f"),r,!1)})}getTabByURL(e){return T(this,void 0,void 0,function*(){var i;let n=(i=m(this,fn,"f"))===null||i===void 0?void 0:i.find(a=>{var c;return((c=a.endpoint.metadata.url)===null||c===void 0?void 0:c.split("/").pop())===e});if(!n)throw new b(`Tab "${e}" not found`);if(n.selected)return this;let r=yield n.endpoint.call(m(this,mn,"f"));return new hn(m(this,mn,"f"),r,!1)})}hasTabWithURL(e){var i,n;return(n=(i=m(this,fn,"f"))===null||i===void 0?void 0:i.some(r=>{var a;return((a=r.endpoint.metadata.url)===null||a===void 0?void 0:a.split("/").pop())===e}))!==null&&n!==void 0?n:!1}get title(){var e,i,n;return(n=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(Re))===null||i===void 0?void 0:i.find(r=>r.selected))===null||n===void 0?void 0:n.title.toString()}};o(hn,"TabbedFeed");fn=new WeakMap,mn=new WeakMap;var yf=hn;var Ee=class extends yf{constructor(e,i,n=!1){var r,a,c,p,d,_;super(e,i,n),this.header=(a=(r=this.page.header)===null||r===void 0?void 0:r.item())===null||a===void 0?void 0:a.as(Fn,$m,Gh,Nt);let f=(c=this.page.metadata)===null||c===void 0?void 0:c.item().as(qm),x=(p=this.page.microformat)===null||p===void 0?void 0:p.as(yi);if(this.page.alerts){let v=this.page.alerts.first();if((v==null?void 0:v.alert_type)==="ERROR")throw new ko(v.text.toString())}if(!f&&!this.page.contents)throw new b("Invalid channel",this);this.metadata=Object.assign(Object.assign({},f),x||{}),this.subscribe_button=(d=this.page.header_memo)===null||d===void 0?void 0:d.getType(Se).first(),this.current_tab=(_=this.page.contents)===null||_===void 0?void 0:_.item().as(Rt).tabs.array().filterType(Re,Xn).get({selected:!0})}applyFilter(e){return T(this,void 0,void 0,function*(){var i;let n,r=this.memo.getType(vt).first();if(typeof e=="string"){if(n=r==null?void 0:r.contents.get({text:e}),!n)throw new b(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof Ye&&(n=e);if(!n)throw new b("Invalid filter",e);let a=yield(i=n.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!a)throw new b("No page returned",{filter:n});return new Ri(this.actions,a,!0)})}applySort(e){return T(this,void 0,void 0,function*(){var i,n;let r=this.memo.getType(gt).first();if(!r)throw new b("No sort filter sub menu found");let a=(i=r==null?void 0:r.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!a)throw new b(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(a.selected)return this;let c=yield(n=a.endpoint)===null||n===void 0?void 0:n.call(this.actions,{parse:!0});return new Ee(this.actions,c,!0)})}applyContentTypeFilter(e){return T(this,void 0,void 0,function*(){var i,n,r,a;let c=(r=(n=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||n===void 0?void 0:n.as(ve).sub_menu)===null||r===void 0?void 0:r.as($s);if(!c)throw new b("Sub menu not found");let p=c.content_type_sub_menu_items.find(_=>_.title===e);if(!p)throw new b(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let d=yield(a=p.endpoint)===null||a===void 0?void 0:a.call(this.actions,{parse:!0});return new Ee(this.actions,d,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(vt))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(Ye).map(n=>n.text))||[]}get sort_filters(){var e;let i=this.memo.getType(gt).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(n=>n.title))||[]}get content_type_filters(){var e,i,n;let r=(n=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(ve).sub_menu)===null||n===void 0?void 0:n.as($s);return(r==null?void 0:r.content_type_sub_menu_items.map(a=>a.title))||[]}getHome(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Ee(this.actions,e.page,!0)})}getVideos(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Ee(this.actions,e.page,!0)})}getShorts(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Ee(this.actions,e.page,!0)})}getLiveStreams(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Ee(this.actions,e.page,!0)})}getReleases(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Ee(this.actions,e.page,!0)})}getPodcasts(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Ee(this.actions,e.page,!0)})}getPlaylists(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Ee(this.actions,e.page,!0)})}getCommunity(){return T(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Ee(this.actions,e.page,!0)})}getAbout(){return T(this,void 0,void 0,function*(){var e,i,n,r,a;if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(Ys)[0];let c=((e=this.header)===null||e===void 0?void 0:e.is(Fn))&&this.header.tagline;if(c||((i=this.header)===null||i===void 0?void 0:i.is(Nt))&&((n=this.header.content)===null||n===void 0?void 0:n.description)){if(c&&c.more_endpoint instanceof g){let _=yield c.more_endpoint.call(this.actions);return new yf(this.actions,_,!1).memo.getType(Ys)[0]}let p=(a=(r=this.page.header_memo)===null||r===void 0?void 0:r.getType(ce)[0])===null||a===void 0?void 0:a.endpoint;if(!p)throw new b("Failed to extract continuation to get channel about");let d=yield p.call(this.actions,{parse:!0});if(!d.on_response_received_endpoints_memo)throw new b("Unexpected response while fetching channel about",{response:d});return d.on_response_received_endpoints_memo.getType(Zf)[0]}throw new b("About not found")})}search(e){return T(this,void 0,void 0,function*(){var i,n;let r=(i=this.memo.getType(Xn))===null||i===void 0?void 0:i[0];if(!r)throw new b("Search tab not found",this);let a=yield(n=r.endpoint)===null||n===void 0?void 0:n.call(this.actions,{query:e,parse:!0});return new Ee(this.actions,a,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,n,r,a;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(Fn))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))||!!(((n=this.header)===null||n===void 0?void 0:n.is(Nt))&&((a=(r=this.header.content)===null||r===void 0?void 0:r.description)===null||a===void 0?void 0:a.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(Xn))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return T(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new b("Could not get continuation data");return new _n(this.actions,i,!0)})}};o(Ee,"Channel");var _n=class extends Ce{constructor(e,i,n=!1){var r,a;super(e,i,n),this.contents=((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())||((a=this.page.on_response_received_endpoints)===null||a===void 0?void 0:a.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return T(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new b("Could not get continuation data");return new _n(this.actions,i,!0)})}};o(_n,"ChannelListContinuation");var Ri=class extends Pi{constructor(e,i,n=!1){var r;super(e,i,n),this.applied_filter=this.memo.getType(Ye).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=(r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return T(this,void 0,void 0,function*(){let n=yield i.getFilteredFeed.call(this,e);return new Ri(this.actions,n.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return T(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new b("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(vt)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(Ye)),new Ri(this.actions,i,!0)})}};o(Ri,"FilteredChannelList");var So,Bt,Co,gn=class{constructor(e,i,n=!1){var r,a,c;So.set(this,void 0),Bt.set(this,void 0),Co.set(this,void 0),E(this,So,n?i:l.parseResponse(i),"f"),E(this,Bt,e,"f");let p=m(this,So,"f").on_response_received_endpoints;if(!p)throw new b("Comments page did not have any content.");let d=p.at(0),_=p.at(1);this.header=(r=d==null?void 0:d.contents)===null||r===void 0?void 0:r.firstOfType(hi);let f=((a=_==null?void 0:_.contents)===null||a===void 0?void 0:a.filterType(xh))||[];this.contents=X(f.map(x=>{var v;return(v=x.comment)===null||v===void 0||v.setActions(m(this,Bt,"f")),x.setActions(m(this,Bt,"f")),x})),E(this,Co,(c=_==null?void 0:_.contents)===null||c===void 0?void 0:c.firstOfType(ce),"f")}applySort(e){return T(this,void 0,void 0,function*(){var i,n,r,a;if(!this.header)throw new b("Page header is missing. Cannot apply sort option.");let c;if(e==="TOP_COMMENTS"?c=(n=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||n===void 0?void 0:n.at(0):e==="NEWEST_FIRST"&&(c=(a=(r=this.header.sort_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||a===void 0?void 0:a.at(1)),!c)throw new b("Could not find target button.");if(c.selected)return this;let p=yield c.endpoint.call(m(this,Bt,"f"),{parse:!0});return new gn(m(this,Bt,"f"),p,!0)})}createComment(e){return T(this,void 0,void 0,function*(){var i;if(!this.header)throw new b("Page header is missing. Cannot create comment.");let n=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(gh).submit_button;if(!n)throw new b("Could not find target button. You are probably not logged in.");if(!n.endpoint)throw new b("Button does not have an endpoint.");return yield n.endpoint.call(m(this,Bt,"f"),{commentText:e})})}getContinuation(){return T(this,void 0,void 0,function*(){if(!m(this,Co,"f"))throw new b("Continuation not found");let e=yield m(this,Co,"f").endpoint.call(m(this,Bt,"f"),{parse:!0}),i=Object.assign({},m(this,So,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new b("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new gn(m(this,Bt,"f"),i,!0)})}get has_continuation(){return!!m(this,Co,"f")}get page(){return m(this,So,"f")}};o(gn,"Comments");So=new WeakMap,Bt=new WeakMap,Co=new WeakMap;var UT=gn;var Eo,Pg=class{constructor(e){Eo.set(this,void 0),E(this,Eo,l.parseResponse(e),"f"),m(this,Eo,"f").items&&(this.contents=m(this,Eo,"f").items.array().as(Qn,Yh))}get page(){return m(this,Eo,"f")}};o(Pg,"Guide");Eo=new WeakMap;var jT=Pg;var Lt=class extends Ce{constructor(e,i,n=!1){super(e,i,n),this.sections=this.memo.getType(tt),this.feed_actions=this.memo.getType(vm).first()}getContinuation(){return T(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Lt(this.actions,e,!0)})}};o(Lt,"History");var zt=class extends Pi{constructor(e,i,n=!1){var r;super(e,i,n),this.header=this.memo.getType(Vh).first(),this.contents=this.memo.getType(wi).first()||((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return T(this,void 0,void 0,function*(){let n=yield i.getFilteredFeed.call(this,e);return new zt(this.actions,n.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});return T(this,void 0,void 0,function*(){var i;let n=yield e.getContinuation.call(this);return n.page.header=this.page.header,this.header&&((i=n.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header])),new zt(this.actions,n.page,!0)})}};o(zt,"HomeFeed");var Ai=class extends Pi{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new b("Unexpected response",this.page);let n=this.page.contents_memo.getType(Re).first();if(!n.content)throw new b("Content tab has no content",n);this.page.header&&(this.header=this.page.header.item().as(Uh,Nt)),this.contents=n.content.as(wi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return T(this,void 0,void 0,function*(){let n=yield i.getFilteredFeed.call(this,e);return new Ai(this.actions,n.page)})}};o(Ai,"HashtagFeed");var Ng,Rg,bf,Ag=class{constructor(e,i){Ng.set(this,void 0),Rg.set(this,void 0),bf.set(this,void 0),E(this,Ng,e,"f"),E(this,Rg,i,"f");let n=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!n||!n.is(F))throw new b('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');E(this,bf,n.as(F).items,"f")}selectItem(e){return T(this,void 0,void 0,function*(){let i;if(e instanceof I){if(!e.endpoint)throw new b("Item does not have an endpoint.");i=e.endpoint}else{let r=m(this,bf,"f").find(a=>a.is(vi)?a.as(vi).icon_type===e:!1);if(!r||!r.is(vi))throw new b(`Button "${e}" not found.`);i=r.endpoint}if(!i)throw new b("Target button does not have an endpoint.");return yield i.call(m(this,Rg,"f"),{parse:!0})})}items(){return m(this,bf,"f")}page(){return m(this,Ng,"f")}};o(Ag,"ItemMenu");Ng=new WeakMap,Rg=new WeakMap,bf=new WeakMap;var Vg=Ag;var wf,Mg,Po=class extends Ce{constructor(e,i,n=!1){var r,a,c,p,d;super(e,i,n),wf.add(this);let _=this.memo.getType(H_).first(),f=this.memo.getType(G_).first(),x=this.memo.getType($_).first(),v=(r=this.page.alerts)===null||r===void 0?void 0:r.firstOfType(Nn);if(v&&v.alert_type==="ERROR")throw new b(v.text.toString(),v);if(!f&&!x&&Object.keys(this.page).length===0)throw new b("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(a=this.page.metadata)===null||a===void 0?void 0:a.item().as(z_)),{subtitle:_?_.subtitle:null,author:(p=(c=x==null?void 0:x.owner)===null||c===void 0?void 0:c.as(fo).author)!==null&&p!==void 0?p:_==null?void 0:_.author,thumbnails:(d=f==null?void 0:f.thumbnail_renderer)===null||d===void 0?void 0:d.as($n,Gn).thumbnail,total_items:m(this,wf,"m",Mg).call(this,0,f),views:m(this,wf,"m",Mg).call(this,1,f),last_updated:m(this,wf,"m",Mg).call(this,2,f),can_share:_==null?void 0:_.can_share,can_delete:_==null?void 0:_.can_delete,is_editable:_==null?void 0:_.is_editable,privacy:_==null?void 0:_.privacy}),this.menu=f==null?void 0:f.menu,this.endpoint=f==null?void 0:f.endpoint,this.messages=this.memo.getType(gi)}get items(){return X(this.videos.as(ro,so,po).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(ve).first();return e?!!this.memo.getType(ce).find(i=>!e.contents.includes(i)):super.has_continuation}getContinuationData(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return T(this,void 0,void 0,function*(){let i=this.memo.getType(ve).first();if(!i)return yield e.getContinuationData.call(this);let n=this.memo.getType(ce).find(a=>!i.contents.includes(a));if(!n)throw new b("There are no continuations.");return yield n.endpoint.call(this.actions,{parse:!0})})}getContinuation(){return T(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new Po(this.actions,e,!0)})}};o(Po,"Playlist");wf=new WeakSet,Mg=o(function(e,i){var n;return!i||!i.stats?"N/A":((n=i.stats[e])===null||n===void 0?void 0:n.toString())||"N/A"},"_Playlist_getStat");var No=Po;var Gx,WT,Dg=class extends Ce{constructor(e,i){if(super(e,i),Gx.add(this),!this.page.contents_memo)throw new b("Page contents not found");this.header=this.memo.getType(Nt).first();let n=this.page.contents_memo.getType(co);this.sections=n.map(r=>{var a;return{type:r.icon_type,title:r.title,contents:((a=r.content)===null||a===void 0?void 0:a.key("items").array())||[],getAll:()=>m(this,Gx,"m",WT).call(this,r)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};o(Dg,"Library");Gx=new WeakSet,WT=o(function(e){return T(this,void 0,void 0,function*(){var i;if(!(!((i=e.menu)===null||i===void 0)&&i.as(F).hasKey("top_level_buttons")))throw new b(`The ${e.title.text} shelf doesn't have more items`);let n=e.menu.as(F).top_level_buttons.firstOfType(I);if(!n)throw new b("Did not find target button.");let r=yield n.as(I).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new No(this.actions,r,!0);case"WATCH_HISTORY":return new Lt(this.actions,r,!0);case"CONTENT_CUT":return new Ce(this.actions,r,!0);default:throw new b("Target shelf not implemented.")}})},"_Library_getAll");var JT=Dg;var Gt,Vi,xn,at,bt,Ke;function gk(t){let e=[];for(let i of t)if(Array.isArray(i))for(let n of i)e.push(n);else e.push(i);return e}o(gk,"flattenQueue");var Bg=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};o(Bg,"DelayQueue");var Lg=class{constructor(){Gt.set(this,void 0),Vi.set(this,void 0),xn.set(this,void 0),at.set(this,void 0),bt.set(this,void 0),Ke.set(this,void 0),E(this,Gt,null,"f"),E(this,Vi,null,"f"),E(this,xn,null,"f"),E(this,at,[],"f"),E(this,bt,null,"f"),E(this,Ke,new Bg,"f")}enqueueActionGroup(e){if(m(this,Gt,"f")!==null){let i=Date.now()-m(this,Gt,"f");m(this,Ke,"f").back.push(i),5<m(this,Ke,"f").front.length+m(this,Ke,"f").back.length&&(m(this,Ke,"f").front.length||(m(this,Ke,"f").front=m(this,Ke,"f").back,m(this,Ke,"f").front.reverse(),m(this,Ke,"f").back=[]),m(this,Ke,"f").front.pop()),E(this,Vi,Math.max(...m(this,Ke,"f").getValues()),"f")}E(this,Gt,Date.now(),"f"),m(this,at,"f").push(e),m(this,bt,"f")===null&&E(this,bt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(E(this,bt,null,"f"),m(this,at,"f").length){let e=1e4;m(this,Vi,"f")!==null&&m(this,Gt,"f")!==null&&(e=m(this,Vi,"f")-Date.now()+m(this,Gt,"f")),e=m(this,at,"f").length<e/80?1:Math.ceil(m(this,at,"f").length/(e/80));let i=gk(m(this,at,"f").splice(0,e));m(this,xn,"f")&&m(this,xn,"f").call(this,i),m(this,at,"f")!==null&&(e==1?(e=m(this,Vi,"f")/m(this,at,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,E(this,bt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){m(this,bt,"f")!==null&&(clearTimeout(m(this,bt,"f")),E(this,bt,null,"f")),E(this,at,[],"f")}set callback(e){E(this,xn,e,"f")}get callback(){return m(this,xn,"f")}get action_queue(){return m(this,at,"f")}get estimated_update_interval(){return m(this,Vi,"f")}get last_update_time(){return m(this,Gt,"f")}get next_update_id(){return m(this,bt,"f")}get poll_response_delay_queue(){return m(this,Ke,"f")}};o(Lg,"SmoothedQueue");Gt=new WeakMap,Vi=new WeakMap,xn=new WeakMap,at=new WeakMap,bt=new WeakMap,Ke=new WeakMap;var Og=Lg;var Pe,$t,kf,Fg,yn,Tf,If,$x,Yg,HT,vn,Ug=class extends Wo{constructor(e){var i,n;super(),Pe.add(this),$t.set(this,void 0),kf.set(this,void 0),Fg.set(this,void 0),yn.set(this,void 0),Tf.set(this,void 0),If.set(this,0),this.running=!1,this.is_replay=!1,E(this,kf,e.basic_info.id,"f"),E(this,Fg,e.basic_info.channel_id,"f"),E(this,$t,e.actions,"f"),E(this,yn,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((n=e.livechat)===null||n===void 0?void 0:n.is_replay)||!1,this.smoothed_queue=new Og,this.smoothed_queue.callback=r=>T(this,void 0,void 0,function*(){r.length?r.length<10?yield m(this,Pe,"m",Yg).call(this,r):this.is_replay?(m(this,Pe,"m",Yg).call(this,r),yield m(this,Pe,"m",vn).call(this,2e3)):m(this,Pe,"m",Yg).call(this,r):yield m(this,Pe,"m",vn).call(this,2e3),this.running&&m(this,Pe,"m",$x).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,m(this,Pe,"m",$x).call(this),m(this,Pe,"m",HT).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return T(this,void 0,void 0,function*(){let i=yield m(this,$t,"f").execute("/live_chat/send_message",{params:Cx(m(this,Fg,"f"),m(this,kf,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:W.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new b("Unexpected response from send_message",i);return i.actions.array().as(t_)})}applyFilter(e){var i,n,r,a,c,p,d;if(!this.initial_info)throw new b("Cannot apply filter before initial info is retrieved.");let _=(r=(n=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||n===void 0?void 0:n.view_selector)===null||r===void 0?void 0:r.sub_menu_items;if(e==="TOP_CHAT"){if(!((a=_==null?void 0:_.at(0))===null||a===void 0)&&a.selected)return;E(this,yn,(c=_==null?void 0:_.at(0))===null||c===void 0?void 0:c.continuation,"f")}else{if(!((p=_==null?void 0:_.at(1))===null||p===void 0)&&p.selected)return;E(this,yn,(d=_==null?void 0:_.at(1))===null||d===void 0?void 0:d.continuation,"f")}}getItemMenu(e){return T(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(g))throw new b("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(g).call(m(this,$t,"f"),{parse:!0});if(!i)throw new b("Could not retrieve item menu.",e);return new Vg(i,m(this,$t,"f"))})}selectButton(e){return T(this,void 0,void 0,function*(){return yield e.endpoint.call(m(this,$t,"f"),{parse:!0})})}};o(Ug,"LiveChat");$t=new WeakMap,kf=new WeakMap,Fg=new WeakMap,yn=new WeakMap,Tf=new WeakMap,If=new WeakMap,Pe=new WeakSet,$x=o(function t(){T(this,void 0,void 0,function*(){var e,i;try{let n=yield m(this,$t,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:m(this,yn,"f"),parse:!0}),r=n.continuation_contents;if(r||(this.emit("error",new b("Unexpected live chat incremental continuation response",n)),this.emit("end"),this.stop()),!(r instanceof ki)){this.stop(),this.emit("end");return}E(this,yn,r.continuation.token,"f"),r.header?(this.initial_info=r,this.emit("start",r),this.running&&m(this,Pe,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(r.actions),E(this,If,0,"f")}catch(n){this.emit("error",n),E(this,If,(i=m(this,If,"f"),e=i++,i),"f"),e<10?(yield m(this,Pe,"m",vn).call(this,2e3),m(this,Pe,"m",t).call(this)):(this.emit("error",new b("Reached retry limit for incremental continuation requests",n)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),Yg=o(function(e){return T(this,void 0,void 0,function*(){let n=e.length<125?1:Math.ceil(e.length/125),r=n==1?(n=1e4/e.length,n*=Math.random()+.5,n=Math.min(1e3,n),n=Math.max(80,n)):n=80;for(let a of e)yield m(this,Pe,"m",vn).call(this,r),this.emit("chat-update",a)})},"_LiveChat_emitSmoothedActions"),HT=o(function t(){T(this,void 0,void 0,function*(){var e,i,n,r,a,c,p,d,_,f,x;try{let v={videoId:m(this,kf,"f")};m(this,Tf,"f")&&(v.continuation=m(this,Tf,"f"));let w=yield m(this,$t,"f").execute("/updated_metadata",v),k=l.parseResponse(w.data);E(this,Tf,(e=k.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=k.actions)===null||i===void 0?void 0:i.array().firstOfType(s_))||((n=this.metadata)===null||n===void 0?void 0:n.title),description:((r=k.actions)===null||r===void 0?void 0:r.array().firstOfType(r_))||((a=this.metadata)===null||a===void 0?void 0:a.description),views:((c=k.actions)===null||c===void 0?void 0:c.array().firstOfType(u_))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((d=k.actions)===null||d===void 0?void 0:d.array().firstOfType(a_))||((_=this.metadata)===null||_===void 0?void 0:_.likes),date:((f=k.actions)===null||f===void 0?void 0:f.array().firstOfType(o_))||((x=this.metadata)===null||x===void 0?void 0:x.date)},this.emit("metadata-update",this.metadata),yield m(this,Pe,"m",vn).call(this,5e3),this.running&&m(this,Pe,"m",t).call(this)}catch(v){yield m(this,Pe,"m",vn).call(this,2e3),this.running&&m(this,Pe,"m",t).call(this)}})},"_LiveChat_pollMetadata"),vn=o(function(e){return T(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var jg=Ug;var Mi,Sf,Ro=class{constructor(e,i){if(Mi.set(this,void 0),Sf.set(this,void 0),E(this,Sf,e,"f"),E(this,Mi,l.parseResponse(i.data),"f"),!m(this,Mi,"f").actions_memo)throw new b("Page actions not found");this.header=m(this,Mi,"f").actions_memo.getType(x_).first(),this.contents=m(this,Mi,"f").actions_memo.getType(V_)}getContinuation(){return T(this,void 0,void 0,function*(){var e;let i=(e=m(this,Mi,"f").actions_memo)===null||e===void 0?void 0:e.getType(ce).first();if(!i)throw new b("Continuation not found");let n=yield i.endpoint.call(m(this,Sf,"f"),{parse:!1});return new Ro(m(this,Sf,"f"),n)})}get page(){return m(this,Mi,"f")}};o(Ro,"NotificationsMenu");Mi=new WeakMap,Sf=new WeakMap;var zT=Ro;var Kt=class extends Ce{constructor(e,i,n=!1){var r,a,c;super(e,i,n);let p=((r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(ve).first().contents)||((a=this.page.on_response_received_commands)===null||a===void 0?void 0:a.first().contents);if(!p)throw new b("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(eg)),this.results=X(p.filterType(tt).flatMap(d=>d.contents)),this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType(tg).first(),this.watch_card=this.page.contents_memo.getType(cg).first()),this.refinement_cards=(c=this.results)===null||c===void 0?void 0:c.firstOfType(ui)}selectRefinementCard(e){return T(this,void 0,void 0,function*(){var i,n;let r;if(typeof e=="string"){if(!this.refinement_cards)throw new b("No refinement cards found.");if(r=(n=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||n===void 0?void 0:n.as(qi),!r)throw new b(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")r=e;else throw new b("Invalid refinement card!");let a=yield r.endpoint.call(this.actions,{parse:!0});return new Kt(this.actions,a,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(qi).map(i=>i.query))||[]}getContinuation(){return T(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new b("Could not get continuation data");return new Kt(this.actions,e,!0)})}};o(Kt,"Search");var bn,Cf,Ao=class{constructor(e,i){var n,r,a,c;if(bn.set(this,void 0),Cf.set(this,void 0),E(this,Cf,e,"f"),E(this,bn,l.parseResponse(i.data),"f"),this.sidebar=(n=m(this,bn,"f").sidebar)===null||n===void 0?void 0:n.as(ng),!m(this,bn,"f").contents)throw new b("Page contents not found");let p=m(this,bn,"f").contents.item().as(Rt).tabs.array().as(Re).get({selected:!0});if(!p)throw new b("Target tab not found");let d=(r=p.content)===null||r===void 0?void 0:r.as(ve).contents.as(tt);this.introduction=(c=(a=d==null?void 0:d.shift())===null||a===void 0?void 0:a.contents)===null||c===void 0?void 0:c.firstOfType(D_),this.sections=d==null?void 0:d.map(_=>{var f;return{title:!((f=_.header)===null||f===void 0)&&f.is(hi,Zn,eo)?_.header.title.toString():null,contents:_.contents}})}selectSidebarItem(e){return T(this,void 0,void 0,function*(){if(!this.sidebar)throw new b("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new b(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(zn))i=e;else throw new b("Invalid item",{target_item:e});let n=yield i.endpoint.call(m(this,Cf,"f"),{parse:!1});return new Ao(m(this,Cf,"f"),n)})}getSettingOption(e){var i;if(!this.sections)throw new b("Sections not available");for(let n of this.sections)if(!!n.contents)for(let r of n.contents){let a=r.as(lo).options;if(a){for(let c of a)if(c.is(uo)&&((i=c.title)===null||i===void 0?void 0:i.toString())===e)return c}}throw new b(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new b("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let n of i.contents)n.as(lo).options&&(e=e.concat(n.as(lo).options));return e.map(i=>{var n;return(n=i.title)===null||n===void 0?void 0:n.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new b("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return m(this,bn,"f")}};o(Ao,"Settings");bn=new WeakMap,Cf=new WeakMap;var GT=Ao;var Vo,Wg=class{constructor(e){var i;if(Vo.set(this,void 0),E(this,Vo,l.parseResponse(e.data),"f"),!m(this,Vo,"f").contents)throw new b("Page contents not found");let n=m(this,Vo,"f").contents.item().as(rg).tabs.get({selected:!0});if(!n)throw new b("Could not find target tab.");this.contents=(i=n.content)===null||i===void 0?void 0:i.as(ve).contents.as(tt)}get page(){return m(this,Vo,"f")}};o(Wg,"TimeWatched");Vo=new WeakMap;var $T=Wg;var Di,Mo=class extends Io{constructor(e,i,n){var r,a,c,p,d,_,f,x,v,w,k,S,P,A,M,B,$,te,ue,pe,G,Y,V,q,oe,Te,Qe,ot,K;super(e,i,n),Di.set(this,void 0);let[De,Ae]=this.page;if(this.streaming_data){let _e=this.streaming_data.adaptive_formats.find(Le=>{var Ze;return(Ze=Le.audio_track)===null||Ze===void 0?void 0:Ze.audio_is_default});if(_e)this.streaming_data.formats.forEach(Le=>Le.language=_e.language);else if(((r=this.captions)===null||r===void 0?void 0:r.caption_tracks)&&((a=this.captions)===null||a===void 0?void 0:a.caption_tracks.length)>0){let Le=this.captions.caption_tracks.find(me=>me.kind==="asr"),Ze=Le==null?void 0:Le.language_code;this.streaming_data.adaptive_formats.forEach(me=>{me.has_audio&&(me.language=Ze)}),this.streaming_data.formats.forEach(me=>me.language=Ze)}}let he=(c=Ae==null?void 0:Ae.contents)===null||c===void 0?void 0:c.item().as(lg),de=he==null?void 0:he.results,Be=he==null?void 0:he.secondary_results;if(de&&Be){if(((p=De.microformat)===null||p===void 0?void 0:p.is(nt))&&((d=De.microformat)===null||d===void 0?void 0:d.category)==="Gaming"){let me=(x=(f=(_=de.firstOfType(Zd))===null||_===void 0?void 0:_.metadata)===null||f===void 0?void 0:f.rows)===null||x===void 0?void 0:x.firstOfType(Wp);me!=null&&me.is(Wp)&&(this.game_info={title:(w=(v=me==null?void 0:me.contents)===null||v===void 0?void 0:v.firstOfType(Up))===null||w===void 0?void 0:w.title,release_year:(S=(k=me==null?void 0:me.contents)===null||k===void 0?void 0:k.firstOfType(Up))===null||S===void 0?void 0:S.subtitle})}this.primary_info=de.firstOfType(pg),this.secondary_info=de.firstOfType(Zd),this.merchandise=de.firstOfType(v_),this.related_chip_cloud=(P=Be.firstOfType(X_))===null||P===void 0?void 0:P.content.as(Yn),he!=null&&he.playlist&&(this.playlist=he.playlist),this.watch_next_feed=((A=Be.firstOfType(tt))===null||A===void 0?void 0:A.contents)||Be,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((M=this.watch_next_feed.at(-1))===null||M===void 0?void 0:M.is(ce))&&E(this,Di,(B=this.watch_next_feed.pop())===null||B===void 0?void 0:B.as(ce),"f"),this.player_overlays=($=Ae==null?void 0:Ae.player_overlays)===null||$===void 0?void 0:$.item().as(J_),he!=null&&he.autoplay&&(this.autoplay=he.autoplay);let _e=(ue=(te=this.primary_info)===null||te===void 0?void 0:te.menu)===null||ue===void 0?void 0:ue.top_level_buttons.firstOfType(sn);((pe=_e==null?void 0:_e.like_button)===null||pe===void 0?void 0:pe.is(xe))&&((G=_e==null?void 0:_e.dislike_button)===null||G===void 0?void 0:G.is(xe))&&(this.basic_info.like_count=(Y=_e==null?void 0:_e.like_button)===null||Y===void 0?void 0:Y.like_count,this.basic_info.is_liked=(V=_e==null?void 0:_e.like_button)===null||V===void 0?void 0:V.is_toggled,this.basic_info.is_disliked=(q=_e==null?void 0:_e.dislike_button)===null||q===void 0?void 0:q.is_toggled);let Le=(Te=(oe=this.primary_info)===null||oe===void 0?void 0:oe.menu)===null||Te===void 0?void 0:Te.top_level_buttons.firstOfType(an);if(Le&&(this.basic_info.like_count=Le.like_count,Le.like_button)){let me=Le.like_button.like_status_entity.like_status;this.basic_info.is_liked=me==="LIKE",this.basic_info.is_disliked=me==="DISLIKE"}let Ze=(Qe=de.get({target_id:"comments-entry-point"}))===null||Qe===void 0?void 0:Qe.as(tt);this.comments_entry_point_header=(ot=Ze==null?void 0:Ze.contents)===null||ot===void 0?void 0:ot.firstOfType(_h),this.livechat=(K=Ae==null?void 0:Ae.contents_memo)===null||K===void 0?void 0:K.getType(Qh).first()}}selectFilter(e){return T(this,void 0,void 0,function*(){var i,n,r,a;if(!this.related_chip_cloud)throw new b("Chip cloud not found, cannot apply filter");let c;if(typeof e=="string"){let _=(n=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||n===void 0?void 0:n.get({text:e});if(!_)throw new b("Invalid filter",{available_filters:this.filters});c=_}else if(e!=null&&e.is(Ye))c=e;else throw new b("Invalid cloud chip",e);if(c.is_selected)return this;let p=yield(r=c.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0}),d=(a=p==null?void 0:p.on_response_received_endpoints)===null||a===void 0?void 0:a.get({target_id:"watch-next-feed"});return this.watch_next_feed=d==null?void 0:d.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return T(this,arguments,void 0,function*(i={}){return e.addToWatchHistory.call(this,i)})}getWatchNextContinuation(){return T(this,void 0,void 0,function*(){var e,i,n,r,a;if(!m(this,Di,"f"))throw new b("Watch next feed continuation not found");let c=yield(e=m(this,Di,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=c==null?void 0:c.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"AppendContinuationItemsAction"});if(!p)throw new b("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((r=(n=this.watch_next_feed)===null||n===void 0?void 0:n.at(-1))===null||r===void 0)&&r.is(ce)?E(this,Di,(a=this.watch_next_feed.pop())===null||a===void 0?void 0:a.as(ce),"f"):E(this,Di,void 0,"f"),this})}like(){return T(this,void 0,void 0,function*(){var e,i,n,r,a;let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(an);if(c){let f=(n=c==null?void 0:c.like_button)===null||n===void 0?void 0:n.toggle_button;if(!f||!f.default_button||!c.like_button)throw new b("Like button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="LIKE")throw new b("This video is already liked",{video_id:this.basic_info.id});return yield new g(f.default_button.on_tap.payload.commands.find(k=>k.innertubeCommand)).call(this.actions)}let p=(a=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType(sn),d=p==null?void 0:p.like_button;if(!d)throw new b("Like button not found",{video_id:this.basic_info.id});if(!d.is(xe))throw new b("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new b("This video is already liked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}dislike(){return T(this,void 0,void 0,function*(){var e,i,n,r,a;let c=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(an);if(c){let f=(n=c==null?void 0:c.dislike_button)===null||n===void 0?void 0:n.toggle_button;if(!f||!f.default_button||!c.dislike_button||!c.like_button)throw new b("Dislike button not found",{video_id:this.basic_info.id});if(c.like_button.like_status_entity.like_status==="DISLIKE")throw new b("This video is already disliked",{video_id:this.basic_info.id});return yield new g(f.default_button.on_tap.payload.commands.find(k=>k.innertubeCommand)).call(this.actions)}let p=(a=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||a===void 0?void 0:a.top_level_buttons.firstOfType(sn),d=p==null?void 0:p.dislike_button;if(!d)throw new b("Dislike button not found",{video_id:this.basic_info.id});if(!d.is(xe))throw new b("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(d.is_toggled)throw new b("This video is already disliked",{video_id:this.basic_info.id});return yield d.endpoint.call(this.actions)})}removeRating(){return T(this,void 0,void 0,function*(){var e,i,n,r,a,c,p;let d,_=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType(an);if(_){let k=(n=_==null?void 0:_.like_button)===null||n===void 0?void 0:n.toggle_button;if(!k||!k.default_button||!_.like_button)throw new b("Like button not found",{video_id:this.basic_info.id});let S=_.like_button.like_status_entity.like_status;if(S==="LIKE")d=(r=_==null?void 0:_.like_button)===null||r===void 0?void 0:r.toggle_button;else if(S==="DISLIKE")d=(a=_==null?void 0:_.dislike_button)===null||a===void 0?void 0:a.toggle_button;else throw new b("This video is not liked/disliked",{video_id:this.basic_info.id});if(!d||!d.toggled_button)throw new b("Like/Dislike button not found",{video_id:this.basic_info.id});return yield new g(d.toggled_button.on_tap.payload.commands.find(M=>M.innertubeCommand)).call(this.actions)}let f=(p=(c=this.primary_info)===null||c===void 0?void 0:c.menu)===null||p===void 0?void 0:p.top_level_buttons.firstOfType(sn),x=f==null?void 0:f.like_button,v=f==null?void 0:f.dislike_button;if(!(x!=null&&x.is(xe))||!(v!=null&&v.is(xe)))throw new b("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(x!=null&&x.is_toggled?d=x:v!=null&&v.is_toggled&&(d=v),!d)throw new b("This video is not liked/disliked",{video_id:this.basic_info.id});return yield d.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new b("Live Chat is not available",{video_id:this.basic_info.id});return new jg(this)}getTrailerInfo(){var e,i;if(this.has_trailer&&this.playability_status){let n=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(up).trailer)===null||i===void 0?void 0:i.player_response;if(n)return new Mo([{data:n}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(n=>{var r;return(r=n.text)===null||r===void 0?void 0:r.toString()}))||[]}get wn_has_continuation(){return!!m(this,Di,"f")}get autoplay_video_endpoint(){var e,i,n;return((n=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.autoplay_video)||null}get has_trailer(){var e,i;return!!(!((i=(e=this.playability_status)===null||e===void 0?void 0:e.error_screen)===null||i===void 0)&&i.is(up))}get music_tracks(){var e,i,n,r,a,c;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(d=>{var _;return(_=d.content)===null||_===void 0?void 0:_.is(Qi)});if(p!==void 0&&p.length>0){let d=(a=(r=(n=p[0].content)===null||n===void 0?void 0:n.as(Qi))===null||r===void 0?void 0:r.items)===null||a===void 0?void 0:a.filterType(Ln);if(d!==void 0&&d.length>0)return(c=d[0].carousel_lockups)===null||c===void 0?void 0:c.map(_=>{var f,x,v,w,k,S,P,A,M,B,$,te,ue,pe,G,Y,V,q,oe;let Te,Qe,ot,K,De,Ae;Te=(x=(f=_.video_lockup)===null||f===void 0?void 0:f.title)===null||x===void 0?void 0:x.toString(),De=(v=_.video_lockup)===null||v===void 0?void 0:v.endpoint.payload.videoId;for(let he=0;he<_.info_rows.length;he++){let de=_.info_rows[he];if(de.info_row_expand_status_key===void 0)if(Te===void 0){if(Te=((w=de.default_metadata)===null||w===void 0?void 0:w.toString())||((k=de.expanded_metadata)===null||k===void 0?void 0:k.toString()),De===void 0){let Be=((S=de.default_metadata)===null||S===void 0?void 0:S.endpoint)||((P=de.expanded_metadata)===null||P===void 0?void 0:P.endpoint);De=(A=Be==null?void 0:Be.payload)===null||A===void 0?void 0:A.videoId}}else ot=((M=de.default_metadata)===null||M===void 0?void 0:M.toString())||((B=de.expanded_metadata)===null||B===void 0?void 0:B.toString());else{if((($=de.info_row_expand_status_key)===null||$===void 0?void 0:$.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(Qe=((te=de.default_metadata)===null||te===void 0?void 0:te.toString())||((ue=de.expanded_metadata)===null||ue===void 0?void 0:ue.toString()),Ae===void 0)){let Be=((pe=de.default_metadata)===null||pe===void 0?void 0:pe.endpoint)||((G=de.expanded_metadata)===null||G===void 0?void 0:G.endpoint);Ae=(Y=Be==null?void 0:Be.payload)===null||Y===void 0?void 0:Y.browseId}((V=de.info_row_expand_status_key)===null||V===void 0?void 0:V.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(K=((q=de.default_metadata)===null||q===void 0?void 0:q.toString())||((oe=de.expanded_metadata)===null||oe===void 0?void 0:oe.toString()))}}return{song:Te,artist:Qe,album:ot,license:K,videoId:De,channelId:Ae}})}return[]}};o(Mo,"VideoInfo");Di=new WeakMap;var Ef=Mo;var Do,Pf,Bo=class{constructor(e,i){if(Do.set(this,void 0),Pf.set(this,void 0),E(this,Do,l.parseResponse(i.data),"f"),E(this,Pf,e,"f"),!m(this,Do,"f").actions_memo)throw new Error("Page actions not found");this.transcript=m(this,Do,"f").actions_memo.getType(Pn).first()}selectLanguage(e){return T(this,void 0,void 0,function*(){var i,n,r,a;let c=(a=(r=(n=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||n===void 0?void 0:n.language_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||a===void 0?void 0:a.find(d=>d.title.toString()===e);if(!c)throw new Error(`Language not found: ${e}`);if(c.selected)return this;let p=yield m(this,Pf,"f").execute("/get_transcript",{params:c.continuation});return new Bo(m(this,Pf,"f"),p)})}get languages(){var e,i,n,r;return((r=(n=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||n===void 0?void 0:n.sub_menu_items)===null||r===void 0?void 0:r.map(a=>a.title.toString()))||[]}get selectedLanguage(){var e,i,n,r,a;return((a=(r=(n=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||n===void 0?void 0:n.sub_menu_items)===null||r===void 0?void 0:r.find(c=>c.selected))===null||a===void 0?void 0:a.title.toString())||""}get page(){return m(this,Do,"f")}};o(Bo,"TranscriptInfo");Do=new WeakMap,Pf=new WeakMap;var Eg=Bo;var KT={};var D=class{constructor(e,i,n,r){var a,c,p,d,_,f,x,v,w,k,S,P,A,M,B,$,te,ue,pe,G,Y,V,q,oe,Te,Qe,ot;let K=new u(e);this.id=r||((d=(p=(c=(a=K==null?void 0:K.runs)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.endpoint)===null||p===void 0?void 0:p.payload)===null||d===void 0?void 0:d.browseId)||((f=(_=K==null?void 0:K.endpoint)===null||_===void 0?void 0:_.payload)===null||f===void 0?void 0:f.browseId)||"N/A",this.name=(K==null?void 0:K.text)||"N/A",this.thumbnails=n?y.fromResponse(n):[],this.endpoint=((v=(x=K==null?void 0:K.runs)===null||x===void 0?void 0:x[0])===null||v===void 0?void 0:v.endpoint)||(K==null?void 0:K.endpoint),i?Array.isArray(i)?(this.badges=l.parseArray(i),this.is_moderator=(w=this.badges)===null||w===void 0?void 0:w.some(De=>De.icon_type=="MODERATOR"),this.is_verified=(k=this.badges)===null||k===void 0?void 0:k.some(De=>De.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(S=this.badges)===null||S===void 0?void 0:S.some(De=>De.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=X([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=X([]),this.url=((B=(M=(A=(P=K==null?void 0:K.runs)===null||P===void 0?void 0:P[0])===null||A===void 0?void 0:A.endpoint)===null||M===void 0?void 0:M.metadata)===null||B===void 0?void 0:B.api_url)==="/browse"&&`${et.YT_BASE}${((pe=(ue=(te=($=K==null?void 0:K.runs)===null||$===void 0?void 0:$[0])===null||te===void 0?void 0:te.endpoint)===null||ue===void 0?void 0:ue.payload)===null||pe===void 0?void 0:pe.canonicalBaseUrl)||`/u/${(q=(V=(Y=(G=K==null?void 0:K.runs)===null||G===void 0?void 0:G[0])===null||Y===void 0?void 0:Y.endpoint)===null||V===void 0?void 0:V.payload)===null||q===void 0?void 0:q.browseId}`}`||`${et.YT_BASE}${((Te=(oe=K==null?void 0:K.endpoint)===null||oe===void 0?void 0:oe.payload)===null||Te===void 0?void 0:Te.canonicalBaseUrl)||`/u/${(ot=(Qe=K==null?void 0:K.endpoint)===null||Qe===void 0?void 0:Qe.payload)===null||ot===void 0?void 0:ot.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};o(D,"Author");var xk=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],t1=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],vk="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",i1="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Xx={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Qx="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",yk={5:Qx,"5module":Qx+" export import",6:Qx+" const class extends export import super"},bk=/^in(stanceof)?$/,wk=new RegExp("["+i1+"]"),Tk=new RegExp("["+i1+vk+"]");function e0(t,e){for(var i=65536,n=0;n<e.length;n+=2){if(i+=e[n],i>t)return!1;if(i+=e[n+1],i>=t)return!0}return!1}o(e0,"isInAstralSet");function qt(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&wk.test(String.fromCharCode(t)):e===!1?!1:e0(t,t1)}o(qt,"isIdentifierStart");function Lo(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&Tk.test(String.fromCharCode(t)):e===!1?!1:e0(t,t1)||e0(t,xk)}o(Lo,"isIdentifierChar");var ae=o(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function ut(t,e){return new ae(t,{beforeExpr:!0,binop:e})}o(ut,"binop");var lt={beforeExpr:!0},qe={startsExpr:!0},o0={};function ne(t,e){return e===void 0&&(e={}),e.keyword=t,o0[t]=new ae(t,e)}o(ne,"kw");var h={num:new ae("num",qe),regexp:new ae("regexp",qe),string:new ae("string",qe),name:new ae("name",qe),privateId:new ae("privateId",qe),eof:new ae("eof"),bracketL:new ae("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ae("]"),braceL:new ae("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ae("}"),parenL:new ae("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ae(")"),comma:new ae(",",lt),semi:new ae(";",lt),colon:new ae(":",lt),dot:new ae("."),question:new ae("?",lt),questionDot:new ae("?."),arrow:new ae("=>",lt),template:new ae("template"),invalidTemplate:new ae("invalidTemplate"),ellipsis:new ae("...",lt),backQuote:new ae("`",qe),dollarBraceL:new ae("${",{beforeExpr:!0,startsExpr:!0}),eq:new ae("=",{beforeExpr:!0,isAssign:!0}),assign:new ae("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ae("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ae("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:ut("||",1),logicalAND:ut("&&",2),bitwiseOR:ut("|",3),bitwiseXOR:ut("^",4),bitwiseAND:ut("&",5),equality:ut("==/!=/===/!==",6),relational:ut("</>/<=/>=",7),bitShift:ut("<</>>/>>>",8),plusMin:new ae("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:ut("%",10),star:ut("*",10),slash:ut("/",10),starstar:new ae("**",{beforeExpr:!0}),coalesce:ut("??",1),_break:ne("break"),_case:ne("case",lt),_catch:ne("catch"),_continue:ne("continue"),_debugger:ne("debugger"),_default:ne("default",lt),_do:ne("do",{isLoop:!0,beforeExpr:!0}),_else:ne("else",lt),_finally:ne("finally"),_for:ne("for",{isLoop:!0}),_function:ne("function",qe),_if:ne("if"),_return:ne("return",lt),_switch:ne("switch"),_throw:ne("throw",lt),_try:ne("try"),_var:ne("var"),_const:ne("const"),_while:ne("while",{isLoop:!0}),_with:ne("with"),_new:ne("new",{beforeExpr:!0,startsExpr:!0}),_this:ne("this",qe),_super:ne("super",qe),_class:ne("class",qe),_extends:ne("extends",lt),_export:ne("export"),_import:ne("import",qe),_null:ne("null",qe),_true:ne("true",qe),_false:ne("false",qe),_in:ne("in",{beforeExpr:!0,binop:7}),_instanceof:ne("instanceof",{beforeExpr:!0,binop:7}),_typeof:ne("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:ne("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:ne("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},dt=/\r\n?|\n|\u2028|\u2029/,Ik=new RegExp(dt.source,"g");function Oo(t){return t===10||t===13||t===8232||t===8233}o(Oo,"isNewLine");function n1(t,e,i){i===void 0&&(i=t.length);for(var n=e;n<i;n++){var r=t.charCodeAt(n);if(Oo(r))return n<i-1&&r===13&&t.charCodeAt(n+1)===10?n+2:n+1}return-1}o(n1,"nextLineBreak");var o1=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ct=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,r1=Object.prototype,kk=r1.hasOwnProperty,Sk=r1.toString,Vf=Object.hasOwn||function(t,e){return kk.call(t,e)},qT=Array.isArray||function(t){return Sk.call(t)==="[object Array]"},XT=Object.create(null);function Bi(t){return XT[t]||(XT[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}o(Bi,"wordsRegexp");function Li(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}o(Li,"codePointToString");var Ck=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Rf=o(function(e,i){this.line=e,this.column=i},"Position");Rf.prototype.offset=o(function(e){return new Rf(this.line,this.column+e)},"offset");var Kg=o(function(e,i,n){this.start=i,this.end=n,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function s1(t,e){for(var i=1,n=0;;){var r=n1(t,n,e);if(r<0)return new Rf(i,e-n);++i,n=r}}o(s1,"getLineInfo");var t0={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},QT=!1;function Ek(t){var e={};for(var i in t0)e[i]=t&&Vf(t,i)?t[i]:t0[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!QT&&typeof console=="object"&&console.warn&&(QT=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),qT(e.onToken)){var n=e.onToken;e.onToken=function(r){return n.push(r)}}return qT(e.onComment)&&(e.onComment=Pk(e,e.onComment)),e}o(Ek,"getOptions");function Pk(t,e){return function(i,n,r,a,c,p){var d={type:i?"Block":"Line",value:n,start:r,end:a};t.locations&&(d.loc=new Kg(this,c,p)),t.ranges&&(d.range=[r,a]),e.push(d)}}o(Pk,"pushComment");var Af=1,Fo=2,r0=4,a1=8,u1=16,l1=32,s0=64,c1=128,Mf=256,a0=Af|Fo|Mf;function u0(t,e){return Fo|(t?r0:0)|(e?a1:0)}o(u0,"functionFlags");var Hg=0,l0=1,Qt=2,p1=3,d1=4,f1=5,we=o(function(e,i,n){this.options=e=Ek(e),this.sourceFile=e.sourceFile,this.keywords=Bi(yk[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var r="";e.allowReserved!==!0&&(r=Xx[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(r+=" await")),this.reservedWords=Bi(r);var a=(r?r+" ":"")+Xx.strict;this.reservedWordsStrict=Bi(a),this.reservedWordsStrictBind=Bi(a+" "+Xx.strictBind),this.input=String(i),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(dt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=h.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Af),this.regexpState=null,this.privateNameStack=[]},"Parser"),Ot={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};we.prototype.parse=o(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");Ot.inFunction.get=function(){return(this.currentVarScope().flags&Fo)>0};Ot.inGenerator.get=function(){return(this.currentVarScope().flags&a1)>0&&!this.currentVarScope().inClassFieldInit};Ot.inAsync.get=function(){return(this.currentVarScope().flags&r0)>0&&!this.currentVarScope().inClassFieldInit};Ot.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Mf)return!1;if(e.flags&Fo)return(e.flags&r0)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Ot.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&s0)>0||i||this.options.allowSuperOutsideMethod};Ot.allowDirectSuper.get=function(){return(this.currentThisScope().flags&c1)>0};Ot.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Ot.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Fo|Mf))>0||i};Ot.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Mf)>0};we.extend=o(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var n=this,r=0;r<e.length;r++)n=e[r](n);return n},"extend");we.parse=o(function(e,i){return new this(i,e).parse()},"parse");we.parseExpressionAt=o(function(e,i,n){var r=new this(n,e,i);return r.nextToken(),r.parseExpression()},"parseExpressionAt");we.tokenizer=o(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(we.prototype,Ot);var Je=we.prototype,Nk=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Je.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){ct.lastIndex=t,t+=ct.exec(this.input)[0].length;var e=Nk.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){ct.lastIndex=t+e[0].length;var i=ct.exec(this.input),n=i.index+i[0].length,r=this.input.charAt(n);return r===";"||r==="}"||dt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(n+1)==="=")}t+=e[0].length,ct.lastIndex=t,t+=ct.exec(this.input)[0].length,this.input[t]===";"&&t++}};Je.eat=function(t){return this.type===t?(this.next(),!0):!1};Je.isContextual=function(t){return this.type===h.name&&this.value===t&&!this.containsEsc};Je.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Je.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Je.canInsertSemicolon=function(){return this.type===h.eof||this.type===h.braceR||dt.test(this.input.slice(this.lastTokEnd,this.start))};Je.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Je.semicolon=function(){!this.eat(h.semi)&&!this.insertSemicolon()&&this.unexpected()};Je.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Je.expect=function(t){this.eat(t)||this.unexpected()};Je.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var qg=o(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Je.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};Je.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,n=t.doubleProto;if(!e)return i>=0||n>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")};Je.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Je.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var O=we.prototype;O.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==h.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var n=0,r=Object.keys(this.undefinedExports);n<r.length;n+=1){var a=r[n];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var c0={kind:"loop"},Rk={kind:"switch"};O.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ct.lastIndex=this.pos;var e=ct.exec(this.input),i=this.pos+e[0].length,n=this.input.charCodeAt(i);if(n===91||n===92)return!0;if(t)return!1;if(n===123||n>55295&&n<56320)return!0;if(qt(n,!0)){for(var r=i+1;Lo(n=this.input.charCodeAt(r),!0);)++r;if(n===92||n>55295&&n<56320)return!0;var a=this.input.slice(i,r);if(!bk.test(a))return!0}return!1};O.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ct.lastIndex=this.pos;var t=ct.exec(this.input),e=this.pos+t[0].length,i;return!dt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Lo(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};O.parseStatement=function(t,e,i){var n=this.type,r=this.startNode(),a;switch(this.isLet(t)&&(n=h._var,a="let"),n){case h._break:case h._continue:return this.parseBreakContinueStatement(r,n.keyword);case h._debugger:return this.parseDebuggerStatement(r);case h._do:return this.parseDoStatement(r);case h._for:return this.parseForStatement(r);case h._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case h._class:return t&&this.unexpected(),this.parseClass(r,!0);case h._if:return this.parseIfStatement(r);case h._return:return this.parseReturnStatement(r);case h._switch:return this.parseSwitchStatement(r);case h._throw:return this.parseThrowStatement(r);case h._try:return this.parseTryStatement(r);case h._const:case h._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(r,a);case h._while:return this.parseWhileStatement(r);case h._with:return this.parseWithStatement(r);case h.braceL:return this.parseBlock(!0,r);case h.semi:return this.parseEmptyStatement(r);case h._export:case h._import:if(this.options.ecmaVersion>10&&n===h._import){ct.lastIndex=this.pos;var c=ct.exec(this.input),p=this.pos+c[0].length,d=this.input.charCodeAt(p);if(d===40||d===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===h._import?this.parseImport(r):this.parseExport(r,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var _=this.value,f=this.parseExpression();return n===h.name&&f.type==="Identifier"&&this.eat(h.colon)?this.parseLabeledStatement(r,_,f,t):this.parseExpressionStatement(r,f)}};O.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(h.semi)||this.insertSemicolon()?t.label=null:this.type!==h.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var r=this.labels[n];if((t.label==null||r.name===t.label.name)&&(r.kind!=null&&(i||r.kind==="loop")||t.label&&i))break}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};O.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};O.parseDoStatement=function(t){return this.next(),this.labels.push(c0),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(h._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(h.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};O.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(c0),this.enterScope(0),this.expect(h.parenL),this.type===h.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===h._var||this.type===h._const||i){var n=this.startNode(),r=i?"let":this.value;return this.next(),this.parseVar(n,!0,r),this.finishNode(n,"VariableDeclaration"),(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&n.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===h._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,n)):(e>-1&&this.unexpected(e),this.parseFor(t,n))}var a=this.isContextual("let"),c=!1,p=this.containsEsc,d=new qg,_=this.start,f=e>-1?this.parseExprSubscripts(d,"await"):this.parseExpression(!0,d);return this.type===h._in||(c=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===h._in&&this.unexpected(e),t.await=!0):c&&this.options.ecmaVersion>=8&&(f.start===_&&!p&&f.type==="Identifier"&&f.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),a&&c&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,d),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(d,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};O.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,Nf|(i?0:i0),!1,e)};O.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(h._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};O.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(h.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};O.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(h.braceL),this.labels.push(Rk),this.enterScope(0);for(var e,i=!1;this.type!==h.braceR;)if(this.type===h._case||this.type===h._default){var n=this.type===h._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),n?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(h.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};O.parseThrowStatement=function(t){return this.next(),dt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var Ak=[];O.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?l1:0),this.checkLValPattern(t,e?d1:Qt),this.expect(h.parenR),t};O.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===h._catch){var e=this.startNode();this.next(),this.eat(h.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(h._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};O.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};O.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(c0),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};O.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};O.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};O.parseLabeledStatement=function(t,e,i,n){for(var r=0,a=this.labels;r<a.length;r+=1){var c=a[r];c.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===h._switch?"switch":null,d=this.labels.length-1;d>=0;d--){var _=this.labels[d];if(_.statementStart===t.start)_.statementStart=this.start,_.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(n?n.indexOf("label")===-1?n+"label":n:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};O.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};O.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(h.braceL),t&&this.enterScope(0);this.type!==h.braceR;){var n=this.parseStatement(null);e.body.push(n)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};O.parseFor=function(t,e){return t.init=e,this.expect(h.semi),t.test=this.type===h.semi?null:this.parseExpression(),this.expect(h.semi),t.update=this.type===h.parenR?null:this.parseExpression(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};O.parseForIn=function(t,e){var i=this.type===h._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(h.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};O.parseVar=function(t,e,i,n){for(t.declarations=[],t.kind=i;;){var r=this.startNode();if(this.parseVarId(r,i),this.eat(h.eq)?r.init=this.parseMaybeAssign(e):!n&&i==="const"&&!(this.type===h._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!n&&r.id.type!=="Identifier"&&!(e&&(this.type===h._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(h.comma))break}return t};O.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?l0:Qt,!1)};var Nf=1,i0=2,m1=4;O.parseFunction=function(t,e,i,n,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===h.star&&e&i0&&this.unexpected(),t.generator=this.eat(h.star)),this.options.ecmaVersion>=8&&(t.async=!!n),e&Nf&&(t.id=e&m1&&this.type!==h.name?null:this.parseIdent(),t.id&&!(e&i0)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?l0:Qt:p1));var a=this.yieldPos,c=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(u0(t.async,t.generator)),e&Nf||(t.id=this.type===h.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,r),this.yieldPos=a,this.awaitPos=c,this.awaitIdentPos=p,this.finishNode(t,e&Nf?"FunctionDeclaration":"FunctionExpression")};O.parseFunctionParams=function(t){this.expect(h.parenL),t.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};O.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var n=this.enterClassBody(),r=this.startNode(),a=!1;for(r.body=[],this.expect(h.braceL);this.type!==h.braceR;){var c=this.parseClassElement(t.superClass!==null);c&&(r.body.push(c),c.type==="MethodDefinition"&&c.kind==="constructor"?(a&&this.raiseRecoverable(c.start,"Duplicate constructor in the same class"),a=!0):c.key&&c.key.type==="PrivateIdentifier"&&Vk(n,c)&&this.raiseRecoverable(c.key.start,"Identifier '#"+c.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};O.parseClassElement=function(t){if(this.eat(h.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),n="",r=!1,a=!1,c="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(h.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===h.star?p=!0:n="static"}if(i.static=p,!n&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===h.star)&&!this.canInsertSemicolon()?a=!0:n="async"),!n&&(e>=9||!a)&&this.eat(h.star)&&(r=!0),!n&&!a&&!r){var d=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?c=d:n=d)}if(n?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=n,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===h.parenL||c!=="method"||r||a){var _=!i.static&&zg(i,"constructor"),f=_&&t;_&&c!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=_?"constructor":c,this.parseClassMethod(i,r,a,f)}else this.parseClassField(i);return i};O.isClassElementNameStart=function(){return this.type===h.name||this.type===h.privateId||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword};O.parseClassElementName=function(t){this.type===h.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};O.parseClassMethod=function(t,e,i,n){var r=t.key;t.kind==="constructor"?(e&&this.raise(r.start,"Constructor can't be a generator"),i&&this.raise(r.start,"Constructor can't be an async method")):t.static&&zg(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,i,n);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};O.parseClassField=function(t){if(zg(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&zg(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(h.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};O.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Mf|s0);this.type!==h.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};O.parseClassId=function(t,e){this.type===h.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Qt,!1)):(e===!0&&this.unexpected(),t.id=null)};O.parseClassSuper=function(t){t.superClass=this.eat(h._extends)?this.parseExprSubscripts(null,!1):null};O.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};O.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var n=this.privateNameStack.length,r=n===0?null:this.privateNameStack[n-1],a=0;a<i.length;++a){var c=i[a];Vf(e,c.name)||(r?r.used.push(c):this.raiseRecoverable(c.start,"Private field '#"+c.name+"' must be declared in an enclosing class"))}};function Vk(t,e){var i=e.key.name,n=t[i],r="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(r=(e.static?"s":"i")+e.kind),n==="iget"&&r==="iset"||n==="iset"&&r==="iget"||n==="sget"&&r==="sset"||n==="sset"&&r==="sget"?(t[i]="true",!1):n?!0:(t[i]=r,!1)}o(Vk,"isPrivateNameConflicted");function zg(t,e){var i=t.computed,n=t.key;return!i&&(n.type==="Identifier"&&n.name===e||n.type==="Literal"&&n.value===e)}o(zg,"checkKeyName");O.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};O.parseExport=function(t,e){if(this.next(),this.eat(h.star))return this.parseExportAllDeclaration(t,e);if(this.eat(h._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==h.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,n=t.specifiers;i<n.length;i+=1){var r=n[i];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};O.parseExportDeclaration=function(t){return this.parseStatement(null)};O.parseExportDefaultDeclaration=function(){var t;if(this.type===h._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,Nf|m1,!1,t)}else if(this.type===h._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var n=this.parseMaybeAssign();return this.semicolon(),n}};O.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Vf(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};O.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var n=0,r=e.properties;n<r.length;n+=1){var a=r[n];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var c=0,p=e.elements;c<p.length;c+=1){var d=p[c];d&&this.checkPatternExport(t,d)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};O.checkVariableExport=function(t,e){if(!!t)for(var i=0,n=e;i<n.length;i+=1){var r=n[i];this.checkPatternExport(t,r.id)}};O.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};O.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};O.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(h.braceL);!this.eat(h.braceR);){if(i)i=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;e.push(this.parseExportSpecifier(t))}return e};O.parseImport=function(t){return this.next(),this.type===h.string?(t.specifiers=Ak,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===h.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};O.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Qt),this.finishNode(t,"ImportSpecifier")};O.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Qt),this.finishNode(t,"ImportDefaultSpecifier")};O.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Qt),this.finishNode(t,"ImportNamespaceSpecifier")};O.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===h.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(h.comma)))return t;if(this.type===h.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(h.braceL);!this.eat(h.braceR);){if(e)e=!1;else if(this.expect(h.comma),this.afterTrailingComma(h.braceR))break;t.push(this.parseImportSpecifier())}return t};O.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===h.string){var t=this.parseLiteral(this.value);return Ck.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};O.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};O.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var ft=we.prototype;ft.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var n=0,r=t.properties;n<r.length;n+=1){var a=r[n];this.toAssignable(a,e),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};ft.toAssignableList=function(t,e){for(var i=t.length,n=0;n<i;n++){var r=t[n];r&&this.toAssignable(r,e)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&e&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};ft.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};ft.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==h.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};ft.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case h.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(h.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case h.braceL:return this.parseObj(!0)}return this.parseIdent()};ft.parseBindingList=function(t,e,i,n){for(var r=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(h.comma),e&&this.type===h.comma)r.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===h.ellipsis){var c=this.parseRestBinding();this.parseBindingListItem(c),r.push(c),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else r.push(this.parseAssignableListItem(n))}return r};ft.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};ft.parseBindingListItem=function(t){return t};ft.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(h.eq))return i;var n=this.startNodeAt(t,e);return n.left=i,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")};ft.checkLValSimple=function(t,e,i){e===void 0&&(e=Hg);var n=e!==Hg;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(n?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(e===Qt&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Vf(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==f1&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(n?"Binding":"Assigning to")+" rvalue")}};ft.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=Hg),t.type){case"ObjectPattern":for(var n=0,r=t.properties;n<r.length;n+=1){var a=r[n];this.checkLValInnerPattern(a,e,i)}break;case"ArrayPattern":for(var c=0,p=t.elements;c<p.length;c+=1){var d=p[c];d&&this.checkLValInnerPattern(d,e,i)}break;default:this.checkLValSimple(t,e,i)}};ft.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=Hg),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var wt=o(function(e,i,n,r,a){this.token=e,this.isExpr=!!i,this.preserveSpace=!!n,this.override=r,this.generator=!!a},"TokContext"),fe={b_stat:new wt("{",!1),b_expr:new wt("{",!0),b_tmpl:new wt("${",!1),p_stat:new wt("(",!1),p_expr:new wt("(",!0),q_tmpl:new wt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new wt("function",!1),f_expr:new wt("function",!0),f_expr_gen:new wt("function",!0,!1,null,!0),f_gen:new wt("function",!1,!1,null,!0)},Yo=we.prototype;Yo.initialContext=function(){return[fe.b_stat]};Yo.curContext=function(){return this.context[this.context.length-1]};Yo.braceIsBlock=function(t){var e=this.curContext();return e===fe.f_expr||e===fe.f_stat?!0:t===h.colon&&(e===fe.b_stat||e===fe.b_expr)?!e.isExpr:t===h._return||t===h.name&&this.exprAllowed?dt.test(this.input.slice(this.lastTokEnd,this.start)):t===h._else||t===h.semi||t===h.eof||t===h.parenR||t===h.arrow?!0:t===h.braceL?e===fe.b_stat:t===h._var||t===h._const||t===h.name?!1:!this.exprAllowed};Yo.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Yo.updateContext=function(t){var e,i=this.type;i.keyword&&t===h.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Yo.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};h.parenR.updateContext=h.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===fe.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};h.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?fe.b_stat:fe.b_expr),this.exprAllowed=!0};h.dollarBraceL.updateContext=function(){this.context.push(fe.b_tmpl),this.exprAllowed=!0};h.parenL.updateContext=function(t){var e=t===h._if||t===h._for||t===h._with||t===h._while;this.context.push(e?fe.p_stat:fe.p_expr),this.exprAllowed=!0};h.incDec.updateContext=function(){};h._function.updateContext=h._class.updateContext=function(t){t.beforeExpr&&t!==h._else&&!(t===h.semi&&this.curContext()!==fe.p_stat)&&!(t===h._return&&dt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===h.colon||t===h.braceL)&&this.curContext()===fe.b_stat)?this.context.push(fe.f_expr):this.context.push(fe.f_stat),this.exprAllowed=!1};h.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};h.backQuote.updateContext=function(){this.curContext()===fe.q_tmpl?this.context.pop():this.context.push(fe.q_tmpl),this.exprAllowed=!1};h.star.updateContext=function(t){if(t===h._function){var e=this.context.length-1;this.context[e]===fe.f_expr?this.context[e]=fe.f_expr_gen:this.context[e]=fe.f_gen}this.exprAllowed=!0};h.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==h.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var z=we.prototype;z.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var n=t.key,r;switch(n.type){case"Identifier":r=n.name;break;case"Literal":r=String(n.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&a==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),e.proto=!0);return}r="$"+r;var c=e[r];if(c){var p;a==="init"?p=this.strict&&c.init||c.get||c.set:p=c.init||c[a],p&&this.raiseRecoverable(n.start,"Redefinition of property")}else c=e[r]={init:!1,get:!1,set:!1};c[a]=!0}};z.parseExpression=function(t,e){var i=this.start,n=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===h.comma){var a=this.startNodeAt(i,n);for(a.expressions=[r];this.eat(h.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return r};z.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var n=!1,r=-1,a=-1,c=-1;e?(r=e.parenthesizedAssign,a=e.trailingComma,c=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new qg,n=!0);var p=this.start,d=this.startLoc;(this.type===h.parenL||this.type===h.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var _=this.parseMaybeConditional(t,e);if(i&&(_=i.call(this,_,p,d)),this.type.isAssign){var f=this.startNodeAt(p,d);return f.operator=this.value,this.type===h.eq&&(_=this.toAssignable(_,!1,e)),n||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=_.start&&(e.shorthandAssign=-1),this.type===h.eq?this.checkLValPattern(_):this.checkLValSimple(_),f.left=_,this.next(),f.right=this.parseMaybeAssign(t),c>-1&&(e.doubleProto=c),this.finishNode(f,"AssignmentExpression")}else n&&this.checkExpressionErrors(e,!0);return r>-1&&(e.parenthesizedAssign=r),a>-1&&(e.trailingComma=a),_};z.parseMaybeConditional=function(t,e){var i=this.start,n=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(h.question)){var a=this.startNodeAt(i,n);return a.test=r,a.consequent=this.parseMaybeAssign(),this.expect(h.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return r};z.parseExprOps=function(t,e){var i=this.start,n=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||r.start===i&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,i,n,-1,t)};z.parseExprOp=function(t,e,i,n,r){var a=this.type.binop;if(a!=null&&(!r||this.type!==h._in)&&a>n){var c=this.type===h.logicalOR||this.type===h.logicalAND,p=this.type===h.coalesce;p&&(a=h.logicalAND.binop);var d=this.value;this.next();var _=this.start,f=this.startLoc,x=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),_,f,a,r),v=this.buildBinary(e,i,t,x,d,c||p);return(c&&this.type===h.coalesce||p&&(this.type===h.logicalOR||this.type===h.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(v,e,i,n,r)}return t};z.buildBinary=function(t,e,i,n,r,a){n.type==="PrivateIdentifier"&&this.raise(n.start,"Private identifier can only be left side of binary expression");var c=this.startNodeAt(t,e);return c.left=i,c.operator=r,c.right=n,this.finishNode(c,a?"LogicalExpression":"BinaryExpression")};z.parseMaybeUnary=function(t,e,i,n){var r=this.start,a=this.startLoc,c;if(this.isContextual("await")&&this.canAwait)c=this.parseAwait(n),e=!0;else if(this.type.prefix){var p=this.startNode(),d=this.type===h.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,d,n),this.checkExpressionErrors(t,!0),d?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&h1(p.argument)?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&n0(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,c=this.finishNode(p,d?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===h.privateId)(n||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),c=this.parsePrivateIdent(),this.type!==h._in&&this.unexpected();else{if(c=this.parseExprSubscripts(t,n),this.checkExpressionErrors(t))return c;for(;this.type.postfix&&!this.canInsertSemicolon();){var _=this.startNodeAt(r,a);_.operator=this.value,_.prefix=!1,_.argument=c,this.checkLValSimple(c),this.next(),c=this.finishNode(_,"UpdateExpression")}}if(!i&&this.eat(h.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(r,a,c,this.parseMaybeUnary(null,!1,!1,n),"**",!1);else return c};function h1(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&h1(t.expression)}o(h1,"isLocalVariableAccess");function n0(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&n0(t.expression)||t.type==="ParenthesizedExpression"&&n0(t.expression)}o(n0,"isPrivateFieldAccess");z.parseExprSubscripts=function(t,e){var i=this.start,n=this.startLoc,r=this.parseExprAtom(t,e);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var a=this.parseSubscripts(r,i,n,!1,e);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};z.parseSubscripts=function(t,e,i,n,r){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,c=!1;;){var p=this.parseSubscript(t,e,i,n,a,c,r);if(p.optional&&(c=!0),p===t||p.type==="ArrowFunctionExpression"){if(c){var d=this.startNodeAt(e,i);d.expression=p,p=this.finishNode(d,"ChainExpression")}return p}t=p}};z.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(h.arrow)};z.parseSubscriptAsyncArrow=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,n)};z.parseSubscript=function(t,e,i,n,r,a,c){var p=this.options.ecmaVersion>=11,d=p&&this.eat(h.questionDot);n&&d&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var _=this.eat(h.bracketL);if(_||d&&this.type!==h.parenL&&this.type!==h.backQuote||this.eat(h.dot)){var f=this.startNodeAt(e,i);f.object=t,_?(f.property=this.parseExpression(),this.expect(h.bracketR)):this.type===h.privateId&&t.type!=="Super"?f.property=this.parsePrivateIdent():f.property=this.parseIdent(this.options.allowReserved!=="never"),f.computed=!!_,p&&(f.optional=d),t=this.finishNode(f,"MemberExpression")}else if(!n&&this.eat(h.parenL)){var x=new qg,v=this.yieldPos,w=this.awaitPos,k=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var S=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1,x);if(r&&!d&&this.shouldParseAsyncArrow())return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=v,this.awaitPos=w,this.awaitIdentPos=k,this.parseSubscriptAsyncArrow(e,i,S,c);this.checkExpressionErrors(x,!0),this.yieldPos=v||this.yieldPos,this.awaitPos=w||this.awaitPos,this.awaitIdentPos=k||this.awaitIdentPos;var P=this.startNodeAt(e,i);P.callee=t,P.arguments=S,p&&(P.optional=d),t=this.finishNode(P,"CallExpression")}else if(this.type===h.backQuote){(d||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var A=this.startNodeAt(e,i);A.tag=t,A.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(A,"TaggedTemplateExpression")}return t};z.parseExprAtom=function(t,e,i){this.type===h.slash&&this.readRegexp();var n,r=this.potentialArrowAt===this.start;switch(this.type){case h._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type===h.parenL&&!this.allowDirectSuper&&this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==h.dot&&this.type!==h.bracketL&&this.type!==h.parenL&&this.unexpected(),this.finishNode(n,"Super");case h._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case h.name:var a=this.start,c=this.startLoc,p=this.containsEsc,d=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&d.name==="async"&&!this.canInsertSemicolon()&&this.eat(h._function))return this.overrideContext(fe.f_expr),this.parseFunction(this.startNodeAt(a,c),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(h.arrow))return this.parseArrowExpression(this.startNodeAt(a,c),[d],!1,e);if(this.options.ecmaVersion>=8&&d.name==="async"&&this.type===h.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return d=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(h.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,c),[d],!0,e)}return d;case h.regexp:var _=this.value;return n=this.parseLiteral(_.value),n.regex={pattern:_.pattern,flags:_.flags},n;case h.num:case h.string:return this.parseLiteral(this.value);case h._null:case h._true:case h._false:return n=this.startNode(),n.value=this.type===h._null?null:this.type===h._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case h.parenL:var f=this.start,x=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(x)&&(t.parenthesizedAssign=f),t.parenthesizedBind<0&&(t.parenthesizedBind=f)),x;case h.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(h.bracketR,!0,!0,t),this.finishNode(n,"ArrayExpression");case h.braceL:return this.overrideContext(fe.b_expr),this.parseObj(!1,t);case h._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case h._class:return this.parseClass(this.startNode(),!1);case h._new:return this.parseNew();case h.backQuote:return this.parseTemplate();case h._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};z.parseExprAtomDefault=function(){this.unexpected()};z.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===h.parenL&&!t)return this.parseDynamicImport(e);if(this.type===h.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};z.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(h.parenR)){var e=this.start;this.eat(h.comma)&&this.eat(h.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};z.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};z.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};z.parseParenExpression=function(){this.expect(h.parenL);var t=this.parseExpression();return this.expect(h.parenR),t};z.shouldParseArrow=function(t){return!this.canInsertSemicolon()};z.parseParenAndDistinguishExpression=function(t,e){var i=this.start,n=this.startLoc,r,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var c=this.start,p=this.startLoc,d=[],_=!0,f=!1,x=new qg,v=this.yieldPos,w=this.awaitPos,k;for(this.yieldPos=0,this.awaitPos=0;this.type!==h.parenR;)if(_?_=!1:this.expect(h.comma),a&&this.afterTrailingComma(h.parenR,!0)){f=!0;break}else if(this.type===h.ellipsis){k=this.start,d.push(this.parseParenItem(this.parseRestBinding())),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else d.push(this.parseMaybeAssign(!1,x,this.parseParenItem));var S=this.lastTokEnd,P=this.lastTokEndLoc;if(this.expect(h.parenR),t&&this.shouldParseArrow(d)&&this.eat(h.arrow))return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=v,this.awaitPos=w,this.parseParenArrowList(i,n,d,e);(!d.length||f)&&this.unexpected(this.lastTokStart),k&&this.unexpected(k),this.checkExpressionErrors(x,!0),this.yieldPos=v||this.yieldPos,this.awaitPos=w||this.awaitPos,d.length>1?(r=this.startNodeAt(c,p),r.expressions=d,this.finishNodeAt(r,"SequenceExpression",S,P)):r=d[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var A=this.startNodeAt(i,n);return A.expression=r,this.finishNode(A,"ParenthesizedExpression")}else return r};z.parseParenItem=function(t){return t};z.parseParenArrowList=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,n)};var Mk=[];z.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===h.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var n=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),n,r,!0,!1),this.eat(h.parenL)?t.arguments=this.parseExprList(h.parenR,this.options.ecmaVersion>=8,!1):t.arguments=Mk,this.finishNode(t,"NewExpression")};z.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===h.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===h.backQuote,this.finishNode(i,"TemplateElement")};z.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var n=this.parseTemplateElement({isTagged:e});for(i.quasis=[n];!n.tail;)this.type===h.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(h.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(h.braceR),i.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};z.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===h.name||this.type===h.num||this.type===h.string||this.type===h.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===h.star)&&!dt.test(this.input.slice(this.lastTokEnd,this.start))};z.parseObj=function(t,e){var i=this.startNode(),n=!0,r={};for(i.properties=[],this.next();!this.eat(h.braceR);){if(n)n=!1;else if(this.expect(h.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(h.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,r,e),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};z.parseProperty=function(t,e){var i=this.startNode(),n,r,a,c;if(this.options.ecmaVersion>=9&&this.eat(h.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===h.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===h.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(a=this.start,c=this.startLoc),t||(n=this.eat(h.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(i)?(r=!0,n=this.options.ecmaVersion>=9&&this.eat(h.star),this.parsePropertyName(i)):r=!1,this.parsePropertyValue(i,t,n,r,a,c,e,p),this.finishNode(i,"Property")};z.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};z.parsePropertyValue=function(t,e,i,n,r,a,c,p){(i||n)&&this.type===h.colon&&this.unexpected(),this.eat(h.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,c),t.kind="init"):this.options.ecmaVersion>=6&&this.type===h.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,n)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==h.comma&&this.type!==h.braceR&&this.type!==h.eq?((i||n)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||n)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,a,this.copyNode(t.key)):this.type===h.eq&&c?(c.shorthandAssign<0&&(c.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};z.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(h.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(h.bracketR),t.key;t.computed=!1}return t.key=this.type===h.num||this.type===h.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};z.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};z.parseMethod=function(t,e,i){var n=this.startNode(),r=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=t),this.options.ecmaVersion>=8&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(u0(e,n.generator)|s0|(i?c1:0)),this.expect(h.parenL),n.params=this.parseBindingList(h.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(n,"FunctionExpression")};z.parseArrowExpression=function(t,e,i,n){var r=this.yieldPos,a=this.awaitPos,c=this.awaitIdentPos;return this.enterScope(u0(i,!1)|u1),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,n),this.yieldPos=r,this.awaitPos=a,this.awaitIdentPos=c,this.finishNode(t,"ArrowFunctionExpression")};z.parseFunctionBody=function(t,e,i,n){var r=e&&this.type!==h.braceL,a=this.strict,c=!1;if(r)t.body=this.parseMaybeAssign(n),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||p)&&(c=this.strictDirective(this.end),c&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var d=this.labels;this.labels=[],c&&(this.strict=!0),this.checkParams(t,!a&&!c&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,f1),t.body=this.parseBlock(!1,void 0,c&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=d}this.exitScope()};z.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(n.type!=="Identifier")return!1}return!0};z.checkParams=function(t,e){for(var i=Object.create(null),n=0,r=t.params;n<r.length;n+=1){var a=r[n];this.checkLValInnerPattern(a,l0,e?null:i)}};z.parseExprList=function(t,e,i,n){for(var r=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(h.comma),e&&this.afterTrailingComma(t))break;var c=void 0;i&&this.type===h.comma?c=null:this.type===h.ellipsis?(c=this.parseSpread(n),n&&this.type===h.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):c=this.parseMaybeAssign(!1,n),r.push(c)}return r};z.checkUnreserved=function(t){var e=t.start,i=t.end,n=t.name;if(this.inGenerator&&n==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&n==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(n==="arguments"||n==="await")&&this.raise(e,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(e,"Unexpected keyword '"+n+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(n)&&(!this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+n+"' is reserved"))}};z.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};z.parseIdentNode=function(){var t=this.startNode();return this.type===h.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=h.name):this.unexpected(),t};z.parsePrivateIdent=function(){var t=this.startNode();return this.type===h.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};z.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===h.semi||this.canInsertSemicolon()||this.type!==h.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(h.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};z.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Gg=we.prototype;Gg.raise=function(t,e){var i=s1(this.input,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=this.pos,n};Gg.raiseRecoverable=Gg.raise;Gg.curPosition=function(){if(this.options.locations)return new Rf(this.curLine,this.pos-this.lineStart)};var Oi=we.prototype,Dk=o(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Oi.enterScope=function(t){this.scopeStack.push(new Dk(t))};Oi.exitScope=function(){this.scopeStack.pop()};Oi.treatFunctionsAsVarInScope=function(t){return t.flags&Fo||!this.inModule&&t.flags&Af};Oi.declareName=function(t,e,i){var n=!1;if(e===Qt){var r=this.currentScope();n=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&r.flags&Af&&delete this.undefinedExports[t]}else if(e===d1){var a=this.currentScope();a.lexical.push(t)}else if(e===p1){var c=this.currentScope();this.treatFunctionsAsVar?n=c.lexical.indexOf(t)>-1:n=c.lexical.indexOf(t)>-1||c.var.indexOf(t)>-1,c.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var d=this.scopeStack[p];if(d.lexical.indexOf(t)>-1&&!(d.flags&l1&&d.lexical[0]===t)||!this.treatFunctionsAsVarInScope(d)&&d.functions.indexOf(t)>-1){n=!0;break}if(d.var.push(t),this.inModule&&d.flags&Af&&delete this.undefinedExports[t],d.flags&a0)break}n&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Oi.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Oi.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Oi.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&a0)return e}};Oi.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&a0&&!(e.flags&u1))return e}};var Xg=o(function(e,i,n){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Kg(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Df=we.prototype;Df.startNode=function(){return new Xg(this,this.start,this.startLoc)};Df.startNodeAt=function(t,e){return new Xg(this,t,e)};function _1(t,e,i,n){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=i),t}o(_1,"finishNodeAt");Df.finishNode=function(t,e){return _1.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Df.finishNodeAt=function(t,e,i,n){return _1.call(this,t,e,i,n)};Df.copyNode=function(t){var e=new Xg(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var g1="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",x1=g1+" Extended_Pictographic",v1=x1,y1=v1+" EBase EComp EMod EPres ExtPict",b1=y1,Bk=b1,Lk={9:g1,10:x1,11:v1,12:y1,13:b1,14:Bk},Ok="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",Fk={9:"",10:"",11:"",12:"",13:"",14:Ok},ZT="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",w1="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",T1=w1+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",I1=T1+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",k1=I1+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",S1=k1+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",Yk=S1+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",Uk={9:w1,10:T1,11:I1,12:k1,13:S1,14:Yk},C1={};function jk(t){var e=C1[t]={binary:Bi(Lk[t]+" "+ZT),binaryOfStrings:Bi(Fk[t]),nonBinary:{General_Category:Bi(ZT),Script:Bi(Uk[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}o(jk,"buildUnicodeData");for(Jg=0,Zx=[9,10,11,12,13,14];Jg<Zx.length;Jg+=1)e1=Zx[Jg],jk(e1);var e1,Jg,Zx,L=we.prototype,$g=o(function(e,i){this.parent=e,this.base=i||this},"BranchID");$g.prototype.separatedFrom=o(function(e){for(var i=this;i;i=i.parent)for(var n=e;n;n=n.parent)if(i.base===n.base&&i!==n)return!0;return!1},"separatedFrom");$g.prototype.sibling=o(function(){return new $g(this.parent,this.base)},"sibling");var Ft=o(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=C1[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null},"RegExpValidationState");Ft.prototype.reset=o(function(e,i,n){var r=n.indexOf("v")!==-1,a=n.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=n,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)},"reset");Ft.prototype.raise=o(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Ft.prototype.at=o(function(e,i){i===void 0&&(i=!1);var n=this.source,r=n.length;if(e>=r)return-1;var a=n.charCodeAt(e);if(!(i||this.switchU)||a<=55295||a>=57344||e+1>=r)return a;var c=n.charCodeAt(e+1);return c>=56320&&c<=57343?(a<<10)+c-56613888:a},"at");Ft.prototype.nextIndex=o(function(e,i){i===void 0&&(i=!1);var n=this.source,r=n.length;if(e>=r)return r;var a=n.charCodeAt(e),c;return!(i||this.switchU)||a<=55295||a>=57344||e+1>=r||(c=n.charCodeAt(e+1))<56320||c>57343?e+1:e+2},"nextIndex");Ft.prototype.current=o(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Ft.prototype.lookahead=o(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Ft.prototype.advance=o(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Ft.prototype.eat=o(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");Ft.prototype.eatChars=o(function(e,i){i===void 0&&(i=!1);for(var n=this.pos,r=0,a=e;r<a.length;r+=1){var c=a[r],p=this.at(n,i);if(p===-1||p!==c)return!1;n=this.nextIndex(n,i)}return this.pos=n,!0},"eatChars");L.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,n=!1,r=!1,a=0;a<i.length;a++){var c=i.charAt(a);e.indexOf(c)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(c,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),c==="u"&&(n=!0),c==="v"&&(r=!0)}this.options.ecmaVersion>=15&&n&&r&&this.raise(t.start,"Invalid regular expression flag")};function Wk(t){for(var e in t)return!0;return!1}o(Wk,"hasProp");L.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&Wk(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};L.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var n=i[e];t.groupNames[n]||t.raise("Invalid named capture referenced")}};L.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new $g(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};L.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};L.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};L.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};L.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};L.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};L.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var n=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return r!==-1&&r<n&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};L.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};L.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};L.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};L.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};L.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};L.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};L.regexp_eatSyntaxCharacter=function(t){var e=t.current();return E1(e)?(t.lastIntValue=e,t.advance(),!0):!1};function E1(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}o(E1,"isSyntaxCharacter");L.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!E1(i);)t.advance();return t.pos!==e};L.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};L.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(e)for(var n=0,r=i;n<r.length;n+=1){var a=r[n];a.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};L.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};L.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Li(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Li(t.lastIntValue);return!0}return!1};L.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),Jk(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function Jk(t){return qt(t,!0)||t===36||t===95}o(Jk,"isRegExpIdentifierStart");L.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),Hk(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function Hk(t){return Lo(t,!0)||t===36||t===95||t===8204||t===8205}o(Hk,"isRegExpIdentifierPart");L.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};L.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};L.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};L.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};L.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};L.regexp_eatZero=function(t){return t.current()===48&&!Qg(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};L.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};L.regexp_eatControlLetter=function(t){var e=t.current();return P1(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function P1(t){return t>=65&&t<=90||t>=97&&t<=122}o(P1,"isControlLetter");L.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,n=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(n&&r>=55296&&r<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var c=t.lastIntValue;if(c>=56320&&c<=57343)return t.lastIntValue=(r-55296)*1024+(c-56320)+65536,!0}t.pos=a,t.lastIntValue=r}return!0}if(n&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&zk(t.lastIntValue))return!0;n&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function zk(t){return t>=0&&t<=1114111}o(zk,"isValidUnicode");L.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};L.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var N1=0,Xt=1,pt=2;L.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(Gk(e))return t.lastIntValue=-1,t.advance(),Xt;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var n;if(t.eat(123)&&(n=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&n===pt&&t.raise("Invalid property name"),n;t.raise("Invalid property name")}return N1};function Gk(t){return t===100||t===68||t===115||t===83||t===119||t===87}o(Gk,"isCharacterClassEscape");L.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,n),Xt}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r)}return N1};L.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Vf(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};L.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Xt;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return pt;t.raise("Invalid property name")};L.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";R1(e=t.current());)t.lastStringValue+=Li(e),t.advance();return t.lastStringValue!==""};function R1(t){return P1(t)||t===95}o(R1,"isUnicodePropertyNameCharacter");L.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";$k(e=t.current());)t.lastStringValue+=Li(e),t.advance();return t.lastStringValue!==""};function $k(t){return R1(t)||Qg(t)}o($k,"isUnicodePropertyValueCharacter");L.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};L.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===pt&&t.raise("Negated character class may contain strings"),!0}return!1};L.regexp_classContents=function(t){return t.current()===93?Xt:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Xt)};L.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};L.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||M1(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var n=t.current();return n!==93?(t.lastIntValue=n,t.advance(),!0):!1};L.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};L.regexp_classSetExpression=function(t){var e=Xt,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===pt&&(e=pt);for(var n=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==pt&&(e=Xt);continue}t.raise("Invalid character in character class")}if(n!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(n!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===pt&&(e=pt)}};L.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;return i!==-1&&n!==-1&&i>n&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};L.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Xt:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};L.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),n=this.regexp_classContents(t);if(t.eat(93))return i&&n===pt&&t.raise("Negated character class may contain strings"),n;t.pos=e}if(t.eat(92)){var r=this.regexp_eatCharacterClassEscape(t);if(r)return r;t.pos=e}return null};L.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};L.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===pt&&(e=pt);return e};L.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Xt:pt};L.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&Kk(i)||qk(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function Kk(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}o(Kk,"isClassSetReservedDoublePunctuatorCharacter");function qk(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}o(qk,"isClassSetSyntaxCharacter");L.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return Xk(e)?(t.lastIntValue=e,t.advance(),!0):!1};function Xk(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}o(Xk,"isClassSetReservedPunctuator");L.regexp_eatClassControlLetter=function(t){var e=t.current();return Qg(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};L.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};L.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Qg(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Qg(t){return t>=48&&t<=57}o(Qg,"isDecimalDigit");L.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;A1(i=t.current());)t.lastIntValue=16*t.lastIntValue+V1(i),t.advance();return t.pos!==e};function A1(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}o(A1,"isHexDigit");function V1(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}o(V1,"hexToInt");L.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};L.regexp_eatOctalDigit=function(t){var e=t.current();return M1(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function M1(t){return t>=48&&t<=55}o(M1,"isOctalDigit");L.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var n=0;n<e;++n){var r=t.current();if(!A1(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+V1(r),t.advance()}return!0};var p0=o(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Kg(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),ee=we.prototype;ee.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new p0(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};ee.getToken=function(){return this.next(),new p0(this)};typeof Symbol<"u"&&(ee[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===h.eof,value:e}}}});ee.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(h.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};ee.readToken=function(t){return qt(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};ee.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};ee.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var n=void 0,r=e;(n=n1(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};ee.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Oo(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};ee.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&o1.test(String.fromCharCode(t)))++this.pos;else break e}}};ee.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};ee.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(h.ellipsis)):(++this.pos,this.finishToken(h.dot))};ee.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(h.assign,2):this.finishOp(h.slash,1)};ee.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,n=t===42?h.star:h.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,n=h.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(h.assign,i+1):this.finishOp(n,i)};ee.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(h.assign,3)}return this.finishOp(t===124?h.logicalOR:h.logicalAND,2)}return e===61?this.finishOp(h.assign,2):this.finishOp(t===124?h.bitwiseOR:h.bitwiseAND,1)};ee.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(h.assign,2):this.finishOp(h.bitwiseXOR,1)};ee.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||dt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(h.incDec,2):e===61?this.finishOp(h.assign,2):this.finishOp(h.plusMin,1)};ee.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(h.assign,i+1):this.finishOp(h.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(h.relational,i))};ee.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(h.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(h.arrow)):this.finishOp(t===61?h.eq:h.prefix,1)};ee.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(h.questionDot,2)}if(e===63){if(t>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(h.assign,3)}return this.finishOp(h.coalesce,2)}}return this.finishOp(h.question,1)};ee.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),qt(e,!0)||e===92))return this.finishToken(h.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Li(e)+"'")};ee.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(h.parenL);case 41:return++this.pos,this.finishToken(h.parenR);case 59:return++this.pos,this.finishToken(h.semi);case 44:return++this.pos,this.finishToken(h.comma);case 91:return++this.pos,this.finishToken(h.bracketL);case 93:return++this.pos,this.finishToken(h.bracketR);case 123:return++this.pos,this.finishToken(h.braceL);case 125:return++this.pos,this.finishToken(h.braceR);case 58:return++this.pos,this.finishToken(h.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(h.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(h.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Li(t)+"'")};ee.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};ee.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(dt.test(n)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(n==="[")e=!0;else if(n==="]"&&e)e=!1;else if(n==="/"&&!e)break;t=n==="\\"}++this.pos}var r=this.input.slice(i,this.pos);++this.pos;var a=this.pos,c=this.readWord1();this.containsEsc&&this.unexpected(a);var p=this.regexpState||(this.regexpState=new Ft(this));p.reset(i,r,c),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var d=null;try{d=new RegExp(r,c)}catch(_){}return this.finishToken(h.regexp,{pattern:r,flags:c,value:d})};ee.readInt=function(t,e,i){for(var n=this.options.ecmaVersion>=12&&e===void 0,r=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,c=0,p=0,d=0,_=e==null?1/0:e;d<_;++d,++this.pos){var f=this.input.charCodeAt(this.pos),x=void 0;if(n&&f===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),d===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=f;continue}if(f>=97?x=f-97+10:f>=65?x=f-65+10:f>=48&&f<=57?x=f-48:x=1/0,x>=t)break;p=f,c=c*t+x}return n&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||e!=null&&this.pos-a!==e?null:c};function Qk(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}o(Qk,"stringToNumber");function D1(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}o(D1,"stringToBigInt");ee.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=D1(this.input.slice(e,this.pos)),++this.pos):qt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,i)};ee.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&n===110){var r=D1(this.input.slice(e,this.pos));return++this.pos,qt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(h.num,r)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),n===46&&!i&&(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),(n===69||n===101)&&!i&&(n=this.input.charCodeAt(++this.pos),(n===43||n===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),qt(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=Qk(this.input.slice(e,this.pos),i);return this.finishToken(h.num,a)};ee.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};ee.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===t)break;n===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):n===8232||n===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Oo(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(h.string,e)};var B1={};ee.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===B1)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};ee.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw B1;this.raise(t,e)};ee.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===h.template||this.type===h.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(h.dollarBraceL)):(++this.pos,this.finishToken(h.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(h.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Oo(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};ee.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(h.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};ee.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Li(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(n,8);return r>255&&(n=n.slice(0,-1),r=parseInt(n,8)),this.pos+=n.length-1,e=this.input.charCodeAt(this.pos),(n!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-n.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return Oo(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};ee.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};ee.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(Lo(r,n))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var c=this.readCodePoint();(e?qt:Lo)(c,n)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=Li(c),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};ee.readWord=function(){var t=this.readWord1(),e=h.name;return this.keywords.test(t)&&(e=o0[t]),this.finishToken(e,t)};var Zk="8.12.1";we.acorn={Parser:we,version:Zk,defaultOptions:t0,Position:Rf,SourceLocation:Kg,getLineInfo:s1,Node:Xg,TokenType:ae,tokTypes:h,keywordTypes:o0,TokContext:wt,tokContexts:fe,isIdentifierChar:Lo,isIdentifierStart:qt,Token:p0,isNewLine:Oo,lineBreak:dt,lineBreakG:Ik,nonASCIIwhitespace:o1};function L1(t,e){return we.parse(t,e)}o(L1,"parse");var O1={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var wn,Zg,eS="Utils",W=class{static load(e){E(wn,wn,e,"f",Zg)}static get shim(){if(!m(wn,wn,"f",Zg))throw new Error("Platform is not loaded");return m(wn,wn,"f",Zg)}};o(W,"Platform");wn=W;Zg={value:void 0};var b=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=W.shim.info.version}};o(b,"InnertubeError");var st=class extends b{};o(st,"ParsingError");var Bf=class extends b{};o(Bf,"MissingParamError");var ex=class extends b{};o(ex,"OAuth2Error");var Tt=class extends Error{};o(Tt,"PlayerError");var Tn=class extends Error{};o(Tn,"SessionError");var ko=class extends Error{};o(ko,"ChannelError");function Yf(t,e){return Reflect.ownKeys(t).some(n=>{let r=e[n]instanceof u;return!r&&typeof e[n]=="object"?JSON.stringify(t[n])===JSON.stringify(e[n]):t[n]===(r?e[n].toString():e[n])})}o(Yf,"deepCompare");function Fe(t,e,i){let n=new RegExp(`${d0(e)}(.*?)${d0(i)}`,"s"),r=t.match(n);return r?r[1]:void 0}o(Fe,"getStringBetweenStrings");function d0(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}o(d0,"escapeStringRegexp");function Gi(t){let e=O1[t],i=Math.floor(Math.random()*e.length);return e[i]}o(Gi,"getRandomUserAgent");function tS(t){return T(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),n=[i,t,e].join(" "),r=yield W.shim.sha1Hash(n);return["SAPISIDHASH",[i,r].join("_")].join(" ")})}o(tS,"generateSidAuth");function Fi(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let n=0;n<t;n++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}o(Fi,"generateRandomString");function ke(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}o(ke,"timeToSeconds");function Hx(...t){let e=new ti;for(let i of t)if(!!i)for(let n of i){let r=e.get(n[0]);if(r){e.set(n[0],[...r,...n[1]]);continue}e.set(...n)}return e}o(Hx,"concatMemos");function Uo(t){for(let[e,i]of Object.entries(t))if(!i)throw new Bf(`${e} is missing`)}o(Uo,"throwIfMissing");function iS(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}o(iS,"hasKeys");function fx(t){return F0(this,arguments,o(function*(){let i=t.getReader();try{for(;;){let{done:n,value:r}=yield Ui(i.read());if(n)return yield Ui(void 0);yield yield Ui(r)}}finally{i.releaseLock()}},"streamToIterable_1"))}o(fx,"streamToIterable");var nS=o((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),n=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,r=[...n],a=e!=null&&e.body?typeof e.body=="string"?n.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",c=r.length>0?`${r.map(([p,d])=>`    ${p}: ${d}`).join(`
`)}`:"    (none)";return j.warn(eS,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${c}
' + 
    '  body:
${a}`),W.shim.fetch(t,e)},"debugFetch");function Ge(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}o(Ge,"u8ToBase64");function Px(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}o(Px,"base64ToU8");function je(t){return!("emoji"in t)}o(je,"isTextRun");function oS(t,e,i=!1){let n=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,r=t.match(new RegExp(n));return r?r[2]:void 0}o(oS,"getCookie");function f0(t,e){let{name:i,includes:n,regexp:r}=e,c=[L1(t,{ecmaVersion:2020})];for(let p=0;p<c.length;p++){let d=c[p];if(d.type==="ExpressionStatement"&&d.expression.type==="AssignmentExpression"&&d.expression.left.type==="Identifier"&&d.expression.right.type==="FunctionExpression"){let _=t.substring(d.start,d.end);if(i&&d.expression.left.name===i||n&&_.indexOf(n)>-1||r&&r.test(_))return{start:d.start,end:d.end,name:d.expression.left.name,node:d,result:_}}for(let _ in d){let f=d[_];Array.isArray(f)?c.push(...f):typeof f=="object"&&f!==null&&c.push(f)}}}o(f0,"findFunction");function m0(t){return T(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(n){let r=new Uint8Array(n),a=[];for(let c=0;c<r.length;++c)a.push(e[r[c]]);return a.join("")}return o(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}o(m0,"sha1Hash");var Lf,F1,Y1,U1,tx=class{constructor(e){Lf.add(this),this.session=e}stats(e,i,n){return T(this,void 0,void 0,function*(){let r=new URL(e);r.searchParams.set("ver","2"),r.searchParams.set("c",i.client_name.toLowerCase()),r.searchParams.set("cbrver",i.client_version),r.searchParams.set("cver",i.client_version);for(let c of Object.keys(n))r.searchParams.set(c,n[c]);return yield this.session.http.fetch(r,void 0,{visitor_data:i.visitor_data})})}execute(e,i){return T(this,void 0,void 0,function*(){var n,r;let a;if(i&&!i.protobuf){if(a=Object.assign({},i),Reflect.has(a,"browseId")&&m(this,Lf,"m",U1).call(this,a.browseId)&&!this.session.logged_in)throw new b("You must be signed in to perform this operation.");Reflect.has(a,"override_endpoint")&&delete a.override_endpoint,Reflect.has(a,"parse")&&delete a.parse,Reflect.has(a,"request")&&delete a.request,Reflect.has(a,"clientActions")&&delete a.clientActions,Reflect.has(a,"settingItemIdForClient")&&delete a.settingItemIdForClient,Reflect.has(a,"action")&&(a.actions=[a.action],delete a.action),Reflect.has(a,"boolValue")&&(a.newValue={boolValue:a.boolValue},delete a.boolValue),Reflect.has(a,"token")&&(a.continuation=a.token,delete a.token),(a==null?void 0:a.client)==="YTMUSIC"&&(a.isAudioOnly=!0)}else i&&(a=i.serialized_data);let c=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield this.session.http.fetch(c,{method:"POST",body:i!=null&&i.protobuf?a:JSON.stringify(a||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let d=l.parseResponse(yield p.json());if(m(this,Lf,"m",Y1).call(this,d)&&((r=(n=d.on_response_received_actions)===null||n===void 0?void 0:n.first())===null||r===void 0?void 0:r.type)==="navigateAction"){let _=d.on_response_received_actions.firstOfType(Ti);_&&(d=yield _.endpoint.call(this,{parse:!0}))}return d}return m(this,Lf,"m",F1).call(this,p)})}};o(tx,"Actions");Lf=new WeakSet,F1=o(function(e){return T(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),Y1=o(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),U1=o(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var h0=tx;var Zt="Player",Xe=class{constructor(e,i,n,r,a){this.player_id=e,this.sts=i,this.nsig_sc=a,this.sig_sc=r,this.evaluator=n}static create(e,i){return T(this,arguments,void 0,function*(n,r,a=W.shim.fetch,c){let p=new URL("/iframe_api",ge.URLS.YT_BASE),d=yield a(p);if(d.status!==200)throw new Tt("Failed to request player id");let _=yield d.text(),f=Fe(_,"player\\/","\\/");if(j.info(Zt,`Got player id (${f}). Checking for cached players..`),!f)throw new Tt("Failed to get player id");if(n){let M=yield Xe.fromCache(n,f,r);if(M)return j.info(Zt,"Found up-to-date player data in cache."),M.po_token=c,M}let x=new URL(`/s/player/${f}/player_ias.vflset/en_US/base.js`,ge.URLS.YT_BASE);j.info(Zt,`Could not find any cached player. Will download a new player from ${x}.`);let v=yield a(x,{headers:{"user-agent":Gi("desktop")}});if(!v.ok)throw new Tt(`Failed to get player data: ${v.status}`);let w=yield v.text(),k=this.extractSigTimestamp(w),S=this.extractSigSourceCode(w),P=this.extractNSigSourceCode(w);j.info(Zt,`Got signature timestamp (${k}) and algorithms needed to decipher signatures.`);let A=yield Xe.fromSource(f,k,r,n,S,P);return A.po_token=c,A})}decipher(e,i,n,r){return T(this,void 0,void 0,function*(){if(e=e||i||n,!e)throw new Tt("No valid URL to decipher");let a=new URLSearchParams(e),c=new URL(a.get("url")||e);if(this.sig_sc&&(i||n)){let f=yield this.evaluator(this.sig_sc,{sig:a.get("s")});if(j.info(Zt,`Transformed signature from ${a.get("s")} to ${f}.`),typeof f!="string")throw new Tt("Failed to decipher signature");let x=a.get("sp");x?c.searchParams.set(x,f):c.searchParams.set("signature",f)}let p=c.searchParams.get("n");if(this.nsig_sc&&p){let f;if(r&&r.has(p))f=r.get(p);else{if(f=yield this.evaluator(this.nsig_sc,{nsig:p}),j.info(Zt,`Transformed n signature from ${p} to ${f}.`),typeof f!="string")throw new Tt("Failed to decipher nsig");f.startsWith("enhanced_except_")?j.warn(Zt,"Could not transform nsig, download may be throttled."):r&&r.set(p,f)}c.searchParams.set("n",f)}switch(c.searchParams.get("sabr")!=="1"&&this.po_token&&c.searchParams.set("pot",this.po_token),c.searchParams.get("c")){case"WEB":c.searchParams.set("cver",ge.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":c.searchParams.set("cver",ge.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":c.searchParams.set("cver",ge.CLIENTS.WEB_KIDS.VERSION);break;case"ANDROID":c.searchParams.set("cver",ge.CLIENTS.ANDROID.VERSION);break;case"ANDROID_MUSIC":c.searchParams.set("cver",ge.CLIENTS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":c.searchParams.set("cver",ge.CLIENTS.TV_EMBEDDED.VERSION);break}let _=c.toString();return j.info(Zt,`Deciphered URL: ${_}`),c.toString()})}static fromCache(e,i,n){return T(this,void 0,void 0,function*(){let r=yield e.get(i);if(!r)return null;let a=new DataView(r);if(a.getUint32(0,!0)!==Xe.LIBRARY_VERSION)return null;let p=a.getUint32(4,!0),d=a.getUint32(8,!0),_=r.slice(12,12+d),f=r.slice(12+d),x=_t.decompress(new TextDecoder().decode(_)),v=_t.decompress(new TextDecoder().decode(f));return new Xe(i,p,n,x,v)})}static fromSource(e,i,n,r,a,c){return T(this,void 0,void 0,function*(){let p=new Xe(e,i,n,a,c);return yield p.cache(r),p})}cache(e){return T(this,void 0,void 0,function*(){if(!e||!this.sig_sc||!this.nsig_sc)return;let i=new TextEncoder,n=i.encode(_t.compress(this.sig_sc)),r=i.encode(_t.compress(this.nsig_sc)),a=new ArrayBuffer(12+n.byteLength+r.byteLength),c=new DataView(a);c.setUint32(0,Xe.LIBRARY_VERSION,!0),c.setUint32(4,this.sts,!0),c.setUint32(8,n.byteLength,!0),new Uint8Array(a).set(n,12),new Uint8Array(a).set(r,12+n.byteLength),yield e.set(this.player_id,new Uint8Array(a))})}static extractSigTimestamp(e){return parseInt(Fe(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,n,r;let a=Fe(e,'function(a){a=a.split("")','return a.join("")}'),c=(r=(n=(i=a==null?void 0:a.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||n===void 0?void 0:n.replace(";",""))===null||r===void 0?void 0:r.trim(),p=Fe(e,`var ${c}={`,"};");return(!p||!a)&&j.warn(Zt,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${c}={${p}}${a} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=f0(e,{includes:"enhanced_except"});if(i)return`${i.result} ${i.name}(nsig);`}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,ge.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 11}};o(Xe,"Player");var mt=class{constructor(e){this.listenerBind=this.listener.bind(this),this.listeners=new Map;let i=window.location.origin,n=new URL(e).origin;if(i===n)throw new Error("Current frame must not share same origin as the runner frame");this.runnerFrame=document.createElement("iframe"),this.runnerFrame.credentialless=!0,this.runnerFrame.src=e,this.runnerFrame.style.display="none",document.body.appendChild(this.runnerFrame),window.addEventListener("message",this.listenerBind),this.readyPromise=new Promise(r=>{this.runnerFrame.addEventListener("load",()=>{r(),this.emit("ready")})}),this.timeout=null}load(){return T(this,void 0,void 0,function*(){return this.readyPromise})}on(e,i){var n;this.listeners.has(e)||this.listeners.set(e,[]),(n=this.listeners.get(e))===null||n===void 0||n.push(i)}off(e,i){var n;if(!this.listeners.has(e))return;let r=this.listeners.get(e),a=(n=r==null?void 0:r.indexOf(i))!==null&&n!==void 0?n:-1;a!==-1&&(r==null||r.splice(a,1))}emit(e,...i){var n;if(!this.listeners.has(e))return;let r=(n=this.listeners.get(e))!==null&&n!==void 0?n:[];for(let a of r)a(...i)}setTimeout(e){this.timeout&&clearTimeout(this.timeout),e&&(this.timeout=window.setTimeout(()=>{this.close()},e))}listener(e){var i;e.source===((i=this.runnerFrame)===null||i===void 0?void 0:i.contentWindow)&&(e.data.type==="sandboxResult"?this.emit("result",e.data.result):e.data.type==="sandboxError"&&this.emit("error",e.data.error))}close(){!this.runnerFrame||(this.runnerFrame.remove(),window.removeEventListener("message",this.listenerBind),this.timeout&&clearTimeout(this.timeout),this.emit("close"))}evaluate(e){return T(this,arguments,void 0,function*(i,n=[],r=[]){var a;return yield this.readyPromise,(a=this.runnerFrame.contentWindow)===null||a===void 0||a.postMessage({type:"sandboxEvaluate",body:i,argNames:n,argValues:r},"*"),new Promise((c,p)=>{let d=null,_=null,f=null,x=o(()=>{d&&this.off("result",d),_&&this.off("error",_),f&&this.off("close",f)},"cleanup");d=o(v=>{x(),c(v)},"resultHandler"),_=o(v=>{x(),p(v)},"errorHandler"),f=o(()=>{x(),p(new Error("SandboxedEvaluator closed"))},"closeHandler"),this.on("result",d),this.on("error",_),this.on("close",f)})})}static evaluateOnce(e,i,n,r){return T(this,arguments,void 0,function*(a,c,p,d,_=5e3){let f=new mt(a);_&&f.setTimeout(_);try{let x=yield f.evaluate(c,p,d);return f.close(),x}catch(x){throw f.close(),x}})}static extractFnBodyAndArgs(e){let i=e.substring(e.indexOf("{")+1,e.lastIndexOf("}")),n=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(",").map(r=>r.trim());return{body:i,argNames:n}}static matchArgValues(e,i){return e.map(n=>{if(!!Object.hasOwn(i,n))return i[n]})}};o(mt,"SandboxedEvaluator");var j1="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36(KHTML, like Gecko)",He=class{static base64ToU8(e){let i={"-":"+",_:"/",".":"="},n;return/[-_.]/g.test(e)?n=e.replace(/[-_.]/g,a=>i[a]):n=e,n=atob(n),new Uint8Array([...n].map(a=>a.charCodeAt(0)))}static u8ToBase64(e,i=!1){let n=btoa(String.fromCharCode(...e));return i?n.replace(/\+/g,"-").replace(/\//g,"_"):n}static createChallenge(e,i,n,r){return T(this,void 0,void 0,function*(){let a=[i];n&&a.push(n);let c=yield e(He.b64ToBuf("BxMTDxLZzs4JDQ3MDwDNBg4OBgsEAA8IEs0CDgzOwxEPAs4GDg4GCwTNCA0TBBENAAvNFgAAzRXQzfYAAM7iEQQAEwQ="),{method:"POST",headers:{"Content-Type":"application/json+protobuf","User-Agent":j1,"x-goog-api-key":r,"x-user-agent":"grpc-web-javascript/0.1"},body:JSON.stringify(a)});if(!c.ok)throw new Error(`Failed to fetch: ${c.status}`);let p=yield c.json();if(p.length>1&&p[1]){let d=He.parseChallenge(p[1]);if(d)return d}})}static b64ToBuf(e){let i=He.base64ToU8(e);return i.length?new TextDecoder().decode(i.map(n=>n+97)):""}static stringToB64(e){let i=new TextEncoder().encode(e);return i=i.map(n=>n-97),He.u8ToBase64(i)}static parseChallenge(e){let i=He.b64ToBuf(e);if(i.length){let[n,r,,a,c,p]=JSON.parse(i);return{script:r,interpreterHash:a,globalName:p,challenge:c,messageId:n}}}static getFn1(){let e='(n){return(async()=>{const r=window[n.globalName];if(!r)throw new Error("V not found");const o={fn1:null,fn2:null,fn3:null,fn4:null};if(!r.a)throw new Error("Init failed");try{await r.a(n.challenge,(function(n,r,t,f){o.fn1=n,o.fn2=r,o.fn3=t,o.fn4=f}),!0,void 0,((...n)=>{}))}catch(n){throw new Error("Failed to load")}if(!o.fn1)throw new Error("fn1 unavailable.");let t=null;const f=[];if(await o.fn1((n=>{t=n}),[,,f]),!t)throw new Error("[BG]: No response");if(!f.length)throw new Error("No ppf");return window.ppf=f,t})()}';return mt.extractFnBodyAndArgs(e)}static getFn2(){let e='(r,e){const t=window.ppf[0];if(!t)throw new Error("PP:Undefined");return(async()=>{const n=await t((r=>{const e={"-":"+",_:"/",".":"="};let t;return t=/[-_.]/g.test(r)?r.replace(/[-_.]/g,(r=>e[r])):r,t=atob(t),new Uint8Array([...t].map((r=>r.charCodeAt(0))))})(r));if("function"!=typeof n)throw new Error("PP:failed");const o=((r,e=!1)=>{const t=btoa(String.fromCharCode(...r));return e?t.replace(/\\+/g,"-").replace(/\\//g,"_"):t})(await n((new TextEncoder).encode(e)),!0);if(o.length>80)return o;throw new Error("PT too small")})()}';return mt.extractFnBodyAndArgs(e.toString())}static getPot(){return T(this,arguments,void 0,function*(e=W.shim.fetch,i,n,r,a,c=!1){r||(r=He.b64ToBuf("7tPSGc8DDwkHBvfRz/LiF9Pq4A4=")),a||(a=He.b64ToBuf("4OgZAPIY4xjz1PbP6QfT2OXSz+8QEBMYBQMF1g/j6+Xq6+kO4A0W")),n||(n=Ct.encodeVisitorData(Go.generateRandomString(11),Math.floor(Date.now()/1e3)));let p=new mt(i),d=null,_=null,f=null;try{c||p.setTimeout(5e3),yield p.load(),c||p.setTimeout(null);let x=yield He.createChallenge(e,r,null,a);if(!x)throw new Error("C is incorrect");if(!x.script)throw new Error("CS is bad");let v=x.script.find($=>$!==null);if(!v)throw new Error("CS is null");c||p.setTimeout(5e3),yield p.evaluate(v,[],[]),c||p.setTimeout(5e3);let w=this.getFn1(),k=yield p.evaluate(w.body,w.argNames,[x]);c||p.setTimeout(null);let S=[r,k],P=yield e(He.b64ToBuf("BxMTDxLZzs4JDQ3MDwDNBg4OBgsEAA8IEs0CDgzOwxEPAs4GDg4GCwTNCA0TBBENAAvNFgAAzRXQzfYAAM7mBA0EEQATBOjz"),{method:"POST",headers:{"Content-Type":"application/json+protobuf","x-goog-api-key":a,"x-user-agent":"grpc-web-javascript/0.1","User-Agent":j1,Accept:"*/*"},body:JSON.stringify(S)});if(!P.ok)throw new Error("It failed");let A=yield P.json();if(!A.length||!A[0])throw new Error("It none");let M=A[0];_=A[1],f=A[2],c||p.setTimeout(5e3);let B=this.getFn2();d=yield p.evaluate(B.body,B.argNames,[M,n]),c||p.close()}catch(x){throw c||p.close(),x}return{pot:d,vd:n,requestToken:r,ttl:_,refresh:f}})}};o(He,"BGUtils");var kn,J1,H1,z1,W1,ix;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(ix||(ix={}));var In="Session",Of=class extends Wo{constructor(e,i,n,r,a,c,p,d,_){super(),this.http=new _x(this,c,p),this.actions=new h0(this),this.logged_in=!!c,this.cache=d,this.account_index=r,this.key=i,this.api_version=n,this.context=e,this.player=a,this.po_token=_}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(e){return T(this,void 0,void 0,function*(){let i=e.runner_location;if(e.client_type===ix.WEB){let d=localStorage.getItem("yt_tkn"),_,f,x=0,v=0;if(d){let w=JSON.parse(d);w.length>0&&(_=w[0],f=w[1],x=w[2],v=w[3])}if(!_||!f||!x||!v||v+x*1e3<Date.now())try{let w=yield He.getPot(e.fetch,i);_=w.pot,f=w.vd,x=w.ttl,v=Date.now(),localStorage.setItem("yt_tkn",JSON.stringify([_,f,x,v]))}catch(w){j.error(In,"Failed to get PoT",w)}_&&(e.po_token=_,e.visitor_data=f)}let n=new Map;e.evaluator=(d,_)=>T(this,void 0,void 0,function*(){let f=`${d}|${JSON.stringify(_)}`,x=n.get(f);if(x)return yield x;let v=mt.extractFnBodyAndArgs(d),w=mt.evaluateOnce(i,v.body,v.argNames,Object.values(_));n.set(f,w);try{return yield w}catch(k){console.error("Failed to fetch params"),console.error(k)}});let{context:r,api_key:a,api_version:c,account_index:p}=yield kn.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache,e.po_token);return new kn(r,a,c,p,e.retrieve_player===!1?void 0:yield Xe.create(e.cache,e.evaluator,e.fetch,e.po_token),e.cookie,e.fetch,e.cache,e.po_token)})}static fromCache(e,i){return T(this,void 0,void 0,function*(){let n=yield e.get("innertube_session_data");if(!n)return null;let r=new TextDecoder().decode(n.slice(4));try{let a=JSON.parse(_t.decompress(r));return i.visitor_data&&(a.context.client.visitorData=i.visitor_data),i.lang&&(a.context.client.hl=i.lang),i.location&&(a.context.client.gl=i.location),i.on_behalf_of_user&&(a.context.user.onBehalfOfUser=i.on_behalf_of_user),a.context.client.timeZone=i.time_zone,a.context.client.platform=i.device_category.toUpperCase(),a.context.client.clientName=i.client_name,a.context.user.enableSafetyMode=i.enable_safety_mode,a}catch(a){return j.error(In,"Failed to parse session data from cache.",a),null}})}static getSessionData(){return T(this,arguments,void 0,function*(e="",i="",n=0,r="",a=!1,c=!1,p="desktop",d=ix.WEB,_=Intl.DateTimeFormat().resolvedOptions().timeZone,f=W.shim.fetch,x,v,w=!0,k){let S={lang:e,location:i,time_zone:_,device_category:p,client_name:d,enable_safety_mode:a,visitor_data:r,on_behalf_of_user:x,po_token:k},P;if(v&&w){let A=yield this.fromCache(v,S);A&&(j.info(In,"Found session data in cache."),P=A)}if(!P){j.info(In,"Generating session data.");let A=re.WEB.API_KEY,M=re.WEB.API_VERSION,B={hl:e||"en",gl:i||"US",remote_host:"",visitor_data:r||kx(Fi(11),Math.floor(Date.now()/1e3)),client_name:d,client_version:re.WEB.VERSION,device_category:p.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:_,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:a};if(!c)try{let $=yield m(this,kn,"m",H1).call(this,S,f);A=$.api_key,M=$.api_version,B=$.context_data}catch($){j.error(In,"Failed to retrieve session data from server. Session data generated locally will be used instead.",$)}P={api_key:A,api_version:M,context:m(this,kn,"m",z1).call(this,B)},w&&(yield m(this,kn,"m",J1).call(this,P,v))}return j.debug(In,"Session data:",P),Object.assign(Object.assign({},P),{account_index:n})})}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};o(Of,"Session");kn=Of,J1=o(function(e,i){return T(this,void 0,void 0,function*(){if(!i)return;j.info(In,"Compressing and caching session data.");let n=new TextEncoder().encode(_t.compress(JSON.stringify(e))),r=new ArrayBuffer(4+n.byteLength);new DataView(r).setUint32(0,n.byteLength,!0),new Uint8Array(r).set(n,4),yield i.set("innertube_session_data",new Uint8Array(r))})},"_Session_storeSession"),H1=o(function(e){return T(this,arguments,void 0,function*(i,n=W.shim.fetch){let r=Fi(11);i.visitor_data&&(r=m(this,kn,"m",W1).call(this,i.visitor_data));let a=new URL("/sw.js_data",et.YT_BASE),c=yield n(a,{headers:{"Accept-Language":i.lang||"en-US","User-Agent":Gi("desktop"),Accept:"*/*",Referer:`${et.YT_BASE}/sw.js`,Cookie:`PREF=tz=${i.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${r};`}});if(!c.ok)throw new Tn(`Failed to retrieve session data: ${c.status}`);let p=yield c.text();if(!p.startsWith(")]}'"))throw new Tn("Invalid JSPB response");let _=JSON.parse(p.replace(/^\)\]\}'/,""))[0][2],f=re.WEB.API_VERSION,[[x],v]=_,w=x[61],k=w[w.length-1];return{context_data:{hl:i.lang||x[0],gl:i.location||x[2],remote_host:x[3],visitor_data:i.visitor_data||x[13],client_name:i.client_name,client_version:x[16],os_name:x[17],os_version:x[18],time_zone:x[79]||i.time_zone,device_category:i.device_category,browser_name:x[86],browser_version:x[87],device_make:x[11],device_model:x[12],app_install_data:k,enable_safety_mode:i.enable_safety_mode},api_key:v,api_version:f}})},"_Session_getSessionData"),z1=o(function(e){let i={client:{hl:e.hl,gl:e.gl,remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:et.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",mainAppWebInfo:{graftUrl:et.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(i.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},"_Session_buildContext"),W1=o(function(e){return Sx(e).id},"_Session_getVisitorID");var _0=Of;var g0={};ye(g0,{BrowseEndpoint:()=>Sn,NextEndpoint:()=>Yi,PlayerEndpoint:()=>ei,Reel:()=>ht});var Sn={};ye(Sn,{PATH:()=>rS,build:()=>sS});var rS="/browse";function sS(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}o(sS,"build");var Yi={};ye(Yi,{PATH:()=>aS,build:()=>uS});var aS="/next";function uS(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}o(uS,"build");var ei={};ye(ei,{PATH:()=>lS,build:()=>cS});var lS="/player";function cS(t){let e={playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id};return t.client&&(e.client=t.client),t.playlist_id&&(e.playlistId=t.playlist_id),t.params&&(e.params=t.params),t.po_token&&(e.serviceIntegrityDimensions={poToken:t.po_token}),e}o(cS,"build");var ht={};ye(ht,{ReelItemWatchEndpoint:()=>nx,ReelWatchSequenceEndpoint:()=>ox});var nx={};ye(nx,{PATH:()=>pS,build:()=>dS});var pS="/reel/reel_item_watch";function dS(t){var e,i;return{disablePlayerResponse:!1,playerRequest:{videoId:t.video_id,params:(e=t.params)!==null&&e!==void 0?e:"CAUwAg%3D%3D"},params:(i=t.params)!==null&&i!==void 0?i:"CAUwAg%3D%3D",client:t.client}}o(dS,"build");var ox={};ye(ox,{PATH:()=>fS,build:()=>mS});var fS="/reel/reel_watch_sequence";function mS(t){return{sequenceParams:t.sequence_params}}o(mS,"build");var Cn,rx=class extends Io{constructor(e,i,n,r){var a;if(super(e,i,n),Cn.set(this,void 0),r){let c=l.parseResponse(r.data);c.entries&&(this.watch_next_feed=c.entries),c.continuation_endpoint&&E(this,Cn,(a=c.continuation_endpoint)===null||a===void 0?void 0:a.as(Ht),"f")}}getWatchNextContinuation(){return T(this,void 0,void 0,function*(){var e;if(!m(this,Cn,"f"))throw new b("Continuation not found");let i=yield this.actions.execute(ht.ReelWatchSequenceEndpoint.PATH,Object.assign(Object.assign({},ht.ReelWatchSequenceEndpoint.build({sequence_params:m(this,Cn,"f").token})),{parse:!0}));return i.entries&&(this.watch_next_feed=i.entries),E(this,Cn,(e=i.continuation_endpoint)===null||e===void 0?void 0:e.as(Ht),"f"),this})}get wn_has_continuation(){return!!m(this,Cn,"f")}};o(rx,"ShortFormVideoInfo");Cn=new WeakMap;var x0=rx;var Yt,jo=class{constructor(e){Yt.set(this,void 0),E(this,Yt,e,"f")}static create(e){return T(this,void 0,void 0,function*(){return new jo(yield _0.create(e))})}getInfo(e,i){return T(this,void 0,void 0,function*(){var n,r,a,c,p;Uo({target:e});let d;if(e instanceof g)d=Yi.build({video_id:(n=e.payload)===null||n===void 0?void 0:n.videoId,playlist_id:(r=e.payload)===null||r===void 0?void 0:r.playlistId,params:(a=e.payload)===null||a===void 0?void 0:a.params,playlist_index:(c=e.payload)===null||c===void 0?void 0:c.index});else if(typeof e=="string")d=Yi.build({video_id:e});else throw new b("Invalid target. Expected a video id or NavigationEndpoint.",e);if(!d.videoId)throw new b("Video id cannot be empty",d);let _=ei.build({video_id:d.videoId,playlist_id:d==null?void 0:d.playlistId,client:i,sts:(p=m(this,Yt,"f").player)===null||p===void 0?void 0:p.sts,po_token:m(this,Yt,"f").po_token}),f=this.actions.execute(ei.PATH,_),x=this.actions.execute(Yi.PATH,d),v=yield Promise.all([f,x]),w=Fi(16);return new Ef(v,this.actions,w)})}getBasicInfo(e,i){return T(this,void 0,void 0,function*(){var n;Uo({video_id:e});let r=yield this.actions.execute(ei.PATH,ei.build({video_id:e,client:i,sts:(n=m(this,Yt,"f").player)===null||n===void 0?void 0:n.sts,po_token:m(this,Yt,"f").po_token})),a=Fi(16);return new Ef([r],this.actions,a)})}getShortsVideoInfo(e,i){return T(this,void 0,void 0,function*(){Uo({video_id:e});let n=this.actions.execute(ht.ReelItemWatchEndpoint.PATH,ht.ReelItemWatchEndpoint.build({video_id:e,client:i})),r=this.actions.execute(ht.ReelWatchSequenceEndpoint.PATH,ht.ReelWatchSequenceEndpoint.build({sequence_params:Ex(e)})),a=yield Promise.all([n,r]),c=Fi(16);return new x0([a[0]],this.actions,c,a[1])})}getPlaylist(e){return T(this,void 0,void 0,function*(){Uo({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute(Sn.PATH,Sn.build({browse_id:e}));return new No(this.actions,i)})}getStreamingData(e){return T(this,arguments,void 0,function*(i,n={}){let a=(yield this.getBasicInfo(i)).chooseFormat(n);return a.url=yield a.decipher(m(this,Yt,"f").player),a})}download(e,i){return T(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}call(e,i){return e.call(this.actions,i)}get actions(){return m(this,Yt,"f").actions}get session(){return m(this,Yt,"f")}};o(jo,"Innertube");Yt=new WeakMap;var v0=jo;var G1={};var $1=v0;var Ff,y0,sx,ax,ux,lx=class{constructor(e=!1,i){Ff.add(this),y0.set(this,"Cache"),sx.set(this,void 0),ax.set(this,void 0),E(this,sx,i||"","f"),E(this,ax,e,"f")}get cache_dir(){return m(this,ax,"f")?m(this,sx,"f"):""}get(e){return T(this,void 0,void 0,function*(){let i=yield m(this,Ff,"m",ux).call(this);if(!!i)return new Promise((n,r)=>{let a=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);a.onerror=r,a.onsuccess=function(){var c;let p=(c=this.result)===null||c===void 0?void 0:c.v;p instanceof ArrayBuffer?n(p):ArrayBuffer.isView(p)?n(p.buffer):n(void 0)}})})}set(e,i){return T(this,void 0,void 0,function*(){let n=yield m(this,Ff,"m",ux).call(this);if(!!n)return new Promise((r,a)=>{let c=n.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});c.onerror=a,c.onsuccess=()=>r()})})}remove(e){return T(this,void 0,void 0,function*(){let i=yield m(this,Ff,"m",ux).call(this);if(!!i)return new Promise((n,r)=>{let a=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);a.onerror=r,a.onsuccess=()=>n()})})}};o(lx,"Cache");y0=new WeakMap,sx=new WeakMap,ax=new WeakMap,Ff=new WeakSet,ux=o(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,n)=>{let r=e.open("youtubei.js",1);r.onsuccess=function(){i(this.result)},r.onerror=function(a){n("indexedDB request error"),console.error(a)},r.onupgradeneeded=function(){let a=this.result.createObjectStore("kv-store",{keyPath:"k"});a.transaction.oncomplete=function(){i(this.db)}}}):j.warn(m(this,y0,"f"),"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");W.load({runtime:"browser",server:!1,info:{version:"10.3.0",bugs_url:"https://github.com/LuanRT/YouTube.js/issues",repo_url:"https://github.com/LuanRT/YouTube.js"},Cache:lx,sha1Hash:m0,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var Ywe=$1;export{KT as APIResponseTypes,h0 as Actions,Ki as AppendContinuationItemsAction,ix as ClientType,ge as Constants,ln as Continuation,Ht as ContinuationCommand,g0 as Endpoints,Wo as EventEmitter,zi as FormatUtils,Ox as Generator,vo as GridContinuation,_x as HTTPClient,dx as Helpers,v0 as Innertube,mo as ItemSectionContinuation,_t as LZW,ki as LiveChatContinuation,j as Log,qx as Misc,zx as Mixins,go as MusicPlaylistShelfContinuation,xo as MusicShelfContinuation,Ti as NavigateAction,l as Parser,W as Platform,Xe as Player,yo as PlaylistPanelContinuation,Ct as Proto,Ii as ReloadContinuationItemsCommand,_o as SectionListContinuation,_0 as Session,ho as ShowMiniplayerCommand,G1 as Types,zo as UMP,Q1 as UniversalCache,Go as Utils,Kx as YT,on as YTNodes,Ywe as default};