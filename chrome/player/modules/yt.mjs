/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var og=Object.defineProperty;var o=(i,e)=>og(i,"name",{value:e,configurable:!0});var me=(i,e)=>{for(var t in e)og(i,t,{get:e[t],enumerable:!0})};var Fv={};me(Fv,{ChannelError:()=>Ko,InnertubeError:()=>_,MissingParamError:()=>Ep,OAuthError:()=>H_,ParsingError:()=>ze,Platform:()=>A,PlayerError:()=>$e,SessionError:()=>bn,base64ToU8:()=>vv,concatMemos:()=>Nv,debugFetch:()=>uT,deepCompare:()=>Op,escapeStringRegexp:()=>Gv,generateRandomString:()=>no,generateSidAuth:()=>aT,getRandomUserAgent:()=>qi,getStringBetweenStrings:()=>Pe,hasKeys:()=>lT,isTextRun:()=>Re,streamToIterable:()=>Yv,throwIfMissing:()=>ro,timeToSeconds:()=>be,u8ToBase64:()=>Ke});function rg(i,e){var t={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.indexOf(n)<0&&(t[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(i);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(t[n[s]]=i[n[s]]);return t}o(rg,"__rest");function sg(i,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}o(sg,"__setFunctionName");function w(i,e,t,n){function s(u){return u instanceof t?u:new t(function(d){d(u)})}return o(s,"adopt"),new(t||(t=Promise))(function(u,d){function p(v){try{h(n.next(v))}catch(g){d(g)}}o(p,"fulfilled");function m(v){try{h(n.throw(v))}catch(g){d(g)}}o(m,"rejected");function h(v){v.done?u(v.value):s(v.value).then(p,m)}o(h,"step"),h((n=n.apply(i,e||[])).next())})}o(w,"__awaiter");function ng(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],n=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}o(ng,"__values");function hi(i){return this instanceof hi?(this.v=i,this):new hi(i)}o(hi,"__await");function ag(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(i,e||[]),s,u=[];return s={},d("next"),d("throw"),d("return"),s[Symbol.asyncIterator]=function(){return this},s;function d(b){n[b]&&(s[b]=function(x){return new Promise(function(C,E){u.push([b,x,C,E])>1||p(b,x)})})}function p(b,x){try{m(n[b](x))}catch(C){g(u[0][3],C)}}function m(b){b.value instanceof hi?Promise.resolve(b.value.v).then(h,v):g(u[0][2],b)}function h(b){p("next",b)}function v(b){p("throw",b)}function g(b,x){b(x),u.shift(),u.length&&p(u[0][0],u[0][1])}}o(ag,"__asyncGenerator");function lg(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof ng=="function"?ng(i):i[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(u){t[u]=i[u]&&function(d){return new Promise(function(p,m){d=i[u](d),s(p,m,d.done,d.value)})}}function s(u,d,p,m){Promise.resolve(m).then(function(h){u({value:h,done:p})},d)}}o(lg,"__asyncValues");function c(i,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?i!==e||!n:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(i):n?n.value:e.get(i)}o(c,"__classPrivateFieldGet");function T(i,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?i!==e||!s:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(i,t):s?s.value=t:e.set(i,t),t}o(T,"__classPrivateFieldSet");var nv={};me(nv,{Maybe:()=>vi,Memo:()=>Bt,SuperParsedResult:()=>dt,YTNode:()=>r,observe:()=>q});var ov,ug,fe,X,ut,kt,_i,dg=Symbol("ObservedArray.isObserved"),r=class{constructor(){ov.add(this),this.type=this.constructor.type}is(...e){return e.some(t=>c(this,ov,"m",ug).call(this,t))}as(...e){if(!this.is(...e))throw new ze(`Cannot cast ${this.type} to one of ${e.map(t=>t.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new ze(`Missing key ${e}`);return new vi(this[e])}};o(r,"YTNode");ov=new WeakSet,ug=o(function(e){return this.type===e.type},"_YTNode_is");r.type="YTNode";var vi=class{constructor(e){fe.add(this),X.set(this,void 0),T(this,X,e,"f")}get typeof(){return typeof c(this,X,"f")}string(){return c(this,fe,"m",kt).call(this,"string")}isString(){return c(this,fe,"m",ut).call(this,"string")}number(){return c(this,fe,"m",kt).call(this,"number")}isNumber(){return c(this,fe,"m",ut).call(this,"number")}bigint(){return c(this,fe,"m",kt).call(this,"bigint")}isBigint(){return c(this,fe,"m",ut).call(this,"bigint")}boolean(){return c(this,fe,"m",kt).call(this,"boolean")}isBoolean(){return c(this,fe,"m",ut).call(this,"boolean")}symbol(){return c(this,fe,"m",kt).call(this,"symbol")}isSymbol(){return c(this,fe,"m",ut).call(this,"symbol")}undefined(){return c(this,fe,"m",kt).call(this,"undefined")}isUndefined(){return c(this,fe,"m",ut).call(this,"undefined")}null(){if(c(this,X,"f")!==null)throw new TypeError(`Expected null, got ${typeof c(this,X,"f")}`);return c(this,X,"f")}isNull(){return c(this,X,"f")===null}object(){return c(this,fe,"m",kt).call(this,"object")}isObject(){return c(this,fe,"m",ut).call(this,"object")}function(){return c(this,fe,"m",kt).call(this,"function")}isFunction(){return c(this,fe,"m",ut).call(this,"function")}array(){if(!Array.isArray(c(this,X,"f")))throw new TypeError(`Expected array, got ${typeof c(this,X,"f")}`);return c(this,X,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(t,n){return Reflect.has(e,n)?Reflect.get(t,n):new vi(Reflect.get(t,n))}})}isArray(){return Array.isArray(c(this,X,"f"))}node(){if(!(c(this,X,"f")instanceof r))throw new TypeError(`Expected YTNode, got ${c(this,X,"f").constructor.name}`);return c(this,X,"f")}isNode(){return c(this,X,"f")instanceof r}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof c(this,X,"f")}`);return c(this,X,"f")}isObserved(){var e;return(e=c(this,X,"f"))===null||e===void 0?void 0:e[dg]}parsed(){if(!(c(this,X,"f")instanceof dt))throw new TypeError(`Expected SuperParsedResult, got ${typeof c(this,X,"f")}`);return c(this,X,"f")}isParsed(){return c(this,X,"f")instanceof dt}any(){return console.warn("This call is not meant to be used outside of debugging. Please use the specific type getter instead."),c(this,X,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${c(this,X,"f").constructor.name}`);return c(this,X,"f")}isInstanceof(e){return c(this,X,"f")instanceof e}};o(vi,"Maybe");X=new WeakMap,fe=new WeakSet,ut=o(function(e){return typeof c(this,X,"f")===e},"_Maybe_checkPrimative"),kt=o(function(e){if(!c(this,fe,"m",ut).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return c(this,X,"f")},"_Maybe_assertPrimative");var dt=class{constructor(e){_i.set(this,void 0),T(this,_i,e,"f")}get is_null(){return c(this,_i,"f")===null}get is_array(){return!this.is_null&&Array.isArray(c(this,_i,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return c(this,_i,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return c(this,_i,"f")}};o(dt,"SuperParsedResult");_i=new WeakMap;function q(i){return new Proxy(i,{get(e,t){return t=="get"?(n,s)=>e.find((u,d)=>{let p=Op(n,u);return p&&s&&e.splice(d,1),p}):t==dg?!0:t=="getAll"?(n,s)=>e.filter((u,d)=>{let p=Op(n,u);return p&&s&&e.splice(d,1),p}):t=="matchCondition"?n=>e.find(s=>n(s)):t=="filterType"?(...n)=>q(e.filter(s=>!!s.is(...n))):t=="firstOfType"?(...n)=>e.find(s=>!!s.is(...n)):t=="first"?()=>e[0]:t=="as"?(...n)=>q(e.map(s=>{if(s.is(...n))return s;throw new ze(`Expected node of any type ${n.map(u=>u.type).join(", ")}, got ${s.type}`)})):t=="remove"?n=>e.splice(n,1):Reflect.get(e,t)}})}o(q,"observe");var Bt=class extends Map{getType(...e){return e=e.flat(),q(e.flatMap(t=>this.get(t.type)||[]))}};o(Bt,"Memo");var $v={};me($v,{Author:()=>P,ChildElement:()=>cf,EmojiRun:()=>Ft,Format:()=>hm,Text:()=>a,TextRun:()=>Lt,Thumbnail:()=>y,VideoDetails:()=>Ut});var Ce={};me(Ce,{CLIENTS:()=>B,INNERTUBE_HEADERS_BASE:()=>q0,OAUTH:()=>K0,STREAM_HEADERS:()=>Bp,URLS:()=>ye});var ye=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),K0=Object.freeze({SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:Object.freeze({accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"}),REGEX:Object.freeze({AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:new RegExp('var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)".+?}')})}),B=Object.freeze({iOS:{NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME:"WEB",VERSION:"2.20230622.06.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"18.06.35",SDK_VERSION:"29",USER_AGENT:"com.google.android.youtube/18.06.35 (Linux; U; Android 10; US)"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),Bp=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),q0=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var U={};me(U,{addRuntimeParser:()=>Rv,applyMutations:()=>u0,getDynamicParsers:()=>Dw,getParserByName:()=>rp,hasParser:()=>e_,parse:()=>Ee,parseActions:()=>l0,parseArray:()=>Ie,parseC:()=>s0,parseFormats:()=>Ev,parseItem:()=>G,parseLC:()=>a0,parseRR:()=>t_,parseResponse:()=>Ow,sanitizeClassName:()=>ap,setParserErrorHandler:()=>Vw,shouldIgnore:()=>r0});var In=class extends r{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};o(In,"AudioOnlyPlayability");In.type="AudioOnlyPlayability";var Fp=In;var Sn=class extends r{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new a(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new f(e.navigationEndpoint||e.serviceEndpoint||e.command)}};o(Sn,"Button");Sn.type="Button";var I=Sn;var kn=class extends r{constructor(e){var t;super(),this.label=new a(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new f(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(t=e.icon)===null||t===void 0?void 0:t.iconType),Reflect.has(e,"descriptionText")&&(this.description=new a(e.descriptionText))}};o(kn,"DropdownItem");kn.type="DropdownItem";var Lp=kn;var Cn=class extends r{constructor(e){super(),this.label=e.label||"",this.entries=l.parseArray(e.entries,Lp)}};o(Cn,"Dropdown");Cn.type="Dropdown";var mo=Cn;var Rn=class extends r{constructor(e){super(),this.title=new a(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=l.parseItem(e.privacyOption,mo),this.create_button=l.parseItem(e.cancelButton,I),this.cancel_button=l.parseItem(e.cancelButton,I)}};o(Rn,"CreatePlaylistDialog");Rn.type="CreatePlaylistDialog";var Yp=Rn;var En=class extends r{constructor(e){super(),this.popup=l.parseItem(e.popup),this.popup_type=e.popupType}};o(En,"OpenPopupAction");En.type="OpenPopupAction";var jp=En;var Pn=class extends r{constructor(e){var t,n,s,u,d,p,m,h;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new jp(e.openPopupAction));let v=Object.keys(e||{}).find(g=>g.endsWith("Endpoint")||g.endsWith("Command"));this.payload=v?Reflect.get(e,v):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=l.parseItem(this.payload.dialog||this.payload.content)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((n=(t=e==null?void 0:e.commandMetadata)===null||t===void 0?void 0:t.webCommandMetadata)===null||n===void 0)&&n.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((u=(s=e==null?void 0:e.commandMetadata)===null||s===void 0?void 0:s.webCommandMetadata)===null||u===void 0)&&u.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(d=e==null?void 0:e.commandMetadata)===null||d===void 0?void 0:d.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):v&&(this.metadata.api_url=this.getEndpoint(v)),!((h=(m=e==null?void 0:e.commandMetadata)===null||m===void 0?void 0:m.webCommandMetadata)===null||h===void 0)&&h.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=l.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Yp))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,t){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),t))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};o(Pn,"NavigationEndpoint");Pn.type="NavigationEndpoint";var f=Pn;var y=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){return!e||!e.thumbnails?[]:e.thumbnails.map(t=>new y(t)).sort((t,n)=>n.width-t.width)}};o(y,"Thumbnail");var Ft=class{constructor(e){var t,n,s,u,d,p;this.text=((t=e.emoji)===null||t===void 0?void 0:t.emojiId)||((s=(n=e.emoji)===null||n===void 0?void 0:n.shortcuts)===null||s===void 0?void 0:s[0])||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((u=e.emoji)===null||u===void 0?void 0:u.shortcuts)||[],search_terms:((d=e.emoji)===null||d===void 0?void 0:d.searchTerms)||[],image:y.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=Up(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};o(Ft,"EmojiRun");var Lt=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new f(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let t=Up(this.text),s=`<span style="white-space: pre-wrap;">${e.map(u=>`<${u}>`).join("")+t+e.map(u=>`</${u}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:u}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let d=this.endpoint.toURL();if(d)return`<a href="${d}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${u}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${s}</a>`}}if(this.endpoint){let u=this.endpoint.toURL();if(u)return`<a href="${u}">${s}</a>`}return s}};o(Lt,"TextRun");function Up(i){return i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}o(Up,"escape");var a=class{constructor(e){var t,n,s,u;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(d=>d.emoji?new Ft(d):new Lt(d)),this.text=this.runs.map(d=>d.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new f(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new f(e.titleNavigationEndpoint)),this.endpoint||!((n=(t=this.runs)===null||t===void 0?void 0:t[0])===null||n===void 0)&&n.endpoint&&(this.endpoint=(u=(s=this.runs)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.endpoint)}static fromAttributed(e){let t=[],n=e.content,s=e.commandRuns,u=0;if(s){for(let d of s){let p=d.length,m=d.startIndex;if(m>u&&t.push({text:n.slice(u,m)}),Reflect.has(d,"onTap")){let h=null;if(Reflect.has(e,"attachmentRuns")){let v=e.attachmentRuns;for(let g of v)if(g.startIndex-2==m){h=g;break}}h?t.push({text:n.slice(m,m+p),navigationEndpoint:d.onTap,attachment:h}):t.push({text:n.slice(m,m+p),navigationEndpoint:d.onTap})}u=m+p}u<n.length&&t.push({text:n.slice(u)})}else t.push({text:n});return new a({runs:t})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};o(a,"Text");var Mn=class extends r{constructor(e){super(),this.cards=l.parseArray(e.cards),this.header=new a(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};o(Mn,"CardCollection");Mn.type="CardCollection";var Wp=Mn;var Nn=class extends r{constructor(e){super(),this.elements=l.parseArray(e.elements),this.start_ms=e.startMs}};o(Nn,"Endscreen");Nn.type="Endscreen";var Jp=Nn;var Vn=class extends r{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:y.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new f(e.featuredChannel.navigationEndpoint),subscribe_button:l.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};o(Vn,"PlayerAnnotationsExpanded");Vn.type="PlayerAnnotationsExpanded";var Hp=Vn;var An=class extends r{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(t=>({base_url:t.baseUrl,name:new a(t.name),vss_id:t.vssId,language_code:t.languageCode,kind:t.kind,is_translatable:t.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(t=>({audio_track_id:t.audioTrackId,captions_initial_state:t.captionsInitialState,default_caption_track_index:t.defaultCaptionTrackIndex,has_default_track:t.hasDefaultTrack,visibility:t.visibility,caption_track_indices:t.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(t=>({language_code:t.languageCode,language_name:new a(t.languageName)})))}};o(An,"PlayerCaptionsTracklist");An.type="PlayerCaptionsTracklist";var $p=An;var Dn=class extends r{constructor(){super()}};o(Dn,"PlayerLiveStoryboardSpec");Dn.type="PlayerLiveStoryboardSpec";var Gp=Dn;var On=class extends r{constructor(e){super();let t=e.spec.split("|"),n=new URL(t.shift());this.boards=t.map((s,u)=>{let[d,p,m,h,v,g,b,x]=s.split("#");n.searchParams.set("sigh",x);let C=Math.ceil(parseInt(m,10)/(parseInt(h,10)*parseInt(v,10)));return{template_url:n.toString().replace("$L",u).replace("$N",b),thumbnail_width:parseInt(d,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(m,10),interval:parseInt(g,10),columns:parseInt(h,10),rows:parseInt(v,10),storyboard_count:C}})}};o(On,"PlayerStoryboardSpec");On.type="PlayerStoryboardSpec";var gi=On;var Bn=class extends r{constructor(e){super(),this.text=new a(e.text),this.alert_type=e.type}};o(Bn,"Alert");Bn.type="Alert";var fo=Bn;var Fn=class extends r{constructor(e){super(),this.text=new a(e.text),this.alert_type=e.type,this.dismiss_button=U.parseItem(e.dismissButton,I)}};o(Fn,"AlertWithButton");Fn.type="AlertWithButton";var zp=Fn;var Ln=class extends r{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,I)),this.endpoint=new f(e.continuationEndpoint)}};o(Ln,"ContinuationItem");Ln.type="ContinuationItem";var ue=Ln;var Yn=class extends r{constructor(e){super(),this.title=new a(e.title),this.visibility_button=U.parseItem(e.visibilityButton,I)}};o(Yn,"EngagementPanelTitleHeader");Yn.type="EngagementPanelTitleHeader";var Kp=Yn;var jn=class extends r{constructor(e){super(),this.items=l.parseArray(e.items),this.top_level_buttons=l.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};o(jn,"Menu");jn.type="Menu";var V=jn;var Un=class extends r{constructor(e){super(),this.info_text=new a(e.infoText),this.menu=U.parseItem(e.menu,V)}};o(Un,"MacroMarkersInfoItem");Un.type="MacroMarkersInfoItem";var qp=Un;var Wn=class extends r{constructor(e){super(),this.title=new a(e.title),this.time_description=new a(e.timeDescription),this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new f(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};o(Wn,"MacroMarkersListItem");Wn.type="MacroMarkersListItem";var ho=Wn;var Jn=class extends r{constructor(e){super(),this.contents=U.parseArray(e.contents,[qp,ho]),this.sync_button_label=new a(e.syncButtonLabel)}};o(Jn,"MacroMarkersList");Jn.type="MacroMarkersList";var Xp=Jn;var Hn=class extends r{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Hn,"ProductList");Hn.type="ProductList";var Qp=Hn;var $n=class extends r{constructor(e){super(),this.contents=l.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=l.parseItem(e.subMenu))}};o($n,"SectionList");$n.type="SectionList";var $=$n;var Gn=class extends r{constructor(e){var t;super(),this.show_more_text=new a(e.showMoreText),this.show_less_text=new a(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(t=e.attributedDescriptionBodyText)===null||t===void 0?void 0:t.content)}};o(Gn,"ExpandableVideoDescriptionBody");Gn.type="ExpandableVideoDescriptionBody";var Zp=Gn;var zn=class extends r{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new f(e.searchEndpoint),this.query=new a(e.query).toString()}};o(zn,"SearchRefinementCard");zn.type="SearchRefinementCard";var yi=zn;var Kn=class extends r{constructor(e){super(),this.game=l.parseItem(e.game)}};o(Kn,"GameCard");Kn.type="GameCard";var em=Kn;var qn=class extends r{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=l.parseArray(e.items)}get contents(){return this.items}};o(qn,"HorizontalList");qn.type="HorizontalList";var tm=qn;var Xn=class extends r{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new a(e.header.collapsedTitle),collapsed_thumbnail:y.fromResponse(e.header.collapsedThumbnail),collapsed_label:new a(e.header.collapsedLabel),expanded_title:new a(e.header.expandedTitle)}),this.expanded_content=l.parseItem(e.expandedContent,[Yt,tm]),this.expand_button=l.parseItem(e.expandButton,I),this.collapse_button=l.parseItem(e.collapseButton,I)}};o(Xn,"ExpandableMetadata");Xn.type="ExpandableMetadata";var im=Xn;var Qn=class extends r{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};o(Qn,"MetadataBadge");Qn.type="MetadataBadge";var Ae=Qn;var Zn=class extends r{constructor(e){super(),this.text=new a(e.text).toString(),this.style=e.style}};o(Zn,"ThumbnailOverlayTimeStatus");Zn.type="ThumbnailOverlayTimeStatus";var bi=Zn;var er=class extends r{constructor(e){var t,n,s;super();let u=((t=e.thumbnailOverlays.find(d=>d.thumbnailOverlayTimeStatusRenderer))===null||t===void 0?void 0:t.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new a(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new a(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(d=>({text:new a(d.snippetText),hover_text:new a(d.snippetHoverText)}))),this.expandable_metadata=l.parseItem(e.expandableMetadata,im),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.author=new P(e.ownerText,e.ownerBadges,(s=(n=e.channelThumbnailSupportedRenderers)===null||n===void 0?void 0:n.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.badges=l.parseArray(e.badges,Ae),this.endpoint=new f(e.navigationEndpoint),this.published=new a(e.publishedTimeText),this.view_count=new a(e.viewCountText),this.short_view_count=new a(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new a(e.lengthText).toString():new a(u).toString(),seconds:be(e.lengthText?new a(e.lengthText).toString():new a(u).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=l.parseItem(e.menu,V),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(t=>t.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(t=>{if(t.style==="BADGE_STYLE_TYPE_LIVE_NOW"||t.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(bi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};o(er,"Video");er.type="Video";var _o=er;var tr=class extends _o{constructor(e){super(e)}};o(tr,"VideoCard");tr.type="VideoCard";var om=tr;var ir=class extends r{constructor(e){super(),this.cards=l.parseArray(e.cards,[yi,ho,em,om]),this.header=l.parseItem(e.header),this.previous_button=l.parseItem(e.previousButton,I),this.next_button=l.parseItem(e.nextButton,I)}};o(ir,"HorizontalCardList");ir.type="HorizontalCardList";var Yt=ir;var or=class extends r{constructor(e){super(),this.label=new a(e.label),this.value=new a(e.value),this.accessibility_text=e.accessibilityText}};o(or,"Factoid");or.type="Factoid";var jt=or;var nr=class extends r{constructor(e){super(),this.factoid=l.parseItem(e.factoid,jt)}};o(nr,"UploadTimeFactoid");nr.type="UploadTimeFactoid";var nm=nr;var rr=class extends r{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=l.parseItem(e.factoid,[jt]),this.view_count_type=e.viewCountType}};o(rr,"ViewCountFactoid");rr.type="ViewCountFactoid";var rm=rr;var sr=class extends r{constructor(e){super(),this.title=new a(e.title),this.channel=new a(e.channel),this.channel_navigation_endpoint=new f(e.channelNavigationEndpoint),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.publish_date=new a(e.publishDate),this.views=new a(e.views),this.factoids=l.parseArray(e.factoid,[jt,rm,nm])}};o(sr,"VideoDescriptionHeader");sr.type="VideoDescriptionHeader";var sm=sr;var ar=class extends r{constructor(e){super(),this.section_title=new a(e.sectionTitle),this.creator_videos_button=l.parseItem(e.creatorVideosButton,I),this.creator_about_button=l.parseItem(e.creatorAboutButton,I),this.section_subtitle=new a(e.sectionSubtitle),this.channel_avatar=y.fromResponse(e.channelAvatar),this.channel_endpoint=new f(e.channelEndpoint)}};o(ar,"VideoDescriptionInfocardsSection");ar.type="VideoDescriptionInfocardsSection";var am=ar;var lr=class extends r{constructor(e){super(),this.title=new a(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new a(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new a(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};o(lr,"InfoRow");lr.type="InfoRow";var lm=lr;var ur=class extends r{constructor(e){super(),this.id=e.videoId,this.thumbnails=y.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=l.parse(e.richThumbnail)),this.title=new a(e.title),this.author=new P(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new a(e.viewCountText),this.short_view_count=new a(e.shortViewCountText),this.published=new a(e.publishedTimeText),this.badges=l.parseArray(e.badges,Ae),this.duration={text:new a(e.lengthText).toString(),seconds:be(new a(e.lengthText).toString())},this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.endpoint=new f(e.navigationEndpoint),this.menu=l.parseItem(e.menu,V)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};o(ur,"CompactVideo");ur.type="CompactVideo";var vo=ur;var dr=class extends r{constructor(e){super(),this.info_rows=l.parseArray(e.infoRows,lm),this.video_lockup=l.parseItem(e.videoLockup,vo)}};o(dr,"CarouselLockup");dr.type="CarouselLockup";var um=dr;var cr=class extends r{constructor(e){super(),this.carousel_lockups=l.parseArray(e.carouselLockups,um),this.section_title=new a(e.sectionTitle)}};o(cr,"VideoDescriptionMusicSection");cr.type="VideoDescriptionMusicSection";var go=cr;var pr=class extends r{constructor(e){super(),this.section_title=new a(e.sectionTitle),this.sub_header_text=new a(e.subHeaderText),this.primary_button=l.parseItem(e.primaryButton,I)}};o(pr,"VideoDescriptionTranscriptSection");pr.type="VideoDescriptionTranscriptSection";var mr=pr;var fr=class extends r{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new a(e.title),this.short_byline_text=new a(e.shortBylineText),this.video_count_short_text=new a(e.videoCountShortText),this.endpoint=new f(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};o(fr,"StructuredDescriptionPlaylistLockup");fr.type="StructuredDescriptionPlaylistLockup";var dm=fr;var hr=class extends r{constructor(e){super(),this.section_title=new a(e.sectionTitle),this.media_lockups=l.parseArray(e.mediaLockups,[dm])}};o(hr,"VideoDescriptionCourseSection");hr.type="VideoDescriptionCourseSection";var cm=hr;var _r=class extends r{constructor(e){super(),this.items=l.parseArray(e.items,[sm,Zp,go,am,cm,mr,mr,Yt])}};o(_r,"StructuredDescriptionContent");_r.type="StructuredDescriptionContent";var xi=_r;var vr=class extends r{constructor(e){super(),this.header=l.parseItem(e.header,Kp),this.content=l.parseItem(e.content,[$,ue,xi,Xp,Qp]),this.panel_identifier=e.panelIdentifier,this.target_id=e.targetId,this.visibility=e.visibility}};o(vr,"EngagementPanelSectionList");vr.type="EngagementPanelSectionList";var pm=vr;var gr=class extends r{constructor(e){super(),this.title=new a(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new f(e.selectedCommand)),this.selected=!!this.endpoint}};o(gr,"MusicMultiSelectMenuItem");gr.type="MusicMultiSelectMenuItem";var Qe=gr;var mm,fm=class{constructor(e,t){var n,s,u,d,p,m;if(mm.set(this,void 0),t&&T(this,mm,t,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.color_info=e.colorInfo?{primaries:(n=e.colorInfo.primaries)===null||n===void 0?void 0:n.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(s=e.colorInfo.transferCharacteristics)===null||s===void 0?void 0:s.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(u=e.colorInfo.matrixCoefficients)===null||u===void 0?void 0:u.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,this.has_audio){let h=new URLSearchParams(this.cipher||this.signature_cipher),g=(d=new URLSearchParams(h.get("url")||this.url).get("xtags"))===null||d===void 0?void 0:d.split(":"),b=(p=g==null?void 0:g.find(x=>x.startsWith("acont=")))===null||p===void 0?void 0:p.split("=")[1];this.language=((m=g==null?void 0:g.find(x=>x.startsWith("lang=")))===null||m===void 0?void 0:m.split("=")[1])||null,this.is_dubbed=b==="dubbed",this.is_descriptive=b==="descriptive",this.is_original=b==="original"||!this.is_dubbed&&!this.is_descriptive,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id})}}decipher(e){if(!e)throw new _("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,c(this,mm,"f"))}};o(fm,"Format");mm=new WeakMap;var hm=fm;var Ut=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=y.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable}};o(Ut,"VideoDetails");var np={};me(np,{AccountChannel:()=>_m,AccountItemSection:()=>gm,AccountItemSectionHeader:()=>vm,AccountSectionList:()=>ym,AddBannerToLiveChatCommand:()=>Zy,AddChatItemAction:()=>Nf,AddLiveChatTickerItemAction:()=>eb,Alert:()=>fo,AlertWithButton:()=>zp,AnalyticsMainAppKeyMetrics:()=>pg,AnalyticsRoot:()=>mg,AnalyticsShortsCarouselCard:()=>fg,AnalyticsVideo:()=>Cm,AnalyticsVodCarouselCard:()=>hg,AnchoredSection:()=>Kh,AppendContinuationItemsAction:()=>wi,AudioOnlyPlayability:()=>Fp,AuthorCommentBadge:()=>jm,AutomixPreviewVideo:()=>bo,BackstageImage:()=>Rm,BackstagePost:()=>Wt,BackstagePostThread:()=>gg,BrowseFeedActions:()=>Pm,BrowserMediaSession:()=>yg,Button:()=>I,C4TabbedHeader:()=>To,CallToActionButton:()=>bg,Card:()=>xg,CardCollection:()=>Wp,CarouselHeader:()=>Am,CarouselItem:()=>wg,CarouselLockup:()=>um,Channel:()=>Dm,ChannelAboutFullMetadata:()=>Om,ChannelAgeGate:()=>Tg,ChannelFeaturedContent:()=>Ig,ChannelHeaderLinks:()=>Mm,ChannelHeaderLinksView:()=>Nm,ChannelMetadata:()=>Bm,ChannelMobileHeader:()=>Sg,ChannelOptions:()=>Fm,ChannelSubMenu:()=>fs,ChannelThumbnailWithLink:()=>kg,ChannelVideoPlayer:()=>Cg,Chapter:()=>Lm,ChildVideo:()=>Rg,ChipCloud:()=>We,ChipCloudChip:()=>ie,CollaboratorInfoCardContent:()=>Eg,CollageHeroImage:()=>Pg,Comment:()=>Co,CommentActionButtons:()=>xo,CommentDialog:()=>by,CommentReplies:()=>qm,CommentReplyDialog:()=>Um,CommentSimplebox:()=>ef,CommentThread:()=>tf,CommentsEntryPointHeader:()=>Zm,CommentsEntryPointTeaser:()=>Qm,CommentsHeader:()=>Ro,CommentsSimplebox:()=>Xm,CompactChannel:()=>xy,CompactLink:()=>Eo,CompactMix:()=>wy,CompactMovie:()=>Ty,CompactPlaylist:()=>Iy,CompactStation:()=>Sy,CompactVideo:()=>vo,ConfirmDialog:()=>ky,ContentPreviewImageView:()=>of,ContinuationItem:()=>ue,ConversationBar:()=>Cy,CopyLink:()=>nf,CreatePlaylistDialog:()=>Yp,CreatorHeart:()=>Em,CtaGoToCreatorStudio:()=>_g,DataModelSection:()=>km,DecoratedPlayerBar:()=>lf,DefaultPromoPanel:()=>Ry,DidYouMean:()=>uf,DimChatItemAction:()=>tb,DownloadButton:()=>Ey,Dropdown:()=>mo,DropdownItem:()=>Lp,DynamicTextView:()=>df,Element:()=>No,EmergencyOnebox:()=>Py,EmojiPicker:()=>Km,EmojiPickerCategory:()=>My,EmojiPickerCategoryButton:()=>Ny,EmojiPickerUpsellCategory:()=>Vy,EndScreenPlaylist:()=>pf,EndScreenVideo:()=>mf,Endscreen:()=>Jp,EndscreenElement:()=>Ay,EngagementPanelSectionList:()=>pm,EngagementPanelTitleHeader:()=>Kp,ExpandableMetadata:()=>im,ExpandableTab:()=>Vo,ExpandableVideoDescriptionBody:()=>Zp,ExpandedShelfContents:()=>Dy,Factoid:()=>jt,FancyDismissibleDialog:()=>Oy,FeedFilterChipBar:()=>Rt,FeedNudge:()=>By,FeedTabbedHeader:()=>ff,GameCard:()=>em,GameDetails:()=>Fy,Grid:()=>Ci,GridChannel:()=>hf,GridHeader:()=>Ly,GridMix:()=>Yy,GridMovie:()=>jy,GridPlaylist:()=>_f,GridShow:()=>Uy,GridVideo:()=>yf,GuideCollapsibleEntry:()=>Wy,GuideCollapsibleSectionEntry:()=>Jy,GuideDownloadsEntry:()=>Hy,GuideEntry:()=>Ri,GuideSection:()=>Ao,GuideSubscriptionsSection:()=>bf,HashtagHeader:()=>xf,HashtagTile:()=>$y,HeatMarker:()=>rf,Heatmap:()=>sf,HeroPlaylistThumbnail:()=>Gy,HighlightsCarousel:()=>ja,HistorySuggestion:()=>zy,HorizontalCardList:()=>Yt,HorizontalList:()=>tm,HorizontalMovieList:()=>Ky,IconLink:()=>Tf,IncludingResultsFor:()=>qy,InfoPanelContainer:()=>Xy,InfoPanelContent:()=>If,InfoRow:()=>lm,InteractiveTabbedHeader:()=>Sf,ItemSection:()=>oe,ItemSectionHeader:()=>kf,ItemSectionTab:()=>Cf,ItemSectionTabbedHeader:()=>Rf,KidsBlocklistPicker:()=>Qx,KidsBlocklistPickerItem:()=>qh,KidsCategoriesHeader:()=>Xh,KidsCategoryTab:()=>Jo,KidsHomeScreen:()=>Qh,LikeButton:()=>Qy,LiveChat:()=>Ef,LiveChatActionPanel:()=>Af,LiveChatAuthorBadge:()=>kb,LiveChatAutoModMessage:()=>ib,LiveChatBanner:()=>Mf,LiveChatBannerHeader:()=>Pf,LiveChatBannerPoll:()=>ob,LiveChatDialog:()=>Cb,LiveChatHeader:()=>Yf,LiveChatItemList:()=>jf,LiveChatMembershipItem:()=>nb,LiveChatMessageInput:()=>Rb,LiveChatPaidMessage:()=>rb,LiveChatPaidSticker:()=>sb,LiveChatParticipant:()=>Uf,LiveChatParticipantsList:()=>Wf,LiveChatPlaceholderItem:()=>ab,LiveChatProductItem:()=>lb,LiveChatRestrictedParticipation:()=>ub,LiveChatTextMessage:()=>db,LiveChatTickerPaidMessageItem:()=>Vf,LiveChatTickerPaidStickerItem:()=>cb,LiveChatTickerSponsorItem:()=>pb,LiveChatViewerEngagementMessage:()=>mb,MacroMarkersInfoItem:()=>qp,MacroMarkersList:()=>Xp,MacroMarkersListItem:()=>ho,MarkChatItemAsDeletedAction:()=>hb,MarkChatItemsByAuthorAsDeletedAction:()=>_b,Menu:()=>V,MenuNavigationItem:()=>Jf,MenuPopup:()=>Eb,MenuServiceItem:()=>Jt,MenuServiceItemDownload:()=>Pb,MerchandiseItem:()=>Vb,MerchandiseShelf:()=>zf,Message:()=>De,MetadataBadge:()=>Ae,MetadataRow:()=>Ab,MetadataRowContainer:()=>Kf,MetadataRowHeader:()=>Db,MetadataScreen:()=>Ob,MicroformatData:()=>pt,Mix:()=>Bb,Movie:()=>Fb,MovingThumbnail:()=>Lb,MultiMarkersPlayerBar:()=>af,MultiPageMenu:()=>Mb,MultiPageMenuNotificationSection:()=>Nb,MusicCardShelf:()=>Zf,MusicCardShelfHeaderBasic:()=>qf,MusicCarouselShelf:()=>xe,MusicCarouselShelfBasicHeader:()=>eh,MusicDescriptionShelf:()=>rh,MusicDetailHeader:()=>Pi,MusicDownloadStateBadge:()=>Kb,MusicEditablePlaylistDetailHeader:()=>sh,MusicElementHeader:()=>Pu,MusicHeader:()=>$t,MusicImmersiveHeader:()=>ah,MusicInlineBadge:()=>Xf,MusicItemThumbnailOverlay:()=>mt,MusicLargeCardItemCarousel:()=>qb,MusicMenuItemDivider:()=>Hf,MusicMultiRowListItem:()=>th,MusicMultiSelectMenu:()=>$f,MusicMultiSelectMenuItem:()=>Qe,MusicNavigationButton:()=>Do,MusicPlayButton:()=>Qf,MusicPlaylistShelf:()=>Mi,MusicQueue:()=>uh,MusicResponsiveListItem:()=>Ht,MusicResponsiveListItemFixedColumn:()=>ih,MusicResponsiveListItemFlexColumn:()=>oh,MusicShelf:()=>re,MusicSideAlignedItem:()=>dh,MusicSortFilterButton:()=>Ju,MusicTastebuilderShelf:()=>ph,MusicTastebuilderShelfThumbnail:()=>ch,MusicThumbnail:()=>qe,MusicTwoRowItem:()=>nh,MusicVisualHeader:()=>mh,NavigationEndpoint:()=>f,Notification:()=>fh,OpenPopupAction:()=>jp,PageHeader:()=>Bo,PageHeaderView:()=>hh,PageIntroduction:()=>_h,PdgCommentChip:()=>Wm,PlayerAnnotationsExpanded:()=>Hp,PlayerCaptionsTracklist:()=>$p,PlayerControlsOverlay:()=>Xb,PlayerErrorMessage:()=>Qb,PlayerLegacyDesktopYpcOffer:()=>Zb,PlayerLegacyDesktopYpcTrailer:()=>nd,PlayerLiveStoryboardSpec:()=>Gp,PlayerMicroformat:()=>it,PlayerOverflow:()=>vh,PlayerOverlay:()=>Gt,PlayerOverlayAutoplay:()=>yh,PlayerStoryboardSpec:()=>gi,Playlist:()=>ct,PlaylistCustomThumbnail:()=>Po,PlaylistHeader:()=>xh,PlaylistInfoCardContent:()=>ex,PlaylistMetadata:()=>wh,PlaylistPanel:()=>Ni,PlaylistPanelVideo:()=>Et,PlaylistPanelVideoWrapper:()=>lh,PlaylistSidebar:()=>tx,PlaylistSidebarPrimaryInfo:()=>Th,PlaylistSidebarSecondaryInfo:()=>Ih,PlaylistVideo:()=>Sh,PlaylistVideoList:()=>ix,PlaylistVideoThumbnail:()=>Mo,Poll:()=>ox,PollHeader:()=>fb,Post:()=>kh,PostMultiImage:()=>nx,ProductList:()=>Qp,ProductListHeader:()=>rx,ProductListItem:()=>sx,ProfileColumn:()=>ax,ProfileColumnStats:()=>Ch,ProfileColumnStatsEntry:()=>lx,ProfileColumnUserInfo:()=>Rh,Quiz:()=>ux,RecognitionShelf:()=>dx,ReelItem:()=>Eh,ReelShelf:()=>Ph,RelatedChipCloud:()=>Mh,RemoveBannerForLiveChatCommand:()=>vb,RemoveChatItemAction:()=>gb,RemoveChatItemByAuthorAction:()=>yb,ReplaceChatItemAction:()=>bb,ReplayChatItemAction:()=>xb,RichGrid:()=>zt,RichItem:()=>cx,RichListHeader:()=>px,RichMetadata:()=>Dd,RichMetadataRow:()=>Bd,RichSection:()=>mx,RichShelf:()=>Nh,SearchBox:()=>fx,SearchFilter:()=>Vh,SearchFilterGroup:()=>Fo,SearchFilterOptionsDialog:()=>hx,SearchHeader:()=>Ah,SearchRefinementCard:()=>yi,SearchSubMenu:()=>Dh,SearchSuggestion:()=>wf,SearchSuggestionsSection:()=>_x,SecondarySearchContainer:()=>vx,SectionList:()=>$,SegmentedLikeDislikeButton:()=>Vi,SettingBoolean:()=>gx,SettingsCheckbox:()=>Oh,SettingsOptions:()=>Yo,SettingsSidebar:()=>Bh,SettingsSwitch:()=>Lo,SharedPost:()=>Fh,Shelf:()=>jo,ShowCustomThumbnail:()=>vf,ShowLiveChatActionPanelAction:()=>wb,ShowLiveChatDialogAction:()=>Tb,ShowLiveChatTooltipCommand:()=>Ib,ShowingResultsFor:()=>Lh,SimpleCardContent:()=>yx,SimpleCardTeaser:()=>bx,SimpleMenuHeader:()=>Gf,SimpleTextSection:()=>xx,SingleActionEmergencySupport:()=>wx,SingleColumnBrowseResults:()=>ft,SingleColumnMusicWatchNextResults:()=>Tx,SingleHeroImage:()=>Ix,SlimOwner:()=>Sx,SlimVideoMetadata:()=>Yh,SortFilterSubMenu:()=>Ze,SponsorCommentBadge:()=>Jm,StatRow:()=>vg,StructuredDescriptionContent:()=>xi,StructuredDescriptionPlaylistLockup:()=>dm,SubFeedOption:()=>jh,SubFeedSelector:()=>kx,SubscribeButton:()=>Te,SubscriptionNotificationToggleButton:()=>Vm,Tab:()=>de,Tabbed:()=>Cx,TabbedSearchResults:()=>Uh,TextHeader:()=>Rx,ThumbnailLandscapePortrait:()=>Ex,ThumbnailOverlayBottomPanel:()=>gf,ThumbnailOverlayEndorsement:()=>Px,ThumbnailOverlayHoverText:()=>Mx,ThumbnailOverlayInlineUnplayable:()=>Nx,ThumbnailOverlayLoadingPreview:()=>Vx,ThumbnailOverlayNowPlaying:()=>Ax,ThumbnailOverlayPinking:()=>Dx,ThumbnailOverlayPlaybackStatus:()=>Ox,ThumbnailOverlayResumePlayback:()=>Bx,ThumbnailOverlaySidePanel:()=>Fx,ThumbnailOverlayTimeStatus:()=>bi,ThumbnailOverlayToggleButton:()=>Lx,TimedMarkerDecoration:()=>Yx,TitleAndButtonListHeader:()=>jx,ToggleButton:()=>he,ToggleMenuServiceItem:()=>Ux,Tooltip:()=>Wx,TopicChannelDetails:()=>Jx,Transcript:()=>yo,TranscriptFooter:()=>bm,TranscriptSearchBox:()=>xm,TranscriptSearchPanel:()=>Sm,TranscriptSectionHeader:()=>wm,TranscriptSegment:()=>Tm,TranscriptSegmentList:()=>Im,TwoColumnBrowseResults:()=>ht,TwoColumnSearchResults:()=>Wh,TwoColumnWatchNextResults:()=>Uo,UniversalWatchCard:()=>Hh,UpdateDateTextAction:()=>Df,UpdateDescriptionAction:()=>Of,UpdateEngagementPanelAction:()=>cg,UpdateLiveChatPollAction:()=>Sb,UpdateTitleAction:()=>Bf,UpdateToggleButtonTextAction:()=>Ff,UpdateViewershipAction:()=>Lf,UploadTimeFactoid:()=>nm,UpsellDialog:()=>Hx,VerticalList:()=>$x,VerticalWatchCardList:()=>Gx,Video:()=>_o,VideoCard:()=>om,VideoDescriptionCourseSection:()=>cm,VideoDescriptionHeader:()=>sm,VideoDescriptionInfocardsSection:()=>am,VideoDescriptionMusicSection:()=>go,VideoDescriptionTranscriptSection:()=>mr,VideoInfoCardContent:()=>zx,VideoOwner:()=>Wo,VideoPrimaryInfo:()=>$h,VideoSecondaryInfo:()=>Hc,ViewCountFactoid:()=>rm,WatchCardCompactVideo:()=>Gh,WatchCardHeroVideo:()=>Kx,WatchCardRichHeader:()=>qx,WatchCardSectionSequence:()=>Xx,WatchNextEndScreen:()=>bh,WatchNextTabbedResults:()=>zh,YpcTrailer:()=>gh});var yr=class extends r{constructor(e){super(),this.title=new a(e.title),this.endpoint=new f(e.navigationEndpoint)}};o(yr,"AccountChannel");yr.type="AccountChannel";var _m=yr;var br=class extends r{constructor(e){super(),this.title=new a(e.title)}};o(br,"AccountItemSectionHeader");br.type="AccountItemSectionHeader";var vm=br;var xr=class extends r{constructor(e){super(),this.account_name=new a(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new f(e.serviceEndpoint),this.account_byline=new a(e.accountByline)}};o(xr,"AccountItem");xr.type="AccountItem";var wr=class extends r{constructor(e){super(),this.contents=q(e.contents.map(t=>new xr(t.accountItem))),this.header=l.parseItem(e.header,vm)}};o(wr,"AccountItemSection");wr.type="AccountItemSection";var gm=wr;var Tr=class extends r{constructor(e){super(),this.contents=l.parseItem(e.contents[0],gm),this.footers=l.parseItem(e.footers[0],_m)}};o(Tr,"AccountSectionList");Tr.type="AccountSectionList";var ym=Tr;var Ir=class extends r{constructor(e){super(),this.contents=l.parseArray(e.continuationItems),this.target=e.target}};o(Ir,"AppendContinuationItemsAction");Ir.type="AppendContinuationItemsAction";var wi=Ir;var Sr=class extends r{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(t=>{var n,s;return{title:t.title,selected:t.selected,continuation:(s=(n=t.continuation)===null||n===void 0?void 0:n.reloadContinuationData)===null||s===void 0?void 0:s.continuation,endpoint:new f(t.serviceEndpoint||t.navigationEndpoint),subtitle:t.subtitle||null}}))}};o(Sr,"SortFilterSubMenu");Sr.type="SortFilterSubMenu";var Ze=Sr;var kr=class extends r{constructor(e){super(),this.language_menu=l.parseItem(e.languageMenu,Ze)}};o(kr,"TranscriptFooter");kr.type="TranscriptFooter";var bm=kr;var Cr=class extends r{constructor(e){super(),this.formatted_placeholder=new a(e.formattedPlaceholder),this.clear_button=l.parseItem(e.clearButton,I),this.endpoint=new f(e.onTextChangeCommand),this.search_button=l.parseItem(e.searchButton,I)}};o(Cr,"TranscriptSearchBox");Cr.type="TranscriptSearchBox";var xm=Cr;var Rr=class extends r{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new a(e.snippet)}};o(Rr,"TranscriptSectionHeader");Rr.type="TranscriptSectionHeader";var wm=Rr;var Er=class extends r{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new a(e.snippet),this.start_time_text=new a(e.startTimeText),this.target_id=e.targetId}};o(Er,"TranscriptSegment");Er.type="TranscriptSegment";var Tm=Er;var Pr=class extends r{constructor(e){super(),this.initial_segments=l.parseArray(e.initialSegments,[Tm,wm]),this.no_result_label=new a(e.noResultLabel),this.retry_label=new a(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};o(Pr,"TranscriptSegmentList");Pr.type="TranscriptSegmentList";var Im=Pr;var Mr=class extends r{constructor(e){super(),this.header=l.parseItem(e.header,xm),this.body=l.parseItem(e.body,Im),this.footer=l.parseItem(e.footer,bm),this.target_id=e.targetId}};o(Mr,"TranscriptSearchPanel");Mr.type="TranscriptSearchPanel";var Sm=Mr;var Nr=class extends r{constructor(e){super(),this.content=l.parseItem(e.content,Sm)}};o(Nr,"Transcript");Nr.type="Transcript";var yo=Nr;var Vr=class extends r{constructor(e){super(),this.target_id=e.targetId,this.content=l.parseItem(e.content,yo)}};o(Vr,"UpdateEngagementPanelAction");Vr.type="UpdateEngagementPanelAction";var cg=Vr;var Ar=class extends r{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let t=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:t.linesData[0].x,y:t.linesData[0].y,style:{line_width:t.linesData[0].style.lineWidth,line_color:t.linesData[0].style.lineColor}},domain_axis:{tick_values:t.domainAxis.tickValues,custom_formatter:t.domainAxis.customFormatter},measure_axis:{tick_values:t.measureAxis.tickValues,custom_formatter:t.measureAxis.customFormatter}}}}};o(Ar,"DataModelSection");Ar.type="DataModelSection";var km=Ar;var Dr=class extends r{constructor(e){super(),this.period=e.cardData.periodLabel;let t=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=t.dataModel.sections.map(n=>new km(n))}};o(Dr,"AnalyticsMainAppKeyMetrics");Dr.type="AnalyticsMainAppKeyMetrics";var pg=Dr;var Or=class extends r{constructor(e){super();let t=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=t.map(n=>({title:n.cardData.title,rows:n.cardData.rows.map(s=>({label:s.label,display_value:s.displayValue,display_value_a11y:s.displayValueA11y,bar_ratio:s.barRatio,bar_color:s.barColor,bar_opacity:s.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};o(Or,"AnalyticsRoot");Or.type="AnalyticsRoot";var mg=Or;var Br=class extends r{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(t=>({description:t.shortsDescription,thumbnail_url:t.thumbnailUrl,endpoint:new f(t.videoEndpoint)}))}};o(Br,"AnalyticsShortsCarouselCard");Br.type="AnalyticsShortsCarouselCard";var fg=Br;var Fr=class extends r{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:y.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};o(Fr,"AnalyticsVideo");Fr.type="AnalyticsVideo";var Cm=Fr;var Lr=class extends r{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(t=>new Cm(t)))}};o(Lr,"AnalyticsVodCarouselCard");Lr.type="AnalyticsVodCarouselCard";var hg=Lr;var Yr=class extends r{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};o(Yr,"CtaGoToCreatorStudio");Yr.type="CtaGoToCreatorStudio";var _g=Yr;var jr=class extends r{constructor(e){super(),this.title=new a(e.title),this.contents=new a(e.contents)}};o(jr,"StatRow");jr.type="StatRow";var vg=jr;var Ur=class extends r{constructor(e){var t,n;super(),!((n=(t=e==null?void 0:e.content)===null||t===void 0?void 0:t.automixPlaylistVideoRenderer)===null||n===void 0)&&n.navigationEndpoint&&(this.playlist_video={endpoint:new f(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};o(Ur,"AutomixPreviewVideo");Ur.type="AutomixPreviewVideo";var bo=Ur;var Wr=class extends r{constructor(e){super(),this.image=y.fromResponse(e.image),this.endpoint=new f(e.command)}};o(Wr,"BackstageImage");Wr.type="BackstageImage";var Rm=Wr;var Jr=class extends r{constructor(e){var t,n,s,u,d,p,m,h,v;super(),this.text=new a(e.defaultText),this.toggled_text=new a(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(t=e.defaultIcon)===null||t===void 0?void 0:t.iconType;let g=((u=(s=(n=e==null?void 0:e.defaultText)===null||n===void 0?void 0:n.accessibility)===null||s===void 0?void 0:s.accessibilityData)===null||u===void 0?void 0:u.label)||((p=(d=e==null?void 0:e.accessibilityData)===null||d===void 0?void 0:d.accessibilityData)===null||p===void 0?void 0:p.label)||((m=e==null?void 0:e.accessibility)===null||m===void 0?void 0:m.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(g.replace(/\D/g,"")),this.short_like_count=new a(e.defaultText).toString()),this.endpoint=!((v=(h=e.defaultServiceEndpoint)===null||h===void 0?void 0:h.commandExecutorCommand)===null||v===void 0)&&v.commands?new f(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new f(e.defaultServiceEndpoint),this.toggled_endpoint=new f(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};o(Jr,"ToggleButton");Jr.type="ToggleButton";var he=Jr;var Hr=class extends r{constructor(e){var t,n;super(),this.creator_thumbnail=y.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(n=(t=e.heartColor)===null||t===void 0?void 0:t.basicColorPaletteData)===null||n===void 0?void 0:n.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};o(Hr,"CreatorHeart");Hr.type="CreatorHeart";var Em=Hr;var $r=class extends r{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,he),this.dislike_button=l.parseItem(e.dislikeButton,he),this.reply_button=l.parseItem(e.replyButton,I),this.creator_heart=l.parseItem(e.creatorHeart,Em)}};o($r,"CommentActionButtons");$r.type="CommentActionButtons";var xo=$r;var Gr=class extends r{constructor(e){super(),this.id=e.postId,this.author=new P(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new a(e.contentText),this.published=new a(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new a(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=l.parseItem(e.actionMenu,V)),Reflect.has(e,"actionButtons")&&(this.action_buttons=l.parseItem(e.actionButtons,xo)),Reflect.has(e,"voteButton")&&(this.vote_button=l.parseItem(e.voteButton,I)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new f(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=l.parseItem(e.backstageAttachment)),this.surface=e.surface}};o(Gr,"BackstagePost");Gr.type="BackstagePost";var Wt=Gr;var zr=class extends r{constructor(e){super(),this.post=l.parseItem(e.post)}};o(zr,"BackstagePostThread");zr.type="BackstagePostThread";var gg=zr;var Kr=class extends r{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Kr,"BrowseFeedActions");Kr.type="BrowseFeedActions";var Pm=Kr;var qr=class extends r{constructor(e){super(),this.album=new a(e.album),this.thumbnails=y.fromResponse(e.thumbnailDetails)}};o(qr,"BrowserMediaSession");qr.type="BrowserMediaSession";var yg=qr;var wo=class extends r{constructor(e){super(),this.endpoint=new f(e.navigationEndpoint),this.icon=y.fromResponse(e.icon),this.title=new a(e.title)}};o(wo,"HeaderLink");wo.type="HeaderLink";var Xr=class extends r{constructor(e){var t,n;super(),this.primary=q(((t=e.primaryLinks)===null||t===void 0?void 0:t.map(s=>new wo(s)))||[]),this.secondary=q(((n=e.secondaryLinks)===null||n===void 0?void 0:n.map(s=>new wo(s)))||[])}};o(Xr,"ChannelHeaderLinks");Xr.type="ChannelHeaderLinks";var Mm=Xr;var Qr=class extends r{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=a.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=a.fromAttributed(e.more))}};o(Qr,"ChannelHeaderLinksView");Qr.type="ChannelHeaderLinksView";var Nm=Qr;var Zr=class extends r{constructor(e){super(),this.states=e.states.map(t=>({id:t.stateId,next_id:t.nextStateId,state:l.parse(t.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};o(Zr,"SubscriptionNotificationToggleButton");Zr.type="SubscriptionNotificationToggleButton";var Vm=Zr;var es=class extends r{constructor(e){var t,n;super(),this.title=new a(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new a(e.subscribedButtonText),this.unsubscribed_text=new a(e.unsubscribedButtonText),this.notification_preference_button=l.parseItem(e.notificationPreferenceButton,Vm),this.endpoint=new f(((t=e.serviceEndpoints)===null||t===void 0?void 0:t[0])||((n=e.onSubscribeEndpoints)===null||n===void 0?void 0:n[0]))}};o(es,"SubscribeButton");es.type="SubscribeButton";var Te=es;var ts=class extends r{constructor(e){super(),this.author=new P({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=y.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=y.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=y.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new a(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new a(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=l.parseItem(e.sponsorButton,I)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=l.parseItem(e.subscribeButton,[Te,I])),Reflect.has(e,"headerLinks")&&(this.header_links=l.parseItem(e.headerLinks,[Mm,Nm])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new a(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId)}};o(ts,"C4TabbedHeader");ts.type="C4TabbedHeader";var To=ts;var is=class extends r{constructor(e){super(),this.label=new a(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};o(is,"CallToActionButton");is.type="CallToActionButton";var bg=is;var os=class extends r{constructor(e){super(),this.teaser=l.parseItem(e.teaser),this.content=l.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(t=>({start_card_active_ms:t.startCardActiveMs,end_card_active_ms:t.endCardActiveMs,teaser_duration_ms:t.teaserDurationMs,icon_after_teaser_ms:t.iconAfterTeaserMs}))}};o(os,"Card");os.type="Card";var xg=os;var ns=class extends r{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(ns,"CarouselHeader");ns.type="CarouselHeader";var Am=ns;var rs=class extends r{constructor(e){super(),this.items=l.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=y.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};o(rs,"CarouselItem");rs.type="CarouselItem";var wg=rs;var ss=class extends r{constructor(e){super(),this.id=e.channelId,this.author=new P(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new a(e.subscriberCountText),this.video_count=new a(e.videoCountText),this.long_byline=new a(e.longBylineText),this.short_byline=new a(e.shortBylineText),this.endpoint=new f(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,[Te,I]),this.description_snippet=new a(e.descriptionSnippet)}get subscribers(){return this.subscriber_count}get videos(){return this.video_count}};o(ss,"Channel");ss.type="Channel";var Dm=ss;var as=class extends r{constructor(e){var t,n;super(),this.id=e.channelId,this.name=new a(e.title),this.avatar=y.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(n=(t=e.primaryLinks)===null||t===void 0?void 0:t.map(s=>({endpoint:new f(s.navigationEndpoint),icon:y.fromResponse(s.icon),title:new a(s.title)})))!==null&&n!==void 0?n:[],this.view_count=new a(e.viewCountText),this.joined_date=new a(e.joinedDateText),this.description=new a(e.description),this.email_reveal=new f(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new a(e.country),this.buttons=l.parseArray(e.actionButtons,I)}get views(){return this.view_count}get joined(){return this.joined_date}};o(as,"ChannelAboutFullMetadata");as.type="ChannelAboutFullMetadata";var Om=as;var ls=class extends r{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=y.fromResponse(e.avatar),this.header=new a(e.header),this.main_text=new a(e.mainText),this.sign_in_button=U.parseItem(e.signInButton,I),this.secondary_text=new a(e.secondaryText)}};o(ls,"ChannelAgeGate");ls.type="ChannelAgeGate";var Tg=ls;var us=class extends r{constructor(e){super(),this.title=new a(e.title),this.items=l.parseArray(e.items)}};o(us,"ChannelFeaturedContent");us.type="ChannelFeaturedContent";var Ig=us;var ds=class extends r{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=y.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};o(ds,"ChannelMetadata");ds.type="ChannelMetadata";var Bm=ds;var cs=class extends r{constructor(e){super(),this.title=new a(e.title)}};o(cs,"ChannelMobileHeader");cs.type="ChannelMobileHeader";var Sg=cs;var ps=class extends r{constructor(e){super(),this.avatar=y.fromResponse(e.avatar),this.endpoint=new f(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(t=>new a(t))}};o(ps,"ChannelOptions");ps.type="ChannelOptions";var Fm=ps;var ms=class extends r{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(t=>({endpoint:new f(t.navigationEndpoint||t.endpoint),selected:t.selected,title:t.title})),this.sort_setting=l.parseItem(e.sortSetting)}};o(ms,"ChannelSubMenu");ms.type="ChannelSubMenu";var fs=ms;var hs=class extends r{constructor(e){var t,n;super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new f(e.navigationEndpoint),this.label=(n=(t=e.accessibility)===null||t===void 0?void 0:t.accessibilityData)===null||n===void 0?void 0:n.label}};o(hs,"ChannelThumbnailWithLink");hs.type="ChannelThumbnailWithLink";var kg=hs;var _s=class extends r{constructor(e){super(),this.id=e.videoId,this.title=new a(e.title),this.description=new a(e.description),this.view_count=new a(e.viewCountText),this.published_time=new a(e.publishedTimeText)}get views(){return this.view_count}get published(){return this.published_time}};o(_s,"ChannelVideoPlayer");_s.type="ChannelVideoPlayer";var Cg=_s;var vs=class extends r{constructor(e){super(),this.title=new a(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=y.fromResponse(e.thumbnail)}};o(vs,"Chapter");vs.type="Chapter";var Lm=vs;var gs=class extends r{constructor(e){super(),this.id=e.videoId,this.title=new a(e.title),this.duration={text:e.lengthText.simpleText,seconds:be(e.lengthText.simpleText)},this.endpoint=new f(e.navigationEndpoint)}};o(gs,"ChildVideo");gs.type="ChildVideo";var Rg=gs;var ys=class extends r{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new f(e.navigationEndpoint)),this.text=new a(e.text).toString()}};o(ys,"ChipCloudChip");ys.type="ChipCloudChip";var ie=ys;var bs=class extends r{constructor(e){super(),this.chips=l.parseArray(e.chips,ie),this.next_button=l.parseItem(e.nextButton,I),this.previous_button=l.parseItem(e.previousButton,I),this.horizontal_scrollable=e.horizontalScrollable}};o(bs,"ChipCloud");bs.type="ChipCloud";var We=bs;var xs=class extends r{constructor(e){super(),this.channel_avatar=y.fromResponse(e.channelAvatar),this.custom_text=new a(e.customText),this.channel_name=new a(e.channelName),this.subscriber_count=new a(e.subscriberCountText),this.endpoint=new f(e.endpoint)}};o(xs,"CollaboratorInfoCardContent");xs.type="CollaboratorInfoCardContent";var Eg=xs;var ws=class extends r{constructor(e){super(),this.left=y.fromResponse(e.leftThumbnail),this.top_right=y.fromResponse(e.topRightThumbnail),this.bottom_right=y.fromResponse(e.bottomRightThumbnail),this.endpoint=new f(e.navigationEndpoint)}};o(ws,"CollageHeroImage");ws.type="CollageHeroImage";var Pg=ws;var Ym,Ts=class extends r{constructor(e){super(),Ym.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),T(this,Ym,e,"f")}get orig_badge(){return c(this,Ym,"f")}};o(Ts,"AuthorCommentBadge");Ym=new WeakMap;Ts.type="AuthorCommentBadge";var jm=Ts;var Is=class extends r{constructor(e){super(),this.reply_button=l.parseItem(e.replyButton,I),this.cancel_button=l.parseItem(e.cancelButton,I),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new a(e.placeholderText),this.error_message=new a(e.errorMessage)}};o(Is,"CommentReplyDialog");Is.type="CommentReplyDialog";var Um=Is;var Ss=class extends r{constructor(e){var t,n;super(),this.text=new a(e.chipText),this.color_pallette={background_color:(t=e.chipColorPalette)===null||t===void 0?void 0:t.backgroundColor,foreground_title_color:(n=e.chipColorPalette)===null||n===void 0?void 0:n.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};o(Ss,"PdgCommentChip");Ss.type="PdgCommentChip";var Wm=Ss;var ks=class extends r{constructor(e){super(),this.custom_badge=y.fromResponse(e.customBadge),this.tooltip=e.tooltip}};o(ks,"SponsorCommentBadge");ks.type="SponsorCommentBadge";var Jm=ks;var Ti={};me(Ti,{decodeVisitorData:()=>zm,encodeChannelAnalyticsParams:()=>xw,encodeCommentActionParams:()=>_v,encodeCommentParams:()=>Tw,encodeCommentsSectionParams:()=>hv,encodeCustomThumbnailPayload:()=>kw,encodeHashtag:()=>Cw,encodeMessageParams:()=>fv,encodeMusicSearchFilters:()=>ww,encodeNotificationPref:()=>Iw,encodeSearchFilters:()=>mv,encodeVideoMetadataPayload:()=>Sw,encodeVisitorData:()=>pv});var k;(function(i){i[i.Varint=0]="Varint",i[i.Fixed64=1]="Fixed64",i[i.LengthDelimited=2]="LengthDelimited",i[i.StartGroup=3]="StartGroup",i[i.EndGroup=4]="EndGroup",i[i.Fixed32=5]="Fixed32"})(k||(k={}));var N=class extends Uint32Array{constructor(e=0,t=0){super([e,t])}toString(e=!0){let[t,n]=this;if(t===0&&n===0)return"0";if(e&&n>2147483647)return"-"+$m(rv(this),Hm).toString(!1);let s=[],u=new N(t,n);for(;Z0(u,X0);){let[d,p]=Q0(u);s.push(p),u=d}return s.reverse().join("")}static parse(e){let t=parseInt(e,10),n=t<0;if(Number.isNaN(t))return new N(0);if(e.length<10)return t<0?$m(rv(new N(-t)),Hm):new N(t);let s=new N,u=Hm;for(let d of e.split("").reverse())parseInt(d)&&(s=$m(s,Mg(new N(parseInt(d)),u))),u=Mg(u,new N(10));return n?$m(rv(s),Hm):s}};o(N,"Long");var X0=new N(0),Hm=new N(1);function Gm(i){let[e,t]=i;return[e&65535,e>>>16,t&65535,t>>>16]}o(Gm,"makeChunk");function $m(i,e){let[t,n,s,u]=Gm(i),[d,p,m,h]=Gm(e),v=0,g=0,b=0,x=0;return x+=t+d,b+=x>>>16,x&=65535,b+=n+p,g+=b>>>16,b&=65535,g+=s+m,v+=g>>>16,g&=65535,v+=u+h,v&=65535,new N(b<<16|x,v<<16|g)}o($m,"add");function Mg(i,e){let[t,n,s,u]=Gm(i),[d,p,m,h]=Gm(e),v=0,g=0,b=0,x=0;return x+=t*d,b+=x>>>16,x&=65535,b+=t*p+n*d,g+=b>>>16,b&=65535,g+=t*m+s*d+n*p,v+=g>>>16,g&=65535,v+=t*h+n*m+s*p+u*d,v&=65535,new N(b<<16|x,v<<16|g)}o(Mg,"mul");function Q0(i){let[e,t]=i;return[new N((t%10*(4294967295+1)+e)/10|0,t/10|0),(t%10*(4294967295+1)+e)%10]}o(Q0,"divByTen");function Z0(i,e){let[t,n]=i,[s,u]=e;return n!==u?n-u:t-s}o(Z0,"compare");function rv(i){let[e,t]=i;return new N(~e,~t)}o(rv,"negate");function Io(i){let e=[],s=typeof i=="number"?new N(i):i;for(;s[0]||s[1];){let[u,d]=s,p=u&127,m=d>>>7,h=u>>>7|(d&127)<<32-7;s=new N(h,m);let v=s[0]||s[1]?p|128:p;e.push(v)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}o(Io,"encode");function So(i){let e=new N(0),t=0;for(;;){let n=i.getUint8(t);if(e=ew(e,tw(new N(n&127),t*7)),++t,!(n>>>7))return[t,e]}}o(So,"decode");function ew(i,e){return new N(i[0]|e[0],i[1]|e[1])}o(ew,"or");function tw(i,e){return e===0?i:e>=32?new N(0,i[0]<<e-32):new N(i[0]<<e,i[1]<<e|i[0]>>>32-e)}o(tw,"leftshift");function R(i){let e=[];return i.forEach(([t,n])=>{switch(e.push(Io(t<<3|n.type)),n.type){case k.Varint:e.push(Io(n.value));break;case k.Fixed64:{let s=new Uint8Array(8),u=new DataView(s.buffer);u.setUint32(0,n.value[0],!0),u.setUint32(4,n.value[1],!0),e.push(s);break}case k.LengthDelimited:e.push(Io(n.value.byteLength)),e.push(n.value);break;case k.Fixed32:{let s=new Uint8Array(4);new DataView(s.buffer).setUint32(0,n.value,!0),e.push(s);break}}}),sv(e)}o(R,"serialize");function sv(i){let e=i.reduce((n,s)=>n+s.byteLength,0),t=new Uint8Array(e);return i.reduce((n,s)=>(t.set(s,n),n+s.byteLength),0),t}o(sv,"concat");function av(i){if(i instanceof N){let e=new N(i[0]<<1,i[1]<<1|i[0]>>>31),t=i[1]>>>31?new N(4294967295,4294967295):new N;return new N(e[0]^t[0],e[1]^t[1])}return(i*2^i>>31)>>>0}o(av,"encode");function lv(i){if(i instanceof N){let e=new N(i[0]>>>1|i[1]<<31,i[1]>>>1),t=i[0]&1?new N(4294967295,4294967295):new N;return new N(e[0]^t[0],e[1]^t[1])}return i>>>1^-(i&1)}o(lv,"decode");var uv={int32:i=>i[0]|0,int64:i=>i.toString(!0),uint32:i=>i[0]>>>0,uint64:i=>i.toString(!1),sint32:i=>lv(i[0]),sint64:i=>lv(i).toString(!0),bool:i=>i[0]!==0},dv={int32:i=>new N(i),int64:i=>N.parse(i),uint32:i=>new N(i),uint64:i=>N.parse(i),sint32:i=>av(new N(i)),sint64:i=>av(N.parse(i)),bool:i=>new N(+i)},iw=Object.fromEntries(Object.entries(uv).map(([i,e])=>[i,t=>{if(t.type===k.Varint)return e(t.value)}])),ow=Object.fromEntries(Object.entries(dv).map(([i,e])=>[i,t=>({type:k.Varint,value:e(t)})])),F=Object.assign(Object.assign({},iw),{double:i=>i.type!==k.Fixed64?void 0:new DataView(i.value.buffer).getFloat64(0,!0),float:i=>i.type!==k.Fixed32?void 0:new DataView(new Uint32Array([i.value]).buffer).getFloat32(0,!0),fixed32:i=>{if(i.type===k.Fixed32)return i.value>>>0},fixed64:i=>{if(i.type===k.Fixed64)return i.value.toString(!1)},sfixed32:i=>{if(i.type===k.Fixed32)return i.value|0},sfixed64:i=>{if(i.type===k.Fixed64)return i.value.toString(!0)},string:i=>i.type!==k.LengthDelimited?void 0:new TextDecoder().decode(i.value),bytes:i=>{if(i.type===k.LengthDelimited)return i.value}}),S=Object.assign(Object.assign({},ow),{double:i=>{let e=new N;return new DataView(e.buffer).setFloat64(0,i,!0),{type:k.Fixed64,value:e}},float:i=>{let e=new Uint32Array(1),t=new DataView(e.buffer);return t.setFloat32(0,i,!0),{type:k.Fixed32,value:t.getUint32(0,!0)}},fixed32:i=>({type:k.Fixed32,value:i>>>0}),fixed64:i=>({type:k.Fixed64,value:N.parse(i)}),sfixed32:i=>({type:k.Fixed32,value:i|0}),sfixed64:i=>({type:k.Fixed64,value:N.parse(i)}),string:i=>{let e=new TextEncoder;return{type:k.LengthDelimited,value:e.encode(i)}},bytes:i=>({type:k.LengthDelimited,value:i})}),nw=Object.fromEntries(Object.keys(uv).map(i=>[i,function*(e){for(let t of e){let n=F[i](t);if(n!=null)yield n;else for(let s of lw(t))yield uv[i](s)}}])),KN=Object.assign(Object.assign({},nw),{*double(i){for(let e of i){let t=F.double(e);t!=null?yield t:yield*sw(e)}},*float(i){for(let e of i){let t=F.float(e);t!=null?yield t:yield*aw(e)}},*fixed32(i){for(let e of i){let t=F.fixed32(e);if(t!=null)yield t;else for(let n of Ng(e))yield n>>>0}},*fixed64(i){for(let e of i){let t=F.fixed64(e);if(t!=null)yield t;else for(let n of Vg(e))yield n.toString(!1)}},*sfixed32(i){for(let e of i){let t=F.sfixed32(e);if(t!=null)yield t;else for(let n of Ng(e))yield n|0}},*sfixed64(i){for(let e of i){let t=F.sfixed64(e);if(t!=null)yield t;else for(let n of Vg(e))yield n.toString(!0)}}}),rw=Object.fromEntries(Object.keys(dv).map(i=>[i,function(e){return{type:k.LengthDelimited,value:sv(e.map(t=>{let n=dv[i](t);return Io(n)}))}}]));function ko(i,e){return o(function(n){let s=new Uint8Array(n.length*i),u=new DataView(s.buffer);for(let d=0;d<n.length;++d)e(u,d*i,n[d]);return{type:k.LengthDelimited,value:s}},"pack")}o(ko,"getFixedPackFn");var qN=Object.assign(Object.assign({},rw),{double:ko(8,(i,e,t)=>{i.setFloat64(e,t,!0)}),float:ko(4,(i,e,t)=>{i.setFloat32(e,t,!0)}),fixed32:ko(4,(i,e,t)=>{i.setUint32(e,t,!0)}),fixed64:ko(8,(i,e,t)=>{let n=N.parse(t);i.setUint32(e,n[0],!0),i.setUint32(e+4,n[1],!0)}),sfixed32:ko(4,(i,e,t)=>{i.setInt32(e,t,!0)}),sfixed64:ko(8,(i,e,t)=>{let n=N.parse(t);i.setUint32(e,n[0],!0),i.setUint32(e+4,n[1],!0)})});function*sw(i){if(i.type!==k.LengthDelimited)return;let{value:e}=i,t=0,n=new DataView(e.buffer,e.byteOffset);for(;t<e.length;){let s=n.getFloat64(t,!0);t+=4,yield s}}o(sw,"unpackDouble");function*aw(i){if(i.type!==k.LengthDelimited)return;let{value:e}=i,t=0,n=new DataView(e.buffer,e.byteOffset);for(;t<e.length;){let s=n.getFloat32(t,!0);t+=4,yield s}}o(aw,"unpackFloat");function*lw(i){if(i.type!==k.LengthDelimited)return;let{value:e}=i,t=0,n=e.byteOffset;for(;t<e.length;){let s=So(new DataView(e.buffer,n+t));t+=s[0],yield s[1]}}o(lw,"unpackVarint");function*Ng(i){if(i.type!==k.LengthDelimited)return;let{value:e}=i,t=0,n=new DataView(e.buffer,e.byteOffset);for(;t<e.length;){let s=n.getUint32(t,!0);t+=4,yield s}}o(Ng,"unpackFixed32");function*Vg(i){if(i.type!==k.LengthDelimited)return;let{value:e}=i,t=0,n=new DataView(e.buffer,e.byteOffset);for(;t<e.length;){let s=n.getUint32(t,!0);t+=4;let u=n.getUint32(t,!0);t+=4,yield new N(s,u)}}o(Vg,"unpackFixed64");function L(i){let e=0,t=i.byteOffset,n=[],s=new DataView(i.buffer,t);for(;e<i.length;){let u=So(new DataView(i.buffer,t+e)),d=u[1][0];e+=u[0];let p=d&7,m=d>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case k.Varint:{let[g,b]=So(new DataView(i.buffer,t+e));n.push([m,{type:p,value:b}]),e+=g;break}case k.Fixed64:let h=s.getUint32(e,!0),v=s.getUint32(e+=4,!0);e+=4,n.push([m,{type:p,value:new N(h,v)}]);break;case k.LengthDelimited:{let[g,b]=So(new DataView(i.buffer,t+e));n.push([m,{type:p,value:i.subarray(e+=g,e+=b[0])}]);break}case k.StartGroup:case k.EndGroup:n.push([m,{type:p}]);break;case k.Fixed32:n.push([m,{type:p,value:s.getUint32(e,!0)}]),e+=4;break}}return n}o(L,"deserialize");function uw(){return{id:"",timestamp:0}}o(uw,"getDefaultValue");function Ag(i){let e=[];if(i.id!==void 0){let t=i.id;e.push([1,S.string(t)])}if(i.timestamp!==void 0){let t=i.timestamp;e.push([5,S.int32(t)])}return R(e)}o(Ag,"encodeBinary");function Dg(i){let e=uw(),t=L(i),n=new Map(t);e:{let s=n.get(1);if(s===void 0)break e;let u=F.string(s);if(u===void 0)break e;e.id=u}e:{let s=n.get(5);if(s===void 0)break e;let u=F.int32(s);if(u===void 0)break e;e.timestamp=u}return e}o(Dg,"decodeBinary");function Og(i){let e=[];if(i.channelId!==void 0){let t=i.channelId;e.push([1001,S.string(t)])}return R(e)}o(Og,"encodeBinary");function Bg(i){let e=[];if(i.params!==void 0){let t=i.params;e.push([32,{type:k.LengthDelimited,value:Og(t)}])}return R(e)}o(Bg,"encodeBinary");function Fg(i){let e=[];if(i.uploadDate!==void 0){let t=i.uploadDate;e.push([1,S.int32(t)])}if(i.type!==void 0){let t=i.type;e.push([2,S.int32(t)])}if(i.duration!==void 0){let t=i.duration;e.push([3,S.int32(t)])}if(i.featuresHd!==void 0){let t=i.featuresHd;e.push([4,S.int32(t)])}if(i.featuresSubtitles!==void 0){let t=i.featuresSubtitles;e.push([5,S.int32(t)])}if(i.featuresCreativeCommons!==void 0){let t=i.featuresCreativeCommons;e.push([6,S.int32(t)])}if(i.features3d!==void 0){let t=i.features3d;e.push([7,S.int32(t)])}if(i.featuresLive!==void 0){let t=i.featuresLive;e.push([8,S.int32(t)])}if(i.featuresPurchased!==void 0){let t=i.featuresPurchased;e.push([9,S.int32(t)])}if(i.features4k!==void 0){let t=i.features4k;e.push([14,S.int32(t)])}if(i.features360!==void 0){let t=i.features360;e.push([15,S.int32(t)])}if(i.featuresLocation!==void 0){let t=i.featuresLocation;e.push([23,S.int32(t)])}if(i.featuresHdr!==void 0){let t=i.featuresHdr;e.push([25,S.int32(t)])}if(i.featuresVr180!==void 0){let t=i.featuresVr180;e.push([26,S.int32(t)])}return R(e)}o(Fg,"encodeBinary");function Lg(i){let e=[];if(i.sortBy!==void 0){let t=i.sortBy;e.push([1,S.int32(t)])}if(i.filters!==void 0){let t=i.filters;e.push([2,{type:k.LengthDelimited,value:Fg(t)}])}if(i.noFilter!==void 0){let t=i.noFilter;e.push([19,S.int32(t)])}return R(e)}o(Lg,"encodeBinary");function Yg(i){let e=[];if(i.song!==void 0){let t=i.song;e.push([1,S.int32(t)])}if(i.video!==void 0){let t=i.video;e.push([2,S.int32(t)])}if(i.album!==void 0){let t=i.album;e.push([3,S.int32(t)])}if(i.artist!==void 0){let t=i.artist;e.push([4,S.int32(t)])}if(i.playlist!==void 0){let t=i.playlist;e.push([5,S.int32(t)])}return R(e)}o(Yg,"encodeBinary");function jg(i){let e=[];if(i.type!==void 0){let t=i.type;e.push([17,{type:k.LengthDelimited,value:Yg(t)}])}return R(e)}o(jg,"encodeBinary");function Ug(i){let e=[];if(i.filters!==void 0){let t=i.filters;e.push([2,{type:k.LengthDelimited,value:jg(t)}])}return R(e)}o(Ug,"encodeBinary");function Wg(i){let e=[];if(i.channelId!==void 0){let t=i.channelId;e.push([1,S.string(t)])}if(i.videoId!==void 0){let t=i.videoId;e.push([2,S.string(t)])}return R(e)}o(Wg,"encodeBinary");function Jg(i){let e=[];if(i.ids!==void 0){let t=i.ids;e.push([5,{type:k.LengthDelimited,value:Wg(t)}])}return R(e)}o(Jg,"encodeBinary");function Hg(i){let e=[];if(i.params!==void 0){let t=i.params;e.push([1,{type:k.LengthDelimited,value:Jg(t)}])}if(i.number0!==void 0){let t=i.number0;e.push([2,S.int32(t)])}if(i.number1!==void 0){let t=i.number1;e.push([3,S.int32(t)])}return R(e)}o(Hg,"encodeBinary");function $g(i){let e=[];if(i.videoId!==void 0){let t=i.videoId;e.push([2,S.string(t)])}return R(e)}o($g,"encodeBinary");function Gg(i){let e=[];if(i.unkParam!==void 0){let t=i.unkParam;e.push([1,S.int32(t)])}return R(e)}o(Gg,"encodeBinary");function zg(i){let e=[];if(i.commentId!==void 0){let t=i.commentId;e.push([2,S.string(t)])}if(i.unkopts!==void 0){let t=i.unkopts;e.push([4,{type:k.LengthDelimited,value:Gg(t)}])}if(i.channelId!==void 0){let t=i.channelId;e.push([5,S.string(t)])}if(i.videoId!==void 0){let t=i.videoId;e.push([6,S.string(t)])}if(i.unkParam1!==void 0){let t=i.unkParam1;e.push([8,S.int32(t)])}if(i.unkParam2!==void 0){let t=i.unkParam2;e.push([9,S.int32(t)])}return R(e)}o(zg,"encodeBinary");function Kg(i){let e=[];if(i.videoId!==void 0){let t=i.videoId;e.push([4,S.string(t)])}if(i.sortBy!==void 0){let t=i.sortBy;e.push([6,S.int32(t)])}if(i.type!==void 0){let t=i.type;e.push([15,S.int32(t)])}return R(e)}o(Kg,"encodeBinary");function qg(i){let e=[];if(i.unkToken!==void 0){let t=i.unkToken;e.push([1,S.string(t)])}if(i.repliesOpts!==void 0){let t=i.repliesOpts;e.push([3,{type:k.LengthDelimited,value:zg(t)}])}if(i.opts!==void 0){let t=i.opts;e.push([4,{type:k.LengthDelimited,value:Kg(t)}])}if(i.page!==void 0){let t=i.page;e.push([5,S.int32(t)])}if(i.target!==void 0){let t=i.target;e.push([8,S.string(t)])}return R(e)}o(qg,"encodeBinary");function Xg(i){let e=[];if(i.ctx!==void 0){let t=i.ctx;e.push([2,{type:k.LengthDelimited,value:$g(t)}])}if(i.unkParam!==void 0){let t=i.unkParam;e.push([3,S.int32(t)])}if(i.params!==void 0){let t=i.params;e.push([6,{type:k.LengthDelimited,value:qg(t)}])}return R(e)}o(Xg,"encodeBinary");function Qg(i){let e=[];if(i.index!==void 0){let t=i.index;e.push([1,S.int32(t)])}return R(e)}o(Qg,"encodeBinary");function Zg(i){let e=[];if(i.videoId!==void 0){let t=i.videoId;e.push([2,S.string(t)])}if(i.params!==void 0){let t=i.params;e.push([5,{type:k.LengthDelimited,value:Qg(t)}])}if(i.number!==void 0){let t=i.number;e.push([10,S.int32(t)])}return R(e)}o(Zg,"encodeBinary");function ey(i){let e=[];if(i.text!==void 0){let t=i.text;e.push([1,S.string(t)])}return R(e)}o(ey,"encodeBinary");function ty(i){let e=[];if(i.comment!==void 0){let t=i.comment;e.push([1,{type:k.LengthDelimited,value:ey(t)}])}return R(e)}o(ty,"encodeBinary");function iy(i){let e=[];if(i.commentId!==void 0){let t=i.commentId;e.push([2,S.string(t)])}if(i.params!==void 0){let t=i.params;e.push([3,{type:k.LengthDelimited,value:ty(t)}])}if(i.targetLanguage!==void 0){let t=i.targetLanguage;e.push([4,S.string(t)])}return R(e)}o(iy,"encodeBinary");function oy(i){let e=[];if(i.type!==void 0){let t=i.type;e.push([1,S.int32(t)])}if(i.unkNum!==void 0){let t=i.unkNum;e.push([2,S.int32(t)])}if(i.commentId!==void 0){let t=i.commentId;e.push([3,S.string(t)])}if(i.videoId!==void 0){let t=i.videoId;e.push([5,S.string(t)])}if(i.channelId!==void 0){let t=i.channelId;e.push([23,S.string(t)])}if(i.translateCommentParams!==void 0){let t=i.translateCommentParams;e.push([31,{type:k.LengthDelimited,value:iy(t)}])}return R(e)}o(oy,"encodeBinary");function ny(i){let e=[];if(i.index!==void 0){let t=i.index;e.push([1,S.int32(t)])}return R(e)}o(ny,"encodeBinary");function ry(i){let e=[];if(i.channelId!==void 0){let t=i.channelId;e.push([1,S.string(t)])}if(i.prefId!==void 0){let t=i.prefId;e.push([2,{type:k.LengthDelimited,value:ny(t)}])}if(i.number0!==void 0){let t=i.number0;e.push([3,S.int32(t)])}if(i.number1!==void 0){let t=i.number1;e.push([4,S.int32(t)])}return R(e)}o(ry,"encodeBinary");function sy(i){let e=[];if(i.unkparam!==void 0){let t=i.unkparam;e.push([16,S.int32(t)])}if(i.clientVersion!==void 0){let t=i.clientVersion;e.push([17,S.string(t)])}if(i.clientName!==void 0){let t=i.clientName;e.push([18,S.string(t)])}return R(e)}o(sy,"encodeBinary");function ay(i){let e=[];if(i.client!==void 0){let t=i.client;e.push([1,{type:k.LengthDelimited,value:sy(t)}])}return R(e)}o(ay,"encodeBinary");function ly(i){let e=[];if(i.text!==void 0){let t=i.text;e.push([1,S.string(t)])}return R(e)}o(ly,"encodeBinary");function uy(i){let e=[];if(i.text!==void 0){let t=i.text;e.push([1,S.string(t)])}return R(e)}o(uy,"encodeBinary");function dy(i){let e=[];for(let t of i.list)e.push([1,S.string(t)]);return R(e)}o(dy,"encodeBinary");function cy(i){let e=[];if(i.id!==void 0){let t=i.id;e.push([1,S.int32(t)])}return R(e)}o(cy,"encodeBinary");function py(i){let e=[];if(i.type!==void 0){let t=i.type;e.push([1,S.string(t)])}return R(e)}o(py,"encodeBinary");function my(i){let e=[];if(i.imageData!==void 0){let t=i.imageData;e.push([1,S.bytes(t)])}return R(e)}o(my,"encodeBinary");function fy(i){let e=[];if(i.type!==void 0){let t=i.type;e.push([1,S.int32(t)])}if(i.thumbnail!==void 0){let t=i.thumbnail;e.push([3,{type:k.LengthDelimited,value:my(t)}])}return R(e)}o(fy,"encodeBinary");function hy(i){let e=[];if(i.type!==void 0){let t=i.type;e.push([1,S.int32(t)])}return R(e)}o(hy,"encodeBinary");function _y(i){let e=[];if(i.unkparam!==void 0){let t=i.unkparam;e.push([1,S.int32(t)])}if(i.choice!==void 0){let t=i.choice;e.push([2,S.int32(t)])}return R(e)}o(_y,"encodeBinary");function vy(i){let e=[];if(i.unkparam!==void 0){let t=i.unkparam;e.push([1,S.int32(t)])}if(i.choice!==void 0){let t=i.choice;e.push([2,S.int32(t)])}return R(e)}o(vy,"encodeBinary");function cv(i){let e=[];if(i.context!==void 0){let t=i.context;e.push([1,{type:k.LengthDelimited,value:ay(t)}])}if(i.target!==void 0){let t=i.target;e.push([2,S.string(t)])}if(i.title!==void 0){let t=i.title;e.push([3,{type:k.LengthDelimited,value:ly(t)}])}if(i.description!==void 0){let t=i.description;e.push([4,{type:k.LengthDelimited,value:uy(t)}])}if(i.tags!==void 0){let t=i.tags;e.push([6,{type:k.LengthDelimited,value:dy(t)}])}if(i.category!==void 0){let t=i.category;e.push([7,{type:k.LengthDelimited,value:cy(t)}])}if(i.license!==void 0){let t=i.license;e.push([8,{type:k.LengthDelimited,value:py(t)}])}if(i.videoThumbnail!==void 0){let t=i.videoThumbnail;e.push([20,{type:k.LengthDelimited,value:fy(t)}])}if(i.privacy!==void 0){let t=i.privacy;e.push([38,{type:k.LengthDelimited,value:hy(t)}])}if(i.madeForKids!==void 0){let t=i.madeForKids;e.push([68,{type:k.LengthDelimited,value:_y(t)}])}if(i.ageRestricted!==void 0){let t=i.ageRestricted;e.push([69,{type:k.LengthDelimited,value:vy(t)}])}return R(e)}o(cv,"encodeBinary");function gy(i){let e=[];if(i.hashtag!==void 0){let t=i.hashtag;e.push([1,S.string(t)])}if(i.type!==void 0){let t=i.type;e.push([3,S.int32(t)])}return R(e)}o(gy,"encodeBinary");function yy(i){let e=[];if(i.params!==void 0){let t=i.params;e.push([93,{type:k.LengthDelimited,value:gy(t)}])}return R(e)}o(yy,"encodeBinary");function pv(i,e){let t=Ag({id:i,timestamp:e});return encodeURIComponent(Ke(t).replace(/\+/g,"-").replace(/\//g,"_"))}o(pv,"encodeVisitorData");function zm(i){return Dg(vv(decodeURIComponent(i)))}o(zm,"decodeVisitorData");function xw(i){let e=Bg({params:{channelId:i}});return encodeURIComponent(Ke(e))}o(xw,"encodeChannelAnalyticsParams");function mv(i){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},t={all:void 0,video:1,channel:2,playlist:3,movie:4},n={all:void 0,short:1,long:2,medium:3},s={relevance:void 0,rating:1,upload_date:2,view_count:3},u={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},d={};if(i?d.filters={}:d.noFilter=0,d.filters&&(i.upload_date&&(d.filters.uploadDate=e[i.upload_date]),i.type&&(d.filters.type=t[i.type]),i.duration&&(d.filters.duration=n[i.duration]),i.sort_by&&i.sort_by!=="relevance"&&(d.sortBy=s[i.sort_by]),i.features))for(let m of i.features)d.filters[u[m]]=1;let p=Lg(d);return encodeURIComponent(Ke(p))}o(mv,"encodeSearchFilters");function ww(i){var e;let t={filters:{type:{}}};i.type&&i.type!=="all"&&((e=t.filters)===null||e===void 0?void 0:e.type)&&(t.filters.type[i.type]=1);let n=Ug(t);return encodeURIComponent(Ke(n))}o(ww,"encodeMusicSearchFilters");function fv(i,e){let t=Hg({params:{ids:{channelId:i,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(Ke(t)))}o(fv,"encodeMessageParams");function hv(i,e={}){let n=Xg({ctx:{videoId:i},unkParam:6,params:{opts:{videoId:i,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(Ke(n))}o(hv,"encodeCommentsSectionParams");function Tw(i){let e=Zg({videoId:i,params:{index:0},number:7});return encodeURIComponent(Ke(e))}o(Tw,"encodeCommentParams");function _v(i,e={}){let t={type:i,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete t.unkNum,t.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let n=oy(t);return encodeURIComponent(Ke(n))}o(_v,"encodeCommentActionParams");function Iw(i,e){let t=ry({channelId:i,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(Ke(t))}o(Iw,"encodeNotificationPref");function Sw(i,e){let t={context:{client:{unkparam:14,clientName:B.ANDROID.NAME,clientVersion:B.YTSTUDIO_ANDROID.VERSION}},target:i};if(Reflect.has(e,"title")&&(t.title={text:e.title||""}),Reflect.has(e,"description")&&(t.description={text:e.description||""}),Reflect.has(e,"license")&&(t.license={type:e.license||""}),Reflect.has(e,"tags")&&(t.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(t.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":t.privacy={type:1};break;case"UNLISTED":t.privacy={type:2};break;case"PRIVATE":t.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(t.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(t.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),cv(t)}o(Sw,"encodeVideoMetadataPayload");function kw(i,e){let t={context:{client:{unkparam:14,clientName:B.ANDROID.NAME,clientVersion:B.YTSTUDIO_ANDROID.VERSION}},target:i,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return cv(t)}o(kw,"encodeCustomThumbnailPayload");function Cw(i){let e=yy({params:{hashtag:i,type:1}});return encodeURIComponent(Ke(e))}o(Cw,"encodeHashtag");var et,Cs=class extends r{constructor(e){var t,n,s,u,d,p,m;super(),et.set(this,void 0),this.content=new a(e.contentText),this.published=new a(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=y.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=l.parseItem(e.sponsorCommentBadge,Jm),this.paid_comment_chip=l.parseItem(e.paidCommentChipRenderer,Wm),this.author_badge=l.parseItem(e.authorCommentBadge,jm),this.author=new P(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(t=this.author_badge)===null||t===void 0?void 0:t.orig_badge}]:null,e.authorThumbnail),this.action_menu=l.parseItem(e.actionMenu,V),this.action_buttons=l.parseItem(e.actionButtons,xo),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new a(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((s=(n=this.action_buttons)===null||n===void 0?void 0:n.like_button)===null||s===void 0)&&s.is_toggled),this.is_disliked=!!(!((d=(u=this.action_buttons)===null||u===void 0?void 0:u.dislike_button)===null||d===void 0)&&d.is_toggled),this.is_hearted=!!(!((m=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||m===void 0)&&m.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){var e;return w(this,void 0,void 0,function*(){if(!c(this,et,"f"))throw new _("An active caller must be provide to perform this operation.");let t=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!t)throw new _("Like button was not found.",{comment_id:this.comment_id});if(t.is_toggled)throw new _("This comment is already liked",{comment_id:this.comment_id});return yield t.endpoint.call(c(this,et,"f"),{parse:!1})})}dislike(){var e;return w(this,void 0,void 0,function*(){if(!c(this,et,"f"))throw new _("An active caller must be provide to perform this operation.");let t=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!t)throw new _("Dislike button was not found.",{comment_id:this.comment_id});if(t.is_toggled)throw new _("This comment is already disliked",{comment_id:this.comment_id});return yield t.endpoint.call(c(this,et,"f"),{parse:!1})})}reply(e){var t,n,s;return w(this,void 0,void 0,function*(){if(!c(this,et,"f"))throw new _("An active caller must be provide to perform this operation.");if(!(!((t=this.action_buttons)===null||t===void 0)&&t.reply_button))throw new _("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let u=(n=this.action_buttons)===null||n===void 0?void 0:n.reply_button;if(!(!((s=u.endpoint)===null||s===void 0)&&s.dialog))throw new _("Reply button endpoint did not have a dialog.");let p=u.endpoint.dialog.as(Um).reply_button;if(!p)throw new _("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new _("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(c(this,et,"f"),{commentText:e})})}translate(e){var t,n,s,u,d,p;return w(this,void 0,void 0,function*(){if(!c(this,et,"f"))throw new _("An active caller must be provide to perform this operation.");let h={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},v=_v(22,h),g=yield c(this,et,"f").execute("comment/perform_comment_action",{action:v,client:"ANDROID"}),b=(n=(t=g.data.frameworkUpdates)===null||t===void 0?void 0:t.entityBatchUpdate)===null||n===void 0?void 0:n.mutations,x=(p=(d=(u=(s=b==null?void 0:b[0])===null||s===void 0?void 0:s.payload)===null||u===void 0?void 0:u.commentEntityPayload)===null||d===void 0?void 0:d.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},g),{content:x})})}setActions(e){T(this,et,e,"f")}};o(Cs,"Comment");et=new WeakMap;Cs.type="Comment";var Co=Cs;var Rs=class extends r{constructor(e){super(),this.id=e.id,this.categories=l.parseArray(e.categories),this.category_buttons=l.parseArray(e.categoryButtons),this.search_placeholder=new a(e.searchPlaceholderText),this.search_no_results=new a(e.searchNoResultsText),this.pick_skin_tone=new a(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};o(Rs,"EmojiPicker");Rs.type="EmojiPicker";var Km=Rs;var Es=class extends r{constructor(e){super(),this.editable_text=new a(e.editableText),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.submit_button=l.parseItem(e.submitButton,I),this.cancel_button=l.parseItem(e.cancelButton,I),this.placeholder=new a(e.placeholderText),this.emoji_button=l.parseItem(e.emojiButton,I),this.emoji_picker=l.parseItem(e.emojiPicker,Km)}};o(Es,"CommentDialog");Es.type="CommentDialog";var by=Es;var Ps=class extends r{constructor(e){super(),this.contents=l.parseArray(e.contents),this.view_replies=l.parseItem(e.viewReplies,I),this.hide_replies=l.parseItem(e.hideReplies,I),this.view_replies_creator_thumbnail=y.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};o(Ps,"CommentReplies");Ps.type="CommentReplies";var qm=Ps;var Ms=class extends r{constructor(e){super(),this.simplebox_avatar=y.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new a(e.simpleboxPlaceholder)}};o(Ms,"CommentsSimplebox");Ms.type="CommentsSimplebox";var Xm=Ms;var Ns=class extends r{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new a(e.teaserContent))}};o(Ns,"CommentsEntryPointTeaser");Ns.type="CommentsEntryPointTeaser";var Qm=Ns;var Vs=class extends r{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new a(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new a(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new a(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=U.parseItem(e.contentRenderer,[Qm,Xm])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new a(e.simpleboxPlaceholder))}};o(Vs,"CommentsEntryPointHeader");Vs.type="CommentsEntryPointHeader";var Zm=Vs;var As=class extends r{constructor(e){super(),this.title=new a(e.titleText),this.count=new a(e.countText),this.comments_count=new a(e.commentsCount),this.create_renderer=l.parseItem(e.createRenderer),this.sort_menu=l.parseItem(e.sortMenu,Ze),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(t=>({emoji_id:t.emojiId,shortcuts:t.shortcuts,search_terms:t.searchTerms,image:y.fromResponse(t.image),is_custom_emoji:t.isCustomEmoji})))}};o(As,"CommentsHeader");As.type="CommentsHeader";var Ro=As;var Ds=class extends r{constructor(e){super(),this.submit_button=l.parseItem(e.submitButton,I),this.cancel_button=l.parseItem(e.cancelButton,I),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new a(e.placeholderText),this.avatar_size=e.avatarSize}};o(Ds,"CommentSimplebox");Ds.type="CommentSimplebox";var ef=Ds;var Ct,Ii,Os=class extends r{constructor(e){super(),Ct.set(this,void 0),Ii.set(this,void 0),this.comment=l.parseItem(e.comment,Co),this.comment_replies_data=l.parseItem(e.replies,qm),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){var e;return w(this,void 0,void 0,function*(){if(!c(this,Ct,"f"))throw new _("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new _("This comment has no replies.",this);let t=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(ue);if(!t)throw new _("Replies continuation not found.");let n=yield t.endpoint.call(c(this,Ct,"f"),{parse:!0});if(!n.on_response_received_endpoints_memo)throw new _("Unexpected response.",n);return this.replies=q(n.on_response_received_endpoints_memo.getType(Co).map(s=>(s.setActions(c(this,Ct,"f")),s))),T(this,Ii,n==null?void 0:n.on_response_received_endpoints_memo.getType(ue).first(),"f"),this})}getContinuation(){var e;return w(this,void 0,void 0,function*(){if(!this.replies)throw new _("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!c(this,Ii,"f"))throw new _("Continuation not found.");if(!c(this,Ct,"f"))throw new _("Actions instance not set for this thread.");let t=(e=c(this,Ii,"f").button)===null||e===void 0?void 0:e.as(I);if(!t)throw new _('"Load more" button not found.');let n=yield t.endpoint.call(c(this,Ct,"f"),{parse:!0});if(!n.on_response_received_endpoints_memo)throw new _("Unexpected response.",n);return this.replies=q(n.on_response_received_endpoints_memo.getType(Co).map(s=>(s.setActions(c(this,Ct,"f")),s))),T(this,Ii,n.on_response_received_endpoints_memo.getType(ue).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new _("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!c(this,Ii,"f")}setActions(e){T(this,Ct,e,"f")}};o(Os,"CommentThread");Ct=new WeakMap,Ii=new WeakMap;Os.type="CommentThread";var tf=Os;var Bs=class extends r{constructor(e){super(),this.title=new a(e.title),this.channel_id=e.channelId,this.thumbnail=y.fromResponse(e.thumbnail),this.display_name=new a(e.displayName),this.video_count=new a(e.videoCountText),this.subscriber_count=new a(e.subscriberCountText),this.endpoint=new f(e.navigationEndpoint),this.tv_banner=y.fromResponse(e.tvBanner),this.menu=l.parseItem(e.menu,V)}};o(Bs,"CompactChannel");Bs.type="CompactChannel";var xy=Bs;var Fs=class extends r{constructor(e){super(),this.title=new a(e.title).toString(),this.endpoint=new f(e.navigationEndpoint),this.style=e.style}};o(Fs,"CompactLink");Fs.type="CompactLink";var Eo=Fs;var Ls=class extends r{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};o(Ls,"PlaylistCustomThumbnail");Ls.type="PlaylistCustomThumbnail";var Po=Ls;var Ys=class extends r{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};o(Ys,"PlaylistVideoThumbnail");Ys.type="PlaylistVideoThumbnail";var Mo=Ys;var js=class extends r{constructor(e){var t;super(),this.id=e.playlistId,this.title=new a(e.title),this.author=!((t=e.shortBylineText)===null||t===void 0)&&t.simpleText?new a(e.shortBylineText):new P(e.longBylineText,e.ownerBadges,null),this.thumbnails=y.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(n=>n.thumbnails).flat(1)}),this.video_count=new a(e.thumbnailText),this.video_count_short=new a(e.videoCountShortText),this.first_videos=l.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=l.parseItem(e.menu),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new f(e.navigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer,[Mo,Po])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new a(e.viewPlaylistText))}};o(js,"Playlist");js.type="Playlist";var ct=js;var Us=class extends ct{constructor(e){super(e)}};o(Us,"CompactMix");Us.type="CompactMix";var wy=Us;var Ws=class extends r{constructor(e){var t;super();let n=((t=e.thumbnailOverlays.find(u=>u.thumbnailOverlayTimeStatusRenderer))===null||t===void 0?void 0:t.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new a(e.title),this.top_metadata_items=new a(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new P(e.shortBylineText);let s=e.lengthText?new a(e.lengthText).toString():new a(n).toString();this.duration={text:s,seconds:be(s)},this.endpoint=new f(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=l.parseItem(e.menu,V)}};o(Ws,"CompactMovie");Ws.type="CompactMovie";var Ty=Ws;var Js=class extends ct{constructor(e){super(e)}};o(Js,"CompactPlaylist");Js.type="CompactPlaylist";var Iy=Js;var Hs=class extends r{constructor(e){super(),this.title=new a(e.title),this.description=new a(e.description),this.video_count=new a(e.videoCountText),this.endpoint=new f(e.navigationEndpoint),this.thumbnail=y.fromResponse(e.thumbnail)}};o(Hs,"CompactStation");Hs.type="CompactStation";var Sy=Hs;var $s=class extends r{constructor(e){super(),this.title=new a(e.title),this.confirm_button=l.parseItem(e.confirmButton,I),this.cancel_button=l.parseItem(e.cancelButton,I),this.dialog_messages=e.dialogMessages.map(t=>new a(t))}};o($s,"ConfirmDialog");$s.type="ConfirmDialog";var ky=$s;var Gs=class extends r{constructor(e){super(),this.image=e.image.sources.map(t=>new y(t)).sort((t,n)=>n.width-t.width),this.style=e.style}};o(Gs,"ContentPreviewImageView");Gs.type="ContentPreviewImageView";var of=Gs;var zs=class extends r{constructor(e){super(),this.text=new a(e.text)}};o(zs,"Message");zs.type="Message";var De=zs;var Ks=class extends r{constructor(e){super(),this.availability_message=l.parseItem(e.availabilityMessage,De)}};o(Ks,"ConversationBar");Ks.type="ConversationBar";var Cy=Ks;var qs=class extends r{constructor(e){super(),this.copy_button=l.parseItem(e.copyButton,I),this.short_url=e.shortUrl,this.style=e.style}};o(qs,"CopyLink");qs.type="CopyLink";var nf=qs;var Xs=class extends r{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};o(Xs,"HeatMarker");Xs.type="HeatMarker";var rf=Xs;var Qs=class extends r{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=l.parseArray(e.heatMarkers,rf),this.heat_markers_decorations=l.parseArray(e.heatMarkersDecorations)}};o(Qs,"Heatmap");Qs.type="Heatmap";var sf=Qs;var Zs=class extends r{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=l.parseItem(e.value.heatmap,sf)),Reflect.has(e.value,"chapters")&&(this.value.chapters=l.parseArray(e.value.chapters,Lm)))}};o(Zs,"Marker");Zs.type="Marker";var ea=class extends r{constructor(e){var t;super(),this.markers_map=q(((t=e.markersMap)===null||t===void 0?void 0:t.map(n=>new Zs(n)))||[])}};o(ea,"MultiMarkersPlayerBar");ea.type="MultiMarkersPlayerBar";var af=ea;var ta=class extends r{constructor(e){super(),this.player_bar=l.parseItem(e.playerBar,af),this.player_bar_action_button=l.parseItem(e.playerBarActionButton,I)}};o(ta,"DecoratedPlayerBar");ta.type="DecoratedPlayerBar";var lf=ta;var ia=class extends r{constructor(e){super(),this.title=new a(e.title),this.description=new a(e.description),this.endpoint=new f(e.navigationEndpoint),this.large_form_factor_background_thumbnail=l.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=l.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};o(ia,"DefaultPromoPanel");ia.type="DefaultPromoPanel";var Ry=ia;var oa=class extends r{constructor(e){super(),this.text=new a(e.didYouMean).toString(),this.corrected_query=new a(e.correctedQuery),this.endpoint=new f(e.navigationEndpoint||e.correctedQueryEndpoint)}};o(oa,"DidYouMean");oa.type="DidYouMean";var uf=oa;var na=class extends r{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new f(e.command),this.target_id=e.targetId}};o(na,"DownloadButton");na.type="DownloadButton";var Ey=na;var ra=class extends r{constructor(e){super(),this.text=e.text.content}};o(ra,"DynamicTextView");ra.type="DynamicTextView";var df=ra;var Si=class extends r{constructor(e){var t;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(t=e.type.textType.text)===null||t===void 0?void 0:t.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(n=>new Si(n)))}};o(Si,"ChildElement");Si.type="ChildElement";var cf=Si;var ki=class extends r{constructor(e){var t;if(super(),Reflect.has(e,"elementRenderer"))return l.parseItem(e,ki);let n=e.newElement.type.componentType;this.model=l.parseItem(n==null?void 0:n.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=q(((t=e.newElement.childElements)===null||t===void 0?void 0:t.map(s=>new cf(s)))||[]))}};o(ki,"Element");ki.type="Element";var No=ki;var sa=class extends r{constructor(e){super(),this.title=new a(e.title),this.first_option=l.parseItem(e.firstOption),this.menu=l.parseItem(e.menu,V)}};o(sa,"EmergencyOnebox");sa.type="EmergencyOnebox";var Py=sa;var aa=class extends r{constructor(e){super(),this.category_id=e.categoryId,this.title=new a(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};o(aa,"EmojiPickerCategory");aa.type="EmojiPickerCategory";var My=aa;var la=class extends r{constructor(e){var t;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(t=e.icon)===null||t===void 0?void 0:t.iconType),this.tooltip=e.tooltip}};o(la,"EmojiPickerCategoryButton");la.type="EmojiPickerCategoryButton";var Ny=la;var ua=class extends r{constructor(e){super(),this.category_id=e.categoryId,this.title=new a(e.title),this.upsell=new a(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new f(e.command),this.emoji_ids=e.emojiIds}};o(ua,"EmojiPickerUpsellCategory");ua.type="EmojiPickerUpsellCategory";var Vy=ua;var da=class extends r{constructor(e){super(),this.style=e.style,this.title=new a(e.title),this.endpoint=new f(e.endpoint),Reflect.has(e,"image")&&(this.image=y.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=y.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new a(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new a(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=l.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new a(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};o(da,"EndscreenElement");da.type="EndscreenElement";var Ay=da;var ca=class extends r{constructor(e){super(),this.id=e.playlistId,this.title=new a(e.title),this.author=new a(e.longBylineText),this.endpoint=new f(e.navigationEndpoint),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new a(e.videoCountText)}};o(ca,"EndScreenPlaylist");ca.type="EndScreenPlaylist";var pf=ca;var pa=class extends r{constructor(e){super(),this.id=e.videoId,this.title=new a(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new P(e.shortBylineText,e.ownerBadges),this.endpoint=new f(e.navigationEndpoint),this.short_view_count=new a(e.shortViewCountText),this.badges=l.parseArray(e.badges),this.duration={text:new a(e.lengthText).toString(),seconds:e.lengthInSeconds}}};o(pa,"EndScreenVideo");pa.type="EndScreenVideo";var mf=pa;var ma=class extends r{constructor(e){super(),this.title=e.title,this.endpoint=new f(e.endpoint),this.selected=e.selected,this.content=l.parseItem(e.content)}};o(ma,"ExpandableTab");ma.type="ExpandableTab";var Vo=ma;var fa=class extends r{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(fa,"ExpandedShelfContents");fa.type="ExpandedShelfContents";var Dy=fa;var ha=class extends r{constructor(e){super(),this.dialog_message=new a(e.dialogMessage),this.confirm_label=new a(e.confirmLabel)}};o(ha,"FancyDismissibleDialog");ha.type="FancyDismissibleDialog";var Oy=ha;var _a=class extends r{constructor(e){super(),this.contents=l.parseArray(e.contents,ie)}};o(_a,"FeedFilterChipBar");_a.type="FeedFilterChipBar";var Rt=_a;var va=class extends r{constructor(e){super(),this.title=new Text(e.title),this.subtitle=new Text(e.subtitle),this.endpoint=new f(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};o(va,"FeedNudge");va.type="FeedNudge";var By=va;var ga=class extends r{constructor(e){super(),this.title=new a(e.title)}};o(ga,"FeedTabbedHeader");ga.type="FeedTabbedHeader";var ff=ga;var ya=class extends r{constructor(e){super(),this.title=new a(e.title),this.box_art=y.fromResponse(e.boxArt),this.box_art_overlay_text=new a(e.boxArtOverlayText),this.endpoint=new f(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};o(ya,"GameDetails");ya.type="GameDetails";var Fy=ya;var ba=class extends r{constructor(e){var t,n,s;super(),this.items=l.parseArray(e.items),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((s=(n=(t=e.continuations)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}get contents(){return this.items}};o(ba,"Grid");ba.type="Grid";var Ci=ba;var xa=class extends r{constructor(e){super(),this.id=e.channelId,this.author=new P(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new a(e.subscriberCountText),this.video_count=new a(e.videoCountText),this.endpoint=new f(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton)}};o(xa,"GridChannel");xa.type="GridChannel";var hf=xa;var wa=class extends r{constructor(e){super(),this.title=new a(e.title)}};o(wa,"GridHeader");wa.type="GridHeader";var Ly=wa;var Ta=class extends r{constructor(e){var t,n;super(),this.id=e.playlistId,this.title=new a(e.title),this.author=!((t=e.shortBylineText)===null||t===void 0)&&t.simpleText?new a(e.shortBylineText):!((n=e.longBylineText)===null||n===void 0)&&n.simpleText?new a(e.longBylineText):null,this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new a(e.videoCountText),this.video_count_short=new a(e.videoCountShortText),this.endpoint=new f(e.navigationEndpoint),this.secondary_endpoint=new f(e.secondaryNavigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};o(Ta,"GridMix");Ta.type="GridMix";var Yy=Ta;var Ia=class extends r{constructor(e){var t;super();let n=(t=e.thumbnailOverlays.find(s=>s.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||t===void 0?void 0:t.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new a(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.duration=e.lengthText?new a(e.lengthText):n!=null&&n.text?new a(n.text):null,this.endpoint=new f(e.navigationEndpoint),this.badges=l.parseArray(e.badges,Ae),this.metadata=new a(e.metadata),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};o(Ia,"GridMovie");Ia.type="GridMovie";var jy=Ia;var Sa=class extends r{constructor(e){var t;super(),this.id=e.playlistId,this.title=new a(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new P(e.shortBylineText,e.ownerBadges)),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new f(e.navigationEndpoint),this.view_playlist=new a(e.viewPlaylistText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((t=e.sidebarThumbnails)===null||t===void 0?void 0:t.map(n=>y.fromResponse(n)))||[])||null,this.video_count=new a(e.thumbnailText),this.video_count_short=new a(e.videoCountShortText)}};o(Sa,"GridPlaylist");Sa.type="GridPlaylist";var _f=Sa;var ka=class extends r{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};o(ka,"ShowCustomThumbnail");ka.type="ShowCustomThumbnail";var vf=ka;var Ca=class extends r{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new a(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};o(Ca,"ThumbnailOverlayBottomPanel");Ca.type="ThumbnailOverlayBottomPanel";var gf=Ca;var Ra=class extends r{constructor(e){super(),this.title=new a(e.title),this.thumbnail_renderer=G(e.thumbnailRenderer,vf),this.endpoint=new f(e.navigationEndpoint),this.long_byline_text=new a(e.longBylineText),this.thumbnail_overlays=Ie(e.thumbnailOverlays,gf),this.author=new P(e.shortBylineText,void 0)}};o(Ra,"GridShow");Ra.type="GridShow";var Uy=Ra;var Ea=class extends r{constructor(e){var t,n;super();let s=(t=e.thumbnailOverlays.find(u=>u.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||t===void 0?void 0:t.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new a(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.rich_thumbnail=l.parseItem(e.richThumbnail),this.published=new a(e.publishedTimeText),this.duration=e.lengthText?new a(e.lengthText):s!=null&&s.text?new a(s.text):null,this.author=e.shortBylineText&&new P(e.shortBylineText,e.ownerBadges),this.views=new a(e.viewCountText),this.short_view_count=new a(e.shortViewCountText),this.endpoint=new f(e.navigationEndpoint),this.menu=l.parseItem(e.menu,V),Reflect.has(e,"buttons")&&(this.buttons=l.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new a(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((n=e.upcomingEventData)===null||n===void 0)&&n.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};o(Ea,"GridVideo");Ea.type="GridVideo";var yf=Ea;var Pa=class extends r{constructor(e){super(),this.title=new a(e.formattedTitle),this.endpoint=new f(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=y.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};o(Pa,"GuideEntry");Pa.type="GuideEntry";var Ri=Pa;var Ma=class extends r{constructor(e){super(),this.expander_item=G(e.expanderItem,Ri),this.collapser_item=G(e.collapserItem,Ri),this.expandable_items=Ie(e.expandableItems)}};o(Ma,"GuideCollapsibleEntry");Ma.type="GuideCollapsibleEntry";var Wy=Ma;var Na=class extends r{constructor(e){super(),this.header_entry=G(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Ie(e.sectionItems)}};o(Na,"GuideCollapsibleSectionEntry");Na.type="GuideCollapsibleSectionEntry";var Jy=Na;var Va=class extends Ri{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};o(Va,"GuideDownloadsEntry");Va.type="GuideDownloadsEntry";var Hy=Va;var Aa=class extends r{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new a(e.formattedTitle)),this.items=Ie(e.items)}};o(Aa,"GuideSection");Aa.type="GuideSection";var Ao=Aa;var Da=class extends Ao{};o(Da,"GuideSubscriptionsSection");Da.type="GuideSubscriptionsSection";var bf=Da;var Oa=class extends r{constructor(e){super(),this.hashtag=new a(e.hashtag),this.hashtag_info=new a(e.hashtagInfoText)}};o(Oa,"HashtagHeader");Oa.type="HashtagHeader";var xf=Oa;var Ba=class extends r{constructor(e){super(),this.hashtag=new a(e.hashtag),this.hashtag_info_text=new a(e.hashtagInfoText),this.hashtag_thumbnail=y.fromResponse(e.hashtagThumbnail),this.endpoint=new f(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new a(e.hashtagVideoCount),this.hashtag_channel_count=new a(e.hashtagChannelCount)}};o(Ba,"HashtagTile");Ba.type="HashtagTile";var $y=Ba;var Fa=class extends r{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new f(e.onTap)}};o(Fa,"HeroPlaylistThumbnail");Fa.type="HeroPlaylistThumbnail";var Gy=Fa;var La=class extends r{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:e.thumbnail.image.sources,endpoint:new f(e.thumbnail.onTap),on_long_press_endpoint:new f(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:e.backgroundImage.image.sources,gradient_image:e.backgroundImage.gradientImage.sources},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new f(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new f(e.textOnTap)}};o(La,"Panel");La.type="Panel";var Ya=class extends r{constructor(e){super(),this.panels=q(e.highlightsCarousel.panels.map(t=>new La(t)))}};o(Ya,"HighlightsCarousel");Ya.type="HighlightsCarousel";var ja=Ya;var Ua=class extends r{constructor(e){super(),this.suggestion=new a(e.suggestion),this.endpoint=new f(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new f(e.serviceEndpoint))}};o(Ua,"SearchSuggestion");Ua.type="SearchSuggestion";var wf=Ua;var Wa=class extends wf{constructor(e){super(e)}};o(Wa,"HistorySuggestion");Wa.type="HistorySuggestion";var zy=Wa;var Ja=class extends r{constructor(e){super(),this.items=l.parseArray(e.items),this.previous_button=l.parseItem(e.previousButton,I),this.next_button=l.parseItem(e.nextButton,I)}get contents(){return this.items}};o(Ja,"HorizontalMovieList");Ja.type="HorizontalMovieList";var Ky=Ja;var Ha=class extends r{constructor(e){var t;super(),this.icon_type=(t=e.icon)===null||t===void 0?void 0:t.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new a(e.tooltip).toString()),this.endpoint=new f(e.navigationEndpoint)}};o(Ha,"IconLink");Ha.type="IconLink";var Tf=Ha;var $a=class extends r{constructor(e){super(),this.including_results_for=new a(e.includingResultsFor),this.corrected_query=new a(e.correctedQuery),this.corrected_query_endpoint=new f(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new a(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new a(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new f(e.originalQueryEndpoint):void 0}};o($a,"IncludingResultsFor");$a.type="IncludingResultsFor";var qy=$a;var Ga=class extends r{constructor(e){super(),this.title=new a(e.title),this.source=new a(e.source),this.paragraphs=e.paragraphs.map(t=>new a(t)),this.thumbnail=y.fromResponse(e.thumbnail),this.source_endpoint=new f(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};o(Ga,"InfoPanelContent");Ga.type="InfoPanelContent";var If=Ga;var za=class extends r{constructor(e){var t;super(),this.title=new a(e.title),this.menu=l.parseItem(e.menu,V),this.content=l.parseItem(e.content,If),this.background=e.background,Reflect.has(e,"icon")&&(this.icon_type=(t=e.icon)===null||t===void 0?void 0:t.iconType)}};o(za,"InfoPanelContainer");za.type="InfoPanelContainer";var Xy=za;var Ka=class extends r{constructor(e){super(),this.header_type=e.type,this.title=new a(e.title),this.description=new a(e.description),this.metadata=new a(e.metadata),this.badges=l.parseArray(e.badges,Ae),this.box_art=y.fromResponse(e.boxArt),this.banner=y.fromResponse(e.banner),this.buttons=l.parseArray(e.buttons,[Te,I]),this.auto_generated=new a(e.autoGenerated)}};o(Ka,"InteractiveTabbedHeader");Ka.type="InteractiveTabbedHeader";var Sf=Ka;var qa=class extends r{constructor(e){super(),this.title=new a(e.title)}};o(qa,"ItemSectionHeader");qa.type="ItemSectionHeader";var kf=qa;var Xa=class extends r{constructor(e){super(),this.title=new a(e.title),this.selected=!!e.selected,this.endpoint=new f(e.endpoint)}};o(Xa,"ItemSectionTab");Xa.type="Tab";var Cf=Xa;var Qa=class extends r{constructor(e){super(),this.title=new a(e.title),this.tabs=l.parseArray(e.tabs,Cf),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};o(Qa,"ItemSectionTabbedHeader");Qa.type="ItemSectionTabbedHeader";var Rf=Qa;var Za=class extends r{constructor(e){var t,n,s;super(),this.header=l.parseItem(e.header,[Ro,kf,Rf]),this.contents=l.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.target_id||e.sectionIdentifier),e.continuations&&(this.continuation=(s=(n=(t=e.continuations)===null||t===void 0?void 0:t.at(0))===null||n===void 0?void 0:n.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};o(Za,"ItemSection");Za.type="ItemSection";var oe=Za;var el=class extends r{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(t=>new f(t)))}};o(el,"LikeButton");el.type="LikeButton";var Qy=el;var tl=class extends r{constructor(e){var t,n;super(),this.header=l.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(n=(t=e.continuations[0])===null||t===void 0?void 0:t.reloadContinuationData)===null||n===void 0?void 0:n.continuation,this.client_messages={reconnect_message:new a(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new a(e.clientMessages.unableToReconnectMessage),fatal_error:new a(e.clientMessages.fatalError),reconnected_message:new a(e.clientMessages.reconnectedMessage),generic_error:new a(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};o(tl,"LiveChat");tl.type="LiveChat";var Ef=tl;var il=class extends r{constructor(e){super(),this.text=new a(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=l.parseItem(e.contextMenuButton,I)}};o(il,"LiveChatBannerHeader");il.type="LiveChatBannerHeader";var Pf=il;var ol=class extends r{constructor(e){super(),this.header=l.parseItem(e.header,Pf),this.contents=l.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};o(ol,"LiveChatBanner");ol.type="LiveChatBanner";var Mf=ol;var nl=class extends r{constructor(e){super(),this.banner=l.parseItem(e.bannerRenderer,Mf)}};o(nl,"AddBannerToLiveChatCommand");nl.type="AddBannerToLiveChatCommand";var Zy=nl;var rl=class extends r{constructor(e){super(),this.item=l.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};o(rl,"AddChatItemAction");rl.type="AddChatItemAction";var Nf=rl;var sl=class extends r{constructor(e){super(),this.item=l.parseItem(e.item),this.duration_sec=e.durationSec}};o(sl,"AddLiveChatTickerItemAction");sl.type="AddLiveChatTickerItemAction";var eb=sl;var al=class extends r{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};o(al,"DimChatItemAction");al.type="DimChatItemAction";var tb=al;var ll=class extends r{constructor(e){super(),this.menu_endpoint=new f(e.contextMenuEndpoint),this.moderation_buttons=l.parseArray(e.moderationButtons,I),this.auto_moderated_item=l.parseItem(e.autoModeratedItem),this.header_text=new a(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};o(ll,"LiveChatAutoModMessage");ll.type="LiveChatAutoModMessage";var ib=ll;var ul=class extends r{constructor(e){super(),this.poll_question=new a(e.pollQuestion),this.author_photo=y.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(t=>({option_id:t.pollOptionId,text:new a(t.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=l.parseItem(e.contextMenuButton,I)}};o(ul,"LiveChatBannerPoll");ul.type="LiveChatBannerPoll";var ob=ul;var dl=class extends r{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new a(e.headerSubtext),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new f(e.contextMenuEndpoint)}};o(dl,"LiveChatMembershipItem");dl.type="LiveChatMembershipItem";var nb=dl;var cl=class extends r{constructor(e){super(),this.message=new a(e.message),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new a(e.purchaseAmountText).toString(),this.menu_endpoint=new f(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new a(e.timestampText).toString(),this.id=e.id}};o(cl,"LiveChatPaidMessage");cl.type="LiveChatPaidMessage";var rb=cl;var pl=class extends r{constructor(e){super(),this.id=e.id,this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=y.fromResponse(e.sticker),this.purchase_amount=new a(e.purchaseAmountText).toString(),this.menu_endpoint=new f(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};o(pl,"LiveChatPaidSticker");pl.type="LiveChatPaidSticker";var sb=pl;var ml=class extends r{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};o(ml,"LiveChatPlaceholderItem");ml.type="LiveChatPlaceholderItem";var ab=ml;var fl=class extends r{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=l.parseItem(e.informationButton),this.endpoint=new f(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=y.fromResponse(e.authorPhoto),this.information_dialog=l.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new a(e.creatorCustomMessage)}};o(fl,"LiveChatProductItem");fl.type="LiveChatProductItem";var lb=fl;var hl=class extends r{constructor(e){super(),this.message=new a(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};o(hl,"LiveChatRestrictedParticipation");hl.type="LiveChatRestrictedParticipation";var ub=hl;var Ei=class extends r{constructor(e){super(),this.message=new a(e.message),this.inline_action_buttons=l.parseArray(e.inlineActionButtons,I),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};o(Ei,"LiveChatMessageBase");Ei.type="LiveChatMessageBase";var _l=class extends Ei{constructor(e){super(e),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new f(e.contextMenuEndpoint)}};o(_l,"LiveChatTextMessage");_l.type="LiveChatTextMessage";var db=_l;var vl=class extends r{constructor(e){var t,n;super(),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new a(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=l.parseItem((n=(t=e.showItemEndpoint)===null||t===void 0?void 0:t.showLiveChatItemEndpoint)===null||n===void 0?void 0:n.renderer),this.show_item_endpoint=new f(e.showItemEndpoint),this.id=e.id}};o(vl,"LiveChatTickerPaidMessageItem");vl.type="LiveChatTickerPaidMessageItem";var Vf=vl;var gl=class extends Vf{};o(gl,"LiveChatTickerPaidStickerItem");gl.type="LiveChatTickerPaidStickerItem";var cb=gl;var yl=class extends r{constructor(e){super(),this.id=e.id,this.detail=new a(e.detailText),this.author=new P(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};o(yl,"LiveChatTickerSponsorItem");yl.type="LiveChatTickerSponsorItem";var pb=yl;var bl=class extends Ei{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=l.parseItem(e.actionButton)}};o(bl,"LiveChatViewerEngagementMessage");bl.type="LiveChatViewerEngagementMessage";var mb=bl;var xl=class extends r{constructor(e){super(),this.poll_question=new a(e.pollQuestion),this.thumbnails=y.fromResponse(e.thumbnail),this.metadata=new a(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=l.parseItem(e.contextMenuButton,I)}};o(xl,"PollHeader");xl.type="PollHeader";var fb=xl;var wl=class extends r{constructor(e){super(),this.id=e.id,this.contents=l.parse(e.contents),this.target_id=e.targetId}};o(wl,"LiveChatActionPanel");wl.type="LiveChatActionPanel";var Af=wl;var Tl=class extends r{constructor(e){super(),this.deleted_state_message=new a(e.deletedStateMessage),this.target_item_id=e.targetItemId}};o(Tl,"MarkChatItemAsDeletedAction");Tl.type="MarkChatItemAsDeletedAction";var hb=Tl;var Il=class extends r{constructor(e){super(),this.deleted_state_message=new a(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};o(Il,"MarkChatItemsByAuthorAsDeletedAction");Il.type="MarkChatItemsByAuthorAsDeletedAction";var _b=Il;var Sl=class extends r{constructor(e){super(),this.target_action_id=e.targetActionId}};o(Sl,"RemoveBannerForLiveChatCommand");Sl.type="RemoveBannerForLiveChatCommand";var vb=Sl;var kl=class extends r{constructor(e){super(),this.target_item_id=e.targetItemId}};o(kl,"RemoveChatItemAction");kl.type="RemoveChatItemAction";var gb=kl;var Cl=class extends r{constructor(e){super(),this.external_channel_id=e.externalChannelId}};o(Cl,"RemoveChatItemByAuthorAction");Cl.type="RemoveChatItemByAuthorAction";var yb=Cl;var Rl=class extends r{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=l.parseItem(e.replacementItem)}};o(Rl,"ReplaceChatItemAction");Rl.type="ReplaceChatItemAction";var bb=Rl;var El=class extends r{constructor(e){var t;super(),this.actions=l.parseArray((t=e.actions)===null||t===void 0?void 0:t.map(n=>(delete n.clickTrackingParams,n))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};o(El,"ReplayChatItemAction");El.type="ReplayChatItemAction";var xb=El;var Pl=class extends r{constructor(e){super(),this.panel_to_show=l.parseItem(e.panelToShow,Af)}};o(Pl,"ShowLiveChatActionPanelAction");Pl.type="ShowLiveChatActionPanelAction";var wb=Pl;var Ml=class extends r{constructor(e){super(),this.dialog=l.parseItem(e.dialog)}};o(Ml,"ShowLiveChatDialogAction");Ml.type="ShowLiveChatDialogAction";var Tb=Ml;var Nl=class extends r{constructor(e){super(),this.tooltip=l.parseItem(e.tooltip)}};o(Nl,"ShowLiveChatTooltipCommand");Nl.type="ShowLiveChatTooltipCommand";var Ib=Nl;var Vl=class extends r{constructor(e){super(),this.date_text=new a(e.dateText).toString()}};o(Vl,"UpdateDateTextAction");Vl.type="UpdateDateTextAction";var Df=Vl;var Al=class extends r{constructor(e){super(),this.description=new a(e.description)}};o(Al,"UpdateDescriptionAction");Al.type="UpdateDescriptionAction";var Of=Al;var Dl=class extends r{constructor(e){super(),this.poll_to_update=l.parseItem(e.pollToUpdate)}};o(Dl,"UpdateLiveChatPollAction");Dl.type="UpdateLiveChatPollAction";var Sb=Dl;var Ol=class extends r{constructor(e){super(),this.title=new a(e.title)}};o(Ol,"UpdateTitleAction");Ol.type="UpdateTitleAction";var Bf=Ol;var Bl=class extends r{constructor(e){super(),this.default_text=new a(e.defaultText).toString(),this.toggled_text=new a(e.toggledText).toString(),this.button_id=e.buttonId}};o(Bl,"UpdateToggleButtonTextAction");Bl.type="UpdateToggleButtonTextAction";var Ff=Bl;var Fl=class extends r{constructor(e){super();let t=e.viewCount.videoViewCountRenderer;this.view_count=new a(t.viewCount),this.extra_short_view_count=new a(t.extraShortViewCount),this.original_view_count=parseInt(t.originalViewCount),this.unlabeled_view_count_value=new a(t.unlabeledViewCountValue),this.is_live=t.isLive}};o(Fl,"UpdateViewershipAction");Fl.type="UpdateViewershipAction";var Lf=Fl;var Ll=class extends Ae{constructor(e){super(e),this.custom_thumbnail=y.fromResponse(e.customThumbnail)}};o(Ll,"LiveChatAuthorBadge");Ll.type="LiveChatAuthorBadge";var kb=Ll;var Yl=class extends r{constructor(e){super(),this.confirm_button=l.parseItem(e.confirmButton,I),this.dialog_messages=e.dialogMessages.map(t=>new a(t))}};o(Yl,"LiveChatDialog");Yl.type="LiveChatDialog";var Cb=Yl;var jl=class extends r{constructor(e){super(),this.overflow_menu=l.parseItem(e.overflowMenu,V),this.collapse_button=l.parseItem(e.collapseButton,I),this.view_selector=l.parseItem(e.viewSelector,Ze)}};o(jl,"LiveChatHeader");jl.type="LiveChatHeader";var Yf=jl;var Ul=class extends r{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=l.parseItem(e.moreCommentsBelowButton,I)}};o(Ul,"LiveChatItemList");Ul.type="LiveChatItemList";var jf=Ul;var Wl=class extends r{constructor(e){super(),this.author_name=new a(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.send_button=l.parseItem(e.sendButton,I),this.target_id=e.targetId}};o(Wl,"LiveChatMessageInput");Wl.type="LiveChatMessageInput";var Rb=Wl;var Jl=class extends r{constructor(e){super(),this.name=new a(e.authorName),this.photo=y.fromResponse(e.authorPhoto),this.badges=l.parseArray(e.authorBadges)}};o(Jl,"LiveChatParticipant");Jl.type="LiveChatParticipant";var Uf=Jl;var Hl=class extends r{constructor(e){super(),this.title=new a(e.title),this.participants=l.parseArray(e.participants,Uf)}};o(Hl,"LiveChatParticipantsList");Hl.type="LiveChatParticipantsList";var Wf=Hl;var $l=class extends I{constructor(e){super(e)}};o($l,"MenuNavigationItem");$l.type="MenuNavigationItem";var Jf=$l;var Gl=class extends I{constructor(e){super(e)}};o(Gl,"MenuServiceItem");Gl.type="MenuServiceItem";var Jt=Gl;var zl=class extends r{constructor(e){super(),this.items=l.parseArray(e.items,[Jf,Jt])}};o(zl,"MenuPopup");zl.type="MenuPopup";var Eb=zl;var Kl=class extends r{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new f(e.navigationEndpoint||e.serviceEndpoint)}};o(Kl,"MenuServiceItemDownload");Kl.type="MenuServiceItemDownload";var Pb=Kl;var ql=class extends r{constructor(e){super(),this.header=l.parse(e.header),this.sections=l.parse(e.sections),this.style=e.style}};o(ql,"MultiPageMenu");ql.type="MultiPageMenu";var Mb=ql;var Xl=class extends r{constructor(e){super(),this.items=l.parse(e.items)}get contents(){return this.items}};o(Xl,"MultiPageMenuNotificationSection");Xl.type="MultiPageMenuNotificationSection";var Nb=Xl;var Ql=class extends r{constructor(e){super()}};o(Ql,"MusicMenuItemDivider");Ql.type="MusicMenuItemDivider";var Hf=Ql;var Zl=class extends r{constructor(e){var t;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new a((t=e.title.musicMenuTitleRenderer)===null||t===void 0?void 0:t.primaryText)),this.options=l.parseArray(e.options,[Qe,Hf])}};o(Zl,"MusicMultiSelectMenu");Zl.type="MusicMultiSelectMenu";var $f=Zl;var eu=class extends r{constructor(e){super(),this.title=new a(e.title),this.buttons=l.parse(e.buttons)}};o(eu,"SimpleMenuHeader");eu.type="SimpleMenuHeader";var Gf=eu;var tu=class extends r{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new f(e.buttonCommand)}};o(tu,"MerchandiseItem");tu.type="MerchandiseItem";var Vb=tu;var iu=class extends r{constructor(e){super(),this.title=e.title,this.menu=l.parseItem(e.actionButton),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(iu,"MerchandiseShelf");iu.type="MerchandiseShelf";var zf=iu;var ou=class extends r{constructor(e){super(),this.title=new a(e.title),this.contents=e.contents.map(t=>new a(t))}};o(ou,"MetadataRow");ou.type="MetadataRow";var Ab=ou;var nu=class extends r{constructor(e){super(),this.rows=l.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};o(nu,"MetadataRowContainer");nu.type="MetadataRowContainer";var Kf=nu;var ru=class extends r{constructor(e){super(),this.content=new a(e.content),this.has_divider_line=e.hasDividerLine}};o(ru,"MetadataRowHeader");ru.type="MetadataRowHeader";var Db=ru;var su=class extends r{constructor(e){super(),this.section_list=l.parseItem(e)}};o(su,"MetadataScreen");su.type="MetadataScreen";var Ob=su;var au=class extends r{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=y.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};o(au,"MicroformatData");au.type="MicroformatData";var pt=au;var lu=class extends ct{constructor(e){super(e)}};o(lu,"Mix");lu.type="Mix";var Bb=lu;var uu=class extends r{constructor(e){var t,n,s;super();let u=((t=e.thumbnailOverlays.find(d=>d.thumbnailOverlayTimeStatusRenderer))===null||t===void 0?void 0:t.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new a(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new a(e.descriptionSnippet)),this.top_metadata_items=new a(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new P(e.longBylineText,e.ownerBadges,(s=(n=e.channelThumbnailSupportedRenderers)===null||n===void 0?void 0:n.channelThumbnailWithLinkRenderer)===null||s===void 0?void 0:s.thumbnail),this.duration={text:e.lengthText?new a(e.lengthText).toString():new a(u).toString(),seconds:be(e.lengthText?new a(e.lengthText).toString():new a(u).toString())},this.endpoint=new f(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=l.parseItem(e.menu,V)}};o(uu,"Movie");uu.type="Movie";var Fb=uu;var du=class extends r{constructor(e){var t;return super(),(t=e.movingThumbnailDetails)===null||t===void 0?void 0:t.thumbnails.map(n=>new y(n)).sort((n,s)=>s.width-n.width)}};o(du,"MovingThumbnail");du.type="MovingThumbnail";var Lb=du;var cu=class extends r{constructor(e){super(),this.title=new a(e.title)}};o(cu,"MusicCardShelfHeaderBasic");cu.type="MusicCardShelfHeaderBasic";var qf=cu;var pu=class extends r{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};o(pu,"MusicInlineBadge");pu.type="MusicInlineBadge";var Xf=pu;var mu=class extends r{constructor(e){var t,n;super(),this.endpoint=new f(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(t=e.accessibilityPlayData.accessibilityData)===null||t===void 0?void 0:t.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(n=e.accessibilityPauseData.accessibilityData)===null||n===void 0?void 0:n.label),this.icon_color=e.iconColor}};o(mu,"MusicPlayButton");mu.type="MusicPlayButton";var Qf=mu;var fu=class extends r{constructor(e){super(),this.content=l.parseItem(e.content,Qf),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};o(fu,"MusicItemThumbnailOverlay");fu.type="MusicItemThumbnailOverlay";var mt=fu;var hu=class extends r{constructor(e){super(),this.contents=y.fromResponse(e.thumbnail)}};o(hu,"MusicThumbnail");hu.type="MusicThumbnail";var qe=hu;var _u=class extends r{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,qe),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.buttons=l.parseArray(e.buttons,I),this.menu=l.parseItem(e.menu,V),this.on_tap=new f(e.onTap),this.header=l.parseItem(e.header,qf),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=l.parseArray(e.subtitleBadges,Xf),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,mt),Reflect.has(e,"contents")&&(this.contents=l.parseArray(e.contents))}};o(_u,"MusicCardShelf");_u.type="MusicCardShelf";var Zf=_u;var vu=class extends r{constructor(e){super(),this.title=new a(e.title),Reflect.has(e,"strapline")&&(this.strapline=new a(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,qe)),Reflect.has(e,"moreContentButton")&&(this.more_content=l.parseItem(e.moreContentButton,I)),Reflect.has(e,"endIcons")&&(this.end_icons=l.parseArray(e.endIcons,Tf))}};o(vu,"MusicCarouselShelfBasicHeader");vu.type="MusicCarouselShelfBasicHeader";var eh=vu;var gu=class extends r{constructor(e){super(),this.thumbnail=U.parseItem(e.thumbnail,qe),this.overlay=U.parseItem(e.overlay,mt),this.on_tap=new f(e.onTap),this.menu=U.parseItem(e.menu,V),this.subtitle=new a(e.subtitle),this.title=new a(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new a(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new a(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};o(gu,"MusicMultiRowListItem");gu.type="MusicMultiRowListItem";var th=gu;var yu=class extends r{constructor(e){super(),this.button_text=new a(e.buttonText).toString(),this.endpoint=new f(e.clickCommand)}};o(yu,"MusicNavigationButton");yu.type="MusicNavigationButton";var Do=yu;var bu=class extends r{constructor(e){super(),this.title=new a(e.text),this.display_priority=e.displayPriority}};o(bu,"MusicResponsiveListItemFixedColumn");bu.type="musicResponsiveListItemFlexColumnRenderer";var ih=bu;var xu=class extends r{constructor(e){super(),this.title=new a(e.text),this.display_priority=e.displayPriority}};o(xu,"MusicResponsiveListItemFlexColumn");xu.type="MusicResponsiveListItemFlexColumn";var oh=xu;var tt,Oo,Ub,Wb,Yb,jb,Jb,Hb,$b,Gb,zb,wu=class extends r{constructor(e){var t,n,s,u,d,p;super(),tt.add(this),Oo.set(this,void 0),this.flex_columns=l.parseArray(e.flexColumns,oh),this.fixed_columns=l.parseArray(e.fixedColumns,ih),T(this,Oo,{video_id:((t=e==null?void 0:e.playlistItemData)===null||t===void 0?void 0:t.videoId)||null,playlist_set_video_id:((n=e==null?void 0:e.playlistItemData)===null||n===void 0?void 0:n.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new f(e.navigationEndpoint));let m=(p=(d=(u=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||u===void 0?void 0:u.browseEndpointContextSupportedConfigs)===null||d===void 0?void 0:d.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(m||this.flex_columns.find(v=>{var g,b,x,C;return((C=(x=(b=(g=v.title.endpoint)===null||g===void 0?void 0:g.payload)===null||b===void 0?void 0:b.browseEndpointContextSupportedConfigs)===null||x===void 0?void 0:x.browseEndpointContextMusicConfig)===null||C===void 0?void 0:C.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(m="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),m){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",c(this,tt,"m",Gb).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",c(this,tt,"m",zb).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",c(this,tt,"m",Jb).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",c(this,tt,"m",Hb).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",c(this,tt,"m",$b).call(this);break;default:this.flex_columns[1]?c(this,tt,"m",Wb).call(this):c(this,tt,"m",Ub).call(this)}Reflect.has(e,"index")&&(this.index=new a(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,qe)),Reflect.has(e,"badges")&&(this.badges=l.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu,V)),Reflect.has(e,"overlay")&&(this.overlay=l.parseItem(e.overlay,mt))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};o(wu,"MusicResponsiveListItem");Oo=new WeakMap,tt=new WeakSet,Ub=o(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),Wb=o(function(){var e,t;((t=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||t===void 0?void 0:t.some(s=>s.text.match(/(.*?) views/)))?(this.item_type="video",c(this,tt,"m",jb).call(this)):(this.item_type="song",c(this,tt,"m",Yb).call(this))},"_MusicResponsiveListItem_parseVideoOrSong"),Yb=o(function(){var e,t,n,s,u,d,p,m,h,v,g,b,x,C,E;this.id=c(this,Oo,"f").video_id||((t=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||t===void 0?void 0:t.videoId),this.title=this.flex_columns.first().title.toString();let D=((u=(s=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title.runs)===null||s===void 0?void 0:s.find(Y=>/^\d+$/.test(Y.text.replace(/:/g,""))))===null||u===void 0?void 0:u.text)||((p=(d=this.fixed_columns.first())===null||d===void 0?void 0:d.title)===null||p===void 0?void 0:p.toString());D&&(this.duration={text:D,seconds:be(D)});let M=((h=(m=this.flex_columns.at(1))===null||m===void 0?void 0:m.title.runs)===null||h===void 0?void 0:h.find(Y=>Re(Y)&&Y.endpoint&&Y.endpoint.payload.browseId.startsWith("MPR")))||((g=(v=this.flex_columns.at(2))===null||v===void 0?void 0:v.title.runs)===null||g===void 0?void 0:g.find(Y=>Re(Y)&&Y.endpoint&&Y.endpoint.payload.browseId.startsWith("MPR")));M&&Re(M)&&(this.album={id:(x=(b=M.endpoint)===null||b===void 0?void 0:b.payload)===null||x===void 0?void 0:x.browseId,name:M.text,endpoint:M.endpoint});let W=(E=(C=this.flex_columns.at(1))===null||C===void 0?void 0:C.title.runs)===null||E===void 0?void 0:E.filter(Y=>Re(Y)&&Y.endpoint&&Y.endpoint.payload.browseId.startsWith("UC"));W&&(this.artists=W.map(Y=>{var te,ne;return{name:Y.text,channel_id:Re(Y)?(ne=(te=Y.endpoint)===null||te===void 0?void 0:te.payload)===null||ne===void 0?void 0:ne.browseId:void 0,endpoint:Re(Y)?Y.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),jb=o(function(){var e,t,n,s,u,d,p,m,h,v;this.id=c(this,Oo,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(n=(t=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||t===void 0?void 0:t.find(x=>x.text.match(/(.*?) views/)))===null||n===void 0?void 0:n.toString();let g=(u=(s=this.flex_columns.at(1))===null||s===void 0?void 0:s.title.runs)===null||u===void 0?void 0:u.filter(x=>Re(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));g&&(this.authors=g.map(x=>{var C,E;return{name:x.text,channel_id:Re(x)?(E=(C=x.endpoint)===null||C===void 0?void 0:C.payload)===null||E===void 0?void 0:E.browseId:void 0,endpoint:Re(x)?x.endpoint:void 0}}));let b=((p=(d=this.flex_columns[1].title.runs)===null||d===void 0?void 0:d.find(x=>/^\d+$/.test(x.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((v=(h=(m=this.fixed_columns.first())===null||m===void 0?void 0:m.title.runs)===null||h===void 0?void 0:h.find(x=>/^\d+$/.test(x.text.replace(/:/g,""))))===null||v===void 0?void 0:v.text);b&&(this.duration={text:b,seconds:be(b)})},"_MusicResponsiveListItem_parseVideo"),Jb=o(function(){var e,t,n,s,u,d;this.id=(t=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||t===void 0?void 0:t.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title,this.subscribers=((d=(u=(s=this.subtitle)===null||s===void 0?void 0:s.runs)===null||u===void 0?void 0:u.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||d===void 0?void 0:d.text)||""},"_MusicResponsiveListItem_parseArtist"),Hb=o(function(){var e,t,n,s;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((s=(n=(t=this.subtitle)===null||t===void 0?void 0:t.runs)===null||n===void 0?void 0:n.find(u=>/^\d+(,\d+)? songs?$/i.test(u.text)))===null||s===void 0?void 0:s.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),$b=o(function(){var e,t;this.id=c(this,Oo,"f").video_id||((t=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||t===void 0?void 0:t.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),Gb=o(function(){var e,t,n,s,u,d,p,m,h;this.id=(t=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||t===void 0?void 0:t.browseId,this.title=this.flex_columns.first().title.toString();let v=(s=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title.runs)===null||s===void 0?void 0:s.find(g=>Re(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));v&&Re(v)&&(this.author={name:v.text,channel_id:(d=(u=v.endpoint)===null||u===void 0?void 0:u.payload)===null||d===void 0?void 0:d.browseId,endpoint:v.endpoint}),this.year=(h=(m=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||m===void 0?void 0:m.find(g=>/^[12][0-9]{3}$/.test(g.text)))===null||h===void 0?void 0:h.text},"_MusicResponsiveListItem_parseAlbum"),zb=o(function(){var e,t,n,s,u,d,p,m;this.id=(t=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||t===void 0?void 0:t.browseId,this.title=this.flex_columns.first().title.toString();let h=(s=(n=this.flex_columns.at(1))===null||n===void 0?void 0:n.title.runs)===null||s===void 0?void 0:s.find(g=>g.text.match(/\d+ (song|songs)/));this.item_count=h?h.text:void 0;let v=(d=(u=this.flex_columns.at(1))===null||u===void 0?void 0:u.title.runs)===null||d===void 0?void 0:d.find(g=>Re(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));v&&Re(v)&&(this.author={name:v.text,channel_id:(m=(p=v.endpoint)===null||p===void 0?void 0:p.payload)===null||m===void 0?void 0:m.browseId,endpoint:v.endpoint})},"_MusicResponsiveListItem_parsePlaylist");wu.type="MusicResponsiveListItem";var Ht=wu;var Tu=class extends r{constructor(e){var t,n,s,u,d,p,m,h,v,g,b,x,C,E,D,M,W,Y,te,ne,ae,le;switch(super(),this.title=new a(e.title),this.endpoint=new f(e.navigationEndpoint),this.id=((n=(t=this.endpoint)===null||t===void 0?void 0:t.payload)===null||n===void 0?void 0:n.browseId)||((u=(s=this.endpoint)===null||s===void 0?void 0:s.payload)===null||u===void 0?void 0:u.videoId),this.subtitle=new a(e.subtitle),this.badges=l.parse(e.subtitleBadges),(h=(m=(p=(d=this.endpoint)===null||d===void 0?void 0:d.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||h===void 0?void 0:h.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((g=(v=this.endpoint)===null||v===void 0?void 0:v.metadata)===null||g===void 0?void 0:g.api_url)==="/next"?this.item_type="endpoint":!((b=this.subtitle.runs)===null||b===void 0)&&b[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((C=(x=this.subtitle.runs)===null||x===void 0?void 0:x.find(j=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(j.text)))===null||C===void 0?void 0:C.text)||"";else if(this.item_type=="playlist"){let j=(E=this.subtitle.runs)===null||E===void 0?void 0:E.find(O=>O.text.match(/\d+ songs|song/));this.item_count=j?j.text:null}else if(this.item_type=="album"){let j=(D=this.subtitle.runs)===null||D===void 0?void 0:D.filter(O=>{var J,H;return(H=(J=O.endpoint)===null||J===void 0?void 0:J.payload)===null||H===void 0?void 0:H.browseId.startsWith("UC")});j&&(this.artists=j.map(O=>{var J,H;return{name:O.text,channel_id:(H=(J=O.endpoint)===null||J===void 0?void 0:J.payload)===null||H===void 0?void 0:H.browseId,endpoint:O.endpoint}})),this.year=(M=this.subtitle.runs)===null||M===void 0?void 0:M.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((Y=(W=this===null||this===void 0?void 0:this.subtitle.runs)===null||W===void 0?void 0:W.find(O=>O==null?void 0:O.text.match(/(.*?) views/)))===null||Y===void 0?void 0:Y.text)||"N/A";let j=(te=this.subtitle.runs)===null||te===void 0?void 0:te.find(O=>{var J,H,pe;return(pe=(H=(J=O.endpoint)===null||J===void 0?void 0:J.payload)===null||H===void 0?void 0:H.browseId)===null||pe===void 0?void 0:pe.startsWith("UC")});j&&(this.author={name:j==null?void 0:j.text,channel_id:(ae=(ne=j==null?void 0:j.endpoint)===null||ne===void 0?void 0:ne.payload)===null||ae===void 0?void 0:ae.browseId,endpoint:j==null?void 0:j.endpoint})}else if(this.item_type=="song"){let j=(le=this.subtitle.runs)===null||le===void 0?void 0:le.filter(O=>{var J,H;return(H=(J=O.endpoint)===null||J===void 0?void 0:J.payload)===null||H===void 0?void 0:H.browseId.startsWith("UC")});j&&(this.artists=j.map(O=>{var J,H;return{name:O==null?void 0:O.text,channel_id:(H=(J=O==null?void 0:O.endpoint)===null||J===void 0?void 0:J.payload)===null||H===void 0?void 0:H.browseId,endpoint:O==null?void 0:O.endpoint}}))}this.thumbnail=y.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,mt),this.menu=l.parseItem(e.menu,V)}};o(Tu,"MusicTwoRowItem");Tu.type="MusicTwoRowItem";var nh=Tu;var Iu=class extends r{constructor(e){super(),this.header=l.parseItem(e.header,eh),this.contents=l.parseArray(e.contents,[nh,Ht,th,Do]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};o(Iu,"MusicCarouselShelf");Iu.type="MusicCarouselShelf";var xe=Iu;var Su=class extends r{constructor(e){super(),this.description=new a(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new a(e.footer)}};o(Su,"MusicDescriptionShelf");Su.type="MusicDescriptionShelf";var rh=Su;var ku=class extends r{constructor(e){var t,n,s,u,d,p,m,h,v;super(),this.title=new a(e.title),this.description=new a(e.description),this.subtitle=new a(e.subtitle),this.second_subtitle=new a(e.secondSubtitle),this.year=((n=(t=this.subtitle.runs)===null||t===void 0?void 0:t.find(b=>/^[12][0-9]{3}$/.test(b.text)))===null||n===void 0?void 0:n.text)||"",this.song_count=((u=(s=this.second_subtitle.runs)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.text)||"",this.total_duration=((p=(d=this.second_subtitle.runs)===null||d===void 0?void 0:d[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=y.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=l.parseArray(e.subtitleBadges);let g=(m=this.subtitle.runs)===null||m===void 0?void 0:m.find(b=>{var x,C;return(C=(x=b==null?void 0:b.endpoint)===null||x===void 0?void 0:x.payload)===null||C===void 0?void 0:C.browseId.startsWith("UC")});g&&(this.author={name:g.text,channel_id:(v=(h=g.endpoint)===null||h===void 0?void 0:h.payload)===null||v===void 0?void 0:v.browseId,endpoint:g.endpoint}),this.menu=l.parseItem(e.menu)}};o(ku,"MusicDetailHeader");ku.type="MusicDetailHeader";var Pi=ku;var Cu=class extends r{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};o(Cu,"MusicDownloadStateBadge");Cu.type="MusicDownloadStateBadge";var Kb=Cu;var Ru=class extends r{constructor(e){super(),this.header=l.parseItem(e.header)}};o(Ru,"MusicEditablePlaylistDetailHeader");Ru.type="MusicEditablePlaylistDetailHeader";var sh=Ru;var Eu=class extends r{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?l.parseItem(e,No):null}};o(Eu,"MusicElementHeader");Eu.type="MusicElementHeader";var Pu=Eu;var Mu=class extends r{constructor(e){super(),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new a(e.title))}};o(Mu,"MusicHeader");Mu.type="MusicHeader";var $t=Mu;var Nu=class extends r{constructor(e){super(),this.title=new a(e.title),this.description=new a(e.description),this.thumbnail=l.parseItem(e.thumbnail,qe)}};o(Nu,"MusicImmersiveHeader");Nu.type="MusicImmersiveHeader";var ah=Nu;var Vu=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new f(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};o(Vu,"ActionButton");Vu.type="ActionButton";var Au=class{constructor(e){this.image=e.image.image.sources,this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(t=>new Vu(t))}};o(Au,"Panel");Au.type="Panel";var Du=class extends r{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(t=>new Au(t))}};o(Du,"MusicLargeCardItemCarousel");Du.type="MusicLargeCardItemCarousel";var qb=Du;var Ou=class extends r{constructor(e){var t,n,s;super(),this.playlist_id=e.playlistId,this.contents=l.parseArray(e.contents,Ht),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((s=(n=(t=e.continuations)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.nextContinuationData)===null||s===void 0?void 0:s.continuation)||null}};o(Ou,"MusicPlaylistShelf");Ou.type="MusicPlaylistShelf";var Mi=Ou;var Bu=class extends r{constructor(e){var t,n,s,u,d;super(),this.title=new a(e.title),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new f(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new a(e.lengthText).toString(),seconds:be(new a(e.lengthText).toString())};let p=(t=new a(e.longBylineText).runs)===null||t===void 0?void 0:t.find(h=>{var v,g,b;return(b=(g=(v=h.endpoint)===null||v===void 0?void 0:v.payload)===null||g===void 0?void 0:g.browseId)===null||b===void 0?void 0:b.startsWith("MPR")}),m=(n=new a(e.longBylineText).runs)===null||n===void 0?void 0:n.filter(h=>{var v,g,b;return(b=(g=(v=h.endpoint)===null||v===void 0?void 0:v.payload)===null||g===void 0?void 0:g.browseId)===null||b===void 0?void 0:b.startsWith("UC")});this.author=new a(e.shortBylineText).toString(),p&&(this.album={id:(u=(s=p.endpoint)===null||s===void 0?void 0:s.payload)===null||u===void 0?void 0:u.browseId,name:p.text,year:(d=new a(e.longBylineText).runs)===null||d===void 0?void 0:d.slice(-1)[0].text,endpoint:p.endpoint}),m&&(this.artists=m.map(h=>{var v,g;return{name:h.text,channel_id:(g=(v=h.endpoint)===null||v===void 0?void 0:v.payload)===null||g===void 0?void 0:g.browseId,endpoint:h.endpoint}})),this.badges=l.parseArray(e.badges),this.menu=l.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};o(Bu,"PlaylistPanelVideo");Bu.type="PlaylistPanelVideo";var Et=Bu;var Fu=class extends r{constructor(e){super(),this.primary=l.parseItem(e.primaryRenderer,Et),Reflect.has(e,"counterpart")&&(this.counterpart=q(e.counterpart.map(t=>l.parseItem(t.counterpartRenderer,Et))||[]))}};o(Fu,"PlaylistPanelVideoWrapper");Fu.type="PlaylistPanelVideoWrapper";var lh=Fu;var Lu=class extends r{constructor(e){var t,n,s,u,d,p;super(),this.title=e.title,this.title_text=new a(e.titleText),this.contents=l.parseArray(e.contents,[lh,Et,bo]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((s=(n=(t=e.continuations)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.nextRadioContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(d=(u=e.continuations)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};o(Lu,"PlaylistPanel");Lu.type="PlaylistPanel";var Ni=Lu;var Yu=class extends r{constructor(e){super(),this.content=l.parseItem(e.content,Ni)}};o(Yu,"MusicQueue");Yu.type="MusicQueue";var uh=Yu;var ju=class extends r{constructor(e){var t,n,s,u;super(),this.title=new a(e.title),this.contents=l.parseArray(e.contents,Ht),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new f(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((n=(t=e.continuations)===null||t===void 0?void 0:t[0].nextContinuationData)===null||n===void 0?void 0:n.continuation)||((u=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||u===void 0?void 0:u.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new a(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=l.parseItem(e.bottomButton,I)),Reflect.has(e,"subheaders")&&(this.subheaders=l.parseArray(e.subheaders))}};o(ju,"MusicShelf");ju.type="MusicShelf";var re=ju;var Uu=class extends r{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=l.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};o(Uu,"MusicSideAlignedItem");Uu.type="MusicSideAlignedItem";var dh=Uu;var Wu=class extends r{constructor(e){super(),this.title=new a(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=l.parseItem(e.menu,$f)}};o(Wu,"MusicSortFilterButton");Wu.type="MusicSortFilterButton";var Ju=Wu;var Hu=class extends r{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};o(Hu,"MusicTastebuilderShelfThumbnail");Hu.type="MusicTastebuilderShelfThumbnail";var ch=Hu;var $u=class extends r{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,ch),this.primary_text=new a(e.primaryText),this.secondary_text=new a(e.secondaryText),this.action_button=l.parseItem(e.actionButton,I),this.is_visible=e.isVisible}};o($u,"MusicTasteBuilderShelf");$u.type="MusicTasteBuilderShelf";var ph=$u;var Gu=class extends r{constructor(e){var t,n;super(),this.title=new a(e.title),this.thumbnail=e.thumbnail?y.fromResponse((t=e.thumbnail.musicThumbnailRenderer)===null||t===void 0?void 0:t.thumbnail):[],this.menu=l.parseItem(e.menu,V),this.foreground_thumbnail=e.foregroundThumbnail?y.fromResponse((n=e.foregroundThumbnail.musicThumbnailRenderer)===null||n===void 0?void 0:n.thumbnail):[]}};o(Gu,"MusicVisualHeader");Gu.type="MusicVisualHeader";var mh=Gu;var zu=class extends r{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.short_message=new a(e.shortMessage),this.sent_time=new a(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new f(e.navigationEndpoint),this.record_click_endpoint=new f(e.recordClickEndpoint),this.menu=l.parseItem(e.contextualMenu),this.read=e.read}};o(zu,"Notification");zu.type="Notification";var fh=zu;var Ku=class extends r{constructor(e){super(),this.image=l.parseItem(e.image,of),this.title=l.parseItem(e.title,df)}};o(Ku,"PageHeaderView");Ku.type="PageHeaderView";var hh=Ku;var qu=class extends r{constructor(e){super(),this.page_title=e.pageTitle,this.content=l.parseItem(e.content,hh)}};o(qu,"PageHeader");qu.type="PageHeader";var Bo=qu;var Xu=class extends r{constructor(e){super(),this.header_text=new a(e.headerText).toString(),this.body_text=new a(e.bodyText).toString(),this.page_title=new a(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};o(Xu,"PageIntroduction");Xu.type="PageIntroduction";var _h=Xu;var Qu=class extends r{constructor(e){super(),this.endpoint=new f(e.endpoint),this.enable_listen_first=e.enableListenFirst}};o(Qu,"PlayerOverflow");Qu.type="PlayerOverflow";var vh=Qu;var Zu=class extends r{constructor(e){super(),this.overflow=U.parseItem(e.overflow,vh)}};o(Zu,"PlayerControlsOverlay");Zu.type="PlayerControlsOverlay";var Xb=Zu;var ed=class extends r{constructor(e){super(),this.subreason=new a(e.subreason),this.reason=new a(e.reason),this.proceed_button=l.parseItem(e.proceedButton,I),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};o(ed,"PlayerErrorMessage");ed.type="PlayerErrorMessage";var Qb=ed;var td=class extends r{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};o(td,"PlayerLegacyDesktopYpcOffer");td.type="PlayerLegacyDesktopYpcOffer";var Zb=td;var id=class extends r{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};o(id,"YpcTrailer");id.type="YpcTrailer";var gh=id;var od=class extends r{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=U.parseItem(e.ypcTrailer,gh)}};o(od,"PlayerLegacyDesktopYpcTrailer");od.type="PlayerLegacyDesktopYpcTrailer";var nd=od;var rd=class extends r{constructor(e){var t;super(),this.title=new a(e.title),this.description=new a(e.description),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((t=e.liveBroadcastDetails)===null||t===void 0)&&t.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null}};o(rd,"PlayerMicroformat");rd.type="PlayerMicroformat";var it=rd;var sd=class extends r{constructor(e){super(),this.title=new a(e.title),this.video_id=e.videoId,this.video_title=new a(e.videoTitle),this.short_view_count=new a(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new a(e.publishedTimeText),this.background=y.fromResponse(e.background),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new P(e.byline),this.cancel_button=l.parseItem(e.cancelButton,I),this.next_button=l.parseItem(e.nextButton,I),this.close_button=l.parseItem(e.closeButton,I)}};o(sd,"PlayerOverlayAutoplay");sd.type="PlayerOverlayAutoplay";var yh=sd;var ad=class extends r{constructor(e){super(),this.results=l.parseArray(e.results,[mf,pf]),this.title=new a(e.title).toString()}};o(ad,"WatchNextEndScreen");ad.type="WatchNextEndScreen";var bh=ad;var ld=class extends r{constructor(e){super(),this.end_screen=l.parseItem(e.endScreen,bh),this.autoplay=l.parseItem(e.autoplay,yh),this.share_button=l.parseItem(e.shareButton,I),this.add_to_menu=l.parseItem(e.addToMenu,V),this.fullscreen_engagement=l.parseItem(e.fullscreenEngagement),this.actions=l.parseArray(e.actions),this.browser_media_session=l.parseItem(e.browserMediaSession),this.decorated_player_bar=l.parseItem(e.decoratedPlayerBarRenderer,lf)}};o(ld,"PlayerOverlay");ld.type="PlayerOverlay";var Gt=ld;var ud=class extends r{constructor(e){super(),this.id=e.playlistId,this.title=new a(e.title),this.subtitle=e.subtitle?new a(e.subtitle):null,this.stats=e.stats.map(t=>new a(t)),this.brief_stats=e.briefStats.map(t=>new a(t)),this.author=e.ownerText||e.ownerEndpoint?new P(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new a(e.descriptionText),this.num_videos=new a(e.numVideosText),this.view_count=new a(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=l.parseItem(e.saveButton),this.shuffle_play_button=l.parseItem(e.shufflePlayButton),this.menu=l.parseItem(e.moreActionsMenu),this.banner=l.parseItem(e.playlistHeaderBanner)}};o(ud,"PlaylistHeader");ud.type="PlaylistHeader";var xh=ud;var dd=class extends r{constructor(e){super(),this.title=new a(e.playlistTitle),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new a(e.playlistVideoCount),this.channel_name=new a(e.channelName),this.endpoint=new f(e.action)}};o(dd,"PlaylistInfoCardContent");dd.type="PlaylistInfoCardContent";var ex=dd;var cd=class extends r{constructor(e){super(),this.title=e.title,this.description=e.description||null}};o(cd,"PlaylistMetadata");cd.type="PlaylistMetadata";var wh=cd;var pd=class extends r{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(pd,"PlaylistSidebar");pd.type="PlaylistSidebar";var tx=pd;var md=class extends r{constructor(e){super(),this.stats=e.stats.map(t=>new a(t)),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.title=new a(e.title),this.menu=l.parseItem(e.menu),this.endpoint=new f(e.navigationEndpoint),this.description=new a(e.description)}};o(md,"PlaylistSidebarPrimaryInfo");md.type="PlaylistSidebarPrimaryInfo";var Th=md;var fd=class extends r{constructor(e){super(),this.owner=l.parseItem(e.videoOwner),this.button=l.parseItem(e.button)}};o(fd,"PlaylistSidebarSecondaryInfo");fd.type="PlaylistSidebarSecondaryInfo";var Ih=fd;var hd=class extends r{constructor(e){super(),this.id=e.videoId,this.index=new a(e.index),this.title=new a(e.title),this.author=new P(e.shortBylineText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new f(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=l.parseItem(e.menu,V),this.video_info=new a(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label;let t=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);t&&(this.upcoming=new Date(t)),this.duration={text:new a(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(bi))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(bi))===null||e===void 0?void 0:e.style)==="UPCOMING"}};o(hd,"PlaylistVideo");hd.type="PlaylistVideo";var Sh=hd;var _d=class extends r{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=l.parseArray(e.contents)}};o(_d,"PlaylistVideoList");_d.type="PlaylistVideoList";var ix=_d;var vd=class extends r{constructor(e){super(),this.choices=e.choices.map(t=>({text:new a(t.text),select_endpoint:t.selectServiceEndpoint?new f(t.selectServiceEndpoint):null,deselect_endpoint:t.deselectServiceEndpoint?new f(t.deselectServiceEndpoint):null,vote_ratio_if_selected:(t==null?void 0:t.voteRatioIfSelected)||null,vote_percentage_if_selected:new a(t.votePercentageIfSelected),vote_ratio_if_not_selected:(t==null?void 0:t.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new a(t.votePercentageIfSelected),image:t.image?y.fromResponse(t.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new a(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};o(vd,"Poll");vd.type="Poll";var ox=vd;var gd=class extends Wt{constructor(e){super(e)}};o(gd,"Post");gd.type="Post";var kh=gd;var yd=class extends r{constructor(e){super(),this.images=l.parseArray(e.images,Rm)}};o(yd,"PostMultiImage");yd.type="PostMultiImage";var nx=yd;var bd=class extends r{constructor(e){super(),this.title=new a(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};o(bd,"ProductListHeader");bd.type="ProductListHeader";var rx=bd;var xd=class extends r{constructor(e){super(),this.title=new a(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new f(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=l.parseItem(e.viewButton,I)}};o(xd,"ProductListItem");xd.type="ProductListItem";var sx=xd;var wd=class extends r{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(wd,"ProfileColumn");wd.type="ProfileColumn";var ax=wd;var Td=class extends r{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};o(Td,"ProfileColumnStats");Td.type="ProfileColumnStats";var Ch=Td;var Id=class extends r{constructor(e){super(),this.label=new a(e.label),this.value=new a(e.value)}};o(Id,"ProfileColumnStatsEntry");Id.type="ProfileColumnStatsEntry";var lx=Id;var Sd=class extends r{constructor(e){super(),this.title=new a(e.title),this.thumbnails=y.fromResponse(e.thumbnail)}};o(Sd,"ProfileColumnUserInfo");Sd.type="ProfileColumnUserInfo";var Rh=Sd;var kd=class extends r{constructor(e){super(),this.choices=e.choices.map(t=>({text:new a(t.text),is_correct:t.isCorrect})),this.total_votes=new a(e.totalVotes)}};o(kd,"Quiz");kd.type="Quiz";var ux=kd;var Cd=class extends r{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.avatars=e.avatars.map(t=>new y(t)),this.button=l.parseItem(e.button,I),this.surface=e.surface}};o(Cd,"RecognitionShelf");Cd.type="RecognitionShelf";var dx=Cd;var Rd=class extends r{constructor(e){super(),this.id=e.videoId,this.title=new a(e.headline),this.thumbnails=y.fromResponse(e.thumbnail),this.views=new a(e.viewCountText),this.endpoint=new f(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};o(Rd,"ReelItem");Rd.type="ReelItem";var Eh=Rd;var Ed=class extends r{constructor(e){super(),this.title=new a(e.title),this.items=l.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new f(e.endpoint))}get contents(){return this.items}};o(Ed,"ReelShelf");Ed.type="ReelShelf";var Ph=Ed;var Pd=class extends r{constructor(e){super(),this.content=l.parseItem(e.content)}};o(Pd,"RelatedChipCloud");Pd.type="RelatedChipCloud";var Mh=Pd;var Md=class extends r{constructor(e){super(),this.header=l.parseItem(e.header),this.contents=l.parseArray(e.contents)}};o(Md,"RichGrid");Md.type="RichGrid";var zt=Md;var Nd=class extends r{constructor(e){super(),this.content=l.parseItem(e.content)}};o(Nd,"RichItem");Nd.type="RichItem";var cx=Nd;var Vd=class extends r{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};o(Vd,"RichListHeader");Vd.type="RichListHeader";var px=Vd;var Ad=class extends r{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.call_to_action=new a(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new f(e.endpoint)}};o(Ad,"RichMetadata");Ad.type="RichMetadata";var Dd=Ad;var Od=class extends r{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Od,"RichMetadataRow");Od.type="RichMetadataRow";var Bd=Od;var Fd=class extends r{constructor(e){super(),this.content=l.parseItem(e.content)}};o(Fd,"RichSection");Fd.type="RichSection";var mx=Fd;var Ld=class extends r{constructor(e){super(),this.title=new a(e.title),this.contents=l.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new f(e.endpoint))}};o(Ld,"RichShelf");Ld.type="RichShelf";var Nh=Ld;var Yd=class extends r{constructor(e){super(),this.endpoint=new f(e.endpoint),this.search_button=l.parseItem(e.searchButton,I),this.clear_button=l.parseItem(e.clearButton,I),this.placeholder_text=new a(e.placeholderText)}};o(Yd,"SearchBox");Yd.type="SearchBox";var fx=Yd;var jd=class extends r{constructor(e){super(),this.label=new a(e.label),this.endpoint=new f(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};o(jd,"SearchFilter");jd.type="SearchFilter";var Vh=jd;var Ud=class extends r{constructor(e){super(),this.title=new a(e.title),this.filters=U.parseArray(e.filters,Vh)}};o(Ud,"SearchFilterGroup");Ud.type="SearchFilterGroup";var Fo=Ud;var Wd=class extends r{constructor(e){super(),this.title=new a(e.title),this.groups=U.parseArray(e.groups,Fo)}};o(Wd,"SearchFilterOptionsDialog");Wd.type="SearchFilterOptionsDialog";var hx=Wd;var Jd=class extends r{constructor(e){super(),this.chip_bar=U.parseItem(e.chipBar,We),this.search_filter_button=U.parseItem(e.searchFilterButton,I)}};o(Jd,"SearchHeader");Jd.type="SearchHeader";var Ah=Jd;var Hd=class extends r{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new a(e.title)),Reflect.has(e,"groups")&&(this.groups=l.parseArray(e.groups,Fo)),Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,he))}};o(Hd,"SearchSubMenu");Hd.type="SearchSubMenu";var Dh=Hd;var $d=class extends r{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o($d,"SearchSuggestionsSection");$d.type="SearchSuggestionsSection";var _x=$d;var Gd=class extends r{constructor(e){super(),this.contents=l.parseArray(e.contents)}};o(Gd,"SecondarySearchContainer");Gd.type="SecondarySearchContainer";var vx=Gd;var zd=class extends r{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,[he,I]),this.dislike_button=l.parseItem(e.dislikeButton,[he,I])}};o(zd,"SegmentedLikeDislikeButton");zd.type="SegmentedLikeDislikeButton";var Vi=zd;var Kd=class extends r{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new a(e.title)),Reflect.has(e,"summary")&&(this.summary=new a(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new f(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new f(e.disableServiceEndpoint)),this.item_id=e.itemId}};o(Kd,"SettingBoolean");Kd.type="SettingBoolean";var gx=Kd;var qd=class extends r{constructor(e){super(),this.title=new a(e.title),this.help_text=new a(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};o(qd,"SettingsCheckbox");qd.type="SettingsCheckbox";var Oh=qd;var Xd=class extends r{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new f(e.enableServiceEndpoint),this.disable_endpoint=new f(e.disableServiceEndpoint)}};o(Xd,"SettingsSwitch");Xd.type="SettingsSwitch";var Lo=Xd;var Qd=class extends r{constructor(e){super(),this.title=new a(e.title),Reflect.has(e,"text")&&(this.text=new a(e.text).toString()),Reflect.has(e,"options")&&(this.options=l.parseArray(e.options,[Lo,mo,nf,Oh,Fm]))}};o(Qd,"SettingsOptions");Qd.type="SettingsOptions";var Yo=Qd;var Zd=class extends r{constructor(e){super(),this.title=new a(e.title),this.items=l.parseArray(e.items,Eo)}get contents(){return this.items}};o(Zd,"SettingsSidebar");Zd.type="SettingsSidebar";var Bh=Zd;var ec=class extends r{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.content=new a(e.content),this.published=new a(e.publishedTimeText),this.menu=G(e.actionMenu,V),this.original_post=G(e.originalPost,Wt),this.id=e.postId,this.endpoint=new f(e.navigationEndpoint),this.expand_button=G(e.expandButton,I),this.author=new P(e.displayName,void 0)}};o(ec,"SharedPost");ec.type="SharedPost";var Fh=ec;var tc=class extends r{constructor(e){super(),this.title=new a(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new f(e.endpoint)),this.content=l.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=l.parseItem(e.playAllButton,I))}};o(tc,"Shelf");tc.type="Shelf";var jo=tc;var ic=class extends r{constructor(e){super(),this.corrected_query=new a(e.correctedQuery),this.original_query=new a(e.originalQuery),this.corrected_query_endpoint=new f(e.correctedQueryEndpoint),this.original_query_endpoint=new f(e.originalQueryEndpoint),this.search_instead_for=new a(e.searchInsteadFor),this.showing_results_for=new a(e.showingResultsFor)}};o(ic,"ShowingResultsFor");ic.type="ShowingResultsFor";var Lh=ic;var oc=class extends r{constructor(e){super(),this.image=y.fromResponse(e.image),this.title=new a(e.title),this.display_domain=new a(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new a(e.callToAction),this.endpoint=new f(e.command)}};o(oc,"SimpleCardContent");oc.type="SimpleCardContent";var yx=oc;var nc=class extends r{constructor(e){super(),this.message=new a(e.message),this.prominent=e.prominent}};o(nc,"SimpleCardTeaser");nc.type="SimpleCardTeaser";var bx=nc;var rc=class extends r{constructor(e){super(),this.lines=e.lines.map(t=>new a(t)),this.style=e.layoutStyle}};o(rc,"SimpleTextSection");rc.type="SimpleTextSection";var xx=rc;var sc=class extends r{constructor(e){super(),this.action_text=new a(e.actionText),this.nav_text=new a(e.navigationText),this.details=new a(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new f(e.navigationEndpoint)}};o(sc,"SingleActionEmergencySupport");sc.type="SingleActionEmergencySupport";var wx=sc;var ac=class extends r{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new f(e.endpoint),this.content=l.parseItem(e.content,[$,uh,zt])}};o(ac,"Tab");ac.type="Tab";var de=ac;var lc=class extends r{constructor(e){super(),this.tabs=l.parseArray(e.tabs,de)}};o(lc,"SingleColumnBrowseResults");lc.type="SingleColumnBrowseResults";var ft=lc;var uc=class extends r{constructor(e){super(),this.contents=l.parse(e)}};o(uc,"SingleColumnMusicWatchNextResults");uc.type="SingleColumnMusicWatchNextResults";var Tx=uc;var dc=class extends r{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.style=e.style}};o(dc,"SingleHeroImage");dc.type="SingleHeroImage";var Ix=dc;var cc=class extends r{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new a(e.title),this.endpoint=new f(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,Te)}};o(cc,"SlimOwner");cc.type="SlimOwner";var Sx=cc;var pc=class extends r{constructor(e){super(),this.title=new a(e.title),this.collapsed_subtitle=new a(e.collapsedSubtitle),this.expanded_subtitle=new a(e.expandedSubtitle),this.owner=l.parseItem(e.owner),this.description=new a(e.description),this.video_id=e.videoId,this.date=new a(e.dateText)}};o(pc,"SlimVideoMetadata");pc.type="SlimVideoMetadata";var Yh=pc;var mc=class extends r{constructor(e){super(),this.name=new a(e.name),this.is_selected=e.isSelected,this.endpoint=new f(e.navigationEndpoint)}};o(mc,"SubFeedOption");mc.type="SubFeedOption";var jh=mc;var fc=class extends r{constructor(e){super(),this.title=new a(e.title),this.options=l.parseArray(e.options,jh)}};o(fc,"SubFeedSelector");fc.type="SubFeedSelector";var kx=fc;var hc=class extends r{constructor(e){super(),this.contents=l.parse(e)}};o(hc,"Tabbed");hc.type="Tabbed";var Cx=hc;var _c=class extends r{constructor(e){super(),this.tabs=l.parseArray(e.tabs,de)}};o(_c,"TabbedSearchResults");_c.type="TabbedSearchResults";var Uh=_c;var vc=class extends r{constructor(e){super(),this.title=new a(e.title),this.style=e.style}};o(vc,"TextHeader");vc.type="TextHeader";var Rx=vc;var gc=class extends r{constructor(e){super(),this.landscape=y.fromResponse(e.landscape),this.portrait=y.fromResponse(e.portrait)}};o(gc,"ThumbnailLandscapePortrait");gc.type="ThumbnailLandscapePortrait";var Ex=gc;var yc=class extends r{constructor(e){super(),this.text=new a(e.text).toString()}};o(yc,"ThumbnailOverlayEndorsement");yc.type="ThumbnailOverlayEndorsement";var Px=yc;var bc=class extends r{constructor(e){super(),this.text=new a(e.text),this.icon_type=e.icon.iconType}};o(bc,"ThumbnailOverlayHoverText");bc.type="ThumbnailOverlayHoverText";var Mx=bc;var xc=class extends r{constructor(e){super(),this.text=new a(e.text).toString(),this.icon_type=e.icon.iconType}};o(xc,"ThumbnailOverlayInlineUnplayable");xc.type="ThumbnailOverlayInlineUnplayable";var Nx=xc;var wc=class extends r{constructor(e){super(),this.text=new a(e.text)}};o(wc,"ThumbnailOverlayLoadingPreview");wc.type="ThumbnailOverlayLoadingPreview";var Vx=wc;var Tc=class extends r{constructor(e){super(),this.text=new a(e.text).toString()}};o(Tc,"ThumbnailOverlayNowPlaying");Tc.type="ThumbnailOverlayNowPlaying";var Ax=Tc;var Ic=class extends r{constructor(e){super(),this.hack=e.hack}};o(Ic,"ThumbnailOverlayPinking");Ic.type="ThumbnailOverlayPinking";var Dx=Ic;var Sc=class extends r{constructor(e){super(),this.texts=e.texts.map(t=>new a(t))}};o(Sc,"ThumbnailOverlayPlaybackStatus");Sc.type="ThumbnailOverlayPlaybackStatus";var Ox=Sc;var kc=class extends r{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};o(kc,"ThumbnailOverlayResumePlayback");kc.type="ThumbnailOverlayResumePlayback";var Bx=kc;var Cc=class extends r{constructor(e){super(),this.text=new a(e.text),this.icon_type=e.icon.iconType}};o(Cc,"ThumbnailOverlaySidePanel");Cc.type="ThumbnailOverlaySidePanel";var Fx=Cc;var Rc=class extends r{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new f(e.toggledServiceEndpoint),this.untoggled_endpoint=new f(e.untoggledServiceEndpoint)}};o(Rc,"ThumbnailOverlayToggleButton");Rc.type="ThumbnailOverlayToggleButton";var Lx=Rc;var Ec=class extends r{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new a(e.label),this.icon=e.icon}};o(Ec,"TimedMarkerDecoration");Ec.type="TimedMarkerDecoration";var Yx=Ec;var Pc=class extends r{constructor(e){super(),this.title=new a(e.title)}};o(Pc,"TitleAndButtonListHeader");Pc.type="TitleAndButtonListHeader";var jx=Pc;var Mc=class extends r{constructor(e){super(),this.text=new a(e.defaultText),this.toggled_text=new a(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new f(e.defaultServiceEndpoint),this.toggled_endpoint=new f(e.toggledServiceEndpoint)}};o(Mc,"ToggleMenuServiceItem");Mc.type="ToggleMenuServiceItem";var Ux=Mc;var Nc=class extends r{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(t=>new f(t)),accept:new f(e.promoConfig.acceptCommand),dismiss:new f(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new a(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};o(Nc,"Tooltip");Nc.type="Tooltip";var Wx=Nc;var Vc=class extends r{constructor(e){var t;super(),this.title=new a(e.title),this.avatar=y.fromResponse((t=e.thumbnail)!==null&&t!==void 0?t:e.avatar),this.subtitle=new a(e.subtitle),this.subscribe_button=l.parseItem(e.subscribeButton,Te),this.endpoint=new f(e.navigationEndpoint)}};o(Vc,"TopicChannelDetails");Vc.type="TopicChannelDetails";var Jx=Vc;var Ac=class extends r{constructor(e){super(),this.tabs=l.parse(e.tabs),this.secondary_contents=l.parse(e.secondaryContents)}};o(Ac,"TwoColumnBrowseResults");Ac.type="TwoColumnBrowseResults";var ht=Ac;var Dc=class extends r{constructor(e){super(),this.primary_contents=l.parse(e.primaryContents),this.secondary_contents=l.parse(e.secondaryContents)}};o(Dc,"TwoColumnSearchResults");Dc.type="TwoColumnSearchResults";var Wh=Dc;var Jh,gv,Oc=class extends r{constructor(e){var t,n,s,u,d;super(),Jh.add(this),this.results=l.parseArray((t=e.results)===null||t===void 0?void 0:t.results.contents),this.secondary_results=l.parseArray((n=e.secondaryResults)===null||n===void 0?void 0:n.secondaryResults.results),this.conversation_bar=l.parseItem(e==null?void 0:e.conversationBar);let p=(s=e.playlist)===null||s===void 0?void 0:s.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((u=p.shortBylineText)===null||u===void 0)&&u.simpleText?new a(p.shortBylineText):new P(p.longBylineText),contents:l.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:l.parseItem(p.menu,V)});let m=(d=e.autoplay)===null||d===void 0?void 0:d.autoplay;m&&(this.autoplay={sets:m.sets.map(h=>c(this,Jh,"m",gv).call(this,h))},m.modifiedSets&&(this.autoplay.modified_sets=m.modifiedSets.map(h=>c(this,Jh,"m",gv).call(this,h))),m.countDownSecs&&(this.autoplay.count_down_secs=m.countDownSecs))}};o(Oc,"TwoColumnWatchNextResults");Jh=new WeakSet,gv=o(function(e){let t={autoplay_video:new f(e.autoplayVideo)};return e.nextButtonVideo&&(t.next_button_video=new f(e.nextButtonVideo)),t},"_TwoColumnWatchNextResults_parseAutoplaySet");Oc.type="TwoColumnWatchNextResults";var Uo=Oc;var Bc=class extends r{constructor(e){super(),this.header=l.parseItem(e.header),this.call_to_action=l.parseItem(e.callToAction),this.sections=l.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new a(e.collapsedLabel))}};o(Bc,"UniversalWatchCard");Bc.type="UniversalWatchCard";var Hh=Bc;var Fc=class extends r{constructor(e){super(),this.message_title=new a(e.dialogMessageTitle),this.message_text=new a(e.dialogMessageText),this.action_button=l.parseItem(e.actionButton,I),this.dismiss_button=l.parseItem(e.dismissButton,I),this.is_visible=e.isVisible}};o(Fc,"UpsellDialog");Fc.type="UpsellDialog";var Hx=Fc;var Lc=class extends r{constructor(e){super(),this.items=l.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new a(e.collapsedStateButtonText)}get contents(){return this.items}};o(Lc,"VerticalList");Lc.type="VerticalList";var $x=Lc;var Yc=class extends r{constructor(e){super(),this.items=l.parseArray(e.items),this.view_all_text=new a(e.viewAllText),this.view_all_endpoint=new f(e.viewAllEndpoint)}get contents(){return this.items}};o(Yc,"VerticalWatchCardList");Yc.type="VerticalWatchCardList";var Gx=Yc;var jc=class extends r{constructor(e){super(),this.title=new a(e.videoTitle),this.channel_name=new a(e.channelName),this.view_count=new a(e.viewCountText),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.duration=new a(e.lengthString),this.endpoint=new f(e.action)}};o(jc,"VideoInfoCardContent");jc.type="VideoInfoCardContent";var zx=jc;var Uc=class extends r{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new a(e.subscriberCountText),this.author=new P(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};o(Uc,"VideoOwner");Uc.type="VideoOwner";var Wo=Uc;var Wc=class extends r{constructor(e){var t,n,s,u;super(),this.title=new a(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new a(e.superTitleLink)),this.view_count=new a((n=(t=e.viewCount)===null||t===void 0?void 0:t.videoViewCountRenderer)===null||n===void 0?void 0:n.viewCount),this.short_view_count=new a((u=(s=e.viewCount)===null||s===void 0?void 0:s.videoViewCountRenderer)===null||u===void 0?void 0:u.shortViewCount),this.badges=l.parseArray(e.badges,Ae),this.published=new a(e.dateText),this.relative_date=new a(e.relativeDateText),this.menu=l.parseItem(e.videoActions,V)}};o(Wc,"VideoPrimaryInfo");Wc.type="VideoPrimaryInfo";var $h=Wc;var Jc=class extends r{constructor(e){super(),this.owner=l.parseItem(e.owner,Wo),this.description=new a(e.description),Reflect.has(e,"attributedDescription")&&(this.description=a.fromAttributed(e.attributedDescription)),this.subscribe_button=l.parseItem(e.subscribeButton,[Te,I]),this.metadata=l.parseItem(e.metadataRowContainer,Kf),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};o(Jc,"VideoSecondaryInfo");Jc.type="VideoSecondaryInfo";var Hc=Jc;var $c=class extends r{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.duration={text:new a(e.lengthText).toString(),seconds:be(e.lengthText.simpleText)},this.style=e.style}};o($c,"WatchCardCompactVideo");$c.type="WatchCardCompactVideo";var Gh=$c;var Gc=class extends r{constructor(e){var t;super(),this.endpoint=new f(e.navigationEndpoint),this.call_to_action_button=l.parseItem(e.callToActionButton),this.hero_image=l.parseItem(e.heroImage),this.label=((t=e.lengthText)===null||t===void 0?void 0:t.accessibility.accessibilityData.label)||""}};o(Gc,"WatchCardHeroVideo");Gc.type="WatchCardHeroVideo";var Kx=Gc;var zc=class extends r{constructor(e){super(),this.title=new a(e.title),this.title_endpoint=new f(e.titleNavigationEndpoint),this.subtitle=new a(e.subtitle),this.author=new P(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};o(zc,"WatchCardRichHeader");zc.type="WatchCardRichHeader";var qx=zc;var Kc=class extends r{constructor(e){super(),this.lists=l.parseArray(e.lists)}};o(Kc,"WatchCardSectionSequence");Kc.type="WatchCardSectionSequence";var Xx=Kc;var qc=class extends ht{constructor(e){super(e)}};o(qc,"WatchNextTabbedResults");qc.type="WatchNextTabbedResults";var zh=qc;var Xc=class extends r{constructor(e){var t,n;super(),this.title=e.title,this.content=l.parseItem(e.content,$),this.endpoint=new f(e.navigationEndpoint),this.category_assets={asset_key:(t=e.categoryAssets)===null||t===void 0?void 0:t.assetKey,background_color:(n=e.categoryAssets)===null||n===void 0?void 0:n.backgroundColor},this.category_type=e.categoryType}};o(Xc,"AnchoredSection");Xc.type="AnchoredSection";var Kh=Xc;var Qc,Zc=class extends r{constructor(e){super(),Qc.set(this,void 0),this.child_display_name=new a(e.childDisplayName),this.child_account_description=new a(e.childAccountDescription),this.avatar=y.fromResponse(e.avatar),this.block_button=l.parseItem(e.blockButton,[he]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return w(this,void 0,void 0,function*(){if(!c(this,Qc,"f"))throw new _("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new _("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new _("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(c(this,Qc,"f"),{parse:!1})})}setActions(e){T(this,Qc,e,"f")}};o(Zc,"KidsBlocklistPickerItem");Qc=new WeakMap;Zc.type="KidsBlocklistPickerItem";var qh=Zc;var ep=class extends r{constructor(e){super(),this.title=new a(e.title),this.child_rows=l.parse(e.childRows,!0,[qh]),this.done_button=l.parseItem(e.doneButton,[I]),this.successful_toast_action_message=new a(e.successfulToastActionMessage)}};o(ep,"KidsBlocklistPicker");ep.type="KidsBlocklistPicker";var Qx=ep;var tp=class extends r{constructor(e){var t,n;super(),this.title=new a(e.title),this.category_assets={asset_key:(t=e.categoryAssets)===null||t===void 0?void 0:t.assetKey,background_color:(n=e.categoryAssets)===null||n===void 0?void 0:n.backgroundColor},this.category_type=e.categoryType,this.endpoint=new f(e.endpoint)}};o(tp,"KidsCategoryTab");tp.type="KidsCategoryTab";var Jo=tp;var ip=class extends r{constructor(e){super(),this.category_tabs=l.parseArray(e.categoryTabs,Jo),this.privacy_button=l.parseItem(e.privacyButtonRenderer,I)}};o(ip,"KidsCategoriesHeader");ip.type="kidsCategoriesHeader";var Xh=ip;var op=class extends r{constructor(e){super(),this.anchors=l.parseArray(e.anchors,Kh)}};o(op,"KidsHomeScreen");op.type="kidsHomeScreen";var Qh=op;var Cv={};me(Cv,{camelToSnake:()=>Ai,createRuntimeClass:()=>o0,generateRuntimeClass:()=>sp,generateTypescriptClass:()=>Zh,inferType:()=>bv,introspect:()=>wv,isIgnoredKey:()=>i0,isMiscType:()=>t0,isRenderer:()=>xv,isRendererList:()=>e0,mergeKeyInfo:()=>kv,parse:()=>Sv,toParser:()=>Iv,toTypeDeclaration:()=>Tv});var Rw=new Set(["trackingParams","accessibility","accessibilityData"]),yv={};function Ai(i){return i.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}o(Ai,"camelToSnake");function bv(i,e){let t=!1;if(typeof e=="object"&&e!=null){if(t=xv(e))return yv[t]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[t],optional:!1};if(t=e0(e)){for(let[s,u]of Object.entries(t))yv[s]=u;return{type:"renderer_list",renderers:Object.keys(t),optional:!1}}if(t=t0(i,e))return t}let n=typeof e;return n==="object"?{type:"object",keys:Object.entries(e).map(([s,u])=>[s,bv(s,u)]),optional:!1}:{type:"primative",typeof:[n],optional:!1}}o(bv,"inferType");function e0(i){return Array.isArray(i)&&i.every(n=>xv(n))?Object.fromEntries(i.map(n=>{let s=Reflect.ownKeys(n)[0].toString();return[ap(s),n[s]]})):!1}o(e0,"isRendererList");function t0(i,e){if(typeof e=="object"&&e!==null){if(i.endsWith("Endpoint")||i.endsWith("Command")||i==="endpoint")return{type:"misc",endpoint:new f(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let t=new a(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:t.endpoint,text:t.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}o(t0,"isMiscType");function xv(i){if(!(typeof i=="object"))return!1;let t=Reflect.ownKeys(i);return t.length===1&&t[0].toString().includes("Renderer")?ap(t[0].toString()):!1}o(xv,"isRenderer");function Ew(i){if(typeof i!="object"||i===null)throw new _("Generator: Cannot introspect non-object",{classdata:i});return Reflect.ownKeys(i).filter(t=>!i0(t)).filter(t=>typeof t=="string").map(t=>{let n=Reflect.get(i,t),s=bv(t,n);return[t,s]})}o(Ew,"introspectKeysFirstPass");function Pw(i){var e;let n=i.filter(([,p])=>{var m;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((m=p.endpoint)===null||m===void 0?void 0:m.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,m])=>p.type!=="misc"||m.type!=="misc"||p.misc_type!=="Text"||m.misc_type!=="Text"?0:m.text.length-p.text.length),s=new Set,u=n[0],d;if(u){s.add(u[0]);let m=i.map(([x])=>x).filter(x=>x.endsWith("Badges")||x==="badges"),v=(e=m.filter(x=>x.startsWith("owner")||x.startsWith("author"))[0])!==null&&e!==void 0?e:m[0],g=i.find(([x])=>x===v),b=g?g[1].type==="renderer_list"&&Reflect.has(g[1].renderers,"MetadataBadge"):!1;b&&v&&s.add(v),d={type:"misc",misc_type:"Author",optional:!1,params:[u[0],b?v:void 0]}}return d&&i.push(["author",d]),i.filter(([p])=>!s.has(p))}o(Pw,"introspectKeysSecondPass");function Mw(i){let e=Ew(i);return Pw(e)}o(Mw,"introspect2");function wv(i){let e=Mw(i),t=new Map;for(let[,s]of e)if(s.type==="renderer"||s.type==="renderer_list")for(let u of s.renderers){let d=yv[u];d&&t.set(u,d)}let n=Array.from(t).filter(([s])=>!e_(s));return{key_info:e,unimplemented_dependencies:n}}o(wv,"introspect");function i0(i){return typeof i=="string"&&Rw.has(i)}o(i0,"isIgnoredKey");function o0(i,e,t){var n,s;t({error_type:"class_not_found",classname:i,key_info:e});let u=(n=o(class extends r{static set key_info(d){T(this,n,new Map(d),"f",s)}static get key_info(){return[...c(this,n,"f",s).entries()]}constructor(d){super();let{key_info:p,unimplemented_dependencies:m}=wv(d),{resolved_key_info:h,changed_keys:v}=kv(u.key_info,p);v.length>0&&(u.key_info=h,t({error_type:"class_changed",classname:i,key_info:u.key_info,changed_keys:v}));for(let[b,x]of m)sp(b,x,t);for(let[b,x]of p){let C=Ai(b);x.type==="misc"&&x.misc_type==="NavigationEndpoint"&&(C="endpoint"),Reflect.set(this,C,Sv(b,x,d))}}},"_a"),sg(n,"node"),n.type=i,s={value:new Map},n);return u.key_info=e,Object.defineProperty(u,"name",{value:i,writable:!1}),u}o(o0,"createRuntimeClass");function sp(i,e,t){let{key_info:n,unimplemented_dependencies:s}=wv(e),u=o0(i,n,t);Rv(i,u);for(let[d,p]of s)sp(d,p,t);return u}o(sp,"generateRuntimeClass");function Zh(i,e){let t=[],n=["super();"];for(let[s,u]of e){let d=Ai(s);u.type==="misc"&&u.misc_type==="NavigationEndpoint"&&(d="endpoint"),t.push(`${d}${u.optional?"?":""}: ${Tv(u)};`),n.push(`this.${d} = ${Iv(s,u)};`)}return`class ${i} extends YTNode {
  static type = '${i}';

  ${t.join(`
  `)}

  constructor(data: RawNode) {
    ${n.join(`
    `)}
  }
}
`}o(Zh,"generateTypescriptClass");function Tv(i,e=0){switch(i.type){case"renderer":return`${i.renderers.map(t=>`YTNodes.${t}`).join(" | ")} | null`;case"renderer_list":return`ObservedArray<${i.renderers.map(t=>`YTNodes.${t}`).join(" | ")}> | null`;case"object":return`{
${i.keys.map(([t,n])=>`${" ".repeat((e+2)*2)}${Ai(t)}${n.optional?"?":""}: ${Tv(n,e+1)}`).join(`,
`)}
${" ".repeat((e+1)*2)}}`;case"misc":switch(i.misc_type){case"Thumbnail":return"Thumbnail[]";default:return i.misc_type}case"primative":return i.typeof.join(" | ");case"unknown":return"/* TODO: determine correct type */ unknown"}}o(Tv,"toTypeDeclaration");function Iv(i,e,t=["data"],n=1){let s="undefined";switch(e.type){case"renderer":s=`Parser.parseItem(${t.join(".")}.${i}, [ ${e.renderers.map(u=>`YTNodes.${u}`).join(", ")} ])`;break;case"renderer_list":s=`Parser.parse(${t.join(".")}.${i}, true, [ ${e.renderers.map(u=>`YTNodes.${u}`).join(", ")} ])`;break;case"object":{let u=[...t,i];s=`{
${e.keys.map(([d,p])=>`${" ".repeat((n+2)*2)}${Ai(d)}: ${Iv(d,p,u,n+1)}`).join(`,
`)}
${" ".repeat((n+1)*2)}}`}break;case"misc":switch(e.misc_type){case"Thumbnail":s=`Thumbnail.fromResponse(${t.join(".")}.${i})`;break;case"Author":{let u=`new Author(${t.join(".")}.${e.params[0]}, ${e.params[1]?`${t.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${t.join(".")}, '${e.params[0]}') ? ${u} : undefined`:u}default:s=`new ${e.misc_type}(${t.join(".")}.${i})`;break}if(s==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":case"unknown":s=`${t.join(".")}.${i}`;break}return e.optional?`Reflect.has(${t.join(".")}, '${i}') ? ${s} : undefined`:s}o(Iv,"toParser");function Kt(i,e){let t=i;for(let n of e)t=t[n];return t}o(Kt,"accessDataFromKeyPath");function Zx(i,e){let t=i;for(let n of e)if(Reflect.has(t,n))t=t[n];else return!1;return!0}o(Zx,"hasDataFromKeyPath");function Sv(i,e,t,n=["data"]){let s=!e.optional||Zx({data:t},[...n,i]);switch(e.type){case"renderer":return s?G(Kt({data:t},[...n,i]),e.renderers.map(u=>rp(u))):void 0;case"renderer_list":return s?Ee(Kt({data:t},[...n,i]),!0,e.renderers.map(u=>rp(u))):void 0;case"object":{let u={},d=[...n,i];for(let[p,m]of e.keys)u[p]=s?Sv(p,m,t,d):void 0;return u}case"misc":switch(e.misc_type){case"NavigationEndpoint":return s?new f(Kt({data:t},[...n,i])):void 0;case"Text":return s?new a(Kt({data:t},[...n,i])):void 0;case"Thumbnail":return s?y.fromResponse(Kt({data:t},[...n,i])):void 0;case"Author":return!e.optional||Zx({data:t},[...n,e.params[0]])?new P(Kt({data:t},[...n,e.params[0]]),e.params[1]?Kt({data:t},[...n,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":case"unknown":return Kt({data:t},[...n,i])}}o(Sv,"parse");function kv(i,e){let t=new Map,n=new Set(i.map(([b])=>b)),s=new Set(e.map(([b])=>b)),u=e.filter(([b])=>!n.has(b)),d=i.filter(([b])=>!s.has(b)),p=i.filter(([b])=>s.has(b)),m=new Map(e);for(let[b,x]of p){let C=m.get(b);if(!!C){if(x.type!==C.type){t.set(b,{type:"unknown",optional:!0});continue}switch(x.type){case"object":{if(C.type!=="object")continue;let{resolved_key_info:E}=kv(x.keys,C.keys),D={type:"object",keys:E,optional:x.optional||C.optional};JSON.stringify(D)!==JSON.stringify(x)&&t.set(b,D)}break;case"renderer":{if(C.type!=="renderer")continue;let E=Object.assign(Object.assign({},x.renderers),C.renderers),D=x.optional||C.optional,M={type:"renderer",renderers:E,optional:D};JSON.stringify(Object.assign(Object.assign({},M),{renderers:Object.keys(M.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},x),{renderers:Object.keys(x.renderers)}))&&t.set(b,M)}break;case"renderer_list":{if(C.type!=="renderer_list")continue;let E=Object.assign(Object.assign({},x.renderers),C.renderers),D=x.optional||C.optional,M={type:"renderer_list",renderers:E,optional:D};JSON.stringify(Object.assign(Object.assign({},M),{renderers:Object.keys(M.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},x),{renderers:Object.keys(x.renderers)}))&&t.set(b,M)}break;case"misc":{if(C.type!=="misc")continue;switch(x.misc_type!==C.misc_type&&t.set(b,{type:"unknown",optional:!0}),x.misc_type){case"Author":{if(C.misc_type!=="Author")break;let E=x.params[1]||C.params[1],D=x.optional||C.optional,M={type:"misc",misc_type:"Author",optional:D,params:[C.params[0],E]};JSON.stringify(M)!==JSON.stringify(x)&&t.set(b,M)}break}}break;case"primative":{if(C.type!=="primative")continue;let E={type:"primative",typeof:Array.from(new Set([...C.typeof,...x.typeof])),optional:x.optional||C.optional};JSON.stringify(E)!==JSON.stringify(x)&&t.set(b,E)}break}}}for(let[b,x]of u)t.set(b,Object.assign(Object.assign({},x),{optional:!0}));for(let[b,x]of d)t.set(b,Object.assign(Object.assign({},x),{optional:!0}));let h=i.filter(([b])=>!t.has(b));return{resolved_key_info:[...new Map([...h,...t]).entries()],changed_keys:[...t.entries()]}}o(kv,"mergeKeyInfo");var qt=class extends r{constructor(e){var t,n,s;super(),this.contents=Ie(e.contents),Array.isArray(e.continuations)&&(this.continuation=(s=(n=(t=e.continuations)===null||t===void 0?void 0:t.at(0))===null||n===void 0?void 0:n.nextContinuationData)===null||s===void 0?void 0:s.continuation)}};o(qt,"ItemSectionContinuation");qt.type="itemSectionContinuation";var Xt=class extends r{constructor(e){super(),this.endpoint=new f(e.endpoint)}};o(Xt,"NavigateAction");Xt.type="navigateAction";var Ho=class extends r{constructor(e){super(),this.miniplayer_command=new f(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};o(Ho,"ShowMiniplayerCommand");Ho.type="showMiniplayerCommand";var Qt=class extends r{constructor(e){super(),this.target_id=e.targetId,this.contents=Ee(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};o(Qt,"ReloadContinuationItemsCommand");Qt.type="reloadContinuationItemsCommand";var Oe=class extends r{constructor(e){var t,n,s,u,d,p;super(),this.contents=Ee(e.contents,!0),this.continuation=((s=(n=(t=e.continuations)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(d=(u=e.continuations)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};o(Oe,"SectionListContinuation");Oe.type="sectionListContinuation";var Zt=class extends r{constructor(e){var t;super(),this.contents=Ee(e.contents,!0),this.continuation=((t=e.continuations)===null||t===void 0?void 0:t[0].nextContinuationData.continuation)||null}};o(Zt,"MusicPlaylistShelfContinuation");Zt.type="musicPlaylistShelfContinuation";var _t=class extends r{constructor(e){var t,n,s,u;super(),this.contents=Ie(e.contents),this.continuation=((n=(t=e.continuations)===null||t===void 0?void 0:t[0].nextContinuationData)===null||n===void 0?void 0:n.continuation)||((u=(s=e.continuations)===null||s===void 0?void 0:s[0].reloadContinuationData)===null||u===void 0?void 0:u.continuation)||null}};o(_t,"MusicShelfContinuation");_t.type="musicShelfContinuation";var ei=class extends r{constructor(e){var t;super(),this.items=Ee(e.items,!0),this.continuation=((t=e.continuations)===null||t===void 0?void 0:t[0].nextContinuationData.continuation)||null}get contents(){return this.items}};o(ei,"GridContinuation");ei.type="gridContinuation";var $o=class extends r{constructor(e){var t,n,s,u,d,p;super(),this.contents=Ie(e.contents),this.continuation=((s=(n=(t=e.continuations)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.nextContinuationData)===null||s===void 0?void 0:s.continuation)||((p=(d=(u=e.continuations)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};o($o,"PlaylistPanelContinuation");$o.type="playlistPanelContinuation";var Di=class extends r{constructor(e){var t,n,s;super(),this.continuation_type=e.type,this.timeout_ms=(t=e.continuation)===null||t===void 0?void 0:t.timeoutMs,this.time_until_last_message_ms=(n=e.continuation)===null||n===void 0?void 0:n.timeUntilLastMessageMsec,this.token=(s=e.continuation)===null||s===void 0?void 0:s.continuation}};o(Di,"Continuation");Di.type="continuation";var ti=class extends r{constructor(e){var t,n,s,u,d,p,m,h;super(),this.actions=Ee((t=e.actions)===null||t===void 0?void 0:t.map(b=>(delete b.clickTrackingParams,b)),!0)||q([]),this.action_panel=G(e.actionPanel),this.item_list=G(e.itemList,jf),this.header=G(e.header,Yf),this.participants_list=G(e.participantsList,Wf),this.popout_message=G(e.popoutMessage,De),this.emojis=((n=e.emojis)===null||n===void 0?void 0:n.map(b=>({emoji_id:b.emojiId,shortcuts:b.shortcuts,search_terms:b.searchTerms,image:y.fromResponse(b.image),is_custom_emoji:b.isCustomEmoji})))||[];let v,g;!((s=e.continuations)===null||s===void 0)&&s[0].timedContinuationData?(g="timed",v=(u=e.continuations)===null||u===void 0?void 0:u[0].timedContinuationData):!((d=e.continuations)===null||d===void 0)&&d[0].invalidationContinuationData?(g="invalidation",v=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((m=e.continuations)===null||m===void 0)&&m[0].liveChatReplayContinuationData&&(g="replay",v=(h=e.continuations)===null||h===void 0?void 0:h[0].liveChatReplayContinuationData),this.continuation=new Di({continuation:v,type:g}),this.viewer_name=e.viewerName}};o(ti,"LiveChatContinuation");ti.type="liveChatContinuation";var Nw=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),Pv=new Map(Object.entries(np)),n0=new Map,Bi=null,Oi=o(i=>{var{classname:e}=i,t=rg(i,["classname"]);switch(t.error_type){case"parse":t.error instanceof Error&&console.warn(new _(`Something went wrong at ${e}!
This is a bug, please report it at ${A.shim.info.bugs_url}`,{stack:t.error.stack}));break;case"typecheck":console.warn(new ze(`Type mismatch, got ${e} expected ${Array.isArray(t.expected)?t.expected.join(" | "):t.expected}.`,t.classdata));break;case"mutation_data_missing":console.warn(new _(`Mutation data required for processing MusicMultiSelectMenuItems, but none found.
This is a bug, please report it at ${A.shim.info.bugs_url}`));break;case"mutation_data_invalid":console.warn(new _(`Mutation data missing or invalid for ${t.failed} out of ${t.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${t.titles.join(", ")}.
This is a bug, please report it at ${A.shim.info.bugs_url}`));break;case"class_not_found":console.warn(new _(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${A.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${A.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${Zh(e,t.key_info)}`));break;case"class_changed":console.warn(`${e} changed!
The following keys where altered: ${t.changed_keys.map(([n])=>Ai(n)).join(", ")}
The class has changed to:
${Zh(e,t.key_info)}`);break;default:console.warn("Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function Vw(i){Oi=i}o(Vw,"setParserErrorHandler");function vt(){Bi=null}o(vt,"_clearMemo");function gt(){Bi=new Bt}o(gt,"_createMemo");function Aw(i,e){if(!Bi)return;let t=Bi.get(i);if(!t)return Bi.set(i,[e]);t.push(e)}o(Aw,"_addToMemo");function yt(){if(!Bi)throw new Error("Parser#getMemo() called before Parser#createMemo()");return Bi}o(yt,"_getMemo");function r0(i){return Nw.has(i)}o(r0,"shouldIgnore");function ap(i){return(i.charAt(0).toUpperCase()+i.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}o(ap,"sanitizeClassName");function rp(i){let e=Pv.get(i);if(!e){let t=new Error(`Module not found: ${i}`);throw t.code="MODULE_NOT_FOUND",t}return e}o(rp,"getParserByName");function e_(i){return Pv.has(i)}o(e_,"hasParser");function Rv(i,e){Pv.set(i,e),n0.set(i,e)}o(Rv,"addRuntimeParser");function Dw(){return Object.fromEntries(n0)}o(Dw,"getDynamicParsers");function Ow(i){var e,t;let n={};gt();let s=Ee(i.contents),u=yt();s&&(n.contents=s,n.contents_memo=u),vt(),gt();let d=i.onResponseReceivedActions?t_(i.onResponseReceivedActions):null,p=yt();d&&(n.on_response_received_actions=d,n.on_response_received_actions_memo=p),vt(),gt();let m=i.onResponseReceivedEndpoints?t_(i.onResponseReceivedEndpoints):null,h=yt();m&&(n.on_response_received_endpoints=m,n.on_response_received_endpoints_memo=h),vt(),gt();let v=i.onResponseReceivedCommands?t_(i.onResponseReceivedCommands):null,g=yt();v&&(n.on_response_received_commands=v,n.on_response_received_commands_memo=g),vt(),gt();let b=i.continuationContents?a0(i.continuationContents):null,x=yt();b&&(n.continuation_contents=b,n.continuation_contents_memo=x),vt(),gt();let C=i.actions?l0(i.actions):null,E=yt();C&&(n.actions=C,n.actions_memo=E),vt(),gt();let D=i.liveChatItemContextMenuSupportedRenderers?G(i.liveChatItemContextMenuSupportedRenderers):null,M=yt();D&&(n.live_chat_item_context_menu_supported_renderers=D,n.live_chat_item_context_menu_supported_renderers_memo=M),vt(),gt();let W=i.header?Ee(i.header):null,Y=yt();W&&(n.header=W,n.header_memo=Y),vt(),gt();let te=i.sidebar?G(i.sidebar):null,ne=yt();te&&(n.sidebar=te,n.sidebar_memo=ne),vt(),gt();let ae=Ee(i.items);ae&&(n.items=ae,n.items_memo=yt()),vt(),u0(u,(t=(e=i.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||t===void 0?void 0:t.mutations);let le=i.continuation?s0(i.continuation):null;le&&(n.continuation=le);let ce=Ee(i.metadata);ce&&(n.metadata=ce);let j=G(i.microformat);j&&(n.microformat=j);let O=G(i.overlay);O&&(n.overlay=O);let J=Ie(i.alerts,[fo,zp]);J.length&&(n.alerts=J);let H=i.refinements;H&&(n.refinements=H);let pe=i.estimatedResults?parseInt(i.estimatedResults):null;pe&&(n.estimated_results=pe);let Ye=Ee(i.playerOverlays);Ye&&(n.player_overlays=Ye);let je=i.playbackTracking?{videostats_watchtime_url:i.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:i.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;je&&(n.playback_tracking=je);let Ue=i.playabilityStatus?{status:i.playabilityStatus.status,reason:i.playabilityStatus.reason||"",embeddable:!!i.playabilityStatus.playableInEmbed||!1,audio_only_playablility:G(i.playabilityStatus.audioOnlyPlayability,Fp),error_screen:G(i.playabilityStatus.errorScreen)}:null;if(Ue&&(n.playability_status=Ue),i.streamingData){let Ge=new Map,Tn={expires:new Date(Date.now()+parseInt(i.streamingData.expiresInSeconds)*1e3),formats:Ev(i.streamingData.formats,Ge),adaptive_formats:Ev(i.streamingData.adaptiveFormats,Ge),dash_manifest_url:i.streamingData.dashManifestUrl||null,hls_manifest_url:i.streamingData.hlsManifestUrl||null};n.streaming_data=Tn}let Se=i.currentVideoEndpoint?new f(i.currentVideoEndpoint):null;Se&&(n.current_video_endpoint=Se);let Me=i.endpoint?new f(i.endpoint):null;Me&&(n.endpoint=Me);let Ne=G(i.captions,$p);Ne&&(n.captions=Ne);let ee=i.videoDetails?new Ut(i.videoDetails):null;ee&&(n.video_details=ee);let ve=Ie(i.annotations,Hp);ve.length&&(n.annotations=ve);let rt=G(i.storyboards,[gi,Gp]);rt&&(n.storyboards=rt);let st=G(i.endscreen,Jp);st&&(n.endscreen=st);let at=G(i.cards,Wp);at&&(n.cards=at);let lt=Ie(i.engagementPanels,pm);return lt.length&&(n.engagement_panels=lt),n}o(Ow,"parseResponse");function G(i,e){if(!i)return null;let t=Object.keys(i);if(!t.length)return null;let n=ap(t[0]);if(!r0(n))try{let u=e_(n)?rp(n):sp(n,i[t[0]],Oi);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===u.type))return Oi({classdata:i[t[0]],classname:n,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(u.type!==e.type)return Oi({classdata:i[t[0]],classname:n,error_type:"typecheck",expected:e.type}),null}let d=new u(i[t[0]]);return Aw(n,d),d}catch(s){return Oi({classname:n,classdata:i[t[0]],error:s,error_type:"parse"}),null}return null}o(G,"parseItem");function Ie(i,e){if(Array.isArray(i)){let t=[];for(let n of i){let s=G(n,e);s&&t.push(s)}return q(t)}else if(!i)return q([]);throw new ze("Expected array but got a single item")}o(Ie,"parseArray");function Ee(i,e,t){if(!i)return null;if(Array.isArray(i)){let n=[];for(let u of i){let d=G(u,t);d&&n.push(d)}let s=q(n);return e?s:new dt(s)}else if(e)throw new ze("Expected array but got a single item");return new dt(G(i,t))}o(Ee,"parse");function s0(i){return i.timedContinuationData?new Di({continuation:i.timedContinuationData,type:"timed"}):null}o(s0,"parseC");function a0(i){return i.itemSectionContinuation?new qt(i.itemSectionContinuation):i.sectionListContinuation?new Oe(i.sectionListContinuation):i.liveChatContinuation?new ti(i.liveChatContinuation):i.musicPlaylistShelfContinuation?new Zt(i.musicPlaylistShelfContinuation):i.musicShelfContinuation?new _t(i.musicShelfContinuation):i.gridContinuation?new ei(i.gridContinuation):i.playlistPanelContinuation?new $o(i.playlistPanelContinuation):null}o(a0,"parseLC");function t_(i){return q(i.map(e=>{if(e.navigateAction)return new Xt(e.navigateAction);if(e.showMiniplayerCommand)return new Ho(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new Qt(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new wi(e.appendContinuationItemsAction)}).filter(e=>e))}o(t_,"parseRR");function l0(i){return Array.isArray(i)?Ee(i.map(e=>(delete e.clickTrackingParams,e))):new dt(G(i))}o(l0,"parseActions");function Ev(i,e){return(i==null?void 0:i.map(t=>new hm(t,e)))||[]}o(Ev,"parseFormats");function u0(i,e){let t=i.getType(Qe);if(t.length>0&&!e)Oi({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let n=[];for(let s of t){let u=e.find(p=>{var m,h;return((h=(m=p.payload)===null||m===void 0?void 0:m.musicFormBooleanChoice)===null||h===void 0?void 0:h.id)===s.form_item_entity_key}),d=u==null?void 0:u.payload.musicFormBooleanChoice;(d==null?void 0:d.selected)!==void 0&&(d==null?void 0:d.opaqueToken)?s.selected=d.selected:n.push(`'${s.title}'`)}n.length>0&&Oi({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:t.length,failed:n.length,titles:n})}}o(u0,"applyMutations");var Uv={};me(Uv,{AccountInfo:()=>d0,Analytics:()=>c0,Channel:()=>_e,ChannelListContinuation:()=>Ui,Comments:()=>s_,FilteredChannelList:()=>ni,Guide:()=>l_,HashtagFeed:()=>ri,History:()=>u_,HomeFeed:()=>Pt,ItemMenu:()=>m_,Library:()=>f0,LiveChat:()=>I_,NotificationsMenu:()=>_0,Playlist:()=>h_,Search:()=>S_,Settings:()=>v0,SmoothedQueue:()=>b_,TimeWatched:()=>g0,VideoInfo:()=>Tp});var Go,i_=class{constructor(e){if(Go.set(this,void 0),T(this,Go,l.parseResponse(e.data),"f"),!c(this,Go,"f").contents)throw new _("Page contents not found");let t=c(this,Go,"f").contents.array().as(ym).first();if(!t)throw new _("Account section list not found");this.contents=t.contents,this.footers=t.footers}get page(){return c(this,Go,"f")}};o(i_,"AccountInfo");Go=new WeakMap;var d0=i_;var lp,o_=class{constructor(e){var t;lp.set(this,void 0),T(this,lp,l.parseResponse(e.data),"f"),this.sections=(t=c(this,lp,"f").contents_memo)===null||t===void 0?void 0:t.getType(No).map(n=>n.model).flatMap(n=>n||[])}get page(){return c(this,lp,"f")}};o(o_,"Analytics");lp=new WeakMap;var c0=o_;var Mv,Be,Fi,up,Fe,p0,ii=class{constructor(e,t,n=!1){Mv.add(this),Be.set(this,void 0),Fi.set(this,void 0),up.set(this,void 0),Fe.set(this,void 0),c(this,Mv,"m",p0).call(this,t)||n?T(this,Be,t,"f"):T(this,Be,l.parseResponse(t.data),"f");let s=Nv(c(this,Be,"f").contents_memo,c(this,Be,"f").continuation_contents_memo,c(this,Be,"f").on_response_received_commands_memo,c(this,Be,"f").on_response_received_endpoints_memo,c(this,Be,"f").on_response_received_actions_memo,c(this,Be,"f").sidebar_memo,c(this,Be,"f").header_memo);if(!s)throw new _("No memo found in feed");T(this,Fe,s,"f"),T(this,up,e,"f")}static getVideosFromMemo(e){return e.getType(_o,yf,Eh,vo,Sh,Et,Gh)}static getPlaylistsFromMemo(e){return e.getType(ct,_f)}get videos(){return ii.getVideosFromMemo(c(this,Fe,"f"))}get posts(){return c(this,Fe,"f").getType(Wt,kh,Fh)}get channels(){return c(this,Fe,"f").getType(Dm,hf)}get playlists(){return ii.getPlaylistsFromMemo(c(this,Fe,"f"))}get memo(){return c(this,Fe,"f")}get page_contents(){var e;let t=(e=c(this,Fe,"f").getType(de))===null||e===void 0?void 0:e.first().content,n=c(this,Fe,"f").getType(Qt).first(),s=c(this,Fe,"f").getType(wi).first();return t||n||s}get shelves(){return c(this,Fe,"f").getType(jo,Nh,Ph)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,t;if(!(!((e=c(this,Be,"f").contents)===null||e===void 0)&&e.is_node))return;let n=(t=c(this,Be,"f").contents)===null||t===void 0?void 0:t.item();if(!!n.is(ht,Wh))return n.secondary_contents}get actions(){return c(this,up,"f")}get page(){return c(this,Be,"f")}get has_continuation(){return(c(this,Fe,"f").get("ContinuationItem")||[]).length>0}getContinuationData(){return w(this,void 0,void 0,function*(){if(c(this,Fi,"f")){if(c(this,Fi,"f").length===0)throw new _("There are no continuations.");return yield c(this,Fi,"f")[0].endpoint.call(c(this,up,"f"),{parse:!0})}if(T(this,Fi,c(this,Fe,"f").getType(ue),"f"),c(this,Fi,"f"))return this.getContinuationData()})}getContinuation(){return w(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new _("Could not get continuation data");return new ii(this.actions,e,!0)})}};o(ii,"Feed");Be=new WeakMap,Fi=new WeakMap,up=new WeakMap,Fe=new WeakMap,Mv=new WeakSet,p0=o(function(e){return!("data"in e)},"_Feed_isParsed");var se=ii;var Li,Yi,ji=class extends se{constructor(e,t,n=!1){var s;super(e,t,n),Li.set(this,void 0),Yi.set(this,void 0),T(this,Yi,e,"f"),T(this,Li,(s=this.page.contents_memo)===null||s===void 0?void 0:s.getType(de),"f")}get tabs(){var e,t;return(t=(e=c(this,Li,"f"))===null||e===void 0?void 0:e.map(n=>n.title.toString()))!==null&&t!==void 0?t:[]}getTabByName(e){var t;return w(this,void 0,void 0,function*(){let n=(t=c(this,Li,"f"))===null||t===void 0?void 0:t.find(u=>u.title.toLowerCase()===e.toLowerCase());if(!n)throw new _(`Tab "${e}" not found`);if(n.selected)return this;let s=yield n.endpoint.call(c(this,Yi,"f"));return new ji(c(this,Yi,"f"),s,!1)})}getTabByURL(e){var t;return w(this,void 0,void 0,function*(){let n=(t=c(this,Li,"f"))===null||t===void 0?void 0:t.find(u=>{var d;return((d=u.endpoint.metadata.url)===null||d===void 0?void 0:d.split("/").pop())===e});if(!n)throw new _(`Tab "${e}" not found`);if(n.selected)return this;let s=yield n.endpoint.call(c(this,Yi,"f"));return new ji(c(this,Yi,"f"),s,!1)})}hasTabWithURL(e){var t,n;return(n=(t=c(this,Li,"f"))===null||t===void 0?void 0:t.some(s=>{var u;return((u=s.endpoint.metadata.url)===null||u===void 0?void 0:u.split("/").pop())===e}))!==null&&n!==void 0?n:!1}get title(){var e,t,n;return(n=(t=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(de))===null||t===void 0?void 0:t.find(s=>s.selected))===null||n===void 0?void 0:n.title.toString()}};o(ji,"TabbedFeed");Li=new WeakMap,Yi=new WeakMap;var n_=ji;var zo,r_=class extends se{constructor(e,t,n=!1){super(e,t,n),zo.set(this,void 0)}get filter_chips(){var e,t;if(c(this,zo,"f"))return c(this,zo,"f")||[];if(((e=this.memo.getType(Rt))===null||e===void 0?void 0:e.length)>1)throw new _("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((t=this.memo.getType(Rt))===null||t===void 0?void 0:t.length)===0)throw new _("There are no feed filter chipbars");return T(this,zo,this.memo.getType(ie),"f"),c(this,zo,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){var t;return w(this,void 0,void 0,function*(){let n;if(typeof e=="string"){if(!this.filters.includes(e))throw new _("Filter not found",{available_filters:this.filters});n=this.filter_chips.find(u=>u.text.toString()===e)}else if(e.type==="ChipCloudChip")n=e;else throw new _("Invalid filter");if(!n)throw new _("Filter not found");if(n.is_selected)return this;let s=yield(t=n.endpoint)===null||t===void 0?void 0:t.call(this.actions,{parse:!0});if(!s)throw new _("Failed to get filtered feed");return new se(this.actions,s,!0)})}};o(r_,"FilterableFeed");zo=new WeakMap;var oi=r_;var _e=class extends n_{constructor(e,t,n=!1){var s,u,d,p,m,h;super(e,t,n),this.header=(u=(s=this.page.header)===null||s===void 0?void 0:s.item())===null||u===void 0?void 0:u.as(To,Am,Sf,Bo);let v=(d=this.page.metadata)===null||d===void 0?void 0:d.item().as(Bm),g=(p=this.page.microformat)===null||p===void 0?void 0:p.as(pt);if(this.page.alerts){let b=this.page.alerts.first();if((b==null?void 0:b.alert_type)==="ERROR")throw new Ko(b.text.toString())}if(!v&&!this.page.contents)throw new _("Invalid channel",this);this.metadata=Object.assign(Object.assign({},v),g||{}),this.subscribe_button=(m=this.page.header_memo)===null||m===void 0?void 0:m.getType(Te).first(),this.current_tab=(h=this.page.contents)===null||h===void 0?void 0:h.item().as(ht).tabs.array().filterType(de,Vo).get({selected:!0})}applyFilter(e){var t;return w(this,void 0,void 0,function*(){let n,s=this.memo.getType(Rt).first();if(typeof e=="string"){if(n=s==null?void 0:s.contents.get({text:e}),!n)throw new _(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof ie&&(n=e);if(!n)throw new _("Invalid filter",e);let u=yield(t=n.endpoint)===null||t===void 0?void 0:t.call(this.actions,{parse:!0});if(!u)throw new _("No page returned",{filter:n});return new ni(this.actions,u,!0)})}applySort(e){var t,n;return w(this,void 0,void 0,function*(){let s=this.memo.getType(Ze).first();if(!s)throw new _("No sort filter sub menu found");let u=(t=s==null?void 0:s.sub_menu_items)===null||t===void 0?void 0:t.find(p=>p.title===e);if(!u)throw new _(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(u.selected)return this;let d=yield(n=u.endpoint)===null||n===void 0?void 0:n.call(this.actions,{parse:!0});return new _e(this.actions,d,!0)})}applyContentTypeFilter(e){var t,n,s,u;return w(this,void 0,void 0,function*(){let d=(s=(n=(t=this.current_tab)===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.as($).sub_menu)===null||s===void 0?void 0:s.as(fs);if(!d)throw new _("Sub menu not found");let p=d.content_type_sub_menu_items.find(h=>h.title===e);if(!p)throw new _(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let m=yield(u=p.endpoint)===null||u===void 0?void 0:u.call(this.actions,{parse:!0});return new _e(this.actions,m,!0)})}get filters(){var e,t;return((t=(e=this.memo.getType(Rt))===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.contents.filterType(ie).map(n=>n.text))||[]}get sort_filters(){var e;let t=this.memo.getType(Ze).first();return((e=t==null?void 0:t.sub_menu_items)===null||e===void 0?void 0:e.map(n=>n.title))||[]}get content_type_filters(){var e,t,n;let s=(n=(t=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||t===void 0?void 0:t.as($).sub_menu)===null||n===void 0?void 0:n.as(fs);return(s==null?void 0:s.content_type_sub_menu_items.map(u=>u.title))||[]}getHome(){return w(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new _e(this.actions,e.page,!0)})}getVideos(){return w(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new _e(this.actions,e.page,!0)})}getShorts(){return w(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new _e(this.actions,e.page,!0)})}getLiveStreams(){return w(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new _e(this.actions,e.page,!0)})}getReleases(){return w(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new _e(this.actions,e.page,!0)})}getPodcasts(){return w(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new _e(this.actions,e.page,!0)})}getPlaylists(){return w(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new _e(this.actions,e.page,!0)})}getCommunity(){return w(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new _e(this.actions,e.page,!0)})}getChannels(){return w(this,void 0,void 0,function*(){let e=yield this.getTabByURL("channels");return new _e(this.actions,e.page,!0)})}getAbout(){var e;return w(this,void 0,void 0,function*(){return(e=(yield this.getTabByURL("about")).memo.getType(Om))===null||e===void 0?void 0:e[0]})}search(e){var t,n;return w(this,void 0,void 0,function*(){let s=(t=this.memo.getType(Vo))===null||t===void 0?void 0:t[0];if(!s)throw new _("Search tab not found",this);let u=yield(n=s.endpoint)===null||n===void 0?void 0:n.call(this.actions,{query:e,parse:!0});return new _e(this.actions,u,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_channels(){return this.hasTabWithURL("channels")}get has_about(){return this.hasTabWithURL("about")}get has_search(){var e;return((e=this.memo.getType(Vo))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return w(this,void 0,void 0,function*(){let t=yield e.getContinuationData.call(this);if(!t)throw new _("Could not get continuation data");return new Ui(this.actions,t,!0)})}};o(_e,"Channel");var Ui=class extends se{constructor(e,t,n=!1){var s,u;super(e,t,n),this.contents=((s=this.page.on_response_received_actions)===null||s===void 0?void 0:s.first())||((u=this.page.on_response_received_endpoints)===null||u===void 0?void 0:u.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return w(this,void 0,void 0,function*(){let t=yield e.getContinuationData.call(this);if(!t)throw new _("Could not get continuation data");return new Ui(this.actions,t,!0)})}};o(Ui,"ChannelListContinuation");var ni=class extends oi{constructor(e,t,n=!1){super(e,t,n),this.applied_filter=this.memo.getType(ie).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let t=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return w(this,void 0,void 0,function*(){let n=yield t.getFilteredFeed.call(this,e);return new ni(this.actions,n.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return w(this,void 0,void 0,function*(){let t=yield e.getContinuationData.call(this);if(!(t!=null&&t.on_response_received_actions_memo))throw new _("Unexpected continuation data",t);return t.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(Rt)),t.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(ie)),new ni(this.actions,t,!0)})}};o(ni,"FilteredChannelList");var qo,bt,Xo,Wi=class{constructor(e,t,n=!1){var s,u,d;qo.set(this,void 0),bt.set(this,void 0),Xo.set(this,void 0),T(this,qo,n?t:l.parseResponse(t),"f"),T(this,bt,e,"f");let p=c(this,qo,"f").on_response_received_endpoints;if(!p)throw new _("Comments page did not have any content.");let m=p.at(0),h=p.at(1);this.header=(s=m==null?void 0:m.contents)===null||s===void 0?void 0:s.firstOfType(Ro);let v=((u=h==null?void 0:h.contents)===null||u===void 0?void 0:u.filterType(tf))||[];this.contents=q(v.map(g=>{var b;return(b=g.comment)===null||b===void 0||b.setActions(c(this,bt,"f")),g.setActions(c(this,bt,"f")),g})),T(this,Xo,(d=h==null?void 0:h.contents)===null||d===void 0?void 0:d.firstOfType(ue),"f")}applySort(e){var t,n,s,u;return w(this,void 0,void 0,function*(){if(!this.header)throw new _("Page header is missing. Cannot apply sort option.");let d;if(e==="TOP_COMMENTS"?d=(n=(t=this.header.sort_menu)===null||t===void 0?void 0:t.sub_menu_items)===null||n===void 0?void 0:n.at(0):e==="NEWEST_FIRST"&&(d=(u=(s=this.header.sort_menu)===null||s===void 0?void 0:s.sub_menu_items)===null||u===void 0?void 0:u.at(1)),!d)throw new _("Could not find target button.");if(d.selected)return this;let p=yield d.endpoint.call(c(this,bt,"f"),{parse:!0});return new Wi(c(this,bt,"f"),p,!0)})}createComment(e){var t;return w(this,void 0,void 0,function*(){if(!this.header)throw new _("Page header is missing. Cannot create comment.");let n=(t=this.header.create_renderer)===null||t===void 0?void 0:t.as(ef).submit_button;if(!n)throw new _("Could not find target button. You are probably not logged in.");if(!n.endpoint)throw new _("Button does not have an endpoint.");return yield n.endpoint.call(c(this,bt,"f"),{commentText:e})})}getContinuation(){return w(this,void 0,void 0,function*(){if(!c(this,Xo,"f"))throw new _("Continuation not found");let e=yield c(this,Xo,"f").endpoint.call(c(this,bt,"f"),{parse:!0}),t=Object.assign({},c(this,qo,"f"));if(!t.on_response_received_endpoints||!e.on_response_received_endpoints)throw new _("Invalid reponse format, missing on_response_received_endpoints.");return t.on_response_received_endpoints.pop(),t.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Wi(c(this,bt,"f"),t,!0)})}get has_continuation(){return!!c(this,Xo,"f")}get page(){return c(this,qo,"f")}};o(Wi,"Comments");qo=new WeakMap,bt=new WeakMap,Xo=new WeakMap;var s_=Wi;var dp,a_=class{constructor(e){dp.set(this,void 0),T(this,dp,U.parseResponse(e),"f"),this.contents=c(this,dp,"f").items.array().as(Ao,bf)}get page(){return c(this,dp,"f")}};o(a_,"Guide");dp=new WeakMap;var l_=a_;var Qo=class extends se{constructor(e,t,n=!1){super(e,t,n),this.sections=this.memo.getType(oe),this.feed_actions=this.memo.getType(Pm).first()}getContinuation(){return w(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Qo(this.actions,e,!0)})}};o(Qo,"History");var u_=Qo;var Pt=class extends oi{constructor(e,t,n=!1){super(e,t,n),this.header=this.memo.getType(ff).first(),this.contents=this.memo.getType(zt).first()||this.page.on_response_received_actions.first()}applyFilter(e){let t=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return w(this,void 0,void 0,function*(){let n=yield t.getFilteredFeed.call(this,e);return new Pt(this.actions,n.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});var t;return w(this,void 0,void 0,function*(){let n=yield e.getContinuation.call(this);return n.page.header=this.page.header,(t=n.page.header_memo)===null||t===void 0||t.set(this.header.type,[this.header]),new Pt(this.actions,n.page,!0)})}};o(Pt,"HomeFeed");var ri=class extends oi{constructor(e,t){if(super(e,t),!this.page.contents_memo)throw new _("Unexpected response",this.page);let n=this.page.contents_memo.getType(de).first();if(!n.content)throw new _("Content tab has no content",n);this.page.header&&(this.header=this.page.header.item().as(xf,Bo)),this.contents=n.content.as(zt)}applyFilter(e){let t=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return w(this,void 0,void 0,function*(){let n=yield t.getFilteredFeed.call(this,e);return new ri(this.actions,n.page)})}};o(ri,"HashtagFeed");var d_,c_,cp,p_=class{constructor(e,t){d_.set(this,void 0),c_.set(this,void 0),cp.set(this,void 0),T(this,d_,e,"f"),T(this,c_,t,"f");let n=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!n||!n.is(V))throw new _('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');T(this,cp,n.as(V).items,"f")}selectItem(e){return w(this,void 0,void 0,function*(){let t;if(e instanceof I){if(!e.endpoint)throw new _("Item does not have an endpoint.");t=e.endpoint}else{let s=c(this,cp,"f").find(u=>u.is(Jt)?u.as(Jt).icon_type===e:!1);if(!s||!s.is(Jt))throw new _(`Button "${e}" not found.`);t=s.endpoint}if(!t)throw new _("Target button does not have an endpoint.");return yield t.call(c(this,c_,"f"),{parse:!0})})}items(){return c(this,cp,"f")}page(){return c(this,d_,"f")}};o(p_,"ItemMenu");d_=new WeakMap,c_=new WeakMap,cp=new WeakMap;var m_=p_;var pp,f_,Zo=class extends se{constructor(e,t,n=!1){var s,u,d,p,m;super(e,t,n),pp.add(this);let h=this.memo.getType(xh).first(),v=this.memo.getType(Th).first(),g=this.memo.getType(Ih).first(),b=(s=this.page.alerts)===null||s===void 0?void 0:s.firstOfType(fo);if(b&&b.alert_type==="ERROR")throw new _(b.text.toString(),b);if(!v&&!g&&Object.keys(this.page).length===0)throw new _("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(u=this.page.metadata)===null||u===void 0?void 0:u.item().as(wh)),{subtitle:h?h.subtitle:null,author:(p=(d=g==null?void 0:g.owner)===null||d===void 0?void 0:d.as(Wo).author)!==null&&p!==void 0?p:h==null?void 0:h.author,thumbnails:(m=v==null?void 0:v.thumbnail_renderer)===null||m===void 0?void 0:m.as(Mo,Po).thumbnail,total_items:c(this,pp,"m",f_).call(this,0,v),views:c(this,pp,"m",f_).call(this,1,v),last_updated:c(this,pp,"m",f_).call(this,2,v),can_share:h==null?void 0:h.can_share,can_delete:h==null?void 0:h.can_delete,is_editable:h==null?void 0:h.is_editable,privacy:h==null?void 0:h.privacy}),this.menu=v==null?void 0:v.menu,this.endpoint=v==null?void 0:v.endpoint,this.messages=this.memo.getType(De)}get items(){return this.videos}getContinuation(){return w(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new _("Could not get continuation data");return new Zo(this.actions,e,!0)})}};o(Zo,"Playlist");pp=new WeakSet,f_=o(function(e,t){var n;return!t||!t.stats?"N/A":((n=t.stats[e])===null||n===void 0?void 0:n.toString())||"N/A"},"_Playlist_getStat");var h_=Zo;var Vv,m0,__=class extends se{constructor(e,t){if(super(e,t),Vv.add(this),!this.page.contents_memo)throw new _("Page contents not found");let n=this.page.contents_memo.getType(Ch).first(),s=this.page.contents_memo.getType(Rh).first();this.profile={stats:n,user_info:s};let u=this.page.contents_memo.getType(jo);this.sections=u.map(d=>{var p;return{type:d.icon_type,title:d.title,contents:((p=d.content)===null||p===void 0?void 0:p.key("items").array())||[],getAll:()=>c(this,Vv,"m",m0).call(this,d)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};o(__,"Library");Vv=new WeakSet,m0=o(function(e){var t;return w(this,void 0,void 0,function*(){if(!(!((t=e.menu)===null||t===void 0)&&t.as(V).hasKey("top_level_buttons")))throw new _(`The ${e.title.text} shelf doesn't have more items`);let n=e.menu.as(V).top_level_buttons.firstOfType(I);if(!n)throw new _("Did not find target button.");let s=yield n.as(I).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new h_(this.actions,s,!0);case"WATCH_HISTORY":return new u_(this.actions,s,!0);case"CONTENT_CUT":return new se(this.actions,s,!0);default:throw new _("Target shelf not implemented.")}})},"_Library_getAll");var f0=__;var en,v_=class extends EventTarget{constructor(){super(),en.set(this,new Map)}emit(e,...t){let n=new A.shim.CustomEvent(e,{detail:t});this.dispatchEvent(n)}on(e,t){let n=o(s=>{s instanceof A.shim.CustomEvent?t(...s.detail):t(s)},"wrapper");c(this,en,"f").set(t,n),this.addEventListener(e,n)}once(e,t){let n=o(s=>{s instanceof A.shim.CustomEvent?t(...s.detail):t(s),this.off(e,t)},"wrapper");c(this,en,"f").set(t,n),this.addEventListener(e,n)}off(e,t){let n=c(this,en,"f").get(t);n&&(this.removeEventListener(e,n),c(this,en,"f").delete(t))}};o(v_,"EventEmitterLike");en=new WeakMap;var mp=v_;var Mt,si,Ji,Xe,ot,Le;function Bw(i){let e=[];for(let t of i)if(Array.isArray(t))for(let n of t)e.push(n);else e.push(t);return e}o(Bw,"flattenQueue");var g_=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};o(g_,"DelayQueue");var y_=class{constructor(){Mt.set(this,void 0),si.set(this,void 0),Ji.set(this,void 0),Xe.set(this,void 0),ot.set(this,void 0),Le.set(this,void 0),T(this,Mt,null,"f"),T(this,si,null,"f"),T(this,Ji,null,"f"),T(this,Xe,[],"f"),T(this,ot,null,"f"),T(this,Le,new g_,"f")}enqueueActionGroup(e){if(c(this,Mt,"f")!==null){let t=Date.now()-c(this,Mt,"f");c(this,Le,"f").back.push(t),5<c(this,Le,"f").front.length+c(this,Le,"f").back.length&&(c(this,Le,"f").front.length||(c(this,Le,"f").front=c(this,Le,"f").back,c(this,Le,"f").front.reverse(),c(this,Le,"f").back=[]),c(this,Le,"f").front.pop()),T(this,si,Math.max(...c(this,Le,"f").getValues()),"f")}T(this,Mt,Date.now(),"f"),c(this,Xe,"f").push(e),c(this,ot,"f")===null&&T(this,ot,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(T(this,ot,null,"f"),c(this,Xe,"f").length){let e=1e4;c(this,si,"f")!==null&&c(this,Mt,"f")!==null&&(e=c(this,si,"f")-Date.now()+c(this,Mt,"f")),e=c(this,Xe,"f").length<e/80?1:Math.ceil(c(this,Xe,"f").length/(e/80));let t=Bw(c(this,Xe,"f").splice(0,e));c(this,Ji,"f")&&c(this,Ji,"f").call(this,t),c(this,Xe,"f")!==null&&(e==1?(e=c(this,si,"f")/c(this,Xe,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,T(this,ot,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){c(this,ot,"f")!==null&&(clearTimeout(c(this,ot,"f")),T(this,ot,null,"f")),T(this,Xe,[],"f")}set callback(e){T(this,Ji,e,"f")}get callback(){return c(this,Ji,"f")}get action_queue(){return c(this,Xe,"f")}get estimated_update_interval(){return c(this,si,"f")}get last_update_time(){return c(this,Mt,"f")}get next_update_id(){return c(this,ot,"f")}get poll_response_delay_queue(){return c(this,Le,"f")}};o(y_,"SmoothedQueue");Mt=new WeakMap,si=new WeakMap,Ji=new WeakMap,Xe=new WeakMap,ot=new WeakMap,Le=new WeakMap;var b_=y_;var we,Nt,_p,x_,$i,fp,hp,Av,w_,h0,Hi,T_=class extends mp{constructor(e){var t,n;super(),we.add(this),Nt.set(this,void 0),_p.set(this,void 0),x_.set(this,void 0),$i.set(this,void 0),fp.set(this,void 0),hp.set(this,0),this.running=!1,this.is_replay=!1,T(this,_p,e.basic_info.id,"f"),T(this,x_,e.basic_info.channel_id,"f"),T(this,Nt,e.actions,"f"),T(this,$i,(t=e.livechat)===null||t===void 0?void 0:t.continuation,"f"),this.is_replay=((n=e.livechat)===null||n===void 0?void 0:n.is_replay)||!1,this.smoothed_queue=new b_,this.smoothed_queue.callback=s=>w(this,void 0,void 0,function*(){s.length?s.length<10?yield c(this,we,"m",w_).call(this,s):this.is_replay?(c(this,we,"m",w_).call(this,s),yield c(this,we,"m",Hi).call(this,2e3)):c(this,we,"m",w_).call(this,s):yield c(this,we,"m",Hi).call(this,2e3),this.running&&c(this,we,"m",Av).call(this)})}on(e,t){super.on(e,t)}once(e,t){super.once(e,t)}start(){this.running||(this.running=!0,c(this,we,"m",Av).call(this),c(this,we,"m",h0).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return w(this,void 0,void 0,function*(){let t=yield c(this,Nt,"f").execute("/live_chat/send_message",{params:fv(c(this,x_,"f"),c(this,_p,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:A.shim.uuidv4(),client:"ANDROID",parse:!0});if(!t.actions)throw new _("Unexpected response from send_message",t);return t.actions.array().as(Nf)})}applyFilter(e){var t,n,s,u,d,p,m;if(!this.initial_info)throw new _("Cannot apply filter before initial info is retrieved.");let h=(s=(n=(t=this.initial_info)===null||t===void 0?void 0:t.header)===null||n===void 0?void 0:n.view_selector)===null||s===void 0?void 0:s.sub_menu_items;if(e==="TOP_CHAT"){if(!((u=h==null?void 0:h.at(0))===null||u===void 0)&&u.selected)return;T(this,$i,(d=h==null?void 0:h.at(0))===null||d===void 0?void 0:d.continuation,"f")}else{if(!((p=h==null?void 0:h.at(1))===null||p===void 0)&&p.selected)return;T(this,$i,(m=h==null?void 0:h.at(1))===null||m===void 0?void 0:m.continuation,"f")}}getItemMenu(e){return w(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(f))throw new _("This item does not have a menu.",e);let t=yield e.key("menu_endpoint").instanceof(f).call(c(this,Nt,"f"),{parse:!0});if(!t)throw new _("Could not retrieve item menu.",e);return new m_(t,c(this,Nt,"f"))})}selectButton(e){return w(this,void 0,void 0,function*(){return yield e.endpoint.call(c(this,Nt,"f"),{parse:!0})})}};o(T_,"LiveChat");Nt=new WeakMap,_p=new WeakMap,x_=new WeakMap,$i=new WeakMap,fp=new WeakMap,hp=new WeakMap,we=new WeakSet,Av=o(function i(){w(this,void 0,void 0,function*(){var e,t;try{let n=yield c(this,Nt,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:c(this,$i,"f"),parse:!0}),s=n.continuation_contents;if(s||(this.emit("error",new _("Unexpected live chat incremental continuation response",n)),this.emit("end"),this.stop()),!(s instanceof ti)){this.stop(),this.emit("end");return}T(this,$i,s.continuation.token,"f"),s.header?(this.initial_info=s,this.emit("start",s),this.running&&c(this,we,"m",i).call(this)):this.smoothed_queue.enqueueActionGroup(s.actions),T(this,hp,0,"f")}catch(n){this.emit("error",n),T(this,hp,(t=c(this,hp,"f"),e=t++,t),"f"),e<10?(yield c(this,we,"m",Hi).call(this,2e3),c(this,we,"m",i).call(this)):(this.emit("error",new _("Reached retry limit for incremental continuation requests",n)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),w_=o(function(e){return w(this,void 0,void 0,function*(){let n=e.length<125?1:Math.ceil(e.length/125),s=n==1?(n=1e4/e.length,n*=Math.random()+.5,n=Math.min(1e3,n),n=Math.max(80,n)):n=80;for(let u of e)yield c(this,we,"m",Hi).call(this,s),this.emit("chat-update",u)})},"_LiveChat_emitSmoothedActions"),h0=o(function i(){w(this,void 0,void 0,function*(){var e,t,n,s,u,d,p,m,h,v,g;try{let b={videoId:c(this,_p,"f")};c(this,fp,"f")&&(b.continuation=c(this,fp,"f"));let x=yield c(this,Nt,"f").execute("/updated_metadata",b),C=l.parseResponse(x.data);T(this,fp,(e=C.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((t=C.actions)===null||t===void 0?void 0:t.array().firstOfType(Bf))||((n=this.metadata)===null||n===void 0?void 0:n.title),description:((s=C.actions)===null||s===void 0?void 0:s.array().firstOfType(Of))||((u=this.metadata)===null||u===void 0?void 0:u.description),views:((d=C.actions)===null||d===void 0?void 0:d.array().firstOfType(Lf))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((m=C.actions)===null||m===void 0?void 0:m.array().firstOfType(Ff))||((h=this.metadata)===null||h===void 0?void 0:h.likes),date:((v=C.actions)===null||v===void 0?void 0:v.array().firstOfType(Df))||((g=this.metadata)===null||g===void 0?void 0:g.date)},this.emit("metadata-update",this.metadata),yield c(this,we,"m",Hi).call(this,5e3),this.running&&c(this,we,"m",i).call(this)}catch(b){yield c(this,we,"m",Hi).call(this,2e3),this.running&&c(this,we,"m",i).call(this)}})},"_LiveChat_pollMetadata"),Hi=o(function(e){return w(this,void 0,void 0,function*(){return new Promise(t=>setTimeout(()=>t(),e))})},"_LiveChat_wait");var I_=T_;var Gi,vp,tn=class{constructor(e,t){Gi.set(this,void 0),vp.set(this,void 0),T(this,vp,e,"f"),T(this,Gi,l.parseResponse(t.data),"f"),this.header=c(this,Gi,"f").actions_memo.getType(Gf).first(),this.contents=c(this,Gi,"f").actions_memo.getType(fh)}getContinuation(){return w(this,void 0,void 0,function*(){let e=c(this,Gi,"f").actions_memo.getType(ue).first();if(!e)throw new _("Continuation not found");let t=yield e.endpoint.call(c(this,vp,"f"),{parse:!1});return new tn(c(this,vp,"f"),t)})}get page(){return c(this,Gi,"f")}};o(tn,"NotificationsMenu");Gi=new WeakMap,vp=new WeakMap;var _0=tn;var zi=class extends se{constructor(e,t,n=!1){var s,u,d,p,m,h;super(e,t,n);let v=((s=this.page.contents_memo)===null||s===void 0?void 0:s.getType($).first().contents)||((u=this.page.on_response_received_commands)===null||u===void 0?void 0:u.first().contents);if(!v)throw new _("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(Ah)),this.results=(d=v.find(g=>g.is(oe)&&g.contents&&g.contents.length>0))===null||d===void 0?void 0:d.as(oe).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(Dh).first(),this.watch_card=(m=this.page.contents_memo)===null||m===void 0?void 0:m.getType(Hh).first(),this.refinement_cards=(h=this.results)===null||h===void 0?void 0:h.firstOfType(Yt)}selectRefinementCard(e){var t,n;return w(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(!this.refinement_cards)throw new _("No refinement cards found.");if(s=(n=(t=this.refinement_cards)===null||t===void 0?void 0:t.cards.get({query:e}))===null||n===void 0?void 0:n.as(yi),!s)throw new _(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")s=e;else throw new _("Invalid refinement card!");let u=yield s.endpoint.call(this.actions,{parse:!0});return new zi(this.actions,u,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(yi).map(t=>t.query))||[]}getContinuation(){return w(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new _("Could not get continuation data");return new zi(this.actions,e,!0)})}};o(zi,"Search");var S_=zi;var Ki,gp,on=class{constructor(e,t){var n,s,u,d;if(Ki.set(this,void 0),gp.set(this,void 0),T(this,gp,e,"f"),T(this,Ki,l.parseResponse(t.data),"f"),this.sidebar=(n=c(this,Ki,"f").sidebar)===null||n===void 0?void 0:n.as(Bh),!c(this,Ki,"f").contents)throw new _("Page contents not found");let p=c(this,Ki,"f").contents.item().as(ht).tabs.array().as(de).get({selected:!0});if(!p)throw new _("Target tab not found");let m=(s=p.content)===null||s===void 0?void 0:s.as($).contents.as(oe);this.introduction=(d=(u=m==null?void 0:m.shift())===null||u===void 0?void 0:u.contents)===null||d===void 0?void 0:d.firstOfType(_h),this.sections=m==null?void 0:m.map(h=>{var v;return{title:((v=h.header)===null||v===void 0?void 0:v.title.toString())||null,contents:h.contents}})}selectSidebarItem(e){return w(this,void 0,void 0,function*(){if(!this.sidebar)throw new _("Sidebar not available");let t;if(typeof e=="string"){if(t=this.sidebar.items.get({title:e}),!t)throw new _(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(Eo))t=e;else throw new _("Invalid item",{target_item:e});let n=yield t.endpoint.call(c(this,gp,"f"),{parse:!1});return new on(c(this,gp,"f"),n)})}getSettingOption(e){var t;if(!this.sections)throw new _("Sections not available");for(let n of this.sections)if(!!n.contents)for(let s of n.contents){let u=s.as(Yo).options;if(u){for(let d of u)if(d.is(Lo)&&((t=d.title)===null||t===void 0?void 0:t.toString())===e)return d}}throw new _(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new _("Sections not available");let e=[];for(let t of this.sections)if(!!t.contents)for(let n of t.contents)n.as(Yo).options&&(e=e.concat(n.as(Yo).options));return e.map(t=>{var n;return(n=t.title)===null||n===void 0?void 0:n.toString()}).filter(t=>t)}get sidebar_items(){if(!this.sidebar)throw new _("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return c(this,Ki,"f")}};o(on,"Settings");Ki=new WeakMap,gp=new WeakMap;var v0=on;var nn,k_=class{constructor(e){var t;if(nn.set(this,void 0),T(this,nn,l.parseResponse(e.data),"f"),!c(this,nn,"f").contents)throw new _("Page contents not found");let n=c(this,nn,"f").contents.item().as(ft).tabs.get({selected:!0});if(!n)throw new _("Could not find target tab.");this.contents=(t=n.content)===null||t===void 0?void 0:t.as($).contents.as(oe)}get page(){return c(this,nn,"f")}};o(k_,"TimeWatched");nn=new WeakMap;var g0=k_;var jv={};me(jv,{Feed:()=>se,FilterableFeed:()=>oi,MediaInfo:()=>ui,TabbedFeed:()=>n_});var R_={};me(R_,{chooseFormat:()=>M_,download:()=>Lv,toDash:()=>P_});var Fw={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function y0(i){return i.replace(/([&"<>'])/g,(e,t)=>Fw[t])}o(y0,"escapeXMLString");function Lw(i){return i==="mpd"?"MPD":i==="base-url"?"BaseURL":i.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join("")}o(Lw,"normalizeTag");function Q(i,e,...t){let n=t.flat().map(s=>typeof s=="string"?Yw(s):s);return typeof i=="function"?i(Object.assign(Object.assign({},e),{children:n})):{type:Lw(i),props:Object.assign(Object.assign({},e),{children:n})}}o(Q,"createElement");function Yw(i){return{type:"TEXT_ELEMENT",props:{nodeValue:i}}}o(Yw,"createTextElement");function b0(i){return w(this,void 0,void 0,function*(){if(i.type==="TEXT_ELEMENT")return y0(typeof i.props.nodeValue=="string"?i.props.nodeValue:"");let e=`<${i.type}`;if(i.props){let t=Object.keys(i.props).filter(n=>!["children","nodeValue"].includes(n)&&i.props[n]!==void 0).map(n=>`${n}="${y0(`${i.props[n]}`)}"`);t.length>0&&(e+=` ${t.join(" ")}`)}if(i.props.children){let t=yield Promise.all((yield Promise.all(i.props.children.flat())).flat().filter(n=>!!n).map(n=>b0(n)));if(t.length>0)return e+=`>${t.join("")}</${i.type}>`,e}return`${e}/>`})}o(b0,"renderElementToString");function x0(i){return w(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield b0(yield i)}`})}o(x0,"renderToString");function w0(i){return i.children}o(w0,"Fragment");var Dv,ai,Ov,yp,T0,C_=class{constructor(e,t,n){Dv.add(this),ai.set(this,void 0),Ov.set(this,void 0),yp.set(this,void 0),T(this,ai,e,"f"),T(this,Ov,t,"f"),T(this,yp,n||A.shim.fetch,"f")}get fetch_function(){return c(this,yp,"f")}fetch(e,t){return w(this,void 0,void 0,function*(){let n=ye.API.PRODUCTION_1+c(this,ai,"f").api_version,s=(t==null?void 0:t.baseURL)||n,u=typeof e=="string"?!s.endsWith("/")&&!e.startsWith("/")?new URL(`${s}/${e}`):new URL(s+e):e instanceof URL?e:new URL(e.url,s),d=(t==null?void 0:t.headers)||(e instanceof A.shim.Request?e.headers:new A.shim.Headers)||new A.shim.Headers,p=(t==null?void 0:t.body)||(e instanceof A.shim.Request?e.body:void 0),m=new A.shim.Headers(d);m.set("Accept","*/*"),m.set("Accept-Language","*"),m.set("X-Goog-Visitor-Id",c(this,ai,"f").context.client.visitorData||""),m.set("X-Origin",u.origin),m.set("X-Youtube-Client-Version",c(this,ai,"f").context.client.clientVersion||""),A.shim.server&&(m.set("User-Agent",qi("desktop")),m.set("origin",u.origin)),u.searchParams.set("key",c(this,ai,"f").key),u.searchParams.set("prettyPrint","false"),u.searchParams.set("alt","json");let h=m.get("Content-Type"),v=p,g=s===n||s===ye.YT_UPLOAD;if(h==="application/json"&&g&&typeof p=="string"){let C=JSON.parse(p),E=Object.assign(Object.assign({},C),{context:JSON.parse(JSON.stringify(c(this,ai,"f").context))});c(this,Dv,"m",T0).call(this,E.context,E.client),m.set("x-youtube-client-version",E.context.client.clientVersion),delete E.client,A.shim.server&&(E.context.client.clientName==="ANDROID"||E.context.client.clientName==="ANDROID_MUSIC"?m.set("User-Agent",B.ANDROID.USER_AGENT):E.context.client.clientName==="iOS"&&m.set("User-Agent",B.iOS.USER_AGENT)),v=JSON.stringify(E)}let b=new A.shim.Request(u,e instanceof A.shim.Request?e:t),x=yield c(this,yp,"f").call(this,b,{body:v,headers:m,credentials:"include",redirect:e instanceof A.shim.Request?e.redirect:(t==null?void 0:t.redirect)||"follow"});if(x.ok)return x;throw new _(`Request to ${x.url} failed with status ${x.status}`,yield x.text())})}};o(C_,"HTTPClient");ai=new WeakMap,Ov=new WeakMap,yp=new WeakMap,Dv=new WeakSet,T0=o(function(e,t){switch((t==="ANDROID"||t==="YTMUSIC_ANDROID"||t==="YTMUSIC_ANDROID"||t==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=B.ANDROID.SDK_VERSION,e.client.userAgent=B.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="10",e.client.platform="MOBILE"),t){case"iOS":e.client.deviceModel=B.iOS.DEVICE_MODEL,e.client.clientVersion=B.iOS.VERSION,e.client.clientName=B.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=B.YTMUSIC.VERSION,e.client.clientName=B.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=B.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=B.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=B.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=B.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=B.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=B.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=B.TV_EMBEDDED.NAME,e.client.clientVersion=B.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:ye.YT_BASE};break;case"YTKIDS":e.client.clientVersion=B.WEB_KIDS.VERSION,e.client.clientName=B.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var Bv=C_;function Uw(i){var e,t,n;let s=new Map,u=i.some(d=>!!d.audio_track);for(let d of i){if((!d.index_range||!d.init_range)&&!d.is_type_otf)continue;let p=d.mime_type.split(";")[0],m=(e=Pe(d.mime_type,'codecs="','"'))===null||e===void 0?void 0:e.split(".")[0],h=d.color_info?Object.values(d.color_info).join("-"):"",v=((t=d.audio_track)===null||t===void 0?void 0:t.id)||"",g=`${p}-${m}-${h}-${v}`;s.has(g)||s.set(g,[]),(n=s.get(g))===null||n===void 0||n.push(d)}return{groups:Array.from(s.values()),has_multiple_audio_tracks:u}}o(Uw,"getFormatGroupings");function I0(i,e){if(i.length>1&&new Set(i.map(t=>Pe(t.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),Pe(i[0].mime_type,'codecs="','"')}o(I0,"hoistCodecsIfPossible");function S0(i,e,t){if(i.length>1&&new Set(i.map(n=>n.fps)).size===1)return t.push(e),Number(i[0][e])}o(S0,"hoistNumberAttributeIfPossible");function Ww(i,e){if(i.length>1&&new Set(i.map(t=>t.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),i[0].audio_channels}o(Ww,"hoistAudioChannelsIfPossible");function Jw(i,e){var t;return w(this,void 0,void 0,function*(){let n=yield e.session.http.fetch_function(`${i}&rn=0&sq=0`,{method:"GET",headers:Ce.STREAM_HEADERS,redirect:"follow"}),s=n.url.replace("&rn=0","").replace("&sq=0",""),u=yield n.text(),d=(t=Pe(u,"Segment-Durations-Ms:",`\r
`))===null||t===void 0?void 0:t.split(",");if(!d)throw new _("Failed to extract the segment durations from this OTF stream",{url:i});let p=[];for(let m of d){let h=m.trim();if(h.length===0)continue;let v,g=Pe(h,"(r=",")");g&&(v=parseInt(g)),p.push({duration:parseInt(h),repeat_count:v})}return{init_url:`${s}&sq=0`,media_url:`${s}&sq=$Number$`,timeline:p}})}o(Jw,"getOTFSegmentTemplate");function k0(i,e,t,n,s){return w(this,void 0,void 0,function*(){let u=new URL(yield i.decipher(n));u.searchParams.set("cpn",s||"");let d=e(u).toString();if(i.is_type_otf){if(!t)throw new _("Unable to get segment durations for this OTF stream without an Actions instance",{format:i});return{is_oft:!0,getSegmentTemplate(){return Jw(d,t)}}}if(!i.index_range||!i.init_range)throw new _("Index and init ranges not available",{format:i});return{is_oft:!1,base_url:d,index_range:i.index_range,init_range:i.init_range}})}o(k0,"getSegmentInfo");function Hw(i,e,t,n,s,u){return w(this,void 0,void 0,function*(){return new URL(yield i.decipher(s)).searchParams.set("cpn",u||""),{uid:i.audio_track?`${i.itag}-${i.audio_track.id}`:i.itag.toString(),bitrate:i.bitrate,codecs:e.includes("codecs")?void 0:Pe(i.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:i.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:i.audio_channels||2,segment_info:yield k0(i,t,n,s,u)}})}o(Hw,"getAudioRepresentation");function $w(i){let{audio_track:e}=i;if(!!e)return e.audio_is_default?"main":i.is_dubbed?"dub":i.is_descriptive?"description":"alternate"}o($w,"getTrackRole");function Gw(i,e,t,n,s){var u;return w(this,void 0,void 0,function*(){let d=i[0],{audio_track:p}=d,m=[];return{mime_type:d.mime_type.split(";")[0],language:(u=d.language)!==null&&u!==void 0?u:void 0,codecs:I0(i,m),audio_sample_rate:S0(i,"audio_sample_rate",m),track_name:p==null?void 0:p.display_name,track_role:$w(d),channels:Ww(i,m),representations:yield Promise.all(i.map(v=>Hw(v,m,e,t,n,s)))}})}o(Gw,"getAudioSet");var zw={BT709:"1",BT2020:"9"},Kw={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},qw={BT709:"1",BT2020_NCL:"14"};function Xw(i){let e=i.color_info,t=e!=null&&e.primaries?zw[e.primaries]:void 0,n=e!=null&&e.transfer_characteristics?Kw[e.transfer_characteristics]:void 0,s=e!=null&&e.matrix_coefficients?qw[e.matrix_coefficients]:void 0;if((e==null?void 0:e.matrix_coefficients)&&!s){let d=new URL(i.url),p=JSON.parse(JSON.stringify(i));p.url="REDACTED",p.signature_cipher="REDACTED",p.cipher="REDACTED",console.warn(`YouTube.js toDash(): Unknown matrix coefficients "${e.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${A.shim.info.bugs_url} so we can add support for it.
Innertube client: ${d.searchParams.get("c")}
format:`,p)}return{primaries:t,transfer_characteristics:n,matrix_coefficients:s}}o(Xw,"getColorInfo");function Qw(i,e,t,n,s,u){return w(this,void 0,void 0,function*(){return{uid:i.itag.toString(),bitrate:i.bitrate,width:i.width,height:i.height,codecs:t.includes("codecs")?void 0:Pe(i.mime_type,'codecs="','"'),fps:t.includes("fps")?void 0:i.fps,segment_info:yield k0(i,e,s,n,u)}})}o(Qw,"getVideoRepresentation");function Zw(i,e,t,n,s){return w(this,void 0,void 0,function*(){let u=i[0],d=Xw(u),p=[];return{mime_type:u.mime_type.split(";")[0],color_info:d,codecs:I0(i,p),fps:S0(i,"fps",p),representations:yield Promise.all(i.map(h=>Qw(h,e,p,t,n,s)))}})}o(Zw,"getVideoSet");function eT(i){var e;let t=new Map;for(let n of i.boards){let s=new URL(n.template_url).pathname.split(".").pop(),u=`image/${s==="jpg"?"jpeg":s}`;t.has(u)||t.set(u,[]),(e=t.get(u))===null||e===void 0||e.push(n)}return t}o(eT,"getStoryboardInfo");function tT(i,e,t,n,s){return w(this,void 0,void 0,function*(){let u=e.template_url,d=t(new URL(u.replace("$M","0"))),p=s.response?s.response:i.session.http.fetch_function(d,{method:"HEAD",headers:Ce.STREAM_HEADERS});return s.response=p,(yield p).headers.get("Content-Type")||n})}o(tT,"getStoryboardMimeType");function iT(i,e,t){return w(this,void 0,void 0,function*(){let n=e.template_url,s=[],u=Math.min(e.storyboard_count,10);for(let h=0;h<u;h++){let v=new URL(n.replace("$M",h.toString())),g=h===0&&t.response?t.response:i.session.http.fetch_function(v,{method:"HEAD",headers:Ce.STREAM_HEADERS});h===0&&(t.response=g),s.push(g)}let d=yield Promise.all(s),p=[];for(let h of d)p.push(parseInt(h.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}o(iT,"getStoryboardBitrate");function oT(i,e,t,n,s){let u=t.template_url,d=new URL(u.replace("$M","$Number$"));return{uid:`thumbnails_${t.thumbnail_width}x${t.thumbnail_height}`,getBitrate(){return iT(e,t,s)},sheet_width:t.thumbnail_width*t.columns,sheet_height:t.thumbnail_height*t.rows,thumbnail_height:t.thumbnail_height,thumbnail_width:t.thumbnail_width,rows:t.rows,columns:t.columns,template_duration:i/t.storyboard_count,template_url:n(d).toString(),getURL(m){return d.toString().replace("$Number$",m.toString())}}}o(oT,"getImageRepresentation");function nT(i,e,t,n){let s=eT(t),u={};return Array.from(s.entries()).map(([d,p])=>({probable_mime_type:d,getMimeType(){return tT(e,p[0],n,d,u)},representations:p.map(m=>oT(i,e,m,n,u))}))}o(nT,"getImageSets");function E_(i,e=p=>p,t,n,s,u,d){return w(this,void 0,void 0,function*(){if(!i)throw new _("Streaming data not available");let p=t?i.adaptive_formats.filter(M=>!t(M)):i.adaptive_formats,m=p[0].approx_duration_ms/1e3,{groups:h,has_multiple_audio_tracks:v}=Uw(p),{video_groups:g,audio_groups:b}=h.reduce((M,W)=>W[0].has_audio?(v&&!W[0].audio_track||M.audio_groups.push(W),M):(M.video_groups.push(W),M),{video_groups:[],audio_groups:[]}),x=yield Promise.all(b.map(M=>Gw(M,e,u,s,n))),C=yield Promise.all(g.map(M=>Zw(M,e,s,u,n))),E=d&&u?nT(m,u,d,e):[];return{duration:m,audio_sets:x,video_sets:C,image_sets:E}})}o(E_,"getStreamingInfo");function rT({info:i}){return w(this,void 0,void 0,function*(){if(!i.is_oft)return null;let e=yield i.getSegmentTemplate();return Q("segment-template",{startNumber:"1",timescale:"1000",initialization:e.init_url,media:e.media_url},Q("segment-timeline",null,e.timeline.map(t=>Q("s",{d:t.duration,r:t.repeat_count}))))})}o(rT,"OTFSegmentInfo");function C0({info:i}){return i.is_oft?Q(rT,{info:i}):Q(w0,null,Q("base-url",null,i.base_url),Q("segment-base",{indexRange:`${i.index_range.start}-${i.index_range.end}`},Q("initialization",{range:`${i.init_range.start}-${i.init_range.end}`})))}o(C0,"SegmentInfo");function sT({streamingData:i,transformURL:e,rejectFormat:t,cpn:n,player:s,actions:u,storyboards:d}){return w(this,void 0,void 0,function*(){let{duration:p,audio_sets:m,video_sets:h,image_sets:v}=yield E_(i,e,t,n,s,u,d);return Q("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${p}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},Q("period",null,m.map((g,b)=>Q("adaptation-set",{id:b,mimeType:g.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:g.language,codecs:g.codecs,audioSamplingRate:g.audio_sample_rate},g.track_role&&Q("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:g.track_role}),g.track_name&&Q("label",{id:b},g.track_name),g.channels&&Q("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:g.channels}),g.representations.map(x=>Q("representation",{id:x.uid,bandwidth:x.bitrate,codecs:x.codecs,audioSamplingRate:x.audio_sample_rate},x.channels&&Q("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:x.channels}),Q(C0,{info:x.segment_info}))))),h.map((g,b)=>Q("adaptation-set",{id:b+m.length,mimeType:g.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:g.codecs,maxPlayoutRate:"1",frameRate:g.fps},g.color_info.primaries&&Q("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:g.color_info.primaries}),g.color_info.transfer_characteristics&&Q("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:g.color_info.transfer_characteristics}),g.color_info.matrix_coefficients&&Q("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:g.color_info.matrix_coefficients}),g.representations.map(x=>Q("representation",{id:x.uid,bandwidth:x.bitrate,width:x.width,height:x.height,codecs:x.codecs,frameRate:x.fps},Q(C0,{info:x.segment_info}))))),v.map((g,b)=>w(this,void 0,void 0,function*(){return Q("adaptation-set",{id:b+m.length+h.length,mimeType:yield g.getMimeType(),contentType:"image"},g.representations.map(x=>w(this,void 0,void 0,function*(){return Q("representation",{id:`thumbnails_${x.thumbnail_width}x${x.thumbnail_height}`,bandwidth:yield x.getBitrate(),width:x.sheet_width,height:x.sheet_height},Q("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${x.columns}x${x.rows}`}),Q("segment-template",{media:x.template_url,duration:x.template_duration,startNumber:"0"}))})))}))))})}o(sT,"DashManifest");function P_(i,e=p=>p,t,n,s,u,d){if(!i)throw new _("Streaming data not available");return x0(Q(sT,{streamingData:i,transformURL:e,rejectFormat:t,cpn:n,player:s,actions:u,storyboards:d}))}o(P_,"toDash");function Lv(i,e,t,n,s,u){return w(this,void 0,void 0,function*(){if((t==null?void 0:t.status)==="UNPLAYABLE")throw new _("Video is unplayable",{error_type:"UNPLAYABLE"});if((t==null?void 0:t.status)==="LOGIN_REQUIRED")throw new _("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!n)throw new _("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let d=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},i),p=M_(d,n),m=p.decipher(s);if(d.type==="video+audio"&&!i.range){let E=yield e.session.http.fetch_function(`${m}&cpn=${u}`,{method:"GET",headers:Bp,redirect:"follow"});if(!E.ok)throw new _("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:E});let D=E.body;if(!D)throw new _("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:E});return D}let h=1048576*10,v=i.range?i.range.start:0,g=i.range?i.range.end:h,b=!1,x;return new A.shim.ReadableStream({start(){},pull:E=>w(this,void 0,void 0,function*(){if(b){E.close();return}return(g>=(p.content_length?p.content_length:0)||i.range)&&(b=!0),new Promise((D,M)=>w(this,void 0,void 0,function*(){var W,Y,te,ne;try{x=new AbortController;let j=yield e.session.http.fetch_function(`${m}&cpn=${u}&range=${v}-${g||""}`,{method:"GET",headers:Object.assign({},Bp),signal:x.signal}),O=j.body;if(!O)throw new _("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:j});try{for(var ae=!0,le=lg(Yv(O)),ce;ce=yield le.next(),W=ce.done,!W;ae=!0){ne=ce.value,ae=!1;let J=ne;E.enqueue(J)}}catch(J){Y={error:J}}finally{try{!ae&&!W&&(te=le.return)&&(yield te.call(le))}finally{if(Y)throw Y.error}}v=g+1,g+=h,D()}catch(j){M(j)}}))}),cancel(E){return w(this,void 0,void 0,function*(){x.abort(E)})}},{highWaterMark:1,size(E){return E.byteLength}})})}o(Lv,"download");function M_(i,e){if(!e)throw new _("Streaming data not available");let t=[...e.formats||[],...e.adaptive_formats||[]],n=i.type?i.type.includes("audio"):!0,s=i.type?i.type.includes("video"):!0,u=i.language||"original",d=i.quality||"best",p=-1,m=["best","bestefficiency"].includes(d),h=d!=="best",v=t.filter(g=>n&&!g.has_audio||s&&!g.has_video||i.format!=="any"&&!g.mime_type.includes(i.format||"mp4")||!m&&g.quality_label!==d?!1:(p<g.width&&(p=g.width),!0));if(!v.length)throw new _("No matching formats found",{options:i});if(m&&s&&(v=v.filter(g=>g.width===p)),n&&!s){let g=v.filter(b=>u!=="original"?!b.has_video&&b.language===u:!b.has_video&&b.is_original);g.length>0&&(v=g)}return h?v.sort((g,b)=>g.bitrate-b.bitrate):v.sort((g,b)=>b.bitrate-g.bitrate),v[0]}o(M_,"chooseFormat");var bp,xp,rn=class{constructor(e,t){bp.set(this,void 0),xp.set(this,void 0),T(this,bp,l.parseResponse(t.data),"f"),T(this,xp,e,"f"),this.transcript=c(this,bp,"f").actions_memo.getType(yo).first()}selectLanguage(e){var t,n,s,u;return w(this,void 0,void 0,function*(){let d=(u=(s=(n=(t=this.transcript.content)===null||t===void 0?void 0:t.footer)===null||n===void 0?void 0:n.language_menu)===null||s===void 0?void 0:s.sub_menu_items)===null||u===void 0?void 0:u.find(m=>m.title.toString()===e);if(!d)throw new Error(`Language not found: ${e}`);if(d.selected)return this;let p=yield c(this,xp,"f").execute("/get_transcript",{params:d.continuation});return new rn(c(this,xp,"f"),p)})}get languages(){var e,t,n,s;return((s=(n=(t=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||t===void 0?void 0:t.language_menu)===null||n===void 0?void 0:n.sub_menu_items)===null||s===void 0?void 0:s.map(u=>u.title.toString()))||[]}get selectedLanguage(){var e,t,n,s,u;return((u=(s=(n=(t=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||t===void 0?void 0:t.language_menu)===null||n===void 0?void 0:n.sub_menu_items)===null||s===void 0?void 0:s.find(d=>d.selected))===null||u===void 0?void 0:u.title.toString())||""}get page(){return c(this,bp,"f")}};o(rn,"TranscriptInfo");bp=new WeakMap,xp=new WeakMap;var R0=rn;var li,nt,sn,wp,N_=class{constructor(e,t,n){var s,u;li.set(this,void 0),nt.set(this,void 0),sn.set(this,void 0),wp.set(this,void 0),T(this,nt,t,"f");let d=l.parseResponse(e[0].data),p=!((s=e==null?void 0:e[1])===null||s===void 0)&&s.data?l.parseResponse(e[1].data):void 0;if(T(this,li,[d,p],"f"),T(this,sn,n,"f"),((u=d.playability_status)===null||u===void 0?void 0:u.status)==="ERROR")throw new _("This video is unavailable",d.playability_status);this.streaming_data=d.streaming_data,this.playability_status=d.playability_status,T(this,wp,d.playback_tracking,"f")}toDash(e,t,n={include_thumbnails:!1}){var s;return w(this,void 0,void 0,function*(){let u=c(this,li,"f")[0];if(u.video_details&&(u.video_details.is_live||u.video_details.is_post_live_dvr))throw new _("Generating DASH manifests for live and Post-Live-DVR videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let d;return n.include_thumbnails&&((s=u.storyboards)===null||s===void 0?void 0:s.is(gi))&&(d=u.storyboards),P_(this.streaming_data,e,t,c(this,sn,"f"),c(this,nt,"f").session.player,c(this,nt,"f"),d)})}getStreamingInfo(e,t){var n;return E_(this.streaming_data,e,t,this.cpn,c(this,nt,"f").session.player,c(this,nt,"f"),!((n=c(this,li,"f")[0].storyboards)===null||n===void 0)&&n.is(gi)?c(this,li,"f")[0].storyboards:void 0)}chooseFormat(e){return M_(e,this.streaming_data)}download(e={}){return w(this,void 0,void 0,function*(){let t=c(this,li,"f")[0];if(t.video_details&&(t.video_details.is_live||t.video_details.is_post_live_dvr))throw new _("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Lv(e,c(this,nt,"f"),this.playability_status,this.streaming_data,c(this,nt,"f").session.player,this.cpn)})}getTranscript(){var e;return w(this,void 0,void 0,function*(){let t=this.page[1];if(!t)throw new _("Cannot get transcript from basic video info.");if(!t.engagement_panels)throw new _("Engagement panels not found. Video likely has no transcript.");let n=t.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!n)throw new _("Transcript panel not found. Video likely has no transcript.");let s=(e=n.content)===null||e===void 0?void 0:e.as(ue);if(!s)throw new _("Transcript continuation not found.");let u=yield s.endpoint.call(this.actions);return new R0(this.actions,u)})}addToWatchHistory(e=B.WEB.NAME,t=B.WEB.VERSION,n="https://www."){return w(this,void 0,void 0,function*(){if(!c(this,wp,"f"))throw new _("Playback tracking not available");let s={cpn:c(this,sn,"f"),fmt:251,rtn:0,rt:0},u=c(this,wp,"f").videostats_playback_url.replace("https://s.",n);return yield c(this,nt,"f").stats(u,{client_name:e,client_version:t},s)})}get actions(){return c(this,nt,"f")}get cpn(){return c(this,sn,"f")}get page(){return c(this,li,"f")}};o(N_,"MediaInfo");li=new WeakMap,nt=new WeakMap,sn=new WeakMap,wp=new WeakMap;var ui=N_;var di,an=class extends ui{constructor(e,t,n){var s,u,d,p,m,h,v,g,b,x,C,E,D,M,W,Y,te,ne,ae,le,ce,j,O,J,H,pe,Ye,je,Ue,Se,Me,Ne,ee,ve,rt,st,at,lt,Ge,Tn,tv,iv;super(e,t,n),di.set(this,void 0);let[Z,St]=this.page;if(Z.microformat&&!(!((s=Z.microformat)===null||s===void 0)&&s.is(it,pt)))throw new _("Invalid microformat",Z.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},Z.video_details),{embed:!((u=Z.microformat)===null||u===void 0)&&u.is(it)?(d=Z.microformat)===null||d===void 0?void 0:d.embed:null,channel:!((p=Z.microformat)===null||p===void 0)&&p.is(it)?(m=Z.microformat)===null||m===void 0?void 0:m.channel:null,is_unlisted:(h=Z.microformat)===null||h===void 0?void 0:h.is_unlisted,is_family_safe:(v=Z.microformat)===null||v===void 0?void 0:v.is_family_safe,category:!((g=Z.microformat)===null||g===void 0)&&g.is(it)?(b=Z.microformat)===null||b===void 0?void 0:b.category:null,has_ypc_metadata:!((x=Z.microformat)===null||x===void 0)&&x.is(it)?(C=Z.microformat)===null||C===void 0?void 0:C.has_ypc_metadata:null,start_timestamp:!((E=Z.microformat)===null||E===void 0)&&E.is(it)?Z.microformat.start_timestamp:null,view_count:((D=Z.microformat)===null||D===void 0?void 0:D.is(it))&&isNaN((M=Z.video_details)===null||M===void 0?void 0:M.view_count)?Z.microformat.view_count:(W=Z.video_details)===null||W===void 0?void 0:W.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=Z.annotations,this.storyboards=Z.storyboards,this.endscreen=Z.endscreen,this.captions=Z.captions,this.cards=Z.cards,this.streaming_data){let ge=this.streaming_data.adaptive_formats.find(Ot=>{var ke;return(ke=Ot.audio_track)===null||ke===void 0?void 0:ke.audio_is_default});if(ge)this.streaming_data.formats.forEach(Ot=>Ot.language=ge.language);else if(typeof((Y=this.captions)===null||Y===void 0?void 0:Y.default_audio_track_index)<"u"&&((te=this.captions)===null||te===void 0?void 0:te.audio_tracks)&&this.captions.caption_tracks){let ke=this.captions.audio_tracks[this.captions.default_audio_track_index].default_caption_track_index||0,ig=this.captions.caption_tracks[ke].language_code;this.streaming_data.adaptive_formats.forEach(Dp=>{Dp.has_audio&&(Dp.language=ig)}),this.streaming_data.formats.forEach(Dp=>Dp.language=ig)}}let Ve=(ne=St==null?void 0:St.contents)===null||ne===void 0?void 0:ne.item().as(Uo),po=Ve==null?void 0:Ve.results,Ap=Ve==null?void 0:Ve.secondary_results;if(po&&Ap){if(((ae=Z.microformat)===null||ae===void 0?void 0:ae.is(it))&&((le=Z.microformat)===null||le===void 0?void 0:le.category)==="Gaming"){let ke=(O=(j=(ce=po.firstOfType(Hc))===null||ce===void 0?void 0:ce.metadata)===null||j===void 0?void 0:j.rows)===null||O===void 0?void 0:O.firstOfType(Bd);ke!=null&&ke.is(Bd)&&(this.game_info={title:(H=(J=ke==null?void 0:ke.contents)===null||J===void 0?void 0:J.firstOfType(Dd))===null||H===void 0?void 0:H.title,release_year:(Ye=(pe=ke==null?void 0:ke.contents)===null||pe===void 0?void 0:pe.firstOfType(Dd))===null||Ye===void 0?void 0:Ye.subtitle})}this.primary_info=po.firstOfType($h),this.secondary_info=po.firstOfType(Hc),this.merchandise=po.firstOfType(zf),this.related_chip_cloud=(je=Ap.firstOfType(Mh))===null||je===void 0?void 0:je.content.as(We),Ve!=null&&Ve.playlist&&(this.playlist=Ve.playlist),this.watch_next_feed=((Ue=Ap.firstOfType(oe))===null||Ue===void 0?void 0:Ue.contents)||Ap,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((Se=this.watch_next_feed.at(-1))===null||Se===void 0?void 0:Se.is(ue))&&T(this,di,(Me=this.watch_next_feed.pop())===null||Me===void 0?void 0:Me.as(ue),"f"),this.player_overlays=(Ne=St==null?void 0:St.player_overlays)===null||Ne===void 0?void 0:Ne.item().as(Gt),Ve!=null&&Ve.autoplay&&(this.autoplay=Ve.autoplay);let ge=(ve=(ee=this.primary_info)===null||ee===void 0?void 0:ee.menu)===null||ve===void 0?void 0:ve.top_level_buttons.firstOfType(Vi);((rt=ge==null?void 0:ge.like_button)===null||rt===void 0?void 0:rt.is(he))&&((st=ge==null?void 0:ge.dislike_button)===null||st===void 0?void 0:st.is(he))&&(this.basic_info.like_count=(at=ge==null?void 0:ge.like_button)===null||at===void 0?void 0:at.like_count,this.basic_info.is_liked=(lt=ge==null?void 0:ge.like_button)===null||lt===void 0?void 0:lt.is_toggled,this.basic_info.is_disliked=(Ge=ge==null?void 0:ge.dislike_button)===null||Ge===void 0?void 0:Ge.is_toggled);let Ot=(Tn=po.get({target_id:"comments-entry-point"}))===null||Tn===void 0?void 0:Tn.as(oe);this.comments_entry_point_header=(tv=Ot==null?void 0:Ot.contents)===null||tv===void 0?void 0:tv.firstOfType(Zm),this.livechat=(iv=St==null?void 0:St.contents_memo)===null||iv===void 0?void 0:iv.getType(Ef).first()}}selectFilter(e){var t,n,s,u;return w(this,void 0,void 0,function*(){if(!this.related_chip_cloud)throw new _("Chip cloud not found, cannot apply filter");let d;if(typeof e=="string"){let h=(n=(t=this.related_chip_cloud)===null||t===void 0?void 0:t.chips)===null||n===void 0?void 0:n.get({text:e});if(!h)throw new _("Invalid filter",{available_filters:this.filters});d=h}else if(e!=null&&e.is(ie))d=e;else throw new _("Invalid cloud chip",e);if(d.is_selected)return this;let p=yield(s=d.endpoint)===null||s===void 0?void 0:s.call(this.actions,{parse:!0}),m=(u=p==null?void 0:p.on_response_received_endpoints)===null||u===void 0?void 0:u.get({target_id:"watch-next-feed"});return this.watch_next_feed=m==null?void 0:m.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return w(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){var e,t,n,s,u;return w(this,void 0,void 0,function*(){if(!c(this,di,"f"))throw new _("Watch next feed continuation not found");let d=yield(e=c(this,di,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(t=d==null?void 0:d.on_response_received_endpoints)===null||t===void 0?void 0:t.get({type:"appendContinuationItemsAction"});if(!p)throw new _("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((s=(n=this.watch_next_feed)===null||n===void 0?void 0:n.at(-1))===null||s===void 0)&&s.is(ue)?T(this,di,(u=this.watch_next_feed.pop())===null||u===void 0?void 0:u.as(ue),"f"):T(this,di,void 0,"f"),this})}like(){var e,t;return w(this,void 0,void 0,function*(){let n=(t=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||t===void 0?void 0:t.top_level_buttons.firstOfType(Vi),s=n==null?void 0:n.like_button;if(!s)throw new _("Like button not found",{video_id:this.basic_info.id});if(!s.is(he))throw new _("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new _("This video is already liked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)})}dislike(){var e,t;return w(this,void 0,void 0,function*(){let n=(t=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||t===void 0?void 0:t.top_level_buttons.firstOfType(Vi),s=n==null?void 0:n.dislike_button;if(!s)throw new _("Dislike button not found",{video_id:this.basic_info.id});if(!s.is(he))throw new _("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new _("This video is already disliked",{video_id:this.basic_info.id});return yield s.endpoint.call(this.actions)})}removeRating(){var e,t;return w(this,void 0,void 0,function*(){let n,s=(t=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||t===void 0?void 0:t.top_level_buttons.firstOfType(Vi),u=s==null?void 0:s.like_button,d=s==null?void 0:s.dislike_button;if(!(u!=null&&u.is(he))||!(d!=null&&d.is(he)))throw new _("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(u!=null&&u.is_toggled?n=u:d!=null&&d.is_toggled&&(n=d),!n)throw new _("This video is not liked/disliked",{video_id:this.basic_info.id});return yield n.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new _("Live Chat is not available",{video_id:this.basic_info.id});return new I_(this)}getTrailerInfo(){var e,t;if(this.has_trailer){let n=(t=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(nd).trailer)===null||t===void 0?void 0:t.player_response;if(n)return new an([{data:n}],this.actions,this.cpn)}return null}get filters(){var e,t;return((t=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||t===void 0?void 0:t.map(n=>{var s;return(s=n.text)===null||s===void 0?void 0:s.toString()}))||[]}get wn_has_continuation(){return!!c(this,di,"f")}get autoplay_video_endpoint(){var e,t,n;return((n=(t=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(nd))}get music_tracks(){var e,t,n,s,u,d;let p=(t=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||t===void 0?void 0:t.filter(m=>{var h;return(h=m.content)===null||h===void 0?void 0:h.is(xi)});if(p!==void 0&&p.length>0){let m=(u=(s=(n=p[0].content)===null||n===void 0?void 0:n.as(xi))===null||s===void 0?void 0:s.items)===null||u===void 0?void 0:u.filterType(go);if(m!==void 0&&m.length>0)return(d=m[0].carousel_lockups)===null||d===void 0?void 0:d.map(h=>{var v,g,b,x,C,E,D,M,W,Y,te,ne,ae,le,ce,j,O,J,H;let pe,Ye,je,Ue,Se,Me;pe=(g=(v=h.video_lockup)===null||v===void 0?void 0:v.title)===null||g===void 0?void 0:g.toString(),Se=(b=h.video_lockup)===null||b===void 0?void 0:b.endpoint.payload.videoId;for(let Ne=0;Ne<h.info_rows.length;Ne++){let ee=h.info_rows[Ne];if(ee.info_row_expand_status_key===void 0)if(pe===void 0){if(pe=((x=ee.default_metadata)===null||x===void 0?void 0:x.toString())||((C=ee.expanded_metadata)===null||C===void 0?void 0:C.toString()),Se===void 0){let ve=((E=ee.default_metadata)===null||E===void 0?void 0:E.endpoint)||((D=ee.expanded_metadata)===null||D===void 0?void 0:D.endpoint);Se=(M=ve==null?void 0:ve.payload)===null||M===void 0?void 0:M.videoId}}else je=((W=ee.default_metadata)===null||W===void 0?void 0:W.toString())||((Y=ee.expanded_metadata)===null||Y===void 0?void 0:Y.toString());else{if(((te=ee.info_row_expand_status_key)===null||te===void 0?void 0:te.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(Ye=((ne=ee.default_metadata)===null||ne===void 0?void 0:ne.toString())||((ae=ee.expanded_metadata)===null||ae===void 0?void 0:ae.toString()),Me===void 0)){let ve=((le=ee.default_metadata)===null||le===void 0?void 0:le.endpoint)||((ce=ee.expanded_metadata)===null||ce===void 0?void 0:ce.endpoint);Me=(j=ve==null?void 0:ve.payload)===null||j===void 0?void 0:j.browseId}((O=ee.info_row_expand_status_key)===null||O===void 0?void 0:O.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(Ue=((J=ee.default_metadata)===null||J===void 0?void 0:J.toString())||((H=ee.expanded_metadata)===null||H===void 0?void 0:H.toString()))}}return{song:pe,artist:Ye,album:je,license:Ue,videoId:Se,channelId:Me}})}return[]}};o(an,"VideoInfo");di=new WeakMap;var Tp=an;var Jv={};me(Jv,{Album:()=>E0,Artist:()=>P0,Explore:()=>M0,HomeFeed:()=>N0,Library:()=>V0,LibraryContinuation:()=>eo,Playlist:()=>B_,Recap:()=>D0,Search:()=>O0,TrackInfo:()=>B0});var Vt,V_=class{constructor(e){var t,n,s;if(Vt.set(this,void 0),T(this,Vt,l.parseResponse(e.data),"f"),this.header=(t=c(this,Vt,"f").header)===null||t===void 0?void 0:t.item().as(Pi),this.url=((n=c(this,Vt,"f").microformat)===null||n===void 0?void 0:n.as(pt).url_canonical)||null,!c(this,Vt,"f").contents_memo)throw new Error("No contents found in the response");this.contents=(s=c(this,Vt,"f").contents_memo.getType(re))===null||s===void 0?void 0:s.first().contents,this.sections=c(this,Vt,"f").contents_memo.getType(xe)||[]}get page(){return c(this,Vt,"f")}};o(V_,"Album");Vt=new WeakMap;var E0=V_;var ln,A_,D_=class{constructor(e,t){var n,s,u;ln.set(this,void 0),A_.set(this,void 0),T(this,ln,l.parseResponse(e.data),"f"),T(this,A_,t,"f"),this.header=(n=this.page.header)===null||n===void 0?void 0:n.item().as(ah,mh,$t);let d=((s=c(this,ln,"f").contents_memo)===null||s===void 0?void 0:s.getType(re))||[],p=((u=c(this,ln,"f").contents_memo)===null||u===void 0?void 0:u.getType(xe))||[];this.sections=[...d,...p]}getAllSongs(){var e,t;return w(this,void 0,void 0,function*(){let n=this.sections.filter(p=>p.type==="MusicShelf");if(!n.length)throw new _("Could not find any node of type MusicShelf.");let s=n.find(p=>p.title.toString()==="Songs");if(!s)throw new _("Could not find target shelf (Songs).");if(!s.endpoint)throw new _("Target shelf (Songs) did not have an endpoint.");return(t=(e=(yield s.endpoint.call(c(this,A_,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)===null||e===void 0?void 0:e.getType(Mi))===null||t===void 0?void 0:t.first()})}get page(){return c(this,ln,"f")}};o(D_,"Artist");ln=new WeakMap,A_=new WeakMap;var P0=D_;var Ip,O_=class{constructor(e){var t,n,s;Ip.set(this,void 0),T(this,Ip,l.parseResponse(e.data),"f");let u=(t=c(this,Ip,"f").contents)===null||t===void 0?void 0:t.item().as(ft).tabs.get({selected:!0});if(!u)throw new _("Could not find target tab.");let d=(n=u.content)===null||n===void 0?void 0:n.as($);if(!d)throw new _("Target tab did not have any content.");this.top_buttons=((s=d.contents.firstOfType(Ci))===null||s===void 0?void 0:s.items.as(Do))||[],this.sections=d.contents.filterType(xe)}get page(){return c(this,Ip,"f")}};o(O_,"Explore");Ip=new WeakMap;var M0=O_;var ci,Xi,Qi,Zi=class{constructor(e,t){var n,s,u,d,p,m;ci.set(this,void 0),Xi.set(this,void 0),Qi.set(this,void 0),T(this,Xi,t,"f"),T(this,ci,l.parseResponse(e.data),"f");let h=(n=c(this,ci,"f").contents)===null||n===void 0?void 0:n.item().as(ft).tabs.get({selected:!0});if(!h)throw new _("Could not find Home tab.");if(h.content===null){if(!c(this,ci,"f").continuation_contents)throw new _("Continuation did not have any content.");T(this,Qi,c(this,ci,"f").continuation_contents.as(Oe).continuation,"f"),this.sections=(s=c(this,ci,"f").continuation_contents.as(Oe).contents)===null||s===void 0?void 0:s.as(xe);return}this.header=(d=(u=h.content)===null||u===void 0?void 0:u.as($).header)===null||d===void 0?void 0:d.as(We),T(this,Qi,(p=h.content)===null||p===void 0?void 0:p.as($).continuation,"f"),this.sections=(m=h.content)===null||m===void 0?void 0:m.as($).contents.as(xe,ph)}getContinuation(){return w(this,void 0,void 0,function*(){if(!c(this,Qi,"f"))throw new _("Continuation not found.");let e=yield c(this,Xi,"f").execute("/browse",{client:"YTMUSIC",continuation:c(this,Qi,"f")});return new Zi(e,c(this,Xi,"f"))})}applyFilter(e){var t,n;return w(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(s=(n=(t=this.header)===null||t===void 0?void 0:t.chips)===null||n===void 0?void 0:n.as(ie).get({text:e}),!s)throw new _("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(ie)&&(s=e);if(!s)throw new _("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new _("Selected filter does not have an endpoint.");let u=yield s.endpoint.call(c(this,Xi,"f"),{client:"YTMUSIC"});return new Zi(u,c(this,Xi,"f"))})}get filters(){var e,t;return((t=(e=this.header)===null||e===void 0?void 0:e.chips)===null||t===void 0?void 0:t.as(ie).map(n=>n.text))||[]}get has_continuation(){return!!c(this,Qi,"f")}get page(){return c(this,ci,"f")}};o(Zi,"HomeFeed");ci=new WeakMap,Xi=new WeakMap,Qi=new WeakMap;var N0=Zi;var xt,pi,un,dn,Sp,cn,pn=class{constructor(e,t){var n,s,u,d,p;xt.set(this,void 0),pi.set(this,void 0),un.set(this,void 0),T(this,xt,l.parseResponse(e.data),"f"),T(this,pi,t,"f");let m=(n=c(this,xt,"f").contents_memo)===null||n===void 0?void 0:n.getType($).first();this.header=(s=m==null?void 0:m.header)===null||s===void 0?void 0:s.as(dh),this.contents=(u=m==null?void 0:m.contents)===null||u===void 0?void 0:u.as(Ci,re),T(this,un,(p=(d=this.contents)===null||d===void 0?void 0:d.find(h=>h.continuation))===null||p===void 0?void 0:p.continuation,"f")}applySort(e){var t,n,s,u,d,p,m,h,v,g;return w(this,void 0,void 0,function*(){let b;if(typeof e=="string"){let D=(t=c(this,xt,"f").contents_memo)===null||t===void 0?void 0:t.getType(Ju).first(),M=(n=D==null?void 0:D.menu)===null||n===void 0?void 0:n.options.filter(W=>W instanceof Qe);if(b=M==null?void 0:M.find(W=>W.title===e),!b)throw new _(`Sort option "${e}" not found`,{available_filters:M.map(W=>W.title)})}else e instanceof Qe&&(b=e);if(!b)throw new _("Invalid sort option");if(b.selected)return this;let x=(p=(d=(u=(s=b.endpoint)===null||s===void 0?void 0:s.payload)===null||u===void 0?void 0:u.commands)===null||d===void 0?void 0:d.find(D=>D.browseSectionListReloadEndpoint))===null||p===void 0?void 0:p.browseSectionListReloadEndpoint;if(!x)throw new _("Failed to find sort option command");let C=yield c(this,pi,"f").execute("/browse",{client:"YTMUSIC",continuation:x.continuation.reloadContinuationData.continuation,parse:!0}),E=(h=(m=c(this,xt,"f").contents_memo)===null||m===void 0?void 0:m.getType(Qe))===null||h===void 0?void 0:h.find(D=>D.selected);return E&&(E.selected=!1),b.selected=!0,this.contents=(g=(v=C.continuation_contents)===null||v===void 0?void 0:v.as(Oe).contents)===null||g===void 0?void 0:g.as(Ci,re),this})}applyFilter(e){var t,n,s,u;return w(this,void 0,void 0,function*(){let d,p=(t=c(this,xt,"f").contents_memo)===null||t===void 0?void 0:t.getType(We).first();if(typeof e=="string"){if(d=p==null?void 0:p.chips.get({text:e}),!d)throw new _(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof ie&&(d=e);if(!d)throw new _("Invalid filter",e);let h=yield new f((u=(s=(n=d.endpoint)===null||n===void 0?void 0:n.payload)===null||s===void 0?void 0:s.commands)===null||u===void 0?void 0:u[0]).call(c(this,pi,"f"),{client:"YTMUSIC"});return new pn(h,c(this,pi,"f"))})}getContinuation(){return w(this,void 0,void 0,function*(){if(!c(this,un,"f"))throw new _("No continuation available");let e=yield c(this,pi,"f").execute("/browse",{client:"YTMUSIC",continuation:c(this,un,"f")});return new eo(e,c(this,pi,"f"))})}get has_continuation(){return!!c(this,un,"f")}get sort_options(){var e,t;let n=(e=c(this,xt,"f").contents_memo)===null||e===void 0?void 0:e.getType(Ju).first();return((t=n==null?void 0:n.menu)===null||t===void 0?void 0:t.options.filter(u=>u instanceof Qe)).map(u=>u.title)}get filters(){var e,t;return((t=(e=c(this,xt,"f").contents_memo)===null||e===void 0?void 0:e.getType(We))===null||t===void 0?void 0:t.first().chips.map(n=>n.text))||[]}get page(){return c(this,xt,"f")}};o(pn,"Library");xt=new WeakMap,pi=new WeakMap,un=new WeakMap;var eo=class{constructor(e,t){if(dn.set(this,void 0),Sp.set(this,void 0),cn.set(this,void 0),T(this,dn,l.parseResponse(e.data),"f"),T(this,Sp,t,"f"),!c(this,dn,"f").continuation_contents)throw new _("No continuation contents found");this.contents=c(this,dn,"f").continuation_contents.as(_t,ei),T(this,cn,this.contents.continuation||null,"f")}getContinuation(){return w(this,void 0,void 0,function*(){if(!c(this,cn,"f"))throw new _("No continuation available");let e=yield c(this,Sp,"f").execute("/browse",{client:"YTMUSIC",continuation:c(this,cn,"f")});return new eo(e,c(this,Sp,"f"))})}get has_continuation(){return!!c(this,cn,"f")}get page(){return c(this,dn,"f")}};o(eo,"LibraryContinuation");dn=new WeakMap,Sp=new WeakMap,cn=new WeakMap;var V0=pn;var Wv,Je,io,to,mn,kp,A0,fn=class{constructor(e,t){var n,s,u,d,p,m,h;if(Wv.add(this),Je.set(this,void 0),io.set(this,void 0),to.set(this,void 0),mn.set(this,void 0),kp.set(this,void 0),T(this,io,t,"f"),T(this,Je,l.parseResponse(e.data),"f"),T(this,mn,null,"f"),T(this,kp,null,"f"),c(this,Je,"f").continuation_contents){let v=(n=c(this,Je,"f").continuation_contents)===null||n===void 0?void 0:n.as(Zt);this.items=v.contents,T(this,to,v.continuation,"f")}else((s=c(this,Je,"f").header)===null||s===void 0?void 0:s.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=(d=(u=c(this,Je,"f").header)===null||u===void 0?void 0:u.item().as(sh).header)===null||d===void 0?void 0:d.as(Pi):this.header=(p=c(this,Je,"f").header)===null||p===void 0?void 0:p.item().as(Pi),this.items=((m=c(this,Je,"f").contents_memo)===null||m===void 0?void 0:m.getType(Mi).first().contents)||null,T(this,to,((h=c(this,Je,"f").contents_memo)===null||h===void 0?void 0:h.getType(Mi).first().continuation)||null,"f")}getContinuation(){return w(this,void 0,void 0,function*(){if(!c(this,to,"f"))throw new _("Continuation not found.");let e=yield c(this,io,"f").execute("/browse",{client:"YTMUSIC",continuation:c(this,to,"f")});return new fn(e,c(this,io,"f"))})}getRelated(){var e,t,n,s,u;return w(this,void 0,void 0,function*(){let d=(t=(e=c(this,Je,"f").contents_memo)===null||e===void 0?void 0:e.getType($))===null||t===void 0?void 0:t[0].continuation;for(;d;){let m=(n=(yield c(this,io,"f").execute("/browse",{client:"YTMUSIC",continuation:d,parse:!0})).continuation_contents)===null||n===void 0?void 0:n.as(Oe),h=(s=m==null?void 0:m.contents)===null||s===void 0?void 0:s.as(xe,re),v=(u=h==null?void 0:h.matchCondition(g=>g.is(xe)))===null||u===void 0?void 0:u.as(xe);if(v)return v;d=m==null?void 0:m.continuation}throw new _("Target section not found.")})}getSuggestions(e=!0){return w(this,void 0,void 0,function*(){let s=yield e||!c(this,mn,"f")?c(this,Wv,"m",A0).call(this):Promise.resolve(null);return s&&(T(this,mn,s.items,"f"),T(this,kp,s.continuation,"f")),(s==null?void 0:s.items)||c(this,mn,"f")})}get page(){return c(this,Je,"f")}get has_continuation(){return!!c(this,to,"f")}};o(fn,"Playlist");Je=new WeakMap,io=new WeakMap,to=new WeakMap,mn=new WeakMap,kp=new WeakMap,Wv=new WeakSet,A0=o(function(){var e,t,n,s,u;return w(this,void 0,void 0,function*(){let d=c(this,kp,"f")||((t=(e=c(this,Je,"f").contents_memo)===null||e===void 0?void 0:e.get("SectionList"))===null||t===void 0?void 0:t[0].as($).continuation);if(d){let m=(n=(yield c(this,io,"f").execute("/browse",{client:"YTMUSIC",continuation:d,parse:!0})).continuation_contents)===null||n===void 0?void 0:n.as(Oe),h=(s=m==null?void 0:m.contents)===null||s===void 0?void 0:s.as(xe,re),v=(u=h==null?void 0:h.matchCondition(g=>g.is(re)))===null||u===void 0?void 0:u.as(re);return{items:(v==null?void 0:v.contents)||[],continuation:(v==null?void 0:v.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var B_=fn;var mi,Cp,F_=class{constructor(e,t){var n,s,u,d,p,m,h;mi.set(this,void 0),Cp.set(this,void 0),T(this,mi,l.parseResponse(e.data),"f"),T(this,Cp,t,"f");let v=(n=c(this,mi,"f").header)===null||n===void 0?void 0:n.item();this.header=v!=null&&v.is(Pu)?(d=(u=(s=c(this,mi,"f").header)===null||s===void 0?void 0:s.item().as(Pu).element)===null||u===void 0?void 0:u.model)===null||d===void 0?void 0:d.as(ja):(p=c(this,mi,"f").header)===null||p===void 0?void 0:p.item().as($t);let g=(m=c(this,mi,"f").contents)===null||m===void 0?void 0:m.item().as(ft).tabs.firstOfType(de);if(!g)throw new _("Target tab not found");this.sections=(h=g.content)===null||h===void 0?void 0:h.as($).contents.as(oe,xe,De)}getPlaylist(){return w(this,void 0,void 0,function*(){if(!this.header)throw new _("Header not found");if(!this.header.is(ja))throw new _("Recap playlist not available, check back later.");let t=yield this.header.panels[0].text_on_tap_endpoint.call(c(this,Cp,"f"),{client:"YTMUSIC"});return new B_(t,c(this,Cp,"f"))})}get page(){return c(this,mi,"f")}};o(F_,"Recap");mi=new WeakMap,Cp=new WeakMap;var D0=F_;var wt,At,hn,Rp,_n,oo=class{constructor(e,t,n){var s,u,d;if(wt.set(this,void 0),At.set(this,void 0),hn.set(this,void 0),T(this,At,t,"f"),T(this,wt,l.parseResponse(e.data),"f"),!c(this,wt,"f").contents||!c(this,wt,"f").contents_memo)throw new _("Response did not contain any contents.");let p=c(this,wt,"f").contents.item().as(Uh).tabs.get({selected:!0});if(!p)throw new _("Could not find target tab.");let m=(s=p.content)===null||s===void 0?void 0:s.as($);if(!m)throw new _("Target tab did not have any content.");this.header=(u=m.header)===null||u===void 0?void 0:u.as(We),this.contents=m.contents.as(re,Zf,oe),n&&T(this,hn,(d=this.contents.firstOfType(re))===null||d===void 0?void 0:d.continuation,"f")}getMore(e){return w(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new _("Cannot retrieve more items for this shelf because it does not have an endpoint.");let t=yield e.endpoint.call(c(this,At,"f"),{client:"YTMUSIC"});if(!t)throw new _("Endpoint did not return any data");return new oo(t,c(this,At,"f"),!0)})}getContinuation(){return w(this,void 0,void 0,function*(){if(!c(this,hn,"f"))throw new _("Continuation not found.");let e=yield c(this,At,"f").execute("/search",{continuation:c(this,hn,"f"),client:"YTMUSIC"});return new vn(c(this,At,"f"),e)})}applyFilter(e){var t,n;return w(this,void 0,void 0,function*(){let s;if(typeof e=="string"){if(s=(n=(t=this.header)===null||t===void 0?void 0:t.chips)===null||n===void 0?void 0:n.as(ie).get({text:e}),!s)throw new _("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(ie)&&(s=e);if(!s)throw new _("Invalid filter",{available_filters:this.filters});if(s!=null&&s.is_selected)return this;if(!s.endpoint)throw new _("Selected filter does not have an endpoint.");let u=yield s.endpoint.call(c(this,At,"f"),{client:"YTMUSIC"});return new oo(u,c(this,At,"f"),!0)})}get filters(){var e,t;return((t=(e=this.header)===null||e===void 0?void 0:e.chips)===null||t===void 0?void 0:t.as(ie).map(n=>n.text))||[]}get has_continuation(){return!!c(this,hn,"f")}get did_you_mean(){var e;return(e=c(this,wt,"f").contents_memo)===null||e===void 0?void 0:e.getType(uf).first()}get showing_results_for(){var e;return(e=c(this,wt,"f").contents_memo)===null||e===void 0?void 0:e.getType(Lh).first()}get message(){var e;return(e=c(this,wt,"f").contents_memo)===null||e===void 0?void 0:e.getType(De).first()}get songs(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(re).find(t=>t.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(re).find(t=>t.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(re).find(t=>t.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(re).find(t=>t.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(re).find(t=>t.title.toString()==="Community playlists")}get results(){var e,t;return(t=(e=this.contents)===null||e===void 0?void 0:e.firstOfType(re))===null||t===void 0?void 0:t.contents}get sections(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(re)}get page(){return c(this,wt,"f")}};o(oo,"Search");wt=new WeakMap,At=new WeakMap,hn=new WeakMap;var O0=oo,vn=class{constructor(e,t){var n,s;Rp.set(this,void 0),_n.set(this,void 0),T(this,Rp,e,"f"),T(this,_n,l.parseResponse(t.data),"f"),this.header=(n=c(this,_n,"f").header)===null||n===void 0?void 0:n.item().as($t),this.contents=(s=c(this,_n,"f").continuation_contents)===null||s===void 0?void 0:s.as(_t)}getContinuation(){var e;return w(this,void 0,void 0,function*(){if(!(!((e=this.contents)===null||e===void 0)&&e.continuation))throw new _("Continuation not found.");let t=yield c(this,Rp,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new vn(c(this,Rp,"f"),t)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}get page(){return c(this,_n,"f")}};o(vn,"SearchContinuation");Rp=new WeakMap,_n=new WeakMap;var L_=class extends ui{constructor(e,t,n){var s,u,d,p,m,h,v,g,b;super(e,t,n);let[x,C]=this.page;if(!(!((s=x.microformat)===null||s===void 0)&&s.is(pt)))throw new _("Invalid microformat",x.microformat);if(this.basic_info=Object.assign(Object.assign({},x.video_details),{description:(u=x.microformat)===null||u===void 0?void 0:u.description,is_unlisted:(d=x.microformat)===null||d===void 0?void 0:d.is_unlisted,is_family_safe:(p=x.microformat)===null||p===void 0?void 0:p.is_family_safe,url_canonical:(m=x.microformat)===null||m===void 0?void 0:m.url_canonical,tags:(h=x.microformat)===null||h===void 0?void 0:h.tags}),this.storyboards=x.storyboards,this.endscreen=x.endscreen,C){let E=(g=(v=C.contents_memo)===null||v===void 0?void 0:v.getType(zh))===null||g===void 0?void 0:g[0];this.tabs=E==null?void 0:E.tabs.array().as(de),this.current_video_endpoint=C.current_video_endpoint,this.player_overlays=(b=C.player_overlays)===null||b===void 0?void 0:b.item().as(Gt)}}getTab(e){var t,n;return w(this,void 0,void 0,function*(){if(!this.tabs)throw new _("Could not find any tab");let s=this.tabs.get({title:e})||this.tabs.matchCondition(d=>{var p,m;return((m=(p=d.endpoint.payload.browseEndpointContextSupportedConfigs)===null||p===void 0?void 0:p.browseEndpointContextMusicConfig)===null||m===void 0?void 0:m.pageType)===e})||((t=this.tabs)===null||t===void 0?void 0:t[0]);if(!s)throw new _(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(s.content)return s.content;let u=yield s.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((n=u.contents)===null||n===void 0?void 0:n.item().type)==="Message")return u.contents.item().as(De);if(!u.contents)throw new _("Page contents was empty",u);return u.contents.item().as($).contents})}getUpNext(e=!0){var t,n;return w(this,void 0,void 0,function*(){let s=yield this.getTab("Up next");if(!s||!s.content)throw new _("Music queue was empty, the video id is probably invalid.",s);let u=s.content.as(Ni);if(!u.playlist_id&&e){let d=u.contents.firstOfType(bo);if(!d)throw new _("Automix item not found");let p=yield(t=d.playlist_video)===null||t===void 0?void 0:t.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!p||!p.contents_memo)throw new _("Could not fetch automix");return(n=p.contents_memo.getType(Ni))===null||n===void 0?void 0:n[0]}return u})}getRelated(){return w(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return w(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(rh)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return w(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,B.YTMUSIC.NAME,B.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};o(L_,"TrackInfo");var B0=L_;var Hv={};me(Hv,{Channel:()=>F0,HomeFeed:()=>L0,Search:()=>Y0,VideoInfo:()=>j0});var gn=class extends se{constructor(e,t,n=!1){var s,u;super(e,t,n),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(To),this.contents=this.memo.getType(oe).first()||((u=this.page.continuation_contents)===null||u===void 0?void 0:u.as(qt))}getContinuation(){var e;return w(this,void 0,void 0,function*(){let t=yield this.actions.execute("/browse",{continuation:(e=this.contents)===null||e===void 0?void 0:e.continuation,client:"YTKIDS"});return new gn(this.actions,t)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}};o(gn,"Channel");var F0=gn;var yn=class extends se{constructor(e,t,n=!1){var s,u;super(e,t,n),this.header=(s=this.page.header)===null||s===void 0?void 0:s.item().as(Xh),this.contents=(u=this.page.contents)===null||u===void 0?void 0:u.item().as(Qh)}selectCategoryTab(e){var t;return w(this,void 0,void 0,function*(){let n;if(typeof e=="string"?n=(t=this.header)===null||t===void 0?void 0:t.category_tabs.find(u=>u.title.toString()===e):e!=null&&e.is(Jo)&&(n=e),!n)throw new _(`Tab "${e}" not found`);let s=yield n.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return s.header=this.page.header,s.header_memo=this.page.header_memo,new yn(this.actions,s,!0)})}get categories(){var e;return((e=this.header)===null||e===void 0?void 0:e.category_tabs.map(t=>t.title.toString()))||[]}};o(yn,"HomeFeed");var L0=yn;var Y_=class extends se{constructor(e,t){super(e,t),this.estimated_results=this.page.estimated_results;let n=this.memo.getType(oe).first();if(!n)throw new _("No item section found in search response.");this.contents=n.contents}};o(Y_,"Search");var Y0=Y_;var j_=class extends ui{constructor(e,t,n){var s,u,d,p,m;super(e,t,n);let[h,v]=this.page;this.basic_info=h.video_details,this.captions=h.captions;let g=(s=v==null?void 0:v.contents)===null||s===void 0?void 0:s.item().as(Uo),b=g==null?void 0:g.results,x=g==null?void 0:g.secondary_results;b&&x&&(this.slim_video_metadata=(d=(u=b.firstOfType(oe))===null||u===void 0?void 0:u.contents)===null||d===void 0?void 0:d.firstOfType(Yh),this.watch_next_feed=((p=x.firstOfType(oe))===null||p===void 0?void 0:p.contents)||x,this.current_video_endpoint=v==null?void 0:v.current_video_endpoint,this.player_overlays=(m=v==null?void 0:v.player_overlays)===null||m===void 0?void 0:m.item().as(Gt))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return w(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};o(j_,"VideoInfo");var j0=j_;var l=U;var He,U_=class{constructor(e,t,n,s){var u,d,p,m,h,v,g,b,x,C,E,D,M,W,Y,te,ne,ae,le,ce,j,O,J,H,pe,Ye,je,Ue,Se,Me,Ne,ee,ve,rt,st,at,lt;He.set(this,void 0),T(this,He,new a(e),"f"),this.id=s||((h=(m=(p=(d=(u=c(this,He,"f"))===null||u===void 0?void 0:u.runs)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.endpoint)===null||m===void 0?void 0:m.payload)===null||h===void 0?void 0:h.browseId)||((b=(g=(v=c(this,He,"f"))===null||v===void 0?void 0:v.endpoint)===null||g===void 0?void 0:g.payload)===null||b===void 0?void 0:b.browseId)||"N/A",this.name=((x=c(this,He,"f"))===null||x===void 0?void 0:x.text)||"N/A",this.thumbnails=n?y.fromResponse(n):[],this.endpoint=((D=(E=(C=c(this,He,"f"))===null||C===void 0?void 0:C.runs)===null||E===void 0?void 0:E[0])===null||D===void 0?void 0:D.endpoint)||((M=c(this,He,"f"))===null||M===void 0?void 0:M.endpoint),this.badges=Array.isArray(t)?l.parseArray(t):q([]),this.is_moderator=(W=this.badges)===null||W===void 0?void 0:W.some(Ge=>Ge.icon_type=="MODERATOR"),this.is_verified=(Y=this.badges)===null||Y===void 0?void 0:Y.some(Ge=>Ge.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(te=this.badges)===null||te===void 0?void 0:te.some(Ge=>Ge.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"),this.url=((j=(ce=(le=(ae=(ne=c(this,He,"f"))===null||ne===void 0?void 0:ne.runs)===null||ae===void 0?void 0:ae[0])===null||le===void 0?void 0:le.endpoint)===null||ce===void 0?void 0:ce.metadata)===null||j===void 0?void 0:j.api_url)==="/browse"&&`${ye.YT_BASE}${((Ye=(pe=(H=(J=(O=c(this,He,"f"))===null||O===void 0?void 0:O.runs)===null||J===void 0?void 0:J[0])===null||H===void 0?void 0:H.endpoint)===null||pe===void 0?void 0:pe.payload)===null||Ye===void 0?void 0:Ye.canonicalBaseUrl)||`/u/${(Ne=(Me=(Se=(Ue=(je=c(this,He,"f"))===null||je===void 0?void 0:je.runs)===null||Ue===void 0?void 0:Ue[0])===null||Se===void 0?void 0:Se.endpoint)===null||Me===void 0?void 0:Me.payload)===null||Ne===void 0?void 0:Ne.browseId}`}`||`${ye.YT_BASE}${((rt=(ve=(ee=c(this,He,"f"))===null||ee===void 0?void 0:ee.endpoint)===null||ve===void 0?void 0:ve.payload)===null||rt===void 0?void 0:rt.canonicalBaseUrl)||`/u/${(lt=(at=(st=c(this,He,"f"))===null||st===void 0?void 0:st.endpoint)===null||at===void 0?void 0:at.payload)===null||lt===void 0?void 0:lt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};o(U_,"Author");He=new WeakMap;var P=U_;var U0={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var W_,J_,A=class{static load(e){T(A,W_,e,"f",J_)}static get shim(){if(!c(A,W_,"f",J_))throw new Error("Platform is not loaded");return c(A,W_,"f",J_)}};o(A,"Platform");W_=A;J_={value:void 0};var _=class extends Error{constructor(e,t){super(e),t&&(this.info=t),this.date=new Date,this.version=A.shim.info.version}};o(_,"InnertubeError");var ze=class extends _{};o(ze,"ParsingError");var Ep=class extends _{};o(Ep,"MissingParamError");var H_=class extends _{};o(H_,"OAuthError");var $e=class extends Error{};o($e,"PlayerError");var bn=class extends Error{};o(bn,"SessionError");var Ko=class extends Error{};o(Ko,"ChannelError");function Op(i,e){return Reflect.ownKeys(i).some(n=>{let s=e[n]instanceof a;return!s&&typeof e[n]=="object"?JSON.stringify(i[n])===JSON.stringify(e[n]):i[n]===(s?e[n].toString():e[n])})}o(Op,"deepCompare");function Pe(i,e,t){let n=new RegExp(`${Gv(e)}(.*?)${Gv(t)}`,"s"),s=i.match(n);return s?s[1]:void 0}o(Pe,"getStringBetweenStrings");function Gv(i){return i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}o(Gv,"escapeStringRegexp");function qi(i){let e=U0[i],t=Math.floor(Math.random()*e.length);return e[t]}o(qi,"getRandomUserAgent");function aT(i){return w(this,void 0,void 0,function*(){let e="https://www.youtube.com",t=Math.floor(new Date().getTime()/1e3),n=[t,i,e].join(" "),s=yield A.shim.sha1Hash(n);return["SAPISIDHASH",[t,s].join("_")].join(" ")})}o(aT,"generateSidAuth");function no(i){let e=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let n=0;n<i;n++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}o(no,"generateRandomString");function be(i){let e=i.split(":").map(t=>parseInt(t.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}o(be,"timeToSeconds");function Nv(...i){let e=new Bt;for(let t of i)if(!!t)for(let n of t)e.set(...n);return e}o(Nv,"concatMemos");function ro(i){for(let[e,t]of Object.entries(i))if(!t)throw new Ep(`${e} is missing`)}o(ro,"throwIfMissing");function lT(i,...e){for(let t of e)if(!Reflect.has(i,t)||i[t]===void 0)return!1;return!0}o(lT,"hasKeys");function Yv(i){return ag(this,arguments,o(function*(){let t=i.getReader();try{for(;;){let{done:n,value:s}=yield hi(t.read());if(n)return yield hi(void 0);yield yield hi(s)}}finally{t.releaseLock()}},"streamToIterable_1"))}o(Yv,"streamToIterable");var uT=o((i,e)=>{let t=typeof i=="string"?new URL(i):i instanceof URL?i:new URL(i.url),n=e!=null&&e.headers?new Headers(e.headers):i instanceof Request?i.headers:new Headers,s=[...n],u=e!=null&&e.body?typeof e.body=="string"?n.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",d=s.length>0?`${s.map(([p,m])=>`    ${p}: ${m}`).join(`
`)}`:"    (none)";return console.log(`YouTube.js Fetch:
  url: ${t.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${d}
' + 
    '  body:
${u}`),A.shim.fetch(i,e)},"debugFetch");function Ke(i){return btoa(String.fromCharCode.apply(null,Array.from(i)))}o(Ke,"u8ToBase64");function vv(i){return new Uint8Array(atob(i).split("").map(e=>e.charCodeAt(0)))}o(vv,"base64ToU8");function Re(i){return!("emoji"in i)}o(Re,"isTextRun");function zv(i){return w(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function t(n){let s=new Uint8Array(n),u=[];for(let d=0;d<s.length;++d)u.push(e[s[d]]);return u.join("")}return o(t,"hex"),t(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(i)))})}o(zv,"sha1Hash");var $_={name:"youtubei.js",version:"7.0.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",build:"npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:browser && npm run bundle:browser:prod","build:parser-map":"node ./scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify",prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^28.1.3",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^28.0.8","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var Pp,so,W0,J0,H0,G_=class{constructor(e){Pp.add(this),so.set(this,void 0),T(this,so,e,"f")}get session(){return c(this,so,"f")}stats(e,t,n){return w(this,void 0,void 0,function*(){let s=new URL(e);s.searchParams.set("ver","2"),s.searchParams.set("c",t.client_name.toLowerCase()),s.searchParams.set("cbrver",t.client_version),s.searchParams.set("cver",t.client_version);for(let d of Object.keys(n))s.searchParams.set(d,n[d]);return yield c(this,so,"f").http.fetch(s)})}execute(e,t){var n,s;return w(this,void 0,void 0,function*(){let u;if(t&&!t.protobuf){if(u=Object.assign({},t),Reflect.has(u,"browseId")&&c(this,Pp,"m",H0).call(this,u.browseId)&&!c(this,so,"f").logged_in)throw new _("You must be signed in to perform this operation.");Reflect.has(u,"override_endpoint")&&delete u.override_endpoint,Reflect.has(u,"parse")&&delete u.parse,Reflect.has(u,"request")&&delete u.request,Reflect.has(u,"clientActions")&&delete u.clientActions,Reflect.has(u,"settingItemIdForClient")&&delete u.settingItemIdForClient,Reflect.has(u,"action")&&(u.actions=[u.action],delete u.action),Reflect.has(u,"boolValue")&&(u.newValue={boolValue:u.boolValue},delete u.boolValue),Reflect.has(u,"token")&&(u.continuation=u.token,delete u.token),(u==null?void 0:u.client)==="YTMUSIC"&&(u.isAudioOnly=!0)}else t&&(u=t.serialized_data);let d=Reflect.has(t||{},"override_endpoint")?t==null?void 0:t.override_endpoint:e,p=yield c(this,so,"f").http.fetch(d,{method:"POST",body:t!=null&&t.protobuf?u:JSON.stringify(u||{}),headers:{"Content-Type":t!=null&&t.protobuf?"application/x-protobuf":"application/json"}});if(t!=null&&t.parse){let m=l.parseResponse(yield p.json());if(c(this,Pp,"m",J0).call(this,m)&&((s=(n=m.on_response_received_actions)===null||n===void 0?void 0:n.first())===null||s===void 0?void 0:s.type)==="navigateAction"){let h=m.on_response_received_actions.firstOfType(Xt);h&&(m=yield h.endpoint.call(this,{parse:!0}))}return m}return c(this,Pp,"m",W0).call(this,p)})}};o(G_,"Actions");so=new WeakMap,Pp=new WeakSet,W0=o(function(e){return w(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),J0=o(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),H0=o(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var Kv=G_;var Mp,Np,z_,K_,Vp,ao=class{constructor(e,t,n,s,u){Mp.set(this,void 0),Np.set(this,void 0),z_.set(this,void 0),K_.set(this,void 0),Vp.set(this,void 0),T(this,Mp,n,"f"),T(this,Np,t,"f"),T(this,z_,e,"f"),T(this,K_,s,"f"),T(this,Vp,u,"f")}static create(e,t=A.shim.fetch){return w(this,void 0,void 0,function*(){let n=new URL("/iframe_api",ye.YT_BASE),s=yield t(n);if(s.status!==200)throw new $e("Failed to request player id");let u=yield s.text(),d=Pe(u,"player\\/","\\/");if(!d)throw new $e("Failed to get player id");let p=new URL(`/s/player/${d}/player_ias.vflset/en_US/base.js`,ye.YT_BASE),m=yield t(p,{headers:{"user-agent":qi("desktop")}});if(!m.ok)throw new $e(`Failed to get player data: ${m.status}`);let h=yield m.text(),v=this.extractSigTimestamp(h),g=this.extractSigSourceCode(h),b=this.extractNSigSourceCode(h);return yield ao.fromSource(v,g,b,d,e)})}decipher(e,t,n,s){return w(this,void 0,void 0,function*(){if(e=e||t||n,!e)throw new $e("No valid URL to decipher");let u=new URLSearchParams(e),d=new URL(u.get("url")||e);if(t||n){let h=yield c(this,Vp,"f").call(this,c(this,Np,"f"),{sig:u.get("s")});if(typeof h!="string")throw new $e("Failed to decipher signature");let v=u.get("sp");v?d.searchParams.set(v,h):d.searchParams.set("signature",h)}let p=d.searchParams.get("n");if(p){let h;if(s&&s.has(p))h=s.get(p);else{if(h=yield c(this,Vp,"f").call(this,c(this,Mp,"f"),{nsig:p}),typeof h!="string")throw new $e("Failed to decipher nsig");h.startsWith("enhanced_except_")?console.warn(`Warning:
Could not transform nsig, download may be throttled.
Changing the InnerTube client to "ANDROID" might help!`):s&&s.set(p,h)}d.searchParams.set("n",h)}switch(d.searchParams.get("c")){case"WEB":d.searchParams.set("cver",B.WEB.VERSION);break;case"WEB_REMIX":d.searchParams.set("cver",B.YTMUSIC.VERSION);break;case"WEB_KIDS":d.searchParams.set("cver",B.WEB_KIDS.VERSION);break;case"ANDROID":d.searchParams.set("cver",B.ANDROID.VERSION);break;case"ANDROID_MUSIC":d.searchParams.set("cver",B.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":d.searchParams.set("cver",B.TV_EMBEDDED.VERSION);break}return d.toString()})}static fromSource(e,t,n,s,u){return w(this,void 0,void 0,function*(){return new ao(e,t,n,s,u)})}static extractSigTimestamp(e){return parseInt(Pe(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var t,n,s;let u=Pe(e,'function(a){a=a.split("")','return a.join("")}'),d=(s=(n=(t=u==null?void 0:u.split(/\.|\[/))===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.replace(";",""))===null||s===void 0?void 0:s.trim(),p=Pe(e,`var ${d}={`,"};");return(!p||!u)&&console.warn(new $e("Failed to extract signature decipher algorithm")),`function descramble_sig(a) { a = a.split(""); let ${d}={${p}}${u} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let t=`function descramble_nsig(a) { let b=a.split("")${Pe(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return t||console.warn(new $e("Failed to extract n-token decipher algorithm")),t}get url(){return new URL(`/s/player/${c(this,K_,"f")}/player_ias.vflset/en_US/base.js`,ye.YT_BASE).toString()}get sts(){return c(this,z_,"f")}get nsig_sc(){return c(this,Mp,"f")}get sig_sc(){return c(this,Np,"f")}static get LIBRARY_VERSION(){return 2}};o(ao,"Player");Mp=new WeakMap,Np=new WeakMap,z_=new WeakMap,K_=new WeakMap,Vp=new WeakMap;var qv=ao;var q_,X_,Q_,lo,Z_,ev,$0,Xv,Qv;(function(i){i.WEB="WEB",i.KIDS="WEB_KIDS",i.MUSIC="WEB_REMIX",i.IOS="iOS",i.ANDROID="ANDROID",i.ANDROID_MUSIC="ANDROID_MUSIC",i.ANDROID_CREATOR="ANDROID_CREATOR",i.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(Qv||(Qv={}));var fi=class extends mp{constructor(e,t,n,s,u,d,p){super(),X_.set(this,void 0),Q_.set(this,void 0),lo.set(this,void 0),Z_.set(this,void 0),ev.set(this,void 0),T(this,lo,e,"f"),T(this,Z_,s,"f"),T(this,Q_,t,"f"),T(this,X_,n,"f"),T(this,ev,u,"f"),this.http=new Bv(this,d,p),this.actions=new Kv(this),this.logged_in=!!d}on(e,t){super.on(e,t)}once(e,t){super.once(e,t)}static create(e={}){return w(this,void 0,void 0,function*(){let{context:t,api_key:n,api_version:s,account_index:u}=yield fi.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user);return new fi(t,n,s,u,e.retrieve_player===!1?void 0:yield qv.create(e.evaluator,e.fetch),e.cookie,e.fetch)})}static getSessionData(e="",t="",n=0,s="",u=!1,d=!1,p="desktop",m=Qv.WEB,h=Intl.DateTimeFormat().resolvedOptions().timeZone,v=A.shim.fetch,g){return w(this,void 0,void 0,function*(){let b,x={lang:e,location:t,time_zone:h,device_category:p,client_name:m,enable_safety_mode:u,visitor_data:s,on_behalf_of_user:g};if(d)b=c(this,q_,"m",Xv).call(this,x);else try{b=yield c(this,q_,"m",$0).call(this,x,v)}catch(C){b=c(this,q_,"m",Xv).call(this,x)}return Object.assign(Object.assign({},b),{account_index:n})})}get key(){return c(this,Q_,"f")}get api_version(){return c(this,X_,"f")}get client_version(){return c(this,lo,"f").client.clientVersion}get client_name(){return c(this,lo,"f").client.clientName}get account_index(){return c(this,Z_,"f")}get context(){return c(this,lo,"f")}get player(){return c(this,ev,"f")}get lang(){return c(this,lo,"f").client.hl}};o(fi,"Session");q_=fi,X_=new WeakMap,Q_=new WeakMap,lo=new WeakMap,Z_=new WeakMap,ev=new WeakMap,$0=o(function(e,t=A.shim.fetch){return w(this,void 0,void 0,function*(){let n=new URL("/sw.js_data",ye.YT_BASE),s=no(11);e.visitor_data&&(s=zm(e.visitor_data).id);let u=yield t(n,{headers:{"accept-language":e.lang||"en-US","user-agent":qi("desktop"),accept:"*/*",referer:"https://www.youtube.com/sw.js",cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${s};`}});if(!u.ok)throw new bn(`Failed to retrieve session data: ${u.status}`);let d=yield u.text(),m=JSON.parse(d.replace(/^\)\]\}'/,""))[0][2],h=`v${m[0][0][6]}`,[[v],g]=m;return{context:{client:{hl:v[0],gl:e.location||v[2],remoteHost:v[3],screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:v[13],clientName:e.client_name,clientVersion:v[16],osName:v[17],osVersion:v[18],platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:v[79]||e.time_zone,browserName:v[86],browserVersion:v[87],originalUrl:ye.YT_BASE,deviceMake:v[11],deviceModel:v[12],utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:g,api_version:h}})},"_Session_retrieveSessionData"),Xv=o(function(e){let t=no(11);return e.visitor_data&&(t=zm(e.visitor_data).id),{context:{client:{hl:e.lang||"en",gl:e.location||"US",screenDensityFloat:1,screenHeightPoints:1080,screenPixelDensity:1,screenWidthPoints:1920,visitorData:pv(t,Math.floor(Date.now()/1e3)),clientName:e.client_name,clientVersion:B.WEB.VERSION,osName:"Windows",osVersion:"10.0",platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:ye.YT_BASE,deviceMake:"",deviceModel:"",utcOffsetMinutes:-new Date().getTimezoneOffset()},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1,onBehalfOfUser:e.on_behalf_of_user}},api_key:B.WEB.API_KEY,api_version:B.WEB.API_VERSION}},"_Session_generateSessionData");var Zv=fi;var eg={};me(eg,{GuideEndpoint:()=>xn,NextEndpoint:()=>Tt,PlayerEndpoint:()=>Dt,ResolveURLEndpoint:()=>uo,SearchEndpoint:()=>co});var xn={};me(xn,{PATH:()=>cT});var cT="/guide";var Tt={};me(Tt,{PATH:()=>pT,build:()=>mT});var pT="/next";function mT(i){return Object.assign({videoId:i.video_id,playlistId:i.playlist_id,params:i.params,playlistIndex:i.playlist_index,client:i.client,continuation:i.continuation})}o(mT,"build");var Dt={};me(Dt,{PATH:()=>fT,build:()=>hT});var fT="/player";function hT(i){let e=i.client==="ANDROID"||i.client==="YTMUSIC_ANDROID"||i.client==="YTSTUDIO_ANDROID";return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:i.playlist_id?`https://www.youtube.com/watch?v=${i.video_id}&list=${i.playlist_id}`:`https://www.youtube.com/watch?v=${i.video_id}`,currentUrl:i.playlist_id?`/watch?v=${i.video_id}&list=${i.playlist_id}`:`/watch?v=${i.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:i.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:i.video_id},{client:i.client,playlistId:i.playlist_id,params:e?"2AMBCgIQBg":i.params})}o(hT,"build");var uo={};me(uo,{PATH:()=>_T,build:()=>vT});var _T="/navigation/resolve_url";function vT(i){return Object.assign({url:i.url})}o(vT,"build");var co={};me(co,{PATH:()=>gT,build:()=>yT});var gT="/search";function yT(i){return Object.assign({query:i.query,params:i.params,continuation:i.continuation,client:i.client})}o(yT,"build");var It,wn=class{constructor(e){It.set(this,void 0),T(this,It,e,"f")}static create(e={}){return w(this,void 0,void 0,function*(){return new wn(yield Zv.create(e))})}getInfo(e,t){var n,s,u,d,p;return w(this,void 0,void 0,function*(){ro({target:e});let m;if(e instanceof f)m=Tt.build({video_id:(n=e.payload)===null||n===void 0?void 0:n.videoId,playlist_id:(s=e.payload)===null||s===void 0?void 0:s.playlistId,params:(u=e.payload)===null||u===void 0?void 0:u.params,playlist_index:(d=e.payload)===null||d===void 0?void 0:d.index});else if(typeof e=="string")m=Tt.build({video_id:e});else throw new _("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!m.videoId)throw new _("Video id cannot be empty",m);let h=Dt.build({video_id:m.videoId,playlist_id:m==null?void 0:m.playlistId,client:t,sts:(p=c(this,It,"f").player)===null||p===void 0?void 0:p.sts}),v=this.actions.execute(Dt.PATH,h),g=this.actions.execute(Tt.PATH,m),b=yield Promise.all([v,g]),x=no(16);return new Tp(b,this.actions,x)})}getBasicInfo(e,t){var n;return w(this,void 0,void 0,function*(){ro({video_id:e});let s=yield this.actions.execute(Dt.PATH,Dt.build({video_id:e,client:t,sts:(n=c(this,It,"f").player)===null||n===void 0?void 0:n.sts})),u=no(16);return new Tp([s],this.actions,u)})}search(e,t={}){return w(this,void 0,void 0,function*(){ro({query:e});let n=yield this.actions.execute(co.PATH,co.build({query:e,params:t?mv(t):void 0}));return new S_(this.actions,n)})}getSearchSuggestions(e){return w(this,void 0,void 0,function*(){ro({query:e});let t=new URL(`${ye.YT_SUGGESTIONS}search`);t.searchParams.set("q",e),t.searchParams.set("hl",c(this,It,"f").context.client.hl),t.searchParams.set("gl",c(this,It,"f").context.client.gl),t.searchParams.set("ds","yt"),t.searchParams.set("client","youtube"),t.searchParams.set("xssi","t"),t.searchParams.set("oe","UTF");let s=yield(yield c(this,It,"f").http.fetch(t)).text();return JSON.parse(s.replace(")]}'",""))[1].map(p=>p[0])})}getComments(e,t){return w(this,void 0,void 0,function*(){ro({video_id:e});let n=yield this.actions.execute(Tt.PATH,Tt.build({continuation:hv(e,{sort_by:t||"TOP_COMMENTS"})}));return new s_(this.actions,n.data)})}getGuide(){return w(this,void 0,void 0,function*(){let e=yield this.actions.execute(xn.PATH);return new l_(e.data)})}getStreamingData(e,t={}){return w(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e)).chooseFormat(t)})}download(e,t){return w(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,t==null?void 0:t.client)).download(t)})}resolveURL(e){return w(this,void 0,void 0,function*(){return(yield this.actions.execute(uo.PATH,Object.assign(Object.assign({},uo.build({url:e})),{parse:!0}))).endpoint})}call(e,t){return e.call(this.actions,t)}get actions(){return c(this,It,"f").actions}get session(){return c(this,It,"f")}};o(wn,"Innertube");It=new WeakMap;var tg=wn;var G0={};var z0=tg;A.load({runtime:"browser",server:!1,info:{version:$_.version,bugs_url:$_.bugs.url,repo_url:$_.homepage.split("#")[0]},sha1Hash:zv,uuidv4(){var i;return!((i=globalThis.crypto)===null||i===void 0)&&i.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let t=parseInt(e);return(t^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16)})},fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var zhe=z0;export{Kv as Actions,wi as AppendContinuationItemsAction,Qv as ClientType,Ce as Constants,Di as Continuation,eg as Endpoints,mp as EventEmitter,R_ as FormatUtils,Cv as Generator,ei as GridContinuation,Bv as HTTPClient,nv as Helpers,tg as Innertube,qt as ItemSectionContinuation,ti as LiveChatContinuation,$v as Misc,jv as Mixins,Zt as MusicPlaylistShelfContinuation,_t as MusicShelfContinuation,Xt as NavigateAction,l as Parser,A as Platform,qv as Player,$o as PlaylistPanelContinuation,Ti as Proto,Qt as ReloadContinuationItemsCommand,Oe as SectionListContinuation,Zv as Session,Ho as ShowMiniplayerCommand,G0 as Types,Fv as Utils,Uv as YT,Hv as YTKids,Jv as YTMusic,np as YTNodes,zhe as default};
