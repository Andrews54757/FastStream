/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var iT=Object.defineProperty;var r=(t,e)=>iT(t,"name",{value:e,configurable:!0});var Ze=(t,e)=>{for(var i in e)iT(t,i,{get:e[i],enumerable:!0})};function rT(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}r(rT,"__setFunctionName");function u(t,e,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(t):s?s.value:e.get(t)}r(u,"__classPrivateFieldGet");function S(t,e,i,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,i):o?o.value=i:e.set(t,i),i}r(S,"__classPrivateFieldSet");var yo={};Ze(yo,{ChannelError:()=>$s,InnertubeError:()=>g,MissingParamError:()=>Gd,OAuth2Error:()=>Ag,ParsingError:()=>et,Platform:()=>M,PlayerError:()=>Nt,SessionError:()=>Br,base64ToU8:()=>xo,concatMemos:()=>_w,debugFetch:()=>aP,deepCompare:()=>Xd,escapeStringRegexp:()=>Vw,findFunction:()=>er,findVariable:()=>Or,generateRandomString:()=>Zi,generateSidAuth:()=>oP,getCookie:()=>cP,getRandomUserAgent:()=>jd,getStringBetweenStrings:()=>je,hasKeys:()=>nP,isTextRun:()=>Fe,parseScript:()=>$d,streamToIterable:()=>Fg,throwIfMissing:()=>ao,timeToSeconds:()=>ve,u8ToBase64:()=>oi});var Yg={};Ze(Yg,{Maybe:()=>ir,Memo:()=>gi,SuperParsedResult:()=>Dt,YTNode:()=>n,observe:()=>W});var L={};Ze(L,{Level:()=>yt,debug:()=>VE,error:()=>BE,info:()=>OE,setLevel:()=>YE,warn:()=>ti,warnOnce:()=>DE});var LE="YOUTUBEJS",yt={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},sT={[yt.ERROR]:(...t)=>console.error(...t),[yt.WARNING]:(...t)=>console.warn(...t),[yt.INFO]:(...t)=>console.info(...t),[yt.DEBUG]:(...t)=>console.debug(...t)},nT=[yt.WARNING],oT=new Set;function uo(t,e,i){if(!sT[t]||!nT.includes(t))return;let s=[`[${LE}]`];e&&s.push(`[${e}]`),sT[t](`${s.join("")}:`,...i||[])}r(uo,"doLog");var DE=r((t,...e)=>{oT.has(t)||(uo(yt.WARNING,t,e),oT.add(t))},"warnOnce"),ti=r((t,...e)=>uo(yt.WARNING,t,e),"warn"),BE=r((t,...e)=>uo(yt.ERROR,t,e),"error"),OE=r((t,...e)=>uo(yt.INFO,t,e),"info"),VE=r((t,...e)=>uo(yt.DEBUG,t,e),"debug");function YE(...t){nT=t}r(YE,"setLevel");var xe,te,Lt,ii,tr,aT=Symbol("ObservedArray.isObserved"),n=class{constructor(){this.type=this.constructor.type}is(...e){return e.some(i=>this.type===i.type)}as(...e){if(!this.is(...e))throw new et(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new et(`Missing key ${e}`);return new ir(this[e])}};r(n,"YTNode");n.type="YTNode";var FE="Maybe",ir=class{constructor(e){xe.add(this),te.set(this,void 0),S(this,te,e,"f")}get typeof(){return typeof u(this,te,"f")}string(){return u(this,xe,"m",ii).call(this,"string")}isString(){return u(this,xe,"m",Lt).call(this,"string")}number(){return u(this,xe,"m",ii).call(this,"number")}isNumber(){return u(this,xe,"m",Lt).call(this,"number")}bigint(){return u(this,xe,"m",ii).call(this,"bigint")}isBigint(){return u(this,xe,"m",Lt).call(this,"bigint")}boolean(){return u(this,xe,"m",ii).call(this,"boolean")}isBoolean(){return u(this,xe,"m",Lt).call(this,"boolean")}symbol(){return u(this,xe,"m",ii).call(this,"symbol")}isSymbol(){return u(this,xe,"m",Lt).call(this,"symbol")}undefined(){return u(this,xe,"m",ii).call(this,"undefined")}isUndefined(){return u(this,xe,"m",Lt).call(this,"undefined")}null(){if(u(this,te,"f")!==null)throw new TypeError(`Expected null, got ${typeof u(this,te,"f")}`);return u(this,te,"f")}isNull(){return u(this,te,"f")===null}object(){return u(this,xe,"m",ii).call(this,"object")}isObject(){return u(this,xe,"m",Lt).call(this,"object")}function(){return u(this,xe,"m",ii).call(this,"function")}isFunction(){return u(this,xe,"m",Lt).call(this,"function")}array(){if(!Array.isArray(u(this,te,"f")))throw new TypeError(`Expected array, got ${typeof u(this,te,"f")}`);return u(this,te,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,s){return Reflect.has(e,s)?Reflect.get(i,s):new ir(Reflect.get(i,s))}})}isArray(){return Array.isArray(u(this,te,"f"))}node(){if(!(u(this,te,"f")instanceof n))throw new TypeError(`Expected YTNode, got ${u(this,te,"f").constructor.name}`);return u(this,te,"f")}isNode(){return u(this,te,"f")instanceof n}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof u(this,te,"f")}`);return u(this,te,"f")}isObserved(){var e;return(e=u(this,te,"f"))==null?void 0:e[aT]}parsed(){if(!(u(this,te,"f")instanceof Dt))throw new TypeError(`Expected SuperParsedResult, got ${typeof u(this,te,"f")}`);return u(this,te,"f")}isParsed(){return u(this,te,"f")instanceof Dt}any(){return ti(FE,"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),u(this,te,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${u(this,te,"f").constructor.name}`);return u(this,te,"f")}isInstanceof(e){return u(this,te,"f")instanceof e}};r(ir,"Maybe");te=new WeakMap,xe=new WeakSet,Lt=r(function(e){return typeof u(this,te,"f")===e},"_Maybe_checkPrimitive"),ii=r(function(e){if(!u(this,xe,"m",Lt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return u(this,te,"f")},"_Maybe_assertPrimitive");var Dt=class{constructor(e){tr.set(this,void 0),S(this,tr,e,"f")}get is_null(){return u(this,tr,"f")===null}get is_array(){return!this.is_null&&Array.isArray(u(this,tr,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return u(this,tr,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return u(this,tr,"f")}};r(Dt,"SuperParsedResult");tr=new WeakMap;function W(t){return new Proxy(t,{get(e,i){return i=="get"?(s,o)=>e.find((a,p)=>{let f=Xd(s,a);return f&&o&&e.splice(p,1),f}):i==aT?!0:i=="getAll"?(s,o)=>e.filter((a,p)=>{let f=Xd(s,a);return f&&o&&e.splice(p,1),f}):i=="matchCondition"?s=>e.find(o=>s(o)):i=="filterType"?(...s)=>W(e.filter(o=>!!o.is(...s))):i=="firstOfType"?(...s)=>e.find(o=>!!o.is(...s)):i=="first"?()=>e[0]:i=="as"?(...s)=>W(e.map(o=>{if(o.is(...s))return o;throw new et(`Expected node of any type ${s.map(a=>a.type).join(", ")}, got ${o.type}`)})):i=="remove"?s=>e.splice(s,1):Reflect.get(e,i)}})}r(W,"observe");var gi=class extends Map{getType(...e){return e=e.flat(),W(e.flatMap(i=>this.get(i.type)||[]))}};r(gi,"Memo");var ww={};Ze(ww,{AccessibilityContext:()=>wi,AccessibilityData:()=>ne,Author:()=>P,ChildElement:()=>iy,CommandContext:()=>Ei,EmojiRun:()=>Si,Format:()=>ig,RendererContext:()=>Ae,SubscriptionButton:()=>jb,Text:()=>c,TextRun:()=>ki,Thumbnail:()=>y,VideoDetails:()=>Ui});var wi=class{constructor(e){this.label=e.label}};r(wi,"AccessibilityContext");var ne=class{constructor(e){"accessibilityIdentifier"in e&&(this.accessibility_identifier=e.accessibilityIdentifier),"identifier"in e&&(this.identifier={accessibility_id_type:e.identifier.accessibilityIdType}),"label"in e&&(this.label=e.label)}};r(ne,"AccessibilityData");var X={};Ze(X,{CLIENTS:()=>D,CLIENT_NAME_IDS:()=>Qd,INNERTUBE_HEADERS_BASE:()=>WE,OAUTH:()=>UE,STREAM_HEADERS:()=>ri,SUPPORTED_CLIENTS:()=>Jd,URLS:()=>we});var we={YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries-clients6.youtube.com",YT_UPLOAD:"https://upload.youtube.com/",YT_IT_BASE:"https://jnn-pa.googleapis.com",YT_IT_GEN:"/$rpc/google.internal.waa.v1.Waa/GenerateIT",YT_IT_CREATE:"/$rpc/google.internal.waa.v1.Waa/Create",API:{KEY:"wnAoJLKFLDp7fdfytqqP03F94hJ0W5TyDySazIA".split("").reverse().join(""),KEY2:"oAK4xCS02Xghjpd0z34O".split("").reverse().join(""),BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"},GOOGLE_SEARCH_BASE:"https://www.google.com/"},UE={REGEX:{TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')}},D={IOS:{NAME:"iOS",VERSION:"20.11.6",USER_AGENT:"com.google.ios.youtube/20.11.6 (iPhone10,4; U; CPU iOS 16_7_7 like Mac OS X)",DEVICE_MODEL:"iPhone10,4",OS_NAME:"iOS",OS_VERSION:"16.7.7.20H330"},WEB:{NAME:"WEB",VERSION:"2.20250222.10.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco",SUGG_EXP_ID:"ytzpb5_e2,ytpo.bo.lqp.elu=1,ytpo.bo.lqp.ecsc=1,ytpo.bo.lqp.mcsc=3,ytpo.bo.lqp.mec=1,ytpo.bo.lqp.rw=0.8,ytpo.bo.lqp.fw=0.2,ytpo.bo.lqp.szp=1,ytpo.bo.lqp.mz=3,ytpo.bo.lqp.al=en_us,ytpo.bo.lqp.zrm=1,ytpo.bo.lqp.er=1,ytpo.bo.ro.erl=1,ytpo.bo.ro.mlus=3,ytpo.bo.ro.erls=3,ytpo.bo.qfo.mlus=3,ytzprp.ppp.e=1,ytzprp.ppp.st=772,ytzprp.ppp.p=5"},MWEB:{NAME:"MWEB",VERSION:"2.20250224.01.00",API_VERSION:"v1"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20250221.11.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20250219.01.00"},ANDROID:{NAME:"ANDROID",VERSION:"19.35.36",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/19.35.36(Linux; U; Android 13; en_US; SM-S908E Build/TP1A.220624.014) gzip"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV:{NAME:"TVHTML5",VERSION:"7.20250219.14.00",USER_AGENT:"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version"},TV_SIMPLY:{NAME:"TVHTML5_SIMPLY",VERSION:"1.0"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"},WEB_EMBEDDED:{NAME:"WEB_EMBEDDED_PLAYER",VERSION:"1.20250219.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_CREATOR:{NAME:"WEB_CREATOR",VERSION:"1.20241203.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"}},Qd={iOS:"5",WEB:"1",MWEB:"2",WEB_KIDS:"76",WEB_REMIX:"67",ANDROID:"3",ANDROID_CREATOR:"14",ANDROID_MUSIC:"21",TVHTML5:"7",TVHTML5_SIMPLY:"74",TVHTML5_SIMPLY_EMBEDDED_PLAYER:"85",WEB_EMBEDDED_PLAYER:"56",WEB_CREATOR:"62"},ri={accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"},WE={accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"},Jd=["IOS","WEB","MWEB","YTKIDS","YTMUSIC","ANDROID","YTSTUDIO_ANDROID","YTMUSIC_ANDROID","TV","TV_SIMPLY","TV_EMBEDDED","WEB_EMBEDDED","WEB_CREATOR"];var l={};Ze(l,{addRuntimeParser:()=>lw,applyCommentsMutations:()=>Sk,applyMutations:()=>Ik,getDynamicParsers:()=>_1,getParserByName:()=>Ls,hasParser:()=>Sd,parse:()=>We,parseActions:()=>vk,parseArray:()=>Me,parseC:()=>Tk,parseCommand:()=>wk,parseCommands:()=>g1,parseFormats:()=>fw,parseItem:()=>$,parseLC:()=>uw,parseRR:()=>rg,parseResponse:()=>pw,sanitizeClassName:()=>Ds,setParserErrorHandler:()=>h1,shouldIgnore:()=>hw});var xr={};Ze(xr,{AboutChannel:()=>m_,AboutChannelView:()=>f_,AccountChannel:()=>h_,AccountItem:()=>d_,AccountItemSection:()=>x_,AccountItemSectionHeader:()=>__,AccountSectionList:()=>y_,ActiveAccountHeader:()=>qT,AddBannerToLiveChatCommand:()=>kv,AddChatItemAction:()=>Cy,AddLiveChatTickerItemAction:()=>Ev,AddToPlaylist:()=>zT,AddToPlaylistCommand:()=>d0,AddToPlaylistEndpoint:()=>V0,AddToPlaylistServiceEndpoint:()=>sy,Alert:()=>Gr,AlertWithButton:()=>P_,AnchoredSection:()=>zb,AnimatedThumbnailOverlayView:()=>N_,AppendContinuationItemsAction:()=>Oe,AttributionView:()=>A_,AudioOnlyPlayability:()=>R_,AuthorCommentBadge:()=>g0,AutomixPreviewVideo:()=>M_,AvatarStackView:()=>L_,AvatarView:()=>jr,BackgroundPromo:()=>XT,BackstageImage:()=>D_,BackstagePost:()=>Ci,BackstagePostThread:()=>QT,BadgeView:()=>Pi,BrowseEndpoint:()=>Y0,BrowseFeedActions:()=>zr,BrowserMediaSession:()=>JT,BumperUserEduContentView:()=>Py,Button:()=>T,ButtonCardView:()=>ZT,ButtonView:()=>Z,C4TabbedHeader:()=>is,CallToActionButton:()=>e0,Card:()=>t0,CardCollection:()=>gx,CarouselHeader:()=>wx,CarouselItem:()=>i0,CarouselItemView:()=>vx,CarouselLockup:()=>mx,CarouselTitleView:()=>Ix,ChangeEngagementPanelVisibilityAction:()=>UT,Channel:()=>Sx,ChannelAboutFullMetadata:()=>Wa,ChannelAgeGate:()=>r0,ChannelExternalLinkView:()=>u_,ChannelFeaturedContent:()=>s0,ChannelHeaderLinks:()=>$_,ChannelHeaderLinksView:()=>K_,ChannelMetadata:()=>kx,ChannelMobileHeader:()=>o0,ChannelOptions:()=>Ex,ChannelOwnerEmptyState:()=>n0,ChannelSubMenu:()=>Xa,ChannelSwitcherHeader:()=>a0,ChannelSwitcherPage:()=>g_,ChannelTagline:()=>yx,ChannelThumbnailWithLink:()=>c0,ChannelVideoPlayer:()=>l0,Chapter:()=>Cx,ChildVideo:()=>p0,ChipBarView:()=>u0,ChipCloud:()=>rs,ChipCloudChip:()=>Ke,ChipView:()=>Px,ClientSideToggleMenuItem:()=>f0,ClipAdState:()=>X_,ClipCreation:()=>Q_,ClipCreationScrubber:()=>z_,ClipCreationTextInput:()=>q_,ClipSection:()=>J_,CollaboratorInfoCardContent:()=>m0,CollageHeroImage:()=>h0,CollectionThumbnailView:()=>Dx,CommandExecutorCommand:()=>c_,CommentActionButtons:()=>O_,CommentDialog:()=>w0,CommentReplies:()=>Yx,CommentReplyDialog:()=>Fx,CommentSimplebox:()=>Gx,CommentThread:()=>$x,CommentView:()=>cr,CommentsEntryPointHeader:()=>Hx,CommentsEntryPointTeaser:()=>Wx,CommentsHeader:()=>Di,CommentsSimplebox:()=>Ux,CompactChannel:()=>I0,CompactLink:()=>Bt,CompactMix:()=>S0,CompactMovie:()=>k0,CompactPlaylist:()=>E0,CompactStation:()=>C0,CompactVideo:()=>Zr,ConfirmDialog:()=>P0,ContentMetadataView:()=>cs,ContentPreviewImageView:()=>Ai,ContinuationCommand:()=>_0,ContinuationItem:()=>Q,ConversationBar:()=>N0,CopyLink:()=>ls,CreateCommentEndpoint:()=>F0,CreatePlaylistDialog:()=>a_,CreatePlaylistDialogFormView:()=>zx,CreatePlaylistServiceEndpoint:()=>U0,CreatorHeart:()=>B_,CreatorHeartView:()=>Ny,DecoratedAvatarView:()=>ps,DecoratedPlayerBar:()=>Qx,DefaultPromoPanel:()=>A0,DeletePlaylistEndpoint:()=>W0,DescriptionPreviewView:()=>Jx,DialogHeaderView:()=>Zx,DialogView:()=>R0,DidYouMean:()=>M0,DimChatItemAction:()=>Cv,DislikeButtonView:()=>Y_,DownloadButton:()=>$r,Dropdown:()=>vi,DropdownItem:()=>n_,DropdownView:()=>Kx,DynamicTextView:()=>ty,Element:()=>ry,EmergencyOnebox:()=>L0,EmojiPicker:()=>Vx,EmojiPickerCategory:()=>D0,EmojiPickerCategoryButton:()=>B0,EmojiPickerUpsellCategory:()=>O0,EndScreenPlaylist:()=>ay,EndScreenVideo:()=>cy,Endscreen:()=>ny,EndscreenElement:()=>av,EngagementPanelSectionList:()=>Li,EngagementPanelTitleHeader:()=>Z_,EomSettingsDisclaimer:()=>G_,ExpandableMetadata:()=>nx,ExpandableTab:()=>dr,ExpandableVideoDescriptionBody:()=>rx,ExpandedShelfContents:()=>cv,Factoid:()=>Mi,FancyDismissibleDialog:()=>lv,FeedFilterChipBar:()=>kt,FeedNudge:()=>pv,FeedTabbedHeader:()=>ly,FeedbackEndpoint:()=>H0,FlexibleActionsView:()=>qr,FormFooterView:()=>ey,GameCard:()=>sx,GameDetails:()=>uv,GetAccountsListInnertubeEndpoint:()=>G0,GetKidsBlocklistPickerCommand:()=>x0,GetMultiPageMenuAction:()=>WT,Grid:()=>fv,GridChannel:()=>py,GridHeader:()=>mv,GridMix:()=>hv,GridMovie:()=>dv,GridPlaylist:()=>uy,GridShow:()=>_v,GridVideo:()=>hy,GuideCollapsibleEntry:()=>xv,GuideCollapsibleSectionEntry:()=>yv,GuideDownloadsEntry:()=>bv,GuideEntry:()=>_r,GuideSection:()=>_s,GuideSubscriptionsSection:()=>dy,HashtagHeader:()=>_y,HashtagTile:()=>gv,HeatMarker:()=>us,Heatmap:()=>ms,HeroPlaylistThumbnail:()=>wv,HideEngagementPanelEndpoint:()=>j0,HighlightsCarousel:()=>Tv,HistorySuggestion:()=>vv,HorizontalCardList:()=>Ni,HorizontalList:()=>ox,HorizontalMovieList:()=>Iv,HowThisWasMadeSectionView:()=>xx,IconLink:()=>yy,ImageBannerView:()=>by,IncludingResultsFor:()=>Sv,InfoPanelContainer:()=>wy,InfoPanelContent:()=>gy,InfoRow:()=>fx,InteractiveTabbedHeader:()=>Ty,ItemSection:()=>Et,ItemSectionHeader:()=>xs,ItemSectionTab:()=>vy,ItemSectionTabbedHeader:()=>ys,KidsBlocklistPicker:()=>ok,KidsBlocklistPickerItem:()=>Xb,KidsCategoriesHeader:()=>nk,KidsCategoryTab:()=>Qb,KidsHomeScreen:()=>ak,LikeButton:()=>Kr,LikeButtonView:()=>V_,LikeEndpoint:()=>$0,LiveChat:()=>Sy,LiveChatActionPanel:()=>Dy,LiveChatAuthorBadge:()=>My,LiveChatAutoModMessage:()=>Pv,LiveChatBanner:()=>Ey,LiveChatBannerChatSummary:()=>Nv,LiveChatBannerHeader:()=>ky,LiveChatBannerPoll:()=>Av,LiveChatBannerRedirect:()=>Rv,LiveChatDialog:()=>nI,LiveChatHeader:()=>Uy,LiveChatItemBumperView:()=>Ay,LiveChatItemContextMenuEndpoint:()=>K0,LiveChatItemList:()=>Wy,LiveChatMembershipItem:()=>Mv,LiveChatMessageInput:()=>aI,LiveChatModeChangeMessage:()=>Lv,LiveChatPaidMessage:()=>Dv,LiveChatPaidSticker:()=>Bv,LiveChatParticipant:()=>Hy,LiveChatParticipantsList:()=>Gy,LiveChatPlaceholderItem:()=>Ov,LiveChatProductItem:()=>Vv,LiveChatRestrictedParticipation:()=>Yv,LiveChatSponsorshipsGiftPurchaseAnnouncement:()=>Fv,LiveChatSponsorshipsGiftRedemptionAnnouncement:()=>Uv,LiveChatSponsorshipsHeader:()=>Ly,LiveChatTextMessage:()=>Wv,LiveChatTickerPaidMessageItem:()=>Hv,LiveChatTickerPaidStickerItem:()=>Gv,LiveChatTickerSponsorItem:()=>jv,LiveChatViewerEngagementMessage:()=>$v,LockupMetadataView:()=>jy,LockupView:()=>$y,MacroMarkersInfoItem:()=>ex,MacroMarkersList:()=>tx,MacroMarkersListEntity:()=>bs,MacroMarkersListItem:()=>Qr,MarkChatItemAsDeletedAction:()=>qv,MarkChatItemsByAuthorAsDeletedAction:()=>zv,Menu:()=>R,MenuFlexibleItem:()=>U_,MenuNavigationItem:()=>Ky,MenuPopup:()=>cI,MenuServiceItem:()=>Ot,MenuServiceItemDownload:()=>F_,MenuTitle:()=>E_,MerchandiseItem:()=>pI,MerchandiseShelf:()=>Qy,Message:()=>Ft,MetadataBadge:()=>$e,MetadataRow:()=>uI,MetadataRowContainer:()=>Jy,MetadataRowHeader:()=>fI,MetadataScreen:()=>mI,MicroformatData:()=>Oi,Mix:()=>hI,MobileTopbar:()=>GI,ModalWithTitleAndButton:()=>dI,ModifyChannelNotificationPreferenceEndpoint:()=>q0,Movie:()=>_I,MovingThumbnail:()=>xI,MultiMarkersPlayerBar:()=>Xx,MultiPageMenu:()=>b_,MultiPageMenuNotificationSection:()=>lI,MultiPageMenuSection:()=>jI,MusicCardShelf:()=>yI,MusicCardShelfHeaderBasic:()=>Zy,MusicCarouselShelf:()=>CI,MusicCarouselShelfBasicHeader:()=>eb,MusicDescriptionShelf:()=>nb,MusicDetailHeader:()=>PI,MusicDownloadStateBadge:()=>NI,MusicEditablePlaylistDetailHeader:()=>AI,MusicElementHeader:()=>RI,MusicHeader:()=>MI,MusicImmersiveHeader:()=>LI,MusicInlineBadge:()=>Ts,MusicItemThumbnailOverlay:()=>Ut,MusicLargeCardItemCarousel:()=>DI,MusicMenuItemDivider:()=>qy,MusicMultiRowListItem:()=>tb,MusicMultiSelectMenu:()=>zy,MusicMultiSelectMenuItem:()=>ws,MusicNavigationButton:()=>ib,MusicPlayButton:()=>vs,MusicPlaylistEditHeader:()=>BI,MusicPlaylistShelf:()=>OI,MusicQueue:()=>lb,MusicResponsiveHeader:()=>VI,MusicResponsiveListItem:()=>Vi,MusicResponsiveListItemFixedColumn:()=>rb,MusicResponsiveListItemFlexColumn:()=>sb,MusicShelf:()=>YI,MusicSideAlignedItem:()=>FI,MusicSortFilterButton:()=>UI,MusicTastebuilderShelf:()=>WI,MusicTastebuilderShelfThumbnail:()=>pb,MusicThumbnail:()=>Ne,MusicTwoRowItem:()=>ob,MusicVisualHeader:()=>HI,NavigationEndpoint:()=>h,Notification:()=>gs,NotificationAction:()=>zI,OpenOnePickAddVideoModalCommand:()=>XI,OpenPopupAction:()=>Wr,PageHeader:()=>Wt,PageHeaderView:()=>ub,PageIntroduction:()=>fb,PanelFooterView:()=>hs,PdgCommentChip:()=>T0,PdgReplyButtonView:()=>Ry,PerformCommentActionEndpoint:()=>z0,PivotBar:()=>$I,PivotBarItem:()=>KI,PivotButton:()=>mb,PlayerAnnotationsExpanded:()=>hb,PlayerCaptionsTracklist:()=>db,PlayerControlsOverlay:()=>QI,PlayerErrorMessage:()=>JI,PlayerLegacyDesktopYpcOffer:()=>ZI,PlayerLegacyDesktopYpcTrailer:()=>fm,PlayerLiveStoryboardSpec:()=>xb,PlayerMicroformat:()=>st,PlayerOverflow:()=>_b,PlayerOverlay:()=>wb,PlayerOverlayAutoplay:()=>yb,PlayerOverlayVideoDetails:()=>bb,PlayerStoryboardSpec:()=>sr,Playlist:()=>Yt,PlaylistAddToOption:()=>C_,PlaylistCustomThumbnail:()=>ns,PlaylistEditEndpoint:()=>X0,PlaylistHeader:()=>Tb,PlaylistInfoCardContent:()=>eS,PlaylistMetadata:()=>vb,PlaylistPanel:()=>cb,PlaylistPanelVideo:()=>pi,PlaylistPanelVideoWrapper:()=>ab,PlaylistSidebar:()=>tS,PlaylistSidebarPrimaryInfo:()=>Ib,PlaylistSidebarSecondaryInfo:()=>Sb,PlaylistThumbnailOverlay:()=>iS,PlaylistVideo:()=>Is,PlaylistVideoList:()=>kb,PlaylistVideoThumbnail:()=>as,Poll:()=>rS,PollHeader:()=>Kv,Post:()=>Ss,PostMultiImage:()=>sS,PrefetchWatchCommand:()=>Q0,PremiereTrailerBadge:()=>oS,ProductList:()=>ix,ProductListHeader:()=>nS,ProductListItem:()=>aS,ProfileColumn:()=>Eb,ProfileColumnStats:()=>cS,ProfileColumnStatsEntry:()=>lS,ProfileColumnUserInfo:()=>pS,Quiz:()=>uS,RecognitionShelf:()=>fS,ReelItem:()=>ks,ReelPlayerHeader:()=>Cb,ReelPlayerOverlay:()=>mS,ReelShelf:()=>ts,ReelWatchEndpoint:()=>J0,RelatedChipCloud:()=>Pb,RemoveBannerForLiveChatCommand:()=>Xv,RemoveChatItemAction:()=>Qv,RemoveChatItemByAuthorAction:()=>Jv,ReplaceChatItemAction:()=>Zv,ReplaceLiveChatAction:()=>eI,ReplayChatItemAction:()=>tI,RichGrid:()=>Ht,RichItem:()=>hS,RichListHeader:()=>dS,RichMetadata:()=>qm,RichMetadataRow:()=>Xm,RichSection:()=>_S,RichShelf:()=>Nb,RunAttestationCommand:()=>Bx,SearchBox:()=>j_,SearchEndpoint:()=>Z0,SearchFilter:()=>Ab,SearchFilterGroup:()=>Es,SearchFilterOptionsDialog:()=>xS,SearchHeader:()=>Rb,SearchRefinementCard:()=>nr,SearchSubMenu:()=>Mb,SearchSuggestion:()=>xy,SearchSuggestionsSection:()=>yS,SecondarySearchContainer:()=>Lb,SectionList:()=>le,SegmentedLikeDislikeButton:()=>br,SegmentedLikeDislikeButtonView:()=>ni,SendFeedbackAction:()=>HT,SettingBoolean:()=>bS,SettingsCheckbox:()=>Db,SettingsOptions:()=>Ns,SettingsSidebar:()=>Bb,SettingsSwitch:()=>Ps,ShareEndpoint:()=>ev,ShareEntityEndpoint:()=>tv,ShareEntityServiceEndpoint:()=>ds,SharePanelHeader:()=>Vb,SharePanelTitleV15:()=>gS,ShareTarget:()=>Yb,SharedPost:()=>Ob,Shelf:()=>As,ShortsLockupView:()=>Rs,ShowCustomThumbnail:()=>fy,ShowDialogCommand:()=>y0,ShowEngagementPanelEndpoint:()=>iv,ShowLiveChatActionPanelAction:()=>iI,ShowLiveChatDialogAction:()=>rI,ShowLiveChatTooltipCommand:()=>sI,ShowingResultsFor:()=>wS,SignalAction:()=>GT,SignalServiceEndpoint:()=>rv,SimpleCardContent:()=>TS,SimpleCardTeaser:()=>vS,SimpleMenuHeader:()=>Xy,SimpleTextSection:()=>IS,SingleActionEmergencySupport:()=>SS,SingleColumnBrowseResults:()=>kS,SingleColumnMusicWatchNextResults:()=>ES,SingleHeroImage:()=>CS,SlimOwner:()=>PS,SlimVideoMetadata:()=>NS,SortFilterHeader:()=>Iy,SortFilterSubMenu:()=>wt,SponsorCommentBadge:()=>v0,StartAt:()=>Fb,StructuredDescriptionContent:()=>ar,StructuredDescriptionPlaylistLockup:()=>hx,SubFeedOption:()=>W_,SubFeedSelector:()=>H_,SubscribeButton:()=>he,SubscribeEndpoint:()=>sv,SubscriptionNotificationToggleButton:()=>bx,Tab:()=>Ue,Tabbed:()=>AS,TabbedSearchResults:()=>RS,TextCarouselItemView:()=>Tx,TextFieldView:()=>qx,TextHeader:()=>MS,ThirdPartyShareTargetSection:()=>Ub,ThumbnailBadgeView:()=>ss,ThumbnailBottomOverlayView:()=>Lx,ThumbnailHoverOverlayToggleActionsView:()=>Rx,ThumbnailHoverOverlayView:()=>Nx,ThumbnailLandscapePortrait:()=>LS,ThumbnailOverlayBadgeView:()=>Ax,ThumbnailOverlayBottomPanel:()=>my,ThumbnailOverlayEndorsement:()=>DS,ThumbnailOverlayHoverText:()=>BS,ThumbnailOverlayInlineUnplayable:()=>OS,ThumbnailOverlayLoadingPreview:()=>VS,ThumbnailOverlayNowPlaying:()=>YS,ThumbnailOverlayPinking:()=>FS,ThumbnailOverlayPlaybackStatus:()=>US,ThumbnailOverlayProgressBarView:()=>Mx,ThumbnailOverlayResumePlayback:()=>WS,ThumbnailOverlaySidePanel:()=>HS,ThumbnailOverlayTimeStatus:()=>Vt,ThumbnailOverlayToggleButton:()=>GS,ThumbnailView:()=>os,TimedMarkerDecoration:()=>fs,TitleAndButtonListHeader:()=>jS,ToggleButton:()=>re,ToggleButtonView:()=>tt,ToggleMenuServiceItem:()=>$S,Tooltip:()=>KS,TopbarMenuButton:()=>qI,TopicChannelDetails:()=>qS,Transcript:()=>Hr,TranscriptFooter:()=>w_,TranscriptSearchBox:()=>T_,TranscriptSearchPanel:()=>k_,TranscriptSectionHeader:()=>v_,TranscriptSegment:()=>I_,TranscriptSegmentList:()=>S_,TwoColumnBrowseResults:()=>Gt,TwoColumnSearchResults:()=>Wb,TwoColumnWatchNextResults:()=>Gb,UnifiedSharePanel:()=>zS,UniversalWatchCard:()=>Cs,UnsubscribeEndpoint:()=>ov,UpdateChannelSwitcherPageAction:()=>jT,UpdateDateTextAction:()=>By,UpdateDescriptionAction:()=>Oy,UpdateEngagementPanelAction:()=>$T,UpdateEngagementPanelContentCommand:()=>b0,UpdateLiveChatPollAction:()=>oI,UpdateSubscribeButtonAction:()=>KT,UpdateTitleAction:()=>Vy,UpdateToggleButtonTextAction:()=>Yy,UpdateViewershipAction:()=>Fy,UploadTimeFactoid:()=>cx,UpsellDialog:()=>XS,VerticalList:()=>QS,VerticalWatchCardList:()=>JS,Video:()=>Jr,VideoAttributeView:()=>Ri,VideoAttributesSectionView:()=>_x,VideoCard:()=>ax,VideoDescriptionCourseSection:()=>dx,VideoDescriptionHeader:()=>px,VideoDescriptionInfocardsSection:()=>ux,VideoDescriptionMusicSection:()=>es,VideoDescriptionTranscriptSection:()=>ga,VideoInfoCardContent:()=>ZS,VideoMetadataCarouselView:()=>ek,VideoOwner:()=>Ms,VideoPrimaryInfo:()=>Kb,VideoSecondaryInfo:()=>pd,VideoViewCount:()=>$b,ViewCountFactoid:()=>lx,WatchCardCompactVideo:()=>qb,WatchCardHeroVideo:()=>tk,WatchCardRichHeader:()=>ik,WatchCardSectionSequence:()=>rk,WatchEndpoint:()=>oy,WatchNextEndScreen:()=>gb,WatchNextEndpoint:()=>nv,WatchNextTabbedResults:()=>sk,YpcTrailer:()=>yr});var rr,Zd=class{constructor(e,i){rr.set(this,void 0),S(this,rr,new M.shim.Cache(e,i),"f")}get cache_dir(){return u(this,rr,"f").cache_dir}get(e){return u(this,rr,"f").get(e)}set(e,i){return u(this,rr,"f").set(e,i)}remove(e){return u(this,rr,"f").remove(e)}};r(Zd,"UniversalCache");rr=new WeakMap;var HE=Zd;var Ur,e_=class extends EventTarget{constructor(){super(),Ur.set(this,new Map)}emit(e,...i){let s=new M.shim.CustomEvent(e,{detail:i});this.dispatchEvent(s)}on(e,i){let s=r(o=>{o instanceof M.shim.CustomEvent?i(...o.detail):i(o)},"wrapper");u(this,Ur,"f").set(i,s),this.addEventListener(e,s)}once(e,i){let s=r(o=>{o instanceof M.shim.CustomEvent?i(...o.detail):i(o),this.off(e,i)},"wrapper");u(this,Ur,"f").set(i,s),this.addEventListener(e,s)}off(e,i){let s=u(this,Ur,"f").get(i);s&&(this.removeEventListener(e,s),u(this,Ur,"f").delete(i))}};r(e_,"EventEmitterLike");Ur=new WeakMap;var fo=e_;var or={};Ze(or,{chooseFormat:()=>bT,download:()=>hC,toDash:()=>yT});var GE={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function cT(t){return t.replace(/([&"<>'])/g,(e,i)=>GE[i])}r(cT,"escapeXMLString");function jE(t){return t.charAt(0).toUpperCase()+t.slice(1)}r(jE,"normalizeTag");function j(t,e,...i){let s=i.flat();return typeof t=="function"?t({...e,children:s}):{type:jE(t),props:{...e,children:s}}}r(j,"createElement");async function lT(t){if(typeof t=="string")return cT(t);let e=`<${t.type}`;if(t.props)for(let i of Object.keys(t.props))i!=="children"&&t.props[i]!==void 0&&(e+=` ${i}="${cT(`${t.props[i]}`)}"`);if(t.props.children){let i=await Promise.all((await Promise.all(t.props.children.flat())).flat().filter(s=>!!s).map(s=>lT(s)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`}r(lT,"renderElementToString");async function pT(t){return`<?xml version="1.0" encoding="utf-8"?>${await lT(await t)}`}r(pT,"renderToString");function uT(t){return t.children}r(uT,"Fragment");var mo=class extends n{constructor(e){super();let i=e.spec.split("|"),s=new URL(i.shift());this.boards=i.map((o,a)=>{let[p,f,m,_,x,b,w,I]=o.split("#");s.searchParams.set("sigh",I);let v=Math.ceil(parseInt(m,10)/(parseInt(_,10)*parseInt(x,10)));return{type:"vod",template_url:s.toString().replace("$L",a).replace("$N",w),thumbnail_width:parseInt(p,10),thumbnail_height:parseInt(f,10),thumbnail_count:parseInt(m,10),interval:parseInt(b,10),columns:parseInt(_,10),rows:parseInt(x,10),storyboard_count:v}})}};r(mo,"PlayerStoryboardSpec");mo.type="PlayerStoryboardSpec";var sr=mo;var KE="StreamingInfo";function qE(t,e){var o,a,p;let i=new Map,s=t.some(f=>!!f.audio_track);for(let f of t){if((!f.index_range||!f.init_range)&&!f.is_type_otf&&!e)continue;let m=f.mime_type.split(";")[0],_=(o=je(f.mime_type,'codecs="','"'))==null?void 0:o.split(".")[0],x=f.color_info?Object.values(f.color_info).join("-"):"",b=((a=f.audio_track)==null?void 0:a.id)||"",w=f.is_drc?"drc":"",I=`${m}-${_}-${x}-${b}-${w}`;i.has(I)||i.set(I,[]),(p=i.get(I))==null||p.push(f)}return{groups:Array.from(i.values()),has_multiple_audio_tracks:s}}r(qE,"getFormatGroupings");function mT(t,e){if(t.length>1&&new Set(t.map(i=>je(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),je(t[0].mime_type,'codecs="','"')}r(mT,"hoistCodecsIfPossible");function hT(t,e,i){if(t.length>1&&new Set(t.map(s=>s.fps)).size===1)return i.push(e),Number(t[0][e])}r(hT,"hoistNumberAttributeIfPossible");function zE(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}r(zE,"hoistAudioChannelsIfPossible");async function XE(t,e){var f;let i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:ri,redirect:"follow"}),s=i.url.replace("&rn=0","").replace("&sq=0",""),o=await i.text(),a=(f=je(o,"Segment-Durations-Ms:",`\r
`))==null?void 0:f.split(",");if(!a)throw new g("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let m of a){let _=m.trim();if(_.length===0)continue;let x,b=je(_,"(r=",")");b&&(x=parseInt(b)),p.push({duration:parseInt(_),repeat_count:x})}return{init_url:`${s}&sq=0`,media_url:`${s}&sq=$Number$`,timeline:p}}r(XE,"getOTFSegmentTemplate");async function dT(t,e){let i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:ri,redirect:"follow"}),s=parseInt(i.headers.get("X-Head-Time-Millis")||""),o=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(s)||isNaN(o))throw new g("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:s/1e3,segment_count:o}}r(dT,"getPostLiveDvrInfo");async function QE(t,e,i,s,o,a){if(!t.item){let p=new URL(await e.decipher(o));p.searchParams.set("cpn",a||"");let f=i(p).toString();t.item=await dT(f,s)}return t.item.duration}r(QE,"getPostLiveDvrDuration");async function _T(t,e,i,s,o,a,p){let f="";if(p){let _=`${t.itag||""}:${t.xtags||""}`;f=`sabr://${t.has_video?"video":"audio"}?key=${_}`}else{let _=new URL(await t.decipher(s));_.searchParams.set("cpn",o||""),f=e(_).toString()}if(t.is_type_otf){if(!i)throw new g("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return XE(f,i)}}}if(a){if(!i)throw new g("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let _=t.target_duration_dec;if(typeof _!="number")throw new g("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,async getSegmentTemplate(){return a.item||(a.item=await dT(f,i)),{media_url:`${f}&sq=$Number$`,timeline:[{duration:_*1e3,repeat_count:a.item.segment_count}]}}}}if(!t.index_range||!t.init_range)throw new g("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:f,index_range:t.index_range,init_range:t.init_range}}r(_T,"getSegmentInfo");async function JE(t,e,i,s,o,a,p,f){let m=[t.itag.toString()];return t.audio_track&&m.push(t.audio_track.id),t.is_drc&&m.push("drc"),{uid:m.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:je(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:await _T(t,i,s,o,a,p,f)}}r(JE,"getAudioRepresentation");function ZE(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return(t.is_dubbed||t.is_auto_dubbed)&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}r(ZE,"getTrackRoles");async function eC(t,e,i,s,o,a,p,f){var v;let m=t[0],{audio_track:_}=m,x=[],b=!!p,w;return _?b&&m.is_drc?w=p.label_drc_multiple(_.display_name):w=_.display_name:b&&(w=m.is_drc?p.label_drc:p.label_original),{mime_type:m.mime_type.split(";")[0],language:(v=m.language)!=null?v:void 0,codecs:mT(t,x),audio_sample_rate:hT(t,"audio_sample_rate",x),track_name:w,track_roles:ZE(m,b),channels:zE(t,x),representations:await Promise.all(t.map(k=>JE(k,x,e,i,s,o,a,f)))}}r(eC,"getAudioSet");var tC={BT709:"1",BT2020:"9"},fT={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},iC={BT709:"1",BT2020_NCL:"14"};function rC(t){var p;let e=t.color_info,i,s,o;if(e){if(e.primaries&&(i=tC[e.primaries]),e.transfer_characteristics&&(s=fT[e.transfer_characteristics]),e.matrix_coefficients&&(o=iC[e.matrix_coefficients],!o)){let f=new URL(t.url),m=JSON.parse(JSON.stringify(t));m.url="REDACTED",m.signature_cipher="REDACTED",m.cipher="REDACTED",ti(KE,`Unknown matrix coefficients "${e.matrix_coefficients}". The DASH manifest is still usable without this.
Please report it at ${M.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${f.searchParams.get("c")}
format:`,m)}}else(p=je(t.mime_type,'codecs="','"'))!=null&&p.startsWith("avc1")&&(s=fT.BT709);return{primaries:i,transfer_characteristics:s,matrix_coefficients:o}}r(rC,"getColorInfo");async function sC(t,e,i,s,o,a,p,f){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:je(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:await _T(t,e,o,s,a,p,f)}}r(sC,"getVideoRepresentation");async function oC(t,e,i,s,o,a,p){let f=t[0],m=rC(f),_=[];return{mime_type:f.mime_type.split(";")[0],color_info:m,codecs:mT(t,_),fps:hT(t,"fps",_),representations:await Promise.all(t.map(b=>sC(b,e,_,i,s,o,a,p)))}}r(oC,"getVideoSet");function nC(t){var s;let e=new Map,i=t.is(sr)?t.boards:[t.board];for(let o of i){let a=new URL(o.template_url).pathname.split(".").pop(),p=`image/${a==="jpg"?"jpeg":a}`;e.has(p)||e.set(p,[]),(s=e.get(p))==null||s.push(o)}return e}r(nC,"getStoryboardInfo");async function aC(t,e,i,s,o){let a=e.template_url,p=i(new URL(a.replace("$M","0"))),f=o.response?o.response:t.session.http.fetch_function(p,{method:"HEAD",headers:ri});return o.response=f,(await f).headers.get("Content-Type")||s}r(aC,"getStoryboardMimeType");async function cC(t,e,i){let s=e.template_url,o=[],a=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let m=0;m<a;m++){let _=new URL(s.replace("$M",m.toString())),x=m===0&&i.response?i.response:t.session.http.fetch_function(_,{method:"HEAD",headers:ri});m===0&&(i.response=x),o.push(x)}let p=await Promise.all(o),f=[];for(let m of p)f.push(parseInt(m.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...f)/(e.rows*e.columns)*8)}r(cC,"getStoryboardBitrate");function lC(t,e,i,s,o){let a=i.template_url,p=new URL(a.replace("$M","$Number$")),f;return i.type==="vod"?f=t/i.storyboard_count:f=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return cC(e,i,o)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(f),template_url:s(p).toString(),getURL(_){return p.toString().replace("$Number$",_.toString())}}}r(lC,"getImageRepresentation");function pC(t,e,i,s){let o=nC(i),a={};return Array.from(o.entries()).map(([p,f])=>({probable_mime_type:p,getMimeType(){return aC(e,f[0],s,p,a)},representations:f.map(m=>lC(t,e,m,s,a))}))}r(pC,"getImageSets");function uC(t,e,i){let s=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(o=>{let a=new URL(o.base_url);a.searchParams.set("fmt",e);let p=["caption"];return a.searchParams.has("tlang")&&p.push("dub"),{mime_type:s,language:o.language_code,track_name:o.name.toString(),track_roles:p,representation:{uid:`text-${o.vss_id}`,base_url:i(a).toString()}}})}r(uC,"getTextSets");async function t_(t,e=!1,i=x=>x,s,o,a,p,f,m,_){if(!t)throw new g("Streaming data not available");let x=s?t.adaptive_formats.filter(F=>!s(F)):t.adaptive_formats,b,w;if(e){if(w={},!p)throw new g("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");b=r(()=>w?QE(w,x[0],i,p,a,o):Promise.resolve(0),"getDuration")}else{let F=x[0].approx_duration_ms/1e3;b=r(()=>Promise.resolve(F),"getDuration")}let{groups:I,has_multiple_audio_tracks:v}=qE(x,e),{video_groups:k,audio_groups:C}=I.reduce((F,ie)=>ie[0].has_audio?(v&&!ie[0].audio_track||F.audio_groups.push(ie),F):(F.video_groups.push(ie),F),{video_groups:[],audio_groups:[]}),E;C.flat().some(F=>F.is_drc)&&(E={label_original:(_==null?void 0:_.label_original)||"Original",label_drc:(_==null?void 0:_.label_drc)||"Stable Volume",label_drc_multiple:(_==null?void 0:_.label_drc_multiple)||(F=>`${F} (Stable Volume)`)});let O=await Promise.all(C.map(F=>eC(F,i,p,a,o,w,E,_==null?void 0:_.is_sabr))),ee=await Promise.all(k.map(F=>oC(F,i,a,p,o,w,_==null?void 0:_.is_sabr))),V=[];if(f&&p){let F;if(f.is(sr))F=x[0].approx_duration_ms/1e3;else{let ie=x[0].target_duration_dec;if(ie===void 0)throw new g("Format is missing target_duration_dec",{format:x[0]});F=ie}V=pC(F,p,f,i)}let se=[];if(m&&(_==null?void 0:_.captions_format)){if(_.captions_format!=="vtt"&&_.captions_format!=="ttml")throw new g("Invalid captions format",_.captions_format);se=uC(m,_.captions_format,i)}return{getDuration:b,audio_sets:O,video_sets:ee,image_sets:V,text_sets:se}}r(t_,"getStreamingInfo");async function fC({info:t}){if(!t.is_oft&&!t.is_post_live_dvr)return null;let e=await t.getSegmentTemplate();return j("segmentTemplate",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},j("segmentTimeline",null,e.timeline.map(i=>j("s",{d:i.duration,r:i.repeat_count}))))}r(fC,"OTFPostLiveDvrSegmentInfo");function xT({info:t}){return t.is_oft||t.is_post_live_dvr?j(fC,{info:t}):j(uT,null,j("baseURL",null,t.base_url),j("segmentBase",{indexRange:`${t.index_range.start}-${t.index_range.end}`},j("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}r(xT,"SegmentInfo");async function mC({streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:s,cpn:o,player:a,actions:p,storyboards:f,captionTracks:m,options:_}){let{getDuration:x,audio_sets:b,video_sets:w,image_sets:I,text_sets:v}=await t_(t,e,i,s,o,a,p,f,m,_);return j("mPD",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${await x()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},j("period",null,b.map((k,C)=>j("adaptationSet",{id:C,mimeType:k.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:k.language,codecs:k.codecs,audioSamplingRate:k.audio_sample_rate,contentType:"audio"},k.track_roles&&k.track_roles.map(E=>j("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:E})),k.track_name&&j("label",{id:C},k.track_name),k.channels&&j("audioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:k.channels}),k.representations.map(E=>j("representation",{id:E.uid,bandwidth:E.bitrate,codecs:E.codecs,audioSamplingRate:E.audio_sample_rate},E.channels&&j("audioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:E.channels}),j(xT,{info:E.segment_info}))))),w.map((k,C)=>j("adaptationSet",{id:C+b.length,mimeType:k.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:k.codecs,maxPlayoutRate:"1",frameRate:k.fps,contentType:"video"},k.color_info.primaries&&j("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:k.color_info.primaries}),k.color_info.transfer_characteristics&&j("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:k.color_info.transfer_characteristics}),k.color_info.matrix_coefficients&&j("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:k.color_info.matrix_coefficients}),k.representations.map(E=>j("representation",{id:E.uid,bandwidth:E.bitrate,width:E.width,height:E.height,codecs:E.codecs,frameRate:E.fps},j(xT,{info:E.segment_info}))))),I.map(async(k,C)=>j("adaptationSet",{id:C+b.length+w.length,mimeType:await k.getMimeType(),contentType:"image"},k.representations.map(async E=>j("representation",{id:`thumbnails_${E.thumbnail_width}x${E.thumbnail_height}`,bandwidth:await E.getBitrate(),width:E.sheet_width,height:E.sheet_height},j("essentialProperty",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${E.columns}x${E.rows}`}),j("segmentTemplate",{media:E.template_url,duration:E.template_duration,startNumber:"0"}))))),v.map((k,C)=>j("adaptationSet",{id:C+b.length+w.length+I.length,mimeType:k.mime_type,lang:k.language,contentType:"text"},k.track_roles.map(E=>j("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:E})),j("label",{id:C+b.length},k.track_name),j("representation",{id:k.representation.uid,bandwidth:"0"},j("baseURL",null,k.representation.base_url))))))}r(mC,"DashManifest");function yT(t,e=!1,i=x=>x,s,o,a,p,f,m,_){if(!t)throw new g("Streaming data not available");return pT(j(mC,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:_,rejectFormat:s,cpn:o,player:a,actions:p,storyboards:f,captionTracks:m}))}r(yT,"toDash");async function hC(t,e,i,s,o,a){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new g("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new g("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!s)throw new g("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let p={quality:"360p",type:"video+audio",format:"mp4",range:void 0,...t},f=bT(p,s),m=await f.decipher(o);if(p.type==="video+audio"&&!t.range){let v=await e.session.http.fetch_function(`${m}&cpn=${a}`,{method:"GET",headers:ri,redirect:"follow"});if(!v.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:v});let k=v.body;if(!k)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:v});return k}let _=1048576*10,x=t.range?t.range.start:0,b=t.range?t.range.end:_,w=!1,I;return new M.shim.ReadableStream({start(){},pull:async v=>{if(w){v.close();return}return(b>=(f.content_length?f.content_length:0)||t.range)&&(w=!0),new Promise(async(k,C)=>{try{I=new AbortController;let E=await e.session.http.fetch_function(`${m}&cpn=${a}&range=${x}-${b||""}`,{method:"GET",headers:{...ri},signal:I.signal});if(!E.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:E});let O=E.body;if(!O)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:E});for await(let ee of Fg(O))v.enqueue(ee);x=b+1,b+=_,k()}catch(E){C(E)}})},async cancel(v){I.abort(v)}},{highWaterMark:1,size(v){return v.byteLength}})}r(hC,"download");function bT(t,e){if(!e)throw new g("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]];if(t.itag){let b=i.filter(w=>w.itag===t.itag);if(!b.length)throw new g("No matching formats found",{options:t});return b[0]}let s=t.type?t.type.includes("audio"):!0,o=t.type?t.type.includes("video"):!0,a=t.language||"original",p=t.quality||"best",f=-1,m=["best","bestefficiency"].includes(p),_=p!=="best",x=i.filter(b=>s&&!b.has_audio||o&&!b.has_video||t.codec&&!b.mime_type.includes(t.codec)||t.format!=="any"&&!b.mime_type.includes(t.format||"mp4")||!m&&b.quality_label!==p?!1:(b.width&&f<b.width&&(f=b.width),!0));if(!x.length)throw new g("No matching formats found",{options:t});if(m&&o&&(x=x.filter(b=>b.width===f)),s&&!o){let b=x.filter(w=>a!=="original"?!w.has_video&&!w.has_text&&w.language===a:!w.has_video&&!w.has_text&&w.is_original);b.length>0&&(x=b)}return _?x.sort((b,w)=>b.bitrate-w.bitrate):x.sort((b,w)=>w.bitrate-b.bitrate),x[0]}r(bT,"chooseFormat");var _o,i_,Ug,ho,wT,TT,gT,r_=class{constructor(e,i,s){_o.add(this),i_.set(this,void 0),Ug.set(this,void 0),ho.set(this,void 0),S(this,i_,e,"f"),S(this,Ug,i,"f"),S(this,ho,s||M.shim.fetch,"f")}get fetch_function(){return u(this,ho,"f")}async fetch(e,i){let s=u(this,i_,"f"),o=we.API.PRODUCTION_1+s.api_version,a=(i==null?void 0:i.baseURL)||o,p=typeof e=="string"?new URL(`${a}${a.endsWith("/")||e.startsWith("/")?"":"/"}${e}`):e instanceof URL?e:new URL(e.url,a),f=(i==null?void 0:i.headers)||(e instanceof M.shim.Request?e.headers:new M.shim.Headers)||new M.shim.Headers,m=(i==null?void 0:i.body)||(e instanceof M.shim.Request?e.body:void 0),_=new M.shim.Headers(f);u(this,_o,"m",TT).call(this,_,s,p),p.searchParams.set("prettyPrint","false"),p.searchParams.set("alt","json");let x=_.get("Content-Type"),b=m,w=a===o||a===we.YT_UPLOAD;if(x==="application/json"&&w&&typeof m=="string"){let{newBody:k,clientVersion:C,clientNameId:E,adjustedClientName:O}=u(this,_o,"m",wT).call(this,m,s);b=k,C&&_.set("X-Youtube-Client-Version",C),E&&_.set("X-Youtube-Client-Name",E),O===D.ANDROID.NAME||O===D.YTMUSIC_ANDROID.NAME?(_.set("User-Agent",D.ANDROID.USER_AGENT),_.set("X-GOOG-API-FORMAT-VERSION","2")):O===D.IOS.NAME&&_.set("User-Agent",D.IOS.USER_AGENT)}else x==="application/x-protobuf"&&M.shim.server&&(_.set("User-Agent",D.ANDROID.USER_AGENT),_.set("X-GOOG-API-FORMAT-VERSION","2"),_.delete("X-Youtube-Client-Version"));let I=new M.shim.Request(p,e instanceof M.shim.Request?e:i),v=await u(this,ho,"f").call(this,I,{body:b,headers:_,redirect:e instanceof M.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow",...M.shim.runtime!=="cf-worker"?{credentials:"include"}:{}});if(v.ok)return v;throw new g(`Request to ${v.url} failed with status code ${v.status}`,await v.text())}};r(r_,"HTTPClient");i_=new WeakMap,Ug=new WeakMap,ho=new WeakMap,_o=new WeakSet,wT=r(function(e,i){let s=JSON.parse(e),o=JSON.parse(JSON.stringify(i.context));u(this,_o,"m",gT).call(this,o,s.client);let a={...s,context:o},p=a.context.client.clientVersion,f=a.context.client.clientName,m=Qd[f];delete a.client;let _=a.context.client.clientName===D.WEB_KIDS.NAME;return{newBody:JSON.stringify(a),isWebKids:_,clientVersion:p,clientNameId:m,adjustedClientName:a.context.client.clientName}},"_HTTPClient_processJsonPayload"),TT=r(function(e,i,s){e.set("Accept","*/*"),e.set("Accept-Language","*"),e.set("X-Goog-Visitor-Id",i.context.client.visitorData||""),e.set("X-Youtube-Client-Version",i.context.client.clientVersion||"");let o=Qd[i.context.client.clientName];o&&e.set("X-Youtube-Client-Name",o),M.shim.server&&(e.set("User-Agent",i.user_agent||""),e.set("Origin",s.origin))},"_HTTPClient_setupCommonHeaders"),gT=r(function(e,i){if(!!i){if(!Jd.includes(i.toUpperCase()))throw new g(`Invalid client: ${i}`,{available_innertube_clients:Jd});switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=D.ANDROID.SDK_VERSION,e.client.userAgent=D.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i.toUpperCase()){case"MWEB":e.client.clientVersion=D.MWEB.VERSION,e.client.clientName=D.MWEB.NAME,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.platform="MOBILE";break;case"IOS":e.client.deviceMake="Apple",e.client.deviceModel=D.IOS.DEVICE_MODEL,e.client.clientVersion=D.IOS.VERSION,e.client.clientName=D.IOS.NAME,e.client.platform="MOBILE",e.client.osName=D.IOS.OS_NAME,e.client.osVersion=D.IOS.OS_VERSION,delete e.client.browserName,delete e.client.browserVersion;break;case"YTMUSIC":e.client.clientVersion=D.YTMUSIC.VERSION,e.client.clientName=D.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=D.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=D.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=D.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=D.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=D.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=D.YTSTUDIO_ANDROID.NAME;break;case"TV":e.client.clientVersion=D.TV.VERSION,e.client.clientName=D.TV.NAME,e.client.userAgent=D.TV.USER_AGENT;break;case"TV_SIMPLY":e.client.clientVersion=D.TV_SIMPLY.VERSION,e.client.clientName=D.TV_SIMPLY.NAME;break;case"TV_EMBEDDED":e.client.clientName=D.TV_EMBEDDED.NAME,e.client.clientVersion=D.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:we.YT_BASE};break;case"YTKIDS":e.client.clientVersion=D.WEB_KIDS.VERSION,e.client.clientName=D.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;case"WEB_EMBEDDED":e.client.clientName=D.WEB_EMBEDDED.NAME,e.client.clientVersion=D.WEB_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:we.GOOGLE_SEARCH_BASE};break;case"WEB_CREATOR":e.client.clientName=D.WEB_CREATOR.NAME,e.client.clientVersion=D.WEB_CREATOR.VERSION;break;default:break}}},"_HTTPClient_adjustContext");var Wg=r_;var bt={};Ze(bt,{compress:()=>dC,decompress:()=>_C});function dC(t){let e=[],i={};for(let a=0;a<256;a++)i[String.fromCharCode(a)]=a;let s="",o=256;for(let a=0;a<t.length;a++){let p=t[a],f=s+p;i.hasOwnProperty(f)?s=f:(e.push(i[s]),i[f]=o++,s=p)}return s!==""&&e.push(i[s]),e.map(a=>String.fromCharCode(a)).join("")}r(dC,"compress");function _C(t){let e={},i=t.split(""),s=[i.shift()],o=i.length>>>0,a=256,p=s[0],f=p;for(let m=0;m<o;++m){let _=i[m].charCodeAt(0),x=_<256?i[m]:e[_]?e[_]:f+p;s.push(x),p=x.charAt(0),e[a++]=f+p,f=x}return s.join("")}r(_C,"decompress");var si={};Ze(si,{decodeVisitorData:()=>OC,encodeCommentActionParams:()=>Qg,encodeNextParams:()=>VC,encodeVisitorData:()=>BC});function IT(){let t=0,e=0;for(let s=0;s<28;s+=7){let o=this.buf[this.pos++];if(t|=(o&127)<<s,(o&128)==0)return this.assertBounds(),[t,e]}let i=this.buf[this.pos++];if(t|=(i&15)<<28,e=(i&112)>>4,(i&128)==0)return this.assertBounds(),[t,e];for(let s=3;s<=31;s+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<s,(o&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}r(IT,"varint64read");function o_(t,e,i){for(let a=0;a<28;a=a+7){let p=t>>>a,f=!(p>>>7==0&&e==0),m=(f?p|128:p)&255;if(i.push(m),!f)return}let s=t>>>28&15|(e&7)<<4,o=e>>3!=0;if(i.push((o?s|128:s)&255),!!o){for(let a=3;a<31;a=a+7){let p=e>>>a,f=p>>>7!=0,m=(f?p|128:p)&255;if(i.push(m),!f)return}i.push(e>>>31&1)}}r(o_,"varint64write");var s_=4294967296;function Hg(t){let e=t[0]==="-";e&&(t=t.slice(1));let i=1e6,s=0,o=0;function a(p,f){let m=Number(t.slice(p,f));o*=i,s=s*i+m,s>=s_&&(o=o+(s/s_|0),s=s%s_)}return r(a,"add1e6digit"),a(-24,-18),a(-18,-12),a(-12,-6),a(-6),e?kT(s,o):jg(s,o)}r(Hg,"int64FromString");function ST(t,e){let i=jg(t,e),s=i.hi&2147483648;s&&(i=kT(i.lo,i.hi));let o=Gg(i.lo,i.hi);return s?"-"+o:o}r(ST,"int64ToString");function Gg(t,e){if({lo:t,hi:e}=xC(t,e),e<=2097151)return String(s_*e+t);let i=t&16777215,s=(t>>>24|e<<8)&16777215,o=e>>16&65535,a=i+s*6777216+o*6710656,p=s+o*8147497,f=o*2,m=1e7;return a>=m&&(p+=Math.floor(a/m),a%=m),p>=m&&(f+=Math.floor(p/m),p%=m),f.toString()+vT(p)+vT(a)}r(Gg,"uInt64ToString");function xC(t,e){return{lo:t>>>0,hi:e>>>0}}r(xC,"toUnsigned");function jg(t,e){return{lo:t|0,hi:e|0}}r(jg,"newBits");function kT(t,e){return e=~e,t?t=~t+1:e+=1,jg(t,e)}r(kT,"negate");var vT=r(t=>{let e=String(t);return"0000000".slice(e.length)+e},"decimalFrom1e7WithLeadingZeros");function $g(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let i=0;i<9;i++)e.push(t&127|128),t=t>>7;e.push(1)}}r($g,"varint32write");function ET(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let i=5;(t&128)!==0&&i<10;i++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}r(ET,"varint32read");var gt=yC();function yC(){let t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let i=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),o=BigInt("0"),a=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(p){let f=typeof p=="bigint"?p:BigInt(p);if(f>s||f<i)throw new Error(`invalid int64: ${p}`);return f},uParse(p){let f=typeof p=="bigint"?p:BigInt(p);if(f>a||f<o)throw new Error(`invalid uint64: ${p}`);return f},enc(p){return t.setBigInt64(0,this.parse(p),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(p){return t.setBigInt64(0,this.uParse(p),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(p,f){return t.setInt32(0,p,!0),t.setInt32(4,f,!0),t.getBigInt64(0,!0)},uDec(p,f){return t.setInt32(0,p,!0),t.setInt32(4,f,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),CT(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),PT(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),CT(i),Hg(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),PT(i),Hg(i)},dec(i,s){return ST(i,s)},uDec(i,s){return Gg(i,s)}}}r(yC,"makeInt64Support");function CT(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}r(CT,"assertInt64String");function PT(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}r(PT,"assertUInt64String");var Kg=Symbol.for("@bufbuild/protobuf/text-encoding");function qg(){if(globalThis[Kg]==null){let t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[Kg]={encodeUtf8(i){return t.encode(i)},decodeUtf8(i){return e.decode(i)},checkUtf8(i){try{return encodeURIComponent(i),!0}catch{return!1}}}}return globalThis[Kg]}r(qg,"getTextEncoding");var Ti;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(Ti||(Ti={}));var bC=34028234663852886e22,gC=-34028234663852886e22,wC=4294967295,TC=2147483647,vC=-2147483648,Te=class{constructor(e=qg().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let i=new Uint8Array(e),s=0;for(let o=0;o<this.chunks.length;o++)i.set(this.chunks[o],s),s+=this.chunks[o].length;return this.chunks=[],i}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),i=this.stack.pop();if(!i)throw new Error("invalid state, fork stack empty");return this.chunks=i.chunks,this.buf=i.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,i){return this.uint32((e<<3|i)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(NT(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return zg(e),$g(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let i=this.encodeUtf8(e);return this.uint32(i.byteLength),this.raw(i)}float(e){IC(e);let i=new Uint8Array(4);return new DataView(i.buffer).setFloat32(0,e,!0),this.raw(i)}double(e){let i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),this.raw(i)}fixed32(e){NT(e);let i=new Uint8Array(4);return new DataView(i.buffer).setUint32(0,e,!0),this.raw(i)}sfixed32(e){zg(e);let i=new Uint8Array(4);return new DataView(i.buffer).setInt32(0,e,!0),this.raw(i)}sint32(e){return zg(e),e=(e<<1^e>>31)>>>0,$g(e,this.buf),this}sfixed64(e){let i=new Uint8Array(8),s=new DataView(i.buffer),o=gt.enc(e);return s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),this.raw(i)}fixed64(e){let i=new Uint8Array(8),s=new DataView(i.buffer),o=gt.uEnc(e);return s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),this.raw(i)}int64(e){let i=gt.enc(e);return o_(i.lo,i.hi,this.buf),this}sint64(e){let i=gt.enc(e),s=i.hi>>31,o=i.lo<<1^s,a=(i.hi<<1|i.lo>>>31)^s;return o_(o,a,this.buf),this}uint64(e){let i=gt.uEnc(e);return o_(i.lo,i.hi,this.buf),this}};r(Te,"BinaryWriter");var J=class{constructor(e,i=qg().decodeUtf8){this.decodeUtf8=i,this.varint64=IT,this.uint32=ET,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),i=e>>>3,s=e&7;if(i<=0||s<0||s>5)throw new Error("illegal tag: field no "+i+" wire type "+s);return[i,s]}skip(e,i){let s=this.pos;switch(e){case Ti.Varint:for(;this.buf[this.pos++]&128;);break;case Ti.Bit64:this.pos+=4;case Ti.Bit32:this.pos+=4;break;case Ti.LengthDelimited:let o=this.uint32();this.pos+=o;break;case Ti.StartGroup:for(;;){let[a,p]=this.tag();if(p===Ti.EndGroup){if(i!==void 0&&a!==i)throw new Error("invalid end group tag");break}this.skip(p,a)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(s,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return gt.dec(...this.varint64())}uint64(){return gt.uDec(...this.varint64())}sint64(){let[e,i]=this.varint64(),s=-(e&1);return e=(e>>>1|(i&1)<<31)^s,i=i>>>1^s,gt.dec(e,i)}bool(){let[e,i]=this.varint64();return e!==0||i!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return gt.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return gt.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),i=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(i,i+e)}string(){return this.decodeUtf8(this.bytes())}};r(J,"BinaryReader");function zg(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>TC||t<vC)throw new Error("invalid int32: "+t)}r(zg,"assertInt32");function NT(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>wC||t<0)throw new Error("invalid uint32: "+t)}r(NT,"assertUInt32");function IC(t){if(typeof t=="string"){let e=t;if(t=Number(t),isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>bC||t<gC))throw new Error("invalid float32: "+t)}r(IC,"assertFloat32");function SC(){return{id:"",timestamp:0}}r(SC,"createBaseVisitorData");var Xg={encode(t,e=new Te){return t.id!==""&&e.uint32(10).string(t.id),t.timestamp!==0&&e.uint32(40).int32(t.timestamp),e},decode(t,e){let i=t instanceof J?t:new J(t),s=e===void 0?i.len:i.pos+e,o=SC();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==10)break;o.id=i.string();continue;case 5:if(a!==40)break;o.timestamp=i.int32();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function kC(){return{params:void 0,number0:void 0,number1:void 0}}r(kC,"createBaseLiveMessageParams");var OT={encode(t,e=new Te){return t.params!==void 0&&AT.encode(t.params,e.uint32(10).fork()).join(),t.number0!==void 0&&e.uint32(16).int32(t.number0),t.number1!==void 0&&e.uint32(24).int32(t.number1),e},decode(t,e){let i=t instanceof J?t:new J(t),s=e===void 0?i.len:i.pos+e,o=kC();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==10)break;o.params=AT.decode(i,i.uint32());continue;case 2:if(a!==16)break;o.number0=i.int32();continue;case 3:if(a!==24)break;o.number1=i.int32();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function EC(){return{ids:void 0}}r(EC,"createBaseLiveMessageParams_Params");var AT={encode(t,e=new Te){return t.ids!==void 0&&RT.encode(t.ids,e.uint32(42).fork()).join(),e},decode(t,e){let i=t instanceof J?t:new J(t),s=e===void 0?i.len:i.pos+e,o=EC();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 5:if(a!==42)break;o.ids=RT.decode(i,i.uint32());continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function CC(){return{channelId:"",videoId:""}}r(CC,"createBaseLiveMessageParams_Params_Ids");var RT={encode(t,e=new Te){return t.channelId!==""&&e.uint32(10).string(t.channelId),t.videoId!==""&&e.uint32(18).string(t.videoId),e},decode(t,e){let i=t instanceof J?t:new J(t),s=e===void 0?i.len:i.pos+e,o=CC();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==10)break;o.channelId=i.string();continue;case 2:if(a!==18)break;o.videoId=i.string();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function PC(){return{type:0,commentId:"",videoId:"",unkNum:void 0,channelId:void 0,translateCommentParams:void 0}}r(PC,"createBasePeformCommentActionParams");var VT={encode(t,e=new Te){return t.type!==0&&e.uint32(8).int32(t.type),t.commentId!==""&&e.uint32(26).string(t.commentId),t.videoId!==""&&e.uint32(42).string(t.videoId),t.unkNum!==void 0&&e.uint32(16).int32(t.unkNum),t.channelId!==void 0&&e.uint32(186).string(t.channelId),t.translateCommentParams!==void 0&&MT.encode(t.translateCommentParams,e.uint32(250).fork()).join(),e},decode(t,e){let i=t instanceof J?t:new J(t),s=e===void 0?i.len:i.pos+e,o=PC();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==8)break;o.type=i.int32();continue;case 3:if(a!==26)break;o.commentId=i.string();continue;case 5:if(a!==42)break;o.videoId=i.string();continue;case 2:if(a!==16)break;o.unkNum=i.int32();continue;case 23:if(a!==186)break;o.channelId=i.string();continue;case 31:if(a!==250)break;o.translateCommentParams=MT.decode(i,i.uint32());continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function NC(){return{params:void 0,commentId:"",targetLanguage:""}}r(NC,"createBasePeformCommentActionParams_TranslateCommentParams");var MT={encode(t,e=new Te){return t.params!==void 0&&LT.encode(t.params,e.uint32(26).fork()).join(),t.commentId!==""&&e.uint32(18).string(t.commentId),t.targetLanguage!==""&&e.uint32(34).string(t.targetLanguage),e},decode(t,e){let i=t instanceof J?t:new J(t),s=e===void 0?i.len:i.pos+e,o=NC();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 3:if(a!==26)break;o.params=LT.decode(i,i.uint32());continue;case 2:if(a!==18)break;o.commentId=i.string();continue;case 4:if(a!==34)break;o.targetLanguage=i.string();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function AC(){return{comment:void 0}}r(AC,"createBasePeformCommentActionParams_TranslateCommentParams_Params");var LT={encode(t,e=new Te){return t.comment!==void 0&&DT.encode(t.comment,e.uint32(10).fork()).join(),e},decode(t,e){let i=t instanceof J?t:new J(t),s=e===void 0?i.len:i.pos+e,o=AC();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==10)break;o.comment=DT.decode(i,i.uint32());continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function RC(){return{text:""}}r(RC,"createBasePeformCommentActionParams_TranslateCommentParams_Params_Comment");var DT={encode(t,e=new Te){return t.text!==""&&e.uint32(10).string(t.text),e},decode(t,e){let i=t instanceof J?t:new J(t),s=e===void 0?i.len:i.pos+e,o=RC();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==10)break;o.text=i.string();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function MC(){return{shortId:"",params:void 0,feature2:0,feature3:0}}r(MC,"createBaseReelSequence");var YT={encode(t,e=new Te){return t.shortId!==""&&e.uint32(10).string(t.shortId),t.params!==void 0&&BT.encode(t.params,e.uint32(42).fork()).join(),t.feature2!==0&&e.uint32(80).int32(t.feature2),t.feature3!==0&&e.uint32(104).int32(t.feature3),e},decode(t,e){let i=t instanceof J?t:new J(t),s=e===void 0?i.len:i.pos+e,o=MC();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==10)break;o.shortId=i.string();continue;case 5:if(a!==42)break;o.params=BT.decode(i,i.uint32());continue;case 10:if(a!==80)break;o.feature2=i.int32();continue;case 13:if(a!==104)break;o.feature3=i.int32();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function LC(){return{number:0}}r(LC,"createBaseReelSequence_Params");var BT={encode(t,e=new Te){return t.number!==0&&e.uint32(24).int32(t.number),e},decode(t,e){let i=t instanceof J?t:new J(t),s=e===void 0?i.len:i.pos+e,o=LC();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 3:if(a!==24)break;o.number=i.int32();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function DC(){return{videoId:[]}}r(DC,"createBaseNextParams");var FT={encode(t,e=new Te){for(let i of t.videoId)e.uint32(42).string(i);return e},decode(t,e){let i=t instanceof J?t:new J(t),s=e===void 0?i.len:i.pos+e,o=DC();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 5:if(a!==42)break;o.videoId.push(i.string());continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function BC(t,e){let i=Xg.encode({id:t,timestamp:e});return encodeURIComponent(oi(i.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}r(BC,"encodeVisitorData");function OC(t){return Xg.decode(xo(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}r(OC,"decodeVisitorData");function Qg(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let s=VT.encode(i);return encodeURIComponent(oi(s.finish()))}r(Qg,"encodeCommentActionParams");function VC(t){let e=FT.encode({videoId:t});return encodeURIComponent(oi(e.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}r(VC,"encodeNextParams");var bo=class extends n{constructor(e){super(),this.popup=l.parseItem(e.popup),this.popup_type=e.popupType}};r(bo,"OpenPopupAction");bo.type="OpenPopupAction";var Wr=bo;var go=class extends n{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),"accessibilityData"in e&&"accessibilityData"in e.accessibilityData&&(this.accessibility={accessibility_data:new ne(e.accessibilityData.accessibilityData)}),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"size")&&(this.size=e.size),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint||e.command)}};r(go,"Button");go.type="Button";var T=go;var wo=class extends n{constructor(e){var i;super(),this.label=new c(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new h(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new c(e.descriptionText))}};r(wo,"DropdownItem");wo.type="DropdownItem";var n_=wo;var To=class extends n{constructor(e){super(),this.label=e.label||"",this.entries=l.parseArray(e.entries,n_)}};r(To,"Dropdown");To.type="Dropdown";var vi=To;var vo=class extends n{constructor(e){super(),this.title=new c(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=l.parseItem(e.privacyOption,vi),this.create_button=l.parseItem(e.cancelButton,T),this.cancel_button=l.parseItem(e.cancelButton,T)}};r(vo,"CreatePlaylistDialog");vo.type="CreatePlaylistDialog";var a_=vo;var Io=class extends n{constructor(e){super(),this.commands=l.parseCommands(e.commands)}};r(Io,"CommandExecutorCommand");Io.type="CommandExecutorCommand";var c_=Io;var Ii=class extends n{constructor(e){var i,s,o,a,p,f,m,_;if(super(),e){if(e.serialCommand||e.parallelCommand){let x=e.serialCommand||e.parallelCommand;this.commands=x.commands.map(b=>new Ii(b))}(e.innertubeCommand||e.command||e.performOnceCommand)&&(e=e.innertubeCommand||e.command||e.performOnceCommand)}this.command=l.parseCommand(e),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new Wr(e.openPopupAction)),this.name=Object.keys(e||{}).find(x=>x.endsWith("Endpoint")||x.endsWith("Command")),this.payload=this.name?Reflect.get(e,this.name):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=l.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=l.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Ii(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},(s=(i=e==null?void 0:e.commandMetadata)==null?void 0:i.webCommandMetadata)!=null&&s.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),(a=(o=e==null?void 0:e.commandMetadata)==null?void 0:o.webCommandMetadata)!=null&&a.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),(f=(p=e==null?void 0:e.commandMetadata)==null?void 0:p.webCommandMetadata)!=null&&f.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):this.name&&(this.metadata.api_url=this.getPath(this.name)),(_=(m=e==null?void 0:e.commandMetadata)==null?void 0:m.webCommandMetadata)!=null&&_.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=l.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,a_))}getPath(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An API caller must be provided");if(this.command){let s=this.command;return s.is(c_)&&(s=s.commands.at(-1)),e.execute(s.getApiPath(),{...s.buildRequest(),...i})}if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found.");return e.execute(this.metadata.api_url,{...this.payload,...i})}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};r(Ii,"NavigationEndpoint");Ii.type="NavigationEndpoint";var h=Ii;var y=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(s=>new y(s)).sort((s,o)=>o.width-s.width):[]}};r(y,"Thumbnail");var Si=class{constructor(e){var i,s,o,a,p,f;this.text=((i=e.emoji)==null?void 0:i.emojiId)||((o=(s=e.emoji)==null?void 0:s.shortcuts)==null?void 0:o[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((a=e.emoji)==null?void 0:a.shortcuts)||[],search_terms:((p=e.emoji)==null?void 0:p.searchTerms)||[],image:y.fromResponse(e.emoji.image),is_custom:!!((f=e.emoji)!=null&&f.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=l_(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};r(Si,"EmojiRun");var ki=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.bracket=Boolean(e.bracket),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),this.error_underline=Boolean(e.error_underline),this.underline=Boolean(e.underline),this.deemphasize=Boolean(e.deemphasize),"textColor"in e&&(this.text_color=e.textColor),"navigationEndpoint"in e&&(this.endpoint=new h(e.navigationEndpoint)),"darkModeTextColor"in e&&(this.dark_mode_text_color=e.darkModeTextColor),"fontFace"in e&&(this.font_face=e.fontFace),this.attachment=e.attachment}toString(){return this.text}toHTML(){var a;let e=[];if(this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s"),this.deemphasize&&e.push("small"),this.underline&&e.push("u"),this.error_underline&&e.push("u"),!((a=this.text)!=null&&a.length))return"";let i=l_(this.text),o=`<span style="white-space: pre-wrap;">${e.map(p=>`<${p}>`).join("")+i+e.map(p=>`</${p}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length&&this.endpoint){let{url:p}=this.attachment.element.type.imageType.image.sources[0],f="";p&&(f=`<img src="${p}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;" alt="">`);let m=this.endpoint.toURL();if(m)return`<a href="${m}" class="yt-ch-link">${f}${o}</a>`}if(this.endpoint){let p=this.endpoint.toURL();if(p)return`<a href="${p}">${o}</a>`}return o}};r(ki,"TextRun");function l_(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}r(l_,"escape");var So="Text",c=class{constructor(e){this.isRunsData(e)?(this.runs=e.runs.map(i=>i.emoji?new Si(i):new ki(i)),this.text=this.runs.map(i=>i.text).join("")):this.text=e==null?void 0:e.simpleText,this.isObject(e)&&"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new ne(e.accessibility.accessibilityData)}),this.rtl=!!(e!=null&&e.rtl),this.parseEndpoint(e)}isRunsData(e){return this.isObject(e)&&Reflect.has(e,"runs")&&Array.isArray(e.runs)}parseEndpoint(e){var i,s,o;!this.isObject(e)||("navigationEndpoint"in e?this.endpoint=new h(e.navigationEndpoint):"titleNavigationEndpoint"in e?this.endpoint=new h(e.titleNavigationEndpoint):(s=(i=this.runs)==null?void 0:i[0])!=null&&s.endpoint&&(this.endpoint=((o=this.runs)==null?void 0:o[0]).endpoint))}isObject(e){return typeof e=="object"&&e!==null}static fromAttributed(e){var f;let{content:i,commandRuns:s,attachmentRuns:o}=e,a=[{text:i,startIndex:0}],p=(f=e.styleRuns)==null?void 0:f.map(m=>{var _,x;return{...m,startIndex:(_=m.startIndex)!=null?_:0,length:(x=m.length)!=null?x:i.length}});return p!=null&&p.length&&this.processStyleRuns(a,p,e),s!=null&&s.length&&this.processCommandRuns(a,s,e),o!=null&&o.length&&this.processAttachmentRuns(a,o,e),new c({runs:a})}static processStyleRuns(e,i,s){for(let o of i)if(o.italic||o.strikethrough==="LINE_STYLE_SINGLE"||o.weightLabel==="FONT_WEIGHT_MEDIUM"||o.weightLabel==="FONT_WEIGHT_BOLD"){let a=Jg(e,o);if(!a){L.warn(So,"Unable to find matching run for style run. Skipping...",{style_run:o,input_data:s,parsed_runs:JSON.parse(JSON.stringify(e))});continue}p_(e,a,o,{bold:o.weightLabel==="FONT_WEIGHT_MEDIUM"||o.weightLabel==="FONT_WEIGHT_BOLD",italics:o.italic,strikethrough:o.strikethrough==="LINE_STYLE_SINGLE"})}else L.debug(So,"Skipping style run as it is doesn't have any information that we parse.",{style_run:o,input_data:s})}static processCommandRuns(e,i,s){for(let o of i)if(o.onTap){let a=Jg(e,o);if(!a){L.warn(So,"Unable to find matching run for command run. Skipping...",{command_run:o,input_data:s,parsed_runs:JSON.parse(JSON.stringify(e))});continue}p_(e,a,o,{navigationEndpoint:o.onTap})}else L.debug(So,'Skipping command run as it is missing the "doTap" property.',{command_run:o,input_data:s})}static processAttachmentRuns(e,i,s){var o,a,p;for(let f of i){let m=Jg(e,f);if(!m){L.warn(So,"Unable to find matching run for attachment run. Skipping...",{attachment_run:f,input_data:s,parsed_runs:JSON.parse(JSON.stringify(e))});continue}if(f.length===0)m.attachment=f;else{let _=f.startIndex-m.startIndex,x=m.text.substring(_,_+f.length),b=/^:[^:]+:$/.test(x);if(((p=(a=(o=f.element)==null?void 0:o.type)==null?void 0:a.imageType)==null?void 0:p.image)&&(b||/^(?:\p{Emoji}|\u200d)+$/u.test(x))){let w={image:f.element.type.imageType.image,isCustomEmoji:b,shortcuts:b?[x]:void 0};p_(e,m,f,{emoji:w})}else p_(e,m,f,{attachment:f})}}}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};r(c,"Text");function Jg(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}r(Jg,"findMatchingRun");function p_(t,e,i,s){let o=t.indexOf(e),a=[],p=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&a.push({...e,text:e.text.substring(0,p)}),a.push({...e,text:e.text.substring(p,p+i.length),startIndex:i.startIndex,...s}),i.startIndex+i.length<e.startIndex+e.text.length&&a.push({...e,text:e.text.substring(p+i.length),startIndex:i.startIndex+i.length}),t.splice(o,1,...a)}r(p_,"insertSubRun");var ko=class extends n{constructor(e){super(),this.title=c.fromAttributed(e.title),this.link=c.fromAttributed(e.link),this.favicon=y.fromResponse(e.favicon)}};r(ko,"ChannelExternalLinkView");ko.type="ChannelExternalLinkView";var u_=ko;var Eo=class extends n{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=c.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=c.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=c.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=c.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new h(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=c.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=l.parseArray(e.links,u_):this.links=[]}};r(Eo,"AboutChannelView");Eo.type="AboutChannelView";var f_=Eo;var Co=class extends n{constructor(e){super(),this.metadata=l.parseItem(e.metadata,f_),this.share_channel=l.parseItem(e.shareChannel,T)}};r(Co,"AboutChannel");Co.type="AboutChannel";var m_=Co;var Po=class extends n{constructor(e){super(),this.title=new c(e.title),this.endpoint=new h(e.navigationEndpoint)}};r(Po,"AccountChannel");Po.type="AccountChannel";var h_=Po;var No=class extends n{constructor(e){super(),this.account_name=new c(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new h(e.serviceEndpoint),this.account_byline=new c(e.accountByline),this.channel_handle=new c(e.channelHandle)}};r(No,"AccountItem");No.type="AccountItem";var d_=No;var Ao=class extends n{constructor(e){super(),this.title=new c(e.title)}};r(Ao,"AccountItemSectionHeader");Ao.type="AccountItemSectionHeader";var __=Ao;var Ro=class extends n{constructor(e){super(),this.title=new c(e.title).toString(),"subtitle"in e&&(this.subtitle=new c(e.subtitle)),"icon"in e&&"iconType"in e.icon&&(this.icon_type=e.icon.iconType),"secondaryIcon"in e&&"iconType"in e.secondaryIcon&&(this.secondary_icon_type=e.secondaryIcon.iconType),this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint),this.style=e.style}};r(Ro,"CompactLink");Ro.type="CompactLink";var Bt=Ro;var Mo=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents,[d_,Bt]),this.header=l.parseItem(e.header,__)}};r(Mo,"AccountItemSection");Mo.type="AccountItemSection";var x_=Mo;var Lo=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents,x_),this.footers=l.parseArray(e.footers,h_)}};r(Lo,"AccountSectionList");Lo.type="AccountSectionList";var y_=Lo;var Do=class extends n{constructor(e){super(),this.contents=l.parseArray(e.continuationItems),this.target=e.target}};r(Do,"AppendContinuationItemsAction");Do.type="AppendContinuationItemsAction";var Oe=Do;var Bo=class extends n{constructor(e){super(),this.target_id=e.targetId,this.visibility=e.visibility}};r(Bo,"ChangeEngagementPanelVisibilityAction");Bo.type="ChangeEngagementPanelVisibilityAction";var UT=Bo;var Oo=class extends n{constructor(e){super(),this.header=l.parseItem(e.header),this.sections=l.parseArray(e.sections),this.style=e.style}};r(Oo,"MultiPageMenu");Oo.type="MultiPageMenu";var b_=Oo;var Vo=class extends n{constructor(e){super(),this.menu=l.parseItem(e.menu,b_)}};r(Vo,"GetMultiPageMenuAction");Vo.type="GetMultiPageMenuAction";var WT=Vo;var Yo=class extends n{constructor(e){super(),this.bucket=e.bucket}};r(Yo,"SendFeedbackAction");Yo.type="SendFeedbackAction";var HT=Yo;var Fo=class extends n{constructor(e){super(),this.signal=e.signal}};r(Fo,"SignalAction");Fo.type="SignalAction";var GT=Fo;var Uo=class extends n{constructor(e){super(),this.header=l.parseItem(e.header),this.contents=l.parse(e.contents,!0)}};r(Uo,"ChannelSwitcherPage");Uo.type="ChannelSwitcherPage";var g_=Uo;var Wo=class extends n{constructor(e){super();let i=l.parseItem(e.page,g_);i&&(this.header=i.header,this.contents=i.contents)}};r(Wo,"UpdateChannelSwitcherPageAction");Wo.type="UpdateChannelSwitcherPageAction";var jT=Wo;var Ho=class extends n{constructor(e){super(),"title"in e&&(this.title=e.title),"icon"in e&&(this.icon_type=e.icon.iconType),"tooltip"in e&&(this.tooltip=e.tooltip),"subMenuItems"in e&&(this.sub_menu_items=e.subMenuItems.map(i=>{var s,o;return{title:i.title,selected:i.selected,continuation:(o=(s=i.continuation)==null?void 0:s.reloadContinuationData)==null?void 0:o.continuation,endpoint:new h(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}})),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new ne(e.accessibility.accessibilityData)})}get label(){var e,i;return(i=(e=this.accessibility)==null?void 0:e.accessibility_data)==null?void 0:i.label}};r(Ho,"SortFilterSubMenu");Ho.type="SortFilterSubMenu";var wt=Ho;var Go=class extends n{constructor(e){super(),this.language_menu=l.parseItem(e.languageMenu,wt)}};r(Go,"TranscriptFooter");Go.type="TranscriptFooter";var w_=Go;var jo=class extends n{constructor(e){super(),this.formatted_placeholder=new c(e.formattedPlaceholder),this.clear_button=l.parseItem(e.clearButton,T),this.endpoint=new h(e.onTextChangeCommand),this.search_button=l.parseItem(e.searchButton,T)}};r(jo,"TranscriptSearchBox");jo.type="TranscriptSearchBox";var T_=jo;var $o=class extends n{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new c(e.snippet)}};r($o,"TranscriptSectionHeader");$o.type="TranscriptSectionHeader";var v_=$o;var Ko=class extends n{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new c(e.snippet),this.start_time_text=new c(e.startTimeText),this.target_id=e.targetId}};r(Ko,"TranscriptSegment");Ko.type="TranscriptSegment";var I_=Ko;var qo=class extends n{constructor(e){super(),this.initial_segments=l.parseArray(e.initialSegments,[I_,v_]),this.no_result_label=new c(e.noResultLabel),this.retry_label=new c(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};r(qo,"TranscriptSegmentList");qo.type="TranscriptSegmentList";var S_=qo;var zo=class extends n{constructor(e){super(),this.header=l.parseItem(e.header,T_),this.body=l.parseItem(e.body,S_),this.footer=l.parseItem(e.footer,w_),this.target_id=e.targetId}};r(zo,"TranscriptSearchPanel");zo.type="TranscriptSearchPanel";var k_=zo;var Xo=class extends n{constructor(e){super(),this.content=l.parseItem(e.content,k_)}};r(Xo,"Transcript");Xo.type="Transcript";var Hr=Xo;var Qo=class extends n{constructor(e){super(),this.target_id=e.targetId,this.content=l.parseItem(e.content,Hr)}};r(Qo,"UpdateEngagementPanelAction");Qo.type="UpdateEngagementPanelAction";var $T=Qo;var Jo=class extends n{constructor(e){super(),this.channel_id=e.channelId,this.subscribed=e.subscribed}};r(Jo,"UpdateSubscribeButtonAction");Jo.type="UpdateSubscribeButtonAction";var KT=Jo;var Zo=class extends n{constructor(e){super(),this.account_name=new c(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.endpoint=new h(e.serviceEndpoint),this.manage_account_title=new c(e.manageAccountTitle),this.channel_handle=new c(e.channelHandle)}};r(Zo,"ActiveAccountHeader");Zo.type="ActiveAccountHeader";var qT=Zo;var en=class extends n{constructor(e){super(),this.title=new c(e.title)}};r(en,"MenuTitle");en.type="MenuTitle";var E_=en;var tn=class extends n{constructor(e){var i;super(),this.add_to_playlist_service_endpoint=new h(e.addToPlaylistServiceEndpoint),this.contains_selected_videos=e.containsSelectedVideos,this.playlist_id=e.playlistId,this.privacy=e.privacy,this.privacy_icon={icon_type:((i=e.privacyIcon)==null?void 0:i.iconType)||null},this.remove_from_playlist_service_endpoint=new h(e.removeFromPlaylistServiceEndpoint),this.title=new c(e.title)}};r(tn,"PlaylistAddToOption");tn.type="PlaylistAddToOption";var C_=tn;var rn=class extends n{constructor(e){super(),this.actions=l.parseArray(e.actions,[E_,T]),this.playlists=l.parseArray(e.playlists,C_)}};r(rn,"AddToPlaylist");rn.type="AddToPlaylist";var zT=rn;var sn=class extends n{constructor(e){super(),this.text=new c(e.text),this.alert_type=e.type}};r(sn,"Alert");sn.type="Alert";var Gr=sn;var on=class extends n{constructor(e){super(),this.text=new c(e.text),this.alert_type=e.type,this.dismiss_button=l.parseItem(e.dismissButton,T)}};r(on,"AlertWithButton");on.type="AlertWithButton";var P_=on;var nn=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(nn,"AnimatedThumbnailOverlayView");nn.type="AnimatedThumbnailOverlayView";var N_=nn;var an=class extends n{constructor(e){super(),this.text=c.fromAttributed(e.text),this.suffix=c.fromAttributed(e.suffix)}};r(an,"AttributionView");an.type="AttributionView";var A_=an;var cn=class extends n{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};r(cn,"AudioOnlyPlayability");cn.type="AudioOnlyPlayability";var R_=cn;var ln=class extends n{constructor(e){var i,s;super(),(s=(i=e==null?void 0:e.content)==null?void 0:i.automixPlaylistVideoRenderer)!=null&&s.navigationEndpoint&&(this.playlist_video={endpoint:new h(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};r(ln,"AutomixPreviewVideo");ln.type="AutomixPreviewVideo";var M_=ln;var pn=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.avatar_image_size=e.avatarImageSize,e.image.processor&&(this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}})}};r(pn,"AvatarView");pn.type="AvatarView";var jr=pn;var Ei=class{constructor(e){"onFocus"in e&&(this.on_focus=new h(e.onFocus)),"onHidden"in e&&(this.on_hidden=new h(e.onHidden)),"onTouchEnd"in e&&(this.on_touch_end=new h(e.onTouchEnd)),"onTouchMove"in e&&(this.on_touch_move=new h(e.onTouchMove)),"onLongPress"in e&&(this.on_long_press=new h(e.onLongPress)),"onTap"in e&&(this.on_tap=new h(e.onTap)),"onTouchStart"in e&&(this.on_touch_start=new h(e.onTouchStart)),"onVisible"in e&&(this.on_visible=new h(e.onVisible)),"onFirstVisible"in e&&(this.on_first_visible=new h(e.onFirstVisible)),"onHover"in e&&(this.on_hover=new h(e.onHover))}};r(Ei,"CommandContext");var Ae=class{constructor(e){!e||("commandContext"in e&&(this.command_context=new Ei(e.commandContext)),"accessibilityContext"in e&&(this.accessibility_context=new wi(e.accessibilityContext)))}};r(Ae,"RendererContext");var un=class extends n{constructor(e){super(),this.avatars=l.parseArray(e.avatars,jr),Reflect.has(e,"text")&&(this.text=c.fromAttributed(e.text)),this.renderer_context=new Ae(e.rendererContext)}};r(un,"AvatarStackView");un.type="AvatarStackView";var L_=un;var fn=class extends n{constructor(e){super(),"secondaryIconImage"in e&&(this.secondary_icon_image=y.fromResponse(e.secondaryIconImage)),"iconName"in e&&(this.icon_name=e.iconName),"enableIconButton"in e&&(this.enable_icon_button=e.enableIconButton),"tooltip"in e&&(this.tooltip=e.tooltip),"iconImageFlipForRtl"in e&&(this.icon_image_flip_for_rtl=e.iconImageFlipForRtl),"buttonSize"in e&&(this.button_size=e.buttonSize),"iconPosition"in e&&(this.icon_position=e.iconPosition),"isFullWidth"in e&&(this.is_full_width=e.isFullWidth),"state"in e&&(this.state=e.state),"onDisabledTap"in e&&(this.on_disabled_tap=new h(e.onDisabledTap)),"customBorderColor"in e&&(this.custom_border_color=e.customBorderColor),"onTap"in e&&(this.on_tap=new h(e.onTap)),"style"in e&&(this.style=e.style),"iconImage"in e&&(this.icon_image=e.iconImage),"customDarkThemeBorderColor"in e&&(this.custom_dark_theme_border_color=e.customDarkThemeBorderColor),"title"in e&&(this.title=e.title),"targetId"in e&&(this.target_id=e.targetId),"enableFullWidthMargins"in e&&(this.enable_full_width_margins=e.enableFullWidthMargins),"customFontColor"in e&&(this.custom_font_color=e.customFontColor),"type"in e&&(this.button_type=e.type),"enabled"in e&&(this.enabled=e.enabled),"accessibilityId"in e&&(this.accessibility_id=e.accessibilityId),"customBackgroundColor"in e&&(this.custom_background_color=e.customBackgroundColor),"onLongPress"in e&&(this.on_long_press=new h(e.onLongPress)),"titleFormatted"in e&&(this.title_formatted=e.titleFormatted),"onVisible"in e&&(this.on_visible=e.onVisible),"iconTrailing"in e&&(this.icon_trailing=e.iconTrailing),"accessibilityText"in e&&(this.accessibility_text=e.accessibilityText)}};r(fn,"ButtonView");fn.type="ButtonView";var Z=fn;var mn=class extends n{constructor(e){super(),this.body_text=new c(e.bodyText),this.cta_button=l.parseItem(e.ctaButton,[T,Z]),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.title=new c(e.title)}};r(mn,"BackgroundPromo");mn.type="BackgroundPromo";var XT=mn;var hn=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.endpoint=new h(e.command)}};r(hn,"BackstageImage");hn.type="BackstageImage";var D_=hn;var dn=class extends n{constructor(e){var s,o,a,p,f,m,_,x,b;super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(s=e.defaultIcon)==null?void 0:s.iconType;let i=((p=(a=(o=e==null?void 0:e.defaultText)==null?void 0:o.accessibility)==null?void 0:a.accessibilityData)==null?void 0:p.label)||((m=(f=e==null?void 0:e.accessibilityData)==null?void 0:f.accessibilityData)==null?void 0:m.label)||((_=e==null?void 0:e.accessibility)==null?void 0:_.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(i.replace(/\D/g,"")),this.short_like_count=new c(e.defaultText).toString()),this.endpoint=(b=(x=e.defaultServiceEndpoint)==null?void 0:x.commandExecutorCommand)!=null&&b.commands?new h(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new h(e.defaultServiceEndpoint),this.toggled_endpoint=new h(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};r(dn,"ToggleButton");dn.type="ToggleButton";var re=dn;var _n=class extends n{constructor(e){var i,s;super(),this.creator_thumbnail=y.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(s=(i=e.heartColor)==null?void 0:i.basicColorPaletteData)==null?void 0:s.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};r(_n,"CreatorHeart");_n.type="CreatorHeart";var B_=_n;var xn=class extends n{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,re),this.dislike_button=l.parseItem(e.dislikeButton,re),this.reply_button=l.parseItem(e.replyButton,T),this.creator_heart=l.parseItem(e.creatorHeart,B_)}};r(xn,"CommentActionButtons");xn.type="CommentActionButtons";var O_=xn;var yn=class extends n{constructor(e){super(),this.default_button=l.parseItem(e.defaultButtonViewModel,Z),this.toggled_button=l.parseItem(e.toggledButtonViewModel,Z),this.is_toggling_disabled=e.isTogglingDisabled,this.identifier=e.identifier,Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled)}};r(yn,"ToggleButtonView");yn.type="ToggleButtonView";var tt=yn;var bn=class extends n{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,tt),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};r(bn,"LikeButtonView");bn.type="LikeButtonView";var V_=bn;var gn=class extends n{constructor(e){super(),this.toggle_button=l.parseItem(e.toggleButtonViewModel,tt),this.dislike_entity_key=e.dislikeEntityKey}};r(gn,"DislikeButtonView");gn.type="DislikeButtonView";var Y_=gn;var wn=class extends n{constructor(e){if(super(),this.like_button=l.parseItem(e.likeButtonViewModel,V_),this.dislike_button=l.parseItem(e.dislikeButtonViewModel,Y_),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,i.default_button.accessibility_text&&(this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,"")))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,i.toggled_button.accessibility_text&&(this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,""))))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};r(wn,"SegmentedLikeDislikeButtonView");wn.type="SegmentedLikeDislikeButtonView";var ni=wn;var Tn=class extends T{constructor(e){super(e)}};r(Tn,"MenuServiceItem");Tn.type="MenuServiceItem";var Ot=Tn;var vn=class extends n{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new h(e.command),this.target_id=e.targetId}};r(vn,"DownloadButton");vn.type="DownloadButton";var $r=vn;var In=class extends n{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint)}};r(In,"MenuServiceItemDownload");In.type="MenuServiceItemDownload";var F_=In;var Sn=class extends n{constructor(e){super(),this.menu_item=l.parseItem(e.menuItem,[Ot,F_]),this.top_level_button=l.parseItem(e.topLevelButton,[$r,Z,T])}};r(Sn,"MenuFlexibleItem");Sn.type="MenuFlexibleItem";var U_=Sn;var kn=class extends n{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new h(i)))}};r(kn,"LikeButton");kn.type="LikeButton";var Kr=kn;var En=class extends n{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:l.parseArray(i.actions,[Z,tt])})),this.style=e.style}};r(En,"FlexibleActionsView");En.type="FlexibleActionsView";var qr=En;var Cn=class extends n{constructor(e){super(),this.items=l.parseArray(e.items),this.flexible_items=l.parseArray(e.flexibleItems,U_),this.top_level_buttons=l.parseArray(e.topLevelButtons,[re,Kr,T,Z,ni,qr]),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new ne(e.accessibility.accessibilityData)})}get label(){var e,i;return(i=(e=this.accessibility)==null?void 0:e.accessibility_data)==null?void 0:i.label}get contents(){return this.items}};r(Cn,"Menu");Cn.type="Menu";var R=Cn;var Pn=class extends n{constructor(e){super(),this.id=e.postId,this.author=new P({...e.authorText,navigationEndpoint:e.authorEndpoint},null,e.authorThumbnail),this.content=new c(e.contentText),this.published=new c(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new c(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=l.parseItem(e.actionMenu,R)),Reflect.has(e,"actionButtons")&&(this.action_buttons=l.parseItem(e.actionButtons,O_)),Reflect.has(e,"voteButton")&&(this.vote_button=l.parseItem(e.voteButton,T)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=l.parseItem(e.backstageAttachment)),this.surface=e.surface}};r(Pn,"BackstagePost");Pn.type="BackstagePost";var Ci=Pn;var Nn=class extends n{constructor(e){super(),this.post=l.parseItem(e.post)}};r(Nn,"BackstagePostThread");Nn.type="BackstagePostThread";var QT=Nn;var Pi=class extends n{constructor(e){super(),this.text=e.badgeText,this.style=e.badgeStyle,this.accessibility_label=e.accessibilityLabel}};r(Pi,"BadgeView");var An=class extends n{constructor(e){super(),this.name=new c(e.name),this.is_selected=e.isSelected,this.endpoint=new h(e.navigationEndpoint)}};r(An,"SubFeedOption");An.type="SubFeedOption";var W_=An;var Rn=class extends n{constructor(e){super(),this.title=new c(e.title),this.options=l.parseArray(e.options,W_)}};r(Rn,"SubFeedSelector");Rn.type="SubFeedSelector";var H_=Rn;var Mn=class extends n{constructor(e){super(),this.disclaimer=new c(e.disclaimer),this.info_icon={icon_type:e.infoIcon.iconType},this.usage_scenario=e.usageScenario}};r(Mn,"EomSettingsDisclaimer");Mn.type="EomSettingsDisclaimer";var G_=Mn;var Ln=class extends n{constructor(e){super(),this.endpoint=new h(e.endpoint),this.search_button=l.parseItem(e.searchButton,T),this.clear_button=l.parseItem(e.clearButton,T),this.placeholder_text=new c(e.placeholderText)}};r(Ln,"SearchBox");Ln.type="SearchBox";var j_=Ln;var Dn=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents,[H_,G_,re,Bt,j_,T])}};r(Dn,"BrowseFeedActions");Dn.type="BrowseFeedActions";var zr=Dn;var Bn=class extends n{constructor(e){super(),this.album=new c(e.album),this.thumbnails=y.fromResponse(e.thumbnailDetails)}};r(Bn,"BrowserMediaSession");Bn.type="BrowserMediaSession";var JT=Bn;var On=class extends n{constructor(e){super(),this.title=e.title,this.icon_name=e.image.sources[0].clientResource.imageName,this.renderer_context=new Ae(e.rendererContext)}};r(On,"ButtonCardView");On.type="ButtonCardView";var ZT=On;var Xr=class extends n{constructor(e){super(),this.endpoint=new h(e.navigationEndpoint),this.icon=y.fromResponse(e.icon),this.title=new c(e.title)}};r(Xr,"HeaderLink");Xr.type="HeaderLink";var Vn=class extends n{constructor(e){var i,s;super(),this.primary=W(((i=e.primaryLinks)==null?void 0:i.map(o=>new Xr(o)))||[]),this.secondary=W(((s=e.secondaryLinks)==null?void 0:s.map(o=>new Xr(o)))||[])}};r(Vn,"ChannelHeaderLinks");Vn.type="ChannelHeaderLinks";var $_=Vn;var Yn=class extends n{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=c.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=c.fromAttributed(e.more))}};r(Yn,"ChannelHeaderLinksView");Yn.type="ChannelHeaderLinksView";var K_=Yn;var Fn=class extends n{constructor(e){super(),this.placeholder_text=new c(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};r(Fn,"ClipCreationTextInput");Fn.type="ClipCreationTextInput";var q_=Fn;var Un=class extends n{constructor(e){var i,s,o,a,p,f;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(s=(i=e.startAccessibility)==null?void 0:i.accessibilityData)==null?void 0:s.label,this.end_label=(a=(o=e.endAccessibility)==null?void 0:o.accessibilityData)==null?void 0:a.label,this.duration_label=(f=(p=e.durationAccessibility)==null?void 0:p.accessibilityData)==null?void 0:f.label}};r(Un,"ClipCreationScrubber");Un.type="ClipCreationScrubber";var z_=Un;var Wn=class extends n{constructor(e){super(),this.title=new c(e.title),this.body=new c(e.body)}};r(Wn,"ClipAdState");Wn.type="ClipAdState";var X_=Wn;var Hn=class extends n{constructor(e){super(),this.user_avatar=y.fromResponse(e.userAvatar),this.title_input=l.parseItem(e.titleInput,[q_]),this.scrubber=l.parseItem(e.scrubber,[z_]),this.save_button=l.parseItem(e.saveButton,[T]),this.display_name=new c(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=l.parseItem(e.cancelButton,[T]),this.ad_state_overlay=l.parseItem(e.adStateOverlay,[X_]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};r(Hn,"ClipCreation");Hn.type="ClipCreation";var Q_=Hn;var Gn=class extends n{constructor(e){super(),this.contents=l.parse(e.contents,!0,[Q_])}};r(Gn,"ClipSection");Gn.type="ClipSection";var J_=Gn;var jn=class extends n{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,T)),this.endpoint=new h(e.continuationEndpoint)}};r(jn,"ContinuationItem");jn.type="ContinuationItem";var Q=jn;var $n=class extends n{constructor(e){super(),this.title=new c(e.title),this.contextual_info=e.contextualInfo?new c(e.contextualInfo):void 0,this.visibility_button=l.parseItem(e.visibilityButton,T),this.menu=l.parseItem(e.menu)}};r($n,"EngagementPanelTitleHeader");$n.type="EngagementPanelTitleHeader";var Z_=$n;var Kn=class extends n{constructor(e){super(),this.info_text=new c(e.infoText),this.menu=l.parseItem(e.menu,R)}};r(Kn,"MacroMarkersInfoItem");Kn.type="MacroMarkersInfoItem";var ex=Kn;var qn=class extends n{constructor(e){super(),this.title=new c(e.title),this.time_description=new c(e.timeDescription),this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new h(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};r(qn,"MacroMarkersListItem");qn.type="MacroMarkersListItem";var Qr=qn;var zn=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents,[ex,Qr]),this.sync_button_label=new c(e.syncButtonLabel)}};r(zn,"MacroMarkersList");zn.type="MacroMarkersList";var tx=zn;var Xn=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(Xn,"ProductList");Xn.type="ProductList";var ix=Xn;var Qn=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=l.parseItem(e.subMenu))}};r(Qn,"SectionList");Qn.type="SectionList";var le=Qn;var Jn=class extends n{constructor(e){super(),this.show_more_text=new c(e.showMoreText),this.show_less_text=new c(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=c.fromAttributed(e.attributedDescriptionBodyText))}};r(Jn,"ExpandableVideoDescriptionBody");Jn.type="ExpandableVideoDescriptionBody";var rx=Jn;var Zn=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new h(e.searchEndpoint),this.query=new c(e.query).toString()}};r(Zn,"SearchRefinementCard");Zn.type="SearchRefinementCard";var nr=Zn;var ea=class extends n{constructor(e){super(),this.game=l.parseItem(e.game)}};r(ea,"GameCard");ea.type="GameCard";var sx=ea;var ta=class extends n{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=l.parseArray(e.items)}get contents(){return this.items}};r(ta,"HorizontalList");ta.type="HorizontalList";var ox=ta;var ia=class extends n{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new c(e.header.collapsedTitle),collapsed_thumbnail:y.fromResponse(e.header.collapsedThumbnail),collapsed_label:new c(e.header.collapsedLabel),expanded_title:new c(e.header.expandedTitle)}),this.expanded_content=l.parseItem(e.expandedContent,[Ni,ox]),this.expand_button=l.parseItem(e.expandButton,T),this.collapse_button=l.parseItem(e.collapseButton,T)}};r(ia,"ExpandableMetadata");ia.type="ExpandableMetadata";var nx=ia;var ra=class extends n{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};r(ra,"MetadataBadge");ra.type="MetadataBadge";var $e=ra;var sa=class extends n{constructor(e){super(),this.text=new c(e.text).toString(),this.style=e.style}};r(sa,"ThumbnailOverlayTimeStatus");sa.type="ThumbnailOverlayTimeStatus";var Vt=sa;var oa=class extends n{constructor(e){var i,s;super(),this.title=new c(e.title),this.video_id=e.videoId,this.expandable_metadata=l.parseItem(e.expandableMetadata,nx),"untranslatedTitle"in e&&(this.untranslated_title=new c(e.untranslatedTitle)),"descriptionSnippet"in e&&(this.description_snippet=new c(e.descriptionSnippet)),"detailedMetadataSnippets"in e&&(this.snippets=e.detailedMetadataSnippets.map(o=>({text:new c(o.snippetText),hover_text:new c(o.snippetHoverText)}))),"additionalMetadatas"in e&&(this.additional_metadatas=e.additionalMetadatas.map(o=>new c(o))),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),"richThumbnail"in e&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),this.author=new P(e.ownerText,e.ownerBadges,(s=(i=e.channelThumbnailSupportedRenderers)==null?void 0:i.channelThumbnailWithLinkRenderer)==null?void 0:s.thumbnail),this.badges=l.parseArray(e.badges,$e),"navigationEndpoint"in e&&(this.endpoint=new h(e.navigationEndpoint)),"publishedTimeText"in e&&(this.published=new c(e.publishedTimeText)),"viewCountText"in e&&(this.view_count=new c(e.viewCountText)),"shortViewCountText"in e&&(this.short_view_count=new c(e.shortViewCountText)),"upcomingEventData"in e&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=l.parseItem(e.menu,R),"searchVideoResultEntityKey"in e&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey),"bylineText"in e&&(this.byline_text=new c(e.bylineText)),"lengthText"in e&&(this.length_text=new c(e.lengthText)),"serviceEndpoints"in e&&(this.service_endpoints=e.serviceEndpoints.map(o=>new h(o))),"serviceEndpoint"in e&&(this.service_endpoint=new h(e.serviceEndpoint)),"style"in e&&(this.style=e.style)}get id(){return this.video_id}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)==null?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Vt))==null?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}get duration(){var s;let e=this.thumbnail_overlays.firstOfType(Vt),i=((s=this.length_text)==null?void 0:s.toString())||(e==null?void 0:e.text.toString());return{text:i,seconds:i?ve(i):0}}};r(oa,"Video");oa.type="Video";var Jr=oa;var na=class extends Jr{constructor(e){var i,s,o,a;super(e),Reflect.has(e,"metadataText")&&(this.metadata_text=new c(e.metadataText),this.metadata_text.text&&(this.short_view_count=new c({simpleText:(i=this.metadata_text.text.split("\xB7")[0])==null?void 0:i.trim()}),this.published=new c({simpleText:(s=this.metadata_text.text.split("\xB7")[1])==null?void 0:s.trim()}))),Reflect.has(e,"bylineText")&&(this.author=new P(e.bylineText,e.ownerBadges,(a=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:a.thumbnail))}};r(na,"VideoCard");na.type="VideoCard";var ax=na;var aa=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};r(aa,"ContentPreviewImageView");aa.type="ContentPreviewImageView";var Ai=aa;var ca=class extends n{constructor(e){var i;super(),(i=e.image)!=null&&i.sources?this.image=y.fromResponse(e.image):this.image=l.parseItem(e.image,Ai),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,Reflect.has(e,"secondarySubtitle")&&(this.secondary_subtitle={content:e.secondarySubtitle.content}),this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new h(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};r(ca,"VideoAttributeView");ca.type="VideoAttributeView";var Ri=ca;var la=class extends n{constructor(e){super(),this.cards=l.parseArray(e.cards,[Ri,nr,Qr,sx,ax]),this.header=l.parseItem(e.header),this.previous_button=l.parseItem(e.previousButton,T),this.next_button=l.parseItem(e.nextButton,T)}};r(la,"HorizontalCardList");la.type="HorizontalCardList";var Ni=la;var pa=class extends n{constructor(e){super(),this.label=new c(e.label),this.value=new c(e.value),this.accessibility_text=e.accessibilityText}};r(pa,"Factoid");pa.type="Factoid";var Mi=pa;var ua=class extends n{constructor(e){super(),this.factoid=l.parseItem(e.factoid,Mi)}};r(ua,"UploadTimeFactoid");ua.type="UploadTimeFactoid";var cx=ua;var fa=class extends n{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=l.parseItem(e.factoid,[Mi]),this.view_count_type=e.viewCountType}};r(fa,"ViewCountFactoid");fa.type="ViewCountFactoid";var lx=fa;var ma=class extends n{constructor(e){super(),this.title=new c(e.title),this.channel=new c(e.channel),this.channel_navigation_endpoint=new h(e.channelNavigationEndpoint),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.publish_date=new c(e.publishDate),this.views=new c(e.views),this.factoids=l.parseArray(e.factoid,[Mi,lx,cx])}};r(ma,"VideoDescriptionHeader");ma.type="VideoDescriptionHeader";var px=ma;var ha=class extends n{constructor(e){super(),this.section_title=new c(e.sectionTitle),this.creator_videos_button=l.parseItem(e.creatorVideosButton,T),this.creator_about_button=l.parseItem(e.creatorAboutButton,T),this.section_subtitle=new c(e.sectionSubtitle),this.channel_avatar=y.fromResponse(e.channelAvatar),this.channel_endpoint=new h(e.channelEndpoint)}};r(ha,"VideoDescriptionInfocardsSection");ha.type="VideoDescriptionInfocardsSection";var ux=ha;var da=class extends n{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new c(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new c(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};r(da,"InfoRow");da.type="InfoRow";var fx=da;var _a=class extends n{constructor(e){super(),this.video_id=e.videoId,this.thumbnails=y.fromResponse(e.thumbnail),this.title=new c(e.title),this.author=new P(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.is_watched=!!e.isWatched,this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.menu=l.parseItem(e.menu,R),this.badges=l.parseArray(e.badges,$e),"publishedTimeText"in e&&(this.published=new c(e.publishedTimeText)),"shortBylineText"in e&&(this.view_count=new c(e.viewCountText)),"shortViewCountText"in e&&(this.short_view_count=new c(e.shortViewCountText)),"richThumbnail"in e&&(this.rich_thumbnail=l.parseItem(e.richThumbnail)),"shortBylineText"in e&&(this.short_byline_text=new c(e.shortBylineText)),"longBylineText"in e&&(this.long_byline_text=new c(e.longBylineText)),"lengthText"in e&&(this.length_text=new c(e.lengthText)),"serviceEndpoints"in e&&(this.service_endpoints=e.serviceEndpoints.map(i=>new h(i))),"serviceEndpoint"in e&&(this.service_endpoint=new h(e.serviceEndpoint)),"navigationEndpoint"in e&&(this.endpoint=new h(e.navigationEndpoint)),"style"in e&&(this.style=e.style)}get id(){return this.video_id}get duration(){var s;let e=this.thumbnail_overlays.firstOfType(Vt),i=((s=this.length_text)==null?void 0:s.toString())||(e==null?void 0:e.text.toString());return{text:i,seconds:i?ve(i):0}}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};r(_a,"CompactVideo");_a.type="CompactVideo";var Zr=_a;var xa=class extends n{constructor(e){super(),this.info_rows=l.parseArray(e.infoRows,fx),this.video_lockup=l.parseItem(e.videoLockup,Zr)}};r(xa,"CarouselLockup");xa.type="CarouselLockup";var mx=xa;var ya=class extends n{constructor(e){super(),this.carousel_lockups=l.parseArray(e.carouselLockups,mx),this.section_title=new c(e.sectionTitle)}};r(ya,"VideoDescriptionMusicSection");ya.type="VideoDescriptionMusicSection";var es=ya;var ba=class extends n{constructor(e){super(),this.section_title=new c(e.sectionTitle),this.sub_header_text=new c(e.subHeaderText),this.primary_button=l.parseItem(e.primaryButton,T)}};r(ba,"VideoDescriptionTranscriptSection");ba.type="VideoDescriptionTranscriptSection";var ga=ba;var wa=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new c(e.title),this.short_byline_text=new c(e.shortBylineText),this.video_count_short_text=new c(e.videoCountShortText),this.endpoint=new h(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};r(wa,"StructuredDescriptionPlaylistLockup");wa.type="StructuredDescriptionPlaylistLockup";var hx=wa;var Ta=class extends n{constructor(e){super(),this.section_title=new c(e.sectionTitle),this.media_lockups=l.parseArray(e.mediaLockups,[hx])}};r(Ta,"VideoDescriptionCourseSection");Ta.type="VideoDescriptionCourseSection";var dx=Ta;var va=class extends n{constructor(e){super(),this.header_title=e.headerTitle,this.header_subtitle=e.headerSubtitle,this.video_attributes=l.parseArray(e.videoAttributeViewModels,Ri),this.previous_button=l.parseItem(e.previousButton,Z),this.next_button=l.parseItem(e.nextButton,Z)}};r(va,"VideoAttributesSectionView");va.type="VideoAttributesSectionView";var _x=va;var Ia=class extends n{constructor(e){super(),Reflect.has(e,"sectionText")&&(this.section_title=c.fromAttributed(e.sectionText)),Reflect.has(e,"bodyText")&&(this.body_text=c.fromAttributed(e.bodyText)),Reflect.has(e,"bodyHeader")&&(this.body_header=c.fromAttributed(e.bodyHeader))}};r(Ia,"HowThisWasMadeSectionView");Ia.type="HowThisWasMadeSectionView";var xx=Ia;var Sa=class extends n{constructor(e){super(),this.title=new c(e.title),this.items=l.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new h(e.endpoint))}get contents(){return this.items}};r(Sa,"ReelShelf");Sa.type="ReelShelf";var ts=Sa;var ka=class extends n{constructor(e){super(),this.items=l.parseArray(e.items,[px,rx,es,ux,dx,ga,ga,Ni,ts,_x,xx])}};r(ka,"StructuredDescriptionContent");ka.type="StructuredDescriptionContent";var ar=ka;var Ea=class extends n{constructor(e){super(),this.header=l.parseItem(e.header,Z_),this.content=l.parseItem(e.content,[Ri,le,Q,J_,ar,tx,ix]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};r(Ea,"EngagementPanelSectionList");Ea.type="EngagementPanelSectionList";var Li=Ea;var Ca=class extends n{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:l.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,Li),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new h(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};r(Ca,"ChannelTagline");Ca.type="ChannelTagline";var yx=Ca;var Pa=class extends n{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:l.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};r(Pa,"SubscriptionNotificationToggleButton");Pa.type="SubscriptionNotificationToggleButton";var bx=Pa;var Na=class extends n{constructor(e){var i,s;super(),this.button_text=new c(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,Reflect.has(e,"subscribedButtonText")&&(this.subscribed_text=new c(e.subscribedButtonText)),Reflect.has(e,"unsubscribedButtonText")&&(this.unsubscribed_text=new c(e.unsubscribedButtonText)),Reflect.has(e,"unsubscribeButtonText")&&(this.unsubscribe_text=new c(e.unsubscribeButtonText)),this.notification_preference_button=l.parseItem(e.notificationPreferenceButton,bx),Reflect.has(e,"serviceEndpoints")&&(this.service_endpoints=e.serviceEndpoints.map(o=>new h(o))),Reflect.has(e,"onSubscribeEndpoints")&&(this.on_subscribe_endpoints=e.onSubscribeEndpoints.map(o=>new h(o))),Reflect.has(e,"onUnsubscribeEndpoints")&&(this.on_unsubscribe_endpoints=e.onUnsubscribeEndpoints.map(o=>new h(o))),Reflect.has(e,"subscribedEntityKey")&&(this.subscribed_entity_key=e.subscribedEntityKey),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"subscribeAccessibility")&&(this.subscribe_accessibility_label=(i=e.subscribeAccessibility.accessibilityData)==null?void 0:i.label),Reflect.has(e,"unsubscribeAccessibility")&&(this.unsubscribe_accessibility_label=(s=e.unsubscribeAccessibility.accessibilityData)==null?void 0:s.label)}};r(Na,"SubscribeButton");Na.type="SubscribeButton";var he=Na;var Aa=class extends n{constructor(e){super(),this.author=new P({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=y.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=y.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=y.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new c(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new c(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=l.parseItem(e.sponsorButton,T)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=l.parseItem(e.subscribeButton,[he,T])),Reflect.has(e,"headerLinks")&&(this.header_links=l.parseItem(e.headerLinks,[$_,K_])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new c(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=l.parseItem(e.tagline,yx))}};r(Aa,"C4TabbedHeader");Aa.type="C4TabbedHeader";var is=Aa;var Ra=class extends n{constructor(e){super(),this.label=new c(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};r(Ra,"CallToActionButton");Ra.type="CallToActionButton";var e0=Ra;var Ma=class extends n{constructor(e){super(),this.teaser=l.parseItem(e.teaser),this.content=l.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};r(Ma,"Card");Ma.type="Card";var t0=Ma;var La=class extends n{constructor(e){super(),this.cards=l.parseArray(e.cards),this.header=new c(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};r(La,"CardCollection");La.type="CardCollection";var gx=La;var Da=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(Da,"CarouselHeader");Da.type="CarouselHeader";var wx=Da;var Ba=class extends n{constructor(e){super(),this.items=l.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=y.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};r(Ba,"CarouselItem");Ba.type="CarouselItem";var i0=Ba;var Oa=class extends n{constructor(e){super(),this.icon_name=e.iconName,this.text=c.fromAttributed(e.text),this.on_tap_endpoint=new h(e.onTap),this.button=l.parseItem(e.button,Z)}};r(Oa,"TextCarouselItemView");Oa.type="TextCarouselItemView";var Tx=Oa;var Va=class extends n{constructor(e){super(),this.item_type=e.itemType,this.carousel_item=l.parseItem(e.carouselItem,Tx)}};r(Va,"CarouselItemView");Va.type="CarouselItemView";var vx=Va;var Ya=class extends n{constructor(e){super(),this.title=e.title,this.previous_button=l.parseItem(e.previousButton,Z),this.next_button=l.parseItem(e.nextButton,Z)}};r(Ya,"CarouselTitleView");Ya.type="CarouselTitleView";var Ix=Ya;var Fa=class extends n{constructor(e){super(),this.id=e.channelId,this.author=new P({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscriber_count=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.long_byline=new c(e.longBylineText),this.short_byline=new c(e.shortBylineText),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,[he,T]),this.description_snippet=new c(e.descriptionSnippet)}};r(Fa,"Channel");Fa.type="Channel";var Sx=Fa;var Ua=class extends n{constructor(e){var i,s;super(),this.id=e.channelId,this.name=new c(e.title),this.avatar=y.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(s=(i=e.primaryLinks)==null?void 0:i.map(o=>({endpoint:new h(o.navigationEndpoint),icon:y.fromResponse(o.icon),title:new c(o.title)})))!=null?s:[],this.view_count=new c(e.viewCountText),this.joined_date=new c(e.joinedDateText),this.description=new c(e.description),this.email_reveal=new h(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new c(e.country),this.buttons=l.parseArray(e.actionButtons,T)}};r(Ua,"ChannelAboutFullMetadata");Ua.type="ChannelAboutFullMetadata";var Wa=Ua;var Ha=class extends n{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=y.fromResponse(e.avatar),this.header=new c(e.header),this.main_text=new c(e.mainText),this.sign_in_button=l.parseItem(e.signInButton,T),this.secondary_text=new c(e.secondaryText)}};r(Ha,"ChannelAgeGate");Ha.type="ChannelAgeGate";var r0=Ha;var Ga=class extends n{constructor(e){super(),this.title=new c(e.title),this.items=l.parseArray(e.items)}};r(Ga,"ChannelFeaturedContent");Ga.type="ChannelFeaturedContent";var s0=Ga;var ja=class extends n{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=y.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};r(ja,"ChannelMetadata");ja.type="ChannelMetadata";var kx=ja;var $a=class extends n{constructor(e){super(),this.title=new c(e.title)}};r($a,"ChannelMobileHeader");$a.type="ChannelMobileHeader";var o0=$a;var Ka=class extends n{constructor(e){super(),this.avatar=y.fromResponse(e.avatar),this.endpoint=new h(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new c(i))}};r(Ka,"ChannelOptions");Ka.type="ChannelOptions";var Ex=Ka;var qa=class extends n{constructor(e){super(),this.illustration=y.fromResponse(e.illustration),this.description=new c(e.description)}};r(qa,"ChannelOwnerEmptyState");qa.type="ChannelOwnerEmptyState";var n0=qa;var za=class extends n{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new h(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=l.parseItem(e.sortSetting)}};r(za,"ChannelSubMenu");za.type="ChannelSubMenu";var Xa=za;var Qa=class extends n{constructor(e){super(),this.title=new c(e.title).toString(),Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,T))}};r(Qa,"ChannelSwitcherHeader");Qa.type="ChannelSwitcherHeader";var a0=Qa;var Ja=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new h(e.navigationEndpoint),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new ne(e.accessibility.accessibilityData)})}get label(){var e,i;return(i=(e=this.accessibility)==null?void 0:e.accessibility_data)==null?void 0:i.label}};r(Ja,"ChannelThumbnailWithLink");Ja.type="ChannelThumbnailWithLink";var c0=Ja;var Za=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.description=new c(e.description),this.view_count=new c(e.viewCountText),this.published_time=new c(e.publishedTimeText)}};r(Za,"ChannelVideoPlayer");Za.type="ChannelVideoPlayer";var l0=Za;var ec=class extends n{constructor(e){super(),this.title=new c(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=y.fromResponse(e.thumbnail)}};r(ec,"Chapter");ec.type="Chapter";var Cx=ec;var tc=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.duration={text:e.lengthText.simpleText,seconds:ve(e.lengthText.simpleText)},this.endpoint=new h(e.navigationEndpoint)}};r(tc,"ChildVideo");tc.type="ChildVideo";var p0=tc;var ic=class extends n{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new h(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};r(ic,"ChipView");ic.type="ChipView";var Px=ic;var rc=class extends n{constructor(e){super(),this.chips=l.parseArray(e.chips,Px)}};r(rc,"ChipBarView");rc.type="ChipBarView";var u0=rc;var sc=class extends n{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),this.text=new c(e.text).toString()}};r(sc,"ChipCloudChip");sc.type="ChipCloudChip";var Ke=sc;var oc=class extends n{constructor(e){super(),this.chips=l.parseArray(e.chips,Ke),this.next_button=l.parseItem(e.nextButton,T),this.previous_button=l.parseItem(e.previousButton,T),this.horizontal_scrollable=e.horizontalScrollable}};r(oc,"ChipCloud");oc.type="ChipCloud";var rs=oc;var nc=class extends n{constructor(e){super(),this.text=new c(e.defaultText),this.icon_type=e.defaultIcon.iconType,this.toggled_text=new c(e.toggledText),this.toggled_icon_type=e.toggledIcon.iconType,Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.menu_item_identifier=e.menuItemIdentifier,this.endpoint=new h(e.command),Reflect.has(e,"loggingDirectives")&&(this.logging_directives={visibility:{types:e.loggingDirectives.visibility.types},enable_displaylogger_experiment:e.loggingDirectives.enableDisplayloggerExperiment})}};r(nc,"ClientSideToggleMenuItem");nc.type="ClientSideToggleMenuItem";var f0=nc;var ac=class extends n{constructor(e){super(),this.channel_avatar=y.fromResponse(e.channelAvatar),this.custom_text=new c(e.customText),this.channel_name=new c(e.channelName),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new h(e.endpoint)}};r(ac,"CollaboratorInfoCardContent");ac.type="CollaboratorInfoCardContent";var m0=ac;var cc=class extends n{constructor(e){super(),this.left=y.fromResponse(e.leftThumbnail),this.top_right=y.fromResponse(e.topRightThumbnail),this.bottom_right=y.fromResponse(e.bottomRightThumbnail),this.endpoint=new h(e.navigationEndpoint)}};r(cc,"CollageHeroImage");cc.type="CollageHeroImage";var h0=cc;var lc=class extends n{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=c.fromAttributed(e.text),this.style=e.style}};r(lc,"ThumbnailHoverOverlayView");lc.type="ThumbnailHoverOverlayView";var Nx=lc;var pc=class extends n{constructor(e){super(),this.text=e.text,this.badge_style=e.badgeStyle,e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}),e.iconName&&(this.icon_name=e.icon.sources[0].clientResource.imageName)}};r(pc,"ThumbnailBadgeView");pc.type="ThumbnailBadgeView";var ss=pc;var uc=class extends n{constructor(e){super(),this.badges=l.parseArray(e.thumbnailBadges,ss),this.position=e.position}};r(uc,"ThumbnailOverlayBadgeView");uc.type="ThumbnailOverlayBadgeView";var Ax=uc;var fc=class extends n{constructor(e){super(),this.buttons=l.parseArray(e.buttons,tt)}};r(fc,"ThumbnailHoverOverlayToggleActionsView");fc.type="ThumbnailHoverOverlayToggleActionsView";var Rx=fc;var mc=class extends n{constructor(e){super(),this.start_percent=e.startPercent}};r(mc,"ThumbnailOverlayProgressBarView");mc.type="ThumbnailOverlayProgressBarView";var Mx=mc;var hc=class extends n{constructor(e){super(),this.progress_bar=l.parseItem(e.progressBar,Mx),this.badges=l.parseArray(e.badges,ss)}};r(hc,"ThumbnailBottomOverlayView");hc.type="ThumbnailBottomOverlayView";var Lx=hc;var dc=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.overlays=l.parseArray(e.overlays,[Rx,Lx,Ax,Nx,N_]),"backgroundColor"in e&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};r(dc,"ThumbnailView");dc.type="ThumbnailView";var os=dc;var _c=class extends n{constructor(e){super(),this.primary_thumbnail=l.parseItem(e.primaryThumbnail,os),e.stackColor&&(this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme})}};r(_c,"CollectionThumbnailView");_c.type="CollectionThumbnailView";var Dx=_c;var xc=class extends n{constructor(e){super(),this.open_miniplayer=e.openMiniplayer,this.video_id=e.videoId,this.list_type=e.listType,this.endpoint=new h(e.onCreateListCommand),this.video_ids=e.videoIds}};r(xc,"AddToPlaylistCommand");xc.type="AddToPlaylistCommand";var d0=xc;var Tt,yc=class extends n{constructor(e){super(),Tt.set(this,void 0),S(this,Tt,e,"f")}getApiPath(){switch(u(this,Tt,"f").request){case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":return"next";case"CONTINUATION_REQUEST_TYPE_BROWSE":return"browse";case"CONTINUATION_REQUEST_TYPE_SEARCH":return"search";case"CONTINUATION_REQUEST_TYPE_ACCOUNTS_LIST":return"account/accounts_list";case"CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU":return"notification/get_notification_menu";case"CONTINUATION_REQUEST_TYPE_COMMENT_REPLIES":return"comment/get_comment_replies";case"CONTINUATION_REQUEST_TYPE_REEL_WATCH_SEQUENCE":return"reel/reel_watch_sequence";case"CONTINUATION_REQUEST_TYPE_GET_PANEL":return"get_panel";default:return""}}buildRequest(){let e={};return u(this,Tt,"f").formData&&(e.formData=u(this,Tt,"f").formData),u(this,Tt,"f").token&&(e.continuation=u(this,Tt,"f").token),u(this,Tt,"f").request==="CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU"&&(e.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_COMMENTS",u(this,Tt,"f").token&&(e.fetchCommentsParams={continuation:u(this,Tt,"f").token},delete e.continuation)),e}};r(yc,"ContinuationCommand");Tt=new WeakMap;yc.type="ContinuationCommand";var _0=yc;var bc,YC="kids/get_kids_blocklist_picker",gc=class extends n{constructor(e){super(),bc.set(this,void 0),S(this,bc,e,"f")}getApiPath(){return YC}buildRequest(){let e={};return u(this,bc,"f").blockedForKidsContent&&(e.blockedForKidsContent=u(this,bc,"f").blockedForKidsContent),e}};r(gc,"GetKidsBlocklistPickerCommand");bc=new WeakMap;gc.type="GetKidsBlocklistPickerCommand";var x0=gc;var wc=class extends n{constructor(e){super(),this.engagement_type=e.engagementType,Reflect.has(e,"ids")&&(this.ids=e.ids.map(i=>({encrypted_video_id:i.encryptedVideoId,external_channel_id:i.externalChannelId,comment_id:i.commentId,external_owner_id:i.externalOwnerId,artist_id:i.artistId,playlist_id:i.playlistId,external_post_id:i.externalPostId,share_id:i.shareId})))}};r(wc,"RunAttestationCommand");wc.type="RunAttestationCommand";var Bx=wc;var Tc=class extends n{constructor(e){var i;super(),this.inline_content=l.parseItem((i=e.panelLoadingStrategy)==null?void 0:i.inlineContent),this.remove_default_padding=!!e.removeDefaultPadding}};r(Tc,"ShowDialogCommand");Tc.type="ShowDialogCommand";var y0=Tc;var vc=class extends n{constructor(e){super(),this.content_source_panel_identifier=e.contentSourcePanelIdentifier,this.target_panel_identifier=e.targetPanelIdentifier}};r(vc,"UpdateEngagementPanelContentCommand");vc.type="UpdateEngagementPanelContentCommand";var b0=vc;var Ox,Ic=class extends n{constructor(e){super(),Ox.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED",e.style="BADGE_STYLE_TYPE_VERIFIED"),S(this,Ox,e,"f")}get orig_badge(){return u(this,Ox,"f")}};r(Ic,"AuthorCommentBadge");Ox=new WeakMap;Ic.type="AuthorCommentBadge";var g0=Ic;var Sc=class extends n{constructor(e){super(),this.id=e.id,this.categories=l.parseArray(e.categories),this.category_buttons=l.parseArray(e.categoryButtons),this.search_placeholder=new c(e.searchPlaceholderText),this.search_no_results=new c(e.searchNoResultsText),this.pick_skin_tone=new c(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};r(Sc,"EmojiPicker");Sc.type="EmojiPicker";var Vx=Sc;var kc=class extends n{constructor(e){super(),this.editable_text=new c(e.editableText),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.submit_button=l.parseItem(e.submitButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.placeholder=new c(e.placeholderText),this.emoji_button=l.parseItem(e.emojiButton,T),this.emoji_picker=l.parseItem(e.emojiPicker,Vx)}};r(kc,"CommentDialog");kc.type="CommentDialog";var w0=kc;var Ec=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents),this.view_replies=l.parseItem(e.viewReplies,T),this.hide_replies=l.parseItem(e.hideReplies,T),this.view_replies_creator_thumbnail=y.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};r(Ec,"CommentReplies");Ec.type="CommentReplies";var Yx=Ec;var Cc=class extends n{constructor(e){super(),this.reply_button=l.parseItem(e.replyButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.error_message=new c(e.errorMessage)}};r(Cc,"CommentReplyDialog");Cc.type="CommentReplyDialog";var Fx=Cc;var Pc=class extends n{constructor(e){super(),this.simplebox_avatar=y.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new c(e.simpleboxPlaceholder)}};r(Pc,"CommentsSimplebox");Pc.type="CommentsSimplebox";var Ux=Pc;var Nc=class extends n{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new c(e.teaserContent))}};r(Nc,"CommentsEntryPointTeaser");Nc.type="CommentsEntryPointTeaser";var Wx=Nc;var Ac=class extends n{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new c(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new c(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new c(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=l.parseItem(e.contentRenderer,[Wx,Ux])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new c(e.simpleboxPlaceholder))}};r(Ac,"CommentsEntryPointHeader");Ac.type="CommentsEntryPointHeader";var Hx=Ac;var Rc=class extends n{constructor(e){super(),this.title=new c(e.titleText),this.count=new c(e.countText),this.comments_count=new c(e.commentsCount),this.create_renderer=l.parseItem(e.createRenderer),this.sort_menu=l.parseItem(e.sortMenu,wt),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:y.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};r(Rc,"CommentsHeader");Rc.type="CommentsHeader";var Di=Rc;var Mc=class extends n{constructor(e){super(),this.submit_button=l.parseItem(e.submitButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new c(e.placeholderText),this.avatar_size=e.avatarSize}};r(Mc,"CommentSimplebox");Mc.type="CommentSimplebox";var Gx=Mc;var Ve,Lc=class extends n{constructor(e){super(),Ve.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,s){e&&(this.content=c.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.creator_thumbnail_url=e.toolbar.creatorThumbnailUrl,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.like_count_liked=e.toolbar.likeCountLiked?e.toolbar.likeCountLiked:"0",this.like_count_a11y=e.toolbar.likeCountA11y,this.like_active_tooltip=e.toolbar.likeActiveTooltip,this.like_inactive_tooltip=e.toolbar.likeInactiveTooltip,this.dislike_active_tooltip=e.toolbar.dislikeActiveTooltip,this.dislike_inactive_tooltip=e.toolbar.dislikeInactiveTooltip,this.like_button_a11y=e.toolbar.likeButtonA11y,this.heart_active_tooltip=e.toolbar.heartActiveTooltip,this.reply_count_a11y=e.toolbar.replyCountA11y,this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new P({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),s&&("prepareAccountCommand"in s?this.prepare_account_command=new h(s.prepareAccountCommand):(this.like_command=new h(s.likeCommand),this.dislike_command=new h(s.dislikeCommand),this.unlike_command=new h(s.unlikeCommand),this.undislike_command=new h(s.undislikeCommand),this.reply_command=new h(s.replyCommand)))}async like(){if(!u(this,Ve,"f"))throw new g("Actions instance not set for this comment.");if(!this.like_command)throw new g("Like command not found.");if(this.is_liked)throw new g("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(u(this,Ve,"f"))}async dislike(){if(!u(this,Ve,"f"))throw new g("Actions instance not set for this comment.");if(!this.dislike_command)throw new g("Dislike command not found.");if(this.is_disliked)throw new g("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(u(this,Ve,"f"))}async unlike(){if(!u(this,Ve,"f"))throw new g("Actions instance not set for this comment.");if(!this.unlike_command)throw new g("Unlike command not found.");if(!this.is_liked)throw new g("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(u(this,Ve,"f"))}async undislike(){if(!u(this,Ve,"f"))throw new g("Actions instance not set for this comment.");if(!this.undislike_command)throw new g("Undislike command not found.");if(!this.is_disliked)throw new g("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(u(this,Ve,"f"))}async reply(e){var o;if(!u(this,Ve,"f"))throw new g("Actions instance not set for this comment.");if(!this.reply_command)throw new g("Reply command not found.");let i=(o=this.reply_command.dialog)==null?void 0:o.as(Fx);if(!i)throw new g("Reply dialog not found.");let s=i.reply_button;if(!s)throw new g("Reply button not found in the dialog.");if(!s.endpoint)throw new g("Reply button endpoint not found.");return s.endpoint.call(u(this,Ve,"f"),{commentText:e})}async translate(e){var m,_,x,b,w,I;if(!u(this,Ve,"f"))throw new g("Actions instance not set for this comment.");if(!this.content)throw new g("Comment content not found.",{comment_id:this.comment_id});let s={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},o=Qg(22,s),a=await u(this,Ve,"f").execute("comment/perform_comment_action",{action:o}),p=(_=(m=a.data.frameworkUpdates)==null?void 0:m.entityBatchUpdate)==null?void 0:_.mutations,f=(I=(w=(b=(x=p==null?void 0:p[0])==null?void 0:x.payload)==null?void 0:b.commentEntityPayload)==null?void 0:w.translatedContent)==null?void 0:I.content;return{...a,content:f}}setActions(e){S(this,Ve,e,"f")}};r(Lc,"CommentView");Ve=new WeakMap;Lc.type="CommentView";var cr=Lc;var jx,Bi,lr,Zg,Dc=class extends n{constructor(e){super(),jx.add(this),Bi.set(this,void 0),lr.set(this,void 0),this.comment=l.parseItem(e.commentViewModel,cr),this.comment_replies_data=l.parseItem(e.replies,Yx),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}get has_continuation(){if(!this.replies)throw new g("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!u(this,lr,"f")}async getReplies(){var s;if(!u(this,Bi,"f"))throw new g("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new g("This comment has no replies.",this);let e=(s=this.comment_replies_data.contents)==null?void 0:s.firstOfType(Q);if(!e)throw new g("Replies continuation not found.");let i=await e.endpoint.call(u(this,Bi,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new g("Unexpected response.",i);return this.replies=u(this,jx,"m",Zg).call(this,i.on_response_received_endpoints_memo),S(this,lr,i.on_response_received_endpoints_memo.getType(Q)[0],"f"),this}async getContinuation(){var s;if(!this.replies)throw new g("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!u(this,lr,"f"))throw new g("Continuation not found.");if(!u(this,Bi,"f"))throw new g("Actions instance not set for this thread.");let e=(s=u(this,lr,"f").button)==null?void 0:s.as(T);if(!e)throw new g('"Load more" button not found.');let i=await e.endpoint.call(u(this,Bi,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new g("Unexpected response.",i);return this.replies=u(this,jx,"m",Zg).call(this,i.on_response_received_endpoints_memo),S(this,lr,i.on_response_received_endpoints_memo.getType(Q)[0],"f"),this}setActions(e){S(this,Bi,e,"f")}};r(Dc,"CommentThread");Bi=new WeakMap,lr=new WeakMap,jx=new WeakSet,Zg=r(function(e){return W(e.getType(cr).map(i=>(i.setActions(u(this,Bi,"f")),i)))},"_CommentThread_getPatchedReplies");Dc.type="CommentThread";var $x=Dc;var Bc=class extends n{constructor(e){var i,s;super(),this.text=new c(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)==null?void 0:i.backgroundColor,foreground_title_color:(s=e.chipColorPalette)==null?void 0:s.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};r(Bc,"PdgCommentChip");Bc.type="PdgCommentChip";var T0=Bc;var Oc=class extends n{constructor(e){super(),this.custom_badge=y.fromResponse(e.customBadge),this.tooltip=e.tooltip}};r(Oc,"SponsorCommentBadge");Oc.type="SponsorCommentBadge";var v0=Oc;var Vc=class extends n{constructor(e){super(),this.title=new c(e.title),this.channel_id=e.channelId,this.thumbnail=y.fromResponse(e.thumbnail),this.display_name=new c(e.displayName),this.video_count=new c(e.videoCountText),this.subscriber_count=new c(e.subscriberCountText),this.endpoint=new h(e.navigationEndpoint),this.tv_banner=y.fromResponse(e.tvBanner),this.menu=l.parseItem(e.menu,R)}};r(Vc,"CompactChannel");Vc.type="CompactChannel";var I0=Vc;var Yc=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Yc,"PlaylistCustomThumbnail");Yc.type="PlaylistCustomThumbnail";var ns=Yc;var Fc=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Fc,"PlaylistVideoThumbnail");Fc.type="PlaylistVideoThumbnail";var as=Fc;var Uc=class extends n{constructor(e){var i;super(),this.id=e.playlistId,this.title=new c(e.title),this.author=(i=e.shortBylineText)!=null&&i.simpleText?new c(e.shortBylineText):new P(e.longBylineText,e.ownerBadges,null),this.thumbnails=y.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(s=>s.thumbnails).flat(1)}),this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText),this.first_videos=l.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=l.parseItem(e.menu),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer,[as,ns])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new c(e.viewPlaylistText))}};r(Uc,"Playlist");Uc.type="Playlist";var Yt=Uc;var Wc=class extends Yt{constructor(e){super(e)}};r(Wc,"CompactMix");Wc.type="CompactMix";var S0=Wc;var Hc=class extends n{constructor(e){var o;super();let i=((o=e.thumbnailOverlays.find(a=>a.thumbnailOverlayTimeStatusRenderer))==null?void 0:o.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),this.top_metadata_items=new c(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new P(e.shortBylineText);let s=e.lengthText?new c(e.lengthText).toString():new c(i).toString();this.duration={text:s,seconds:ve(s)},this.endpoint=new h(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=l.parseItem(e.menu,R)}};r(Hc,"CompactMovie");Hc.type="CompactMovie";var k0=Hc;var Gc=class extends Yt{constructor(e){super(e)}};r(Gc,"CompactPlaylist");Gc.type="CompactPlaylist";var E0=Gc;var jc=class extends n{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.video_count=new c(e.videoCountText),this.endpoint=new h(e.navigationEndpoint),this.thumbnail=y.fromResponse(e.thumbnail)}};r(jc,"CompactStation");jc.type="CompactStation";var C0=jc;var $c=class extends n{constructor(e){super(),this.title=new c(e.title),this.confirm_button=l.parseItem(e.confirmButton,T),this.cancel_button=l.parseItem(e.cancelButton,T),this.dialog_messages=e.dialogMessages.map(i=>new c(i))}};r($c,"ConfirmDialog");$c.type="ConfirmDialog";var P0=$c;var Kc=class extends n{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var s;return{metadata_parts:(s=i.metadataParts)==null?void 0:s.map(o=>({text:o.text?c.fromAttributed(o.text):null,avatar_stack:l.parseItem(o.avatarStack,L_),enable_truncation:e.enableTruncation}))}}),this.delimiter=e.delimiter}};r(Kc,"ContentMetadataView");Kc.type="ContentMetadataView";var cs=Kc;var qc=class extends n{constructor(e){super(),this.text=new c(e.text)}};r(qc,"Message");qc.type="Message";var Ft=qc;var zc=class extends n{constructor(e){super(),this.availability_message=l.parseItem(e.availabilityMessage,Ft)}};r(zc,"ConversationBar");zc.type="ConversationBar";var N0=zc;var Xc=class extends n{constructor(e){super(),this.copy_button=l.parseItem(e.copyButton,T),this.short_url=e.shortUrl,this.style=e.style}};r(Xc,"CopyLink");Xc.type="CopyLink";var ls=Xc;var Qc=class extends n{constructor(e){super(),this.label=new c(e.label),this.placeholder_text=new c(e.placeholderText),this.disabled=!!e.disabled,this.dropdown_type=e.type,this.id=e.id,Reflect.has(e,"options")&&(this.options=e.options.map(i=>{var s;return{title:new c(i.title),subtitle:new c(i.subtitle),leading_image:y.fromResponse(i.leadingImage),value:{privacy_status_value:(s=i.value)==null?void 0:s.privacyStatusValue},on_tap:new h(i.onTap),is_selected:!!i.isSelected}}))}};r(Qc,"DropdownView");Qc.type="DropdownView";var Kx=Qc;var Jc=class extends n{constructor(e){super(),Reflect.has(e,"displayProperties")&&(this.display_properties={isMultiline:!!e.displayProperties.isMultiline,disableNewLines:!!e.displayProperties.disableNewLines}),Reflect.has(e,"contentProperties")&&(this.content_properties={labelText:e.contentProperties.labelText,placeholderText:e.contentProperties.placeholderText,maxCharacterCount:e.contentProperties.maxCharacterCount}),Reflect.has(e,"initialState")&&(this.initial_state={isFocused:!!e.initialState.isFocused}),Reflect.has(e,"formFieldMetadata")&&(this.form_field_metadata={formId:e.formFieldMetadata.formId,fieldId:e.formFieldMetadata.fieldId})}};r(Jc,"TextFieldView");Jc.type="TextFieldView";var qx=Jc;var Zc=class extends n{constructor(e){super(),this.playlist_title=l.parseItem(e.playlistTitle,qx),this.playlist_visibility=l.parseItem(e.playlistVisibility,Kx),this.disable_playlist_collaborate=!!e.disablePlaylistCollaborate,this.create_playlist_params_collaboration_enabled=e.createPlaylistParamsCollaborationEnabled,this.create_playlist_params_collaboration_disabled=e.createPlaylistParamsCollaborationDisabled,this.video_ids=e.videoIds}};r(Zc,"CreatePlaylistDialogFormView");Zc.type="CreatePlaylistDialogFormView";var zx=Zc;var el=class extends n{constructor(e){super(),this.avatar=l.parseItem(e.avatar,jr),this.a11y_label=e.a11yLabel,this.renderer_context=new Ae(e.rendererContext)}};r(el,"DecoratedAvatarView");el.type="DecoratedAvatarView";var ps=el;var tl=class extends n{constructor(e){super(),this.time_range_start_millis=Number.parseInt(e.startMillis,10),this.marker_duration_millis=Number.parseInt(e.durationMillis,10),this.heat_marker_intensity_score_normalized=e.intensityScoreNormalized}};r(tl,"HeatMarker");tl.type="HeatMarker";var us=tl;var il=class extends n{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new c(e.label),this.icon=e.icon}};r(il,"TimedMarkerDecoration");il.type="TimedMarkerDecoration";var fs=il;var rl=class extends n{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=l.parseArray(e.heatMarkers,us),this.heat_markers_decorations=l.parseArray(e.heatMarkersDecorations,fs)}};r(rl,"Heatmap");rl.type="Heatmap";var ms=rl;var sl=class extends n{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=l.parseItem(e.value.heatmap,ms)),Reflect.has(e.value,"chapters")&&(this.value.chapters=l.parseArray(e.value.chapters,Cx)))}};r(sl,"Marker");sl.type="Marker";var ol=class extends n{constructor(e){var i;super(),this.markers_map=W(((i=e.markersMap)==null?void 0:i.map(s=>new sl(s)))||[])}};r(ol,"MultiMarkersPlayerBar");ol.type="MultiMarkersPlayerBar";var Xx=ol;var nl=class extends n{constructor(e){super(),this.player_bar=l.parseItem(e.playerBar,Xx),this.player_bar_action_button=l.parseItem(e.playerBarActionButton,T)}};r(nl,"DecoratedPlayerBar");nl.type="DecoratedPlayerBar";var Qx=nl;var al=class extends n{constructor(e){super(),this.title=new c(e.title),this.description=new c(e.description),this.endpoint=new h(e.navigationEndpoint),this.large_form_factor_background_thumbnail=l.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=l.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};r(al,"DefaultPromoPanel");al.type="DefaultPromoPanel";var A0=al;var cl=class extends n{constructor(e){var i,s,o,a,p,f;if(super(),Reflect.has(e,"description")&&(this.description=c.fromAttributed(e.description)),Reflect.has(e,"maxLines")&&(this.max_lines=parseInt(e.maxLines)),Reflect.has(e,"truncationText")&&(this.truncation_text=c.fromAttributed(e.truncationText)),this.always_show_truncation_text=!!e.alwaysShowTruncationText,(o=(s=(i=e.rendererContext.commandContext)==null?void 0:i.onTap)==null?void 0:s.innertubeCommand)!=null&&o.showEngagementPanelEndpoint){let m=(f=(p=(a=e.rendererContext.commandContext)==null?void 0:a.onTap)==null?void 0:p.innertubeCommand)==null?void 0:f.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:l.parseItem(m.engagementPanel,Li),engagement_panel_popup_type:m.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:m.identifier.surface,tag:m.identifier.tag}}}}this.renderer_context=new Ae(e.rendererContext)}};r(cl,"DescriptionPreviewView");cl.type="DescriptionPreviewView";var Jx=cl;var ll=class extends n{constructor(e){super(),this.headline=c.fromAttributed(e.headline)}};r(ll,"DialogHeaderView");ll.type="DialogHeaderView";var Zx=ll;var pl=class extends n{constructor(e){super(),this.primary_button=l.parseItem(e.primaryButton,Z),this.secondary_button=l.parseItem(e.secondaryButton,Z),this.should_hide_divider=!!e.shouldHideDivider}};r(pl,"PanelFooterView");pl.type="PanelFooterView";var hs=pl;var ul=class extends n{constructor(e){super(),this.panel_footer=l.parseItem(e.panelFooter,hs),this.form_id=e.formId,this.container_type=e.containerType}};r(ul,"FormFooterView");ul.type="FormFooterView";var ey=ul;var fl=class extends n{constructor(e){super(),this.header=l.parseItem(e.header,Zx),this.footer=l.parseItem(e.footer,[ey,hs]),this.custom_content=l.parseItem(e.customContent,zx)}};r(fl,"DialogView");fl.type="DialogView";var R0=fl;var ml=class extends n{constructor(e){super(),this.text=new c(e.didYouMean).toString(),this.corrected_query=new c(e.correctedQuery),this.endpoint=new h(e.navigationEndpoint||e.correctedQueryEndpoint)}};r(ml,"DidYouMean");ml.type="DidYouMean";var M0=ml;var hl=class extends n{constructor(e){super(),this.text=c.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};r(hl,"DynamicTextView");hl.type="DynamicTextView";var ty=hl;var pr=class extends n{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)==null?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(s=>new pr(s)))}};r(pr,"ChildElement");pr.type="ChildElement";var iy=pr;var ur=class extends n{constructor(e){var s;if(super(),Reflect.has(e,"elementRenderer"))return l.parseItem(e,ur);let i=e.newElement.type.componentType;this.model=l.parseItem(i==null?void 0:i.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=W(((s=e.newElement.childElements)==null?void 0:s.map(o=>new iy(o)))||[]))}};r(ur,"Element");ur.type="Element";var ry=ur;var dl=class extends n{constructor(e){super(),this.title=new c(e.title),this.first_option=l.parseItem(e.firstOption),this.menu=l.parseItem(e.menu,R)}};r(dl,"EmergencyOnebox");dl.type="EmergencyOnebox";var L0=dl;var _l=class extends n{constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};r(_l,"EmojiPickerCategory");_l.type="EmojiPickerCategory";var D0=_l;var xl=class extends n{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),this.tooltip=e.tooltip}};r(xl,"EmojiPickerCategoryButton");xl.type="EmojiPickerCategoryButton";var B0=xl;var yl=class extends n{constructor(e){super(),this.category_id=e.categoryId,this.title=new c(e.title),this.upsell=new c(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new h(e.command),this.emoji_ids=e.emojiIds}};r(yl,"EmojiPickerUpsellCategory");yl.type="EmojiPickerUpsellCategory";var O0=yl;var vt,FC="playlist/get_add_to_playlist",bl=class extends n{constructor(e){super(),vt.set(this,void 0),S(this,vt,e,"f")}getApiPath(){return FC}buildRequest(){let e={};return e.videoIds=u(this,vt,"f").videoIds?u(this,vt,"f").videoIds:[u(this,vt,"f").videoId],u(this,vt,"f").playlistId&&(e.playlistId=u(this,vt,"f").playlistId),u(this,vt,"f").params&&(e.params=u(this,vt,"f").params),e.excludeWatchLater=!!u(this,vt,"f").excludeWatchLater,e}};r(bl,"AddToPlaylistServiceEndpoint");vt=new WeakMap;bl.type="AddToPlaylistServiceEndpoint";var sy=bl;var gl=class extends sy{constructor(e){super(e)}};r(gl,"AddToPlaylistEndpoint");gl.type="AddToPlaylistEndpoint";var V0=gl;var Ie,UC="browse",wl=class extends n{constructor(e){super(),Ie.set(this,void 0),S(this,Ie,e,"f")}getApiPath(){return UC}buildRequest(){let e={};return u(this,Ie,"f").browseId&&(e.browseId=u(this,Ie,"f").browseId),u(this,Ie,"f").params&&(e.params=u(this,Ie,"f").params),u(this,Ie,"f").query&&(e.query=u(this,Ie,"f").query),u(this,Ie,"f").browseId==="FEsubscriptions"&&(e.subscriptionSettingsState=u(this,Ie,"f").subscriptionSettingsState||"MY_SUBS_SETTINGS_STATE_LAYOUT_FORMAT_LIST"),u(this,Ie,"f").browseId==="SPaccount_playback"&&(e.formData=u(this,Ie,"f").formData||{accountSettingsFormData:{flagCaptionsDefaultOff:!1,flagAutoCaptionsDefaultOn:!1,flagDisableInlinePreview:!1,flagAudioDescriptionDefaultOn:!1}}),u(this,Ie,"f").browseId==="FEwhat_to_watch"&&(u(this,Ie,"f").browseRequestSupportedMetadata&&(e.browseRequestSupportedMetadata=u(this,Ie,"f").browseRequestSupportedMetadata),u(this,Ie,"f").inlineSettingStatus&&(e.inlineSettingStatus=u(this,Ie,"f").inlineSettingStatus)),e}};r(wl,"BrowseEndpoint");Ie=new WeakMap;wl.type="BrowseEndpoint";var Y0=wl;var de,WC="comment/create_comment",Tl=class extends n{constructor(e){super(),de.set(this,void 0),S(this,de,e,"f")}getApiPath(){return WC}buildRequest(){let e={};if(u(this,de,"f").createCommentParams&&(e.createCommentParams=u(this,de,"f").createCommentParams),u(this,de,"f").commentText&&(e.commentText=u(this,de,"f").commentText),u(this,de,"f").attachedVideoId?e.videoAttachment={videoId:u(this,de,"f").attachedVideoId}:u(this,de,"f").pollOptions?e.pollAttachment={choices:u(this,de,"f").pollOptions}:u(this,de,"f").imageBlobId?e.imageAttachment={encryptedBlobId:u(this,de,"f").imageBlobId}:u(this,de,"f").sharedPostId&&(e.sharedPostAttachment={postId:u(this,de,"f").sharedPostId}),u(this,de,"f").accessRestrictions&&typeof u(this,de,"f").accessRestrictions=="number"){let i=u(this,de,"f").accessRestrictions===1?"RESTRICTION_TYPE_EVERYONE":"RESTRICTION_TYPE_SPONSORS_ONLY";e.accessRestrictions={restriction:i}}return u(this,de,"f").botguardResponse&&(e.botguardResponse=u(this,de,"f").botguardResponse),e}};r(Tl,"CreateCommentEndpoint");de=new WeakMap;Tl.type="CreateCommentEndpoint";var F0=Tl;var Ye,HC="playlist/create",vl=class extends n{constructor(e){super(),Ye.set(this,void 0),S(this,Ye,e,"f")}getApiPath(){return HC}buildRequest(){let e={};return u(this,Ye,"f").title&&(e.title=u(this,Ye,"f").title),u(this,Ye,"f").privacyStatus&&(e.privacyStatus=u(this,Ye,"f").privacyStatus),u(this,Ye,"f").description&&(e.description=u(this,Ye,"f").description),u(this,Ye,"f").videoIds&&(e.videoIds=u(this,Ye,"f").videoIds),u(this,Ye,"f").params&&(e.params=u(this,Ye,"f").params),u(this,Ye,"f").sourcePlaylistId&&(e.sourcePlaylistId=u(this,Ye,"f").sourcePlaylistId),e}};r(vl,"CreatePlaylistServiceEndpoint");Ye=new WeakMap;vl.type="CreatePlaylistServiceEndpoint";var U0=vl;var Il,GC="playlist/delete",Sl=class extends n{constructor(e){super(),Il.set(this,void 0),S(this,Il,e,"f")}getApiPath(){return GC}buildRequest(){let e={};return u(this,Il,"f").playlistId&&(e.playlistId=u(this,Il,"f").sourcePlaylistId),e}};r(Sl,"DeletePlaylistEndpoint");Il=new WeakMap;Sl.type="DeletePlaylistEndpoint";var W0=Sl;var ai,jC="feedback",kl=class extends n{constructor(e){super(),ai.set(this,void 0),S(this,ai,e,"f")}getApiPath(){return jC}buildRequest(){let e={};return u(this,ai,"f").feedbackToken&&(e.feedbackTokens=[u(this,ai,"f").feedbackToken]),u(this,ai,"f").cpn&&(e.feedbackContext={cpn:u(this,ai,"f").cpn}),e.isFeedbackTokenUnencrypted=!!u(this,ai,"f").isFeedbackTokenUnencrypted,e.shouldMerge=!!u(this,ai,"f").shouldMerge,e}};r(kl,"FeedbackEndpoint");ai=new WeakMap;kl.type="FeedbackEndpoint";var H0=kl;var pe,$C="account/accounts_list",El=class extends n{constructor(e){super(),pe.set(this,void 0),S(this,pe,e,"f")}getApiPath(){return $C}buildRequest(){let e={};return u(this,pe,"f").requestType&&(e.requestType=u(this,pe,"f").requestType,(u(this,pe,"f").requestType==="ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER"||u(this,pe,"f").requestType==="ACCOUNTS_LIST_REQUEST_TYPE_IDENTITY_PROMPT")&&u(this,pe,"f").nextUrl&&(e.nextNavendpoint={urlEndpoint:{url:u(this,pe,"f").nextUrl}})),u(this,pe,"f").channelSwitcherQuery&&(e.channelSwitcherQuery=u(this,pe,"f").channelSwitcherQuery),u(this,pe,"f").triggerChannelCreation&&(e.triggerChannelCreation=u(this,pe,"f").triggerChannelCreation),u(this,pe,"f").contentOwnerConfig&&u(this,pe,"f").contentOwnerConfig.externalContentOwnerId&&(e.contentOwnerConfig=u(this,pe,"f").contentOwnerConfig),u(this,pe,"f").obfuscatedSelectedGaiaId&&(e.obfuscatedSelectedGaiaId=u(this,pe,"f").obfuscatedSelectedGaiaId),u(this,pe,"f").selectedSerializedDelegationContext&&(e.selectedSerializedDelegationContext=u(this,pe,"f").selectedSerializedDelegationContext),u(this,pe,"f").callCircumstance&&(e.callCircumstance=u(this,pe,"f").callCircumstance),e}};r(El,"GetAccountsListInnertubeEndpoint");pe=new WeakMap;El.type="GetAccountsListInnertubeEndpoint";var G0=El;var Cl=class extends n{constructor(e){super(),this.panel_identifier=e.panelIdentifier}};r(Cl,"HideEngagementPanelEndpoint");Cl.type="HideEngagementPanelEndpoint";var j0=Cl;var It,KC="like/like",qC="like/dislike",zC="like/removelike",Pl=class extends n{constructor(e){super(),It.set(this,void 0),S(this,It,e,"f")}getApiPath(){return u(this,It,"f").status==="DISLIKE"?qC:u(this,It,"f").status==="INDIFFERENT"?zC:KC}buildRequest(){let e={};u(this,It,"f").target&&(e.target=u(this,It,"f").target);let i=this.getParams();return i&&(e.params=i),e}getParams(){switch(u(this,It,"f").status){case"LIKE":return u(this,It,"f").likeParams;case"DISLIKE":return u(this,It,"f").dislikeParams;case"INDIFFERENT":return u(this,It,"f").removeLikeParams;default:return}}};r(Pl,"LikeEndpoint");It=new WeakMap;Pl.type="LikeEndpoint";var $0=Pl;var Nl,XC="live_chat/get_item_context_menu",Al=class extends n{constructor(e){super(),Nl.set(this,void 0),S(this,Nl,e,"f")}getApiPath(){return XC}buildRequest(){let e={};return u(this,Nl,"f").params&&(e.params=u(this,Nl,"f").params),e}};r(Al,"LiveChatItemContextMenuEndpoint");Nl=new WeakMap;Al.type="LiveChatItemContextMenuEndpoint";var K0=Al;var fr,QC="notification/modify_channel_preference",Rl=class extends n{constructor(e){super(),fr.set(this,void 0),S(this,fr,e,"f")}getApiPath(){return QC}buildRequest(){let e={};return u(this,fr,"f").params&&(e.params=u(this,fr,"f").params),u(this,fr,"f").secondaryParams&&(e.secondaryParams=u(this,fr,"f").secondaryParams),e}};r(Rl,"ModifyChannelNotificationPreferenceEndpoint");fr=new WeakMap;Rl.type="ModifyChannelNotificationPreferenceEndpoint";var q0=Rl;var mr,JC="comment/perform_comment_action",Ml=class extends n{constructor(e){super(),mr.set(this,void 0),S(this,mr,e,"f")}getApiPath(){return JC}buildRequest(){let e={};return u(this,mr,"f").actions&&(e.actions=u(this,mr,"f").actions),u(this,mr,"f").action&&(e.actions=[u(this,mr,"f").action]),e}};r(Ml,"PerformCommentActionEndpoint");mr=new WeakMap;Ml.type="PerformCommentActionEndpoint";var z0=Ml;var ci,ZC="browse/edit_playlist",Ll=class extends n{constructor(e){super(),ci.set(this,void 0),S(this,ci,e,"f")}getApiPath(){return ZC}buildRequest(){let e={};return u(this,ci,"f").actions&&(e.actions=u(this,ci,"f").actions),u(this,ci,"f").playlistId&&(e.playlistId=u(this,ci,"f").playlistId),u(this,ci,"f").params&&(e.params=u(this,ci,"f").params),e}};r(Ll,"PlaylistEditEndpoint");ci=new WeakMap;Ll.type="PlaylistEditEndpoint";var X0=Ll;var me,e1="player",Dl=class extends n{constructor(e){super(),me.set(this,void 0),S(this,me,e,"f")}getApiPath(){return e1}buildRequest(){let e={};return u(this,me,"f").videoId&&(e.videoId=u(this,me,"f").videoId),u(this,me,"f").playlistId&&(e.playlistId=u(this,me,"f").playlistId),(u(this,me,"f").index!==void 0||u(this,me,"f").playlistIndex!==void 0)&&(e.playlistIndex=u(this,me,"f").index||u(this,me,"f").playlistIndex),(u(this,me,"f").playerParams||u(this,me,"f").params)&&(e.params=u(this,me,"f").playerParams||u(this,me,"f").params),u(this,me,"f").startTimeSeconds&&(e.startTimeSecs=u(this,me,"f").startTimeSeconds),u(this,me,"f").overrideMutedAtStart&&(e.overrideMutedAtStart=u(this,me,"f").overrideMutedAtStart),e.racyCheckOk=!!u(this,me,"f").racyCheckOk,e.contentCheckOk=!!u(this,me,"f").contentCheckOk,e}};r(Dl,"WatchEndpoint");me=new WeakMap;Dl.type="WatchEndpoint";var oy=Dl;var Bl=class extends oy{constructor(e){super(e)}};r(Bl,"PrefetchWatchCommand");Bl.type="PrefetchWatchCommand";var Q0=Bl;var Re,t1="reel/reel_item_watch",Ol=class extends n{constructor(e){super(),Re.set(this,void 0),S(this,Re,e,"f")}getApiPath(){return t1}buildRequest(){let e={};return u(this,Re,"f").videoId&&(e.playerRequest={videoId:u(this,Re,"f").videoId}),e.playerRequest&&(u(this,Re,"f").playerParams&&(e.playerRequest.params=u(this,Re,"f").playerParams),u(this,Re,"f").racyCheckOk&&(e.playerRequest.racyCheckOk=!!u(this,Re,"f").racyCheckOk),u(this,Re,"f").contentCheckOk&&(e.playerRequest.contentCheckOk=!!u(this,Re,"f").contentCheckOk)),u(this,Re,"f").params&&(e.params=u(this,Re,"f").params),u(this,Re,"f").inputType&&(e.inputType=u(this,Re,"f").inputType),e.disablePlayerResponse=!!u(this,Re,"f").disablePlayerResponse,e}};r(Ol,"ReelWatchEndpoint");Re=new WeakMap;Ol.type="ReelWatchEndpoint";var J0=Ol;var St,i1="search",Vl=class extends n{constructor(e){super(),St.set(this,void 0),S(this,St,e,"f")}getApiPath(){return i1}buildRequest(){let e={};return u(this,St,"f").query&&(e.query=u(this,St,"f").query),u(this,St,"f").params&&(e.params=u(this,St,"f").params),u(this,St,"f").webSearchboxStatsUrl&&(e.webSearchboxStatsUrl=u(this,St,"f").webSearchboxStatsUrl),u(this,St,"f").suggestStats&&(e.suggestStats=u(this,St,"f").suggestStats),e}};r(Vl,"SearchEndpoint");St=new WeakMap;Vl.type="SearchEndpoint";var Z0=Vl;var hr,r1="share/get_share_panel",Yl=class extends n{constructor(e){super(),hr.set(this,void 0),S(this,hr,e,"f")}getApiPath(){return r1}buildRequest(){let e={};return u(this,hr,"f").serializedShareEntity&&(e.serializedSharedEntity=u(this,hr,"f").serializedShareEntity),u(this,hr,"f").clientParams&&(e.clientParams=u(this,hr,"f").clientParams),e}};r(Yl,"ShareEntityServiceEndpoint");hr=new WeakMap;Yl.type="ShareEntityServiceEndpoint";var ds=Yl;var Fl=class extends ds{constructor(e){super(e)}};r(Fl,"ShareEndpoint");Fl.type="ShareEndpoint";var ev=Fl;var Ul=class extends ds{constructor(e){super(e)}};r(Ul,"ShareEntityEndpoint");Ul.type="ShareEntityEndpoint";var tv=Ul;var Wl=class extends n{constructor(e){super(),this.panel_identifier=e.panelIdentifier,this.source_panel_identifier=e.sourcePanelIdentifier}};r(Wl,"ShowEngagementPanelEndpoint");Wl.type="ShowEngagementPanelEndpoint";var iv=Wl;var Hl=class extends n{constructor(e){super(),Array.isArray(e.actions)&&(this.actions=l.parseArray(e.actions.map(i=>(delete i.clickTrackingParams,i)))),this.signal=e.signal}};r(Hl,"SignalServiceEndpoint");Hl.type="SignalServiceEndpoint";var rv=Hl;var it,s1="subscription/subscribe",Gl=class extends n{constructor(e){super(),it.set(this,void 0),S(this,it,e,"f")}getApiPath(){return s1}buildRequest(){let e={};return u(this,it,"f").channelIds&&(e.channelIds=u(this,it,"f").channelIds),u(this,it,"f").siloName&&(e.siloName=u(this,it,"f").siloName),u(this,it,"f").params&&(e.params=u(this,it,"f").params),u(this,it,"f").botguardResponse&&(e.botguardResponse=u(this,it,"f").botguardResponse),u(this,it,"f").feature&&(e.clientFeature=u(this,it,"f").feature),e}};r(Gl,"SubscribeEndpoint");it=new WeakMap;Gl.type="SubscribeEndpoint";var sv=Gl;var li,o1="subscription/unsubscribe",jl=class extends n{constructor(e){super(),li.set(this,void 0),S(this,li,e,"f")}getApiPath(){return o1}buildRequest(){let e={};return u(this,li,"f").channelIds&&(e.channelIds=u(this,li,"f").channelIds),u(this,li,"f").siloName&&(e.siloName=u(this,li,"f").siloName),u(this,li,"f").params&&(e.params=u(this,li,"f").params),e}};r(jl,"UnsubscribeEndpoint");li=new WeakMap;jl.type="UnsubscribeEndpoint";var ov=jl;var Pe,n1="next",$l=class extends n{constructor(e){super(),Pe.set(this,void 0),S(this,Pe,e,"f")}getApiPath(){return n1}buildRequest(){let e={};return u(this,Pe,"f").videoId&&(e.videoId=u(this,Pe,"f").videoId),u(this,Pe,"f").playlistId&&(e.playlistId=u(this,Pe,"f").playlistId),(u(this,Pe,"f").index!==void 0||u(this,Pe,"f").playlistIndex!==void 0)&&(e.playlistIndex=u(this,Pe,"f").index||u(this,Pe,"f").playlistIndex),(u(this,Pe,"f").playerParams||u(this,Pe,"f").params)&&(e.params=u(this,Pe,"f").playerParams||u(this,Pe,"f").params),e.racyCheckOk=!!u(this,Pe,"f").racyCheckOk,e.contentCheckOk=!!u(this,Pe,"f").contentCheckOk,e}};r($l,"WatchNextEndpoint");Pe=new WeakMap;$l.type="WatchNextEndpoint";var nv=$l;var Kl=class extends n{constructor(e){super(),this.elements=l.parseArray(e.elements),this.start_ms=e.startMs}};r(Kl,"Endscreen");Kl.type="Endscreen";var ny=Kl;var ql=class extends n{constructor(e){super(),this.style=e.style,this.title=new c(e.title),this.endpoint=new h(e.endpoint),Reflect.has(e,"image")&&(this.image=y.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=y.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new c(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new c(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=l.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new c(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};r(ql,"EndscreenElement");ql.type="EndscreenElement";var av=ql;var zl=class extends n{constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.author=new c(e.longBylineText),this.endpoint=new h(e.navigationEndpoint),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText)}};r(zl,"EndScreenPlaylist");zl.type="EndScreenPlaylist";var ay=zl;var Xl=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new P(e.shortBylineText,e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.short_view_count=new c(e.shortViewCountText),this.badges=l.parseArray(e.badges),this.duration={text:new c(e.lengthText).toString(),seconds:e.lengthInSeconds}}};r(Xl,"EndScreenVideo");Xl.type="EndScreenVideo";var cy=Xl;var Ql=class extends n{constructor(e){super(),this.title=e.title,this.endpoint=new h(e.endpoint),this.selected=e.selected,this.content=l.parseItem(e.content)}};r(Ql,"ExpandableTab");Ql.type="ExpandableTab";var dr=Ql;var Jl=class extends n{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Jl,"ExpandedShelfContents");Jl.type="ExpandedShelfContents";var cv=Jl;var Zl=class extends n{constructor(e){super(),this.dialog_message=new c(e.dialogMessage),this.confirm_label=new c(e.confirmLabel)}};r(Zl,"FancyDismissibleDialog");Zl.type="FancyDismissibleDialog";var lv=Zl;var ep=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents,Ke)}};r(ep,"FeedFilterChipBar");ep.type="FeedFilterChipBar";var kt=ep;var tp=class extends n{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.endpoint=new h(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};r(tp,"FeedNudge");tp.type="FeedNudge";var pv=tp;var ip=class extends n{constructor(e){super(),this.title=new c(e.title)}};r(ip,"FeedTabbedHeader");ip.type="FeedTabbedHeader";var ly=ip;var rp=class extends n{constructor(e){super(),this.title=new c(e.title),this.box_art=y.fromResponse(e.boxArt),this.box_art_overlay_text=new c(e.boxArtOverlayText),this.endpoint=new h(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};r(rp,"GameDetails");rp.type="GameDetails";var uv=rp;var sp=class extends n{constructor(e){var i,s,o;super(),this.items=l.parseArray(e.items),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||null}get contents(){return this.items}};r(sp,"Grid");sp.type="Grid";var fv=sp;var op=class extends n{constructor(e){super(),this.id=e.channelId,this.author=new P({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new c(e.subscriberCountText),this.video_count=new c(e.videoCountText),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton)}};r(op,"GridChannel");op.type="GridChannel";var py=op;var np=class extends n{constructor(e){super(),this.title=new c(e.title)}};r(np,"GridHeader");np.type="GridHeader";var mv=np;var ap=class extends n{constructor(e){var i,s;super(),this.id=e.playlistId,this.title=new c(e.title),this.author=(i=e.shortBylineText)!=null&&i.simpleText?new c(e.shortBylineText):(s=e.longBylineText)!=null&&s.simpleText?new c(e.longBylineText):null,this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new c(e.videoCountText),this.video_count_short=new c(e.videoCountShortText),this.endpoint=new h(e.navigationEndpoint),this.secondary_endpoint=new h(e.secondaryNavigationEndpoint),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};r(ap,"GridMix");ap.type="GridMix";var hv=ap;var cp=class extends n{constructor(e){var s;super();let i=(s=e.thumbnailOverlays.find(o=>o.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:s.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.duration=e.lengthText?new c(e.lengthText):i!=null&&i.text?new c(i.text):null,this.endpoint=new h(e.navigationEndpoint),this.badges=l.parseArray(e.badges,$e),this.metadata=new c(e.metadata),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays)}};r(cp,"GridMovie");cp.type="GridMovie";var dv=cp;var lp=class extends n{constructor(e){var i;super(),this.id=e.playlistId,this.title=new c(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new P(e.shortBylineText,e.ownerBadges)),this.badges=l.parseArray(e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.view_playlist=new c(e.viewPlaylistText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)==null?void 0:i.map(s=>y.fromResponse(s)))||[])||null,this.video_count=new c(e.thumbnailText),this.video_count_short=new c(e.videoCountShortText)}};r(lp,"GridPlaylist");lp.type="GridPlaylist";var uy=lp;var pp=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(pp,"ShowCustomThumbnail");pp.type="ShowCustomThumbnail";var fy=pp;var up=class extends n{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new c(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};r(up,"ThumbnailOverlayBottomPanel");up.type="ThumbnailOverlayBottomPanel";var my=up;var fp=class extends n{constructor(e){super(),this.title=new c(e.title),this.thumbnail_renderer=$(e.thumbnailRenderer,fy),this.endpoint=new h(e.navigationEndpoint),this.long_byline_text=new c(e.longBylineText),this.thumbnail_overlays=Me(e.thumbnailOverlays,my),this.author=new P(e.shortBylineText,void 0)}};r(fp,"GridShow");fp.type="GridShow";var _v=fp;var mp=class extends n{constructor(e){var s,o;super();let i=(s=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:s.thumbnailOverlayTimeStatusRenderer;this.video_id=e.videoId,this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.rich_thumbnail=l.parseItem(e.richThumbnail),this.published=new c(e.publishedTimeText),this.duration=e.lengthText?new c(e.lengthText):i!=null&&i.text?new c(i.text):null,this.author=e.shortBylineText&&new P(e.shortBylineText,e.ownerBadges),this.views=new c(e.viewCountText),this.short_view_count=new c(e.shortViewCountText),this.endpoint=new h(e.navigationEndpoint),this.menu=l.parseItem(e.menu,R),Reflect.has(e,"buttons")&&(this.buttons=l.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new c(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!((o=e.upcomingEventData)!=null&&o.isReminderSet))}get id(){return this.video_id}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};r(mp,"GridVideo");mp.type="GridVideo";var hy=mp;var hp=class extends n{constructor(e){super(),this.title=new c(e.formattedTitle),this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=y.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};r(hp,"GuideEntry");hp.type="GuideEntry";var _r=hp;var dp=class extends n{constructor(e){super(),this.expander_item=$(e.expanderItem,_r),this.collapser_item=$(e.collapserItem,_r),this.expandable_items=Me(e.expandableItems)}};r(dp,"GuideCollapsibleEntry");dp.type="GuideCollapsibleEntry";var xv=dp;var _p=class extends n{constructor(e){super(),this.header_entry=$(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Me(e.sectionItems)}};r(_p,"GuideCollapsibleSectionEntry");_p.type="GuideCollapsibleSectionEntry";var yv=_p;var xp=class extends _r{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};r(xp,"GuideDownloadsEntry");xp.type="GuideDownloadsEntry";var bv=xp;var yp=class extends n{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new c(e.formattedTitle)),this.items=Me(e.items)}};r(yp,"GuideSection");yp.type="GuideSection";var _s=yp;var bp=class extends _s{};r(bp,"GuideSubscriptionsSection");bp.type="GuideSubscriptionsSection";var dy=bp;var gp=class extends n{constructor(e){super(),this.hashtag=new c(e.hashtag),this.hashtag_info=new c(e.hashtagInfoText)}};r(gp,"HashtagHeader");gp.type="HashtagHeader";var _y=gp;var wp=class extends n{constructor(e){super(),this.hashtag=new c(e.hashtag),this.hashtag_info_text=new c(e.hashtagInfoText),this.hashtag_thumbnail=y.fromResponse(e.hashtagThumbnail),this.endpoint=new h(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new c(e.hashtagVideoCount),this.hashtag_channel_count=new c(e.hashtagChannelCount)}};r(wp,"HashtagTile");wp.type="HashtagTile";var gv=wp;var Tp=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new h(e.onTap)}};r(Tp,"HeroPlaylistThumbnail");Tp.type="HeroPlaylistThumbnail";var wv=Tp;var vp=class extends n{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:y.fromResponse(e.thumbnail.image),endpoint:new h(e.thumbnail.onTap),on_long_press_endpoint:new h(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:y.fromResponse(e.backgroundImage.image),gradient_image:y.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new h(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new h(e.textOnTap)}};r(vp,"Panel");vp.type="Panel";var Ip=class extends n{constructor(e){super(),this.panels=W(e.highlightsCarousel.panels.map(i=>new vp(i)))}};r(Ip,"HighlightsCarousel");Ip.type="HighlightsCarousel";var Tv=Ip;var Sp=class extends n{constructor(e){super(),this.suggestion=new c(e.suggestion),this.endpoint=new h(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new h(e.serviceEndpoint))}};r(Sp,"SearchSuggestion");Sp.type="SearchSuggestion";var xy=Sp;var kp=class extends xy{constructor(e){super(e)}};r(kp,"HistorySuggestion");kp.type="HistorySuggestion";var vv=kp;var Ep=class extends n{constructor(e){super(),this.items=l.parseArray(e.items),this.previous_button=l.parseItem(e.previousButton,T),this.next_button=l.parseItem(e.nextButton,T)}get contents(){return this.items}};r(Ep,"HorizontalMovieList");Ep.type="HorizontalMovieList";var Iv=Ep;var Cp=class extends n{constructor(e){var i;super(),this.icon_type=(i=e.icon)==null?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new c(e.tooltip).toString()),this.endpoint=new h(e.navigationEndpoint)}};r(Cp,"IconLink");Cp.type="IconLink";var yy=Cp;var Pp=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};r(Pp,"ImageBannerView");Pp.type="ImageBannerView";var by=Pp;var Np=class extends n{constructor(e){super(),this.including_results_for=new c(e.includingResultsFor),this.corrected_query=new c(e.correctedQuery),this.corrected_query_endpoint=new h(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new c(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new c(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new h(e.originalQueryEndpoint):void 0}};r(Np,"IncludingResultsFor");Np.type="IncludingResultsFor";var Sv=Np;var Ap=class extends n{constructor(e){super(),this.title=new c(e.title),this.source=new c(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(i=>new c(i))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(i=>c.fromAttributed(i))),this.thumbnail=y.fromResponse(e.thumbnail),this.source_endpoint=new h(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};r(Ap,"InfoPanelContent");Ap.type="InfoPanelContent";var gy=Ap;var Rp=class extends n{constructor(e){var i;super(),this.title=new c(e.title),this.menu=l.parseItem(e.menu,R),this.content=l.parseItem(e.content,gy),e.headerEndpoint&&(this.header_endpoint=new h(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType)}};r(Rp,"InfoPanelContainer");Rp.type="InfoPanelContainer";var wy=Rp;var Mp=class extends n{constructor(e){super(),this.header_type=e.type,this.title=new c(e.title),this.description=new c(e.description),this.metadata=new c(e.metadata),this.badges=l.parseArray(e.badges,$e),this.box_art=y.fromResponse(e.boxArt),this.banner=y.fromResponse(e.banner),this.buttons=l.parseArray(e.buttons,[he,T]),this.auto_generated=new c(e.autoGenerated)}};r(Mp,"InteractiveTabbedHeader");Mp.type="InteractiveTabbedHeader";var Ty=Mp;var Lp=class extends n{constructor(e){super(),this.title=new c(e.title)}};r(Lp,"ItemSectionHeader");Lp.type="ItemSectionHeader";var xs=Lp;var Dp=class extends n{constructor(e){super(),this.title=new c(e.title),this.selected=!!e.selected,this.endpoint=new h(e.endpoint)}};r(Dp,"ItemSectionTab");Dp.type="Tab";var vy=Dp;var Bp=class extends n{constructor(e){super(),this.title=new c(e.title),this.tabs=l.parseArray(e.tabs,vy),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};r(Bp,"ItemSectionTabbedHeader");Bp.type="ItemSectionTabbedHeader";var ys=Bp;var Op=class extends n{constructor(e){super(),this.filter_menu=l.parseItem(e.filterMenu,xr.SortFilterSubMenu)}};r(Op,"SortFilterHeader");Op.type="SortFilterHeader";var Iy=Op;var Vp=class extends n{constructor(e){var i,s,o;super(),this.header=l.parseItem(e.header,[Di,xs,ys,Iy,kt]),this.contents=l.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(o=(s=(i=e.continuations)==null?void 0:i.at(0))==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)}};r(Vp,"ItemSection");Vp.type="ItemSection";var Et=Vp;var Yp=class extends n{constructor(e){var i,s;super(),this.header=l.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(s=(i=e.continuations[0])==null?void 0:i.reloadContinuationData)==null?void 0:s.continuation,this.client_messages={reconnect_message:new c(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new c(e.clientMessages.unableToReconnectMessage),fatal_error:new c(e.clientMessages.fatalError),reconnected_message:new c(e.clientMessages.reconnectedMessage),generic_error:new c(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};r(Yp,"LiveChat");Yp.type="LiveChat";var Sy=Yp;var Fp=class extends n{constructor(e){super(),this.text=new c(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};r(Fp,"LiveChatBannerHeader");Fp.type="LiveChatBannerHeader";var ky=Fp;var Up=class extends n{constructor(e){super(),this.header=l.parseItem(e.header,ky),this.contents=l.parseItem(e.contents),this.action_id=e.actionId,Reflect.has(e,"viewerIsCreator")&&(this.viewer_is_creator=e.viewerIsCreator),this.target_id=e.targetId,this.is_stackable=e.isStackable,Reflect.has(e,"backgroundType")&&(this.background_type=e.backgroundType),this.banner_type=e.bannerType,Reflect.has(e,"bannerProperties")&&Reflect.has(e.bannerProperties,"isEphemeral")&&(this.banner_properties_is_ephemeral=Boolean(e.bannerProperties.isEphemeral)),Reflect.has(e,"bannerProperties")&&Reflect.has(e.bannerProperties,"autoCollapseDelay")&&Reflect.has(e.bannerProperties.autoCollapseDelay,"seconds")&&(this.banner_properties_auto_collapse_delay_seconds=e.bannerProperties.autoCollapseDelay.seconds)}};r(Up,"LiveChatBanner");Up.type="LiveChatBanner";var Ey=Up;var Wp=class extends n{constructor(e){super(),this.banner=l.parseItem(e.bannerRenderer,Ey)}};r(Wp,"AddBannerToLiveChatCommand");Wp.type="AddBannerToLiveChatCommand";var kv=Wp;var Hp=class extends n{constructor(e){super(),this.item=l.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};r(Hp,"AddChatItemAction");Hp.type="AddChatItemAction";var Cy=Hp;var Gp=class extends n{constructor(e){super(),this.item=l.parseItem(e.item),this.duration_sec=e.durationSec}};r(Gp,"AddLiveChatTickerItemAction");Gp.type="AddLiveChatTickerItemAction";var Ev=Gp;var jp=class extends n{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};r(jp,"DimChatItemAction");jp.type="DimChatItemAction";var Cv=jp;var $p=class extends n{constructor(e){super(),this.text=c.fromAttributed(e.text),this.image_name=e.image.sources[0].clientResource.imageName,this.image_color=e.image.sources[0].clientResource.imageColor}};r($p,"BumperUserEduContentView");$p.type="BumperUserEduContentView";var Py=$p;var Kp=class extends n{constructor(e){super(),this.creator_thumbnail=y.fromResponse(e.creatorThumbnail),this.hearted_icon_name=e.heartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_name=e.unheartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_processor={border_image_processor:{image_tint:{color:e.unheartedIcon.processor.borderImageProcessor.imageTint.color}}},this.hearted_hover_text=e.heartedHoverText,this.hearted_accessibility_label=e.heartedAccessibilityLabel,this.unhearted_accessibility_label=e.unheartedAccessibilityLabel,this.engagement_state_key=e.engagementStateKey}};r(Kp,"CreatorHeartView");Kp.type="CreatorHeartView";var Ny=Kp;var qp=class extends n{constructor(e){super(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.moderation_buttons=l.parseArray(e.moderationButtons,T),this.auto_moderated_item=l.parseItem(e.autoModeratedItem),this.header_text=new c(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};r(qp,"LiveChatAutoModMessage");qp.type="LiveChatAutoModMessage";var Pv=qp;var zp=class extends n{constructor(e){super(),this.id=e.liveChatSummaryId,this.chat_summary=new c(e.chatSummary),this.icon_type=e.icon.iconType,this.like_feedback_button=l.parseItem(e.likeFeedbackButton,tt),this.dislike_feedback_button=l.parseItem(e.dislikeFeedbackButton,tt)}};r(zp,"LiveChatBannerChatSummary");zp.type="LiveChatBannerChatSummary";var Nv=zp;var Xp=class extends n{constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.author_photo=y.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new c(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};r(Xp,"LiveChatBannerPoll");Xp.type="LiveChatBannerPoll";var Av=Xp;var Qp=class extends n{constructor(e){super(),this.banner_message=new c(e.bannerMessage),this.author_photo=y.fromResponse(e.authorPhoto),this.inline_action_button=l.parseItem(e.inlineActionButton,T),this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};r(Qp,"LiveChatBannerRedirect");Qp.type="LiveChatBannerRedirect";var Rv=Qp;var Jp=class extends n{constructor(e){super(),this.content=l.parseItem(e.content,Py)}};r(Jp,"LiveChatItemBumperView");Jp.type="LiveChatItemBumperView";var Ay=Jp;var Zp=class extends n{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new c(e.timestampText)),Reflect.has(e,"headerPrimaryText")&&(this.header_primary_text=new c(e.headerPrimaryText)),this.header_subtext=new c(e.headerSubtext),Reflect.has(e,"message")&&(this.message=new c(e.message)),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}};r(Zp,"LiveChatMembershipItem");Zp.type="LiveChatMembershipItem";var Mv=Zp;var eu=class extends n{constructor(e){super(),this.id=e.id,this.icon_type=e.icon.iconType,this.text=new c(e.text),this.subtext=new c(e.subtext),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,this.timestamp_text=new c(e.timestampText)}};r(eu,"LiveChatModeChangeMessage");eu.type="LiveChatModeChangeMessage";var Lv=eu;var tu=class extends n{constructor(e){super(),this.reply_button=l.parseItem(e.replyButton,Z),this.reply_count_entity_key=e.replyCountEntityKey,this.reply_count_placeholder=c.fromAttributed(e.replyCountPlaceholder)}};r(tu,"PdgReplyButtonView");tu.type="PdgReplyButtonView";var Ry=tu;var iu=class extends n{constructor(e){super(),this.id=e.id,this.message=new c(e.message),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.author_name_text_color=e.authorNameTextColor,this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new c(e.timestampText).toString()),this.timestamp_color=e.timestampColor,Reflect.has(e,"headerOverlayImage")&&(this.header_overlay_image=y.fromResponse(e.headerOverlayImage)),this.text_input_background_color=e.textInputBackgroundColor,this.lower_bumper=l.parseItem(e.lowerBumper,Ay),this.creator_heart_button=l.parseItem(e.creatorHeartButton,Ny),this.is_v2_style=e.isV2Style,this.reply_button=l.parseItem(e.replyButton,Ry)}};r(iu,"LiveChatPaidMessage");iu.type="LiveChatPaidMessage";var Dv=iu;var ru=class extends n{constructor(e){super(),this.id=e.id,this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=y.fromResponse(e.sticker),this.sticker_accessibility_label=e.sticker.accessibility.accessibilityData.label,this.sticker_display_width=e.stickerDisplayWidth,this.sticker_display_height=e.stickerDisplayHeight,this.purchase_amount=new c(e.purchaseAmountText).toString(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,this.is_v2_style=e.isV2Style}};r(ru,"LiveChatPaidSticker");ru.type="LiveChatPaidSticker";var Bv=ru;var su=class extends n{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};r(su,"LiveChatPlaceholderItem");su.type="LiveChatPlaceholderItem";var Ov=su;var ou=class extends n{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=l.parseItem(e.informationButton),this.endpoint=new h(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=y.fromResponse(e.authorPhoto),this.information_dialog=l.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new c(e.creatorCustomMessage)}};r(ou,"LiveChatProductItem");ou.type="LiveChatProductItem";var Vv=ou;var nu=class extends n{constructor(e){super(),this.message=new c(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};r(nu,"LiveChatRestrictedParticipation");nu.type="LiveChatRestrictedParticipation";var Yv=nu;var au=class extends $e{constructor(e){super(e),this.custom_thumbnail=y.fromResponse(e.customThumbnail)}};r(au,"LiveChatAuthorBadge");au.type="LiveChatAuthorBadge";var My=au;var cu=class extends n{constructor(e){super(),this.author_name=new c(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.author_badges=l.parseArray(e.authorBadges,My),this.primary_text=new c(e.primaryText),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.image=y.fromResponse(e.image)}};r(cu,"LiveChatSponsorshipsHeader");cu.type="LiveChatSponsorshipsHeader";var Ly=cu;var lu=class extends n{constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.author_external_channel_id=e.authorExternalChannelId,this.header=l.parseItem(e.header,Ly)}};r(lu,"LiveChatSponsorshipsGiftPurchaseAnnouncement");lu.type="LiveChatSponsorshipsGiftPurchaseAnnouncement";var Fv=lu;var pu=class extends n{constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.timestamp_text=new c(e.timestampText),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.message=new c(e.message),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}};r(pu,"LiveChatSponsorshipsGiftRedemptionAnnouncement");pu.type="LiveChatSponsorshipsGiftRedemptionAnnouncement";var Uv=pu;var uu=class extends n{constructor(e){super(),this.id=e.id,this.message=new c(e.message),this.inline_action_buttons=l.parseArray(e.inlineActionButtons,T),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new c(e.timestampText).toString()),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),Reflect.has(e,"contextMenuEndpoint")&&(this.menu_endpoint=new h(e.contextMenuEndpoint)),Reflect.has(e,"contextMenuAccessibility")&&Reflect.has(e.contextMenuAccessibility,"accessibilityData")&&Reflect.has(e.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label),this.before_content_buttons=l.parseArray(e.beforeContentButtons,Z)}};r(uu,"LiveChatTextMessage");uu.type="LiveChatTextMessage";var Wv=uu;var fu=class extends n{constructor(e){var i,s;super(),this.id=e.id,this.author=new P(e.authorName||e.authorUsername,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),Reflect.has(e,"amount")&&(this.amount=new c(e.amount)),this.amount_text_color=e.amountTextColor,this.start_background_color=e.startBackgroundColor,this.end_background_color=e.endBackgroundColor,this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=l.parseItem((s=(i=e.showItemEndpoint)==null?void 0:i.showLiveChatItemEndpoint)==null?void 0:s.renderer),this.show_item_endpoint=new h(e.showItemEndpoint),this.animation_origin=e.animationOrigin,this.open_engagement_panel_command=new h(e.openEngagementPanelCommand)}};r(fu,"LiveChatTickerPaidMessageItem");fu.type="LiveChatTickerPaidMessageItem";var Hv=fu;var mu=class extends n{constructor(e){var i,s;super(),this.id=e.id,this.author_external_channel_id=e.authorExternalChannelId,this.author_photo=y.fromResponse(e.authorPhoto),this.start_background_color=e.startBackgroundColor,this.end_background_color=e.endBackgroundColor,this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=l.parseItem((s=(i=e.showItemEndpoint)==null?void 0:i.showLiveChatItemEndpoint)==null?void 0:s.renderer),this.show_item_endpoint=new h(e.showItemEndpoint),this.ticker_thumbnails=e.tickerThumbnails.map(o=>{var a,p;return{thumbnails:y.fromResponse(o),label:(p=(a=o==null?void 0:o.accessibility)==null?void 0:a.accessibilityData)==null?void 0:p.label}})}};r(mu,"LiveChatTickerPaidStickerItem");mu.type="LiveChatTickerPaidStickerItem";var Gv=mu;var hu=class extends n{constructor(e){super(),this.id=e.id,this.detail=new c(e.detailText),this.author=new P(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};r(hu,"LiveChatTickerSponsorItem");hu.type="LiveChatTickerSponsorItem";var jv=hu;var du=class extends n{constructor(e){super(),this.id=e.id,Reflect.has(e,"timestampUsec")&&(this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.message=new c(e.message),this.action_button=l.parseItem(e.actionButton),Reflect.has(e,"contextMenuEndpoint")&&(this.menu_endpoint=new h(e.contextMenuEndpoint)),Reflect.has(e,"contextMenuAccessibility")&&Reflect.has(e.contextMenuAccessibility,"accessibilityData")&&Reflect.has(e.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label)}};r(du,"LiveChatViewerEngagementMessage");du.type="LiveChatViewerEngagementMessage";var $v=du;var _u=class extends n{constructor(e){super(),this.poll_question=new c(e.pollQuestion),this.thumbnails=y.fromResponse(e.thumbnail),this.metadata=new c(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=l.parseItem(e.contextMenuButton,T)}};r(_u,"PollHeader");_u.type="PollHeader";var Kv=_u;var xu=class extends n{constructor(e){super(),this.id=e.id,this.contents=l.parse(e.contents),this.target_id=e.targetId}};r(xu,"LiveChatActionPanel");xu.type="LiveChatActionPanel";var Dy=xu;var yu=class extends n{constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.target_item_id=e.targetItemId}};r(yu,"MarkChatItemAsDeletedAction");yu.type="MarkChatItemAsDeletedAction";var qv=yu;var bu=class extends n{constructor(e){super(),this.deleted_state_message=new c(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};r(bu,"MarkChatItemsByAuthorAsDeletedAction");bu.type="MarkChatItemsByAuthorAsDeletedAction";var zv=bu;var gu=class extends n{constructor(e){super(),this.target_action_id=e.targetActionId}};r(gu,"RemoveBannerForLiveChatCommand");gu.type="RemoveBannerForLiveChatCommand";var Xv=gu;var wu=class extends n{constructor(e){super(),this.target_item_id=e.targetItemId}};r(wu,"RemoveChatItemAction");wu.type="RemoveChatItemAction";var Qv=wu;var Tu=class extends n{constructor(e){super(),this.external_channel_id=e.externalChannelId}};r(Tu,"RemoveChatItemByAuthorAction");Tu.type="RemoveChatItemByAuthorAction";var Jv=Tu;var vu=class extends n{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=l.parseItem(e.replacementItem)}};r(vu,"ReplaceChatItemAction");vu.type="ReplaceChatItemAction";var Zv=vu;var Iu=class extends n{constructor(e){super(),this.to_replace=e.toReplace,this.replacement=l.parseItem(e.replacement)}};r(Iu,"ReplaceLiveChatAction");Iu.type="ReplaceLiveChatAction";var eI=Iu;var Su=class extends n{constructor(e){var i;super(),this.actions=l.parseArray((i=e.actions)==null?void 0:i.map(s=>(delete s.clickTrackingParams,s))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};r(Su,"ReplayChatItemAction");Su.type="ReplayChatItemAction";var tI=Su;var ku=class extends n{constructor(e){super(),this.panel_to_show=l.parseItem(e.panelToShow,Dy)}};r(ku,"ShowLiveChatActionPanelAction");ku.type="ShowLiveChatActionPanelAction";var iI=ku;var Eu=class extends n{constructor(e){super(),this.dialog=l.parseItem(e.dialog)}};r(Eu,"ShowLiveChatDialogAction");Eu.type="ShowLiveChatDialogAction";var rI=Eu;var Cu=class extends n{constructor(e){super(),this.tooltip=l.parseItem(e.tooltip)}};r(Cu,"ShowLiveChatTooltipCommand");Cu.type="ShowLiveChatTooltipCommand";var sI=Cu;var Pu=class extends n{constructor(e){super(),this.date_text=new c(e.dateText).toString()}};r(Pu,"UpdateDateTextAction");Pu.type="UpdateDateTextAction";var By=Pu;var Nu=class extends n{constructor(e){super(),this.description=new c(e.description)}};r(Nu,"UpdateDescriptionAction");Nu.type="UpdateDescriptionAction";var Oy=Nu;var Au=class extends n{constructor(e){super(),this.poll_to_update=l.parseItem(e.pollToUpdate)}};r(Au,"UpdateLiveChatPollAction");Au.type="UpdateLiveChatPollAction";var oI=Au;var Ru=class extends n{constructor(e){super(),this.title=new c(e.title)}};r(Ru,"UpdateTitleAction");Ru.type="UpdateTitleAction";var Vy=Ru;var Mu=class extends n{constructor(e){super(),this.default_text=new c(e.defaultText).toString(),this.toggled_text=new c(e.toggledText).toString(),this.button_id=e.buttonId}};r(Mu,"UpdateToggleButtonTextAction");Mu.type="UpdateToggleButtonTextAction";var Yy=Mu;var Lu=class extends n{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new c(i.viewCount),this.extra_short_view_count=new c(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new c(i.unlabeledViewCountValue),this.is_live=i.isLive}};r(Lu,"UpdateViewershipAction");Lu.type="UpdateViewershipAction";var Fy=Lu;var Du=class extends n{constructor(e){super(),this.confirm_button=l.parseItem(e.confirmButton,T),this.dialog_messages=e.dialogMessages.map(i=>new c(i))}};r(Du,"LiveChatDialog");Du.type="LiveChatDialog";var nI=Du;var Bu=class extends n{constructor(e){super(),this.overflow_menu=l.parseItem(e.overflowMenu,R),this.collapse_button=l.parseItem(e.collapseButton,T),this.view_selector=l.parseItem(e.viewSelector,wt)}};r(Bu,"LiveChatHeader");Bu.type="LiveChatHeader";var Uy=Bu;var Ou=class extends n{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=l.parseItem(e.moreCommentsBelowButton,T)}};r(Ou,"LiveChatItemList");Ou.type="LiveChatItemList";var Wy=Ou;var Vu=class extends n{constructor(e){super(),this.author_name=new c(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.send_button=l.parseItem(e.sendButton,T),this.target_id=e.targetId}};r(Vu,"LiveChatMessageInput");Vu.type="LiveChatMessageInput";var aI=Vu;var Yu=class extends n{constructor(e){super(),this.name=new c(e.authorName),this.photo=y.fromResponse(e.authorPhoto),this.badges=l.parseArray(e.authorBadges)}};r(Yu,"LiveChatParticipant");Yu.type="LiveChatParticipant";var Hy=Yu;var Fu=class extends n{constructor(e){super(),this.title=new c(e.title),this.participants=l.parseArray(e.participants,Hy)}};r(Fu,"LiveChatParticipantsList");Fu.type="LiveChatParticipantsList";var Gy=Fu;var Uu=class extends n{constructor(e){super(),this.title=c.fromAttributed(e.title),this.metadata=l.parseItem(e.metadata,cs),this.image=l.parseItem(e.image,ps),this.menu_button=l.parseItem(e.menuButton,Z)}};r(Uu,"LockupMetadataView");Uu.type="LockupMetadataView";var jy=Uu;var Wu=class extends n{constructor(e){super(),this.content_image=l.parseItem(e.contentImage,[Dx,os]),this.metadata=l.parseItem(e.metadata,jy),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.renderer_context=new Ae(e.rendererContext)}};r(Wu,"LockupView");Wu.type="LockupView";var $y=Wu;var Hu=class extends n{constructor(e){var s,o,a,p,f,m;super(),this.marker_entity_key=e.key,this.external_video_id=e.externalVideoId,this.marker_type=((s=e.markersList)==null?void 0:s.markerType)||"",this.raw_api_markers=((o=e.markersList)==null?void 0:o.markers)||[],this.raw_api_decorations=((p=(a=e.markersList)==null?void 0:a.markersDecoration)==null?void 0:p.timedMarkerDecorations)||[],this.markers=W(this.raw_api_markers.map(_=>new us(_)));let i=(m=(f=e.markersList)==null?void 0:f.markersMetadata)==null?void 0:m.heatmapMetadata;this.max_height_dp=(i==null?void 0:i.maxHeightDp)||40,this.min_height_dp=(i==null?void 0:i.minHeightDp)||4,this.show_hide_animation_duration_millis=(i==null?void 0:i.showHideAnimationDurationMillis)||200,this.timed_marker_decorations=W(this.raw_api_decorations.map(_=>new fs(_)))}isHeatmap(){return this.marker_type==="MARKER_TYPE_HEATMAP"}toHeatmap(){if(!this.isHeatmap())return null;let e=this.raw_api_markers.map(o=>({HeatMarker:o})),i=this.raw_api_decorations.map(o=>({TimedMarkerDecoration:o})),s={maxHeightDp:this.max_height_dp,minHeightDp:this.min_height_dp,showHideAnimationDurationMillis:this.show_hide_animation_duration_millis,heatMarkers:e,heatMarkersDecorations:i};return $({Heatmap:s},ms)}};r(Hu,"MacroMarkersListEntity");Hu.type="MacroMarkersListEntity";var bs=Hu;var Gu=class extends T{constructor(e){super(e)}};r(Gu,"MenuNavigationItem");Gu.type="MenuNavigationItem";var Ky=Gu;var ju=class extends n{constructor(e){super(),this.items=l.parseArray(e.items,[Ky,Ot])}};r(ju,"MenuPopup");ju.type="MenuPopup";var cI=ju;var $u=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.short_message=new c(e.shortMessage),this.sent_time=new c(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new h(e.navigationEndpoint),this.record_click_endpoint=new h(e.recordClickEndpoint),this.menu=l.parseItem(e.contextualMenu),this.read=e.read}};r($u,"Notification");$u.type="Notification";var gs=$u;var Ku=class extends n{constructor(e){super(),"notificationSectionTitle"in e&&(this.notification_section_title=new c(e.notificationSectionTitle)),this.items=l.parseArray(e.items,[gs,Ft,Q])}get contents(){return this.items}};r(Ku,"MultiPageMenuNotificationSection");Ku.type="MultiPageMenuNotificationSection";var lI=Ku;var qu=class extends n{constructor(e){super()}};r(qu,"MusicMenuItemDivider");qu.type="MusicMenuItemDivider";var qy=qu;var zu=class extends n{constructor(e){super(),this.title=new c(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new h(e.selectedCommand)),this.selected=!!this.endpoint}};r(zu,"MusicMultiSelectMenuItem");zu.type="MusicMultiSelectMenuItem";var ws=zu;var Xu=class extends n{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new c((i=e.title.musicMenuTitleRenderer)==null?void 0:i.primaryText)),this.options=l.parseArray(e.options,[ws,qy])}};r(Xu,"MusicMultiSelectMenu");Xu.type="MusicMultiSelectMenu";var zy=Xu;var Qu=class extends n{constructor(e){super(),this.title=new c(e.title),this.buttons=l.parseArray(e.buttons,T)}};r(Qu,"SimpleMenuHeader");Qu.type="SimpleMenuHeader";var Xy=Qu;var Ju=class extends n{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new h(e.buttonCommand)}};r(Ju,"MerchandiseItem");Ju.type="MerchandiseItem";var pI=Ju;var Zu=class extends n{constructor(e){super(),this.title=e.title,this.menu=l.parseItem(e.actionButton),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Zu,"MerchandiseShelf");Zu.type="MerchandiseShelf";var Qy=Zu;var ef=class extends n{constructor(e){super(),this.title=new c(e.title),this.contents=e.contents.map(i=>new c(i))}};r(ef,"MetadataRow");ef.type="MetadataRow";var uI=ef;var tf=class extends n{constructor(e){super(),this.rows=l.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};r(tf,"MetadataRowContainer");tf.type="MetadataRowContainer";var Jy=tf;var rf=class extends n{constructor(e){super(),this.content=new c(e.content),this.has_divider_line=e.hasDividerLine}};r(rf,"MetadataRowHeader");rf.type="MetadataRowHeader";var fI=rf;var sf=class extends n{constructor(e){super(),this.section_list=l.parseItem(e)}};r(sf,"MetadataScreen");sf.type="MetadataScreen";var mI=sf;var of=class extends n{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=y.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};r(of,"MicroformatData");of.type="MicroformatData";var Oi=of;var nf=class extends Yt{constructor(e){super(e)}};r(nf,"Mix");nf.type="Mix";var hI=nf;var af=class extends n{constructor(e){super(),this.title=new c(e.title),this.content=new c(e.content),this.button=l.parseItem(e.button,T)}};r(af,"ModalWithTitleAndButton");af.type="ModalWithTitleAndButton";var dI=af;var cf=class extends n{constructor(e){var s,o,a;super();let i=((s=e.thumbnailOverlays.find(p=>p.thumbnailOverlayTimeStatusRenderer))==null?void 0:s.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new c(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new c(e.descriptionSnippet)),this.top_metadata_items=new c(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new P(e.longBylineText,e.ownerBadges,(a=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:a.thumbnail),this.duration={text:e.lengthText?new c(e.lengthText).toString():new c(i).toString(),seconds:ve(e.lengthText?new c(e.lengthText).toString():new c(i).toString())},this.endpoint=new h(e.navigationEndpoint),this.badges=l.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=l.parseItem(e.menu,R)}};r(cf,"Movie");cf.type="Movie";var _I=cf;var lf=class extends n{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)==null?void 0:i.thumbnails.map(s=>new y(s)).sort((s,o)=>o.width-s.width)}};r(lf,"MovingThumbnail");lf.type="MovingThumbnail";var xI=lf;var pf=class extends n{constructor(e){super(),this.title=new c(e.title)}};r(pf,"MusicCardShelfHeaderBasic");pf.type="MusicCardShelfHeaderBasic";var Zy=pf;var uf=class extends n{constructor(e){super(),this.icon_type=e.icon.iconType,"accessibilityData"in e&&"accessibilityData"in e.accessibilityData&&(this.accessibility={accessibility_data:new ne(e.accessibilityData.accessibilityData)})}get label(){var e,i;return(i=(e=this.accessibility)==null?void 0:e.accessibility_data)==null?void 0:i.label}};r(uf,"MusicInlineBadge");uf.type="MusicInlineBadge";var Ts=uf;var ff=class extends n{constructor(e){super(),this.endpoint=new h(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,"accessibilityPlayData"in e&&"accessibilityData"in e.accessibilityPlayData&&(this.accessibility_play_data={accessibility_data:new ne(e.accessibilityPlayData.accessibilityData)}),"accessibilityPauseData"in e&&"accessibilityData"in e.accessibilityPauseData&&(this.accessibility_pause_data={accessibility_data:new ne(e.accessibilityPauseData.accessibilityData)}),this.icon_color=e.iconColor}get play_label(){var e,i;return(i=(e=this.accessibility_play_data)==null?void 0:e.accessibility_data)==null?void 0:i.label}get pause_label(){var e,i;return(i=(e=this.accessibility_pause_data)==null?void 0:e.accessibility_data)==null?void 0:i.label}};r(ff,"MusicPlayButton");ff.type="MusicPlayButton";var vs=ff;var mf=class extends n{constructor(e){super(),this.content=l.parseItem(e.content,vs),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};r(mf,"MusicItemThumbnailOverlay");mf.type="MusicItemThumbnailOverlay";var Ut=mf;var hf=class extends n{constructor(e){super(),this.contents=y.fromResponse(e.thumbnail)}};r(hf,"MusicThumbnail");hf.type="MusicThumbnail";var Ne=hf;var df=class extends n{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ne),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.buttons=l.parseArray(e.buttons,T),this.menu=l.parseItem(e.menu,R),this.on_tap=new h(e.onTap),this.header=l.parseItem(e.header,Zy),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=l.parseArray(e.subtitleBadges,Ts),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Ut),Reflect.has(e,"contents")&&(this.contents=l.parseArray(e.contents))}};r(df,"MusicCardShelf");df.type="MusicCardShelf";var yI=df;var _f=class extends n{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"strapline")&&(this.strapline=new c(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Ne)),Reflect.has(e,"moreContentButton")&&(this.more_content=l.parseItem(e.moreContentButton,T)),Reflect.has(e,"endIcons")&&(this.end_icons=l.parseArray(e.endIcons,yy))}};r(_f,"MusicCarouselShelfBasicHeader");_f.type="MusicCarouselShelfBasicHeader";var eb=_f;var xf=class extends n{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ne),this.overlay=l.parseItem(e.overlay,Ut),this.on_tap=new h(e.onTap),this.menu=l.parseItem(e.menu,R),this.subtitle=new c(e.subtitle),this.title=new c(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new c(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new c(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};r(xf,"MusicMultiRowListItem");xf.type="MusicMultiRowListItem";var tb=xf;var yf=class extends n{constructor(e){super(),this.button_text=new c(e.buttonText).toString(),this.endpoint=new h(e.clickCommand)}};r(yf,"MusicNavigationButton");yf.type="MusicNavigationButton";var ib=yf;var bf=class extends n{constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}};r(bf,"MusicResponsiveListItemFixedColumn");bf.type="musicResponsiveListItemFlexColumnRenderer";var rb=bf;var gf=class extends n{constructor(e){super(),this.title=new c(e.text),this.display_priority=e.displayPriority}};r(gf,"MusicResponsiveListItemFlexColumn");gf.type="MusicResponsiveListItemFlexColumn";var sb=gf;var rt,ew,wI,bI,gI,TI,vI,II,SI,kI,EI,wf=class extends n{constructor(e){var o,a,p,f,m,_;super(),rt.add(this),this.flex_columns=l.parseArray(e.flexColumns,sb),this.fixed_columns=l.parseArray(e.fixedColumns,rb);let i={video_id:((o=e==null?void 0:e.playlistItemData)==null?void 0:o.videoId)||null,playlist_set_video_id:((a=e==null?void 0:e.playlistItemData)==null?void 0:a.playlistSetVideoId)||null};Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint));let s=(_=(m=(f=(p=this.endpoint)==null?void 0:p.payload)==null?void 0:f.browseEndpointContextSupportedConfigs)==null?void 0:m.browseEndpointContextMusicConfig)==null?void 0:_.pageType;switch(s||this.flex_columns.find(b=>{var w,I,v,k;return((k=(v=(I=(w=b.title.endpoint)==null?void 0:w.payload)==null?void 0:I.browseEndpointContextSupportedConfigs)==null?void 0:v.browseEndpointContextMusicConfig)==null?void 0:k.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(s="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),s){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",u(this,rt,"m",kI).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",u(this,rt,"m",EI).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",u(this,rt,"m",TI).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",u(this,rt,"m",vI).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",u(this,rt,"m",II).call(this,i);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",u(this,rt,"m",SI).call(this);break;default:this.flex_columns[1]?u(this,rt,"m",wI).call(this,i):u(this,rt,"m",ew).call(this)}Reflect.has(e,"index")&&(this.index=new c(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=l.parseItem(e.thumbnail,Ne)),Reflect.has(e,"badges")&&(this.badges=l.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu,R)),Reflect.has(e,"overlay")&&(this.overlay=l.parseItem(e.overlay,Ut))}get thumbnails(){var e;return((e=this.thumbnail)==null?void 0:e.contents)||[]}};r(wf,"MusicResponsiveListItem");rt=new WeakSet,ew=r(function(){this.title=this.flex_columns[0].title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),wI=r(function(e){var s,o,a,p,f,m,_;switch((_=(m=(f=(p=(a=(o=(s=this.flex_columns.at(0))==null?void 0:s.title.runs)==null?void 0:o.at(0))==null?void 0:a.endpoint)==null?void 0:p.payload)==null?void 0:f.watchEndpointMusicSupportedConfigs)==null?void 0:m.watchEndpointMusicConfig)==null?void 0:_.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",u(this,rt,"m",gI).call(this,e);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",u(this,rt,"m",bI).call(this,e);break;default:u(this,rt,"m",ew).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),bI=r(function(e){var a,p,f,m,_,x,b,w,I,v,k,C,E,O,ee;this.id=e.video_id||((p=(a=this.endpoint)==null?void 0:a.payload)==null?void 0:p.videoId),this.title=this.flex_columns[0].title.toString();let i=((_=(m=(f=this.flex_columns.at(1))==null?void 0:f.title.runs)==null?void 0:m.find(V=>/^\d+$/.test(V.text.replace(/:/g,""))))==null?void 0:_.text)||((b=(x=this.fixed_columns[0])==null?void 0:x.title)==null?void 0:b.toString());i&&(this.duration={text:i,seconds:ve(i)});let s=((I=(w=this.flex_columns.at(1))==null?void 0:w.title.runs)==null?void 0:I.find(V=>Fe(V)&&V.endpoint&&V.endpoint.payload.browseId.startsWith("MPR")))||((k=(v=this.flex_columns.at(2))==null?void 0:v.title.runs)==null?void 0:k.find(V=>Fe(V)&&V.endpoint&&V.endpoint.payload.browseId.startsWith("MPR")));s&&Fe(s)&&(this.album={id:(E=(C=s.endpoint)==null?void 0:C.payload)==null?void 0:E.browseId,name:s.text,endpoint:s.endpoint});let o=(ee=(O=this.flex_columns.at(1))==null?void 0:O.title.runs)==null?void 0:ee.filter(V=>Fe(V)&&V.endpoint&&V.endpoint.payload.browseId.startsWith("UC"));o&&(this.artists=o.map(V=>{var se,ae;return{name:V.text,channel_id:Fe(V)?(ae=(se=V.endpoint)==null?void 0:se.payload)==null?void 0:ae.browseId:void 0,endpoint:Fe(V)?V.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),gI=r(function(e){var o,a,p,f,m,_,x,b,w,I;this.id=e.video_id,this.title=this.flex_columns[0].title.toString(),this.views=(p=(a=(o=this.flex_columns.at(1))==null?void 0:o.title.runs)==null?void 0:a.find(v=>v.text.match(/(.*?) views/)))==null?void 0:p.toString();let i=(m=(f=this.flex_columns.at(1))==null?void 0:f.title.runs)==null?void 0:m.filter(v=>Fe(v)&&v.endpoint&&v.endpoint.payload.browseId.startsWith("UC"));i&&(this.authors=i.map(v=>{var k,C;return{name:v.text,channel_id:Fe(v)?(C=(k=v.endpoint)==null?void 0:k.payload)==null?void 0:C.browseId:void 0,endpoint:Fe(v)?v.endpoint:void 0}}));let s=((x=(_=this.flex_columns[1].title.runs)==null?void 0:_.find(v=>/^\d+$/.test(v.text.replace(/:/g,""))))==null?void 0:x.text)||((I=(w=(b=this.fixed_columns[0])==null?void 0:b.title.runs)==null?void 0:w.find(v=>/^\d+$/.test(v.text.replace(/:/g,""))))==null?void 0:I.text);s&&(this.duration={text:s,seconds:ve(s)})},"_MusicResponsiveListItem_parseVideo"),TI=r(function(){var e,i,s,o,a,p;this.id=(i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.browseId,this.name=this.flex_columns[0].title.toString(),this.subtitle=(s=this.flex_columns.at(1))==null?void 0:s.title,this.subscribers=((p=(a=(o=this.subtitle)==null?void 0:o.runs)==null?void 0:a.find(f=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(f.text)))==null?void 0:p.text)||""},"_MusicResponsiveListItem_parseArtist"),vI=r(function(){var e,i,s,o;this.name=this.flex_columns[0].title.toString(),this.subtitle=(e=this.flex_columns.at(1))==null?void 0:e.title,this.song_count=((o=(s=(i=this.subtitle)==null?void 0:i.runs)==null?void 0:s.find(a=>/^\d+(,\d+)? songs?$/i.test(a.text)))==null?void 0:o.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),II=r(function(e){var i,s;this.id=e.video_id||((s=(i=this.endpoint)==null?void 0:i.payload)==null?void 0:s.videoId),this.title=this.flex_columns[0].title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),SI=r(function(){var e,i;this.id=(i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.browseId,this.title=this.flex_columns[0].title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),kI=r(function(){var i,s,o,a,p,f,m,_,x;this.id=(s=(i=this.endpoint)==null?void 0:i.payload)==null?void 0:s.browseId,this.title=this.flex_columns[0].title.toString();let e=(a=(o=this.flex_columns.at(1))==null?void 0:o.title.runs)==null?void 0:a.find(b=>Fe(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));e&&Fe(e)&&(this.author={name:e.text,channel_id:(f=(p=e.endpoint)==null?void 0:p.payload)==null?void 0:f.browseId,endpoint:e.endpoint}),this.year=(x=(_=(m=this.flex_columns.at(1))==null?void 0:m.title.runs)==null?void 0:_.find(b=>/^[12][0-9]{3}$/.test(b.text)))==null?void 0:x.text},"_MusicResponsiveListItem_parseAlbum"),EI=r(function(){var s,o,a,p,f,m,_,x;this.id=(o=(s=this.endpoint)==null?void 0:s.payload)==null?void 0:o.browseId,this.title=this.flex_columns[0].title.toString();let e=(p=(a=this.flex_columns.at(1))==null?void 0:a.title.runs)==null?void 0:p.find(b=>b.text.match(/\d+ (song|songs)/));this.item_count=e?e.text:void 0;let i=(m=(f=this.flex_columns.at(1))==null?void 0:f.title.runs)==null?void 0:m.find(b=>Fe(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));i&&Fe(i)&&(this.author={name:i.text,channel_id:(x=(_=i.endpoint)==null?void 0:_.payload)==null?void 0:x.browseId,endpoint:i.endpoint})},"_MusicResponsiveListItem_parsePlaylist");wf.type="MusicResponsiveListItem";var Vi=wf;var Tf=class extends n{constructor(e){var s,o,a,p,f,m,_,x,b,w,I,v,k,C,E,O,ee,V,se,ae,F,ie;switch(super(),this.title=new c(e.title),this.endpoint=new h(e.navigationEndpoint),this.id=((o=(s=this.endpoint)==null?void 0:s.payload)==null?void 0:o.browseId)||((p=(a=this.endpoint)==null?void 0:a.payload)==null?void 0:p.videoId),this.subtitle=new c(e.subtitle),this.badges=l.parse(e.subtitleBadges),(x=(_=(m=(f=this.endpoint)==null?void 0:f.payload)==null?void 0:m.browseEndpointContextSupportedConfigs)==null?void 0:_.browseEndpointContextMusicConfig)==null?void 0:x.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((w=(b=this.endpoint)==null?void 0:b.metadata)==null?void 0:w.api_url)==="/next"?this.item_type="endpoint":(I=this.subtitle.runs)!=null&&I[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((k=(v=this.subtitle.runs)==null?void 0:v.find(U=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(U.text)))==null?void 0:k.text)||"";else if(this.item_type=="playlist"){let U=(C=this.subtitle.runs)==null?void 0:C.find(Y=>Y.text.match(/\d+ songs|song/));this.item_count=U?U.text:null}else if(this.item_type=="album"){let U=(E=this.subtitle.runs)==null?void 0:E.filter(Y=>{var q,z;return(z=(q=Y.endpoint)==null?void 0:q.payload)==null?void 0:z.browseId.startsWith("UC")});U&&(this.artists=U.map(Y=>{var q,z;return{name:Y.text,channel_id:(z=(q=Y.endpoint)==null?void 0:q.payload)==null?void 0:z.browseId,endpoint:Y.endpoint}})),this.year=(O=this.subtitle.runs)==null?void 0:O.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((V=(ee=this==null?void 0:this.subtitle.runs)==null?void 0:ee.find(Y=>Y==null?void 0:Y.text.match(/(.*?) views/)))==null?void 0:V.text)||"N/A";let U=(se=this.subtitle.runs)==null?void 0:se.find(Y=>{var q,z,Ee;return(Ee=(z=(q=Y.endpoint)==null?void 0:q.payload)==null?void 0:z.browseId)==null?void 0:Ee.startsWith("UC")});U&&(this.author={name:U==null?void 0:U.text,channel_id:(F=(ae=U==null?void 0:U.endpoint)==null?void 0:ae.payload)==null?void 0:F.browseId,endpoint:U==null?void 0:U.endpoint})}else if(this.item_type=="song"){let U=(ie=this.subtitle.runs)==null?void 0:ie.filter(Y=>{var q,z;return(z=(q=Y.endpoint)==null?void 0:q.payload)==null?void 0:z.browseId.startsWith("UC")});U&&(this.artists=U.map(Y=>{var q,z;return{name:Y==null?void 0:Y.text,channel_id:(z=(q=Y==null?void 0:Y.endpoint)==null?void 0:q.payload)==null?void 0:z.browseId,endpoint:Y==null?void 0:Y.endpoint}}))}this.thumbnail=y.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=l.parseItem(e.thumbnailOverlay,Ut),this.menu=l.parseItem(e.menu,R)}};r(Tf,"MusicTwoRowItem");Tf.type="MusicTwoRowItem";var ob=Tf;var vf=class extends n{constructor(e){super(),this.header=l.parseItem(e.header,eb),this.contents=l.parseArray(e.contents,[ob,Vi,tb,ib]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};r(vf,"MusicCarouselShelf");vf.type="MusicCarouselShelf";var CI=vf;var If=class extends n{constructor(e){super(),this.description=new c(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new c(e.footer)}};r(If,"MusicDescriptionShelf");If.type="MusicDescriptionShelf";var nb=If;var Sf=class extends n{constructor(e){var s,o,a,p,f,m,_,x,b;super(),this.title=new c(e.title),this.description=new c(e.description),this.subtitle=new c(e.subtitle),this.second_subtitle=new c(e.secondSubtitle),this.year=((o=(s=this.subtitle.runs)==null?void 0:s.find(w=>/^[12][0-9]{3}$/.test(w.text)))==null?void 0:o.text)||"",this.song_count=((p=(a=this.second_subtitle.runs)==null?void 0:a[0])==null?void 0:p.text)||"",this.total_duration=((m=(f=this.second_subtitle.runs)==null?void 0:f[2])==null?void 0:m.text)||"",this.thumbnails=y.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=l.parseArray(e.subtitleBadges);let i=(_=this.subtitle.runs)==null?void 0:_.find(w=>{var I,v;return(v=(I=w==null?void 0:w.endpoint)==null?void 0:I.payload)==null?void 0:v.browseId.startsWith("UC")});i&&(this.author={name:i.text,channel_id:(b=(x=i.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId,endpoint:i.endpoint}),this.menu=l.parseItem(e.menu)}};r(Sf,"MusicDetailHeader");Sf.type="MusicDetailHeader";var PI=Sf;var kf=class extends n{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};r(kf,"MusicDownloadStateBadge");kf.type="MusicDownloadStateBadge";var NI=kf;var Ef=class extends n{constructor(e){super(),this.header=l.parseItem(e.header),this.edit_header=l.parseItem(e.editHeader),this.playlist_id=e.playlistId}};r(Ef,"MusicEditablePlaylistDetailHeader");Ef.type="MusicEditablePlaylistDetailHeader";var AI=Ef;var Cf=class extends n{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?l.parseItem(e,ry):null}};r(Cf,"MusicElementHeader");Cf.type="MusicElementHeader";var RI=Cf;var Pf=class extends n{constructor(e){super(),Reflect.has(e,"header")&&(this.header=l.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new c(e.title))}};r(Pf,"MusicHeader");Pf.type="MusicHeader";var MI=Pf;var Nf=class extends n{constructor(e){super(),this.title=new c(e.title),this.menu=l.parseItem(e.menu,R),this.more_button=l.parseItem(e.moreButton,re),this.play_button=l.parseItem(e.playButton,T),"shareEndpoint"in e&&(this.share_endpoint=new h(e.shareEndpoint)),this.start_radio_button=l.parseItem(e.startRadioButton,T),this.subscription_button=l.parseItem(e.subscriptionButton,he),this.description=new c(e.description),this.thumbnail=l.parseItem(e.thumbnail,Ne)}};r(Nf,"MusicImmersiveHeader");Nf.type="MusicImmersiveHeader";var LI=Nf;var Af=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new h(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};r(Af,"ActionButton");Af.type="ActionButton";var Rf=class{constructor(e){this.image=y.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new Af(i))}};r(Rf,"Panel");Rf.type="Panel";var Mf=class extends n{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new Rf(i))}};r(Mf,"MusicLargeCardItemCarousel");Mf.type="MusicLargeCardItemCarousel";var DI=Mf;var Lf=class extends n{constructor(e){super(),this.title=new c(e.title),this.edit_title=new c(e.editTitle),this.edit_description=new c(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new h(e.collaborationSettingsCommand),this.privacy_dropdown=l.parseItem(e.privacyDropdown,vi)}};r(Lf,"MusicPlaylistEditHeader");Lf.type="MusicPlaylistEditHeader";var BI=Lf;var Df=class extends n{constructor(e){var i,s,o;super(),this.playlist_id=e.playlistId,this.contents=l.parseArray(e.contents,[Vi,Q]),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||null}};r(Df,"MusicPlaylistShelf");Df.type="MusicPlaylistShelf";var OI=Df;var Bf=class extends n{constructor(e){var o,a,p,f,m;super(),this.title=new c(e.title),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new h(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new c(e.lengthText).toString(),seconds:ve(new c(e.lengthText).toString())};let i=(o=new c(e.longBylineText).runs)==null?void 0:o.find(_=>{var x,b,w;return(w=(b=(x=_.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId)==null?void 0:w.startsWith("MPR")}),s=(a=new c(e.longBylineText).runs)==null?void 0:a.filter(_=>{var x,b,w;return(w=(b=(x=_.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId)==null?void 0:w.startsWith("UC")});this.author=new c(e.shortBylineText).toString(),i&&(this.album={id:(f=(p=i.endpoint)==null?void 0:p.payload)==null?void 0:f.browseId,name:i.text,year:(m=new c(e.longBylineText).runs)==null?void 0:m.slice(-1)[0].text,endpoint:i.endpoint}),s&&(this.artists=s.map(_=>{var x,b;return{name:_.text,channel_id:(b=(x=_.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId,endpoint:_.endpoint}})),this.badges=l.parseArray(e.badges),this.menu=l.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};r(Bf,"PlaylistPanelVideo");Bf.type="PlaylistPanelVideo";var pi=Bf;var Of=class extends n{constructor(e){super(),this.primary=l.parseItem(e.primaryRenderer,pi),Reflect.has(e,"counterpart")&&(this.counterpart=W(e.counterpart.map(i=>l.parseItem(i.counterpartRenderer,pi))||[]))}};r(Of,"PlaylistPanelVideoWrapper");Of.type="PlaylistPanelVideoWrapper";var ab=Of;var Vf=class extends n{constructor(e){var i,s,o,a,p,f;super(),this.title=e.title,this.title_text=new c(e.titleText),this.contents=l.parseArray(e.contents,[ab,pi,M_]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextRadioContinuationData)==null?void 0:o.continuation)||((f=(p=(a=e.continuations)==null?void 0:a[0])==null?void 0:p.nextContinuationData)==null?void 0:f.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};r(Vf,"PlaylistPanel");Vf.type="PlaylistPanel";var cb=Vf;var Yf=class extends n{constructor(e){super(),this.content=l.parseItem(e.content,cb)}};r(Yf,"MusicQueue");Yf.type="MusicQueue";var lb=Yf;var Ff=class extends n{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,Ne),this.buttons=l.parseArray(e.buttons,[$r,re,vs,T,R]),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.strapline_text_one=new c(e.straplineTextOne),this.strapline_thumbnail=l.parseItem(e.straplineThumbnail,Ne),this.second_subtitle=new c(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=l.parseArray(e.subtitleBadge,Ts)),Reflect.has(e,"description")&&(this.description=l.parseItem(e.description,nb))}};r(Ff,"MusicResponsiveHeader");Ff.type="MusicResponsiveHeader";var VI=Ff;var Uf=class extends n{constructor(e){var i,s,o,a;super(),this.title=new c(e.title),this.contents=l.parseArray(e.contents,Vi),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new h(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((s=(i=e.continuations)==null?void 0:i[0].nextContinuationData)==null?void 0:s.continuation)||((a=(o=e.continuations)==null?void 0:o[0].reloadContinuationData)==null?void 0:a.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new c(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=l.parseItem(e.bottomButton,T)),Reflect.has(e,"subheaders")&&(this.subheaders=l.parseArray(e.subheaders))}};r(Uf,"MusicShelf");Uf.type="MusicShelf";var YI=Uf;var Wf=class extends n{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=l.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=l.parseArray(e.endItems))}};r(Wf,"MusicSideAlignedItem");Wf.type="MusicSideAlignedItem";var FI=Wf;var Hf=class extends n{constructor(e){super(),this.title=new c(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=l.parseItem(e.menu,zy)}};r(Hf,"MusicSortFilterButton");Hf.type="MusicSortFilterButton";var UI=Hf;var Gf=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Gf,"MusicTastebuilderShelfThumbnail");Gf.type="MusicTastebuilderShelfThumbnail";var pb=Gf;var jf=class extends n{constructor(e){super(),this.thumbnail=l.parseItem(e.thumbnail,pb),this.primary_text=new c(e.primaryText),this.secondary_text=new c(e.secondaryText),this.action_button=l.parseItem(e.actionButton,T),this.is_visible=e.isVisible}};r(jf,"MusicTasteBuilderShelf");jf.type="MusicTasteBuilderShelf";var WI=jf;var $f=class extends n{constructor(e){var i,s;super(),this.title=new c(e.title),this.thumbnail=e.thumbnail?y.fromResponse((i=e.thumbnail.musicThumbnailRenderer)==null?void 0:i.thumbnail):[],this.menu=l.parseItem(e.menu,R),this.foreground_thumbnail=e.foregroundThumbnail?y.fromResponse((s=e.foregroundThumbnail.musicThumbnailRenderer)==null?void 0:s.thumbnail):[]}};r($f,"MusicVisualHeader");$f.type="MusicVisualHeader";var HI=$f;var Kf=class extends n{constructor(e){super(),this.placeholder_text=new c(e.placeholderText),this.buttons=l.parseArray(e.buttons),Reflect.has(e,"logo")&&Reflect.has(e.logo,"iconType")&&(this.logo_type=e.logo.iconType)}};r(Kf,"MobileTopbar");Kf.type="MobileTopbar";var GI=Kf;var qf=class extends n{constructor(e){super(),this.items=l.parseArray(e.items)}};r(qf,"MultiPageMenuSection");qf.type="MultiPageMenuSection";var jI=qf;var zf=class extends n{constructor(e){super(),this.items=l.parseArray(e.items)}};r(zf,"PivotBar");zf.type="PivotBar";var $I=zf;var Xf=class extends n{constructor(e){super(),this.pivot_identifier=e.pivotIdentifier,this.endpoint=new h(e.navigationEndpoint),this.title=new Text(e.title),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new ne(e.accessibility.accessibilityData)}),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}get label(){var e,i;return(i=(e=this.accessibility)==null?void 0:e.accessibility_data)==null?void 0:i.label}};r(Xf,"PivotBarItem");Xf.type="PivotBarItem";var KI=Xf;var Qf=class extends n{constructor(e){super(),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.menu_renderer=l.parseItem(e.menuRenderer),this.target_id=e.targetId}};r(Qf,"TopbarMenuButton");Qf.type="TopbarMenuButton";var qI=Qf;var Jf=class extends n{constructor(e){super(),this.response_text=new c(e.responseText)}};r(Jf,"NotificationAction");Jf.type="NotificationAction";var zI=Jf;var Zf=class extends n{constructor(e){super(),this.list_id=e.listId,this.modal_title=e.modalTitle,this.select_button_label=e.selectButtonLabel}};r(Zf,"OpenOnePickAddVideoModalCommand");Zf.type="OpenOnePickAddVideoModalCommand";var XI=Zf;var em=class extends n{constructor(e){super(),this.title=l.parseItem(e.title,ty),this.image=l.parseItem(e.image,[Ai,ps]),this.animated_image=l.parseItem(e.animatedImage,Ai),this.hero_image=l.parseItem(e.heroImage,Ai),this.metadata=l.parseItem(e.metadata,cs),this.actions=l.parseItem(e.actions,qr),this.description=l.parseItem(e.description,Jx),this.attributation=l.parseItem(e.attributation,A_),this.banner=l.parseItem(e.banner,by)}};r(em,"PageHeaderView");em.type="PageHeaderView";var ub=em;var tm=class extends n{constructor(e){super(),this.page_title=e.pageTitle,this.content=l.parseItem(e.content,ub)}};r(tm,"PageHeader");tm.type="PageHeader";var Wt=tm;var im=class extends n{constructor(e){super(),this.header_text=new c(e.headerText).toString(),this.body_text=new c(e.bodyText).toString(),this.page_title=new c(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};r(im,"PageIntroduction");im.type="PageIntroduction";var fb=im;var rm=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new h(e.onClickCommand),this.content_description=new c(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new c(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};r(rm,"PivotButton");rm.type="PivotButton";var mb=rm;var sm=class extends n{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:y.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new h(e.featuredChannel.navigationEndpoint),subscribe_button:l.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};r(sm,"PlayerAnnotationsExpanded");sm.type="PlayerAnnotationsExpanded";var hb=sm;var om=class extends n{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new c(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new c(i.languageName)})))}};r(om,"PlayerCaptionsTracklist");om.type="PlayerCaptionsTracklist";var db=om;var nm=class extends n{constructor(e){super(),this.endpoint=new h(e.endpoint),this.enable_listen_first=e.enableListenFirst}};r(nm,"PlayerOverflow");nm.type="PlayerOverflow";var _b=nm;var am=class extends n{constructor(e){super(),this.overflow=l.parseItem(e.overflow,_b)}};r(am,"PlayerControlsOverlay");am.type="PlayerControlsOverlay";var QI=am;var cm=class extends n{constructor(e){super(),this.subreason=new c(e.subreason),this.reason=new c(e.reason),this.proceed_button=l.parseItem(e.proceedButton,T),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};r(cm,"PlayerErrorMessage");cm.type="PlayerErrorMessage";var JI=cm;var lm=class extends n{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};r(lm,"PlayerLegacyDesktopYpcOffer");lm.type="PlayerLegacyDesktopYpcOffer";var ZI=lm;var pm=class extends n{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};r(pm,"YpcTrailer");pm.type="YpcTrailer";var yr=pm;var um=class extends n{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=l.parseItem(e.ypcTrailer,yr)}};r(um,"PlayerLegacyDesktopYpcTrailer");um.type="PlayerLegacyDesktopYpcTrailer";var fm=um;var mm=class extends n{constructor(e){super();let[i,s,o,a,p]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(s,10),thumbnail_height:parseInt(o,10),columns:parseInt(a,10),rows:parseInt(p,10)}}};r(mm,"PlayerLiveStoryboardSpec");mm.type="PlayerLiveStoryboardSpec";var xb=mm;var hm=class extends n{constructor(e){var i,s;super(),this.title=new c(e.title),this.description=new c(e.description),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=(i=e.liveBroadcastDetails)!=null&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=(s=e.liveBroadcastDetails)!=null&&s.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};r(hm,"PlayerMicroformat");hm.type="PlayerMicroformat";var st=hm;var dm=class extends n{constructor(e){super(),this.title=new c(e.title),this.video_id=e.videoId,this.video_title=new c(e.videoTitle),this.short_view_count=new c(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new c(e.publishedTimeText),this.background=y.fromResponse(e.background),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.author=new P(e.byline),this.cancel_button=l.parseItem(e.cancelButton,T),this.next_button=l.parseItem(e.nextButton,T),this.close_button=l.parseItem(e.closeButton,T)}};r(dm,"PlayerOverlayAutoplay");dm.type="PlayerOverlayAutoplay";var yb=dm;var _m=class extends n{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle)}};r(_m,"PlayerOverlayVideoDetails");_m.type="PlayerOverlayVideoDetails";var bb=_m;var xm=class extends n{constructor(e){super(),this.results=l.parseArray(e.results,[cy,ay]),this.title=new c(e.title).toString()}};r(xm,"WatchNextEndScreen");xm.type="WatchNextEndScreen";var gb=xm;var ym=class extends n{constructor(e){super(),this.end_screen=l.parseItem(e.endScreen,gb),this.autoplay=l.parseItem(e.autoplay,yb),this.share_button=l.parseItem(e.shareButton,T),this.add_to_menu=l.parseItem(e.addToMenu,R),this.fullscreen_engagement=l.parseItem(e.fullscreenEngagement),this.actions=l.parseArray(e.actions),this.browser_media_session=l.parseItem(e.browserMediaSession),this.decorated_player_bar=l.parseItem(e.decoratedPlayerBarRenderer,Qx),this.video_details=l.parseItem(e.videoDetails,bb)}};r(ym,"PlayerOverlay");ym.type="PlayerOverlay";var wb=ym;var bm=class extends n{constructor(e){super(),this.id=e.playlistId,this.title=new c(e.title),this.subtitle=e.subtitle?new c(e.subtitle):null,this.stats=e.stats.map(i=>new c(i)),this.brief_stats=e.briefStats.map(i=>new c(i)),this.author=e.ownerText||e.ownerEndpoint?new P({...e.ownerText,navigationEndpoint:e.ownerEndpoint},e.ownerBadges,null):null,this.description=new c(e.descriptionText),this.num_videos=new c(e.numVideosText),this.view_count=new c(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=l.parseItem(e.saveButton),this.shuffle_play_button=l.parseItem(e.shufflePlayButton),this.menu=l.parseItem(e.moreActionsMenu),this.banner=l.parseItem(e.playlistHeaderBanner)}};r(bm,"PlaylistHeader");bm.type="PlaylistHeader";var Tb=bm;var gm=class extends n{constructor(e){super(),this.title=new c(e.playlistTitle),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new c(e.playlistVideoCount),this.channel_name=new c(e.channelName),this.endpoint=new h(e.action)}};r(gm,"PlaylistInfoCardContent");gm.type="PlaylistInfoCardContent";var eS=gm;var wm=class extends n{constructor(e){super(),this.title=e.title,this.description=e.description||null}};r(wm,"PlaylistMetadata");wm.type="PlaylistMetadata";var vb=wm;var Tm=class extends n{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Tm,"PlaylistSidebar");Tm.type="PlaylistSidebar";var tS=Tm;var vm=class extends n{constructor(e){super(),this.stats=e.stats.map(i=>new c(i)),this.thumbnail_renderer=l.parseItem(e.thumbnailRenderer),this.title=new c(e.title),this.menu=l.parseItem(e.menu),this.endpoint=new h(e.navigationEndpoint),this.description=new c(e.description)}};r(vm,"PlaylistSidebarPrimaryInfo");vm.type="PlaylistSidebarPrimaryInfo";var Ib=vm;var Im=class extends n{constructor(e){super(),this.owner=l.parseItem(e.videoOwner),this.button=l.parseItem(e.button)}};r(Im,"PlaylistSidebarSecondaryInfo");Im.type="PlaylistSidebarSecondaryInfo";var Sb=Im;var Sm=class extends n{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.text=new c(e.text)}};r(Sm,"PlaylistThumbnailOverlay");Sm.type="PlaylistThumbnailOverlay";var iS=Sm;var km=class extends n{constructor(e){super(),this.id=e.videoId,this.index=new c(e.index),this.title=new c(e.title),this.author=new P(e.shortBylineText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=l.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new h(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=l.parseItem(e.menu,R),this.video_info=new c(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new c(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Vt))==null?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Vt))==null?void 0:e.style)==="UPCOMING"}};r(km,"PlaylistVideo");km.type="PlaylistVideo";var Is=km;var Em=class extends n{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=l.parseArray(e.contents)}};r(Em,"PlaylistVideoList");Em.type="PlaylistVideoList";var kb=Em;var Cm=class extends n{constructor(e){super(),this.choices=e.choices.map(i=>({text:new c(i.text),select_endpoint:i.selectServiceEndpoint?new h(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new h(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new c(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new c(i.votePercentageIfSelected),image:i.image?y.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new c(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};r(Cm,"Poll");Cm.type="Poll";var rS=Cm;var Pm=class extends Ci{constructor(e){super(e)}};r(Pm,"Post");Pm.type="Post";var Ss=Pm;var Nm=class extends n{constructor(e){super(),this.images=l.parseArray(e.images,D_)}};r(Nm,"PostMultiImage");Nm.type="PostMultiImage";var sS=Nm;var Am=class extends n{constructor(e){super(),this.label=new c(e.label)}};r(Am,"PremiereTrailerBadge");Am.type="PremiereTrailerBadge";var oS=Am;var Rm=class extends n{constructor(e){super(),this.title=new c(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};r(Rm,"ProductListHeader");Rm.type="ProductListHeader";var nS=Rm;var Mm=class extends n{constructor(e){super(),this.title=new c(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new h(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=l.parseItem(e.viewButton,T)}};r(Mm,"ProductListItem");Mm.type="ProductListItem";var aS=Mm;var Lm=class extends n{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Lm,"ProfileColumn");Lm.type="ProfileColumn";var Eb=Lm;var Dm=class extends n{constructor(e){super(),this.items=l.parseArray(e.items)}get contents(){return this.items}};r(Dm,"ProfileColumnStats");Dm.type="ProfileColumnStats";var cS=Dm;var Bm=class extends n{constructor(e){super(),this.label=new c(e.label),this.value=new c(e.value)}};r(Bm,"ProfileColumnStatsEntry");Bm.type="ProfileColumnStatsEntry";var lS=Bm;var Om=class extends n{constructor(e){super(),this.title=new c(e.title),this.thumbnails=y.fromResponse(e.thumbnail)}};r(Om,"ProfileColumnUserInfo");Om.type="ProfileColumnUserInfo";var pS=Om;var Vm=class extends n{constructor(e){super(),this.choices=e.choices.map(i=>({text:new c(i.text),is_correct:i.isCorrect})),this.total_votes=new c(e.totalVotes)}};r(Vm,"Quiz");Vm.type="Quiz";var uS=Vm;var Ym=class extends n{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.avatars=e.avatars.map(i=>new y(i)),this.button=l.parseItem(e.button,T),this.surface=e.surface}};r(Ym,"RecognitionShelf");Ym.type="RecognitionShelf";var fS=Ym;var Fm=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new c(e.headline),this.thumbnails=y.fromResponse(e.thumbnail),this.views=new c(e.viewCountText),this.endpoint=new h(e.navigationEndpoint),"accessibility"in e&&"accessibilityData"in e.accessibility&&(this.accessibility={accessibility_data:new ne(e.accessibility.accessibilityData)})}get label(){var e,i;return(i=(e=this.accessibility)==null?void 0:e.accessibility_data)==null?void 0:i.label}};r(Fm,"ReelItem");Fm.type="ReelItem";var ks=Fm;var Um=class extends n{constructor(e){super(),this.reel_title_text=new c(e.reelTitleText),this.timestamp_text=new c(e.timestampText),this.channel_title_text=new c(e.channelTitleText),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.author=new P(e.channelNavigationEndpoint,void 0)}};r(Um,"ReelPlayerHeader");Um.type="ReelPlayerHeader";var Cb=Um;var Wm=class extends n{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,Kr),this.reel_player_header_supported_renderers=l.parseItem(e.reelPlayerHeaderSupportedRenderers,Cb),this.menu=l.parseItem(e.menu,R),this.next_item_button=l.parseItem(e.nextItemButton,T),this.prev_item_button=l.parseItem(e.prevItemButton,T),this.subscribe_button_renderer=l.parseItem(e.subscribeButtonRenderer,[T,he]),this.style=e.style,this.view_comments_button=l.parseItem(e.viewCommentsButton,T),this.share_button=l.parseItem(e.shareButton,T),this.pivot_button=l.parseItem(e.pivotButton,mb),this.info_panel=l.parseItem(e.infoPanel,wy)}};r(Wm,"ReelPlayerOverlay");Wm.type="ReelPlayerOverlay";var mS=Wm;var Hm=class extends n{constructor(e){super(),this.content=l.parseItem(e.content)}};r(Hm,"RelatedChipCloud");Hm.type="RelatedChipCloud";var Pb=Hm;var Gm=class extends n{constructor(e){super(),this.header=l.parseItem(e.header),this.contents=l.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};r(Gm,"RichGrid");Gm.type="RichGrid";var Ht=Gm;var jm=class extends n{constructor(e){super(),this.content=l.parseItem(e.content)}};r(jm,"RichItem");jm.type="RichItem";var hS=jm;var $m=class extends n{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};r($m,"RichListHeader");$m.type="RichListHeader";var dS=$m;var Km=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.call_to_action=new c(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new h(e.endpoint)}};r(Km,"RichMetadata");Km.type="RichMetadata";var qm=Km;var zm=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(zm,"RichMetadataRow");zm.type="RichMetadataRow";var Xm=zm;var Qm=class extends n{constructor(e){super(),this.content=l.parseItem(e.content),this.full_bleed=!!e.fullBleed,"targetId"in e&&(this.target_id=e.targetId)}};r(Qm,"RichSection");Qm.type="RichSection";var _S=Qm;var Jm=class extends n{constructor(e){super(),this.title=new c(e.title),this.contents=l.parseArray(e.contents),this.is_expanded=!!e.is_expanded,this.is_bottom_divider_hidden=!!e.isBottomDividerHidden,this.is_top_divider_hidden=!!e.isTopDividerHidden,"endpoint"in e&&(this.endpoint=new h(e.endpoint)),"subtitle"in e&&(this.subtitle=new c(e.subtitle)),"layoutSizing"in e&&(this.layout_sizing=e.layoutSizing),"icon"in e&&(this.icon_type=e.icon.iconType),this.menu=l.parseItem(e.menu),this.next_button=l.parseItem(e.nextButton),this.previous_button=l.parseItem(e.previousButton)}};r(Jm,"RichShelf");Jm.type="RichShelf";var Nb=Jm;var Zm=class extends n{constructor(e){super(),this.label=new c(e.label),this.endpoint=new h(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};r(Zm,"SearchFilter");Zm.type="SearchFilter";var Ab=Zm;var eh=class extends n{constructor(e){super(),this.title=new c(e.title),this.filters=l.parseArray(e.filters,Ab)}};r(eh,"SearchFilterGroup");eh.type="SearchFilterGroup";var Es=eh;var th=class extends n{constructor(e){super(),this.title=new c(e.title),this.groups=l.parseArray(e.groups,Es)}};r(th,"SearchFilterOptionsDialog");th.type="SearchFilterOptionsDialog";var xS=th;var ih=class extends n{constructor(e){super(),this.chip_bar=l.parseItem(e.chipBar,rs),this.search_filter_button=l.parseItem(e.searchFilterButton,T)}};r(ih,"SearchHeader");ih.type="SearchHeader";var Rb=ih;var rh=class extends n{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new c(e.title)),Reflect.has(e,"groups")&&(this.groups=l.parseArray(e.groups,Es)),Reflect.has(e,"button")&&(this.button=l.parseItem(e.button,re))}};r(rh,"SearchSubMenu");rh.type="SearchSubMenu";var Mb=rh;var sh=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents)}};r(sh,"SearchSuggestionsSection");sh.type="SearchSuggestionsSection";var yS=sh;var oh=class extends n{constructor(e){super(),this.header=l.parseItem(e.header),this.call_to_action=l.parseItem(e.callToAction),this.sections=l.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new c(e.collapsedLabel))}};r(oh,"UniversalWatchCard");oh.type="UniversalWatchCard";var Cs=oh;var nh=class extends n{constructor(e){super(),this.contents=l.parseArray(e.contents,[Cs])}};r(nh,"SecondarySearchContainer");nh.type="SecondarySearchContainer";var Lb=nh;var ah=class extends n{constructor(e){super(),this.like_button=l.parseItem(e.likeButton,[re,T]),this.dislike_button=l.parseItem(e.dislikeButton,[re,T])}};r(ah,"SegmentedLikeDislikeButton");ah.type="SegmentedLikeDislikeButton";var br=ah;var ch=class extends n{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new c(e.title)),Reflect.has(e,"summary")&&(this.summary=new c(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new h(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new h(e.disableServiceEndpoint)),this.item_id=e.itemId}};r(ch,"SettingBoolean");ch.type="SettingBoolean";var bS=ch;var lh=class extends n{constructor(e){super(),this.title=new c(e.title),this.help_text=new c(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};r(lh,"SettingsCheckbox");lh.type="SettingsCheckbox";var Db=lh;var ph=class extends n{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new h(e.enableServiceEndpoint),this.disable_endpoint=new h(e.disableServiceEndpoint)}};r(ph,"SettingsSwitch");ph.type="SettingsSwitch";var Ps=ph;var uh=class extends n{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"text")&&(this.text=new c(e.text).toString()),Reflect.has(e,"options")&&(this.options=l.parseArray(e.options,[Ps,vi,ls,Db,Ex]))}};r(uh,"SettingsOptions");uh.type="SettingsOptions";var Ns=uh;var fh=class extends n{constructor(e){super(),this.title=new c(e.title),this.items=l.parseArray(e.items,Bt)}get contents(){return this.items}};r(fh,"SettingsSidebar");fh.type="SettingsSidebar";var Bb=fh;var mh=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.content=new c(e.content),this.published=new c(e.publishedTimeText),this.menu=l.parseItem(e.actionMenu,R),this.original_post=l.parseItem(e.originalPost,[Ci,Ss]),this.id=e.postId,this.endpoint=new h(e.navigationEndpoint),this.expand_button=l.parseItem(e.expandButton,T),this.author=new P(e.displayName,void 0)}};r(mh,"SharedPost");mh.type="SharedPost";var Ob=mh;var hh=class extends n{constructor(e){super(),this.title=l.parseItem(e.title)}};r(hh,"SharePanelHeader");hh.type="SharePanelHeader";var Vb=hh;var dh=class extends n{constructor(e){super(),this.title=new c(e.title)}};r(dh,"SharePanelTitleV15");dh.type="SharePanelTitleV15";var gS=dh;var _h=class extends n{constructor(e){super(),Reflect.has(e,"serviceEndpoint")?this.endpoint=new h(e.serviceEndpoint):Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),this.service_name=e.serviceName,this.target_id=e.targetId,this.title=new c(e.title)}};r(_h,"ShareTarget");_h.type="ShareTarget";var Yb=_h;var xh=class extends n{constructor(e){super(),this.title=new c(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new h(e.endpoint)),this.content=l.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=l.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=l.parseItem(e.playAllButton,T)),Reflect.has(e,"subtitle")&&(this.subtitle=new c(e.subtitle))}};r(xh,"Shelf");xh.type="Shelf";var As=xh;var yh=class extends n{constructor(e){var i;super(),this.entity_id=e.entityId,this.accessibility_text=e.accessibilityText,this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new h(e.onTap),this.menu_on_tap=new h(e.menuOnTap),this.index_in_collection=e.indexInCollection,this.menu_on_tap_a11y_label=e.menuOnTapA11yLabel,this.overlay_metadata={primary_text:e.overlayMetadata.primaryText?c.fromAttributed(e.overlayMetadata.primaryText):void 0,secondary_text:e.overlayMetadata.secondaryText?c.fromAttributed(e.overlayMetadata.secondaryText):void 0},(i=e.inlinePlayerData)!=null&&i.onVisible&&(this.inline_player_data=new h(e.inlinePlayerData.onVisible)),e.badge&&(this.badge=l.parseItem(e.badge,Pi))}};r(yh,"ShortsLockupView");yh.type="ShortsLockupView";var Rs=yh;var bh=class extends n{constructor(e){super(),this.corrected_query=new c(e.correctedQuery),this.original_query=new c(e.originalQuery),this.corrected_query_endpoint=new h(e.correctedQueryEndpoint),this.original_query_endpoint=new h(e.originalQueryEndpoint),this.search_instead_for=new c(e.searchInsteadFor),this.showing_results_for=new c(e.showingResultsFor)}};r(bh,"ShowingResultsFor");bh.type="ShowingResultsFor";var wS=bh;var gh=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.title=new c(e.title),this.display_domain=new c(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new c(e.callToAction),this.endpoint=new h(e.command)}};r(gh,"SimpleCardContent");gh.type="SimpleCardContent";var TS=gh;var wh=class extends n{constructor(e){super(),this.message=new c(e.message),this.prominent=e.prominent}};r(wh,"SimpleCardTeaser");wh.type="SimpleCardTeaser";var vS=wh;var Th=class extends n{constructor(e){super(),this.lines=e.lines.map(i=>new c(i)),this.style=e.layoutStyle}};r(Th,"SimpleTextSection");Th.type="SimpleTextSection";var IS=Th;var vh=class extends n{constructor(e){super(),this.action_text=new c(e.actionText),this.nav_text=new c(e.navigationText),this.details=new c(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new h(e.navigationEndpoint)}};r(vh,"SingleActionEmergencySupport");vh.type="SingleActionEmergencySupport";var SS=vh;var Ih=class extends n{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new h(e.endpoint),this.content=l.parseItem(e.content,[le,lb,Ht])}};r(Ih,"Tab");Ih.type="Tab";var Ue=Ih;var Sh=class extends n{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ue)}};r(Sh,"SingleColumnBrowseResults");Sh.type="SingleColumnBrowseResults";var kS=Sh;var kh=class extends n{constructor(e){super(),this.contents=l.parse(e)}};r(kh,"SingleColumnMusicWatchNextResults");kh.type="SingleColumnMusicWatchNextResults";var ES=kh;var Eh=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.style=e.style}};r(Eh,"SingleHeroImage");Eh.type="SingleHeroImage";var CS=Eh;var Ch=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new c(e.title),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=l.parseItem(e.subscribeButton,he)}};r(Ch,"SlimOwner");Ch.type="SlimOwner";var PS=Ch;var Ph=class extends n{constructor(e){super(),this.title=new c(e.title),this.collapsed_subtitle=new c(e.collapsedSubtitle),this.expanded_subtitle=new c(e.expandedSubtitle),this.owner=l.parseItem(e.owner),this.description=new c(e.description),this.video_id=e.videoId,this.date=new c(e.dateText)}};r(Ph,"SlimVideoMetadata");Ph.type="SlimVideoMetadata";var NS=Ph;var Nh=class extends n{constructor(e){super(),this.start_at_option_label=new c(e.startAtOptionLabel)}};r(Nh,"StartAt");Nh.type="StartAt";var Fb=Nh;var Ah=class extends n{constructor(e){super(),this.contents=l.parse(e)}};r(Ah,"Tabbed");Ah.type="Tabbed";var AS=Ah;var Rh=class extends n{constructor(e){super(),this.tabs=l.parseArray(e.tabs,Ue)}};r(Rh,"TabbedSearchResults");Rh.type="TabbedSearchResults";var RS=Rh;var Mh=class extends n{constructor(e){super(),this.title=new c(e.title),this.style=e.style}};r(Mh,"TextHeader");Mh.type="TextHeader";var MS=Mh;var Lh=class extends n{constructor(e){super(),this.share_targets=l.parseArray(e.shareTargets,Yb)}};r(Lh,"ThirdPartyShareTargetSection");Lh.type="ThirdPartyShareTargetSection";var Ub=Lh;var Dh=class extends n{constructor(e){super(),this.landscape=y.fromResponse(e.landscape),this.portrait=y.fromResponse(e.portrait)}};r(Dh,"ThumbnailLandscapePortrait");Dh.type="ThumbnailLandscapePortrait";var LS=Dh;var Bh=class extends n{constructor(e){super(),this.text=new c(e.text).toString()}};r(Bh,"ThumbnailOverlayEndorsement");Bh.type="ThumbnailOverlayEndorsement";var DS=Bh;var Oh=class extends n{constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}};r(Oh,"ThumbnailOverlayHoverText");Oh.type="ThumbnailOverlayHoverText";var BS=Oh;var Vh=class extends n{constructor(e){super(),this.text=new c(e.text).toString(),this.icon_type=e.icon.iconType}};r(Vh,"ThumbnailOverlayInlineUnplayable");Vh.type="ThumbnailOverlayInlineUnplayable";var OS=Vh;var Yh=class extends n{constructor(e){super(),this.text=new c(e.text)}};r(Yh,"ThumbnailOverlayLoadingPreview");Yh.type="ThumbnailOverlayLoadingPreview";var VS=Yh;var Fh=class extends n{constructor(e){super(),this.text=new c(e.text).toString()}};r(Fh,"ThumbnailOverlayNowPlaying");Fh.type="ThumbnailOverlayNowPlaying";var YS=Fh;var Uh=class extends n{constructor(e){super(),this.hack=e.hack}};r(Uh,"ThumbnailOverlayPinking");Uh.type="ThumbnailOverlayPinking";var FS=Uh;var Wh=class extends n{constructor(e){super(),this.texts=e.texts.map(i=>new c(i))}};r(Wh,"ThumbnailOverlayPlaybackStatus");Wh.type="ThumbnailOverlayPlaybackStatus";var US=Wh;var Hh=class extends n{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};r(Hh,"ThumbnailOverlayResumePlayback");Hh.type="ThumbnailOverlayResumePlayback";var WS=Hh;var Gh=class extends n{constructor(e){super(),this.text=new c(e.text),this.icon_type=e.icon.iconType}};r(Gh,"ThumbnailOverlaySidePanel");Gh.type="ThumbnailOverlaySidePanel";var HS=Gh;var jh=class extends n{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},e.toggledServiceEndpoint&&(this.toggled_endpoint=new h(e.toggledServiceEndpoint)),e.untoggledServiceEndpoint&&(this.untoggled_endpoint=new h(e.untoggledServiceEndpoint))}};r(jh,"ThumbnailOverlayToggleButton");jh.type="ThumbnailOverlayToggleButton";var GS=jh;var $h=class extends n{constructor(e){super(),this.title=new c(e.title)}};r($h,"TitleAndButtonListHeader");$h.type="TitleAndButtonListHeader";var jS=$h;var Kh=class extends n{constructor(e){super(),this.text=new c(e.defaultText),this.toggled_text=new c(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new h(e.defaultServiceEndpoint),this.toggled_endpoint=new h(e.toggledServiceEndpoint)}};r(Kh,"ToggleMenuServiceItem");Kh.type="ToggleMenuServiceItem";var $S=Kh;var qh=class extends n{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new h(i)),accept:new h(e.promoConfig.acceptCommand),dismiss:new h(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new c(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};r(qh,"Tooltip");qh.type="Tooltip";var KS=qh;var zh=class extends n{constructor(e){var i;super(),this.title=new c(e.title),this.avatar=y.fromResponse((i=e.thumbnail)!=null?i:e.avatar),this.subtitle=new c(e.subtitle),this.subscribe_button=l.parseItem(e.subscribeButton,he),this.endpoint=new h(e.navigationEndpoint)}};r(zh,"TopicChannelDetails");zh.type="TopicChannelDetails";var qS=zh;var Xh=class extends n{constructor(e){super(),this.tabs=l.parseArray(e.tabs,[Ue,dr]),this.secondary_contents=l.parseItem(e.secondaryContents,[le,zr,Eb])}};r(Xh,"TwoColumnBrowseResults");Xh.type="TwoColumnBrowseResults";var Gt=Xh;var Qh=class extends n{constructor(e){super(),this.header=l.parseItem(e.header),this.primary_contents=l.parseItem(e.primaryContents,[Ht,le]),this.secondary_contents=l.parseItem(e.secondaryContents,[Lb]),"targetId"in e&&(this.target_id=e.targetId)}};r(Qh,"TwoColumnSearchResults");Qh.type="TwoColumnSearchResults";var Wb=Qh;var Hb,tw,Jh=class extends n{constructor(e){var o,a,p,f,m;super(),Hb.add(this),this.results=l.parseArray((o=e.results)==null?void 0:o.results.contents),this.secondary_results=l.parseArray((a=e.secondaryResults)==null?void 0:a.secondaryResults.results),this.conversation_bar=l.parseItem(e==null?void 0:e.conversationBar);let i=(p=e.playlist)==null?void 0:p.playlist;i&&(this.playlist={id:i.playlistId,title:i.title,author:(f=i.shortBylineText)!=null&&f.simpleText?new c(i.shortBylineText):new P(i.longBylineText),contents:l.parseArray(i.contents),current_index:i.currentIndex,is_infinite:!!i.isInfinite,menu:l.parseItem(i.menu,R)});let s=(m=e.autoplay)==null?void 0:m.autoplay;s&&(this.autoplay={sets:s.sets.map(_=>u(this,Hb,"m",tw).call(this,_))},s.modifiedSets&&(this.autoplay.modified_sets=s.modifiedSets.map(_=>u(this,Hb,"m",tw).call(this,_))),s.countDownSecs&&(this.autoplay.count_down_secs=s.countDownSecs))}};r(Jh,"TwoColumnWatchNextResults");Hb=new WeakSet,tw=r(function(e){let i={autoplay_video:new h(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new h(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Jh.type="TwoColumnWatchNextResults";var Gb=Jh;var Zh=class extends n{constructor(e){if(super(),e.contents){let i=e.contents.find(s=>s.thirdPartyNetworkSection);i&&(this.third_party_network_section={share_target_container:l.parseItem(i.thirdPartyNetworkSection.shareTargetContainer,Ub),copy_link_container:l.parseItem(i.thirdPartyNetworkSection.copyLinkContainer,ls),start_at_container:l.parseItem(i.thirdPartyNetworkSection.startAtContainer,Fb)})}this.header=l.parseItem(e.header,Vb),this.share_panel_version=e.sharePanelVersion,Reflect.has(e,"showLoadingSpinner")&&(this.show_loading_spinner=e.showLoadingSpinner)}};r(Zh,"UnifiedSharePanel");Zh.type="UnifiedSharePanel";var zS=Zh;var ed=class extends n{constructor(e){super(),this.message_title=new c(e.dialogMessageTitle),this.message_text=new c(e.dialogMessageText),this.action_button=l.parseItem(e.actionButton,T),this.dismiss_button=l.parseItem(e.dismissButton,T),this.is_visible=e.isVisible}};r(ed,"UpsellDialog");ed.type="UpsellDialog";var XS=ed;var td=class extends n{constructor(e){super(),this.items=l.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new c(e.collapsedStateButtonText)}get contents(){return this.items}};r(td,"VerticalList");td.type="VerticalList";var QS=td;var id=class extends n{constructor(e){super(),this.items=l.parseArray(e.items),this.view_all_text=new c(e.viewAllText),this.view_all_endpoint=new h(e.viewAllEndpoint)}get contents(){return this.items}};r(id,"VerticalWatchCardList");id.type="VerticalWatchCardList";var JS=id;var rd=class extends n{constructor(e){super(),this.title=new c(e.videoTitle),this.channel_name=new c(e.channelName),this.view_count=new c(e.viewCountText),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.duration=new c(e.lengthString),this.endpoint=new h(e.action)}};r(rd,"VideoInfoCardContent");rd.type="VideoInfoCardContent";var ZS=rd;var sd=class extends n{constructor(e){super(),this.carousel_titles=l.parse(e.carouselTitles,!0,Ix),this.carousel_items=l.parse(e.carouselItems,!0,vx)}};r(sd,"VideoMetadataCarouselView");sd.type="VideoMetadataCarouselView";var ek=sd;var od=class{constructor(e){this.text=new c(e.text),this.subscribed=e.isSubscribed,"subscriptionType"in e&&(this.subscription_type=e.subscriptionType)}};r(od,"SubscriptionButton");od.type="SubscriptionButton";var jb=od;var nd=class extends n{constructor(e){super(),"subscriptionButton"in e&&(this.subscription_button=new jb(e.subscriptionButton)),this.subscriber_count=new c(e.subscriberCountText),this.author=new P({...e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.thumbnail)}};r(nd,"VideoOwner");nd.type="VideoOwner";var Ms=nd;var ad=class extends n{constructor(e){super(),this.original_view_count=e.originalViewCount,this.short_view_count=new c(e.shortViewCount),this.extra_short_view_count=new c(e.extraShortViewCount),this.view_count=new c(e.viewCount)}};r(ad,"VideoViewCount");ad.type="VideoViewCount";var $b=ad;var cd=class extends n{constructor(e){super(),this.title=new c(e.title),"superTitleLink"in e&&(this.super_title_link=new c(e.superTitleLink)),"stationName"in e&&(this.station_name=new c(e.stationName)),this.view_count=l.parseItem(e.viewCount,$b),this.badges=l.parseArray(e.badges,$e),this.published=new c(e.dateText),this.relative_date=new c(e.relativeDateText),this.menu=l.parseItem(e.videoActions,R)}};r(cd,"VideoPrimaryInfo");cd.type="VideoPrimaryInfo";var Kb=cd;var ld=class extends n{constructor(e){super(),this.owner=l.parseItem(e.owner,Ms),this.description=new c(e.description),"attributedDescription"in e&&(this.description=c.fromAttributed(e.attributedDescription)),"descriptionPlaceholder"in e&&(this.description_placeholder=new c(e.descriptionPlaceholder)),this.subscribe_button=l.parseItem(e.subscribeButton,[he,T]),this.metadata=l.parseItem(e.metadataRowContainer,Jy),this.show_more_text=new c(e.showMoreText),this.show_less_text=new c(e.showLessText),this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};r(ld,"VideoSecondaryInfo");ld.type="VideoSecondaryInfo";var pd=ld;var ud=class extends n{constructor(e){super(),this.title=new c(e.title),this.subtitle=new c(e.subtitle),this.duration={text:new c(e.lengthText).toString(),seconds:ve(e.lengthText.simpleText)},this.style=e.style}};r(ud,"WatchCardCompactVideo");ud.type="WatchCardCompactVideo";var qb=ud;var fd=class extends n{constructor(e){var i;super(),this.endpoint=new h(e.navigationEndpoint),this.call_to_action_button=l.parseItem(e.callToActionButton),this.hero_image=l.parseItem(e.heroImage),this.label=((i=e.lengthText)==null?void 0:i.accessibility.accessibilityData.label)||""}};r(fd,"WatchCardHeroVideo");fd.type="WatchCardHeroVideo";var tk=fd;var md=class extends n{constructor(e){super(),this.title=new c(e.title),this.title_endpoint=new h(e.titleNavigationEndpoint),this.subtitle=new c(e.subtitle),this.author=new P(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};r(md,"WatchCardRichHeader");md.type="WatchCardRichHeader";var ik=md;var hd=class extends n{constructor(e){super(),this.lists=l.parseArray(e.lists)}};r(hd,"WatchCardSectionSequence");hd.type="WatchCardSectionSequence";var rk=hd;var dd=class extends Gt{constructor(e){super(e)}};r(dd,"WatchNextTabbedResults");dd.type="WatchNextTabbedResults";var sk=dd;var _d=class extends n{constructor(e){var i,s;super(),this.title=e.title,this.content=l.parseItem(e.content,le),this.endpoint=new h(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)==null?void 0:i.assetKey,background_color:(s=e.categoryAssets)==null?void 0:s.backgroundColor},this.category_type=e.categoryType}};r(_d,"AnchoredSection");_d.type="AnchoredSection";var zb=_d;var xd,yd=class extends n{constructor(e){super(),xd.set(this,void 0),this.child_display_name=new c(e.childDisplayName),this.child_account_description=new c(e.childAccountDescription),this.avatar=y.fromResponse(e.avatar),this.block_button=l.parseItem(e.blockButton,[re]),this.blocked_entity_key=e.blockedEntityKey}async blockChannel(){if(!u(this,xd,"f"))throw new g("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new g("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new g("This channel is already blocked.",{child_display_name:this.child_display_name});return await e.endpoint.call(u(this,xd,"f"),{parse:!1})}setActions(e){S(this,xd,e,"f")}};r(yd,"KidsBlocklistPickerItem");xd=new WeakMap;yd.type="KidsBlocklistPickerItem";var Xb=yd;var bd=class extends n{constructor(e){super(),this.title=new c(e.title),this.child_rows=l.parse(e.childRows,!0,[Xb]),this.done_button=l.parseItem(e.doneButton,[T]),this.successful_toast_action_message=new c(e.successfulToastActionMessage)}};r(bd,"KidsBlocklistPicker");bd.type="KidsBlocklistPicker";var ok=bd;var gd=class extends n{constructor(e){var i,s;super(),this.title=new c(e.title),this.category_assets={asset_key:(i=e.categoryAssets)==null?void 0:i.assetKey,background_color:(s=e.categoryAssets)==null?void 0:s.backgroundColor},this.category_type=e.categoryType,this.endpoint=new h(e.endpoint)}};r(gd,"KidsCategoryTab");gd.type="KidsCategoryTab";var Qb=gd;var wd=class extends n{constructor(e){super(),this.category_tabs=l.parseArray(e.categoryTabs,Qb),this.privacy_button=l.parseItem(e.privacyButtonRenderer,T)}};r(wd,"KidsCategoriesHeader");wd.type="kidsCategoriesHeader";var nk=wd;var Td=class extends n{constructor(e){super(),this.anchors=l.parseArray(e.anchors,zb)}};r(Td,"KidsHomeScreen");Td.type="kidsHomeScreen";var ak=Td;var cw={};Ze(cw,{camelToSnake:()=>gr,createRuntimeClass:()=>xk,generateRuntimeClass:()=>Id,generateTypescriptClass:()=>Zb,inferType:()=>Jb,introspect:()=>sw,isArrayType:()=>dk,isIgnoredKey:()=>_k,isMiscType:()=>hk,isRenderer:()=>rw,isRendererList:()=>mk,mergeKeyInfo:()=>vd,parse:()=>aw,toParser:()=>nw,toTypeDeclaration:()=>ow});var a1=new Set(["trackingParams","accessibility","accessibilityData"]),iw={};function gr(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}r(gr,"camelToSnake");function Jb(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=rw(e))return iw[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=mk(e)){for(let[o,a]of Object.entries(i))iw[o]=a;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=hk(t,e))||(i=dk(e)))return i}let s=typeof e;return s==="object"?{type:"object",keys:Object.entries(e).map(([o,a])=>[o,Jb(o,a)]),optional:!1}:{type:"primitive",typeof:[s],optional:!1}}r(Jb,"inferType");function mk(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(s=>rw(s))?Object.fromEntries(t.map(s=>{let o=Reflect.ownKeys(s)[0].toString();return[Ds(o),s[o]]})):!1}r(mk,"isRendererList");function hk(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new h(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new c(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}r(hk,"isMiscType");function rw(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let s=i[0].toString();if(s.endsWith("Renderer")||s.endsWith("Model"))return Ds(s)}return!1}r(rw,"isRenderer");function dk(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["never"],optional:!1},optional:!1};let e=t.map(a=>typeof a);if(!e.every(a=>a===e[0]))return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!1},optional:!1};let s=e[0];if(s!=="object")return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:[s],optional:!1},optional:!1};let o=[];for(let a=0;a<t.length;a++){let p=Object.entries(t[a]).map(([f,m])=>[f,Jb(f,m)]);if(a===0){o=p;continue}o=vd(o,p).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:o,optional:!1},optional:!1}}r(dk,"isArrayType");function c1(t){if(typeof t!="object"||t===null)throw new g("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!_k(i)).filter(i=>typeof i=="string").map(i=>{let s=Reflect.get(t,i),o=Jb(i,s);return[i,o]})}r(c1,"introspectKeysFirstPass");function l1(t){var p;let i=t.filter(([,f])=>{var m;return f.type!=="misc"||!(f.misc_type==="NavigationEndpoint"||f.misc_type==="Text")?!1:((m=f.endpoint)==null?void 0:m.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,f],[,m])=>f.type!=="misc"||m.type!=="misc"||f.misc_type!=="Text"||m.misc_type!=="Text"?0:m.text.length-f.text.length),s=new Set,o=i[0],a;if(o){s.add(o[0]);let m=t.map(([I])=>I).filter(I=>I.endsWith("Badges")||I==="badges"),x=(p=m.filter(I=>I.startsWith("owner")||I.startsWith("author"))[0])!=null?p:m[0],b=t.find(([I])=>I===x),w=b?b[1].type==="array"&&b[1].array_type==="renderer"&&Reflect.has(b[1].renderers,"MetadataBadge"):!1;w&&x&&s.add(x),a={type:"misc",misc_type:"Author",optional:!1,params:[o[0],w?x:void 0]}}return a&&t.push(["author",a]),t.filter(([f])=>!s.has(f))}r(l1,"introspectKeysSecondPass");function p1(t){let e=c1(t);return l1(e)}r(p1,"introspect2");function sw(t){let e=p1(t),i=new Map;for(let[,o]of e)if(o.type==="renderer"||o.type==="array"&&o.array_type==="renderer")for(let a of o.renderers){let p=iw[a];p&&i.set(a,p)}let s=Array.from(i).filter(([o])=>!Sd(o));return{key_info:e,unimplemented_dependencies:s}}r(sw,"introspect");function _k(t){return typeof t=="string"&&a1.has(t)}r(_k,"isIgnoredKey");function xk(t,e,i){var s,o;i({error_type:"class_not_found",classname:t,key_info:e});let a=(s=r(class extends n{static set key_info(p){S(this,s,new Map(p),"f",o)}static get key_info(){return[...u(this,s,"f",o).entries()]}constructor(p){super();let{key_info:f,unimplemented_dependencies:m}=sw(p),{resolved_key_info:_,changed_keys:x}=vd(a.key_info,f);x.length>0&&(a.key_info=_,i({error_type:"class_changed",classname:t,key_info:a.key_info,changed_keys:x}));for(let[w,I]of m)Id(w,I,i);for(let[w,I]of f){let v=gr(w);I.type==="misc"&&I.misc_type==="NavigationEndpoint"&&(v="endpoint"),Reflect.set(this,v,aw(w,I,p))}}},"_a"),rT(s,"node"),s.type=t,o={value:new Map},s);return a.key_info=e,Object.defineProperty(a,"name",{value:t,writable:!1}),a}r(xk,"createRuntimeClass");function Id(t,e,i){let{key_info:s,unimplemented_dependencies:o}=sw(e),a=xk(t,s,i);lw(t,a);for(let[p,f]of o)Id(p,f,i);return a}r(Id,"generateRuntimeClass");function Zb(t,e){let i=[],s=["super();"];for(let[o,a]of e){let p=gr(o);a.type==="misc"&&a.misc_type==="NavigationEndpoint"&&(p="endpoint"),i.push(`${p}${a.optional?"?":""}: ${ow(a)};`),s.push(`this.${p} = ${nw(o,a)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${s.join(`
    `)}
  }
}
`}r(Zb,"generateTypescriptClass");function ck(t,e){return`{
${e.map(([i,s])=>`${" ".repeat((t+2)*2)}${gr(i)}${s.optional?"?":""}: ${ow(s,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}r(ck,"toTypeDeclarationObject");function ow(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${ck(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return ck(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primitive":return t.typeof.join(" | ")}}r(ow,"toTypeDeclaration");function lk(t,e,i,s){let o=[...i,s];return`{
${e.map(([a,p])=>`${" ".repeat((t+2)*2)}${gr(a)}: ${nw(a,p,o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}r(lk,"toParserObject");function nw(t,e,i=["data"],s=1){let o="undefined";switch(e.type){case"renderer":o=`Parser.parseItem(${i.join(".")}.${t}, ${pk(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":o=`Parser.parse(${i.join(".")}.${t}, true, ${pk(e.renderers)})`;break;case"object":o=`${i.join(".")}.${t}.map((item: any) => (${lk(s,e.items.keys,[],"item")}))`;break;case"primitive":o=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":o=lk(s,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":o=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let a=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${a} : undefined`:a}default:o=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(o==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primitive":o=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${o} : undefined`:o}r(nw,"toParser");function pk(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}r(pk,"toParserValidTypes");function jt(t,e){let i=t;for(let s of e)i=i[s];return i}r(jt,"accessDataFromKeyPath");function uk(t,e){let i=t;for(let s of e)if(Reflect.has(i,s))i=i[s];else return!1;return!0}r(uk,"hasDataFromKeyPath");function fk(t,e,i,s,o){let a={},p=[...i,t];for(let[f,m]of s)a[f]=o?aw(f,m,e,p):void 0;return a}r(fk,"parseObject");function aw(t,e,i,s=["data"]){let o=!e.optional||uk({data:i},[...s,t]);switch(e.type){case"renderer":return o?$(jt({data:i},[...s,t]),e.renderers.map(a=>Ls(a))):void 0;case"array":switch(e.array_type){case"renderer":return o?We(jt({data:i},[...s,t]),!0,e.renderers.map(a=>Ls(a))):void 0;case"object":return o?jt({data:i},[...s,t]).map((a,p)=>fk(`${p}`,i,[...s,t],e.items.keys,o)):void 0;case"primitive":return o?jt({data:i},[...s,t]):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return fk(t,i,s,e.keys,o);case"misc":switch(e.misc_type){case"NavigationEndpoint":return o?new h(jt({data:i},[...s,t])):void 0;case"Text":return o?new c(jt({data:i},[...s,t])):void 0;case"Thumbnail":return o?y.fromResponse(jt({data:i},[...s,t])):void 0;case"Author":return!e.optional||uk({data:i},[...s,e.params[0]])?new P(jt({data:i},[...s,e.params[0]]),e.params[1]?jt({data:i},[...s,e.params[1]]):void 0):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"primitive":return jt({data:i},[...s,t])}}r(aw,"parse");function vd(t,e){let i=new Map,s=new Set(t.map(([w])=>w)),o=new Set(e.map(([w])=>w)),a=e.filter(([w])=>!s.has(w)),p=t.filter(([w])=>!o.has(w)),f=t.filter(([w])=>o.has(w)),m=new Map(e);for(let[w,I]of f){let v=m.get(w);if(!!v){if(I.type!==v.type){i.set(w,{type:"primitive",typeof:["unknown"],optional:!0});continue}switch(I.type){case"object":{if(v.type!=="object")continue;let{resolved_key_info:k}=vd(I.keys,v.keys),C={type:"object",keys:k,optional:I.optional||v.optional};JSON.stringify(C)!==JSON.stringify(I)&&i.set(w,C)}break;case"renderer":{if(v.type!=="renderer")continue;let k={...I.renderers,...v.renderers},C=I.optional||v.optional,E={type:"renderer",renderers:k,optional:C};JSON.stringify({...E,renderers:Object.keys(E.renderers)})!==JSON.stringify({...I,renderers:Object.keys(I.renderers)})&&i.set(w,E)}break;case"array":{if(v.type!=="array")continue;switch(I.array_type){case"renderer":{if(v.array_type!=="renderer"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let k={...I.renderers,...v.renderers},C=I.optional||v.optional,E={type:"array",array_type:"renderer",renderers:k,optional:C};JSON.stringify({...E,renderers:Object.keys(E.renderers)})!==JSON.stringify({...I,renderers:Object.keys(I.renderers)})&&i.set(w,E)}break;case"object":{if(v.array_type==="primitive"&&v.items.typeof.length==1&&v.items.typeof[0]==="never")continue;if(v.array_type!=="object"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:k}=vd(I.items.keys,v.items.keys),C={type:"array",array_type:"object",items:{type:"object",keys:k,optional:I.items.optional||v.items.optional},optional:I.optional||v.optional};JSON.stringify(C)!==JSON.stringify(I)&&i.set(w,C)}break;case"primitive":{if(I.items.typeof.includes("never")&&v.array_type==="object"){i.set(w,v);continue}if(v.array_type!=="primitive"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let k=new Set([...v.items.typeof,...I.items.typeof]);k.size>1&&k.has("never")&&k.delete("never");let C={type:"array",array_type:"primitive",items:{type:"primitive",typeof:Array.from(k),optional:I.items.optional||v.items.optional},optional:I.optional||v.optional};JSON.stringify(C)!==JSON.stringify(I)&&i.set(w,C)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}break}case"misc":{if(v.type!=="misc")continue;switch(I.misc_type!==v.misc_type&&i.set(w,{type:"primitive",typeof:["unknown"],optional:!0}),I.misc_type){case"Author":{if(v.misc_type!=="Author")break;let k=I.params[1]||v.params[1],C=I.optional||v.optional,E={type:"misc",misc_type:"Author",optional:C,params:[v.params[0],k]};JSON.stringify(E)!==JSON.stringify(I)&&i.set(w,E)}break}}break;case"primitive":{if(v.type!=="primitive")continue;let k={type:"primitive",typeof:Array.from(new Set([...v.typeof,...I.typeof])),optional:I.optional||v.optional};JSON.stringify(k)!==JSON.stringify(I)&&i.set(w,k)}break}}}for(let[w,I]of a)i.set(w,{...I,optional:!0});for(let[w,I]of p)i.set(w,{...I,optional:!0});let _=t.filter(([w])=>!i.has(w));return{resolved_key_info:[...new Map([..._,...i]).entries()],changed_keys:[...i.entries()]}}r(vd,"mergeKeyInfo");var Bs=class extends n{constructor(e){var i,s,o;super(),this.contents=Me(e.contents),Array.isArray(e.continuations)&&(this.continuation=(o=(s=(i=e.continuations)==null?void 0:i.at(0))==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)}};r(Bs,"ItemSectionContinuation");Bs.type="itemSectionContinuation";var Yi=class extends n{constructor(e){super(),this.endpoint=new h(e.endpoint)}};r(Yi,"NavigateAction");Yi.type="navigateAction";var Os=class extends n{constructor(e){super(),this.miniplayer_command=new h(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};r(Os,"ShowMiniplayerCommand");Os.type="showMiniplayerCommand";var Le=class extends n{constructor(e){super(),this.target_id=e.targetId,this.contents=We(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};r(Le,"ReloadContinuationItemsCommand");Le.type="reloadContinuationItemsCommand";var Vs=class extends n{constructor(e){var i,s,o,a,p,f;super(),this.contents=We(e.contents,!0),this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||((f=(p=(a=e.continuations)==null?void 0:a[0])==null?void 0:p.reloadContinuationData)==null?void 0:f.continuation)||null}};r(Vs,"SectionListContinuation");Vs.type="sectionListContinuation";var Ys=class extends n{constructor(e){var i;super(),this.contents=We(e.contents,!0),this.continuation=((i=e.continuations)==null?void 0:i[0].nextContinuationData.continuation)||null}};r(Ys,"MusicPlaylistShelfContinuation");Ys.type="musicPlaylistShelfContinuation";var Fs=class extends n{constructor(e){var i,s,o,a;super(),this.contents=Me(e.contents),this.continuation=((s=(i=e.continuations)==null?void 0:i[0].nextContinuationData)==null?void 0:s.continuation)||((a=(o=e.continuations)==null?void 0:o[0].reloadContinuationData)==null?void 0:a.continuation)||null}};r(Fs,"MusicShelfContinuation");Fs.type="musicShelfContinuation";var Us=class extends n{constructor(e){var i;super(),this.items=We(e.items,!0),this.continuation=((i=e.continuations)==null?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};r(Us,"GridContinuation");Us.type="gridContinuation";var Ws=class extends n{constructor(e){var i,s,o,a,p,f;super(),this.contents=Me(e.contents),this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||((f=(p=(a=e.continuations)==null?void 0:a[0])==null?void 0:p.nextRadioContinuationData)==null?void 0:f.continuation)||null}};r(Ws,"PlaylistPanelContinuation");Ws.type="playlistPanelContinuation";var wr=class extends n{constructor(e){var i,s,o;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)==null?void 0:i.timeoutMs,this.time_until_last_message_ms=(s=e.continuation)==null?void 0:s.timeUntilLastMessageMsec,this.token=(o=e.continuation)==null?void 0:o.continuation}};r(wr,"Continuation");wr.type="continuation";var Fi=class extends n{constructor(e){var o,a,p,f,m,_,x,b;super(),this.actions=We((o=e.actions)==null?void 0:o.map(w=>(delete w.clickTrackingParams,w)),!0)||W([]),this.action_panel=$(e.actionPanel),this.item_list=$(e.itemList,Wy),this.header=$(e.header,Uy),this.participants_list=$(e.participantsList,Gy),this.popout_message=$(e.popoutMessage,Ft),this.emojis=((a=e.emojis)==null?void 0:a.map(w=>({emoji_id:w.emojiId,shortcuts:w.shortcuts,search_terms:w.searchTerms,image:y.fromResponse(w.image),is_custom_emoji:w.isCustomEmoji})))||[];let i,s;(p=e.continuations)!=null&&p[0].timedContinuationData?(s="timed",i=(f=e.continuations)==null?void 0:f[0].timedContinuationData):(m=e.continuations)!=null&&m[0].invalidationContinuationData?(s="invalidation",i=(_=e.continuations)==null?void 0:_[0].invalidationContinuationData):(x=e.continuations)!=null&&x[0].liveChatReplayContinuationData&&(s="replay",i=(b=e.continuations)==null?void 0:b[0].liveChatReplayContinuationData),this.continuation=new wr({continuation:i,type:s}),this.viewer_name=e.viewerName}};r(Fi,"LiveChatContinuation");Fi.type="liveChatContinuation";var ui=class extends n{constructor(e){super(),this.request=e.request,this.token=e.token}};r(ui,"ContinuationCommand");ui.type="ContinuationCommand";function u1(){return{key:void 0,value:void 0}}r(u1,"createBaseKeyValuePair");var yk={encode(t,e=new Te){return t.key!==void 0&&e.uint32(10).string(t.key),t.value!==void 0&&e.uint32(18).string(t.value),e},decode(t,e){let i=t instanceof J?t:new J(t),s=e===void 0?i.len:i.pos+e,o=u1();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==10)break;o.key=i.string();continue;case 2:if(a!==18)break;o.value=i.string();continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};function f1(){return{xtags:[]}}r(f1,"createBaseFormatXTags");var bk={encode(t,e=new Te){for(let i of t.xtags)yk.encode(i,e.uint32(10).fork()).join();return e},decode(t,e){let i=t instanceof J?t:new J(t),s=e===void 0?i.len:i.pos+e,o=f1();for(;i.pos<s;){let a=i.uint32();switch(a>>>3){case 1:if(a!==10)break;o.xtags.push(yk.decode(i,i.uint32()));continue}if((a&7)===4||a===0)break;i.skip(a&7)}return o}};var eg,tg=class{constructor(e,i){var s,o,a,p,f,m,_;if(eg.set(this,void 0),i&&S(this,eg,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=(s=e.stereoLayout)==null?void 0:s.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.last_modified_ms=e.lastModified,Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=(o=e.spatialAudioType)==null?void 0:o.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:(a=e.colorInfo.primaries)==null?void 0:a.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(p=e.colorInfo.transferCharacteristics)==null?void 0:p.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(f=e.colorInfo.matrixCoefficients)==null?void 0:f.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let x=this.xtags?bk.decode(xo(decodeURIComponent(this.xtags).replace(/-/g,"+").replace(/_/g,"/"))).xtags:[];if(this.language=((m=x.find(b=>b.key==="lang"))==null?void 0:m.value)||null,this.has_audio){this.is_drc=!!e.isDrc||x.some(w=>w.key==="drc"&&w.value==="1");let b=(_=x.find(w=>w.key==="acont"))==null?void 0:_.value;this.is_dubbed=b==="dubbed",this.is_descriptive=b==="descriptive",this.is_secondary=b==="secondary",this.is_auto_dubbed=b==="dubbed-auto",this.is_original=b==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_auto_dubbed&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}async decipher(e){return e?e.decipher(this.url,this.signature_cipher,this.cipher,u(this,eg,"f")):this.url||""}};r(tg,"Format");eg=new WeakMap;var ig=tg;var Ui=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=y.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};r(Ui,"VideoDetails");var Tr="Parser",m1=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","PromotedSparklesWeb","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),mw=new Map(Object.entries(xr)),gk=new Map,vr=null,fi=r(({classname:t,...e})=>{switch(e.error_type){case"parse":e.error instanceof Error&&L.warn(Tr,new g(`Something went wrong at ${t}!
This is a bug, please report it at ${M.shim.info.bugs_url}`,{stack:e.error.stack,classdata:JSON.stringify(e.classdata,null,2)}));break;case"typecheck":L.warn(Tr,new et(`Type mismatch, got ${t} expected ${Array.isArray(e.expected)?e.expected.join(" | "):e.expected}.`,e.classdata));break;case"mutation_data_missing":L.warn(Tr,new g(`Mutation data required for processing ${t}, but none found.
This is a bug, please report it at ${M.shim.info.bugs_url}`));break;case"mutation_data_invalid":L.warn(Tr,new g(`Mutation data missing or invalid for ${e.failed} out of ${e.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${e.titles.join(", ")}.
This is a bug, please report it at ${M.shim.info.bugs_url}`));break;case"class_not_found":L.warn(Tr,new g(`${t} not found!
This is a bug, want to help us fix it? Follow the instructions at ${M.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${M.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${Zb(t,e.key_info)}`));break;case"class_changed":L.warn(Tr,`${t} changed!
The following keys where altered: ${e.changed_keys.map(([i])=>gr(i)).join(", ")}
The class has changed to:
${Zb(t,e.key_info)}`);break;default:L.warn(Tr,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function h1(t){fi=t}r(h1,"setParserErrorHandler");function $t(){vr=null}r($t,"_clearMemo");function Kt(){vr=new gi}r(Kt,"_createMemo");function d1(t,e){if(!vr)return;let i=vr.get(t);if(!i)return vr.set(t,[e]);i.push(e)}r(d1,"_addToMemo");function qt(){if(!vr)throw new Error("Parser#getMemo() called before Parser#createMemo()");return vr}r(qt,"_getMemo");function hw(t){return m1.has(t)}r(hw,"shouldIgnore");function Ds(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}r(Ds,"sanitizeClassName");function Ls(t){let e=mw.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}r(Ls,"getParserByName");function Sd(t){return mw.has(t)}r(Sd,"hasParser");function lw(t,e){mw.set(t,e),gk.set(t,e)}r(lw,"addRuntimeParser");function _1(){return Object.fromEntries(gk)}r(_1,"getDynamicParsers");function pw(t){var nt,at,po,ge,zd,jw,$w,Kw,qw,zw,Xw,Qw,Jw,Zw,eT,tT;let e={};Kt();let i=We(t.contents),s=qt();i&&(e.contents=i,e.contents_memo=s),$t(),Kt();let o=t.onResponseReceivedActions?rg(t.onResponseReceivedActions):null,a=qt();o&&(e.on_response_received_actions=o,e.on_response_received_actions_memo=a),$t(),Kt();let p=t.onResponseReceivedEndpoints?rg(t.onResponseReceivedEndpoints):null,f=qt();p&&(e.on_response_received_endpoints=p,e.on_response_received_endpoints_memo=f),$t(),Kt();let m=t.onResponseReceivedCommands?rg(t.onResponseReceivedCommands):null,_=qt();m&&(e.on_response_received_commands=m,e.on_response_received_commands_memo=_),$t(),Kt();let x=t.continuationContents?uw(t.continuationContents):null,b=qt();x&&(e.continuation_contents=x,e.continuation_contents_memo=b),$t(),Kt();let w=t.actions?vk(t.actions):null,I=qt();w&&(e.actions=w,e.actions_memo=I),$t(),Kt();let v=t.liveChatItemContextMenuSupportedRenderers?$(t.liveChatItemContextMenuSupportedRenderers):null,k=qt();v&&(e.live_chat_item_context_menu_supported_renderers=v,e.live_chat_item_context_menu_supported_renderers_memo=k),$t(),Kt();let C=t.header?We(t.header):null,E=qt();C&&(e.header=C,e.header_memo=E),$t(),Kt();let O=t.sidebar?$(t.sidebar):null,ee=qt();O&&(e.sidebar=O,e.sidebar_memo=ee),$t(),Kt();let V=We(t.items);V&&(e.items=V,e.items_memo=qt()),$t(),Ik(s,(at=(nt=t.frameworkUpdates)==null?void 0:nt.entityBatchUpdate)==null?void 0:at.mutations),f&&Sk(f,(ge=(po=t.frameworkUpdates)==null?void 0:po.entityBatchUpdate)==null?void 0:ge.mutations);let se=t.continuation?Tk(t.continuation):null;se&&(e.continuation=se);let ae=t.continuationEndpoint?uw(t.continuationEndpoint):null;ae&&(e.continuation_endpoint=ae);let F=We(t.metadata);F&&(e.metadata=F);let ie=$(t.microformat);ie&&(e.microformat=ie);let U=$(t.overlay);U&&(e.overlay=U);let Y=Me(t.alerts,[Gr,P_]);Y.length&&(e.alerts=Y);let q=t.refinements;q&&(e.refinements=q);let z=t.estimatedResults?parseInt(t.estimatedResults):null;z&&(e.estimated_results=z);let Ee=We(t.playerOverlays);Ee&&(e.player_overlays=Ee);let Ce=$(t.background,Ne);Ce&&(e.background=Ce);let oe=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;oe&&(e.playback_tracking=oe);let ot=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playability:$(t.playabilityStatus.audioOnlyPlayability,R_),error_screen:$(t.playabilityStatus.errorScreen)}:null;if(ot&&(e.playability_status=ot),t.streamingData){let Fr=new Map;e.streaming_data={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:fw(t.streamingData.formats,Fr),adaptive_formats:fw(t.streamingData.adaptiveFormats,Fr),dash_manifest_url:t.streamingData.dashManifestUrl,hls_manifest_url:t.streamingData.hlsManifestUrl,server_abr_streaming_url:t.streamingData.serverAbrStreamingUrl}}t.playerConfig&&(e.player_config={audio_config:{loudness_db:(zd=t.playerConfig.audioConfig)==null?void 0:zd.loudnessDb,perceptual_loudness_db:(jw=t.playerConfig.audioConfig)==null?void 0:jw.perceptualLoudnessDb,enable_per_format_loudness:($w=t.playerConfig.audioConfig)==null?void 0:$w.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((Kw=t.playerConfig.streamSelectionConfig)==null?void 0:Kw.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((zw=(qw=t.playerConfig.mediaCommonConfig)==null?void 0:qw.dynamicReadaheadConfig)==null?void 0:zw.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((Qw=(Xw=t.playerConfig.mediaCommonConfig)==null?void 0:Xw.dynamicReadaheadConfig)==null?void 0:Qw.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((Zw=(Jw=t.playerConfig.mediaCommonConfig)==null?void 0:Jw.dynamicReadaheadConfig)==null?void 0:Zw.readAheadGrowthRateMs)||0},media_ustreamer_request_config:{video_playback_ustreamer_config:(tT=(eT=t.playerConfig.mediaCommonConfig)==null?void 0:eT.mediaUstreamerRequestConfig)==null?void 0:tT.videoPlaybackUstreamerConfig}}});let _e=t.currentVideoEndpoint?new h(t.currentVideoEndpoint):null;_e&&(e.current_video_endpoint=_e);let Rt=t.endpoint?new h(t.endpoint):null;Rt&&(e.endpoint=Rt);let Mt=$(t.captions,db);Mt&&(e.captions=Mt);let xt=t.videoDetails?new Ui(t.videoDetails):null;xt&&(e.video_details=xt);let ue=Me(t.annotations,hb);ue.length&&(e.annotations=ue);let Je=$(t.storyboards,[sr,xb]);Je&&(e.storyboards=Je);let lo=$(t.endscreen,ny);lo&&(e.endscreen=lo);let fe=$(t.cards,gx);fe&&(e.cards=fe);let Be=Me(t.engagementPanels,Li);if(Be.length&&(e.engagement_panels=Be),t.bgChallenge){let Fr={private_do_not_access_or_else_trusted_resource_url_wrapped_value:t.bgChallenge.interpreterUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue,private_do_not_access_or_else_safe_script_wrapped_value:t.bgChallenge.interpreterUrl.privateDoNotAccessOrElseSafeScriptWrappedValue};e.bg_challenge={interpreter_url:Fr,interpreter_hash:t.bgChallenge.interpreterHash,program:t.bgChallenge.program,global_name:t.bgChallenge.globalName,client_experiments_state_blob:t.bgChallenge.clientExperimentsStateBlob}}return t.challenge&&(e.challenge=t.challenge),t.playerResponse&&(e.player_response=pw(t.playerResponse)),t.watchNextResponse&&(e.watch_next_response=pw(t.watchNextResponse)),t.cpnInfo&&(e.cpn_info={cpn:t.cpnInfo.cpn,cpn_source:t.cpnInfo.cpnSource}),t.entries&&(e.entries=t.entries.map(Fr=>new h(Fr))),t.targetId&&(e.target_id=t.targetId),e}r(pw,"parseResponse");function $(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let s=Ds(i[0]);if(!hw(s))try{let a=Sd(s)?Ls(s):Id(s,t[i[0]],fi);if(e){if(Array.isArray(e)){if(!e.some(f=>f.type===a.type))return fi({classdata:t[i[0]],classname:s,error_type:"typecheck",expected:e.map(f=>f.type)}),null}else if(a.type!==e.type)return fi({classdata:t[i[0]],classname:s,error_type:"typecheck",expected:e.type}),null}let p=new a(t[i[0]]);return d1(s,p),p}catch(o){return fi({classname:s,classdata:t[i[0]],error:o,error_type:"parse"}),null}return null}r($,"parseItem");function Me(t,e){if(Array.isArray(t)){let i=[];for(let s of t){let o=$(s,e);o&&i.push(o)}return W(i)}else if(!t)return W([]);throw new et("Expected array but got a single item")}r(Me,"parseArray");function We(t,e,i){if(!t)return null;if(Array.isArray(t)){let s=[];for(let a of t){let p=$(a,i);p&&s.push(p)}let o=W(s);return e?o:new Dt(o)}else if(e)throw new et("Expected array but got a single item");return new Dt($(t,i))}r(We,"parse");var x1=/Command$/,y1=/Endpoint$/,b1=/Action$/;function wk(t){let e=[];try{e=Object.keys(t)}catch{}for(let i of e){let s=t[i];if(x1.test(i)||y1.test(i)||b1.test(i)){let o=Ds(i);if(hw(o))return;try{if(Sd(o))return new(Ls(o))(s)}catch(a){fi({error:a,classname:o,classdata:s,error_type:"parse"})}}}}r(wk,"parseCommand");function g1(t){if(Array.isArray(t)){let e=[];for(let i of t){let s=wk(i);s&&e.push(s)}return W(e)}else if(!t)return W([]);throw new et("Expected array but got a single item")}r(g1,"parseCommands");function Tk(t){return t.timedContinuationData?new wr({continuation:t.timedContinuationData,type:"timed"}):null}r(Tk,"parseC");function uw(t){return t.itemSectionContinuation?new Bs(t.itemSectionContinuation):t.sectionListContinuation?new Vs(t.sectionListContinuation):t.liveChatContinuation?new Fi(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new Ys(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new Fs(t.musicShelfContinuation):t.gridContinuation?new Us(t.gridContinuation):t.playlistPanelContinuation?new Ws(t.playlistPanelContinuation):t.continuationCommand?new ui(t.continuationCommand):null}r(uw,"parseLC");function rg(t){return W(t.map(e=>{if(e.navigateAction)return new Yi(e.navigateAction);if(e.showMiniplayerCommand)return new Os(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new Le(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Oe(e.appendContinuationItemsAction);if(e.openPopupAction)return new Wr(e.openPopupAction)}).filter(e=>e))}r(rg,"parseRR");function vk(t){return Array.isArray(t)?We(t.map(e=>(delete e.clickTrackingParams,e))):new Dt($(t))}r(vk,"parseActions");function fw(t,e){return(t==null?void 0:t.map(i=>new ig(i,e)))||[]}r(fw,"parseFormats");function Ik(t,e){let i=t.getType(ws);if(i.length>0&&!e)fi({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let s=[];for(let o of i){let a=e.find(f=>{var m,_;return((_=(m=f.payload)==null?void 0:m.musicFormBooleanChoice)==null?void 0:_.id)===o.form_item_entity_key}),p=a==null?void 0:a.payload.musicFormBooleanChoice;(p==null?void 0:p.selected)!==void 0&&(p==null?void 0:p.opaqueToken)?o.selected=p.selected:s.push(`'${o.title}'`)}s.length>0&&fi({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:s.length,titles:s})}if(e){let s=e.filter(o=>{var a,p;return((a=o.payload)==null?void 0:a.macroMarkersListEntity)&&((p=o.payload.macroMarkersListEntity.markersList)==null?void 0:p.markerType)==="MARKER_TYPE_HEATMAP"});for(let o of s){let a=new bs(o.payload.macroMarkersListEntity),p=t.get("MacroMarkersListEntity");p?p.push(a):t.set("MacroMarkersListEntity",[a])}}}r(Ik,"applyMutations");function Sk(t,e){var s,o,a,p,f,m;let i=t.getType(cr);if(i.length>0){e||fi({error_type:"mutation_data_missing",classname:"CommentView"});for(let _ of i){let x=(o=(s=e.find(I=>{var v,k;return((k=(v=I.payload)==null?void 0:v.commentEntityPayload)==null?void 0:k.key)===_.keys.comment}))==null?void 0:s.payload)==null?void 0:o.commentEntityPayload,b=(p=(a=e.find(I=>{var v,k;return((k=(v=I.payload)==null?void 0:v.engagementToolbarStateEntityPayload)==null?void 0:k.key)===_.keys.toolbar_state}))==null?void 0:a.payload)==null?void 0:p.engagementToolbarStateEntityPayload,w=(m=(f=e.find(I=>I.entityKey===_.keys.toolbar_surface))==null?void 0:f.payload)==null?void 0:m.engagementToolbarSurfaceEntityPayload;_.applyMutations(x,b,w)}}}r(Sk,"applyCommentsMutations");var gw={};Ze(gw,{AccountInfo:()=>kk,Channel:()=>ye,ChannelListContinuation:()=>Nr,Comments:()=>Ck,FilteredChannelList:()=>ji,Guide:()=>Pk,HashtagFeed:()=>$i,History:()=>Xt,HomeFeed:()=>mi,ItemMenu:()=>fg,Library:()=>Ak,LiveChat:()=>wg,NotificationsMenu:()=>Mk,Playlist:()=>Qs,Search:()=>_i,Settings:()=>Lk,SmoothedQueue:()=>xg,TranscriptInfo:()=>ag,VideoInfo:()=>Bd});var Hs,sg=class{constructor(e){if(Hs.set(this,void 0),S(this,Hs,l.parseResponse(e.data),"f"),!u(this,Hs,"f").contents)throw new g("Page contents not found");let i=u(this,Hs,"f").contents.array().as(y_)[0];if(!i)throw new g("Account section list not found");this.contents=i.contents[0]}get page(){return u(this,Hs,"f")}};r(sg,"AccountInfo");Hs=new WeakMap;var kk=sg;var kd,De,Ed,qe,Ir,Ek,dw,Wi=class{constructor(e,i,s=!1){kd.add(this),De.set(this,void 0),Ed.set(this,void 0),qe.set(this,void 0),Ir.set(this,void 0),u(this,kd,"m",Ek).call(this,i)||s?S(this,De,i,"f"):S(this,De,l.parseResponse(i.data),"f");let o=_w(u(this,De,"f").contents_memo,u(this,De,"f").continuation_contents_memo,u(this,De,"f").on_response_received_commands_memo,u(this,De,"f").on_response_received_endpoints_memo,u(this,De,"f").on_response_received_actions_memo,u(this,De,"f").sidebar_memo,u(this,De,"f").header_memo);if(!o)throw new g("No memo found in feed");S(this,qe,o,"f"),S(this,Ed,e,"f")}static getVideosFromMemo(e){return e.getType(Jr,hy,ks,Rs,Zr,Is,pi,qb)}static getPlaylistsFromMemo(e){let i=e.getType(Yt,uy),s=e.getType($y).filter(o=>["PLAYLIST","ALBUM","PODCAST"].includes(o.content_type));return s.length>0&&i.push(...s),i}get videos(){return Wi.getVideosFromMemo(u(this,qe,"f"))}get posts(){return u(this,qe,"f").getType(Ci,Ss,Ob)}get channels(){return u(this,qe,"f").getType(Sx,py)}get playlists(){return Wi.getPlaylistsFromMemo(u(this,qe,"f"))}get memo(){return u(this,qe,"f")}get page_contents(){var o;let e=(o=u(this,qe,"f").getType(Ue))==null?void 0:o[0].content,i=u(this,qe,"f").getType(Le)[0],s=u(this,qe,"f").getType(Oe)[0];return e||i||s}get shelves(){return u(this,qe,"f").getType(As,Nb,ts)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var i,s;if(!((i=u(this,De,"f").contents)!=null&&i.is_node))return null;let e=(s=u(this,De,"f").contents)==null?void 0:s.item();return e.is(Gt,Wb)?e.secondary_contents:null}get actions(){return u(this,Ed,"f")}get page(){return u(this,De,"f")}get has_continuation(){return u(this,kd,"m",dw).call(this).length>0}async getContinuationData(){if(u(this,Ir,"f")){if(u(this,Ir,"f").length===0)throw new g("There are no continuations.");return await u(this,Ir,"f")[0].endpoint.call(u(this,Ed,"f"),{parse:!0})}if(S(this,Ir,u(this,kd,"m",dw).call(this),"f"),u(this,Ir,"f"))return this.getContinuationData()}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Wi(this.actions,e,!0)}};r(Wi,"Feed");De=new WeakMap,Ed=new WeakMap,qe=new WeakMap,Ir=new WeakMap,kd=new WeakSet,Ek=r(function(e){return!("data"in e)},"_Feed_isParsed"),dw=r(function(){if(u(this,De,"f").header_memo){let e=u(this,De,"f").header_memo.getType(Q);return u(this,qe,"f").getType(Q).filter(i=>!e.includes(i))}return u(this,qe,"f").getType(Q)},"_Feed_getBodyContinuations");var Se=Wi;var Gs,og=class extends Se{constructor(e,i,s=!1){super(e,i,s),Gs.set(this,void 0)}get filter_chips(){var e,i;if(u(this,Gs,"f"))return u(this,Gs,"f")||[];if(((e=this.memo.getType(kt))==null?void 0:e.length)>1)throw new g("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(kt))==null?void 0:i.length)===0)throw new g("There are no feed filter chipbars");return S(this,Gs,this.memo.getType(Ke),"f"),u(this,Gs,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}async getFilteredFeed(e){var o;let i;if(typeof e=="string"){if(!this.filters.includes(e))throw new g("Filter not found",{available_filters:this.filters});i=this.filter_chips.find(a=>a.text.toString()===e)}else if(e.type==="ChipCloudChip")i=e;else throw new g("Invalid filter");if(!i)throw new g("Filter not found");if(i.is_selected)return this;let s=await((o=i.endpoint)==null?void 0:o.call(this.actions,{parse:!0}));if(!s)throw new g("Failed to get filtered feed");return new Se(this.actions,s,!0)}};r(og,"FilterableFeed");Gs=new WeakMap;var Hi=og;var xw={};Ze(xw,{Feed:()=>Se,FilterableFeed:()=>Hi,MediaInfo:()=>js,TabbedFeed:()=>Cd});var Gi,ct,Sr,kr,ng=class{constructor(e,i,s){var p,f,m,_,x,b,w,I,v,k,C,E,O,ee,V,se,ae,F,ie,U,Y,q;Gi.set(this,void 0),ct.set(this,void 0),Sr.set(this,void 0),kr.set(this,void 0),S(this,ct,i,"f");let o=l.parseResponse(e[0].data.playerResponse?e[0].data.playerResponse:e[0].data),a=(p=e[1])!=null&&p.data?l.parseResponse(e[1].data):void 0;if(S(this,Gi,[o,a],"f"),S(this,Sr,s,"f"),((f=o.playability_status)==null?void 0:f.status)==="ERROR")throw new g("This video is unavailable",o.playability_status);if(o.microformat&&!((m=o.microformat)!=null&&m.is(st,Oi)))throw new g("Unsupported microformat",o.microformat);this.basic_info={...o.video_details,embed:(_=o.microformat)!=null&&_.is(st)?(x=o.microformat)==null?void 0:x.embed:null,channel:(b=o.microformat)!=null&&b.is(st)?(w=o.microformat)==null?void 0:w.channel:null,is_unlisted:(I=o.microformat)==null?void 0:I.is_unlisted,is_family_safe:(v=o.microformat)==null?void 0:v.is_family_safe,category:(k=o.microformat)!=null&&k.is(st)?(C=o.microformat)==null?void 0:C.category:null,has_ypc_metadata:(E=o.microformat)!=null&&E.is(st)?(O=o.microformat)==null?void 0:O.has_ypc_metadata:null,start_timestamp:(ee=o.microformat)!=null&&ee.is(st)?o.microformat.start_timestamp:null,end_timestamp:(V=o.microformat)!=null&&V.is(st)?o.microformat.end_timestamp:null,view_count:((se=o.microformat)==null?void 0:se.is(st))&&isNaN((ae=o.video_details)==null?void 0:ae.view_count)?o.microformat.view_count:(F=o.video_details)==null?void 0:F.view_count,url_canonical:(ie=o.microformat)!=null&&ie.is(Oi)?(U=o.microformat)==null?void 0:U.url_canonical:null,tags:(Y=o.microformat)!=null&&Y.is(Oi)?(q=o.microformat)==null?void 0:q.tags:null,like_count:void 0,is_liked:void 0,is_disliked:void 0},this.annotations=o.annotations,this.storyboards=o.storyboards,this.endscreen=o.endscreen,this.captions=o.captions,this.cards=o.cards,this.streaming_data=o.streaming_data,this.playability_status=o.playability_status,this.player_config=o.player_config,S(this,kr,o.playback_tracking,"f")}async toDash(e={}){var p,f;let i=u(this,Gi,"f")[0],s=e.manifest_options||{};if(i.video_details&&i.video_details.is_live)throw new g("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let o,a;return s.include_thumbnails&&i.storyboards&&(o=i.storyboards),typeof s.captions_format=="string"&&((p=i.captions)==null?void 0:p.caption_tracks)&&(a=i.captions.caption_tracks),or.toDash(this.streaming_data,(f=this.page[0].video_details)==null?void 0:f.is_post_live_dvr,e.url_transformer,e.format_filter,u(this,Sr,"f"),u(this,ct,"f").session.player,u(this,ct,"f"),o,a,s)}getStreamingInfo(e,i){var s;return t_(this.streaming_data,(s=this.page[0].video_details)==null?void 0:s.is_post_live_dvr,e,i,this.cpn,u(this,ct,"f").session.player,u(this,ct,"f"),u(this,Gi,"f")[0].storyboards?u(this,Gi,"f")[0].storyboards:void 0)}chooseFormat(e){return or.chooseFormat(e,this.streaming_data)}async download(e={}){let i=u(this,Gi,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new g("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return or.download(e,u(this,ct,"f"),this.playability_status,this.streaming_data,u(this,ct,"f").session.player,this.cpn)}async getTranscript(){var a;let e=this.page[1];if(!e)throw new g("Cannot get transcript from basic video info.");if(!e.engagement_panels)throw new g("Engagement panels not found. Video likely has no transcript.");let i=e.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!i)throw new g("Transcript panel not found. Video likely has no transcript.");let s=(a=i.content)==null?void 0:a.as(Q);if(!s)throw new g("Transcript continuation not found.");let o=await s.endpoint.call(this.actions);return new ag(this.actions,o)}async addToWatchHistory(e,i,s="https://www."){if(!u(this,kr,"f"))throw new g("Playback tracking not available");let o={cpn:u(this,Sr,"f"),fmt:251,rtn:0,rt:0},a=u(this,kr,"f").videostats_playback_url.replace("https://s.",s);return await u(this,ct,"f").stats(a,{client_name:e||X.CLIENTS.WEB.NAME,client_version:i||X.CLIENTS.WEB.VERSION},o)}async updateWatchTime(e,i=X.CLIENTS.WEB.NAME,s=X.CLIENTS.WEB.VERSION,o="https://www."){if(!u(this,kr,"f"))throw new g("Playback tracking not available");let a={cpn:u(this,Sr,"f"),st:e.toFixed(3),et:e.toFixed(3),cmt:e.toFixed(3),final:"1"},p=u(this,kr,"f").videostats_watchtime_url.replace("https://s.",o);return await u(this,ct,"f").stats(p,{client_name:i,client_version:s},a)}get actions(){return u(this,ct,"f")}get cpn(){return u(this,Sr,"f")}get page(){return u(this,Gi,"f")}};r(ng,"MediaInfo");Gi=new WeakMap,ct=new WeakMap,Sr=new WeakMap,kr=new WeakMap;var js=ng;var Er,Cr,Pr=class extends Se{constructor(e,i,s=!1){var o;super(e,i,s),Er.set(this,void 0),Cr.set(this,void 0),S(this,Er,e,"f"),S(this,Cr,(o=this.page.contents_memo)==null?void 0:o.getType(Ue),"f")}get tabs(){var e,i;return(i=(e=u(this,Cr,"f"))==null?void 0:e.map(s=>s.title.toString()))!=null?i:[]}async getTabByName(e){var o;let i=(o=u(this,Cr,"f"))==null?void 0:o.find(a=>a.title.toLowerCase()===e.toLowerCase());if(!i)throw new g(`Tab "${e}" not found`);if(i.selected)return this;let s=await i.endpoint.call(u(this,Er,"f"));return new Pr(u(this,Er,"f"),s,!1)}async getTabByURL(e){var o;let i=(o=u(this,Cr,"f"))==null?void 0:o.find(a=>{var p;return((p=a.endpoint.metadata.url)==null?void 0:p.split("/").pop())===e});if(!i)throw new g(`Tab "${e}" not found`);if(i.selected)return this;let s=await i.endpoint.call(u(this,Er,"f"));return new Pr(u(this,Er,"f"),s,!1)}hasTabWithURL(e){var i,s;return(s=(i=u(this,Cr,"f"))==null?void 0:i.some(o=>{var a;return((a=o.endpoint.metadata.url)==null?void 0:a.split("/").pop())===e}))!=null?s:!1}get title(){var e,i,s;return(s=(i=(e=this.page.contents_memo)==null?void 0:e.getType(Ue))==null?void 0:i.find(o=>o.selected))==null?void 0:s.title.toString()}};r(Pr,"TabbedFeed");Er=new WeakMap,Cr=new WeakMap;var Cd=Pr;var ye=class extends Cd{constructor(e,i,s=!1){var p,f,m,_,x;super(e,i,s),this.header=(f=(p=this.page.header)==null?void 0:p.item())==null?void 0:f.as(is,wx,Ty,Wt);let o=(m=this.page.metadata)==null?void 0:m.item().as(kx),a=(_=this.page.microformat)==null?void 0:_.as(Oi);if(this.page.alerts){let b=this.page.alerts[0];if((b==null?void 0:b.alert_type)==="ERROR")throw new $s(b.text.toString())}if(!o&&!this.page.contents)throw new g("Invalid channel",this);this.metadata={...o,...a||{}},this.subscribe_button=(x=this.page.header_memo)==null?void 0:x.getType(he)[0],this.page.contents&&(this.current_tab=this.page.contents.item().as(Gt).tabs.get({selected:!0}))}async applyFilter(e){let i,s=this.memo.getType(kt)[0];if(typeof e=="string"){if(i=s==null?void 0:s.contents.get({text:e}),!i)throw new g(`Filter ${e} not found`,{available_filters:this.filters})}else i=e;if(!i.endpoint)throw new g("Invalid filter",e);let o=await i.endpoint.call(this.actions,{parse:!0});if(!o)throw new g("No page returned",{filter:i});return new ji(this.actions,o,!0)}async applySort(e){let i=this.memo.getType(wt)[0];if(!i||!i.sub_menu_items)throw new g("No sort filter sub menu found");let s=i.sub_menu_items.find(a=>a.title===e);if(!s)throw new g(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(s.selected)return this;let o=await s.endpoint.call(this.actions,{parse:!0});return new ye(this.actions,o,!0)}async applyContentTypeFilter(e){var a,p,f;let i=(f=(p=(a=this.current_tab)==null?void 0:a.content)==null?void 0:p.as(le).sub_menu)==null?void 0:f.as(Xa);if(!i)throw new g("Sub menu not found");let s=i.content_type_sub_menu_items.find(m=>m.title===e);if(!s)throw new g(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(s.selected)return this;let o=await s.endpoint.call(this.actions,{parse:!0});return new ye(this.actions,o,!0)}get filters(){var e,i;return((i=(e=this.memo.getType(kt))==null?void 0:e[0])==null?void 0:i.contents.filterType(Ke).map(s=>s.text))||[]}get sort_filters(){var i;let e=this.memo.getType(wt)[0];return((i=e==null?void 0:e.sub_menu_items)==null?void 0:i.map(s=>s.title))||[]}get content_type_filters(){var i,s,o;let e=(o=(s=(i=this.current_tab)==null?void 0:i.content)==null?void 0:s.as(le).sub_menu)==null?void 0:o.as(Xa);return(e==null?void 0:e.content_type_sub_menu_items.map(a=>a.title))||[]}async getHome(){let e=await this.getTabByURL("featured");return new ye(this.actions,e.page,!0)}async getVideos(){let e=await this.getTabByURL("videos");return new ye(this.actions,e.page,!0)}async getShorts(){let e=await this.getTabByURL("shorts");return new ye(this.actions,e.page,!0)}async getLiveStreams(){let e=await this.getTabByURL("streams");return new ye(this.actions,e.page,!0)}async getReleases(){let e=await this.getTabByURL("releases");return new ye(this.actions,e.page,!0)}async getPodcasts(){let e=await this.getTabByURL("podcasts");return new ye(this.actions,e.page,!0)}async getCourses(){let e=await this.getTabByURL("courses");return new ye(this.actions,e.page,!0)}async getPlaylists(){let e=await this.getTabByURL("playlists");return new ye(this.actions,e.page,!0)}async getCommunity(){let e=await this.getTabByURL("community");return new ye(this.actions,e.page,!0)}async getAbout(){var i,s,o,a,p;if(this.hasTabWithURL("about"))return(await this.getTabByURL("about")).memo.getType(Wa)[0];let e=((i=this.header)==null?void 0:i.is(is))&&this.header.tagline;if(e||((s=this.header)==null?void 0:s.is(Wt))&&((o=this.header.content)==null?void 0:o.description)){if(e&&e.more_endpoint instanceof h){let _=await e.more_endpoint.call(this.actions);return new Cd(this.actions,_,!1).memo.getType(Wa)[0]}let f=(p=(a=this.page.header_memo)==null?void 0:a.getType(Q)[0])==null?void 0:p.endpoint;if(!f)throw new g("Failed to extract continuation to get channel about");let m=await f.call(this.actions,{parse:!0});if(!m.on_response_received_endpoints_memo)throw new g("Unexpected response while fetching channel about",{response:m});return m.on_response_received_endpoints_memo.getType(m_)[0]}throw new g("About not found")}async search(e){var o;let i=(o=this.memo.getType(dr))==null?void 0:o[0];if(!i)throw new g("Search tab not found",this);let s=await i.endpoint.call(this.actions,{query:e,parse:!0});return new ye(this.actions,s,!0)}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_courses(){return this.hasTabWithURL("courses")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,s,o,a;return this.hasTabWithURL("about")||!!(((e=this.header)==null?void 0:e.is(is))&&((i=this.header.tagline)==null?void 0:i.more_endpoint))||!!(((s=this.header)==null?void 0:s.is(Wt))&&((a=(o=this.header.content)==null?void 0:o.description)==null?void 0:a.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(dr))==null?void 0:e.length)>0}async getContinuation(){let e=await super.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Nr(this.actions,e,!0)}};r(ye,"Channel");var Nr=class extends Se{constructor(e,i,s=!1){var o,a;super(e,i,s),this.contents=((o=this.page.on_response_received_actions)==null?void 0:o[0])||((a=this.page.on_response_received_endpoints)==null?void 0:a[0])}async getContinuation(){let e=await super.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Nr(this.actions,e,!0)}};r(Nr,"ChannelListContinuation");var ji=class extends Hi{constructor(e,i,s=!1){var o;super(e,i,s),this.applied_filter=this.memo.getType(Ke).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=(o=this.page.on_response_received_actions)==null?void 0:o[0]}async applyFilter(e){let i=await super.getFilteredFeed(e);return new ji(this.actions,i.page,!0)}async getContinuation(){let e=await super.getContinuationData();if(!(e!=null&&e.on_response_received_actions_memo))throw new g("Unexpected continuation data",e);return e.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(kt)),e.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(Ke)),new ji(this.actions,e,!0)}};r(ji,"FilteredChannelList");var Ks,zt,qs,Ar=class{constructor(e,i,s=!1){var m,_,x,b,w;Ks.set(this,void 0),zt.set(this,void 0),qs.set(this,void 0),S(this,Ks,s?i:l.parseResponse(i),"f"),S(this,zt,e,"f");let o=u(this,Ks,"f").on_response_received_endpoints;if(!o)throw new g("Comments page did not have any content.");let a=(m=o.at(0))==null?void 0:m.as(Oe,Le),p=(_=o.at(1))==null?void 0:_.as(Oe,Le);this.header=(x=a==null?void 0:a.contents)==null?void 0:x.firstOfType(Di);let f=((b=p==null?void 0:p.contents)==null?void 0:b.filterType($x))||[];this.contents=W(f.map(I=>(I.comment&&I.comment.setActions(u(this,zt,"f")),I.setActions(u(this,zt,"f")),I))),S(this,qs,(w=p==null?void 0:p.contents)==null?void 0:w.firstOfType(Q),"f")}async applySort(e){var o,a,p,f;if(!this.header)throw new g("Page header is missing. Cannot apply sort option.");let i;if(e==="TOP_COMMENTS"?i=(a=(o=this.header.sort_menu)==null?void 0:o.sub_menu_items)==null?void 0:a.at(0):e==="NEWEST_FIRST"&&(i=(f=(p=this.header.sort_menu)==null?void 0:p.sub_menu_items)==null?void 0:f.at(1)),!i)throw new g("Could not find target button.");if(i.selected)return this;let s=await i.endpoint.call(u(this,zt,"f"),{parse:!0});return new Ar(u(this,zt,"f"),s,!0)}async createComment(e){var s;if(!this.header)throw new g("Page header is missing. Cannot create comment.");let i=(s=this.header.create_renderer)==null?void 0:s.as(Gx).submit_button;if(!i)throw new g("Could not find target button. You are probably not logged in.");if(!i.endpoint)throw new g("Button does not have an endpoint.");return await i.endpoint.call(u(this,zt,"f"),{commentText:e})}async getContinuation(){if(!u(this,qs,"f"))throw new g("Continuation not found");let e=await u(this,qs,"f").endpoint.call(u(this,zt,"f"),{parse:!0}),i=Object.assign({},u(this,Ks,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new g("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Ar(u(this,zt,"f"),i,!0)}get has_continuation(){return!!u(this,qs,"f")}get page(){return u(this,Ks,"f")}};r(Ar,"Comments");Ks=new WeakMap,zt=new WeakMap,qs=new WeakMap;var Ck=Ar;var zs,cg=class{constructor(e){zs.set(this,void 0),S(this,zs,l.parseResponse(e),"f"),u(this,zs,"f").items&&(this.contents=u(this,zs,"f").items.array().as(_s,dy))}get page(){return u(this,zs,"f")}};r(cg,"Guide");zs=new WeakMap;var Pk=cg;var Xt=class extends Se{constructor(e,i,s=!1){super(e,i,s),this.sections=this.memo.getType(Et),this.feed_actions=this.memo.getType(zr)[0]}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Xt(this.actions,e,!0)}async removeVideo(e){let i;for(let p of this.sections)for(let f of p.contents){let m=f;if(m.video_id===e&&m.menu){i=m.menu.top_level_buttons[0].as(T).endpoint.payload.feedbackToken;break}}if(!i)throw new Error("Failed to get feedback token");let s={feedbackTokens:[i]};if(!(await this.actions.execute("/feedback",s)).data.feedbackResponses[0].isProcessed)throw new Error("Failed to remove video from watch history");return!0}};r(Xt,"History");var mi=class extends Hi{constructor(e,i,s=!1){var o;super(e,i,s),this.header=this.memo.getType(ly)[0],this.contents=this.memo.getType(Ht)[0]||((o=this.page.on_response_received_actions)==null?void 0:o[0])}async applyFilter(e){let i=await super.getFilteredFeed(e);return new mi(this.actions,i.page,!0)}async getContinuation(){var i;let e=await super.getContinuation();return e.page.header=this.page.header,this.header&&((i=e.page.header_memo)==null||i.set(this.header.type,[this.header])),new mi(this.actions,e.page,!0)}};r(mi,"HomeFeed");var $i=class extends Hi{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new g("Unexpected response",this.page);let s=this.page.contents_memo.getType(Ue)[0];if(!s.content)throw new g("Content tab has no content",s);this.page.header&&(this.header=this.page.header.item().as(_y,Wt)),this.contents=s.content.as(Ht)}async applyFilter(e){let i=await super.getFilteredFeed(e);return new $i(this.actions,i.page)}};r($i,"HashtagFeed");var lg,pg,Pd,ug=class{constructor(e,i){lg.set(this,void 0),pg.set(this,void 0),Pd.set(this,void 0),S(this,lg,e,"f"),S(this,pg,i,"f");let s=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!s||!s.is(R))throw new g('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');S(this,Pd,s.as(R).items,"f")}async selectItem(e){let i;if(e instanceof T){if(!e.endpoint)throw new g("Item does not have an endpoint.");i=e.endpoint}else{let s=u(this,Pd,"f").find(o=>o.is(Ot)?o.as(Ot).icon_type===e:!1);if(!s||!s.is(Ot))throw new g(`Button "${e}" not found.`);i=s.endpoint}if(!i)throw new g("Target button does not have an endpoint.");return await i.call(u(this,pg,"f"),{parse:!0})}items(){return u(this,Pd,"f")}page(){return u(this,lg,"f")}};r(ug,"ItemMenu");lg=new WeakMap,pg=new WeakMap,Pd=new WeakMap;var fg=ug;var Nd,mg,Xs=class extends Se{constructor(e,i,s=!1){var _,x,b,w,I;super(e,i,s),Nd.add(this);let o=this.memo.getType(Tb)[0],a=this.memo.getType(Ib)[0],p=this.memo.getType(Sb)[0],f=this.memo.getType(kb)[0],m=(_=this.page.alerts)==null?void 0:_.firstOfType(Gr);if(m&&m.alert_type==="ERROR")throw new g(m.text.toString(),m);if(!a&&!p&&Object.keys(this.page).length===0)throw new g("Got empty continuation response. This is likely the end of the playlist.");this.info={...(x=this.page.metadata)==null?void 0:x.item().as(vb),subtitle:o?o.subtitle:null,author:(w=(b=p==null?void 0:p.owner)==null?void 0:b.as(Ms).author)!=null?w:o==null?void 0:o.author,thumbnails:(I=a==null?void 0:a.thumbnail_renderer)==null?void 0:I.as(as,ns).thumbnail,total_items:u(this,Nd,"m",mg).call(this,0,a),views:u(this,Nd,"m",mg).call(this,1,a),last_updated:u(this,Nd,"m",mg).call(this,2,a),can_share:o==null?void 0:o.can_share,can_delete:o==null?void 0:o.can_delete,can_reorder:f==null?void 0:f.can_reorder,is_editable:f==null?void 0:f.is_editable,privacy:o==null?void 0:o.privacy},this.menu=a==null?void 0:a.menu,this.endpoint=a==null?void 0:a.endpoint,this.messages=this.memo.getType(Ft)}get items(){return W(this.videos.as(Is,ks,Rs).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(le)[0];return e?!!this.memo.getType(Q).find(i=>!e.contents.includes(i)):super.has_continuation}async getContinuationData(){let e=this.memo.getType(le)[0];if(!e)return await super.getContinuationData();let i=this.memo.getType(Q).find(s=>!e.contents.includes(s));if(!i)throw new g("There are no continuations.");return await i.endpoint.call(this.actions,{parse:!0})}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Xs(this.actions,e,!0)}};r(Xs,"Playlist");Nd=new WeakSet,mg=r(function(e,i){var s;return!i||!i.stats?"N/A":((s=i.stats[e])==null?void 0:s.toString())||"N/A"},"_Playlist_getStat");var Qs=Xs;var yw,Nk,hg=class extends Se{constructor(e,i){if(super(e,i),yw.add(this),!this.page.contents_memo)throw new g("Page contents not found");this.header=this.memo.getType(Wt)[0];let s=this.page.contents_memo.getType(As);this.sections=s.map(o=>{var a;return{type:o.icon_type,title:o.title,contents:((a=o.content)==null?void 0:a.key("items").array())||[],getAll:()=>u(this,yw,"m",Nk).call(this,o)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};r(hg,"Library");yw=new WeakSet,Nk=r(async function(e){var o;if(!((o=e.menu)!=null&&o.as(R).top_level_buttons))throw new g(`The ${e.title.text} shelf doesn't have more items`);let i=e.menu.as(R).top_level_buttons.firstOfType(T);if(!i)throw new g("Did not find target button.");let s=await i.as(T).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new Qs(this.actions,s,!0);case"WATCH_HISTORY":return new Xt(this.actions,s,!0);case"CONTENT_CUT":return new Se(this.actions,s,!0);default:throw new g("Target shelf not implemented.")}},"_Library_getAll");var Ak=hg;var hi,Ki,Rr,lt,Ct,ze;function w1(t){let e=[];for(let i of t)if(Array.isArray(i))for(let s of i)e.push(s);else e.push(i);return e}r(w1,"flattenQueue");var dg=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};r(dg,"DelayQueue");var _g=class{constructor(){hi.set(this,void 0),Ki.set(this,void 0),Rr.set(this,void 0),lt.set(this,void 0),Ct.set(this,void 0),ze.set(this,void 0),S(this,hi,null,"f"),S(this,Ki,null,"f"),S(this,Rr,null,"f"),S(this,lt,[],"f"),S(this,Ct,null,"f"),S(this,ze,new dg,"f")}enqueueActionGroup(e){if(u(this,hi,"f")!==null){let i=Date.now()-u(this,hi,"f");u(this,ze,"f").back.push(i),5<u(this,ze,"f").front.length+u(this,ze,"f").back.length&&(u(this,ze,"f").front.length||(u(this,ze,"f").front=u(this,ze,"f").back,u(this,ze,"f").front.reverse(),u(this,ze,"f").back=[]),u(this,ze,"f").front.pop()),S(this,Ki,Math.max(...u(this,ze,"f").getValues()),"f")}S(this,hi,Date.now(),"f"),u(this,lt,"f").push(e),u(this,Ct,"f")===null&&S(this,Ct,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(S(this,Ct,null,"f"),u(this,lt,"f").length){let e=1e4;u(this,Ki,"f")!==null&&u(this,hi,"f")!==null&&(e=u(this,Ki,"f")-Date.now()+u(this,hi,"f")),e=u(this,lt,"f").length<e/80?1:Math.ceil(u(this,lt,"f").length/(e/80));let i=w1(u(this,lt,"f").splice(0,e));u(this,Rr,"f")&&u(this,Rr,"f").call(this,i),u(this,lt,"f")!==null&&(e==1?(e=u(this,Ki,"f")/u(this,lt,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,S(this,Ct,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){u(this,Ct,"f")!==null&&(clearTimeout(u(this,Ct,"f")),S(this,Ct,null,"f")),S(this,lt,[],"f")}set callback(e){S(this,Rr,e,"f")}get callback(){return u(this,Rr,"f")}get action_queue(){return u(this,lt,"f")}get estimated_update_interval(){return u(this,Ki,"f")}get last_update_time(){return u(this,hi,"f")}get next_update_id(){return u(this,Ct,"f")}get poll_response_delay_queue(){return u(this,ze,"f")}};r(_g,"SmoothedQueue");hi=new WeakMap,Ki=new WeakMap,Rr=new WeakMap,lt=new WeakMap,Ct=new WeakMap,ze=new WeakMap;var xg=_g;var ke,di,Md,yg,Lr,Ad,Rd,bw,bg,Rk,Mr,gg=class extends fo{constructor(e){var i,s;super(),ke.add(this),di.set(this,void 0),Md.set(this,void 0),yg.set(this,void 0),Lr.set(this,void 0),Ad.set(this,void 0),Rd.set(this,0),this.running=!1,this.is_replay=!1,S(this,Md,e.basic_info.id,"f"),S(this,yg,e.basic_info.channel_id,"f"),S(this,di,e.actions,"f"),S(this,Lr,(i=e.livechat)==null?void 0:i.continuation,"f"),this.is_replay=((s=e.livechat)==null?void 0:s.is_replay)||!1,this.smoothed_queue=new xg,this.smoothed_queue.callback=async o=>{o.length?o.length<10?await u(this,ke,"m",bg).call(this,o):this.is_replay?(u(this,ke,"m",bg).call(this,o),await u(this,ke,"m",Mr).call(this,2e3)):u(this,ke,"m",bg).call(this,o):await u(this,ke,"m",Mr).call(this,2e3),this.running&&u(this,ke,"m",bw).call(this)}}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,u(this,ke,"m",bw).call(this),u(this,ke,"m",Rk).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}async sendMessage(e){let i=OT.encode({params:{ids:{videoId:u(this,Md,"f"),channelId:u(this,yg,"f")}},number0:1,number1:4}),s=btoa(encodeURIComponent(oi(i.finish()))),o=await u(this,di,"f").execute("/live_chat/send_message",{richMessage:{textSegments:[{text:e}]},clientMessageId:M.shim.uuidv4(),client:"WEB",parse:!0,params:s});if(!o.actions)throw new g("Unexpected response from send_message",o);return o.actions.array().as(Cy,Bx)}applyFilter(e){var s,o,a,p,f,m,_;if(!this.initial_info)throw new g("Cannot apply filter before initial info is retrieved.");let i=(a=(o=(s=this.initial_info)==null?void 0:s.header)==null?void 0:o.view_selector)==null?void 0:a.sub_menu_items;if(e==="TOP_CHAT"){if((p=i==null?void 0:i.at(0))!=null&&p.selected)return;S(this,Lr,(f=i==null?void 0:i.at(0))==null?void 0:f.continuation,"f")}else{if((m=i==null?void 0:i.at(1))!=null&&m.selected)return;S(this,Lr,(_=i==null?void 0:i.at(1))==null?void 0:_.continuation,"f")}}async getItemMenu(e){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(h))throw new g("This item does not have a menu.",e);let i=await e.key("menu_endpoint").instanceof(h).call(u(this,di,"f"),{parse:!0});if(!i)throw new g("Could not retrieve item menu.",e);return new fg(i,u(this,di,"f"))}async selectButton(e){return await e.endpoint.call(u(this,di,"f"),{parse:!0})}};r(gg,"LiveChat");di=new WeakMap,Md=new WeakMap,yg=new WeakMap,Lr=new WeakMap,Ad=new WeakMap,Rd=new WeakMap,ke=new WeakSet,bw=r(function t(){(async()=>{var e,i;try{let s=await u(this,di,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:u(this,Lr,"f"),parse:!0}),o=s.continuation_contents;if(o||(this.emit("error",new g("Unexpected live chat incremental continuation response",s)),this.emit("end"),this.stop()),!(o instanceof Fi)){this.stop(),this.emit("end");return}S(this,Lr,o.continuation.token,"f"),o.header?(this.initial_info=o,this.emit("start",o),this.running&&u(this,ke,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(o.actions),S(this,Rd,0,"f")}catch(s){this.emit("error",s),S(this,Rd,(i=u(this,Rd,"f"),e=i++,i),"f"),e<10?(await u(this,ke,"m",Mr).call(this,2e3),u(this,ke,"m",t).call(this)):(this.emit("error",new g("Reached retry limit for incremental continuation requests",s)),this.emit("end"),this.stop())}})()},"_LiveChat_pollLivechat"),bg=r(async function(e){let s=e.length<125?1:Math.ceil(e.length/125),o=s==1?(s=1e4/e.length,s*=Math.random()+.5,s=Math.min(1e3,s),s=Math.max(80,s)):s=80;for(let a of e)await u(this,ke,"m",Mr).call(this,o),this.emit("chat-update",a)},"_LiveChat_emitSmoothedActions"),Rk=r(function t(){(async()=>{var e,i,s,o,a,p,f,m,_,x,b;try{let w={videoId:u(this,Md,"f")};u(this,Ad,"f")&&(w.continuation=u(this,Ad,"f"));let I=await u(this,di,"f").execute("/updated_metadata",w),v=l.parseResponse(I.data);S(this,Ad,(e=v.continuation)==null?void 0:e.token,"f"),this.metadata={title:((i=v.actions)==null?void 0:i.array().firstOfType(Vy))||((s=this.metadata)==null?void 0:s.title),description:((o=v.actions)==null?void 0:o.array().firstOfType(Oy))||((a=this.metadata)==null?void 0:a.description),views:((p=v.actions)==null?void 0:p.array().firstOfType(Fy))||((f=this.metadata)==null?void 0:f.views),likes:((m=v.actions)==null?void 0:m.array().firstOfType(Yy))||((_=this.metadata)==null?void 0:_.likes),date:((x=v.actions)==null?void 0:x.array().firstOfType(By))||((b=this.metadata)==null?void 0:b.date)},this.emit("metadata-update",this.metadata),await u(this,ke,"m",Mr).call(this,5e3),this.running&&u(this,ke,"m",t).call(this)}catch{await u(this,ke,"m",Mr).call(this,2e3),this.running&&u(this,ke,"m",t).call(this)}})()},"_LiveChat_pollMetadata"),Mr=r(async function(e){return new Promise(i=>setTimeout(()=>i(),e))},"_LiveChat_wait");var wg=gg;var qi,Ld,Js=class{constructor(e,i){if(qi.set(this,void 0),Ld.set(this,void 0),S(this,Ld,e,"f"),S(this,qi,l.parseResponse(i.data),"f"),!u(this,qi,"f").actions_memo)throw new g("Page actions not found");this.header=u(this,qi,"f").actions_memo.getType(Xy)[0],this.contents=u(this,qi,"f").actions_memo.getType(gs)}async getContinuation(){var s;let e=(s=u(this,qi,"f").actions_memo)==null?void 0:s.getType(Q)[0];if(!e)throw new g("Continuation not found");let i=await e.endpoint.call(u(this,Ld,"f"),{parse:!1});return new Js(u(this,Ld,"f"),i)}get page(){return u(this,qi,"f")}};r(Js,"NotificationsMenu");qi=new WeakMap,Ld=new WeakMap;var Mk=Js;var _i=class extends Se{constructor(e,i,s=!1){var a,p,f;super(e,i,s);let o=((a=this.page.contents_memo)==null?void 0:a.getType(le)[0].contents)||((p=this.page.on_response_received_commands)==null?void 0:p[0].as(Oe,Le).contents);if(!o)throw new g("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(Rb)),this.results=W(o.filterType(Et).flatMap(m=>m.contents)),this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType(Mb)[0],this.watch_card=this.page.contents_memo.getType(Cs)[0]),this.refinement_cards=(f=this.results)==null?void 0:f.firstOfType(Ni)}async selectRefinementCard(e){var o,a;let i;if(typeof e=="string"){if(!this.refinement_cards)throw new g("No refinement cards found.");if(i=(a=(o=this.refinement_cards)==null?void 0:o.cards.get({query:e}))==null?void 0:a.as(nr),!i)throw new g(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")i=e;else throw new g("Invalid refinement card!");let s=await i.endpoint.call(this.actions,{parse:!0});return new _i(this.actions,s,!0)}get refinement_card_queries(){var e;return((e=this.refinement_cards)==null?void 0:e.cards.as(nr).map(i=>i.query))||[]}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new _i(this.actions,e,!0)}};r(_i,"Search");var Dr,Dd,Zs=class{constructor(e,i){var a,p,f,m;if(Dr.set(this,void 0),Dd.set(this,void 0),S(this,Dd,e,"f"),S(this,Dr,l.parseResponse(i.data),"f"),this.sidebar=(a=u(this,Dr,"f").sidebar)==null?void 0:a.as(Bb),!u(this,Dr,"f").contents)throw new g("Page contents not found");let s=u(this,Dr,"f").contents.item().as(Gt).tabs.get({selected:!0});if(!s)throw new g("Target tab not found");let o=(p=s.content)==null?void 0:p.as(le).contents.as(Et);this.introduction=(m=(f=o==null?void 0:o.shift())==null?void 0:f.contents)==null?void 0:m.firstOfType(fb),this.sections=o==null?void 0:o.map(_=>{var x;return{title:(x=_.header)!=null&&x.is(Di,xs,ys)?_.header.title.toString():null,contents:_.contents}})}async selectSidebarItem(e){if(!this.sidebar)throw new g("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new g(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(Bt))i=e;else throw new g("Invalid item",{target_item:e});let s=await i.endpoint.call(u(this,Dd,"f"),{parse:!1});return new Zs(u(this,Dd,"f"),s)}getSettingOption(e){var i;if(!this.sections)throw new g("Sections not available");for(let s of this.sections)if(!!s.contents)for(let o of s.contents){let a=o.as(Ns).options;if(a){for(let p of a)if(p.is(Ps)&&((i=p.title)==null?void 0:i.toString())===e)return p}}throw new g(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new g("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let s of i.contents)s.as(Ns).options&&(e=e.concat(s.as(Ns).options));return e.map(i=>{var s;return(s=i.title)==null?void 0:s.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new g("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return u(this,Dr,"f")}};r(Zs,"Settings");Dr=new WeakMap,Dd=new WeakMap;var Lk=Zs;var zi,eo=class extends js{constructor(e,i,s){var _,x,b,w,I,v,k,C,E,O,ee,V,se,ae,F,ie,U,Y,q,z,Ee,Ce,oe,ot,_e,Rt,Mt,xt,ue,Je,lo;super(e,i,s),zi.set(this,void 0);let[o,a]=this.page;if(this.streaming_data){let fe=this.streaming_data.adaptive_formats.find(Be=>{var nt;return(nt=Be.audio_track)==null?void 0:nt.audio_is_default});if(fe)this.streaming_data.formats.forEach(Be=>Be.language=fe.language);else if(((_=this.captions)==null?void 0:_.caption_tracks)&&((x=this.captions)==null?void 0:x.caption_tracks.length)>0){let Be=this.captions.caption_tracks.find(at=>at.kind==="asr"),nt=Be==null?void 0:Be.language_code;this.streaming_data.adaptive_formats.forEach(at=>{at.has_audio&&(at.language=nt)}),this.streaming_data.formats.forEach(at=>at.language=nt)}}let p=(b=a==null?void 0:a.contents)==null?void 0:b.item().as(Gb),f=p==null?void 0:p.results,m=p==null?void 0:p.secondary_results;if(f&&m){if(((w=o.microformat)==null?void 0:w.is(st))&&((I=o.microformat)==null?void 0:I.category)==="Gaming"){let ge=(C=(k=(v=f.firstOfType(pd))==null?void 0:v.metadata)==null?void 0:k.rows)==null?void 0:C.firstOfType(Xm);ge!=null&&ge.is(Xm)&&(this.game_info={title:(O=(E=ge==null?void 0:ge.contents)==null?void 0:E.firstOfType(qm))==null?void 0:O.title,release_year:(V=(ee=ge==null?void 0:ge.contents)==null?void 0:ee.firstOfType(qm))==null?void 0:V.subtitle})}this.primary_info=f.firstOfType(Kb),this.secondary_info=f.firstOfType(pd),this.merchandise=f.firstOfType(Qy),this.related_chip_cloud=(se=m.firstOfType(Pb))==null?void 0:se.content.as(rs),p!=null&&p.playlist&&(this.playlist=p.playlist),this.watch_next_feed=((ae=m.firstOfType(Et))==null?void 0:ae.contents)||m,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((F=this.watch_next_feed.at(-1))==null?void 0:F.is(Q))&&S(this,zi,(ie=this.watch_next_feed.pop())==null?void 0:ie.as(Q),"f"),this.player_overlays=(U=a==null?void 0:a.player_overlays)==null?void 0:U.item().as(wb),p!=null&&p.autoplay&&(this.autoplay=p.autoplay);let fe=(q=(Y=this.primary_info)==null?void 0:Y.menu)==null?void 0:q.top_level_buttons.firstOfType(br);((z=fe==null?void 0:fe.like_button)==null?void 0:z.is(re))&&((Ee=fe==null?void 0:fe.dislike_button)==null?void 0:Ee.is(re))&&(this.basic_info.like_count=(Ce=fe==null?void 0:fe.like_button)==null?void 0:Ce.like_count,this.basic_info.is_liked=(oe=fe==null?void 0:fe.like_button)==null?void 0:oe.is_toggled,this.basic_info.is_disliked=(ot=fe==null?void 0:fe.dislike_button)==null?void 0:ot.is_toggled);let Be=(Rt=(_e=this.primary_info)==null?void 0:_e.menu)==null?void 0:Rt.top_level_buttons.firstOfType(ni);if(Be&&(this.basic_info.like_count=Be.like_count,Be.like_button)){let ge=Be.like_button.like_status_entity.like_status;this.basic_info.is_liked=ge==="LIKE",this.basic_info.is_disliked=ge==="DISLIKE"}let nt=(Mt=f.get({target_id:"comments-entry-point"}))==null?void 0:Mt.as(Et);this.comments_entry_point_header=(xt=nt==null?void 0:nt.contents)==null?void 0:xt.firstOfType(Hx),this.livechat=(ue=a==null?void 0:a.contents_memo)==null?void 0:ue.getType(Sy)[0];let at=(lo=(Je=this.page[1])==null?void 0:Je.contents_memo)==null?void 0:lo.getType(bs),po=null;if(at){let ge=at.find(zd=>zd.isHeatmap());if(ge)try{po=ge.toHeatmap()}catch{}}this.heat_map=po}}async selectFilter(e){var a,p,f,m;if(!this.related_chip_cloud)throw new g("Chip cloud not found, cannot apply filter");let i;if(typeof e=="string"){let _=(p=(a=this.related_chip_cloud)==null?void 0:a.chips)==null?void 0:p.get({text:e});if(!_)throw new g("Invalid filter",{available_filters:this.filters});i=_}else if(e!=null&&e.is(Ke))i=e;else throw new g("Invalid cloud chip",e);if(i.is_selected)return this;let s=await((f=i.endpoint)==null?void 0:f.call(this.actions,{parse:!0})),o=(m=s==null?void 0:s.on_response_received_endpoints)==null?void 0:m.get({target_id:"watch-next-feed"});return this.watch_next_feed=o==null?void 0:o.as(Oe,Le).contents,this}async addToWatchHistory(){return super.addToWatchHistory()}async updateWatchTime(e){return super.updateWatchTime(e)}async getWatchNextContinuation(){var s,o,a,p,f;if(!u(this,zi,"f"))throw new g("Watch next feed continuation not found");let e=await((s=u(this,zi,"f"))==null?void 0:s.endpoint.call(this.actions,{parse:!0})),i=(o=e==null?void 0:e.on_response_received_endpoints)==null?void 0:o.get({type:"AppendContinuationItemsAction"});if(!i)throw new g("AppendContinuationItemsAction not found");return this.watch_next_feed=i==null?void 0:i.as(Oe,Le).contents,(p=(a=this.watch_next_feed)==null?void 0:a.at(-1))!=null&&p.is(Q)?S(this,zi,(f=this.watch_next_feed.pop())==null?void 0:f.as(Q),"f"):S(this,zi,void 0,"f"),this}async like(){var o,a,p,f,m;let e=(a=(o=this.primary_info)==null?void 0:o.menu)==null?void 0:a.top_level_buttons.firstOfType(ni);if(e){let _=(p=e==null?void 0:e.like_button)==null?void 0:p.toggle_button;if(!_||!_.default_button||!e.like_button)throw new g("Like button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="LIKE")throw new g("This video is already liked",{video_id:this.basic_info.id});if(!_.default_button.on_tap)throw new g("onTap command not found",{video_id:this.basic_info.id});return await new h(_.default_button.on_tap.payload.commands.find(w=>w.innertubeCommand)).call(this.actions)}let i=(m=(f=this.primary_info)==null?void 0:f.menu)==null?void 0:m.top_level_buttons.firstOfType(br),s=i==null?void 0:i.like_button;if(!s)throw new g("Like button not found",{video_id:this.basic_info.id});if(!s.is(re))throw new g("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new g("This video is already liked",{video_id:this.basic_info.id});return await s.endpoint.call(this.actions)}async dislike(){var o,a,p,f,m;let e=(a=(o=this.primary_info)==null?void 0:o.menu)==null?void 0:a.top_level_buttons.firstOfType(ni);if(e){let _=(p=e==null?void 0:e.dislike_button)==null?void 0:p.toggle_button;if(!_||!_.default_button||!e.dislike_button||!e.like_button)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="DISLIKE")throw new g("This video is already disliked",{video_id:this.basic_info.id});if(!_.default_button.on_tap)throw new g("onTap command not found",{video_id:this.basic_info.id});return await new h(_.default_button.on_tap.payload.commands.find(w=>w.innertubeCommand)).call(this.actions)}let i=(m=(f=this.primary_info)==null?void 0:f.menu)==null?void 0:m.top_level_buttons.firstOfType(br),s=i==null?void 0:i.dislike_button;if(!s)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(!s.is(re))throw new g("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new g("This video is already disliked",{video_id:this.basic_info.id});return await s.endpoint.call(this.actions)}async removeRating(){var p,f,m,_,x,b,w;let e,i=(f=(p=this.primary_info)==null?void 0:p.menu)==null?void 0:f.top_level_buttons.firstOfType(ni);if(i){let I=(m=i==null?void 0:i.like_button)==null?void 0:m.toggle_button;if(!I||!I.default_button||!i.like_button)throw new g("Like button not found",{video_id:this.basic_info.id});let v=i.like_button.like_status_entity.like_status;if(v==="LIKE")e=(_=i==null?void 0:i.like_button)==null?void 0:_.toggle_button;else if(v==="DISLIKE")e=(x=i==null?void 0:i.dislike_button)==null?void 0:x.toggle_button;else throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});if(!e||!e.toggled_button)throw new g("Like/Dislike button not found",{video_id:this.basic_info.id});if(!e.toggled_button.on_tap)throw new g("onTap command not found",{video_id:this.basic_info.id});return await new h(e.toggled_button.on_tap.payload.commands.find(C=>C.innertubeCommand)).call(this.actions)}let s=(w=(b=this.primary_info)==null?void 0:b.menu)==null?void 0:w.top_level_buttons.firstOfType(br),o=s==null?void 0:s.like_button,a=s==null?void 0:s.dislike_button;if(!(o!=null&&o.is(re))||!(a!=null&&a.is(re)))throw new g("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(o!=null&&o.is_toggled?e=o:a!=null&&a.is_toggled&&(e=a),!e)throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});return await e.toggled_endpoint.call(this.actions)}getLiveChat(){if(!this.livechat)throw new g("Live Chat is not available",{video_id:this.basic_info.id});return new wg(this)}getTrailerInfo(){var e,i;if(this.has_trailer&&((e=this.playability_status)==null?void 0:e.error_screen)){let s;if(this.playability_status.error_screen.is(fm)?s=(i=this.playability_status.error_screen.trailer)==null?void 0:i.player_response:this.playability_status.error_screen.is(yr)&&(s=this.playability_status.error_screen.player_response),s)return new eo([{data:s}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)==null?void 0:e.chips)==null?void 0:i.map(s=>{var o;return(o=s.text)==null?void 0:o.toString()}))||[]}get wn_has_continuation(){return!!u(this,zi,"f")}get autoplay_video_endpoint(){var e,i,s;return((s=(i=(e=this.autoplay)==null?void 0:e.sets)==null?void 0:i[0])==null?void 0:s.autoplay_video)||null}get has_trailer(){var e,i;return!!((i=(e=this.playability_status)==null?void 0:e.error_screen)!=null&&i.is(fm,yr))}get music_tracks(){var i,s,o,a,p,f;let e=(s=(i=this.page[1])==null?void 0:i.engagement_panels)==null?void 0:s.filter(m=>{var _;return(_=m.content)==null?void 0:_.is(ar)});if(e!==void 0&&e.length>0){let m=(p=(a=(o=e[0].content)==null?void 0:o.as(ar))==null?void 0:a.items)==null?void 0:p.filterType(es);if(m!==void 0&&m.length>0)return(f=m[0].carousel_lockups)==null?void 0:f.map(_=>{var C,E,O,ee,V,se,ae,F,ie,U,Y,q,z,Ee,Ce,oe,ot,_e,Rt,Mt;let x,b,w,I,v,k;x=(E=(C=_.video_lockup)==null?void 0:C.title)==null?void 0:E.toString(),v=(ee=(O=_.video_lockup)==null?void 0:O.endpoint)==null?void 0:ee.payload.videoId;for(let xt=0;xt<_.info_rows.length;xt++){let ue=_.info_rows[xt];if(ue.info_row_expand_status_key===void 0)if(x===void 0){if(x=((V=ue.default_metadata)==null?void 0:V.toString())||((se=ue.expanded_metadata)==null?void 0:se.toString()),v===void 0){let Je=((ae=ue.default_metadata)==null?void 0:ae.endpoint)||((F=ue.expanded_metadata)==null?void 0:F.endpoint);v=(ie=Je==null?void 0:Je.payload)==null?void 0:ie.videoId}}else w=((U=ue.default_metadata)==null?void 0:U.toString())||((Y=ue.expanded_metadata)==null?void 0:Y.toString());else{if(((q=ue.info_row_expand_status_key)==null?void 0:q.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(b=((z=ue.default_metadata)==null?void 0:z.toString())||((Ee=ue.expanded_metadata)==null?void 0:Ee.toString()),k===void 0)){let Je=((Ce=ue.default_metadata)==null?void 0:Ce.endpoint)||((oe=ue.expanded_metadata)==null?void 0:oe.endpoint);k=(ot=Je==null?void 0:Je.payload)==null?void 0:ot.browseId}((_e=ue.info_row_expand_status_key)==null?void 0:_e.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(I=((Rt=ue.default_metadata)==null?void 0:Rt.toString())||((Mt=ue.expanded_metadata)==null?void 0:Mt.toString()))}}return{song:x,artist:b,album:w,license:I,videoId:v,channelId:k}})}return[]}};r(eo,"VideoInfo");zi=new WeakMap;var Bd=eo;var to,Od,io=class{constructor(e,i){if(to.set(this,void 0),Od.set(this,void 0),S(this,to,l.parseResponse(i.data),"f"),S(this,Od,e,"f"),!u(this,to,"f").actions_memo)throw new Error("Page actions not found");this.transcript=u(this,to,"f").actions_memo.getType(Hr)[0]}async selectLanguage(e){var o,a,p,f;let i=(f=(p=(a=(o=this.transcript.content)==null?void 0:o.footer)==null?void 0:a.language_menu)==null?void 0:p.sub_menu_items)==null?void 0:f.find(m=>m.title.toString()===e);if(!i)throw new Error(`Language not found: ${e}`);if(i.selected)return this;let s=await u(this,Od,"f").execute("/get_transcript",{params:i.continuation});return new io(u(this,Od,"f"),s)}get languages(){var e,i,s,o;return((o=(s=(i=(e=this.transcript.content)==null?void 0:e.footer)==null?void 0:i.language_menu)==null?void 0:s.sub_menu_items)==null?void 0:o.map(a=>a.title.toString()))||[]}get selectedLanguage(){var e,i,s,o,a;return((a=(o=(s=(i=(e=this.transcript.content)==null?void 0:e.footer)==null?void 0:i.language_menu)==null?void 0:s.sub_menu_items)==null?void 0:o.find(p=>p.selected))==null?void 0:a.title.toString())||""}get page(){return u(this,to,"f")}};r(io,"TranscriptInfo");to=new WeakMap,Od=new WeakMap;var ag=io;var Dk={};var P=class{constructor(e,i,s,o){var p,f,m,_,x,b,w,I,v,k,C,E,O,ee,V,se,ae,F,ie,U,Y,q,z,Ee,Ce,oe,ot;let a=new c(e);this.id=o||((_=(m=(f=(p=a==null?void 0:a.runs)==null?void 0:p[0])==null?void 0:f.endpoint)==null?void 0:m.payload)==null?void 0:_.browseId)||((b=(x=a==null?void 0:a.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId)||"N/A",this.name=(a==null?void 0:a.text)||"N/A",this.thumbnails=s?y.fromResponse(s):[],this.endpoint=((I=(w=a==null?void 0:a.runs)==null?void 0:w[0])==null?void 0:I.endpoint)||(a==null?void 0:a.endpoint),i?Array.isArray(i)?(this.badges=l.parseArray(i),this.is_moderator=(v=this.badges)==null?void 0:v.some(_e=>_e.icon_type=="MODERATOR"),this.is_verified=(k=this.badges)==null?void 0:k.some(_e=>_e.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(C=this.badges)==null?void 0:C.some(_e=>_e.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=W([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=W([]),this.url=((V=(ee=(O=(E=a==null?void 0:a.runs)==null?void 0:E[0])==null?void 0:O.endpoint)==null?void 0:ee.metadata)==null?void 0:V.api_url)==="/browse"&&`${we.YT_BASE}${((ie=(F=(ae=(se=a==null?void 0:a.runs)==null?void 0:se[0])==null?void 0:ae.endpoint)==null?void 0:F.payload)==null?void 0:ie.canonicalBaseUrl)||`/u/${(z=(q=(Y=(U=a==null?void 0:a.runs)==null?void 0:U[0])==null?void 0:Y.endpoint)==null?void 0:q.payload)==null?void 0:z.browseId}`}`||`${we.YT_BASE}${((Ce=(Ee=a==null?void 0:a.endpoint)==null?void 0:Ee.payload)==null?void 0:Ce.canonicalBaseUrl)||`/u/${(ot=(oe=a==null?void 0:a.endpoint)==null?void 0:oe.payload)==null?void 0:ot.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};r(P,"Author");var T1=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Uk=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],v1="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",Wk="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",Tw={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},vw="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",I1={5:vw,"5module":vw+" export import",6:vw+" const class extends export import super"},S1=/^in(stanceof)?$/,k1=new RegExp("["+Wk+"]"),E1=new RegExp("["+Wk+v1+"]");function Sw(t,e){for(var i=65536,s=0;s<e.length;s+=2){if(i+=e[s],i>t)return!1;if(i+=e[s+1],i>=t)return!0}return!1}r(Sw,"isInAstralSet");function xi(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&k1.test(String.fromCharCode(t)):e===!1?!1:Sw(t,Uk)}r(xi,"isIdentifierStart");function ro(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&E1.test(String.fromCharCode(t)):e===!1?!1:Sw(t,Uk)||Sw(t,T1)}r(ro,"isIdentifierChar");var K=r(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function pt(t,e){return new K(t,{beforeExpr:!0,binop:e})}r(pt,"binop");var ut={beforeExpr:!0},Xe={startsExpr:!0},Pw={};function G(t,e){return e===void 0&&(e={}),e.keyword=t,Pw[t]=new K(t,e)}r(G,"kw");var d={num:new K("num",Xe),regexp:new K("regexp",Xe),string:new K("string",Xe),name:new K("name",Xe),privateId:new K("privateId",Xe),eof:new K("eof"),bracketL:new K("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new K("]"),braceL:new K("{",{beforeExpr:!0,startsExpr:!0}),braceR:new K("}"),parenL:new K("(",{beforeExpr:!0,startsExpr:!0}),parenR:new K(")"),comma:new K(",",ut),semi:new K(";",ut),colon:new K(":",ut),dot:new K("."),question:new K("?",ut),questionDot:new K("?."),arrow:new K("=>",ut),template:new K("template"),invalidTemplate:new K("invalidTemplate"),ellipsis:new K("...",ut),backQuote:new K("`",Xe),dollarBraceL:new K("${",{beforeExpr:!0,startsExpr:!0}),eq:new K("=",{beforeExpr:!0,isAssign:!0}),assign:new K("_=",{beforeExpr:!0,isAssign:!0}),incDec:new K("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new K("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:pt("||",1),logicalAND:pt("&&",2),bitwiseOR:pt("|",3),bitwiseXOR:pt("^",4),bitwiseAND:pt("&",5),equality:pt("==/!=/===/!==",6),relational:pt("</>/<=/>=",7),bitShift:pt("<</>>/>>>",8),plusMin:new K("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:pt("%",10),star:pt("*",10),slash:pt("/",10),starstar:new K("**",{beforeExpr:!0}),coalesce:pt("??",1),_break:G("break"),_case:G("case",ut),_catch:G("catch"),_continue:G("continue"),_debugger:G("debugger"),_default:G("default",ut),_do:G("do",{isLoop:!0,beforeExpr:!0}),_else:G("else",ut),_finally:G("finally"),_for:G("for",{isLoop:!0}),_function:G("function",Xe),_if:G("if"),_return:G("return",ut),_switch:G("switch"),_throw:G("throw",ut),_try:G("try"),_var:G("var"),_const:G("const"),_while:G("while",{isLoop:!0}),_with:G("with"),_new:G("new",{beforeExpr:!0,startsExpr:!0}),_this:G("this",Xe),_super:G("super",Xe),_class:G("class",Xe),_extends:G("extends",ut),_export:G("export"),_import:G("import",Xe),_null:G("null",Xe),_true:G("true",Xe),_false:G("false",Xe),_in:G("in",{beforeExpr:!0,binop:7}),_instanceof:G("instanceof",{beforeExpr:!0,binop:7}),_typeof:G("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:G("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:G("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},ht=/\r\n?|\n|\u2028|\u2029/,C1=new RegExp(ht.source,"g");function so(t){return t===10||t===13||t===8232||t===8233}r(so,"isNewLine");function Hk(t,e,i){i===void 0&&(i=t.length);for(var s=e;s<i;s++){var o=t.charCodeAt(s);if(so(o))return s<i-1&&o===13&&t.charCodeAt(s+1)===10?s+2:s+1}return-1}r(Hk,"nextLineBreak");var Gk=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ft=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,jk=Object.prototype,P1=jk.hasOwnProperty,N1=jk.toString,Ud=Object.hasOwn||function(t,e){return P1.call(t,e)},Bk=Array.isArray||function(t){return N1.call(t)==="[object Array]"},Ok=Object.create(null);function Xi(t){return Ok[t]||(Ok[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}r(Xi,"wordsRegexp");function Qi(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}r(Qi,"codePointToString");var A1=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Yd=r(function(e,i){this.line=e,this.column=i},"Position");Yd.prototype.offset=r(function(e){return new Yd(this.line,this.column+e)},"offset");var Eg=r(function(e,i,s){this.start=i,this.end=s,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function $k(t,e){for(var i=1,s=0;;){var o=Hk(t,s,e);if(o<0)return new Yd(i,e-s);++i,s=o}}r($k,"getLineInfo");var kw={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Vk=!1;function R1(t){var e={};for(var i in kw)e[i]=t&&Ud(t,i)?t[i]:kw[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!Vk&&typeof console=="object"&&console.warn&&(Vk=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),Bk(e.onToken)){var s=e.onToken;e.onToken=function(o){return s.push(o)}}return Bk(e.onComment)&&(e.onComment=M1(e,e.onComment)),e}r(R1,"getOptions");function M1(t,e){return function(i,s,o,a,p,f){var m={type:i?"Block":"Line",value:s,start:o,end:a};t.locations&&(m.loc=new Eg(this,p,f)),t.ranges&&(m.range=[o,a]),e.push(m)}}r(M1,"pushComment");var Fd=1,oo=2,Nw=4,Kk=8,qk=16,zk=32,Aw=64,Xk=128,Wd=256,Rw=Fd|oo|Wd;function Mw(t,e){return oo|(t?Nw:0)|(e?Kk:0)}r(Mw,"functionFlags");var vg=0,Lw=1,bi=2,Qk=3,Jk=4,Zk=5,be=r(function(e,i,s){this.options=e=R1(e),this.sourceFile=e.sourceFile,this.keywords=Xi(I1[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var o="";e.allowReserved!==!0&&(o=Tw[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(o+=" await")),this.reservedWords=Xi(o);var a=(o?o+" ":"")+Tw.strict;this.reservedWordsStrict=Xi(a),this.reservedWordsStrictBind=Xi(a+" "+Tw.strictBind),this.input=String(i),this.containsEsc=!1,s?(this.pos=s,this.lineStart=this.input.lastIndexOf(`
`,s-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(ht).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=d.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Fd),this.regexpState=null,this.privateNameStack=[]},"Parser"),Qt={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};be.prototype.parse=r(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");Qt.inFunction.get=function(){return(this.currentVarScope().flags&oo)>0};Qt.inGenerator.get=function(){return(this.currentVarScope().flags&Kk)>0&&!this.currentVarScope().inClassFieldInit};Qt.inAsync.get=function(){return(this.currentVarScope().flags&Nw)>0&&!this.currentVarScope().inClassFieldInit};Qt.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Wd)return!1;if(e.flags&oo)return(e.flags&Nw)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Qt.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&Aw)>0||i||this.options.allowSuperOutsideMethod};Qt.allowDirectSuper.get=function(){return(this.currentThisScope().flags&Xk)>0};Qt.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Qt.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(oo|Wd))>0||i};Qt.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Wd)>0};be.extend=r(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var s=this,o=0;o<e.length;o++)s=e[o](s);return s},"extend");be.parse=r(function(e,i){return new this(i,e).parse()},"parse");be.parseExpressionAt=r(function(e,i,s){var o=new this(s,e,i);return o.nextToken(),o.parseExpression()},"parseExpressionAt");be.tokenizer=r(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(be.prototype,Qt);var He=be.prototype,L1=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;He.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){ft.lastIndex=t,t+=ft.exec(this.input)[0].length;var e=L1.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){ft.lastIndex=t+e[0].length;var i=ft.exec(this.input),s=i.index+i[0].length,o=this.input.charAt(s);return o===";"||o==="}"||ht.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(o)||o==="!"&&this.input.charAt(s+1)==="=")}t+=e[0].length,ft.lastIndex=t,t+=ft.exec(this.input)[0].length,this.input[t]===";"&&t++}};He.eat=function(t){return this.type===t?(this.next(),!0):!1};He.isContextual=function(t){return this.type===d.name&&this.value===t&&!this.containsEsc};He.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};He.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};He.canInsertSemicolon=function(){return this.type===d.eof||this.type===d.braceR||ht.test(this.input.slice(this.lastTokEnd,this.start))};He.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};He.semicolon=function(){!this.eat(d.semi)&&!this.insertSemicolon()&&this.unexpected()};He.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};He.expect=function(t){this.eat(t)||this.unexpected()};He.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Cg=r(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");He.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};He.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,s=t.doubleProto;if(!e)return i>=0||s>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),s>=0&&this.raiseRecoverable(s,"Redefinition of __proto__ property")};He.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};He.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var A=be.prototype;A.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==d.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var s=0,o=Object.keys(this.undefinedExports);s<o.length;s+=1){var a=o[s];this.raiseRecoverable(this.undefinedExports[a].start,"Export '"+a+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var Dw={kind:"loop"},D1={kind:"switch"};A.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ft.lastIndex=this.pos;var e=ft.exec(this.input),i=this.pos+e[0].length,s=this.input.charCodeAt(i);if(s===91||s===92)return!0;if(t)return!1;if(s===123||s>55295&&s<56320)return!0;if(xi(s,!0)){for(var o=i+1;ro(s=this.input.charCodeAt(o),!0);)++o;if(s===92||s>55295&&s<56320)return!0;var a=this.input.slice(i,o);if(!S1.test(a))return!0}return!1};A.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ft.lastIndex=this.pos;var t=ft.exec(this.input),e=this.pos+t[0].length,i;return!ht.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(ro(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};A.parseStatement=function(t,e,i){var s=this.type,o=this.startNode(),a;switch(this.isLet(t)&&(s=d._var,a="let"),s){case d._break:case d._continue:return this.parseBreakContinueStatement(o,s.keyword);case d._debugger:return this.parseDebuggerStatement(o);case d._do:return this.parseDoStatement(o);case d._for:return this.parseForStatement(o);case d._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!t);case d._class:return t&&this.unexpected(),this.parseClass(o,!0);case d._if:return this.parseIfStatement(o);case d._return:return this.parseReturnStatement(o);case d._switch:return this.parseSwitchStatement(o);case d._throw:return this.parseThrowStatement(o);case d._try:return this.parseTryStatement(o);case d._const:case d._var:return a=a||this.value,t&&a!=="var"&&this.unexpected(),this.parseVarStatement(o,a);case d._while:return this.parseWhileStatement(o);case d._with:return this.parseWithStatement(o);case d.braceL:return this.parseBlock(!0,o);case d.semi:return this.parseEmptyStatement(o);case d._export:case d._import:if(this.options.ecmaVersion>10&&s===d._import){ft.lastIndex=this.pos;var p=ft.exec(this.input),f=this.pos+p[0].length,m=this.input.charCodeAt(f);if(m===40||m===46)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),s===d._import?this.parseImport(o):this.parseExport(o,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!t);var _=this.value,x=this.parseExpression();return s===d.name&&x.type==="Identifier"&&this.eat(d.colon)?this.parseLabeledStatement(o,_,x,t):this.parseExpressionStatement(o,x)}};A.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(d.semi)||this.insertSemicolon()?t.label=null:this.type!==d.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var s=0;s<this.labels.length;++s){var o=this.labels[s];if((t.label==null||o.name===t.label.name)&&(o.kind!=null&&(i||o.kind==="loop")||t.label&&i))break}return s===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};A.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};A.parseDoStatement=function(t){return this.next(),this.labels.push(Dw),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(d._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(d.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};A.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Dw),this.enterScope(0),this.expect(d.parenL),this.type===d.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===d._var||this.type===d._const||i){var s=this.startNode(),o=i?"let":this.value;return this.next(),this.parseVar(s,!0,o),this.finishNode(s,"VariableDeclaration"),(this.type===d._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&s.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===d._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,s)):(e>-1&&this.unexpected(e),this.parseFor(t,s))}var a=this.isContextual("let"),p=!1,f=this.containsEsc,m=new Cg,_=this.start,x=e>-1?this.parseExprSubscripts(m,"await"):this.parseExpression(!0,m);return this.type===d._in||(p=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===d._in&&this.unexpected(e),t.await=!0):p&&this.options.ecmaVersion>=8&&(x.start===_&&!f&&x.type==="Identifier"&&x.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),a&&p&&this.raise(x.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(x,!1,m),this.checkLValPattern(x),this.parseForIn(t,x)):(this.checkExpressionErrors(m,!0),e>-1&&this.unexpected(e),this.parseFor(t,x))};A.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,Vd|(i?0:Ew),!1,e)};A.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(d._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};A.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(d.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};A.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(d.braceL),this.labels.push(D1),this.enterScope(0);for(var e,i=!1;this.type!==d.braceR;)if(this.type===d._case||this.type===d._default){var s=this.type===d._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),s?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(d.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};A.parseThrowStatement=function(t){return this.next(),ht.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var B1=[];A.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?zk:0),this.checkLValPattern(t,e?Jk:bi),this.expect(d.parenR),t};A.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===d._catch){var e=this.startNode();this.next(),this.eat(d.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(d._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};A.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};A.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(Dw),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};A.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};A.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};A.parseLabeledStatement=function(t,e,i,s){for(var o=0,a=this.labels;o<a.length;o+=1){var p=a[o];p.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var f=this.type.isLoop?"loop":this.type===d._switch?"switch":null,m=this.labels.length-1;m>=0;m--){var _=this.labels[m];if(_.statementStart===t.start)_.statementStart=this.start,_.kind=f;else break}return this.labels.push({name:e,kind:f,statementStart:this.start}),t.body=this.parseStatement(s?s.indexOf("label")===-1?s+"label":s:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};A.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};A.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(d.braceL),t&&this.enterScope(0);this.type!==d.braceR;){var s=this.parseStatement(null);e.body.push(s)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};A.parseFor=function(t,e){return t.init=e,this.expect(d.semi),t.test=this.type===d.semi?null:this.parseExpression(),this.expect(d.semi),t.update=this.type===d.parenR?null:this.parseExpression(),this.expect(d.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};A.parseForIn=function(t,e){var i=this.type===d._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(d.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};A.parseVar=function(t,e,i,s){for(t.declarations=[],t.kind=i;;){var o=this.startNode();if(this.parseVarId(o,i),this.eat(d.eq)?o.init=this.parseMaybeAssign(e):!s&&i==="const"&&!(this.type===d._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!s&&o.id.type!=="Identifier"&&!(e&&(this.type===d._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,t.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(d.comma))break}return t};A.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?Lw:bi,!1)};var Vd=1,Ew=2,eE=4;A.parseFunction=function(t,e,i,s,o){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!s)&&(this.type===d.star&&e&Ew&&this.unexpected(),t.generator=this.eat(d.star)),this.options.ecmaVersion>=8&&(t.async=!!s),e&Vd&&(t.id=e&eE&&this.type!==d.name?null:this.parseIdent(),t.id&&!(e&Ew)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Lw:bi:Qk));var a=this.yieldPos,p=this.awaitPos,f=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Mw(t.async,t.generator)),e&Vd||(t.id=this.type===d.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,o),this.yieldPos=a,this.awaitPos=p,this.awaitIdentPos=f,this.finishNode(t,e&Vd?"FunctionDeclaration":"FunctionExpression")};A.parseFunctionParams=function(t){this.expect(d.parenL),t.params=this.parseBindingList(d.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};A.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var s=this.enterClassBody(),o=this.startNode(),a=!1;for(o.body=[],this.expect(d.braceL);this.type!==d.braceR;){var p=this.parseClassElement(t.superClass!==null);p&&(o.body.push(p),p.type==="MethodDefinition"&&p.kind==="constructor"?(a&&this.raiseRecoverable(p.start,"Duplicate constructor in the same class"),a=!0):p.key&&p.key.type==="PrivateIdentifier"&&O1(s,p)&&this.raiseRecoverable(p.key.start,"Identifier '#"+p.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(o,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};A.parseClassElement=function(t){if(this.eat(d.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),s="",o=!1,a=!1,p="method",f=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(d.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===d.star?f=!0:s="static"}if(i.static=f,!s&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===d.star)&&!this.canInsertSemicolon()?a=!0:s="async"),!s&&(e>=9||!a)&&this.eat(d.star)&&(o=!0),!s&&!a&&!o){var m=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?p=m:s=m)}if(s?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=s,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===d.parenL||p!=="method"||o||a){var _=!i.static&&Ig(i,"constructor"),x=_&&t;_&&p!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=_?"constructor":p,this.parseClassMethod(i,o,a,x)}else this.parseClassField(i);return i};A.isClassElementNameStart=function(){return this.type===d.name||this.type===d.privateId||this.type===d.num||this.type===d.string||this.type===d.bracketL||this.type.keyword};A.parseClassElementName=function(t){this.type===d.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};A.parseClassMethod=function(t,e,i,s){var o=t.key;t.kind==="constructor"?(e&&this.raise(o.start,"Constructor can't be a generator"),i&&this.raise(o.start,"Constructor can't be an async method")):t.static&&Ig(t,"prototype")&&this.raise(o.start,"Classes may not have a static property named prototype");var a=t.value=this.parseMethod(e,i,s);return t.kind==="get"&&a.params.length!==0&&this.raiseRecoverable(a.start,"getter should have no params"),t.kind==="set"&&a.params.length!==1&&this.raiseRecoverable(a.start,"setter should have exactly one param"),t.kind==="set"&&a.params[0].type==="RestElement"&&this.raiseRecoverable(a.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};A.parseClassField=function(t){if(Ig(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&Ig(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(d.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};A.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Wd|Aw);this.type!==d.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};A.parseClassId=function(t,e){this.type===d.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,bi,!1)):(e===!0&&this.unexpected(),t.id=null)};A.parseClassSuper=function(t){t.superClass=this.eat(d._extends)?this.parseExprSubscripts(null,!1):null};A.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};A.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var s=this.privateNameStack.length,o=s===0?null:this.privateNameStack[s-1],a=0;a<i.length;++a){var p=i[a];Ud(e,p.name)||(o?o.used.push(p):this.raiseRecoverable(p.start,"Private field '#"+p.name+"' must be declared in an enclosing class"))}};function O1(t,e){var i=e.key.name,s=t[i],o="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(o=(e.static?"s":"i")+e.kind),s==="iget"&&o==="iset"||s==="iset"&&o==="iget"||s==="sget"&&o==="sset"||s==="sset"&&o==="sget"?(t[i]="true",!1):s?!0:(t[i]=o,!1)}r(O1,"isPrivateNameConflicted");function Ig(t,e){var i=t.computed,s=t.key;return!i&&(s.type==="Identifier"&&s.name===e||s.type==="Literal"&&s.value===e)}r(Ig,"checkKeyName");A.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==d.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};A.parseExport=function(t,e){if(this.next(),this.eat(d.star))return this.parseExportAllDeclaration(t,e);if(this.eat(d._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==d.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,s=t.specifiers;i<s.length;i+=1){var o=s[i];this.checkUnreserved(o.local),this.checkLocalExport(o.local),o.local.type==="Literal"&&this.raise(o.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};A.parseExportDeclaration=function(t){return this.parseStatement(null)};A.parseExportDefaultDeclaration=function(){var t;if(this.type===d._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,Vd|eE,!1,t)}else if(this.type===d._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var s=this.parseMaybeAssign();return this.semicolon(),s}};A.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Ud(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};A.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var s=0,o=e.properties;s<o.length;s+=1){var a=o[s];this.checkPatternExport(t,a)}else if(i==="ArrayPattern")for(var p=0,f=e.elements;p<f.length;p+=1){var m=f[p];m&&this.checkPatternExport(t,m)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};A.checkVariableExport=function(t,e){if(!!t)for(var i=0,s=e;i<s.length;i+=1){var o=s[i];this.checkPatternExport(t,o.id)}};A.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};A.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};A.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(d.braceL);!this.eat(d.braceR);){if(i)i=!1;else if(this.expect(d.comma),this.afterTrailingComma(d.braceR))break;e.push(this.parseExportSpecifier(t))}return e};A.parseImport=function(t){return this.next(),this.type===d.string?(t.specifiers=B1,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===d.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};A.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,bi),this.finishNode(t,"ImportSpecifier")};A.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,bi),this.finishNode(t,"ImportDefaultSpecifier")};A.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,bi),this.finishNode(t,"ImportNamespaceSpecifier")};A.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===d.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(d.comma)))return t;if(this.type===d.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(d.braceL);!this.eat(d.braceR);){if(e)e=!1;else if(this.expect(d.comma),this.afterTrailingComma(d.braceR))break;t.push(this.parseImportSpecifier())}return t};A.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===d.string){var t=this.parseLiteral(this.value);return A1.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};A.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};A.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var dt=be.prototype;dt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var s=0,o=t.properties;s<o.length;s+=1){var a=o[s];this.toAssignable(a,e),a.type==="RestElement"&&(a.argument.type==="ArrayPattern"||a.argument.type==="ObjectPattern")&&this.raise(a.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};dt.toAssignableList=function(t,e){for(var i=t.length,s=0;s<i;s++){var o=t[s];o&&this.toAssignable(o,e)}if(i){var a=t[i-1];this.options.ecmaVersion===6&&e&&a&&a.type==="RestElement"&&a.argument.type!=="Identifier"&&this.unexpected(a.argument.start)}return t};dt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};dt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==d.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};dt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case d.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(d.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case d.braceL:return this.parseObj(!0)}return this.parseIdent()};dt.parseBindingList=function(t,e,i,s){for(var o=[],a=!0;!this.eat(t);)if(a?a=!1:this.expect(d.comma),e&&this.type===d.comma)o.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===d.ellipsis){var p=this.parseRestBinding();this.parseBindingListItem(p),o.push(p),this.type===d.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else o.push(this.parseAssignableListItem(s))}return o};dt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};dt.parseBindingListItem=function(t){return t};dt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(d.eq))return i;var s=this.startNodeAt(t,e);return s.left=i,s.right=this.parseMaybeAssign(),this.finishNode(s,"AssignmentPattern")};dt.checkLValSimple=function(t,e,i){e===void 0&&(e=vg);var s=e!==vg;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(s?"Binding ":"Assigning to ")+t.name+" in strict mode"),s&&(e===bi&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Ud(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==Zk&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":s&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return s&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(s?"Binding":"Assigning to")+" rvalue")}};dt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=vg),t.type){case"ObjectPattern":for(var s=0,o=t.properties;s<o.length;s+=1){var a=o[s];this.checkLValInnerPattern(a,e,i)}break;case"ArrayPattern":for(var p=0,f=t.elements;p<f.length;p+=1){var m=f[p];m&&this.checkLValInnerPattern(m,e,i)}break;default:this.checkLValSimple(t,e,i)}};dt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=vg),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Pt=r(function(e,i,s,o,a){this.token=e,this.isExpr=!!i,this.preserveSpace=!!s,this.override=o,this.generator=!!a},"TokContext"),ce={b_stat:new Pt("{",!1),b_expr:new Pt("{",!0),b_tmpl:new Pt("${",!1),p_stat:new Pt("(",!1),p_expr:new Pt("(",!0),q_tmpl:new Pt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Pt("function",!1),f_expr:new Pt("function",!0),f_expr_gen:new Pt("function",!0,!1,null,!0),f_gen:new Pt("function",!1,!1,null,!0)},no=be.prototype;no.initialContext=function(){return[ce.b_stat]};no.curContext=function(){return this.context[this.context.length-1]};no.braceIsBlock=function(t){var e=this.curContext();return e===ce.f_expr||e===ce.f_stat?!0:t===d.colon&&(e===ce.b_stat||e===ce.b_expr)?!e.isExpr:t===d._return||t===d.name&&this.exprAllowed?ht.test(this.input.slice(this.lastTokEnd,this.start)):t===d._else||t===d.semi||t===d.eof||t===d.parenR||t===d.arrow?!0:t===d.braceL?e===ce.b_stat:t===d._var||t===d._const||t===d.name?!1:!this.exprAllowed};no.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};no.updateContext=function(t){var e,i=this.type;i.keyword&&t===d.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};no.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};d.parenR.updateContext=d.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===ce.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};d.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?ce.b_stat:ce.b_expr),this.exprAllowed=!0};d.dollarBraceL.updateContext=function(){this.context.push(ce.b_tmpl),this.exprAllowed=!0};d.parenL.updateContext=function(t){var e=t===d._if||t===d._for||t===d._with||t===d._while;this.context.push(e?ce.p_stat:ce.p_expr),this.exprAllowed=!0};d.incDec.updateContext=function(){};d._function.updateContext=d._class.updateContext=function(t){t.beforeExpr&&t!==d._else&&!(t===d.semi&&this.curContext()!==ce.p_stat)&&!(t===d._return&&ht.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===d.colon||t===d.braceL)&&this.curContext()===ce.b_stat)?this.context.push(ce.f_expr):this.context.push(ce.f_stat),this.exprAllowed=!1};d.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};d.backQuote.updateContext=function(){this.curContext()===ce.q_tmpl?this.context.pop():this.context.push(ce.q_tmpl),this.exprAllowed=!1};d.star.updateContext=function(t){if(t===d._function){var e=this.context.length-1;this.context[e]===ce.f_expr?this.context[e]=ce.f_expr_gen:this.context[e]=ce.f_gen}this.exprAllowed=!0};d.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==d.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var B=be.prototype;B.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var s=t.key,o;switch(s.type){case"Identifier":o=s.name;break;case"Literal":o=String(s.value);break;default:return}var a=t.kind;if(this.options.ecmaVersion>=6){o==="__proto__"&&a==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=s.start):this.raiseRecoverable(s.start,"Redefinition of __proto__ property")),e.proto=!0);return}o="$"+o;var p=e[o];if(p){var f;a==="init"?f=this.strict&&p.init||p.get||p.set:f=p.init||p[a],f&&this.raiseRecoverable(s.start,"Redefinition of property")}else p=e[o]={init:!1,get:!1,set:!1};p[a]=!0}};B.parseExpression=function(t,e){var i=this.start,s=this.startLoc,o=this.parseMaybeAssign(t,e);if(this.type===d.comma){var a=this.startNodeAt(i,s);for(a.expressions=[o];this.eat(d.comma);)a.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(a,"SequenceExpression")}return o};B.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var s=!1,o=-1,a=-1,p=-1;e?(o=e.parenthesizedAssign,a=e.trailingComma,p=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Cg,s=!0);var f=this.start,m=this.startLoc;(this.type===d.parenL||this.type===d.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var _=this.parseMaybeConditional(t,e);if(i&&(_=i.call(this,_,f,m)),this.type.isAssign){var x=this.startNodeAt(f,m);return x.operator=this.value,this.type===d.eq&&(_=this.toAssignable(_,!1,e)),s||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=_.start&&(e.shorthandAssign=-1),this.type===d.eq?this.checkLValPattern(_):this.checkLValSimple(_),x.left=_,this.next(),x.right=this.parseMaybeAssign(t),p>-1&&(e.doubleProto=p),this.finishNode(x,"AssignmentExpression")}else s&&this.checkExpressionErrors(e,!0);return o>-1&&(e.parenthesizedAssign=o),a>-1&&(e.trailingComma=a),_};B.parseMaybeConditional=function(t,e){var i=this.start,s=this.startLoc,o=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return o;if(this.eat(d.question)){var a=this.startNodeAt(i,s);return a.test=o,a.consequent=this.parseMaybeAssign(),this.expect(d.colon),a.alternate=this.parseMaybeAssign(t),this.finishNode(a,"ConditionalExpression")}return o};B.parseExprOps=function(t,e){var i=this.start,s=this.startLoc,o=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||o.start===i&&o.type==="ArrowFunctionExpression"?o:this.parseExprOp(o,i,s,-1,t)};B.parseExprOp=function(t,e,i,s,o){var a=this.type.binop;if(a!=null&&(!o||this.type!==d._in)&&a>s){var p=this.type===d.logicalOR||this.type===d.logicalAND,f=this.type===d.coalesce;f&&(a=d.logicalAND.binop);var m=this.value;this.next();var _=this.start,x=this.startLoc,b=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,o),_,x,a,o),w=this.buildBinary(e,i,t,b,m,p||f);return(p&&this.type===d.coalesce||f&&(this.type===d.logicalOR||this.type===d.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(w,e,i,s,o)}return t};B.buildBinary=function(t,e,i,s,o,a){s.type==="PrivateIdentifier"&&this.raise(s.start,"Private identifier can only be left side of binary expression");var p=this.startNodeAt(t,e);return p.left=i,p.operator=o,p.right=s,this.finishNode(p,a?"LogicalExpression":"BinaryExpression")};B.parseMaybeUnary=function(t,e,i,s){var o=this.start,a=this.startLoc,p;if(this.isContextual("await")&&this.canAwait)p=this.parseAwait(s),e=!0;else if(this.type.prefix){var f=this.startNode(),m=this.type===d.incDec;f.operator=this.value,f.prefix=!0,this.next(),f.argument=this.parseMaybeUnary(null,!0,m,s),this.checkExpressionErrors(t,!0),m?this.checkLValSimple(f.argument):this.strict&&f.operator==="delete"&&tE(f.argument)?this.raiseRecoverable(f.start,"Deleting local variable in strict mode"):f.operator==="delete"&&Cw(f.argument)?this.raiseRecoverable(f.start,"Private fields can not be deleted"):e=!0,p=this.finishNode(f,m?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===d.privateId)(s||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),p=this.parsePrivateIdent(),this.type!==d._in&&this.unexpected();else{if(p=this.parseExprSubscripts(t,s),this.checkExpressionErrors(t))return p;for(;this.type.postfix&&!this.canInsertSemicolon();){var _=this.startNodeAt(o,a);_.operator=this.value,_.prefix=!1,_.argument=p,this.checkLValSimple(p),this.next(),p=this.finishNode(_,"UpdateExpression")}}if(!i&&this.eat(d.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(o,a,p,this.parseMaybeUnary(null,!1,!1,s),"**",!1);else return p};function tE(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&tE(t.expression)}r(tE,"isLocalVariableAccess");function Cw(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&Cw(t.expression)||t.type==="ParenthesizedExpression"&&Cw(t.expression)}r(Cw,"isPrivateFieldAccess");B.parseExprSubscripts=function(t,e){var i=this.start,s=this.startLoc,o=this.parseExprAtom(t,e);if(o.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return o;var a=this.parseSubscripts(o,i,s,!1,e);return t&&a.type==="MemberExpression"&&(t.parenthesizedAssign>=a.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=a.start&&(t.parenthesizedBind=-1),t.trailingComma>=a.start&&(t.trailingComma=-1)),a};B.parseSubscripts=function(t,e,i,s,o){for(var a=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,p=!1;;){var f=this.parseSubscript(t,e,i,s,a,p,o);if(f.optional&&(p=!0),f===t||f.type==="ArrowFunctionExpression"){if(p){var m=this.startNodeAt(e,i);m.expression=f,f=this.finishNode(m,"ChainExpression")}return f}t=f}};B.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(d.arrow)};B.parseSubscriptAsyncArrow=function(t,e,i,s){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,s)};B.parseSubscript=function(t,e,i,s,o,a,p){var f=this.options.ecmaVersion>=11,m=f&&this.eat(d.questionDot);s&&m&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var _=this.eat(d.bracketL);if(_||m&&this.type!==d.parenL&&this.type!==d.backQuote||this.eat(d.dot)){var x=this.startNodeAt(e,i);x.object=t,_?(x.property=this.parseExpression(),this.expect(d.bracketR)):this.type===d.privateId&&t.type!=="Super"?x.property=this.parsePrivateIdent():x.property=this.parseIdent(this.options.allowReserved!=="never"),x.computed=!!_,f&&(x.optional=m),t=this.finishNode(x,"MemberExpression")}else if(!s&&this.eat(d.parenL)){var b=new Cg,w=this.yieldPos,I=this.awaitPos,v=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var k=this.parseExprList(d.parenR,this.options.ecmaVersion>=8,!1,b);if(o&&!m&&this.shouldParseAsyncArrow())return this.checkPatternErrors(b,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=w,this.awaitPos=I,this.awaitIdentPos=v,this.parseSubscriptAsyncArrow(e,i,k,p);this.checkExpressionErrors(b,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=I||this.awaitPos,this.awaitIdentPos=v||this.awaitIdentPos;var C=this.startNodeAt(e,i);C.callee=t,C.arguments=k,f&&(C.optional=m),t=this.finishNode(C,"CallExpression")}else if(this.type===d.backQuote){(m||a)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var E=this.startNodeAt(e,i);E.tag=t,E.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(E,"TaggedTemplateExpression")}return t};B.parseExprAtom=function(t,e,i){this.type===d.slash&&this.readRegexp();var s,o=this.potentialArrowAt===this.start;switch(this.type){case d._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),s=this.startNode(),this.next(),this.type===d.parenL&&!this.allowDirectSuper&&this.raise(s.start,"super() call outside constructor of a subclass"),this.type!==d.dot&&this.type!==d.bracketL&&this.type!==d.parenL&&this.unexpected(),this.finishNode(s,"Super");case d._this:return s=this.startNode(),this.next(),this.finishNode(s,"ThisExpression");case d.name:var a=this.start,p=this.startLoc,f=this.containsEsc,m=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!f&&m.name==="async"&&!this.canInsertSemicolon()&&this.eat(d._function))return this.overrideContext(ce.f_expr),this.parseFunction(this.startNodeAt(a,p),0,!1,!0,e);if(o&&!this.canInsertSemicolon()){if(this.eat(d.arrow))return this.parseArrowExpression(this.startNodeAt(a,p),[m],!1,e);if(this.options.ecmaVersion>=8&&m.name==="async"&&this.type===d.name&&!f&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return m=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(d.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(a,p),[m],!0,e)}return m;case d.regexp:var _=this.value;return s=this.parseLiteral(_.value),s.regex={pattern:_.pattern,flags:_.flags},s;case d.num:case d.string:return this.parseLiteral(this.value);case d._null:case d._true:case d._false:return s=this.startNode(),s.value=this.type===d._null?null:this.type===d._true,s.raw=this.type.keyword,this.next(),this.finishNode(s,"Literal");case d.parenL:var x=this.start,b=this.parseParenAndDistinguishExpression(o,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(b)&&(t.parenthesizedAssign=x),t.parenthesizedBind<0&&(t.parenthesizedBind=x)),b;case d.bracketL:return s=this.startNode(),this.next(),s.elements=this.parseExprList(d.bracketR,!0,!0,t),this.finishNode(s,"ArrayExpression");case d.braceL:return this.overrideContext(ce.b_expr),this.parseObj(!1,t);case d._function:return s=this.startNode(),this.next(),this.parseFunction(s,0);case d._class:return this.parseClass(this.startNode(),!1);case d._new:return this.parseNew();case d.backQuote:return this.parseTemplate();case d._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};B.parseExprAtomDefault=function(){this.unexpected()};B.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===d.parenL&&!t)return this.parseDynamicImport(e);if(this.type===d.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};B.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(d.parenR)){var e=this.start;this.eat(d.comma)&&this.eat(d.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};B.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};B.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};B.parseParenExpression=function(){this.expect(d.parenL);var t=this.parseExpression();return this.expect(d.parenR),t};B.shouldParseArrow=function(t){return!this.canInsertSemicolon()};B.parseParenAndDistinguishExpression=function(t,e){var i=this.start,s=this.startLoc,o,a=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var p=this.start,f=this.startLoc,m=[],_=!0,x=!1,b=new Cg,w=this.yieldPos,I=this.awaitPos,v;for(this.yieldPos=0,this.awaitPos=0;this.type!==d.parenR;)if(_?_=!1:this.expect(d.comma),a&&this.afterTrailingComma(d.parenR,!0)){x=!0;break}else if(this.type===d.ellipsis){v=this.start,m.push(this.parseParenItem(this.parseRestBinding())),this.type===d.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else m.push(this.parseMaybeAssign(!1,b,this.parseParenItem));var k=this.lastTokEnd,C=this.lastTokEndLoc;if(this.expect(d.parenR),t&&this.shouldParseArrow(m)&&this.eat(d.arrow))return this.checkPatternErrors(b,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=w,this.awaitPos=I,this.parseParenArrowList(i,s,m,e);(!m.length||x)&&this.unexpected(this.lastTokStart),v&&this.unexpected(v),this.checkExpressionErrors(b,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=I||this.awaitPos,m.length>1?(o=this.startNodeAt(p,f),o.expressions=m,this.finishNodeAt(o,"SequenceExpression",k,C)):o=m[0]}else o=this.parseParenExpression();if(this.options.preserveParens){var E=this.startNodeAt(i,s);return E.expression=o,this.finishNode(E,"ParenthesizedExpression")}else return o};B.parseParenItem=function(t){return t};B.parseParenArrowList=function(t,e,i,s){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,s)};var V1=[];B.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===d.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var s=this.start,o=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),s,o,!0,!1),this.eat(d.parenL)?t.arguments=this.parseExprList(d.parenR,this.options.ecmaVersion>=8,!1):t.arguments=V1,this.finishNode(t,"NewExpression")};B.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===d.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===d.backQuote,this.finishNode(i,"TemplateElement")};B.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var s=this.parseTemplateElement({isTagged:e});for(i.quasis=[s];!s.tail;)this.type===d.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(d.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(d.braceR),i.quasis.push(s=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};B.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===d.name||this.type===d.num||this.type===d.string||this.type===d.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===d.star)&&!ht.test(this.input.slice(this.lastTokEnd,this.start))};B.parseObj=function(t,e){var i=this.startNode(),s=!0,o={};for(i.properties=[],this.next();!this.eat(d.braceR);){if(s)s=!1;else if(this.expect(d.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(d.braceR))break;var a=this.parseProperty(t,e);t||this.checkPropClash(a,o,e),i.properties.push(a)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};B.parseProperty=function(t,e){var i=this.startNode(),s,o,a,p;if(this.options.ecmaVersion>=9&&this.eat(d.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===d.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===d.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(a=this.start,p=this.startLoc),t||(s=this.eat(d.star)));var f=this.containsEsc;return this.parsePropertyName(i),!t&&!f&&this.options.ecmaVersion>=8&&!s&&this.isAsyncProp(i)?(o=!0,s=this.options.ecmaVersion>=9&&this.eat(d.star),this.parsePropertyName(i)):o=!1,this.parsePropertyValue(i,t,s,o,a,p,e,f),this.finishNode(i,"Property")};B.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};B.parsePropertyValue=function(t,e,i,s,o,a,p,f){(i||s)&&this.type===d.colon&&this.unexpected(),this.eat(d.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,p),t.kind="init"):this.options.ecmaVersion>=6&&this.type===d.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,s)):!e&&!f&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==d.comma&&this.type!==d.braceR&&this.type!==d.eq?((i||s)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||s)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=o),t.kind="init",e?t.value=this.parseMaybeDefault(o,a,this.copyNode(t.key)):this.type===d.eq&&p?(p.shorthandAssign<0&&(p.shorthandAssign=this.start),t.value=this.parseMaybeDefault(o,a,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};B.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(d.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(d.bracketR),t.key;t.computed=!1}return t.key=this.type===d.num||this.type===d.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};B.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};B.parseMethod=function(t,e,i){var s=this.startNode(),o=this.yieldPos,a=this.awaitPos,p=this.awaitIdentPos;return this.initFunction(s),this.options.ecmaVersion>=6&&(s.generator=t),this.options.ecmaVersion>=8&&(s.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Mw(e,s.generator)|Aw|(i?Xk:0)),this.expect(d.parenL),s.params=this.parseBindingList(d.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(s,!1,!0,!1),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=p,this.finishNode(s,"FunctionExpression")};B.parseArrowExpression=function(t,e,i,s){var o=this.yieldPos,a=this.awaitPos,p=this.awaitIdentPos;return this.enterScope(Mw(i,!1)|qk),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,s),this.yieldPos=o,this.awaitPos=a,this.awaitIdentPos=p,this.finishNode(t,"ArrowFunctionExpression")};B.parseFunctionBody=function(t,e,i,s){var o=e&&this.type!==d.braceL,a=this.strict,p=!1;if(o)t.body=this.parseMaybeAssign(s),t.expression=!0,this.checkParams(t,!1);else{var f=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!a||f)&&(p=this.strictDirective(this.end),p&&f&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var m=this.labels;this.labels=[],p&&(this.strict=!0),this.checkParams(t,!a&&!p&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,Zk),t.body=this.parseBlock(!1,void 0,p&&!a),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=m}this.exitScope()};B.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var s=i[e];if(s.type!=="Identifier")return!1}return!0};B.checkParams=function(t,e){for(var i=Object.create(null),s=0,o=t.params;s<o.length;s+=1){var a=o[s];this.checkLValInnerPattern(a,Lw,e?null:i)}};B.parseExprList=function(t,e,i,s){for(var o=[],a=!0;!this.eat(t);){if(a)a=!1;else if(this.expect(d.comma),e&&this.afterTrailingComma(t))break;var p=void 0;i&&this.type===d.comma?p=null:this.type===d.ellipsis?(p=this.parseSpread(s),s&&this.type===d.comma&&s.trailingComma<0&&(s.trailingComma=this.start)):p=this.parseMaybeAssign(!1,s),o.push(p)}return o};B.checkUnreserved=function(t){var e=t.start,i=t.end,s=t.name;if(this.inGenerator&&s==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&s==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&s==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(s==="arguments"||s==="await")&&this.raise(e,"Cannot use "+s+" in class static initialization block"),this.keywords.test(s)&&this.raise(e,"Unexpected keyword '"+s+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var o=this.strict?this.reservedWordsStrict:this.reservedWords;o.test(s)&&(!this.inAsync&&s==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+s+"' is reserved"))}};B.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};B.parseIdentNode=function(){var t=this.startNode();return this.type===d.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=d.name):this.unexpected(),t};B.parsePrivateIdent=function(){var t=this.startNode();return this.type===d.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};B.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===d.semi||this.canInsertSemicolon()||this.type!==d.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(d.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};B.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var Sg=be.prototype;Sg.raise=function(t,e){var i=$k(this.input,t);e+=" ("+i.line+":"+i.column+")";var s=new SyntaxError(e);throw s.pos=t,s.loc=i,s.raisedAt=this.pos,s};Sg.raiseRecoverable=Sg.raise;Sg.curPosition=function(){if(this.options.locations)return new Yd(this.curLine,this.pos-this.lineStart)};var Ji=be.prototype,Y1=r(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Ji.enterScope=function(t){this.scopeStack.push(new Y1(t))};Ji.exitScope=function(){this.scopeStack.pop()};Ji.treatFunctionsAsVarInScope=function(t){return t.flags&oo||!this.inModule&&t.flags&Fd};Ji.declareName=function(t,e,i){var s=!1;if(e===bi){var o=this.currentScope();s=o.lexical.indexOf(t)>-1||o.functions.indexOf(t)>-1||o.var.indexOf(t)>-1,o.lexical.push(t),this.inModule&&o.flags&Fd&&delete this.undefinedExports[t]}else if(e===Jk){var a=this.currentScope();a.lexical.push(t)}else if(e===Qk){var p=this.currentScope();this.treatFunctionsAsVar?s=p.lexical.indexOf(t)>-1:s=p.lexical.indexOf(t)>-1||p.var.indexOf(t)>-1,p.functions.push(t)}else for(var f=this.scopeStack.length-1;f>=0;--f){var m=this.scopeStack[f];if(m.lexical.indexOf(t)>-1&&!(m.flags&zk&&m.lexical[0]===t)||!this.treatFunctionsAsVarInScope(m)&&m.functions.indexOf(t)>-1){s=!0;break}if(m.var.push(t),this.inModule&&m.flags&Fd&&delete this.undefinedExports[t],m.flags&Rw)break}s&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Ji.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Ji.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Ji.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Rw)return e}};Ji.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&Rw&&!(e.flags&qk))return e}};var Pg=r(function(e,i,s){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Eg(e,s)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Hd=be.prototype;Hd.startNode=function(){return new Pg(this,this.start,this.startLoc)};Hd.startNodeAt=function(t,e){return new Pg(this,t,e)};function iE(t,e,i,s){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=s),this.options.ranges&&(t.range[1]=i),t}r(iE,"finishNodeAt");Hd.finishNode=function(t,e){return iE.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Hd.finishNodeAt=function(t,e,i,s){return iE.call(this,t,e,i,s)};Hd.copyNode=function(t){var e=new Pg(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var rE="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",sE=rE+" Extended_Pictographic",oE=sE,nE=oE+" EBase EComp EMod EPres ExtPict",aE=nE,F1=aE,U1={9:rE,10:sE,11:oE,12:nE,13:aE,14:F1},W1="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",H1={9:"",10:"",11:"",12:"",13:"",14:W1},Yk="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",cE="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",lE=cE+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",pE=lE+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",uE=pE+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",fE=uE+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",G1=fE+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",j1={9:cE,10:lE,11:pE,12:uE,13:fE,14:G1},mE={};function $1(t){var e=mE[t]={binary:Xi(U1[t]+" "+Yk),binaryOfStrings:Xi(H1[t]),nonBinary:{General_Category:Xi(Yk),Script:Xi(j1[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}r($1,"buildUnicodeData");for(Tg=0,Iw=[9,10,11,12,13,14];Tg<Iw.length;Tg+=1)Fk=Iw[Tg],$1(Fk);var Fk,Tg,Iw,N=be.prototype,kg=r(function(e,i){this.parent=e,this.base=i||this},"BranchID");kg.prototype.separatedFrom=r(function(e){for(var i=this;i;i=i.parent)for(var s=e;s;s=s.parent)if(i.base===s.base&&i!==s)return!0;return!1},"separatedFrom");kg.prototype.sibling=r(function(){return new kg(this.parent,this.base)},"sibling");var Jt=r(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=mE[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null},"RegExpValidationState");Jt.prototype.reset=r(function(e,i,s){var o=s.indexOf("v")!==-1,a=s.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=s,o&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=a&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=a&&this.parser.options.ecmaVersion>=9)},"reset");Jt.prototype.raise=r(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");Jt.prototype.at=r(function(e,i){i===void 0&&(i=!1);var s=this.source,o=s.length;if(e>=o)return-1;var a=s.charCodeAt(e);if(!(i||this.switchU)||a<=55295||a>=57344||e+1>=o)return a;var p=s.charCodeAt(e+1);return p>=56320&&p<=57343?(a<<10)+p-56613888:a},"at");Jt.prototype.nextIndex=r(function(e,i){i===void 0&&(i=!1);var s=this.source,o=s.length;if(e>=o)return o;var a=s.charCodeAt(e),p;return!(i||this.switchU)||a<=55295||a>=57344||e+1>=o||(p=s.charCodeAt(e+1))<56320||p>57343?e+1:e+2},"nextIndex");Jt.prototype.current=r(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");Jt.prototype.lookahead=r(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");Jt.prototype.advance=r(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");Jt.prototype.eat=r(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");Jt.prototype.eatChars=r(function(e,i){i===void 0&&(i=!1);for(var s=this.pos,o=0,a=e;o<a.length;o+=1){var p=a[o],f=this.at(s,i);if(f===-1||f!==p)return!1;s=this.nextIndex(s,i)}return this.pos=s,!0},"eatChars");N.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,s=!1,o=!1,a=0;a<i.length;a++){var p=i.charAt(a);e.indexOf(p)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(p,a+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),p==="u"&&(s=!0),p==="v"&&(o=!0)}this.options.ecmaVersion>=15&&s&&o&&this.raise(t.start,"Invalid regular expression flag")};function K1(t){for(var e in t)return!0;return!1}r(K1,"hasProp");N.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&K1(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};N.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var s=i[e];t.groupNames[s]||t.raise("Invalid named capture referenced")}};N.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new kg(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};N.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};N.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};N.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};N.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};N.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};N.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var s=0,o=-1;if(this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue),t.eat(125)))return o!==-1&&o<s&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};N.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};N.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};N.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};N.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};N.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};N.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};N.regexp_eatSyntaxCharacter=function(t){var e=t.current();return hE(e)?(t.lastIntValue=e,t.advance(),!0):!1};function hE(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}r(hE,"isSyntaxCharacter");N.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!hE(i);)t.advance();return t.pos!==e};N.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};N.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(e)for(var s=0,o=i;s<o.length;s+=1){var a=o[s];a.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};N.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};N.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Qi(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Qi(t.lastIntValue);return!0}return!1};N.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),s===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),q1(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)};function q1(t){return xi(t,!0)||t===36||t===95}r(q1,"isRegExpIdentifierStart");N.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),s===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),z1(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)};function z1(t){return ro(t,!0)||t===36||t===95||t===8204||t===8205}r(z1,"isRegExpIdentifierPart");N.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};N.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};N.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};N.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};N.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};N.regexp_eatZero=function(t){return t.current()===48&&!Ng(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};N.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};N.regexp_eatControlLetter=function(t){var e=t.current();return dE(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function dE(t){return t>=65&&t<=90||t>=97&&t<=122}r(dE,"isControlLetter");N.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,s=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(s&&o>=55296&&o<=56319){var a=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var p=t.lastIntValue;if(p>=56320&&p<=57343)return t.lastIntValue=(o-55296)*1024+(p-56320)+65536,!0}t.pos=a,t.lastIntValue=o}return!0}if(s&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&X1(t.lastIntValue))return!0;s&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function X1(t){return t>=0&&t<=1114111}r(X1,"isValidUnicode");N.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};N.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var _E=0,yi=1,mt=2;N.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(Q1(e))return t.lastIntValue=-1,t.advance(),yi;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var s;if(t.eat(123)&&(s=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&s===mt&&t.raise("Invalid property name"),s;t.raise("Invalid property name")}return _E};function Q1(t){return t===100||t===68||t===115||t===83||t===119||t===87}r(Q1,"isCharacterClassEscape");N.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,s),yi}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,o)}return _E};N.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Ud(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};N.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return yi;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return mt;t.raise("Invalid property name")};N.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";xE(e=t.current());)t.lastStringValue+=Qi(e),t.advance();return t.lastStringValue!==""};function xE(t){return dE(t)||t===95}r(xE,"isUnicodePropertyNameCharacter");N.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";J1(e=t.current());)t.lastStringValue+=Qi(e),t.advance();return t.lastStringValue!==""};function J1(t){return xE(t)||Ng(t)}r(J1,"isUnicodePropertyValueCharacter");N.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};N.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===mt&&t.raise("Negated character class may contain strings"),!0}return!1};N.regexp_classContents=function(t){return t.current()===93?yi:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),yi)};N.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};N.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||gE(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var s=t.current();return s!==93?(t.lastIntValue=s,t.advance(),!0):!1};N.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};N.regexp_classSetExpression=function(t){var e=yi,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===mt&&(e=mt);for(var s=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==mt&&(e=yi);continue}t.raise("Invalid character in character class")}if(s!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(s!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===mt&&(e=mt)}};N.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var s=t.lastIntValue;return i!==-1&&s!==-1&&i>s&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};N.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?yi:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};N.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),s=this.regexp_classContents(t);if(t.eat(93))return i&&s===mt&&t.raise("Negated character class may contain strings"),s;t.pos=e}if(t.eat(92)){var o=this.regexp_eatCharacterClassEscape(t);if(o)return o;t.pos=e}return null};N.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};N.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===mt&&(e=mt);return e};N.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?yi:mt};N.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&Z1(i)||eP(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function Z1(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}r(Z1,"isClassSetReservedDoublePunctuatorCharacter");function eP(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}r(eP,"isClassSetSyntaxCharacter");N.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return tP(e)?(t.lastIntValue=e,t.advance(),!0):!1};function tP(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}r(tP,"isClassSetReservedPunctuator");N.regexp_eatClassControlLetter=function(t){var e=t.current();return Ng(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};N.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};N.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Ng(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Ng(t){return t>=48&&t<=57}r(Ng,"isDecimalDigit");N.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;yE(i=t.current());)t.lastIntValue=16*t.lastIntValue+bE(i),t.advance();return t.pos!==e};function yE(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}r(yE,"isHexDigit");function bE(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}r(bE,"hexToInt");N.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};N.regexp_eatOctalDigit=function(t){var e=t.current();return gE(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function gE(t){return t>=48&&t<=55}r(gE,"isOctalDigit");N.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var s=0;s<e;++s){var o=t.current();if(!yE(o))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+bE(o),t.advance()}return!0};var Bw=r(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Eg(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),H=be.prototype;H.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Bw(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};H.getToken=function(){return this.next(),new Bw(this)};typeof Symbol<"u"&&(H[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===d.eof,value:e}}}});H.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(d.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};H.readToken=function(t){return xi(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};H.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};H.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var s=void 0,o=e;(s=Hk(this.input,o,this.pos))>-1;)++this.curLine,o=this.lineStart=s;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};H.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),s=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!so(s);)s=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};H.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&Gk.test(String.fromCharCode(t)))++this.pos;else break e}}};H.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};H.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(d.ellipsis)):(++this.pos,this.finishToken(d.dot))};H.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(d.assign,2):this.finishOp(d.slash,1)};H.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,s=t===42?d.star:d.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,s=d.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(d.assign,i+1):this.finishOp(s,i)};H.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(d.assign,3)}return this.finishOp(t===124?d.logicalOR:d.logicalAND,2)}return e===61?this.finishOp(d.assign,2):this.finishOp(t===124?d.bitwiseOR:d.bitwiseAND,1)};H.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(d.assign,2):this.finishOp(d.bitwiseXOR,1)};H.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||ht.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(d.incDec,2):e===61?this.finishOp(d.assign,2):this.finishOp(d.plusMin,1)};H.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(d.assign,i+1):this.finishOp(d.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(d.relational,i))};H.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(d.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(d.arrow)):this.finishOp(t===61?d.eq:d.prefix,1)};H.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(d.questionDot,2)}if(e===63){if(t>=12){var s=this.input.charCodeAt(this.pos+2);if(s===61)return this.finishOp(d.assign,3)}return this.finishOp(d.coalesce,2)}}return this.finishOp(d.question,1)};H.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),xi(e,!0)||e===92))return this.finishToken(d.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Qi(e)+"'")};H.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(d.parenL);case 41:return++this.pos,this.finishToken(d.parenR);case 59:return++this.pos,this.finishToken(d.semi);case 44:return++this.pos,this.finishToken(d.comma);case 91:return++this.pos,this.finishToken(d.bracketL);case 93:return++this.pos,this.finishToken(d.bracketR);case 123:return++this.pos,this.finishToken(d.braceL);case 125:return++this.pos,this.finishToken(d.braceR);case 58:return++this.pos,this.finishToken(d.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(d.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(d.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Qi(t)+"'")};H.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};H.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var s=this.input.charAt(this.pos);if(ht.test(s)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(s==="[")e=!0;else if(s==="]"&&e)e=!1;else if(s==="/"&&!e)break;t=s==="\\"}++this.pos}var o=this.input.slice(i,this.pos);++this.pos;var a=this.pos,p=this.readWord1();this.containsEsc&&this.unexpected(a);var f=this.regexpState||(this.regexpState=new Jt(this));f.reset(i,o,p),this.validateRegExpFlags(f),this.validateRegExpPattern(f);var m=null;try{m=new RegExp(o,p)}catch{}return this.finishToken(d.regexp,{pattern:o,flags:p,value:m})};H.readInt=function(t,e,i){for(var s=this.options.ecmaVersion>=12&&e===void 0,o=i&&this.input.charCodeAt(this.pos)===48,a=this.pos,p=0,f=0,m=0,_=e==null?1/0:e;m<_;++m,++this.pos){var x=this.input.charCodeAt(this.pos),b=void 0;if(s&&x===95){o&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),f===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),m===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),f=x;continue}if(x>=97?b=x-97+10:x>=65?b=x-65+10:x>=48&&x<=57?b=x-48:b=1/0,b>=t)break;f=x,p=p*t+b}return s&&f===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===a||e!=null&&this.pos-a!==e?null:p};function iP(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}r(iP,"stringToNumber");function wE(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}r(wE,"stringToBigInt");H.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=wE(this.input.slice(e,this.pos)),++this.pos):xi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(d.num,i)};H.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var s=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&s===110){var o=wE(this.input.slice(e,this.pos));return++this.pos,xi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(d.num,o)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),s===46&&!i&&(++this.pos,this.readInt(10),s=this.input.charCodeAt(this.pos)),(s===69||s===101)&&!i&&(s=this.input.charCodeAt(++this.pos),(s===43||s===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),xi(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=iP(this.input.slice(e,this.pos),i);return this.finishToken(d.num,a)};H.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};H.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var s=this.input.charCodeAt(this.pos);if(s===t)break;s===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):s===8232||s===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(so(s)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(d.string,e)};var TE={};H.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===TE)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};H.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw TE;this.raise(t,e)};H.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===d.template||this.type===d.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(d.dollarBraceL)):(++this.pos,this.finishToken(d.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(d.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(so(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};H.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(d.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};H.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Qi(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var s=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],o=parseInt(s,8);return o>255&&(s=s.slice(0,-1),o=parseInt(s,8)),this.pos+=s.length-1,e=this.input.charCodeAt(this.pos),(s!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-s.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(o)}return so(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};H.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};H.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,s=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=this.fullCharCodeAtPos();if(ro(o,s))this.pos+=o<=65535?1:2;else if(o===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var a=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var p=this.readCodePoint();(e?xi:ro)(p,s)||this.invalidStringToken(a,"Invalid Unicode escape"),t+=Qi(p),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};H.readWord=function(){var t=this.readWord1(),e=d.name;return this.keywords.test(t)&&(e=Pw[t]),this.finishToken(e,t)};var rP="8.12.1";be.acorn={Parser:be,version:rP,defaultOptions:kw,Position:Yd,SourceLocation:Eg,getLineInfo:$k,Node:Pg,TokenType:K,tokTypes:d,keywordTypes:Pw,TokContext:Pt,tokContexts:ce,isIdentifierChar:ro,isIdentifierStart:xi,Token:Bw,isNewLine:so,lineBreak:ht,lineBreakG:C1,nonASCIIwhitespace:Gk};function vE(t,e){return be.parse(t,e)}r(vE,"parse");var IE={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var sP="Utils",Ow,M=class{static load(e){Ow=e}static get shim(){if(!Ow)throw new Error("Platform is not loaded");return Ow}};r(M,"Platform");var g=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=M.shim.info.version}};r(g,"InnertubeError");var et=class extends g{};r(et,"ParsingError");var Gd=class extends g{};r(Gd,"MissingParamError");var Ag=class extends g{};r(Ag,"OAuth2Error");var Nt=class extends Error{};r(Nt,"PlayerError");var Br=class extends Error{};r(Br,"SessionError");var $s=class extends Error{};r($s,"ChannelError");function Xd(t,e){return Reflect.ownKeys(t).some(s=>{let o=e[s]instanceof c;return!o&&typeof e[s]=="object"?JSON.stringify(t[s])===JSON.stringify(e[s]):t[s]===(o?e[s].toString():e[s])})}r(Xd,"deepCompare");function je(t,e,i){let s=new RegExp(`${Vw(e)}(.*?)${Vw(i)}`,"s"),o=t.match(s);return o?o[1]:void 0}r(je,"getStringBetweenStrings");function Vw(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}r(Vw,"escapeStringRegexp");function jd(t){let e=IE[t],i=Math.floor(Math.random()*e.length);return e[i]}r(jd,"getRandomUserAgent");async function oP(t){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),s=[i,t,e].join(" "),o=await M.shim.sha1Hash(s);return["SAPISIDHASH",[i,o].join("_")].join(" ")}r(oP,"generateSidAuth");function Zi(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let s=0;s<t;s++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}r(Zi,"generateRandomString");function ve(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}r(ve,"timeToSeconds");function _w(...t){let e=new gi;for(let i of t)if(!!i)for(let s of i){let o=e.get(s[0]);if(o){e.set(s[0],[...o,...s[1]]);continue}e.set(...s)}return e}r(_w,"concatMemos");function ao(t){for(let[e,i]of Object.entries(t))if(!i)throw new Gd(`${e} is missing`)}r(ao,"throwIfMissing");function nP(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}r(nP,"hasKeys");async function*Fg(t){let e=t.getReader();try{for(;;){let{done:i,value:s}=await e.read();if(i)return;yield s}}finally{e.releaseLock()}}r(Fg,"streamToIterable");var aP=r((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),s=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,o=[...s],a=e!=null&&e.body?typeof e.body=="string"?s.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",p=o.length>0?`${o.map(([f,m])=>`    ${f}: ${m}`).join(`
`)}`:"    (none)";return ti(sP,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${p}
' + 
    '  body:
${a}`),M.shim.fetch(t,e)},"debugFetch");function oi(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}r(oi,"u8ToBase64");function xo(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),i=e.padEnd(e.length+(4-e.length%4)%4,"=");return new Uint8Array(atob(i).split("").map(s=>s.charCodeAt(0)))}r(xo,"base64ToU8");function Fe(t){return!("emoji"in t)}r(Fe,"isTextRun");function cP(t,e,i=!1){let s=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,o=t.match(new RegExp(s));return o?o[2]:void 0}r(cP,"getCookie");function $d(t,e){return vE(t,{ecmaVersion:2020,...e})}r($d,"parseScript");function er(t,e){let{name:i,includes:s,regexp:o,ast:a}=e,f=[a||$d(t,{ecmaVersion:2020})];for(let m=0;m<f.length;m++){let _=f[m];if(_.type==="ExpressionStatement"&&_.expression.type==="AssignmentExpression"&&_.expression.left.type==="Identifier"&&_.expression.right.type==="FunctionExpression"){let x=t.substring(_.start,_.end);if(i&&_.expression.left.name===i||s&&x.includes(s)||o&&o.test(x))return{start:_.start,end:_.end,name:_.expression.left.name,node:_,result:x}}for(let x in _){let b=_[x];Array.isArray(b)?f.push(...b):typeof b=="object"&&b!==null&&f.push(b)}}}r(er,"findFunction");function Or(t,e){let i=e.ast?e.ast:$d(t,{ecmaVersion:"latest",ranges:!0}),s;function o(a){var p,f,m;if(!s){if(a.type==="VariableDeclaration"){let[_,x]=a.range,b=t.slice(_,x);for(let w of a.declarations)if(w.id.type==="Identifier"){let I=w.id.name;if(e.name&&I===e.name){s={start:_,end:x,name:I,node:a,result:b};return}}if(e.includes&&b.includes(e.includes)||e.regexp&&e.regexp.test(b)){s={start:_,end:x,name:(m=(f=(p=a.declarations)==null?void 0:p[0])==null?void 0:f.id)==null?void 0:m.name,node:a,result:b};return}}for(let _ in a)if(Object.prototype.hasOwnProperty.call(a,_)){let x=a[_];if(Array.isArray(x)){for(let b of x)if(b&&typeof b.type=="string"&&(o(b),s))return}else if(x&&typeof x.type=="string"&&(o(x),s))return}}}return r(o,"walk"),o(i),s}r(Or,"findVariable");async function Yw(t){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(s){let o=new Uint8Array(s),a=[];for(let p=0;p<o.length;++p)a.push(e[o[p]]);return a.join("")}return r(i,"hex"),i(await crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))}r(Yw,"sha1Hash");var Rg,SE,kE,Mg=class{constructor(e){Rg.add(this),this.session=e}async stats(e,i,s){let o=new URL(e);o.searchParams.set("ver","2"),o.searchParams.set("c",i.client_name.toLowerCase()),o.searchParams.set("cbrver",i.client_version),o.searchParams.set("cver",i.client_version);for(let a of Object.keys(s))o.searchParams.set(a,s[a]);return await this.session.http.fetch(o)}async execute(e,i){var p,f;let s;if(i&&!i.protobuf){if(s={...i},Reflect.has(s,"browseId")&&!i.skip_auth_check&&u(this,Rg,"m",kE).call(this,s.browseId)&&!this.session.logged_in)throw new g("You must be signed in to perform this operation.");Reflect.has(s,"skip_auth_check")&&delete s.skip_auth_check,Reflect.has(s,"override_endpoint")&&delete s.override_endpoint,Reflect.has(s,"parse")&&delete s.parse,Reflect.has(s,"request")&&delete s.request,Reflect.has(s,"clientActions")&&delete s.clientActions,Reflect.has(s,"settingItemIdForClient")&&delete s.settingItemIdForClient,Reflect.has(s,"action")&&(s.actions=[s.action],delete s.action),Reflect.has(s,"boolValue")&&(s.newValue={boolValue:s.boolValue},delete s.boolValue),Reflect.has(s,"token")&&(s.continuation=s.token,delete s.token),(s==null?void 0:s.client)==="YTMUSIC"&&(s.isAudioOnly=!0)}else i&&(s=i.serialized_data);let o=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,a=await this.session.http.fetch(o,{method:"POST",body:i!=null&&i.protobuf?s:JSON.stringify(s||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let m=l.parseResponse(await a.json());if(u(this,Rg,"m",SE).call(this,m)&&((f=(p=m.on_response_received_actions)==null?void 0:p[0])==null?void 0:f.type)==="navigateAction"){let _=m.on_response_received_actions.firstOfType(Yi);_&&(m=await _.endpoint.call(this,{parse:!0}))}return m}return{success:a.ok,status_code:a.status,data:await a.json()}}};r(Mg,"Actions");Rg=new WeakSet,SE=r(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),kE=r(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var Fw=Mg;var Ge="Player",Qe=class{constructor(e,i,s,o,a){this.player_id=e,this.sts=i,this.nsig_sc=a,this.sig_sc=o,this.evaluator=s}static async create(e,i,s=M.shim.fetch,o,a){if(!a){let k=new URL("/iframe_api",X.URLS.YT_BASE),C=await s(k);if(!C.ok)throw new Nt(`Failed to get player id: ${C.status} (${C.statusText})`);let E=await C.text();a=je(E,"player\\/","\\/")}if(L.info(Ge,`Using player id (${a}). Checking for cached players..`),!a)throw new Nt("Failed to get player id");if(e){let k=await Qe.fromCache(e,a,i);if(k)return L.info(Ge,"Found up-to-date player data in cache."),k.po_token=o,k}let p=new URL(`/s/player/${a}/player_ias.vflset/en_US/base.js`,X.URLS.YT_BASE);L.info(Ge,`Could not find any cached player. Will download a new player from ${p}.`);let f=await s(p,{headers:{"user-agent":jd("desktop")}});if(!f.ok)throw new Nt(`Failed to get player data: ${f.status}`);let m=await f.text(),_=$d(m,{ecmaVersion:"latest",ranges:!0}),x=this.extractSigTimestamp(m),b=this.extractGlobalVariable(m,_),w=this.extractSigSourceCode(m,b),I=this.extractNSigSourceCode(m,_,b);L.info(Ge,`Got signature timestamp (${x}) and algorithms needed to decipher signatures.`),L.info(Ge,w),L.info(Ge,I);let v=await Qe.fromSource(a,x,i,e,w,I);return v.po_token=o,L.info(Ge,`Got ptoken (${o})`),v}async decipher(e,i,s,o){if(e=e||i||s,!e)throw new Nt("No valid URL to decipher");let a=new URLSearchParams(e),p=new URL(a.get("url")||e);if(this.sig_sc&&(i||s)){let x=await this.evaluator(this.sig_sc,{sig:a.get("s")});if(L.info(Ge,`Transformed signature from ${a.get("s")} to ${x}.`),typeof x!="string")throw new Nt("Failed to decipher signature");let b=a.get("sp");b?p.searchParams.set(b,x):p.searchParams.set("signature",x)}let f=p.searchParams.get("n");if(this.nsig_sc&&f){let x;if(o&&o.has(f))x=o.get(f);else{if(x=await this.evaluator(this.nsig_sc,{nsig:f}),L.info(Ge,`Transformed n signature from ${f} to ${x}.`),f===x&&(L.info(Ge,this.nsig_sc),L.warn(Ge,"Nsig was not transformed. This is likely a sign that the player has been updated.")),typeof x!="string")throw new Nt("Failed to decipher nsig");x.startsWith("enhanced_except_")?L.warn(Ge,"Something went wrong while deciphering nsig."):o&&o.set(f,x)}p.searchParams.set("n",x)}switch(p.searchParams.get("sabr")!=="1"&&this.po_token&&p.searchParams.set("pot",this.po_token),p.searchParams.get("c")){case"WEB":p.searchParams.set("cver",X.CLIENTS.WEB.VERSION);break;case"MWEB":p.searchParams.set("cver",X.CLIENTS.MWEB.VERSION);break;case"WEB_REMIX":p.searchParams.set("cver",X.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":p.searchParams.set("cver",X.CLIENTS.WEB_KIDS.VERSION);break;case"TVHTML5":p.searchParams.set("cver",X.CLIENTS.TV.VERSION);break;case"TVHTML5_SIMPLY":p.searchParams.set("cver",X.CLIENTS.TV_SIMPLY.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":p.searchParams.set("cver",X.CLIENTS.TV_EMBEDDED.VERSION);break;case"WEB_EMBEDDED_PLAYER":p.searchParams.set("cver",X.CLIENTS.WEB_EMBEDDED.VERSION);break}let _=p.toString();return L.info(Ge,`Deciphered URL: ${_}`),p.toString()}static async fromCache(e,i,s){let o=await e.get(i);if(!o)return null;let a=new DataView(o);if(a.getUint32(0,!0)!==Qe.LIBRARY_VERSION)return null;let f=a.getUint32(4,!0),m=a.getUint32(8,!0),_=o.slice(12,12+m),x=o.slice(12+m),b=bt.decompress(new TextDecoder().decode(_)),w=bt.decompress(new TextDecoder().decode(x));return new Qe(i,f,s,b,w)}static async fromSource(e,i,s,o,a,p){let f=new Qe(e,i,s,a,p);return await f.cache(o),f}async cache(e){if(!e||!this.sig_sc||!this.nsig_sc)return;let i=new TextEncoder,s=i.encode(bt.compress(this.sig_sc)),o=i.encode(bt.compress(this.nsig_sc)),a=new ArrayBuffer(12+s.byteLength+o.byteLength),p=new DataView(a);p.setUint32(0,Qe.LIBRARY_VERSION,!0),p.setUint32(4,this.sts,!0),p.setUint32(8,s.byteLength,!0),new Uint8Array(a).set(s,12),new Uint8Array(a).set(o,12+s.byteLength),await e.set(this.player_id,a)}static extractSigTimestamp(e){return parseInt(je(e,"signatureTimestamp:",",")||"0")}static extractGlobalVariable(e,i){let s=Or(e,{includes:"-_w8_",ast:i});return s||(s=Or(e,{includes:"Untrusted URL{",ast:i})),s||(s=Or(e,{includes:"1969",ast:i})),s||(s=Or(e,{includes:"1970",ast:i})),s||(s=Or(e,{includes:"playerfallback",ast:i})),s}static fixSource(e){return e=e.replace(/if\(typeof [a-zA-Z0-9_$]*===.*?\)return [a-zA-Z0-9_$]*;/g,""),e}static extractSigSourceCode(e,i){var x,b;let s=/function\(([A-Za-z_0-9]+)\)\{([A-Za-z_0-9]+=[A-Za-z_0-9]+\.split\((?:[^)]+)\)(.+?)\.join\((?:[^)]+)\))\}/,o=(x=i==null?void 0:i.name)==null?void 0:x.replace(/[$^\\.*+?()[\]{}|]/g,"\\$&"),a=o?new RegExp(`function\\(([A-Za-z_0-9]+)\\)\\{([A-Za-z_0-9]+=[A-Za-z_0-9]+\\[${o}\\[\\d+\\]\\]\\([^)]*\\)([\\s\\S]+?)\\[${o}\\[\\d+\\]\\]\\([^)]*\\))\\}`):null,p=e.match(s)||(a?e.match(a):null);if(!p){L.warn(Ge,"Failed to extract signature decipher algorithm.");return}let f=p[1],m=(b=p[3].split(/\.|\[/)[0])==null?void 0:b.replace(";","").trim(),_=je(e,`var ${m}={`,"};");return(!_||!f)&&L.warn(Ge,"Failed to extract signature decipher algorithm."),`function sig_fn(sig) {${(i==null?void 0:i.result)||""} function descramble_sig(${f}) { let ${m}={${_}}; ${p[2]} } return descramble_sig(sig);}`}static extractNSigSourceCode(e,i,s){let o;if(s&&(o=er(e,{includes:`new Date(${s.name}`,ast:i}),o||(o=er(e,{includes:".push(String.fromCharCode(",ast:i})),o||(o=er(e,{includes:".reverse().forEach(function",ast:i})),o))return`function nsig_fn(nsig) {${s.result} var ${this.fixSource(o.result)} return ${o.name}(nsig);}`;if(o=er(e,{includes:"-_w8_",ast:i}),o||(o=er(e,{includes:"1969",ast:i})),o||(o=er(e,{includes:"enhanced_except",ast:i})),o)return`function nsig_fn(nsig) {let ${this.fixSource(o.result)} return ${o.name}(nsig);}`}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,X.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 14}};r(Qe,"Player");var _t=class{constructor(e){this.listenerBind=this.listener.bind(this),this.listeners=new Map;let i=window.location.origin,s=new URL(e).origin;if(i===s)throw new Error("Current frame must not share same origin as the runner frame");this.runnerFrame=document.createElement("iframe"),this.runnerFrame.credentialless=!0,this.runnerFrame.src=e,this.runnerFrame.style.display="none",document.body.appendChild(this.runnerFrame),window.addEventListener("message",this.listenerBind),this.readyPromise=new Promise(o=>{this.runnerFrame.addEventListener("load",()=>{o(),this.emit("ready")})}),this.timeout=null}async load(){return this.readyPromise}on(e,i){var s;this.listeners.has(e)||this.listeners.set(e,[]),(s=this.listeners.get(e))==null||s.push(i)}off(e,i){var a;if(!this.listeners.has(e))return;let s=this.listeners.get(e),o=(a=s==null?void 0:s.indexOf(i))!=null?a:-1;o!==-1&&(s==null||s.splice(o,1))}emit(e,...i){var o;if(!this.listeners.has(e))return;let s=(o=this.listeners.get(e))!=null?o:[];for(let a of s)a(...i)}setTimeout(e){this.timeout&&clearTimeout(this.timeout),e&&(this.timeout=window.setTimeout(()=>{this.close()},e))}listener(e){var i;e.source===((i=this.runnerFrame)==null?void 0:i.contentWindow)&&(e.data.type==="sandboxResult"?this.emit("result",e.data.result):e.data.type==="sandboxError"&&this.emit("error",e.data.error))}close(){!this.runnerFrame||(this.runnerFrame.remove(),window.removeEventListener("message",this.listenerBind),this.timeout&&clearTimeout(this.timeout),this.emit("close"))}async evaluate(e,i=[],s=[]){var o;return await this.readyPromise,(o=this.runnerFrame.contentWindow)==null||o.postMessage({type:"sandboxEvaluate",body:e,argNames:i,argValues:s},"*"),new Promise((a,p)=>{let f=null,m=null,_=null,x=r(()=>{f&&this.off("result",f),m&&this.off("error",m),_&&this.off("close",_)},"cleanup");f=r(b=>{x(),a(b)},"resultHandler"),m=r(b=>{x(),p(b)},"errorHandler"),_=r(()=>{x(),p(new Error("SandboxedEvaluator closed"))},"closeHandler"),this.on("result",f),this.on("error",m),this.on("close",_)})}static async evaluateOnce(e,i,s,o,a=5e3){let p=new _t(e);a&&p.setTimeout(a);try{let f=await p.evaluate(i,s,o);return p.close(),f}catch(f){throw p.close(),f}}static extractFnBodyAndArgs(e){let i=e.substring(e.indexOf("{")+1,e.lastIndexOf("}")),s=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(",").map(o=>o.trim());return{body:i,argNames:s}}static matchArgValues(e,i){return e.map(s=>{if(!!Object.hasOwn(i,s))return i[s]})}};r(_t,"SandboxedEvaluator");var EE="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36(KHTML, like Gecko)",At=class{static base64ToU8(e){let i={"-":"+",_:"/",".":"="},s;return/[-_.]/g.test(e)?s=e.replace(/[-_.]/g,a=>i[a]):s=e,s=atob(s),new Uint8Array([...s].map(a=>a.charCodeAt(0)))}static u8ToBase64(e,i=!1){let s=btoa(String.fromCharCode(...e));return i?s.replace(/\+/g,"-").replace(/\//g,"_"):s}static async createChallenge(e,i,s,o){let a=[i];s&&a.push(s);let p=await e(X.URLS.YT_IT_BASE+X.URLS.YT_IT_CREATE,{method:"POST",headers:{"Content-Type":"application/json+protobuf","User-Agent":EE,"x-goog-api-key":o,"x-user-agent":"grpc-web-javascript/0.1"},body:JSON.stringify(a)});if(!p.ok)throw new Error(`Failed to fetch: ${p.status}`);let f=await p.json();if(f.length>1&&f[1]){let m=At.parseChallenge(f[1]);if(m)return m}}static b64ToBuf(e){let i=At.base64ToU8(e);return i.length?new TextDecoder().decode(i.map(s=>s+97)):""}static stringToB64(e){let i=new TextEncoder().encode(e);return i=i.map(s=>s-97),At.u8ToBase64(i)}static parseChallenge(e){let i=At.b64ToBuf(e);if(i.length){let[s,o,,a,p,f]=JSON.parse(i);return{script:o,interpreterHash:a,globalName:f,challenge:p,messageId:s}}}static getFn1(){let e='(n){return(async()=>{const r=window[n.globalName];if(!r)throw new Error("V not found");const o={fn1:null,fn2:null,fn3:null,fn4:null};if(!r.a)throw new Error("Init failed");try{await r.a(n.challenge,(function(n,r,t,f){o.fn1=n,o.fn2=r,o.fn3=t,o.fn4=f}),!0,void 0,((...n)=>{}))}catch(n){throw new Error("Failed to load")}if(!o.fn1)throw new Error("fn1 unavailable.");let t=null;const f=[];if(await o.fn1((n=>{t=n}),[,,f]),!t)throw new Error("[BG]: No response");if(!f.length)throw new Error("No ppf");return window.ppf=f,t})()}';return _t.extractFnBodyAndArgs(e)}static getFn2(){let e='(r,e){const t=window.ppf[0];if(!t)throw new Error("PP:Undefined");return(async()=>{const n=await t((r=>{const e={"-":"+",_:"/",".":"="};let t;return t=/[-_.]/g.test(r)?r.replace(/[-_.]/g,(r=>e[r])):r,t=atob(t),new Uint8Array([...t].map((r=>r.charCodeAt(0))))})(r));if("function"!=typeof n)throw new Error("PP:failed");const o=((r,e=!1)=>{const t=btoa(String.fromCharCode(...r));return e?t.replace(/\\+/g,"-").replace(/\\//g,"_"):t})(await n((new TextEncoder).encode(e)),!0);if(o.length>80)return o;throw new Error("PT too small")})()}';return _t.extractFnBodyAndArgs(e.toString())}static async getPot(e=M.shim.fetch,i,s,o,a,p=!1){o||(o=X.URLS.API.KEY2),a||(a=X.URLS.API.KEY),s||(s=si.encodeVisitorData(yo.generateRandomString(11),Math.floor(Date.now()/1e3)));let f=new _t(i),m=null,_=null,x=null;try{p||f.setTimeout(5e3),await f.load(),p||f.setTimeout(null);let b=await At.createChallenge(e,o,null,a);if(!b)throw new Error("C is incorrect");if(!b.script)throw new Error("CS is bad");let w=b.script.find(V=>V!==null);if(!w)throw new Error("CS is null");p||f.setTimeout(5e3),await f.evaluate(w,[],[]),p||f.setTimeout(5e3);let I=this.getFn1(),v=await f.evaluate(I.body,I.argNames,[b]);p||f.setTimeout(null);let k=[o,v],C=await e(X.URLS.YT_IT_BASE+X.URLS.YT_IT_GEN,{method:"POST",headers:{"Content-Type":"application/json+protobuf","x-goog-api-key":a,"x-user-agent":"grpc-web-javascript/0.1","User-Agent":EE,Accept:"*/*"},body:JSON.stringify(k)});if(!C.ok)throw new Error("It failed");let E=await C.json();if(!E.length||!E[0])throw new Error("It none");let O=E[0];_=E[1],x=E[2],p||f.setTimeout(5e3);let ee=this.getFn2();m=await f.evaluate(ee.body,ee.argNames,[O,s]),p||f.close()}catch(b){throw p||f.close(),b}return{pot:m,vd:s,requestToken:o,ttl:_,refresh:x}}};r(At,"BGUtils");var Vr,PE,NE,AE,CE,Uw={WEB:"WEB",MWEB:"MWEB",KIDS:"WEB_KIDS",MUSIC:"WEB_REMIX",IOS:"iOS",ANDROID:"ANDROID",ANDROID_MUSIC:"ANDROID_MUSIC",ANDROID_CREATOR:"ANDROID_CREATOR",TV:"TVHTML5",TV_SIMPLY:"TVHTML5_SIMPLY",TV_EMBEDDED:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",WEB_EMBEDDED:"WEB_EMBEDDED_PLAYER",WEB_CREATOR:"WEB_CREATOR"},Zt="Session",Kd=class extends fo{constructor(e,i,s,o,a,p,f,m,_,x){super(),this.context=e,this.api_key=i,this.api_version=s,this.account_index=o,this.config_data=a,this.player=p,this.cookie=f,this.cache=_,this.po_token=x,this.http=new Wg(this,f,m),this.actions=new Fw(this),this.logged_in=!!f,this.user_agent=e.client.userAgent}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static async create(e){let{context:i,api_key:s,api_version:o,account_index:a,config_data:p}=await Vr.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.user_agent,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache,e.po_token,e.retrieve_innertube_config),f=e.runner_location;if(e.client_type===Uw.WEB){let _=localStorage.getItem("yt_tkn"),x,b,w=0,I=0;if(_){let v=JSON.parse(_);v.length>0&&(x=v[0],b=v[1],w=v[2],I=v[3])}if(!x||!b||b!==i.client.visitorData||!w||!I||I+w*1e3<Date.now())try{let v=await At.getPot(e.fetch,f,i.client.visitorData);x=v.pot,b=v.vd,w=v.ttl,I=Date.now(),localStorage.setItem("yt_tkn",JSON.stringify([x,b,w,I]))}catch(v){L.error(Zt,"Failed to get PoT",v)}x&&(e.po_token=x)}let m=new Map;return e.evaluator=async(_,x)=>{let b=`${_}|${JSON.stringify(x)}`,w=m.get(b);if(w)return await w;let I=_t.extractFnBodyAndArgs(_),v=_t.evaluateOnce(f,I.body,I.argNames,Object.values(x));m.set(b,v);try{return await v}catch(k){console.error("Failed to fetch params"),console.error(k)}},new Vr(i,s,o,a,p,e.retrieve_player===!1?void 0:await Qe.create(e.cache,e.evaluator,e.fetch,e.po_token,e.player_id),e.cookie,e.fetch,e.cache,e.po_token)}static async fromCache(e,i){let s=await e.get("innertube_session_data");if(!s)return null;let o=new TextDecoder().decode(s.slice(4));try{let a=JSON.parse(bt.decompress(o));if(i.visitor_data&&(a.context.client.visitorData=i.visitor_data),i.lang&&(a.context.client.hl=i.lang),i.location&&(a.context.client.gl=i.location),i.on_behalf_of_user&&(a.context.user.onBehalfOfUser=i.on_behalf_of_user),i.user_agent&&(a.context.client.userAgent=i.user_agent),i.client_name){let p=Object.values(D).find(f=>f.NAME===i.client_name);p?(a.context.client.clientName=p.NAME,a.context.client.clientVersion=p.VERSION):(L.warn(Zt,`Unknown client name: ${i.client_name}. Using default WEB client.`),a.context.client.clientName=Uw.WEB,a.context.client.clientVersion=D.WEB.VERSION)}return a.context.client.timeZone=i.time_zone,a.context.client.platform=i.device_category.toUpperCase(),a.context.user.enableSafetyMode=i.enable_safety_mode,a}catch(a){return L.error(Zt,"Failed to parse session data from cache.",a),null}}static async getSessionData(e="",i="",s=0,o="",a=jd("desktop"),p=!1,f=!1,m="desktop",_=Uw.WEB,x=Intl.DateTimeFormat().resolvedOptions().timeZone,b=M.shim.fetch,w,I,v=!0,k,C=!0){var ee,V,se,ae,F,ie,U,Y,q;let E={lang:e,location:i,time_zone:x,user_agent:a,device_category:m,client_name:_,enable_safety_mode:p,visitor_data:o,on_behalf_of_user:w,po_token:k},O;if(I&&v){let z=await this.fromCache(I,E);z&&(L.info(Zt,"Found session data in cache."),O=z)}if(!O){L.info(Zt,"Generating session data.");let z=D.WEB.API_KEY,Ee=D.WEB.API_VERSION,Ce={hl:e||"en",gl:i||"US",remote_host:"",user_agent:a,visitor_data:o||si.encodeVisitorData(Zi(11),Math.floor(Date.now()/1e3)),client_name:_,client_version:(V=(ee=Object.values(D).filter(oe=>oe.NAME===_)[0])==null?void 0:ee.VERSION)!=null?V:D.WEB.VERSION,device_category:m.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:x,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:p};if(!f)try{let oe=await u(this,Vr,"m",NE).call(this,E,b);z=oe.api_key,Ee=oe.api_version,Ce=oe.context_data}catch(oe){L.error(Zt,"Failed to retrieve session data from server. Session data generated locally will be used instead.",oe)}if(w&&(Ce.on_behalf_of_user=w),O={api_key:z,api_version:Ee,context:u(this,Vr,"m",AE).call(this,Ce)},C)try{L.info(Zt,"Retrieving InnerTube config data.");let oe={"Accept-Language":e,Accept:"*/*",Referer:we.YT_BASE,"X-Goog-Visitor-Id":Ce.visitor_data,"X-Origin":we.YT_BASE,"X-Youtube-Client-Version":Ce.client_version};M.shim.server&&(oe["User-Agent"]=a,oe.Origin=we.YT_BASE);let _e=await(await b(`${we.API.PRODUCTION_1}v1/config?prettyPrint=false`,{headers:oe,method:"POST",body:JSON.stringify({context:O.context})})).json(),Rt=(F=(ae=(se=_e.responseContext)==null?void 0:se.globalConfigGroup)==null?void 0:ae.rawColdConfigGroup)==null?void 0:F.configData,Mt=(U=(ie=_e.responseContext)==null?void 0:ie.globalConfigGroup)==null?void 0:U.coldHashData,xt=(q=(Y=_e.responseContext)==null?void 0:Y.globalConfigGroup)==null?void 0:q.hotHashData;O.config_data=_e.configData,O.context.client.configInfo={...O.context.client.configInfo,coldConfigData:Rt,coldHashData:Mt,hotHashData:xt}}catch(oe){L.error(Zt,"Failed to retrieve config data.",oe)}v&&await u(this,Vr,"m",PE).call(this,O,I)}return L.debug(Zt,"Session data:",O),{...O,account_index:s}}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};r(Kd,"Session");Vr=Kd,PE=r(async function(e,i){if(!i)return;L.info(Zt,"Compressing and caching session data.");let s=new TextEncoder().encode(bt.compress(JSON.stringify(e))),o=new ArrayBuffer(4+s.byteLength);new DataView(o).setUint32(0,s.byteLength,!0),new Uint8Array(o).set(s,4),await i.set("innertube_session_data",o)},"_Session_storeSession"),NE=r(async function(e,i=M.shim.fetch){var k,C;let s=Zi(11);e.visitor_data&&(s=u(this,Vr,"m",CE).call(this,e.visitor_data));let o=new URL("/sw.js_data",we.YT_BASE),a=await i(o,{headers:{"Accept-Language":e.lang||"en-US","User-Agent":e.user_agent,Accept:"*/*",Referer:`${we.YT_BASE}/sw.js`,Cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${s};`}});if(!a.ok)throw new Br(`Failed to retrieve session data: ${a.status}`);let p=await a.text();if(!p.startsWith(")]}'"))throw new Br("Invalid JSPB response");let m=JSON.parse(p.replace(/^\)\]\}'/,""))[0][2],_=D.WEB.API_VERSION,[[x],b]=m,w=x[61],I=w[w.length-1];return{context_data:{hl:e.lang||x[0],gl:e.location||x[1],remote_host:x[3],visitor_data:e.visitor_data||x[13],user_agent:e.user_agent,client_name:e.client_name,client_version:(C=(k=Object.values(D).filter(E=>E.NAME===e.client_name)[0])==null?void 0:k.VERSION)!=null?C:x[16],os_name:x[17],os_version:x[18],time_zone:x[79]||e.time_zone,device_category:e.device_category,browser_name:x[86],browser_version:x[87],device_make:x[11],device_model:x[12],app_install_data:I,device_experiment_id:x[103],rollout_token:x[107],enable_safety_mode:e.enable_safety_mode},api_key:b,api_version:_}},"_Session_getSessionData"),AE=r(function(e){let i={client:{hl:e.hl||"en",gl:e.gl||"US",remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,userAgent:e.user_agent,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:we.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",rolloutToken:e.rollout_token,deviceExperimentId:e.device_experiment_id,mainAppWebInfo:{graftUrl:we.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(i.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},"_Session_buildContext"),CE=r(function(e){return si.decodeVisitorData(e).id},"_Session_getVisitorID");var Ww=Kd;var Yr,Lg=class extends js{constructor(e,i,s,o){var a;if(super(e,i,s),Yr.set(this,void 0),o){let p=l.parseResponse(o.data);p.entries&&(this.watch_next_feed=p.entries),p.continuation_endpoint&&S(this,Yr,(a=p.continuation_endpoint)==null?void 0:a.as(ui),"f")}}async getWatchNextContinuation(){var i;if(!u(this,Yr,"f"))throw new g("Continuation not found");let e=await this.actions.execute("/reel/reel_watch_sequence",{sequenceParams:u(this,Yr,"f").token,parse:!0});return e.entries&&(this.watch_next_feed=e.entries),S(this,Yr,(i=e.continuation_endpoint)==null?void 0:i.as(ui),"f"),this}get wn_has_continuation(){return!!u(this,Yr,"f")}};r(Lg,"ShortFormVideoInfo");Yr=new WeakMap;var Hw=Lg;var ei,co=class{constructor(e){ei.set(this,void 0),S(this,ei,e,"f")}static async create(e){return new co(await Ww.create(e))}async getInfo(e,i){var w,I,v,k,C;ao({target:e});let s={videoId:e instanceof h?(w=e.payload)==null?void 0:w.videoId:e,playlistId:e instanceof h?(I=e.payload)==null?void 0:I.playlistId:void 0,playlistIndex:e instanceof h?(v=e.payload)==null?void 0:v.playlistIndex:void 0,params:e instanceof h?(k=e.payload)==null?void 0:k.params:void 0,racyCheckOk:!0,contentCheckOk:!0},o=new h({watchEndpoint:s}),a=new h({watchNextEndpoint:s}),p=u(this,ei,"f"),f={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(C=p.player)==null?void 0:C.sts}},client:i};p.po_token&&(f.serviceIntegrityDimensions={poToken:p.po_token});let m=o.call(p.actions,f),_=a.call(p.actions),x=await Promise.all([m,_]),b=Zi(16);return new Bd(x,p.actions,b)}async getBasicInfo(e,i){var m;ao({video_id:e});let s=new h({watchEndpoint:{videoId:e,racyCheckOk:!0,contentCheckOk:!0}}),o=u(this,ei,"f"),a={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(m=o.player)==null?void 0:m.sts}},client:i};o.po_token&&(a.serviceIntegrityDimensions={poToken:o.po_token});let p=await s.call(o.actions,a),f=Zi(16);return new Bd([p],o.actions,f)}async getShortsVideoInfo(e,i){ao({video_id:e});let s=new h({reelWatchEndpoint:{disablePlayerResponse:!1,params:"CAUwAg%3D%3D",videoId:e}}),o=u(this,ei,"f").actions,a=s.call(o,{client:i}),p=YT.encode({shortId:e,params:{number:5},feature2:25,feature3:0}),f=encodeURIComponent(oi(p.finish())),m=o.execute("/reel/reel_watch_sequence",{sequenceParams:f}),_=await Promise.all([a,m]),x=Zi(16);return new Hw([_[0]],o,x,_[1])}async getPlaylist(e){ao({id:e}),e.startsWith("VL")||(e=`VL${e}`);let s=await new h({browseEndpoint:{browseId:e}}).call(u(this,ei,"f").actions);return new Qs(this.actions,s)}async getStreamingData(e,i={}){let o=(await this.getBasicInfo(e,i==null?void 0:i.client)).chooseFormat(i);return o.url=await o.decipher(u(this,ei,"f").player),o}async download(e,i){return(await this.getBasicInfo(e,i==null?void 0:i.client)).download(i)}async resolveURL(e){let i=await this.actions.execute("/navigation/resolve_url",{url:e,parse:!0});if(!i.endpoint)throw new g("Failed to resolve URL. Expected a NavigationEndpoint but got undefined",i);return i.endpoint}async getAttestationChallenge(e,i){let s={engagementType:e};return i&&(s.ids=i),this.actions.execute("/att/get",{parse:!0,...s})}call(e,i){return e.call(this.actions,i)}get actions(){return u(this,ei,"f").actions}get session(){return u(this,ei,"f")}};r(co,"Innertube");ei=new WeakMap;var Gw=co;var RE={};var ME=Gw;var qd,Dg,Bg,Og,lP="Cache",Vg=class{constructor(e=!1,i){qd.add(this),Dg.set(this,void 0),Bg.set(this,void 0),S(this,Dg,i||"","f"),S(this,Bg,e,"f")}get cache_dir(){return u(this,Bg,"f")?u(this,Dg,"f"):""}async get(e){let i=await u(this,qd,"m",Og).call(this);if(!!i)return new Promise((s,o)=>{let a=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);a.onerror=o,a.onsuccess=function(){var f;let p=(f=this.result)==null?void 0:f.v;p instanceof ArrayBuffer?s(p):ArrayBuffer.isView(p)?s(p.buffer):s(void 0)}})}async set(e,i){let s=await u(this,qd,"m",Og).call(this);if(!!s)return new Promise((o,a)=>{let p=s.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});p.onerror=a,p.onsuccess=()=>o()})}async remove(e){let i=await u(this,qd,"m",Og).call(this);if(!!i)return new Promise((s,o)=>{let a=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);a.onerror=o,a.onsuccess=()=>s()})}};r(Vg,"Cache");Dg=new WeakMap,Bg=new WeakMap,qd=new WeakSet,Og=r(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,s)=>{let o=e.open("youtubei.js",1);o.onsuccess=function(){i(this.result)},o.onerror=function(a){s("indexedDB request error"),console.error(a)},o.onupgradeneeded=function(){let a=this.result.createObjectStore("kv-store",{keyPath:"k"});a.transaction.oncomplete=function(){i(this.db)}}}):ti(lP,"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");M.load({runtime:"browser",server:!1,info:{version:"10.3.0",bugs_url:"https://github.com/LuanRT/YouTube.js/issues",repo_url:"https://github.com/LuanRT/YouTube.js"},Cache:Vg,sha1Hash:Yw,uuidv4(){var t;return(t=globalThis.crypto)!=null&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var kEe=ME;export{Dk as APIResponseTypes,Fw as Actions,Oe as AppendContinuationItemsAction,Uw as ClientType,X as Constants,wr as Continuation,ui as ContinuationCommand,fo as EventEmitter,or as FormatUtils,cw as Generator,Us as GridContinuation,Wg as HTTPClient,Yg as Helpers,Gw as Innertube,Bs as ItemSectionContinuation,bt as LZW,Fi as LiveChatContinuation,L as Log,ww as Misc,xw as Mixins,Ys as MusicPlaylistShelfContinuation,Fs as MusicShelfContinuation,Yi as NavigateAction,l as Parser,M as Platform,Qe as Player,Ws as PlaylistPanelContinuation,si as ProtoUtils,Le as ReloadContinuationItemsCommand,Vs as SectionListContinuation,Ww as Session,Os as ShowMiniplayerCommand,RE as Types,HE as UniversalCache,yo as Utils,gw as YT,xr as YTNodes,kEe as default};