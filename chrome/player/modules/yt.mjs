/* eslint-disable */
/* LuanRT/YouTube.js */
// Minified to reduce loading time (https://minify-js.com/)
var Qw=Object.defineProperty;var r=(t,e)=>Qw(t,"name",{value:e,configurable:!0});var ze=(t,e)=>{for(var i in e)Qw(t,i,{get:e[i],enumerable:!0})};function Jw(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}r(Jw,"__setFunctionName");function u(t,e,i,s){if(i==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?s:i==="a"?s.call(t):s?s.value:e.get(t)}r(u,"__classPrivateFieldGet");function S(t,e,i,s,o){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?o.call(t,i):o?o.value=i:e.set(t,i),i}r(S,"__classPrivateFieldSet");var oo={};ze(oo,{ChannelError:()=>Os,InnertubeError:()=>g,MissingParamError:()=>Ad,OAuth2Error:()=>gg,ParsingError:()=>Xe,Platform:()=>L,PlayerError:()=>kt,SessionError:()=>Nr,base64ToU8:()=>so,concatMemos:()=>aw,debugFetch:()=>aP,deepCompare:()=>Od,escapeStringRegexp:()=>Pw,findFunction:()=>Xi,findVariable:()=>Ar,generateRandomString:()=>zi,generateSidAuth:()=>oP,getCookie:()=>cP,getRandomUserAgent:()=>Rd,getStringBetweenStrings:()=>We,hasKeys:()=>nP,isTextRun:()=>Le,parseScript:()=>Md,streamToIterable:()=>Ng,throwIfMissing:()=>Js,timeToSeconds:()=>be,u8ToBase64:()=>Jt});var Pg={};ze(Pg,{Maybe:()=>Ji,Memo:()=>di,SuperParsedResult:()=>Pt,YTNode:()=>n,observe:()=>G});var D={};ze(D,{Level:()=>mt,debug:()=>YE,error:()=>DE,info:()=>OE,setLevel:()=>VE,warn:()=>Kt,warnOnce:()=>BE});var LE="YOUTUBEJS",mt={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},Zw={[mt.ERROR]:(...t)=>console.error(...t),[mt.WARNING]:(...t)=>console.warn(...t),[mt.INFO]:(...t)=>console.info(...t),[mt.DEBUG]:(...t)=>console.debug(...t)},tT=[mt.WARNING],eT=new Set;function eo(t,e,i){if(!Zw[t]||!tT.includes(t))return;let s=[`[${LE}]`];e&&s.push(`[${e}]`),Zw[t](`${s.join("")}:`,...i||[])}r(eo,"doLog");var BE=r((t,...e)=>{eT.has(t)||(eo(mt.WARNING,t,e),eT.add(t))},"warnOnce"),Kt=r((t,...e)=>eo(mt.WARNING,t,e),"warn"),DE=r((t,...e)=>eo(mt.ERROR,t,e),"error"),OE=r((t,...e)=>eo(mt.INFO,t,e),"info"),YE=r((t,...e)=>eo(mt.DEBUG,t,e),"debug");function VE(...t){tT=t}r(VE,"setLevel");var Cg,iT,de,ee,Ct,zt,Qi,rT=Symbol("ObservedArray.isObserved"),n=class{constructor(){Cg.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>u(this,Cg,"m",iT).call(this,i))}as(...e){if(!this.is(...e))throw new Xe(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new Xe(`Missing key ${e}`);return new Ji(this[e])}};r(n,"YTNode");Cg=new WeakSet,iT=r(function(e){return this.type===e.type},"_YTNode_is");n.type="YTNode";var UE="Maybe",Ji=class{constructor(e){de.add(this),ee.set(this,void 0),S(this,ee,e,"f")}get typeof(){return typeof u(this,ee,"f")}string(){return u(this,de,"m",zt).call(this,"string")}isString(){return u(this,de,"m",Ct).call(this,"string")}number(){return u(this,de,"m",zt).call(this,"number")}isNumber(){return u(this,de,"m",Ct).call(this,"number")}bigint(){return u(this,de,"m",zt).call(this,"bigint")}isBigint(){return u(this,de,"m",Ct).call(this,"bigint")}boolean(){return u(this,de,"m",zt).call(this,"boolean")}isBoolean(){return u(this,de,"m",Ct).call(this,"boolean")}symbol(){return u(this,de,"m",zt).call(this,"symbol")}isSymbol(){return u(this,de,"m",Ct).call(this,"symbol")}undefined(){return u(this,de,"m",zt).call(this,"undefined")}isUndefined(){return u(this,de,"m",Ct).call(this,"undefined")}null(){if(u(this,ee,"f")!==null)throw new TypeError(`Expected null, got ${typeof u(this,ee,"f")}`);return u(this,ee,"f")}isNull(){return u(this,ee,"f")===null}object(){return u(this,de,"m",zt).call(this,"object")}isObject(){return u(this,de,"m",Ct).call(this,"object")}function(){return u(this,de,"m",zt).call(this,"function")}isFunction(){return u(this,de,"m",Ct).call(this,"function")}array(){if(!Array.isArray(u(this,ee,"f")))throw new TypeError(`Expected array, got ${typeof u(this,ee,"f")}`);return u(this,ee,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,s){return Reflect.has(e,s)?Reflect.get(i,s):new Ji(Reflect.get(i,s))}})}isArray(){return Array.isArray(u(this,ee,"f"))}node(){if(!(u(this,ee,"f")instanceof n))throw new TypeError(`Expected YTNode, got ${u(this,ee,"f").constructor.name}`);return u(this,ee,"f")}isNode(){return u(this,ee,"f")instanceof n}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof u(this,ee,"f")}`);return u(this,ee,"f")}isObserved(){var e;return(e=u(this,ee,"f"))==null?void 0:e[rT]}parsed(){if(!(u(this,ee,"f")instanceof Pt))throw new TypeError(`Expected SuperParsedResult, got ${typeof u(this,ee,"f")}`);return u(this,ee,"f")}isParsed(){return u(this,ee,"f")instanceof Pt}any(){return Kt(UE,"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),u(this,ee,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${u(this,ee,"f").constructor.name}`);return u(this,ee,"f")}isInstanceof(e){return u(this,ee,"f")instanceof e}};r(Ji,"Maybe");ee=new WeakMap,de=new WeakSet,Ct=r(function(e){return typeof u(this,ee,"f")===e},"_Maybe_checkPrimitive"),zt=r(function(e){if(!u(this,de,"m",Ct).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return u(this,ee,"f")},"_Maybe_assertPrimitive");var Pt=class{constructor(e){Qi.set(this,void 0),S(this,Qi,e,"f")}get is_null(){return u(this,Qi,"f")===null}get is_array(){return!this.is_null&&Array.isArray(u(this,Qi,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return u(this,Qi,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return u(this,Qi,"f")}};r(Pt,"SuperParsedResult");Qi=new WeakMap;function G(t){return new Proxy(t,{get(e,i){return i=="get"?(s,o)=>e.find((c,l)=>{let f=Od(s,c);return f&&o&&e.splice(l,1),f}):i==rT?!0:i=="getAll"?(s,o)=>e.filter((c,l)=>{let f=Od(s,c);return f&&o&&e.splice(l,1),f}):i=="matchCondition"?s=>e.find(o=>s(o)):i=="filterType"?(...s)=>G(e.filter(o=>!!o.is(...s))):i=="firstOfType"?(...s)=>e.find(o=>!!o.is(...s)):i=="first"?()=>e[0]:i=="as"?(...s)=>G(e.map(o=>{if(o.is(...s))return o;throw new Xe(`Expected node of any type ${s.map(c=>c.type).join(", ")}, got ${o.type}`)})):i=="remove"?s=>e.splice(s,1):Reflect.get(e,i)}})}r(G,"observe");var di=class extends Map{getType(...e){return e=e.flat(),G(e.flatMap(i=>this.get(i.type)||[]))}};r(di,"Memo");var fw={};ze(fw,{AccessibilityContext:()=>_i,Author:()=>P,ChildElement:()=>Hx,CommandContext:()=>Ti,EmojiRun:()=>gi,Format:()=>jb,RendererContext:()=>Se,SubscriptionButton:()=>Lb,Text:()=>a,TextRun:()=>wi,Thumbnail:()=>y,VideoDetails:()=>Oi});var _i=class{constructor(e){this.label=e.label}};r(_i,"AccessibilityContext");var te={};ze(te,{CLIENTS:()=>U,CLIENT_NAME_IDS:()=>Yd,INNERTUBE_HEADERS_BASE:()=>WE,OAUTH:()=>FE,STREAM_HEADERS:()=>Xt,SUPPORTED_CLIENTS:()=>Vd,URLS:()=>Fe});var Fe={YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries-clients6.youtube.com",YT_UPLOAD:"https://upload.youtube.com/",YT_IT_BASE:"https://jnn-pa.googleapis.com",YT_IT_GEN:"/$rpc/google.internal.waa.v1.Waa/GenerateIT",YT_IT_CREATE:"/$rpc/google.internal.waa.v1.Waa/Create",API:{KEY:"wnAoJLKFLDp7fdfytqqP03F94hJ0W5TyDySazIA".split("").reverse().join(""),KEY2:"oAK4xCS02Xghjpd0z34O".split("").reverse().join(""),BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"},GOOGLE_SEARCH_BASE:"https://www.google.com/"},FE={REGEX:{TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')}},U={IOS:{NAME:"iOS",VERSION:"20.11.6",USER_AGENT:"com.google.ios.youtube/20.11.6 (iPhone10,4; U; CPU iOS 16_7_7 like Mac OS X)",DEVICE_MODEL:"iPhone10,4",OS_NAME:"iOS",OS_VERSION:"16.7.7.20H330"},WEB:{NAME:"WEB",VERSION:"2.20250222.10.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco",SUGG_EXP_ID:"ytzpb5_e2,ytpo.bo.lqp.elu=1,ytpo.bo.lqp.ecsc=1,ytpo.bo.lqp.mcsc=3,ytpo.bo.lqp.mec=1,ytpo.bo.lqp.rw=0.8,ytpo.bo.lqp.fw=0.2,ytpo.bo.lqp.szp=1,ytpo.bo.lqp.mz=3,ytpo.bo.lqp.al=en_us,ytpo.bo.lqp.zrm=1,ytpo.bo.lqp.er=1,ytpo.bo.ro.erl=1,ytpo.bo.ro.mlus=3,ytpo.bo.ro.erls=3,ytpo.bo.qfo.mlus=3,ytzprp.ppp.e=1,ytzprp.ppp.st=772,ytzprp.ppp.p=5"},MWEB:{NAME:"MWEB",VERSION:"2.20250224.01.00",API_VERSION:"v1"},WEB_KIDS:{NAME:"WEB_KIDS",VERSION:"2.20250221.11.00"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20250219.01.00"},ANDROID:{NAME:"ANDROID",VERSION:"19.35.36",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/19.35.36(Linux; U; Android 13; en_US; SM-S908E Build/TP1A.220624.014) gzip"},YTSTUDIO_ANDROID:{NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV:{NAME:"TVHTML5",VERSION:"7.20250219.14.00",USER_AGENT:"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version"},TV_EMBEDDED:{NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"},WEB_EMBEDDED:{NAME:"WEB_EMBEDDED_PLAYER",VERSION:"1.20250219.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_CREATOR:{NAME:"WEB_CREATOR",VERSION:"1.20241203.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"}},Yd={iOS:"5",WEB:"1",MWEB:"2",WEB_KIDS:"76",WEB_REMIX:"67",ANDROID:"3",ANDROID_CREATOR:"14",ANDROID_MUSIC:"21",TVHTML5:"7",TVHTML5_SIMPLY_EMBEDDED_PLAYER:"85",WEB_EMBEDDED_PLAYER:"56",WEB_CREATOR:"62"},Xt={accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"},WE={accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"},Vd=["IOS","WEB","MWEB","YTKIDS","YTMUSIC","ANDROID","YTSTUDIO_ANDROID","YTMUSIC_ANDROID","TV","TV_EMBEDDED","WEB_EMBEDDED","WEB_CREATOR"];var p={};ze(p,{addRuntimeParser:()=>ew,applyCommentsMutations:()=>Ik,applyMutations:()=>vk,getDynamicParsers:()=>_C,getParserByName:()=>Is,hasParser:()=>ud,parse:()=>De,parseActions:()=>Tk,parseArray:()=>Ee,parseC:()=>wk,parseCommand:()=>gk,parseCommands:()=>gC,parseFormats:()=>rw,parseItem:()=>K,parseLC:()=>iw,parseRR:()=>$b,parseResponse:()=>tw,sanitizeClassName:()=>Ss,setParserErrorHandler:()=>hC,shouldIgnore:()=>ow});var mr={};ze(mr,{AboutChannel:()=>Zd,AboutChannelView:()=>Jd,AccountChannel:()=>e_,AccountItem:()=>t_,AccountItemSection:()=>r_,AccountItemSectionHeader:()=>i_,AccountSectionList:()=>s_,ActiveAccountHeader:()=>$T,AddBannerToLiveChatCommand:()=>Sv,AddChatItemAction:()=>_y,AddLiveChatTickerItemAction:()=>kv,AddToPlaylist:()=>qT,AddToPlaylistCommand:()=>m0,AddToPlaylistEndpoint:()=>O0,AddToPlaylistServiceEndpoint:()=>$x,Alert:()=>Vr,AlertWithButton:()=>d_,AnchoredSection:()=>Yb,AnimatedThumbnailOverlayView:()=>__,AppendContinuationItemsAction:()=>Ae,AttributionView:()=>x_,AudioOnlyPlayability:()=>y_,AuthorCommentBadge:()=>b0,AutomixPreviewVideo:()=>b_,AvatarStackView:()=>g_,AvatarView:()=>Ur,BackgroundPromo:()=>KT,BackstageImage:()=>w_,BackstagePost:()=>vi,BackstagePostThread:()=>zT,BadgeView:()=>Ii,BrowseEndpoint:()=>Y0,BrowseFeedActions:()=>Hr,BrowserMediaSession:()=>XT,BumperUserEduContentView:()=>xy,Button:()=>T,ButtonCardView:()=>QT,ButtonView:()=>X,C4TabbedHeader:()=>Qr,CallToActionButton:()=>JT,Card:()=>ZT,CardCollection:()=>nx,CarouselHeader:()=>ax,CarouselItem:()=>e0,CarouselItemView:()=>px,CarouselLockup:()=>Z_,CarouselTitleView:()=>lx,ChangeEngagementPanelVisibilityAction:()=>VT,Channel:()=>ux,ChannelAboutFullMetadata:()=>Pa,ChannelAgeGate:()=>t0,ChannelExternalLinkView:()=>Qd,ChannelFeaturedContent:()=>i0,ChannelHeaderLinks:()=>R_,ChannelHeaderLinksView:()=>M_,ChannelMetadata:()=>fx,ChannelMobileHeader:()=>r0,ChannelOptions:()=>mx,ChannelOwnerEmptyState:()=>s0,ChannelSubMenu:()=>Oa,ChannelSwitcherHeader:()=>o0,ChannelSwitcherPage:()=>n_,ChannelTagline:()=>sx,ChannelThumbnailWithLink:()=>n0,ChannelVideoPlayer:()=>a0,Chapter:()=>hx,ChildVideo:()=>c0,ChipBarView:()=>p0,ChipCloud:()=>Jr,ChipCloudChip:()=>He,ChipView:()=>dx,ClientSideToggleMenuItem:()=>l0,ClipAdState:()=>D_,ClipCreation:()=>O_,ClipCreationScrubber:()=>B_,ClipCreationTextInput:()=>L_,ClipSection:()=>Y_,CollaboratorInfoCardContent:()=>u0,CollageHeroImage:()=>f0,CollectionThumbnailView:()=>wx,CommandExecutorCommand:()=>h0,CommentActionButtons:()=>v_,CommentDialog:()=>g0,CommentReplies:()=>Sx,CommentReplyDialog:()=>kx,CommentSimplebox:()=>Nx,CommentThread:()=>Rx,CommentView:()=>sr,CommentsEntryPointHeader:()=>Px,CommentsEntryPointTeaser:()=>Cx,CommentsHeader:()=>Ni,CommentsSimplebox:()=>Ex,CompactChannel:()=>v0,CompactLink:()=>Nt,CompactMix:()=>I0,CompactMovie:()=>S0,CompactPlaylist:()=>k0,CompactStation:()=>E0,CompactVideo:()=>Kr,ConfirmDialog:()=>C0,ContentMetadataView:()=>rs,ContentPreviewImageView:()=>ki,ContinuationCommand:()=>d0,ContinuationItem:()=>Q,ConversationBar:()=>P0,CopyLink:()=>ss,CreateCommentEndpoint:()=>V0,CreatePlaylistDialog:()=>Kd,CreatePlaylistDialogFormView:()=>Bx,CreatePlaylistServiceEndpoint:()=>U0,CreatorHeart:()=>T_,CreatorHeartView:()=>yy,DecoratedAvatarView:()=>os,DecoratedPlayerBar:()=>Vx,DefaultPromoPanel:()=>N0,DeletePlaylistEndpoint:()=>F0,DescriptionPreviewView:()=>Ux,DialogHeaderView:()=>Fx,DialogView:()=>A0,DidYouMean:()=>R0,DimChatItemAction:()=>Ev,DislikeButtonView:()=>S_,DownloadButton:()=>Fr,Dropdown:()=>yi,DropdownItem:()=>qd,DropdownView:()=>Mx,DynamicTextView:()=>Gx,Element:()=>jx,EmergencyOnebox:()=>M0,EmojiPicker:()=>Ix,EmojiPickerCategory:()=>L0,EmojiPickerCategoryButton:()=>B0,EmojiPickerUpsellCategory:()=>D0,EndScreenPlaylist:()=>zx,EndScreenVideo:()=>Xx,Endscreen:()=>Kx,EndscreenElement:()=>nv,EngagementPanelSectionList:()=>Pi,EngagementPanelTitleHeader:()=>V_,EomSettingsDisclaimer:()=>N_,ExpandableMetadata:()=>$_,ExpandableTab:()=>ur,ExpandableVideoDescriptionBody:()=>G_,ExpandedShelfContents:()=>av,Factoid:()=>Ci,FancyDismissibleDialog:()=>cv,FeedFilterChipBar:()=>wt,FeedNudge:()=>pv,FeedTabbedHeader:()=>Qx,FeedbackEndpoint:()=>W0,FlexibleActionsView:()=>Gr,FormFooterView:()=>Wx,GameCard:()=>H_,GameDetails:()=>lv,GetAccountsListInnertubeEndpoint:()=>G0,GetKidsBlocklistPickerCommand:()=>_0,GetMultiPageMenuAction:()=>UT,Grid:()=>uv,GridChannel:()=>Jx,GridHeader:()=>fv,GridMix:()=>mv,GridMovie:()=>hv,GridPlaylist:()=>Zx,GridShow:()=>dv,GridVideo:()=>iy,GuideCollapsibleEntry:()=>_v,GuideCollapsibleSectionEntry:()=>xv,GuideDownloadsEntry:()=>yv,GuideEntry:()=>fr,GuideSection:()=>cs,GuideSubscriptionsSection:()=>ry,HashtagHeader:()=>sy,HashtagTile:()=>bv,HeatMarker:()=>Dx,Heatmap:()=>Ox,HeroPlaylistThumbnail:()=>gv,HideEngagementPanelEndpoint:()=>H0,HighlightsCarousel:()=>wv,HistorySuggestion:()=>Tv,HorizontalCardList:()=>Si,HorizontalList:()=>j_,HorizontalMovieList:()=>vv,HowThisWasMadeSectionView:()=>rx,IconLink:()=>ny,ImageBannerView:()=>ay,IncludingResultsFor:()=>Iv,InfoPanelContainer:()=>py,InfoPanelContent:()=>cy,InfoRow:()=>J_,InteractiveTabbedHeader:()=>ly,ItemSection:()=>Tt,ItemSectionHeader:()=>ps,ItemSectionTab:()=>uy,ItemSectionTabbedHeader:()=>ls,KidsBlocklistPicker:()=>sk,KidsBlocklistPickerItem:()=>Vb,KidsCategoriesHeader:()=>ok,KidsCategoryTab:()=>Ub,KidsHomeScreen:()=>nk,LikeButton:()=>Wr,LikeButtonView:()=>I_,LikeEndpoint:()=>j0,LiveChat:()=>my,LiveChatActionPanel:()=>vy,LiveChatAuthorBadge:()=>wy,LiveChatAutoModMessage:()=>Cv,LiveChatBanner:()=>dy,LiveChatBannerChatSummary:()=>Pv,LiveChatBannerHeader:()=>hy,LiveChatBannerPoll:()=>Nv,LiveChatBannerRedirect:()=>Av,LiveChatDialog:()=>oI,LiveChatHeader:()=>Py,LiveChatItemBumperView:()=>by,LiveChatItemContextMenuEndpoint:()=>$0,LiveChatItemList:()=>Ny,LiveChatMembershipItem:()=>Rv,LiveChatMessageInput:()=>nI,LiveChatModeChangeMessage:()=>Mv,LiveChatPaidMessage:()=>Lv,LiveChatPaidSticker:()=>Bv,LiveChatParticipant:()=>Ay,LiveChatParticipantsList:()=>Ry,LiveChatPlaceholderItem:()=>Dv,LiveChatProductItem:()=>Ov,LiveChatRestrictedParticipation:()=>Yv,LiveChatSponsorshipsGiftPurchaseAnnouncement:()=>Vv,LiveChatSponsorshipsGiftRedemptionAnnouncement:()=>Uv,LiveChatSponsorshipsHeader:()=>Ty,LiveChatTextMessage:()=>Fv,LiveChatTickerPaidMessageItem:()=>Wv,LiveChatTickerPaidStickerItem:()=>Gv,LiveChatTickerSponsorItem:()=>Hv,LiveChatViewerEngagementMessage:()=>jv,LockupMetadataView:()=>My,LockupView:()=>Ly,MacroMarkersInfoItem:()=>U_,MacroMarkersList:()=>F_,MacroMarkersListItem:()=>$r,MarkChatItemAsDeletedAction:()=>qv,MarkChatItemsByAuthorAsDeletedAction:()=>Kv,Menu:()=>R,MenuFlexibleItem:()=>E_,MenuNavigationItem:()=>By,MenuPopup:()=>aI,MenuServiceItem:()=>At,MenuServiceItemDownload:()=>k_,MenuTitle:()=>m_,MerchandiseItem:()=>pI,MerchandiseShelf:()=>Vy,Message:()=>Ri,MetadataBadge:()=>Ge,MetadataRow:()=>lI,MetadataRowContainer:()=>Uy,MetadataRowHeader:()=>uI,MetadataScreen:()=>fI,MicroformatData:()=>Mi,Mix:()=>mI,MobileTopbar:()=>GI,ModalWithTitleAndButton:()=>hI,ModifyChannelNotificationPreferenceEndpoint:()=>q0,Movie:()=>dI,MovingThumbnail:()=>_I,MultiMarkersPlayerBar:()=>Yx,MultiPageMenu:()=>o_,MultiPageMenuNotificationSection:()=>cI,MultiPageMenuSection:()=>HI,MusicCardShelf:()=>xI,MusicCardShelfHeaderBasic:()=>Fy,MusicCarouselShelf:()=>EI,MusicCarouselShelfBasicHeader:()=>Wy,MusicDescriptionShelf:()=>Ky,MusicDetailHeader:()=>CI,MusicDownloadStateBadge:()=>PI,MusicEditablePlaylistDetailHeader:()=>NI,MusicElementHeader:()=>AI,MusicHeader:()=>RI,MusicImmersiveHeader:()=>MI,MusicInlineBadge:()=>fs,MusicItemThumbnailOverlay:()=>Lt,MusicLargeCardItemCarousel:()=>LI,MusicMenuItemDivider:()=>Dy,MusicMultiRowListItem:()=>Gy,MusicMultiSelectMenu:()=>Oy,MusicMultiSelectMenuItem:()=>us,MusicNavigationButton:()=>Hy,MusicPlayButton:()=>ms,MusicPlaylistEditHeader:()=>BI,MusicPlaylistShelf:()=>DI,MusicQueue:()=>Qy,MusicResponsiveHeader:()=>OI,MusicResponsiveListItem:()=>Li,MusicResponsiveListItemFixedColumn:()=>jy,MusicResponsiveListItemFlexColumn:()=>$y,MusicShelf:()=>YI,MusicSideAlignedItem:()=>VI,MusicSortFilterButton:()=>UI,MusicTastebuilderShelf:()=>FI,MusicTastebuilderShelfThumbnail:()=>Jy,MusicThumbnail:()=>Ie,MusicTwoRowItem:()=>qy,MusicVisualHeader:()=>WI,NavigationEndpoint:()=>m,Notification:()=>Zy,NotificationAction:()=>KI,OpenPopupAction:()=>Or,PageHeader:()=>Bt,PageHeaderView:()=>eb,PageIntroduction:()=>tb,PanelFooterView:()=>ns,PdgCommentChip:()=>w0,PdgReplyButtonView:()=>gy,PerformCommentActionEndpoint:()=>K0,PivotBar:()=>jI,PivotBarItem:()=>$I,PivotButton:()=>ib,PlayerAnnotationsExpanded:()=>rb,PlayerCaptionsTracklist:()=>sb,PlayerControlsOverlay:()=>zI,PlayerErrorMessage:()=>XI,PlayerLegacyDesktopYpcOffer:()=>QI,PlayerLegacyDesktopYpcTrailer:()=>Qf,PlayerLiveStoryboardSpec:()=>nb,PlayerMicroformat:()=>et,PlayerOverflow:()=>ob,PlayerOverlay:()=>lb,PlayerOverlayAutoplay:()=>ab,PlayerOverlayVideoDetails:()=>cb,PlayerStoryboardSpec:()=>er,Playlist:()=>Mt,PlaylistAddToOption:()=>h_,PlaylistCustomThumbnail:()=>ts,PlaylistEditEndpoint:()=>z0,PlaylistHeader:()=>ub,PlaylistInfoCardContent:()=>JI,PlaylistMetadata:()=>fb,PlaylistPanel:()=>Xy,PlaylistPanelVideo:()=>ri,PlaylistPanelVideoWrapper:()=>zy,PlaylistSidebar:()=>ZI,PlaylistSidebarPrimaryInfo:()=>mb,PlaylistSidebarSecondaryInfo:()=>hb,PlaylistThumbnailOverlay:()=>eS,PlaylistVideo:()=>hs,PlaylistVideoList:()=>db,PlaylistVideoThumbnail:()=>is,Poll:()=>tS,PollHeader:()=>$v,Post:()=>ds,PostMultiImage:()=>iS,PrefetchWatchCommand:()=>X0,PremiereTrailerBadge:()=>rS,ProductList:()=>W_,ProductListHeader:()=>sS,ProductListItem:()=>oS,ProfileColumn:()=>_b,ProfileColumnStats:()=>nS,ProfileColumnStatsEntry:()=>aS,ProfileColumnUserInfo:()=>cS,Quiz:()=>pS,RecognitionShelf:()=>lS,ReelItem:()=>_s,ReelPlayerHeader:()=>xb,ReelPlayerOverlay:()=>uS,ReelShelf:()=>Xr,ReelWatchEndpoint:()=>Q0,RelatedChipCloud:()=>yb,RemoveBannerForLiveChatCommand:()=>zv,RemoveChatItemAction:()=>Xv,RemoveChatItemByAuthorAction:()=>Qv,ReplaceChatItemAction:()=>Jv,ReplaceLiveChatAction:()=>Zv,ReplayChatItemAction:()=>eI,RichGrid:()=>Dt,RichItem:()=>fS,RichListHeader:()=>mS,RichMetadata:()=>Mm,RichMetadataRow:()=>Bm,RichSection:()=>hS,RichShelf:()=>bb,RunAttestationCommand:()=>Tx,SearchBox:()=>A_,SearchEndpoint:()=>J0,SearchFilter:()=>gb,SearchFilterGroup:()=>xs,SearchFilterOptionsDialog:()=>dS,SearchHeader:()=>wb,SearchRefinementCard:()=>ir,SearchSubMenu:()=>Tb,SearchSuggestion:()=>oy,SearchSuggestionsSection:()=>_S,SecondarySearchContainer:()=>vb,SectionList:()=>ce,SegmentedLikeDislikeButton:()=>dr,SegmentedLikeDislikeButtonView:()=>Zt,SendFeedbackAction:()=>FT,SettingBoolean:()=>xS,SettingsCheckbox:()=>Ib,SettingsOptions:()=>gs,SettingsSidebar:()=>Sb,SettingsSwitch:()=>bs,ShareEndpoint:()=>Z0,ShareEntityEndpoint:()=>ev,ShareEntityServiceEndpoint:()=>as,SharePanelHeader:()=>Eb,SharePanelTitleV15:()=>yS,ShareTarget:()=>Cb,SharedPost:()=>kb,Shelf:()=>ws,ShortsLockupView:()=>Ts,ShowCustomThumbnail:()=>ey,ShowDialogCommand:()=>x0,ShowEngagementPanelEndpoint:()=>tv,ShowLiveChatActionPanelAction:()=>tI,ShowLiveChatDialogAction:()=>iI,ShowLiveChatTooltipCommand:()=>rI,ShowingResultsFor:()=>bS,SignalAction:()=>WT,SignalServiceEndpoint:()=>iv,SimpleCardContent:()=>gS,SimpleCardTeaser:()=>wS,SimpleMenuHeader:()=>Yy,SimpleTextSection:()=>TS,SingleActionEmergencySupport:()=>vS,SingleColumnBrowseResults:()=>IS,SingleColumnMusicWatchNextResults:()=>SS,SingleHeroImage:()=>kS,SlimOwner:()=>ES,SlimVideoMetadata:()=>CS,SortFilterHeader:()=>fy,SortFilterSubMenu:()=>_t,SponsorCommentBadge:()=>T0,StartAt:()=>Pb,StructuredDescriptionContent:()=>rr,StructuredDescriptionPlaylistLockup:()=>ex,SubFeedOption:()=>C_,SubFeedSelector:()=>P_,SubscribeButton:()=>me,SubscribeEndpoint:()=>rv,SubscriptionNotificationToggleButton:()=>ox,Tab:()=>Be,Tabbed:()=>PS,TabbedSearchResults:()=>NS,TextCarouselItemView:()=>cx,TextFieldView:()=>Lx,TextHeader:()=>AS,ThirdPartyShareTargetSection:()=>Nb,ThumbnailBadgeView:()=>Zr,ThumbnailBottomOverlayView:()=>gx,ThumbnailHoverOverlayToggleActionsView:()=>yx,ThumbnailHoverOverlayView:()=>_x,ThumbnailLandscapePortrait:()=>RS,ThumbnailOverlayBadgeView:()=>xx,ThumbnailOverlayBottomPanel:()=>ty,ThumbnailOverlayEndorsement:()=>MS,ThumbnailOverlayHoverText:()=>LS,ThumbnailOverlayInlineUnplayable:()=>BS,ThumbnailOverlayLoadingPreview:()=>DS,ThumbnailOverlayNowPlaying:()=>OS,ThumbnailOverlayPinking:()=>YS,ThumbnailOverlayPlaybackStatus:()=>VS,ThumbnailOverlayProgressBarView:()=>bx,ThumbnailOverlayResumePlayback:()=>US,ThumbnailOverlaySidePanel:()=>FS,ThumbnailOverlayTimeStatus:()=>Rt,ThumbnailOverlayToggleButton:()=>WS,ThumbnailView:()=>es,TimedMarkerDecoration:()=>GS,TitleAndButtonListHeader:()=>HS,ToggleButton:()=>ie,ToggleButtonView:()=>Qe,ToggleMenuServiceItem:()=>jS,Tooltip:()=>$S,TopbarMenuButton:()=>qI,TopicChannelDetails:()=>qS,Transcript:()=>Yr,TranscriptFooter:()=>a_,TranscriptSearchBox:()=>c_,TranscriptSearchPanel:()=>f_,TranscriptSectionHeader:()=>p_,TranscriptSegment:()=>l_,TranscriptSegmentList:()=>u_,TwoColumnBrowseResults:()=>Ot,TwoColumnSearchResults:()=>Ab,TwoColumnWatchNextResults:()=>Mb,UnifiedSharePanel:()=>KS,UniversalWatchCard:()=>ys,UnsubscribeEndpoint:()=>sv,UpdateChannelSwitcherPageAction:()=>GT,UpdateDateTextAction:()=>Iy,UpdateDescriptionAction:()=>Sy,UpdateEngagementPanelAction:()=>HT,UpdateEngagementPanelContentCommand:()=>y0,UpdateLiveChatPollAction:()=>sI,UpdateSubscribeButtonAction:()=>jT,UpdateTitleAction:()=>ky,UpdateToggleButtonTextAction:()=>Ey,UpdateViewershipAction:()=>Cy,UploadTimeFactoid:()=>K_,UpsellDialog:()=>zS,VerticalList:()=>XS,VerticalWatchCardList:()=>QS,Video:()=>qr,VideoAttributeView:()=>Ei,VideoAttributesSectionView:()=>ix,VideoCard:()=>q_,VideoDescriptionCourseSection:()=>tx,VideoDescriptionHeader:()=>X_,VideoDescriptionInfocardsSection:()=>Q_,VideoDescriptionMusicSection:()=>zr,VideoDescriptionTranscriptSection:()=>aa,VideoInfoCardContent:()=>JS,VideoMetadataCarouselView:()=>ZS,VideoOwner:()=>vs,VideoPrimaryInfo:()=>Db,VideoSecondaryInfo:()=>Xh,VideoViewCount:()=>Bb,ViewCountFactoid:()=>z_,WatchCardCompactVideo:()=>Ob,WatchCardHeroVideo:()=>ek,WatchCardRichHeader:()=>tk,WatchCardSectionSequence:()=>ik,WatchEndpoint:()=>qx,WatchNextEndScreen:()=>pb,WatchNextEndpoint:()=>ov,WatchNextTabbedResults:()=>rk,YpcTrailer:()=>hr});var Zi,Ud=class{constructor(e,i){Zi.set(this,void 0),S(this,Zi,new L.shim.Cache(e,i),"f")}get cache_dir(){return u(this,Zi,"f").cache_dir}get(e){return u(this,Zi,"f").get(e)}set(e,i){return u(this,Zi,"f").set(e,i)}remove(e){return u(this,Zi,"f").remove(e)}};r(Ud,"UniversalCache");Zi=new WeakMap;var GE=Ud;var Dr,Fd=class extends EventTarget{constructor(){super(),Dr.set(this,new Map)}emit(e,...i){let s=new L.shim.CustomEvent(e,{detail:i});this.dispatchEvent(s)}on(e,i){let s=r(o=>{o instanceof L.shim.CustomEvent?i(...o.detail):i(o)},"wrapper");u(this,Dr,"f").set(i,s),this.addEventListener(e,s)}once(e,i){let s=r(o=>{o instanceof L.shim.CustomEvent?i(...o.detail):i(o),this.off(e,i)},"wrapper");u(this,Dr,"f").set(i,s),this.addEventListener(e,s)}off(e,i){let s=u(this,Dr,"f").get(i);s&&(this.removeEventListener(e,s),u(this,Dr,"f").delete(i))}};r(Fd,"EventEmitterLike");Dr=new WeakMap;var to=Fd;var tr={};ze(tr,{chooseFormat:()=>dT,download:()=>h1,toDash:()=>hT});var HE={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function sT(t){return t.replace(/([&"<>'])/g,(e,i)=>HE[i])}r(sT,"escapeXMLString");function jE(t){return t.charAt(0).toUpperCase()+t.slice(1)}r(jE,"normalizeTag");function j(t,e,...i){let s=i.flat();return typeof t=="function"?t({...e,children:s}):{type:jE(t),props:{...e,children:s}}}r(j,"createElement");async function oT(t){if(typeof t=="string")return sT(t);let e=`<${t.type}`;if(t.props)for(let i of Object.keys(t.props))i!=="children"&&t.props[i]!==void 0&&(e+=` ${i}="${sT(`${t.props[i]}`)}"`);if(t.props.children){let i=await Promise.all((await Promise.all(t.props.children.flat())).flat().filter(s=>!!s).map(s=>oT(s)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`}r(oT,"renderElementToString");async function nT(t){return`<?xml version="1.0" encoding="utf-8"?>${await oT(await t)}`}r(nT,"renderToString");function aT(t){return t.children}r(aT,"Fragment");var io=class extends n{constructor(e){super();let i=e.spec.split("|"),s=new URL(i.shift());this.boards=i.map((o,c)=>{let[l,f,h,_,x,b,w,v]=o.split("#");s.searchParams.set("sigh",v);let I=Math.ceil(parseInt(h,10)/(parseInt(_,10)*parseInt(x,10)));return{type:"vod",template_url:s.toString().replace("$L",c).replace("$N",w),thumbnail_width:parseInt(l,10),thumbnail_height:parseInt(f,10),thumbnail_count:parseInt(h,10),interval:parseInt(b,10),columns:parseInt(_,10),rows:parseInt(x,10),storyboard_count:I}})}};r(io,"PlayerStoryboardSpec");io.type="PlayerStoryboardSpec";var er=io;var qE="StreamingInfo";function KE(t,e){var o,c,l;let i=new Map,s=t.some(f=>!!f.audio_track);for(let f of t){if((!f.index_range||!f.init_range)&&!f.is_type_otf&&!e)continue;let h=f.mime_type.split(";")[0],_=(o=We(f.mime_type,'codecs="','"'))==null?void 0:o.split(".")[0],x=f.color_info?Object.values(f.color_info).join("-"):"",b=((c=f.audio_track)==null?void 0:c.id)||"",w=f.is_drc?"drc":"",v=`${h}-${_}-${x}-${b}-${w}`;i.has(v)||i.set(v,[]),(l=i.get(v))==null||l.push(f)}return{groups:Array.from(i.values()),has_multiple_audio_tracks:s}}r(KE,"getFormatGroupings");function pT(t,e){if(t.length>1&&new Set(t.map(i=>We(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),We(t[0].mime_type,'codecs="','"')}r(pT,"hoistCodecsIfPossible");function lT(t,e,i){if(t.length>1&&new Set(t.map(s=>s.fps)).size===1)return i.push(e),Number(t[0][e])}r(lT,"hoistNumberAttributeIfPossible");function zE(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}r(zE,"hoistAudioChannelsIfPossible");async function XE(t,e){var f;let i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Xt,redirect:"follow"}),s=i.url.replace("&rn=0","").replace("&sq=0",""),o=await i.text(),c=(f=We(o,"Segment-Durations-Ms:",`\r
`))==null?void 0:f.split(",");if(!c)throw new g("Failed to extract the segment durations from this OTF stream",{url:t});let l=[];for(let h of c){let _=h.trim();if(_.length===0)continue;let x,b=We(_,"(r=",")");b&&(x=parseInt(b)),l.push({duration:parseInt(_),repeat_count:x})}return{init_url:`${s}&sq=0`,media_url:`${s}&sq=$Number$`,timeline:l}}r(XE,"getOTFSegmentTemplate");async function uT(t,e){let i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:Xt,redirect:"follow"}),s=parseInt(i.headers.get("X-Head-Time-Millis")||""),o=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(s)||isNaN(o))throw new g("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:s/1e3,segment_count:o}}r(uT,"getPostLiveDvrInfo");async function QE(t,e,i,s,o,c){if(!t.item){let l=new URL(await e.decipher(o));l.searchParams.set("cpn",c||"");let f=i(l).toString();t.item=await uT(f,s)}return t.item.duration}r(QE,"getPostLiveDvrDuration");async function fT(t,e,i,s,o,c){let l=new URL(await t.decipher(s));l.searchParams.set("cpn",o||"");let f=e(l).toString();if(t.is_type_otf){if(!i)throw new g("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return XE(f,i)}}}if(c){if(!i)throw new g("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let _=t.target_duration_dec;if(typeof _!="number")throw new g("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,async getSegmentTemplate(){return c.item||(c.item=await uT(f,i)),{media_url:`${f}&sq=$Number$`,timeline:[{duration:_*1e3,repeat_count:c.item.segment_count}]}}}}if(!t.index_range||!t.init_range)throw new g("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:f,index_range:t.index_range,init_range:t.init_range}}r(fT,"getSegmentInfo");async function JE(t,e,i,s,o,c,l){new URL(await t.decipher(o)).searchParams.set("cpn",c||"");let h=[t.itag.toString()];return t.audio_track&&h.push(t.audio_track.id),t.is_drc&&h.push("drc"),{uid:h.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:We(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:await fT(t,i,s,o,c,l)}}r(JE,"getAudioRepresentation");function ZE(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return(t.is_dubbed||t.is_auto_dubbed)&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}r(ZE,"getTrackRoles");async function e1(t,e,i,s,o,c,l){var v;let f=t[0],{audio_track:h}=f,_=[],x=!!l,b;return h?x&&f.is_drc?b=l.label_drc_multiple(h.display_name):b=h.display_name:x&&(b=f.is_drc?l.label_drc:l.label_original),{mime_type:f.mime_type.split(";")[0],language:(v=f.language)!=null?v:void 0,codecs:pT(t,_),audio_sample_rate:lT(t,"audio_sample_rate",_),track_name:b,track_roles:ZE(f,x),channels:zE(t,_),representations:await Promise.all(t.map(I=>JE(I,_,e,i,s,o,c)))}}r(e1,"getAudioSet");var t1={BT709:"1",BT2020:"9"},cT={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},i1={BT709:"1",BT2020_NCL:"14"};function r1(t){var l;let e=t.color_info,i,s,o;if(e){if(e.primaries&&(i=t1[e.primaries]),e.transfer_characteristics&&(s=cT[e.transfer_characteristics]),e.matrix_coefficients&&(o=i1[e.matrix_coefficients],!o)){let f=new URL(t.url),h=JSON.parse(JSON.stringify(t));h.url="REDACTED",h.signature_cipher="REDACTED",h.cipher="REDACTED",Kt(qE,`Unknown matrix coefficients "${e.matrix_coefficients}". The DASH manifest is still usable without this.
Please report it at ${L.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${f.searchParams.get("c")}
format:`,h)}}else(l=We(t.mime_type,'codecs="','"'))!=null&&l.startsWith("avc1")&&(s=cT.BT709);return{primaries:i,transfer_characteristics:s,matrix_coefficients:o}}r(r1,"getColorInfo");async function s1(t,e,i,s,o,c,l){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:We(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:await fT(t,e,o,s,c,l)}}r(s1,"getVideoRepresentation");async function o1(t,e,i,s,o,c){let l=t[0],f=r1(l),h=[];return{mime_type:l.mime_type.split(";")[0],color_info:f,codecs:pT(t,h),fps:lT(t,"fps",h),representations:await Promise.all(t.map(x=>s1(x,e,h,i,s,o,c)))}}r(o1,"getVideoSet");function n1(t){var s;let e=new Map,i=t.is(er)?t.boards:[t.board];for(let o of i){let c=new URL(o.template_url).pathname.split(".").pop(),l=`image/${c==="jpg"?"jpeg":c}`;e.has(l)||e.set(l,[]),(s=e.get(l))==null||s.push(o)}return e}r(n1,"getStoryboardInfo");async function a1(t,e,i,s,o){let c=e.template_url,l=i(new URL(c.replace("$M","0"))),f=o.response?o.response:t.session.http.fetch_function(l,{method:"HEAD",headers:Xt});return o.response=f,(await f).headers.get("Content-Type")||s}r(a1,"getStoryboardMimeType");async function c1(t,e,i){let s=e.template_url,o=[],c=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let h=0;h<c;h++){let _=new URL(s.replace("$M",h.toString())),x=h===0&&i.response?i.response:t.session.http.fetch_function(_,{method:"HEAD",headers:Xt});h===0&&(i.response=x),o.push(x)}let l=await Promise.all(o),f=[];for(let h of l)f.push(parseInt(h.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...f)/(e.rows*e.columns)*8)}r(c1,"getStoryboardBitrate");function p1(t,e,i,s,o){let c=i.template_url,l=new URL(c.replace("$M","$Number$")),f;return i.type==="vod"?f=t/i.storyboard_count:f=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return c1(e,i,o)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(f),template_url:s(l).toString(),getURL(_){return l.toString().replace("$Number$",_.toString())}}}r(p1,"getImageRepresentation");function l1(t,e,i,s){let o=n1(i),c={};return Array.from(o.entries()).map(([l,f])=>({probable_mime_type:l,getMimeType(){return a1(e,f[0],s,l,c)},representations:f.map(h=>p1(t,e,h,s,c))}))}r(l1,"getImageSets");function u1(t,e,i){let s=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(o=>{let c=new URL(o.base_url);c.searchParams.set("fmt",e);let l=["caption"];return c.searchParams.has("tlang")&&l.push("dub"),{mime_type:s,language:o.language_code,track_name:o.name.toString(),track_roles:l,representation:{uid:`text-${o.vss_id}`,base_url:i(c).toString()}}})}r(u1,"getTextSets");async function Wd(t,e=!1,i=x=>x,s,o,c,l,f,h,_){if(!t)throw new g("Streaming data not available");let x=s?t.adaptive_formats.filter(V=>!s(V)):t.adaptive_formats,b,w;if(e){if(w={},!l)throw new g("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");b=r(()=>w?QE(w,x[0],i,l,c,o):Promise.resolve(0),"getDuration")}else{let V=x[0].approx_duration_ms/1e3;b=r(()=>Promise.resolve(V),"getDuration")}let{groups:v,has_multiple_audio_tracks:I}=KE(x,e),{video_groups:k,audio_groups:C}=v.reduce((V,se)=>se[0].has_audio?(I&&!se[0].audio_track||V.audio_groups.push(se),V):(V.video_groups.push(se),V),{video_groups:[],audio_groups:[]}),E;C.flat().some(V=>V.is_drc)&&(E={label_original:(_==null?void 0:_.label_original)||"Original",label_drc:(_==null?void 0:_.label_drc)||"Stable Volume",label_drc_multiple:(_==null?void 0:_.label_drc_multiple)||(V=>`${V} (Stable Volume)`)});let O=await Promise.all(C.map(V=>e1(V,i,l,c,o,w,E))),z=await Promise.all(k.map(V=>o1(V,i,c,l,o,w))),M=[];if(f&&l){let V;if(f.is(er))V=x[0].approx_duration_ms/1e3;else{let se=x[0].target_duration_dec;if(se===void 0)throw new g("Format is missing target_duration_dec",{format:x[0]});V=se}M=l1(V,l,f,i)}let ne=[];if(h&&(_==null?void 0:_.captions_format)){if(_.captions_format!=="vtt"&&_.captions_format!=="ttml")throw new g("Invalid captions format",_.captions_format);ne=u1(h,_.captions_format,i)}return{getDuration:b,audio_sets:O,video_sets:z,image_sets:M,text_sets:ne}}r(Wd,"getStreamingInfo");async function f1({info:t}){if(!t.is_oft&&!t.is_post_live_dvr)return null;let e=await t.getSegmentTemplate();return j("segmentTemplate",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},j("segmentTimeline",null,e.timeline.map(i=>j("s",{d:i.duration,r:i.repeat_count}))))}r(f1,"OTFPostLiveDvrSegmentInfo");function mT({info:t}){return t.is_oft||t.is_post_live_dvr?j(f1,{info:t}):j(aT,null,j("baseURL",null,t.base_url),j("segmentBase",{indexRange:`${t.index_range.start}-${t.index_range.end}`},j("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}r(mT,"SegmentInfo");async function m1({streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:s,cpn:o,player:c,actions:l,storyboards:f,captionTracks:h,options:_}){let{getDuration:x,audio_sets:b,video_sets:w,image_sets:v,text_sets:I}=await Wd(t,e,i,s,o,c,l,f,h,_);return j("mPD",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${await x()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},j("period",null,b.map((k,C)=>j("adaptationSet",{id:C,mimeType:k.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:k.language,codecs:k.codecs,audioSamplingRate:k.audio_sample_rate,contentType:"audio"},k.track_roles&&k.track_roles.map(E=>j("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:E})),k.track_name&&j("label",{id:C},k.track_name),k.channels&&j("audioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:k.channels}),k.representations.map(E=>j("representation",{id:E.uid,bandwidth:E.bitrate,codecs:E.codecs,audioSamplingRate:E.audio_sample_rate},E.channels&&j("audioChannelConfiguration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:E.channels}),j(mT,{info:E.segment_info}))))),w.map((k,C)=>j("adaptationSet",{id:C+b.length,mimeType:k.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:k.codecs,maxPlayoutRate:"1",frameRate:k.fps,contentType:"video"},k.color_info.primaries&&j("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:k.color_info.primaries}),k.color_info.transfer_characteristics&&j("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:k.color_info.transfer_characteristics}),k.color_info.matrix_coefficients&&j("supplementalProperty",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:k.color_info.matrix_coefficients}),k.representations.map(E=>j("representation",{id:E.uid,bandwidth:E.bitrate,width:E.width,height:E.height,codecs:E.codecs,frameRate:E.fps},j(mT,{info:E.segment_info}))))),v.map(async(k,C)=>j("adaptationSet",{id:C+b.length+w.length,mimeType:await k.getMimeType(),contentType:"image"},k.representations.map(async E=>j("representation",{id:`thumbnails_${E.thumbnail_width}x${E.thumbnail_height}`,bandwidth:await E.getBitrate(),width:E.sheet_width,height:E.sheet_height},j("essentialProperty",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${E.columns}x${E.rows}`}),j("segmentTemplate",{media:E.template_url,duration:E.template_duration,startNumber:"0"}))))),I.map((k,C)=>j("adaptationSet",{id:C+b.length+w.length+v.length,mimeType:k.mime_type,lang:k.language,contentType:"text"},k.track_roles.map(E=>j("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:E})),j("label",{id:C+b.length},k.track_name),j("representation",{id:k.representation.uid,bandwidth:"0"},j("baseURL",null,k.representation.base_url))))))}r(m1,"DashManifest");function hT(t,e=!1,i=x=>x,s,o,c,l,f,h,_){if(!t)throw new g("Streaming data not available");return nT(j(m1,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:_,rejectFormat:s,cpn:o,player:c,actions:l,storyboards:f,captionTracks:h}))}r(hT,"toDash");async function h1(t,e,i,s,o,c){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new g("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new g("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!s)throw new g("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let l={quality:"360p",type:"video+audio",format:"mp4",range:void 0,...t},f=dT(l,s),h=await f.decipher(o);if(l.type==="video+audio"&&!t.range){let I=await e.session.http.fetch_function(`${h}&cpn=${c}`,{method:"GET",headers:Xt,redirect:"follow"});if(!I.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:I});let k=I.body;if(!k)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:I});return k}let _=1048576*10,x=t.range?t.range.start:0,b=t.range?t.range.end:_,w=!1,v;return new L.shim.ReadableStream({start(){},pull:async I=>{if(w){I.close();return}return(b>=(f.content_length?f.content_length:0)||t.range)&&(w=!0),new Promise(async(k,C)=>{try{v=new AbortController;let E=await e.session.http.fetch_function(`${h}&cpn=${c}&range=${x}-${b||""}`,{method:"GET",headers:{...Xt},signal:v.signal});if(!E.ok)throw new g("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:E});let O=E.body;if(!O)throw new g("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:E});for await(let z of Ng(O))I.enqueue(z);x=b+1,b+=_,k()}catch(E){C(E)}})},async cancel(I){v.abort(I)}},{highWaterMark:1,size(I){return I.byteLength}})}r(h1,"download");function dT(t,e){if(!e)throw new g("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]];if(t.itag){let b=i.filter(w=>w.itag===t.itag);if(!b.length)throw new g("No matching formats found",{options:t});return b[0]}let s=t.type?t.type.includes("audio"):!0,o=t.type?t.type.includes("video"):!0,c=t.language||"original",l=t.quality||"best",f=-1,h=["best","bestefficiency"].includes(l),_=l!=="best",x=i.filter(b=>s&&!b.has_audio||o&&!b.has_video||t.codec&&!b.mime_type.includes(t.codec)||t.format!=="any"&&!b.mime_type.includes(t.format||"mp4")||!h&&b.quality_label!==l?!1:(b.width&&f<b.width&&(f=b.width),!0));if(!x.length)throw new g("No matching formats found",{options:t});if(h&&o&&(x=x.filter(b=>b.width===f)),s&&!o){let b=x.filter(w=>c!=="original"?!w.has_video&&!w.has_text&&w.language===c:!w.has_video&&!w.has_text&&w.is_original);b.length>0&&(x=b)}return _?x.sort((b,w)=>b.bitrate-w.bitrate):x.sort((b,w)=>w.bitrate-b.bitrate),x[0]}r(dT,"chooseFormat");var Ag,Gd,Rg,ro,_T,Hd=class{constructor(e,i,s){Ag.add(this),Gd.set(this,void 0),Rg.set(this,void 0),ro.set(this,void 0),S(this,Gd,e,"f"),S(this,Rg,i,"f"),S(this,ro,s||L.shim.fetch,"f")}get fetch_function(){return u(this,ro,"f")}async fetch(e,i){let s=u(this,Gd,"f"),o=Fe.API.PRODUCTION_1+s.api_version,c=(i==null?void 0:i.baseURL)||o,l=typeof e=="string"?!c.endsWith("/")&&!e.startsWith("/")?new URL(`${c}/${e}`):new URL(c+e):e instanceof URL?e:new URL(e.url,c),f=(i==null?void 0:i.headers)||(e instanceof L.shim.Request?e.headers:new L.shim.Headers)||new L.shim.Headers,h=(i==null?void 0:i.body)||(e instanceof L.shim.Request?e.body:void 0),_=new L.shim.Headers(f);_.set("Accept","*/*"),_.set("Accept-Language","*"),_.set("X-Goog-Visitor-Id",s.context.client.visitorData||""),_.set("X-Youtube-Client-Version",s.context.client.clientVersion||"");let x=Yd[s.context.client.clientName];x&&_.set("X-Youtube-Client-Name",x),L.shim.server&&(_.set("User-Agent",s.user_agent||""),_.set("Origin",l.origin)),l.searchParams.set("prettyPrint","false"),l.searchParams.set("alt","json");let b=_.get("Content-Type"),w=h,v=c===o||c===Fe.YT_UPLOAD;if(b==="application/json"&&v&&typeof h=="string"){let E={...JSON.parse(h),context:JSON.parse(JSON.stringify(s.context))};u(this,Ag,"m",_T).call(this,E.context,E.client),_.set("X-Youtube-Client-Version",E.context.client.clientVersion);let O=Yd[E.context.client.clientName];O&&_.set("X-Youtube-Client-Name",O),delete E.client,E.context.client.clientName==="ANDROID"||E.context.client.clientName==="ANDROID_MUSIC"?(_.set("User-Agent",U.ANDROID.USER_AGENT),_.set("X-GOOG-API-FORMAT-VERSION","2")):E.context.client.clientName==="iOS"&&_.set("User-Agent",U.IOS.USER_AGENT),w=JSON.stringify(E)}else b==="application/x-protobuf"&&L.shim.server&&(_.set("User-Agent",U.ANDROID.USER_AGENT),_.set("X-GOOG-API-FORMAT-VERSION","2"),_.delete("X-Youtube-Client-Version"));let I=new L.shim.Request(l,e instanceof L.shim.Request?e:i),k=await u(this,ro,"f").call(this,I,{body:w,headers:_,redirect:e instanceof L.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow",...L.shim.runtime!=="cf-worker"?{credentials:"include"}:{}});if(k.ok)return k;throw new g(`Request to ${k.url} failed with status ${k.status}`,await k.text())}};r(Hd,"HTTPClient");Gd=new WeakMap,Rg=new WeakMap,ro=new WeakMap,Ag=new WeakSet,_T=r(function(e,i){if(!!i){if(!Vd.includes(i.toUpperCase()))throw new g(`Invalid client: ${i}`,{available_innertube_clients:Vd});switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=U.ANDROID.SDK_VERSION,e.client.userAgent=U.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i.toUpperCase()){case"MWEB":e.client.clientVersion=U.MWEB.VERSION,e.client.clientName=U.MWEB.NAME,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.platform="MOBILE";break;case"IOS":e.client.deviceMake="Apple",e.client.deviceModel=U.IOS.DEVICE_MODEL,e.client.clientVersion=U.IOS.VERSION,e.client.clientName=U.IOS.NAME,e.client.platform="MOBILE",e.client.osName=U.IOS.NAME,e.client.osVersion=U.IOS.OS_VERSION,delete e.client.browserName,delete e.client.browserVersion;break;case"YTMUSIC":e.client.clientVersion=U.YTMUSIC.VERSION,e.client.clientName=U.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=U.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=U.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=U.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=U.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=U.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=U.YTSTUDIO_ANDROID.NAME;break;case"TV":{e.client.clientVersion=U.TV.VERSION,e.client.clientName=U.TV.NAME,e.client.userAgent=U.TV.USER_AGENT;break}case"TV_EMBEDDED":e.client.clientName=U.TV_EMBEDDED.NAME,e.client.clientVersion=U.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:Fe.YT_BASE};break;case"YTKIDS":e.client.clientVersion=U.WEB_KIDS.VERSION,e.client.clientName=U.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;case"WEB_EMBEDDED":e.client.clientName=U.WEB_EMBEDDED.NAME,e.client.clientVersion=U.WEB_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:Fe.GOOGLE_SEARCH_BASE};break;case"WEB_CREATOR":e.client.clientName=U.WEB_CREATOR.NAME,e.client.clientVersion=U.WEB_CREATOR.VERSION;break;default:break}}},"_HTTPClient_adjustContext");var Mg=Hd;var ht={};ze(ht,{compress:()=>d1,decompress:()=>_1});function d1(t){let e=[],i={};for(let c=0;c<256;c++)i[String.fromCharCode(c)]=c;let s="",o=256;for(let c=0;c<t.length;c++){let l=t[c],f=s+l;i.hasOwnProperty(f)?s=f:(e.push(i[s]),i[f]=o++,s=l)}return s!==""&&e.push(i[s]),e.map(c=>String.fromCharCode(c)).join("")}r(d1,"compress");function _1(t){let e={},i=t.split(""),s=[i.shift()],o=i.length>>>0,c=256,l=s[0],f=l;for(let h=0;h<o;++h){let _=i[h].charCodeAt(0),x=_<256?i[h]:e[_]?e[_]:f+l;s.push(x),l=x.charAt(0),e[c++]=f+l,f=x}return s.join("")}r(_1,"decompress");var Qt={};ze(Qt,{decodeVisitorData:()=>O1,encodeCommentActionParams:()=>Wg,encodeNextParams:()=>Y1,encodeVisitorData:()=>D1});function yT(){let t=0,e=0;for(let s=0;s<28;s+=7){let o=this.buf[this.pos++];if(t|=(o&127)<<s,(o&128)==0)return this.assertBounds(),[t,e]}let i=this.buf[this.pos++];if(t|=(i&15)<<28,e=(i&112)>>4,(i&128)==0)return this.assertBounds(),[t,e];for(let s=3;s<=31;s+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<s,(o&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}r(yT,"varint64read");function $d(t,e,i){for(let c=0;c<28;c=c+7){let l=t>>>c,f=!(l>>>7==0&&e==0),h=(f?l|128:l)&255;if(i.push(h),!f)return}let s=t>>>28&15|(e&7)<<4,o=e>>3!=0;if(i.push((o?s|128:s)&255),!!o){for(let c=3;c<31;c=c+7){let l=e>>>c,f=l>>>7!=0,h=(f?l|128:l)&255;if(i.push(h),!f)return}i.push(e>>>31&1)}}r($d,"varint64write");var jd=4294967296;function Lg(t){let e=t[0]==="-";e&&(t=t.slice(1));let i=1e6,s=0,o=0;function c(l,f){let h=Number(t.slice(l,f));o*=i,s=s*i+h,s>=jd&&(o=o+(s/jd|0),s=s%jd)}return r(c,"add1e6digit"),c(-24,-18),c(-18,-12),c(-12,-6),c(-6),e?gT(s,o):Dg(s,o)}r(Lg,"int64FromString");function bT(t,e){let i=Dg(t,e),s=i.hi&2147483648;s&&(i=gT(i.lo,i.hi));let o=Bg(i.lo,i.hi);return s?"-"+o:o}r(bT,"int64ToString");function Bg(t,e){if({lo:t,hi:e}=x1(t,e),e<=2097151)return String(jd*e+t);let i=t&16777215,s=(t>>>24|e<<8)&16777215,o=e>>16&65535,c=i+s*6777216+o*6710656,l=s+o*8147497,f=o*2,h=1e7;return c>=h&&(l+=Math.floor(c/h),c%=h),l>=h&&(f+=Math.floor(l/h),l%=h),f.toString()+xT(l)+xT(c)}r(Bg,"uInt64ToString");function x1(t,e){return{lo:t>>>0,hi:e>>>0}}r(x1,"toUnsigned");function Dg(t,e){return{lo:t|0,hi:e|0}}r(Dg,"newBits");function gT(t,e){return e=~e,t?t=~t+1:e+=1,Dg(t,e)}r(gT,"negate");var xT=r(t=>{let e=String(t);return"0000000".slice(e.length)+e},"decimalFrom1e7WithLeadingZeros");function Og(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let i=0;i<9;i++)e.push(t&127|128),t=t>>7;e.push(1)}}r(Og,"varint32write");function wT(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let i=5;(t&128)!==0&&i<10;i++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}r(wT,"varint32read");var dt=y1();function y1(){let t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let i=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),o=BigInt("0"),c=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){let f=typeof l=="bigint"?l:BigInt(l);if(f>s||f<i)throw new Error(`invalid int64: ${l}`);return f},uParse(l){let f=typeof l=="bigint"?l:BigInt(l);if(f>c||f<o)throw new Error(`invalid uint64: ${l}`);return f},enc(l){return t.setBigInt64(0,this.parse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(l){return t.setBigInt64(0,this.uParse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(l,f){return t.setInt32(0,l,!0),t.setInt32(4,f,!0),t.getBigInt64(0,!0)},uDec(l,f){return t.setInt32(0,l,!0),t.setInt32(4,f,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),TT(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),vT(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),TT(i),Lg(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),vT(i),Lg(i)},dec(i,s){return bT(i,s)},uDec(i,s){return Bg(i,s)}}}r(y1,"makeInt64Support");function TT(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}r(TT,"assertInt64String");function vT(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}r(vT,"assertUInt64String");var Yg=Symbol.for("@bufbuild/protobuf/text-encoding");function Vg(){if(globalThis[Yg]==null){let t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[Yg]={encodeUtf8(i){return t.encode(i)},decodeUtf8(i){return e.decode(i)},checkUtf8(i){try{return encodeURIComponent(i),!0}catch{return!1}}}}return globalThis[Yg]}r(Vg,"getTextEncoding");var xi;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(xi||(xi={}));var b1=34028234663852886e22,g1=-34028234663852886e22,w1=4294967295,T1=2147483647,v1=-2147483648,ye=class{constructor(e=Vg().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let i=new Uint8Array(e),s=0;for(let o=0;o<this.chunks.length;o++)i.set(this.chunks[o],s),s+=this.chunks[o].length;return this.chunks=[],i}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),i=this.stack.pop();if(!i)throw new Error("invalid state, fork stack empty");return this.chunks=i.chunks,this.buf=i.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,i){return this.uint32((e<<3|i)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(IT(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return Ug(e),Og(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let i=this.encodeUtf8(e);return this.uint32(i.byteLength),this.raw(i)}float(e){I1(e);let i=new Uint8Array(4);return new DataView(i.buffer).setFloat32(0,e,!0),this.raw(i)}double(e){let i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),this.raw(i)}fixed32(e){IT(e);let i=new Uint8Array(4);return new DataView(i.buffer).setUint32(0,e,!0),this.raw(i)}sfixed32(e){Ug(e);let i=new Uint8Array(4);return new DataView(i.buffer).setInt32(0,e,!0),this.raw(i)}sint32(e){return Ug(e),e=(e<<1^e>>31)>>>0,Og(e,this.buf),this}sfixed64(e){let i=new Uint8Array(8),s=new DataView(i.buffer),o=dt.enc(e);return s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),this.raw(i)}fixed64(e){let i=new Uint8Array(8),s=new DataView(i.buffer),o=dt.uEnc(e);return s.setInt32(0,o.lo,!0),s.setInt32(4,o.hi,!0),this.raw(i)}int64(e){let i=dt.enc(e);return $d(i.lo,i.hi,this.buf),this}sint64(e){let i=dt.enc(e),s=i.hi>>31,o=i.lo<<1^s,c=(i.hi<<1|i.lo>>>31)^s;return $d(o,c,this.buf),this}uint64(e){let i=dt.uEnc(e);return $d(i.lo,i.hi,this.buf),this}};r(ye,"BinaryWriter");var q=class{constructor(e,i=Vg().decodeUtf8){this.decodeUtf8=i,this.varint64=yT,this.uint32=wT,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),i=e>>>3,s=e&7;if(i<=0||s<0||s>5)throw new Error("illegal tag: field no "+i+" wire type "+s);return[i,s]}skip(e,i){let s=this.pos;switch(e){case xi.Varint:for(;this.buf[this.pos++]&128;);break;case xi.Bit64:this.pos+=4;case xi.Bit32:this.pos+=4;break;case xi.LengthDelimited:let o=this.uint32();this.pos+=o;break;case xi.StartGroup:for(;;){let[c,l]=this.tag();if(l===xi.EndGroup){if(i!==void 0&&c!==i)throw new Error("invalid end group tag");break}this.skip(l,c)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(s,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return dt.dec(...this.varint64())}uint64(){return dt.uDec(...this.varint64())}sint64(){let[e,i]=this.varint64(),s=-(e&1);return e=(e>>>1|(i&1)<<31)^s,i=i>>>1^s,dt.dec(e,i)}bool(){let[e,i]=this.varint64();return e!==0||i!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return dt.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return dt.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),i=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(i,i+e)}string(){return this.decodeUtf8(this.bytes())}};r(q,"BinaryReader");function Ug(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>T1||t<v1)throw new Error("invalid int32: "+t)}r(Ug,"assertInt32");function IT(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>w1||t<0)throw new Error("invalid uint32: "+t)}r(IT,"assertUInt32");function I1(t){if(typeof t=="string"){let e=t;if(t=Number(t),isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>b1||t<g1))throw new Error("invalid float32: "+t)}r(I1,"assertFloat32");var ST;(function(t){t[t.RELEVANCE=0]="RELEVANCE",t[t.RATING=1]="RATING",t[t.UPLOAD_DATE=2]="UPLOAD_DATE",t[t.VIEW_COUNT=3]="VIEW_COUNT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ST||(ST={}));var kT;(function(t){t[t.ANY_DATE=0]="ANY_DATE",t[t.HOUR=1]="HOUR",t[t.TODAY=2]="TODAY",t[t.WEEK=3]="WEEK",t[t.MONTH=4]="MONTH",t[t.YEAR=5]="YEAR",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(kT||(kT={}));var ET;(function(t){t[t.ANY_TYPE=0]="ANY_TYPE",t[t.VIDEO=1]="VIDEO",t[t.CHANNEL=2]="CHANNEL",t[t.PLAYLIST=3]="PLAYLIST",t[t.MOVIE=4]="MOVIE",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ET||(ET={}));var CT;(function(t){t[t.ANY_DURATION=0]="ANY_DURATION",t[t.SHORT=1]="SHORT",t[t.LONG=2]="LONG",t[t.MEDIUM=3]="MEDIUM",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(CT||(CT={}));function S1(){return{id:"",timestamp:0}}r(S1,"createBaseVisitorData");var Fg={encode(t,e=new ye){return t.id!==""&&e.uint32(10).string(t.id),t.timestamp!==0&&e.uint32(40).int32(t.timestamp),e},decode(t,e){let i=t instanceof q?t:new q(t),s=e===void 0?i.len:i.pos+e,o=S1();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.id=i.string();continue;case 5:if(c!==40)break;o.timestamp=i.int32();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function k1(){return{params:void 0,number0:void 0,number1:void 0}}r(k1,"createBaseLiveMessageParams");var BT={encode(t,e=new ye){return t.params!==void 0&&PT.encode(t.params,e.uint32(10).fork()).join(),t.number0!==void 0&&e.uint32(16).int32(t.number0),t.number1!==void 0&&e.uint32(24).int32(t.number1),e},decode(t,e){let i=t instanceof q?t:new q(t),s=e===void 0?i.len:i.pos+e,o=k1();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.params=PT.decode(i,i.uint32());continue;case 2:if(c!==16)break;o.number0=i.int32();continue;case 3:if(c!==24)break;o.number1=i.int32();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function E1(){return{ids:void 0}}r(E1,"createBaseLiveMessageParams_Params");var PT={encode(t,e=new ye){return t.ids!==void 0&&NT.encode(t.ids,e.uint32(42).fork()).join(),e},decode(t,e){let i=t instanceof q?t:new q(t),s=e===void 0?i.len:i.pos+e,o=E1();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 5:if(c!==42)break;o.ids=NT.decode(i,i.uint32());continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function C1(){return{channelId:"",videoId:""}}r(C1,"createBaseLiveMessageParams_Params_Ids");var NT={encode(t,e=new ye){return t.channelId!==""&&e.uint32(10).string(t.channelId),t.videoId!==""&&e.uint32(18).string(t.videoId),e},decode(t,e){let i=t instanceof q?t:new q(t),s=e===void 0?i.len:i.pos+e,o=C1();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.channelId=i.string();continue;case 2:if(c!==18)break;o.videoId=i.string();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function P1(){return{type:0,commentId:"",videoId:"",unkNum:void 0,channelId:void 0,translateCommentParams:void 0}}r(P1,"createBasePeformCommentActionParams");var DT={encode(t,e=new ye){return t.type!==0&&e.uint32(8).int32(t.type),t.commentId!==""&&e.uint32(26).string(t.commentId),t.videoId!==""&&e.uint32(42).string(t.videoId),t.unkNum!==void 0&&e.uint32(16).int32(t.unkNum),t.channelId!==void 0&&e.uint32(186).string(t.channelId),t.translateCommentParams!==void 0&&AT.encode(t.translateCommentParams,e.uint32(250).fork()).join(),e},decode(t,e){let i=t instanceof q?t:new q(t),s=e===void 0?i.len:i.pos+e,o=P1();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==8)break;o.type=i.int32();continue;case 3:if(c!==26)break;o.commentId=i.string();continue;case 5:if(c!==42)break;o.videoId=i.string();continue;case 2:if(c!==16)break;o.unkNum=i.int32();continue;case 23:if(c!==186)break;o.channelId=i.string();continue;case 31:if(c!==250)break;o.translateCommentParams=AT.decode(i,i.uint32());continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function N1(){return{params:void 0,commentId:"",targetLanguage:""}}r(N1,"createBasePeformCommentActionParams_TranslateCommentParams");var AT={encode(t,e=new ye){return t.params!==void 0&&RT.encode(t.params,e.uint32(26).fork()).join(),t.commentId!==""&&e.uint32(18).string(t.commentId),t.targetLanguage!==""&&e.uint32(34).string(t.targetLanguage),e},decode(t,e){let i=t instanceof q?t:new q(t),s=e===void 0?i.len:i.pos+e,o=N1();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 3:if(c!==26)break;o.params=RT.decode(i,i.uint32());continue;case 2:if(c!==18)break;o.commentId=i.string();continue;case 4:if(c!==34)break;o.targetLanguage=i.string();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function A1(){return{comment:void 0}}r(A1,"createBasePeformCommentActionParams_TranslateCommentParams_Params");var RT={encode(t,e=new ye){return t.comment!==void 0&&MT.encode(t.comment,e.uint32(10).fork()).join(),e},decode(t,e){let i=t instanceof q?t:new q(t),s=e===void 0?i.len:i.pos+e,o=A1();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.comment=MT.decode(i,i.uint32());continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function R1(){return{text:""}}r(R1,"createBasePeformCommentActionParams_TranslateCommentParams_Params_Comment");var MT={encode(t,e=new ye){return t.text!==""&&e.uint32(10).string(t.text),e},decode(t,e){let i=t instanceof q?t:new q(t),s=e===void 0?i.len:i.pos+e,o=R1();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.text=i.string();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function M1(){return{shortId:"",params:void 0,feature2:0,feature3:0}}r(M1,"createBaseReelSequence");var OT={encode(t,e=new ye){return t.shortId!==""&&e.uint32(10).string(t.shortId),t.params!==void 0&&LT.encode(t.params,e.uint32(42).fork()).join(),t.feature2!==0&&e.uint32(80).int32(t.feature2),t.feature3!==0&&e.uint32(104).int32(t.feature3),e},decode(t,e){let i=t instanceof q?t:new q(t),s=e===void 0?i.len:i.pos+e,o=M1();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.shortId=i.string();continue;case 5:if(c!==42)break;o.params=LT.decode(i,i.uint32());continue;case 10:if(c!==80)break;o.feature2=i.int32();continue;case 13:if(c!==104)break;o.feature3=i.int32();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function L1(){return{number:0}}r(L1,"createBaseReelSequence_Params");var LT={encode(t,e=new ye){return t.number!==0&&e.uint32(24).int32(t.number),e},decode(t,e){let i=t instanceof q?t:new q(t),s=e===void 0?i.len:i.pos+e,o=L1();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 3:if(c!==24)break;o.number=i.int32();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function B1(){return{videoId:[]}}r(B1,"createBaseNextParams");var YT={encode(t,e=new ye){for(let i of t.videoId)e.uint32(42).string(i);return e},decode(t,e){let i=t instanceof q?t:new q(t),s=e===void 0?i.len:i.pos+e,o=B1();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 5:if(c!==42)break;o.videoId.push(i.string());continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function D1(t,e){let i=Fg.encode({id:t,timestamp:e});return encodeURIComponent(Jt(i.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}r(D1,"encodeVisitorData");function O1(t){return Fg.decode(so(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}r(O1,"decodeVisitorData");function Wg(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let s=DT.encode(i);return encodeURIComponent(Jt(s.finish()))}r(Wg,"encodeCommentActionParams");function Y1(t){let e=YT.encode({videoId:t});return encodeURIComponent(Jt(e.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}r(Y1,"encodeNextParams");var no=class extends n{constructor(e){super(),this.popup=p.parseItem(e.popup),this.popup_type=e.popupType}};r(no,"OpenPopupAction");no.type="OpenPopupAction";var Or=no;var ao=class extends n{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new a(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")?this.label=e.accessibility.label:Reflect.has(e,"accessibilityData")&&Reflect.has(e.accessibilityData,"accessibilityData")&&Reflect.has(e.accessibilityData.accessibilityData,"label")&&(this.label=e.accessibilityData.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"size")&&(this.size=e.size),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.endpoint=new m(e.navigationEndpoint||e.serviceEndpoint||e.command)}};r(ao,"Button");ao.type="Button";var T=ao;var co=class extends n{constructor(e){var i;super(),this.label=new a(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new m(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new a(e.descriptionText))}};r(co,"DropdownItem");co.type="DropdownItem";var qd=co;var po=class extends n{constructor(e){super(),this.label=e.label||"",this.entries=p.parseArray(e.entries,qd)}};r(po,"Dropdown");po.type="Dropdown";var yi=po;var lo=class extends n{constructor(e){super(),this.title=new a(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=p.parseItem(e.privacyOption,yi),this.create_button=p.parseItem(e.cancelButton,T),this.cancel_button=p.parseItem(e.cancelButton,T)}};r(lo,"CreatePlaylistDialog");lo.type="CreatePlaylistDialog";var Kd=lo;var bi=class extends n{constructor(e){var i,s,o,c,l,f,h,_;if(super(),e){if(e.serialCommand||e.parallelCommand){let x=e.serialCommand||e.parallelCommand;this.commands=x.commands.map(b=>new bi(b))}(e.innertubeCommand||e.command||e.performOnceCommand)&&(e=e.innertubeCommand||e.command||e.performOnceCommand)}this.command=p.parseCommand(e),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new Or(e.openPopupAction)),this.name=Object.keys(e||{}).find(x=>x.endsWith("Endpoint")||x.endsWith("Command")),this.payload=this.name?Reflect.get(e,this.name):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=p.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=p.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new bi(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},(s=(i=e==null?void 0:e.commandMetadata)==null?void 0:i.webCommandMetadata)!=null&&s.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),(c=(o=e==null?void 0:e.commandMetadata)==null?void 0:o.webCommandMetadata)!=null&&c.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),(f=(l=e==null?void 0:e.commandMetadata)==null?void 0:l.webCommandMetadata)!=null&&f.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):this.name&&(this.metadata.api_url=this.getPath(this.name)),(_=(h=e==null?void 0:e.commandMetadata)==null?void 0:h.webCommandMetadata)!=null&&_.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=p.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Kd))}getPath(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An API caller must be provided");if(this.command){let s=this.command;return e.execute(s.getApiPath(),{...s.buildRequest(),...i})}if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found.");return e.execute(this.metadata.api_url,{...this.payload,...i})}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};r(bi,"NavigationEndpoint");bi.type="NavigationEndpoint";var m=bi;var y=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(s=>new y(s)).sort((s,o)=>o.width-s.width):[]}};r(y,"Thumbnail");var gi=class{constructor(e){var i,s,o,c,l,f;this.text=((i=e.emoji)==null?void 0:i.emojiId)||((o=(s=e.emoji)==null?void 0:s.shortcuts)==null?void 0:o[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((c=e.emoji)==null?void 0:c.shortcuts)||[],search_terms:((l=e.emoji)==null?void 0:l.searchTerms)||[],image:y.fromResponse(e.emoji.image),is_custom:!!((f=e.emoji)!=null&&f.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=zd(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};r(gi,"EmojiRun");var wi=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),this.deemphasize=Boolean(e.deemphasize),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){var c;let e=[];if(this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s"),this.deemphasize&&e.push("small"),!((c=this.text)!=null&&c.length))return"";let i=zd(this.text),o=`<span style="white-space: pre-wrap;">${e.map(l=>`<${l}>`).join("")+i+e.map(l=>`</${l}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length&&this.endpoint){let{url:l}=this.attachment.element.type.imageType.image.sources[0],f="";l&&(f=`<img src="${l}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;" alt="">`);let h=this.endpoint.toURL();if(h)return`<a href="${h}" class="yt-ch-link">${f}${o}</a>`}if(this.endpoint){let l=this.endpoint.toURL();if(l)return`<a href="${l}">${o}</a>`}return o}};r(wi,"TextRun");function zd(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}r(zd,"escape");var uo="Text",a=class{constructor(e){var i,s,o,c;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(l=>l.emoji?new gi(l):new wi(l)),this.text=this.runs.map(l=>l.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new m(e.titleNavigationEndpoint)),this.endpoint||(s=(i=this.runs)==null?void 0:i[0])!=null&&s.endpoint&&(this.endpoint=(c=(o=this.runs)==null?void 0:o[0])==null?void 0:c.endpoint)}static fromAttributed(e){var f,h,_,x;let{content:i,commandRuns:s,attachmentRuns:o}=e,c=[{text:i,startIndex:0}],l=(f=e.styleRuns)==null?void 0:f.map(b=>{var w,v;return{...b,startIndex:(w=b.startIndex)!=null?w:0,length:(v=b.length)!=null?v:i.length}});if(l||s||o){if(l)for(let b of l)if(b.italic||b.strikethrough==="LINE_STYLE_SINGLE"||b.weightLabel==="FONT_WEIGHT_MEDIUM"||b.weightLabel==="FONT_WEIGHT_BOLD"){let w=Gg(c,b);if(!w){D.warn(uo,"Unable to find matching run for style run. Skipping...",{style_run:b,input_data:e,parsed_runs:JSON.parse(JSON.stringify(c))});continue}Xd(c,w,b,{bold:b.weightLabel==="FONT_WEIGHT_MEDIUM"||b.weightLabel==="FONT_WEIGHT_BOLD",italics:b.italic,strikethrough:b.strikethrough==="LINE_STYLE_SINGLE"})}else D.debug(uo,"Skipping style run as it is doesn't have any information that we parse.",{style_run:b,input_data:e});if(s)for(let b of s)if(b.onTap){let w=Gg(c,b);if(!w){D.warn(uo,"Unable to find matching run for command run. Skipping...",{command_run:b,input_data:e,parsed_runs:JSON.parse(JSON.stringify(c))});continue}Xd(c,w,b,{navigationEndpoint:b.onTap})}else D.debug(uo,'Skipping command run as it is missing the "doTap" property.',{command_run:b,input_data:e});if(o)for(let b of o){let w=Gg(c,b);if(!w){D.warn(uo,"Unable to find matching run for attachment run. Skipping...",{attachment_run:b,input_data:e,parsed_runs:JSON.parse(JSON.stringify(c))});continue}if(b.length===0)w.attachment=b;else{let v=b.startIndex-w.startIndex,I=w.text.substring(v,v+b.length),k=/^:[^:]+:$/.test(I);if(((x=(_=(h=b.element)==null?void 0:h.type)==null?void 0:_.imageType)==null?void 0:x.image)&&(k||/^(?:\p{Emoji}|\u200d)+$/u.test(I))){let C={image:b.element.type.imageType.image,isCustomEmoji:k,shortcuts:k?[I]:void 0};Xd(c,w,b,{emoji:C})}else Xd(c,w,b,{attachment:b})}}}return new a({runs:c})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};r(a,"Text");function Gg(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}r(Gg,"findMatchingRun");function Xd(t,e,i,s){let o=t.indexOf(e),c=[],l=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&c.push({...e,text:e.text.substring(0,l)}),c.push({...e,text:e.text.substring(l,l+i.length),startIndex:i.startIndex,...s}),i.startIndex+i.length<e.startIndex+e.text.length&&c.push({...e,text:e.text.substring(l+i.length),startIndex:i.startIndex+i.length}),t.splice(o,1,...c)}r(Xd,"insertSubRun");var fo=class extends n{constructor(e){super(),this.title=a.fromAttributed(e.title),this.link=a.fromAttributed(e.link),this.favicon=y.fromResponse(e.favicon)}};r(fo,"ChannelExternalLinkView");fo.type="ChannelExternalLinkView";var Qd=fo;var mo=class extends n{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=a.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=a.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=a.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=a.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new m(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=a.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=p.parseArray(e.links,Qd):this.links=[]}};r(mo,"AboutChannelView");mo.type="AboutChannelView";var Jd=mo;var ho=class extends n{constructor(e){super(),this.metadata=p.parseItem(e.metadata,Jd),this.share_channel=p.parseItem(e.shareChannel,T)}};r(ho,"AboutChannel");ho.type="AboutChannel";var Zd=ho;var _o=class extends n{constructor(e){super(),this.title=new a(e.title),this.endpoint=new m(e.navigationEndpoint)}};r(_o,"AccountChannel");_o.type="AccountChannel";var e_=_o;var xo=class extends n{constructor(e){super(),this.account_name=new a(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new m(e.serviceEndpoint),this.account_byline=new a(e.accountByline),this.channel_handle=new a(e.channelHandle)}};r(xo,"AccountItem");xo.type="AccountItem";var t_=xo;var yo=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(yo,"AccountItemSectionHeader");yo.type="AccountItemSectionHeader";var i_=yo;var bo=class extends n{constructor(e){super(),this.title=new a(e.title).toString(),"subtitle"in e&&(this.subtitle=new a(e.subtitle)),"icon"in e&&"iconType"in e.icon&&(this.icon_type=e.icon.iconType),"secondaryIcon"in e&&"iconType"in e.secondaryIcon&&(this.secondary_icon_type=e.secondaryIcon.iconType),this.endpoint=new m(e.navigationEndpoint||e.serviceEndpoint),this.style=e.style}};r(bo,"CompactLink");bo.type="CompactLink";var Nt=bo;var go=class extends n{constructor(e){super(),this.contents=p.parseArray(e.contents,[t_,Nt]),this.header=p.parseItem(e.header,i_)}};r(go,"AccountItemSection");go.type="AccountItemSection";var r_=go;var wo=class extends n{constructor(e){super(),this.contents=p.parseArray(e.contents,r_),this.footers=p.parseArray(e.footers,e_)}};r(wo,"AccountSectionList");wo.type="AccountSectionList";var s_=wo;var To=class extends n{constructor(e){super(),this.contents=p.parseArray(e.continuationItems),this.target=e.target}};r(To,"AppendContinuationItemsAction");To.type="AppendContinuationItemsAction";var Ae=To;var vo=class extends n{constructor(e){super(),this.target_id=e.targetId,this.visibility=e.visibility}};r(vo,"ChangeEngagementPanelVisibilityAction");vo.type="ChangeEngagementPanelVisibilityAction";var VT=vo;var Io=class extends n{constructor(e){super(),this.header=p.parseItem(e.header),this.sections=p.parseArray(e.sections),this.style=e.style}};r(Io,"MultiPageMenu");Io.type="MultiPageMenu";var o_=Io;var So=class extends n{constructor(e){super(),this.menu=p.parseItem(e.menu,o_)}};r(So,"GetMultiPageMenuAction");So.type="GetMultiPageMenuAction";var UT=So;var ko=class extends n{constructor(e){super(),this.bucket=e.bucket}};r(ko,"SendFeedbackAction");ko.type="SendFeedbackAction";var FT=ko;var Eo=class extends n{constructor(e){super(),this.signal=e.signal}};r(Eo,"SignalAction");Eo.type="SignalAction";var WT=Eo;var Co=class extends n{constructor(e){super(),this.header=p.parseItem(e.header),this.contents=p.parse(e.contents,!0)}};r(Co,"ChannelSwitcherPage");Co.type="ChannelSwitcherPage";var n_=Co;var Po=class extends n{constructor(e){super();let i=p.parseItem(e.page,n_);i&&(this.header=i.header,this.contents=i.contents)}};r(Po,"UpdateChannelSwitcherPageAction");Po.type="UpdateChannelSwitcherPageAction";var GT=Po;var No=class extends n{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var s,o;return{title:i.title,selected:i.selected,continuation:(o=(s=i.continuation)==null?void 0:s.reloadContinuationData)==null?void 0:o.continuation,endpoint:new m(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};r(No,"SortFilterSubMenu");No.type="SortFilterSubMenu";var _t=No;var Ao=class extends n{constructor(e){super(),this.language_menu=p.parseItem(e.languageMenu,_t)}};r(Ao,"TranscriptFooter");Ao.type="TranscriptFooter";var a_=Ao;var Ro=class extends n{constructor(e){super(),this.formatted_placeholder=new a(e.formattedPlaceholder),this.clear_button=p.parseItem(e.clearButton,T),this.endpoint=new m(e.onTextChangeCommand),this.search_button=p.parseItem(e.searchButton,T)}};r(Ro,"TranscriptSearchBox");Ro.type="TranscriptSearchBox";var c_=Ro;var Mo=class extends n{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new a(e.snippet)}};r(Mo,"TranscriptSectionHeader");Mo.type="TranscriptSectionHeader";var p_=Mo;var Lo=class extends n{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new a(e.snippet),this.start_time_text=new a(e.startTimeText),this.target_id=e.targetId}};r(Lo,"TranscriptSegment");Lo.type="TranscriptSegment";var l_=Lo;var Bo=class extends n{constructor(e){super(),this.initial_segments=p.parseArray(e.initialSegments,[l_,p_]),this.no_result_label=new a(e.noResultLabel),this.retry_label=new a(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};r(Bo,"TranscriptSegmentList");Bo.type="TranscriptSegmentList";var u_=Bo;var Do=class extends n{constructor(e){super(),this.header=p.parseItem(e.header,c_),this.body=p.parseItem(e.body,u_),this.footer=p.parseItem(e.footer,a_),this.target_id=e.targetId}};r(Do,"TranscriptSearchPanel");Do.type="TranscriptSearchPanel";var f_=Do;var Oo=class extends n{constructor(e){super(),this.content=p.parseItem(e.content,f_)}};r(Oo,"Transcript");Oo.type="Transcript";var Yr=Oo;var Yo=class extends n{constructor(e){super(),this.target_id=e.targetId,this.content=p.parseItem(e.content,Yr)}};r(Yo,"UpdateEngagementPanelAction");Yo.type="UpdateEngagementPanelAction";var HT=Yo;var Vo=class extends n{constructor(e){super(),this.channel_id=e.channelId,this.subscribed=e.subscribed}};r(Vo,"UpdateSubscribeButtonAction");Vo.type="UpdateSubscribeButtonAction";var jT=Vo;var Uo=class extends n{constructor(e){super(),this.account_name=new a(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.endpoint=new m(e.serviceEndpoint),this.manage_account_title=new a(e.manageAccountTitle),this.channel_handle=new a(e.channelHandle)}};r(Uo,"ActiveAccountHeader");Uo.type="ActiveAccountHeader";var $T=Uo;var Fo=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(Fo,"MenuTitle");Fo.type="MenuTitle";var m_=Fo;var Wo=class extends n{constructor(e){var i;super(),this.add_to_playlist_service_endpoint=new m(e.addToPlaylistServiceEndpoint),this.contains_selected_videos=e.containsSelectedVideos,this.playlist_id=e.playlistId,this.privacy=e.privacy,this.privacy_icon={icon_type:((i=e.privacyIcon)==null?void 0:i.iconType)||null},this.remove_from_playlist_service_endpoint=new m(e.removeFromPlaylistServiceEndpoint),this.title=new a(e.title)}};r(Wo,"PlaylistAddToOption");Wo.type="PlaylistAddToOption";var h_=Wo;var Go=class extends n{constructor(e){super(),this.actions=p.parseArray(e.actions,[m_,T]),this.playlists=p.parseArray(e.playlists,h_)}};r(Go,"AddToPlaylist");Go.type="AddToPlaylist";var qT=Go;var Ho=class extends n{constructor(e){super(),this.text=new a(e.text),this.alert_type=e.type}};r(Ho,"Alert");Ho.type="Alert";var Vr=Ho;var jo=class extends n{constructor(e){super(),this.text=new a(e.text),this.alert_type=e.type,this.dismiss_button=p.parseItem(e.dismissButton,T)}};r(jo,"AlertWithButton");jo.type="AlertWithButton";var d_=jo;var $o=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r($o,"AnimatedThumbnailOverlayView");$o.type="AnimatedThumbnailOverlayView";var __=$o;var qo=class extends n{constructor(e){super(),this.text=a.fromAttributed(e.text),this.suffix=a.fromAttributed(e.suffix)}};r(qo,"AttributionView");qo.type="AttributionView";var x_=qo;var Ko=class extends n{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};r(Ko,"AudioOnlyPlayability");Ko.type="AudioOnlyPlayability";var y_=Ko;var zo=class extends n{constructor(e){var i,s;super(),(s=(i=e==null?void 0:e.content)==null?void 0:i.automixPlaylistVideoRenderer)!=null&&s.navigationEndpoint&&(this.playlist_video={endpoint:new m(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};r(zo,"AutomixPreviewVideo");zo.type="AutomixPreviewVideo";var b_=zo;var Xo=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.avatar_image_size=e.avatarImageSize,e.image.processor&&(this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}})}};r(Xo,"AvatarView");Xo.type="AvatarView";var Ur=Xo;var Ti=class{constructor(e){"onFocus"in e&&(this.on_focus=new m(e.onFocus)),"onHidden"in e&&(this.on_hidden=new m(e.onHidden)),"onTouchEnd"in e&&(this.on_touch_end=new m(e.onTouchEnd)),"onTouchMove"in e&&(this.on_touch_move=new m(e.onTouchMove)),"onLongPress"in e&&(this.on_long_press=new m(e.onLongPress)),"onTap"in e&&(this.on_tap=new m(e.onTap)),"onTouchStart"in e&&(this.on_touch_start=new m(e.onTouchStart)),"onVisible"in e&&(this.on_visible=new m(e.onVisible)),"onFirstVisible"in e&&(this.on_first_visible=new m(e.onFirstVisible)),"onHover"in e&&(this.on_hover=new m(e.onHover))}};r(Ti,"CommandContext");var Se=class{constructor(e){!e||("commandContext"in e&&(this.command_context=new Ti(e.commandContext)),"accessibilityContext"in e&&(this.accessibility_context=new _i(e.accessibilityContext)))}};r(Se,"RendererContext");var Qo=class extends n{constructor(e){super(),this.avatars=p.parseArray(e.avatars,Ur),Reflect.has(e,"text")&&(this.text=a.fromAttributed(e.text)),this.renderer_context=new Se(e.rendererContext)}};r(Qo,"AvatarStackView");Qo.type="AvatarStackView";var g_=Qo;var Jo=class extends n{constructor(e){super(),"secondaryIconImage"in e&&(this.secondary_icon_image=y.fromResponse(e.secondaryIconImage)),"iconName"in e&&(this.icon_name=e.iconName),"enableIconButton"in e&&(this.enable_icon_button=e.enableIconButton),"tooltip"in e&&(this.tooltip=e.tooltip),"iconImageFlipForRtl"in e&&(this.icon_image_flip_for_rtl=e.iconImageFlipForRtl),"buttonSize"in e&&(this.button_size=e.buttonSize),"iconPosition"in e&&(this.icon_position=e.iconPosition),"isFullWidth"in e&&(this.is_full_width=e.isFullWidth),"state"in e&&(this.state=e.state),"onDisabledTap"in e&&(this.on_disabled_tap=new m(e.onDisabledTap)),"customBorderColor"in e&&(this.custom_border_color=e.customBorderColor),"onTap"in e&&(this.on_tap=new m(e.onTap)),"style"in e&&(this.style=e.style),"iconImage"in e&&(this.icon_image=e.iconImage),"customDarkThemeBorderColor"in e&&(this.custom_dark_theme_border_color=e.customDarkThemeBorderColor),"title"in e&&(this.title=e.title),"targetId"in e&&(this.target_id=e.targetId),"enableFullWidthMargins"in e&&(this.enable_full_width_margins=e.enableFullWidthMargins),"customFontColor"in e&&(this.custom_font_color=e.customFontColor),"buttonType"in e&&(this.button_type=e.buttonType),"enabled"in e&&(this.enabled=e.enabled),"accessibilityId"in e&&(this.accessibility_id=e.accessibilityId),"customBackgroundColor"in e&&(this.custom_background_color=e.customBackgroundColor),"onLongPress"in e&&(this.on_long_press=new m(e.onLongPress)),"titleFormatted"in e&&(this.title_formatted=e.titleFormatted),"onVisible"in e&&(this.on_visible=e.onVisible),"iconTrailing"in e&&(this.icon_trailing=e.iconTrailing),"accessibilityText"in e&&(this.accessibility_text=e.accessibilityText)}};r(Jo,"ButtonView");Jo.type="ButtonView";var X=Jo;var Zo=class extends n{constructor(e){super(),this.body_text=new a(e.bodyText),this.cta_button=p.parseItem(e.ctaButton,[T,X]),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.title=new a(e.title)}};r(Zo,"BackgroundPromo");Zo.type="BackgroundPromo";var KT=Zo;var en=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.endpoint=new m(e.command)}};r(en,"BackstageImage");en.type="BackstageImage";var w_=en;var tn=class extends n{constructor(e){var s,o,c,l,f,h,_,x,b;super(),this.text=new a(e.defaultText),this.toggled_text=new a(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(s=e.defaultIcon)==null?void 0:s.iconType;let i=((l=(c=(o=e==null?void 0:e.defaultText)==null?void 0:o.accessibility)==null?void 0:c.accessibilityData)==null?void 0:l.label)||((h=(f=e==null?void 0:e.accessibilityData)==null?void 0:f.accessibilityData)==null?void 0:h.label)||((_=e==null?void 0:e.accessibility)==null?void 0:_.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(i.replace(/\D/g,"")),this.short_like_count=new a(e.defaultText).toString()),this.endpoint=(b=(x=e.defaultServiceEndpoint)==null?void 0:x.commandExecutorCommand)!=null&&b.commands?new m(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new m(e.defaultServiceEndpoint),this.toggled_endpoint=new m(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};r(tn,"ToggleButton");tn.type="ToggleButton";var ie=tn;var rn=class extends n{constructor(e){var i,s;super(),this.creator_thumbnail=y.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(s=(i=e.heartColor)==null?void 0:i.basicColorPaletteData)==null?void 0:s.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};r(rn,"CreatorHeart");rn.type="CreatorHeart";var T_=rn;var sn=class extends n{constructor(e){super(),this.like_button=p.parseItem(e.likeButton,ie),this.dislike_button=p.parseItem(e.dislikeButton,ie),this.reply_button=p.parseItem(e.replyButton,T),this.creator_heart=p.parseItem(e.creatorHeart,T_)}};r(sn,"CommentActionButtons");sn.type="CommentActionButtons";var v_=sn;var on=class extends n{constructor(e){super(),this.default_button=p.parseItem(e.defaultButtonViewModel,X),this.toggled_button=p.parseItem(e.toggledButtonViewModel,X),this.is_toggling_disabled=e.isTogglingDisabled,this.identifier=e.identifier,Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled)}};r(on,"ToggleButtonView");on.type="ToggleButtonView";var Qe=on;var nn=class extends n{constructor(e){super(),this.toggle_button=p.parseItem(e.toggleButtonViewModel,Qe),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};r(nn,"LikeButtonView");nn.type="LikeButtonView";var I_=nn;var an=class extends n{constructor(e){super(),this.toggle_button=p.parseItem(e.toggleButtonViewModel,Qe),this.dislike_entity_key=e.dislikeEntityKey}};r(an,"DislikeButtonView");an.type="DislikeButtonView";var S_=an;var cn=class extends n{constructor(e){if(super(),this.like_button=p.parseItem(e.likeButtonViewModel,I_),this.dislike_button=p.parseItem(e.dislikeButtonViewModel,S_),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,i.default_button.accessibility_text&&(this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,"")))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,i.toggled_button.accessibility_text&&(this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,""))))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};r(cn,"SegmentedLikeDislikeButtonView");cn.type="SegmentedLikeDislikeButtonView";var Zt=cn;var pn=class extends T{constructor(e){super(e)}};r(pn,"MenuServiceItem");pn.type="MenuServiceItem";var At=pn;var ln=class extends n{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new m(e.command),this.target_id=e.targetId}};r(ln,"DownloadButton");ln.type="DownloadButton";var Fr=ln;var un=class extends n{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new m(e.navigationEndpoint||e.serviceEndpoint)}};r(un,"MenuServiceItemDownload");un.type="MenuServiceItemDownload";var k_=un;var fn=class extends n{constructor(e){super(),this.menu_item=p.parseItem(e.menuItem,[At,k_]),this.top_level_button=p.parseItem(e.topLevelButton,[Fr,X,T])}};r(fn,"MenuFlexibleItem");fn.type="MenuFlexibleItem";var E_=fn;var mn=class extends n{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new m(i)))}};r(mn,"LikeButton");mn.type="LikeButton";var Wr=mn;var hn=class extends n{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:p.parseArray(i.actions,[X,Qe])})),this.style=e.style}};r(hn,"FlexibleActionsView");hn.type="FlexibleActionsView";var Gr=hn;var dn=class extends n{constructor(e){super(),this.items=p.parseArray(e.items),this.flexible_items=p.parseArray(e.flexibleItems,E_),this.top_level_buttons=p.parseArray(e.topLevelButtons,[ie,Wr,T,X,Zt,Gr]),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};r(dn,"Menu");dn.type="Menu";var R=dn;var _n=class extends n{constructor(e){super(),this.id=e.postId,this.author=new P({...e.authorText,navigationEndpoint:e.authorEndpoint},null,e.authorThumbnail),this.content=new a(e.contentText),this.published=new a(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new a(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=p.parseItem(e.actionMenu,R)),Reflect.has(e,"actionButtons")&&(this.action_buttons=p.parseItem(e.actionButtons,v_)),Reflect.has(e,"voteButton")&&(this.vote_button=p.parseItem(e.voteButton,T)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=p.parseItem(e.backstageAttachment)),this.surface=e.surface}};r(_n,"BackstagePost");_n.type="BackstagePost";var vi=_n;var xn=class extends n{constructor(e){super(),this.post=p.parseItem(e.post)}};r(xn,"BackstagePostThread");xn.type="BackstagePostThread";var zT=xn;var Ii=class extends n{constructor(e){super(),this.text=e.badgeText,this.style=e.badgeStyle,this.accessibility_label=e.accessibilityLabel}};r(Ii,"BadgeView");var yn=class extends n{constructor(e){super(),this.name=new a(e.name),this.is_selected=e.isSelected,this.endpoint=new m(e.navigationEndpoint)}};r(yn,"SubFeedOption");yn.type="SubFeedOption";var C_=yn;var bn=class extends n{constructor(e){super(),this.title=new a(e.title),this.options=p.parseArray(e.options,C_)}};r(bn,"SubFeedSelector");bn.type="SubFeedSelector";var P_=bn;var gn=class extends n{constructor(e){super(),this.disclaimer=new a(e.disclaimer),this.info_icon={icon_type:e.infoIcon.iconType},this.usage_scenario=e.usageScenario}};r(gn,"EomSettingsDisclaimer");gn.type="EomSettingsDisclaimer";var N_=gn;var wn=class extends n{constructor(e){super(),this.endpoint=new m(e.endpoint),this.search_button=p.parseItem(e.searchButton,T),this.clear_button=p.parseItem(e.clearButton,T),this.placeholder_text=new a(e.placeholderText)}};r(wn,"SearchBox");wn.type="SearchBox";var A_=wn;var Tn=class extends n{constructor(e){super(),this.contents=p.parseArray(e.contents,[P_,N_,ie,Nt,A_,T])}};r(Tn,"BrowseFeedActions");Tn.type="BrowseFeedActions";var Hr=Tn;var vn=class extends n{constructor(e){super(),this.album=new a(e.album),this.thumbnails=y.fromResponse(e.thumbnailDetails)}};r(vn,"BrowserMediaSession");vn.type="BrowserMediaSession";var XT=vn;var In=class extends n{constructor(e){super(),this.title=e.title,this.icon_name=e.image.sources[0].clientResource.imageName,this.renderer_context=new Se(e.rendererContext)}};r(In,"ButtonCardView");In.type="ButtonCardView";var QT=In;var jr=class extends n{constructor(e){super(),this.endpoint=new m(e.navigationEndpoint),this.icon=y.fromResponse(e.icon),this.title=new a(e.title)}};r(jr,"HeaderLink");jr.type="HeaderLink";var Sn=class extends n{constructor(e){var i,s;super(),this.primary=G(((i=e.primaryLinks)==null?void 0:i.map(o=>new jr(o)))||[]),this.secondary=G(((s=e.secondaryLinks)==null?void 0:s.map(o=>new jr(o)))||[])}};r(Sn,"ChannelHeaderLinks");Sn.type="ChannelHeaderLinks";var R_=Sn;var kn=class extends n{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=a.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=a.fromAttributed(e.more))}};r(kn,"ChannelHeaderLinksView");kn.type="ChannelHeaderLinksView";var M_=kn;var En=class extends n{constructor(e){super(),this.placeholder_text=new a(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};r(En,"ClipCreationTextInput");En.type="ClipCreationTextInput";var L_=En;var Cn=class extends n{constructor(e){var i,s,o,c,l,f;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(s=(i=e.startAccessibility)==null?void 0:i.accessibilityData)==null?void 0:s.label,this.end_label=(c=(o=e.endAccessibility)==null?void 0:o.accessibilityData)==null?void 0:c.label,this.duration_label=(f=(l=e.durationAccessibility)==null?void 0:l.accessibilityData)==null?void 0:f.label}};r(Cn,"ClipCreationScrubber");Cn.type="ClipCreationScrubber";var B_=Cn;var Pn=class extends n{constructor(e){super(),this.title=new a(e.title),this.body=new a(e.body)}};r(Pn,"ClipAdState");Pn.type="ClipAdState";var D_=Pn;var Nn=class extends n{constructor(e){super(),this.user_avatar=y.fromResponse(e.userAvatar),this.title_input=p.parseItem(e.titleInput,[L_]),this.scrubber=p.parseItem(e.scrubber,[B_]),this.save_button=p.parseItem(e.saveButton,[T]),this.display_name=new a(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=p.parseItem(e.cancelButton,[T]),this.ad_state_overlay=p.parseItem(e.adStateOverlay,[D_]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};r(Nn,"ClipCreation");Nn.type="ClipCreation";var O_=Nn;var An=class extends n{constructor(e){super(),this.contents=p.parse(e.contents,!0,[O_])}};r(An,"ClipSection");An.type="ClipSection";var Y_=An;var Rn=class extends n{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=p.parseItem(e.button,T)),this.endpoint=new m(e.continuationEndpoint)}};r(Rn,"ContinuationItem");Rn.type="ContinuationItem";var Q=Rn;var Mn=class extends n{constructor(e){super(),this.title=new a(e.title),this.contextual_info=e.contextualInfo?new a(e.contextualInfo):void 0,this.visibility_button=p.parseItem(e.visibilityButton,T),this.menu=p.parseItem(e.menu)}};r(Mn,"EngagementPanelTitleHeader");Mn.type="EngagementPanelTitleHeader";var V_=Mn;var Ln=class extends n{constructor(e){super(),this.info_text=new a(e.infoText),this.menu=p.parseItem(e.menu,R)}};r(Ln,"MacroMarkersInfoItem");Ln.type="MacroMarkersInfoItem";var U_=Ln;var Bn=class extends n{constructor(e){super(),this.title=new a(e.title),this.time_description=new a(e.timeDescription),this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new m(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};r(Bn,"MacroMarkersListItem");Bn.type="MacroMarkersListItem";var $r=Bn;var Dn=class extends n{constructor(e){super(),this.contents=p.parseArray(e.contents,[U_,$r]),this.sync_button_label=new a(e.syncButtonLabel)}};r(Dn,"MacroMarkersList");Dn.type="MacroMarkersList";var F_=Dn;var On=class extends n{constructor(e){super(),this.contents=p.parseArray(e.contents)}};r(On,"ProductList");On.type="ProductList";var W_=On;var Yn=class extends n{constructor(e){super(),this.contents=p.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=p.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=p.parseItem(e.subMenu))}};r(Yn,"SectionList");Yn.type="SectionList";var ce=Yn;var Vn=class extends n{constructor(e){super(),this.show_more_text=new a(e.showMoreText),this.show_less_text=new a(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=a.fromAttributed(e.attributedDescriptionBodyText))}};r(Vn,"ExpandableVideoDescriptionBody");Vn.type="ExpandableVideoDescriptionBody";var G_=Vn;var Un=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new m(e.searchEndpoint),this.query=new a(e.query).toString()}};r(Un,"SearchRefinementCard");Un.type="SearchRefinementCard";var ir=Un;var Fn=class extends n{constructor(e){super(),this.game=p.parseItem(e.game)}};r(Fn,"GameCard");Fn.type="GameCard";var H_=Fn;var Wn=class extends n{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=p.parseArray(e.items)}get contents(){return this.items}};r(Wn,"HorizontalList");Wn.type="HorizontalList";var j_=Wn;var Gn=class extends n{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new a(e.header.collapsedTitle),collapsed_thumbnail:y.fromResponse(e.header.collapsedThumbnail),collapsed_label:new a(e.header.collapsedLabel),expanded_title:new a(e.header.expandedTitle)}),this.expanded_content=p.parseItem(e.expandedContent,[Si,j_]),this.expand_button=p.parseItem(e.expandButton,T),this.collapse_button=p.parseItem(e.collapseButton,T)}};r(Gn,"ExpandableMetadata");Gn.type="ExpandableMetadata";var $_=Gn;var Hn=class extends n{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};r(Hn,"MetadataBadge");Hn.type="MetadataBadge";var Ge=Hn;var jn=class extends n{constructor(e){super(),this.text=new a(e.text).toString(),this.style=e.style}};r(jn,"ThumbnailOverlayTimeStatus");jn.type="ThumbnailOverlayTimeStatus";var Rt=jn;var $n=class extends n{constructor(e){var i,s;super(),this.title=new a(e.title),this.video_id=e.videoId,this.expandable_metadata=p.parseItem(e.expandableMetadata,$_),"untranslatedTitle"in e&&(this.untranslated_title=new a(e.untranslatedTitle)),"descriptionSnippet"in e&&(this.description_snippet=new a(e.descriptionSnippet)),"detailedMetadataSnippets"in e&&(this.snippets=e.detailedMetadataSnippets.map(o=>({text:new a(o.snippetText),hover_text:new a(o.snippetHoverText)}))),"additionalMetadatas"in e&&(this.additional_metadatas=e.additionalMetadatas.map(o=>new a(o))),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),"richThumbnail"in e&&(this.rich_thumbnail=p.parseItem(e.richThumbnail)),this.author=new P(e.ownerText,e.ownerBadges,(s=(i=e.channelThumbnailSupportedRenderers)==null?void 0:i.channelThumbnailWithLinkRenderer)==null?void 0:s.thumbnail),this.badges=p.parseArray(e.badges,Ge),"navigationEndpoint"in e&&(this.endpoint=new m(e.navigationEndpoint)),"publishedTimeText"in e&&(this.published=new a(e.publishedTimeText)),"viewCountText"in e&&(this.view_count=new a(e.viewCountText)),"shortViewCountText"in e&&(this.short_view_count=new a(e.shortViewCountText)),"upcomingEventData"in e&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=p.parseItem(e.menu,R),"searchVideoResultEntityKey"in e&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey),"bylineText"in e&&(this.byline_text=new a(e.bylineText)),"lengthText"in e&&(this.length_text=new a(e.lengthText)),"serviceEndpoints"in e&&(this.service_endpoints=e.serviceEndpoints.map(o=>new m(o))),"serviceEndpoint"in e&&(this.service_endpoint=new m(e.serviceEndpoint)),"style"in e&&(this.style=e.style)}get id(){return this.video_id}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)==null?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Rt))==null?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}get duration(){var s;let e=this.thumbnail_overlays.firstOfType(Rt),i=((s=this.length_text)==null?void 0:s.toString())||(e==null?void 0:e.text.toString());return{text:i,seconds:i?be(i):0}}};r($n,"Video");$n.type="Video";var qr=$n;var qn=class extends qr{constructor(e){var i,s,o,c;super(e),Reflect.has(e,"metadataText")&&(this.metadata_text=new a(e.metadataText),this.metadata_text.text&&(this.short_view_count=new a({simpleText:(i=this.metadata_text.text.split("\xB7")[0])==null?void 0:i.trim()}),this.published=new a({simpleText:(s=this.metadata_text.text.split("\xB7")[1])==null?void 0:s.trim()}))),Reflect.has(e,"bylineText")&&(this.author=new P(e.bylineText,e.ownerBadges,(c=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:c.thumbnail))}};r(qn,"VideoCard");qn.type="VideoCard";var q_=qn;var Kn=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};r(Kn,"ContentPreviewImageView");Kn.type="ContentPreviewImageView";var ki=Kn;var zn=class extends n{constructor(e){var i;super(),(i=e.image)!=null&&i.sources?this.image=y.fromResponse(e.image):this.image=p.parseItem(e.image,ki),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,Reflect.has(e,"secondarySubtitle")&&(this.secondary_subtitle={content:e.secondarySubtitle.content}),this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new m(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};r(zn,"VideoAttributeView");zn.type="VideoAttributeView";var Ei=zn;var Xn=class extends n{constructor(e){super(),this.cards=p.parseArray(e.cards,[Ei,ir,$r,H_,q_]),this.header=p.parseItem(e.header),this.previous_button=p.parseItem(e.previousButton,T),this.next_button=p.parseItem(e.nextButton,T)}};r(Xn,"HorizontalCardList");Xn.type="HorizontalCardList";var Si=Xn;var Qn=class extends n{constructor(e){super(),this.label=new a(e.label),this.value=new a(e.value),this.accessibility_text=e.accessibilityText}};r(Qn,"Factoid");Qn.type="Factoid";var Ci=Qn;var Jn=class extends n{constructor(e){super(),this.factoid=p.parseItem(e.factoid,Ci)}};r(Jn,"UploadTimeFactoid");Jn.type="UploadTimeFactoid";var K_=Jn;var Zn=class extends n{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=p.parseItem(e.factoid,[Ci]),this.view_count_type=e.viewCountType}};r(Zn,"ViewCountFactoid");Zn.type="ViewCountFactoid";var z_=Zn;var ea=class extends n{constructor(e){super(),this.title=new a(e.title),this.channel=new a(e.channel),this.channel_navigation_endpoint=new m(e.channelNavigationEndpoint),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.publish_date=new a(e.publishDate),this.views=new a(e.views),this.factoids=p.parseArray(e.factoid,[Ci,z_,K_])}};r(ea,"VideoDescriptionHeader");ea.type="VideoDescriptionHeader";var X_=ea;var ta=class extends n{constructor(e){super(),this.section_title=new a(e.sectionTitle),this.creator_videos_button=p.parseItem(e.creatorVideosButton,T),this.creator_about_button=p.parseItem(e.creatorAboutButton,T),this.section_subtitle=new a(e.sectionSubtitle),this.channel_avatar=y.fromResponse(e.channelAvatar),this.channel_endpoint=new m(e.channelEndpoint)}};r(ta,"VideoDescriptionInfocardsSection");ta.type="VideoDescriptionInfocardsSection";var Q_=ta;var ia=class extends n{constructor(e){super(),this.title=new a(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new a(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new a(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};r(ia,"InfoRow");ia.type="InfoRow";var J_=ia;var ra=class extends n{constructor(e){super(),this.video_id=e.videoId,this.thumbnails=y.fromResponse(e.thumbnail),this.title=new a(e.title),this.author=new P(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.is_watched=!!e.isWatched,this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.menu=p.parseItem(e.menu,R),this.badges=p.parseArray(e.badges,Ge),"publishedTimeText"in e&&(this.published=new a(e.publishedTimeText)),"shortBylineText"in e&&(this.view_count=new a(e.viewCountText)),"shortViewCountText"in e&&(this.short_view_count=new a(e.shortViewCountText)),"richThumbnail"in e&&(this.rich_thumbnail=p.parseItem(e.richThumbnail)),"shortBylineText"in e&&(this.short_byline_text=new a(e.shortBylineText)),"longBylineText"in e&&(this.long_byline_text=new a(e.longBylineText)),"lengthText"in e&&(this.length_text=new a(e.lengthText)),"serviceEndpoints"in e&&(this.service_endpoints=e.serviceEndpoints.map(i=>new m(i))),"serviceEndpoint"in e&&(this.service_endpoint=new m(e.serviceEndpoint)),"navigationEndpoint"in e&&(this.endpoint=new m(e.navigationEndpoint)),"style"in e&&(this.style=e.style)}get id(){return this.video_id}get duration(){var s;let e=this.thumbnail_overlays.firstOfType(Rt),i=((s=this.length_text)==null?void 0:s.toString())||(e==null?void 0:e.text.toString());return{text:i,seconds:i?be(i):0}}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};r(ra,"CompactVideo");ra.type="CompactVideo";var Kr=ra;var sa=class extends n{constructor(e){super(),this.info_rows=p.parseArray(e.infoRows,J_),this.video_lockup=p.parseItem(e.videoLockup,Kr)}};r(sa,"CarouselLockup");sa.type="CarouselLockup";var Z_=sa;var oa=class extends n{constructor(e){super(),this.carousel_lockups=p.parseArray(e.carouselLockups,Z_),this.section_title=new a(e.sectionTitle)}};r(oa,"VideoDescriptionMusicSection");oa.type="VideoDescriptionMusicSection";var zr=oa;var na=class extends n{constructor(e){super(),this.section_title=new a(e.sectionTitle),this.sub_header_text=new a(e.subHeaderText),this.primary_button=p.parseItem(e.primaryButton,T)}};r(na,"VideoDescriptionTranscriptSection");na.type="VideoDescriptionTranscriptSection";var aa=na;var ca=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new a(e.title),this.short_byline_text=new a(e.shortBylineText),this.video_count_short_text=new a(e.videoCountShortText),this.endpoint=new m(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};r(ca,"StructuredDescriptionPlaylistLockup");ca.type="StructuredDescriptionPlaylistLockup";var ex=ca;var pa=class extends n{constructor(e){super(),this.section_title=new a(e.sectionTitle),this.media_lockups=p.parseArray(e.mediaLockups,[ex])}};r(pa,"VideoDescriptionCourseSection");pa.type="VideoDescriptionCourseSection";var tx=pa;var la=class extends n{constructor(e){super(),this.header_title=e.headerTitle,this.header_subtitle=e.headerSubtitle,this.video_attributes=p.parseArray(e.videoAttributeViewModels,Ei),this.previous_button=p.parseItem(e.previousButton,X),this.next_button=p.parseItem(e.nextButton,X)}};r(la,"VideoAttributesSectionView");la.type="VideoAttributesSectionView";var ix=la;var ua=class extends n{constructor(e){super(),Reflect.has(e,"sectionText")&&(this.section_title=a.fromAttributed(e.sectionText)),Reflect.has(e,"bodyText")&&(this.body_text=a.fromAttributed(e.bodyText)),Reflect.has(e,"bodyHeader")&&(this.body_header=a.fromAttributed(e.bodyHeader))}};r(ua,"HowThisWasMadeSectionView");ua.type="HowThisWasMadeSectionView";var rx=ua;var fa=class extends n{constructor(e){super(),this.title=new a(e.title),this.items=p.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new m(e.endpoint))}get contents(){return this.items}};r(fa,"ReelShelf");fa.type="ReelShelf";var Xr=fa;var ma=class extends n{constructor(e){super(),this.items=p.parseArray(e.items,[X_,G_,zr,Q_,tx,aa,aa,Si,Xr,ix,rx])}};r(ma,"StructuredDescriptionContent");ma.type="StructuredDescriptionContent";var rr=ma;var ha=class extends n{constructor(e){super(),this.header=p.parseItem(e.header,V_),this.content=p.parseItem(e.content,[Ei,ce,Q,Y_,rr,F_,W_]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};r(ha,"EngagementPanelSectionList");ha.type="EngagementPanelSectionList";var Pi=ha;var da=class extends n{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:p.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,Pi),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new m(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};r(da,"ChannelTagline");da.type="ChannelTagline";var sx=da;var _a=class extends n{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:p.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};r(_a,"SubscriptionNotificationToggleButton");_a.type="SubscriptionNotificationToggleButton";var ox=_a;var xa=class extends n{constructor(e){var i,s;super(),this.button_text=new a(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,Reflect.has(e,"subscribedButtonText")&&(this.subscribed_text=new a(e.subscribedButtonText)),Reflect.has(e,"unsubscribedButtonText")&&(this.unsubscribed_text=new a(e.unsubscribedButtonText)),Reflect.has(e,"unsubscribeButtonText")&&(this.unsubscribe_text=new a(e.unsubscribeButtonText)),this.notification_preference_button=p.parseItem(e.notificationPreferenceButton,ox),Reflect.has(e,"serviceEndpoints")&&(this.service_endpoints=e.serviceEndpoints.map(o=>new m(o))),Reflect.has(e,"onSubscribeEndpoints")&&(this.on_subscribe_endpoints=e.onSubscribeEndpoints.map(o=>new m(o))),Reflect.has(e,"onUnsubscribeEndpoints")&&(this.on_unsubscribe_endpoints=e.onUnsubscribeEndpoints.map(o=>new m(o))),Reflect.has(e,"subscribedEntityKey")&&(this.subscribed_entity_key=e.subscribedEntityKey),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"subscribeAccessibility")&&(this.subscribe_accessibility_label=(i=e.subscribeAccessibility.accessibilityData)==null?void 0:i.label),Reflect.has(e,"unsubscribeAccessibility")&&(this.unsubscribe_accessibility_label=(s=e.unsubscribeAccessibility.accessibilityData)==null?void 0:s.label)}};r(xa,"SubscribeButton");xa.type="SubscribeButton";var me=xa;var ya=class extends n{constructor(e){super(),this.author=new P({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=y.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=y.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=y.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new a(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new a(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=p.parseItem(e.sponsorButton,T)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=p.parseItem(e.subscribeButton,[me,T])),Reflect.has(e,"headerLinks")&&(this.header_links=p.parseItem(e.headerLinks,[R_,M_])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new a(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=p.parseItem(e.tagline,sx))}};r(ya,"C4TabbedHeader");ya.type="C4TabbedHeader";var Qr=ya;var ba=class extends n{constructor(e){super(),this.label=new a(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};r(ba,"CallToActionButton");ba.type="CallToActionButton";var JT=ba;var ga=class extends n{constructor(e){super(),this.teaser=p.parseItem(e.teaser),this.content=p.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};r(ga,"Card");ga.type="Card";var ZT=ga;var wa=class extends n{constructor(e){super(),this.cards=p.parseArray(e.cards),this.header=new a(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};r(wa,"CardCollection");wa.type="CardCollection";var nx=wa;var Ta=class extends n{constructor(e){super(),this.contents=p.parseArray(e.contents)}};r(Ta,"CarouselHeader");Ta.type="CarouselHeader";var ax=Ta;var va=class extends n{constructor(e){super(),this.items=p.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=y.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};r(va,"CarouselItem");va.type="CarouselItem";var e0=va;var Ia=class extends n{constructor(e){super(),this.icon_name=e.iconName,this.text=a.fromAttributed(e.text),this.on_tap_endpoint=new m(e.onTap),this.button=p.parseItem(e.button,X)}};r(Ia,"TextCarouselItemView");Ia.type="TextCarouselItemView";var cx=Ia;var Sa=class extends n{constructor(e){super(),this.item_type=e.itemType,this.carousel_item=p.parseItem(e.carouselItem,cx)}};r(Sa,"CarouselItemView");Sa.type="CarouselItemView";var px=Sa;var ka=class extends n{constructor(e){super(),this.title=e.title,this.previous_button=p.parseItem(e.previousButton,X),this.next_button=p.parseItem(e.nextButton,X)}};r(ka,"CarouselTitleView");ka.type="CarouselTitleView";var lx=ka;var Ea=class extends n{constructor(e){super(),this.id=e.channelId,this.author=new P({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscriber_count=new a(e.subscriberCountText),this.video_count=new a(e.videoCountText),this.long_byline=new a(e.longBylineText),this.short_byline=new a(e.shortBylineText),this.endpoint=new m(e.navigationEndpoint),this.subscribe_button=p.parseItem(e.subscribeButton,[me,T]),this.description_snippet=new a(e.descriptionSnippet)}};r(Ea,"Channel");Ea.type="Channel";var ux=Ea;var Ca=class extends n{constructor(e){var i,s;super(),this.id=e.channelId,this.name=new a(e.title),this.avatar=y.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(s=(i=e.primaryLinks)==null?void 0:i.map(o=>({endpoint:new m(o.navigationEndpoint),icon:y.fromResponse(o.icon),title:new a(o.title)})))!=null?s:[],this.view_count=new a(e.viewCountText),this.joined_date=new a(e.joinedDateText),this.description=new a(e.description),this.email_reveal=new m(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new a(e.country),this.buttons=p.parseArray(e.actionButtons,T)}};r(Ca,"ChannelAboutFullMetadata");Ca.type="ChannelAboutFullMetadata";var Pa=Ca;var Na=class extends n{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=y.fromResponse(e.avatar),this.header=new a(e.header),this.main_text=new a(e.mainText),this.sign_in_button=p.parseItem(e.signInButton,T),this.secondary_text=new a(e.secondaryText)}};r(Na,"ChannelAgeGate");Na.type="ChannelAgeGate";var t0=Na;var Aa=class extends n{constructor(e){super(),this.title=new a(e.title),this.items=p.parseArray(e.items)}};r(Aa,"ChannelFeaturedContent");Aa.type="ChannelFeaturedContent";var i0=Aa;var Ra=class extends n{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=y.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};r(Ra,"ChannelMetadata");Ra.type="ChannelMetadata";var fx=Ra;var Ma=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(Ma,"ChannelMobileHeader");Ma.type="ChannelMobileHeader";var r0=Ma;var La=class extends n{constructor(e){super(),this.avatar=y.fromResponse(e.avatar),this.endpoint=new m(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new a(i))}};r(La,"ChannelOptions");La.type="ChannelOptions";var mx=La;var Ba=class extends n{constructor(e){super(),this.illustration=y.fromResponse(e.illustration),this.description=new a(e.description)}};r(Ba,"ChannelOwnerEmptyState");Ba.type="ChannelOwnerEmptyState";var s0=Ba;var Da=class extends n{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new m(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=p.parseItem(e.sortSetting)}};r(Da,"ChannelSubMenu");Da.type="ChannelSubMenu";var Oa=Da;var Ya=class extends n{constructor(e){super(),this.title=new a(e.title).toString(),Reflect.has(e,"button")&&(this.button=p.parseItem(e.button,T))}};r(Ya,"ChannelSwitcherHeader");Ya.type="ChannelSwitcherHeader";var o0=Ya;var Va=class extends n{constructor(e){var i,s;super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new m(e.navigationEndpoint),this.label=(s=(i=e.accessibility)==null?void 0:i.accessibilityData)==null?void 0:s.label}};r(Va,"ChannelThumbnailWithLink");Va.type="ChannelThumbnailWithLink";var n0=Va;var Ua=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new a(e.title),this.description=new a(e.description),this.view_count=new a(e.viewCountText),this.published_time=new a(e.publishedTimeText)}};r(Ua,"ChannelVideoPlayer");Ua.type="ChannelVideoPlayer";var a0=Ua;var Fa=class extends n{constructor(e){super(),this.title=new a(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=y.fromResponse(e.thumbnail)}};r(Fa,"Chapter");Fa.type="Chapter";var hx=Fa;var Wa=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new a(e.title),this.duration={text:e.lengthText.simpleText,seconds:be(e.lengthText.simpleText)},this.endpoint=new m(e.navigationEndpoint)}};r(Wa,"ChildVideo");Wa.type="ChildVideo";var c0=Wa;var Ga=class extends n{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new m(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};r(Ga,"ChipView");Ga.type="ChipView";var dx=Ga;var Ha=class extends n{constructor(e){super(),this.chips=p.parseArray(e.chips,dx)}};r(Ha,"ChipBarView");Ha.type="ChipBarView";var p0=Ha;var ja=class extends n{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint)),this.text=new a(e.text).toString()}};r(ja,"ChipCloudChip");ja.type="ChipCloudChip";var He=ja;var $a=class extends n{constructor(e){super(),this.chips=p.parseArray(e.chips,He),this.next_button=p.parseItem(e.nextButton,T),this.previous_button=p.parseItem(e.previousButton,T),this.horizontal_scrollable=e.horizontalScrollable}};r($a,"ChipCloud");$a.type="ChipCloud";var Jr=$a;var qa=class extends n{constructor(e){super(),this.text=new a(e.defaultText),this.icon_type=e.defaultIcon.iconType,this.toggled_text=new a(e.toggledText),this.toggled_icon_type=e.toggledIcon.iconType,Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.menu_item_identifier=e.menuItemIdentifier,this.endpoint=new m(e.command),Reflect.has(e,"loggingDirectives")&&(this.logging_directives={visibility:{types:e.loggingDirectives.visibility.types},enable_displaylogger_experiment:e.loggingDirectives.enableDisplayloggerExperiment})}};r(qa,"ClientSideToggleMenuItem");qa.type="ClientSideToggleMenuItem";var l0=qa;var Ka=class extends n{constructor(e){super(),this.channel_avatar=y.fromResponse(e.channelAvatar),this.custom_text=new a(e.customText),this.channel_name=new a(e.channelName),this.subscriber_count=new a(e.subscriberCountText),this.endpoint=new m(e.endpoint)}};r(Ka,"CollaboratorInfoCardContent");Ka.type="CollaboratorInfoCardContent";var u0=Ka;var za=class extends n{constructor(e){super(),this.left=y.fromResponse(e.leftThumbnail),this.top_right=y.fromResponse(e.topRightThumbnail),this.bottom_right=y.fromResponse(e.bottomRightThumbnail),this.endpoint=new m(e.navigationEndpoint)}};r(za,"CollageHeroImage");za.type="CollageHeroImage";var f0=za;var Xa=class extends n{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=a.fromAttributed(e.text),this.style=e.style}};r(Xa,"ThumbnailHoverOverlayView");Xa.type="ThumbnailHoverOverlayView";var _x=Xa;var Qa=class extends n{constructor(e){super(),this.text=e.text,this.badge_style=e.badgeStyle,e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}),e.iconName&&(this.icon_name=e.icon.sources[0].clientResource.imageName)}};r(Qa,"ThumbnailBadgeView");Qa.type="ThumbnailBadgeView";var Zr=Qa;var Ja=class extends n{constructor(e){super(),this.badges=p.parseArray(e.thumbnailBadges,Zr),this.position=e.position}};r(Ja,"ThumbnailOverlayBadgeView");Ja.type="ThumbnailOverlayBadgeView";var xx=Ja;var Za=class extends n{constructor(e){super(),this.buttons=p.parseArray(e.buttons,Qe)}};r(Za,"ThumbnailHoverOverlayToggleActionsView");Za.type="ThumbnailHoverOverlayToggleActionsView";var yx=Za;var ec=class extends n{constructor(e){super(),this.start_percent=e.startPercent}};r(ec,"ThumbnailOverlayProgressBarView");ec.type="ThumbnailOverlayProgressBarView";var bx=ec;var tc=class extends n{constructor(e){super(),this.progress_bar=p.parseItem(e.progressBar,bx),this.badges=p.parseArray(e.badges,Zr)}};r(tc,"ThumbnailBottomOverlayView");tc.type="ThumbnailBottomOverlayView";var gx=tc;var ic=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.overlays=p.parseArray(e.overlays,[yx,gx,xx,_x,__]),"backgroundColor"in e&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};r(ic,"ThumbnailView");ic.type="ThumbnailView";var es=ic;var rc=class extends n{constructor(e){super(),this.primary_thumbnail=p.parseItem(e.primaryThumbnail,es),e.stackColor&&(this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme})}};r(rc,"CollectionThumbnailView");rc.type="CollectionThumbnailView";var wx=rc;var sc=class extends n{constructor(e){super(),this.open_miniplayer=e.openMiniplayer,this.video_id=e.videoId,this.list_type=e.listType,this.endpoint=new m(e.onCreateListCommand),this.video_ids=e.videoIds}};r(sc,"AddToPlaylistCommand");sc.type="AddToPlaylistCommand";var m0=sc;var oc=class extends n{constructor(e){super(),this.commands=p.parseCommands(e.commands)}};r(oc,"CommandExecutorCommand");oc.type="CommandExecutorCommand";var h0=oc;var xt,nc=class extends n{constructor(e){super(),xt.set(this,void 0),S(this,xt,e,"f")}getApiPath(){switch(u(this,xt,"f").request){case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":return"next";case"CONTINUATION_REQUEST_TYPE_BROWSE":return"browse";case"CONTINUATION_REQUEST_TYPE_SEARCH":return"search";case"CONTINUATION_REQUEST_TYPE_ACCOUNTS_LIST":return"account/accounts_list";case"CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU":return"notification/get_notification_menu";case"CONTINUATION_REQUEST_TYPE_COMMENT_REPLIES":return"comment/get_comment_replies";case"CONTINUATION_REQUEST_TYPE_REEL_WATCH_SEQUENCE":return"reel/reel_watch_sequence";case"CONTINUATION_REQUEST_TYPE_GET_PANEL":return"get_panel";default:return""}}buildRequest(){let e={};return u(this,xt,"f").formData&&(e.formData=u(this,xt,"f").formData),u(this,xt,"f").token&&(e.continuation=u(this,xt,"f").token),u(this,xt,"f").request==="CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU"&&(e.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_COMMENTS",u(this,xt,"f").token&&(e.fetchCommentsParams={continuation:u(this,xt,"f").token},delete e.continuation)),e}};r(nc,"ContinuationCommand");xt=new WeakMap;nc.type="ContinuationCommand";var d0=nc;var ac,V1="kids/get_kids_blocklist_picker",cc=class extends n{constructor(e){super(),ac.set(this,void 0),S(this,ac,e,"f")}getApiPath(){return V1}buildRequest(){let e={};return u(this,ac,"f").blockedForKidsContent&&(e.blockedForKidsContent=u(this,ac,"f").blockedForKidsContent),e}};r(cc,"GetKidsBlocklistPickerCommand");ac=new WeakMap;cc.type="GetKidsBlocklistPickerCommand";var _0=cc;var pc=class extends n{constructor(e){super(),this.engagement_type=e.engagementType,Reflect.has(e,"ids")&&(this.ids=e.ids.map(i=>({encrypted_video_id:i.encryptedVideoId,external_channel_id:i.externalChannelId,comment_id:i.commentId,external_owner_id:i.externalOwnerId,artist_id:i.artistId,playlist_id:i.playlistId,external_post_id:i.externalPostId,share_id:i.shareId})))}};r(pc,"RunAttestationCommand");pc.type="RunAttestationCommand";var Tx=pc;var lc=class extends n{constructor(e){var i;super(),this.inline_content=p.parseItem((i=e.panelLoadingStrategy)==null?void 0:i.inlineContent),this.remove_default_padding=!!e.removeDefaultPadding}};r(lc,"ShowDialogCommand");lc.type="ShowDialogCommand";var x0=lc;var uc=class extends n{constructor(e){super(),this.content_source_panel_identifier=e.contentSourcePanelIdentifier,this.target_panel_identifier=e.targetPanelIdentifier}};r(uc,"UpdateEngagementPanelContentCommand");uc.type="UpdateEngagementPanelContentCommand";var y0=uc;var vx,fc=class extends n{constructor(e){super(),vx.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED",e.style="BADGE_STYLE_TYPE_VERIFIED"),S(this,vx,e,"f")}get orig_badge(){return u(this,vx,"f")}};r(fc,"AuthorCommentBadge");vx=new WeakMap;fc.type="AuthorCommentBadge";var b0=fc;var mc=class extends n{constructor(e){super(),this.id=e.id,this.categories=p.parseArray(e.categories),this.category_buttons=p.parseArray(e.categoryButtons),this.search_placeholder=new a(e.searchPlaceholderText),this.search_no_results=new a(e.searchNoResultsText),this.pick_skin_tone=new a(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};r(mc,"EmojiPicker");mc.type="EmojiPicker";var Ix=mc;var hc=class extends n{constructor(e){super(),this.editable_text=new a(e.editableText),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.submit_button=p.parseItem(e.submitButton,T),this.cancel_button=p.parseItem(e.cancelButton,T),this.placeholder=new a(e.placeholderText),this.emoji_button=p.parseItem(e.emojiButton,T),this.emoji_picker=p.parseItem(e.emojiPicker,Ix)}};r(hc,"CommentDialog");hc.type="CommentDialog";var g0=hc;var dc=class extends n{constructor(e){super(),this.contents=p.parseArray(e.contents),this.view_replies=p.parseItem(e.viewReplies,T),this.hide_replies=p.parseItem(e.hideReplies,T),this.view_replies_creator_thumbnail=y.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};r(dc,"CommentReplies");dc.type="CommentReplies";var Sx=dc;var _c=class extends n{constructor(e){super(),this.reply_button=p.parseItem(e.replyButton,T),this.cancel_button=p.parseItem(e.cancelButton,T),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new a(e.placeholderText),this.error_message=new a(e.errorMessage)}};r(_c,"CommentReplyDialog");_c.type="CommentReplyDialog";var kx=_c;var xc=class extends n{constructor(e){super(),this.simplebox_avatar=y.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new a(e.simpleboxPlaceholder)}};r(xc,"CommentsSimplebox");xc.type="CommentsSimplebox";var Ex=xc;var yc=class extends n{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new a(e.teaserContent))}};r(yc,"CommentsEntryPointTeaser");yc.type="CommentsEntryPointTeaser";var Cx=yc;var bc=class extends n{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new a(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new a(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new a(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=p.parseItem(e.contentRenderer,[Cx,Ex])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new a(e.simpleboxPlaceholder))}};r(bc,"CommentsEntryPointHeader");bc.type="CommentsEntryPointHeader";var Px=bc;var gc=class extends n{constructor(e){super(),this.title=new a(e.titleText),this.count=new a(e.countText),this.comments_count=new a(e.commentsCount),this.create_renderer=p.parseItem(e.createRenderer),this.sort_menu=p.parseItem(e.sortMenu,_t),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:y.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};r(gc,"CommentsHeader");gc.type="CommentsHeader";var Ni=gc;var wc=class extends n{constructor(e){super(),this.submit_button=p.parseItem(e.submitButton,T),this.cancel_button=p.parseItem(e.cancelButton,T),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new a(e.placeholderText),this.avatar_size=e.avatarSize}};r(wc,"CommentSimplebox");wc.type="CommentSimplebox";var Nx=wc;var Re,Tc=class extends n{constructor(e){super(),Re.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,s){e&&(this.content=a.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.creator_thumbnail_url=e.toolbar.creatorThumbnailUrl,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.like_count_liked=e.toolbar.likeCountLiked?e.toolbar.likeCountLiked:"0",this.like_count_a11y=e.toolbar.likeCountA11y,this.like_active_tooltip=e.toolbar.likeActiveTooltip,this.like_inactive_tooltip=e.toolbar.likeInactiveTooltip,this.dislike_active_tooltip=e.toolbar.dislikeActiveTooltip,this.dislike_inactive_tooltip=e.toolbar.dislikeInactiveTooltip,this.like_button_a11y=e.toolbar.likeButtonA11y,this.heart_active_tooltip=e.toolbar.heartActiveTooltip,this.reply_count_a11y=e.toolbar.replyCountA11y,this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new P({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),s&&("prepareAccountCommand"in s?this.prepare_account_command=new m(s.prepareAccountCommand):(this.like_command=new m(s.likeCommand),this.dislike_command=new m(s.dislikeCommand),this.unlike_command=new m(s.unlikeCommand),this.undislike_command=new m(s.undislikeCommand),this.reply_command=new m(s.replyCommand)))}async like(){if(!u(this,Re,"f"))throw new g("Actions instance not set for this comment.");if(!this.like_command)throw new g("Like command not found.");if(this.is_liked)throw new g("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(u(this,Re,"f"))}async dislike(){if(!u(this,Re,"f"))throw new g("Actions instance not set for this comment.");if(!this.dislike_command)throw new g("Dislike command not found.");if(this.is_disliked)throw new g("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(u(this,Re,"f"))}async unlike(){if(!u(this,Re,"f"))throw new g("Actions instance not set for this comment.");if(!this.unlike_command)throw new g("Unlike command not found.");if(!this.is_liked)throw new g("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(u(this,Re,"f"))}async undislike(){if(!u(this,Re,"f"))throw new g("Actions instance not set for this comment.");if(!this.undislike_command)throw new g("Undislike command not found.");if(!this.is_disliked)throw new g("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(u(this,Re,"f"))}async reply(e){var o;if(!u(this,Re,"f"))throw new g("Actions instance not set for this comment.");if(!this.reply_command)throw new g("Reply command not found.");let i=(o=this.reply_command.dialog)==null?void 0:o.as(kx);if(!i)throw new g("Reply dialog not found.");let s=i.reply_button;if(!s)throw new g("Reply button not found in the dialog.");if(!s.endpoint)throw new g("Reply button endpoint not found.");return s.endpoint.call(u(this,Re,"f"),{commentText:e})}async translate(e){var h,_,x,b,w,v;if(!u(this,Re,"f"))throw new g("Actions instance not set for this comment.");if(!this.content)throw new g("Comment content not found.",{comment_id:this.comment_id});let s={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},o=Wg(22,s),c=await u(this,Re,"f").execute("comment/perform_comment_action",{action:o}),l=(_=(h=c.data.frameworkUpdates)==null?void 0:h.entityBatchUpdate)==null?void 0:_.mutations,f=(v=(w=(b=(x=l==null?void 0:l[0])==null?void 0:x.payload)==null?void 0:b.commentEntityPayload)==null?void 0:w.translatedContent)==null?void 0:v.content;return{...c,content:f}}setActions(e){S(this,Re,e,"f")}};r(Tc,"CommentView");Re=new WeakMap;Tc.type="CommentView";var sr=Tc;var Ax,Ai,or,Hg,vc=class extends n{constructor(e){super(),Ax.add(this),Ai.set(this,void 0),or.set(this,void 0),this.comment=p.parseItem(e.commentViewModel,sr),this.comment_replies_data=p.parseItem(e.replies,Sx),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}get has_continuation(){if(!this.replies)throw new g("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!u(this,or,"f")}async getReplies(){var s;if(!u(this,Ai,"f"))throw new g("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new g("This comment has no replies.",this);let e=(s=this.comment_replies_data.contents)==null?void 0:s.firstOfType(Q);if(!e)throw new g("Replies continuation not found.");let i=await e.endpoint.call(u(this,Ai,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new g("Unexpected response.",i);return this.replies=u(this,Ax,"m",Hg).call(this,i.on_response_received_endpoints_memo),S(this,or,i.on_response_received_endpoints_memo.getType(Q)[0],"f"),this}async getContinuation(){var s;if(!this.replies)throw new g("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!u(this,or,"f"))throw new g("Continuation not found.");if(!u(this,Ai,"f"))throw new g("Actions instance not set for this thread.");let e=(s=u(this,or,"f").button)==null?void 0:s.as(T);if(!e)throw new g('"Load more" button not found.');let i=await e.endpoint.call(u(this,Ai,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new g("Unexpected response.",i);return this.replies=u(this,Ax,"m",Hg).call(this,i.on_response_received_endpoints_memo),S(this,or,i.on_response_received_endpoints_memo.getType(Q)[0],"f"),this}setActions(e){S(this,Ai,e,"f")}};r(vc,"CommentThread");Ai=new WeakMap,or=new WeakMap,Ax=new WeakSet,Hg=r(function(e){return G(e.getType(sr).map(i=>(i.setActions(u(this,Ai,"f")),i)))},"_CommentThread_getPatchedReplies");vc.type="CommentThread";var Rx=vc;var Ic=class extends n{constructor(e){var i,s;super(),this.text=new a(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)==null?void 0:i.backgroundColor,foreground_title_color:(s=e.chipColorPalette)==null?void 0:s.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};r(Ic,"PdgCommentChip");Ic.type="PdgCommentChip";var w0=Ic;var Sc=class extends n{constructor(e){super(),this.custom_badge=y.fromResponse(e.customBadge),this.tooltip=e.tooltip}};r(Sc,"SponsorCommentBadge");Sc.type="SponsorCommentBadge";var T0=Sc;var kc=class extends n{constructor(e){super(),this.title=new a(e.title),this.channel_id=e.channelId,this.thumbnail=y.fromResponse(e.thumbnail),this.display_name=new a(e.displayName),this.video_count=new a(e.videoCountText),this.subscriber_count=new a(e.subscriberCountText),this.endpoint=new m(e.navigationEndpoint),this.tv_banner=y.fromResponse(e.tvBanner),this.menu=p.parseItem(e.menu,R)}};r(kc,"CompactChannel");kc.type="CompactChannel";var v0=kc;var Ec=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Ec,"PlaylistCustomThumbnail");Ec.type="PlaylistCustomThumbnail";var ts=Ec;var Cc=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Cc,"PlaylistVideoThumbnail");Cc.type="PlaylistVideoThumbnail";var is=Cc;var Pc=class extends n{constructor(e){var i;super(),this.id=e.playlistId,this.title=new a(e.title),this.author=(i=e.shortBylineText)!=null&&i.simpleText?new a(e.shortBylineText):new P(e.longBylineText,e.ownerBadges,null),this.thumbnails=y.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(s=>s.thumbnails).flat(1)}),this.video_count=new a(e.thumbnailText),this.video_count_short=new a(e.videoCountShortText),this.first_videos=p.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=p.parseItem(e.menu),this.badges=p.parseArray(e.ownerBadges),this.endpoint=new m(e.navigationEndpoint),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=p.parseItem(e.thumbnailRenderer,[is,ts])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new a(e.viewPlaylistText))}};r(Pc,"Playlist");Pc.type="Playlist";var Mt=Pc;var Nc=class extends Mt{constructor(e){super(e)}};r(Nc,"CompactMix");Nc.type="CompactMix";var I0=Nc;var Ac=class extends n{constructor(e){var o;super();let i=((o=e.thumbnailOverlays.find(c=>c.thumbnailOverlayTimeStatusRenderer))==null?void 0:o.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new a(e.title),this.top_metadata_items=new a(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.author=new P(e.shortBylineText);let s=e.lengthText?new a(e.lengthText).toString():new a(i).toString();this.duration={text:s,seconds:be(s)},this.endpoint=new m(e.navigationEndpoint),this.badges=p.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=p.parseItem(e.menu,R)}};r(Ac,"CompactMovie");Ac.type="CompactMovie";var S0=Ac;var Rc=class extends Mt{constructor(e){super(e)}};r(Rc,"CompactPlaylist");Rc.type="CompactPlaylist";var k0=Rc;var Mc=class extends n{constructor(e){super(),this.title=new a(e.title),this.description=new a(e.description),this.video_count=new a(e.videoCountText),this.endpoint=new m(e.navigationEndpoint),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Mc,"CompactStation");Mc.type="CompactStation";var E0=Mc;var Lc=class extends n{constructor(e){super(),this.title=new a(e.title),this.confirm_button=p.parseItem(e.confirmButton,T),this.cancel_button=p.parseItem(e.cancelButton,T),this.dialog_messages=e.dialogMessages.map(i=>new a(i))}};r(Lc,"ConfirmDialog");Lc.type="ConfirmDialog";var C0=Lc;var Bc=class extends n{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var s;return{metadata_parts:(s=i.metadataParts)==null?void 0:s.map(o=>({text:o.text?a.fromAttributed(o.text):null,avatar_stack:p.parseItem(o.avatarStack,g_),enable_truncation:e.enableTruncation}))}}),this.delimiter=e.delimiter}};r(Bc,"ContentMetadataView");Bc.type="ContentMetadataView";var rs=Bc;var Dc=class extends n{constructor(e){super(),this.text=new a(e.text)}};r(Dc,"Message");Dc.type="Message";var Ri=Dc;var Oc=class extends n{constructor(e){super(),this.availability_message=p.parseItem(e.availabilityMessage,Ri)}};r(Oc,"ConversationBar");Oc.type="ConversationBar";var P0=Oc;var Yc=class extends n{constructor(e){super(),this.copy_button=p.parseItem(e.copyButton,T),this.short_url=e.shortUrl,this.style=e.style}};r(Yc,"CopyLink");Yc.type="CopyLink";var ss=Yc;var Vc=class extends n{constructor(e){super(),this.label=new a(e.label),this.placeholder_text=new a(e.placeholderText),this.disabled=!!e.disabled,this.dropdown_type=e.type,this.id=e.id,Reflect.has(e,"options")&&(this.options=e.options.map(i=>{var s;return{title:new a(i.title),subtitle:new a(i.subtitle),leading_image:y.fromResponse(i.leadingImage),value:{privacy_status_value:(s=i.value)==null?void 0:s.privacyStatusValue},on_tap:new m(i.onTap),is_selected:!!i.isSelected}}))}};r(Vc,"DropdownView");Vc.type="DropdownView";var Mx=Vc;var Uc=class extends n{constructor(e){super(),Reflect.has(e,"displayProperties")&&(this.display_properties={isMultiline:!!e.displayProperties.isMultiline,disableNewLines:!!e.displayProperties.disableNewLines}),Reflect.has(e,"contentProperties")&&(this.content_properties={labelText:e.contentProperties.labelText,placeholderText:e.contentProperties.placeholderText,maxCharacterCount:e.contentProperties.maxCharacterCount}),Reflect.has(e,"initialState")&&(this.initial_state={isFocused:!!e.initialState.isFocused}),Reflect.has(e,"formFieldMetadata")&&(this.form_field_metadata={formId:e.formFieldMetadata.formId,fieldId:e.formFieldMetadata.fieldId})}};r(Uc,"TextFieldView");Uc.type="TextFieldView";var Lx=Uc;var Fc=class extends n{constructor(e){super(),this.playlist_title=p.parseItem(e.playlistTitle,Lx),this.playlist_visibility=p.parseItem(e.playlistVisibility,Mx),this.disable_playlist_collaborate=!!e.disablePlaylistCollaborate,this.create_playlist_params_collaboration_enabled=e.createPlaylistParamsCollaborationEnabled,this.create_playlist_params_collaboration_disabled=e.createPlaylistParamsCollaborationDisabled,this.video_ids=e.videoIds}};r(Fc,"CreatePlaylistDialogFormView");Fc.type="CreatePlaylistDialogFormView";var Bx=Fc;var Wc=class extends n{constructor(e){super(),this.avatar=p.parseItem(e.avatar,Ur),this.a11y_label=e.a11yLabel,this.renderer_context=new Se(e.rendererContext)}};r(Wc,"DecoratedAvatarView");Wc.type="DecoratedAvatarView";var os=Wc;var Gc=class extends n{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};r(Gc,"HeatMarker");Gc.type="HeatMarker";var Dx=Gc;var Hc=class extends n{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=p.parseArray(e.heatMarkers,Dx),this.heat_markers_decorations=p.parseArray(e.heatMarkersDecorations)}};r(Hc,"Heatmap");Hc.type="Heatmap";var Ox=Hc;var jc=class extends n{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=p.parseItem(e.value.heatmap,Ox)),Reflect.has(e.value,"chapters")&&(this.value.chapters=p.parseArray(e.value.chapters,hx)))}};r(jc,"Marker");jc.type="Marker";var $c=class extends n{constructor(e){var i;super(),this.markers_map=G(((i=e.markersMap)==null?void 0:i.map(s=>new jc(s)))||[])}};r($c,"MultiMarkersPlayerBar");$c.type="MultiMarkersPlayerBar";var Yx=$c;var qc=class extends n{constructor(e){super(),this.player_bar=p.parseItem(e.playerBar,Yx),this.player_bar_action_button=p.parseItem(e.playerBarActionButton,T)}};r(qc,"DecoratedPlayerBar");qc.type="DecoratedPlayerBar";var Vx=qc;var Kc=class extends n{constructor(e){super(),this.title=new a(e.title),this.description=new a(e.description),this.endpoint=new m(e.navigationEndpoint),this.large_form_factor_background_thumbnail=p.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=p.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};r(Kc,"DefaultPromoPanel");Kc.type="DefaultPromoPanel";var N0=Kc;var zc=class extends n{constructor(e){var i,s,o,c,l,f;if(super(),Reflect.has(e,"description")&&(this.description=a.fromAttributed(e.description)),Reflect.has(e,"maxLines")&&(this.max_lines=parseInt(e.maxLines)),Reflect.has(e,"truncationText")&&(this.truncation_text=a.fromAttributed(e.truncationText)),this.always_show_truncation_text=!!e.alwaysShowTruncationText,(o=(s=(i=e.rendererContext.commandContext)==null?void 0:i.onTap)==null?void 0:s.innertubeCommand)!=null&&o.showEngagementPanelEndpoint){let h=(f=(l=(c=e.rendererContext.commandContext)==null?void 0:c.onTap)==null?void 0:l.innertubeCommand)==null?void 0:f.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:p.parseItem(h.engagementPanel,Pi),engagement_panel_popup_type:h.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:h.identifier.surface,tag:h.identifier.tag}}}}this.renderer_context=new Se(e.rendererContext)}};r(zc,"DescriptionPreviewView");zc.type="DescriptionPreviewView";var Ux=zc;var Xc=class extends n{constructor(e){super(),this.headline=a.fromAttributed(e.headline)}};r(Xc,"DialogHeaderView");Xc.type="DialogHeaderView";var Fx=Xc;var Qc=class extends n{constructor(e){super(),this.primary_button=p.parseItem(e.primaryButton,X),this.secondary_button=p.parseItem(e.secondaryButton,X),this.should_hide_divider=!!e.shouldHideDivider}};r(Qc,"PanelFooterView");Qc.type="PanelFooterView";var ns=Qc;var Jc=class extends n{constructor(e){super(),this.panel_footer=p.parseItem(e.panelFooter,ns),this.form_id=e.formId,this.container_type=e.containerType}};r(Jc,"FormFooterView");Jc.type="FormFooterView";var Wx=Jc;var Zc=class extends n{constructor(e){super(),this.header=p.parseItem(e.header,Fx),this.footer=p.parseItem(e.footer,[Wx,ns]),this.custom_content=p.parseItem(e.customContent,Bx)}};r(Zc,"DialogView");Zc.type="DialogView";var A0=Zc;var ep=class extends n{constructor(e){super(),this.text=new a(e.didYouMean).toString(),this.corrected_query=new a(e.correctedQuery),this.endpoint=new m(e.navigationEndpoint||e.correctedQueryEndpoint)}};r(ep,"DidYouMean");ep.type="DidYouMean";var R0=ep;var tp=class extends n{constructor(e){super(),this.text=a.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};r(tp,"DynamicTextView");tp.type="DynamicTextView";var Gx=tp;var nr=class extends n{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)==null?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(s=>new nr(s)))}};r(nr,"ChildElement");nr.type="ChildElement";var Hx=nr;var ar=class extends n{constructor(e){var s;if(super(),Reflect.has(e,"elementRenderer"))return p.parseItem(e,ar);let i=e.newElement.type.componentType;this.model=p.parseItem(i==null?void 0:i.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=G(((s=e.newElement.childElements)==null?void 0:s.map(o=>new Hx(o)))||[]))}};r(ar,"Element");ar.type="Element";var jx=ar;var ip=class extends n{constructor(e){super(),this.title=new a(e.title),this.first_option=p.parseItem(e.firstOption),this.menu=p.parseItem(e.menu,R)}};r(ip,"EmergencyOnebox");ip.type="EmergencyOnebox";var M0=ip;var rp=class extends n{constructor(e){super(),this.category_id=e.categoryId,this.title=new a(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};r(rp,"EmojiPickerCategory");rp.type="EmojiPickerCategory";var L0=rp;var sp=class extends n{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),this.tooltip=e.tooltip}};r(sp,"EmojiPickerCategoryButton");sp.type="EmojiPickerCategoryButton";var B0=sp;var op=class extends n{constructor(e){super(),this.category_id=e.categoryId,this.title=new a(e.title),this.upsell=new a(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new m(e.command),this.emoji_ids=e.emojiIds}};r(op,"EmojiPickerUpsellCategory");op.type="EmojiPickerUpsellCategory";var D0=op;var yt,U1="playlist/get_add_to_playlist",np=class extends n{constructor(e){super(),yt.set(this,void 0),S(this,yt,e,"f")}getApiPath(){return U1}buildRequest(){let e={};return e.videoIds=u(this,yt,"f").videoIds?u(this,yt,"f").videoIds:[u(this,yt,"f").videoId],u(this,yt,"f").playlistId&&(e.playlistId=u(this,yt,"f").playlistId),u(this,yt,"f").params&&(e.params=u(this,yt,"f").params),e.excludeWatchLater=!!u(this,yt,"f").excludeWatchLater,e}};r(np,"AddToPlaylistServiceEndpoint");yt=new WeakMap;np.type="AddToPlaylistServiceEndpoint";var $x=np;var ap=class extends $x{constructor(e){super(e)}};r(ap,"AddToPlaylistEndpoint");ap.type="AddToPlaylistEndpoint";var O0=ap;var ge,F1="browse",cp=class extends n{constructor(e){super(),ge.set(this,void 0),S(this,ge,e,"f")}getApiPath(){return F1}buildRequest(){let e={};return u(this,ge,"f").browseId&&(e.browseId=u(this,ge,"f").browseId),u(this,ge,"f").params&&(e.params=u(this,ge,"f").params),u(this,ge,"f").query&&(e.query=u(this,ge,"f").query),u(this,ge,"f").browseId==="FEsubscriptions"&&(e.subscriptionSettingsState=u(this,ge,"f").subscriptionSettingsState||"MY_SUBS_SETTINGS_STATE_LAYOUT_FORMAT_LIST"),u(this,ge,"f").browseId==="SPaccount_playback"&&(e.formData=u(this,ge,"f").formData||{accountSettingsFormData:{flagCaptionsDefaultOff:!1,flagAutoCaptionsDefaultOn:!1,flagDisableInlinePreview:!1,flagAudioDescriptionDefaultOn:!1}}),u(this,ge,"f").browseId==="FEwhat_to_watch"&&(u(this,ge,"f").browseRequestSupportedMetadata&&(e.browseRequestSupportedMetadata=u(this,ge,"f").browseRequestSupportedMetadata),u(this,ge,"f").inlineSettingStatus&&(e.inlineSettingStatus=u(this,ge,"f").inlineSettingStatus)),e}};r(cp,"BrowseEndpoint");ge=new WeakMap;cp.type="BrowseEndpoint";var Y0=cp;var he,W1="comment/create_comment",pp=class extends n{constructor(e){super(),he.set(this,void 0),S(this,he,e,"f")}getApiPath(){return W1}buildRequest(){let e={};if(u(this,he,"f").createCommentParams&&(e.createCommentParams=u(this,he,"f").createCommentParams),u(this,he,"f").commentText&&(e.commentText=u(this,he,"f").commentText),u(this,he,"f").attachedVideoId?e.videoAttachment={videoId:u(this,he,"f").attachedVideoId}:u(this,he,"f").pollOptions?e.pollAttachment={choices:u(this,he,"f").pollOptions}:u(this,he,"f").imageBlobId?e.imageAttachment={encryptedBlobId:u(this,he,"f").imageBlobId}:u(this,he,"f").sharedPostId&&(e.sharedPostAttachment={postId:u(this,he,"f").sharedPostId}),u(this,he,"f").accessRestrictions&&typeof u(this,he,"f").accessRestrictions=="number"){let i=u(this,he,"f").accessRestrictions===1?"RESTRICTION_TYPE_EVERYONE":"RESTRICTION_TYPE_SPONSORS_ONLY";e.accessRestrictions={restriction:i}}return u(this,he,"f").botguardResponse&&(e.botguardResponse=u(this,he,"f").botguardResponse),e}};r(pp,"CreateCommentEndpoint");he=new WeakMap;pp.type="CreateCommentEndpoint";var V0=pp;var Me,G1="playlist/create",lp=class extends n{constructor(e){super(),Me.set(this,void 0),S(this,Me,e,"f")}getApiPath(){return G1}buildRequest(){let e={};return u(this,Me,"f").title&&(e.title=u(this,Me,"f").title),u(this,Me,"f").privacyStatus&&(e.privacyStatus=u(this,Me,"f").privacyStatus),u(this,Me,"f").description&&(e.description=u(this,Me,"f").description),u(this,Me,"f").videoIds&&(e.videoIds=u(this,Me,"f").videoIds),u(this,Me,"f").params&&(e.params=u(this,Me,"f").params),u(this,Me,"f").sourcePlaylistId&&(e.sourcePlaylistId=u(this,Me,"f").sourcePlaylistId),e}};r(lp,"CreatePlaylistServiceEndpoint");Me=new WeakMap;lp.type="CreatePlaylistServiceEndpoint";var U0=lp;var up,H1="playlist/delete",fp=class extends n{constructor(e){super(),up.set(this,void 0),S(this,up,e,"f")}getApiPath(){return H1}buildRequest(){let e={};return u(this,up,"f").playlistId&&(e.playlistId=u(this,up,"f").sourcePlaylistId),e}};r(fp,"DeletePlaylistEndpoint");up=new WeakMap;fp.type="DeletePlaylistEndpoint";var F0=fp;var ei,j1="feedback",mp=class extends n{constructor(e){super(),ei.set(this,void 0),S(this,ei,e,"f")}getApiPath(){return j1}buildRequest(){let e={};return u(this,ei,"f").feedbackToken&&(e.feedbackTokens=[u(this,ei,"f").feedbackToken]),u(this,ei,"f").cpn&&(e.feedbackContext={cpn:u(this,ei,"f").cpn}),e.isFeedbackTokenUnencrypted=!!u(this,ei,"f").isFeedbackTokenUnencrypted,e.shouldMerge=!!u(this,ei,"f").shouldMerge,e}};r(mp,"FeedbackEndpoint");ei=new WeakMap;mp.type="FeedbackEndpoint";var W0=mp;var pe,$1="account/accounts_list",hp=class extends n{constructor(e){super(),pe.set(this,void 0),S(this,pe,e,"f")}getApiPath(){return $1}buildRequest(){let e={};return u(this,pe,"f").requestType&&(e.requestType=u(this,pe,"f").requestType,(u(this,pe,"f").requestType==="ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER"||u(this,pe,"f").requestType==="ACCOUNTS_LIST_REQUEST_TYPE_IDENTITY_PROMPT")&&u(this,pe,"f").nextUrl&&(e.nextNavendpoint={urlEndpoint:{url:u(this,pe,"f").nextUrl}})),u(this,pe,"f").channelSwitcherQuery&&(e.channelSwitcherQuery=u(this,pe,"f").channelSwitcherQuery),u(this,pe,"f").triggerChannelCreation&&(e.triggerChannelCreation=u(this,pe,"f").triggerChannelCreation),u(this,pe,"f").contentOwnerConfig&&u(this,pe,"f").contentOwnerConfig.externalContentOwnerId&&(e.contentOwnerConfig=u(this,pe,"f").contentOwnerConfig),u(this,pe,"f").obfuscatedSelectedGaiaId&&(e.obfuscatedSelectedGaiaId=u(this,pe,"f").obfuscatedSelectedGaiaId),u(this,pe,"f").selectedSerializedDelegationContext&&(e.selectedSerializedDelegationContext=u(this,pe,"f").selectedSerializedDelegationContext),u(this,pe,"f").callCircumstance&&(e.callCircumstance=u(this,pe,"f").callCircumstance),e}};r(hp,"GetAccountsListInnertubeEndpoint");pe=new WeakMap;hp.type="GetAccountsListInnertubeEndpoint";var G0=hp;var dp=class extends n{constructor(e){super(),this.panel_identifier=e.panelIdentifier}};r(dp,"HideEngagementPanelEndpoint");dp.type="HideEngagementPanelEndpoint";var H0=dp;var bt,q1="like/like",K1="like/dislike",z1="like/removelike",_p=class extends n{constructor(e){super(),bt.set(this,void 0),S(this,bt,e,"f")}getApiPath(){return u(this,bt,"f").status==="DISLIKE"?K1:u(this,bt,"f").status==="INDIFFERENT"?z1:q1}buildRequest(){let e={};u(this,bt,"f").target&&(e.target=u(this,bt,"f").target);let i=this.getParams();return i&&(e.params=i),e}getParams(){switch(u(this,bt,"f").status){case"LIKE":return u(this,bt,"f").likeParams;case"DISLIKE":return u(this,bt,"f").dislikeParams;case"INDIFFERENT":return u(this,bt,"f").removeLikeParams;default:return}}};r(_p,"LikeEndpoint");bt=new WeakMap;_p.type="LikeEndpoint";var j0=_p;var xp,X1="live_chat/get_item_context_menu",yp=class extends n{constructor(e){super(),xp.set(this,void 0),S(this,xp,e,"f")}getApiPath(){return X1}buildRequest(){let e={};return u(this,xp,"f").params&&(e.params=u(this,xp,"f").params),e}};r(yp,"LiveChatItemContextMenuEndpoint");xp=new WeakMap;yp.type="LiveChatItemContextMenuEndpoint";var $0=yp;var cr,Q1="notification/modify_channel_preference",bp=class extends n{constructor(e){super(),cr.set(this,void 0),S(this,cr,e,"f")}getApiPath(){return Q1}buildRequest(){let e={};return u(this,cr,"f").params&&(e.params=u(this,cr,"f").params),u(this,cr,"f").secondaryParams&&(e.secondaryParams=u(this,cr,"f").secondaryParams),e}};r(bp,"ModifyChannelNotificationPreferenceEndpoint");cr=new WeakMap;bp.type="ModifyChannelNotificationPreferenceEndpoint";var q0=bp;var pr,J1="comment/perform_comment_action",gp=class extends n{constructor(e){super(),pr.set(this,void 0),S(this,pr,e,"f")}getApiPath(){return J1}buildRequest(){let e={};return u(this,pr,"f").actions&&(e.actions=u(this,pr,"f").actions),u(this,pr,"f").action&&(e.actions=[u(this,pr,"f").action]),e}};r(gp,"PerformCommentActionEndpoint");pr=new WeakMap;gp.type="PerformCommentActionEndpoint";var K0=gp;var ti,Z1="browse/edit_playlist",wp=class extends n{constructor(e){super(),ti.set(this,void 0),S(this,ti,e,"f")}getApiPath(){return Z1}buildRequest(){let e={};return u(this,ti,"f").actions&&(e.actions=u(this,ti,"f").actions),u(this,ti,"f").playlistId&&(e.playlistId=u(this,ti,"f").playlistId),u(this,ti,"f").params&&(e.params=u(this,ti,"f").params),e}};r(wp,"PlaylistEditEndpoint");ti=new WeakMap;wp.type="PlaylistEditEndpoint";var z0=wp;var fe,eC="player",Tp=class extends n{constructor(e){super(),fe.set(this,void 0),S(this,fe,e,"f")}getApiPath(){return eC}buildRequest(){let e={};return u(this,fe,"f").videoId&&(e.videoId=u(this,fe,"f").videoId),u(this,fe,"f").playlistId&&(e.playlistId=u(this,fe,"f").playlistId),(u(this,fe,"f").index!==void 0||u(this,fe,"f").playlistIndex!==void 0)&&(e.playlistIndex=u(this,fe,"f").index||u(this,fe,"f").playlistIndex),(u(this,fe,"f").playerParams||u(this,fe,"f").params)&&(e.params=u(this,fe,"f").playerParams||u(this,fe,"f").params),u(this,fe,"f").startTimeSeconds&&(e.startTimeSecs=u(this,fe,"f").startTimeSeconds),u(this,fe,"f").overrideMutedAtStart&&(e.overrideMutedAtStart=u(this,fe,"f").overrideMutedAtStart),e.racyCheckOk=!!u(this,fe,"f").racyCheckOk,e.contentCheckOk=!!u(this,fe,"f").contentCheckOk,e}};r(Tp,"WatchEndpoint");fe=new WeakMap;Tp.type="WatchEndpoint";var qx=Tp;var vp=class extends qx{constructor(e){super(e)}};r(vp,"PrefetchWatchCommand");vp.type="PrefetchWatchCommand";var X0=vp;var ke,tC="reel/reel_item_watch",Ip=class extends n{constructor(e){super(),ke.set(this,void 0),S(this,ke,e,"f")}getApiPath(){return tC}buildRequest(){let e={};return u(this,ke,"f").videoId&&(e.playerRequest={videoId:u(this,ke,"f").videoId}),e.playerRequest&&(u(this,ke,"f").playerParams&&(e.playerRequest.params=u(this,ke,"f").playerParams),u(this,ke,"f").racyCheckOk&&(e.playerRequest.racyCheckOk=!!u(this,ke,"f").racyCheckOk),u(this,ke,"f").contentCheckOk&&(e.playerRequest.contentCheckOk=!!u(this,ke,"f").contentCheckOk)),u(this,ke,"f").params&&(e.params=u(this,ke,"f").params),u(this,ke,"f").inputType&&(e.inputType=u(this,ke,"f").inputType),e.disablePlayerResponse=!!u(this,ke,"f").disablePlayerResponse,e}};r(Ip,"ReelWatchEndpoint");ke=new WeakMap;Ip.type="ReelWatchEndpoint";var Q0=Ip;var gt,iC="search",Sp=class extends n{constructor(e){super(),gt.set(this,void 0),S(this,gt,e,"f")}getApiPath(){return iC}buildRequest(){let e={};return u(this,gt,"f").query&&(e.query=u(this,gt,"f").query),u(this,gt,"f").params&&(e.params=u(this,gt,"f").params),u(this,gt,"f").webSearchboxStatsUrl&&(e.webSearchboxStatsUrl=u(this,gt,"f").webSearchboxStatsUrl),u(this,gt,"f").suggestStats&&(e.suggestStats=u(this,gt,"f").suggestStats),e}};r(Sp,"SearchEndpoint");gt=new WeakMap;Sp.type="SearchEndpoint";var J0=Sp;var lr,rC="share/get_share_panel",kp=class extends n{constructor(e){super(),lr.set(this,void 0),S(this,lr,e,"f")}getApiPath(){return rC}buildRequest(){let e={};return u(this,lr,"f").serializedShareEntity&&(e.serializedSharedEntity=u(this,lr,"f").serializedShareEntity),u(this,lr,"f").clientParams&&(e.clientParams=u(this,lr,"f").clientParams),e}};r(kp,"ShareEntityServiceEndpoint");lr=new WeakMap;kp.type="ShareEntityServiceEndpoint";var as=kp;var Ep=class extends as{constructor(e){super(e)}};r(Ep,"ShareEndpoint");Ep.type="ShareEndpoint";var Z0=Ep;var Cp=class extends as{constructor(e){super(e)}};r(Cp,"ShareEntityEndpoint");Cp.type="ShareEntityEndpoint";var ev=Cp;var Pp=class extends n{constructor(e){super(),this.panel_identifier=e.panelIdentifier,this.source_panel_identifier=e.sourcePanelIdentifier}};r(Pp,"ShowEngagementPanelEndpoint");Pp.type="ShowEngagementPanelEndpoint";var tv=Pp;var Np=class extends n{constructor(e){super(),Array.isArray(e.actions)&&(this.actions=p.parseArray(e.actions.map(i=>(delete i.clickTrackingParams,i)))),this.signal=e.signal}};r(Np,"SignalServiceEndpoint");Np.type="SignalServiceEndpoint";var iv=Np;var Je,sC="subscription/subscribe",Ap=class extends n{constructor(e){super(),Je.set(this,void 0),S(this,Je,e,"f")}getApiPath(){return sC}buildRequest(){let e={};return u(this,Je,"f").channelIds&&(e.channelIds=u(this,Je,"f").channelIds),u(this,Je,"f").siloName&&(e.siloName=u(this,Je,"f").siloName),u(this,Je,"f").params&&(e.params=u(this,Je,"f").params),u(this,Je,"f").botguardResponse&&(e.botguardResponse=u(this,Je,"f").botguardResponse),u(this,Je,"f").feature&&(e.clientFeature=u(this,Je,"f").feature),e}};r(Ap,"SubscribeEndpoint");Je=new WeakMap;Ap.type="SubscribeEndpoint";var rv=Ap;var ii,oC="subscription/unsubscribe",Rp=class extends n{constructor(e){super(),ii.set(this,void 0),S(this,ii,e,"f")}getApiPath(){return oC}buildRequest(){let e={};return u(this,ii,"f").channelIds&&(e.channelIds=u(this,ii,"f").channelIds),u(this,ii,"f").siloName&&(e.siloName=u(this,ii,"f").siloName),u(this,ii,"f").params&&(e.params=u(this,ii,"f").params),e}};r(Rp,"UnsubscribeEndpoint");ii=new WeakMap;Rp.type="UnsubscribeEndpoint";var sv=Rp;var ve,nC="next",Mp=class extends n{constructor(e){super(),ve.set(this,void 0),S(this,ve,e,"f")}getApiPath(){return nC}buildRequest(){let e={};return u(this,ve,"f").videoId&&(e.videoId=u(this,ve,"f").videoId),u(this,ve,"f").playlistId&&(e.playlistId=u(this,ve,"f").playlistId),(u(this,ve,"f").index!==void 0||u(this,ve,"f").playlistIndex!==void 0)&&(e.playlistIndex=u(this,ve,"f").index||u(this,ve,"f").playlistIndex),(u(this,ve,"f").playerParams||u(this,ve,"f").params)&&(e.params=u(this,ve,"f").playerParams||u(this,ve,"f").params),e.racyCheckOk=!!u(this,ve,"f").racyCheckOk,e.contentCheckOk=!!u(this,ve,"f").contentCheckOk,e}};r(Mp,"WatchNextEndpoint");ve=new WeakMap;Mp.type="WatchNextEndpoint";var ov=Mp;var Lp=class extends n{constructor(e){super(),this.elements=p.parseArray(e.elements),this.start_ms=e.startMs}};r(Lp,"Endscreen");Lp.type="Endscreen";var Kx=Lp;var Bp=class extends n{constructor(e){super(),this.style=e.style,this.title=new a(e.title),this.endpoint=new m(e.endpoint),Reflect.has(e,"image")&&(this.image=y.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=y.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new a(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new a(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=p.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new a(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};r(Bp,"EndscreenElement");Bp.type="EndscreenElement";var nv=Bp;var Dp=class extends n{constructor(e){super(),this.id=e.playlistId,this.title=new a(e.title),this.author=new a(e.longBylineText),this.endpoint=new m(e.navigationEndpoint),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new a(e.videoCountText)}};r(Dp,"EndScreenPlaylist");Dp.type="EndScreenPlaylist";var zx=Dp;var Op=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new a(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.author=new P(e.shortBylineText,e.ownerBadges),this.endpoint=new m(e.navigationEndpoint),this.short_view_count=new a(e.shortViewCountText),this.badges=p.parseArray(e.badges),this.duration={text:new a(e.lengthText).toString(),seconds:e.lengthInSeconds}}};r(Op,"EndScreenVideo");Op.type="EndScreenVideo";var Xx=Op;var Yp=class extends n{constructor(e){super(),this.title=e.title,this.endpoint=new m(e.endpoint),this.selected=e.selected,this.content=p.parseItem(e.content)}};r(Yp,"ExpandableTab");Yp.type="ExpandableTab";var ur=Yp;var Vp=class extends n{constructor(e){super(),this.items=p.parseArray(e.items)}get contents(){return this.items}};r(Vp,"ExpandedShelfContents");Vp.type="ExpandedShelfContents";var av=Vp;var Up=class extends n{constructor(e){super(),this.dialog_message=new a(e.dialogMessage),this.confirm_label=new a(e.confirmLabel)}};r(Up,"FancyDismissibleDialog");Up.type="FancyDismissibleDialog";var cv=Up;var Fp=class extends n{constructor(e){super(),this.contents=p.parseArray(e.contents,He)}};r(Fp,"FeedFilterChipBar");Fp.type="FeedFilterChipBar";var wt=Fp;var Wp=class extends n{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.endpoint=new m(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};r(Wp,"FeedNudge");Wp.type="FeedNudge";var pv=Wp;var Gp=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(Gp,"FeedTabbedHeader");Gp.type="FeedTabbedHeader";var Qx=Gp;var Hp=class extends n{constructor(e){super(),this.title=new a(e.title),this.box_art=y.fromResponse(e.boxArt),this.box_art_overlay_text=new a(e.boxArtOverlayText),this.endpoint=new m(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};r(Hp,"GameDetails");Hp.type="GameDetails";var lv=Hp;var jp=class extends n{constructor(e){var i,s,o;super(),this.items=p.parseArray(e.items),Reflect.has(e,"header")&&(this.header=p.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||null}get contents(){return this.items}};r(jp,"Grid");jp.type="Grid";var uv=jp;var $p=class extends n{constructor(e){super(),this.id=e.channelId,this.author=new P({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new a(e.subscriberCountText),this.video_count=new a(e.videoCountText),this.endpoint=new m(e.navigationEndpoint),this.subscribe_button=p.parseItem(e.subscribeButton)}};r($p,"GridChannel");$p.type="GridChannel";var Jx=$p;var qp=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(qp,"GridHeader");qp.type="GridHeader";var fv=qp;var Kp=class extends n{constructor(e){var i,s;super(),this.id=e.playlistId,this.title=new a(e.title),this.author=(i=e.shortBylineText)!=null&&i.simpleText?new a(e.shortBylineText):(s=e.longBylineText)!=null&&s.simpleText?new a(e.longBylineText):null,this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new a(e.videoCountText),this.video_count_short=new a(e.videoCountShortText),this.endpoint=new m(e.navigationEndpoint),this.secondary_endpoint=new m(e.secondaryNavigationEndpoint),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays)}};r(Kp,"GridMix");Kp.type="GridMix";var mv=Kp;var zp=class extends n{constructor(e){var s;super();let i=(s=e.thumbnailOverlays.find(o=>o.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:s.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new a(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.duration=e.lengthText?new a(e.lengthText):i!=null&&i.text?new a(i.text):null,this.endpoint=new m(e.navigationEndpoint),this.badges=p.parseArray(e.badges,Ge),this.metadata=new a(e.metadata),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays)}};r(zp,"GridMovie");zp.type="GridMovie";var hv=zp;var Xp=class extends n{constructor(e){var i;super(),this.id=e.playlistId,this.title=new a(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new P(e.shortBylineText,e.ownerBadges)),this.badges=p.parseArray(e.ownerBadges),this.endpoint=new m(e.navigationEndpoint),this.view_playlist=new a(e.viewPlaylistText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_renderer=p.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)==null?void 0:i.map(s=>y.fromResponse(s)))||[])||null,this.video_count=new a(e.thumbnailText),this.video_count_short=new a(e.videoCountShortText)}};r(Xp,"GridPlaylist");Xp.type="GridPlaylist";var Zx=Xp;var Qp=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Qp,"ShowCustomThumbnail");Qp.type="ShowCustomThumbnail";var ey=Qp;var Jp=class extends n{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new a(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};r(Jp,"ThumbnailOverlayBottomPanel");Jp.type="ThumbnailOverlayBottomPanel";var ty=Jp;var Zp=class extends n{constructor(e){super(),this.title=new a(e.title),this.thumbnail_renderer=K(e.thumbnailRenderer,ey),this.endpoint=new m(e.navigationEndpoint),this.long_byline_text=new a(e.longBylineText),this.thumbnail_overlays=Ee(e.thumbnailOverlays,ty),this.author=new P(e.shortBylineText,void 0)}};r(Zp,"GridShow");Zp.type="GridShow";var dv=Zp;var el=class extends n{constructor(e){var s,o;super();let i=(s=e.thumbnailOverlays.find(c=>c.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:s.thumbnailOverlayTimeStatusRenderer;this.video_id=e.videoId,this.title=new a(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.rich_thumbnail=p.parseItem(e.richThumbnail),this.published=new a(e.publishedTimeText),this.duration=e.lengthText?new a(e.lengthText):i!=null&&i.text?new a(i.text):null,this.author=e.shortBylineText&&new P(e.shortBylineText,e.ownerBadges),this.views=new a(e.viewCountText),this.short_view_count=new a(e.shortViewCountText),this.endpoint=new m(e.navigationEndpoint),this.menu=p.parseItem(e.menu,R),Reflect.has(e,"buttons")&&(this.buttons=p.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new a(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!((o=e.upcomingEventData)!=null&&o.isReminderSet))}get id(){return this.video_id}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};r(el,"GridVideo");el.type="GridVideo";var iy=el;var tl=class extends n{constructor(e){super(),this.title=new a(e.formattedTitle),this.endpoint=new m(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=y.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};r(tl,"GuideEntry");tl.type="GuideEntry";var fr=tl;var il=class extends n{constructor(e){super(),this.expander_item=K(e.expanderItem,fr),this.collapser_item=K(e.collapserItem,fr),this.expandable_items=Ee(e.expandableItems)}};r(il,"GuideCollapsibleEntry");il.type="GuideCollapsibleEntry";var _v=il;var rl=class extends n{constructor(e){super(),this.header_entry=K(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=Ee(e.sectionItems)}};r(rl,"GuideCollapsibleSectionEntry");rl.type="GuideCollapsibleSectionEntry";var xv=rl;var sl=class extends fr{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};r(sl,"GuideDownloadsEntry");sl.type="GuideDownloadsEntry";var yv=sl;var ol=class extends n{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new a(e.formattedTitle)),this.items=Ee(e.items)}};r(ol,"GuideSection");ol.type="GuideSection";var cs=ol;var nl=class extends cs{};r(nl,"GuideSubscriptionsSection");nl.type="GuideSubscriptionsSection";var ry=nl;var al=class extends n{constructor(e){super(),this.hashtag=new a(e.hashtag),this.hashtag_info=new a(e.hashtagInfoText)}};r(al,"HashtagHeader");al.type="HashtagHeader";var sy=al;var cl=class extends n{constructor(e){super(),this.hashtag=new a(e.hashtag),this.hashtag_info_text=new a(e.hashtagInfoText),this.hashtag_thumbnail=y.fromResponse(e.hashtagThumbnail),this.endpoint=new m(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new a(e.hashtagVideoCount),this.hashtag_channel_count=new a(e.hashtagChannelCount)}};r(cl,"HashtagTile");cl.type="HashtagTile";var bv=cl;var pl=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new m(e.onTap)}};r(pl,"HeroPlaylistThumbnail");pl.type="HeroPlaylistThumbnail";var gv=pl;var ll=class extends n{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:y.fromResponse(e.thumbnail.image),endpoint:new m(e.thumbnail.onTap),on_long_press_endpoint:new m(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:y.fromResponse(e.backgroundImage.image),gradient_image:y.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new m(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new m(e.textOnTap)}};r(ll,"Panel");ll.type="Panel";var ul=class extends n{constructor(e){super(),this.panels=G(e.highlightsCarousel.panels.map(i=>new ll(i)))}};r(ul,"HighlightsCarousel");ul.type="HighlightsCarousel";var wv=ul;var fl=class extends n{constructor(e){super(),this.suggestion=new a(e.suggestion),this.endpoint=new m(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new m(e.serviceEndpoint))}};r(fl,"SearchSuggestion");fl.type="SearchSuggestion";var oy=fl;var ml=class extends oy{constructor(e){super(e)}};r(ml,"HistorySuggestion");ml.type="HistorySuggestion";var Tv=ml;var hl=class extends n{constructor(e){super(),this.items=p.parseArray(e.items),this.previous_button=p.parseItem(e.previousButton,T),this.next_button=p.parseItem(e.nextButton,T)}get contents(){return this.items}};r(hl,"HorizontalMovieList");hl.type="HorizontalMovieList";var vv=hl;var dl=class extends n{constructor(e){var i;super(),this.icon_type=(i=e.icon)==null?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new a(e.tooltip).toString()),this.endpoint=new m(e.navigationEndpoint)}};r(dl,"IconLink");dl.type="IconLink";var ny=dl;var _l=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};r(_l,"ImageBannerView");_l.type="ImageBannerView";var ay=_l;var xl=class extends n{constructor(e){super(),this.including_results_for=new a(e.includingResultsFor),this.corrected_query=new a(e.correctedQuery),this.corrected_query_endpoint=new m(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new a(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new a(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new m(e.originalQueryEndpoint):void 0}};r(xl,"IncludingResultsFor");xl.type="IncludingResultsFor";var Iv=xl;var yl=class extends n{constructor(e){super(),this.title=new a(e.title),this.source=new a(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(i=>new a(i))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(i=>a.fromAttributed(i))),this.thumbnail=y.fromResponse(e.thumbnail),this.source_endpoint=new m(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};r(yl,"InfoPanelContent");yl.type="InfoPanelContent";var cy=yl;var bl=class extends n{constructor(e){var i;super(),this.title=new a(e.title),this.menu=p.parseItem(e.menu,R),this.content=p.parseItem(e.content,cy),e.headerEndpoint&&(this.header_endpoint=new m(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType)}};r(bl,"InfoPanelContainer");bl.type="InfoPanelContainer";var py=bl;var gl=class extends n{constructor(e){super(),this.header_type=e.type,this.title=new a(e.title),this.description=new a(e.description),this.metadata=new a(e.metadata),this.badges=p.parseArray(e.badges,Ge),this.box_art=y.fromResponse(e.boxArt),this.banner=y.fromResponse(e.banner),this.buttons=p.parseArray(e.buttons,[me,T]),this.auto_generated=new a(e.autoGenerated)}};r(gl,"InteractiveTabbedHeader");gl.type="InteractiveTabbedHeader";var ly=gl;var wl=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(wl,"ItemSectionHeader");wl.type="ItemSectionHeader";var ps=wl;var Tl=class extends n{constructor(e){super(),this.title=new a(e.title),this.selected=!!e.selected,this.endpoint=new m(e.endpoint)}};r(Tl,"ItemSectionTab");Tl.type="Tab";var uy=Tl;var vl=class extends n{constructor(e){super(),this.title=new a(e.title),this.tabs=p.parseArray(e.tabs,uy),Reflect.has(e,"endItems")&&(this.end_items=p.parseArray(e.endItems))}};r(vl,"ItemSectionTabbedHeader");vl.type="ItemSectionTabbedHeader";var ls=vl;var Il=class extends n{constructor(e){super(),this.filter_menu=p.parseItem(e.filterMenu,mr.SortFilterSubMenu)}};r(Il,"SortFilterHeader");Il.type="SortFilterHeader";var fy=Il;var Sl=class extends n{constructor(e){var i,s,o;super(),this.header=p.parseItem(e.header,[Ni,ps,ls,fy,wt]),this.contents=p.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(o=(s=(i=e.continuations)==null?void 0:i.at(0))==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)}};r(Sl,"ItemSection");Sl.type="ItemSection";var Tt=Sl;var kl=class extends n{constructor(e){var i,s;super(),this.header=p.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(s=(i=e.continuations[0])==null?void 0:i.reloadContinuationData)==null?void 0:s.continuation,this.client_messages={reconnect_message:new a(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new a(e.clientMessages.unableToReconnectMessage),fatal_error:new a(e.clientMessages.fatalError),reconnected_message:new a(e.clientMessages.reconnectedMessage),generic_error:new a(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};r(kl,"LiveChat");kl.type="LiveChat";var my=kl;var El=class extends n{constructor(e){super(),this.text=new a(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=p.parseItem(e.contextMenuButton,T)}};r(El,"LiveChatBannerHeader");El.type="LiveChatBannerHeader";var hy=El;var Cl=class extends n{constructor(e){super(),this.header=p.parseItem(e.header,hy),this.contents=p.parseItem(e.contents),this.action_id=e.actionId,Reflect.has(e,"viewerIsCreator")&&(this.viewer_is_creator=e.viewerIsCreator),this.target_id=e.targetId,this.is_stackable=e.isStackable,Reflect.has(e,"backgroundType")&&(this.background_type=e.backgroundType),this.banner_type=e.bannerType,Reflect.has(e,"bannerProperties")&&Reflect.has(e.bannerProperties,"isEphemeral")&&(this.banner_properties_is_ephemeral=Boolean(e.bannerProperties.isEphemeral)),Reflect.has(e,"bannerProperties")&&Reflect.has(e.bannerProperties,"autoCollapseDelay")&&Reflect.has(e.bannerProperties.autoCollapseDelay,"seconds")&&(this.banner_properties_auto_collapse_delay_seconds=e.bannerProperties.autoCollapseDelay.seconds)}};r(Cl,"LiveChatBanner");Cl.type="LiveChatBanner";var dy=Cl;var Pl=class extends n{constructor(e){super(),this.banner=p.parseItem(e.bannerRenderer,dy)}};r(Pl,"AddBannerToLiveChatCommand");Pl.type="AddBannerToLiveChatCommand";var Sv=Pl;var Nl=class extends n{constructor(e){super(),this.item=p.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};r(Nl,"AddChatItemAction");Nl.type="AddChatItemAction";var _y=Nl;var Al=class extends n{constructor(e){super(),this.item=p.parseItem(e.item),this.duration_sec=e.durationSec}};r(Al,"AddLiveChatTickerItemAction");Al.type="AddLiveChatTickerItemAction";var kv=Al;var Rl=class extends n{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};r(Rl,"DimChatItemAction");Rl.type="DimChatItemAction";var Ev=Rl;var Ml=class extends n{constructor(e){super(),this.text=a.fromAttributed(e.text),this.image_name=e.image.sources[0].clientResource.imageName,this.image_color=e.image.sources[0].clientResource.imageColor}};r(Ml,"BumperUserEduContentView");Ml.type="BumperUserEduContentView";var xy=Ml;var Ll=class extends n{constructor(e){super(),this.creator_thumbnail=y.fromResponse(e.creatorThumbnail),this.hearted_icon_name=e.heartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_name=e.unheartedIcon.sources[0].clientResource.imageName,this.unhearted_icon_processor={border_image_processor:{image_tint:{color:e.unheartedIcon.processor.borderImageProcessor.imageTint.color}}},this.hearted_hover_text=e.heartedHoverText,this.hearted_accessibility_label=e.heartedAccessibilityLabel,this.unhearted_accessibility_label=e.unheartedAccessibilityLabel,this.engagement_state_key=e.engagementStateKey}};r(Ll,"CreatorHeartView");Ll.type="CreatorHeartView";var yy=Ll;var Bl=class extends n{constructor(e){super(),this.menu_endpoint=new m(e.contextMenuEndpoint),this.moderation_buttons=p.parseArray(e.moderationButtons,T),this.auto_moderated_item=p.parseItem(e.autoModeratedItem),this.header_text=new a(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};r(Bl,"LiveChatAutoModMessage");Bl.type="LiveChatAutoModMessage";var Cv=Bl;var Dl=class extends n{constructor(e){super(),this.id=e.liveChatSummaryId,this.chat_summary=new a(e.chatSummary),this.icon_type=e.icon.iconType,this.like_feedback_button=p.parseItem(e.likeFeedbackButton,Qe),this.dislike_feedback_button=p.parseItem(e.dislikeFeedbackButton,Qe)}};r(Dl,"LiveChatBannerChatSummary");Dl.type="LiveChatBannerChatSummary";var Pv=Dl;var Ol=class extends n{constructor(e){super(),this.poll_question=new a(e.pollQuestion),this.author_photo=y.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new a(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=p.parseItem(e.contextMenuButton,T)}};r(Ol,"LiveChatBannerPoll");Ol.type="LiveChatBannerPoll";var Nv=Ol;var Yl=class extends n{constructor(e){super(),this.banner_message=new a(e.bannerMessage),this.author_photo=y.fromResponse(e.authorPhoto),this.inline_action_button=p.parseItem(e.inlineActionButton,T),this.context_menu_button=p.parseItem(e.contextMenuButton,T)}};r(Yl,"LiveChatBannerRedirect");Yl.type="LiveChatBannerRedirect";var Av=Yl;var Vl=class extends n{constructor(e){super(),this.content=p.parseItem(e.content,xy)}};r(Vl,"LiveChatItemBumperView");Vl.type="LiveChatItemBumperView";var by=Vl;var Ul=class extends n{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new a(e.timestampText)),Reflect.has(e,"headerPrimaryText")&&(this.header_primary_text=new a(e.headerPrimaryText)),this.header_subtext=new a(e.headerSubtext),Reflect.has(e,"message")&&(this.message=new a(e.message)),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new m(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}};r(Ul,"LiveChatMembershipItem");Ul.type="LiveChatMembershipItem";var Rv=Ul;var Fl=class extends n{constructor(e){super(),this.id=e.id,this.icon_type=e.icon.iconType,this.text=new a(e.text),this.subtext=new a(e.subtext),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,this.timestamp_text=new a(e.timestampText)}};r(Fl,"LiveChatModeChangeMessage");Fl.type="LiveChatModeChangeMessage";var Mv=Fl;var Wl=class extends n{constructor(e){super(),this.reply_button=p.parseItem(e.replyButton,X),this.reply_count_entity_key=e.replyCountEntityKey,this.reply_count_placeholder=a.fromAttributed(e.replyCountPlaceholder)}};r(Wl,"PdgReplyButtonView");Wl.type="PdgReplyButtonView";var gy=Wl;var Gl=class extends n{constructor(e){super(),this.id=e.id,this.message=new a(e.message),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.author_name_text_color=e.authorNameTextColor,this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new a(e.purchaseAmountText).toString(),this.menu_endpoint=new m(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new a(e.timestampText).toString()),this.timestamp_color=e.timestampColor,Reflect.has(e,"headerOverlayImage")&&(this.header_overlay_image=y.fromResponse(e.headerOverlayImage)),this.text_input_background_color=e.textInputBackgroundColor,this.lower_bumper=p.parseItem(e.lowerBumper,by),this.creator_heart_button=p.parseItem(e.creatorHeartButton,yy),this.is_v2_style=e.isV2Style,this.reply_button=p.parseItem(e.replyButton,gy)}};r(Gl,"LiveChatPaidMessage");Gl.type="LiveChatPaidMessage";var Lv=Gl;var Hl=class extends n{constructor(e){super(),this.id=e.id,this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=y.fromResponse(e.sticker),this.sticker_accessibility_label=e.sticker.accessibility.accessibilityData.label,this.sticker_display_width=e.stickerDisplayWidth,this.sticker_display_height=e.stickerDisplayHeight,this.purchase_amount=new a(e.purchaseAmountText).toString(),this.menu_endpoint=new m(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,this.is_v2_style=e.isV2Style}};r(Hl,"LiveChatPaidSticker");Hl.type="LiveChatPaidSticker";var Bv=Hl;var jl=class extends n{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};r(jl,"LiveChatPlaceholderItem");jl.type="LiveChatPlaceholderItem";var Dv=jl;var $l=class extends n{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=p.parseItem(e.informationButton),this.endpoint=new m(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=y.fromResponse(e.authorPhoto),this.information_dialog=p.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new a(e.creatorCustomMessage)}};r($l,"LiveChatProductItem");$l.type="LiveChatProductItem";var Ov=$l;var ql=class extends n{constructor(e){super(),this.message=new a(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};r(ql,"LiveChatRestrictedParticipation");ql.type="LiveChatRestrictedParticipation";var Yv=ql;var Kl=class extends Ge{constructor(e){super(e),this.custom_thumbnail=y.fromResponse(e.customThumbnail)}};r(Kl,"LiveChatAuthorBadge");Kl.type="LiveChatAuthorBadge";var wy=Kl;var zl=class extends n{constructor(e){super(),this.author_name=new a(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.author_badges=p.parseArray(e.authorBadges,wy),this.primary_text=new a(e.primaryText),this.menu_endpoint=new m(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.image=y.fromResponse(e.image)}};r(zl,"LiveChatSponsorshipsHeader");zl.type="LiveChatSponsorshipsHeader";var Ty=zl;var Xl=class extends n{constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.author_external_channel_id=e.authorExternalChannelId,this.header=p.parseItem(e.header,Ty)}};r(Xl,"LiveChatSponsorshipsGiftPurchaseAnnouncement");Xl.type="LiveChatSponsorshipsGiftPurchaseAnnouncement";var Vv=Xl;var Ql=class extends n{constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.timestamp_text=new a(e.timestampText),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.message=new a(e.message),this.menu_endpoint=new m(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}};r(Ql,"LiveChatSponsorshipsGiftRedemptionAnnouncement");Ql.type="LiveChatSponsorshipsGiftRedemptionAnnouncement";var Uv=Ql;var Jl=class extends n{constructor(e){super(),this.id=e.id,this.message=new a(e.message),this.inline_action_buttons=p.parseArray(e.inlineActionButtons,T),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new a(e.timestampText).toString()),this.author=new P(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),Reflect.has(e,"contextMenuEndpoint")&&(this.menu_endpoint=new m(e.contextMenuEndpoint)),Reflect.has(e,"contextMenuAccessibility")&&Reflect.has(e.contextMenuAccessibility,"accessibilityData")&&Reflect.has(e.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label),this.before_content_buttons=p.parseArray(e.beforeContentButtons,X)}};r(Jl,"LiveChatTextMessage");Jl.type="LiveChatTextMessage";var Fv=Jl;var Zl=class extends n{constructor(e){var i,s;super(),this.id=e.id,this.author=new P(e.authorName||e.authorUsername,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),Reflect.has(e,"amount")&&(this.amount=new a(e.amount)),this.amount_text_color=e.amountTextColor,this.start_background_color=e.startBackgroundColor,this.end_background_color=e.endBackgroundColor,this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=p.parseItem((s=(i=e.showItemEndpoint)==null?void 0:i.showLiveChatItemEndpoint)==null?void 0:s.renderer),this.show_item_endpoint=new m(e.showItemEndpoint),this.animation_origin=e.animationOrigin,this.open_engagement_panel_command=new m(e.openEngagementPanelCommand)}};r(Zl,"LiveChatTickerPaidMessageItem");Zl.type="LiveChatTickerPaidMessageItem";var Wv=Zl;var eu=class extends n{constructor(e){var i,s;super(),this.id=e.id,this.author_external_channel_id=e.authorExternalChannelId,this.author_photo=y.fromResponse(e.authorPhoto),this.start_background_color=e.startBackgroundColor,this.end_background_color=e.endBackgroundColor,this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=p.parseItem((s=(i=e.showItemEndpoint)==null?void 0:i.showLiveChatItemEndpoint)==null?void 0:s.renderer),this.show_item_endpoint=new m(e.showItemEndpoint),this.ticker_thumbnails=e.tickerThumbnails.map(o=>{var c,l;return{thumbnails:y.fromResponse(o),label:(l=(c=o==null?void 0:o.accessibility)==null?void 0:c.accessibilityData)==null?void 0:l.label}})}};r(eu,"LiveChatTickerPaidStickerItem");eu.type="LiveChatTickerPaidStickerItem";var Gv=eu;var tu=class extends n{constructor(e){super(),this.id=e.id,this.detail=new a(e.detailText),this.author=new P(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};r(tu,"LiveChatTickerSponsorItem");tu.type="LiveChatTickerSponsorItem";var Hv=tu;var iu=class extends n{constructor(e){super(),this.id=e.id,Reflect.has(e,"timestampUsec")&&(this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.message=new a(e.message),this.action_button=p.parseItem(e.actionButton),Reflect.has(e,"contextMenuEndpoint")&&(this.menu_endpoint=new m(e.contextMenuEndpoint)),Reflect.has(e,"contextMenuAccessibility")&&Reflect.has(e.contextMenuAccessibility,"accessibilityData")&&Reflect.has(e.contextMenuAccessibility.accessibilityData,"label")&&(this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label)}};r(iu,"LiveChatViewerEngagementMessage");iu.type="LiveChatViewerEngagementMessage";var jv=iu;var ru=class extends n{constructor(e){super(),this.poll_question=new a(e.pollQuestion),this.thumbnails=y.fromResponse(e.thumbnail),this.metadata=new a(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=p.parseItem(e.contextMenuButton,T)}};r(ru,"PollHeader");ru.type="PollHeader";var $v=ru;var su=class extends n{constructor(e){super(),this.id=e.id,this.contents=p.parse(e.contents),this.target_id=e.targetId}};r(su,"LiveChatActionPanel");su.type="LiveChatActionPanel";var vy=su;var ou=class extends n{constructor(e){super(),this.deleted_state_message=new a(e.deletedStateMessage),this.target_item_id=e.targetItemId}};r(ou,"MarkChatItemAsDeletedAction");ou.type="MarkChatItemAsDeletedAction";var qv=ou;var nu=class extends n{constructor(e){super(),this.deleted_state_message=new a(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};r(nu,"MarkChatItemsByAuthorAsDeletedAction");nu.type="MarkChatItemsByAuthorAsDeletedAction";var Kv=nu;var au=class extends n{constructor(e){super(),this.target_action_id=e.targetActionId}};r(au,"RemoveBannerForLiveChatCommand");au.type="RemoveBannerForLiveChatCommand";var zv=au;var cu=class extends n{constructor(e){super(),this.target_item_id=e.targetItemId}};r(cu,"RemoveChatItemAction");cu.type="RemoveChatItemAction";var Xv=cu;var pu=class extends n{constructor(e){super(),this.external_channel_id=e.externalChannelId}};r(pu,"RemoveChatItemByAuthorAction");pu.type="RemoveChatItemByAuthorAction";var Qv=pu;var lu=class extends n{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=p.parseItem(e.replacementItem)}};r(lu,"ReplaceChatItemAction");lu.type="ReplaceChatItemAction";var Jv=lu;var uu=class extends n{constructor(e){super(),this.to_replace=e.toReplace,this.replacement=p.parseItem(e.replacement)}};r(uu,"ReplaceLiveChatAction");uu.type="ReplaceLiveChatAction";var Zv=uu;var fu=class extends n{constructor(e){var i;super(),this.actions=p.parseArray((i=e.actions)==null?void 0:i.map(s=>(delete s.clickTrackingParams,s))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};r(fu,"ReplayChatItemAction");fu.type="ReplayChatItemAction";var eI=fu;var mu=class extends n{constructor(e){super(),this.panel_to_show=p.parseItem(e.panelToShow,vy)}};r(mu,"ShowLiveChatActionPanelAction");mu.type="ShowLiveChatActionPanelAction";var tI=mu;var hu=class extends n{constructor(e){super(),this.dialog=p.parseItem(e.dialog)}};r(hu,"ShowLiveChatDialogAction");hu.type="ShowLiveChatDialogAction";var iI=hu;var du=class extends n{constructor(e){super(),this.tooltip=p.parseItem(e.tooltip)}};r(du,"ShowLiveChatTooltipCommand");du.type="ShowLiveChatTooltipCommand";var rI=du;var _u=class extends n{constructor(e){super(),this.date_text=new a(e.dateText).toString()}};r(_u,"UpdateDateTextAction");_u.type="UpdateDateTextAction";var Iy=_u;var xu=class extends n{constructor(e){super(),this.description=new a(e.description)}};r(xu,"UpdateDescriptionAction");xu.type="UpdateDescriptionAction";var Sy=xu;var yu=class extends n{constructor(e){super(),this.poll_to_update=p.parseItem(e.pollToUpdate)}};r(yu,"UpdateLiveChatPollAction");yu.type="UpdateLiveChatPollAction";var sI=yu;var bu=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(bu,"UpdateTitleAction");bu.type="UpdateTitleAction";var ky=bu;var gu=class extends n{constructor(e){super(),this.default_text=new a(e.defaultText).toString(),this.toggled_text=new a(e.toggledText).toString(),this.button_id=e.buttonId}};r(gu,"UpdateToggleButtonTextAction");gu.type="UpdateToggleButtonTextAction";var Ey=gu;var wu=class extends n{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new a(i.viewCount),this.extra_short_view_count=new a(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new a(i.unlabeledViewCountValue),this.is_live=i.isLive}};r(wu,"UpdateViewershipAction");wu.type="UpdateViewershipAction";var Cy=wu;var Tu=class extends n{constructor(e){super(),this.confirm_button=p.parseItem(e.confirmButton,T),this.dialog_messages=e.dialogMessages.map(i=>new a(i))}};r(Tu,"LiveChatDialog");Tu.type="LiveChatDialog";var oI=Tu;var vu=class extends n{constructor(e){super(),this.overflow_menu=p.parseItem(e.overflowMenu,R),this.collapse_button=p.parseItem(e.collapseButton,T),this.view_selector=p.parseItem(e.viewSelector,_t)}};r(vu,"LiveChatHeader");vu.type="LiveChatHeader";var Py=vu;var Iu=class extends n{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=p.parseItem(e.moreCommentsBelowButton,T)}};r(Iu,"LiveChatItemList");Iu.type="LiveChatItemList";var Ny=Iu;var Su=class extends n{constructor(e){super(),this.author_name=new a(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.send_button=p.parseItem(e.sendButton,T),this.target_id=e.targetId}};r(Su,"LiveChatMessageInput");Su.type="LiveChatMessageInput";var nI=Su;var ku=class extends n{constructor(e){super(),this.name=new a(e.authorName),this.photo=y.fromResponse(e.authorPhoto),this.badges=p.parseArray(e.authorBadges)}};r(ku,"LiveChatParticipant");ku.type="LiveChatParticipant";var Ay=ku;var Eu=class extends n{constructor(e){super(),this.title=new a(e.title),this.participants=p.parseArray(e.participants,Ay)}};r(Eu,"LiveChatParticipantsList");Eu.type="LiveChatParticipantsList";var Ry=Eu;var Cu=class extends n{constructor(e){super(),this.title=a.fromAttributed(e.title),this.metadata=p.parseItem(e.metadata,rs),this.image=p.parseItem(e.image,os),this.menu_button=p.parseItem(e.menuButton,X)}};r(Cu,"LockupMetadataView");Cu.type="LockupMetadataView";var My=Cu;var Pu=class extends n{constructor(e){super(),this.content_image=p.parseItem(e.contentImage,[wx,es]),this.metadata=p.parseItem(e.metadata,My),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.renderer_context=new Se(e.rendererContext)}};r(Pu,"LockupView");Pu.type="LockupView";var Ly=Pu;var Nu=class extends T{constructor(e){super(e)}};r(Nu,"MenuNavigationItem");Nu.type="MenuNavigationItem";var By=Nu;var Au=class extends n{constructor(e){super(),this.items=p.parseArray(e.items,[By,At])}};r(Au,"MenuPopup");Au.type="MenuPopup";var aI=Au;var Ru=class extends n{constructor(e){super(),this.items=p.parseArray(e.items)}get contents(){return this.items}};r(Ru,"MultiPageMenuNotificationSection");Ru.type="MultiPageMenuNotificationSection";var cI=Ru;var Mu=class extends n{constructor(e){super()}};r(Mu,"MusicMenuItemDivider");Mu.type="MusicMenuItemDivider";var Dy=Mu;var Lu=class extends n{constructor(e){super(),this.title=new a(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new m(e.selectedCommand)),this.selected=!!this.endpoint}};r(Lu,"MusicMultiSelectMenuItem");Lu.type="MusicMultiSelectMenuItem";var us=Lu;var Bu=class extends n{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new a((i=e.title.musicMenuTitleRenderer)==null?void 0:i.primaryText)),this.options=p.parseArray(e.options,[us,Dy])}};r(Bu,"MusicMultiSelectMenu");Bu.type="MusicMultiSelectMenu";var Oy=Bu;var Du=class extends n{constructor(e){super(),this.title=new a(e.title),this.buttons=p.parseArray(e.buttons,T)}};r(Du,"SimpleMenuHeader");Du.type="SimpleMenuHeader";var Yy=Du;var Ou=class extends n{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new m(e.buttonCommand)}};r(Ou,"MerchandiseItem");Ou.type="MerchandiseItem";var pI=Ou;var Yu=class extends n{constructor(e){super(),this.title=e.title,this.menu=p.parseItem(e.actionButton),this.items=p.parseArray(e.items)}get contents(){return this.items}};r(Yu,"MerchandiseShelf");Yu.type="MerchandiseShelf";var Vy=Yu;var Vu=class extends n{constructor(e){super(),this.title=new a(e.title),this.contents=e.contents.map(i=>new a(i))}};r(Vu,"MetadataRow");Vu.type="MetadataRow";var lI=Vu;var Uu=class extends n{constructor(e){super(),this.rows=p.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};r(Uu,"MetadataRowContainer");Uu.type="MetadataRowContainer";var Uy=Uu;var Fu=class extends n{constructor(e){super(),this.content=new a(e.content),this.has_divider_line=e.hasDividerLine}};r(Fu,"MetadataRowHeader");Fu.type="MetadataRowHeader";var uI=Fu;var Wu=class extends n{constructor(e){super(),this.section_list=p.parseItem(e)}};r(Wu,"MetadataScreen");Wu.type="MetadataScreen";var fI=Wu;var Gu=class extends n{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=y.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};r(Gu,"MicroformatData");Gu.type="MicroformatData";var Mi=Gu;var Hu=class extends Mt{constructor(e){super(e)}};r(Hu,"Mix");Hu.type="Mix";var mI=Hu;var ju=class extends n{constructor(e){super(),this.title=new a(e.title),this.content=new a(e.content),this.button=p.parseItem(e.button,T)}};r(ju,"ModalWithTitleAndButton");ju.type="ModalWithTitleAndButton";var hI=ju;var $u=class extends n{constructor(e){var s,o,c;super();let i=((s=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))==null?void 0:s.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new a(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new a(e.descriptionSnippet)),this.top_metadata_items=new a(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.author=new P(e.longBylineText,e.ownerBadges,(c=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:c.thumbnail),this.duration={text:e.lengthText?new a(e.lengthText).toString():new a(i).toString(),seconds:be(e.lengthText?new a(e.lengthText).toString():new a(i).toString())},this.endpoint=new m(e.navigationEndpoint),this.badges=p.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=p.parseItem(e.menu,R)}};r($u,"Movie");$u.type="Movie";var dI=$u;var qu=class extends n{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)==null?void 0:i.thumbnails.map(s=>new y(s)).sort((s,o)=>o.width-s.width)}};r(qu,"MovingThumbnail");qu.type="MovingThumbnail";var _I=qu;var Ku=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(Ku,"MusicCardShelfHeaderBasic");Ku.type="MusicCardShelfHeaderBasic";var Fy=Ku;var zu=class extends n{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};r(zu,"MusicInlineBadge");zu.type="MusicInlineBadge";var fs=zu;var Xu=class extends n{constructor(e){var i,s;super(),this.endpoint=new m(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)==null?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(s=e.accessibilityPauseData.accessibilityData)==null?void 0:s.label),this.icon_color=e.iconColor}};r(Xu,"MusicPlayButton");Xu.type="MusicPlayButton";var ms=Xu;var Qu=class extends n{constructor(e){super(),this.content=p.parseItem(e.content,ms),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};r(Qu,"MusicItemThumbnailOverlay");Qu.type="MusicItemThumbnailOverlay";var Lt=Qu;var Ju=class extends n{constructor(e){super(),this.contents=y.fromResponse(e.thumbnail)}};r(Ju,"MusicThumbnail");Ju.type="MusicThumbnail";var Ie=Ju;var Zu=class extends n{constructor(e){super(),this.thumbnail=p.parseItem(e.thumbnail,Ie),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.buttons=p.parseArray(e.buttons,T),this.menu=p.parseItem(e.menu,R),this.on_tap=new m(e.onTap),this.header=p.parseItem(e.header,Fy),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=p.parseArray(e.subtitleBadges,fs),this.thumbnail_overlay=p.parseItem(e.thumbnailOverlay,Lt),Reflect.has(e,"contents")&&(this.contents=p.parseArray(e.contents))}};r(Zu,"MusicCardShelf");Zu.type="MusicCardShelf";var xI=Zu;var ef=class extends n{constructor(e){super(),this.title=new a(e.title),Reflect.has(e,"strapline")&&(this.strapline=new a(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=p.parseItem(e.thumbnail,Ie)),Reflect.has(e,"moreContentButton")&&(this.more_content=p.parseItem(e.moreContentButton,T)),Reflect.has(e,"endIcons")&&(this.end_icons=p.parseArray(e.endIcons,ny))}};r(ef,"MusicCarouselShelfBasicHeader");ef.type="MusicCarouselShelfBasicHeader";var Wy=ef;var tf=class extends n{constructor(e){super(),this.thumbnail=p.parseItem(e.thumbnail,Ie),this.overlay=p.parseItem(e.overlay,Lt),this.on_tap=new m(e.onTap),this.menu=p.parseItem(e.menu,R),this.subtitle=new a(e.subtitle),this.title=new a(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new a(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new a(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};r(tf,"MusicMultiRowListItem");tf.type="MusicMultiRowListItem";var Gy=tf;var rf=class extends n{constructor(e){super(),this.button_text=new a(e.buttonText).toString(),this.endpoint=new m(e.clickCommand)}};r(rf,"MusicNavigationButton");rf.type="MusicNavigationButton";var Hy=rf;var sf=class extends n{constructor(e){super(),this.title=new a(e.text),this.display_priority=e.displayPriority}};r(sf,"MusicResponsiveListItemFixedColumn");sf.type="musicResponsiveListItemFlexColumnRenderer";var jy=sf;var of=class extends n{constructor(e){super(),this.title=new a(e.text),this.display_priority=e.displayPriority}};r(of,"MusicResponsiveListItemFlexColumn");of.type="MusicResponsiveListItemFlexColumn";var $y=of;var Ze,jg,gI,yI,bI,wI,TI,vI,II,SI,kI,nf=class extends n{constructor(e){var o,c,l,f,h,_;super(),Ze.add(this),this.flex_columns=p.parseArray(e.flexColumns,$y),this.fixed_columns=p.parseArray(e.fixedColumns,jy);let i={video_id:((o=e==null?void 0:e.playlistItemData)==null?void 0:o.videoId)||null,playlist_set_video_id:((c=e==null?void 0:e.playlistItemData)==null?void 0:c.playlistSetVideoId)||null};Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint));let s=(_=(h=(f=(l=this.endpoint)==null?void 0:l.payload)==null?void 0:f.browseEndpointContextSupportedConfigs)==null?void 0:h.browseEndpointContextMusicConfig)==null?void 0:_.pageType;switch(s||this.flex_columns.find(b=>{var w,v,I,k;return((k=(I=(v=(w=b.title.endpoint)==null?void 0:w.payload)==null?void 0:v.browseEndpointContextSupportedConfigs)==null?void 0:I.browseEndpointContextMusicConfig)==null?void 0:k.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(s="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),s){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",u(this,Ze,"m",SI).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",u(this,Ze,"m",kI).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",u(this,Ze,"m",wI).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",u(this,Ze,"m",TI).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",u(this,Ze,"m",vI).call(this,i);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",u(this,Ze,"m",II).call(this);break;default:this.flex_columns[1]?u(this,Ze,"m",gI).call(this,i):u(this,Ze,"m",jg).call(this)}Reflect.has(e,"index")&&(this.index=new a(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=p.parseItem(e.thumbnail,Ie)),Reflect.has(e,"badges")&&(this.badges=p.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=p.parseItem(e.menu,R)),Reflect.has(e,"overlay")&&(this.overlay=p.parseItem(e.overlay,Lt))}get thumbnails(){var e;return((e=this.thumbnail)==null?void 0:e.contents)||[]}};r(nf,"MusicResponsiveListItem");Ze=new WeakSet,jg=r(function(){this.title=this.flex_columns[0].title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),gI=r(function(e){var s,o,c,l,f,h,_;switch((_=(h=(f=(l=(c=(o=(s=this.flex_columns.at(0))==null?void 0:s.title.runs)==null?void 0:o.at(0))==null?void 0:c.endpoint)==null?void 0:l.payload)==null?void 0:f.watchEndpointMusicSupportedConfigs)==null?void 0:h.watchEndpointMusicConfig)==null?void 0:_.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",u(this,Ze,"m",bI).call(this,e);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",u(this,Ze,"m",yI).call(this,e);break;default:u(this,Ze,"m",jg).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),yI=r(function(e){var c,l,f,h,_,x,b,w,v,I,k,C,E,O,z;this.id=e.video_id||((l=(c=this.endpoint)==null?void 0:c.payload)==null?void 0:l.videoId),this.title=this.flex_columns[0].title.toString();let i=((_=(h=(f=this.flex_columns.at(1))==null?void 0:f.title.runs)==null?void 0:h.find(M=>/^\d+$/.test(M.text.replace(/:/g,""))))==null?void 0:_.text)||((b=(x=this.fixed_columns[0])==null?void 0:x.title)==null?void 0:b.toString());i&&(this.duration={text:i,seconds:be(i)});let s=((v=(w=this.flex_columns.at(1))==null?void 0:w.title.runs)==null?void 0:v.find(M=>Le(M)&&M.endpoint&&M.endpoint.payload.browseId.startsWith("MPR")))||((k=(I=this.flex_columns.at(2))==null?void 0:I.title.runs)==null?void 0:k.find(M=>Le(M)&&M.endpoint&&M.endpoint.payload.browseId.startsWith("MPR")));s&&Le(s)&&(this.album={id:(E=(C=s.endpoint)==null?void 0:C.payload)==null?void 0:E.browseId,name:s.text,endpoint:s.endpoint});let o=(z=(O=this.flex_columns.at(1))==null?void 0:O.title.runs)==null?void 0:z.filter(M=>Le(M)&&M.endpoint&&M.endpoint.payload.browseId.startsWith("UC"));o&&(this.artists=o.map(M=>{var ne,le;return{name:M.text,channel_id:Le(M)?(le=(ne=M.endpoint)==null?void 0:ne.payload)==null?void 0:le.browseId:void 0,endpoint:Le(M)?M.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),bI=r(function(e){var o,c,l,f,h,_,x,b,w,v;this.id=e.video_id,this.title=this.flex_columns[0].title.toString(),this.views=(l=(c=(o=this.flex_columns.at(1))==null?void 0:o.title.runs)==null?void 0:c.find(I=>I.text.match(/(.*?) views/)))==null?void 0:l.toString();let i=(h=(f=this.flex_columns.at(1))==null?void 0:f.title.runs)==null?void 0:h.filter(I=>Le(I)&&I.endpoint&&I.endpoint.payload.browseId.startsWith("UC"));i&&(this.authors=i.map(I=>{var k,C;return{name:I.text,channel_id:Le(I)?(C=(k=I.endpoint)==null?void 0:k.payload)==null?void 0:C.browseId:void 0,endpoint:Le(I)?I.endpoint:void 0}}));let s=((x=(_=this.flex_columns[1].title.runs)==null?void 0:_.find(I=>/^\d+$/.test(I.text.replace(/:/g,""))))==null?void 0:x.text)||((v=(w=(b=this.fixed_columns[0])==null?void 0:b.title.runs)==null?void 0:w.find(I=>/^\d+$/.test(I.text.replace(/:/g,""))))==null?void 0:v.text);s&&(this.duration={text:s,seconds:be(s)})},"_MusicResponsiveListItem_parseVideo"),wI=r(function(){var e,i,s,o,c,l;this.id=(i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.browseId,this.name=this.flex_columns[0].title.toString(),this.subtitle=(s=this.flex_columns.at(1))==null?void 0:s.title,this.subscribers=((l=(c=(o=this.subtitle)==null?void 0:o.runs)==null?void 0:c.find(f=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(f.text)))==null?void 0:l.text)||""},"_MusicResponsiveListItem_parseArtist"),TI=r(function(){var e,i,s,o;this.name=this.flex_columns[0].title.toString(),this.subtitle=(e=this.flex_columns.at(1))==null?void 0:e.title,this.song_count=((o=(s=(i=this.subtitle)==null?void 0:i.runs)==null?void 0:s.find(c=>/^\d+(,\d+)? songs?$/i.test(c.text)))==null?void 0:o.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),vI=r(function(e){var i,s;this.id=e.video_id||((s=(i=this.endpoint)==null?void 0:i.payload)==null?void 0:s.videoId),this.title=this.flex_columns[0].title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),II=r(function(){var e,i;this.id=(i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.browseId,this.title=this.flex_columns[0].title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),SI=r(function(){var i,s,o,c,l,f,h,_,x;this.id=(s=(i=this.endpoint)==null?void 0:i.payload)==null?void 0:s.browseId,this.title=this.flex_columns[0].title.toString();let e=(c=(o=this.flex_columns.at(1))==null?void 0:o.title.runs)==null?void 0:c.find(b=>Le(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));e&&Le(e)&&(this.author={name:e.text,channel_id:(f=(l=e.endpoint)==null?void 0:l.payload)==null?void 0:f.browseId,endpoint:e.endpoint}),this.year=(x=(_=(h=this.flex_columns.at(1))==null?void 0:h.title.runs)==null?void 0:_.find(b=>/^[12][0-9]{3}$/.test(b.text)))==null?void 0:x.text},"_MusicResponsiveListItem_parseAlbum"),kI=r(function(){var s,o,c,l,f,h,_,x;this.id=(o=(s=this.endpoint)==null?void 0:s.payload)==null?void 0:o.browseId,this.title=this.flex_columns[0].title.toString();let e=(l=(c=this.flex_columns.at(1))==null?void 0:c.title.runs)==null?void 0:l.find(b=>b.text.match(/\d+ (song|songs)/));this.item_count=e?e.text:void 0;let i=(h=(f=this.flex_columns.at(1))==null?void 0:f.title.runs)==null?void 0:h.find(b=>Le(b)&&b.endpoint&&b.endpoint.payload.browseId.startsWith("UC"));i&&Le(i)&&(this.author={name:i.text,channel_id:(x=(_=i.endpoint)==null?void 0:_.payload)==null?void 0:x.browseId,endpoint:i.endpoint})},"_MusicResponsiveListItem_parsePlaylist");nf.type="MusicResponsiveListItem";var Li=nf;var af=class extends n{constructor(e){var s,o,c,l,f,h,_,x,b,w,v,I,k,C,E,O,z,M,ne,le,V,se;switch(super(),this.title=new a(e.title),this.endpoint=new m(e.navigationEndpoint),this.id=((o=(s=this.endpoint)==null?void 0:s.payload)==null?void 0:o.browseId)||((l=(c=this.endpoint)==null?void 0:c.payload)==null?void 0:l.videoId),this.subtitle=new a(e.subtitle),this.badges=p.parse(e.subtitleBadges),(x=(_=(h=(f=this.endpoint)==null?void 0:f.payload)==null?void 0:h.browseEndpointContextSupportedConfigs)==null?void 0:_.browseEndpointContextMusicConfig)==null?void 0:x.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((w=(b=this.endpoint)==null?void 0:b.metadata)==null?void 0:w.api_url)==="/next"?this.item_type="endpoint":(v=this.subtitle.runs)!=null&&v[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((k=(I=this.subtitle.runs)==null?void 0:I.find(F=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(F.text)))==null?void 0:k.text)||"";else if(this.item_type=="playlist"){let F=(C=this.subtitle.runs)==null?void 0:C.find(Y=>Y.text.match(/\d+ songs|song/));this.item_count=F?F.text:null}else if(this.item_type=="album"){let F=(E=this.subtitle.runs)==null?void 0:E.filter(Y=>{var J,re;return(re=(J=Y.endpoint)==null?void 0:J.payload)==null?void 0:re.browseId.startsWith("UC")});F&&(this.artists=F.map(Y=>{var J,re;return{name:Y.text,channel_id:(re=(J=Y.endpoint)==null?void 0:J.payload)==null?void 0:re.browseId,endpoint:Y.endpoint}})),this.year=(O=this.subtitle.runs)==null?void 0:O.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((M=(z=this==null?void 0:this.subtitle.runs)==null?void 0:z.find(Y=>Y==null?void 0:Y.text.match(/(.*?) views/)))==null?void 0:M.text)||"N/A";let F=(ne=this.subtitle.runs)==null?void 0:ne.find(Y=>{var J,re,Ve;return(Ve=(re=(J=Y.endpoint)==null?void 0:J.payload)==null?void 0:re.browseId)==null?void 0:Ve.startsWith("UC")});F&&(this.author={name:F==null?void 0:F.text,channel_id:(V=(le=F==null?void 0:F.endpoint)==null?void 0:le.payload)==null?void 0:V.browseId,endpoint:F==null?void 0:F.endpoint})}else if(this.item_type=="song"){let F=(se=this.subtitle.runs)==null?void 0:se.filter(Y=>{var J,re;return(re=(J=Y.endpoint)==null?void 0:J.payload)==null?void 0:re.browseId.startsWith("UC")});F&&(this.artists=F.map(Y=>{var J,re;return{name:Y==null?void 0:Y.text,channel_id:(re=(J=Y==null?void 0:Y.endpoint)==null?void 0:J.payload)==null?void 0:re.browseId,endpoint:Y==null?void 0:Y.endpoint}}))}this.thumbnail=y.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=p.parseItem(e.thumbnailOverlay,Lt),this.menu=p.parseItem(e.menu,R)}};r(af,"MusicTwoRowItem");af.type="MusicTwoRowItem";var qy=af;var cf=class extends n{constructor(e){super(),this.header=p.parseItem(e.header,Wy),this.contents=p.parseArray(e.contents,[qy,Li,Gy,Hy]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};r(cf,"MusicCarouselShelf");cf.type="MusicCarouselShelf";var EI=cf;var pf=class extends n{constructor(e){super(),this.description=new a(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new a(e.footer)}};r(pf,"MusicDescriptionShelf");pf.type="MusicDescriptionShelf";var Ky=pf;var lf=class extends n{constructor(e){var s,o,c,l,f,h,_,x,b;super(),this.title=new a(e.title),this.description=new a(e.description),this.subtitle=new a(e.subtitle),this.second_subtitle=new a(e.secondSubtitle),this.year=((o=(s=this.subtitle.runs)==null?void 0:s.find(w=>/^[12][0-9]{3}$/.test(w.text)))==null?void 0:o.text)||"",this.song_count=((l=(c=this.second_subtitle.runs)==null?void 0:c[0])==null?void 0:l.text)||"",this.total_duration=((h=(f=this.second_subtitle.runs)==null?void 0:f[2])==null?void 0:h.text)||"",this.thumbnails=y.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=p.parseArray(e.subtitleBadges);let i=(_=this.subtitle.runs)==null?void 0:_.find(w=>{var v,I;return(I=(v=w==null?void 0:w.endpoint)==null?void 0:v.payload)==null?void 0:I.browseId.startsWith("UC")});i&&(this.author={name:i.text,channel_id:(b=(x=i.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId,endpoint:i.endpoint}),this.menu=p.parseItem(e.menu)}};r(lf,"MusicDetailHeader");lf.type="MusicDetailHeader";var CI=lf;var uf=class extends n{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};r(uf,"MusicDownloadStateBadge");uf.type="MusicDownloadStateBadge";var PI=uf;var ff=class extends n{constructor(e){super(),this.header=p.parseItem(e.header),this.edit_header=p.parseItem(e.editHeader),this.playlist_id=e.playlistId}};r(ff,"MusicEditablePlaylistDetailHeader");ff.type="MusicEditablePlaylistDetailHeader";var NI=ff;var mf=class extends n{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?p.parseItem(e,jx):null}};r(mf,"MusicElementHeader");mf.type="MusicElementHeader";var AI=mf;var hf=class extends n{constructor(e){super(),Reflect.has(e,"header")&&(this.header=p.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new a(e.title))}};r(hf,"MusicHeader");hf.type="MusicHeader";var RI=hf;var df=class extends n{constructor(e){super(),this.title=new a(e.title),this.menu=p.parseItem(e.menu,R),this.more_button=p.parseItem(e.moreButton,ie),this.play_button=p.parseItem(e.playButton,T),"shareEndpoint"in e&&(this.share_endpoint=new m(e.shareEndpoint)),this.start_radio_button=p.parseItem(e.startRadioButton,T),this.subscription_button=p.parseItem(e.subscriptionButton,me),this.description=new a(e.description),this.thumbnail=p.parseItem(e.thumbnail,Ie)}};r(df,"MusicImmersiveHeader");df.type="MusicImmersiveHeader";var MI=df;var _f=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new m(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};r(_f,"ActionButton");_f.type="ActionButton";var xf=class{constructor(e){this.image=y.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new _f(i))}};r(xf,"Panel");xf.type="Panel";var yf=class extends n{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new xf(i))}};r(yf,"MusicLargeCardItemCarousel");yf.type="MusicLargeCardItemCarousel";var LI=yf;var bf=class extends n{constructor(e){super(),this.title=new a(e.title),this.edit_title=new a(e.editTitle),this.edit_description=new a(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new m(e.collaborationSettingsCommand),this.privacy_dropdown=p.parseItem(e.privacyDropdown,yi)}};r(bf,"MusicPlaylistEditHeader");bf.type="MusicPlaylistEditHeader";var BI=bf;var gf=class extends n{constructor(e){var i,s,o;super(),this.playlist_id=e.playlistId,this.contents=p.parseArray(e.contents,[Li,Q]),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||null}};r(gf,"MusicPlaylistShelf");gf.type="MusicPlaylistShelf";var DI=gf;var wf=class extends n{constructor(e){var o,c,l,f,h;super(),this.title=new a(e.title),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new m(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new a(e.lengthText).toString(),seconds:be(new a(e.lengthText).toString())};let i=(o=new a(e.longBylineText).runs)==null?void 0:o.find(_=>{var x,b,w;return(w=(b=(x=_.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId)==null?void 0:w.startsWith("MPR")}),s=(c=new a(e.longBylineText).runs)==null?void 0:c.filter(_=>{var x,b,w;return(w=(b=(x=_.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId)==null?void 0:w.startsWith("UC")});this.author=new a(e.shortBylineText).toString(),i&&(this.album={id:(f=(l=i.endpoint)==null?void 0:l.payload)==null?void 0:f.browseId,name:i.text,year:(h=new a(e.longBylineText).runs)==null?void 0:h.slice(-1)[0].text,endpoint:i.endpoint}),s&&(this.artists=s.map(_=>{var x,b;return{name:_.text,channel_id:(b=(x=_.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId,endpoint:_.endpoint}})),this.badges=p.parseArray(e.badges),this.menu=p.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};r(wf,"PlaylistPanelVideo");wf.type="PlaylistPanelVideo";var ri=wf;var Tf=class extends n{constructor(e){super(),this.primary=p.parseItem(e.primaryRenderer,ri),Reflect.has(e,"counterpart")&&(this.counterpart=G(e.counterpart.map(i=>p.parseItem(i.counterpartRenderer,ri))||[]))}};r(Tf,"PlaylistPanelVideoWrapper");Tf.type="PlaylistPanelVideoWrapper";var zy=Tf;var vf=class extends n{constructor(e){var i,s,o,c,l,f;super(),this.title=e.title,this.title_text=new a(e.titleText),this.contents=p.parseArray(e.contents,[zy,ri,b_]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextRadioContinuationData)==null?void 0:o.continuation)||((f=(l=(c=e.continuations)==null?void 0:c[0])==null?void 0:l.nextContinuationData)==null?void 0:f.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};r(vf,"PlaylistPanel");vf.type="PlaylistPanel";var Xy=vf;var If=class extends n{constructor(e){super(),this.content=p.parseItem(e.content,Xy)}};r(If,"MusicQueue");If.type="MusicQueue";var Qy=If;var Sf=class extends n{constructor(e){super(),this.thumbnail=p.parseItem(e.thumbnail,Ie),this.buttons=p.parseArray(e.buttons,[Fr,ie,ms,T,R]),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.strapline_text_one=new a(e.straplineTextOne),this.strapline_thumbnail=p.parseItem(e.straplineThumbnail,Ie),this.second_subtitle=new a(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=p.parseArray(e.subtitleBadge,fs)),Reflect.has(e,"description")&&(this.description=p.parseItem(e.description,Ky))}};r(Sf,"MusicResponsiveHeader");Sf.type="MusicResponsiveHeader";var OI=Sf;var kf=class extends n{constructor(e){var i,s,o,c;super(),this.title=new a(e.title),this.contents=p.parseArray(e.contents,Li),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new m(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((s=(i=e.continuations)==null?void 0:i[0].nextContinuationData)==null?void 0:s.continuation)||((c=(o=e.continuations)==null?void 0:o[0].reloadContinuationData)==null?void 0:c.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new a(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=p.parseItem(e.bottomButton,T)),Reflect.has(e,"subheaders")&&(this.subheaders=p.parseArray(e.subheaders))}};r(kf,"MusicShelf");kf.type="MusicShelf";var YI=kf;var Ef=class extends n{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=p.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=p.parseArray(e.endItems))}};r(Ef,"MusicSideAlignedItem");Ef.type="MusicSideAlignedItem";var VI=Ef;var Cf=class extends n{constructor(e){super(),this.title=new a(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=p.parseItem(e.menu,Oy)}};r(Cf,"MusicSortFilterButton");Cf.type="MusicSortFilterButton";var UI=Cf;var Pf=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};r(Pf,"MusicTastebuilderShelfThumbnail");Pf.type="MusicTastebuilderShelfThumbnail";var Jy=Pf;var Nf=class extends n{constructor(e){super(),this.thumbnail=p.parseItem(e.thumbnail,Jy),this.primary_text=new a(e.primaryText),this.secondary_text=new a(e.secondaryText),this.action_button=p.parseItem(e.actionButton,T),this.is_visible=e.isVisible}};r(Nf,"MusicTasteBuilderShelf");Nf.type="MusicTasteBuilderShelf";var FI=Nf;var Af=class extends n{constructor(e){var i,s;super(),this.title=new a(e.title),this.thumbnail=e.thumbnail?y.fromResponse((i=e.thumbnail.musicThumbnailRenderer)==null?void 0:i.thumbnail):[],this.menu=p.parseItem(e.menu,R),this.foreground_thumbnail=e.foregroundThumbnail?y.fromResponse((s=e.foregroundThumbnail.musicThumbnailRenderer)==null?void 0:s.thumbnail):[]}};r(Af,"MusicVisualHeader");Af.type="MusicVisualHeader";var WI=Af;var Rf=class extends n{constructor(e){super(),this.placeholder_text=new a(e.placeholderText),this.buttons=p.parseArray(e.buttons),Reflect.has(e,"logo")&&Reflect.has(e.logo,"iconType")&&(this.logo_type=e.logo.iconType)}};r(Rf,"MobileTopbar");Rf.type="MobileTopbar";var GI=Rf;var Mf=class extends n{constructor(e){super(),this.items=p.parseArray(e.items)}};r(Mf,"MultiPageMenuSection");Mf.type="MultiPageMenuSection";var HI=Mf;var Lf=class extends n{constructor(e){super(),this.items=p.parseArray(e.items)}};r(Lf,"PivotBar");Lf.type="PivotBar";var jI=Lf;var Bf=class extends n{constructor(e){super(),this.pivot_identifier=e.pivotIdentifier,this.endpoint=new m(e.navigationEndpoint),this.title=new a(e.title),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.accessibility_label=e.accessibility.accessibilityData.label),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};r(Bf,"PivotBarItem");Bf.type="PivotBarItem";var $I=Bf;var Df=class extends n{constructor(e){super(),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.menu_renderer=p.parseItem(e.menuRenderer),this.target_id=e.targetId}};r(Df,"TopbarMenuButton");Df.type="TopbarMenuButton";var qI=Df;var Of=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.short_message=new a(e.shortMessage),this.sent_time=new a(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new m(e.navigationEndpoint),this.record_click_endpoint=new m(e.recordClickEndpoint),this.menu=p.parseItem(e.contextualMenu),this.read=e.read}};r(Of,"Notification");Of.type="Notification";var Zy=Of;var Yf=class extends n{constructor(e){super(),this.response_text=new a(e.responseText)}};r(Yf,"NotificationAction");Yf.type="NotificationAction";var KI=Yf;var Vf=class extends n{constructor(e){super(),this.title=p.parseItem(e.title,Gx),this.image=p.parseItem(e.image,[ki,os]),this.animated_image=p.parseItem(e.animatedImage,ki),this.hero_image=p.parseItem(e.heroImage,ki),this.metadata=p.parseItem(e.metadata,rs),this.actions=p.parseItem(e.actions,Gr),this.description=p.parseItem(e.description,Ux),this.attributation=p.parseItem(e.attributation,x_),this.banner=p.parseItem(e.banner,ay)}};r(Vf,"PageHeaderView");Vf.type="PageHeaderView";var eb=Vf;var Uf=class extends n{constructor(e){super(),this.page_title=e.pageTitle,this.content=p.parseItem(e.content,eb)}};r(Uf,"PageHeader");Uf.type="PageHeader";var Bt=Uf;var Ff=class extends n{constructor(e){super(),this.header_text=new a(e.headerText).toString(),this.body_text=new a(e.bodyText).toString(),this.page_title=new a(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};r(Ff,"PageIntroduction");Ff.type="PageIntroduction";var tb=Ff;var Wf=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new m(e.onClickCommand),this.content_description=new a(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new a(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};r(Wf,"PivotButton");Wf.type="PivotButton";var ib=Wf;var Gf=class extends n{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:y.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new m(e.featuredChannel.navigationEndpoint),subscribe_button:p.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};r(Gf,"PlayerAnnotationsExpanded");Gf.type="PlayerAnnotationsExpanded";var rb=Gf;var Hf=class extends n{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new a(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new a(i.languageName)})))}};r(Hf,"PlayerCaptionsTracklist");Hf.type="PlayerCaptionsTracklist";var sb=Hf;var jf=class extends n{constructor(e){super(),this.endpoint=new m(e.endpoint),this.enable_listen_first=e.enableListenFirst}};r(jf,"PlayerOverflow");jf.type="PlayerOverflow";var ob=jf;var $f=class extends n{constructor(e){super(),this.overflow=p.parseItem(e.overflow,ob)}};r($f,"PlayerControlsOverlay");$f.type="PlayerControlsOverlay";var zI=$f;var qf=class extends n{constructor(e){super(),this.subreason=new a(e.subreason),this.reason=new a(e.reason),this.proceed_button=p.parseItem(e.proceedButton,T),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};r(qf,"PlayerErrorMessage");qf.type="PlayerErrorMessage";var XI=qf;var Kf=class extends n{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};r(Kf,"PlayerLegacyDesktopYpcOffer");Kf.type="PlayerLegacyDesktopYpcOffer";var QI=Kf;var zf=class extends n{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};r(zf,"YpcTrailer");zf.type="YpcTrailer";var hr=zf;var Xf=class extends n{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=p.parseItem(e.ypcTrailer,hr)}};r(Xf,"PlayerLegacyDesktopYpcTrailer");Xf.type="PlayerLegacyDesktopYpcTrailer";var Qf=Xf;var Jf=class extends n{constructor(e){super();let[i,s,o,c,l]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(s,10),thumbnail_height:parseInt(o,10),columns:parseInt(c,10),rows:parseInt(l,10)}}};r(Jf,"PlayerLiveStoryboardSpec");Jf.type="PlayerLiveStoryboardSpec";var nb=Jf;var Zf=class extends n{constructor(e){var i,s;super(),this.title=new a(e.title),this.description=new a(e.description),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=(i=e.liveBroadcastDetails)!=null&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=(s=e.liveBroadcastDetails)!=null&&s.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};r(Zf,"PlayerMicroformat");Zf.type="PlayerMicroformat";var et=Zf;var em=class extends n{constructor(e){super(),this.title=new a(e.title),this.video_id=e.videoId,this.video_title=new a(e.videoTitle),this.short_view_count=new a(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new a(e.publishedTimeText),this.background=y.fromResponse(e.background),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.author=new P(e.byline),this.cancel_button=p.parseItem(e.cancelButton,T),this.next_button=p.parseItem(e.nextButton,T),this.close_button=p.parseItem(e.closeButton,T)}};r(em,"PlayerOverlayAutoplay");em.type="PlayerOverlayAutoplay";var ab=em;var tm=class extends n{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle)}};r(tm,"PlayerOverlayVideoDetails");tm.type="PlayerOverlayVideoDetails";var cb=tm;var im=class extends n{constructor(e){super(),this.results=p.parseArray(e.results,[Xx,zx]),this.title=new a(e.title).toString()}};r(im,"WatchNextEndScreen");im.type="WatchNextEndScreen";var pb=im;var rm=class extends n{constructor(e){super(),this.end_screen=p.parseItem(e.endScreen,pb),this.autoplay=p.parseItem(e.autoplay,ab),this.share_button=p.parseItem(e.shareButton,T),this.add_to_menu=p.parseItem(e.addToMenu,R),this.fullscreen_engagement=p.parseItem(e.fullscreenEngagement),this.actions=p.parseArray(e.actions),this.browser_media_session=p.parseItem(e.browserMediaSession),this.decorated_player_bar=p.parseItem(e.decoratedPlayerBarRenderer,Vx),this.video_details=p.parseItem(e.videoDetails,cb)}};r(rm,"PlayerOverlay");rm.type="PlayerOverlay";var lb=rm;var sm=class extends n{constructor(e){super(),this.id=e.playlistId,this.title=new a(e.title),this.subtitle=e.subtitle?new a(e.subtitle):null,this.stats=e.stats.map(i=>new a(i)),this.brief_stats=e.briefStats.map(i=>new a(i)),this.author=e.ownerText||e.ownerEndpoint?new P({...e.ownerText,navigationEndpoint:e.ownerEndpoint},e.ownerBadges,null):null,this.description=new a(e.descriptionText),this.num_videos=new a(e.numVideosText),this.view_count=new a(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=p.parseItem(e.saveButton),this.shuffle_play_button=p.parseItem(e.shufflePlayButton),this.menu=p.parseItem(e.moreActionsMenu),this.banner=p.parseItem(e.playlistHeaderBanner)}};r(sm,"PlaylistHeader");sm.type="PlaylistHeader";var ub=sm;var om=class extends n{constructor(e){super(),this.title=new a(e.playlistTitle),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new a(e.playlistVideoCount),this.channel_name=new a(e.channelName),this.endpoint=new m(e.action)}};r(om,"PlaylistInfoCardContent");om.type="PlaylistInfoCardContent";var JI=om;var nm=class extends n{constructor(e){super(),this.title=e.title,this.description=e.description||null}};r(nm,"PlaylistMetadata");nm.type="PlaylistMetadata";var fb=nm;var am=class extends n{constructor(e){super(),this.items=p.parseArray(e.items)}get contents(){return this.items}};r(am,"PlaylistSidebar");am.type="PlaylistSidebar";var ZI=am;var cm=class extends n{constructor(e){super(),this.stats=e.stats.map(i=>new a(i)),this.thumbnail_renderer=p.parseItem(e.thumbnailRenderer),this.title=new a(e.title),this.menu=p.parseItem(e.menu),this.endpoint=new m(e.navigationEndpoint),this.description=new a(e.description)}};r(cm,"PlaylistSidebarPrimaryInfo");cm.type="PlaylistSidebarPrimaryInfo";var mb=cm;var pm=class extends n{constructor(e){super(),this.owner=p.parseItem(e.videoOwner),this.button=p.parseItem(e.button)}};r(pm,"PlaylistSidebarSecondaryInfo");pm.type="PlaylistSidebarSecondaryInfo";var hb=pm;var lm=class extends n{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.text=new a(e.text)}};r(lm,"PlaylistThumbnailOverlay");lm.type="PlaylistThumbnailOverlay";var eS=lm;var um=class extends n{constructor(e){super(),this.id=e.videoId,this.index=new a(e.index),this.title=new a(e.title),this.author=new P(e.shortBylineText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new m(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=p.parseItem(e.menu,R),this.video_info=new a(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new a(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Rt))==null?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Rt))==null?void 0:e.style)==="UPCOMING"}};r(um,"PlaylistVideo");um.type="PlaylistVideo";var hs=um;var fm=class extends n{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=p.parseArray(e.contents)}};r(fm,"PlaylistVideoList");fm.type="PlaylistVideoList";var db=fm;var mm=class extends n{constructor(e){super(),this.choices=e.choices.map(i=>({text:new a(i.text),select_endpoint:i.selectServiceEndpoint?new m(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new m(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new a(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new a(i.votePercentageIfSelected),image:i.image?y.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new a(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};r(mm,"Poll");mm.type="Poll";var tS=mm;var hm=class extends vi{constructor(e){super(e)}};r(hm,"Post");hm.type="Post";var ds=hm;var dm=class extends n{constructor(e){super(),this.images=p.parseArray(e.images,w_)}};r(dm,"PostMultiImage");dm.type="PostMultiImage";var iS=dm;var _m=class extends n{constructor(e){super(),this.label=new a(e.label)}};r(_m,"PremiereTrailerBadge");_m.type="PremiereTrailerBadge";var rS=_m;var xm=class extends n{constructor(e){super(),this.title=new a(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};r(xm,"ProductListHeader");xm.type="ProductListHeader";var sS=xm;var ym=class extends n{constructor(e){super(),this.title=new a(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new m(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=p.parseItem(e.viewButton,T)}};r(ym,"ProductListItem");ym.type="ProductListItem";var oS=ym;var bm=class extends n{constructor(e){super(),this.items=p.parseArray(e.items)}get contents(){return this.items}};r(bm,"ProfileColumn");bm.type="ProfileColumn";var _b=bm;var gm=class extends n{constructor(e){super(),this.items=p.parseArray(e.items)}get contents(){return this.items}};r(gm,"ProfileColumnStats");gm.type="ProfileColumnStats";var nS=gm;var wm=class extends n{constructor(e){super(),this.label=new a(e.label),this.value=new a(e.value)}};r(wm,"ProfileColumnStatsEntry");wm.type="ProfileColumnStatsEntry";var aS=wm;var Tm=class extends n{constructor(e){super(),this.title=new a(e.title),this.thumbnails=y.fromResponse(e.thumbnail)}};r(Tm,"ProfileColumnUserInfo");Tm.type="ProfileColumnUserInfo";var cS=Tm;var vm=class extends n{constructor(e){super(),this.choices=e.choices.map(i=>({text:new a(i.text),is_correct:i.isCorrect})),this.total_votes=new a(e.totalVotes)}};r(vm,"Quiz");vm.type="Quiz";var pS=vm;var Im=class extends n{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.avatars=e.avatars.map(i=>new y(i)),this.button=p.parseItem(e.button,T),this.surface=e.surface}};r(Im,"RecognitionShelf");Im.type="RecognitionShelf";var lS=Im;var Sm=class extends n{constructor(e){super(),this.id=e.videoId,this.title=new a(e.headline),this.thumbnails=y.fromResponse(e.thumbnail),this.views=new a(e.viewCountText),this.endpoint=new m(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};r(Sm,"ReelItem");Sm.type="ReelItem";var _s=Sm;var km=class extends n{constructor(e){super(),this.reel_title_text=new a(e.reelTitleText),this.timestamp_text=new a(e.timestampText),this.channel_title_text=new a(e.channelTitleText),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.author=new P(e.channelNavigationEndpoint,void 0)}};r(km,"ReelPlayerHeader");km.type="ReelPlayerHeader";var xb=km;var Em=class extends n{constructor(e){super(),this.like_button=p.parseItem(e.likeButton,Wr),this.reel_player_header_supported_renderers=p.parseItem(e.reelPlayerHeaderSupportedRenderers,xb),this.menu=p.parseItem(e.menu,R),this.next_item_button=p.parseItem(e.nextItemButton,T),this.prev_item_button=p.parseItem(e.prevItemButton,T),this.subscribe_button_renderer=p.parseItem(e.subscribeButtonRenderer,[T,me]),this.style=e.style,this.view_comments_button=p.parseItem(e.viewCommentsButton,T),this.share_button=p.parseItem(e.shareButton,T),this.pivot_button=p.parseItem(e.pivotButton,ib),this.info_panel=p.parseItem(e.infoPanel,py)}};r(Em,"ReelPlayerOverlay");Em.type="ReelPlayerOverlay";var uS=Em;var Cm=class extends n{constructor(e){super(),this.content=p.parseItem(e.content)}};r(Cm,"RelatedChipCloud");Cm.type="RelatedChipCloud";var yb=Cm;var Pm=class extends n{constructor(e){super(),this.header=p.parseItem(e.header),this.contents=p.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};r(Pm,"RichGrid");Pm.type="RichGrid";var Dt=Pm;var Nm=class extends n{constructor(e){super(),this.content=p.parseItem(e.content)}};r(Nm,"RichItem");Nm.type="RichItem";var fS=Nm;var Am=class extends n{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};r(Am,"RichListHeader");Am.type="RichListHeader";var mS=Am;var Rm=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.call_to_action=new a(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new m(e.endpoint)}};r(Rm,"RichMetadata");Rm.type="RichMetadata";var Mm=Rm;var Lm=class extends n{constructor(e){super(),this.contents=p.parseArray(e.contents)}};r(Lm,"RichMetadataRow");Lm.type="RichMetadataRow";var Bm=Lm;var Dm=class extends n{constructor(e){super(),this.content=p.parseItem(e.content)}};r(Dm,"RichSection");Dm.type="RichSection";var hS=Dm;var Om=class extends n{constructor(e){super(),this.title=new a(e.title),this.contents=p.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new m(e.endpoint)),Reflect.has(e,"subtitle")&&(this.subtitle=new a(e.subtitle))}};r(Om,"RichShelf");Om.type="RichShelf";var bb=Om;var Ym=class extends n{constructor(e){super(),this.label=new a(e.label),this.endpoint=new m(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};r(Ym,"SearchFilter");Ym.type="SearchFilter";var gb=Ym;var Vm=class extends n{constructor(e){super(),this.title=new a(e.title),this.filters=p.parseArray(e.filters,gb)}};r(Vm,"SearchFilterGroup");Vm.type="SearchFilterGroup";var xs=Vm;var Um=class extends n{constructor(e){super(),this.title=new a(e.title),this.groups=p.parseArray(e.groups,xs)}};r(Um,"SearchFilterOptionsDialog");Um.type="SearchFilterOptionsDialog";var dS=Um;var Fm=class extends n{constructor(e){super(),this.chip_bar=p.parseItem(e.chipBar,Jr),this.search_filter_button=p.parseItem(e.searchFilterButton,T)}};r(Fm,"SearchHeader");Fm.type="SearchHeader";var wb=Fm;var Wm=class extends n{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new a(e.title)),Reflect.has(e,"groups")&&(this.groups=p.parseArray(e.groups,xs)),Reflect.has(e,"button")&&(this.button=p.parseItem(e.button,ie))}};r(Wm,"SearchSubMenu");Wm.type="SearchSubMenu";var Tb=Wm;var Gm=class extends n{constructor(e){super(),this.contents=p.parseArray(e.contents)}};r(Gm,"SearchSuggestionsSection");Gm.type="SearchSuggestionsSection";var _S=Gm;var Hm=class extends n{constructor(e){super(),this.header=p.parseItem(e.header),this.call_to_action=p.parseItem(e.callToAction),this.sections=p.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new a(e.collapsedLabel))}};r(Hm,"UniversalWatchCard");Hm.type="UniversalWatchCard";var ys=Hm;var jm=class extends n{constructor(e){super(),this.contents=p.parseArray(e.contents,[ys])}};r(jm,"SecondarySearchContainer");jm.type="SecondarySearchContainer";var vb=jm;var $m=class extends n{constructor(e){super(),this.like_button=p.parseItem(e.likeButton,[ie,T]),this.dislike_button=p.parseItem(e.dislikeButton,[ie,T])}};r($m,"SegmentedLikeDislikeButton");$m.type="SegmentedLikeDislikeButton";var dr=$m;var qm=class extends n{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new a(e.title)),Reflect.has(e,"summary")&&(this.summary=new a(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new m(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new m(e.disableServiceEndpoint)),this.item_id=e.itemId}};r(qm,"SettingBoolean");qm.type="SettingBoolean";var xS=qm;var Km=class extends n{constructor(e){super(),this.title=new a(e.title),this.help_text=new a(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};r(Km,"SettingsCheckbox");Km.type="SettingsCheckbox";var Ib=Km;var zm=class extends n{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new m(e.enableServiceEndpoint),this.disable_endpoint=new m(e.disableServiceEndpoint)}};r(zm,"SettingsSwitch");zm.type="SettingsSwitch";var bs=zm;var Xm=class extends n{constructor(e){super(),this.title=new a(e.title),Reflect.has(e,"text")&&(this.text=new a(e.text).toString()),Reflect.has(e,"options")&&(this.options=p.parseArray(e.options,[bs,yi,ss,Ib,mx]))}};r(Xm,"SettingsOptions");Xm.type="SettingsOptions";var gs=Xm;var Qm=class extends n{constructor(e){super(),this.title=new a(e.title),this.items=p.parseArray(e.items,Nt)}get contents(){return this.items}};r(Qm,"SettingsSidebar");Qm.type="SettingsSidebar";var Sb=Qm;var Jm=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.content=new a(e.content),this.published=new a(e.publishedTimeText),this.menu=p.parseItem(e.actionMenu,R),this.original_post=p.parseItem(e.originalPost,[vi,ds]),this.id=e.postId,this.endpoint=new m(e.navigationEndpoint),this.expand_button=p.parseItem(e.expandButton,T),this.author=new P(e.displayName,void 0)}};r(Jm,"SharedPost");Jm.type="SharedPost";var kb=Jm;var Zm=class extends n{constructor(e){super(),this.title=p.parseItem(e.title)}};r(Zm,"SharePanelHeader");Zm.type="SharePanelHeader";var Eb=Zm;var eh=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(eh,"SharePanelTitleV15");eh.type="SharePanelTitleV15";var yS=eh;var th=class extends n{constructor(e){super(),Reflect.has(e,"serviceEndpoint")?this.endpoint=new m(e.serviceEndpoint):Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new m(e.navigationEndpoint)),this.service_name=e.serviceName,this.target_id=e.targetId,this.title=new a(e.title)}};r(th,"ShareTarget");th.type="ShareTarget";var Cb=th;var ih=class extends n{constructor(e){super(),this.title=new a(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new m(e.endpoint)),this.content=p.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=p.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=p.parseItem(e.playAllButton,T)),Reflect.has(e,"subtitle")&&(this.subtitle=new a(e.subtitle))}};r(ih,"Shelf");ih.type="Shelf";var ws=ih;var rh=class extends n{constructor(e){var i;super(),this.entity_id=e.entityId,this.accessibility_text=e.accessibilityText,this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new m(e.onTap),this.menu_on_tap=new m(e.menuOnTap),this.index_in_collection=e.indexInCollection,this.menu_on_tap_a11y_label=e.menuOnTapA11yLabel,this.overlay_metadata={primary_text:e.overlayMetadata.primaryText?a.fromAttributed(e.overlayMetadata.primaryText):void 0,secondary_text:e.overlayMetadata.secondaryText?a.fromAttributed(e.overlayMetadata.secondaryText):void 0},(i=e.inlinePlayerData)!=null&&i.onVisible&&(this.inline_player_data=new m(e.inlinePlayerData.onVisible)),e.badge&&(this.badge=p.parseItem(e.badge,Ii))}};r(rh,"ShortsLockupView");rh.type="ShortsLockupView";var Ts=rh;var sh=class extends n{constructor(e){super(),this.corrected_query=new a(e.correctedQuery),this.original_query=new a(e.originalQuery),this.corrected_query_endpoint=new m(e.correctedQueryEndpoint),this.original_query_endpoint=new m(e.originalQueryEndpoint),this.search_instead_for=new a(e.searchInsteadFor),this.showing_results_for=new a(e.showingResultsFor)}};r(sh,"ShowingResultsFor");sh.type="ShowingResultsFor";var bS=sh;var oh=class extends n{constructor(e){super(),this.image=y.fromResponse(e.image),this.title=new a(e.title),this.display_domain=new a(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new a(e.callToAction),this.endpoint=new m(e.command)}};r(oh,"SimpleCardContent");oh.type="SimpleCardContent";var gS=oh;var nh=class extends n{constructor(e){super(),this.message=new a(e.message),this.prominent=e.prominent}};r(nh,"SimpleCardTeaser");nh.type="SimpleCardTeaser";var wS=nh;var ah=class extends n{constructor(e){super(),this.lines=e.lines.map(i=>new a(i)),this.style=e.layoutStyle}};r(ah,"SimpleTextSection");ah.type="SimpleTextSection";var TS=ah;var ch=class extends n{constructor(e){super(),this.action_text=new a(e.actionText),this.nav_text=new a(e.navigationText),this.details=new a(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new m(e.navigationEndpoint)}};r(ch,"SingleActionEmergencySupport");ch.type="SingleActionEmergencySupport";var vS=ch;var ph=class extends n{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new m(e.endpoint),this.content=p.parseItem(e.content,[ce,Qy,Dt])}};r(ph,"Tab");ph.type="Tab";var Be=ph;var lh=class extends n{constructor(e){super(),this.tabs=p.parseArray(e.tabs,Be)}};r(lh,"SingleColumnBrowseResults");lh.type="SingleColumnBrowseResults";var IS=lh;var uh=class extends n{constructor(e){super(),this.contents=p.parse(e)}};r(uh,"SingleColumnMusicWatchNextResults");uh.type="SingleColumnMusicWatchNextResults";var SS=uh;var fh=class extends n{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.style=e.style}};r(fh,"SingleHeroImage");fh.type="SingleHeroImage";var kS=fh;var mh=class extends n{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new a(e.title),this.endpoint=new m(e.navigationEndpoint),this.subscribe_button=p.parseItem(e.subscribeButton,me)}};r(mh,"SlimOwner");mh.type="SlimOwner";var ES=mh;var hh=class extends n{constructor(e){super(),this.title=new a(e.title),this.collapsed_subtitle=new a(e.collapsedSubtitle),this.expanded_subtitle=new a(e.expandedSubtitle),this.owner=p.parseItem(e.owner),this.description=new a(e.description),this.video_id=e.videoId,this.date=new a(e.dateText)}};r(hh,"SlimVideoMetadata");hh.type="SlimVideoMetadata";var CS=hh;var dh=class extends n{constructor(e){super(),this.start_at_option_label=new a(e.startAtOptionLabel)}};r(dh,"StartAt");dh.type="StartAt";var Pb=dh;var _h=class extends n{constructor(e){super(),this.contents=p.parse(e)}};r(_h,"Tabbed");_h.type="Tabbed";var PS=_h;var xh=class extends n{constructor(e){super(),this.tabs=p.parseArray(e.tabs,Be)}};r(xh,"TabbedSearchResults");xh.type="TabbedSearchResults";var NS=xh;var yh=class extends n{constructor(e){super(),this.title=new a(e.title),this.style=e.style}};r(yh,"TextHeader");yh.type="TextHeader";var AS=yh;var bh=class extends n{constructor(e){super(),this.share_targets=p.parseArray(e.shareTargets,Cb)}};r(bh,"ThirdPartyShareTargetSection");bh.type="ThirdPartyShareTargetSection";var Nb=bh;var gh=class extends n{constructor(e){super(),this.landscape=y.fromResponse(e.landscape),this.portrait=y.fromResponse(e.portrait)}};r(gh,"ThumbnailLandscapePortrait");gh.type="ThumbnailLandscapePortrait";var RS=gh;var wh=class extends n{constructor(e){super(),this.text=new a(e.text).toString()}};r(wh,"ThumbnailOverlayEndorsement");wh.type="ThumbnailOverlayEndorsement";var MS=wh;var Th=class extends n{constructor(e){super(),this.text=new a(e.text),this.icon_type=e.icon.iconType}};r(Th,"ThumbnailOverlayHoverText");Th.type="ThumbnailOverlayHoverText";var LS=Th;var vh=class extends n{constructor(e){super(),this.text=new a(e.text).toString(),this.icon_type=e.icon.iconType}};r(vh,"ThumbnailOverlayInlineUnplayable");vh.type="ThumbnailOverlayInlineUnplayable";var BS=vh;var Ih=class extends n{constructor(e){super(),this.text=new a(e.text)}};r(Ih,"ThumbnailOverlayLoadingPreview");Ih.type="ThumbnailOverlayLoadingPreview";var DS=Ih;var Sh=class extends n{constructor(e){super(),this.text=new a(e.text).toString()}};r(Sh,"ThumbnailOverlayNowPlaying");Sh.type="ThumbnailOverlayNowPlaying";var OS=Sh;var kh=class extends n{constructor(e){super(),this.hack=e.hack}};r(kh,"ThumbnailOverlayPinking");kh.type="ThumbnailOverlayPinking";var YS=kh;var Eh=class extends n{constructor(e){super(),this.texts=e.texts.map(i=>new a(i))}};r(Eh,"ThumbnailOverlayPlaybackStatus");Eh.type="ThumbnailOverlayPlaybackStatus";var VS=Eh;var Ch=class extends n{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};r(Ch,"ThumbnailOverlayResumePlayback");Ch.type="ThumbnailOverlayResumePlayback";var US=Ch;var Ph=class extends n{constructor(e){super(),this.text=new a(e.text),this.icon_type=e.icon.iconType}};r(Ph,"ThumbnailOverlaySidePanel");Ph.type="ThumbnailOverlaySidePanel";var FS=Ph;var Nh=class extends n{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},e.toggledServiceEndpoint&&(this.toggled_endpoint=new m(e.toggledServiceEndpoint)),e.untoggledServiceEndpoint&&(this.untoggled_endpoint=new m(e.untoggledServiceEndpoint))}};r(Nh,"ThumbnailOverlayToggleButton");Nh.type="ThumbnailOverlayToggleButton";var WS=Nh;var Ah=class extends n{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new a(e.label),this.icon=e.icon}};r(Ah,"TimedMarkerDecoration");Ah.type="TimedMarkerDecoration";var GS=Ah;var Rh=class extends n{constructor(e){super(),this.title=new a(e.title)}};r(Rh,"TitleAndButtonListHeader");Rh.type="TitleAndButtonListHeader";var HS=Rh;var Mh=class extends n{constructor(e){super(),this.text=new a(e.defaultText),this.toggled_text=new a(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new m(e.defaultServiceEndpoint),this.toggled_endpoint=new m(e.toggledServiceEndpoint)}};r(Mh,"ToggleMenuServiceItem");Mh.type="ToggleMenuServiceItem";var jS=Mh;var Lh=class extends n{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new m(i)),accept:new m(e.promoConfig.acceptCommand),dismiss:new m(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new a(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};r(Lh,"Tooltip");Lh.type="Tooltip";var $S=Lh;var Bh=class extends n{constructor(e){var i;super(),this.title=new a(e.title),this.avatar=y.fromResponse((i=e.thumbnail)!=null?i:e.avatar),this.subtitle=new a(e.subtitle),this.subscribe_button=p.parseItem(e.subscribeButton,me),this.endpoint=new m(e.navigationEndpoint)}};r(Bh,"TopicChannelDetails");Bh.type="TopicChannelDetails";var qS=Bh;var Dh=class extends n{constructor(e){super(),this.tabs=p.parseArray(e.tabs,[Be,ur]),this.secondary_contents=p.parseItem(e.secondaryContents,[ce,Hr,_b])}};r(Dh,"TwoColumnBrowseResults");Dh.type="TwoColumnBrowseResults";var Ot=Dh;var Oh=class extends n{constructor(e){super(),this.header=p.parseItem(e.header),this.primary_contents=p.parseItem(e.primaryContents,[Dt,ce]),this.secondary_contents=p.parseItem(e.secondaryContents,[vb]),"targetId"in e&&(this.target_id=e.targetId)}};r(Oh,"TwoColumnSearchResults");Oh.type="TwoColumnSearchResults";var Ab=Oh;var Rb,$g,Yh=class extends n{constructor(e){var o,c,l,f,h;super(),Rb.add(this),this.results=p.parseArray((o=e.results)==null?void 0:o.results.contents),this.secondary_results=p.parseArray((c=e.secondaryResults)==null?void 0:c.secondaryResults.results),this.conversation_bar=p.parseItem(e==null?void 0:e.conversationBar);let i=(l=e.playlist)==null?void 0:l.playlist;i&&(this.playlist={id:i.playlistId,title:i.title,author:(f=i.shortBylineText)!=null&&f.simpleText?new a(i.shortBylineText):new P(i.longBylineText),contents:p.parseArray(i.contents),current_index:i.currentIndex,is_infinite:!!i.isInfinite,menu:p.parseItem(i.menu,R)});let s=(h=e.autoplay)==null?void 0:h.autoplay;s&&(this.autoplay={sets:s.sets.map(_=>u(this,Rb,"m",$g).call(this,_))},s.modifiedSets&&(this.autoplay.modified_sets=s.modifiedSets.map(_=>u(this,Rb,"m",$g).call(this,_))),s.countDownSecs&&(this.autoplay.count_down_secs=s.countDownSecs))}};r(Yh,"TwoColumnWatchNextResults");Rb=new WeakSet,$g=r(function(e){let i={autoplay_video:new m(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new m(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");Yh.type="TwoColumnWatchNextResults";var Mb=Yh;var Vh=class extends n{constructor(e){if(super(),e.contents){let i=e.contents.find(s=>s.thirdPartyNetworkSection);i&&(this.third_party_network_section={share_target_container:p.parseItem(i.thirdPartyNetworkSection.shareTargetContainer,Nb),copy_link_container:p.parseItem(i.thirdPartyNetworkSection.copyLinkContainer,ss),start_at_container:p.parseItem(i.thirdPartyNetworkSection.startAtContainer,Pb)})}this.header=p.parseItem(e.header,Eb),this.share_panel_version=e.sharePanelVersion,Reflect.has(e,"showLoadingSpinner")&&(this.show_loading_spinner=e.showLoadingSpinner)}};r(Vh,"UnifiedSharePanel");Vh.type="UnifiedSharePanel";var KS=Vh;var Uh=class extends n{constructor(e){super(),this.message_title=new a(e.dialogMessageTitle),this.message_text=new a(e.dialogMessageText),this.action_button=p.parseItem(e.actionButton,T),this.dismiss_button=p.parseItem(e.dismissButton,T),this.is_visible=e.isVisible}};r(Uh,"UpsellDialog");Uh.type="UpsellDialog";var zS=Uh;var Fh=class extends n{constructor(e){super(),this.items=p.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new a(e.collapsedStateButtonText)}get contents(){return this.items}};r(Fh,"VerticalList");Fh.type="VerticalList";var XS=Fh;var Wh=class extends n{constructor(e){super(),this.items=p.parseArray(e.items),this.view_all_text=new a(e.viewAllText),this.view_all_endpoint=new m(e.viewAllEndpoint)}get contents(){return this.items}};r(Wh,"VerticalWatchCardList");Wh.type="VerticalWatchCardList";var QS=Wh;var Gh=class extends n{constructor(e){super(),this.title=new a(e.videoTitle),this.channel_name=new a(e.channelName),this.view_count=new a(e.viewCountText),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.duration=new a(e.lengthString),this.endpoint=new m(e.action)}};r(Gh,"VideoInfoCardContent");Gh.type="VideoInfoCardContent";var JS=Gh;var Hh=class extends n{constructor(e){super(),this.carousel_titles=p.parse(e.carouselTitles,!0,lx),this.carousel_items=p.parse(e.carouselItems,!0,px)}};r(Hh,"VideoMetadataCarouselView");Hh.type="VideoMetadataCarouselView";var ZS=Hh;var jh=class{constructor(e){this.text=new a(e.text),this.subscribed=e.isSubscribed,"subscriptionType"in e&&(this.subscription_type=e.subscriptionType)}};r(jh,"SubscriptionButton");jh.type="SubscriptionButton";var Lb=jh;var $h=class extends n{constructor(e){super(),"subscriptionButton"in e&&(this.subscription_button=new Lb(e.subscriptionButton)),this.subscriber_count=new a(e.subscriberCountText),this.author=new P({...e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.thumbnail)}};r($h,"VideoOwner");$h.type="VideoOwner";var vs=$h;var qh=class extends n{constructor(e){super(),this.original_view_count=e.originalViewCount,this.short_view_count=new a(e.shortViewCount),this.extra_short_view_count=new a(e.extraShortViewCount),this.view_count=new a(e.viewCount)}};r(qh,"VideoViewCount");qh.type="VideoViewCount";var Bb=qh;var Kh=class extends n{constructor(e){super(),this.title=new a(e.title),"superTitleLink"in e&&(this.super_title_link=new a(e.superTitleLink)),"stationName"in e&&(this.station_name=new a(e.stationName)),this.view_count=p.parseItem(e.viewCount,Bb),this.badges=p.parseArray(e.badges,Ge),this.published=new a(e.dateText),this.relative_date=new a(e.relativeDateText),this.menu=p.parseItem(e.videoActions,R)}};r(Kh,"VideoPrimaryInfo");Kh.type="VideoPrimaryInfo";var Db=Kh;var zh=class extends n{constructor(e){super(),this.owner=p.parseItem(e.owner,vs),this.description=new a(e.description),"attributedDescription"in e&&(this.description=a.fromAttributed(e.attributedDescription)),"descriptionPlaceholder"in e&&(this.description_placeholder=new a(e.descriptionPlaceholder)),this.subscribe_button=p.parseItem(e.subscribeButton,[me,T]),this.metadata=p.parseItem(e.metadataRowContainer,Uy),this.show_more_text=new a(e.showMoreText),this.show_less_text=new a(e.showLessText),this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};r(zh,"VideoSecondaryInfo");zh.type="VideoSecondaryInfo";var Xh=zh;var Qh=class extends n{constructor(e){super(),this.title=new a(e.title),this.subtitle=new a(e.subtitle),this.duration={text:new a(e.lengthText).toString(),seconds:be(e.lengthText.simpleText)},this.style=e.style}};r(Qh,"WatchCardCompactVideo");Qh.type="WatchCardCompactVideo";var Ob=Qh;var Jh=class extends n{constructor(e){var i;super(),this.endpoint=new m(e.navigationEndpoint),this.call_to_action_button=p.parseItem(e.callToActionButton),this.hero_image=p.parseItem(e.heroImage),this.label=((i=e.lengthText)==null?void 0:i.accessibility.accessibilityData.label)||""}};r(Jh,"WatchCardHeroVideo");Jh.type="WatchCardHeroVideo";var ek=Jh;var Zh=class extends n{constructor(e){super(),this.title=new a(e.title),this.title_endpoint=new m(e.titleNavigationEndpoint),this.subtitle=new a(e.subtitle),this.author=new P(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};r(Zh,"WatchCardRichHeader");Zh.type="WatchCardRichHeader";var tk=Zh;var ed=class extends n{constructor(e){super(),this.lists=p.parseArray(e.lists)}};r(ed,"WatchCardSectionSequence");ed.type="WatchCardSectionSequence";var ik=ed;var td=class extends Ot{constructor(e){super(e)}};r(td,"WatchNextTabbedResults");td.type="WatchNextTabbedResults";var rk=td;var id=class extends n{constructor(e){var i,s;super(),this.title=e.title,this.content=p.parseItem(e.content,ce),this.endpoint=new m(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)==null?void 0:i.assetKey,background_color:(s=e.categoryAssets)==null?void 0:s.backgroundColor},this.category_type=e.categoryType}};r(id,"AnchoredSection");id.type="AnchoredSection";var Yb=id;var rd,sd=class extends n{constructor(e){super(),rd.set(this,void 0),this.child_display_name=new a(e.childDisplayName),this.child_account_description=new a(e.childAccountDescription),this.avatar=y.fromResponse(e.avatar),this.block_button=p.parseItem(e.blockButton,[ie]),this.blocked_entity_key=e.blockedEntityKey}async blockChannel(){if(!u(this,rd,"f"))throw new g("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new g("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new g("This channel is already blocked.",{child_display_name:this.child_display_name});return await e.endpoint.call(u(this,rd,"f"),{parse:!1})}setActions(e){S(this,rd,e,"f")}};r(sd,"KidsBlocklistPickerItem");rd=new WeakMap;sd.type="KidsBlocklistPickerItem";var Vb=sd;var od=class extends n{constructor(e){super(),this.title=new a(e.title),this.child_rows=p.parse(e.childRows,!0,[Vb]),this.done_button=p.parseItem(e.doneButton,[T]),this.successful_toast_action_message=new a(e.successfulToastActionMessage)}};r(od,"KidsBlocklistPicker");od.type="KidsBlocklistPicker";var sk=od;var nd=class extends n{constructor(e){var i,s;super(),this.title=new a(e.title),this.category_assets={asset_key:(i=e.categoryAssets)==null?void 0:i.assetKey,background_color:(s=e.categoryAssets)==null?void 0:s.backgroundColor},this.category_type=e.categoryType,this.endpoint=new m(e.endpoint)}};r(nd,"KidsCategoryTab");nd.type="KidsCategoryTab";var Ub=nd;var ad=class extends n{constructor(e){super(),this.category_tabs=p.parseArray(e.categoryTabs,Ub),this.privacy_button=p.parseItem(e.privacyButtonRenderer,T)}};r(ad,"KidsCategoriesHeader");ad.type="kidsCategoriesHeader";var ok=ad;var cd=class extends n{constructor(e){super(),this.anchors=p.parseArray(e.anchors,Yb)}};r(cd,"KidsHomeScreen");cd.type="kidsHomeScreen";var nk=cd;var Zg={};ze(Zg,{camelToSnake:()=>_r,createRuntimeClass:()=>_k,generateRuntimeClass:()=>ld,generateTypescriptClass:()=>Wb,inferType:()=>Fb,introspect:()=>zg,isArrayType:()=>hk,isIgnoredKey:()=>dk,isMiscType:()=>mk,isRenderer:()=>Kg,isRendererList:()=>fk,mergeKeyInfo:()=>pd,parse:()=>Jg,toParser:()=>Qg,toTypeDeclaration:()=>Xg});var aC=new Set(["trackingParams","accessibility","accessibilityData"]),qg={};function _r(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}r(_r,"camelToSnake");function Fb(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=Kg(e))return qg[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=fk(e)){for(let[o,c]of Object.entries(i))qg[o]=c;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=mk(t,e))||(i=hk(e)))return i}let s=typeof e;return s==="object"?{type:"object",keys:Object.entries(e).map(([o,c])=>[o,Fb(o,c)]),optional:!1}:{type:"primitive",typeof:[s],optional:!1}}r(Fb,"inferType");function fk(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(s=>Kg(s))?Object.fromEntries(t.map(s=>{let o=Reflect.ownKeys(s)[0].toString();return[Ss(o),s[o]]})):!1}r(fk,"isRendererList");function mk(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new m(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new a(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}r(mk,"isMiscType");function Kg(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let s=i[0].toString();if(s.endsWith("Renderer")||s.endsWith("Model"))return Ss(s)}return!1}r(Kg,"isRenderer");function hk(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["never"],optional:!1},optional:!1};let e=t.map(c=>typeof c);if(!e.every(c=>c===e[0]))return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!1},optional:!1};let s=e[0];if(s!=="object")return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:[s],optional:!1},optional:!1};let o=[];for(let c=0;c<t.length;c++){let l=Object.entries(t[c]).map(([f,h])=>[f,Fb(f,h)]);if(c===0){o=l;continue}o=pd(o,l).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:o,optional:!1},optional:!1}}r(hk,"isArrayType");function cC(t){if(typeof t!="object"||t===null)throw new g("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!dk(i)).filter(i=>typeof i=="string").map(i=>{let s=Reflect.get(t,i),o=Fb(i,s);return[i,o]})}r(cC,"introspectKeysFirstPass");function pC(t){var l;let i=t.filter(([,f])=>{var h;return f.type!=="misc"||!(f.misc_type==="NavigationEndpoint"||f.misc_type==="Text")?!1:((h=f.endpoint)==null?void 0:h.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,f],[,h])=>f.type!=="misc"||h.type!=="misc"||f.misc_type!=="Text"||h.misc_type!=="Text"?0:h.text.length-f.text.length),s=new Set,o=i[0],c;if(o){s.add(o[0]);let h=t.map(([v])=>v).filter(v=>v.endsWith("Badges")||v==="badges"),x=(l=h.filter(v=>v.startsWith("owner")||v.startsWith("author"))[0])!=null?l:h[0],b=t.find(([v])=>v===x),w=b?b[1].type==="array"&&b[1].array_type==="renderer"&&Reflect.has(b[1].renderers,"MetadataBadge"):!1;w&&x&&s.add(x),c={type:"misc",misc_type:"Author",optional:!1,params:[o[0],w?x:void 0]}}return c&&t.push(["author",c]),t.filter(([f])=>!s.has(f))}r(pC,"introspectKeysSecondPass");function lC(t){let e=cC(t);return pC(e)}r(lC,"introspect2");function zg(t){let e=lC(t),i=new Map;for(let[,o]of e)if(o.type==="renderer"||o.type==="array"&&o.array_type==="renderer")for(let c of o.renderers){let l=qg[c];l&&i.set(c,l)}let s=Array.from(i).filter(([o])=>!ud(o));return{key_info:e,unimplemented_dependencies:s}}r(zg,"introspect");function dk(t){return typeof t=="string"&&aC.has(t)}r(dk,"isIgnoredKey");function _k(t,e,i){var s,o;i({error_type:"class_not_found",classname:t,key_info:e});let c=(s=r(class extends n{static set key_info(l){S(this,s,new Map(l),"f",o)}static get key_info(){return[...u(this,s,"f",o).entries()]}constructor(l){super();let{key_info:f,unimplemented_dependencies:h}=zg(l),{resolved_key_info:_,changed_keys:x}=pd(c.key_info,f);x.length>0&&(c.key_info=_,i({error_type:"class_changed",classname:t,key_info:c.key_info,changed_keys:x}));for(let[w,v]of h)ld(w,v,i);for(let[w,v]of f){let I=_r(w);v.type==="misc"&&v.misc_type==="NavigationEndpoint"&&(I="endpoint"),Reflect.set(this,I,Jg(w,v,l))}}},"_a"),Jw(s,"node"),s.type=t,o={value:new Map},s);return c.key_info=e,Object.defineProperty(c,"name",{value:t,writable:!1}),c}r(_k,"createRuntimeClass");function ld(t,e,i){let{key_info:s,unimplemented_dependencies:o}=zg(e),c=_k(t,s,i);ew(t,c);for(let[l,f]of o)ld(l,f,i);return c}r(ld,"generateRuntimeClass");function Wb(t,e){let i=[],s=["super();"];for(let[o,c]of e){let l=_r(o);c.type==="misc"&&c.misc_type==="NavigationEndpoint"&&(l="endpoint"),i.push(`${l}${c.optional?"?":""}: ${Xg(c)};`),s.push(`this.${l} = ${Qg(o,c)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${s.join(`
    `)}
  }
}
`}r(Wb,"generateTypescriptClass");function ak(t,e){return`{
${e.map(([i,s])=>`${" ".repeat((t+2)*2)}${_r(i)}${s.optional?"?":""}: ${Xg(s,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}r(ak,"toTypeDeclarationObject");function Xg(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${ak(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return ak(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primitive":return t.typeof.join(" | ")}}r(Xg,"toTypeDeclaration");function ck(t,e,i,s){let o=[...i,s];return`{
${e.map(([c,l])=>`${" ".repeat((t+2)*2)}${_r(c)}: ${Qg(c,l,o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}r(ck,"toParserObject");function Qg(t,e,i=["data"],s=1){let o="undefined";switch(e.type){case"renderer":o=`Parser.parseItem(${i.join(".")}.${t}, ${pk(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":o=`Parser.parse(${i.join(".")}.${t}, true, ${pk(e.renderers)})`;break;case"object":o=`${i.join(".")}.${t}.map((item: any) => (${ck(s,e.items.keys,[],"item")}))`;break;case"primitive":o=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":o=ck(s,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":o=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let c=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${c} : undefined`:c}default:o=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(o==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primitive":o=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${o} : undefined`:o}r(Qg,"toParser");function pk(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}r(pk,"toParserValidTypes");function Yt(t,e){let i=t;for(let s of e)i=i[s];return i}r(Yt,"accessDataFromKeyPath");function lk(t,e){let i=t;for(let s of e)if(Reflect.has(i,s))i=i[s];else return!1;return!0}r(lk,"hasDataFromKeyPath");function uk(t,e,i,s,o){let c={},l=[...i,t];for(let[f,h]of s)c[f]=o?Jg(f,h,e,l):void 0;return c}r(uk,"parseObject");function Jg(t,e,i,s=["data"]){let o=!e.optional||lk({data:i},[...s,t]);switch(e.type){case"renderer":return o?K(Yt({data:i},[...s,t]),e.renderers.map(c=>Is(c))):void 0;case"array":switch(e.array_type){case"renderer":return o?De(Yt({data:i},[...s,t]),!0,e.renderers.map(c=>Is(c))):void 0;case"object":return o?Yt({data:i},[...s,t]).map((c,l)=>uk(`${l}`,i,[...s,t],e.items.keys,o)):void 0;case"primitive":return o?Yt({data:i},[...s,t]):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return uk(t,i,s,e.keys,o);case"misc":switch(e.misc_type){case"NavigationEndpoint":return o?new m(Yt({data:i},[...s,t])):void 0;case"Text":return o?new a(Yt({data:i},[...s,t])):void 0;case"Thumbnail":return o?y.fromResponse(Yt({data:i},[...s,t])):void 0;case"Author":return!e.optional||lk({data:i},[...s,e.params[0]])?new P(Yt({data:i},[...s,e.params[0]]),e.params[1]?Yt({data:i},[...s,e.params[1]]):void 0):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"primitive":return Yt({data:i},[...s,t])}}r(Jg,"parse");function pd(t,e){let i=new Map,s=new Set(t.map(([w])=>w)),o=new Set(e.map(([w])=>w)),c=e.filter(([w])=>!s.has(w)),l=t.filter(([w])=>!o.has(w)),f=t.filter(([w])=>o.has(w)),h=new Map(e);for(let[w,v]of f){let I=h.get(w);if(!!I){if(v.type!==I.type){i.set(w,{type:"primitive",typeof:["unknown"],optional:!0});continue}switch(v.type){case"object":{if(I.type!=="object")continue;let{resolved_key_info:k}=pd(v.keys,I.keys),C={type:"object",keys:k,optional:v.optional||I.optional};JSON.stringify(C)!==JSON.stringify(v)&&i.set(w,C)}break;case"renderer":{if(I.type!=="renderer")continue;let k={...v.renderers,...I.renderers},C=v.optional||I.optional,E={type:"renderer",renderers:k,optional:C};JSON.stringify({...E,renderers:Object.keys(E.renderers)})!==JSON.stringify({...v,renderers:Object.keys(v.renderers)})&&i.set(w,E)}break;case"array":{if(I.type!=="array")continue;switch(v.array_type){case"renderer":{if(I.array_type!=="renderer"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let k={...v.renderers,...I.renderers},C=v.optional||I.optional,E={type:"array",array_type:"renderer",renderers:k,optional:C};JSON.stringify({...E,renderers:Object.keys(E.renderers)})!==JSON.stringify({...v,renderers:Object.keys(v.renderers)})&&i.set(w,E)}break;case"object":{if(I.array_type==="primitive"&&I.items.typeof.length==1&&I.items.typeof[0]==="never")continue;if(I.array_type!=="object"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:k}=pd(v.items.keys,I.items.keys),C={type:"array",array_type:"object",items:{type:"object",keys:k,optional:v.items.optional||I.items.optional},optional:v.optional||I.optional};JSON.stringify(C)!==JSON.stringify(v)&&i.set(w,C)}break;case"primitive":{if(v.items.typeof.includes("never")&&I.array_type==="object"){i.set(w,I);continue}if(I.array_type!=="primitive"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let k=new Set([...I.items.typeof,...v.items.typeof]);k.size>1&&k.has("never")&&k.delete("never");let C={type:"array",array_type:"primitive",items:{type:"primitive",typeof:Array.from(k),optional:v.items.optional||I.items.optional},optional:v.optional||I.optional};JSON.stringify(C)!==JSON.stringify(v)&&i.set(w,C)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}break}case"misc":{if(I.type!=="misc")continue;switch(v.misc_type!==I.misc_type&&i.set(w,{type:"primitive",typeof:["unknown"],optional:!0}),v.misc_type){case"Author":{if(I.misc_type!=="Author")break;let k=v.params[1]||I.params[1],C=v.optional||I.optional,E={type:"misc",misc_type:"Author",optional:C,params:[I.params[0],k]};JSON.stringify(E)!==JSON.stringify(v)&&i.set(w,E)}break}}break;case"primitive":{if(I.type!=="primitive")continue;let k={type:"primitive",typeof:Array.from(new Set([...I.typeof,...v.typeof])),optional:v.optional||I.optional};JSON.stringify(k)!==JSON.stringify(v)&&i.set(w,k)}break}}}for(let[w,v]of c)i.set(w,{...v,optional:!0});for(let[w,v]of l)i.set(w,{...v,optional:!0});let _=t.filter(([w])=>!i.has(w));return{resolved_key_info:[...new Map([..._,...i]).entries()],changed_keys:[...i.entries()]}}r(pd,"mergeKeyInfo");var ks=class extends n{constructor(e){var i,s,o;super(),this.contents=Ee(e.contents),Array.isArray(e.continuations)&&(this.continuation=(o=(s=(i=e.continuations)==null?void 0:i.at(0))==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)}};r(ks,"ItemSectionContinuation");ks.type="itemSectionContinuation";var Bi=class extends n{constructor(e){super(),this.endpoint=new m(e.endpoint)}};r(Bi,"NavigateAction");Bi.type="navigateAction";var Es=class extends n{constructor(e){super(),this.miniplayer_command=new m(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};r(Es,"ShowMiniplayerCommand");Es.type="showMiniplayerCommand";var Ce=class extends n{constructor(e){super(),this.target_id=e.targetId,this.contents=De(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};r(Ce,"ReloadContinuationItemsCommand");Ce.type="reloadContinuationItemsCommand";var Cs=class extends n{constructor(e){var i,s,o,c,l,f;super(),this.contents=De(e.contents,!0),this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||((f=(l=(c=e.continuations)==null?void 0:c[0])==null?void 0:l.reloadContinuationData)==null?void 0:f.continuation)||null}};r(Cs,"SectionListContinuation");Cs.type="sectionListContinuation";var Ps=class extends n{constructor(e){var i;super(),this.contents=De(e.contents,!0),this.continuation=((i=e.continuations)==null?void 0:i[0].nextContinuationData.continuation)||null}};r(Ps,"MusicPlaylistShelfContinuation");Ps.type="musicPlaylistShelfContinuation";var Ns=class extends n{constructor(e){var i,s,o,c;super(),this.contents=Ee(e.contents),this.continuation=((s=(i=e.continuations)==null?void 0:i[0].nextContinuationData)==null?void 0:s.continuation)||((c=(o=e.continuations)==null?void 0:o[0].reloadContinuationData)==null?void 0:c.continuation)||null}};r(Ns,"MusicShelfContinuation");Ns.type="musicShelfContinuation";var As=class extends n{constructor(e){var i;super(),this.items=De(e.items,!0),this.continuation=((i=e.continuations)==null?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};r(As,"GridContinuation");As.type="gridContinuation";var Rs=class extends n{constructor(e){var i,s,o,c,l,f;super(),this.contents=Ee(e.contents),this.continuation=((o=(s=(i=e.continuations)==null?void 0:i[0])==null?void 0:s.nextContinuationData)==null?void 0:o.continuation)||((f=(l=(c=e.continuations)==null?void 0:c[0])==null?void 0:l.nextRadioContinuationData)==null?void 0:f.continuation)||null}};r(Rs,"PlaylistPanelContinuation");Rs.type="playlistPanelContinuation";var xr=class extends n{constructor(e){var i,s,o;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)==null?void 0:i.timeoutMs,this.time_until_last_message_ms=(s=e.continuation)==null?void 0:s.timeUntilLastMessageMsec,this.token=(o=e.continuation)==null?void 0:o.continuation}};r(xr,"Continuation");xr.type="continuation";var Di=class extends n{constructor(e){var o,c,l,f,h,_,x,b;super(),this.actions=De((o=e.actions)==null?void 0:o.map(w=>(delete w.clickTrackingParams,w)),!0)||G([]),this.action_panel=K(e.actionPanel),this.item_list=K(e.itemList,Ny),this.header=K(e.header,Py),this.participants_list=K(e.participantsList,Ry),this.popout_message=K(e.popoutMessage,Ri),this.emojis=((c=e.emojis)==null?void 0:c.map(w=>({emoji_id:w.emojiId,shortcuts:w.shortcuts,search_terms:w.searchTerms,image:y.fromResponse(w.image),is_custom_emoji:w.isCustomEmoji})))||[];let i,s;(l=e.continuations)!=null&&l[0].timedContinuationData?(s="timed",i=(f=e.continuations)==null?void 0:f[0].timedContinuationData):(h=e.continuations)!=null&&h[0].invalidationContinuationData?(s="invalidation",i=(_=e.continuations)==null?void 0:_[0].invalidationContinuationData):(x=e.continuations)!=null&&x[0].liveChatReplayContinuationData&&(s="replay",i=(b=e.continuations)==null?void 0:b[0].liveChatReplayContinuationData),this.continuation=new xr({continuation:i,type:s}),this.viewer_name=e.viewerName}};r(Di,"LiveChatContinuation");Di.type="liveChatContinuation";var si=class extends n{constructor(e){super(),this.request=e.request,this.token=e.token}};r(si,"ContinuationCommand");si.type="ContinuationCommand";function uC(){return{key:void 0,value:void 0}}r(uC,"createBaseKeyValuePair");var xk={encode(t,e=new ye){return t.key!==void 0&&e.uint32(10).string(t.key),t.value!==void 0&&e.uint32(18).string(t.value),e},decode(t,e){let i=t instanceof q?t:new q(t),s=e===void 0?i.len:i.pos+e,o=uC();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.key=i.string();continue;case 2:if(c!==18)break;o.value=i.string();continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};function fC(){return{xtags:[]}}r(fC,"createBaseFormatXTags");var yk={encode(t,e=new ye){for(let i of t.xtags)xk.encode(i,e.uint32(10).fork()).join();return e},decode(t,e){let i=t instanceof q?t:new q(t),s=e===void 0?i.len:i.pos+e,o=fC();for(;i.pos<s;){let c=i.uint32();switch(c>>>3){case 1:if(c!==10)break;o.xtags.push(xk.decode(i,i.uint32()));continue}if((c&7)===4||c===0)break;i.skip(c&7)}return o}};var Gb,Hb=class{constructor(e,i){var s,o,c,l,f,h,_;if(Gb.set(this,void 0),i&&S(this,Gb,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=(s=e.stereoLayout)==null?void 0:s.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.last_modified_ms=e.lastModified,Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=(o=e.spatialAudioType)==null?void 0:o.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:(c=e.colorInfo.primaries)==null?void 0:c.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(l=e.colorInfo.transferCharacteristics)==null?void 0:l.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(f=e.colorInfo.matrixCoefficients)==null?void 0:f.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let x=this.xtags?yk.decode(so(decodeURIComponent(this.xtags).replace(/-/g,"+").replace(/_/g,"/"))).xtags:[];if(this.language=((h=x.find(b=>b.key==="lang"))==null?void 0:h.value)||null,this.has_audio){this.is_drc=!!e.isDrc||x.some(w=>w.key==="drc"&&w.value==="1");let b=(_=x.find(w=>w.key==="acont"))==null?void 0:_.value;this.is_dubbed=b==="dubbed",this.is_descriptive=b==="descriptive",this.is_secondary=b==="secondary",this.is_auto_dubbed=b==="dubbed-auto",this.is_original=b==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_auto_dubbed&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}async decipher(e){return e?e.decipher(this.url,this.signature_cipher,this.cipher,u(this,Gb,"f")):this.url||""}};r(Hb,"Format");Gb=new WeakMap;var jb=Hb;var Oi=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=y.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};r(Oi,"VideoDetails");var yr="Parser",mC=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","PromotedSparklesWeb","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),sw=new Map(Object.entries(mr)),bk=new Map,br=null,oi=r(({classname:t,...e})=>{switch(e.error_type){case"parse":e.error instanceof Error&&D.warn(yr,new g(`Something went wrong at ${t}!
This is a bug, please report it at ${L.shim.info.bugs_url}`,{stack:e.error.stack,classdata:JSON.stringify(e.classdata,null,2)}));break;case"typecheck":D.warn(yr,new Xe(`Type mismatch, got ${t} expected ${Array.isArray(e.expected)?e.expected.join(" | "):e.expected}.`,e.classdata));break;case"mutation_data_missing":D.warn(yr,new g(`Mutation data required for processing ${t}, but none found.
This is a bug, please report it at ${L.shim.info.bugs_url}`));break;case"mutation_data_invalid":D.warn(yr,new g(`Mutation data missing or invalid for ${e.failed} out of ${e.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${e.titles.join(", ")}.
This is a bug, please report it at ${L.shim.info.bugs_url}`));break;case"class_not_found":D.warn(yr,new g(`${t} not found!
This is a bug, want to help us fix it? Follow the instructions at ${L.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${L.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${Wb(t,e.key_info)}`));break;case"class_changed":D.warn(yr,`${t} changed!
The following keys where altered: ${e.changed_keys.map(([i])=>_r(i)).join(", ")}
The class has changed to:
${Wb(t,e.key_info)}`);break;default:D.warn(yr,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function hC(t){oi=t}r(hC,"setParserErrorHandler");function Vt(){br=null}r(Vt,"_clearMemo");function Ut(){br=new di}r(Ut,"_createMemo");function dC(t,e){if(!br)return;let i=br.get(t);if(!i)return br.set(t,[e]);i.push(e)}r(dC,"_addToMemo");function Ft(){if(!br)throw new Error("Parser#getMemo() called before Parser#createMemo()");return br}r(Ft,"_getMemo");function ow(t){return mC.has(t)}r(ow,"shouldIgnore");function Ss(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}r(Ss,"sanitizeClassName");function Is(t){let e=sw.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}r(Is,"getParserByName");function ud(t){return sw.has(t)}r(ud,"hasParser");function ew(t,e){sw.set(t,e),bk.set(t,e)}r(ew,"addRuntimeParser");function _C(){return Object.fromEntries(bk)}r(_C,"getDynamicParsers");function tw(t){var Bw,Dw,Ow,Yw,Vw,Uw,Fw,Ww,Gw,Hw,jw,$w,qw,Kw,zw,Xw;let e={};Ut();let i=De(t.contents),s=Ft();i&&(e.contents=i,e.contents_memo=s),Vt(),Ut();let o=t.onResponseReceivedActions?$b(t.onResponseReceivedActions):null,c=Ft();o&&(e.on_response_received_actions=o,e.on_response_received_actions_memo=c),Vt(),Ut();let l=t.onResponseReceivedEndpoints?$b(t.onResponseReceivedEndpoints):null,f=Ft();l&&(e.on_response_received_endpoints=l,e.on_response_received_endpoints_memo=f),Vt(),Ut();let h=t.onResponseReceivedCommands?$b(t.onResponseReceivedCommands):null,_=Ft();h&&(e.on_response_received_commands=h,e.on_response_received_commands_memo=_),Vt(),Ut();let x=t.continuationContents?iw(t.continuationContents):null,b=Ft();x&&(e.continuation_contents=x,e.continuation_contents_memo=b),Vt(),Ut();let w=t.actions?Tk(t.actions):null,v=Ft();w&&(e.actions=w,e.actions_memo=v),Vt(),Ut();let I=t.liveChatItemContextMenuSupportedRenderers?K(t.liveChatItemContextMenuSupportedRenderers):null,k=Ft();I&&(e.live_chat_item_context_menu_supported_renderers=I,e.live_chat_item_context_menu_supported_renderers_memo=k),Vt(),Ut();let C=t.header?De(t.header):null,E=Ft();C&&(e.header=C,e.header_memo=E),Vt(),Ut();let O=t.sidebar?K(t.sidebar):null,z=Ft();O&&(e.sidebar=O,e.sidebar_memo=z),Vt(),Ut();let M=De(t.items);M&&(e.items=M,e.items_memo=Ft()),Vt(),vk(s,(Dw=(Bw=t.frameworkUpdates)==null?void 0:Bw.entityBatchUpdate)==null?void 0:Dw.mutations),f&&Ik(f,(Yw=(Ow=t.frameworkUpdates)==null?void 0:Ow.entityBatchUpdate)==null?void 0:Yw.mutations);let ne=t.continuation?wk(t.continuation):null;ne&&(e.continuation=ne);let le=t.continuationEndpoint?iw(t.continuationEndpoint):null;le&&(e.continuation_endpoint=le);let V=De(t.metadata);V&&(e.metadata=V);let se=K(t.microformat);se&&(e.microformat=se);let F=K(t.overlay);F&&(e.overlay=F);let Y=Ee(t.alerts,[Vr,d_]);Y.length&&(e.alerts=Y);let J=t.refinements;J&&(e.refinements=J);let re=t.estimatedResults?parseInt(t.estimatedResults):null;re&&(e.estimated_results=re);let Ve=De(t.playerOverlays);Ve&&(e.player_overlays=Ve);let lt=K(t.background,Ie);lt&&(e.background=lt);let ut=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;ut&&(e.playback_tracking=ut);let ft=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playability:K(t.playabilityStatus.audioOnlyPlayability,y_),error_screen:K(t.playabilityStatus.errorScreen)}:null;if(ft&&(e.playability_status=ft),t.streamingData){let Br=new Map;e.streaming_data={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:rw(t.streamingData.formats,Br),adaptive_formats:rw(t.streamingData.adaptiveFormats,Br),dash_manifest_url:t.streamingData.dashManifestUrl,hls_manifest_url:t.streamingData.hlsManifestUrl,server_abr_streaming_url:t.streamingData.serverAbrStreamingUrl}}t.playerConfig&&(e.player_config={audio_config:{loudness_db:(Vw=t.playerConfig.audioConfig)==null?void 0:Vw.loudnessDb,perceptual_loudness_db:(Uw=t.playerConfig.audioConfig)==null?void 0:Uw.perceptualLoudnessDb,enable_per_format_loudness:(Fw=t.playerConfig.audioConfig)==null?void 0:Fw.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((Ww=t.playerConfig.streamSelectionConfig)==null?void 0:Ww.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((Hw=(Gw=t.playerConfig.mediaCommonConfig)==null?void 0:Gw.dynamicReadaheadConfig)==null?void 0:Hw.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:(($w=(jw=t.playerConfig.mediaCommonConfig)==null?void 0:jw.dynamicReadaheadConfig)==null?void 0:$w.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((Kw=(qw=t.playerConfig.mediaCommonConfig)==null?void 0:qw.dynamicReadaheadConfig)==null?void 0:Kw.readAheadGrowthRateMs)||0},media_ustreamer_request_config:{video_playback_ustreamer_config:(Xw=(zw=t.playerConfig.mediaCommonConfig)==null?void 0:zw.mediaUstreamerRequestConfig)==null?void 0:Xw.videoPlaybackUstreamerConfig}}});let Ue=t.currentVideoEndpoint?new m(t.currentVideoEndpoint):null;Ue&&(e.current_video_endpoint=Ue);let mi=t.endpoint?new m(t.endpoint):null;mi&&(e.endpoint=mi);let hi=K(t.captions,sb);hi&&(e.captions=hi);let qt=t.videoDetails?new Oi(t.videoDetails):null;qt&&(e.video_details=qt);let ue=Ee(t.annotations,rb);ue.length&&(e.annotations=ue);let Z=K(t.storyboards,[er,nb]);Z&&(e.storyboards=Z);let Ne=K(t.endscreen,Kx);Ne&&(e.endscreen=Ne);let tt=K(t.cards,nx);tt&&(e.cards=tt);let ae=Ee(t.engagementPanels,Pi);if(ae.length&&(e.engagement_panels=ae),t.bgChallenge){let Br={private_do_not_access_or_else_trusted_resource_url_wrapped_value:t.bgChallenge.interpreterUrl.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue,private_do_not_access_or_else_safe_script_wrapped_value:t.bgChallenge.interpreterUrl.privateDoNotAccessOrElseSafeScriptWrappedValue};e.bg_challenge={interpreter_url:Br,interpreter_hash:t.bgChallenge.interpreterHash,program:t.bgChallenge.program,global_name:t.bgChallenge.globalName,client_experiments_state_blob:t.bgChallenge.clientExperimentsStateBlob}}return t.challenge&&(e.challenge=t.challenge),t.playerResponse&&(e.player_response=tw(t.playerResponse)),t.watchNextResponse&&(e.watch_next_response=tw(t.watchNextResponse)),t.cpnInfo&&(e.cpn_info={cpn:t.cpnInfo.cpn,cpn_source:t.cpnInfo.cpnSource}),t.entries&&(e.entries=t.entries.map(Br=>new m(Br))),e}r(tw,"parseResponse");function K(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let s=Ss(i[0]);if(!ow(s))try{let c=ud(s)?Is(s):ld(s,t[i[0]],oi);if(e){if(Array.isArray(e)){if(!e.some(f=>f.type===c.type))return oi({classdata:t[i[0]],classname:s,error_type:"typecheck",expected:e.map(f=>f.type)}),null}else if(c.type!==e.type)return oi({classdata:t[i[0]],classname:s,error_type:"typecheck",expected:e.type}),null}let l=new c(t[i[0]]);return dC(s,l),l}catch(o){return oi({classname:s,classdata:t[i[0]],error:o,error_type:"parse"}),null}return null}r(K,"parseItem");function Ee(t,e){if(Array.isArray(t)){let i=[];for(let s of t){let o=K(s,e);o&&i.push(o)}return G(i)}else if(!t)return G([]);throw new Xe("Expected array but got a single item")}r(Ee,"parseArray");function De(t,e,i){if(!t)return null;if(Array.isArray(t)){let s=[];for(let c of t){let l=K(c,i);l&&s.push(l)}let o=G(s);return e?o:new Pt(o)}else if(e)throw new Xe("Expected array but got a single item");return new Pt(K(t,i))}r(De,"parse");var xC=/Command$/,yC=/Endpoint$/,bC=/Action$/;function gk(t){let e=[];try{e=Object.keys(t)}catch{}for(let i of e){let s=t[i];if(xC.test(i)||yC.test(i)||bC.test(i)){let o=Ss(i);if(ow(o))return;try{if(ud(o))return new(Is(o))(s)}catch(c){oi({error:c,classname:o,classdata:s,error_type:"parse"})}}}}r(gk,"parseCommand");function gC(t){if(Array.isArray(t)){let e=[];for(let i of t){let s=gk(i);s&&e.push(s)}return G(e)}else if(!t)return G([]);throw new Xe("Expected array but got a single item")}r(gC,"parseCommands");function wk(t){return t.timedContinuationData?new xr({continuation:t.timedContinuationData,type:"timed"}):null}r(wk,"parseC");function iw(t){return t.itemSectionContinuation?new ks(t.itemSectionContinuation):t.sectionListContinuation?new Cs(t.sectionListContinuation):t.liveChatContinuation?new Di(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new Ps(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new Ns(t.musicShelfContinuation):t.gridContinuation?new As(t.gridContinuation):t.playlistPanelContinuation?new Rs(t.playlistPanelContinuation):t.continuationCommand?new si(t.continuationCommand):null}r(iw,"parseLC");function $b(t){return G(t.map(e=>{if(e.navigateAction)return new Bi(e.navigateAction);if(e.showMiniplayerCommand)return new Es(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new Ce(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Ae(e.appendContinuationItemsAction);if(e.openPopupAction)return new Or(e.openPopupAction)}).filter(e=>e))}r($b,"parseRR");function Tk(t){return Array.isArray(t)?De(t.map(e=>(delete e.clickTrackingParams,e))):new Pt(K(t))}r(Tk,"parseActions");function rw(t,e){return(t==null?void 0:t.map(i=>new jb(i,e)))||[]}r(rw,"parseFormats");function vk(t,e){let i=t.getType(us);if(i.length>0&&!e)oi({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let s=[];for(let o of i){let c=e.find(f=>{var h,_;return((_=(h=f.payload)==null?void 0:h.musicFormBooleanChoice)==null?void 0:_.id)===o.form_item_entity_key}),l=c==null?void 0:c.payload.musicFormBooleanChoice;(l==null?void 0:l.selected)!==void 0&&(l==null?void 0:l.opaqueToken)?o.selected=l.selected:s.push(`'${o.title}'`)}s.length>0&&oi({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:s.length,titles:s})}}r(vk,"applyMutations");function Ik(t,e){var s,o,c,l,f,h;let i=t.getType(sr);if(i.length>0){e||oi({error_type:"mutation_data_missing",classname:"CommentView"});for(let _ of i){let x=(o=(s=e.find(v=>{var I,k;return((k=(I=v.payload)==null?void 0:I.commentEntityPayload)==null?void 0:k.key)===_.keys.comment}))==null?void 0:s.payload)==null?void 0:o.commentEntityPayload,b=(l=(c=e.find(v=>{var I,k;return((k=(I=v.payload)==null?void 0:I.engagementToolbarStateEntityPayload)==null?void 0:k.key)===_.keys.toolbar_state}))==null?void 0:c.payload)==null?void 0:l.engagementToolbarStateEntityPayload,w=(h=(f=e.find(v=>v.entityKey===_.keys.toolbar_surface))==null?void 0:f.payload)==null?void 0:h.engagementToolbarSurfaceEntityPayload;_.applyMutations(x,b,w)}}}r(Ik,"applyCommentsMutations");var uw={};ze(uw,{AccountInfo:()=>Sk,Channel:()=>_e,ChannelListContinuation:()=>Ir,Comments:()=>Ek,FilteredChannelList:()=>Fi,Guide:()=>Ck,HashtagFeed:()=>Wi,History:()=>Gt,HomeFeed:()=>ni,ItemMenu:()=>tg,Library:()=>Nk,LiveChat:()=>lg,NotificationsMenu:()=>Rk,Playlist:()=>Ws,Search:()=>pi,Settings:()=>Mk,SmoothedQueue:()=>ng,TranscriptInfo:()=>Xb,VideoInfo:()=>vd});var Ms,qb=class{constructor(e){if(Ms.set(this,void 0),S(this,Ms,p.parseResponse(e.data),"f"),!u(this,Ms,"f").contents)throw new g("Page contents not found");let i=u(this,Ms,"f").contents.array().as(s_)[0];if(!i)throw new g("Account section list not found");this.contents=i.contents[0]}get page(){return u(this,Ms,"f")}};r(qb,"AccountInfo");Ms=new WeakMap;var Sk=qb;var fd,Pe,md,je,gr,kk,nw,Yi=class{constructor(e,i,s=!1){fd.add(this),Pe.set(this,void 0),md.set(this,void 0),je.set(this,void 0),gr.set(this,void 0),u(this,fd,"m",kk).call(this,i)||s?S(this,Pe,i,"f"):S(this,Pe,p.parseResponse(i.data),"f");let o=aw(u(this,Pe,"f").contents_memo,u(this,Pe,"f").continuation_contents_memo,u(this,Pe,"f").on_response_received_commands_memo,u(this,Pe,"f").on_response_received_endpoints_memo,u(this,Pe,"f").on_response_received_actions_memo,u(this,Pe,"f").sidebar_memo,u(this,Pe,"f").header_memo);if(!o)throw new g("No memo found in feed");S(this,je,o,"f"),S(this,md,e,"f")}static getVideosFromMemo(e){return e.getType(qr,iy,_s,Ts,Kr,hs,ri,Ob)}static getPlaylistsFromMemo(e){let i=e.getType(Mt,Zx),s=e.getType(Ly).filter(o=>["PLAYLIST","ALBUM","PODCAST"].includes(o.content_type));return s.length>0&&i.push(...s),i}get videos(){return Yi.getVideosFromMemo(u(this,je,"f"))}get posts(){return u(this,je,"f").getType(vi,ds,kb)}get channels(){return u(this,je,"f").getType(ux,Jx)}get playlists(){return Yi.getPlaylistsFromMemo(u(this,je,"f"))}get memo(){return u(this,je,"f")}get page_contents(){var o;let e=(o=u(this,je,"f").getType(Be))==null?void 0:o[0].content,i=u(this,je,"f").getType(Ce)[0],s=u(this,je,"f").getType(Ae)[0];return e||i||s}get shelves(){return u(this,je,"f").getType(ws,bb,Xr)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var i,s;if(!((i=u(this,Pe,"f").contents)!=null&&i.is_node))return null;let e=(s=u(this,Pe,"f").contents)==null?void 0:s.item();return e.is(Ot,Ab)?e.secondary_contents:null}get actions(){return u(this,md,"f")}get page(){return u(this,Pe,"f")}get has_continuation(){return u(this,fd,"m",nw).call(this).length>0}async getContinuationData(){if(u(this,gr,"f")){if(u(this,gr,"f").length===0)throw new g("There are no continuations.");return await u(this,gr,"f")[0].endpoint.call(u(this,md,"f"),{parse:!0})}if(S(this,gr,u(this,fd,"m",nw).call(this),"f"),u(this,gr,"f"))return this.getContinuationData()}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Yi(this.actions,e,!0)}};r(Yi,"Feed");Pe=new WeakMap,md=new WeakMap,je=new WeakMap,gr=new WeakMap,fd=new WeakSet,kk=r(function(e){return!("data"in e)},"_Feed_isParsed"),nw=r(function(){if(u(this,Pe,"f").header_memo){let e=u(this,Pe,"f").header_memo.getType(Q);return u(this,je,"f").getType(Q).filter(i=>!e.includes(i))}return u(this,je,"f").getType(Q)},"_Feed_getBodyContinuations");var we=Yi;var Ls,Kb=class extends we{constructor(e,i,s=!1){super(e,i,s),Ls.set(this,void 0)}get filter_chips(){var e,i;if(u(this,Ls,"f"))return u(this,Ls,"f")||[];if(((e=this.memo.getType(wt))==null?void 0:e.length)>1)throw new g("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(wt))==null?void 0:i.length)===0)throw new g("There are no feed filter chipbars");return S(this,Ls,this.memo.getType(He),"f"),u(this,Ls,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}async getFilteredFeed(e){var o;let i;if(typeof e=="string"){if(!this.filters.includes(e))throw new g("Filter not found",{available_filters:this.filters});i=this.filter_chips.find(c=>c.text.toString()===e)}else if(e.type==="ChipCloudChip")i=e;else throw new g("Invalid filter");if(!i)throw new g("Filter not found");if(i.is_selected)return this;let s=await((o=i.endpoint)==null?void 0:o.call(this.actions,{parse:!0}));if(!s)throw new g("Failed to get filtered feed");return new we(this.actions,s,!0)}};r(Kb,"FilterableFeed");Ls=new WeakMap;var Vi=Kb;var cw={};ze(cw,{Feed:()=>we,FilterableFeed:()=>Vi,MediaInfo:()=>Ds,TabbedFeed:()=>dd});var Ui,vt,Bs,hd,zb=class{constructor(e,i,s){var l,f,h,_,x,b,w,v,I,k,C,E,O,z,M,ne,le,V,se,F,Y,J;Ui.set(this,void 0),vt.set(this,void 0),Bs.set(this,void 0),hd.set(this,void 0),S(this,vt,i,"f");let o=p.parseResponse(e[0].data.playerResponse?e[0].data.playerResponse:e[0].data),c=(l=e[1])!=null&&l.data?p.parseResponse(e[1].data):void 0;if(S(this,Ui,[o,c],"f"),S(this,Bs,s,"f"),((f=o.playability_status)==null?void 0:f.status)==="ERROR")throw new g("This video is unavailable",o.playability_status);if(o.microformat&&!((h=o.microformat)!=null&&h.is(et,Mi)))throw new g("Unsupported microformat",o.microformat);this.basic_info={...o.video_details,embed:(_=o.microformat)!=null&&_.is(et)?(x=o.microformat)==null?void 0:x.embed:null,channel:(b=o.microformat)!=null&&b.is(et)?(w=o.microformat)==null?void 0:w.channel:null,is_unlisted:(v=o.microformat)==null?void 0:v.is_unlisted,is_family_safe:(I=o.microformat)==null?void 0:I.is_family_safe,category:(k=o.microformat)!=null&&k.is(et)?(C=o.microformat)==null?void 0:C.category:null,has_ypc_metadata:(E=o.microformat)!=null&&E.is(et)?(O=o.microformat)==null?void 0:O.has_ypc_metadata:null,start_timestamp:(z=o.microformat)!=null&&z.is(et)?o.microformat.start_timestamp:null,end_timestamp:(M=o.microformat)!=null&&M.is(et)?o.microformat.end_timestamp:null,view_count:((ne=o.microformat)==null?void 0:ne.is(et))&&isNaN((le=o.video_details)==null?void 0:le.view_count)?o.microformat.view_count:(V=o.video_details)==null?void 0:V.view_count,url_canonical:(se=o.microformat)!=null&&se.is(Mi)?(F=o.microformat)==null?void 0:F.url_canonical:null,tags:(Y=o.microformat)!=null&&Y.is(Mi)?(J=o.microformat)==null?void 0:J.tags:null,like_count:void 0,is_liked:void 0,is_disliked:void 0},this.annotations=o.annotations,this.storyboards=o.storyboards,this.endscreen=o.endscreen,this.captions=o.captions,this.cards=o.cards,this.streaming_data=o.streaming_data,this.playability_status=o.playability_status,this.player_config=o.player_config,S(this,hd,o.playback_tracking,"f")}async toDash(e,i,s={include_thumbnails:!1}){var f,h;let o=u(this,Ui,"f")[0];if(o.video_details&&o.video_details.is_live)throw new g("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let c,l;return s.include_thumbnails&&o.storyboards&&(c=o.storyboards),typeof s.captions_format=="string"&&((f=o.captions)==null?void 0:f.caption_tracks)&&(l=o.captions.caption_tracks),tr.toDash(this.streaming_data,(h=this.page[0].video_details)==null?void 0:h.is_post_live_dvr,e,i,u(this,Bs,"f"),u(this,vt,"f").session.player,u(this,vt,"f"),c,l,s)}getStreamingInfo(e,i){var s;return Wd(this.streaming_data,(s=this.page[0].video_details)==null?void 0:s.is_post_live_dvr,e,i,this.cpn,u(this,vt,"f").session.player,u(this,vt,"f"),u(this,Ui,"f")[0].storyboards?u(this,Ui,"f")[0].storyboards:void 0)}chooseFormat(e){return tr.chooseFormat(e,this.streaming_data)}async download(e={}){let i=u(this,Ui,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new g("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return tr.download(e,u(this,vt,"f"),this.playability_status,this.streaming_data,u(this,vt,"f").session.player,this.cpn)}async getTranscript(){var c;let e=this.page[1];if(!e)throw new g("Cannot get transcript from basic video info.");if(!e.engagement_panels)throw new g("Engagement panels not found. Video likely has no transcript.");let i=e.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!i)throw new g("Transcript panel not found. Video likely has no transcript.");let s=(c=i.content)==null?void 0:c.as(Q);if(!s)throw new g("Transcript continuation not found.");let o=await s.endpoint.call(this.actions);return new Xb(this.actions,o)}async addToWatchHistory(e=te.CLIENTS.WEB.NAME,i=te.CLIENTS.WEB.VERSION,s="https://www."){if(!u(this,hd,"f"))throw new g("Playback tracking not available");let o={cpn:u(this,Bs,"f"),fmt:251,rtn:0,rt:0},c=u(this,hd,"f").videostats_playback_url.replace("https://s.",s);return await u(this,vt,"f").stats(c,{client_name:e,client_version:i},o)}get actions(){return u(this,vt,"f")}get cpn(){return u(this,Bs,"f")}get page(){return u(this,Ui,"f")}};r(zb,"MediaInfo");Ui=new WeakMap,vt=new WeakMap,Bs=new WeakMap,hd=new WeakMap;var Ds=zb;var wr,Tr,vr=class extends we{constructor(e,i,s=!1){var o;super(e,i,s),wr.set(this,void 0),Tr.set(this,void 0),S(this,wr,e,"f"),S(this,Tr,(o=this.page.contents_memo)==null?void 0:o.getType(Be),"f")}get tabs(){var e,i;return(i=(e=u(this,Tr,"f"))==null?void 0:e.map(s=>s.title.toString()))!=null?i:[]}async getTabByName(e){var o;let i=(o=u(this,Tr,"f"))==null?void 0:o.find(c=>c.title.toLowerCase()===e.toLowerCase());if(!i)throw new g(`Tab "${e}" not found`);if(i.selected)return this;let s=await i.endpoint.call(u(this,wr,"f"));return new vr(u(this,wr,"f"),s,!1)}async getTabByURL(e){var o;let i=(o=u(this,Tr,"f"))==null?void 0:o.find(c=>{var l;return((l=c.endpoint.metadata.url)==null?void 0:l.split("/").pop())===e});if(!i)throw new g(`Tab "${e}" not found`);if(i.selected)return this;let s=await i.endpoint.call(u(this,wr,"f"));return new vr(u(this,wr,"f"),s,!1)}hasTabWithURL(e){var i,s;return(s=(i=u(this,Tr,"f"))==null?void 0:i.some(o=>{var c;return((c=o.endpoint.metadata.url)==null?void 0:c.split("/").pop())===e}))!=null?s:!1}get title(){var e,i,s;return(s=(i=(e=this.page.contents_memo)==null?void 0:e.getType(Be))==null?void 0:i.find(o=>o.selected))==null?void 0:s.title.toString()}};r(vr,"TabbedFeed");wr=new WeakMap,Tr=new WeakMap;var dd=vr;var _e=class extends dd{constructor(e,i,s=!1){var l,f,h,_,x;super(e,i,s),this.header=(f=(l=this.page.header)==null?void 0:l.item())==null?void 0:f.as(Qr,ax,ly,Bt);let o=(h=this.page.metadata)==null?void 0:h.item().as(fx),c=(_=this.page.microformat)==null?void 0:_.as(Mi);if(this.page.alerts){let b=this.page.alerts[0];if((b==null?void 0:b.alert_type)==="ERROR")throw new Os(b.text.toString())}if(!o&&!this.page.contents)throw new g("Invalid channel",this);this.metadata={...o,...c||{}},this.subscribe_button=(x=this.page.header_memo)==null?void 0:x.getType(me)[0],this.page.contents&&(this.current_tab=this.page.contents.item().as(Ot).tabs.get({selected:!0}))}async applyFilter(e){let i,s=this.memo.getType(wt)[0];if(typeof e=="string"){if(i=s==null?void 0:s.contents.get({text:e}),!i)throw new g(`Filter ${e} not found`,{available_filters:this.filters})}else i=e;if(!i.endpoint)throw new g("Invalid filter",e);let o=await i.endpoint.call(this.actions,{parse:!0});if(!o)throw new g("No page returned",{filter:i});return new Fi(this.actions,o,!0)}async applySort(e){let i=this.memo.getType(_t)[0];if(!i||!i.sub_menu_items)throw new g("No sort filter sub menu found");let s=i.sub_menu_items.find(c=>c.title===e);if(!s)throw new g(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(s.selected)return this;let o=await s.endpoint.call(this.actions,{parse:!0});return new _e(this.actions,o,!0)}async applyContentTypeFilter(e){var c,l,f;let i=(f=(l=(c=this.current_tab)==null?void 0:c.content)==null?void 0:l.as(ce).sub_menu)==null?void 0:f.as(Oa);if(!i)throw new g("Sub menu not found");let s=i.content_type_sub_menu_items.find(h=>h.title===e);if(!s)throw new g(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(s.selected)return this;let o=await s.endpoint.call(this.actions,{parse:!0});return new _e(this.actions,o,!0)}get filters(){var e,i;return((i=(e=this.memo.getType(wt))==null?void 0:e[0])==null?void 0:i.contents.filterType(He).map(s=>s.text))||[]}get sort_filters(){var i;let e=this.memo.getType(_t)[0];return((i=e==null?void 0:e.sub_menu_items)==null?void 0:i.map(s=>s.title))||[]}get content_type_filters(){var i,s,o;let e=(o=(s=(i=this.current_tab)==null?void 0:i.content)==null?void 0:s.as(ce).sub_menu)==null?void 0:o.as(Oa);return(e==null?void 0:e.content_type_sub_menu_items.map(c=>c.title))||[]}async getHome(){let e=await this.getTabByURL("featured");return new _e(this.actions,e.page,!0)}async getVideos(){let e=await this.getTabByURL("videos");return new _e(this.actions,e.page,!0)}async getShorts(){let e=await this.getTabByURL("shorts");return new _e(this.actions,e.page,!0)}async getLiveStreams(){let e=await this.getTabByURL("streams");return new _e(this.actions,e.page,!0)}async getReleases(){let e=await this.getTabByURL("releases");return new _e(this.actions,e.page,!0)}async getPodcasts(){let e=await this.getTabByURL("podcasts");return new _e(this.actions,e.page,!0)}async getCourses(){let e=await this.getTabByURL("courses");return new _e(this.actions,e.page,!0)}async getPlaylists(){let e=await this.getTabByURL("playlists");return new _e(this.actions,e.page,!0)}async getCommunity(){let e=await this.getTabByURL("community");return new _e(this.actions,e.page,!0)}async getAbout(){var i,s,o,c,l;if(this.hasTabWithURL("about"))return(await this.getTabByURL("about")).memo.getType(Pa)[0];let e=((i=this.header)==null?void 0:i.is(Qr))&&this.header.tagline;if(e||((s=this.header)==null?void 0:s.is(Bt))&&((o=this.header.content)==null?void 0:o.description)){if(e&&e.more_endpoint instanceof m){let _=await e.more_endpoint.call(this.actions);return new dd(this.actions,_,!1).memo.getType(Pa)[0]}let f=(l=(c=this.page.header_memo)==null?void 0:c.getType(Q)[0])==null?void 0:l.endpoint;if(!f)throw new g("Failed to extract continuation to get channel about");let h=await f.call(this.actions,{parse:!0});if(!h.on_response_received_endpoints_memo)throw new g("Unexpected response while fetching channel about",{response:h});return h.on_response_received_endpoints_memo.getType(Zd)[0]}throw new g("About not found")}async search(e){var o;let i=(o=this.memo.getType(ur))==null?void 0:o[0];if(!i)throw new g("Search tab not found",this);let s=await i.endpoint.call(this.actions,{query:e,parse:!0});return new _e(this.actions,s,!0)}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_courses(){return this.hasTabWithURL("courses")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,s,o,c;return this.hasTabWithURL("about")||!!(((e=this.header)==null?void 0:e.is(Qr))&&((i=this.header.tagline)==null?void 0:i.more_endpoint))||!!(((s=this.header)==null?void 0:s.is(Bt))&&((c=(o=this.header.content)==null?void 0:o.description)==null?void 0:c.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(ur))==null?void 0:e.length)>0}async getContinuation(){let e=await super.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Ir(this.actions,e,!0)}};r(_e,"Channel");var Ir=class extends we{constructor(e,i,s=!1){var o,c;super(e,i,s),this.contents=((o=this.page.on_response_received_actions)==null?void 0:o[0])||((c=this.page.on_response_received_endpoints)==null?void 0:c[0])}async getContinuation(){let e=await super.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Ir(this.actions,e,!0)}};r(Ir,"ChannelListContinuation");var Fi=class extends Vi{constructor(e,i,s=!1){var o;super(e,i,s),this.applied_filter=this.memo.getType(He).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=(o=this.page.on_response_received_actions)==null?void 0:o[0]}async applyFilter(e){let i=await super.getFilteredFeed(e);return new Fi(this.actions,i.page,!0)}async getContinuation(){let e=await super.getContinuationData();if(!(e!=null&&e.on_response_received_actions_memo))throw new g("Unexpected continuation data",e);return e.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(wt)),e.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(He)),new Fi(this.actions,e,!0)}};r(Fi,"FilteredChannelList");var Ys,Wt,Vs,Sr=class{constructor(e,i,s=!1){var h,_,x,b,w;Ys.set(this,void 0),Wt.set(this,void 0),Vs.set(this,void 0),S(this,Ys,s?i:p.parseResponse(i),"f"),S(this,Wt,e,"f");let o=u(this,Ys,"f").on_response_received_endpoints;if(!o)throw new g("Comments page did not have any content.");let c=(h=o.at(0))==null?void 0:h.as(Ae,Ce),l=(_=o.at(1))==null?void 0:_.as(Ae,Ce);this.header=(x=c==null?void 0:c.contents)==null?void 0:x.firstOfType(Ni);let f=((b=l==null?void 0:l.contents)==null?void 0:b.filterType(Rx))||[];this.contents=G(f.map(v=>(v.comment&&v.comment.setActions(u(this,Wt,"f")),v.setActions(u(this,Wt,"f")),v))),S(this,Vs,(w=l==null?void 0:l.contents)==null?void 0:w.firstOfType(Q),"f")}async applySort(e){var o,c,l,f;if(!this.header)throw new g("Page header is missing. Cannot apply sort option.");let i;if(e==="TOP_COMMENTS"?i=(c=(o=this.header.sort_menu)==null?void 0:o.sub_menu_items)==null?void 0:c.at(0):e==="NEWEST_FIRST"&&(i=(f=(l=this.header.sort_menu)==null?void 0:l.sub_menu_items)==null?void 0:f.at(1)),!i)throw new g("Could not find target button.");if(i.selected)return this;let s=await i.endpoint.call(u(this,Wt,"f"),{parse:!0});return new Sr(u(this,Wt,"f"),s,!0)}async createComment(e){var s;if(!this.header)throw new g("Page header is missing. Cannot create comment.");let i=(s=this.header.create_renderer)==null?void 0:s.as(Nx).submit_button;if(!i)throw new g("Could not find target button. You are probably not logged in.");if(!i.endpoint)throw new g("Button does not have an endpoint.");return await i.endpoint.call(u(this,Wt,"f"),{commentText:e})}async getContinuation(){if(!u(this,Vs,"f"))throw new g("Continuation not found");let e=await u(this,Vs,"f").endpoint.call(u(this,Wt,"f"),{parse:!0}),i=Object.assign({},u(this,Ys,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new g("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Sr(u(this,Wt,"f"),i,!0)}get has_continuation(){return!!u(this,Vs,"f")}get page(){return u(this,Ys,"f")}};r(Sr,"Comments");Ys=new WeakMap,Wt=new WeakMap,Vs=new WeakMap;var Ek=Sr;var Us,Qb=class{constructor(e){Us.set(this,void 0),S(this,Us,p.parseResponse(e),"f"),u(this,Us,"f").items&&(this.contents=u(this,Us,"f").items.array().as(cs,ry))}get page(){return u(this,Us,"f")}};r(Qb,"Guide");Us=new WeakMap;var Ck=Qb;var Gt=class extends we{constructor(e,i,s=!1){super(e,i,s),this.sections=this.memo.getType(Tt),this.feed_actions=this.memo.getType(Hr)[0]}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Gt(this.actions,e,!0)}async removeVideo(e){let i;for(let l of this.sections)for(let f of l.contents){let h=f;if(h.video_id===e&&h.menu){i=h.menu.top_level_buttons[0].as(T).endpoint.payload.feedbackToken;break}}if(!i)throw new Error("Failed to get feedback token");let s={feedbackTokens:[i]};if(!(await this.actions.execute("/feedback",s)).data.feedbackResponses[0].isProcessed)throw new Error("Failed to remove video from watch history");return!0}};r(Gt,"History");var ni=class extends Vi{constructor(e,i,s=!1){var o;super(e,i,s),this.header=this.memo.getType(Qx)[0],this.contents=this.memo.getType(Dt)[0]||((o=this.page.on_response_received_actions)==null?void 0:o[0])}async applyFilter(e){let i=await super.getFilteredFeed(e);return new ni(this.actions,i.page,!0)}async getContinuation(){var i;let e=await super.getContinuation();return e.page.header=this.page.header,this.header&&((i=e.page.header_memo)==null||i.set(this.header.type,[this.header])),new ni(this.actions,e.page,!0)}};r(ni,"HomeFeed");var Wi=class extends Vi{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new g("Unexpected response",this.page);let s=this.page.contents_memo.getType(Be)[0];if(!s.content)throw new g("Content tab has no content",s);this.page.header&&(this.header=this.page.header.item().as(sy,Bt)),this.contents=s.content.as(Dt)}async applyFilter(e){let i=await super.getFilteredFeed(e);return new Wi(this.actions,i.page)}};r(Wi,"HashtagFeed");var Jb,Zb,_d,eg=class{constructor(e,i){Jb.set(this,void 0),Zb.set(this,void 0),_d.set(this,void 0),S(this,Jb,e,"f"),S(this,Zb,i,"f");let s=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!s||!s.is(R))throw new g('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');S(this,_d,s.as(R).items,"f")}async selectItem(e){let i;if(e instanceof T){if(!e.endpoint)throw new g("Item does not have an endpoint.");i=e.endpoint}else{let s=u(this,_d,"f").find(o=>o.is(At)?o.as(At).icon_type===e:!1);if(!s||!s.is(At))throw new g(`Button "${e}" not found.`);i=s.endpoint}if(!i)throw new g("Target button does not have an endpoint.");return await i.call(u(this,Zb,"f"),{parse:!0})}items(){return u(this,_d,"f")}page(){return u(this,Jb,"f")}};r(eg,"ItemMenu");Jb=new WeakMap,Zb=new WeakMap,_d=new WeakMap;var tg=eg;var xd,ig,Fs=class extends we{constructor(e,i,s=!1){var _,x,b,w,v;super(e,i,s),xd.add(this);let o=this.memo.getType(ub)[0],c=this.memo.getType(mb)[0],l=this.memo.getType(hb)[0],f=this.memo.getType(db)[0],h=(_=this.page.alerts)==null?void 0:_.firstOfType(Vr);if(h&&h.alert_type==="ERROR")throw new g(h.text.toString(),h);if(!c&&!l&&Object.keys(this.page).length===0)throw new g("Got empty continuation response. This is likely the end of the playlist.");this.info={...(x=this.page.metadata)==null?void 0:x.item().as(fb),subtitle:o?o.subtitle:null,author:(w=(b=l==null?void 0:l.owner)==null?void 0:b.as(vs).author)!=null?w:o==null?void 0:o.author,thumbnails:(v=c==null?void 0:c.thumbnail_renderer)==null?void 0:v.as(is,ts).thumbnail,total_items:u(this,xd,"m",ig).call(this,0,c),views:u(this,xd,"m",ig).call(this,1,c),last_updated:u(this,xd,"m",ig).call(this,2,c),can_share:o==null?void 0:o.can_share,can_delete:o==null?void 0:o.can_delete,can_reorder:f==null?void 0:f.can_reorder,is_editable:f==null?void 0:f.is_editable,privacy:o==null?void 0:o.privacy},this.menu=c==null?void 0:c.menu,this.endpoint=c==null?void 0:c.endpoint,this.messages=this.memo.getType(Ri)}get items(){return G(this.videos.as(hs,_s,Ts).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(ce)[0];return e?!!this.memo.getType(Q).find(i=>!e.contents.includes(i)):super.has_continuation}async getContinuationData(){let e=this.memo.getType(ce)[0];if(!e)return await super.getContinuationData();let i=this.memo.getType(Q).find(s=>!e.contents.includes(s));if(!i)throw new g("There are no continuations.");return await i.endpoint.call(this.actions,{parse:!0})}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new Fs(this.actions,e,!0)}};r(Fs,"Playlist");xd=new WeakSet,ig=r(function(e,i){var s;return!i||!i.stats?"N/A":((s=i.stats[e])==null?void 0:s.toString())||"N/A"},"_Playlist_getStat");var Ws=Fs;var pw,Pk,rg=class extends we{constructor(e,i){if(super(e,i),pw.add(this),!this.page.contents_memo)throw new g("Page contents not found");this.header=this.memo.getType(Bt)[0];let s=this.page.contents_memo.getType(ws);this.sections=s.map(o=>{var c;return{type:o.icon_type,title:o.title,contents:((c=o.content)==null?void 0:c.key("items").array())||[],getAll:()=>u(this,pw,"m",Pk).call(this,o)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};r(rg,"Library");pw=new WeakSet,Pk=r(async function(e){var o;if(!((o=e.menu)!=null&&o.as(R).top_level_buttons))throw new g(`The ${e.title.text} shelf doesn't have more items`);let i=e.menu.as(R).top_level_buttons.firstOfType(T);if(!i)throw new g("Did not find target button.");let s=await i.as(T).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new Ws(this.actions,s,!0);case"WATCH_HISTORY":return new Gt(this.actions,s,!0);case"CONTENT_CUT":return new we(this.actions,s,!0);default:throw new g("Target shelf not implemented.")}},"_Library_getAll");var Nk=rg;var ai,Gi,kr,it,It,$e;function wC(t){let e=[];for(let i of t)if(Array.isArray(i))for(let s of i)e.push(s);else e.push(i);return e}r(wC,"flattenQueue");var sg=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};r(sg,"DelayQueue");var og=class{constructor(){ai.set(this,void 0),Gi.set(this,void 0),kr.set(this,void 0),it.set(this,void 0),It.set(this,void 0),$e.set(this,void 0),S(this,ai,null,"f"),S(this,Gi,null,"f"),S(this,kr,null,"f"),S(this,it,[],"f"),S(this,It,null,"f"),S(this,$e,new sg,"f")}enqueueActionGroup(e){if(u(this,ai,"f")!==null){let i=Date.now()-u(this,ai,"f");u(this,$e,"f").back.push(i),5<u(this,$e,"f").front.length+u(this,$e,"f").back.length&&(u(this,$e,"f").front.length||(u(this,$e,"f").front=u(this,$e,"f").back,u(this,$e,"f").front.reverse(),u(this,$e,"f").back=[]),u(this,$e,"f").front.pop()),S(this,Gi,Math.max(...u(this,$e,"f").getValues()),"f")}S(this,ai,Date.now(),"f"),u(this,it,"f").push(e),u(this,It,"f")===null&&S(this,It,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(S(this,It,null,"f"),u(this,it,"f").length){let e=1e4;u(this,Gi,"f")!==null&&u(this,ai,"f")!==null&&(e=u(this,Gi,"f")-Date.now()+u(this,ai,"f")),e=u(this,it,"f").length<e/80?1:Math.ceil(u(this,it,"f").length/(e/80));let i=wC(u(this,it,"f").splice(0,e));u(this,kr,"f")&&u(this,kr,"f").call(this,i),u(this,it,"f")!==null&&(e==1?(e=u(this,Gi,"f")/u(this,it,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,S(this,It,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){u(this,It,"f")!==null&&(clearTimeout(u(this,It,"f")),S(this,It,null,"f")),S(this,it,[],"f")}set callback(e){S(this,kr,e,"f")}get callback(){return u(this,kr,"f")}get action_queue(){return u(this,it,"f")}get estimated_update_interval(){return u(this,Gi,"f")}get last_update_time(){return u(this,ai,"f")}get next_update_id(){return u(this,It,"f")}get poll_response_delay_queue(){return u(this,$e,"f")}};r(og,"SmoothedQueue");ai=new WeakMap,Gi=new WeakMap,kr=new WeakMap,it=new WeakMap,It=new WeakMap,$e=new WeakMap;var ng=og;var Te,ci,gd,ag,Cr,yd,bd,lw,cg,Ak,Er,pg=class extends to{constructor(e){var i,s;super(),Te.add(this),ci.set(this,void 0),gd.set(this,void 0),ag.set(this,void 0),Cr.set(this,void 0),yd.set(this,void 0),bd.set(this,0),this.running=!1,this.is_replay=!1,S(this,gd,e.basic_info.id,"f"),S(this,ag,e.basic_info.channel_id,"f"),S(this,ci,e.actions,"f"),S(this,Cr,(i=e.livechat)==null?void 0:i.continuation,"f"),this.is_replay=((s=e.livechat)==null?void 0:s.is_replay)||!1,this.smoothed_queue=new ng,this.smoothed_queue.callback=async o=>{o.length?o.length<10?await u(this,Te,"m",cg).call(this,o):this.is_replay?(u(this,Te,"m",cg).call(this,o),await u(this,Te,"m",Er).call(this,2e3)):u(this,Te,"m",cg).call(this,o):await u(this,Te,"m",Er).call(this,2e3),this.running&&u(this,Te,"m",lw).call(this)}}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,u(this,Te,"m",lw).call(this),u(this,Te,"m",Ak).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}async sendMessage(e){let i=BT.encode({params:{ids:{videoId:u(this,gd,"f"),channelId:u(this,ag,"f")}},number0:1,number1:4}),s=btoa(encodeURIComponent(Jt(i.finish()))),o=await u(this,ci,"f").execute("/live_chat/send_message",{richMessage:{textSegments:[{text:e}]},clientMessageId:L.shim.uuidv4(),client:"WEB",parse:!0,params:s});if(!o.actions)throw new g("Unexpected response from send_message",o);return o.actions.array().as(_y,Tx)}applyFilter(e){var s,o,c,l,f,h,_;if(!this.initial_info)throw new g("Cannot apply filter before initial info is retrieved.");let i=(c=(o=(s=this.initial_info)==null?void 0:s.header)==null?void 0:o.view_selector)==null?void 0:c.sub_menu_items;if(e==="TOP_CHAT"){if((l=i==null?void 0:i.at(0))!=null&&l.selected)return;S(this,Cr,(f=i==null?void 0:i.at(0))==null?void 0:f.continuation,"f")}else{if((h=i==null?void 0:i.at(1))!=null&&h.selected)return;S(this,Cr,(_=i==null?void 0:i.at(1))==null?void 0:_.continuation,"f")}}async getItemMenu(e){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(m))throw new g("This item does not have a menu.",e);let i=await e.key("menu_endpoint").instanceof(m).call(u(this,ci,"f"),{parse:!0});if(!i)throw new g("Could not retrieve item menu.",e);return new tg(i,u(this,ci,"f"))}async selectButton(e){return await e.endpoint.call(u(this,ci,"f"),{parse:!0})}};r(pg,"LiveChat");ci=new WeakMap,gd=new WeakMap,ag=new WeakMap,Cr=new WeakMap,yd=new WeakMap,bd=new WeakMap,Te=new WeakSet,lw=r(function t(){(async()=>{var e,i;try{let s=await u(this,ci,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:u(this,Cr,"f"),parse:!0}),o=s.continuation_contents;if(o||(this.emit("error",new g("Unexpected live chat incremental continuation response",s)),this.emit("end"),this.stop()),!(o instanceof Di)){this.stop(),this.emit("end");return}S(this,Cr,o.continuation.token,"f"),o.header?(this.initial_info=o,this.emit("start",o),this.running&&u(this,Te,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(o.actions),S(this,bd,0,"f")}catch(s){this.emit("error",s),S(this,bd,(i=u(this,bd,"f"),e=i++,i),"f"),e<10?(await u(this,Te,"m",Er).call(this,2e3),u(this,Te,"m",t).call(this)):(this.emit("error",new g("Reached retry limit for incremental continuation requests",s)),this.emit("end"),this.stop())}})()},"_LiveChat_pollLivechat"),cg=r(async function(e){let s=e.length<125?1:Math.ceil(e.length/125),o=s==1?(s=1e4/e.length,s*=Math.random()+.5,s=Math.min(1e3,s),s=Math.max(80,s)):s=80;for(let c of e)await u(this,Te,"m",Er).call(this,o),this.emit("chat-update",c)},"_LiveChat_emitSmoothedActions"),Ak=r(function t(){(async()=>{var e,i,s,o,c,l,f,h,_,x,b;try{let w={videoId:u(this,gd,"f")};u(this,yd,"f")&&(w.continuation=u(this,yd,"f"));let v=await u(this,ci,"f").execute("/updated_metadata",w),I=p.parseResponse(v.data);S(this,yd,(e=I.continuation)==null?void 0:e.token,"f"),this.metadata={title:((i=I.actions)==null?void 0:i.array().firstOfType(ky))||((s=this.metadata)==null?void 0:s.title),description:((o=I.actions)==null?void 0:o.array().firstOfType(Sy))||((c=this.metadata)==null?void 0:c.description),views:((l=I.actions)==null?void 0:l.array().firstOfType(Cy))||((f=this.metadata)==null?void 0:f.views),likes:((h=I.actions)==null?void 0:h.array().firstOfType(Ey))||((_=this.metadata)==null?void 0:_.likes),date:((x=I.actions)==null?void 0:x.array().firstOfType(Iy))||((b=this.metadata)==null?void 0:b.date)},this.emit("metadata-update",this.metadata),await u(this,Te,"m",Er).call(this,5e3),this.running&&u(this,Te,"m",t).call(this)}catch{await u(this,Te,"m",Er).call(this,2e3),this.running&&u(this,Te,"m",t).call(this)}})()},"_LiveChat_pollMetadata"),Er=r(async function(e){return new Promise(i=>setTimeout(()=>i(),e))},"_LiveChat_wait");var lg=pg;var Hi,wd,Gs=class{constructor(e,i){if(Hi.set(this,void 0),wd.set(this,void 0),S(this,wd,e,"f"),S(this,Hi,p.parseResponse(i.data),"f"),!u(this,Hi,"f").actions_memo)throw new g("Page actions not found");this.header=u(this,Hi,"f").actions_memo.getType(Yy)[0],this.contents=u(this,Hi,"f").actions_memo.getType(Zy)}async getContinuation(){var s;let e=(s=u(this,Hi,"f").actions_memo)==null?void 0:s.getType(Q)[0];if(!e)throw new g("Continuation not found");let i=await e.endpoint.call(u(this,wd,"f"),{parse:!1});return new Gs(u(this,wd,"f"),i)}get page(){return u(this,Hi,"f")}};r(Gs,"NotificationsMenu");Hi=new WeakMap,wd=new WeakMap;var Rk=Gs;var pi=class extends we{constructor(e,i,s=!1){var c,l,f;super(e,i,s);let o=((c=this.page.contents_memo)==null?void 0:c.getType(ce)[0].contents)||((l=this.page.on_response_received_commands)==null?void 0:l[0].as(Ae,Ce).contents);if(!o)throw new g("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(wb)),this.results=G(o.filterType(Tt).flatMap(h=>h.contents)),this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType(Tb)[0],this.watch_card=this.page.contents_memo.getType(ys)[0]),this.refinement_cards=(f=this.results)==null?void 0:f.firstOfType(Si)}async selectRefinementCard(e){var o,c;let i;if(typeof e=="string"){if(!this.refinement_cards)throw new g("No refinement cards found.");if(i=(c=(o=this.refinement_cards)==null?void 0:o.cards.get({query:e}))==null?void 0:c.as(ir),!i)throw new g(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")i=e;else throw new g("Invalid refinement card!");let s=await i.endpoint.call(this.actions,{parse:!0});return new pi(this.actions,s,!0)}get refinement_card_queries(){var e;return((e=this.refinement_cards)==null?void 0:e.cards.as(ir).map(i=>i.query))||[]}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new g("Could not get continuation data");return new pi(this.actions,e,!0)}};r(pi,"Search");var Pr,Td,Hs=class{constructor(e,i){var c,l,f,h;if(Pr.set(this,void 0),Td.set(this,void 0),S(this,Td,e,"f"),S(this,Pr,p.parseResponse(i.data),"f"),this.sidebar=(c=u(this,Pr,"f").sidebar)==null?void 0:c.as(Sb),!u(this,Pr,"f").contents)throw new g("Page contents not found");let s=u(this,Pr,"f").contents.item().as(Ot).tabs.get({selected:!0});if(!s)throw new g("Target tab not found");let o=(l=s.content)==null?void 0:l.as(ce).contents.as(Tt);this.introduction=(h=(f=o==null?void 0:o.shift())==null?void 0:f.contents)==null?void 0:h.firstOfType(tb),this.sections=o==null?void 0:o.map(_=>{var x;return{title:(x=_.header)!=null&&x.is(Ni,ps,ls)?_.header.title.toString():null,contents:_.contents}})}async selectSidebarItem(e){if(!this.sidebar)throw new g("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new g(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(Nt))i=e;else throw new g("Invalid item",{target_item:e});let s=await i.endpoint.call(u(this,Td,"f"),{parse:!1});return new Hs(u(this,Td,"f"),s)}getSettingOption(e){var i;if(!this.sections)throw new g("Sections not available");for(let s of this.sections)if(!!s.contents)for(let o of s.contents){let c=o.as(gs).options;if(c){for(let l of c)if(l.is(bs)&&((i=l.title)==null?void 0:i.toString())===e)return l}}throw new g(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new g("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let s of i.contents)s.as(gs).options&&(e=e.concat(s.as(gs).options));return e.map(i=>{var s;return(s=i.title)==null?void 0:s.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new g("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return u(this,Pr,"f")}};r(Hs,"Settings");Pr=new WeakMap,Td=new WeakMap;var Mk=Hs;var ji,js=class extends Ds{constructor(e,i,s){var _,x,b,w,v,I,k,C,E,O,z,M,ne,le,V,se,F,Y,J,re,Ve,lt,ut,ft,Ue,mi,hi,qt,ue;super(e,i,s),ji.set(this,void 0);let[o,c]=this.page;if(this.streaming_data){let Z=this.streaming_data.adaptive_formats.find(Ne=>{var tt;return(tt=Ne.audio_track)==null?void 0:tt.audio_is_default});if(Z)this.streaming_data.formats.forEach(Ne=>Ne.language=Z.language);else if(((_=this.captions)==null?void 0:_.caption_tracks)&&((x=this.captions)==null?void 0:x.caption_tracks.length)>0){let Ne=this.captions.caption_tracks.find(ae=>ae.kind==="asr"),tt=Ne==null?void 0:Ne.language_code;this.streaming_data.adaptive_formats.forEach(ae=>{ae.has_audio&&(ae.language=tt)}),this.streaming_data.formats.forEach(ae=>ae.language=tt)}}let l=(b=c==null?void 0:c.contents)==null?void 0:b.item().as(Mb),f=l==null?void 0:l.results,h=l==null?void 0:l.secondary_results;if(f&&h){if(((w=o.microformat)==null?void 0:w.is(et))&&((v=o.microformat)==null?void 0:v.category)==="Gaming"){let ae=(C=(k=(I=f.firstOfType(Xh))==null?void 0:I.metadata)==null?void 0:k.rows)==null?void 0:C.firstOfType(Bm);ae!=null&&ae.is(Bm)&&(this.game_info={title:(O=(E=ae==null?void 0:ae.contents)==null?void 0:E.firstOfType(Mm))==null?void 0:O.title,release_year:(M=(z=ae==null?void 0:ae.contents)==null?void 0:z.firstOfType(Mm))==null?void 0:M.subtitle})}this.primary_info=f.firstOfType(Db),this.secondary_info=f.firstOfType(Xh),this.merchandise=f.firstOfType(Vy),this.related_chip_cloud=(ne=h.firstOfType(yb))==null?void 0:ne.content.as(Jr),l!=null&&l.playlist&&(this.playlist=l.playlist),this.watch_next_feed=((le=h.firstOfType(Tt))==null?void 0:le.contents)||h,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((V=this.watch_next_feed.at(-1))==null?void 0:V.is(Q))&&S(this,ji,(se=this.watch_next_feed.pop())==null?void 0:se.as(Q),"f"),this.player_overlays=(F=c==null?void 0:c.player_overlays)==null?void 0:F.item().as(lb),l!=null&&l.autoplay&&(this.autoplay=l.autoplay);let Z=(J=(Y=this.primary_info)==null?void 0:Y.menu)==null?void 0:J.top_level_buttons.firstOfType(dr);((re=Z==null?void 0:Z.like_button)==null?void 0:re.is(ie))&&((Ve=Z==null?void 0:Z.dislike_button)==null?void 0:Ve.is(ie))&&(this.basic_info.like_count=(lt=Z==null?void 0:Z.like_button)==null?void 0:lt.like_count,this.basic_info.is_liked=(ut=Z==null?void 0:Z.like_button)==null?void 0:ut.is_toggled,this.basic_info.is_disliked=(ft=Z==null?void 0:Z.dislike_button)==null?void 0:ft.is_toggled);let Ne=(mi=(Ue=this.primary_info)==null?void 0:Ue.menu)==null?void 0:mi.top_level_buttons.firstOfType(Zt);if(Ne&&(this.basic_info.like_count=Ne.like_count,Ne.like_button)){let ae=Ne.like_button.like_status_entity.like_status;this.basic_info.is_liked=ae==="LIKE",this.basic_info.is_disliked=ae==="DISLIKE"}let tt=(hi=f.get({target_id:"comments-entry-point"}))==null?void 0:hi.as(Tt);this.comments_entry_point_header=(qt=tt==null?void 0:tt.contents)==null?void 0:qt.firstOfType(Px),this.livechat=(ue=c==null?void 0:c.contents_memo)==null?void 0:ue.getType(my)[0]}}async selectFilter(e){var c,l,f,h;if(!this.related_chip_cloud)throw new g("Chip cloud not found, cannot apply filter");let i;if(typeof e=="string"){let _=(l=(c=this.related_chip_cloud)==null?void 0:c.chips)==null?void 0:l.get({text:e});if(!_)throw new g("Invalid filter",{available_filters:this.filters});i=_}else if(e!=null&&e.is(He))i=e;else throw new g("Invalid cloud chip",e);if(i.is_selected)return this;let s=await((f=i.endpoint)==null?void 0:f.call(this.actions,{parse:!0})),o=(h=s==null?void 0:s.on_response_received_endpoints)==null?void 0:h.get({target_id:"watch-next-feed"});return this.watch_next_feed=o==null?void 0:o.as(Ae,Ce).contents,this}async addToWatchHistory(){return super.addToWatchHistory()}async getWatchNextContinuation(){var s,o,c,l,f;if(!u(this,ji,"f"))throw new g("Watch next feed continuation not found");let e=await((s=u(this,ji,"f"))==null?void 0:s.endpoint.call(this.actions,{parse:!0})),i=(o=e==null?void 0:e.on_response_received_endpoints)==null?void 0:o.get({type:"AppendContinuationItemsAction"});if(!i)throw new g("AppendContinuationItemsAction not found");return this.watch_next_feed=i==null?void 0:i.as(Ae,Ce).contents,(l=(c=this.watch_next_feed)==null?void 0:c.at(-1))!=null&&l.is(Q)?S(this,ji,(f=this.watch_next_feed.pop())==null?void 0:f.as(Q),"f"):S(this,ji,void 0,"f"),this}async like(){var o,c,l,f,h;let e=(c=(o=this.primary_info)==null?void 0:o.menu)==null?void 0:c.top_level_buttons.firstOfType(Zt);if(e){let _=(l=e==null?void 0:e.like_button)==null?void 0:l.toggle_button;if(!_||!_.default_button||!e.like_button)throw new g("Like button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="LIKE")throw new g("This video is already liked",{video_id:this.basic_info.id});if(!_.default_button.on_tap)throw new g("onTap command not found",{video_id:this.basic_info.id});return await new m(_.default_button.on_tap.payload.commands.find(w=>w.innertubeCommand)).call(this.actions)}let i=(h=(f=this.primary_info)==null?void 0:f.menu)==null?void 0:h.top_level_buttons.firstOfType(dr),s=i==null?void 0:i.like_button;if(!s)throw new g("Like button not found",{video_id:this.basic_info.id});if(!s.is(ie))throw new g("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new g("This video is already liked",{video_id:this.basic_info.id});return await s.endpoint.call(this.actions)}async dislike(){var o,c,l,f,h;let e=(c=(o=this.primary_info)==null?void 0:o.menu)==null?void 0:c.top_level_buttons.firstOfType(Zt);if(e){let _=(l=e==null?void 0:e.dislike_button)==null?void 0:l.toggle_button;if(!_||!_.default_button||!e.dislike_button||!e.like_button)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="DISLIKE")throw new g("This video is already disliked",{video_id:this.basic_info.id});if(!_.default_button.on_tap)throw new g("onTap command not found",{video_id:this.basic_info.id});return await new m(_.default_button.on_tap.payload.commands.find(w=>w.innertubeCommand)).call(this.actions)}let i=(h=(f=this.primary_info)==null?void 0:f.menu)==null?void 0:h.top_level_buttons.firstOfType(dr),s=i==null?void 0:i.dislike_button;if(!s)throw new g("Dislike button not found",{video_id:this.basic_info.id});if(!s.is(ie))throw new g("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(s.is_toggled)throw new g("This video is already disliked",{video_id:this.basic_info.id});return await s.endpoint.call(this.actions)}async removeRating(){var l,f,h,_,x,b,w;let e,i=(f=(l=this.primary_info)==null?void 0:l.menu)==null?void 0:f.top_level_buttons.firstOfType(Zt);if(i){let v=(h=i==null?void 0:i.like_button)==null?void 0:h.toggle_button;if(!v||!v.default_button||!i.like_button)throw new g("Like button not found",{video_id:this.basic_info.id});let I=i.like_button.like_status_entity.like_status;if(I==="LIKE")e=(_=i==null?void 0:i.like_button)==null?void 0:_.toggle_button;else if(I==="DISLIKE")e=(x=i==null?void 0:i.dislike_button)==null?void 0:x.toggle_button;else throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});if(!e||!e.toggled_button)throw new g("Like/Dislike button not found",{video_id:this.basic_info.id});if(!e.toggled_button.on_tap)throw new g("onTap command not found",{video_id:this.basic_info.id});return await new m(e.toggled_button.on_tap.payload.commands.find(C=>C.innertubeCommand)).call(this.actions)}let s=(w=(b=this.primary_info)==null?void 0:b.menu)==null?void 0:w.top_level_buttons.firstOfType(dr),o=s==null?void 0:s.like_button,c=s==null?void 0:s.dislike_button;if(!(o!=null&&o.is(ie))||!(c!=null&&c.is(ie)))throw new g("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(o!=null&&o.is_toggled?e=o:c!=null&&c.is_toggled&&(e=c),!e)throw new g("This video is not liked/disliked",{video_id:this.basic_info.id});return await e.toggled_endpoint.call(this.actions)}getLiveChat(){if(!this.livechat)throw new g("Live Chat is not available",{video_id:this.basic_info.id});return new lg(this)}getTrailerInfo(){var e,i;if(this.has_trailer&&((e=this.playability_status)==null?void 0:e.error_screen)){let s;if(this.playability_status.error_screen.is(Qf)?s=(i=this.playability_status.error_screen.trailer)==null?void 0:i.player_response:this.playability_status.error_screen.is(hr)&&(s=this.playability_status.error_screen.player_response),s)return new js([{data:s}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)==null?void 0:e.chips)==null?void 0:i.map(s=>{var o;return(o=s.text)==null?void 0:o.toString()}))||[]}get wn_has_continuation(){return!!u(this,ji,"f")}get autoplay_video_endpoint(){var e,i,s;return((s=(i=(e=this.autoplay)==null?void 0:e.sets)==null?void 0:i[0])==null?void 0:s.autoplay_video)||null}get has_trailer(){var e,i;return!!((i=(e=this.playability_status)==null?void 0:e.error_screen)!=null&&i.is(Qf,hr))}get music_tracks(){var i,s,o,c,l,f;let e=(s=(i=this.page[1])==null?void 0:i.engagement_panels)==null?void 0:s.filter(h=>{var _;return(_=h.content)==null?void 0:_.is(rr)});if(e!==void 0&&e.length>0){let h=(l=(c=(o=e[0].content)==null?void 0:o.as(rr))==null?void 0:c.items)==null?void 0:l.filterType(zr);if(h!==void 0&&h.length>0)return(f=h[0].carousel_lockups)==null?void 0:f.map(_=>{var C,E,O,z,M,ne,le,V,se,F,Y,J,re,Ve,lt,ut,ft,Ue,mi,hi;let x,b,w,v,I,k;x=(E=(C=_.video_lockup)==null?void 0:C.title)==null?void 0:E.toString(),I=(z=(O=_.video_lockup)==null?void 0:O.endpoint)==null?void 0:z.payload.videoId;for(let qt=0;qt<_.info_rows.length;qt++){let ue=_.info_rows[qt];if(ue.info_row_expand_status_key===void 0)if(x===void 0){if(x=((M=ue.default_metadata)==null?void 0:M.toString())||((ne=ue.expanded_metadata)==null?void 0:ne.toString()),I===void 0){let Z=((le=ue.default_metadata)==null?void 0:le.endpoint)||((V=ue.expanded_metadata)==null?void 0:V.endpoint);I=(se=Z==null?void 0:Z.payload)==null?void 0:se.videoId}}else w=((F=ue.default_metadata)==null?void 0:F.toString())||((Y=ue.expanded_metadata)==null?void 0:Y.toString());else{if(((J=ue.info_row_expand_status_key)==null?void 0:J.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(b=((re=ue.default_metadata)==null?void 0:re.toString())||((Ve=ue.expanded_metadata)==null?void 0:Ve.toString()),k===void 0)){let Z=((lt=ue.default_metadata)==null?void 0:lt.endpoint)||((ut=ue.expanded_metadata)==null?void 0:ut.endpoint);k=(ft=Z==null?void 0:Z.payload)==null?void 0:ft.browseId}((Ue=ue.info_row_expand_status_key)==null?void 0:Ue.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(v=((mi=ue.default_metadata)==null?void 0:mi.toString())||((hi=ue.expanded_metadata)==null?void 0:hi.toString()))}}return{song:x,artist:b,album:w,license:v,videoId:I,channelId:k}})}return[]}};r(js,"VideoInfo");ji=new WeakMap;var vd=js;var $s,Id,qs=class{constructor(e,i){if($s.set(this,void 0),Id.set(this,void 0),S(this,$s,p.parseResponse(i.data),"f"),S(this,Id,e,"f"),!u(this,$s,"f").actions_memo)throw new Error("Page actions not found");this.transcript=u(this,$s,"f").actions_memo.getType(Yr)[0]}async selectLanguage(e){var o,c,l,f;let i=(f=(l=(c=(o=this.transcript.content)==null?void 0:o.footer)==null?void 0:c.language_menu)==null?void 0:l.sub_menu_items)==null?void 0:f.find(h=>h.title.toString()===e);if(!i)throw new Error(`Language not found: ${e}`);if(i.selected)return this;let s=await u(this,Id,"f").execute("/get_transcript",{params:i.continuation});return new qs(u(this,Id,"f"),s)}get languages(){var e,i,s,o;return((o=(s=(i=(e=this.transcript.content)==null?void 0:e.footer)==null?void 0:i.language_menu)==null?void 0:s.sub_menu_items)==null?void 0:o.map(c=>c.title.toString()))||[]}get selectedLanguage(){var e,i,s,o,c;return((c=(o=(s=(i=(e=this.transcript.content)==null?void 0:e.footer)==null?void 0:i.language_menu)==null?void 0:s.sub_menu_items)==null?void 0:o.find(l=>l.selected))==null?void 0:c.title.toString())||""}get page(){return u(this,$s,"f")}};r(qs,"TranscriptInfo");$s=new WeakMap,Id=new WeakMap;var Xb=qs;var Lk={};var P=class{constructor(e,i,s,o){var l,f,h,_,x,b,w,v,I,k,C,E,O,z,M,ne,le,V,se,F,Y,J,re,Ve,lt,ut,ft;let c=new a(e);this.id=o||((_=(h=(f=(l=c==null?void 0:c.runs)==null?void 0:l[0])==null?void 0:f.endpoint)==null?void 0:h.payload)==null?void 0:_.browseId)||((b=(x=c==null?void 0:c.endpoint)==null?void 0:x.payload)==null?void 0:b.browseId)||"N/A",this.name=(c==null?void 0:c.text)||"N/A",this.thumbnails=s?y.fromResponse(s):[],this.endpoint=((v=(w=c==null?void 0:c.runs)==null?void 0:w[0])==null?void 0:v.endpoint)||(c==null?void 0:c.endpoint),i?Array.isArray(i)?(this.badges=p.parseArray(i),this.is_moderator=(I=this.badges)==null?void 0:I.some(Ue=>Ue.icon_type=="MODERATOR"),this.is_verified=(k=this.badges)==null?void 0:k.some(Ue=>Ue.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(C=this.badges)==null?void 0:C.some(Ue=>Ue.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=G([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=G([]),this.url=((M=(z=(O=(E=c==null?void 0:c.runs)==null?void 0:E[0])==null?void 0:O.endpoint)==null?void 0:z.metadata)==null?void 0:M.api_url)==="/browse"&&`${Fe.YT_BASE}${((se=(V=(le=(ne=c==null?void 0:c.runs)==null?void 0:ne[0])==null?void 0:le.endpoint)==null?void 0:V.payload)==null?void 0:se.canonicalBaseUrl)||`/u/${(re=(J=(Y=(F=c==null?void 0:c.runs)==null?void 0:F[0])==null?void 0:Y.endpoint)==null?void 0:J.payload)==null?void 0:re.browseId}`}`||`${Fe.YT_BASE}${((lt=(Ve=c==null?void 0:c.endpoint)==null?void 0:Ve.payload)==null?void 0:lt.canonicalBaseUrl)||`/u/${(ft=(ut=c==null?void 0:c.endpoint)==null?void 0:ut.payload)==null?void 0:ft.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};r(P,"Author");var TC=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],Uk=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],vC="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",Fk="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",mw={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},hw="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",IC={5:hw,"5module":hw+" export import",6:hw+" const class extends export import super"},SC=/^in(stanceof)?$/,kC=new RegExp("["+Fk+"]"),EC=new RegExp("["+Fk+vC+"]");function _w(t,e){for(var i=65536,s=0;s<e.length;s+=2){if(i+=e[s],i>t)return!1;if(i+=e[s+1],i>=t)return!0}return!1}r(_w,"isInAstralSet");function li(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&kC.test(String.fromCharCode(t)):e===!1?!1:_w(t,Uk)}r(li,"isIdentifierStart");function Ks(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&EC.test(String.fromCharCode(t)):e===!1?!1:_w(t,Uk)||_w(t,TC)}r(Ks,"isIdentifierChar");var $=r(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function rt(t,e){return new $(t,{beforeExpr:!0,binop:e})}r(rt,"binop");var st={beforeExpr:!0},qe={startsExpr:!0},gw={};function H(t,e){return e===void 0&&(e={}),e.keyword=t,gw[t]=new $(t,e)}r(H,"kw");var d={num:new $("num",qe),regexp:new $("regexp",qe),string:new $("string",qe),name:new $("name",qe),privateId:new $("privateId",qe),eof:new $("eof"),bracketL:new $("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new $("]"),braceL:new $("{",{beforeExpr:!0,startsExpr:!0}),braceR:new $("}"),parenL:new $("(",{beforeExpr:!0,startsExpr:!0}),parenR:new $(")"),comma:new $(",",st),semi:new $(";",st),colon:new $(":",st),dot:new $("."),question:new $("?",st),questionDot:new $("?."),arrow:new $("=>",st),template:new $("template"),invalidTemplate:new $("invalidTemplate"),ellipsis:new $("...",st),backQuote:new $("`",qe),dollarBraceL:new $("${",{beforeExpr:!0,startsExpr:!0}),eq:new $("=",{beforeExpr:!0,isAssign:!0}),assign:new $("_=",{beforeExpr:!0,isAssign:!0}),incDec:new $("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new $("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:rt("||",1),logicalAND:rt("&&",2),bitwiseOR:rt("|",3),bitwiseXOR:rt("^",4),bitwiseAND:rt("&",5),equality:rt("==/!=/===/!==",6),relational:rt("</>/<=/>=",7),bitShift:rt("<</>>/>>>",8),plusMin:new $("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:rt("%",10),star:rt("*",10),slash:rt("/",10),starstar:new $("**",{beforeExpr:!0}),coalesce:rt("??",1),_break:H("break"),_case:H("case",st),_catch:H("catch"),_continue:H("continue"),_debugger:H("debugger"),_default:H("default",st),_do:H("do",{isLoop:!0,beforeExpr:!0}),_else:H("else",st),_finally:H("finally"),_for:H("for",{isLoop:!0}),_function:H("function",qe),_if:H("if"),_return:H("return",st),_switch:H("switch"),_throw:H("throw",st),_try:H("try"),_var:H("var"),_const:H("const"),_while:H("while",{isLoop:!0}),_with:H("with"),_new:H("new",{beforeExpr:!0,startsExpr:!0}),_this:H("this",qe),_super:H("super",qe),_class:H("class",qe),_extends:H("extends",st),_export:H("export"),_import:H("import",qe),_null:H("null",qe),_true:H("true",qe),_false:H("false",qe),_in:H("in",{beforeExpr:!0,binop:7}),_instanceof:H("instanceof",{beforeExpr:!0,binop:7}),_typeof:H("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:H("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:H("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},at=/\r\n?|\n|\u2028|\u2029/,CC=new RegExp(at.source,"g");function zs(t){return t===10||t===13||t===8232||t===8233}r(zs,"isNewLine");function Wk(t,e,i){i===void 0&&(i=t.length);for(var s=e;s<i;s++){var o=t.charCodeAt(s);if(zs(o))return s<i-1&&o===13&&t.charCodeAt(s+1)===10?s+2:s+1}return-1}r(Wk,"nextLineBreak");var Gk=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,ot=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Hk=Object.prototype,PC=Hk.hasOwnProperty,NC=Hk.toString,Cd=Object.hasOwn||function(t,e){return PC.call(t,e)},Bk=Array.isArray||function(t){return NC.call(t)==="[object Array]"},Dk=Object.create(null);function $i(t){return Dk[t]||(Dk[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}r($i,"wordsRegexp");function qi(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}r(qi,"codePointToString");var AC=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,kd=r(function(e,i){this.line=e,this.column=i},"Position");kd.prototype.offset=r(function(e){return new kd(this.line,this.column+e)},"offset");var _g=r(function(e,i,s){this.start=i,this.end=s,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function jk(t,e){for(var i=1,s=0;;){var o=Wk(t,s,e);if(o<0)return new kd(i,e-s);++i,s=o}}r(jk,"getLineInfo");var xw={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},Ok=!1;function RC(t){var e={};for(var i in xw)e[i]=t&&Cd(t,i)?t[i]:xw[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!Ok&&typeof console=="object"&&console.warn&&(Ok=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),Bk(e.onToken)){var s=e.onToken;e.onToken=function(o){return s.push(o)}}return Bk(e.onComment)&&(e.onComment=MC(e,e.onComment)),e}r(RC,"getOptions");function MC(t,e){return function(i,s,o,c,l,f){var h={type:i?"Block":"Line",value:s,start:o,end:c};t.locations&&(h.loc=new _g(this,l,f)),t.ranges&&(h.range=[o,c]),e.push(h)}}r(MC,"pushComment");var Ed=1,Xs=2,ww=4,$k=8,qk=16,Kk=32,Tw=64,zk=128,Pd=256,vw=Ed|Xs|Pd;function Iw(t,e){return Xs|(t?ww:0)|(e?$k:0)}r(Iw,"functionFlags");var fg=0,Sw=1,fi=2,Xk=3,Qk=4,Jk=5,xe=r(function(e,i,s){this.options=e=RC(e),this.sourceFile=e.sourceFile,this.keywords=$i(IC[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var o="";e.allowReserved!==!0&&(o=mw[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(o+=" await")),this.reservedWords=$i(o);var c=(o?o+" ":"")+mw.strict;this.reservedWordsStrict=$i(c),this.reservedWordsStrictBind=$i(c+" "+mw.strictBind),this.input=String(i),this.containsEsc=!1,s?(this.pos=s,this.lineStart=this.input.lastIndexOf(`
`,s-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(at).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=d.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(Ed),this.regexpState=null,this.privateNameStack=[]},"Parser"),Ht={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};xe.prototype.parse=r(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");Ht.inFunction.get=function(){return(this.currentVarScope().flags&Xs)>0};Ht.inGenerator.get=function(){return(this.currentVarScope().flags&$k)>0&&!this.currentVarScope().inClassFieldInit};Ht.inAsync.get=function(){return(this.currentVarScope().flags&ww)>0&&!this.currentVarScope().inClassFieldInit};Ht.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&Pd)return!1;if(e.flags&Xs)return(e.flags&ww)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};Ht.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&Tw)>0||i||this.options.allowSuperOutsideMethod};Ht.allowDirectSuper.get=function(){return(this.currentThisScope().flags&zk)>0};Ht.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};Ht.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Xs|Pd))>0||i};Ht.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&Pd)>0};xe.extend=r(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var s=this,o=0;o<e.length;o++)s=e[o](s);return s},"extend");xe.parse=r(function(e,i){return new this(i,e).parse()},"parse");xe.parseExpressionAt=r(function(e,i,s){var o=new this(s,e,i);return o.nextToken(),o.parseExpression()},"parseExpressionAt");xe.tokenizer=r(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(xe.prototype,Ht);var Oe=xe.prototype,LC=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Oe.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){ot.lastIndex=t,t+=ot.exec(this.input)[0].length;var e=LC.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){ot.lastIndex=t+e[0].length;var i=ot.exec(this.input),s=i.index+i[0].length,o=this.input.charAt(s);return o===";"||o==="}"||at.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(o)||o==="!"&&this.input.charAt(s+1)==="=")}t+=e[0].length,ot.lastIndex=t,t+=ot.exec(this.input)[0].length,this.input[t]===";"&&t++}};Oe.eat=function(t){return this.type===t?(this.next(),!0):!1};Oe.isContextual=function(t){return this.type===d.name&&this.value===t&&!this.containsEsc};Oe.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Oe.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Oe.canInsertSemicolon=function(){return this.type===d.eof||this.type===d.braceR||at.test(this.input.slice(this.lastTokEnd,this.start))};Oe.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Oe.semicolon=function(){!this.eat(d.semi)&&!this.insertSemicolon()&&this.unexpected()};Oe.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Oe.expect=function(t){this.eat(t)||this.unexpected()};Oe.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var xg=r(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Oe.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};Oe.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,s=t.doubleProto;if(!e)return i>=0||s>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),s>=0&&this.raiseRecoverable(s,"Redefinition of __proto__ property")};Oe.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Oe.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var A=xe.prototype;A.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==d.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var s=0,o=Object.keys(this.undefinedExports);s<o.length;s+=1){var c=o[s];this.raiseRecoverable(this.undefinedExports[c].start,"Export '"+c+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var kw={kind:"loop"},BC={kind:"switch"};A.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;ot.lastIndex=this.pos;var e=ot.exec(this.input),i=this.pos+e[0].length,s=this.input.charCodeAt(i);if(s===91||s===92)return!0;if(t)return!1;if(s===123||s>55295&&s<56320)return!0;if(li(s,!0)){for(var o=i+1;Ks(s=this.input.charCodeAt(o),!0);)++o;if(s===92||s>55295&&s<56320)return!0;var c=this.input.slice(i,o);if(!SC.test(c))return!0}return!1};A.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;ot.lastIndex=this.pos;var t=ot.exec(this.input),e=this.pos+t[0].length,i;return!at.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Ks(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};A.parseStatement=function(t,e,i){var s=this.type,o=this.startNode(),c;switch(this.isLet(t)&&(s=d._var,c="let"),s){case d._break:case d._continue:return this.parseBreakContinueStatement(o,s.keyword);case d._debugger:return this.parseDebuggerStatement(o);case d._do:return this.parseDoStatement(o);case d._for:return this.parseForStatement(o);case d._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!t);case d._class:return t&&this.unexpected(),this.parseClass(o,!0);case d._if:return this.parseIfStatement(o);case d._return:return this.parseReturnStatement(o);case d._switch:return this.parseSwitchStatement(o);case d._throw:return this.parseThrowStatement(o);case d._try:return this.parseTryStatement(o);case d._const:case d._var:return c=c||this.value,t&&c!=="var"&&this.unexpected(),this.parseVarStatement(o,c);case d._while:return this.parseWhileStatement(o);case d._with:return this.parseWithStatement(o);case d.braceL:return this.parseBlock(!0,o);case d.semi:return this.parseEmptyStatement(o);case d._export:case d._import:if(this.options.ecmaVersion>10&&s===d._import){ot.lastIndex=this.pos;var l=ot.exec(this.input),f=this.pos+l[0].length,h=this.input.charCodeAt(f);if(h===40||h===46)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),s===d._import?this.parseImport(o):this.parseExport(o,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!t);var _=this.value,x=this.parseExpression();return s===d.name&&x.type==="Identifier"&&this.eat(d.colon)?this.parseLabeledStatement(o,_,x,t):this.parseExpressionStatement(o,x)}};A.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(d.semi)||this.insertSemicolon()?t.label=null:this.type!==d.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var s=0;s<this.labels.length;++s){var o=this.labels[s];if((t.label==null||o.name===t.label.name)&&(o.kind!=null&&(i||o.kind==="loop")||t.label&&i))break}return s===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};A.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};A.parseDoStatement=function(t){return this.next(),this.labels.push(kw),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(d._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(d.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};A.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(kw),this.enterScope(0),this.expect(d.parenL),this.type===d.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===d._var||this.type===d._const||i){var s=this.startNode(),o=i?"let":this.value;return this.next(),this.parseVar(s,!0,o),this.finishNode(s,"VariableDeclaration"),(this.type===d._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&s.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===d._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,s)):(e>-1&&this.unexpected(e),this.parseFor(t,s))}var c=this.isContextual("let"),l=!1,f=this.containsEsc,h=new xg,_=this.start,x=e>-1?this.parseExprSubscripts(h,"await"):this.parseExpression(!0,h);return this.type===d._in||(l=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===d._in&&this.unexpected(e),t.await=!0):l&&this.options.ecmaVersion>=8&&(x.start===_&&!f&&x.type==="Identifier"&&x.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),c&&l&&this.raise(x.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(x,!1,h),this.checkLValPattern(x),this.parseForIn(t,x)):(this.checkExpressionErrors(h,!0),e>-1&&this.unexpected(e),this.parseFor(t,x))};A.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,Sd|(i?0:yw),!1,e)};A.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(d._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};A.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(d.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};A.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(d.braceL),this.labels.push(BC),this.enterScope(0);for(var e,i=!1;this.type!==d.braceR;)if(this.type===d._case||this.type===d._default){var s=this.type===d._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),s?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(d.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};A.parseThrowStatement=function(t){return this.next(),at.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var DC=[];A.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?Kk:0),this.checkLValPattern(t,e?Qk:fi),this.expect(d.parenR),t};A.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===d._catch){var e=this.startNode();this.next(),this.eat(d.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(d._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};A.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};A.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(kw),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};A.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};A.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};A.parseLabeledStatement=function(t,e,i,s){for(var o=0,c=this.labels;o<c.length;o+=1){var l=c[o];l.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var f=this.type.isLoop?"loop":this.type===d._switch?"switch":null,h=this.labels.length-1;h>=0;h--){var _=this.labels[h];if(_.statementStart===t.start)_.statementStart=this.start,_.kind=f;else break}return this.labels.push({name:e,kind:f,statementStart:this.start}),t.body=this.parseStatement(s?s.indexOf("label")===-1?s+"label":s:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};A.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};A.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(d.braceL),t&&this.enterScope(0);this.type!==d.braceR;){var s=this.parseStatement(null);e.body.push(s)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};A.parseFor=function(t,e){return t.init=e,this.expect(d.semi),t.test=this.type===d.semi?null:this.parseExpression(),this.expect(d.semi),t.update=this.type===d.parenR?null:this.parseExpression(),this.expect(d.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};A.parseForIn=function(t,e){var i=this.type===d._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(d.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};A.parseVar=function(t,e,i,s){for(t.declarations=[],t.kind=i;;){var o=this.startNode();if(this.parseVarId(o,i),this.eat(d.eq)?o.init=this.parseMaybeAssign(e):!s&&i==="const"&&!(this.type===d._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!s&&o.id.type!=="Identifier"&&!(e&&(this.type===d._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,t.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(d.comma))break}return t};A.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?Sw:fi,!1)};var Sd=1,yw=2,Zk=4;A.parseFunction=function(t,e,i,s,o){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!s)&&(this.type===d.star&&e&yw&&this.unexpected(),t.generator=this.eat(d.star)),this.options.ecmaVersion>=8&&(t.async=!!s),e&Sd&&(t.id=e&Zk&&this.type!==d.name?null:this.parseIdent(),t.id&&!(e&yw)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?Sw:fi:Xk));var c=this.yieldPos,l=this.awaitPos,f=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Iw(t.async,t.generator)),e&Sd||(t.id=this.type===d.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,o),this.yieldPos=c,this.awaitPos=l,this.awaitIdentPos=f,this.finishNode(t,e&Sd?"FunctionDeclaration":"FunctionExpression")};A.parseFunctionParams=function(t){this.expect(d.parenL),t.params=this.parseBindingList(d.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};A.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var s=this.enterClassBody(),o=this.startNode(),c=!1;for(o.body=[],this.expect(d.braceL);this.type!==d.braceR;){var l=this.parseClassElement(t.superClass!==null);l&&(o.body.push(l),l.type==="MethodDefinition"&&l.kind==="constructor"?(c&&this.raiseRecoverable(l.start,"Duplicate constructor in the same class"),c=!0):l.key&&l.key.type==="PrivateIdentifier"&&OC(s,l)&&this.raiseRecoverable(l.key.start,"Identifier '#"+l.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(o,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};A.parseClassElement=function(t){if(this.eat(d.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),s="",o=!1,c=!1,l="method",f=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(d.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===d.star?f=!0:s="static"}if(i.static=f,!s&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===d.star)&&!this.canInsertSemicolon()?c=!0:s="async"),!s&&(e>=9||!c)&&this.eat(d.star)&&(o=!0),!s&&!c&&!o){var h=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?l=h:s=h)}if(s?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=s,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===d.parenL||l!=="method"||o||c){var _=!i.static&&mg(i,"constructor"),x=_&&t;_&&l!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=_?"constructor":l,this.parseClassMethod(i,o,c,x)}else this.parseClassField(i);return i};A.isClassElementNameStart=function(){return this.type===d.name||this.type===d.privateId||this.type===d.num||this.type===d.string||this.type===d.bracketL||this.type.keyword};A.parseClassElementName=function(t){this.type===d.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};A.parseClassMethod=function(t,e,i,s){var o=t.key;t.kind==="constructor"?(e&&this.raise(o.start,"Constructor can't be a generator"),i&&this.raise(o.start,"Constructor can't be an async method")):t.static&&mg(t,"prototype")&&this.raise(o.start,"Classes may not have a static property named prototype");var c=t.value=this.parseMethod(e,i,s);return t.kind==="get"&&c.params.length!==0&&this.raiseRecoverable(c.start,"getter should have no params"),t.kind==="set"&&c.params.length!==1&&this.raiseRecoverable(c.start,"setter should have exactly one param"),t.kind==="set"&&c.params[0].type==="RestElement"&&this.raiseRecoverable(c.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};A.parseClassField=function(t){if(mg(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&mg(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(d.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};A.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(Pd|Tw);this.type!==d.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};A.parseClassId=function(t,e){this.type===d.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,fi,!1)):(e===!0&&this.unexpected(),t.id=null)};A.parseClassSuper=function(t){t.superClass=this.eat(d._extends)?this.parseExprSubscripts(null,!1):null};A.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};A.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var s=this.privateNameStack.length,o=s===0?null:this.privateNameStack[s-1],c=0;c<i.length;++c){var l=i[c];Cd(e,l.name)||(o?o.used.push(l):this.raiseRecoverable(l.start,"Private field '#"+l.name+"' must be declared in an enclosing class"))}};function OC(t,e){var i=e.key.name,s=t[i],o="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(o=(e.static?"s":"i")+e.kind),s==="iget"&&o==="iset"||s==="iset"&&o==="iget"||s==="sget"&&o==="sset"||s==="sset"&&o==="sget"?(t[i]="true",!1):s?!0:(t[i]=o,!1)}r(OC,"isPrivateNameConflicted");function mg(t,e){var i=t.computed,s=t.key;return!i&&(s.type==="Identifier"&&s.name===e||s.type==="Literal"&&s.value===e)}r(mg,"checkKeyName");A.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==d.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};A.parseExport=function(t,e){if(this.next(),this.eat(d.star))return this.parseExportAllDeclaration(t,e);if(this.eat(d._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==d.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,s=t.specifiers;i<s.length;i+=1){var o=s[i];this.checkUnreserved(o.local),this.checkLocalExport(o.local),o.local.type==="Literal"&&this.raise(o.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};A.parseExportDeclaration=function(t){return this.parseStatement(null)};A.parseExportDefaultDeclaration=function(){var t;if(this.type===d._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,Sd|Zk,!1,t)}else if(this.type===d._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var s=this.parseMaybeAssign();return this.semicolon(),s}};A.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),Cd(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};A.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var s=0,o=e.properties;s<o.length;s+=1){var c=o[s];this.checkPatternExport(t,c)}else if(i==="ArrayPattern")for(var l=0,f=e.elements;l<f.length;l+=1){var h=f[l];h&&this.checkPatternExport(t,h)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};A.checkVariableExport=function(t,e){if(!!t)for(var i=0,s=e;i<s.length;i+=1){var o=s[i];this.checkPatternExport(t,o.id)}};A.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};A.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};A.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(d.braceL);!this.eat(d.braceR);){if(i)i=!1;else if(this.expect(d.comma),this.afterTrailingComma(d.braceR))break;e.push(this.parseExportSpecifier(t))}return e};A.parseImport=function(t){return this.next(),this.type===d.string?(t.specifiers=DC,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===d.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};A.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,fi),this.finishNode(t,"ImportSpecifier")};A.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,fi),this.finishNode(t,"ImportDefaultSpecifier")};A.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,fi),this.finishNode(t,"ImportNamespaceSpecifier")};A.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===d.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(d.comma)))return t;if(this.type===d.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(d.braceL);!this.eat(d.braceR);){if(e)e=!1;else if(this.expect(d.comma),this.afterTrailingComma(d.braceR))break;t.push(this.parseImportSpecifier())}return t};A.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===d.string){var t=this.parseLiteral(this.value);return AC.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};A.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};A.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var ct=xe.prototype;ct.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var s=0,o=t.properties;s<o.length;s+=1){var c=o[s];this.toAssignable(c,e),c.type==="RestElement"&&(c.argument.type==="ArrayPattern"||c.argument.type==="ObjectPattern")&&this.raise(c.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};ct.toAssignableList=function(t,e){for(var i=t.length,s=0;s<i;s++){var o=t[s];o&&this.toAssignable(o,e)}if(i){var c=t[i-1];this.options.ecmaVersion===6&&e&&c&&c.type==="RestElement"&&c.argument.type!=="Identifier"&&this.unexpected(c.argument.start)}return t};ct.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};ct.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==d.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};ct.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case d.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(d.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case d.braceL:return this.parseObj(!0)}return this.parseIdent()};ct.parseBindingList=function(t,e,i,s){for(var o=[],c=!0;!this.eat(t);)if(c?c=!1:this.expect(d.comma),e&&this.type===d.comma)o.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===d.ellipsis){var l=this.parseRestBinding();this.parseBindingListItem(l),o.push(l),this.type===d.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else o.push(this.parseAssignableListItem(s))}return o};ct.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};ct.parseBindingListItem=function(t){return t};ct.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(d.eq))return i;var s=this.startNodeAt(t,e);return s.left=i,s.right=this.parseMaybeAssign(),this.finishNode(s,"AssignmentPattern")};ct.checkLValSimple=function(t,e,i){e===void 0&&(e=fg);var s=e!==fg;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(s?"Binding ":"Assigning to ")+t.name+" in strict mode"),s&&(e===fi&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(Cd(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==Jk&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":s&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return s&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(s?"Binding":"Assigning to")+" rvalue")}};ct.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=fg),t.type){case"ObjectPattern":for(var s=0,o=t.properties;s<o.length;s+=1){var c=o[s];this.checkLValInnerPattern(c,e,i)}break;case"ArrayPattern":for(var l=0,f=t.elements;l<f.length;l+=1){var h=f[l];h&&this.checkLValInnerPattern(h,e,i)}break;default:this.checkLValSimple(t,e,i)}};ct.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=fg),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var St=r(function(e,i,s,o,c){this.token=e,this.isExpr=!!i,this.preserveSpace=!!s,this.override=o,this.generator=!!c},"TokContext"),oe={b_stat:new St("{",!1),b_expr:new St("{",!0),b_tmpl:new St("${",!1),p_stat:new St("(",!1),p_expr:new St("(",!0),q_tmpl:new St("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new St("function",!1),f_expr:new St("function",!0),f_expr_gen:new St("function",!0,!1,null,!0),f_gen:new St("function",!1,!1,null,!0)},Qs=xe.prototype;Qs.initialContext=function(){return[oe.b_stat]};Qs.curContext=function(){return this.context[this.context.length-1]};Qs.braceIsBlock=function(t){var e=this.curContext();return e===oe.f_expr||e===oe.f_stat?!0:t===d.colon&&(e===oe.b_stat||e===oe.b_expr)?!e.isExpr:t===d._return||t===d.name&&this.exprAllowed?at.test(this.input.slice(this.lastTokEnd,this.start)):t===d._else||t===d.semi||t===d.eof||t===d.parenR||t===d.arrow?!0:t===d.braceL?e===oe.b_stat:t===d._var||t===d._const||t===d.name?!1:!this.exprAllowed};Qs.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Qs.updateContext=function(t){var e,i=this.type;i.keyword&&t===d.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Qs.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};d.parenR.updateContext=d.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===oe.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};d.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?oe.b_stat:oe.b_expr),this.exprAllowed=!0};d.dollarBraceL.updateContext=function(){this.context.push(oe.b_tmpl),this.exprAllowed=!0};d.parenL.updateContext=function(t){var e=t===d._if||t===d._for||t===d._with||t===d._while;this.context.push(e?oe.p_stat:oe.p_expr),this.exprAllowed=!0};d.incDec.updateContext=function(){};d._function.updateContext=d._class.updateContext=function(t){t.beforeExpr&&t!==d._else&&!(t===d.semi&&this.curContext()!==oe.p_stat)&&!(t===d._return&&at.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===d.colon||t===d.braceL)&&this.curContext()===oe.b_stat)?this.context.push(oe.f_expr):this.context.push(oe.f_stat),this.exprAllowed=!1};d.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};d.backQuote.updateContext=function(){this.curContext()===oe.q_tmpl?this.context.pop():this.context.push(oe.q_tmpl),this.exprAllowed=!1};d.star.updateContext=function(t){if(t===d._function){var e=this.context.length-1;this.context[e]===oe.f_expr?this.context[e]=oe.f_expr_gen:this.context[e]=oe.f_gen}this.exprAllowed=!0};d.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==d.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var B=xe.prototype;B.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var s=t.key,o;switch(s.type){case"Identifier":o=s.name;break;case"Literal":o=String(s.value);break;default:return}var c=t.kind;if(this.options.ecmaVersion>=6){o==="__proto__"&&c==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=s.start):this.raiseRecoverable(s.start,"Redefinition of __proto__ property")),e.proto=!0);return}o="$"+o;var l=e[o];if(l){var f;c==="init"?f=this.strict&&l.init||l.get||l.set:f=l.init||l[c],f&&this.raiseRecoverable(s.start,"Redefinition of property")}else l=e[o]={init:!1,get:!1,set:!1};l[c]=!0}};B.parseExpression=function(t,e){var i=this.start,s=this.startLoc,o=this.parseMaybeAssign(t,e);if(this.type===d.comma){var c=this.startNodeAt(i,s);for(c.expressions=[o];this.eat(d.comma);)c.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(c,"SequenceExpression")}return o};B.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var s=!1,o=-1,c=-1,l=-1;e?(o=e.parenthesizedAssign,c=e.trailingComma,l=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new xg,s=!0);var f=this.start,h=this.startLoc;(this.type===d.parenL||this.type===d.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var _=this.parseMaybeConditional(t,e);if(i&&(_=i.call(this,_,f,h)),this.type.isAssign){var x=this.startNodeAt(f,h);return x.operator=this.value,this.type===d.eq&&(_=this.toAssignable(_,!1,e)),s||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=_.start&&(e.shorthandAssign=-1),this.type===d.eq?this.checkLValPattern(_):this.checkLValSimple(_),x.left=_,this.next(),x.right=this.parseMaybeAssign(t),l>-1&&(e.doubleProto=l),this.finishNode(x,"AssignmentExpression")}else s&&this.checkExpressionErrors(e,!0);return o>-1&&(e.parenthesizedAssign=o),c>-1&&(e.trailingComma=c),_};B.parseMaybeConditional=function(t,e){var i=this.start,s=this.startLoc,o=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return o;if(this.eat(d.question)){var c=this.startNodeAt(i,s);return c.test=o,c.consequent=this.parseMaybeAssign(),this.expect(d.colon),c.alternate=this.parseMaybeAssign(t),this.finishNode(c,"ConditionalExpression")}return o};B.parseExprOps=function(t,e){var i=this.start,s=this.startLoc,o=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||o.start===i&&o.type==="ArrowFunctionExpression"?o:this.parseExprOp(o,i,s,-1,t)};B.parseExprOp=function(t,e,i,s,o){var c=this.type.binop;if(c!=null&&(!o||this.type!==d._in)&&c>s){var l=this.type===d.logicalOR||this.type===d.logicalAND,f=this.type===d.coalesce;f&&(c=d.logicalAND.binop);var h=this.value;this.next();var _=this.start,x=this.startLoc,b=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,o),_,x,c,o),w=this.buildBinary(e,i,t,b,h,l||f);return(l&&this.type===d.coalesce||f&&(this.type===d.logicalOR||this.type===d.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(w,e,i,s,o)}return t};B.buildBinary=function(t,e,i,s,o,c){s.type==="PrivateIdentifier"&&this.raise(s.start,"Private identifier can only be left side of binary expression");var l=this.startNodeAt(t,e);return l.left=i,l.operator=o,l.right=s,this.finishNode(l,c?"LogicalExpression":"BinaryExpression")};B.parseMaybeUnary=function(t,e,i,s){var o=this.start,c=this.startLoc,l;if(this.isContextual("await")&&this.canAwait)l=this.parseAwait(s),e=!0;else if(this.type.prefix){var f=this.startNode(),h=this.type===d.incDec;f.operator=this.value,f.prefix=!0,this.next(),f.argument=this.parseMaybeUnary(null,!0,h,s),this.checkExpressionErrors(t,!0),h?this.checkLValSimple(f.argument):this.strict&&f.operator==="delete"&&eE(f.argument)?this.raiseRecoverable(f.start,"Deleting local variable in strict mode"):f.operator==="delete"&&bw(f.argument)?this.raiseRecoverable(f.start,"Private fields can not be deleted"):e=!0,l=this.finishNode(f,h?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===d.privateId)(s||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),l=this.parsePrivateIdent(),this.type!==d._in&&this.unexpected();else{if(l=this.parseExprSubscripts(t,s),this.checkExpressionErrors(t))return l;for(;this.type.postfix&&!this.canInsertSemicolon();){var _=this.startNodeAt(o,c);_.operator=this.value,_.prefix=!1,_.argument=l,this.checkLValSimple(l),this.next(),l=this.finishNode(_,"UpdateExpression")}}if(!i&&this.eat(d.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(o,c,l,this.parseMaybeUnary(null,!1,!1,s),"**",!1);else return l};function eE(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&eE(t.expression)}r(eE,"isLocalVariableAccess");function bw(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&bw(t.expression)||t.type==="ParenthesizedExpression"&&bw(t.expression)}r(bw,"isPrivateFieldAccess");B.parseExprSubscripts=function(t,e){var i=this.start,s=this.startLoc,o=this.parseExprAtom(t,e);if(o.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return o;var c=this.parseSubscripts(o,i,s,!1,e);return t&&c.type==="MemberExpression"&&(t.parenthesizedAssign>=c.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=c.start&&(t.parenthesizedBind=-1),t.trailingComma>=c.start&&(t.trailingComma=-1)),c};B.parseSubscripts=function(t,e,i,s,o){for(var c=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,l=!1;;){var f=this.parseSubscript(t,e,i,s,c,l,o);if(f.optional&&(l=!0),f===t||f.type==="ArrowFunctionExpression"){if(l){var h=this.startNodeAt(e,i);h.expression=f,f=this.finishNode(h,"ChainExpression")}return f}t=f}};B.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(d.arrow)};B.parseSubscriptAsyncArrow=function(t,e,i,s){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,s)};B.parseSubscript=function(t,e,i,s,o,c,l){var f=this.options.ecmaVersion>=11,h=f&&this.eat(d.questionDot);s&&h&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var _=this.eat(d.bracketL);if(_||h&&this.type!==d.parenL&&this.type!==d.backQuote||this.eat(d.dot)){var x=this.startNodeAt(e,i);x.object=t,_?(x.property=this.parseExpression(),this.expect(d.bracketR)):this.type===d.privateId&&t.type!=="Super"?x.property=this.parsePrivateIdent():x.property=this.parseIdent(this.options.allowReserved!=="never"),x.computed=!!_,f&&(x.optional=h),t=this.finishNode(x,"MemberExpression")}else if(!s&&this.eat(d.parenL)){var b=new xg,w=this.yieldPos,v=this.awaitPos,I=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var k=this.parseExprList(d.parenR,this.options.ecmaVersion>=8,!1,b);if(o&&!h&&this.shouldParseAsyncArrow())return this.checkPatternErrors(b,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=w,this.awaitPos=v,this.awaitIdentPos=I,this.parseSubscriptAsyncArrow(e,i,k,l);this.checkExpressionErrors(b,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=v||this.awaitPos,this.awaitIdentPos=I||this.awaitIdentPos;var C=this.startNodeAt(e,i);C.callee=t,C.arguments=k,f&&(C.optional=h),t=this.finishNode(C,"CallExpression")}else if(this.type===d.backQuote){(h||c)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var E=this.startNodeAt(e,i);E.tag=t,E.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(E,"TaggedTemplateExpression")}return t};B.parseExprAtom=function(t,e,i){this.type===d.slash&&this.readRegexp();var s,o=this.potentialArrowAt===this.start;switch(this.type){case d._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),s=this.startNode(),this.next(),this.type===d.parenL&&!this.allowDirectSuper&&this.raise(s.start,"super() call outside constructor of a subclass"),this.type!==d.dot&&this.type!==d.bracketL&&this.type!==d.parenL&&this.unexpected(),this.finishNode(s,"Super");case d._this:return s=this.startNode(),this.next(),this.finishNode(s,"ThisExpression");case d.name:var c=this.start,l=this.startLoc,f=this.containsEsc,h=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!f&&h.name==="async"&&!this.canInsertSemicolon()&&this.eat(d._function))return this.overrideContext(oe.f_expr),this.parseFunction(this.startNodeAt(c,l),0,!1,!0,e);if(o&&!this.canInsertSemicolon()){if(this.eat(d.arrow))return this.parseArrowExpression(this.startNodeAt(c,l),[h],!1,e);if(this.options.ecmaVersion>=8&&h.name==="async"&&this.type===d.name&&!f&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return h=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(d.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(c,l),[h],!0,e)}return h;case d.regexp:var _=this.value;return s=this.parseLiteral(_.value),s.regex={pattern:_.pattern,flags:_.flags},s;case d.num:case d.string:return this.parseLiteral(this.value);case d._null:case d._true:case d._false:return s=this.startNode(),s.value=this.type===d._null?null:this.type===d._true,s.raw=this.type.keyword,this.next(),this.finishNode(s,"Literal");case d.parenL:var x=this.start,b=this.parseParenAndDistinguishExpression(o,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(b)&&(t.parenthesizedAssign=x),t.parenthesizedBind<0&&(t.parenthesizedBind=x)),b;case d.bracketL:return s=this.startNode(),this.next(),s.elements=this.parseExprList(d.bracketR,!0,!0,t),this.finishNode(s,"ArrayExpression");case d.braceL:return this.overrideContext(oe.b_expr),this.parseObj(!1,t);case d._function:return s=this.startNode(),this.next(),this.parseFunction(s,0);case d._class:return this.parseClass(this.startNode(),!1);case d._new:return this.parseNew();case d.backQuote:return this.parseTemplate();case d._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};B.parseExprAtomDefault=function(){this.unexpected()};B.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===d.parenL&&!t)return this.parseDynamicImport(e);if(this.type===d.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};B.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(d.parenR)){var e=this.start;this.eat(d.comma)&&this.eat(d.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};B.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};B.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};B.parseParenExpression=function(){this.expect(d.parenL);var t=this.parseExpression();return this.expect(d.parenR),t};B.shouldParseArrow=function(t){return!this.canInsertSemicolon()};B.parseParenAndDistinguishExpression=function(t,e){var i=this.start,s=this.startLoc,o,c=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var l=this.start,f=this.startLoc,h=[],_=!0,x=!1,b=new xg,w=this.yieldPos,v=this.awaitPos,I;for(this.yieldPos=0,this.awaitPos=0;this.type!==d.parenR;)if(_?_=!1:this.expect(d.comma),c&&this.afterTrailingComma(d.parenR,!0)){x=!0;break}else if(this.type===d.ellipsis){I=this.start,h.push(this.parseParenItem(this.parseRestBinding())),this.type===d.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else h.push(this.parseMaybeAssign(!1,b,this.parseParenItem));var k=this.lastTokEnd,C=this.lastTokEndLoc;if(this.expect(d.parenR),t&&this.shouldParseArrow(h)&&this.eat(d.arrow))return this.checkPatternErrors(b,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=w,this.awaitPos=v,this.parseParenArrowList(i,s,h,e);(!h.length||x)&&this.unexpected(this.lastTokStart),I&&this.unexpected(I),this.checkExpressionErrors(b,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=v||this.awaitPos,h.length>1?(o=this.startNodeAt(l,f),o.expressions=h,this.finishNodeAt(o,"SequenceExpression",k,C)):o=h[0]}else o=this.parseParenExpression();if(this.options.preserveParens){var E=this.startNodeAt(i,s);return E.expression=o,this.finishNode(E,"ParenthesizedExpression")}else return o};B.parseParenItem=function(t){return t};B.parseParenArrowList=function(t,e,i,s){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,s)};var YC=[];B.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===d.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var s=this.start,o=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),s,o,!0,!1),this.eat(d.parenL)?t.arguments=this.parseExprList(d.parenR,this.options.ecmaVersion>=8,!1):t.arguments=YC,this.finishNode(t,"NewExpression")};B.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===d.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===d.backQuote,this.finishNode(i,"TemplateElement")};B.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var s=this.parseTemplateElement({isTagged:e});for(i.quasis=[s];!s.tail;)this.type===d.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(d.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(d.braceR),i.quasis.push(s=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};B.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===d.name||this.type===d.num||this.type===d.string||this.type===d.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===d.star)&&!at.test(this.input.slice(this.lastTokEnd,this.start))};B.parseObj=function(t,e){var i=this.startNode(),s=!0,o={};for(i.properties=[],this.next();!this.eat(d.braceR);){if(s)s=!1;else if(this.expect(d.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(d.braceR))break;var c=this.parseProperty(t,e);t||this.checkPropClash(c,o,e),i.properties.push(c)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};B.parseProperty=function(t,e){var i=this.startNode(),s,o,c,l;if(this.options.ecmaVersion>=9&&this.eat(d.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===d.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===d.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(c=this.start,l=this.startLoc),t||(s=this.eat(d.star)));var f=this.containsEsc;return this.parsePropertyName(i),!t&&!f&&this.options.ecmaVersion>=8&&!s&&this.isAsyncProp(i)?(o=!0,s=this.options.ecmaVersion>=9&&this.eat(d.star),this.parsePropertyName(i)):o=!1,this.parsePropertyValue(i,t,s,o,c,l,e,f),this.finishNode(i,"Property")};B.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};B.parsePropertyValue=function(t,e,i,s,o,c,l,f){(i||s)&&this.type===d.colon&&this.unexpected(),this.eat(d.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,l),t.kind="init"):this.options.ecmaVersion>=6&&this.type===d.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,s)):!e&&!f&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==d.comma&&this.type!==d.braceR&&this.type!==d.eq?((i||s)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||s)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=o),t.kind="init",e?t.value=this.parseMaybeDefault(o,c,this.copyNode(t.key)):this.type===d.eq&&l?(l.shorthandAssign<0&&(l.shorthandAssign=this.start),t.value=this.parseMaybeDefault(o,c,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};B.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(d.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(d.bracketR),t.key;t.computed=!1}return t.key=this.type===d.num||this.type===d.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};B.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};B.parseMethod=function(t,e,i){var s=this.startNode(),o=this.yieldPos,c=this.awaitPos,l=this.awaitIdentPos;return this.initFunction(s),this.options.ecmaVersion>=6&&(s.generator=t),this.options.ecmaVersion>=8&&(s.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(Iw(e,s.generator)|Tw|(i?zk:0)),this.expect(d.parenL),s.params=this.parseBindingList(d.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(s,!1,!0,!1),this.yieldPos=o,this.awaitPos=c,this.awaitIdentPos=l,this.finishNode(s,"FunctionExpression")};B.parseArrowExpression=function(t,e,i,s){var o=this.yieldPos,c=this.awaitPos,l=this.awaitIdentPos;return this.enterScope(Iw(i,!1)|qk),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,s),this.yieldPos=o,this.awaitPos=c,this.awaitIdentPos=l,this.finishNode(t,"ArrowFunctionExpression")};B.parseFunctionBody=function(t,e,i,s){var o=e&&this.type!==d.braceL,c=this.strict,l=!1;if(o)t.body=this.parseMaybeAssign(s),t.expression=!0,this.checkParams(t,!1);else{var f=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!c||f)&&(l=this.strictDirective(this.end),l&&f&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var h=this.labels;this.labels=[],l&&(this.strict=!0),this.checkParams(t,!c&&!l&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,Jk),t.body=this.parseBlock(!1,void 0,l&&!c),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=h}this.exitScope()};B.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var s=i[e];if(s.type!=="Identifier")return!1}return!0};B.checkParams=function(t,e){for(var i=Object.create(null),s=0,o=t.params;s<o.length;s+=1){var c=o[s];this.checkLValInnerPattern(c,Sw,e?null:i)}};B.parseExprList=function(t,e,i,s){for(var o=[],c=!0;!this.eat(t);){if(c)c=!1;else if(this.expect(d.comma),e&&this.afterTrailingComma(t))break;var l=void 0;i&&this.type===d.comma?l=null:this.type===d.ellipsis?(l=this.parseSpread(s),s&&this.type===d.comma&&s.trailingComma<0&&(s.trailingComma=this.start)):l=this.parseMaybeAssign(!1,s),o.push(l)}return o};B.checkUnreserved=function(t){var e=t.start,i=t.end,s=t.name;if(this.inGenerator&&s==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&s==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&s==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(s==="arguments"||s==="await")&&this.raise(e,"Cannot use "+s+" in class static initialization block"),this.keywords.test(s)&&this.raise(e,"Unexpected keyword '"+s+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var o=this.strict?this.reservedWordsStrict:this.reservedWords;o.test(s)&&(!this.inAsync&&s==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+s+"' is reserved"))}};B.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};B.parseIdentNode=function(){var t=this.startNode();return this.type===d.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=d.name):this.unexpected(),t};B.parsePrivateIdent=function(){var t=this.startNode();return this.type===d.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};B.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===d.semi||this.canInsertSemicolon()||this.type!==d.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(d.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};B.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var hg=xe.prototype;hg.raise=function(t,e){var i=jk(this.input,t);e+=" ("+i.line+":"+i.column+")";var s=new SyntaxError(e);throw s.pos=t,s.loc=i,s.raisedAt=this.pos,s};hg.raiseRecoverable=hg.raise;hg.curPosition=function(){if(this.options.locations)return new kd(this.curLine,this.pos-this.lineStart)};var Ki=xe.prototype,VC=r(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");Ki.enterScope=function(t){this.scopeStack.push(new VC(t))};Ki.exitScope=function(){this.scopeStack.pop()};Ki.treatFunctionsAsVarInScope=function(t){return t.flags&Xs||!this.inModule&&t.flags&Ed};Ki.declareName=function(t,e,i){var s=!1;if(e===fi){var o=this.currentScope();s=o.lexical.indexOf(t)>-1||o.functions.indexOf(t)>-1||o.var.indexOf(t)>-1,o.lexical.push(t),this.inModule&&o.flags&Ed&&delete this.undefinedExports[t]}else if(e===Qk){var c=this.currentScope();c.lexical.push(t)}else if(e===Xk){var l=this.currentScope();this.treatFunctionsAsVar?s=l.lexical.indexOf(t)>-1:s=l.lexical.indexOf(t)>-1||l.var.indexOf(t)>-1,l.functions.push(t)}else for(var f=this.scopeStack.length-1;f>=0;--f){var h=this.scopeStack[f];if(h.lexical.indexOf(t)>-1&&!(h.flags&Kk&&h.lexical[0]===t)||!this.treatFunctionsAsVarInScope(h)&&h.functions.indexOf(t)>-1){s=!0;break}if(h.var.push(t),this.inModule&&h.flags&Ed&&delete this.undefinedExports[t],h.flags&vw)break}s&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};Ki.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};Ki.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};Ki.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&vw)return e}};Ki.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&vw&&!(e.flags&qk))return e}};var yg=r(function(e,i,s){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new _g(e,s)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),Nd=xe.prototype;Nd.startNode=function(){return new yg(this,this.start,this.startLoc)};Nd.startNodeAt=function(t,e){return new yg(this,t,e)};function tE(t,e,i,s){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=s),this.options.ranges&&(t.range[1]=i),t}r(tE,"finishNodeAt");Nd.finishNode=function(t,e){return tE.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};Nd.finishNodeAt=function(t,e,i,s){return tE.call(this,t,e,i,s)};Nd.copyNode=function(t){var e=new yg(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var iE="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",rE=iE+" Extended_Pictographic",sE=rE,oE=sE+" EBase EComp EMod EPres ExtPict",nE=oE,UC=nE,FC={9:iE,10:rE,11:sE,12:oE,13:nE,14:UC},WC="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",GC={9:"",10:"",11:"",12:"",13:"",14:WC},Yk="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",aE="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",cE=aE+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",pE=cE+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",lE=pE+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",uE=lE+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",HC=uE+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",jC={9:aE,10:cE,11:pE,12:lE,13:uE,14:HC},fE={};function $C(t){var e=fE[t]={binary:$i(FC[t]+" "+Yk),binaryOfStrings:$i(GC[t]),nonBinary:{General_Category:$i(Yk),Script:$i(jC[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}r($C,"buildUnicodeData");for(ug=0,dw=[9,10,11,12,13,14];ug<dw.length;ug+=1)Vk=dw[ug],$C(Vk);var Vk,ug,dw,N=xe.prototype,dg=r(function(e,i){this.parent=e,this.base=i||this},"BranchID");dg.prototype.separatedFrom=r(function(e){for(var i=this;i;i=i.parent)for(var s=e;s;s=s.parent)if(i.base===s.base&&i!==s)return!0;return!1},"separatedFrom");dg.prototype.sibling=r(function(){return new dg(this.parent,this.base)},"sibling");var jt=r(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=fE[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null},"RegExpValidationState");jt.prototype.reset=r(function(e,i,s){var o=s.indexOf("v")!==-1,c=s.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=s,o&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=c&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=c&&this.parser.options.ecmaVersion>=9)},"reset");jt.prototype.raise=r(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");jt.prototype.at=r(function(e,i){i===void 0&&(i=!1);var s=this.source,o=s.length;if(e>=o)return-1;var c=s.charCodeAt(e);if(!(i||this.switchU)||c<=55295||c>=57344||e+1>=o)return c;var l=s.charCodeAt(e+1);return l>=56320&&l<=57343?(c<<10)+l-56613888:c},"at");jt.prototype.nextIndex=r(function(e,i){i===void 0&&(i=!1);var s=this.source,o=s.length;if(e>=o)return o;var c=s.charCodeAt(e),l;return!(i||this.switchU)||c<=55295||c>=57344||e+1>=o||(l=s.charCodeAt(e+1))<56320||l>57343?e+1:e+2},"nextIndex");jt.prototype.current=r(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");jt.prototype.lookahead=r(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");jt.prototype.advance=r(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");jt.prototype.eat=r(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");jt.prototype.eatChars=r(function(e,i){i===void 0&&(i=!1);for(var s=this.pos,o=0,c=e;o<c.length;o+=1){var l=c[o],f=this.at(s,i);if(f===-1||f!==l)return!1;s=this.nextIndex(s,i)}return this.pos=s,!0},"eatChars");N.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,s=!1,o=!1,c=0;c<i.length;c++){var l=i.charAt(c);e.indexOf(l)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(l,c+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),l==="u"&&(s=!0),l==="v"&&(o=!0)}this.options.ecmaVersion>=15&&s&&o&&this.raise(t.start,"Invalid regular expression flag")};function qC(t){for(var e in t)return!0;return!1}r(qC,"hasProp");N.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&qC(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};N.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var s=i[e];t.groupNames[s]||t.raise("Invalid named capture referenced")}};N.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new dg(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};N.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};N.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};N.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};N.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};N.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};N.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var s=0,o=-1;if(this.regexp_eatDecimalDigits(t)&&(s=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue),t.eat(125)))return o!==-1&&o<s&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};N.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};N.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};N.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};N.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};N.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};N.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};N.regexp_eatSyntaxCharacter=function(t){var e=t.current();return mE(e)?(t.lastIntValue=e,t.advance(),!0):!1};function mE(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}r(mE,"isSyntaxCharacter");N.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!mE(i);)t.advance();return t.pos!==e};N.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};N.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(e)for(var s=0,o=i;s<o.length;s+=1){var c=o[s];c.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};N.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};N.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=qi(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=qi(t.lastIntValue);return!0}return!1};N.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),s===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),KC(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)};function KC(t){return li(t,!0)||t===36||t===95}r(KC,"isRegExpIdentifierStart");N.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,s=t.current(i);return t.advance(i),s===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(s=t.lastIntValue),zC(s)?(t.lastIntValue=s,!0):(t.pos=e,!1)};function zC(t){return Ks(t,!0)||t===36||t===95||t===8204||t===8205}r(zC,"isRegExpIdentifierPart");N.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};N.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};N.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};N.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};N.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};N.regexp_eatZero=function(t){return t.current()===48&&!bg(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};N.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};N.regexp_eatControlLetter=function(t){var e=t.current();return hE(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function hE(t){return t>=65&&t<=90||t>=97&&t<=122}r(hE,"isControlLetter");N.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,s=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(s&&o>=55296&&o<=56319){var c=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var l=t.lastIntValue;if(l>=56320&&l<=57343)return t.lastIntValue=(o-55296)*1024+(l-56320)+65536,!0}t.pos=c,t.lastIntValue=o}return!0}if(s&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&XC(t.lastIntValue))return!0;s&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function XC(t){return t>=0&&t<=1114111}r(XC,"isValidUnicode");N.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};N.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var dE=0,ui=1,nt=2;N.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(QC(e))return t.lastIntValue=-1,t.advance(),ui;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var s;if(t.eat(123)&&(s=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&s===nt&&t.raise("Invalid property name"),s;t.raise("Invalid property name")}return dE};function QC(t){return t===100||t===68||t===115||t===83||t===119||t===87}r(QC,"isCharacterClassEscape");N.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var s=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,s),ui}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,o)}return dE};N.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){Cd(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};N.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return ui;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return nt;t.raise("Invalid property name")};N.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";_E(e=t.current());)t.lastStringValue+=qi(e),t.advance();return t.lastStringValue!==""};function _E(t){return hE(t)||t===95}r(_E,"isUnicodePropertyNameCharacter");N.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";JC(e=t.current());)t.lastStringValue+=qi(e),t.advance();return t.lastStringValue!==""};function JC(t){return _E(t)||bg(t)}r(JC,"isUnicodePropertyValueCharacter");N.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};N.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===nt&&t.raise("Negated character class may contain strings"),!0}return!1};N.regexp_classContents=function(t){return t.current()===93?ui:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),ui)};N.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};N.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||bE(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var s=t.current();return s!==93?(t.lastIntValue=s,t.advance(),!0):!1};N.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};N.regexp_classSetExpression=function(t){var e=ui,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===nt&&(e=nt);for(var s=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==nt&&(e=ui);continue}t.raise("Invalid character in character class")}if(s!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(s!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===nt&&(e=nt)}};N.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var s=t.lastIntValue;return i!==-1&&s!==-1&&i>s&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};N.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?ui:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};N.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),s=this.regexp_classContents(t);if(t.eat(93))return i&&s===nt&&t.raise("Negated character class may contain strings"),s;t.pos=e}if(t.eat(92)){var o=this.regexp_eatCharacterClassEscape(t);if(o)return o;t.pos=e}return null};N.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};N.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===nt&&(e=nt);return e};N.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?ui:nt};N.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&ZC(i)||eP(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function ZC(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}r(ZC,"isClassSetReservedDoublePunctuatorCharacter");function eP(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}r(eP,"isClassSetSyntaxCharacter");N.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return tP(e)?(t.lastIntValue=e,t.advance(),!0):!1};function tP(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}r(tP,"isClassSetReservedPunctuator");N.regexp_eatClassControlLetter=function(t){var e=t.current();return bg(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};N.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};N.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;bg(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function bg(t){return t>=48&&t<=57}r(bg,"isDecimalDigit");N.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;xE(i=t.current());)t.lastIntValue=16*t.lastIntValue+yE(i),t.advance();return t.pos!==e};function xE(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}r(xE,"isHexDigit");function yE(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}r(yE,"hexToInt");N.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};N.regexp_eatOctalDigit=function(t){var e=t.current();return bE(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function bE(t){return t>=48&&t<=55}r(bE,"isOctalDigit");N.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var s=0;s<e;++s){var o=t.current();if(!xE(o))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+yE(o),t.advance()}return!0};var Ew=r(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new _g(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),W=xe.prototype;W.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Ew(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};W.getToken=function(){return this.next(),new Ew(this)};typeof Symbol<"u"&&(W[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===d.eof,value:e}}}});W.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(d.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};W.readToken=function(t){return li(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};W.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};W.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var s=void 0,o=e;(s=Wk(this.input,o,this.pos))>-1;)++this.curLine,o=this.lineStart=s;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};W.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),s=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!zs(s);)s=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};W.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&Gk.test(String.fromCharCode(t)))++this.pos;else break e}}};W.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};W.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(d.ellipsis)):(++this.pos,this.finishToken(d.dot))};W.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(d.assign,2):this.finishOp(d.slash,1)};W.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,s=t===42?d.star:d.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,s=d.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(d.assign,i+1):this.finishOp(s,i)};W.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(d.assign,3)}return this.finishOp(t===124?d.logicalOR:d.logicalAND,2)}return e===61?this.finishOp(d.assign,2):this.finishOp(t===124?d.bitwiseOR:d.bitwiseAND,1)};W.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(d.assign,2):this.finishOp(d.bitwiseXOR,1)};W.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||at.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(d.incDec,2):e===61?this.finishOp(d.assign,2):this.finishOp(d.plusMin,1)};W.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(d.assign,i+1):this.finishOp(d.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(d.relational,i))};W.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(d.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(d.arrow)):this.finishOp(t===61?d.eq:d.prefix,1)};W.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(d.questionDot,2)}if(e===63){if(t>=12){var s=this.input.charCodeAt(this.pos+2);if(s===61)return this.finishOp(d.assign,3)}return this.finishOp(d.coalesce,2)}}return this.finishOp(d.question,1)};W.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),li(e,!0)||e===92))return this.finishToken(d.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+qi(e)+"'")};W.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(d.parenL);case 41:return++this.pos,this.finishToken(d.parenR);case 59:return++this.pos,this.finishToken(d.semi);case 44:return++this.pos,this.finishToken(d.comma);case 91:return++this.pos,this.finishToken(d.bracketL);case 93:return++this.pos,this.finishToken(d.bracketR);case 123:return++this.pos,this.finishToken(d.braceL);case 125:return++this.pos,this.finishToken(d.braceR);case 58:return++this.pos,this.finishToken(d.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(d.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(d.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+qi(t)+"'")};W.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};W.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var s=this.input.charAt(this.pos);if(at.test(s)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(s==="[")e=!0;else if(s==="]"&&e)e=!1;else if(s==="/"&&!e)break;t=s==="\\"}++this.pos}var o=this.input.slice(i,this.pos);++this.pos;var c=this.pos,l=this.readWord1();this.containsEsc&&this.unexpected(c);var f=this.regexpState||(this.regexpState=new jt(this));f.reset(i,o,l),this.validateRegExpFlags(f),this.validateRegExpPattern(f);var h=null;try{h=new RegExp(o,l)}catch{}return this.finishToken(d.regexp,{pattern:o,flags:l,value:h})};W.readInt=function(t,e,i){for(var s=this.options.ecmaVersion>=12&&e===void 0,o=i&&this.input.charCodeAt(this.pos)===48,c=this.pos,l=0,f=0,h=0,_=e==null?1/0:e;h<_;++h,++this.pos){var x=this.input.charCodeAt(this.pos),b=void 0;if(s&&x===95){o&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),f===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),h===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),f=x;continue}if(x>=97?b=x-97+10:x>=65?b=x-65+10:x>=48&&x<=57?b=x-48:b=1/0,b>=t)break;f=x,l=l*t+b}return s&&f===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===c||e!=null&&this.pos-c!==e?null:l};function iP(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}r(iP,"stringToNumber");function gE(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}r(gE,"stringToBigInt");W.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=gE(this.input.slice(e,this.pos)),++this.pos):li(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(d.num,i)};W.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var s=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&s===110){var o=gE(this.input.slice(e,this.pos));return++this.pos,li(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(d.num,o)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),s===46&&!i&&(++this.pos,this.readInt(10),s=this.input.charCodeAt(this.pos)),(s===69||s===101)&&!i&&(s=this.input.charCodeAt(++this.pos),(s===43||s===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),li(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var c=iP(this.input.slice(e,this.pos),i);return this.finishToken(d.num,c)};W.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};W.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var s=this.input.charCodeAt(this.pos);if(s===t)break;s===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):s===8232||s===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(zs(s)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(d.string,e)};var wE={};W.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===wE)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};W.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw wE;this.raise(t,e)};W.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===d.template||this.type===d.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(d.dollarBraceL)):(++this.pos,this.finishToken(d.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(d.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(zs(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};W.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(d.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};W.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return qi(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var s=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],o=parseInt(s,8);return o>255&&(s=s.slice(0,-1),o=parseInt(s,8)),this.pos+=s.length-1,e=this.input.charCodeAt(this.pos),(s!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-s.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(o)}return zs(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};W.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};W.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,s=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=this.fullCharCodeAtPos();if(Ks(o,s))this.pos+=o<=65535?1:2;else if(o===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var c=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(e?li:Ks)(l,s)||this.invalidStringToken(c,"Invalid Unicode escape"),t+=qi(l),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};W.readWord=function(){var t=this.readWord1(),e=d.name;return this.keywords.test(t)&&(e=gw[t]),this.finishToken(e,t)};var rP="8.12.1";xe.acorn={Parser:xe,version:rP,defaultOptions:xw,Position:kd,SourceLocation:_g,getLineInfo:jk,Node:yg,TokenType:$,tokTypes:d,keywordTypes:gw,TokContext:St,tokContexts:oe,isIdentifierChar:Ks,isIdentifierStart:li,Token:Ew,isNewLine:zs,lineBreak:at,lineBreakG:CC,nonASCIIwhitespace:Gk};function TE(t,e){return xe.parse(t,e)}r(TE,"parse");var vE={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var sP="Utils",Cw,L=class{static load(e){Cw=e}static get shim(){if(!Cw)throw new Error("Platform is not loaded");return Cw}};r(L,"Platform");var g=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=L.shim.info.version}};r(g,"InnertubeError");var Xe=class extends g{};r(Xe,"ParsingError");var Ad=class extends g{};r(Ad,"MissingParamError");var gg=class extends g{};r(gg,"OAuth2Error");var kt=class extends Error{};r(kt,"PlayerError");var Nr=class extends Error{};r(Nr,"SessionError");var Os=class extends Error{};r(Os,"ChannelError");function Od(t,e){return Reflect.ownKeys(t).some(s=>{let o=e[s]instanceof a;return!o&&typeof e[s]=="object"?JSON.stringify(t[s])===JSON.stringify(e[s]):t[s]===(o?e[s].toString():e[s])})}r(Od,"deepCompare");function We(t,e,i){let s=new RegExp(`${Pw(e)}(.*?)${Pw(i)}`,"s"),o=t.match(s);return o?o[1]:void 0}r(We,"getStringBetweenStrings");function Pw(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}r(Pw,"escapeStringRegexp");function Rd(t){let e=vE[t],i=Math.floor(Math.random()*e.length);return e[i]}r(Rd,"getRandomUserAgent");async function oP(t){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),s=[i,t,e].join(" "),o=await L.shim.sha1Hash(s);return["SAPISIDHASH",[i,o].join("_")].join(" ")}r(oP,"generateSidAuth");function zi(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let s=0;s<t;s++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}r(zi,"generateRandomString");function be(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}r(be,"timeToSeconds");function aw(...t){let e=new di;for(let i of t)if(!!i)for(let s of i){let o=e.get(s[0]);if(o){e.set(s[0],[...o,...s[1]]);continue}e.set(...s)}return e}r(aw,"concatMemos");function Js(t){for(let[e,i]of Object.entries(t))if(!i)throw new Ad(`${e} is missing`)}r(Js,"throwIfMissing");function nP(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}r(nP,"hasKeys");async function*Ng(t){let e=t.getReader();try{for(;;){let{done:i,value:s}=await e.read();if(i)return;yield s}}finally{e.releaseLock()}}r(Ng,"streamToIterable");var aP=r((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),s=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,o=[...s],c=e!=null&&e.body?typeof e.body=="string"?s.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",l=o.length>0?`${o.map(([f,h])=>`    ${f}: ${h}`).join(`
`)}`:"    (none)";return Kt(sP,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${l}
' + 
    '  body:
${c}`),L.shim.fetch(t,e)},"debugFetch");function Jt(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}r(Jt,"u8ToBase64");function so(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),i=e.padEnd(e.length+(4-e.length%4)%4,"=");return new Uint8Array(atob(i).split("").map(s=>s.charCodeAt(0)))}r(so,"base64ToU8");function Le(t){return!("emoji"in t)}r(Le,"isTextRun");function cP(t,e,i=!1){let s=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,o=t.match(new RegExp(s));return o?o[2]:void 0}r(cP,"getCookie");function Md(t,e){return TE(t,{ecmaVersion:2020,...e})}r(Md,"parseScript");function Xi(t,e){let{name:i,includes:s,regexp:o,ast:c}=e,f=[c||Md(t,{ecmaVersion:2020})];for(let h=0;h<f.length;h++){let _=f[h];if(_.type==="ExpressionStatement"&&_.expression.type==="AssignmentExpression"&&_.expression.left.type==="Identifier"&&_.expression.right.type==="FunctionExpression"){let x=t.substring(_.start,_.end);if(i&&_.expression.left.name===i||s&&x.includes(s)||o&&o.test(x))return{start:_.start,end:_.end,name:_.expression.left.name,node:_,result:x}}for(let x in _){let b=_[x];Array.isArray(b)?f.push(...b):typeof b=="object"&&b!==null&&f.push(b)}}}r(Xi,"findFunction");function Ar(t,e){let i=e.ast?e.ast:Md(t,{ecmaVersion:"latest",ranges:!0}),s;function o(c){var l,f,h;if(!s){if(c.type==="VariableDeclaration"){let[_,x]=c.range,b=t.slice(_,x);for(let w of c.declarations)if(w.id.type==="Identifier"){let v=w.id.name;if(e.name&&v===e.name){s={start:_,end:x,name:v,node:c,result:b};return}}if(e.includes&&b.includes(e.includes)||e.regexp&&e.regexp.test(b)){s={start:_,end:x,name:(h=(f=(l=c.declarations)==null?void 0:l[0])==null?void 0:f.id)==null?void 0:h.name,node:c,result:b};return}}for(let _ in c)if(Object.prototype.hasOwnProperty.call(c,_)){let x=c[_];if(Array.isArray(x)){for(let b of x)if(b&&typeof b.type=="string"&&(o(b),s))return}else if(x&&typeof x.type=="string"&&(o(x),s))return}}}return r(o,"walk"),o(i),s}r(Ar,"findVariable");async function Nw(t){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(s){let o=new Uint8Array(s),c=[];for(let l=0;l<o.length;++l)c.push(e[o[l]]);return c.join("")}return r(i,"hex"),i(await crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))}r(Nw,"sha1Hash");var Ld,IE,SE,kE,wg=class{constructor(e){Ld.add(this),this.session=e}async stats(e,i,s){let o=new URL(e);o.searchParams.set("ver","2"),o.searchParams.set("c",i.client_name.toLowerCase()),o.searchParams.set("cbrver",i.client_version),o.searchParams.set("cver",i.client_version);for(let c of Object.keys(s))o.searchParams.set(c,s[c]);return await this.session.http.fetch(o)}async execute(e,i){var l,f;let s;if(i&&!i.protobuf){if(s={...i},Reflect.has(s,"browseId")&&!i.skip_auth_check&&u(this,Ld,"m",kE).call(this,s.browseId)&&!this.session.logged_in)throw new g("You must be signed in to perform this operation.");Reflect.has(s,"skip_auth_check")&&delete s.skip_auth_check,Reflect.has(s,"override_endpoint")&&delete s.override_endpoint,Reflect.has(s,"parse")&&delete s.parse,Reflect.has(s,"request")&&delete s.request,Reflect.has(s,"clientActions")&&delete s.clientActions,Reflect.has(s,"settingItemIdForClient")&&delete s.settingItemIdForClient,Reflect.has(s,"action")&&(s.actions=[s.action],delete s.action),Reflect.has(s,"boolValue")&&(s.newValue={boolValue:s.boolValue},delete s.boolValue),Reflect.has(s,"token")&&(s.continuation=s.token,delete s.token),(s==null?void 0:s.client)==="YTMUSIC"&&(s.isAudioOnly=!0)}else i&&(s=i.serialized_data);let o=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,c=await this.session.http.fetch(o,{method:"POST",body:i!=null&&i.protobuf?s:JSON.stringify(s||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let h=p.parseResponse(await c.json());if(u(this,Ld,"m",SE).call(this,h)&&((f=(l=h.on_response_received_actions)==null?void 0:l[0])==null?void 0:f.type)==="navigateAction"){let _=h.on_response_received_actions.firstOfType(Bi);_&&(h=await _.endpoint.call(this,{parse:!0}))}return h}return u(this,Ld,"m",IE).call(this,c)}};r(wg,"Actions");Ld=new WeakSet,IE=r(async function(e){return{success:e.ok,status_code:e.status,data:JSON.parse(await e.text())}},"_Actions_wrap"),SE=r(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),kE=r(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var Aw=wg;var Ye="Player",Ke=class{constructor(e,i,s,o,c){this.player_id=e,this.sts=i,this.nsig_sc=c,this.sig_sc=o,this.evaluator=s}static async create(e,i,s=L.shim.fetch,o){let c=new URL("/iframe_api",te.URLS.YT_BASE),l=await s(c);if(!l.ok)throw new kt(`Failed to get player id: ${l.status} (${l.statusText})`);let f=await l.text(),h=We(f,"player\\/","\\/");if(D.info(Ye,`Got player id (${h}). Checking for cached players..`),!h)throw new kt("Failed to get player id");if(e){let O=await Ke.fromCache(e,h,i);if(O)return D.info(Ye,"Found up-to-date player data in cache."),O.po_token=o,O}let _=new URL(`/s/player/${h}/player_ias.vflset/en_US/base.js`,te.URLS.YT_BASE);D.info(Ye,`Could not find any cached player. Will download a new player from ${_}.`);let x=await s(_,{headers:{"user-agent":Rd("desktop")}});if(!x.ok)throw new kt(`Failed to get player data: ${x.status}`);let b=await x.text(),w=Md(b,{ecmaVersion:"latest",ranges:!0}),v=this.extractSigTimestamp(b),I=this.extractGlobalVariable(b,w),k=this.extractSigSourceCode(b,I),C=this.extractNSigSourceCode(b,w,I);D.info(Ye,`Got signature timestamp (${v}) and algorithms needed to decipher signatures.`),D.info(Ye,k),D.info(Ye,C);let E=await Ke.fromSource(h,v,i,e,k,C);return E.po_token=o,D.info(Ye,`Got ptoken (${o})`),E}async decipher(e,i,s,o){if(e=e||i||s,!e)throw new kt("No valid URL to decipher");let c=new URLSearchParams(e),l=new URL(c.get("url")||e);if(this.sig_sc&&(i||s)){let x=await this.evaluator(this.sig_sc,{sig:c.get("s")});if(D.info(Ye,`Transformed signature from ${c.get("s")} to ${x}.`),typeof x!="string")throw new kt("Failed to decipher signature");let b=c.get("sp");b?l.searchParams.set(b,x):l.searchParams.set("signature",x)}let f=l.searchParams.get("n");if(this.nsig_sc&&f){let x;if(o&&o.has(f))x=o.get(f);else{if(x=await this.evaluator(this.nsig_sc,{nsig:f}),D.info(Ye,`Transformed n signature from ${f} to ${x}.`),f===x&&(D.info(Ye,this.nsig_sc),D.warn(Ye,"Nsig was not transformed. This is likely a sign that the player has been updated.")),typeof x!="string")throw new kt("Failed to decipher nsig");x.startsWith("enhanced_except_")?D.warn(Ye,"Something went wrong while deciphering nsig."):o&&o.set(f,x)}l.searchParams.set("n",x)}switch(l.searchParams.get("sabr")!=="1"&&this.po_token&&l.searchParams.set("pot",this.po_token),l.searchParams.get("c")){case"WEB":l.searchParams.set("cver",te.CLIENTS.WEB.VERSION);break;case"MWEB":l.searchParams.set("cver",te.CLIENTS.MWEB.VERSION);break;case"WEB_REMIX":l.searchParams.set("cver",te.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":l.searchParams.set("cver",te.CLIENTS.WEB_KIDS.VERSION);break;case"TVHTML5":l.searchParams.set("cver",te.CLIENTS.TV.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":l.searchParams.set("cver",te.CLIENTS.TV_EMBEDDED.VERSION);break;case"WEB_EMBEDDED_PLAYER":l.searchParams.set("cver",te.CLIENTS.WEB_EMBEDDED.VERSION);break}let _=l.toString();return D.info(Ye,`Deciphered URL: ${_}`),l.toString()}static async fromCache(e,i,s){let o=await e.get(i);if(!o)return null;let c=new DataView(o);if(c.getUint32(0,!0)!==Ke.LIBRARY_VERSION)return null;let f=c.getUint32(4,!0),h=c.getUint32(8,!0),_=o.slice(12,12+h),x=o.slice(12+h),b=ht.decompress(new TextDecoder().decode(_)),w=ht.decompress(new TextDecoder().decode(x));return new Ke(i,f,s,b,w)}static async fromSource(e,i,s,o,c,l){let f=new Ke(e,i,s,c,l);return await f.cache(o),f}async cache(e){if(!e||!this.sig_sc||!this.nsig_sc)return;let i=new TextEncoder,s=i.encode(ht.compress(this.sig_sc)),o=i.encode(ht.compress(this.nsig_sc)),c=new ArrayBuffer(12+s.byteLength+o.byteLength),l=new DataView(c);l.setUint32(0,Ke.LIBRARY_VERSION,!0),l.setUint32(4,this.sts,!0),l.setUint32(8,s.byteLength,!0),new Uint8Array(c).set(s,12),new Uint8Array(c).set(o,12+s.byteLength),await e.set(this.player_id,c)}static extractSigTimestamp(e){return parseInt(We(e,"signatureTimestamp:",",")||"0")}static extractGlobalVariable(e,i){let s=Ar(e,{includes:"-_w8_",ast:i});return s||(s=Ar(e,{includes:"Untrusted URL{",ast:i})),s||(s=Ar(e,{includes:"1969",ast:i})),s||(s=Ar(e,{includes:"1970",ast:i})),s||(s=Ar(e,{includes:"playerfallback",ast:i})),s}static fixSource(e){return e=e.replace(/if\(typeof [a-zA-Z0-9_$]*===.*?\)return [a-zA-Z0-9_$]*;/g,""),e}static extractSigSourceCode(e,i){var f;let s=e.match(/function\(([A-Za-z_0-9]+)\)\{([A-Za-z_0-9]+=[A-Za-z_0-9]+\.split\((?:[^)]+)\)(.+?)\.join\((?:[^)]+)\))\}/);if(!s){D.warn(Ye,"Failed to extract signature decipher algorithm.");return}let o=s[1],c=(f=s[3].split(/\.|\[/)[0])==null?void 0:f.replace(";","").trim(),l=We(e,`var ${c}={`,"};");return(!l||!o)&&D.warn(Ye,"Failed to extract signature decipher algorithm."),`function sig_fn(sig) {${(i==null?void 0:i.result)||""} function descramble_sig(${o}) { let ${c}={${l}}; ${s[2]} } return descramble_sig(sig);}`}static extractNSigSourceCode(e,i,s){let o;if(s&&(o=Xi(e,{includes:`new Date(${s.name}`,ast:i}),o||(o=Xi(e,{includes:".push(String.fromCharCode(",ast:i})),o||(o=Xi(e,{includes:".reverse().forEach(function",ast:i})),o))return`function nsig_fn(nsig) {${s.result} var ${this.fixSource(o.result)} return ${o.name}(nsig);}`;if(o=Xi(e,{includes:"-_w8_",ast:i}),o||(o=Xi(e,{includes:"1969",ast:i})),o||(o=Xi(e,{includes:"enhanced_except",ast:i})),o)return`function nsig_fn(nsig) {let ${this.fixSource(o.result)} return ${o.name}(nsig);}`}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,te.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 14}};r(Ke,"Player");var pt=class{constructor(e){this.listenerBind=this.listener.bind(this),this.listeners=new Map;let i=window.location.origin,s=new URL(e).origin;if(i===s)throw new Error("Current frame must not share same origin as the runner frame");this.runnerFrame=document.createElement("iframe"),this.runnerFrame.credentialless=!0,this.runnerFrame.src=e,this.runnerFrame.style.display="none",document.body.appendChild(this.runnerFrame),window.addEventListener("message",this.listenerBind),this.readyPromise=new Promise(o=>{this.runnerFrame.addEventListener("load",()=>{o(),this.emit("ready")})}),this.timeout=null}async load(){return this.readyPromise}on(e,i){var s;this.listeners.has(e)||this.listeners.set(e,[]),(s=this.listeners.get(e))==null||s.push(i)}off(e,i){var c;if(!this.listeners.has(e))return;let s=this.listeners.get(e),o=(c=s==null?void 0:s.indexOf(i))!=null?c:-1;o!==-1&&(s==null||s.splice(o,1))}emit(e,...i){var o;if(!this.listeners.has(e))return;let s=(o=this.listeners.get(e))!=null?o:[];for(let c of s)c(...i)}setTimeout(e){this.timeout&&clearTimeout(this.timeout),e&&(this.timeout=window.setTimeout(()=>{this.close()},e))}listener(e){var i;e.source===((i=this.runnerFrame)==null?void 0:i.contentWindow)&&(e.data.type==="sandboxResult"?this.emit("result",e.data.result):e.data.type==="sandboxError"&&this.emit("error",e.data.error))}close(){!this.runnerFrame||(this.runnerFrame.remove(),window.removeEventListener("message",this.listenerBind),this.timeout&&clearTimeout(this.timeout),this.emit("close"))}async evaluate(e,i=[],s=[]){var o;return await this.readyPromise,(o=this.runnerFrame.contentWindow)==null||o.postMessage({type:"sandboxEvaluate",body:e,argNames:i,argValues:s},"*"),new Promise((c,l)=>{let f=null,h=null,_=null,x=r(()=>{f&&this.off("result",f),h&&this.off("error",h),_&&this.off("close",_)},"cleanup");f=r(b=>{x(),c(b)},"resultHandler"),h=r(b=>{x(),l(b)},"errorHandler"),_=r(()=>{x(),l(new Error("SandboxedEvaluator closed"))},"closeHandler"),this.on("result",f),this.on("error",h),this.on("close",_)})}static async evaluateOnce(e,i,s,o,c=5e3){let l=new pt(e);c&&l.setTimeout(c);try{let f=await l.evaluate(i,s,o);return l.close(),f}catch(f){throw l.close(),f}}static extractFnBodyAndArgs(e){let i=e.substring(e.indexOf("{")+1,e.lastIndexOf("}")),s=e.substring(e.indexOf("(")+1,e.indexOf(")")).split(",").map(o=>o.trim());return{body:i,argNames:s}}static matchArgValues(e,i){return e.map(s=>{if(!!Object.hasOwn(i,s))return i[s]})}};r(pt,"SandboxedEvaluator");var EE="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36(KHTML, like Gecko)",Et=class{static base64ToU8(e){let i={"-":"+",_:"/",".":"="},s;return/[-_.]/g.test(e)?s=e.replace(/[-_.]/g,c=>i[c]):s=e,s=atob(s),new Uint8Array([...s].map(c=>c.charCodeAt(0)))}static u8ToBase64(e,i=!1){let s=btoa(String.fromCharCode(...e));return i?s.replace(/\+/g,"-").replace(/\//g,"_"):s}static async createChallenge(e,i,s,o){let c=[i];s&&c.push(s);let l=await e(te.URLS.YT_IT_BASE+te.URLS.YT_IT_CREATE,{method:"POST",headers:{"Content-Type":"application/json+protobuf","User-Agent":EE,"x-goog-api-key":o,"x-user-agent":"grpc-web-javascript/0.1"},body:JSON.stringify(c)});if(!l.ok)throw new Error(`Failed to fetch: ${l.status}`);let f=await l.json();if(f.length>1&&f[1]){let h=Et.parseChallenge(f[1]);if(h)return h}}static b64ToBuf(e){let i=Et.base64ToU8(e);return i.length?new TextDecoder().decode(i.map(s=>s+97)):""}static stringToB64(e){let i=new TextEncoder().encode(e);return i=i.map(s=>s-97),Et.u8ToBase64(i)}static parseChallenge(e){let i=Et.b64ToBuf(e);if(i.length){let[s,o,,c,l,f]=JSON.parse(i);return{script:o,interpreterHash:c,globalName:f,challenge:l,messageId:s}}}static getFn1(){let e='(n){return(async()=>{const r=window[n.globalName];if(!r)throw new Error("V not found");const o={fn1:null,fn2:null,fn3:null,fn4:null};if(!r.a)throw new Error("Init failed");try{await r.a(n.challenge,(function(n,r,t,f){o.fn1=n,o.fn2=r,o.fn3=t,o.fn4=f}),!0,void 0,((...n)=>{}))}catch(n){throw new Error("Failed to load")}if(!o.fn1)throw new Error("fn1 unavailable.");let t=null;const f=[];if(await o.fn1((n=>{t=n}),[,,f]),!t)throw new Error("[BG]: No response");if(!f.length)throw new Error("No ppf");return window.ppf=f,t})()}';return pt.extractFnBodyAndArgs(e)}static getFn2(){let e='(r,e){const t=window.ppf[0];if(!t)throw new Error("PP:Undefined");return(async()=>{const n=await t((r=>{const e={"-":"+",_:"/",".":"="};let t;return t=/[-_.]/g.test(r)?r.replace(/[-_.]/g,(r=>e[r])):r,t=atob(t),new Uint8Array([...t].map((r=>r.charCodeAt(0))))})(r));if("function"!=typeof n)throw new Error("PP:failed");const o=((r,e=!1)=>{const t=btoa(String.fromCharCode(...r));return e?t.replace(/\\+/g,"-").replace(/\\//g,"_"):t})(await n((new TextEncoder).encode(e)),!0);if(o.length>80)return o;throw new Error("PT too small")})()}';return pt.extractFnBodyAndArgs(e.toString())}static async getPot(e=L.shim.fetch,i,s,o,c,l=!1){o||(o=te.URLS.API.KEY2),c||(c=te.URLS.API.KEY),s||(s=Qt.encodeVisitorData(oo.generateRandomString(11),Math.floor(Date.now()/1e3)));let f=new pt(i),h=null,_=null,x=null;try{l||f.setTimeout(5e3),await f.load(),l||f.setTimeout(null);let b=await Et.createChallenge(e,o,null,c);if(!b)throw new Error("C is incorrect");if(!b.script)throw new Error("CS is bad");let w=b.script.find(M=>M!==null);if(!w)throw new Error("CS is null");l||f.setTimeout(5e3),await f.evaluate(w,[],[]),l||f.setTimeout(5e3);let v=this.getFn1(),I=await f.evaluate(v.body,v.argNames,[b]);l||f.setTimeout(null);let k=[o,I],C=await e(te.URLS.YT_IT_BASE+te.URLS.YT_IT_GEN,{method:"POST",headers:{"Content-Type":"application/json+protobuf","x-goog-api-key":c,"x-user-agent":"grpc-web-javascript/0.1","User-Agent":EE,Accept:"*/*"},body:JSON.stringify(k)});if(!C.ok)throw new Error("It failed");let E=await C.json();if(!E.length||!E[0])throw new Error("It none");let O=E[0];_=E[1],x=E[2],l||f.setTimeout(5e3);let z=this.getFn2();h=await f.evaluate(z.body,z.argNames,[O,s]),l||f.close()}catch(b){throw l||f.close(),b}return{pot:h,vd:s,requestToken:o,ttl:_,refresh:x}}};r(Et,"BGUtils");var Mr,PE,NE,AE,CE,Tg;(function(t){t.WEB="WEB",t.MWEB="MWEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV="TVHTML5",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER",t.WEB_EMBEDDED="WEB_EMBEDDED_PLAYER",t.WEB_CREATOR="WEB_CREATOR"})(Tg||(Tg={}));var Rr="Session",Bd=class extends to{constructor(e,i,s,o,c,l,f,h,_){super(),this.http=new Mg(this,l,f),this.actions=new Aw(this),this.logged_in=!!l,this.cache=h,this.account_index=o,this.key=i,this.api_version=s,this.context=e,this.player=c,this.po_token=_,this.cookie=l,this.user_agent=e.client.userAgent}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static async create(e){let{context:i,api_key:s,api_version:o,account_index:c}=await Mr.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.user_agent,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache),l=e.runner_location;if(e.client_type===Tg.WEB){let h=localStorage.getItem("yt_tkn"),_,x,b=0,w=0;if(h){let v=JSON.parse(h);v.length>0&&(_=v[0],x=v[1],b=v[2],w=v[3])}if(!_||!x||x!==i.client.visitorData||!b||!w||w+b*1e3<Date.now())try{let v=await Et.getPot(e.fetch,l,i.client.visitorData);_=v.pot,x=v.vd,b=v.ttl,w=Date.now(),localStorage.setItem("yt_tkn",JSON.stringify([_,x,b,w]))}catch(v){D.error(Rr,"Failed to get PoT",v)}_&&(e.po_token=_)}let f=new Map;return e.evaluator=async(h,_)=>{let x=`${h}|${JSON.stringify(_)}`,b=f.get(x);if(b)return await b;let w=pt.extractFnBodyAndArgs(h),v=pt.evaluateOnce(l,w.body,w.argNames,Object.values(_));f.set(x,v);try{return await v}catch(I){console.log(h),console.error("Failed to fetch params"),console.error(I)}},new Mr(i,s,o,c,e.retrieve_player===!1?void 0:await Ke.create(e.cache,e.evaluator,e.fetch,e.po_token),e.cookie,e.fetch,e.cache,e.po_token)}static async fromCache(e,i){let s=await e.get("innertube_session_data");if(!s)return null;let o=new TextDecoder().decode(s.slice(4));try{let c=JSON.parse(ht.decompress(o));return i.visitor_data&&(c.context.client.visitorData=i.visitor_data),i.lang&&(c.context.client.hl=i.lang),i.location&&(c.context.client.gl=i.location),i.on_behalf_of_user&&(c.context.user.onBehalfOfUser=i.on_behalf_of_user),i.user_agent&&(c.context.client.userAgent=i.user_agent),c.context.client.timeZone=i.time_zone,c.context.client.platform=i.device_category.toUpperCase(),c.context.client.clientName=i.client_name,c.context.user.enableSafetyMode=i.enable_safety_mode,c}catch(c){return D.error(Rr,"Failed to parse session data from cache.",c),null}}static async getSessionData(e="",i="",s=0,o="",c=Rd("desktop"),l=!1,f=!1,h="desktop",_=Tg.WEB,x=Intl.DateTimeFormat().resolvedOptions().timeZone,b=L.shim.fetch,w,v,I=!0){let k={lang:e,location:i,time_zone:x,user_agent:c,device_category:h,client_name:_,enable_safety_mode:l,visitor_data:o,on_behalf_of_user:w},C;if(v&&I){let E=await this.fromCache(v,k);E&&(D.info(Rr,"Found session data in cache."),C=E)}if(!C){D.info(Rr,"Generating session data.");let E=U.WEB.API_KEY,O=U.WEB.API_VERSION,z={hl:e||"en",gl:i||"US",remote_host:"",user_agent:c,visitor_data:o||Qt.encodeVisitorData(zi(11),Math.floor(Date.now()/1e3)),client_name:_,client_version:U.WEB.VERSION,device_category:h.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:x,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:l};if(!f)try{let M=await u(this,Mr,"m",NE).call(this,k,b);E=M.api_key,O=M.api_version,z=M.context_data}catch(M){D.error(Rr,"Failed to retrieve session data from server. Session data generated locally will be used instead.",M)}w&&(z.on_behalf_of_user=w),C={api_key:E,api_version:O,context:u(this,Mr,"m",AE).call(this,z)},I&&await u(this,Mr,"m",PE).call(this,C,v)}return D.debug(Rr,"Session data:",C),{...C,account_index:s}}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};r(Bd,"Session");Mr=Bd,PE=r(async function(e,i){if(!i)return;D.info(Rr,"Compressing and caching session data.");let s=new TextEncoder().encode(ht.compress(JSON.stringify(e))),o=new ArrayBuffer(4+s.byteLength);new DataView(o).setUint32(0,s.byteLength,!0),new Uint8Array(o).set(s,4),await i.set("innertube_session_data",o)},"_Session_storeSession"),NE=r(async function(e,i=L.shim.fetch){let s=zi(11);e.visitor_data&&(s=u(this,Mr,"m",CE).call(this,e.visitor_data));let o=new URL("/sw.js_data",Fe.YT_BASE),c=await i(o,{headers:{"Accept-Language":e.lang||"en-US","User-Agent":e.user_agent,Accept:"*/*",Referer:`${Fe.YT_BASE}/sw.js`,Cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${s};`}});if(!c.ok)throw new Nr(`Failed to retrieve session data: ${c.status}`);let l=await c.text();if(!l.startsWith(")]}'"))throw new Nr("Invalid JSPB response");let h=JSON.parse(l.replace(/^\)\]\}'/,""))[0][2],_=U.WEB.API_VERSION,[[x],b]=h,w=x[61],v=w[w.length-1];return{context_data:{hl:e.lang||x[0],gl:e.location||x[2],remote_host:x[3],visitor_data:e.visitor_data||x[13],user_agent:e.user_agent,client_name:e.client_name,client_version:x[16],os_name:x[17],os_version:x[18],time_zone:x[79]||e.time_zone,device_category:e.device_category,browser_name:x[86],browser_version:x[87],device_make:x[11],device_model:x[12],app_install_data:v,enable_safety_mode:e.enable_safety_mode},api_key:b,api_version:_}},"_Session_getSessionData"),AE=r(function(e){let i={client:{hl:e.hl||"en",gl:e.gl||"US",remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,userAgent:e.user_agent,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:Fe.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",mainAppWebInfo:{graftUrl:Fe.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(i.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},"_Session_buildContext"),CE=r(function(e){return Qt.decodeVisitorData(e).id},"_Session_getVisitorID");var Rw=Bd;var Lr,vg=class extends Ds{constructor(e,i,s,o){var c;if(super(e,i,s),Lr.set(this,void 0),o){let l=p.parseResponse(o.data);l.entries&&(this.watch_next_feed=l.entries),l.continuation_endpoint&&S(this,Lr,(c=l.continuation_endpoint)==null?void 0:c.as(si),"f")}}async getWatchNextContinuation(){var i;if(!u(this,Lr,"f"))throw new g("Continuation not found");let e=await this.actions.execute("/reel/reel_watch_sequence",{sequenceParams:u(this,Lr,"f").token,parse:!0});return e.entries&&(this.watch_next_feed=e.entries),S(this,Lr,(i=e.continuation_endpoint)==null?void 0:i.as(si),"f"),this}get wn_has_continuation(){return!!u(this,Lr,"f")}};r(vg,"ShortFormVideoInfo");Lr=new WeakMap;var Mw=vg;var $t,Zs=class{constructor(e){$t.set(this,void 0),S(this,$t,e,"f")}static async create(e){return new Zs(await Rw.create(e))}async getInfo(e,i){var w,v,I,k,C;Js({target:e});let s={videoId:e instanceof m?(w=e.payload)==null?void 0:w.videoId:e,playlistId:e instanceof m?(v=e.payload)==null?void 0:v.playlistId:void 0,playlistIndex:e instanceof m?(I=e.payload)==null?void 0:I.playlistIndex:void 0,params:e instanceof m?(k=e.payload)==null?void 0:k.params:void 0,racyCheckOk:!0,contentCheckOk:!0},o=new m({watchEndpoint:s}),c=new m({watchNextEndpoint:s}),l=u(this,$t,"f"),f={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(C=l.player)==null?void 0:C.sts}},client:i};l.po_token&&(f.serviceIntegrityDimensions={poToken:l.po_token});let h=o.call(l.actions,f),_=c.call(l.actions),x=await Promise.all([h,_]),b=zi(16);return new vd(x,l.actions,b)}async getBasicInfo(e,i){var h;Js({video_id:e});let s=new m({watchEndpoint:{videoId:e}}),o=u(this,$t,"f"),c={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(h=o.player)==null?void 0:h.sts}},client:i};o.po_token&&(c.serviceIntegrityDimensions={poToken:o.po_token});let l=await s.call(o.actions,c),f=zi(16);return new vd([l],o.actions,f)}async getShortsVideoInfo(e,i){Js({video_id:e});let s=new m({reelWatchEndpoint:{disablePlayerResponse:!1,params:"CAUwAg%3D%3D",videoId:e}}),o=u(this,$t,"f").actions,c=s.call(o,{client:i}),l=OT.encode({shortId:e,params:{number:5},feature2:25,feature3:0}),f=encodeURIComponent(Jt(l.finish())),h=o.execute("/reel/reel_watch_sequence",{sequenceParams:f}),_=await Promise.all([c,h]),x=zi(16);return new Mw([_[0]],o,x,_[1])}async getPlaylist(e){Js({id:e}),e.startsWith("VL")||(e=`VL${e}`);let s=await new m({browseEndpoint:{browseId:e}}).call(u(this,$t,"f").actions);return new Ws(this.actions,s)}async getStreamingData(e,i={}){let o=(await this.getBasicInfo(e,i==null?void 0:i.client)).chooseFormat(i);return o.url=await o.decipher(u(this,$t,"f").player),o}async download(e,i){return(await this.getBasicInfo(e,i==null?void 0:i.client)).download(i)}async resolveURL(e){let i=await this.actions.execute("/navigation/resolve_url",{url:e,parse:!0});if(!i.endpoint)throw new g("Failed to resolve URL. Expected a NavigationEndpoint but got undefined",i);return i.endpoint}async getAttestationChallenge(e,i){let s={engagementType:e};return i&&(s.ids=i),this.actions.execute("/att/get",{parse:!0,...s})}call(e,i){return e.call(this.actions,i)}get actions(){return u(this,$t,"f").actions}get session(){return u(this,$t,"f")}};r(Zs,"Innertube");$t=new WeakMap;var Lw=Zs;var RE={};var ME=Lw;var Dd,Ig,Sg,kg,pP="Cache",Eg=class{constructor(e=!1,i){Dd.add(this),Ig.set(this,void 0),Sg.set(this,void 0),S(this,Ig,i||"","f"),S(this,Sg,e,"f")}get cache_dir(){return u(this,Sg,"f")?u(this,Ig,"f"):""}async get(e){let i=await u(this,Dd,"m",kg).call(this);if(!!i)return new Promise((s,o)=>{let c=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);c.onerror=o,c.onsuccess=function(){var f;let l=(f=this.result)==null?void 0:f.v;l instanceof ArrayBuffer?s(l):ArrayBuffer.isView(l)?s(l.buffer):s(void 0)}})}async set(e,i){let s=await u(this,Dd,"m",kg).call(this);if(!!s)return new Promise((o,c)=>{let l=s.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});l.onerror=c,l.onsuccess=()=>o()})}async remove(e){let i=await u(this,Dd,"m",kg).call(this);if(!!i)return new Promise((s,o)=>{let c=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);c.onerror=o,c.onsuccess=()=>s()})}};r(Eg,"Cache");Ig=new WeakMap,Sg=new WeakMap,Dd=new WeakSet,kg=r(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,s)=>{let o=e.open("youtubei.js",1);o.onsuccess=function(){i(this.result)},o.onerror=function(c){s("indexedDB request error"),console.error(c)},o.onupgradeneeded=function(){let c=this.result.createObjectStore("kv-store",{keyPath:"k"});c.transaction.oncomplete=function(){i(this.db)}}}):Kt(pP,"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");L.load({runtime:"browser",server:!1,info:{version:"10.3.0",bugs_url:"https://github.com/LuanRT/YouTube.js/issues",repo_url:"https://github.com/LuanRT/YouTube.js"},Cache:Eg,sha1Hash:Nw,uuidv4(){var t;return(t=globalThis.crypto)!=null&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var Zke=ME;export{Lk as APIResponseTypes,Aw as Actions,Ae as AppendContinuationItemsAction,Tg as ClientType,te as Constants,xr as Continuation,si as ContinuationCommand,to as EventEmitter,tr as FormatUtils,Zg as Generator,As as GridContinuation,Mg as HTTPClient,Pg as Helpers,Lw as Innertube,ks as ItemSectionContinuation,ht as LZW,Di as LiveChatContinuation,D as Log,fw as Misc,cw as Mixins,Ps as MusicPlaylistShelfContinuation,Ns as MusicShelfContinuation,Bi as NavigateAction,p as Parser,L as Platform,Ke as Player,Rs as PlaylistPanelContinuation,Qt as ProtoUtils,Ce as ReloadContinuationItemsCommand,Cs as SectionListContinuation,Rw as Session,Es as ShowMiniplayerCommand,RE as Types,GE as UniversalCache,oo as Utils,uw as YT,mr as YTNodes,Zke as default};
