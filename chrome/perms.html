<!DOCTYPE html>
<html>

<head>
    <title>FastStream</title>
    <meta charset="utf-8" />
    <link rel="shortcut icon" type="image/png" href="./icon128.png" />
    <style>
        body {
            background-color: black;
            font-size: 15px;
        }

        #container {
            height: 100%;
            margin-left: auto;
            margin-right: auto;
            width: 75%;
            position: relative;
            font-family: Arial;
            padding-top: 15px;
        }

        #welcome {
            position: relative;
            left: 50%;
            transform: translate(-50%, 0%);
            display: inline-block;
            font-size: 40px;

        }

        .box {
            background-color: rgb(27, 27, 27);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            color: rgba(255, 255, 255, 0.8);
            padding: 10px 20px;
        }

        .center {
            text-align: center;
        }

        a {
            color: rgb(0, 200, 255);
        }

        .note {
            font-size: 12px;
        }

        .permstatus {
            display: none;
            color: white;
            padding: 2px 5px;
            border-radius: 2px;
            margin-left: 5px;
            user-select: none;
        }

        .permstatus.has-perms {
            background-color: green;
            display: inline-block;
        }

        .permstatus.no-perms {
            background-color: red;
            display: inline-block;
            cursor: pointer;
        }
    </style>
</head>

<body>

    <div id="container">

        <div id="welcome" class="box">Welcome to FastStream</div>

        <div class="box" style="margin-top: 20px">

            <h2 id="faststream" class="center">
                About the Permissions Required by FastStream
            </h2>

            <p>
                In order for the extension to function, it needs to be able to have certain permissions. These permissions are only used for basic functionality.</p>
            </p>

            <p>
                FastStream does not collect any data from you. It does not track you. It does not send any data to any
                servers. It does not even have a server to send data to.
            </p>

            <p>
                Don't trust me? FastStream has its source available on <a href="https://github.com/Andrews54757/FastStream" target="_blank">Github</a>. You can
                look through the code yourself, or manually install your very own custom build by following the instructions.
            </p>

            <h3>Breakdown of Permissions</h3>

            <p>Here is a breakdown of the permissions FastStream requires, and why it needs them.</p>
            <p class="note">Note: The linked examples may refer to an older version of the code, but the gist should be the same overall. The list is not exhaustive, items are ordered by importance.</p>
       
            <h4>Be able to access and modify all websites <span class="permstatus" data-perm="all-urls"></span></h4>
            <p>FastStream needs to be able to access all websites so that it can inject the player into the website directly. It injects a content script into websites you visit in order to:</p>
            <ul>
                <li>
                    Identify the largest visible video element to replace with the player.
                    <br><a href="https://github.com/Andrews54757/FastStream/blob/e465862c22219a1ffea4acc0cd2859a227e80a8b/chrome/content.js#L80-L132" target="_blank">content.js L80-L132</a>
                </li>
                <li>
                    Enable fullscreen permissions when the player is injected into a frame.
                    <br><a href="https://github.com/Andrews54757/FastStream/blob/e465862c22219a1ffea4acc0cd2859a227e80a8b/chrome/content.js#L28-L46" target="_blank">content.js L28-L46</a>
                </li>
                <li>
                    Scrape subtitle &lt;track&gt; elements from the page.
                    <br><a href="https://github.com/Andrews54757/FastStream/blob/e465862c22219a1ffea4acc0cd2859a227e80a8b/chrome/content.js#L55-L79" target="_blank">content.js L55-L79</a>
                </li>
            </ul>

            <h4>Access the webRequest API <span class="permstatus" data-perm="webRequest"></span></h4>
            <p>FastStream needs to be able to intercept HTTP requests to video sources in order to:</p>
            <ul>
                <li>
                    Identify video sources
                    <br><a href="https://github.com/Andrews54757/FastStream/blob/e465862c22219a1ffea4acc0cd2859a227e80a8b/chrome/background/background.mjs#L648-L671" target="_blank">background.mjs L648-L671</a>
                </li>
            </ul>

            <h4>Access the declarativeNetRequest API <span class="permstatus" data-perm="declarativeNetRequest"></span></h4>
            <p>FastStream needs to be able to modify HTTP headers of select requests in order to:</p>
            <ul>
                <li>
                    Override headers for video sources
                    <br><a href="https://github.com/Andrews54757/FastStream/blob/e465862c22219a1ffea4acc0cd2859a227e80a8b/chrome/background/NetRequestRuleManager.mjs#L64-L82" target="_blank">NetRequestRuleManager.mjs L64-L82</a>
                </li>
            </ul>

            <h4>Store data on your browser <span class="permstatus" data-perm="storage"></span></h4>
            <p>FastStream needs to be able to store data in your browser so that it can remember your settings.</p>
            <ul>
                <li>
                    General extension options.
                    <br><a href="https://github.com/Andrews54757/FastStream/blob/e465862c22219a1ffea4acc0cd2859a227e80a8b/chrome/background/background.mjs#L299-L333" target="_blank">background.mjs L299-L333</a>
                </li>
            </ul>

            <h4>Access the tabs API <span class="permstatus" data-perm="tabs"></span></h4>
            <p>FastStream needs to be able to send messages between players and content scripts in each tab.</p>
            <ul>
                <li>
                    Sending sources to players from the background script.
                    <br><a href="https://github.com/Andrews54757/FastStream/blob/e465862c22219a1ffea4acc0cd2859a227e80a8b/chrome/background/background.mjs#L422-L435" target="_blank">background.mjs L422-L435</a>
                </li>
            </ul>
        </div>
        <div class="center" style="font-size: 8px;color: rgba(255, 255, 255, 0.4)">Copyright Â© 2017-2023 Andrew S
            (Andrews54757@gmail.com)</div>
    </div>
    <script src="perms.mjs" charset="UTF-8" type="module"></script>
</body>

</html>